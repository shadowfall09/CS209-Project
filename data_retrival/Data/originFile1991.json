{"items":[{"tags":["java","spring-security","swagger"],"answers":[{"tags":[],"owner":{"account_id":14940155,"reputation":9,"user_id":10787087,"display_name":"vandemos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632817681,"creation_date":1632817681,"answer_id":69358257,"question_id":69358029,"body_markdown":"In `protected void configure(HttpSecurity httpSecurity)` do what you did with `&quot;/register&quot;` endpoint.","title":"How can i access my swagger-ui when using spring security","body":"<p>In <code>protected void configure(HttpSecurity httpSecurity)</code> do what you did with <code>&quot;/register&quot;</code> endpoint.</p>\n"}],"owner":{"account_id":19973170,"reputation":23,"user_id":14638165,"display_name":"Richard Mbabie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632817681,"creation_date":1632816676,"question_id":69358029,"body_markdown":"I&#39;m trying to get access to my swagger-ui but spring security keeps blocking it. How do I prevent this ?\r\n\r\nThis is the swagger configuration\r\n```\r\n@Configuration\r\npublic class SwaggerConfig  {\r\n\r\n    @Bean\r\n    public Docket api(){\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.safariwebstore008&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the webSecurity configuration\r\n```\r\n @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;,&quot;/authenticate&quot;).permitAll()\r\n                .antMatchers().hasAnyRole()\r\n                .anyRequest().authenticated().and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        httpSecurity.headers().frameOptions().disable();\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;);\r\n    }\r\n```","title":"How can i access my swagger-ui when using spring security","body":"<p>I'm trying to get access to my swagger-ui but spring security keeps blocking it. How do I prevent this ?</p>\n<p>This is the swagger configuration</p>\n<pre><code>@Configuration\npublic class SwaggerConfig  {\n\n    @Bean\n    public Docket api(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.safariwebstore008&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n<p>This is the webSecurity configuration</p>\n<pre><code> @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/register&quot;,&quot;/authenticate&quot;).permitAll()\n                .antMatchers().hasAnyRole()\n                .anyRequest().authenticated().and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n        httpSecurity.headers().frameOptions().disable();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;);\n    }\n</code></pre>\n"},{"tags":["java","mongodb","uml","erd","nosql"],"comments":[{"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"score":2,"creation_date":1593065213,"post_id":38616623,"comment_id":110649549,"body_markdown":"Does this answer your question? [Modeling Tool for NOSQL Databases](https://stackoverflow.com/questions/22835089/modeling-tool-for-nosql-databases)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22835089/modeling-tool-for-nosql-databases\">Modeling Tool for NOSQL Databases</a>"}],"answers":[{"tags":[],"owner":{"account_id":8820497,"reputation":217,"user_id":6590532,"display_name":"Salman Salman"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1469631750,"creation_date":1469631750,"answer_id":38616713,"question_id":38616623,"body_markdown":"I found a similar answer online, perhaps this will help:\r\n\r\n&gt; NoSQL databases approach modelling from a different point of view generally. NoSQL modelling usually begins with asking questions on how the data in the database is going to be queried, so the main modelling is &#39;what are the list of questions that I want to ask of my database&#39;, whereas with SQL databases, modelling usually is a function of what data you have, that is, what answers I have already.\r\n&gt; \r\n&gt; Once you have a list of questions, you then need to design a model\r\n&gt; that will answer those questions via the NoSQL database. To model it,\r\n&gt; I typically use Creately which is an online tool for visually\r\n&gt; representing models of various kinds.\r\n&gt; \r\n&gt; Another method could be to represent your NoSQL model in JSON format\r\n&gt; and then use the wonderful D3.js javascript library to create a\r\n&gt; data-driven document. See [this][1] website for more details and the\r\n&gt; templates available to visually represent your model.\r\n&gt; \r\n&gt; Hope it helps.\r\n\r\n\r\n  [1]: http://d3js.org/","title":"How to Draw UML Diagram for NoSql Like MongoDB?","body":"<p>I found a similar answer online, perhaps this will help:</p>\n\n<blockquote>\n  <p>NoSQL databases approach modelling from a different point of view generally. NoSQL modelling usually begins with asking questions on how the data in the database is going to be queried, so the main modelling is 'what are the list of questions that I want to ask of my database', whereas with SQL databases, modelling usually is a function of what data you have, that is, what answers I have already.</p>\n  \n  <p>Once you have a list of questions, you then need to design a model\n  that will answer those questions via the NoSQL database. To model it,\n  I typically use Creately which is an online tool for visually\n  representing models of various kinds.</p>\n  \n  <p>Another method could be to represent your NoSQL model in JSON format\n  and then use the wonderful D3.js javascript library to create a\n  data-driven document. See <a href=\"http://d3js.org/\" rel=\"noreferrer\">this</a> website for more details and the\n  templates available to visually represent your model.</p>\n  \n  <p>Hope it helps.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2927201,"reputation":338,"user_id":2508268,"display_name":"draco951"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632817595,"creation_date":1632817595,"answer_id":69358232,"question_id":38616623,"body_markdown":"Here is an interesting way to do it:\r\nhttps://dataedo.com/tutorials/how-to-create-er-diagram-for-mongodb\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pR1d.png\r\n\r\nUsing DrawIO to represent this is easy\r\nHow it Helps","title":"How to Draw UML Diagram for NoSql Like MongoDB?","body":"<p>Here is an interesting way to do it:\n<a href=\"https://dataedo.com/tutorials/how-to-create-er-diagram-for-mongodb\" rel=\"nofollow noreferrer\">https://dataedo.com/tutorials/how-to-create-er-diagram-for-mongodb</a></p>\n<p><a href=\"https://i.stack.imgur.com/3pR1d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3pR1d.png\" alt=\"enter image description here\" /></a></p>\n<p>Using DrawIO to represent this is easy\nHow it Helps</p>\n"}],"owner":{"account_id":8902372,"reputation":109,"user_id":6645420,"display_name":"nilay joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22331,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"closed_date":1632853158,"answer_count":2,"score":9,"last_activity_date":1632817595,"creation_date":1469631538,"question_id":38616623,"body_markdown":"I would like to know that can i draw UML diagrams for my web application which has back end  Mongodb?\r\n\r\nOr is there any other diagrams for NoSql?","title":"How to Draw UML Diagram for NoSql Like MongoDB?","body":"<p>I would like to know that can i draw UML diagrams for my web application which has back end  Mongodb?</p>\n\n<p>Or is there any other diagrams for NoSql?</p>\n"},{"tags":["java","xpages","lotus-notes","lotus-domino"],"answers":[{"tags":[],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1402491800,"creation_date":1402491800,"answer_id":24163689,"question_id":24157574,"body_markdown":"Short: don&#39;t.\r\nLong: the policy file will be overwritten on every install or upgrade. Create a java.pol file instead. Use LotusScript to deploy. Full instructions here: http://www.wissel.net/blog/d6plinks/SHWL-8JYAT5","title":"How to deploy java.policy changes in IBM Notes","body":"<p>Short: don't.\nLong: the policy file will be overwritten on every install or upgrade. Create a java.pol file instead. Use LotusScript to deploy. Full instructions here: <a href=\"http://www.wissel.net/blog/d6plinks/SHWL-8JYAT5\">http://www.wissel.net/blog/d6plinks/SHWL-8JYAT5</a></p>\n"}],"owner":{"account_id":3538561,"reputation":97,"user_id":2956256,"display_name":"Thorben Hellweg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24163689,"answer_count":1,"score":3,"last_activity_date":1632817429,"creation_date":1402473591,"question_id":24157574,"body_markdown":"In a recent project it was necessary to make adjustments to the java.policy of the IBM Notes Client (9.0.1). You may find the java.policy in a directory similar to:\r\n\r\n    C:\\Program Files\\IBM\\Domino\\jvm\\lib\\security\\\r\nI&#39;ve added the following line to the main grant{}-block:\r\n\r\n    permission java.lang.RuntimePermission &quot;getenv.TIKA_CONFIG&quot;;\r\n\r\nThis adjustment must be made to all customer-clients.\r\nMy question is:\r\n\r\nHow can I deploy these changes at the customers environment? Is there a IBM Domino configuration tool or something similar?  ","title":"How to deploy java.policy changes in IBM Notes","body":"<p>In a recent project it was necessary to make adjustments to the java.policy of the IBM Notes Client (9.0.1). You may find the java.policy in a directory similar to:</p>\n\n<pre><code>C:\\Program Files\\IBM\\Domino\\jvm\\lib\\security\\\n</code></pre>\n\n<p>I've added the following line to the main grant{}-block:</p>\n\n<pre><code>permission java.lang.RuntimePermission \"getenv.TIKA_CONFIG\";\n</code></pre>\n\n<p>This adjustment must be made to all customer-clients.\nMy question is:</p>\n\n<p>How can I deploy these changes at the customers environment? Is there a IBM Domino configuration tool or something similar?  </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1545230140,"post_id":53853186,"comment_id":94554231,"body_markdown":"What&#39;s the problem exactly? You don&#39;t know how to start a program stored in another directory?","body":"What&#39;s the problem exactly? You don&#39;t know how to start a program stored in another directory?"}],"answers":[{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545230747,"creation_date":1545230747,"answer_id":53853624,"question_id":53853186,"body_markdown":"Use the `-b` parameter(i.e. `--build-file`)\r\n\r\n    cd A\r\n    gradle -b ../B/build.gradle ","title":"Run gradle commands from other directory","body":"<p>Use the <code>-b</code> parameter(i.e. <code>--build-file</code>)</p>\n\n<pre><code>cd A\ngradle -b ../B/build.gradle \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1545245309,"creation_date":1545245309,"answer_id":53857466,"question_id":53853186,"body_markdown":"You should use the &quot;start directory&quot; parameter (`-p, --project-dir`  :  see [Environment options][1])\r\n\r\nI think the other available parameter `-b --build-file` could work as well, but its main usage is when your build script filename differs from default `build.gradle`. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/command_line_interface.html#environment_options","title":"Run gradle commands from other directory","body":"<p>You should use the \"start directory\" parameter (<code>-p, --project-dir</code>  :  see <a href=\"https://docs.gradle.org/current/userguide/command_line_interface.html#environment_options\" rel=\"noreferrer\">Environment options</a>)</p>\n\n<p>I think the other available parameter <code>-b --build-file</code> could work as well, but its main usage is when your build script filename differs from default <code>build.gradle</code>. </p>\n"},{"tags":[],"owner":{"account_id":1930728,"reputation":3657,"user_id":1740154,"display_name":"KANJICODER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558578370,"creation_date":1558578370,"answer_id":56267301,"question_id":53853186,"body_markdown":"This is harder than it looks.\r\nDispite setting different values for --project-dir , --gradle-user-home , --build-file\r\nNo matter what you do, when you &quot;println project.projectDir&quot; from your build.gradle\r\nscript it will ALWAYS report back the directory in which &quot;build.gradle&quot; lives.\r\n\r\nI wanted to re-arrange things in gradle because gradle pollutes your root directory\r\nwith a lot of junk! Uncle Bob of &quot;Clean Code&quot; (Robert C. Martin) would probably refer to this behavior as &quot;rude code&quot;.\r\n\r\nI finally figured it out after searching around all day.\r\nHere is my project structure:\r\n\r\n    &lt;root_folder&gt;\r\n     |\r\n     +--[ .git       ]\r\n     +--[ .gitignore ]\r\n     |\r\n     +--[-]src/main/java\r\n     |   |\r\n     |   +--Main.java\r\n     |\r\n     +--[-]RUN_ON_CMD\r\n         |\r\n         +--[-]Gradle\r\n             +--[ build.gradle ]\r\n             +--[ RUN.sh ]\r\n             |\r\n             +--[-]GENERATED\r\n             \r\n           \r\n.gitignore :\r\n--------------------------------------------------\r\n\r\n    GENERATED/\r\n\r\n--------------------------------------------------\r\n\r\nbuild.gradle :\r\n--------------------------------------------------\r\n\r\n    apply plugin: &#39;java&#39;                  \r\n    apply plugin: &#39;application&#39;    \r\n            \r\n    println &quot;[project.projectDir]:&quot;\r\n    println project.projectDir\r\n    mainClassName = &#39;Main&#39;\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                //:Because &quot;build.gradle&quot; lives in:\r\n                //:&lt;root&gt;\\RUN_ON_CMD\\Gradle\\GENERATED\\\r\n                srcDir &#39;../../../src/main/java&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n--------------------------------------------------\r\n\r\nRUN.sh\r\n--------------------------------------------------\r\n\r\n    build_gradle=$( realpath build.gradle )\r\n    echo $build_gradle\r\n    \r\n    current_directory=$( realpath &quot;.&quot; )\r\n    echo $current_directory\r\n    \r\n    generated=${current_directory}/&quot;GENERATED&quot;\r\n    echo $generated\r\n    \r\n    cp $build_gradle $generated/&quot;build.gradle&quot;\r\n    gradle run -b $generated/&quot;build.gradle&quot; -g $generated --no-daemon\r\n\r\n--------------------------------------------------\r\n\r\nmain.java\r\n--------------------------------------------------\r\n\r\n    public class \r\n    Main{\r\n        public static void \r\n        main( \r\n            String[] args\r\n        ){\r\n    \r\n            System.out.println(&quot;[MAIN]&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n--------------------------------------------------\r\n\r\nTo Run:\r\n--------------------------------------------------\r\nDo a &quot;**git bash here**&quot; inside the &quot;**Gradle**&quot; folder.\r\nThen type: \r\n\r\n&gt; ./RUN.sh\r\n\r\nAnd hit ENTER\r\n\r\n--------------------------------------------------\r\n\r\nMy output: (TDD_JAVA == root_folder )\r\n--------------------------------------------------\r\n\r\n    JMIM@DESKTOP-JUDCNDL MINGW64 /c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle (master)\r\n    $ ./RUN.sh\r\n    /c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle/build.gradle\r\n    /c/DEV/REPO/GIT/TDD_JAVA\r\n    /c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle\r\n    /c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle/GENERATED\r\n    To honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: https://docs.gradle.org/5.4.1/userguide/gradle_daemon.html.\r\n    Daemon will be stopped at the end of the build stopping after processing\r\n    \r\n    &gt; Configure project :\r\n    [project.projectDir]:\r\n    C:\\DEV\\REPO\\GIT\\TDD_JAVA\\RUN_ON_CMD\\Gradle\\GENERATED\r\n    \r\n    &gt; Task :run\r\n    [MAIN]\r\n    \r\n    BUILD SUCCESSFUL in 8s\r\n    2 actionable tasks: 1 executed, 1 up-to-date\r\n\r\n--------------------------------------------------\r\n\r\nAll the junk generated by gradle is put into\r\nthe &quot;**GENERATED**&quot; folder. Then my .gitignore makes sure not to commit any of that junk.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Run gradle commands from other directory","body":"<p>This is harder than it looks.\nDispite setting different values for --project-dir , --gradle-user-home , --build-file\nNo matter what you do, when you \"println project.projectDir\" from your build.gradle\nscript it will ALWAYS report back the directory in which \"build.gradle\" lives.</p>\n\n<p>I wanted to re-arrange things in gradle because gradle pollutes your root directory\nwith a lot of junk! Uncle Bob of \"Clean Code\" (Robert C. Martin) would probably refer to this behavior as \"rude code\".</p>\n\n<p>I finally figured it out after searching around all day.\nHere is my project structure:</p>\n\n<pre><code>&lt;root_folder&gt;\n |\n +--[ .git       ]\n +--[ .gitignore ]\n |\n +--[-]src/main/java\n |   |\n |   +--Main.java\n |\n +--[-]RUN_ON_CMD\n     |\n     +--[-]Gradle\n         +--[ build.gradle ]\n         +--[ RUN.sh ]\n         |\n         +--[-]GENERATED\n</code></pre>\n\n<h2>.gitignore :</h2>\n\n<pre><code>GENERATED/\n</code></pre>\n\n<hr>\n\n<h2>build.gradle :</h2>\n\n<pre><code>apply plugin: 'java'                  \napply plugin: 'application'    \n\nprintln \"[project.projectDir]:\"\nprintln project.projectDir\nmainClassName = 'Main'\n\nsourceSets {\n    main {\n        java {\n            //:Because \"build.gradle\" lives in:\n            //:&lt;root&gt;\\RUN_ON_CMD\\Gradle\\GENERATED\\\n            srcDir '../../../src/main/java'\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>RUN.sh</h2>\n\n<pre><code>build_gradle=$( realpath build.gradle )\necho $build_gradle\n\ncurrent_directory=$( realpath \".\" )\necho $current_directory\n\ngenerated=${current_directory}/\"GENERATED\"\necho $generated\n\ncp $build_gradle $generated/\"build.gradle\"\ngradle run -b $generated/\"build.gradle\" -g $generated --no-daemon\n</code></pre>\n\n<hr>\n\n<h2>main.java</h2>\n\n<pre><code>public class \nMain{\n    public static void \n    main( \n        String[] args\n    ){\n\n        System.out.println(\"[MAIN]\");\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>To Run:</h2>\n\n<p>Do a \"<strong>git bash here</strong>\" inside the \"<strong>Gradle</strong>\" folder.\nThen type: </p>\n\n<blockquote>\n  <p>./RUN.sh</p>\n</blockquote>\n\n<p>And hit ENTER</p>\n\n<hr>\n\n<h2>My output: (TDD_JAVA == root_folder )</h2>\n\n<pre><code>JMIM@DESKTOP-JUDCNDL MINGW64 /c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle (master)\n$ ./RUN.sh\n/c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle/build.gradle\n/c/DEV/REPO/GIT/TDD_JAVA\n/c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle\n/c/DEV/REPO/GIT/TDD_JAVA/RUN_ON_CMD/Gradle/GENERATED\nTo honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: https://docs.gradle.org/5.4.1/userguide/gradle_daemon.html.\nDaemon will be stopped at the end of the build stopping after processing\n\n&gt; Configure project :\n[project.projectDir]:\nC:\\DEV\\REPO\\GIT\\TDD_JAVA\\RUN_ON_CMD\\Gradle\\GENERATED\n\n&gt; Task :run\n[MAIN]\n\nBUILD SUCCESSFUL in 8s\n2 actionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n\n<hr>\n\n<p>All the junk generated by gradle is put into\nthe \"<strong>GENERATED</strong>\" folder. Then my .gitignore makes sure not to commit any of that junk.</p>\n"},{"tags":[],"owner":{"account_id":5548371,"reputation":142,"user_id":4402330,"display_name":"Chuss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632817315,"creation_date":1582296767,"answer_id":60341122,"question_id":53853186,"body_markdown":"for me this works\r\n\r\n    gradle clean build --console=plain -p ${projectPath}\r\nWhere:\r\nclean: Is to &quot;clean&quot; build/libs folder.\r\nConsole plain: To show only build results in console\r\n\r\n    // Compilando\r\n    sh(label: &#39;Compilando&#39;, script: &quot;gradle clean build --console=plain -p ${rutaTemp}&quot;)\r\n    sh(label: &#39;Listando archivos&#39;, script: &quot;ls -lart ${rutaTemp}&quot;)","title":"Run gradle commands from other directory","body":"<p>for me this works</p>\n<pre><code>gradle clean build --console=plain -p ${projectPath}\n</code></pre>\n<p>Where:\nclean: Is to &quot;clean&quot; build/libs folder.\nConsole plain: To show only build results in console</p>\n<pre><code>// Compilando\nsh(label: 'Compilando', script: &quot;gradle clean build --console=plain -p ${rutaTemp}&quot;)\nsh(label: 'Listando archivos', script: &quot;ls -lart ${rutaTemp}&quot;)\n</code></pre>\n"}],"owner":{"account_id":11702596,"reputation":81,"user_id":8567129,"display_name":"NITISH DASTANE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7817,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53857466,"answer_count":4,"score":5,"last_activity_date":1632817315,"creation_date":1545229274,"question_id":53853186,"body_markdown":"I have folder &quot;A&quot; and folder &quot;B&quot;  \r\nFolder &quot;B&quot; is having gradle code\r\nI want to run `gradle clean` and `gradle build` command from folder &quot;A&quot; of folder &quot;B&quot;  \r\nHow do I do this?","title":"Run gradle commands from other directory","body":"<p>I have folder \"A\" and folder \"B\"<br>\nFolder \"B\" is having gradle code\nI want to run <code>gradle clean</code> and <code>gradle build</code> command from folder \"A\" of folder \"B\"<br>\nHow do I do this?</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1632798644,"post_id":69355179,"comment_id":122584228,"body_markdown":"why bother peeking if you are going to pop anyway?","body":"why bother peeking if you are going to pop anyway?"},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632799301,"post_id":69355179,"comment_id":122584316,"body_markdown":"because for whatever reason inside a loop if you keep peeking, it doesn&#39;t move onto the previous element, so you have to keep popping so that you can peek the previous element. atleast thats what happened when i tried it, unless i did something wrong","body":"because for whatever reason inside a loop if you keep peeking, it doesn&#39;t move onto the previous element, so you have to keep popping so that you can peek the previous element. atleast thats what happened when i tried it, unless i did something wrong"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632801238,"post_id":69355179,"comment_id":122584606,"body_markdown":"@ScaryWombat asked why *peek.* You have to pop, but pop returns the same value as peek, so you don&#39;t need the peek. The problem here is that you are incrementing `b` from zero where you should be decrementing it from `a.size()-1`. But what use the index of something in a stack is remains a mystery, and it is even more of a mystery what use it is when the stack has been modified. Actually you don&#39;t need `b` at all, as the answer is always `a.size()-1`.","body":"@ScaryWombat asked why <i>peek.</i> You have to pop, but pop returns the same value as peek, so you don&#39;t need the peek. The problem here is that you are incrementing <code>b</code> from zero where you should be decrementing it from <code>a.size()-1</code>. But what use the index of something in a stack is remains a mystery, and it is even more of a mystery what use it is when the stack has been modified. Actually you don&#39;t need <code>b</code> at all, as the answer is always <code>a.size()-1</code>."},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632802912,"post_id":69355179,"comment_id":122584838,"body_markdown":"@user207421 &quot;But what use the index of something in a stack is remains a mystery&quot; true, it&#39;s just that my teacher gave students a spesific task, and that task spesifically ordered us to use stack. If it&#39;s using any other method of storing elements. I would rather much use that instead. It&#39;s just working around the stack itself is pretty confusing to me","body":"@user207421 &quot;But what use the index of something in a stack is remains a mystery&quot; true, it&#39;s just that my teacher gave students a spesific task, and that task spesifically ordered us to use stack. If it&#39;s using any other method of storing elements. I would rather much use that instead. It&#39;s just working around the stack itself is pretty confusing to me"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632808920,"post_id":69355179,"comment_id":122586055,"body_markdown":"You could always ask your teacher WTH he is talking about. Show him this page. Stacks are accessed via push and pop only, not via indexes: otherwise they cease to be stacks and become mere arrays or lists.","body":"You could always ask your teacher WTH he is talking about. Show him this page. Stacks are accessed via push and pop only, not via indexes: otherwise they cease to be stacks and become mere arrays or lists."},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632814746,"post_id":69355179,"comment_id":122587981,"body_markdown":"fax, will gettem next time","body":"fax, will gettem next time"}],"answers":[{"tags":[],"owner":{"account_id":21830472,"reputation":11,"user_id":16125463,"display_name":"shuimuzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632817188,"creation_date":1632797800,"answer_id":69355256,"question_id":69355179,"body_markdown":"`a.pop()` will change `a.size()`. You should store `a.size()` as length at first and begin the loop to find an index. Finally, if the index of the first inputted element is `0`, then the index of the element you find is `length - b`.","title":"Finding index of a stack java","body":"<p><code>a.pop()</code> will change <code>a.size()</code>. You should store <code>a.size()</code> as length at first and begin the loop to find an index. Finally, if the index of the first inputted element is <code>0</code>, then the index of the element you find is <code>length - b</code>.</p>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632798744,"creation_date":1632798744,"answer_id":69355362,"question_id":69355179,"body_markdown":"A simpler way would be to test for `empty`\r\n\r\nIf not `empty` then `pop`  Pop returns to top object, so you can then test it.  If it matches then break.\r\n\r\n","title":"Finding index of a stack java","body":"<p>A simpler way would be to test for <code>empty</code></p>\n<p>If not <code>empty</code> then <code>pop</code>  Pop returns to top object, so you can then test it.  If it matches then break.</p>\n"}],"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632808847,"accepted_answer_id":69355362,"answer_count":2,"score":0,"last_activity_date":1632817188,"creation_date":1632796875,"question_id":69355179,"body_markdown":"Trying to find the index with the last element inputted as 0 using stack, I&#39;m using the method pop(), and peek().\r\n\r\nHere is my code:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Stack&lt;String&gt; a = new Stack&lt;&gt;();\r\n\r\n        a.push(&quot;a&quot;);\r\n        a.push(&quot;b&quot;);\r\n        a.push(&quot;c&quot;);\r\n        a.push(&quot;d&quot;);\r\n        a.push(&quot;e&quot;);\r\n        a.push(&quot;f&quot;);\r\n\r\n        System.out.println(a);\r\n        String str = &quot;f&quot;;\r\n        int b = 0;\r\n        for (int i = 0; i &lt; a.size(); i++) {\r\n            if (a.peek().equalsIgnoreCase(str)){\r\n                break;\r\n            }\r\n            a.pop();\r\n            b++;\r\n        }\r\n        System.out.println(str);\r\n        System.out.println(b);\r\n    }\r\n}\r\n```\r\n\r\nExpected output if str = &quot;f&quot;:\r\n```\r\n0\r\n```\r\n\r\nand yes, when I tried using my solution it works properly.\r\n\r\nUntil I tried using str = &quot;b&quot;\r\nExpected output:\r\n```\r\n[a, b, c, d, e, f]\r\nb\r\n4\r\n```\r\n\r\nActual output:\r\n```\r\n[a, b, c, d, e, f]\r\nb\r\n3\r\n```\r\n\r\nAlso using str = &quot;a&quot;,\r\nExpected output:\r\n```\r\n[a, b, c, d, e, f]\r\na\r\n5\r\n```\r\n\r\nActual output:\r\n```\r\n[a, b, c, d, e, f]\r\na\r\n3\r\n```\r\n\r\nSo for whatever reason until the last two elements on the stack, int b didn&#39;t get incremented. Any idea on why this happens?","title":"Finding index of a stack java","body":"<p>Trying to find the index with the last element inputted as 0 using stack, I'm using the method pop(), and peek().</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Stack&lt;String&gt; a = new Stack&lt;&gt;();\n\n        a.push(&quot;a&quot;);\n        a.push(&quot;b&quot;);\n        a.push(&quot;c&quot;);\n        a.push(&quot;d&quot;);\n        a.push(&quot;e&quot;);\n        a.push(&quot;f&quot;);\n\n        System.out.println(a);\n        String str = &quot;f&quot;;\n        int b = 0;\n        for (int i = 0; i &lt; a.size(); i++) {\n            if (a.peek().equalsIgnoreCase(str)){\n                break;\n            }\n            a.pop();\n            b++;\n        }\n        System.out.println(str);\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>Expected output if str = &quot;f&quot;:</p>\n<pre><code>0\n</code></pre>\n<p>and yes, when I tried using my solution it works properly.</p>\n<p>Until I tried using str = &quot;b&quot;\nExpected output:</p>\n<pre><code>[a, b, c, d, e, f]\nb\n4\n</code></pre>\n<p>Actual output:</p>\n<pre><code>[a, b, c, d, e, f]\nb\n3\n</code></pre>\n<p>Also using str = &quot;a&quot;,\nExpected output:</p>\n<pre><code>[a, b, c, d, e, f]\na\n5\n</code></pre>\n<p>Actual output:</p>\n<pre><code>[a, b, c, d, e, f]\na\n3\n</code></pre>\n<p>So for whatever reason until the last two elements on the stack, int b didn't get incremented. Any idea on why this happens?</p>\n"},{"tags":["java","image","jar","size","bufferedimage"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1417450279,"post_id":27227647,"comment_id":42941602,"body_markdown":"You are ignoring the return value of `waitForImage` (i.e. `mediaTacker.isErrorAny()`). Is this intentional? Maybe it can tell you something?","body":"You are ignoring the return value of <code>waitForImage</code> (i.e. <code>mediaTacker.isErrorAny()</code>). Is this intentional? Maybe it can tell you something?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1417504357,"post_id":27227647,"comment_id":42963041,"body_markdown":"@haraldK: Thanks for the reply. Yes, I should probably have mentioned that (fought with the problem 5 hours yesterday from all angles, so maybe lost sight a little). In the IDE, isErrorAny returns false, but returns true in the JAR. But there seems to be no way to find out what error is happening during the completion of the image loading process kit.createImage performs.","body":"@haraldK: Thanks for the reply. Yes, I should probably have mentioned that (fought with the problem 5 hours yesterday from all angles, so maybe lost sight a little). In the IDE, isErrorAny returns false, but returns true in the JAR. But there seems to be no way to find out what error is happening during the completion of the image loading process kit.createImage performs."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1417520663,"post_id":27227647,"comment_id":42971557,"body_markdown":"The problem debugging the `Image` and the `Toolkit` image API is that it is lazy-loading. You never know if there&#39;s a problem, before it&#39;s too late.. Have you tried just reading the image using `ImageIO.read(...)`, if for nothing else, to see what error message you get?","body":"The problem debugging the <code>Image</code> and the <code>Toolkit</code> image API is that it is lazy-loading. You never know if there&#39;s a problem, before it&#39;s too late.. Have you tried just reading the image using <code>ImageIO.read(...)</code>, if for nothing else, to see what error message you get?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1417533178,"post_id":27227647,"comment_id":42979322,"body_markdown":"@haraldK: That&#39;s sadly useless, because I have never gotten it to work in the JAR, it throws a FileNotFoundException with a text closely like &quot;(Access denied)&quot;. The approach above, however, at least gives me a working Image.","body":"@haraldK: That&#39;s sadly useless, because I have never gotten it to work in the JAR, it throws a FileNotFoundException with a text closely like &quot;(Access denied)&quot;. The approach above, however, at least gives me a working Image."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1417533507,"post_id":27227647,"comment_id":42979540,"body_markdown":"That&#39;s very unlikely, as both approaches has to read from the same file system eventually. But there might be details I don&#39;t know about. Anyway, the &quot;access denied&quot; exception is likely the real problem. Of course, feel free to ignore that advice. ;-)","body":"That&#39;s very unlikely, as both approaches has to read from the same file system eventually. But there might be details I don&#39;t know about. Anyway, the &quot;access denied&quot; exception is likely the real problem. Of course, feel free to ignore that advice. ;-)"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1417535801,"post_id":27227647,"comment_id":42981093,"body_markdown":"@haraldK: I have no choice but to ignore it, since I get an image with one method, and no (buffered)image with the other, hence I can&#39;t assume that the error message is relevant. But thanks for trying to help, anyway.","body":"@haraldK: I have no choice but to ignore it, since I get an image with one method, and no (buffered)image with the other, hence I can&#39;t assume that the error message is relevant. But thanks for trying to help, anyway."}],"answers":[{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632816862,"creation_date":1418029285,"answer_id":27354517,"question_id":27227647,"body_markdown":"The problem was path depth.\r\n\r\nI also tried Avira, because the problem is technically a program accessing its own file, which could well seem suspicious, but while Avira was uninstalling, I tried the executables in a different location with a shorter path, and everything worked like a charm.","title":"Image size returns -1 in JAR but proper size in IDE. Image loaded via Toolkit....createImage(url)","body":"<p>The problem was path depth.</p>\n<p>I also tried Avira, because the problem is technically a program accessing its own file, which could well seem suspicious, but while Avira was uninstalling, I tried the executables in a different location with a shorter path, and everything worked like a charm.</p>\n"}],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27354517,"answer_count":1,"score":0,"last_activity_date":1632816862,"creation_date":1417434120,"question_id":27227647,"body_markdown":"**Intention:** Get BufferedImage from resource (be it in IDE or running JAR).\r\n\r\n**Problem:** Getting an Image always works, converting to BufferedImage requires knowledge of size, but size always returns -1, even after waiting with MediaTracker. In IDE, size after MediaTracker is proper, before it is -1. Waiting with while-loop until size &gt;-1 seems to never end in running JAR. (Tried with code language level 6 and 8 using JDK/JRE 8.)\r\n\r\n**Output of SSCCE in IDE:**\r\n\r\n&gt; IMAGE: sun.awt.image.ToolkitImage@15975490\r\n&gt;\r\n&gt; WIDTH: -1\r\n&gt; \r\n&gt; DURATION: 38 ms\r\n&gt; \r\n&gt; WIDTH: 32\r\n&gt; \r\n&gt; BUFFEREDIMAGE: BufferedImage@6adede5: type = 1 DirectColorModel:\r\n&gt; rmask=ff0000 gmask=ff00 bmask=ff amask=0 IntegerInterleavedRaster:\r\n&gt; width = 32 height = 32 #Bands = 3 xOff = 0 yOff = 0 dataOffset[0] 0\r\n\r\nEDIT: MediaTracker&#39;s &quot;isErrorAny()&quot; returns false.\r\n\r\n\r\n**Output of SSCCE in running JAR:**\r\n\r\n&gt; IMAGE: sun.awt.image.ToolkitImage@2a84aee7\r\n&gt;\r\n&gt; WIDTH: -1\r\n&gt; \r\n&gt; DURATION: 23 ms\r\n&gt; \r\n&gt; WIDTH: -1\r\n&gt;\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; java.lang.IllegalArgumentException: Width (-1) and height (-1) cannot\r\n&gt; be &lt;= 0\r\n&gt;         at java.awt.image.DirectColorModel.createCompatibleWritableRaster(Unknown\r\n&gt; Source)\r\n&gt;         at java.awt.image.BufferedImage.&lt;init&gt;(Unknown Source)\r\n&gt;         at ImageSizeProblem.createBufferedImageFromImage(ImageSizeProblem.java:82)\r\n&gt;         at ImageSizeProblem.main(ImageSizeProblem.java:26)\r\n\r\nEDIT: MediaTracker&#39;s &quot;isErrorAny()&quot; returns **true**. But I have no way of finding out what the error is - also, the image *does* load properly, since it can be successfully used in an JToolBar via making an ImageIcon from it. (I already tried abusing ImageIcon&#39;s getIconWidth() or getImage() methods - they bring no improvement at all.)\r\n\r\n\r\n**SSCCE:**\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.net.URL;\r\n    \r\n    public class ImageSizeProblem {\r\n    \r\n        public static void main(final String[] args) {\r\n    \r\n            final Image img = createImageFromResource(&quot;test.png&quot;);\r\n    \r\n            System.out.println(&quot;IMAGE: &quot; + img);\r\n            System.out.println(&quot;WIDTH: &quot; + img.getWidth(null));\r\n    \r\n            final long startTime = System.currentTimeMillis();\r\n            waitForImage(img);\r\n            final long duration = System.currentTimeMillis() - startTime;\r\n            System.out.println(&quot;\\nDURATION: &quot; + duration + &quot; ms&quot;);\r\n    \r\n            System.out.println(&quot;\\nWIDTH: &quot; + img.getWidth(null));\r\n    \r\n            final BufferedImage buffImg = createBufferedImageFromImage(img, false);\r\n            System.out.println(&quot;\\nBUFFEREDIMAGE: &quot; + buffImg);\r\n    \r\n            System.exit(0);\r\n        }\r\n    \r\n        private static Image createImageFromResource(final String resourceFileName_dontForgetToAddItsFolderToClasspath) {\r\n    \r\n            final Toolkit kit = Toolkit.getDefaultToolkit();\r\n            final URL url = ClassLoader.getSystemResource(resourceFileName_dontForgetToAddItsFolderToClasspath);\r\n            if (url != null) {\r\n                final Image img = kit.createImage(url);\r\n                if (img == null) {\r\n                    System.err.println(&quot;Image resource could not be loaded.&quot;);\r\n                    return null;\r\n                }\r\n                return img;\r\n            } else {\r\n                System.err.println(&quot;Image resource not found.&quot;);\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static boolean waitForImage(final Image img) {\r\n            final MediaTracker mediaTracker = new MediaTracker(new JPanel());\r\n            mediaTracker.addImage(img, 1);\r\n            try {\r\n                mediaTracker.waitForID(1);\r\n            } catch (InterruptedException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return !mediaTracker.isErrorAny();\r\n        }\r\n    \r\n    \r\n        // improved version of http://stackoverflow.com/a/13605411/3500521\r\n        private static BufferedImage createBufferedImageFromImage(final Image img, final boolean withTransparency) {\r\n    \r\n            if (img instanceof BufferedImage) {\r\n                return (BufferedImage) img;\r\n            } else if (img == null) {\r\n                return null;\r\n            }\r\n    \r\n            final int w = img.getWidth(null);\r\n            final int h = img.getWidth(null);\r\n    \r\n            final BufferedImage bufferedImage;\r\n            if (withTransparency) {\r\n                bufferedImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            } else {\r\n                bufferedImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n            }\r\n    \r\n            final Graphics2D g = bufferedImage.createGraphics();\r\n            g.drawImage(img, 0, 0, null);\r\n            g.dispose();\r\n            return bufferedImage;\r\n        }\r\n    }\r\n\r\nNote that the image used for testing was loaded and used successfully in another application via new ImageIcon(image) in a JToolBar. Getting the size from the ImageIcon also returns -1, also from the image returned by ImageIcon.getImage().","title":"Image size returns -1 in JAR but proper size in IDE. Image loaded via Toolkit....createImage(url)","body":"<p><strong>Intention:</strong> Get BufferedImage from resource (be it in IDE or running JAR).</p>\n\n<p><strong>Problem:</strong> Getting an Image always works, converting to BufferedImage requires knowledge of size, but size always returns -1, even after waiting with MediaTracker. In IDE, size after MediaTracker is proper, before it is -1. Waiting with while-loop until size >-1 seems to never end in running JAR. (Tried with code language level 6 and 8 using JDK/JRE 8.)</p>\n\n<p><strong>Output of SSCCE in IDE:</strong></p>\n\n<blockquote>\n  <p>IMAGE: sun.awt.image.ToolkitImage@15975490</p>\n  \n  <p>WIDTH: -1</p>\n  \n  <p>DURATION: 38 ms</p>\n  \n  <p>WIDTH: 32</p>\n  \n  <p>BUFFEREDIMAGE: BufferedImage@6adede5: type = 1 DirectColorModel:\n  rmask=ff0000 gmask=ff00 bmask=ff amask=0 IntegerInterleavedRaster:\n  width = 32 height = 32 #Bands = 3 xOff = 0 yOff = 0 dataOffset[0] 0</p>\n</blockquote>\n\n<p>EDIT: MediaTracker's \"isErrorAny()\" returns false.</p>\n\n<p><strong>Output of SSCCE in running JAR:</strong></p>\n\n<blockquote>\n  <p>IMAGE: sun.awt.image.ToolkitImage@2a84aee7</p>\n  \n  <p>WIDTH: -1</p>\n  \n  <p>DURATION: 23 ms</p>\n  \n  <p>WIDTH: -1</p>\n  \n  <p>Exception in thread \"main\"\n  java.lang.IllegalArgumentException: Width (-1) and height (-1) cannot\n  be &lt;= 0\n          at java.awt.image.DirectColorModel.createCompatibleWritableRaster(Unknown\n  Source)\n          at java.awt.image.BufferedImage.(Unknown Source)\n          at ImageSizeProblem.createBufferedImageFromImage(ImageSizeProblem.java:82)\n          at ImageSizeProblem.main(ImageSizeProblem.java:26)</p>\n</blockquote>\n\n<p>EDIT: MediaTracker's \"isErrorAny()\" returns <strong>true</strong>. But I have no way of finding out what the error is - also, the image <em>does</em> load properly, since it can be successfully used in an JToolBar via making an ImageIcon from it. (I already tried abusing ImageIcon's getIconWidth() or getImage() methods - they bring no improvement at all.)</p>\n\n<p><strong>SSCCE:</strong></p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.net.URL;\n\npublic class ImageSizeProblem {\n\n    public static void main(final String[] args) {\n\n        final Image img = createImageFromResource(\"test.png\");\n\n        System.out.println(\"IMAGE: \" + img);\n        System.out.println(\"WIDTH: \" + img.getWidth(null));\n\n        final long startTime = System.currentTimeMillis();\n        waitForImage(img);\n        final long duration = System.currentTimeMillis() - startTime;\n        System.out.println(\"\\nDURATION: \" + duration + \" ms\");\n\n        System.out.println(\"\\nWIDTH: \" + img.getWidth(null));\n\n        final BufferedImage buffImg = createBufferedImageFromImage(img, false);\n        System.out.println(\"\\nBUFFEREDIMAGE: \" + buffImg);\n\n        System.exit(0);\n    }\n\n    private static Image createImageFromResource(final String resourceFileName_dontForgetToAddItsFolderToClasspath) {\n\n        final Toolkit kit = Toolkit.getDefaultToolkit();\n        final URL url = ClassLoader.getSystemResource(resourceFileName_dontForgetToAddItsFolderToClasspath);\n        if (url != null) {\n            final Image img = kit.createImage(url);\n            if (img == null) {\n                System.err.println(\"Image resource could not be loaded.\");\n                return null;\n            }\n            return img;\n        } else {\n            System.err.println(\"Image resource not found.\");\n            return null;\n        }\n    }\n\n    private static boolean waitForImage(final Image img) {\n        final MediaTracker mediaTracker = new MediaTracker(new JPanel());\n        mediaTracker.addImage(img, 1);\n        try {\n            mediaTracker.waitForID(1);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n        return !mediaTracker.isErrorAny();\n    }\n\n\n    // improved version of http://stackoverflow.com/a/13605411/3500521\n    private static BufferedImage createBufferedImageFromImage(final Image img, final boolean withTransparency) {\n\n        if (img instanceof BufferedImage) {\n            return (BufferedImage) img;\n        } else if (img == null) {\n            return null;\n        }\n\n        final int w = img.getWidth(null);\n        final int h = img.getWidth(null);\n\n        final BufferedImage bufferedImage;\n        if (withTransparency) {\n            bufferedImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        } else {\n            bufferedImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n        }\n\n        final Graphics2D g = bufferedImage.createGraphics();\n        g.drawImage(img, 0, 0, null);\n        g.dispose();\n        return bufferedImage;\n    }\n}\n</code></pre>\n\n<p>Note that the image used for testing was loaded and used successfully in another application via new ImageIcon(image) in a JToolBar. Getting the size from the ImageIcon also returns -1, also from the image returned by ImageIcon.getImage().</p>\n"},{"tags":["java","for-loop"],"answers":[{"tags":[],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632813779,"creation_date":1632813779,"answer_id":69357381,"question_id":69357346,"body_markdown":"Your second for loop prints the spaces first and then the number, however, the spaces have already been added by the first for loop, so just update the second for loop to print the spaces after printing the number.\r\n\r\nE.g. your second loop should be like this:\r\n```\r\nfor (int l = 2; l &lt;= numbers - rows; l++){\r\n    System.out.print(l + &quot;  &quot;);\r\n}\r\n```","title":"Displaying a pyramid","body":"<p>Your second for loop prints the spaces first and then the number, however, the spaces have already been added by the first for loop, so just update the second for loop to print the spaces after printing the number.</p>\n<p>E.g. your second loop should be like this:</p>\n<pre><code>for (int l = 2; l &lt;= numbers - rows; l++){\n    System.out.print(l + &quot;  &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632816668,"creation_date":1632816668,"answer_id":69358026,"question_id":69357346,"body_markdown":"Consider the 1st pass of the outer loop which produces\\\r\n[![enter image description here][1]][1]\r\n\r\nIf we color hint your code, which the first inner loop in red, the second inner loop in green\\\r\n[![enter image description here][2]][2]\\\r\nThis will be their corresponding output for each pass\\\r\n[![enter image description here][3]][3]\\\r\nThe last pass of the red loop print `&quot;1 &quot;` and the first pass of green loop print `&quot; 2&quot;`. They combine and become `&quot;1  2&quot;`, which has 2 spaces in between.\r\n\r\nThe solution as Osama A.R point out, just reverse the printing order of number and space for the green loop and make if follow the red loop pattern. That will make the sequence neat.\r\n\r\n  [1]: https://i.stack.imgur.com/ma0sT.png\r\n  [2]: https://i.stack.imgur.com/dfGPp.png\r\n  [3]: https://i.stack.imgur.com/dIpoa.png","title":"Displaying a pyramid","body":"<p>Consider the 1st pass of the outer loop which produces<br />\n<a href=\"https://i.stack.imgur.com/ma0sT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ma0sT.png\" alt=\"enter image description here\" /></a></p>\n<p>If we color hint your code, which the first inner loop in red, the second inner loop in green<br />\n<a href=\"https://i.stack.imgur.com/dfGPp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfGPp.png\" alt=\"enter image description here\" /></a><br />\nThis will be their corresponding output for each pass<br />\n<a href=\"https://i.stack.imgur.com/dIpoa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIpoa.png\" alt=\"enter image description here\" /></a><br />\nThe last pass of the red loop print <code>&quot;1 &quot;</code> and the first pass of green loop print <code>&quot; 2&quot;</code>. They combine and become <code>&quot;1  2&quot;</code>, which has 2 spaces in between.</p>\n<p>The solution as Osama A.R point out, just reverse the printing order of number and space for the green loop and make if follow the red loop pattern. That will make the sequence neat.</p>\n"}],"owner":{"account_id":18613157,"reputation":11,"user_id":13565033,"display_name":"Hanginium2412"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632816668,"creation_date":1632813572,"question_id":69357346,"body_markdown":"I have this task to display a pyramid as follows: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI wrote the code but unfortunately, the digits are displayed with spaces and order.\r\n\r\n    public class DisplayPyramid {\r\n    //main method declaration. Program entry point which begins its execution\r\n    public static void main(String[] args) {\r\n        //Create a Scanner object\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        //Prompt the user to enter an integer (number of lines)\r\n        System.out.print(&quot;Enter the number of lines: &quot;);\r\n        int numbers = input.nextInt(); //Read value from keyboard and assign it to numberOfLines\r\n\r\n        String padding = &quot;  &quot;;\r\n\r\n        //Display pyramid\r\n\r\n        //for loop to produce each row\r\n        for (int rows = 0; rows &lt; numbers ; rows++) {\r\n\r\n            for (int k = numbers - rows; k &gt;= 1; k--){\r\n                System.out.print(k + &quot;  &quot;);\r\n            }\r\n\r\n            for (int l = 2; l &lt;= numbers - rows; l++){\r\n                System.out.print(&quot;  &quot; + l);\r\n            }\r\n\r\n\r\n            //Advance to the next line at the end of each rows\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    } }\r\n\r\nAnd this is my output: \r\n [![enter image description here][2]][2]\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KyYrn.jpg\r\n  [2]: https://i.stack.imgur.com/1vOVN.png\r\n\r\nCan you help me figure out what is wrong with code ?\r\nAnyone&#39;s help will be much appreciated.","title":"Displaying a pyramid","body":"<p>I have this task to display a pyramid as follows:\n<a href=\"https://i.stack.imgur.com/KyYrn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KyYrn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I wrote the code but unfortunately, the digits are displayed with spaces and order.</p>\n<pre><code>public class DisplayPyramid {\n//main method declaration. Program entry point which begins its execution\npublic static void main(String[] args) {\n    //Create a Scanner object\n    Scanner input = new Scanner(System.in);\n\n    //Prompt the user to enter an integer (number of lines)\n    System.out.print(&quot;Enter the number of lines: &quot;);\n    int numbers = input.nextInt(); //Read value from keyboard and assign it to numberOfLines\n\n    String padding = &quot;  &quot;;\n\n    //Display pyramid\n\n    //for loop to produce each row\n    for (int rows = 0; rows &lt; numbers ; rows++) {\n\n        for (int k = numbers - rows; k &gt;= 1; k--){\n            System.out.print(k + &quot;  &quot;);\n        }\n\n        for (int l = 2; l &lt;= numbers - rows; l++){\n            System.out.print(&quot;  &quot; + l);\n        }\n\n\n        //Advance to the next line at the end of each rows\n        System.out.print(&quot;\\n&quot;);\n    }\n} }\n</code></pre>\n<p>And this is my output:\n<a href=\"https://i.stack.imgur.com/1vOVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1vOVN.png\" alt=\"enter image description here\" /></a></p>\n<p>Can you help me figure out what is wrong with code ?\nAnyone's help will be much appreciated.</p>\n"},{"tags":["java","php","md5"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1344139107,"creation_date":1301536018,"answer_id":5494474,"question_id":5494447,"body_markdown":"You need to prefix hex value with `0` when the byte is less than `0x10`. Here&#39;s a full example:\r\n\r\n    public static String md5(String string) {\r\n        byte[] hash;\r\n\r\n        try {\r\n            hash = MessageDigest.getInstance(&quot;MD5&quot;).digest(string.getBytes(&quot;UTF-8&quot;));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(&quot;Huh, MD5 should be supported?&quot;, e);\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw new RuntimeException(&quot;Huh, UTF-8 should be supported?&quot;, e);\r\n        }\r\n\r\n        StringBuilder hex = new StringBuilder(hash.length * 2);\r\n\r\n        for (byte b : hash) {\r\n            int i = (b &amp; 0xFF);\r\n            if (i &lt; 0x10) hex.append(&#39;0&#39;);\r\n            hex.append(Integer.toHexString(i));\r\n        }\r\n\r\n        return hex.toString();\r\n    }\r\n","title":"What will be the Android/Java equivalent of MD5 function in PHP?","body":"<p>You need to prefix hex value with <code>0</code> when the byte is less than <code>0x10</code>. Here's a full example:</p>\n\n<pre><code>public static String md5(String string) {\n    byte[] hash;\n\n    try {\n        hash = MessageDigest.getInstance(\"MD5\").digest(string.getBytes(\"UTF-8\"));\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(\"Huh, MD5 should be supported?\", e);\n    } catch (UnsupportedEncodingException e) {\n        throw new RuntimeException(\"Huh, UTF-8 should be supported?\", e);\n    }\n\n    StringBuilder hex = new StringBuilder(hash.length * 2);\n\n    for (byte b : hash) {\n        int i = (b &amp; 0xFF);\n        if (i &lt; 0x10) hex.append('0');\n        hex.append(Integer.toHexString(i));\n    }\n\n    return hex.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":201444,"reputation":3111,"user_id":447886,"accept_rate":80,"display_name":"Aakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5494474,"answer_count":1,"score":5,"last_activity_date":1632816427,"creation_date":1301535780,"question_id":5494447,"body_markdown":"I am calculating the MD5 in Android/Java as follows:\r\n\r\n    byte raw[] = md.digest();   \r\n    StringBuffer hexString = new StringBuffer();\r\n    for (int i=0; i&lt;raw.length; i++)\r\n        hexString.append(Integer.toHexString(0xFF &amp; raw[i]));\r\n    v_password = hexString.toString();\r\n\r\nHowever there&#39;s a mismatch with PHP&#39;s `md5()` function.\r\n\r\n&lt;pre&gt;\r\nMD5 - PHP  - Raw Value - catch12 - 214423105677f2375487b4c6880c12ae\r\nMD5 - JAVA - Raw Value - catch12 - 214423105677f2375487b4c688c12ae\r\n&lt;/pre&gt;\r\n\r\nHow is this caused and how can I solve it so that the both Android/Java and PHP generate exactly the same MD5 hash?","title":"What will be the Android/Java equivalent of MD5 function in PHP?","body":"<p>I am calculating the MD5 in Android/Java as follows:</p>\n\n<pre><code>byte raw[] = md.digest();   \nStringBuffer hexString = new StringBuffer();\nfor (int i=0; i&lt;raw.length; i++)\n    hexString.append(Integer.toHexString(0xFF &amp; raw[i]));\nv_password = hexString.toString();\n</code></pre>\n\n<p>However there's a mismatch with PHP's <code>md5()</code> function.</p>\n\n<pre>\nMD5 - PHP  - Raw Value - catch12 - 214423105677f2375487b4c6880c12ae\nMD5 - JAVA - Raw Value - catch12 - 214423105677f2375487b4c688c12ae\n</pre>\n\n<p>How is this caused and how can I solve it so that the both Android/Java and PHP generate exactly the same MD5 hash?</p>\n"},{"tags":["java","spring","jpa","spring-boot","one-to-many"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1496150177,"post_id":44263163,"comment_id":75534699,"body_markdown":"whats inside customReportService.createCustomReport?","body":"whats inside customReportService.createCustomReport?"},{"owner":{"account_id":2000492,"reputation":785,"user_id":1791669,"accept_rate":27,"display_name":"Manisha "},"score":0,"creation_date":1496150464,"post_id":44263163,"comment_id":75534941,"body_markdown":"@MaciejKowalski I&#39;ve edited my post. Please check","body":"@MaciejKowalski I&#39;ve edited my post. Please check"},{"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"score":0,"creation_date":1496151400,"post_id":44263163,"comment_id":75535662,"body_markdown":"Please refer related post : https://stackoverflow.com/questions/3927091/save-child-objects-automatically-using-jpa-hibernate","body":"Please refer related post : <a href=\"https://stackoverflow.com/questions/3927091/save-child-objects-automatically-using-jpa-hibernate\" title=\"save child objects automatically using jpa hibernate\">stackoverflow.com/questions/3927091/&hellip;</a>"},{"owner":{"account_id":2000492,"reputation":785,"user_id":1791669,"accept_rate":27,"display_name":"Manisha "},"score":0,"creation_date":1496153109,"post_id":44263163,"comment_id":75536925,"body_markdown":"@MaciejKowalski I was  creating another method in service to populate all properties of child entity. Didn&#39;t know that we could  do it by just adding custom report relationship in child entity before save. Your solution worked. Thank you so much!","body":"@MaciejKowalski I was  creating another method in service to populate all properties of child entity. Didn&#39;t know that we could  do it by just adding custom report relationship in child entity before save. Your solution worked. Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1544849240,"creation_date":1496150855,"answer_id":44263632,"question_id":44263163,"body_markdown":"You would have to add a small piece of code which would populate each `CustomReportActivity` within the `CustomReport` instance. Only then the persistence provide can successfully perform the cascade save operation:\r\n\r\n    public CustomReport createCustomReport(CustomReport customReport) {\r\n       customReport.getCustomReportActivitySet.forEach((activity) -&gt; {\r\n          activity.setCustomReport(customReport);\r\n       });\r\n    \r\n       return customReportRepository.save(customReport);\r\n    }\r\n\r\nThe bottom line is that the dependencies have to be set on both sides of the relationship.","title":"Save an entity and all its related entities in a single save in spring boot","body":"<p>You would have to add a small piece of code which would populate each <code>CustomReportActivity</code> within the <code>CustomReport</code> instance. Only then the persistence provide can successfully perform the cascade save operation:</p>\n\n<pre><code>public CustomReport createCustomReport(CustomReport customReport) {\n   customReport.getCustomReportActivitySet.forEach((activity) -&gt; {\n      activity.setCustomReport(customReport);\n   });\n\n   return customReportRepository.save(customReport);\n}\n</code></pre>\n\n<p>The bottom line is that the dependencies have to be set on both sides of the relationship.</p>\n"},{"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632815951,"creation_date":1586203468,"answer_id":61068052,"question_id":44263163,"body_markdown":"Try this sample, in my case it worked as expected, child entities are saved automatically in a single save operation with creating relations to the parent entity:\r\n\r\n```java\r\n@Entity\r\npublic class Parent {\r\n    @Id\r\n    private Long id;\r\n\r\n    @JoinColumn(name = &quot;parentId&quot;)\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Child&gt; children;\r\n}\r\n\r\n@Entity\r\npublic class Child {\r\n    @Id\r\n    private Long id;\r\n    private Long parentId;\r\n}\r\n```","title":"Save an entity and all its related entities in a single save in spring boot","body":"<p>Try this sample, in my case it worked as expected, child entities are saved automatically in a single save operation with creating relations to the parent entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Parent {\n    @Id\n    private Long id;\n\n    @JoinColumn(name = &quot;parentId&quot;)\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Child&gt; children;\n}\n\n@Entity\npublic class Child {\n    @Id\n    private Long id;\n    private Long parentId;\n}\n</code></pre>\n"}],"owner":{"account_id":2000492,"reputation":785,"user_id":1791669,"accept_rate":27,"display_name":"Manisha "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24103,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":44263632,"answer_count":2,"score":10,"last_activity_date":1632815951,"creation_date":1496149644,"question_id":44263163,"body_markdown":"I&#39;m using Spring Boot,REST and JPA to build my application. In app, there are 2 entities with one to many relationship.\r\n\r\nEntity 1 :\r\n\r\n    @Entity\r\n    @Table( name = &quot;report&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CustomReport {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;REPORT_SEQ&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;REPORT_SEQ&quot;, allocationSize = 1, name = &quot;REPORT_SEQ&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private Long createdBy;\r\n    private Timestamp lastModifiedTimestamp;\r\n    \r\n\r\n    @OneToMany(mappedBy = &quot;customReport&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;CustomReportActivity&gt; customReportActivitySet;\r\n\r\n  \r\n\r\n    public Set&lt;CustomReportActivity&gt; getCustomReportActivitySet() {\r\n        return customReportActivitySet;\r\n    }\r\n\r\n    public void setCustomReportActivitySet(Set&lt;CustomReportActivity&gt; customReportActivitySet) {\r\n        this.customReportActivitySet = customReportActivitySet;\r\n    }\r\n\r\n\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Long getCreatedBy() {\r\n        return createdBy;\r\n    }\r\n\r\n    public void setCreatedBy(Long createdBy) {\r\n        this.createdBy = createdBy;\r\n    }\r\n\r\n    public Timestamp getLastModifiedTimestamp() {\r\n        return lastModifiedTimestamp;\r\n    }\r\n\r\n    public void setLastModifiedTimestamp(Timestamp lastModifiedTimestamp) {\r\n        this.lastModifiedTimestamp = lastModifiedTimestamp;\r\n    }\r\n   \r\n}\r\n\r\n\r\nEntity 2:\r\n\r\n    @Entity\r\n    @Table( name = &quot;report_activity&quot;)\r\n    public class CustomReportActivity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;REPORT_ACTIVITY_SEQ&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;REPORT_ACTIVITY_SEQ&quot;, allocationSize = 1, name = &quot;REPORT_ACTIVITY_SEQ&quot;)\r\n    private Long id;\r\n\r\n    String activityName;\r\n\r\n    @ManyToOne\r\n    @JoinColumn( name=&quot;report_id&quot; )\r\n    @JsonBackReference\r\n    private CustomReport customReport;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getActivityName() {\r\n        return activityName;\r\n    }\r\n\r\n    public void setActivityName(String activityName) {\r\n        this.activityName = activityName;\r\n    }\r\n\r\n    public CustomReport getCustomReport() {\r\n        return customReport;\r\n    }\r\n\r\n    public void setCustomReport(CustomReport customReport) {\r\n        this.customReport = customReport;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nAnd my request JSON is as follows :\r\n\r\n    {\r\n       &quot;name&quot;: &quot;test report&quot;,\r\n       &quot;createdBy&quot; : 129,\r\n       &quot;customReportActivitySet&quot;: [\r\n\t\t    {&quot;activityName&quot;:&quot;a&quot;},\r\n\t\t    {&quot;activityName&quot;:&quot;b&quot;},\r\n\t\t    {&quot;activityName&quot;:&quot;c&quot;},\r\n\t\t    {&quot;activityName&quot;:&quot;d&quot;},\r\n\t\t    {&quot;activityName&quot;:&quot;e&quot;}\r\n\t    ]  \r\n    }\r\n\r\nI want to save both entities in one shot. I&#39;ve implemented the save functionality in following way:\r\n\r\n    @RequestMapping(value=&quot;/save&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; addReport(@RequestBody CustomReport customReport) {\r\n        return new ResponseEntity&lt;&gt;(customReportService.createCustomReport(customReport), HttpStatus.CREATED);\r\n}\r\n\r\n\r\nCustomReportService method:\r\n\r\n     public CustomReport createCustomReport(CustomReport customReport) {\r\n        return customReportRepository.save(customReport);\r\n    }\r\n\r\nCustomRepository:\r\n\r\n    public interface CustomReportRepository extends CrudRepository&lt;CustomReport, Long&gt; {\r\n}\r\n\r\n\r\nBut I&#39;m getting the  constraint violation exception with this:\r\n\r\n    \r\n\r\n&gt; java.sql.SQLIntegrityConstraintViolationException: ORA-01400: cannot\r\n&gt; insert NULL into (&quot;REPORT_ACTIVITY&quot;.&quot;REPORT_ID&quot;)\r\n\r\nIs it possible to save both entities in one save operation? \r\n\r\nPlease help!","title":"Save an entity and all its related entities in a single save in spring boot","body":"<p>I'm using Spring Boot,REST and JPA to build my application. In app, there are 2 entities with one to many relationship.</p>\n\n<p>Entity 1 :</p>\n\n<pre><code>@Entity\n@Table( name = \"report\")\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CustomReport {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"REPORT_SEQ\")\n@SequenceGenerator(sequenceName = \"REPORT_SEQ\", allocationSize = 1, name = \"REPORT_SEQ\")\nprivate Long id;\n\nprivate String name;\nprivate Long createdBy;\nprivate Timestamp lastModifiedTimestamp;\n\n\n@OneToMany(mappedBy = \"customReport\", cascade = CascadeType.ALL)\nprivate Set&lt;CustomReportActivity&gt; customReportActivitySet;\n\n\n\npublic Set&lt;CustomReportActivity&gt; getCustomReportActivitySet() {\n    return customReportActivitySet;\n}\n\npublic void setCustomReportActivitySet(Set&lt;CustomReportActivity&gt; customReportActivitySet) {\n    this.customReportActivitySet = customReportActivitySet;\n}\n\n\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Long getCreatedBy() {\n    return createdBy;\n}\n\npublic void setCreatedBy(Long createdBy) {\n    this.createdBy = createdBy;\n}\n\npublic Timestamp getLastModifiedTimestamp() {\n    return lastModifiedTimestamp;\n}\n\npublic void setLastModifiedTimestamp(Timestamp lastModifiedTimestamp) {\n    this.lastModifiedTimestamp = lastModifiedTimestamp;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Entity 2:</p>\n\n<pre><code>@Entity\n@Table( name = \"report_activity\")\npublic class CustomReportActivity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"REPORT_ACTIVITY_SEQ\")\n@SequenceGenerator(sequenceName = \"REPORT_ACTIVITY_SEQ\", allocationSize = 1, name = \"REPORT_ACTIVITY_SEQ\")\nprivate Long id;\n\nString activityName;\n\n@ManyToOne\n@JoinColumn( name=\"report_id\" )\n@JsonBackReference\nprivate CustomReport customReport;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getActivityName() {\n    return activityName;\n}\n\npublic void setActivityName(String activityName) {\n    this.activityName = activityName;\n}\n\npublic CustomReport getCustomReport() {\n    return customReport;\n}\n\npublic void setCustomReport(CustomReport customReport) {\n    this.customReport = customReport;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And my request JSON is as follows :</p>\n\n<pre><code>{\n   \"name\": \"test report\",\n   \"createdBy\" : 129,\n   \"customReportActivitySet\": [\n        {\"activityName\":\"a\"},\n        {\"activityName\":\"b\"},\n        {\"activityName\":\"c\"},\n        {\"activityName\":\"d\"},\n        {\"activityName\":\"e\"}\n    ]  \n}\n</code></pre>\n\n<p>I want to save both entities in one shot. I've implemented the save functionality in following way:</p>\n\n<pre><code>@RequestMapping(value=\"/save\", method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; addReport(@RequestBody CustomReport customReport) {\n    return new ResponseEntity&lt;&gt;(customReportService.createCustomReport(customReport), HttpStatus.CREATED);\n</code></pre>\n\n<p>}</p>\n\n<p>CustomReportService method:</p>\n\n<pre><code> public CustomReport createCustomReport(CustomReport customReport) {\n    return customReportRepository.save(customReport);\n}\n</code></pre>\n\n<p>CustomRepository:</p>\n\n<pre><code>public interface CustomReportRepository extends CrudRepository&lt;CustomReport, Long&gt; {\n</code></pre>\n\n<p>}</p>\n\n<p>But I'm getting the  constraint violation exception with this:</p>\n\n<blockquote>\n  <p>java.sql.SQLIntegrityConstraintViolationException: ORA-01400: cannot\n  insert NULL into (\"REPORT_ACTIVITY\".\"REPORT_ID\")</p>\n</blockquote>\n\n<p>Is it possible to save both entities in one save operation? </p>\n\n<p>Please help!</p>\n"},{"tags":["java","spring","soap","wsdl"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632817395,"post_id":69357868,"comment_id":122589088,"body_markdown":"You don&#39;t and shouldn&#39;t. Your endpoint exposing that WSDL should include the proper location. If you are using Spring WS that is already handled for you others like Apache CXF do as well.","body":"You don&#39;t and shouldn&#39;t. Your endpoint exposing that WSDL should include the proper location. If you are using Spring WS that is already handled for you others like Apache CXF do as well."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632818196,"post_id":69357868,"comment_id":122589421,"body_markdown":"I am using Apache CXF in a SpringBoot Project. What do you suggest for changable IP:Ports? I could not find another solution.","body":"I am using Apache CXF in a SpringBoot Project. What do you suggest for changable IP:Ports? I could not find another solution."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632818214,"post_id":69357868,"comment_id":122589430,"body_markdown":"You shouldn&#39;t need to change a thing, the WSDL should be modified on the fly by Apache CXF already.","body":"You shouldn&#39;t need to change a thing, the WSDL should be modified on the fly by Apache CXF already."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632818791,"post_id":69357868,"comment_id":122589650,"body_markdown":"@M.Deinum  This wsdl file is inside of the project under the Resources folder.  The code pieces I shared on question are in that file, not in an outsource wsdl, because of that IP:Port changes must be on project side. I will not change the outsource wsdl files, I will change only wsdls inside of the project.","body":"@M.Deinum  This wsdl file is inside of the project under the Resources folder.  The code pieces I shared on question are in that file, not in an outsource wsdl, because of that IP:Port changes must be on project side. I will not change the outsource wsdl files, I will change only wsdls inside of the project."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632818875,"post_id":69357868,"comment_id":122589677,"body_markdown":"@M.Deinum when I compile the project, autogenerated classes are being made by the insource wsdl file with using the given IP:Port.","body":"@M.Deinum when I compile the project, autogenerated classes are being made by the insource wsdl file with using the given IP:Port."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632819033,"post_id":69357868,"comment_id":122589745,"body_markdown":"That doesn&#39;t matter. The wsdl is that for a webservice client or are you building a webservice yourself?","body":"That doesn&#39;t matter. The wsdl is that for a webservice client or are you building a webservice yourself?"},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632820220,"post_id":69357868,"comment_id":122590170,"body_markdown":"I am building an post web service to post some data.","body":"I am building an post web service to post some data."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632820650,"post_id":69357868,"comment_id":122590349,"body_markdown":"Then the generated wsdl from `url?wsdl` already automatically includes that information. Or at least it should, unless you are telling Apache CXF to statically export that WSDL. If it wouldn&#39;t it would mean for every environment you deploy in you would need to rebuild the application.","body":"Then the generated wsdl from <code>url?wsdl</code> already automatically includes that information. Or at least it should, unless you are telling Apache CXF to statically export that WSDL. If it wouldn&#39;t it would mean for every environment you deploy in you would need to rebuild the application."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632821571,"post_id":69357868,"comment_id":122590741,"body_markdown":"@M.Deinum so I understood that from your sentences: If I could change the IP:Port dinamically like I want to make, It would not effect the insource wsdl unless compiling again?","body":"@M.Deinum so I understood that from your sentences: If I could change the IP:Port dinamically like I want to make, It would not effect the insource wsdl unless compiling again?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632821888,"post_id":69357868,"comment_id":122590853,"body_markdown":"Last try. You don&#39;t need to change it, that is already being done by Apache CXF based on the server it runs on/URL that is being called. You don&#39;t need to change anything **unless** you are statically serving that WSDL instead of letting it being processed by Apache CXF.","body":"Last try. You don&#39;t need to change it, that is already being done by Apache CXF based on the server it runs on/URL that is being called. You don&#39;t need to change anything <b>unless</b> you are statically serving that WSDL instead of letting it being processed by Apache CXF."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632822108,"post_id":69357868,"comment_id":122590936,"body_markdown":"@M.Deinum I see I dont need but I have to. To be clear, the services IP and Port info is defined in the insource wsdl in my project which I gave an example code on my question above. Sometimes, the target services IP address and Port is changed, and whenever it is changed my post service fails to send data to the target. The only thing I can do is changing the targets IP and Port in the code I gave above and compiling the project, after then my post services can send data. I dont want to make this everytime the IP:Port is changed.","body":"@M.Deinum I see I dont need but I have to. To be clear, the services IP and Port info is defined in the insource wsdl in my project which I gave an example code on my question above. Sometimes, the target services IP address and Port is changed, and whenever it is changed my post service fails to send data to the target. The only thing I can do is changing the targets IP and Port in the code I gave above and compiling the project, after then my post services can send data. I dont want to make this everytime the IP:Port is changed."},{"owner":{"display_name":"user15012700"},"score":0,"creation_date":1632822263,"post_id":69357868,"comment_id":122591003,"body_markdown":"@M.Deinum I decided to save the IP adres on /etc/hosts file in ubuntu and gave a name like TargetIP and when I write that instead of IP addres in the code it works properly and when ever I change the IP address from the /etc/hosts it works properly. But I cant define a Port information, so I need to recompile the project with updating the port info. I need to get the IP and Port info like in my question, because I have to, I dont want to make it willingly.","body":"@M.Deinum I decided to save the IP adres on /etc/hosts file in ubuntu and gave a name like TargetIP and when I write that instead of IP addres in the code it works properly and when ever I change the IP address from the /etc/hosts it works properly. But I cant define a Port information, so I need to recompile the project with updating the port info. I need to get the IP and Port info like in my question, because I have to, I dont want to make it willingly."}],"owner":{"display_name":"user15012700"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632815906,"creation_date":1632815906,"question_id":69357868,"body_markdown":"I have changable IP:Port addresses in my application and when one of them is changed, I have to compile and create a new jar. I decided to use these IP:Port addresses as environment variable, so whenever they are changed, changing the environment variables will be enough and I will not create a new jar.\r\n\r\nHow can I read an environment variable in WSDL file?\r\n\r\nThe code piece I need to read the environment in is:\r\n\r\n    &lt;wsdl:service name=&quot;myService&quot;&gt;\r\n        &lt;wsdl:port binding=&quot;tns:example&quot; name=&quot;port1&quot;&gt;\r\n            &lt;soap12:address location=&quot;EnvironmentVariableHere&quot;&gt;&lt;/soap12:address&gt;\r\n        &lt;/wsdl:port\r\n    &lt;/wsdl:service&gt;\r\n\r\nThe environment variables shape will be like this:\r\n\r\n    export MyVar=http://127.0.0.1:8090/webservices/MyWebPostService?wsdl\r\n(Every time only IP:Port = 127.0.0.1:8090 is being changed)","title":"How Can I Read an Environment Variable in WSDL File?","body":"<p>I have changable IP:Port addresses in my application and when one of them is changed, I have to compile and create a new jar. I decided to use these IP:Port addresses as environment variable, so whenever they are changed, changing the environment variables will be enough and I will not create a new jar.</p>\n<p>How can I read an environment variable in WSDL file?</p>\n<p>The code piece I need to read the environment in is:</p>\n<pre><code>&lt;wsdl:service name=&quot;myService&quot;&gt;\n    &lt;wsdl:port binding=&quot;tns:example&quot; name=&quot;port1&quot;&gt;\n        &lt;soap12:address location=&quot;EnvironmentVariableHere&quot;&gt;&lt;/soap12:address&gt;\n    &lt;/wsdl:port\n&lt;/wsdl:service&gt;\n</code></pre>\n<p>The environment variables shape will be like this:</p>\n<pre><code>export MyVar=http://127.0.0.1:8090/webservices/MyWebPostService?wsdl\n</code></pre>\n<p>(Every time only IP:Port = 127.0.0.1:8090 is being changed)</p>\n"},{"tags":["java","mysql","reactjs","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":12583803,"reputation":47,"user_id":9153532,"display_name":"philgsk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632815896,"creation_date":1632815896,"answer_id":69357862,"question_id":69352154,"body_markdown":"Not long ago i had similar problems like u. I would suggest to check out this tutorial: https://youtu.be/VVn9OG9nfH0\r\nIt should answer all of your questions.","title":"Spring boot + React integration/Security when building a web app","body":"<p>Not long ago i had similar problems like u. I would suggest to check out this tutorial: <a href=\"https://youtu.be/VVn9OG9nfH0\" rel=\"nofollow noreferrer\">https://youtu.be/VVn9OG9nfH0</a>\nIt should answer all of your questions.</p>\n"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632815896,"creation_date":1632770220,"question_id":69352154,"body_markdown":"I am trying to build my first website using Spring boot + ReactJS and MySQL.\r\nIt&#39;s essentially a gym website where users can create an account, sign in and then choose a membership + checkout etc.\r\n\r\n**What I have done so far is:**\r\n\r\n 1. Spring Boot REST Api for creating a new customer + other CRUD features.\r\n 2. React Front End Registration form with Spring boot server validation, the form posts the data to the REST api using axios.\r\n 3. I have a design in figma of the website and I&#39;ve been working on that in the meanwhile because honestly, i am stuck.\r\n\r\n\r\n**Some problems I&#39;m facing:**\r\n\r\n 1. Spring Security, I have used JSP before and it was easier for me to get the hang of it since it is server sided and I just had controller methods etc. Now that I&#39;m using react I have no idea how the security function would work with Spring Boot.\r\n\r\n     Since the front and back end are served on different ports, how would my Spring configure \r\n     method look like? (The class that extends WebSecurityConfigurerAdapter). \r\n\r\n     How do I restrict access to URL&#39;s on the front end using React Router? Since Spring Boot and React router are both on different ends I am struggling to understand how that works? What about the API endpoints being accessible as well.\r\n\r\n\r\n\r\n\r\n2. Authentication + Authorization, I&#39;ve looked up tutorials and I&#39;ve pretty much only seen Authentication by the use of JWT tokens when working with Spring Boot + React, is there no other option other than JWT? (For me it looks really confusing so I&#39;d like to know if there&#39;s a valid alternative or not) - if not , why JWT?\r\n\r\n\r\n\r\n\r\n3. I know Spring Security on its own is a complicated framework and I&#39;ve read a alot about it, though some concepts do confuse me. (UserDetailsService vs UserDetails, Types of Authentication Managers you get) \r\n\r\n4. In general, the integration of Spring Boot with a SPA such as react, if someone could explain the flow of how it functions on both the front and back end.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring boot + React integration/Security when building a web app","body":"<p>I am trying to build my first website using Spring boot + ReactJS and MySQL.\nIt's essentially a gym website where users can create an account, sign in and then choose a membership + checkout etc.</p>\n<p><strong>What I have done so far is:</strong></p>\n<ol>\n<li>Spring Boot REST Api for creating a new customer + other CRUD features.</li>\n<li>React Front End Registration form with Spring boot server validation, the form posts the data to the REST api using axios.</li>\n<li>I have a design in figma of the website and I've been working on that in the meanwhile because honestly, i am stuck.</li>\n</ol>\n<p><strong>Some problems I'm facing:</strong></p>\n<ol>\n<li><p>Spring Security, I have used JSP before and it was easier for me to get the hang of it since it is server sided and I just had controller methods etc. Now that I'm using react I have no idea how the security function would work with Spring Boot.</p>\n<p>Since the front and back end are served on different ports, how would my Spring configure\nmethod look like? (The class that extends WebSecurityConfigurerAdapter).</p>\n<p>How do I restrict access to URL's on the front end using React Router? Since Spring Boot and React router are both on different ends I am struggling to understand how that works? What about the API endpoints being accessible as well.</p>\n</li>\n<li><p>Authentication + Authorization, I've looked up tutorials and I've pretty much only seen Authentication by the use of JWT tokens when working with Spring Boot + React, is there no other option other than JWT? (For me it looks really confusing so I'd like to know if there's a valid alternative or not) - if not , why JWT?</p>\n</li>\n<li><p>I know Spring Security on its own is a complicated framework and I've read a alot about it, though some concepts do confuse me. (UserDetailsService vs UserDetails, Types of Authentication Managers you get)</p>\n</li>\n<li><p>In general, the integration of Spring Boot with a SPA such as react, if someone could explain the flow of how it functions on both the front and back end.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":20756393,"reputation":13,"user_id":15242733,"display_name":"cr542"},"score":0,"creation_date":1632815920,"post_id":69352449,"comment_id":122588441,"body_markdown":"Hey Toerktumlare, thank you, you brought me to the solution! CORS was not a problem but I enabled debugging and saw that Spring was looking for roles with the prefix &quot;ROLE_&quot; in the database. As my roles were stored as &quot;CREATOR&quot; and &quot;USER&quot; they could not be found.\n\nI just wonder if this behavior can be configuired? So that roles can just have their name without prefix, for example...?","body":"Hey Toerktumlare, thank you, you brought me to the solution! CORS was not a problem but I enabled debugging and saw that Spring was looking for roles with the prefix &quot;ROLE_&quot; in the database. As my roles were stored as &quot;CREATOR&quot; and &quot;USER&quot; they could not be found.  I just wonder if this behavior can be configuired? So that roles can just have their name without prefix, for example...?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1632829493,"post_id":69352449,"comment_id":122594147,"body_markdown":"First of all, dont ask new questions in comments, stack overflow is not a forum, its a Q&amp;A site and a last resort. Asking on stack overflow tokes up someones time and should not be done lightly. Second of all did you read the spring security reference documentation, and read up on your problem as to WHY the roles are prefixed, and how this is done, and how to configure it? If not i always suggest you do that. You dont ask stack overflow how to for instance enable debugg logging.","body":"First of all, dont ask new questions in comments, stack overflow is not a forum, its a Q&amp;A site and a last resort. Asking on stack overflow tokes up someones time and should not be done lightly. Second of all did you read the spring security reference documentation, and read up on your problem as to WHY the roles are prefixed, and how this is done, and how to configure it? If not i always suggest you do that. You dont ask stack overflow how to for instance enable debugg logging."},{"owner":{"account_id":20756393,"reputation":13,"user_id":15242733,"display_name":"cr542"},"score":0,"creation_date":1632841888,"post_id":69352449,"comment_id":122600220,"body_markdown":"Thank you. I am new to stackoverflow hence I am not so familiar with best practices here. All clear then. Thanks again.","body":"Thank you. I am new to stackoverflow hence I am not so familiar with best practices here. All clear then. Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":20756393,"reputation":13,"user_id":15242733,"display_name":"cr542"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632815820,"creation_date":1632815820,"answer_id":69357838,"question_id":69352449,"body_markdown":"Thank you guys for your help!\r\nToerktumlare&#39;s answer brought me to the solution. I turned on Debug Logging as you suggested. CORS was not the problem, but reading the debug messages brought me on the right way.\r\n\r\nThe problem was minor though. I stored the roles in the database as &quot;CREATOR&quot; or &quot;USER&quot;. Debug messages showed me that **Spring was looking for &quot;ROLE_CREATOR&quot; or &quot;ROLE_USER&quot;** and - because my roles weren&#39;t saved this way - didn&#39;t find them. Hence I got a 403 HTTP response.","title":"Spring Security - Role check fails permanently","body":"<p>Thank you guys for your help!\nToerktumlare's answer brought me to the solution. I turned on Debug Logging as you suggested. CORS was not the problem, but reading the debug messages brought me on the right way.</p>\n<p>The problem was minor though. I stored the roles in the database as &quot;CREATOR&quot; or &quot;USER&quot;. Debug messages showed me that <strong>Spring was looking for &quot;ROLE_CREATOR&quot; or &quot;ROLE_USER&quot;</strong> and - because my roles weren't saved this way - didn't find them. Hence I got a 403 HTTP response.</p>\n"}],"owner":{"account_id":20756393,"reputation":13,"user_id":15242733,"display_name":"cr542"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1632846673,"accepted_answer_id":69357838,"answer_count":1,"score":-1,"last_activity_date":1632815820,"creation_date":1632771915,"question_id":69352449,"body_markdown":"I am trying to learn Spring Security and want to secure an API. I want a login form with database authentication on the one hand, and on the other hand a OAuth2 authentication.\r\nBut I am stuck at the first task. The problem is that the application doesn&#39;t accept my roles and I have no idea why.\r\n\r\nHere&#39;s my Config class:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .usersByUsernameQuery(&quot;SELECT username,password,enabled FROM users WHERE username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;SELECT username, authority FROM authorities WHERE username=?&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/createTrack&quot;).hasRole(&quot;CREATOR&quot;)\r\n                .antMatchers(&quot;/getTrack&quot;).hasAnyRole(&quot;CREATOR&quot;, &quot;USER&quot;)\r\n                .antMatchers(&quot;/test&quot;).hasRole(&quot;CREATOR&quot;)\r\n                .antMatchers(&quot;/all&quot;).permitAll()\r\n                .and().formLogin();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder getPasswordEncoder() {\r\n        // TODO: Change this to hashed password (this is for demo purposes)\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n    }\r\n\r\nEverything is made like descriped in the Spring documentation: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-jdbc\r\n\r\nI worked out a few endpoints of my API to test the logged in user&#39;s name and role. Everything works fine - the login seems to work great, also the role is correct.\r\n\r\nBut when I try to call an endpoint that&#39;s only accessible for one or both specific roles, it gets me a 403 error response.\r\n\r\nWhat am I doing wrong? I tried a lot of things and it still does not work.\r\n\r\nThanks!\r\n\r\nPS: I am using MyBatis (task from my company) - if that matters in any way?\r\n\r\n\r\n","title":"Spring Security - Role check fails permanently","body":"<p>I am trying to learn Spring Security and want to secure an API. I want a login form with database authentication on the one hand, and on the other hand a OAuth2 authentication.\nBut I am stuck at the first task. The problem is that the application doesn't accept my roles and I have no idea why.</p>\n<p>Here's my Config class:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n@Autowired\nDataSource dataSource;\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.jdbcAuthentication()\n            .dataSource(dataSource)\n            .usersByUsernameQuery(&quot;SELECT username,password,enabled FROM users WHERE username=?&quot;)\n            .authoritiesByUsernameQuery(&quot;SELECT username, authority FROM authorities WHERE username=?&quot;);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n            .antMatchers(&quot;/createTrack&quot;).hasRole(&quot;CREATOR&quot;)\n            .antMatchers(&quot;/getTrack&quot;).hasAnyRole(&quot;CREATOR&quot;, &quot;USER&quot;)\n            .antMatchers(&quot;/test&quot;).hasRole(&quot;CREATOR&quot;)\n            .antMatchers(&quot;/all&quot;).permitAll()\n            .and().formLogin();\n}\n\n@Bean\npublic PasswordEncoder getPasswordEncoder() {\n    // TODO: Change this to hashed password (this is for demo purposes)\n    return NoOpPasswordEncoder.getInstance();\n}\n}\n</code></pre>\n<p>Everything is made like descriped in the Spring documentation: <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-jdbc\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-authentication-jdbc</a></p>\n<p>I worked out a few endpoints of my API to test the logged in user's name and role. Everything works fine - the login seems to work great, also the role is correct.</p>\n<p>But when I try to call an endpoint that's only accessible for one or both specific roles, it gets me a 403 error response.</p>\n<p>What am I doing wrong? I tried a lot of things and it still does not work.</p>\n<p>Thanks!</p>\n<p>PS: I am using MyBatis (task from my company) - if that matters in any way?</p>\n"},{"tags":["java","mysql","docker","jdbc"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1632403996,"post_id":69300976,"comment_id":122487038,"body_markdown":"So, how are you running your mySql container? Have you checked `docker ps`?","body":"So, how are you running your mySql container? Have you checked <code>docker ps</code>?"},{"owner":{"account_id":19560791,"reputation":429,"user_id":14314060,"display_name":"Saverio Guzzo"},"score":0,"creation_date":1632404693,"post_id":69300976,"comment_id":122487374,"body_markdown":"yes I did, the ports of my `docker ps` are the ones I wrote above.. maybe I&#39;m doing something wrong but the service is running at port 3306 on my host machine, maybe on the container is different","body":"yes I did, the ports of my <code>docker ps</code> are the ones I wrote above.. maybe I&#39;m doing something wrong but the service is running at port 3306 on my host machine, maybe on the container is different"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1632807553,"post_id":69300976,"comment_id":122585730,"body_markdown":"Please provide the full stacktrace. I believe one of the &#39;caused by&#39;s delivers more information. Also provide a dump of &#39;docker ps&#39; for your mysql container.","body":"Please provide the full stacktrace. I believe one of the &#39;caused by&#39;s delivers more information. Also provide a dump of &#39;docker ps&#39; for your mysql container."}],"answers":[{"tags":[],"owner":{"account_id":19560791,"reputation":429,"user_id":14314060,"display_name":"Saverio Guzzo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632815801,"creation_date":1632815801,"answer_id":69357830,"question_id":69300976,"body_markdown":"Solved by inspecting the mysql docker container with `docker inspect nameofmycontainer | grep IPAddress` and getting an IP e.g. `172.17.0.2`. Changing this IP address into the Java code, substituting `localhost`, will solve the issue!  \r\n\r\nAnother important thing is making sure that the user has grants to connect outside of `localhost`. This can be achieved by doing\r\n`GRANT ALL PRIVILEGES ON *.* TO &#39;newuser&#39;@&#39;%&#39; WITH GRANT OPTION;`  \r\n`FLUSH PRIVILEGES;`","title":"cannot connect to MySQL-server running on Docker with JDBC - Communication Link Failure","body":"<p>Solved by inspecting the mysql docker container with <code>docker inspect nameofmycontainer | grep IPAddress</code> and getting an IP e.g. <code>172.17.0.2</code>. Changing this IP address into the Java code, substituting <code>localhost</code>, will solve the issue!</p>\n<p>Another important thing is making sure that the user has grants to connect outside of <code>localhost</code>. This can be achieved by doing\n<code>GRANT ALL PRIVILEGES ON *.* TO 'newuser'@'%' WITH GRANT OPTION;</code><br />\n<code>FLUSH PRIVILEGES;</code></p>\n"}],"owner":{"account_id":19560791,"reputation":429,"user_id":14314060,"display_name":"Saverio Guzzo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69357830,"answer_count":1,"score":0,"last_activity_date":1632815801,"creation_date":1632403651,"question_id":69300976,"body_markdown":"I have a Mysql-server docker instance with PORTS `3306/tcp, 33060-33061/tcp`.\r\nI am trying to connect to it through JDBC but I keep receiving the error `Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure`.\r\nI have created a user `test` and a database also named `test`.\r\n\r\nThe code I am using is the following:\r\n\r\n```java\r\npackage com.example.testconnection;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class TestConnection {\r\n    public static void main(String[] args) {\r\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n        String username = &quot;test&quot;;\r\n        String password = &quot;password&quot;;\r\n\r\n        System.out.println(&quot;Connecting database...&quot;);\r\n\r\n        try (Connection connection = DriverManager.getConnection(url, username, password)) {\r\n            System.out.println(&quot;Database connected!&quot;);\r\n        } catch (SQLException e) {\r\n            throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nbuilt with Gradle, with the following dependencies:\r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.0&#39;\r\n    runtimeOnly &#39;mysql:mysql-connector-java:8.0.25&#39;\r\n}\r\n```\r\n\r\nWhat am I missing?","title":"cannot connect to MySQL-server running on Docker with JDBC - Communication Link Failure","body":"<p>I have a Mysql-server docker instance with PORTS <code>3306/tcp, 33060-33061/tcp</code>.\nI am trying to connect to it through JDBC but I keep receiving the error <code>Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</code>.\nI have created a user <code>test</code> and a database also named <code>test</code>.</p>\n<p>The code I am using is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.testconnection;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class TestConnection {\n    public static void main(String[] args) {\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\n        String username = &quot;test&quot;;\n        String password = &quot;password&quot;;\n\n        System.out.println(&quot;Connecting database...&quot;);\n\n        try (Connection connection = DriverManager.getConnection(url, username, password)) {\n            System.out.println(&quot;Database connected!&quot;);\n        } catch (SQLException e) {\n            throw new IllegalStateException(&quot;Cannot connect the database!&quot;, e);\n        }\n\n    }\n}\n</code></pre>\n<p>built with Gradle, with the following dependencies:</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.0'\n    runtimeOnly 'mysql:mysql-connector-java:8.0.25'\n}\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1491553927,"post_id":25774061,"comment_id":73614659,"body_markdown":"Digging out an old post... I&#39;m surprised no one mentioned [Querydsl](http://www.querydsl.com/), which is exactly what you could have used.","body":"Digging out an old post... I&#39;m surprised no one mentioned <a href=\"http://www.querydsl.com/\" rel=\"nofollow noreferrer\">Querydsl</a>, which is exactly what you could have used."}],"answers":[{"tags":[],"owner":{"account_id":8751701,"reputation":3543,"user_id":6544712,"accept_rate":50,"display_name":"UserF40"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468005305,"creation_date":1468005305,"answer_id":38273880,"question_id":25774061,"body_markdown":"No, this is currently not supported. If it was there would be the risk of ambiguity. There could be the scenario where the incoming url could match more than 1 `@RestResource`.\r\n\r\nTo explain from a Java point of view lets say we *could* define two methods:\r\n\r\n    getPerson(String firstName, int age);\r\n\r\n    getPerson(String firstName, {Optional} int age, int phoneNumber);\r\n\r\nThere would be issues when someone is aiming to invoke the second method, not supplying age but being mapped to the first method with the phoneNumber being read as an age.","title":"Spring Data Query Method with Optional @Param","body":"<p>No, this is currently not supported. If it was there would be the risk of ambiguity. There could be the scenario where the incoming url could match more than 1 <code>@RestResource</code>.</p>\n\n<p>To explain from a Java point of view lets say we <em>could</em> define two methods:</p>\n\n<pre><code>getPerson(String firstName, int age);\n\ngetPerson(String firstName, {Optional} int age, int phoneNumber);\n</code></pre>\n\n<p>There would be issues when someone is aiming to invoke the second method, not supplying age but being mapped to the first method with the phoneNumber being read as an age.</p>\n"},{"tags":[],"owner":{"account_id":14211293,"reputation":1,"user_id":10266442,"display_name":"iamrohit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1535586507,"creation_date":1535586507,"answer_id":52087467,"question_id":25774061,"body_markdown":"There is a &quot;**required**&quot; parameter option in @Param that you can use.\r\n\r\n@RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\r\n\r\nList&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;, **required** = false) Date start,\r\n        @Param(value = &quot;end&quot;, **required** = false) Date end, Pageable pageable);","title":"Spring Data Query Method with Optional @Param","body":"<p>There is a \"<strong>required</strong>\" parameter option in @Param that you can use.</p>\n\n<p>@RestResource(path = \"driverAndSpan\", rel = \"byDriverAndSpan\")</p>\n\n<p>List findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(\"id\") String id, @Param(value = \"start\", <strong>required</strong> = false) Date start,\n        @Param(value = \"end\", <strong>required</strong> = false) Date end, Pageable pageable);</p>\n"},{"tags":[],"owner":{"account_id":11824367,"reputation":55,"user_id":8652629,"display_name":"TheLifeOfParallax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579464624,"creation_date":1579464624,"answer_id":59813970,"question_id":25774061,"body_markdown":"As UserF40 said, this isn&#39;t supported. We faced a similar issue and solved it by dynamically building queries depending on which Optional parameters were supplied.\r\n\r\nYou can use the Criteria API to achieve this, or by dynamically building the SQL in another service class by checking which parameters are present.","title":"Spring Data Query Method with Optional @Param","body":"<p>As UserF40 said, this isn't supported. We faced a similar issue and solved it by dynamically building queries depending on which Optional parameters were supplied.</p>\n\n<p>You can use the Criteria API to achieve this, or by dynamically building the SQL in another service class by checking which parameters are present.</p>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593595563,"creation_date":1587976332,"answer_id":61454710,"question_id":25774061,"body_markdown":"Maybe you can define a &#39;main&#39; function as `default` which will delegate to the other functions. Something like this\r\n```java\r\n@RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\r\ndefault List&lt;Bar&gt; findByDriverIdAndOptionalStartTimeGreaterThanEqualAndOptionalEndTimeLessThanEqual(@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;, optional = true) Date start,\r\n        @Param(value = &quot;end&quot;, optional = true) Date end, Pageable pageable) {\r\n   if(start != null &amp;&amp; end != null) {\r\n      return findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(id, start, end, pageable);\r\n   }\r\n   return findByDriverId(id, pageable);\r\n}\r\n```\r\nI think you can even use `Optional` as a parameter type, then you can use function overloading\r\n```java\r\n@RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\r\ndefault List&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(\r\n@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;) Optional&lt;Date&gt; start,\r\n        @Param(value = &quot;end&quot;) Optional&lt;Date&gt; end, Pageable pageable) {\r\n   if (!start.isEmpty() &amp;&amp; !end.isEmpty()) {\r\n      return findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(id, start.get(), end.get(), pageable);\r\n   }\r\n   return findByDriverId(id, pageable);\r\n}\r\n\r\nList&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(String id, Date start, Date end, Pageable pageable);\r\n```\r\nNotice that in this case, you shouldn&#39;t expose the other endpoints, and only expose this default method.","title":"Spring Data Query Method with Optional @Param","body":"<p>Maybe you can define a 'main' function as <code>default</code> which will delegate to the other functions. Something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\ndefault List&lt;Bar&gt; findByDriverIdAndOptionalStartTimeGreaterThanEqualAndOptionalEndTimeLessThanEqual(@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;, optional = true) Date start,\n        @Param(value = &quot;end&quot;, optional = true) Date end, Pageable pageable) {\n   if(start != null &amp;&amp; end != null) {\n      return findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(id, start, end, pageable);\n   }\n   return findByDriverId(id, pageable);\n}\n</code></pre>\n<p>I think you can even use <code>Optional</code> as a parameter type, then you can use function overloading</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\ndefault List&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(\n@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;) Optional&lt;Date&gt; start,\n        @Param(value = &quot;end&quot;) Optional&lt;Date&gt; end, Pageable pageable) {\n   if (!start.isEmpty() &amp;&amp; !end.isEmpty()) {\n      return findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(id, start.get(), end.get(), pageable);\n   }\n   return findByDriverId(id, pageable);\n}\n\nList&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(String id, Date start, Date end, Pageable pageable);\n</code></pre>\n<p>Notice that in this case, you shouldn't expose the other endpoints, and only expose this default method.</p>\n"},{"tags":[],"owner":{"account_id":2251654,"reputation":1272,"user_id":1983761,"display_name":"Pankaj Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609994478,"creation_date":1609994478,"answer_id":65606727,"question_id":25774061,"body_markdown":"Use  org.springframework.data.jpa.repository.JpaSpecificationExecutor;`\r\n\r\n**Step 1**: Implement `JpaSpecificationExecutor` in your JPA Repository\r\n\r\nEx:\r\n\r\n    public interface TicketRepo extends JpaRepository&lt;Ticket, Long&gt;, JpaSpecificationExecutor&lt;Ticket&gt; {\r\n\r\n**Step 2** Now to fetch tickets based on optional parameters you can build Specification query using CriteriaBuilder\r\n\r\nEx:\r\n\r\n    public Specification&lt;Ticket&gt; getTicketQuery(Integer domainId, Calendar startDate, Calendar endDate, Integer gameId, Integer drawId) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n            predicates.add(criteriaBuilder.equal(root.get(&quot;domainId&quot;), domainId));\r\n            predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;createdAt&quot;), startDate));\r\n            predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;createdAt&quot;), endDate));\r\n\r\n            if (gameId != null) {\r\n                predicates.add(criteriaBuilder.equal(root.get(&quot;gameId&quot;), gameId));\r\n            }\r\n\r\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n        };\r\n    }\r\n\r\nStep 3: Pass the Specification instance to jpaRepo.findAll(specification), it will return you the list of your entity object (Tickets here in the running example)\r\n\r\n    ticketRepo.findAll(specification); // Pass output of function in step 2 to findAll","title":"Spring Data Query Method with Optional @Param","body":"<p>Use  org.springframework.data.jpa.repository.JpaSpecificationExecutor;`</p>\n<p><strong>Step 1</strong>: Implement <code>JpaSpecificationExecutor</code> in your JPA Repository</p>\n<p>Ex:</p>\n<pre><code>public interface TicketRepo extends JpaRepository&lt;Ticket, Long&gt;, JpaSpecificationExecutor&lt;Ticket&gt; {\n</code></pre>\n<p><strong>Step 2</strong> Now to fetch tickets based on optional parameters you can build Specification query using CriteriaBuilder</p>\n<p>Ex:</p>\n<pre><code>public Specification&lt;Ticket&gt; getTicketQuery(Integer domainId, Calendar startDate, Calendar endDate, Integer gameId, Integer drawId) {\n    return (root, query, criteriaBuilder) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        predicates.add(criteriaBuilder.equal(root.get(&quot;domainId&quot;), domainId));\n        predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;createdAt&quot;), startDate));\n        predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;createdAt&quot;), endDate));\n\n        if (gameId != null) {\n            predicates.add(criteriaBuilder.equal(root.get(&quot;gameId&quot;), gameId));\n        }\n\n        return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n    };\n}\n</code></pre>\n<p>Step 3: Pass the Specification instance to jpaRepo.findAll(specification), it will return you the list of your entity object (Tickets here in the running example)</p>\n<pre><code>ticketRepo.findAll(specification); // Pass output of function in step 2 to findAll\n</code></pre>\n"}],"owner":{"account_id":309306,"reputation":5033,"user_id":621686,"accept_rate":71,"display_name":"bvulaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8656,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1632815674,"creation_date":1410379179,"question_id":25774061,"body_markdown":"Is it possible to allow query method @Params to be optional, specifically in the case of Spring Data REST?\r\n\r\nFor example, I&#39;d like to bind a very similar search to the same resource path.  To do this now, I would need something like the following:\r\n\r\n    @RestResource(path = &quot;driver&quot;, rel = &quot;byDriver&quot;)\r\n    List&lt;Bar&gt; findByDriverId(@Param(&quot;id&quot;) String id, Pageable pageable);\r\n    \r\n    @RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\r\n    List&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(&quot;id&quot;) String id, @Param(&quot;start&quot;) Date start,\r\n    \t\t@Param(&quot;end&quot;) Date end, Pageable pageable);\r\n\r\nWhich gives me:\r\n\r\n    byDriver: {\r\n      href: &quot;http://localhost:8080/foo/search/driver{?id,page,size,sort}&quot;,\r\n    },\r\n    byDriverAndSpan: {\r\n      href: &quot;http://localhost:8080/foo/search/driverAndSpan{?id,start,end,page,size,sort}&quot;,\r\n    }\r\n\r\nWhat I **want** is to be able to see something like the following path, where `start` and `end` are optional parameters, rather than defining multiple methods in my Repository.\r\n\r\n    byDriverAndSpan: {\r\n      href: &quot;http://localhost:8080/foo/search/driverAndSpan{?id,*start,*end,page,size,sort}&quot;,\r\n    }\r\n\r\nWhich could potentially look like:\r\n\r\n    @RestResource(path = &quot;driverAndSpan&quot;, rel = &quot;byDriverAndSpan&quot;)\r\n    List&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(&quot;id&quot;) String id, @Param(value = &quot;start&quot;, optional = true) Date start,\r\n    \t\t@Param(value = &quot;end&quot;, optional = true) Date end, Pageable pageable);","title":"Spring Data Query Method with Optional @Param","body":"<p>Is it possible to allow query method @Params to be optional, specifically in the case of Spring Data REST?</p>\n\n<p>For example, I'd like to bind a very similar search to the same resource path.  To do this now, I would need something like the following:</p>\n\n<pre><code>@RestResource(path = \"driver\", rel = \"byDriver\")\nList&lt;Bar&gt; findByDriverId(@Param(\"id\") String id, Pageable pageable);\n\n@RestResource(path = \"driverAndSpan\", rel = \"byDriverAndSpan\")\nList&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(\"id\") String id, @Param(\"start\") Date start,\n        @Param(\"end\") Date end, Pageable pageable);\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>byDriver: {\n  href: \"http://localhost:8080/foo/search/driver{?id,page,size,sort}\",\n},\nbyDriverAndSpan: {\n  href: \"http://localhost:8080/foo/search/driverAndSpan{?id,start,end,page,size,sort}\",\n}\n</code></pre>\n\n<p>What I <strong>want</strong> is to be able to see something like the following path, where <code>start</code> and <code>end</code> are optional parameters, rather than defining multiple methods in my Repository.</p>\n\n<pre><code>byDriverAndSpan: {\n  href: \"http://localhost:8080/foo/search/driverAndSpan{?id,*start,*end,page,size,sort}\",\n}\n</code></pre>\n\n<p>Which could potentially look like:</p>\n\n<pre><code>@RestResource(path = \"driverAndSpan\", rel = \"byDriverAndSpan\")\nList&lt;Bar&gt; findByDriverIdAndStartTimeGreaterThanEqualAndEndTimeLessThanEqual(@Param(\"id\") String id, @Param(value = \"start\", optional = true) Date start,\n        @Param(value = \"end\", optional = true) Date end, Pageable pageable);\n</code></pre>\n"},{"tags":["java","eclipse","macos","maven","run-configuration"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1632814546,"post_id":69355535,"comment_id":122587923,"body_markdown":"The arguments section is just passed to the program you are running, this is not an Eclipse message","body":"The arguments section is just passed to the program you are running, this is not an Eclipse message"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632815577,"post_id":69355535,"comment_id":122588313,"body_markdown":"Why are you trying to pass these arguments to Tomcat? That does not make sense to me.","body":"Why are you trying to pass these arguments to Tomcat? That does not make sense to me."}],"owner":{"account_id":4116899,"reputation":3660,"user_id":3378245,"accept_rate":55,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632815531,"creation_date":1632800500,"question_id":69355535,"body_markdown":"I am using Mac Big Sur and trying to run a project using arguments in the run config, but I get an error\r\n\r\n&gt; Sep 28, 2021 9:02:09 AM org.apache.catalina.startup.Bootstrap main\r\nWARNING: Bootstrap: command &quot;testpass&quot; does not exist.\r\n\r\nThe arguments which I am giving are shown below and the reference image also\r\n\r\n    /path/to/csvFile\r\n    empty\r\n    &lt;jdbc string&gt;\r\n    username\r\n    testpass\r\n\r\nInstead of taking the &quot;testpass&quot; as an argument, it is taking as a command.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I fix this issue?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ubPqf.jpg","title":"Eclipse for Java giving console error when run project with arguments","body":"<p>I am using Mac Big Sur and trying to run a project using arguments in the run config, but I get an error</p>\n<blockquote>\n<p>Sep 28, 2021 9:02:09 AM org.apache.catalina.startup.Bootstrap main\nWARNING: Bootstrap: command &quot;testpass&quot; does not exist.</p>\n</blockquote>\n<p>The arguments which I am giving are shown below and the reference image also</p>\n<pre><code>/path/to/csvFile\nempty\n&lt;jdbc string&gt;\nusername\ntestpass\n</code></pre>\n<p>Instead of taking the &quot;testpass&quot; as an argument, it is taking as a command.</p>\n<p><a href=\"https://i.stack.imgur.com/ubPqf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ubPqf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1632799260,"post_id":69354934,"comment_id":122584308,"body_markdown":"What&#39;s wrong with calling `arrayList[2]` there after you get it? I don&#39;t think you can read just a single entry from the array through firestore.","body":"What&#39;s wrong with calling <code>arrayList[2]</code> there after you get it? I don&#39;t think you can read just a single entry from the array through firestore."},{"owner":{"account_id":20957518,"reputation":33,"user_id":15397643,"display_name":"Nuwan Malintha"},"score":0,"creation_date":1632832555,"post_id":69354934,"comment_id":122595443,"body_markdown":"yeah, I can get like that, but I want to get one from Firestore because soon, there will be hundreds of elements in that array.","body":"yeah, I can get like that, but I want to get one from Firestore because soon, there will be hundreds of elements in that array."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1632835749,"post_id":69354934,"comment_id":122597020,"body_markdown":"I think if getting them all at once is going to be an issue you should change how the database is structured so they are in separate documents rather than an array inside a single document. Firestore can query for specific documents, but not fields within a document.","body":"I think if getting them all at once is going to be an issue you should change how the database is structured so they are in separate documents rather than an array inside a single document. Firestore can query for specific documents, but not fields within a document."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632815333,"creation_date":1632815333,"answer_id":69357712,"question_id":69354934,"body_markdown":"&gt; Currently, I am able to get the entire array.\r\n\r\nThat&#39;s the way Firestore works. All Cloud Firestore listeners fire on the document level. So there is no way you can get only some particular fields in a document. In your case, you cannot get only the &quot;images&quot; array that exists inside that document, or just a value from within that array. It&#39;s the entire document or nothing. \r\n\r\n&gt; But I couldn&#39;t get a value by its index database image.\r\n\r\nSince you already got the array, you can get the value that exists at the second index very simply. Knowing that the first index is `0`, the second index would be `1`. So you have to make the following request:\r\n\r\n    ArrayList arrayList = (ArrayList) task.getResult().get(&quot;images&quot;);\r\n    String secondImage = arrayList.get(1);","title":"How to get specific array value Cloud Firestore","body":"<blockquote>\n<p>Currently, I am able to get the entire array.</p>\n</blockquote>\n<p>That's the way Firestore works. All Cloud Firestore listeners fire on the document level. So there is no way you can get only some particular fields in a document. In your case, you cannot get only the &quot;images&quot; array that exists inside that document, or just a value from within that array. It's the entire document or nothing.</p>\n<blockquote>\n<p>But I couldn't get a value by its index database image.</p>\n</blockquote>\n<p>Since you already got the array, you can get the value that exists at the second index very simply. Knowing that the first index is <code>0</code>, the second index would be <code>1</code>. So you have to make the following request:</p>\n<pre><code>ArrayList arrayList = (ArrayList) task.getResult().get(&quot;images&quot;);\nString secondImage = arrayList.get(1);\n</code></pre>\n"}],"owner":{"account_id":20957518,"reputation":33,"user_id":15397643,"display_name":"Nuwan Malintha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69357712,"answer_count":1,"score":3,"last_activity_date":1632815393,"creation_date":1632794160,"question_id":69354934,"body_markdown":"I want to get the value of the second index inside a document of the Firestore database. Currently, I am able to get the entire array but I couldn&#39;t get a value by its index.\r\n\r\n[database image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ICShq.png\r\n\r\nThis is the code I have which returns the entire value of the array .\r\n\r\n            firebaseFirestore.collection(&quot;levels&quot;).document(&quot;data&quot;).get()\r\n                .addOnCompleteListener(task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                        ArrayList arrayList = (ArrayList) task.getResult().get(&quot;images&quot;); \r\n                        // Here i am getting the entire data from the document\r\n                    }\r\n                });","title":"How to get specific array value Cloud Firestore","body":"<p>I want to get the value of the second index inside a document of the Firestore database. Currently, I am able to get the entire array but I couldn't get a value by its index.</p>\n<p><a href=\"https://i.stack.imgur.com/ICShq.png\" rel=\"nofollow noreferrer\">database image</a></p>\n<p>This is the code I have which returns the entire value of the array .</p>\n<pre><code>        firebaseFirestore.collection(&quot;levels&quot;).document(&quot;data&quot;).get()\n            .addOnCompleteListener(task -&gt; {\n                if (task.isSuccessful()) {\n                    ArrayList arrayList = (ArrayList) task.getResult().get(&quot;images&quot;); \n                    // Here i am getting the entire data from the document\n                }\n            });\n</code></pre>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"score":1,"creation_date":1509673461,"post_id":47086943,"comment_id":81124153,"body_markdown":"Just to mention only the tips (most recent commit) of branches are actually &quot;associated&quot; to the branch. For other commits, you can only guess by looking at the commits graph and history.","body":"Just to mention only the tips (most recent commit) of branches are actually &quot;associated&quot; to the branch. For other commits, you can only guess by looking at the commits graph and history."}],"answers":[{"tags":[],"owner":{"account_id":8435904,"reputation":28024,"user_id":6330106,"display_name":"ElpieKay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509684442,"creation_date":1509673185,"answer_id":47087185,"question_id":47086943,"body_markdown":"As the [document][1] says,\r\n\r\n&gt; Class ListBranchCommand\r\n&gt; \r\n&gt; ListBranchCommand\tsetContains(String containsCommitish)\r\n\r\n    setContains\r\n\r\n    public ListBranchCommand setContains(String containsCommitish)\r\n\r\n    If this is set, only the branches that contain the specified commit-ish as an ancestor are returned.\r\n\r\n    Parameters:\r\n    containsCommitish - a commit ID or ref name\r\n\r\n    Returns:\r\n    this instance\r\n\r\n    Since:\r\n    3.4\r\n\r\n  [1]: http://download.eclipse.org/jgit/site/4.9.0.201710071750-r/apidocs/index.html\r\n\r\nThis api is corresponding to `git branch --contains &lt;commit-ish&gt;`\r\n\r\nYou may also need this api if you&#39;d like to list the remote branches (`-r`) or both the remote and local branches (`-a`), \r\n\r\n    setListMode\r\n\r\n    public ListBranchCommand setListMode(ListBranchCommand.ListMode listMode)\r\n\r\n    Parameters:\r\n    listMode - optional: corresponds to the -r/-a options; by default, only local branches will be listed\r\n\r\n    Returns:\r\n    this instance\r\n\r\nSample:\r\n\r\n    #list all the branches that &quot;HEAD&quot; belongs to.\r\n    try {\r\n        Git git = Git.open(new File(&quot;D:/foo/.git&quot;));\r\n        List&lt;Ref&gt; refs = git.branchList().setContains(&quot;HEAD&quot;).setListMode(ListBranchCommand.ListMode.ALL).call();\r\n        System.out.println(refs);\r\n    } catch (Exception e) {\r\n        System.out.println(e);\r\n    }\r\n\r\n","title":"How to find the branch for a commit with JGit?","body":"<p>As the <a href=\"http://download.eclipse.org/jgit/site/4.9.0.201710071750-r/apidocs/index.html\" rel=\"nofollow noreferrer\">document</a> says,</p>\n\n<blockquote>\n  <p>Class ListBranchCommand</p>\n  \n  <p>ListBranchCommand setContains(String containsCommitish)</p>\n</blockquote>\n\n<pre><code>setContains\n\npublic ListBranchCommand setContains(String containsCommitish)\n\nIf this is set, only the branches that contain the specified commit-ish as an ancestor are returned.\n\nParameters:\ncontainsCommitish - a commit ID or ref name\n\nReturns:\nthis instance\n\nSince:\n3.4\n</code></pre>\n\n<p>This api is corresponding to <code>git branch --contains &lt;commit-ish&gt;</code></p>\n\n<p>You may also need this api if you'd like to list the remote branches (<code>-r</code>) or both the remote and local branches (<code>-a</code>), </p>\n\n<pre><code>setListMode\n\npublic ListBranchCommand setListMode(ListBranchCommand.ListMode listMode)\n\nParameters:\nlistMode - optional: corresponds to the -r/-a options; by default, only local branches will be listed\n\nReturns:\nthis instance\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>#list all the branches that \"HEAD\" belongs to.\ntry {\n    Git git = Git.open(new File(\"D:/foo/.git\"));\n    List&lt;Ref&gt; refs = git.branchList().setContains(\"HEAD\").setListMode(ListBranchCommand.ListMode.ALL).call();\n    System.out.println(refs);\n} catch (Exception e) {\n    System.out.println(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1624863397,"creation_date":1509689919,"answer_id":47089600,"question_id":47086943,"body_markdown":"In Git, a commit does not belong to a branch. A commit is immutable, whereas branches can change their name as well as the commit they point to.\r\n\r\nA commit is _reachable_ from a branch (or tag, or other ref) if there is a branch that either directly points to the commit or to a successor of the commit.\r\n\r\nIn JGit the `NameRevCommand` can be used to find a branch, if any, that directly points to a commit. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Map&lt;ObjectId, String&gt; map = git\r\n      .nameRev()\r\n      .addPrefix(&quot;refs/heads&quot;)\r\n      .add(ObjectId.fromString(&quot;&lt;SHA-1&gt;&quot;))\r\n      .call();\r\n\r\nThe above snippet looks in the `refs/heads` namespace for a ref that points to the given commit. The returned map contains at most one entry where the key is the given commit id and the value denotes the branch which points to it.","title":"How to find the branch for a commit with JGit?","body":"<p>In Git, a commit does not belong to a branch. A commit is immutable, whereas branches can change their name as well as the commit they point to.</p>\n<p>A commit is <em>reachable</em> from a branch (or tag, or other ref) if there is a branch that either directly points to the commit or to a successor of the commit.</p>\n<p>In JGit the <code>NameRevCommand</code> can be used to find a branch, if any, that directly points to a commit. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;ObjectId, String&gt; map = git\n  .nameRev()\n  .addPrefix(&quot;refs/heads&quot;)\n  .add(ObjectId.fromString(&quot;&lt;SHA-1&gt;&quot;))\n  .call();\n</code></pre>\n<p>The above snippet looks in the <code>refs/heads</code> namespace for a ref that points to the given commit. The returned map contains at most one entry where the key is the given commit id and the value denotes the branch which points to it.</p>\n"}],"owner":{"account_id":9576444,"reputation":211,"user_id":7112377,"accept_rate":71,"display_name":"Tony P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3291,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47089600,"answer_count":2,"score":7,"last_activity_date":1632815333,"creation_date":1509671259,"question_id":47086943,"body_markdown":"I need to obtain the name of the branch that is associated with a specific commit using JGit. I used JGit to obtain the complete list of commit SHA&#39;s for a repository and now I need to know the name of the branch it belongs to.\r\n\r\nAppreciate if someone can let me know how I can achieve this.\r\n","title":"How to find the branch for a commit with JGit?","body":"<p>I need to obtain the name of the branch that is associated with a specific commit using JGit. I used JGit to obtain the complete list of commit SHA's for a repository and now I need to know the name of the branch it belongs to.</p>\n\n<p>Appreciate if someone can let me know how I can achieve this.</p>\n"},{"tags":["java","spring","spring-boot","performance","spring-data"],"owner":{"account_id":22198122,"reputation":31,"user_id":16439217,"display_name":"Shrey Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632815328,"creation_date":1632808889,"question_id":69356517,"body_markdown":"I need some help with image compression. Currently, the requirement is, when we send an email from any mail provider with an inline image attached to that mail, we use to render this email in an editor(Iframe). The problem with this editor is, it does not render that inline-image because I am getting it as CID:****.\r\n\r\nWhat I did is I replace those CID with actual image content. For example, `&lt;img src = data: image type;base64 followed by bytearray&gt;`. This works fine and email also gets rendered in the editor, but problems arise when I send 5 to 10 or even 1 inline image of 10Mb. At that time it takes l0sec to render it (for info, we store email contents in MongoDB).\r\n\r\nIs there any good library/code that I can use to compress and also want to resize the image to show in the editor?\r\n\r\nCurrent replace CID to image content code:\r\n\r\n  ```java\r\n  private String processInlineHtmlImages(String htmlContent, MimeMessageParser parser, String messageId) throws IOException {\r\n    Collection&lt;String&gt; contentIds = parser.getContentIds();\r\n    if (!CollectionUtils.isEmpty(contentIds)) {\r\n      for (Iterator&lt;String&gt; contentId = contentIds.iterator(); contentId.hasNext();) {\r\n        String cid = contentId.next();\r\n        String imageContentId = &quot;cid:&quot; + cid;\r\n        if (htmlContent.contains(imageContentId)) {\r\n          DataSource contentIdbyteArray = parser.findAttachmentByCid(cid);\r\n          String imageType = contentIdbyteArray.getContentType() != null ? &quot;jpg&quot; : contentIdbyteArray.getContentType();\r\n          if (contentIdbyteArray != null) {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            try {\r\n              IOUtils.copy(contentIdbyteArray.getInputStream(), outputStream);\r\n            }\r\n            catch (IOException e) {\r\n              logger.error(&quot;CCM-MessageID: {} exception while processing inline image&quot;, messageId);\r\n            }\r\n            byte[] bytes = outputStream.toByteArray();\r\n            // Resize the image if its greater then 1Mb\r\n            if (bytes.length &gt; 1048576) {\r\n                  // Compress code should be here if size of bytes more than 1Mb\r\n            }\r\n            StringBuilder imgSrc = new StringBuilder();\r\n            imgSrc.append(&quot;data:image/&quot; + imageType + &quot;;base64,&quot;);\r\n            imgSrc.append(Base64.getEncoder().encodeToString(bytes));\r\n\r\n            // This will replace the html inline image cid to its bytes\r\n            htmlContent = htmlContent.replaceAll(imageContentId, imgSrc.toString());\r\n          }\r\n        }\r\n      }\r\n      return htmlContent;\r\n    }\r\n    return null;\r\n  }\r\n```","title":"How to compress image in Spring Boot to kb without loosing image quality","body":"<p>I need some help with image compression. Currently, the requirement is, when we send an email from any mail provider with an inline image attached to that mail, we use to render this email in an editor(Iframe). The problem with this editor is, it does not render that inline-image because I am getting it as CID:****.</p>\n<p>What I did is I replace those CID with actual image content. For example, <code>&lt;img src = data: image type;base64 followed by bytearray&gt;</code>. This works fine and email also gets rendered in the editor, but problems arise when I send 5 to 10 or even 1 inline image of 10Mb. At that time it takes l0sec to render it (for info, we store email contents in MongoDB).</p>\n<p>Is there any good library/code that I can use to compress and also want to resize the image to show in the editor?</p>\n<p>Current replace CID to image content code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String processInlineHtmlImages(String htmlContent, MimeMessageParser parser, String messageId) throws IOException {\n  Collection&lt;String&gt; contentIds = parser.getContentIds();\n  if (!CollectionUtils.isEmpty(contentIds)) {\n    for (Iterator&lt;String&gt; contentId = contentIds.iterator(); contentId.hasNext();) {\n      String cid = contentId.next();\n      String imageContentId = &quot;cid:&quot; + cid;\n      if (htmlContent.contains(imageContentId)) {\n        DataSource contentIdbyteArray = parser.findAttachmentByCid(cid);\n        String imageType = contentIdbyteArray.getContentType() != null ? &quot;jpg&quot; : contentIdbyteArray.getContentType();\n        if (contentIdbyteArray != null) {\n          ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n          try {\n            IOUtils.copy(contentIdbyteArray.getInputStream(), outputStream);\n          }\n          catch (IOException e) {\n            logger.error(&quot;CCM-MessageID: {} exception while processing inline image&quot;, messageId);\n          }\n          byte[] bytes = outputStream.toByteArray();\n          // Resize the image if its greater then 1Mb\n          if (bytes.length &gt; 1048576) {\n                // Compress code should be here if size of bytes more than 1Mb\n          }\n          StringBuilder imgSrc = new StringBuilder();\n          imgSrc.append(&quot;data:image/&quot; + imageType + &quot;;base64,&quot;);\n          imgSrc.append(Base64.getEncoder().encodeToString(bytes));\n\n          // This will replace the html inline image cid to its bytes\n          htmlContent = htmlContent.replaceAll(imageContentId, imgSrc.toString());\n        }\n      }\n    }\n    return htmlContent;\n  }\n  return null;\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632815186,"creation_date":1632767625,"answer_id":69351702,"question_id":69346748,"body_markdown":"In Office Open XML drawing, the [Normal AutoFit](https://learn.microsoft.com/en-us/dotnet/api/documentformat.openxml.drawing.normalautofit?view=openxml-2.8.1) needs a `fontScale` attribute which specifies the percentage of the original font size to which each run in the text body is scaled. If this attribute is omitted, then a value of 100% is implied. Apache POI does not have a method to set font scale nor will it auto calculate the font scale. So it is omitted. Only PowerPoint&#39;s GUI will auto calculate the font scale when necessary.\r\n\r\nTo present a workaround, one could use [XSLFTextShape.resizeToFitText](https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFTextShape.html#resizeToFitText--) to calculate the size of a rectangle which would be needed to fit all the text in. If that size is bigger than the given size, then calculate the needed font scale to fit the text in the lower sized rectangle. However, `XSLFTextShape.resizeToFitText` will resize the shape, so the wanted size needs to be set again after that.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.sl.usermodel.*;\r\n    \r\n    import java.awt.Rectangle;\r\n    import java.awt.geom.Rectangle2D;\r\n    \r\n    public class CreatePPTXTextShape {\r\n        \r\n     static void drawRectWithText(XSLFSlide slide, int x, int y, int width, int height, String text) {\r\n      XSLFAutoShape shape = slide.createAutoShape();\r\n      Rectangle rect = new Rectangle(x, y, width, height);\r\n      shape.setAnchor(rect.getBounds2D());\r\n      shape.setShapeType(ShapeType.RECT);\r\n      shape.setText(text);\r\n      shape.setTextDirection(TextShape.TextDirection.HORIZONTAL);\r\n      shape.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n      shape.setTextAutofit(TextShape.TextAutofit.NORMAL); // &lt;-- This sets the &#39;Shrink text to overflow&#39;\r\n      \r\n      // calculate the needed font scaling\r\n      Rectangle2D rect2D = shape.resizeToFitText();\r\n      double upscaledHeight = rect2D.getHeight(); // needed height to fit the text in\r\n      double hScale = 1d;\r\n      if (upscaledHeight &gt; height) hScale = height / upscaledHeight;\r\n      System.out.println(hScale);\r\n      // set font scale\r\n      shape.getTextBody().getXmlObject().getBodyPr().getNormAutofit().setFontScale(hScale * 100000);\r\n      // shape.resizeToFitText() had resized the shape, so set wanted size again\r\n      shape.setAnchor(rect.getBounds2D());\r\n      \r\n      XSLFTextParagraph xslfTextParagraph = shape.getTextParagraphs().get(0);\r\n      xslfTextParagraph.setTextAlign(TextParagraph.TextAlign.CENTER);\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      SlideShow slideShow = new XMLSlideShow();\r\n    \r\n      XSLFSlide slide = (XSLFSlide)slideShow.createSlide();\r\n    \r\n      drawRectWithText(slide, 100, 100, 50, 50, &quot;This is a test text.&quot;);\r\n      \r\n      drawRectWithText(slide, 100, 200, 100, 50, &quot;This is a longer test text.&quot;);\r\n      \r\n      drawRectWithText(slide, 300, 100, 50, 100, &quot;This is a much longer test text.&quot;);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreatePPTXTextShape.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n      slideShow.close();\r\n     }\r\n    }","title":"Shrink text on overflow on a shape in Power Point","body":"<p>In Office Open XML drawing, the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/documentformat.openxml.drawing.normalautofit?view=openxml-2.8.1\" rel=\"nofollow noreferrer\">Normal AutoFit</a> needs a <code>fontScale</code> attribute which specifies the percentage of the original font size to which each run in the text body is scaled. If this attribute is omitted, then a value of 100% is implied. Apache POI does not have a method to set font scale nor will it auto calculate the font scale. So it is omitted. Only PowerPoint's GUI will auto calculate the font scale when necessary.</p>\n<p>To present a workaround, one could use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFTextShape.html#resizeToFitText--\" rel=\"nofollow noreferrer\">XSLFTextShape.resizeToFitText</a> to calculate the size of a rectangle which would be needed to fit all the text in. If that size is bigger than the given size, then calculate the needed font scale to fit the text in the lower sized rectangle. However, <code>XSLFTextShape.resizeToFitText</code> will resize the shape, so the wanted size needs to be set again after that.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.sl.usermodel.*;\n\nimport java.awt.Rectangle;\nimport java.awt.geom.Rectangle2D;\n\npublic class CreatePPTXTextShape {\n    \n static void drawRectWithText(XSLFSlide slide, int x, int y, int width, int height, String text) {\n  XSLFAutoShape shape = slide.createAutoShape();\n  Rectangle rect = new Rectangle(x, y, width, height);\n  shape.setAnchor(rect.getBounds2D());\n  shape.setShapeType(ShapeType.RECT);\n  shape.setText(text);\n  shape.setTextDirection(TextShape.TextDirection.HORIZONTAL);\n  shape.setVerticalAlignment(VerticalAlignment.MIDDLE);\n  shape.setTextAutofit(TextShape.TextAutofit.NORMAL); // &lt;-- This sets the 'Shrink text to overflow'\n  \n  // calculate the needed font scaling\n  Rectangle2D rect2D = shape.resizeToFitText();\n  double upscaledHeight = rect2D.getHeight(); // needed height to fit the text in\n  double hScale = 1d;\n  if (upscaledHeight &gt; height) hScale = height / upscaledHeight;\n  System.out.println(hScale);\n  // set font scale\n  shape.getTextBody().getXmlObject().getBodyPr().getNormAutofit().setFontScale(hScale * 100000);\n  // shape.resizeToFitText() had resized the shape, so set wanted size again\n  shape.setAnchor(rect.getBounds2D());\n  \n  XSLFTextParagraph xslfTextParagraph = shape.getTextParagraphs().get(0);\n  xslfTextParagraph.setTextAlign(TextParagraph.TextAlign.CENTER);\n }\n\n public static void main(String[] args) throws Exception {\n\n  SlideShow slideShow = new XMLSlideShow();\n\n  XSLFSlide slide = (XSLFSlide)slideShow.createSlide();\n\n  drawRectWithText(slide, 100, 100, 50, 50, &quot;This is a test text.&quot;);\n  \n  drawRectWithText(slide, 100, 200, 100, 50, &quot;This is a longer test text.&quot;);\n  \n  drawRectWithText(slide, 300, 100, 50, 100, &quot;This is a much longer test text.&quot;);\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreatePPTXTextShape.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n  slideShow.close();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":5128290,"reputation":1446,"user_id":4109477,"accept_rate":50,"display_name":"M&#225;rk Farkas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69351702,"answer_count":1,"score":0,"last_activity_date":1632815186,"creation_date":1632746234,"question_id":69346748,"body_markdown":"I have a Java app using Apache POI which generates a PPT (PowerPoint Presentation) with shapes and texts on these shapes. I would like these texts to automatically fit inside of the corresponding shape. There is definitely an option for this in PowerPoint, which works fine and called &#39;Shrink text on overflow&#39;\r\n\r\nWith Apache POI I can set this option from the code. Example below:\r\n\r\n    private void drawRectWithText(XSLFSlide slide, int x, int y, int width, int height, String text) {\r\n        XSLFAutoShape shape1 = slide.createAutoShape();\r\n        Rectangle rect1 = new Rectangle(x, y, width, upperRectHeight);\r\n    \tshape1.setAnchor(rect1.getBounds2D());\r\n\t\tshape1.setShapeType(ShapeType.RECT);\r\n\t\tshape1.setText(text);\r\n\t\tshape1.setTextDirection(TextDirection.HORIZONTAL);\r\n\t\tshape1.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n\t\tXSLFTextParagraph xslfTextParagraph = shape1.getTextParagraphs().get(0);\r\n\t\txslfTextParagraph.setTextAlign(TextParagraph.TextAlign.CENTER);\r\n\t\txslfTextParagraph.setFontAlign(FontAlign.AUTO);\r\n\t\tXSLFTextShape xslfTextShape = xslfTextParagraph.getParentShape();\r\n\t\txslfTextShape.setTextAutofit(TextAutofit.NORMAL); // &lt;-- This sets the &#39;Shrink text on overflow&#39;\r\n\t\txslfTextShape.setAnchor(rect1.getBounds2D());\r\n    }\r\n\r\nThis indeed sets the &#39;*Shrink text on overflow*&#39; option properly, but nothing happens, the text does not shrink. \r\n\r\nWhen I open the generated PPT, the text has the original size, and overflows, but I can see that the proper option is set. However, if I set anything on this shape or if I reset the slide, the text suddenly shrinks. So the option is set properly it just does not take affect until I refresh the shape.\r\n\r\nIs there a way in Apache POI to somehow force refresh a shape? Or is there any other way to achieve the &#39;*Shrink text on overflow*&#39; behaviour?\r\n\r\nI&#39;m using Apache POI 5.0.\r\n","title":"Shrink text on overflow on a shape in Power Point","body":"<p>I have a Java app using Apache POI which generates a PPT (PowerPoint Presentation) with shapes and texts on these shapes. I would like these texts to automatically fit inside of the corresponding shape. There is definitely an option for this in PowerPoint, which works fine and called 'Shrink text on overflow'</p>\n<p>With Apache POI I can set this option from the code. Example below:</p>\n<pre><code>private void drawRectWithText(XSLFSlide slide, int x, int y, int width, int height, String text) {\n    XSLFAutoShape shape1 = slide.createAutoShape();\n    Rectangle rect1 = new Rectangle(x, y, width, upperRectHeight);\n    shape1.setAnchor(rect1.getBounds2D());\n    shape1.setShapeType(ShapeType.RECT);\n    shape1.setText(text);\n    shape1.setTextDirection(TextDirection.HORIZONTAL);\n    shape1.setVerticalAlignment(VerticalAlignment.MIDDLE);\n    XSLFTextParagraph xslfTextParagraph = shape1.getTextParagraphs().get(0);\n    xslfTextParagraph.setTextAlign(TextParagraph.TextAlign.CENTER);\n    xslfTextParagraph.setFontAlign(FontAlign.AUTO);\n    XSLFTextShape xslfTextShape = xslfTextParagraph.getParentShape();\n    xslfTextShape.setTextAutofit(TextAutofit.NORMAL); // &lt;-- This sets the 'Shrink text on overflow'\n    xslfTextShape.setAnchor(rect1.getBounds2D());\n}\n</code></pre>\n<p>This indeed sets the '<em>Shrink text on overflow</em>' option properly, but nothing happens, the text does not shrink.</p>\n<p>When I open the generated PPT, the text has the original size, and overflows, but I can see that the proper option is set. However, if I set anything on this shape or if I reset the slide, the text suddenly shrinks. So the option is set properly it just does not take affect until I refresh the shape.</p>\n<p>Is there a way in Apache POI to somehow force refresh a shape? Or is there any other way to achieve the '<em>Shrink text on overflow</em>' behaviour?</p>\n<p>I'm using Apache POI 5.0.</p>\n"},{"tags":["java","maven","travis-ci"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1599120857,"post_id":63719194,"comment_id":112676761,"body_markdown":"Post your POM; this should work fine.","body":"Post your POM; this should work fine."},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1599121114,"post_id":63719194,"comment_id":112676905,"body_markdown":"I update the question with the `pom.xml` file","body":"I update the question with the <code>pom.xml</code> file"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1599130067,"post_id":63719194,"comment_id":112681263,"body_markdown":"Possibly a duplicate of https://stackoverflow.com/q/25860087/. It appears Travis specifies its own `settings.xml`. https://github.com/travis-ci/travis-ci/issues/5805 suggests removing that file, though I do not know how reliable that is.","body":"Possibly a duplicate of <a href=\"https://stackoverflow.com/q/25860087/\">stackoverflow.com/q/25860087</a>. It appears Travis specifies its own <code>settings.xml</code>. <a href=\"https://github.com/travis-ci/travis-ci/issues/5805\" rel=\"nofollow noreferrer\">github.com/travis-ci/travis-ci/issues/5805</a> suggests removing that file, though I do not know how reliable that is."},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1599140459,"post_id":63719194,"comment_id":112686495,"body_markdown":"I tried all the possible solutions of both links but I couldn&#39;t fix my error. I guess travis is not supporting another repository rather than the central repository.","body":"I tried all the possible solutions of both links but I couldn&#39;t fix my error. I guess travis is not supporting another repository rather than the central repository."}],"answers":[{"tags":[],"owner":{"account_id":22881578,"reputation":26,"user_id":17023095,"display_name":"Mercypl0x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632815127,"creation_date":1632815127,"answer_id":69357669,"question_id":63719194,"body_markdown":"I ran into the same problem, I managed to bypass travis ci using it&#39;s own settings.xml by adding this to the YAML file.\r\n\r\n     before_install:\r\n      - mkdir -p $HOME/.m2\r\n      - cp my-settings.xml $HOME/.m2/settings.xml\r\n\r\nthis way the initial `mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V` done by travis ci uses the settings specified in `my-settings.xml`.","title":"How to make travis-ci download jars from a different maven repository?","body":"<p>I ran into the same problem, I managed to bypass travis ci using it's own settings.xml by adding this to the YAML file.</p>\n<pre><code> before_install:\n  - mkdir -p $HOME/.m2\n  - cp my-settings.xml $HOME/.m2/settings.xml\n</code></pre>\n<p>this way the initial <code>mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V</code> done by travis ci uses the settings specified in <code>my-settings.xml</code>.</p>\n"}],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69357669,"answer_count":1,"score":1,"last_activity_date":1632815127,"creation_date":1599119698,"question_id":63719194,"body_markdown":"my java/scala project is using maven as a build tool and I want to use travis-ci to test the build. The problem that I am facing is that my `pom.xml` has a third part repository set:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.sense.flink&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;explore-flink&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;explore-flink&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n    \t\t&lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\r\n    \t\t&lt;flink.version&gt;1.11.1&lt;/flink.version&gt;\r\n    \t\t&lt;guava.version&gt;29.0-jre&lt;/guava.version&gt;\r\n    \t\t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t\t&lt;scala.version&gt;2.12.7&lt;/scala.version&gt;\r\n    \t\t&lt;geotools.version&gt;21.2&lt;/geotools.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;osgeo&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Open Source Geospatial Foundation Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://download.osgeo.org/webdav/geotools/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-clients_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-metrics-dropwizard&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-connector-twitter_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-table-planner_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-table-api-java-bridge_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-table-api-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-streaming-scala_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-connector-kafka_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flink-statebackend-rocksdb_${scala.binary.version}&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${flink.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.fusesource.mqtt-client&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mqtt-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n    \t\t\t&lt;!-- &lt;scope&gt;provided&lt;/scope&gt; --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.addthis&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;stream-lib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.26&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.26&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.geotools/ --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gt-referencing&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.geotools&lt;/groupId&gt; &lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n    \t\t\t&lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gt-geojsondatastore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geotools.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${guava.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Make Scala available in project. Pay extra attention to the version --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${scala.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.openhft&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;affinity&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.airlift.tpch&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tpch&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t\t&lt;finalName&gt;explore-flink&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;scala-compile-first&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;scala-test-compile&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;testCompile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;!-- download source code in Eclipse, best practice --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.10&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Set a compiler level --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Maven Shade Plugin --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t\t\t&lt;!-- Run shade goal on package phase --&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;org.apache.flink:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;!-- Also exclude very big transitive dependencies of Flink WARNING: \r\n    \t\t\t\t\t\t\t\t\t\tYou have to remove these excludes if your code relies on other versions of \r\n    \t\t\t\t\t\t\t\t\t\tthese dependencies. --&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;log4j:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;com.typesafe:config:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;junit:junit:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;exclude&gt;com.codahale.metrics:*&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t&lt;/artifactSet&gt;\r\n    \t\t\t\t\t\t\t&lt;filters&gt;\r\n    \t\t\t\t\t\t\t\t&lt;filter&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifact&gt;org.apache.flink:*&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;!-- exclude shaded google but include shaded curator --&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;org/apache/flink/shaded/com/**&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;web-docs/**&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n    \t\t\t\t\t\t\t\t&lt;filter&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;!-- Do not copy the signatures in the META-INF folder. Otherwise, \r\n    \t\t\t\t\t\t\t\t\t\tthis might cause SecurityExceptions when using the JAR. --&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n    \t\t\t\t\t\t\t&lt;/filters&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- If you want to use ./bin/flink run &lt;quickstart jar&gt; uncomment \r\n    \t\t\t\t\t\t\t\tthe following lines. This will add a Main-Class entry to the manifest file --&gt;\r\n    \t\t\t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;mainClass&gt;org.sense.flink.App&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t\t\t\t&lt;!-- This bit merges the various GeoTools META-INF/services files --&gt;\r\n    \t\t\t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\r\n    \t\t\t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t\t\t&lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand when I build the project on travis-ci I get this error:\r\n\r\n    [WARNING] The POM for org.geotools:gt-referencing:jar:21.2 is missing, no dependency information available\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.pom\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.pom\r\n    [WARNING] The POM for org.geotools:gt-epsg-wkt:jar:21.2 is missing, no dependency information available\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.pom\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.pom\r\n    [WARNING] The POM for org.geotools:gt-geojsondatastore:jar:21.2 is missing, no dependency information available\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.pom\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.pom\r\n    [WARNING] The POM for org.geotools:gt-metadata:jar:21.2 is missing, no dependency information available\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.pom\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.pom\r\n    [WARNING] The POM for org.geotools:gt-shapefile:jar:21.2 is missing, no dependency information available\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-referencing/21.2/gt-referencing-21.2.jar\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.jar\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.jar\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.jar\r\n    [INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.jar\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-referencing/21.2/gt-referencing-21.2.jar\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.jar\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.jar\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.jar\r\n    [INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.005 s\r\n    [INFO] Finished at: 2020-09-03T07:24:56Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project explore-flink: Could not resolve dependencies for project org.sense.flink:explore-flink:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.geotools:gt-referencing:jar:21.2, org.geotools:gt-epsg-wkt:jar:21.2, org.geotools:gt-geojsondatastore:jar:21.2, org.geotools:gt-metadata:jar:21.2, org.geotools:gt-shapefile:jar:21.2: Failure to find org.geotools:gt-referencing:jar:21.2 in https://maven-central.storage-download.googleapis.com/maven2/ was cached in the local repository, resolution will not be reattempted until the update interval of google-maven-central has elapsed or updates are forced -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n    The command &quot;eval mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V &quot; failed. Retrying, 3 of 3.\r\n\r\nI guess travis is downloading the sources from https://repository.apache.org/content/repositories/releases/org/geotools and I set on the `pom.xml` to download from `http://download.osgeo.org/webdav/geotools/`. How do I mage `.travis.yml` file download the jars from a different repository? This is my `.travis.yml` file:\r\n\r\n    language: java\r\n    sudo: false\r\n    jdk:\r\n      - openjdk8\r\n    scala: 2.12.7\r\n    cache:\r\n      directories:\r\n        - $HOME/.m2\r\n    branches:\r\n      only:\r\n        - master\r\n    script: mvn clean package","title":"How to make travis-ci download jars from a different maven repository?","body":"<p>my java/scala project is using maven as a build tool and I want to use travis-ci to test the build. The problem that I am facing is that my <code>pom.xml</code> has a third part repository set:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.sense.flink&lt;/groupId&gt;\n    &lt;artifactId&gt;explore-flink&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;explore-flink&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n        &lt;flink.version&gt;1.11.1&lt;/flink.version&gt;\n        &lt;guava.version&gt;29.0-jre&lt;/guava.version&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;scala.version&gt;2.12.7&lt;/scala.version&gt;\n        &lt;geotools.version&gt;21.2&lt;/geotools.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;osgeo&lt;/id&gt;\n            &lt;name&gt;Open Source Geospatial Foundation Repository&lt;/name&gt;\n            &lt;url&gt;http://download.osgeo.org/webdav/geotools/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-clients_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-metrics-dropwizard&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-twitter_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-table-planner_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-table-api-java-bridge_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-table-api-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-scala_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-kafka_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-statebackend-rocksdb_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.fusesource.mqtt-client&lt;/groupId&gt;\n            &lt;artifactId&gt;mqtt-client&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n            &lt;!-- &lt;scope&gt;provided&lt;/scope&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.addthis&lt;/groupId&gt;\n            &lt;artifactId&gt;stream-lib&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.geotools/ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-referencing&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.geotools&lt;/groupId&gt; &lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt; \n            &lt;version&gt;${geotools.version}&lt;/version&gt; &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-geojsondatastore&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Make Scala available in project. Pay extra attention to the version --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;${scala.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.openhft&lt;/groupId&gt;\n            &lt;artifactId&gt;affinity&lt;/artifactId&gt;\n            &lt;version&gt;3.1.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.airlift.tpch&lt;/groupId&gt;\n            &lt;artifactId&gt;tpch&lt;/artifactId&gt;\n            &lt;version&gt;0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;finalName&gt;explore-flink&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;scala-compile-first&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;scala-test-compile&lt;/id&gt;\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!-- download source code in Eclipse, best practice --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Set a compiler level --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven Shade Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;!-- Run shade goal on package phase --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;org.apache.flink:*&lt;/exclude&gt;\n                                    &lt;!-- Also exclude very big transitive dependencies of Flink WARNING: \n                                        You have to remove these excludes if your code relies on other versions of \n                                        these dependencies. --&gt;\n                                    &lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;\n                                    &lt;exclude&gt;log4j:*&lt;/exclude&gt;\n                                    &lt;exclude&gt;com.typesafe:config:*&lt;/exclude&gt;\n                                    &lt;exclude&gt;junit:junit:*&lt;/exclude&gt;\n                                    &lt;exclude&gt;com.codahale.metrics:*&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;org.apache.flink:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;!-- exclude shaded google but include shaded curator --&gt;\n                                        &lt;exclude&gt;org/apache/flink/shaded/com/**&lt;/exclude&gt;\n                                        &lt;exclude&gt;web-docs/**&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                                &lt;filter&gt;\n                                    &lt;!-- Do not copy the signatures in the META-INF folder. Otherwise, \n                                        this might cause SecurityExceptions when using the JAR. --&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;!-- If you want to use ./bin/flink run &lt;quickstart jar&gt; uncomment \n                                the following lines. This will add a Main-Class entry to the manifest file --&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;org.sense.flink.App&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                                &lt;!-- This bit merges the various GeoTools META-INF/services files --&gt;\n                                &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\n                            &lt;/transformers&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and when I build the project on travis-ci I get this error:</p>\n<pre><code>[WARNING] The POM for org.geotools:gt-referencing:jar:21.2 is missing, no dependency information available\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.pom\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.pom\n[WARNING] The POM for org.geotools:gt-epsg-wkt:jar:21.2 is missing, no dependency information available\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.pom\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.pom\n[WARNING] The POM for org.geotools:gt-geojsondatastore:jar:21.2 is missing, no dependency information available\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.pom\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.pom\n[WARNING] The POM for org.geotools:gt-metadata:jar:21.2 is missing, no dependency information available\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.pom\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.pom\n[WARNING] The POM for org.geotools:gt-shapefile:jar:21.2 is missing, no dependency information available\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-referencing/21.2/gt-referencing-21.2.jar\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.jar\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.jar\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.jar\n[INFO] Downloading from sonatype: https://oss.sonatype.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.jar\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-referencing/21.2/gt-referencing-21.2.jar\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-epsg-wkt/21.2/gt-epsg-wkt-21.2.jar\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-geojsondatastore/21.2/gt-geojsondatastore-21.2.jar\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-metadata/21.2/gt-metadata-21.2.jar\n[INFO] Downloading from sonatype-apache: https://repository.apache.org/content/repositories/releases/org/geotools/gt-shapefile/21.2/gt-shapefile-21.2.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.005 s\n[INFO] Finished at: 2020-09-03T07:24:56Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project explore-flink: Could not resolve dependencies for project org.sense.flink:explore-flink:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.geotools:gt-referencing:jar:21.2, org.geotools:gt-epsg-wkt:jar:21.2, org.geotools:gt-geojsondatastore:jar:21.2, org.geotools:gt-metadata:jar:21.2, org.geotools:gt-shapefile:jar:21.2: Failure to find org.geotools:gt-referencing:jar:21.2 in https://maven-central.storage-download.googleapis.com/maven2/ was cached in the local repository, resolution will not be reattempted until the update interval of google-maven-central has elapsed or updates are forced -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\nThe command &quot;eval mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V &quot; failed. Retrying, 3 of 3.\n</code></pre>\n<p>I guess travis is downloading the sources from <a href=\"https://repository.apache.org/content/repositories/releases/org/geotools\" rel=\"nofollow noreferrer\">https://repository.apache.org/content/repositories/releases/org/geotools</a> and I set on the <code>pom.xml</code> to download from <code>http://download.osgeo.org/webdav/geotools/</code>. How do I mage <code>.travis.yml</code> file download the jars from a different repository? This is my <code>.travis.yml</code> file:</p>\n<pre><code>language: java\nsudo: false\njdk:\n  - openjdk8\nscala: 2.12.7\ncache:\n  directories:\n    - $HOME/.m2\nbranches:\n  only:\n    - master\nscript: mvn clean package\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1632805455,"post_id":69355979,"comment_id":122585268,"body_markdown":"You should tell somehow Hibernate what are you Entity classes so that Hibernate can scan them for mapping metadata. Maybe that&#39;s the problem. Try to read this here about bootstraping https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#bootstrap-native","body":"You should tell somehow Hibernate what are you Entity classes so that Hibernate can scan them for mapping metadata. Maybe that&#39;s the problem. Try to read this here about bootstraping <a href=\"https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#bootstrap-native\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/orm/userguide/html_single/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8646729,"reputation":275,"user_id":6473711,"display_name":"Avvappa Hegadyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632809937,"creation_date":1632809202,"answer_id":69356566,"question_id":69355979,"body_markdown":" Can you please try to add the following to your xml:\r\n   \r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n    class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    &lt;property name=&quot;packagesToScan&quot;&gt;\r\n        &lt;list&gt;\r\n            &lt;value&gt;entity&lt;/value&gt; \r\n        &lt;/list&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n    &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n      \r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    &lt;bean id=&quot;transactionManager&quot;\r\n    class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n     &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt;","title":"java.lang.IllegalArgumentException: Unknown entity:","body":"<p>Can you please try to add the following to your xml:</p>\n<pre><code>&lt;bean id=&quot;sessionFactory&quot;\nclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n&lt;property name=&quot;packagesToScan&quot;&gt;\n    &lt;list&gt;\n        &lt;value&gt;entity&lt;/value&gt; \n    &lt;/list&gt;\n&lt;/property&gt;\n&lt;property name=&quot;hibernateProperties&quot;&gt;\n    &lt;props&gt;\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n  \n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n&lt;bean id=&quot;transactionManager&quot;\nclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15475133,"reputation":4366,"user_id":11163977,"display_name":"Tanzeel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632815005,"creation_date":1632815005,"answer_id":69357637,"question_id":69355979,"body_markdown":"I figured out that dialect was the issue.\r\n\r\nBelow changes in *hibernate.cfg.xml* solved my issue:\r\n\r\n    &lt;!-- SQL dialect --&gt;\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;","title":"java.lang.IllegalArgumentException: Unknown entity:","body":"<p>I figured out that dialect was the issue.</p>\n<p>Below changes in <em>hibernate.cfg.xml</em> solved my issue:</p>\n<pre><code>&lt;!-- SQL dialect --&gt;\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":15475133,"reputation":4366,"user_id":11163977,"display_name":"Tanzeel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632815005,"creation_date":1632804769,"question_id":69355979,"body_markdown":"I&#39;m learning `JPA` and `Hibernate` from Udemy. I might be making a silly mistake. None of the answers helped me so far.\r\n\r\nThis is my project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n**Main.java**\r\n\r\n    package client;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.Transaction;\r\n    \r\n    import entity.Guide;  // &lt;--- an entity\r\n    import entity.Student;  // &lt;--- another entity\r\n    ...\r\n    public class CascadesClient {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\t\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n            \t\tTransaction txn = session.getTransaction();\r\n            \t\ttry {\r\n            \t\t\ttxn.begin();\r\n            \t\t\t\r\n            \t\t\t//persisting a new Student (using CascadeType.PERSIST) along with its associated Guide\r\n            \t        Guide guide = new Guide(&quot;2000IM10901&quot;, &quot;Ian Lamb&quot;, 2000);\r\n            \t        Student student = new Student(&quot;2014AL50456&quot;, &quot;Amy Gill&quot;, guide);\r\n            \t        session.persist(student);       \r\n    \t        \t\ttxn.commit();\r\n            \t\t}\tcatch(Exception e) {\r\n    \t        \t\t\tif(txn != null) { txn.rollback(); }\r\n    \t        \t\t\te.printStackTrace();\r\n            \t\t}\tfinally {\r\n            \t\t\t\tif(session != null) { session.close(); }\r\n            \t\t}\r\n    \t\r\n    \t}\r\n    }\r\n\r\n**Student.java**\r\n\r\n    package entity;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Student {\r\n      ...\r\n    }\r\n\r\n**Guide.java**\r\n\r\n    package entity;    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Guide {\r\n      ...\r\n    }\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    \t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    \t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n    \r\n            &lt;!-- Database connection settings --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/tbdone&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;cosmonauts&lt;/property&gt;\r\n    \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n            \r\n            &lt;!-- Pretty print the SQL in the log file and console --&gt;\r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n            \r\n            &lt;!-- Create/update tables automatically using mapping metadata --&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n            \r\n            &lt;mapping class=&quot;entity.Guide&quot; /&gt;\t\r\n            &lt;mapping class=&quot;entity.Student&quot; /&gt;\r\n            \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**pom dependencies**\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nWhy I&#39;m getting this exception:\r\n\r\n&gt; java.lang.IllegalArgumentException: Unknown entity: entity.Student \tat\r\n&gt; org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:752)\r\n&gt; \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:735)\r\n&gt; \tat client.CascadesClient.main(CascadesClient.java:23)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mAEj4.png","title":"java.lang.IllegalArgumentException: Unknown entity:","body":"<p>I'm learning <code>JPA</code> and <code>Hibernate</code> from Udemy. I might be making a silly mistake. None of the answers helped me so far.</p>\n<p>This is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mAEj4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAEj4.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my code:</p>\n<p><strong>Main.java</strong></p>\n<pre><code>package client;\n\nimport org.hibernate.Session;\nimport org.hibernate.Transaction;\n\nimport entity.Guide;  // &lt;--- an entity\nimport entity.Student;  // &lt;--- another entity\n...\npublic class CascadesClient {\n    public static void main(String[] args) {\n        \n                Session session = HibernateUtil.getSessionFactory().openSession();\n                Transaction txn = session.getTransaction();\n                try {\n                    txn.begin();\n                    \n                    //persisting a new Student (using CascadeType.PERSIST) along with its associated Guide\n                    Guide guide = new Guide(&quot;2000IM10901&quot;, &quot;Ian Lamb&quot;, 2000);\n                    Student student = new Student(&quot;2014AL50456&quot;, &quot;Amy Gill&quot;, guide);\n                    session.persist(student);       \n                    txn.commit();\n                }   catch(Exception e) {\n                        if(txn != null) { txn.rollback(); }\n                        e.printStackTrace();\n                }   finally {\n                        if(session != null) { session.close(); }\n                }\n    \n    }\n}\n</code></pre>\n<p><strong>Student.java</strong></p>\n<pre><code>package entity;\nimport javax.persistence.*;\n\n@Entity\npublic class Student {\n  ...\n}\n</code></pre>\n<p><strong>Guide.java</strong></p>\n<pre><code>package entity;    \nimport javax.persistence.*;\n\n@Entity\npublic class Guide {\n  ...\n}\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/tbdone&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;cosmonauts&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        \n        &lt;!-- Pretty print the SQL in the log file and console --&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n        \n        &lt;!-- Create/update tables automatically using mapping metadata --&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        \n        &lt;mapping class=&quot;entity.Guide&quot; /&gt;    \n        &lt;mapping class=&quot;entity.Student&quot; /&gt;\n        \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>pom dependencies</strong></p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.26&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Why I'm getting this exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Unknown entity: entity.Student    at\norg.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:752)\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:735)\nat client.CascadesClient.main(CascadesClient.java:23)</p>\n</blockquote>\n"},{"tags":["java","arrays","sorting","arraylist","reverse"],"comments":[{"owner":{"account_id":18848481,"reputation":111,"user_id":14200676,"display_name":"devordem"},"score":1,"creation_date":1632727323,"post_id":69342622,"comment_id":122560914,"body_markdown":"Does this answer your question? [How to read multiple Integer values from a single line of input in Java?](https://stackoverflow.com/questions/23506429/how-to-read-multiple-integer-values-from-a-single-line-of-input-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23506429/how-to-read-multiple-integer-values-from-a-single-line-of-input-in-java\">How to read multiple Integer values from a single line of input in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632814972,"creation_date":1632739835,"answer_id":69345358,"question_id":69342622,"body_markdown":"The program that you have written will read multiple numbers from a line ... if you give it multiple numbers on a line.\r\n\r\n    $ java Awit.java\r\n    Enter five integers:\r\n    1 2 3 4 5\r\n    $ \r\n\r\nThe only issues with the code you have written are:\r\n\r\n  - it is missing an import for `Scanner`, and\r\n  - there is a `}` missing at the end of your `numbers` method.\r\n\r\nThose problems will give compilation errors.  Assuming that you correct them, you will not get any output (apart from the prompt to enter some numbers) because your program doesn&#39;t print the array(!) \r\n\r\nIf you want to know how to print the numbers, read the following:\r\n\r\n  - https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\r\n\r\n","title":"How can i input multiple times in one line?","body":"<p>The program that you have written will read multiple numbers from a line ... if you give it multiple numbers on a line.</p>\n<pre><code>$ java Awit.java\nEnter five integers:\n1 2 3 4 5\n$ \n</code></pre>\n<p>The only issues with the code you have written are:</p>\n<ul>\n<li>it is missing an import for <code>Scanner</code>, and</li>\n<li>there is a <code>}</code> missing at the end of your <code>numbers</code> method.</li>\n</ul>\n<p>Those problems will give compilation errors.  Assuming that you correct them, you will not get any output (apart from the prompt to enter some numbers) because your program doesn't print the array(!)</p>\n<p>If you want to know how to print the numbers, read the following:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a></li>\n</ul>\n"}],"owner":{"account_id":20103353,"reputation":3,"user_id":14741391,"display_name":"William Rowell Gimena2&#224;23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1632847552,"answer_count":1,"score":-3,"last_activity_date":1632814972,"creation_date":1632727123,"question_id":69342622,"body_markdown":"How can I input multiple times in one line?\r\n    \r\n    public class Awit {\r\n    \r\n        static void numbers(){\r\n    \r\n        \t Scanner user = new Scanner(System.in);\r\n        \t int arraylist[] = new int [5];\r\n        \t\r\n        \tSystem.out.println(&quot;Enter five integers:&quot;);\r\n        \tSystem.out.print(&quot;&quot;);\r\n    \r\n        \tfor(int i = 0; i&lt;=4; i++){\r\n        \tarraylist[i] = user.nextInt();\r\n        \t}\r\n    \r\n     public static void main (String []args){\r\n    \r\n     numbers();\r\n    \r\n    } \r\n    }\r\n\r\nOutput:\r\n\r\n    Enter five integers:\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n\r\nI want the output to be like this\r\n\r\n    1 2 3 4 5","title":"How can i input multiple times in one line?","body":"<p>How can I input multiple times in one line?</p>\n<pre><code>public class Awit {\n\n    static void numbers(){\n\n         Scanner user = new Scanner(System.in);\n         int arraylist[] = new int [5];\n        \n        System.out.println(&quot;Enter five integers:&quot;);\n        System.out.print(&quot;&quot;);\n\n        for(int i = 0; i&lt;=4; i++){\n        arraylist[i] = user.nextInt();\n        }\n\n public static void main (String []args){\n\n numbers();\n\n} \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Enter five integers:\n1\n2\n3\n4\n5\n</code></pre>\n<p>I want the output to be like this</p>\n<pre><code>1 2 3 4 5\n</code></pre>\n"},{"tags":["java","jpa","h2","in-memory-database"],"owner":{"account_id":7094831,"reputation":119,"user_id":5428823,"display_name":"AppleMoose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632814722,"creation_date":1632750344,"question_id":69347784,"body_markdown":"In persistence.xml I am creating a database (in-memory database for test) like this:\r\n\r\n    &lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t    &lt;jar-file&gt;pathToMyJar.jar&lt;/jar-file&gt;\r\n\t    &lt;properties&gt;            \r\n\t\t    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n\t\t    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\r\n\t\t    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \r\n\t\t    &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t    &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\r\n\t\t    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;           \r\n\t    &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nThat works as expected but is slow. So I saved a sql-script for schema generation like this:\r\n\r\n    &lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \t&lt;jar-file&gt;pathToMyJar.jar&lt;/jar-file&gt;\r\n    \t&lt;properties&gt;            \r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \r\n    \t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;  \r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot;/&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;pathToSchemaGeneratonScript.sql&quot;/&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nAnd then tried to use it like this:\r\n\r\n    &lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \t&lt;properties&gt;            \r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \r\n    \t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;            \r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.create-source&quot; value=&quot;script&quot;/&gt;            \r\n    \t\t&lt;property name=&quot;javax.persistence.schema-generation.create-script-source&quot; value=&quot;pathToSchemaGeneratonScript.sql&quot;/&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\nSince show_sql is set to true I can see that the script runs, e.g &quot;create table xxx (...&quot;. \r\nBut no tables seems to exist, e.g:\r\n\r\n    entityManagerFactory = Persistence.createEntityManagerFactory(&quot;TestDatabase&quot;);\r\n    entityManager = entityManagerFactory.createEntityManager();\r\n    transaction = entityManager.getTransaction();\r\n    transaction.begin();\r\n    Query query = entityManager.createNativeQuery(&quot;insert into xxx (someColumns) values (someValues)&quot;);\r\n    query.executeUpdate();\r\nWill result in &quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Table &quot;xxx&quot; not found&quot;.\r\nI have connected manually and verified that the tables are not there. I also applied the generated sql file manually and then the tables are created as expected.","title":"Creating schema from sql file looks OK, but tables are not found","body":"<p>In persistence.xml I am creating a database (in-memory database for test) like this:</p>\n<pre><code>&lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;jar-file&gt;pathToMyJar.jar&lt;/jar-file&gt;\n    &lt;properties&gt;            \n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;           \n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>That works as expected but is slow. So I saved a sql-script for schema generation like this:</p>\n<pre><code>&lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;jar-file&gt;pathToMyJar.jar&lt;/jar-file&gt;\n    &lt;properties&gt;            \n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;  \n        &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;pathToSchemaGeneratonScript.sql&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>And then tried to use it like this:</p>\n<pre><code>&lt;persistence-unit name=&quot;TestDatabase&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;            \n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:test&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;            \n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;            \n        &lt;property name=&quot;javax.persistence.schema-generation.create-source&quot; value=&quot;script&quot;/&gt;            \n        &lt;property name=&quot;javax.persistence.schema-generation.create-script-source&quot; value=&quot;pathToSchemaGeneratonScript.sql&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>Since show_sql is set to true I can see that the script runs, e.g &quot;create table xxx (...&quot;.\nBut no tables seems to exist, e.g:</p>\n<pre><code>entityManagerFactory = Persistence.createEntityManagerFactory(&quot;TestDatabase&quot;);\nentityManager = entityManagerFactory.createEntityManager();\ntransaction = entityManager.getTransaction();\ntransaction.begin();\nQuery query = entityManager.createNativeQuery(&quot;insert into xxx (someColumns) values (someValues)&quot;);\nquery.executeUpdate();\n</code></pre>\n<p>Will result in &quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Table &quot;xxx&quot; not found&quot;.\nI have connected manually and verified that the tables are not there. I also applied the generated sql file manually and then the tables are created as expected.</p>\n"},{"tags":["java","sqlite","runtime-error"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1632813030,"post_id":69357201,"comment_id":122587361,"body_markdown":"`executeUpdate(DB.java:895)` - looks like some other code","body":"<code>executeUpdate(DB.java:895)</code> - looks like some other code"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632813906,"post_id":69357201,"comment_id":122587690,"body_markdown":"@ScaryWombat this seems to be library code, i.e. class `org.sqlite.core.DB`.","body":"@ScaryWombat this seems to be library code, i.e. class <code>org.sqlite.core.DB</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1632814000,"post_id":69357201,"comment_id":122587717,"body_markdown":"@Dogwolf12 what makes you think the connection is closed? I don&#39;t see you closing it anywhere not are you using the auto-close functionality (i.e. try-with-resources).","body":"@Dogwolf12 what makes you think the connection is closed? I don&#39;t see you closing it anywhere not are you using the auto-close functionality (i.e. try-with-resources)."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1632814041,"post_id":69357201,"comment_id":122587732,"body_markdown":"@Thomas Too lazy to check, but surprised if `PreparedStatement ::executeQuery` calls `executeUpdate`","body":"@Thomas Too lazy to check, but surprised if <code>PreparedStatement ::executeQuery</code> calls <code>executeUpdate</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632814224,"post_id":69357201,"comment_id":122587795,"body_markdown":"@ScaryWombat ah, that&#39;s what you were getting at. Yeah, that seems to be called by some other code - I suspect that&#39;s just where the blocked connection manifests itself. The cause might still be in the snippet the OP posted - e.g. if the form somewhere calls `executeUpdate()` and tries to open a new connection.","body":"@ScaryWombat ah, that&#39;s what you were getting at. Yeah, that seems to be called by some other code - I suspect that&#39;s just where the blocked connection manifests itself. The cause might still be in the snippet the OP posted - e.g. if the form somewhere calls <code>executeUpdate()</code> and tries to open a new connection."}],"answers":[{"tags":[],"owner":{"account_id":19409185,"reputation":21,"user_id":14193921,"display_name":"Dogwolf12"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632814125,"creation_date":1632814125,"answer_id":69357458,"question_id":69357201,"body_markdown":"Found the bug! I needed to make a close-if feature on my Connection class.\r\nHere&#39;s the code, should anyone want it: \r\n\r\n    public class DBConnection{\r\n        public static Connection con = null;\r\n        public static Connection getConnection(){\r\n            //initialise connection\r\n            \r\n            try{\r\n                //creates valid url to access DB with\r\n                String url = &quot;jdbc:sqlite:&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/TeacherReviewIA.DB&quot;;\r\n                \r\n                if(con == null){\r\n                    con = (Connection) DriverManager.getConnection(url);\r\n                }else{\r\n                    con.close();\r\n                    con = (Connection) DriverManager.getConnection(url);        \r\n                }\r\n                \r\n                //as a debug measure and to show connection given\r\n                System.out.println(con);\r\n            }\r\n            catch(SQLException ex){\r\n                JOptionPane.showMessageDialog(null,ex,&quot;WARNING&quot;,JOptionPane.WARNING_MESSAGE);\r\n                \r\n            }      \r\n            //allows code that called method to use connection given\r\n            return con;        \r\n        }\r\n    }\r\n        ","title":"SQL connection busy although it&#39;s already closed","body":"<p>Found the bug! I needed to make a close-if feature on my Connection class.\nHere's the code, should anyone want it:</p>\n<pre><code>public class DBConnection{\n    public static Connection con = null;\n    public static Connection getConnection(){\n        //initialise connection\n        \n        try{\n            //creates valid url to access DB with\n            String url = &quot;jdbc:sqlite:&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/TeacherReviewIA.DB&quot;;\n            \n            if(con == null){\n                con = (Connection) DriverManager.getConnection(url);\n            }else{\n                con.close();\n                con = (Connection) DriverManager.getConnection(url);        \n            }\n            \n            //as a debug measure and to show connection given\n            System.out.println(con);\n        }\n        catch(SQLException ex){\n            JOptionPane.showMessageDialog(null,ex,&quot;WARNING&quot;,JOptionPane.WARNING_MESSAGE);\n            \n        }      \n        //allows code that called method to use connection given\n        return con;        \n    }\n}\n    \n</code></pre>\n"}],"owner":{"account_id":19409185,"reputation":21,"user_id":14193921,"display_name":"Dogwolf12"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632814550,"creation_date":1632812835,"question_id":69357201,"body_markdown":"My SQL connection keeps saying it&#39;s busy even though all previous connections are closed.\r\nThe error below results. All others are either closed by the exiting of the JFrame or the .close() method. Does anyone see anything wrong with the class? (All other classes work as intended.)\r\n\r\n\r\n    SEVERE: null\r\n    org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n    \tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n    \tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n    \tat org.sqlite.core.DB.execute(DB.java:854)\r\n    \tat org.sqlite.core.DB.executeUpdate(DB.java:895)\r\n\r\n&lt;!-- --&gt;\r\n\r\n    package teacherreviewproject;\r\n    //initialise imports\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class FeedbackForm extends javax.swing.JFrame {\r\n    //init. variables\r\n        String WWW;\r\n        String EBI;\r\n        int rating;\r\n        String teacher;\r\n        String studentUser;\r\n        String ratingraw;\r\n        String teacherQuery;\r\n            \r\n        public FeedbackForm(String s) {\r\n            \r\n            initComponents();\r\n            getTeachersNames();\r\n            this.studentUser = s;\r\n        }\r\n        \r\n        private void getTeachersNames(){\r\n            \r\n         //get the connection\r\n            Connection con = DBConnection.getConnection();\r\n            //set up query string\r\n            this.teacherQuery = &quot;SELECT * FROM users WHERE type=2&quot;;\r\n            try {\r\n                //prepare statement\r\n                PreparedStatement teacherState = con.prepareStatement(teacherQuery);\r\n                //execute query\r\n                ResultSet teachResult = teacherState.executeQuery();\r\n                //clear previous items to avoid duplicates.\r\n                jComboBox_teachers.removeAllItems();\r\n                //create counter variable to get different teachers in RS\r\n                int i = 0;\r\n                //while loop\r\n                while(teachResult.next()){\r\n                    //get username then add it to position i at combobox\r\n                    String tempOption = teachResult.getString(&quot;username&quot;);\r\n                    System.out.println(tempOption);\r\n                    jComboBox_teachers.addItem(tempOption); //thanks mcalpine\r\n                    //increment i\r\n                    i++;\r\n                    \r\n                    \r\n                }\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(FeedbackForm.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n     \r\n","title":"SQL connection busy although it&#39;s already closed","body":"<p>My SQL connection keeps saying it's busy even though all previous connections are closed.\nThe error below results. All others are either closed by the exiting of the JFrame or the .close() method. Does anyone see anything wrong with the class? (All other classes work as intended.)</p>\n<pre><code>SEVERE: null\norg.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.execute(DB.java:854)\n    at org.sqlite.core.DB.executeUpdate(DB.java:895)\n</code></pre>\n\n<pre><code>package teacherreviewproject;\n//initialise imports\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\n\npublic class FeedbackForm extends javax.swing.JFrame {\n//init. variables\n    String WWW;\n    String EBI;\n    int rating;\n    String teacher;\n    String studentUser;\n    String ratingraw;\n    String teacherQuery;\n        \n    public FeedbackForm(String s) {\n        \n        initComponents();\n        getTeachersNames();\n        this.studentUser = s;\n    }\n    \n    private void getTeachersNames(){\n        \n     //get the connection\n        Connection con = DBConnection.getConnection();\n        //set up query string\n        this.teacherQuery = &quot;SELECT * FROM users WHERE type=2&quot;;\n        try {\n            //prepare statement\n            PreparedStatement teacherState = con.prepareStatement(teacherQuery);\n            //execute query\n            ResultSet teachResult = teacherState.executeQuery();\n            //clear previous items to avoid duplicates.\n            jComboBox_teachers.removeAllItems();\n            //create counter variable to get different teachers in RS\n            int i = 0;\n            //while loop\n            while(teachResult.next()){\n                //get username then add it to position i at combobox\n                String tempOption = teachResult.getString(&quot;username&quot;);\n                System.out.println(tempOption);\n                jComboBox_teachers.addItem(tempOption); //thanks mcalpine\n                //increment i\n                i++;\n                \n                \n            }\n        } catch (SQLException ex) {\n            Logger.getLogger(FeedbackForm.class.getName()).log(Level.SEVERE, null, ex);\n        }\n \n</code></pre>\n"},{"tags":["java","ant","java-me","obfuscation","proguard"],"comments":[{"owner":{"account_id":27286,"reputation":15673,"user_id":71883,"accept_rate":85,"display_name":"Toad"},"score":0,"creation_date":1248103346,"post_id":972126,"comment_id":972877,"body_markdown":"I have had much better results using jshrink.\nIf you want I can send you it for testing. It might be worth a try","body":"I have had much better results using jshrink. If you want I can send you it for testing. It might be worth a try"},{"owner":{"account_id":5109,"reputation":7856,"user_id":8041,"accept_rate":67,"display_name":"Daniel Moura"},"score":0,"creation_date":1248103685,"post_id":972126,"comment_id":972918,"body_markdown":"@reinier: Ok. But how should the ant file be so I don&#39;t have the same problem?","body":"@reinier: Ok. But how should the ant file be so I don&#39;t have the same problem?"},{"owner":{"account_id":27286,"reputation":15673,"user_id":71883,"accept_rate":85,"display_name":"Toad"},"score":0,"creation_date":1248160255,"post_id":972126,"comment_id":976671,"body_markdown":"instead of this talk in the comments I&#39;ll make it a proper answer ;^)","body":"instead of this talk in the comments I&#39;ll make it a proper answer ;^)"},{"owner":{"account_id":27286,"reputation":15673,"user_id":71883,"accept_rate":85,"display_name":"Toad"},"score":0,"creation_date":1248348177,"post_id":972126,"comment_id":990948,"body_markdown":"Hi daniel. I&#39;d recommend using the -v flag for ant (both in netbeans and antenna). This gives heapes of extra output, which might give a clue where the difference between your build and the generated build lies.","body":"Hi daniel. I&#39;d recommend using the -v flag for ant (both in netbeans and antenna). This gives heapes of extra output, which might give a clue where the difference between your build and the generated build lies."}],"answers":[{"tags":[],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244621465,"creation_date":1244621465,"answer_id":974253,"question_id":972126,"body_markdown":"If the 3rd party library is obfuscated, don&#39;t include that library while you obfuscate your classes. Rather follow these steps\r\n\r\n1. Jar your classes alone (dont include 3rd party library)\r\n2. Obfuscate the jar obtained in step 1\r\n3. Unjar the obfuscated jar obtained in step 2 and the 3rd party library in some temp folder\r\n4. Jar all the unjared classes\r\n5. Preverify and package them again","title":"Trouble making obfuscation","body":"<p>If the 3rd party library is obfuscated, don't include that library while you obfuscate your classes. Rather follow these steps</p>\n\n<ol>\n<li>Jar your classes alone (dont include 3rd party library)</li>\n<li>Obfuscate the jar obtained in step 1</li>\n<li>Unjar the obfuscated jar obtained in step 2 and the 3rd party library in some temp folder</li>\n<li>Jar all the unjared classes</li>\n<li>Preverify and package them again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27286,"reputation":15673,"user_id":71883,"accept_rate":85,"display_name":"Toad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248160323,"creation_date":1248160323,"answer_id":1157677,"question_id":972126,"body_markdown":"try using jshrink. I have much better results with it then with proguard:\r\n\r\n               \r\n\t\t\t\t\t\t&lt;java jar=&quot;obfuscator\\jshrink.exe&quot; fork=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;..\\${projectdir}\\${projectname}.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-classpath&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg pathref=&quot;project.class.path&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-keep&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;${midletclass}&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-o&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;..\\${projectdir}\\${projectname}.jar&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/java&gt;\r\n","title":"Trouble making obfuscation","body":"<p>try using jshrink. I have much better results with it then with proguard:</p>\n\n<pre><code>                    &lt;java jar=\"obfuscator\\jshrink.exe\" fork=\"true\"&gt;\n                        &lt;arg value=\"..\\${projectdir}\\${projectname}.jar\"/&gt;\n                        &lt;arg value=\"-classpath\"/&gt;\n                        &lt;arg pathref=\"project.class.path\"/&gt;\n                        &lt;arg value=\"-keep\"/&gt;\n                        &lt;arg value=\"${midletclass}\"/&gt;\n                        &lt;arg value=\"-o\"/&gt;\n                        &lt;arg value=\"..\\${projectdir}\\${projectname}.jar\"/&gt;\n                    &lt;/java&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5109,"reputation":7856,"user_id":8041,"accept_rate":67,"display_name":"Daniel Moura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1255042220,"creation_date":1255042220,"answer_id":1540950,"question_id":972126,"body_markdown":"I was using Proguard 4.3. Downgrading to Proguard 4.2 solved the problem.","title":"Trouble making obfuscation","body":"<p>I was using Proguard 4.3. Downgrading to Proguard 4.2 solved the problem.</p>\n"}],"owner":{"account_id":5109,"reputation":7856,"user_id":8041,"accept_rate":67,"display_name":"Daniel Moura"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1540950,"answer_count":3,"score":1,"last_activity_date":1632814529,"creation_date":1244576769,"question_id":972126,"body_markdown":"I&#39;m using Antenna to build, pack and obfuscate a j2me app.\r\nBuilding and packing works fine.\r\n\r\nThe project uses a 3rd party jar that is already obfuscated except by some interfaces.\r\n\r\nWhen trying to obfuscate I got several errors like:   \r\n\r\n    [wtkobfuscate] Warning: i: can&#39;t find referenced class fooPackage.fooClass\r\n\r\nClass i and fooPackage.fooClass is from this 3rd party jar that I mentioned.\r\n\r\n**UPDATE**:\r\n\r\nThis 3rd party library uses  j2me-xmlrpc.jar. If I don&#39;t package all together then I won&#39;t be able to obfuscate the 3rd party interfaces and the j2me-xmlrpc.jar. (and I can&#39;t run the app this way, not sure why)\r\n\r\n\r\nIf I package only the j2me-xmlrpc.jar and my project classes I get the this error while obfuscating\r\n\r\n    [wtkobfuscate] Warning: there were 2 instances of library classes depending on program classes.\r\n\r\n\r\n**UPDATE 2:**\r\n\r\nI know this obfuscation is possible beacause in Netbeans I can do obfuscation using Proguard.\r\n\r\nSince Netbeans internals uses ANT to make builds I tried to copy the generated build.xml to my own build.xml.\r\n\r\nFor obfuscation Netbeans uses the library org-netbeans-modules-mobility-antext.jar that can be used outside Netbeans. I imported this library to my project and used it without problem.\r\n\r\nBut I get the same error I got using antenna.\r\n\r\nObfuscating in Netbeans generates a lot of warnings but it still generates the obfuscated jar.\r\n\r\n\r\nWhat I&#39;m missing?\r\n\r\n","title":"Trouble making obfuscation","body":"<p>I'm using Antenna to build, pack and obfuscate a j2me app.\nBuilding and packing works fine.</p>\n\n<p>The project uses a 3rd party jar that is already obfuscated except by some interfaces.</p>\n\n<p>When trying to obfuscate I got several errors like:   </p>\n\n<pre><code>[wtkobfuscate] Warning: i: can't find referenced class fooPackage.fooClass\n</code></pre>\n\n<p>Class i and fooPackage.fooClass is from this 3rd party jar that I mentioned.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>This 3rd party library uses  j2me-xmlrpc.jar. If I don't package all together then I won't be able to obfuscate the 3rd party interfaces and the j2me-xmlrpc.jar. (and I can't run the app this way, not sure why)</p>\n\n<p>If I package only the j2me-xmlrpc.jar and my project classes I get the this error while obfuscating</p>\n\n<pre><code>[wtkobfuscate] Warning: there were 2 instances of library classes depending on program classes.\n</code></pre>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>I know this obfuscation is possible beacause in Netbeans I can do obfuscation using Proguard.</p>\n\n<p>Since Netbeans internals uses ANT to make builds I tried to copy the generated build.xml to my own build.xml.</p>\n\n<p>For obfuscation Netbeans uses the library org-netbeans-modules-mobility-antext.jar that can be used outside Netbeans. I imported this library to my project and used it without problem.</p>\n\n<p>But I get the same error I got using antenna.</p>\n\n<p>Obfuscating in Netbeans generates a lot of warnings but it still generates the obfuscated jar.</p>\n\n<p>What I'm missing?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1632814768,"post_id":69357532,"comment_id":122587990,"body_markdown":"If you&#39;re using JPA then just load the employee and change the data on the entity within the same transaction. JPA should then detect the changes and update the database accordingly - at the end of the transaction at the latest. Otherwise you could also just pass the changed entity and let JPA merge it or just update everything (changing a column from &quot;A&quot; to &quot;A&quot; shouldn&#39;t hurt).","body":"If you&#39;re using JPA then just load the employee and change the data on the entity within the same transaction. JPA should then detect the changes and update the database accordingly - at the end of the transaction at the latest. Otherwise you could also just pass the changed entity and let JPA merge it or just update everything (changing a column from &quot;A&quot; to &quot;A&quot; shouldn&#39;t hurt)."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1632815770,"post_id":69357532,"comment_id":122588386,"body_markdown":"Remove those additional methods and just call `findById` and `save` (or when already attached to a session you don&#39;t need to even call save). JPA does all that for you already. If you only want to update the fields that changed you can annotate your entity with `@DynamicUpdate`, else you will get an `UPDATE` query with all the fields. I strongly suggest you read up on how JPA works and also what Spring Data JPA provides. Finally please remove the `@Repository` from those interfaces, that isn&#39;t needed (and hurts my eyes ;) ).","body":"Remove those additional methods and just call <code>findById</code> and <code>save</code> (or when already attached to a session you don&#39;t need to even call save). JPA does all that for you already. If you only want to update the fields that changed you can annotate your entity with <code>@DynamicUpdate</code>, else you will get an <code>UPDATE</code> query with all the fields. I strongly suggest you read up on how JPA works and also what Spring Data JPA provides. Finally please remove the <code>@Repository</code> from those interfaces, that isn&#39;t needed (and hurts my eyes ;) )."}],"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1632814507,"creation_date":1632814507,"question_id":69357532,"body_markdown":"I have Spring Repo class which look like this : \r\n\r\n    @Repository\r\n    public interface EmployeeRepository\r\n            extends CrudRepository&lt;Employee, Long&gt; {\r\n    \r\n    \r\n        @Query(&quot;Select s from Employee s where s.Id = ?1&quot;)\r\n        Optional&lt;Employee&gt; findEmployeeByID(String Id);\r\n\r\n\r\n         @Transactional\r\n         @Modifying \r\n         @Query(&quot; How to DO that&quot;)\r\n         UpdateEmployeeDetails()\r\n    \r\n    \r\n    }\r\n\r\nHow to efficiently update the Employee details, as employee tables contains more than 15 fields i can&#39;t write a function for each of these fields, how we can generate a query which will have common logic to update \r\n\r\nFor Example :\r\nIf we want to update name only so `UpdateEmployeeDetails()` will execute this query :\r\n\r\n    UPDATE Employee SET firstName=UPPER(firstName) WHERE id in :ids\r\n\r\nIf we want to update name and address :\r\n\r\n    UPDATE Employee SET firstName=UPPER(firstName), Address = &quot;Address&quot; WHERE id in :ids\r\n\r\nHow we can do this efficiently  as there are may fields so we want to generate query dynamically \r\n\r\n","title":"Best Practice to Update Spring Repository","body":"<p>I have Spring Repo class which look like this :</p>\n<pre><code>@Repository\npublic interface EmployeeRepository\n        extends CrudRepository&lt;Employee, Long&gt; {\n\n\n    @Query(&quot;Select s from Employee s where s.Id = ?1&quot;)\n    Optional&lt;Employee&gt; findEmployeeByID(String Id);\n\n\n     @Transactional\n     @Modifying \n     @Query(&quot; How to DO that&quot;)\n     UpdateEmployeeDetails()\n\n\n}\n</code></pre>\n<p>How to efficiently update the Employee details, as employee tables contains more than 15 fields i can't write a function for each of these fields, how we can generate a query which will have common logic to update</p>\n<p>For Example :\nIf we want to update name only so <code>UpdateEmployeeDetails()</code> will execute this query :</p>\n<pre><code>UPDATE Employee SET firstName=UPPER(firstName) WHERE id in :ids\n</code></pre>\n<p>If we want to update name and address :</p>\n<pre><code>UPDATE Employee SET firstName=UPPER(firstName), Address = &quot;Address&quot; WHERE id in :ids\n</code></pre>\n<p>How we can do this efficiently  as there are may fields so we want to generate query dynamically</p>\n"},{"tags":["java","postgresql","hibernate","encryption","orm"],"comments":[{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":1,"creation_date":1487938810,"post_id":42437840,"comment_id":72020882,"body_markdown":"I think you placed your function calls inversely. You should use something like `read=&quot;pgp_sym_decrypt(test, &#39;&lt;key&gt;&#39;)&quot;, write=&quot;pgp_sym_encrypt(?, &#39;&lt;key&gt;&#39;)&quot;`. (Because it is encrypted in the DB &amp; you want decrypted in your application).","body":"I think you placed your function calls inversely. You should use something like <code>read=&quot;pgp_sym_decrypt(test, &#39;&lt;key&gt;&#39;)&quot;, write=&quot;pgp_sym_encrypt(?, &#39;&lt;key&gt;&#39;)&quot;</code>. (Because it is encrypted in the DB &amp; you want decrypted in your application)."},{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":0,"creation_date":1487938856,"post_id":42437840,"comment_id":72020910,"body_markdown":"But I&#39;m not sure if that&#39;s the right place to embed your key anyway.","body":"But I&#39;m not sure if that&#39;s the right place to embed your key anyway."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1610259326,"creation_date":1487937142,"answer_id":42437963,"question_id":42437840,"body_markdown":"You need to use `pgp_sym_encrypt` for write and `pgp_sym_decrypt` for read. You did the opposite.\r\n\r\n\t@ColumnTransformer(\r\n\t\tread =  &quot;pgp_sym_decrypt(&quot; +\r\n\t\t\t\t&quot;    test, &quot; +\r\n\t\t\t\t&quot;    current_setting(&#39;encrypt.key&#39;)&quot; +\r\n\t\t\t\t&quot;)&quot;,\r\n\t\twrite = &quot;pgp_sym_encrypt( &quot; +\r\n\t\t\t\t&quot;    ?, &quot; +\r\n\t\t\t\t&quot;    current_setting(&#39;encrypt.key&#39;)&quot; +\r\n\t\t\t\t&quot;) &quot;\r\n\t)\r\n\t@Column(columnDefinition = &quot;bytea&quot;)\r\n\tprivate String test;\r\n\r\nBecause hard-coding the encryption key in the mapping does not sound like a very good idea, we will use the PostgreSQL support for user-defined settings instead.\r\n\r\nSo, the [`encrypt.key`](https://vladmihalcea.com/how-do-encrypt-and-decrypt-data-with-hibernate/) is stored in the `postgresql.conf`configuration file:\r\n\r\n    encrypt.key = &#39;Wow! So much security.&#39;\r\n\r\nThe [example is on GitHub][1] and works like a charm. \r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/high-performance-java-persistence/tree/49d6c710f58949636d6cf656b13a88c796552f08/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/mapping/encrypt","title":"How to encrypt a column in Postgres using Hibernate @ColumnTransformer","body":"<p>You need to use <code>pgp_sym_encrypt</code> for write and <code>pgp_sym_decrypt</code> for read. You did the opposite.</p>\n<pre><code>@ColumnTransformer(\n    read =  &quot;pgp_sym_decrypt(&quot; +\n            &quot;    test, &quot; +\n            &quot;    current_setting('encrypt.key')&quot; +\n            &quot;)&quot;,\n    write = &quot;pgp_sym_encrypt( &quot; +\n            &quot;    ?, &quot; +\n            &quot;    current_setting('encrypt.key')&quot; +\n            &quot;) &quot;\n)\n@Column(columnDefinition = &quot;bytea&quot;)\nprivate String test;\n</code></pre>\n<p>Because hard-coding the encryption key in the mapping does not sound like a very good idea, we will use the PostgreSQL support for user-defined settings instead.</p>\n<p>So, the <a href=\"https://vladmihalcea.com/how-do-encrypt-and-decrypt-data-with-hibernate/\" rel=\"nofollow noreferrer\"><code>encrypt.key</code></a> is stored in the <code>postgresql.conf</code>configuration file:</p>\n<pre><code>encrypt.key = 'Wow! So much security.'\n</code></pre>\n<p>The <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/tree/49d6c710f58949636d6cf656b13a88c796552f08/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/mapping/encrypt\" rel=\"nofollow noreferrer\">example is on GitHub</a> and works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7543287,"reputation":51,"user_id":5727199,"display_name":"Santhosh Ponnam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632814310,"creation_date":1632814310,"answer_id":69357493,"question_id":42437840,"body_markdown":"While this works like a charm, This cannot be considered as a product generic solution and this does not come handy as working on multiple databases will be a night mare. May be other alternatives like vaulting or usage of jasypt would be a good start!!!","title":"How to encrypt a column in Postgres using Hibernate @ColumnTransformer","body":"<p>While this works like a charm, This cannot be considered as a product generic solution and this does not come handy as working on multiple databases will be a night mare. May be other alternatives like vaulting or usage of jasypt would be a good start!!!</p>\n"}],"owner":{"account_id":2915744,"reputation":2297,"user_id":2498986,"accept_rate":100,"display_name":"zeagord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12202,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":42437963,"answer_count":2,"score":15,"last_activity_date":1632814310,"creation_date":1487936747,"question_id":42437840,"body_markdown":"I am trying to encrypt a column in my prostrgres DB. The column name is &quot;test&quot; of type &quot;bytea&quot;.\r\n\r\nMy enity code is below,\r\n\r\n\t@ColumnTransformer(\r\n\t\t      forColumn=&quot;test&quot;, \r\n\t\t      read=&quot;pgp_sym_encrypt(test::bytea, &#39;mySecretKey&#39;)&quot;, \r\n\t\t      write=&quot;pgp_sym_decrypt(?, &#39;mySecretKey&#39;)&quot;)\r\n    private String test;\r\n\r\nWhen I tried to retrieve the entity, I am getting the encrypted data like below. How do I get the decrypted value programmatically? But I get the actual value If i execute a postgres select query.\r\n\r\n      &quot;test&quot;: &quot;\\\\xc30d04070302474627ea0994ea657bd24401aaa5543862d57524a407e5dbe2ee0f6f0f33ea4f4474f5bc801dca5d32956d41a975505b12ac000f124177bdc2f4507cbfd724d716aaa513ba46f004dfefd3b2b32eb6&quot;\r\n\r\n2. When I am trying to persist the entity, I am getting the below error.\r\n\r\n&gt; ERROR: column &quot;test&quot; is of type bytea but expression is of type\r\n&gt; character varying","title":"How to encrypt a column in Postgres using Hibernate @ColumnTransformer","body":"<p>I am trying to encrypt a column in my prostrgres DB. The column name is \"test\" of type \"bytea\".</p>\n\n<p>My enity code is below,</p>\n\n<pre><code>@ColumnTransformer(\n          forColumn=\"test\", \n          read=\"pgp_sym_encrypt(test::bytea, 'mySecretKey')\", \n          write=\"pgp_sym_decrypt(?, 'mySecretKey')\")\nprivate String test;\n</code></pre>\n\n<p>When I tried to retrieve the entity, I am getting the encrypted data like below. How do I get the decrypted value programmatically? But I get the actual value If i execute a postgres select query.</p>\n\n<pre><code>  \"test\": \"\\\\xc30d04070302474627ea0994ea657bd24401aaa5543862d57524a407e5dbe2ee0f6f0f33ea4f4474f5bc801dca5d32956d41a975505b12ac000f124177bdc2f4507cbfd724d716aaa513ba46f004dfefd3b2b32eb6\"\n</code></pre>\n\n<ol start=\"2\">\n<li>When I am trying to persist the entity, I am getting the below error.</li>\n</ol>\n\n<blockquote>\n  <p>ERROR: column \"test\" is of type bytea but expression is of type\n  character varying</p>\n</blockquote>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632813896,"creation_date":1632813896,"answer_id":69357408,"question_id":69354559,"body_markdown":"When you are using the following reference:\r\n\r\n    DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);\r\n\r\nYou will indeed always get the same document since you are using a **fixed** document ID. To solve this, what you need to do, is to get the result from the scan operation and use the corresponding number like this:\r\n\r\n    mCodeScanner.setDecodeCallback(new DecodeCallback() {\r\n        public void onDecoded(final Result result) {\r\n            DocumentReference ratingsRef = db.collection(&quot;Ratings&quot;)\r\n            String number = result.getText();\r\n            ratingsRef.document(number).get().addOnSuccessListener(/* ... /*);\r\n            ...\r\n        }\r\n    }","title":"Reading Firestore document with a scanner","body":"<p>When you are using the following reference:</p>\n<pre><code>DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);\n</code></pre>\n<p>You will indeed always get the same document since you are using a <strong>fixed</strong> document ID. To solve this, what you need to do, is to get the result from the scan operation and use the corresponding number like this:</p>\n<pre><code>mCodeScanner.setDecodeCallback(new DecodeCallback() {\n    public void onDecoded(final Result result) {\n        DocumentReference ratingsRef = db.collection(&quot;Ratings&quot;)\n        String number = result.getText();\n        ratingsRef.document(number).get().addOnSuccessListener(/* ... /*);\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22777760,"reputation":3,"user_id":16934135,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633306341,"accepted_answer_id":69357408,"answer_count":1,"score":0,"last_activity_date":1632813932,"creation_date":1632789730,"question_id":69354559,"body_markdown":"I have a barcode scanner and Firestore database. All the Firestore document ids are barcodes. I can manually fetch a doc by typing an id into the app but I want to get them back by scanning from a device. This line I&#39;ve blocked out in the code below (with the number 9310080105764) will get that doc back and if I scan any barcode, will get that same doc back. \r\n\r\n        //private final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);\r\n\r\n\r\nI want the scan to get the corresponding doc to their id numbers. I need it to understand the scanned result is the doc id. Any hints? \r\n\r\n\r\n     //Initialise\r\n    private TextView textViewData;\r\n    private CodeScanner mCodeScanner;\r\n    private Button btClear;\r\n    private Result result;\r\n    private Result documentId;\r\n\r\n    private final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n\r\n//The below line will call that doc\r\n    //   private final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);\r\n\r\n\r\n  //This line won&#39;t get a doc, I think this is where I&#39;m going wrong?     \r\nprivate final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(String.valueOf(documentId));\r\n\r\n\r\n        @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //Assign\r\n        btClear = findViewById(R.id.bt_clear);\r\n        textViewData = findViewById(R.id.text_view_data);\r\n        CodeScannerView scannerView = findViewById(R.id.scanner_view);\r\n        mCodeScanner = new CodeScanner(this, scannerView);\r\n\r\n        //documentId = result;\r\n            \r\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\r\n            public void onDecoded(final Result result) {\r\n\r\n                noteRef.get()\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                            @SuppressLint(&quot;SetTextI18n&quot;)\r\n                            @Override\r\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                if (documentSnapshot.exists()) {\r\n                                    String Brand = documentSnapshot.getString(KEY_BRAND);\r\n                                    String Product = documentSnapshot.getString(KEY_PRODUCT);\r\n                                    String Owned = documentSnapshot.getString(KEY_OWNED);\r\n                                    String Made = documentSnapshot.getString(KEY_MADE);\r\n                                    String Ingredients = documentSnapshot.getString(KEY_INGREDIENTS);\r\n                                    String Info = documentSnapshot.getString(KEY_INFO);\r\n","title":"Reading Firestore document with a scanner","body":"<p>I have a barcode scanner and Firestore database. All the Firestore document ids are barcodes. I can manually fetch a doc by typing an id into the app but I want to get them back by scanning from a device. This line I've blocked out in the code below (with the number 9310080105764) will get that doc back and if I scan any barcode, will get that same doc back.</p>\n<pre><code>    //private final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);\n</code></pre>\n<p>I want the scan to get the corresponding doc to their id numbers. I need it to understand the scanned result is the doc id. Any hints?</p>\n<pre><code> //Initialise\nprivate TextView textViewData;\nprivate CodeScanner mCodeScanner;\nprivate Button btClear;\nprivate Result result;\nprivate Result documentId;\n\nprivate final FirebaseFirestore db = FirebaseFirestore.getInstance();\n</code></pre>\n<p>//The below line will call that doc\n//   private final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(&quot;9310080105764&quot;);</p>\n<p>//This line won't get a doc, I think this is where I'm going wrong?<br />\nprivate final DocumentReference noteRef = db.collection(&quot;Ratings&quot;).document(String.valueOf(documentId));</p>\n<pre><code>    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //Assign\n    btClear = findViewById(R.id.bt_clear);\n    textViewData = findViewById(R.id.text_view_data);\n    CodeScannerView scannerView = findViewById(R.id.scanner_view);\n    mCodeScanner = new CodeScanner(this, scannerView);\n\n    //documentId = result;\n        \n    mCodeScanner.setDecodeCallback(new DecodeCallback() {\n        public void onDecoded(final Result result) {\n\n            noteRef.get()\n                    .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @SuppressLint(&quot;SetTextI18n&quot;)\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            if (documentSnapshot.exists()) {\n                                String Brand = documentSnapshot.getString(KEY_BRAND);\n                                String Product = documentSnapshot.getString(KEY_PRODUCT);\n                                String Owned = documentSnapshot.getString(KEY_OWNED);\n                                String Made = documentSnapshot.getString(KEY_MADE);\n                                String Ingredients = documentSnapshot.getString(KEY_INGREDIENTS);\n                                String Info = documentSnapshot.getString(KEY_INFO);\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","camunda"],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632813723,"creation_date":1632813723,"answer_id":69357370,"question_id":69345064,"body_markdown":"You have basically two ways to test a camunda spring boot application: \r\n\r\n1st: run a camunda engine in memory, without spring. This can be very useful to test process flows, delegate behavior and so on. In that case, you will use the &quot;ProcessEngineRule&quot; from the core (junit4 style) or the junit5 extension (camunda-bpm-junit5). You will probably mock a lot of services and repos because you focus on the camunda flow. You do not need to annotate with &quot;ActiveProfiles&quot;, as you are not running a spring context.\r\n\r\n2nd: Run your tests using the SpringRunner or the SprinExtension and let spring handle the engine setup. This is just a plain spring boot test which will run everything you specify via yml and profiles and you will be able to inject all the camunda services.\r\n\r\nNeither of these approaches is &quot;better&quot;, they focus on different things. According to the testing pyramid, you would have many &quot;real&quot; unit tests, that do not even run camunda in memory just to verify your code works, some rule-based flow tests and a few integration tests using spring boot tests.\r\n\r\n\r\nThe camunda best practices guide will help configuring the scenarios: https://camunda.com/best-practices/testing-process-definitions/\r\n\r\nSidenote: When you mix plain-unit and spring integration tests, you should switch to constructor based injection to make it easier to manually create instances of your services without using reflection. \r\n","title":"How to set up Camunda for unit testing in Spring Boot","body":"<p>You have basically two ways to test a camunda spring boot application:</p>\n<p>1st: run a camunda engine in memory, without spring. This can be very useful to test process flows, delegate behavior and so on. In that case, you will use the &quot;ProcessEngineRule&quot; from the core (junit4 style) or the junit5 extension (camunda-bpm-junit5). You will probably mock a lot of services and repos because you focus on the camunda flow. You do not need to annotate with &quot;ActiveProfiles&quot;, as you are not running a spring context.</p>\n<p>2nd: Run your tests using the SpringRunner or the SprinExtension and let spring handle the engine setup. This is just a plain spring boot test which will run everything you specify via yml and profiles and you will be able to inject all the camunda services.</p>\n<p>Neither of these approaches is &quot;better&quot;, they focus on different things. According to the testing pyramid, you would have many &quot;real&quot; unit tests, that do not even run camunda in memory just to verify your code works, some rule-based flow tests and a few integration tests using spring boot tests.</p>\n<p>The camunda best practices guide will help configuring the scenarios: <a href=\"https://camunda.com/best-practices/testing-process-definitions/\" rel=\"nofollow noreferrer\">https://camunda.com/best-practices/testing-process-definitions/</a></p>\n<p>Sidenote: When you mix plain-unit and spring integration tests, you should switch to constructor based injection to make it easier to manually create instances of your services without using reflection.</p>\n"}],"owner":{"account_id":4382011,"reputation":1790,"user_id":3573403,"accept_rate":62,"display_name":"user3573403"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1632813723,"creation_date":1632738440,"question_id":69345064,"body_markdown":"I am able to run a Spring Boot application with Camunda for workflow management. My pom.xml with Camunda related dependencies are shown below.\r\n\r\n    &lt;dependencyManagement&gt;\r\n            ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camunda-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.15.0&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;7.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- REST API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- dashboard --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\r\n            &lt;version&gt;7.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-engine-plugin-spin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.camunda.spin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camunda-spin-dataformat-all&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI have just one .BPMN file. My application.yml file looks like this:\r\n\r\n    spring.main.banner-mode: console\r\n    server.port: 9090\r\n    \r\n    springdoc:\r\n      model-and-view-allowed: true\r\n      swagger-ui:\r\n        operationsSorter: alpha\r\n    \r\n    spring.jpa:\r\n      hibernate:\r\n        ddl-auto: none\r\n      show-sql: true\r\n      properties:\r\n        hibernate:\r\n          format_sql: true\r\n    spring.datasource:\r\n      initialization-mode: always\r\n      platform: postgres\r\n      url: jdbc:postgresql://xxxx\r\n      username: xxxx\r\n      password: xxxx\r\n    \r\n    spring.flyway.enabled: false\r\n    \r\n    camunda.bpm:\r\n      admin-user:\r\n        id: demo\r\n        password: demo\r\n      generic-properties:\r\n        properties:\r\n          generalResourceWhitelistPattern: &quot;[a-zA-Z0-9,&#39;_\\\\$\\\\-\\\\.\\\\+\\\\!\\\\*\\\\(\\\\)]+|camunda-admin&quot;\r\n\r\nIn the codes, all I have to do are just to declare the Camunda objects and I can used them without further setups:\r\n\r\n    @AutoWired\r\n    protected final RuntimeService runtimeService;\r\n\r\n    @AutoWired\r\n    protected final TaskService taskService;\r\n\r\n    @AutoWired\r\n    protected final IdentityService identityService;\r\n\r\nNow I am trying to write unit tests. It seems that there are more than one way to set up Camunda for unit testing, but I am not able to get any of the examples I found working. By some trial and error, I managed to get the following codes to set up Camunda for unit test.\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class EntitlementServiceTest {\r\n    \r\n        private RuntimeService runtimeService;\r\n        private TaskService taskService;\r\n        private IdentityService identityService;\r\n\t\r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n            ProcessEngine processEngine = ProcessEngineConfiguration.createStandaloneInMemProcessEngineConfiguration()\r\n                .setDatabaseSchemaUpdate(ProcessEngineConfiguration.DB_SCHEMA_UPDATE_TRUE)\r\n                .setJdbcUrl(&quot;jdbc:h2:mem:database_user;DB_CLOSE_ON_EXIT=FALSE&quot;)\r\n                .setJobExecutorActivate(true)\r\n                .buildProcessEngine();\r\n            runtimeService = processEngine.getRuntimeService();\r\n            taskService = processEngine.getTaskService();\r\n            identityService = processEngine.getIdentityService();\r\n        }\r\n\t\r\n\t    ...\r\n    }\r\n\r\nBut I am not sure if this is the correct way to do so, so it would be better if someone points this out. The codes don&#39;t seem to have loaded anything from the application file for unit testing, application-test.yml. Replacing the hardcoded JDBC URL with ${spring.datasource.url} does not work at all. And even though I have set the camunda.bpm.generic-properties.properties.generalResourceWhitelistPattern, application-test.yml, it is obvious that it is not being read.","title":"How to set up Camunda for unit testing in Spring Boot","body":"<p>I am able to run a Spring Boot application with Camunda for workflow management. My pom.xml with Camunda related dependencies are shown below.</p>\n<pre><code>&lt;dependencyManagement&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bom&lt;/artifactId&gt;\n            &lt;version&gt;7.15.0&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;7.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- REST API --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\n        &lt;version&gt;7.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- dashboard --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\n        &lt;version&gt;7.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\n        &lt;artifactId&gt;camunda-engine-plugin-spin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.camunda.spin&lt;/groupId&gt;\n        &lt;artifactId&gt;camunda-spin-dataformat-all&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have just one .BPMN file. My application.yml file looks like this:</p>\n<pre><code>spring.main.banner-mode: console\nserver.port: 9090\n\nspringdoc:\n  model-and-view-allowed: true\n  swagger-ui:\n    operationsSorter: alpha\n\nspring.jpa:\n  hibernate:\n    ddl-auto: none\n  show-sql: true\n  properties:\n    hibernate:\n      format_sql: true\nspring.datasource:\n  initialization-mode: always\n  platform: postgres\n  url: jdbc:postgresql://xxxx\n  username: xxxx\n  password: xxxx\n\nspring.flyway.enabled: false\n\ncamunda.bpm:\n  admin-user:\n    id: demo\n    password: demo\n  generic-properties:\n    properties:\n      generalResourceWhitelistPattern: &quot;[a-zA-Z0-9,'_\\\\$\\\\-\\\\.\\\\+\\\\!\\\\*\\\\(\\\\)]+|camunda-admin&quot;\n</code></pre>\n<p>In the codes, all I have to do are just to declare the Camunda objects and I can used them without further setups:</p>\n<pre><code>@AutoWired\nprotected final RuntimeService runtimeService;\n\n@AutoWired\nprotected final TaskService taskService;\n\n@AutoWired\nprotected final IdentityService identityService;\n</code></pre>\n<p>Now I am trying to write unit tests. It seems that there are more than one way to set up Camunda for unit testing, but I am not able to get any of the examples I found working. By some trial and error, I managed to get the following codes to set up Camunda for unit test.</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\npublic class EntitlementServiceTest {\n\n    private RuntimeService runtimeService;\n    private TaskService taskService;\n    private IdentityService identityService;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        ProcessEngine processEngine = ProcessEngineConfiguration.createStandaloneInMemProcessEngineConfiguration()\n            .setDatabaseSchemaUpdate(ProcessEngineConfiguration.DB_SCHEMA_UPDATE_TRUE)\n            .setJdbcUrl(&quot;jdbc:h2:mem:database_user;DB_CLOSE_ON_EXIT=FALSE&quot;)\n            .setJobExecutorActivate(true)\n            .buildProcessEngine();\n        runtimeService = processEngine.getRuntimeService();\n        taskService = processEngine.getTaskService();\n        identityService = processEngine.getIdentityService();\n    }\n\n    ...\n}\n</code></pre>\n<p>But I am not sure if this is the correct way to do so, so it would be better if someone points this out. The codes don't seem to have loaded anything from the application file for unit testing, application-test.yml. Replacing the hardcoded JDBC URL with ${spring.datasource.url} does not work at all. And even though I have set the camunda.bpm.generic-properties.properties.generalResourceWhitelistPattern, application-test.yml, it is obvious that it is not being read.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","onitemclick"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1632811945,"post_id":69356935,"comment_id":122586939,"body_markdown":"You want to set  a single `clickListener` on the whole `recyclerView`?","body":"You want to set  a single <code>clickListener</code> on the whole <code>recyclerView</code>?"},{"owner":{"account_id":14368259,"reputation":174,"user_id":10378647,"display_name":"Atul Yadav"},"score":0,"creation_date":1632812103,"post_id":69356935,"comment_id":122587012,"body_markdown":"Shift &quot;downTouch = false&quot; below &quot;showPatchIbadahDialog(id)&quot;.","body":"Shift &quot;downTouch = false&quot; below &quot;showPatchIbadahDialog(id)&quot;."},{"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"score":0,"creation_date":1632812636,"post_id":69356935,"comment_id":122587203,"body_markdown":"@Praveen i want to set clicklistener for each item of the recyclerview not clicklistenr for the whole recyclerview","body":"@Praveen i want to set clicklistener for each item of the recyclerview not clicklistenr for the whole recyclerview"},{"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"score":0,"creation_date":1632812653,"post_id":69356935,"comment_id":122587211,"body_markdown":"@AtulYadav nothing changed","body":"@AtulYadav nothing changed"},{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1632812779,"post_id":69356935,"comment_id":122587252,"body_markdown":"@Enigma Then why aren&#39;t you setting `clickListeners` for each item inside `onBindViewHolder`??","body":"@Enigma Then why aren&#39;t you setting <code>clickListeners</code> for each item inside <code>onBindViewHolder</code>??"},{"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"score":0,"creation_date":1632812931,"post_id":69356935,"comment_id":122587313,"body_markdown":"@Praveen i have updated my question and included onBindViewHolder from adapter, do i need to add anything to it?","body":"@Praveen i have updated my question and included onBindViewHolder from adapter, do i need to add anything to it?"},{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1632813007,"post_id":69356935,"comment_id":122587347,"body_markdown":"@Enigma Yeah, you can directly set `clickListeners` for each item, inside your `bind` method. Should I post an answer?","body":"@Enigma Yeah, you can directly set <code>clickListeners</code> for each item, inside your <code>bind</code> method. Should I post an answer?"},{"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"score":0,"creation_date":1632813041,"post_id":69356935,"comment_id":122587365,"body_markdown":"@Praveen yes please, that would be great","body":"@Praveen yes please, that would be great"}],"answers":[{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632813447,"creation_date":1632813447,"answer_id":69357321,"question_id":69356935,"body_markdown":"You can set `clickListeners` for each items of your `recyclerView` inside `bind` method of your `viewHolder` class.\r\n\r\n    class PlannerListhHolder(private val plannerListBinding: PlannerItemBinding) :\r\n                RecyclerView.ViewHolder(plannerListBinding.root) {\r\n                fun bind(plannerItem: PlannerItem) {\r\n                    plannerListBinding.root.setOnClickListener {\r\n                        //show your dialog\r\n                    }\r\n                }\r\n            }","title":"RecyclerView item click is working on emulator but not on physical in kotlin","body":"<p>You can set <code>clickListeners</code> for each items of your <code>recyclerView</code> inside <code>bind</code> method of your <code>viewHolder</code> class.</p>\n<pre><code>class PlannerListhHolder(private val plannerListBinding: PlannerItemBinding) :\n            RecyclerView.ViewHolder(plannerListBinding.root) {\n            fun bind(plannerItem: PlannerItem) {\n                plannerListBinding.root.setOnClickListener {\n                    //show your dialog\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69357321,"answer_count":1,"score":0,"last_activity_date":1632813447,"creation_date":1632811478,"question_id":69356935,"body_markdown":"i have this function to setup the Recyclerview:\r\n\r\n    fun setUpRecyclerview() {\r\n        clickToPatch()\r\n        mAdapter.updateData(plannersList)\r\n        recyclerView!!.layoutManager =\r\n            LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false)\r\n        recyclerView?.adapter = mAdapter\r\n        swipeToDelete()\r\n\r\n    }\r\n\r\nand this is click to patch function:\r\n\r\n    fun clickToPatch() {\r\n        recyclerView?.addOnItemTouchListener(object : RecyclerView.SimpleOnItemTouchListener() {\r\n            var downTouch = false\r\n            override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n                when (e.action) {\r\n                    MotionEvent.ACTION_DOWN -&gt; downTouch = true\r\n                    MotionEvent.ACTION_UP -&gt; if (downTouch) {\r\n                        downTouch = false\r\n                        recyclerView!!.findChildViewUnder(e.x, e.y)?.let {\r\n                            val position = rv.getChildAdapterPosition(it)\r\n                            val id: Int = mAdapter.plannersList?.get(position)!!.id\r\n                            showPatchIbadahDialog(id)\r\n                        }\r\n                    }\r\n                    else -&gt; downTouch = false\r\n                }\r\n                return super.onInterceptTouchEvent(rv, e)\r\n            }\r\n        })\r\n\r\n    }\r\n\r\nso when i click the item in emulator i it work fine and i can patch the item but when i try to click the item on physical phone, nothing happen and clicking on the item isn&#39;t responsive \r\n\r\nwhat am i doing wrong here? \r\n\r\nUPDATE:\r\n\r\nonBindViewHolder:\r\n\r\n    override fun onBindViewHolder(holder: ItemBaseViewHolder, position: Int) {\r\n        holder.bind(plannersList?.get(position)!!)\r\n\r\n    }","title":"RecyclerView item click is working on emulator but not on physical in kotlin","body":"<p>i have this function to setup the Recyclerview:</p>\n<pre><code>fun setUpRecyclerview() {\n    clickToPatch()\n    mAdapter.updateData(plannersList)\n    recyclerView!!.layoutManager =\n        LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false)\n    recyclerView?.adapter = mAdapter\n    swipeToDelete()\n\n}\n</code></pre>\n<p>and this is click to patch function:</p>\n<pre><code>fun clickToPatch() {\n    recyclerView?.addOnItemTouchListener(object : RecyclerView.SimpleOnItemTouchListener() {\n        var downTouch = false\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            when (e.action) {\n                MotionEvent.ACTION_DOWN -&gt; downTouch = true\n                MotionEvent.ACTION_UP -&gt; if (downTouch) {\n                    downTouch = false\n                    recyclerView!!.findChildViewUnder(e.x, e.y)?.let {\n                        val position = rv.getChildAdapterPosition(it)\n                        val id: Int = mAdapter.plannersList?.get(position)!!.id\n                        showPatchIbadahDialog(id)\n                    }\n                }\n                else -&gt; downTouch = false\n            }\n            return super.onInterceptTouchEvent(rv, e)\n        }\n    })\n\n}\n</code></pre>\n<p>so when i click the item in emulator i it work fine and i can patch the item but when i try to click the item on physical phone, nothing happen and clicking on the item isn't responsive</p>\n<p>what am i doing wrong here?</p>\n<p>UPDATE:</p>\n<p>onBindViewHolder:</p>\n<pre><code>override fun onBindViewHolder(holder: ItemBaseViewHolder, position: Int) {\n    holder.bind(plannersList?.get(position)!!)\n\n}\n</code></pre>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1632808375,"post_id":69356412,"comment_id":122585921,"body_markdown":"Please include the code you tried and the output it produces in the question text.","body":"Please include the code you tried and the output it produces in the question text."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1632810128,"post_id":69356412,"comment_id":122586354,"body_markdown":"Welcome to SO. Please read [ask], show the (relevant!) code you have so far and also check whether you&#39;ve set the content type of the email to `text/html`. Finally, note that not every email client displays html messages (by default).","body":"Welcome to SO. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, show the (relevant!) code you have so far and also check whether you&#39;ve set the content type of the email to <code>text&#47;html</code>. Finally, note that not every email client displays html messages (by default)."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632813440,"creation_date":1632813440,"answer_id":69357320,"question_id":69356412,"body_markdown":"I don&#39;t think you can use JSPs to generate e-mails.\r\nTry another template engine such as velocity, thymeleaf, or freemarker.\r\n","title":"java mail- how to send mail where message body is the return table value of a method in the java class","body":"<p>I don't think you can use JSPs to generate e-mails.\nTry another template engine such as velocity, thymeleaf, or freemarker.</p>\n"}],"owner":{"account_id":22829780,"reputation":1,"user_id":16978466,"display_name":"Atheeya Jayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632813440,"creation_date":1632808146,"question_id":69356412,"body_markdown":"i created a jsp page which can filter and retrieve data from database in form of table through java and calculate some variables, where my dynamic tables are in java file and filter for displaying reports in jsp. now the problem is  i want to include the  html table in the java class   in my message body.so my message body display the table content of report.  how can fetch the java table in the message body?.\r\n\r\ni have created the html table structure in the email body but the values are not displaying in the table.\r\n","title":"java mail- how to send mail where message body is the return table value of a method in the java class","body":"<p>i created a jsp page which can filter and retrieve data from database in form of table through java and calculate some variables, where my dynamic tables are in java file and filter for displaying reports in jsp. now the problem is  i want to include the  html table in the java class   in my message body.so my message body display the table content of report.  how can fetch the java table in the message body?.</p>\n<p>i have created the html table structure in the email body but the values are not displaying in the table.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1632760199,"post_id":69349529,"comment_id":122574592,"body_markdown":"Why not use `findAll()` of `JpaRepository`?","body":"Why not use <code>findAll()</code> of <code>JpaRepository</code>?"},{"owner":{"account_id":14021261,"reputation":137,"user_id":10127426,"display_name":"M.Haris Qayyum"},"score":0,"creation_date":1632761954,"post_id":69349529,"comment_id":122575276,"body_markdown":"@Mansoor, Actually I have to add a where clause with a sub query... to avoid complexity in question, I skipped that part...","body":"@Mansoor, Actually I have to add a where clause with a sub query... to avoid complexity in question, I skipped that part..."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1632763081,"post_id":69349529,"comment_id":122575700,"body_markdown":"My guess would be https://stackoverflow.com/a/21749892/1225328, i.e. Jackson triggering the unwanted queries to `FeatureComponent` when seralising your `List&lt;Feature&gt;` since it finds a getter for `components`.","body":"My guess would be <a href=\"https://stackoverflow.com/a/21749892/1225328\">stackoverflow.com/a/21749892/1225328</a>, i.e. Jackson triggering the unwanted queries to <code>FeatureComponent</code> when seralising your <code>List&lt;Feature&gt;</code> since it finds a getter for <code>components</code>."},{"owner":{"account_id":14021261,"reputation":137,"user_id":10127426,"display_name":"M.Haris Qayyum"},"score":0,"creation_date":1632765261,"post_id":69349529,"comment_id":122576506,"body_markdown":"But I don&#39;t want to avoid that &#39;components&#39; because I need them for other purposes (that you can check in my other query i.e. getWithDetail)... I Know, We can easily ignore entity fields by @JsonIgnore annotation...","body":"But I don&#39;t want to avoid that &#39;components&#39; because I need them for other purposes (that you can check in my other query i.e. getWithDetail)... I Know, We can easily ignore entity fields by @JsonIgnore annotation..."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632768780,"creation_date":1632768780,"answer_id":69351902,"question_id":69349529,"body_markdown":"Just like @spOOm already mentioned I also suspect this is the side effect of Jackson `Feature` entity serialization into JSON triggering the load of all the `components`.\r\n\r\nThat is why using DTOs instead of plain Entities is usually advisable when returning data via a Controller. With DTOs, you clearly define whatever you want to include in the response to the caller. You can even reorganize your model so that it fits better the needs of the clients. You decouple your inner model and the model your API consumers know, making it possible to rework your inner model and still keep the same public model. You could have the following DTO.\r\n\r\n```java\r\npublic class FeatureSimpleDto {\r\n    private Integer id;\r\n    private String name;\r\n    private String description;\r\n}\r\n```\r\n\r\nThen, in your Controller or Service (here you can find different opinions) you would basically convert your `Feature` entity into a `FeatureSimpleDto` that would be returned by your Controller. Here you can use mapping libraries such as [MapStruct][1] or you can do it on your own (I usually tend to prefer doing it on my own, one less dependency to rely on).\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"Springboot JPA entity is auto loading lazy join entities","body":"<p>Just like @spOOm already mentioned I also suspect this is the side effect of Jackson <code>Feature</code> entity serialization into JSON triggering the load of all the <code>components</code>.</p>\n<p>That is why using DTOs instead of plain Entities is usually advisable when returning data via a Controller. With DTOs, you clearly define whatever you want to include in the response to the caller. You can even reorganize your model so that it fits better the needs of the clients. You decouple your inner model and the model your API consumers know, making it possible to rework your inner model and still keep the same public model. You could have the following DTO.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FeatureSimpleDto {\n    private Integer id;\n    private String name;\n    private String description;\n}\n</code></pre>\n<p>Then, in your Controller or Service (here you can find different opinions) you would basically convert your <code>Feature</code> entity into a <code>FeatureSimpleDto</code> that would be returned by your Controller. Here you can use mapping libraries such as <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> or you can do it on your own (I usually tend to prefer doing it on my own, one less dependency to rely on).</p>\n"},{"tags":[],"owner":{"account_id":18745380,"reputation":34,"user_id":13667729,"display_name":"serob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632771816,"creation_date":1632771816,"answer_id":69352435,"question_id":69349529,"body_markdown":"Using Lombok may be a problem, depending on the relationship between tables, try to create getters manually in entity classes.","title":"Springboot JPA entity is auto loading lazy join entities","body":"<p>Using Lombok may be a problem, depending on the relationship between tables, try to create getters manually in entity classes.</p>\n"},{"tags":[],"owner":{"account_id":14021261,"reputation":137,"user_id":10127426,"display_name":"M.Haris Qayyum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632813414,"creation_date":1632813414,"answer_id":69357315,"question_id":69349529,"body_markdown":"Thanks to everyone for providing workarounds... But every work item requires lots of changes which were not possible for me...\r\n\r\nLuckily I found a solution that is working fine for me... Better to post here...\r\n\r\n**Step-1: Add dependency in pom.xml file**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Step-2: Add a &#39;Bean&#39; for Hibernate Module**\r\n\r\nWe can add bean in any file having **@Configuration** annotation... Even, we can add in Springboot main application file(where we have **main** method).\r\n\r\n    @Bean\r\n    public Module datatypeHibernateModule() {\r\n        return new Hibernate5Module();\r\n    }\r\n\r\nThat&#39;s it, **Happy Coding...**","title":"Springboot JPA entity is auto loading lazy join entities","body":"<p>Thanks to everyone for providing workarounds... But every work item requires lots of changes which were not possible for me...</p>\n<p>Luckily I found a solution that is working fine for me... Better to post here...</p>\n<p><strong>Step-1: Add dependency in pom.xml file</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Step-2: Add a 'Bean' for Hibernate Module</strong></p>\n<p>We can add bean in any file having <strong>@Configuration</strong> annotation... Even, we can add in Springboot main application file(where we have <strong>main</strong> method).</p>\n<pre><code>@Bean\npublic Module datatypeHibernateModule() {\n    return new Hibernate5Module();\n}\n</code></pre>\n<p>That's it, <strong>Happy Coding...</strong></p>\n"}],"owner":{"account_id":14021261,"reputation":137,"user_id":10127426,"display_name":"M.Haris Qayyum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1632813414,"creation_date":1632757568,"question_id":69349529,"body_markdown":"I have an entity as\r\n\r\n        @Getter\r\n        @Setter\r\n        @Entity\r\n        @Table(name = &quot;feature&quot;)\r\n        @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n        public class Feature {\r\n    \r\n            @Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       \t    private Integer id;\r\n    \r\n        \t@Column(name = &quot;name&quot;)\r\n            private String name;\r\n    \r\n            @Column(name = &quot;description&quot;)\r\n            private String description;\r\n    \r\n            @OneToMany(mappedBy = &quot;featureId&quot;, fetch = FetchType.LAZY)\r\n            private transient Collection&lt;FeatureComponent&gt; components;\r\n    }\r\n\r\nWhile in its Repository(Dao) file, I have\r\n\r\n    public interface FeatureDao extends JpaRepository&lt;Feature, Integer&gt; {\r\n\r\n        @Query(&quot;SELECT e FROM Feature e&quot;)\r\n        public List&lt;Feature&gt; getAll();\r\n    \r\n        @Query(&quot;SELECT e FROM Feature e LEFT JOIN e.components fc WHERE e.id= :id&quot;)\r\n        public Feature getWithDetail(@Param(&quot;id&quot;) Integer id);\r\n    }\r\n\r\nWhen I&#39;m calling **featureDao.getAll();** it returns all features but including **components** list filled and because of that, my response it being too large to load on client-side.\r\n\r\nI&#39;m unable to understand why it is happening when I&#39;m using **Lazy** fetch mode and didn&#39;t mentioned joining with **components** in my **getAll** method.\r\n\r\nPlease help to resolve that issue, \r\nThanks in advance.\r\n\r\n","title":"Springboot JPA entity is auto loading lazy join entities","body":"<p>I have an entity as</p>\n<pre><code>    @Getter\n    @Setter\n    @Entity\n    @Table(name = &quot;feature&quot;)\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    public class Feature {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Integer id;\n\n        @Column(name = &quot;name&quot;)\n        private String name;\n\n        @Column(name = &quot;description&quot;)\n        private String description;\n\n        @OneToMany(mappedBy = &quot;featureId&quot;, fetch = FetchType.LAZY)\n        private transient Collection&lt;FeatureComponent&gt; components;\n}\n</code></pre>\n<p>While in its Repository(Dao) file, I have</p>\n<pre><code>public interface FeatureDao extends JpaRepository&lt;Feature, Integer&gt; {\n\n    @Query(&quot;SELECT e FROM Feature e&quot;)\n    public List&lt;Feature&gt; getAll();\n\n    @Query(&quot;SELECT e FROM Feature e LEFT JOIN e.components fc WHERE e.id= :id&quot;)\n    public Feature getWithDetail(@Param(&quot;id&quot;) Integer id);\n}\n</code></pre>\n<p>When I'm calling <strong>featureDao.getAll();</strong> it returns all features but including <strong>components</strong> list filled and because of that, my response it being too large to load on client-side.</p>\n<p>I'm unable to understand why it is happening when I'm using <strong>Lazy</strong> fetch mode and didn't mentioned joining with <strong>components</strong> in my <strong>getAll</strong> method.</p>\n<p>Please help to resolve that issue,\nThanks in advance.</p>\n"},{"tags":["java","templates","freemarker","template-engine"],"comments":[{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":0,"creation_date":1537543872,"post_id":29508541,"comment_id":91836707,"body_markdown":"To access a variable in that list ${fields[i].variableName}","body":"To access a variable in that list ${fields[i].variableName}"}],"answers":[{"tags":[],"owner":{"account_id":1174568,"reputation":1170,"user_id":1150878,"accept_rate":75,"display_name":"Duffmaster33"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1429202007,"creation_date":1429202007,"answer_id":29680874,"question_id":29508541,"body_markdown":"Yes, you can easily use the index to get at an item like `${fields[i]}`.  You might want to loop over the indexes using something like:\r\n\r\n    &lt;#list 0..fields?size-1 as i&gt;\r\n    ${fields[i]}\r\n    &lt;/#list&gt;\r\n\r\nAlternatively, you can just list over a sequence without the index like:\r\n\r\n    &lt;#list fields as field&gt;\r\n    ${field}\r\n    &lt;/#list&gt;","title":"How to get list items by index in freemarker template?","body":"<p>Yes, you can easily use the index to get at an item like <code>${fields[i]}</code>.  You might want to loop over the indexes using something like:</p>\n\n<pre><code>&lt;#list 0..fields?size-1 as i&gt;\n${fields[i]}\n&lt;/#list&gt;\n</code></pre>\n\n<p>Alternatively, you can just list over a sequence without the index like:</p>\n\n<pre><code>&lt;#list fields as field&gt;\n${field}\n&lt;/#list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10852411,"reputation":136,"user_id":7979781,"display_name":"manoj kumar c.a"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632813242,"creation_date":1559800819,"answer_id":56471642,"question_id":29508541,"body_markdown":"you can use inbuilt index property of FMT:\r\neg:\r\n```\r\n&lt;#list [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] as i&gt; ${i?index}: ${i} &lt;/#list&gt;\r\n```","title":"How to get list items by index in freemarker template?","body":"<p>you can use inbuilt index property of FMT:\neg:</p>\n<pre><code>&lt;#list ['a', 'b', 'c'] as i&gt; ${i?index}: ${i} &lt;/#list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454239,"reputation":3653,"user_id":2893073,"accept_rate":67,"display_name":"Eddy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577325628,"creation_date":1577325628,"answer_id":59483165,"question_id":29508541,"body_markdown":"Tested [online][1], the following works well.\r\n\r\n**Input:**\r\n\r\n    someList = [&quot;2019-12-16&quot;, 3]\r\n\r\n**Template:**\r\n\r\n    &lt;ul&gt; \r\n       &lt;li&gt;${someList[0]}&lt;/li&gt;\r\n       &lt;li&gt;${someList[1]}&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n**Output:**\r\n\r\n    &lt;ul&gt; \r\n       &lt;li&gt;2019-12-16&lt;/li&gt;\r\n       &lt;li&gt;3&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n  [1]: https://try.freemarker.apache.org/","title":"How to get list items by index in freemarker template?","body":"<p>Tested <a href=\"https://try.freemarker.apache.org/\" rel=\"nofollow noreferrer\">online</a>, the following works well.</p>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>someList = [\"2019-12-16\", 3]\n</code></pre>\n\n<p><strong>Template:</strong></p>\n\n<pre><code>&lt;ul&gt; \n   &lt;li&gt;${someList[0]}&lt;/li&gt;\n   &lt;li&gt;${someList[1]}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&lt;ul&gt; \n   &lt;li&gt;2019-12-16&lt;/li&gt;\n   &lt;li&gt;3&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44225,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":29680874,"answer_count":3,"score":17,"last_activity_date":1632813242,"creation_date":1428478239,"question_id":29508541,"body_markdown":"Is there a way to get list item by index in freemarker template, maybe something like this:\r\n\r\n    &lt;#assign i = 1&gt;\r\n    ${fields}[i]\r\n\r\ni&#39;m new to freemarker.","title":"How to get list items by index in freemarker template?","body":"<p>Is there a way to get list item by index in freemarker template, maybe something like this:</p>\n\n<pre><code>&lt;#assign i = 1&gt;\n${fields}[i]\n</code></pre>\n\n<p>i'm new to freemarker.</p>\n"},{"tags":["java","backend","cuba-platform"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1632755413,"post_id":69349006,"comment_id":122572646,"body_markdown":"Can you add some code?","body":"Can you add some code?"},{"owner":{"account_id":22535198,"reputation":49,"user_id":16726611,"display_name":"aspiringdev"},"score":0,"creation_date":1632756718,"post_id":69349006,"comment_id":122573209,"body_markdown":"there is a lot of code, so I do not think that&#39;s possible, I&#39;m just looking for some explanation","body":"there is a lot of code, so I do not think that&#39;s possible, I&#39;m just looking for some explanation"},{"owner":{"account_id":22535198,"reputation":49,"user_id":16726611,"display_name":"aspiringdev"},"score":0,"creation_date":1632756870,"post_id":69349006,"comment_id":122573275,"body_markdown":"i added the code of entity, hope it helps","body":"i added the code of entity, hope it helps"}],"answers":[{"tags":[],"owner":{"account_id":2315254,"reputation":463,"user_id":2032468,"display_name":"alexb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632813080,"creation_date":1632813080,"answer_id":69357252,"question_id":69349006,"body_markdown":"Most probably this user doesn&#39;t have attribute permissions for the entity assigned.\r\nAll attributes are inaccessible by default and should be explicitly permitted via a runtime or design-time role, even if &quot;read&quot; operation for this entity is already permitted.\r\n\r\nExample code for design-time role:\r\n```\r\n    @EntityAttributeAccess(entityClass = Contacts.class, modify = &quot;*&quot;)\r\n    @Override\r\n    public EntityAttributePermissionsContainer entityAttributePermissions() {\r\n        return super.entityAttributePermissions();\r\n    }\r\n```\r\n\r\nAlso the role assigned to the user should have &quot;REST&quot; scope, in order to be taken into account by REST API client.\r\n\r\nhttps://doc.cuba-platform.com/manual-7.2/roles.html\r\n","title":"Cuba Platform Frontend UI entitities don&#39;t appear","body":"<p>Most probably this user doesn't have attribute permissions for the entity assigned.\nAll attributes are inaccessible by default and should be explicitly permitted via a runtime or design-time role, even if &quot;read&quot; operation for this entity is already permitted.</p>\n<p>Example code for design-time role:</p>\n<pre><code>    @EntityAttributeAccess(entityClass = Contacts.class, modify = &quot;*&quot;)\n    @Override\n    public EntityAttributePermissionsContainer entityAttributePermissions() {\n        return super.entityAttributePermissions();\n    }\n</code></pre>\n<p>Also the role assigned to the user should have &quot;REST&quot; scope, in order to be taken into account by REST API client.</p>\n<p><a href=\"https://doc.cuba-platform.com/manual-7.2/roles.html\" rel=\"nofollow noreferrer\">https://doc.cuba-platform.com/manual-7.2/roles.html</a></p>\n"}],"owner":{"account_id":22535198,"reputation":49,"user_id":16726611,"display_name":"aspiringdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632813080,"creation_date":1632755266,"question_id":69349006,"body_markdown":"I created a frontend module using cuba platform and an account entity, however when the page is loaded none of the names or photos are presented in the table. If you look into network it shows that get query returns only entity name, empty instance name and id. How to fix this? I have no experience in java or backend\r\n```\r\npackage com.company.exercise.entity;\r\n\r\nimport com.haulmont.chile.core.annotations.NamePattern;\r\nimport com.haulmont.cuba.core.entity.StandardEntity;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Table(name = &quot;EXERCISE_CONTACTS&quot;)\r\n@Entity(name = &quot;exercise_Contacts&quot;)\r\n@NamePattern(&quot;%s|value&quot;)\r\npublic class Contacts extends StandardEntity {\r\n    private static final long serialVersionUID = 5180754450963558385L;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;ACCOUNT_ID&quot;)\r\n    @NotNull\r\n    private Account account;\r\n\r\n    @Column(name = &quot;CONTACT_TYPE&quot;, nullable = false)\r\n    @NotNull\r\n    private String contactType;\r\n\r\n    @Column(name = &quot;VALUE_&quot;, nullable = false)\r\n    @NotNull\r\n    private String value;\r\n\r\n    public void setContactType(ContactType contactType) {\r\n        this.contactType = contactType == null ? null : contactType.getId();\r\n    }\r\n\r\n    public ContactType getContactType() {\r\n        return contactType == null ? null : ContactType.fromId(contactType);\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public Account getAccount() {\r\n        return account;\r\n    }\r\n\r\n    public void setAccount(Account account) {\r\n        this.account = account;\r\n    }\r\n}\r\n``` ","title":"Cuba Platform Frontend UI entitities don&#39;t appear","body":"<p>I created a frontend module using cuba platform and an account entity, however when the page is loaded none of the names or photos are presented in the table. If you look into network it shows that get query returns only entity name, empty instance name and id. How to fix this? I have no experience in java or backend</p>\n<pre><code>package com.company.exercise.entity;\n\nimport com.haulmont.chile.core.annotations.NamePattern;\nimport com.haulmont.cuba.core.entity.StandardEntity;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@Table(name = &quot;EXERCISE_CONTACTS&quot;)\n@Entity(name = &quot;exercise_Contacts&quot;)\n@NamePattern(&quot;%s|value&quot;)\npublic class Contacts extends StandardEntity {\n    private static final long serialVersionUID = 5180754450963558385L;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;ACCOUNT_ID&quot;)\n    @NotNull\n    private Account account;\n\n    @Column(name = &quot;CONTACT_TYPE&quot;, nullable = false)\n    @NotNull\n    private String contactType;\n\n    @Column(name = &quot;VALUE_&quot;, nullable = false)\n    @NotNull\n    private String value;\n\n    public void setContactType(ContactType contactType) {\n        this.contactType = contactType == null ? null : contactType.getId();\n    }\n\n    public ContactType getContactType() {\n        return contactType == null ? null : ContactType.fromId(contactType);\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public Account getAccount() {\n        return account;\n    }\n\n    public void setAccount(Account account) {\n        this.account = account;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7256025,"reputation":19,"user_id":5534642,"display_name":"Gre3eN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632812729,"creation_date":1632485952,"answer_id":69314898,"question_id":69224029,"body_markdown":"In Spring, if a method that is annotated with @Transactional calls another method annotated with @Transactional, the transaction is started at the beginning of the first method and commited after the second method is finished.\r\n\r\nRequiring a new transaction can be helpful, if you have a sequence of methods that are transactional but you want to commit a transaction half way through the sequence.\r\nOr maybe you have a method that should always open it&#39;s own transaction and you want to make sure it does so, even if it is called by another transactional method.","title":"Example of Propagation in spring data JPA","body":"<p>In Spring, if a method that is annotated with @Transactional calls another method annotated with @Transactional, the transaction is started at the beginning of the first method and commited after the second method is finished.</p>\n<p>Requiring a new transaction can be helpful, if you have a sequence of methods that are transactional but you want to commit a transaction half way through the sequence.\nOr maybe you have a method that should always open it's own transaction and you want to make sure it does so, even if it is called by another transactional method.</p>\n"}],"owner":{"account_id":152511,"reputation":1755,"user_id":367097,"accept_rate":75,"display_name":"Akshay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632812729,"creation_date":1631884295,"question_id":69224029,"body_markdown":"I am trying to understand the propagation attribute of @Transactional annotation in Spring Data JPA. I have read enough theory. But I do not understand(nor can I find anywhere on internet) the real-life scenario where I need to use the **PROPAGATION_REQUIRED** in place of **PROPAGATION_REQUIRES_NEW**. I understand the theory that PROPAGATION_REQUIRED can utilize the existing transaction and PROPAGATION_REQUIRES_NEW will start a new transaction each time. But I could not understand two things - \r\n1. How does it matter to me as a programmer? or in which used cases one is preferred over other?\r\n2. Is the &quot;TRANSACTION&quot; we are talking about is a spring transaction or a database transaction ","title":"Example of Propagation in spring data JPA","body":"<p>I am trying to understand the propagation attribute of @Transactional annotation in Spring Data JPA. I have read enough theory. But I do not understand(nor can I find anywhere on internet) the real-life scenario where I need to use the <strong>PROPAGATION_REQUIRED</strong> in place of <strong>PROPAGATION_REQUIRES_NEW</strong>. I understand the theory that PROPAGATION_REQUIRED can utilize the existing transaction and PROPAGATION_REQUIRES_NEW will start a new transaction each time. But I could not understand two things -</p>\n<ol>\n<li>How does it matter to me as a programmer? or in which used cases one is preferred over other?</li>\n<li>Is the &quot;TRANSACTION&quot; we are talking about is a spring transaction or a database transaction</li>\n</ol>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1487074324,"post_id":3387373,"comment_id":71611267,"body_markdown":"Or just use Groovy ;-) `def arr = (1..500)+(301..400)+(1001..1400)`","body":"Or just use Groovy ;-) <code>def arr = (1..500)+(301..400)+(1001..1400)</code>"}],"answers":[{"tags":[],"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1382678193,"creation_date":1280749812,"answer_id":3387412,"question_id":3387373,"body_markdown":"There is [dollar][1]:\r\n\r\n    // build the List 10, 11, 12, 13, 14\r\n    List&lt;Integer&gt; list2 = $(10, 15).toList();\r\n\r\nmaven:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bitbucket.dollar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dollar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://bitbucket.org/adamldavis/dollar/wiki/Home","title":"Fill arrays with ranges of numbers","body":"<p>There is <a href=\"https://bitbucket.org/adamldavis/dollar/wiki/Home\" rel=\"noreferrer\">dollar</a>:</p>\n\n<pre><code>// build the List 10, 11, 12, 13, 14\nList&lt;Integer&gt; list2 = $(10, 15).toList();\n</code></pre>\n\n<p>maven:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.bitbucket.dollar&lt;/groupId&gt;\n        &lt;artifactId&gt;dollar&lt;/artifactId&gt;\n        &lt;version&gt;1.0-beta3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38718,"reputation":10894,"user_id":111313,"display_name":"Jared Russell"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1280757631,"creation_date":1280751884,"answer_id":3387704,"question_id":3387373,"body_markdown":"Not quite as clean as True Soft&#39;s answer, but you can use [Google Guava][1] to the same effect:\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            //one liner\r\n            int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\r\n            \r\n            //more readable\r\n            Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\r\n            List&lt;Integer&gt; list = newLinkedList(values);\r\n            int[] array = toArray(list);\r\n\r\n        }\r\n\r\n        public static List&lt;Integer&gt; range(int min, int max) {\r\n            List&lt;Integer&gt; list = newLinkedList();\r\n            for (int i = min; i &lt;= max; i++) {\r\n                list.add(i);\r\n            }\r\n\r\n            return list;\r\n        }\r\n\r\n    }\r\n\r\nNote you need a few static imports for this to work.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Fill arrays with ranges of numbers","body":"<p>Not quite as clean as True Soft's answer, but you can use <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a> to the same effect:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        //one liner\n        int[] array = toArray(newLinkedList(concat(range(1, 10), range(500, 1000))));\n\n        //more readable\n        Iterable&lt;Integer&gt; values = concat(range(1, 10), range(500, 1000));\n        List&lt;Integer&gt; list = newLinkedList(values);\n        int[] array = toArray(list);\n\n    }\n\n    public static List&lt;Integer&gt; range(int min, int max) {\n        List&lt;Integer&gt; list = newLinkedList();\n        for (int i = min; i &lt;= max; i++) {\n            list.add(i);\n        }\n\n        return list;\n    }\n\n}\n</code></pre>\n\n<p>Note you need a few static imports for this to work.</p>\n"},{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1472541047,"creation_date":1401571704,"answer_id":23974640,"question_id":3387373,"body_markdown":"As for the first question, whether it is possible to fill an array with the values of a range: it is actually possible to achieve that with the combination of [Range][1], [DiscreteDomain][2], [ContiguousSet][3] and [Ints][4] from [Guava][5]:\r\n\r\n    int[] array = Ints.toArray(\r\n        ContiguousSet.create(Range.closed(1, 500), DiscreteDomain.integers()));\r\n\r\nAnd, not exactly what is mentioned in the second part of the question, but it is possible to create a set with the elements of a range of a discrete domain:\r\n\r\n    Set&lt;Integer&gt; numbersFrom1To500 = \r\n        ContiguousSet.create(Range.closed(1, 500), DiscreteDomain.integers());\r\n\r\nThe resulting `Set` will not contain the specified elements physically, only logically (so it&#39;s memory footprint will be small), but can be iterated (since it&#39;s a `Set`):\r\n\r\n    for (Integer integer : numbersFrom1To500) {\r\n        System.out.println(integer);\r\n    }\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html\r\n  [2]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/DiscreteDomain.html\r\n  [3]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ContiguousSet.html\r\n  [4]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html\r\n  [5]: http://code.google.com/p/guava-libraries/","title":"Fill arrays with ranges of numbers","body":"<p>As for the first question, whether it is possible to fill an array with the values of a range: it is actually possible to achieve that with the combination of <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html\" rel=\"nofollow\">Range</a>, <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/DiscreteDomain.html\" rel=\"nofollow\">DiscreteDomain</a>, <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ContiguousSet.html\" rel=\"nofollow\">ContiguousSet</a> and <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html\" rel=\"nofollow\">Ints</a> from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a>:</p>\n\n<pre><code>int[] array = Ints.toArray(\n    ContiguousSet.create(Range.closed(1, 500), DiscreteDomain.integers()));\n</code></pre>\n\n<p>And, not exactly what is mentioned in the second part of the question, but it is possible to create a set with the elements of a range of a discrete domain:</p>\n\n<pre><code>Set&lt;Integer&gt; numbersFrom1To500 = \n    ContiguousSet.create(Range.closed(1, 500), DiscreteDomain.integers());\n</code></pre>\n\n<p>The resulting <code>Set</code> will not contain the specified elements physically, only logically (so it's memory footprint will be small), but can be iterated (since it's a <code>Set</code>):</p>\n\n<pre><code>for (Integer integer : numbersFrom1To500) {\n    System.out.println(integer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2085920,"reputation":4502,"user_id":1856922,"display_name":"Craig"},"down_vote_count":1,"up_vote_count":143,"is_accepted":false,"score":142,"last_activity_date":1430695604,"creation_date":1430695604,"answer_id":30020546,"question_id":3387373,"body_markdown":"For those still looking for a solution:\r\n\r\nIn Java 8 or later, this can be answered trivially using Streams without any loops or additional libraries.\r\n\r\n    int[] range = IntStream.rangeClosed(1, 10).toArray();\r\n\r\nThis will produce an array with the integers from 1 to 10.\r\n\r\nA more general solution that produces the same result is below.  This can be made to produce any sequence by modifying the unary operator.\r\n\r\n    int[] range = IntStream.iterate(1, n -&gt; n + 1).limit(10).toArray();\r\n\r\n\r\n","title":"Fill arrays with ranges of numbers","body":"<p>For those still looking for a solution:</p>\n\n<p>In Java 8 or later, this can be answered trivially using Streams without any loops or additional libraries.</p>\n\n<pre><code>int[] range = IntStream.rangeClosed(1, 10).toArray();\n</code></pre>\n\n<p>This will produce an array with the integers from 1 to 10.</p>\n\n<p>A more general solution that produces the same result is below.  This can be made to produce any sequence by modifying the unary operator.</p>\n\n<pre><code>int[] range = IntStream.iterate(1, n -&gt; n + 1).limit(10).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464689414,"creation_date":1464689414,"answer_id":37542781,"question_id":3387373,"body_markdown":"    \tList&lt;Integer&gt; arrayOfRange  = new ArrayList&lt;Integer&gt;();\r\n\t\tint[] range = IntStream.iterate(1, n -&gt; {arrayOfRange.add(n);return n + 1;}).limit(10).toArray();\r\n\r\n// in addition to what craig answer if you want to have Integer&lt;List&gt;\r\n 2nd approch\r\n\r\n    List&lt;Integer&gt; list = IntStream.of(range).boxed().collect(Collectors.toList());","title":"Fill arrays with ranges of numbers","body":"<pre><code>    List&lt;Integer&gt; arrayOfRange  = new ArrayList&lt;Integer&gt;();\n    int[] range = IntStream.iterate(1, n -&gt; {arrayOfRange.add(n);return n + 1;}).limit(10).toArray();\n</code></pre>\n\n<p>// in addition to what craig answer if you want to have Integer\n 2nd approch</p>\n\n<pre><code>List&lt;Integer&gt; list = IntStream.of(range).boxed().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1493312920,"creation_date":1493312920,"answer_id":43664009,"question_id":3387373,"body_markdown":"Another useful and not widely known Java 8 solution for existing arrays:\r\n\r\n    int[] array = new int[10];\r\n    Arrays.setAll(array, i -&gt; i + 1);","title":"Fill arrays with ranges of numbers","body":"<p>Another useful and not widely known Java 8 solution for existing arrays:</p>\n\n<pre><code>int[] array = new int[10];\nArrays.setAll(array, i -&gt; i + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038214,"reputation":2416,"user_id":6733315,"accept_rate":62,"display_name":"beginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632812403,"creation_date":1632812403,"answer_id":69357113,"question_id":3387373,"body_markdown":" \r\n     public static int[] getRangeArray(int start, int end){\r\n            final int[] rangeArray = new int[end-start + 1];\r\n                for(int i = 0; i &lt; rangeArray.length; i++){\r\n                    rangeArray[i] = start + i;\r\n              }\r\n           return rangeArray; // It includes start and end values as well, pls adjust according to your need\r\n      }","title":"Fill arrays with ranges of numbers","body":"<pre><code> public static int[] getRangeArray(int start, int end){\n        final int[] rangeArray = new int[end-start + 1];\n            for(int i = 0; i &lt; rangeArray.length; i++){\n                rangeArray[i] = start + i;\n          }\n       return rangeArray; // It includes start and end values as well, pls adjust according to your need\n  }\n</code></pre>\n"}],"owner":{"account_id":158408,"reputation":29428,"user_id":377031,"accept_rate":92,"display_name":"David B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108209,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":3387704,"answer_count":7,"score":50,"last_activity_date":1632812403,"creation_date":1280749545,"question_id":3387373,"body_markdown":"Is there any syntax/package allowing quick filling of java arrays with ranges of numbers, like in perl?\r\n\r\ne.g.\r\n\r\n    int[] arr = new int[1000];\r\n    arr=(1..500,301..400,1001..1400); // returns [1,2,3,4,...,500,301,302,...,400,1001,1002,...1400]\r\n\r\nAlso, it here a package that allows getting the n-th number in such list of numbers as the above, without actually creating the array (which can be huge)?\r\n\r\ne.g.\r\n\r\n    BunchOfRangesType bort = new BunchOfRangesType(&quot;1..500&quot;,&quot;301..400&quot;,&quot;1001..1400&quot;);\r\n    bort.get(0); // return 1\r\n    bort.get(500); // return 301\r\n    bort.get(501); // return 302\r\n\r\n\r\n\r\nIt&#39;s not too difficult to implement, but I guess it might be common so maybe it was already done.","title":"Fill arrays with ranges of numbers","body":"<p>Is there any syntax/package allowing quick filling of java arrays with ranges of numbers, like in perl?</p>\n\n<p>e.g.</p>\n\n<pre><code>int[] arr = new int[1000];\narr=(1..500,301..400,1001..1400); // returns [1,2,3,4,...,500,301,302,...,400,1001,1002,...1400]\n</code></pre>\n\n<p>Also, it here a package that allows getting the n-th number in such list of numbers as the above, without actually creating the array (which can be huge)?</p>\n\n<p>e.g.</p>\n\n<pre><code>BunchOfRangesType bort = new BunchOfRangesType(\"1..500\",\"301..400\",\"1001..1400\");\nbort.get(0); // return 1\nbort.get(500); // return 301\nbort.get(501); // return 302\n</code></pre>\n\n<p>It's not too difficult to implement, but I guess it might be common so maybe it was already done.</p>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1632381413,"post_id":69295498,"comment_id":122477243,"body_markdown":"add separate catch blocks","body":"add separate catch blocks"},{"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"score":0,"creation_date":1632381744,"post_id":69295498,"comment_id":122477379,"body_markdown":"Can I define one catch block? and declare all exception inside catch block","body":"Can I define one catch block? and declare all exception inside catch block"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":1,"creation_date":1632381792,"post_id":69295498,"comment_id":122477405,"body_markdown":"@PallaviSingh its not the correct way, catch are meant to be specific for exceptions so you dont need to use inistance of","body":"@PallaviSingh its not the correct way, catch are meant to be specific for exceptions so you dont need to use inistance of"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":1,"creation_date":1632381826,"post_id":69295498,"comment_id":122477418,"body_markdown":"@PallaviSingh what you can do is invoke a method inside the catch block passing the exception and run some common logic there","body":"@PallaviSingh what you can do is invoke a method inside the catch block passing the exception and run some common logic there"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1632383148,"post_id":69295498,"comment_id":122477971,"body_markdown":"@PallaviSingh yes, and that&#39;s why it&#39;s complaining","body":"@PallaviSingh yes, and that&#39;s why it&#39;s complaining"},{"owner":{"account_id":20689108,"reputation":17578,"user_id":15273968,"display_name":"the Hutt"},"score":0,"creation_date":1632383221,"post_id":69295498,"comment_id":122478008,"body_markdown":"FYI [Exception types should not be tested using &quot;instanceof&quot; in catch blocks](https://rules.sonarsource.com/java/RSPEC-1193) -sonarsource","body":"FYI <a href=\"https://rules.sonarsource.com/java/RSPEC-1193\" rel=\"nofollow noreferrer\">Exception types should not be tested using &quot;instanceof&quot; in catch blocks</a> -sonarsource"}],"answers":[{"tags":[],"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632812214,"creation_date":1632381747,"answer_id":69295577,"question_id":69295498,"body_markdown":"you just need two catch blocks like this\r\n```\r\npublic String methodName(ClassRequest request, Destination ABC) {\r\n        try {\r\n          &lt;Some Code Here&gt;\r\n        } catch (HttpServerErrorException e) {\r\n            log.error(&quot;error&quot;, ABC, e);\r\n            \r\n            if (ABC == PREM){\r\n             throw e;\r\n            }else{\r\n              throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Message&quot;, e, INTERNAL_SERVER_ERROR);\r\n            }\r\n        } catch (HttpClientErrorException e){\r\n            if (ABC == PREM){\r\n             throw e;\r\n            }else{\r\n               throw new ABCRestException(request.getAId(), &quot;missing_field&quot;, &quot;Some Message&quot;, e, BAD_REQUEST);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nIf you want to reuse some logic, you can write a private method and invoke it inside the catch block\r\n\r\nIf two or more exceptions share the same exact logic you can also use a multi-catch which will catch various exceptions in the same block\r\n```\r\ntry{\r\n   codeGoesVroomVroomAndThrows()\r\n}catch(ExceptionA | ExceptionB e){\r\n  //do something\r\n}\r\n\r\n```","title":"Sonar Showing issue if I used &quot;instanceof&quot; operator in catch block","body":"<p>you just need two catch blocks like this</p>\n<pre><code>public String methodName(ClassRequest request, Destination ABC) {\n        try {\n          &lt;Some Code Here&gt;\n        } catch (HttpServerErrorException e) {\n            log.error(&quot;error&quot;, ABC, e);\n            \n            if (ABC == PREM){\n             throw e;\n            }else{\n              throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Message&quot;, e, INTERNAL_SERVER_ERROR);\n            }\n        } catch (HttpClientErrorException e){\n            if (ABC == PREM){\n             throw e;\n            }else{\n               throw new ABCRestException(request.getAId(), &quot;missing_field&quot;, &quot;Some Message&quot;, e, BAD_REQUEST);\n            }\n        }\n    }\n</code></pre>\n<p>If you want to reuse some logic, you can write a private method and invoke it inside the catch block</p>\n<p>If two or more exceptions share the same exact logic you can also use a multi-catch which will catch various exceptions in the same block</p>\n<pre><code>try{\n   codeGoesVroomVroomAndThrows()\n}catch(ExceptionA | ExceptionB e){\n  //do something\n}\n\n</code></pre>\n"}],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69295577,"answer_count":1,"score":0,"last_activity_date":1632812214,"creation_date":1632381377,"question_id":69295498,"body_markdown":"How can I refactor below catch block I am using java11 \r\nCode \r\n\r\n    public String methodName(ClassRequest request, Destination ABC) {\r\n            try {\r\n              &lt;Some Code Here&gt;\r\n            } catch (Exception e) {\r\n                log.error(&quot;error&quot;, ABC, e);\r\n                if(e instanceof ABCRestException ||\r\n                        (ABC == PREM &amp;&amp; (e instanceof HttpServerErrorException || e instanceof HttpClientErrorException))) {\r\n                    throw e;\r\n                } else if(e instanceof HttpServerErrorException) {\r\n                    throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Message&quot;, e, INTERNAL_SERVER_ERROR);\r\n                } else if(e instanceof HttpClientErrorException) {\r\n                    throw new ABCRestException(request.getAId(), &quot;missing_field&quot;, &quot;Some Message&quot;, e, BAD_REQUEST);\r\n                } else {\r\n                    throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Massage&quot;, e, INTERNAL_SERVER_ERROR);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nHow I can refactor this code Means catch block \r\n\r\n","title":"Sonar Showing issue if I used &quot;instanceof&quot; operator in catch block","body":"<p>How can I refactor below catch block I am using java11\nCode</p>\n<pre><code>public String methodName(ClassRequest request, Destination ABC) {\n        try {\n          &lt;Some Code Here&gt;\n        } catch (Exception e) {\n            log.error(&quot;error&quot;, ABC, e);\n            if(e instanceof ABCRestException ||\n                    (ABC == PREM &amp;&amp; (e instanceof HttpServerErrorException || e instanceof HttpClientErrorException))) {\n                throw e;\n            } else if(e instanceof HttpServerErrorException) {\n                throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Message&quot;, e, INTERNAL_SERVER_ERROR);\n            } else if(e instanceof HttpClientErrorException) {\n                throw new ABCRestException(request.getAId(), &quot;missing_field&quot;, &quot;Some Message&quot;, e, BAD_REQUEST);\n            } else {\n                throw new ABCRestException(request.getAId(), &quot;unexpected_error&quot;, &quot;Some Massage&quot;, e, INTERNAL_SERVER_ERROR);\n            }\n        }\n    }\n</code></pre>\n<p>How I can refactor this code Means catch block</p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1524043320,"post_id":49894587,"comment_id":86807045,"body_markdown":"Try to add @Transactional to your test method...","body":"Try to add @Transactional to your test method..."},{"owner":{"account_id":9490820,"reputation":575,"user_id":7055701,"display_name":"Shuai Junlan"},"score":1,"creation_date":1524048640,"post_id":49894587,"comment_id":86810922,"body_markdown":"@Cepr0 Add `@Transactional` to the unit test method, it can run successfully, can you give more details about why it can run without exception?","body":"@Cepr0 Add <code>@Transactional</code> to the unit test method, it can run successfully, can you give more details about why it can run without exception?"}],"answers":[{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1524043059,"creation_date":1524043059,"answer_id":49895797,"question_id":49894587,"body_markdown":"In the  service class please add a setter for entity manager by using the annoattion @PersistenceContext. To be specific, use\r\n\r\n     @PersistenceContext(type = PersistenceContextType.EXTENDED)\r\n\r\nIn this way, you can access lazy property.","title":"LazyInitializationException: could not initialize proxy - no Session","body":"<p>In the  service class please add a setter for entity manager by using the annoattion @PersistenceContext. To be specific, use</p>\n\n<pre><code> @PersistenceContext(type = PersistenceContextType.EXTENDED)\n</code></pre>\n\n<p>In this way, you can access lazy property.</p>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1524056120,"creation_date":1524056120,"answer_id":49900305,"question_id":49894587,"body_markdown":"You can add `@Transactional` annotation to your test method to avoid this exception.\r\n\r\nMethod `getOne` return the &#39;reference&#39; (proxy) of the entity which properties can be lazy loaded. See it [code][1] - it uses `getReference` method of `EntityManager`. From it javadoc:\r\n\r\n&gt; Get an instance, whose state may be lazily fetched.\r\n\r\nIn Spring the implementation of `EntityManager` is [org.hibernate.internal.SessionImpl][2] - so without the Session the Spring can not get this method.\r\n\r\nTo have a session you can just create a transaction...\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/blob/5ec2d41c446f0b6855b141af405e5f8552b5c539/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java#L252\r\n  [2]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java","title":"LazyInitializationException: could not initialize proxy - no Session","body":"<p>You can add <code>@Transactional</code> annotation to your test method to avoid this exception.</p>\n\n<p>Method <code>getOne</code> return the 'reference' (proxy) of the entity which properties can be lazy loaded. See it <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/5ec2d41c446f0b6855b141af405e5f8552b5c539/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java#L252\" rel=\"noreferrer\">code</a> - it uses <code>getReference</code> method of <code>EntityManager</code>. From it javadoc:</p>\n\n<blockquote>\n  <p>Get an instance, whose state may be lazily fetched.</p>\n</blockquote>\n\n<p>In Spring the implementation of <code>EntityManager</code> is <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java\" rel=\"noreferrer\">org.hibernate.internal.SessionImpl</a> - so without the Session the Spring can not get this method.</p>\n\n<p>To have a session you can just create a transaction...</p>\n"},{"tags":[],"owner":{"account_id":13873608,"reputation":41,"user_id":10015975,"display_name":"mukesh kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565815650,"creation_date":1565812221,"answer_id":57501143,"question_id":49894587,"body_markdown":"Your test should be like this: \r\n\r\n    @RunWith(SpringRunner.class)    \r\n    \r\n    \r\n    @SpringBootTest\r\n    @Transactional    \r\n    \r\n    public class QuestionTesting {   \r\n     \r\n        @Test    \r\n        public void test() {    \r\n    \r\n        }    \r\n    }    ","title":"LazyInitializationException: could not initialize proxy - no Session","body":"<p>Your test should be like this: </p>\n\n<pre><code>@RunWith(SpringRunner.class)    \n\n\n@SpringBootTest\n@Transactional    \n\npublic class QuestionTesting {   \n\n    @Test    \n    public void test() {    \n\n    }    \n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13032366,"reputation":39,"user_id":9418369,"display_name":"Abhishek Dubey"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1632811348,"creation_date":1632811283,"answer_id":69356895,"question_id":49894587,"body_markdown":"just add in application properties spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true","title":"LazyInitializationException: could not initialize proxy - no Session","body":"<p>just add in application properties spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</p>\n"}],"owner":{"account_id":9490820,"reputation":575,"user_id":7055701,"display_name":"Shuai Junlan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37145,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":49900305,"answer_count":4,"score":20,"last_activity_date":1632811348,"creation_date":1524039420,"question_id":49894587,"body_markdown":"I use `spring-data-jpa` with `spring-boot(v2.0.0.RELEASE)`, I just wrote a CRUD demo on MySQL, but an exception occurs during runtime, source code as follows:  \r\n\r\n**Source code**  \r\n\r\n*User.java*\r\n\r\n    @Entity\r\n    public class User implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        private Integer id;\r\n        private String username;\r\n        private String password;\r\n        \r\n        ...getter&amp;setter\r\n    } \r\n\r\n*UserRepository.java* \r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n*UserServiceTest.java*  \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class UserServiceTest {\r\n\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Test\r\n        public void getUserById() throws Exception{\r\n            userRepository.getOne(1);\r\n        }\r\n    \r\n    }\r\n\r\n**application.yml**  \r\n\r\n    spring:\r\n      datasource:\r\n        username: ***\r\n        password: ***\r\n        driver-class-name: com.mysql.jdbc.Driver\r\n        url: ********\r\n      thymeleaf:\r\n        cache: false\r\n      jpa:\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n**Exception details**\r\n\r\n    org.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\n\r\n\tat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:155)\r\n\tat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:268)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:73)\r\n\tat cn.shuaijunlan.sdnsecuritysystem.domain.po.User_$$_jvstc90_0.getUsername(User_$$_jvstc90_0.java)\r\n\tat cn.shuaijunlan.sdnsecuritysystem.service.UserServiceTest.getUserById(UserServiceTest.java:33)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\r\n&gt; I try to another method `userRepository.findOne(1)`, it can run successfully.\r\n\r\n","title":"LazyInitializationException: could not initialize proxy - no Session","body":"<p>I use <code>spring-data-jpa</code> with <code>spring-boot(v2.0.0.RELEASE)</code>, I just wrote a CRUD demo on MySQL, but an exception occurs during runtime, source code as follows:  </p>\n\n<p><strong>Source code</strong>  </p>\n\n<p><em>User.java</em></p>\n\n<pre><code>@Entity\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private Integer id;\n    private String username;\n    private String password;\n\n    ...getter&amp;setter\n} \n</code></pre>\n\n<p><em>UserRepository.java</em> </p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n\n<p><em>UserServiceTest.java</em>  </p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class UserServiceTest {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    public void getUserById() throws Exception{\n        userRepository.getOne(1);\n    }\n\n}\n</code></pre>\n\n<p><strong>application.yml</strong>  </p>\n\n<pre><code>spring:\n  datasource:\n    username: ***\n    password: ***\n    driver-class-name: com.mysql.jdbc.Driver\n    url: ********\n  thymeleaf:\n    cache: false\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n</code></pre>\n\n<p><strong>Exception details</strong></p>\n\n<pre><code>org.hibernate.LazyInitializationException: could not initialize proxy - no Session\n\nat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:155)\nat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:268)\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:73)\nat cn.shuaijunlan.sdnsecuritysystem.domain.po.User_$$_jvstc90_0.getUsername(User_$$_jvstc90_0.java)\nat cn.shuaijunlan.sdnsecuritysystem.service.UserServiceTest.getUserById(UserServiceTest.java:33)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n</code></pre>\n\n<blockquote>\n  <p>I try to another method <code>userRepository.findOne(1)</code>, it can run successfully.</p>\n</blockquote>\n"},{"tags":["java","spring","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632811314,"post_id":69356736,"comment_id":122586735,"body_markdown":"Don&#39;t. Use a seperate listener like a job or steplistener for that that uses a **new** transaction to write this. Also this writer looks like should have been a `Tasklet`, all in all it looks a bit weird.","body":"Don&#39;t. Use a seperate listener like a job or steplistener for that that uses a <b>new</b> transaction to write this. Also this writer looks like should have been a <code>Tasklet</code>, all in all it looks a bit weird."},{"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"score":0,"creation_date":1632812141,"post_id":69356736,"comment_id":122587031,"body_markdown":"Each batch is a chunk with size of one, which reads one CSV file. The example may look weird, but the issue here is the **transaction** thingy. I have tried doing the same in **ItemWriteListener** but with the same result.","body":"Each batch is a chunk with size of one, which reads one CSV file. The example may look weird, but the issue here is the <b>transaction</b> thingy. I have tried doing the same in <b>ItemWriteListener</b> but with the same result."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632812194,"post_id":69356736,"comment_id":122587048,"body_markdown":"As stated you should write it with a *new* transaction and not as part of the current transaction (as you do now). Still weird as this would also break the retry mechanism.","body":"As stated you should write it with a <i>new</i> transaction and not as part of the current transaction (as you do now). Still weird as this would also break the retry mechanism."},{"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"score":0,"creation_date":1632814127,"post_id":69356736,"comment_id":122587760,"body_markdown":"Do you know what makes the transaction ? I don&#39;t use **@Transactional** anywhere.","body":"Do you know what makes the transaction ? I don&#39;t use <b>@Transactional</b> anywhere."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632814992,"post_id":69356736,"comment_id":122588080,"body_markdown":"Which is what your problem is, you should put that piece of code inside a transactional method that starts a new transaction. So move that to a separate component which itself is `@Transactional`.","body":"Which is what your problem is, you should put that piece of code inside a transactional method that starts a new transaction. So move that to a separate component which itself is <code>@Transactional</code>."}],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632811074,"creation_date":1632810192,"question_id":69356736,"body_markdown":"I am facing an issue described in the following example. I am using Spring Batch ItemWriter for inserting data into the database. After the data import is successful, I also want to insert the batch status into another table. However, Postgres doesn&#39;t allow me to do so if there was a failing query before.\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.batch.core.configuration.annotation.JobScope;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.dao.DataIntegrityViolationException;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@JobScope\r\n@Component\r\n@Slf4j\r\npublic class CsvWriter implements ItemWriter&lt;List&lt;CsvEntity&gt;&gt; {\r\n\r\n  // these are org.springframework.data.jpa.repository.JpaRepository\r\n  DataRepository dataRepository;\r\n  BatchStatusRepository batchStatusRepository;\r\n\r\n  @Override\r\n  public void write(List&lt;? extends List&lt;DataEntity&gt;&gt; data) {\r\n    Long batchId = data.get(0).get(0).getBatchId(); // each data belongs to a batch with batch id;\r\n    try {\r\n      csvRepository.saveAll(data.get(0)); // save data\r\n\r\n\t  batchStatusRepository.save( // if data was ok, write status Ok\r\n        BatchStatusEntity.builder()\r\n\t  \t  .batchId(batchId)\r\n  \t\t  .status(&quot;Ok&quot;)\r\n\t  \t  .build());\r\n    } catch (DataIntegrityViolationException e) { // if there is inconsistency in data (duplicates), I want to set an Error status\r\n      log.error(&quot;Duplicate entity&quot;, e);\r\n\r\n      batchStatusRepository.save( // this throws org.postgresql.util.PSQLException: ERROR: current transaction is aborted, commands ignored until end of transaction block\r\n        BatchStatusEntity.builder()\r\n\t\t  .batchId(batchId)\r\n\t\t  .status(&quot;Error&quot;)\r\n\t\t  .build());\r\n\t  }\r\n  }\r\n}\r\n```\r\n\r\nFrom what I understand, I need to rollback the first transaction, but I don&#39;t know how. I tried to separate **saveAll** into separate method with `@Transactional(value = &quot;transactionManager&quot;, rollbackFor = DataIntegrityViolationException.class)`, but it didn&#39;t work.","title":"Spring Batch + JPA + PostgreSQL current transaction is aborted, commands ignored until end of transaction block","body":"<p>I am facing an issue described in the following example. I am using Spring Batch ItemWriter for inserting data into the database. After the data import is successful, I also want to insert the batch status into another table. However, Postgres doesn't allow me to do so if there was a failing query before.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.batch.core.configuration.annotation.JobScope;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.dao.DataIntegrityViolationException;\nimport org.springframework.stereotype.Component;\n\n@JobScope\n@Component\n@Slf4j\npublic class CsvWriter implements ItemWriter&lt;List&lt;CsvEntity&gt;&gt; {\n\n  // these are org.springframework.data.jpa.repository.JpaRepository\n  DataRepository dataRepository;\n  BatchStatusRepository batchStatusRepository;\n\n  @Override\n  public void write(List&lt;? extends List&lt;DataEntity&gt;&gt; data) {\n    Long batchId = data.get(0).get(0).getBatchId(); // each data belongs to a batch with batch id;\n    try {\n      csvRepository.saveAll(data.get(0)); // save data\n\n      batchStatusRepository.save( // if data was ok, write status Ok\n        BatchStatusEntity.builder()\n          .batchId(batchId)\n          .status(&quot;Ok&quot;)\n          .build());\n    } catch (DataIntegrityViolationException e) { // if there is inconsistency in data (duplicates), I want to set an Error status\n      log.error(&quot;Duplicate entity&quot;, e);\n\n      batchStatusRepository.save( // this throws org.postgresql.util.PSQLException: ERROR: current transaction is aborted, commands ignored until end of transaction block\n        BatchStatusEntity.builder()\n          .batchId(batchId)\n          .status(&quot;Error&quot;)\n          .build());\n      }\n  }\n}\n</code></pre>\n<p>From what I understand, I need to rollback the first transaction, but I don't know how. I tried to separate <strong>saveAll</strong> into separate method with <code>@Transactional(value = &quot;transactionManager&quot;, rollbackFor = DataIntegrityViolationException.class)</code>, but it didn't work.</p>\n"},{"tags":["java","arrays","function","sorting","search"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1625047346,"post_id":68192530,"comment_id":120521289,"body_markdown":"So, am I seeing this correctly that you are trying to get and subtract the indizes of the first and last occurrence of the searched value instead of ... you know ... simply counting the occurrences? Why?","body":"So, am I seeing this correctly that you are trying to get and subtract the indizes of the first and last occurrence of the searched value instead of ... you know ... simply counting the occurrences? Why?"},{"owner":{"account_id":14902251,"reputation":4943,"user_id":10760768,"display_name":"Daniel Hao"},"score":0,"creation_date":1625048266,"post_id":68192530,"comment_id":120521675,"body_markdown":"As this is a **sorted array** you could take advantage of it and use  another more efficient way - eg. binary search?","body":"As this is a <b>sorted array</b> you could take advantage of it and use  another more efficient way - eg. binary search?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1625048367,"post_id":68192530,"comment_id":120521725,"body_markdown":"Why don&#39;t you just use a `for` loop and increment a counter variable every time one of the elements within the array == x?","body":"Why don&#39;t you just use a <code>for</code> loop and increment a counter variable every time one of the elements within the array == x?"}],"answers":[{"tags":[],"owner":{"account_id":11731702,"reputation":71,"user_id":8586941,"display_name":"Eason Du"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625049215,"creation_date":1625048406,"answer_id":68192921,"question_id":68192530,"body_markdown":"why not simply check the equivalence between the number X and the element in the sorted array?\r\n\r\nI need to make sure that you said this is a sorted array. If it is, we could simply use the binary search to find the nearest element in the list. and then count the occurrence.","title":"Given a sorted array Arr of size N and a number X, you need to find the number of occurrences of X in Arr","body":"<p>why not simply check the equivalence between the number X and the element in the sorted array?</p>\n<p>I need to make sure that you said this is a sorted array. If it is, we could simply use the binary search to find the nearest element in the list. and then count the occurrence.</p>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632810977,"creation_date":1625071871,"answer_id":68198761,"question_id":68192530,"body_markdown":"As you said in your question the array is sorted and you want to count the occurrences of a particular element if it is present. This is a digression about binary search with the little difference that you have to search for an element in one array and see if the adiacent elements on the left and on the right are equal to your element. You can use the [`Arrays#binarySearch`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-int:A-int-) method like below:\r\n\r\n~~~\r\npublic class Main {\r\n    \r\n    public static int binarySearchCount(int[] a, int key) {\r\n        int index = Arrays.binarySearch(a, key);\r\n        \r\n        if (index &lt; 0) { return 0; }\r\n        \r\n        int count = 1;\r\n        //look for the adiacent elements on the left\r\n        for (int i = index - 1; i &gt;= 0 &amp;&amp; a[i] == key; --i) { ++count; }\r\n\r\n        //look for the adiacent elements on the right\r\n        for (int i = index + 1; i &lt; a.length &amp;&amp; a[i] == key; ++i) { ++count; }\r\n\r\n\r\n        return count;\r\n    }\r\n     \r\n    public static void main(String[] args) {\r\n        int[] a = {1, 1, 2, 2, 2, 2, 3};\r\n        System.out.println(binarySearchCount(a, 2)); //&lt;-- it will print 4\r\n        System.out.println(binarySearchCount(a, 0)); //&lt;-- it will print 0\r\n    }\r\n}\r\n~~~\r\n\r\nIf you have to code your binary search version, you have to just substitute your code to the`Arrays#binarySearch` method in the `binarySearchCount` function.\r\n","title":"Given a sorted array Arr of size N and a number X, you need to find the number of occurrences of X in Arr","body":"<p>As you said in your question the array is sorted and you want to count the occurrences of a particular element if it is present. This is a digression about binary search with the little difference that you have to search for an element in one array and see if the adiacent elements on the left and on the right are equal to your element. You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-int:A-int-\" rel=\"nofollow noreferrer\"><code>Arrays#binarySearch</code></a> method like below:</p>\n<pre><code>public class Main {\n    \n    public static int binarySearchCount(int[] a, int key) {\n        int index = Arrays.binarySearch(a, key);\n        \n        if (index &lt; 0) { return 0; }\n        \n        int count = 1;\n        //look for the adiacent elements on the left\n        for (int i = index - 1; i &gt;= 0 &amp;&amp; a[i] == key; --i) { ++count; }\n\n        //look for the adiacent elements on the right\n        for (int i = index + 1; i &lt; a.length &amp;&amp; a[i] == key; ++i) { ++count; }\n\n\n        return count;\n    }\n     \n    public static void main(String[] args) {\n        int[] a = {1, 1, 2, 2, 2, 2, 3};\n        System.out.println(binarySearchCount(a, 2)); //&lt;-- it will print 4\n        System.out.println(binarySearchCount(a, 0)); //&lt;-- it will print 0\n    }\n}\n</code></pre>\n<p>If you have to code your binary search version, you have to just substitute your code to the<code>Arrays#binarySearch</code> method in the <code>binarySearchCount</code> function.</p>\n"}],"owner":{"account_id":21462792,"reputation":3,"user_id":15813223,"display_name":"Priyanka Tanwar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632810977,"creation_date":1625046974,"question_id":68192530,"body_markdown":"    class Solution {\r\n    int count(int[] arr, int n, int x) {\r\n        int k = getFirst(arr, n, x);\r\n        int l = getLast(arr, n, x);\r\n        \r\n        return l-k;\r\n        \r\n    }\r\n    \r\n    int getFirst(int arr[], int n, int x){\r\n        int high = n-1;\r\n        int low = 0;\r\n        int i = 0;\r\n        \r\n        while(low&lt;=high){\r\n            int mid = (low+high)/2;\r\n            \r\n            if(arr[mid] == arr[x]){\r\n                while(arr[mid] == arr[x]){\r\n                    mid--;\r\n                }\r\n                i = mid+1;\r\n                return i;\r\n            }else if(arr[mid] &gt; arr[x]){\r\n                high = mid-1;\r\n            }else{\r\n                low = mid+1;\r\n            }\r\n        }\r\n        return i;\r\n    }\r\n    int getLast(int arr[], int n, int x){\r\n        int high = n-1;\r\n        int low = 0;\r\n        int j = 1;\r\n        \r\n        while(low&lt;=high){\r\n            int mid = (low+high)/2;\r\n            \r\n            if(arr[mid] == arr[x]){\r\n                while(arr[mid] == arr[x]){\r\n                    mid++;\r\n                }\r\n                j += mid- 1;\r\n                return j;\r\n            }else if(arr[mid] &gt; arr[x]){\r\n                high = mid-1;\r\n            }else{\r\n                low = mid+1;\r\n            }\r\n        }\r\n        return j;\r\n    }\r\n}\r\n\r\nquestion description :- i/p --&gt; {1, 1, 2, 2, 2, 2, 3} x = 2  ||  o/p --&gt; 4.\r\ni can&#39;t understand that what&#39;s wrong with my solution. like it always gives either the 4 in output or index out of bound. but where it is going to stuck. can anyone please take some time and try to figure out that what&#39;s the problem beacuse i am not able to understand that.","title":"Given a sorted array Arr of size N and a number X, you need to find the number of occurrences of X in Arr","body":"<pre><code>class Solution {\nint count(int[] arr, int n, int x) {\n    int k = getFirst(arr, n, x);\n    int l = getLast(arr, n, x);\n    \n    return l-k;\n    \n}\n\nint getFirst(int arr[], int n, int x){\n    int high = n-1;\n    int low = 0;\n    int i = 0;\n    \n    while(low&lt;=high){\n        int mid = (low+high)/2;\n        \n        if(arr[mid] == arr[x]){\n            while(arr[mid] == arr[x]){\n                mid--;\n            }\n            i = mid+1;\n            return i;\n        }else if(arr[mid] &gt; arr[x]){\n            high = mid-1;\n        }else{\n            low = mid+1;\n        }\n    }\n    return i;\n}\nint getLast(int arr[], int n, int x){\n    int high = n-1;\n    int low = 0;\n    int j = 1;\n    \n    while(low&lt;=high){\n        int mid = (low+high)/2;\n        \n        if(arr[mid] == arr[x]){\n            while(arr[mid] == arr[x]){\n                mid++;\n            }\n            j += mid- 1;\n            return j;\n        }else if(arr[mid] &gt; arr[x]){\n            high = mid-1;\n        }else{\n            low = mid+1;\n        }\n    }\n    return j;\n}\n</code></pre>\n<p>}</p>\n<p>question description :- i/p --&gt; {1, 1, 2, 2, 2, 2, 3} x = 2  ||  o/p --&gt; 4.\ni can't understand that what's wrong with my solution. like it always gives either the 4 in output or index out of bound. but where it is going to stuck. can anyone please take some time and try to figure out that what's the problem beacuse i am not able to understand that.</p>\n"},{"tags":["java","sql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632809780,"post_id":69356597,"comment_id":122586255,"body_markdown":"Could you post the entire stacktrace and if possible the SQL queries that are generated for both cases (successful and error)? `relation &quot;vehicles&quot; does not exist` normally _does_ mean that the table name is mismatching (might even be lower vs. upper case) so if you&#39;re sure this can&#39;t be what&#39;s happening there the SQL query might provide a hint.","body":"Could you post the entire stacktrace and if possible the SQL queries that are generated for both cases (successful and error)? <code>relation &quot;vehicles&quot; does not exist</code> normally <i>does</i> mean that the table name is mismatching (might even be lower vs. upper case) so if you&#39;re sure this can&#39;t be what&#39;s happening there the SQL query might provide a hint."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1632810590,"post_id":69356597,"comment_id":122586502,"body_markdown":"@Thomas added logs","body":"@Thomas added logs"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632811119,"post_id":69356597,"comment_id":122586672,"body_markdown":"Those queries are exactly the same with `limit ?` being the only difference. So if the first one works the second one should as well. Please test them directly via some SQL client. However, since the logs you&#39;ve posted contained `emails` in between (and in fact all the fields look more like an email than a vehicle record) I&#39;d suspect you have a problem with your build, i.e. you might have changed some code but not everything got rebuilt. Or you&#39;re working on a copy of your database (e.g. other server) which lists the table as &quot;emails&quot; instead of &quot;vehicles&quot;.","body":"Those queries are exactly the same with <code>limit ?</code> being the only difference. So if the first one works the second one should as well. Please test them directly via some SQL client. However, since the logs you&#39;ve posted contained <code>emails</code> in between (and in fact all the fields look more like an email than a vehicle record) I&#39;d suspect you have a problem with your build, i.e. you might have changed some code but not everything got rebuilt. Or you&#39;re working on a copy of your database (e.g. other server) which lists the table as &quot;emails&quot; instead of &quot;vehicles&quot;."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1632811869,"post_id":69356597,"comment_id":122586913,"body_markdown":"@Thomas Just changed email -&gt; vehicle to post them here on SO, in actual it is emails, no other code change etc","body":"@Thomas Just changed email -&gt; vehicle to post them here on SO, in actual it is emails, no other code change etc"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632812595,"post_id":69356597,"comment_id":122587189,"body_markdown":"Why do you change code before posting it here? How are we supposed to help if what we&#39;re seeing isn&#39;t actual code? For one it could hide an error (like a keyword being used or spelling errors) and it could also confuse people if your changes don&#39;t match.","body":"Why do you change code before posting it here? How are we supposed to help if what we&#39;re seeing isn&#39;t actual code? For one it could hide an error (like a keyword being used or spelling errors) and it could also confuse people if your changes don&#39;t match."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632812715,"post_id":69356597,"comment_id":122587231,"body_markdown":"That being said: did you try to run both SQL queries in a SQL client (e.g. psql)? They should both either work or not - if not, then you need to look for the reason, if they work then there might be a configuration error in your app.","body":"That being said: did you try to run both SQL queries in a SQL client (e.g. psql)? They should both either work or not - if not, then you need to look for the reason, if they work then there might be a configuration error in your app."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":1,"creation_date":1632813034,"post_id":69356597,"comment_id":122587363,"body_markdown":"@Thomas Looks like the issue is with some configuration perhaps. Tried to run it on DBeaver, even the findAll query is not working on DBeaver.","body":"@Thomas Looks like the issue is with some configuration perhaps. Tried to run it on DBeaver, even the findAll query is not working on DBeaver."},{"owner":{"account_id":10262805,"reputation":306,"user_id":7573638,"accept_rate":70,"display_name":"Reza P."},"score":0,"creation_date":1632825823,"post_id":69356597,"comment_id":122592525,"body_markdown":"Could you edit your repository and entity that we also see the attributes and the queries?","body":"Could you edit your repository and entity that we also see the attributes and the queries?"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632810569,"creation_date":1632809381,"question_id":69356597,"body_markdown":"**Repository class**\r\n\r\n    public interface VehicleRepository extends JpaRepository&lt;VehicleRecord, UUID&gt;, JpaSpecificationExecutor&lt;VehicleRecord&gt; {\r\n    \r\n    }\r\n\r\n**Entity class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;vehicles&quot;)\r\n    public class VehicleRecord {\r\n    \r\n    }\r\n\r\nTrying to get results using JPA, but getting this error\r\n\r\n    relation &quot;vehicles&quot; does not exist\r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\n\r\nWhat&#39;s funny is, that when using `vehicleRepository.findAll()` it works fine, but because of large data, I am using `vehicleRepository.findAll(pageable)` method ([documentation][1]) and that&#39;s where the above error comes.\r\n\r\nMostly on other answers, either the table name is mismatching or they have not mentioned the schema in properties file. In my case, both are correct.\r\n\r\nLet me know if any other detail is needed.\r\n\r\n**Edit 1: Adding sql queries**\r\n\r\n1. For findAll():\r\n\r\nselect vehiclerecor0_.id as id1_34_, vehiclerecor0_.created_at as created_2_34_, vehiclerecor0_.updated_at as updated_3_34_, vehiclerecor0_.direction as directio4_34_, vehiclerecor0_.external_id as external5_34_, vehiclerecor0_.receiver as receiver6_34_, vehiclerecor0_.sender as sender7_34_, vehiclerecor0_.&quot;from&quot; as from8_34_, vehiclerecor0_.received_at as received9_34_, vehiclerecor0_.receiver_name as receive10_34_, vehiclerecor0_.scheduled_at as schedul11_34_, vehiclerecor0_.sender_name as sender_12_34_, vehiclerecor0_.sent_at as sent_at13_34_, vehiclerecor0_.starred as starred14_34_, vehiclerecor0_.timezone as timezon15_34_, vehiclerecor0_.&quot;to&quot; as to16_34_, vehiclerecor0_.attachments as attachm17_34_, vehiclerecor0_.body as body18_34_, vehiclerecor0_.body_type as body_ty19_34_, vehiclerecor0_.message_type as message20_34_, vehiclerecor0_.secure as secure21_34_, vehiclerecor0_.status as status22_34_, vehiclerecor0_.subject as subject23_34_, CASE WHEN vehiclerecor0_.direction=&#39;OUT&#39; THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula4_, coalesce(vehiclerecor0_.sent_at, vehiclerecor0_.received_at, vehiclerecor0_.scheduled_at) as formula5_, CASE WHEN vehiclerecor0_.direction=&#39;IN&#39; THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula6_ from vehicles vehiclerecor0_\r\n\r\n2. For findAll(Pageable pageable):\r\n\r\nselect vehiclerecor0_.id as id1_34_, vehiclerecor0_.created_at as created_2_34_, vehiclerecor0_.updated_at as updated_3_34_, vehiclerecor0_.direction as directio4_34_, vehiclerecor0_.external_id as external5_34_, vehiclerecor0_.receiver as receiver6_34_, vehiclerecor0_.sender as sender7_34_, vehiclerecor0_.&quot;from&quot; as from8_34_, vehiclerecor0_.received_at as received9_34_, vehiclerecor0_.receiver_name as receive10_34_, vehiclerecor0_.scheduled_at as schedul11_34_, vehiclerecor0_.sender_name as sender_12_34_, vehiclerecor0_.sent_at as sent_at13_34_, vehiclerecor0_.starred as starred14_34_, vehiclerecor0_.timezone as timezon15_34_, vehiclerecor0_.&quot;to&quot; as to16_34_, vehiclerecor0_.attachments as attachm17_34_, vehiclerecor0_.body as body18_34_, vehiclerecor0_.body_type as body_ty19_34_, vehiclerecor0_.message_type as message20_34_, vehiclerecor0_.secure as secure21_34_, vehiclerecor0_.status as status22_34_, vehiclerecor0_.subject as subject23_34_, CASE WHEN vehiclerecor0_.direction=&#39;OUT&#39; THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula4_, coalesce(vehiclerecor0_.sent_at, vehiclerecor0_.received_at, vehiclerecor0_.scheduled_at) as formula5_, CASE WHEN vehiclerecor0_.direction=&#39;IN&#39; THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula6_ from vehicles vehiclerecor0_ limit ?\r\n\r\n\r\n**Edit 2: adding logs**\r\n\r\n    2021-09-27 18:09:00.086 ERROR 13949 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;vehicles&quot; does not exist\r\n      Position: 1371\r\n    2021-09-27 18:09:00.089 ERROR 13949 --- [   scheduling-1] a.b.c.d.e.ClassFromWhereWeCallRepo   : Exception in etl() with cause = org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy465.findAll(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n    \tat com.sun.proxy.$Proxy259.findAll(Unknown Source)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2285)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2038)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2000)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:951)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2831)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2813)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2640)\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:410)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \t... 57 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;vehicles&quot; does not exist\r\n      Position: 1371\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:153)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:103)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n    \t... 95 common frames omitted\r\n    \r\n    2021-09-27 18:09:00.090 ERROR 13949 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\n    \r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy465.findAll(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n    \tat com.sun.proxy.$Proxy259.findAll(Unknown Source)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2285)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2038)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2000)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:951)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2831)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2813)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2640)\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:410)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \t... 57 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;vehicles&quot; does not exist\r\n      Position: 1371\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll-org.springframework.data.domain.Pageable-\r\n\r\n","title":"JPA findAll(Pageable pageable) not returning data","body":"<p><strong>Repository class</strong></p>\n<pre><code>public interface VehicleRepository extends JpaRepository&lt;VehicleRecord, UUID&gt;, JpaSpecificationExecutor&lt;VehicleRecord&gt; {\n\n}\n</code></pre>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;vehicles&quot;)\npublic class VehicleRecord {\n\n}\n</code></pre>\n<p>Trying to get results using JPA, but getting this error</p>\n<pre><code>relation &quot;vehicles&quot; does not exist\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\n</code></pre>\n<p>What's funny is, that when using <code>vehicleRepository.findAll()</code> it works fine, but because of large data, I am using <code>vehicleRepository.findAll(pageable)</code> method (<a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll-org.springframework.data.domain.Pageable-\" rel=\"nofollow noreferrer\">documentation</a>) and that's where the above error comes.</p>\n<p>Mostly on other answers, either the table name is mismatching or they have not mentioned the schema in properties file. In my case, both are correct.</p>\n<p>Let me know if any other detail is needed.</p>\n<p><strong>Edit 1: Adding sql queries</strong></p>\n<ol>\n<li>For findAll():</li>\n</ol>\n<p>select vehiclerecor0_.id as id1_34_, vehiclerecor0_.created_at as created_2_34_, vehiclerecor0_.updated_at as updated_3_34_, vehiclerecor0_.direction as directio4_34_, vehiclerecor0_.external_id as external5_34_, vehiclerecor0_.receiver as receiver6_34_, vehiclerecor0_.sender as sender7_34_, vehiclerecor0_.&quot;from&quot; as from8_34_, vehiclerecor0_.received_at as received9_34_, vehiclerecor0_.receiver_name as receive10_34_, vehiclerecor0_.scheduled_at as schedul11_34_, vehiclerecor0_.sender_name as sender_12_34_, vehiclerecor0_.sent_at as sent_at13_34_, vehiclerecor0_.starred as starred14_34_, vehiclerecor0_.timezone as timezon15_34_, vehiclerecor0_.&quot;to&quot; as to16_34_, vehiclerecor0_.attachments as attachm17_34_, vehiclerecor0_.body as body18_34_, vehiclerecor0_.body_type as body_ty19_34_, vehiclerecor0_.message_type as message20_34_, vehiclerecor0_.secure as secure21_34_, vehiclerecor0_.status as status22_34_, vehiclerecor0_.subject as subject23_34_, CASE WHEN vehiclerecor0_.direction='OUT' THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula4_, coalesce(vehiclerecor0_.sent_at, vehiclerecor0_.received_at, vehiclerecor0_.scheduled_at) as formula5_, CASE WHEN vehiclerecor0_.direction='IN' THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula6_ from vehicles vehiclerecor0_</p>\n<ol start=\"2\">\n<li>For findAll(Pageable pageable):</li>\n</ol>\n<p>select vehiclerecor0_.id as id1_34_, vehiclerecor0_.created_at as created_2_34_, vehiclerecor0_.updated_at as updated_3_34_, vehiclerecor0_.direction as directio4_34_, vehiclerecor0_.external_id as external5_34_, vehiclerecor0_.receiver as receiver6_34_, vehiclerecor0_.sender as sender7_34_, vehiclerecor0_.&quot;from&quot; as from8_34_, vehiclerecor0_.received_at as received9_34_, vehiclerecor0_.receiver_name as receive10_34_, vehiclerecor0_.scheduled_at as schedul11_34_, vehiclerecor0_.sender_name as sender_12_34_, vehiclerecor0_.sent_at as sent_at13_34_, vehiclerecor0_.starred as starred14_34_, vehiclerecor0_.timezone as timezon15_34_, vehiclerecor0_.&quot;to&quot; as to16_34_, vehiclerecor0_.attachments as attachm17_34_, vehiclerecor0_.body as body18_34_, vehiclerecor0_.body_type as body_ty19_34_, vehiclerecor0_.message_type as message20_34_, vehiclerecor0_.secure as secure21_34_, vehiclerecor0_.status as status22_34_, vehiclerecor0_.subject as subject23_34_, CASE WHEN vehiclerecor0_.direction='OUT' THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula4_, coalesce(vehiclerecor0_.sent_at, vehiclerecor0_.received_at, vehiclerecor0_.scheduled_at) as formula5_, CASE WHEN vehiclerecor0_.direction='IN' THEN coalesce(vehiclerecor0_.sender_name, vehiclerecor0_.&quot;from&quot;) ELSE coalesce(vehiclerecor0_.receiver_name, vehiclerecor0_.&quot;to&quot;) END as formula6_ from vehicles vehiclerecor0_ limit ?</p>\n<p><strong>Edit 2: adding logs</strong></p>\n<pre><code>2021-09-27 18:09:00.086 ERROR 13949 --- [   scheduling-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;vehicles&quot; does not exist\n  Position: 1371\n2021-09-27 18:09:00.089 ERROR 13949 --- [   scheduling-1] a.b.c.d.e.ClassFromWhereWeCallRepo   : Exception in etl() with cause = org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy465.findAll(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\n    at com.sun.proxy.$Proxy259.findAll(Unknown Source)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n    at jdk.internal.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2285)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2038)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2000)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:951)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352)\n    at org.hibernate.loader.Loader.doList(Loader.java:2831)\n    at org.hibernate.loader.Loader.doList(Loader.java:2813)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645)\n    at org.hibernate.loader.Loader.list(Loader.java:2640)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:410)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    ... 57 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;vehicles&quot; does not exist\n  Position: 1371\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:153)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:103)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 95 common frames omitted\n\n2021-09-27 18:09:00.090 ERROR 13949 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy465.findAll(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\n    at com.sun.proxy.$Proxy259.findAll(Unknown Source)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n    at jdk.internal.reflect.GeneratedMethodAccessor92.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2285)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2038)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2000)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:951)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:352)\n    at org.hibernate.loader.Loader.doList(Loader.java:2831)\n    at org.hibernate.loader.Loader.doList(Loader.java:2813)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2645)\n    at org.hibernate.loader.Loader.list(Loader.java:2640)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1412)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.readPage(SimpleJpaRepository.java:637)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:445)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:410)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    ... 57 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;vehicles&quot; does not exist\n  Position: 1371\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2532)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2267)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"score":1,"creation_date":1482511429,"post_id":41304939,"comment_id":69812630,"body_markdown":"give us the contents of gift1.in.txt","body":"give us the contents of gift1.in.txt"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482513239,"post_id":41304939,"comment_id":69813447,"body_markdown":"5\ndave\nlaura\nowen\nvick\namr\ndave\n200 3\nlaura\nowen\nvick\nowen\n500 1\ndave\namr\n150 2\nvick\nowen\nlaura\n0 2\namr\nvick\nvick\n0 0","body":"5 dave laura owen vick amr dave 200 3 laura owen vick owen 500 1 dave amr 150 2 vick owen laura 0 2 amr vick vick 0 0"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482513369,"post_id":41304939,"comment_id":69813509,"body_markdown":"sorry, I don&#39;t know how to do newline on stack overflow but everything should be on a separate line except for the 2 integers in a row like 200 3, which are on the same line with a space in between","body":"sorry, I don&#39;t know how to do newline on stack overflow but everything should be on a separate line except for the 2 integers in a row like 200 3, which are on the same line with a space in between"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482515517,"post_id":41304939,"comment_id":69814417,"body_markdown":"Upon further testing, I&#39;ve figured out for sure that the issue is the nextInt() function.  Is this function not defined for scanner?  next() works fine...","body":"Upon further testing, I&#39;ve figured out for sure that the issue is the nextInt() function.  Is this function not defined for scanner?  next() works fine..."},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516290,"post_id":41304939,"comment_id":69814710,"body_markdown":"I have absolutely no idea why nextInt() doesn&#39;t work.  I tried the following code and it still gave me the same error:","body":"I have absolutely no idea why nextInt() doesn&#39;t work.  I tried the following code and it still gave me the same error:"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516307,"post_id":41304939,"comment_id":69814718,"body_markdown":"import java.util.*;","body":"import java.util.*;"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516349,"post_id":41304939,"comment_id":69814738,"body_markdown":"public class main{","body":"public class main{"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516366,"post_id":41304939,"comment_id":69814745,"body_markdown":"Scanner sc = new Scanner(System.in);","body":"Scanner sc = new Scanner(System.in);"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516378,"post_id":41304939,"comment_id":69814751,"body_markdown":"int a = sc.nextInt();","body":"int a = sc.nextInt();"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516403,"post_id":41304939,"comment_id":69814767,"body_markdown":"System.out.println(b);","body":"System.out.println(b);"},{"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"score":0,"creation_date":1482516412,"post_id":41304939,"comment_id":69814772,"body_markdown":"And it didn&#39;t work :(","body":"And it didn&#39;t work :("}],"answers":[{"tags":[],"owner":{"account_id":18941934,"reputation":1,"user_id":13821765,"display_name":"Anonymous Panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632810120,"creation_date":1632804483,"answer_id":69355944,"question_id":41304939,"body_markdown":"This is because you need to input and output `gift1.in` and `gift1.out` instead of `gift1.in.txt` and `gift1.out.txt`.","title":"USACO Greedy Gift Givers Java Scanner Error","body":"<p>This is because you need to input and output <code>gift1.in</code> and <code>gift1.out</code> instead of <code>gift1.in.txt</code> and <code>gift1.out.txt</code>.</p>\n"}],"owner":{"account_id":9907314,"reputation":1,"user_id":7335426,"display_name":"Matthew Roth"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632810120,"creation_date":1482511076,"question_id":41304939,"body_markdown":"Right now I&#39;m working on the USACO problem Greedy Gift Givers.  Here is the problem statement:\r\n\r\nA group of NP (2  NP  10) uniquely named friends has decided to exchange gifts of money. Each of these friends might or might not give some money to any or all of the other friends. Likewise, each friend might or might not receive money from any or all of the other friends. Your goal in this problem is to deduce how much more money each person gives than they receive.\r\n\r\nThe rules for gift-giving are potentially different than you might expect. Each person sets aside a certain amount of money to give and divides this money evenly among all those to whom he or she is giving a gift. No fractional money is available, so dividing 3 among 2 friends would be 1 each for the friends with 1 left over -- that 1 left over stays in the giver&#39;s &quot;account&quot;.\r\n\r\nIn any group of friends, some people are more giving than others (or at least may have more acquaintances) and some people have more money than others.\r\n\r\nGiven a group of friends, no one of whom has a name longer than 14 characters, the money each person in the group spends on gifts, and a (sub)list of friends to whom each person gives gifts, determine how much more (or less) each person in the group gives than they receive.\r\n\r\nHere is my code written in java:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    class gift1{\r\n\t    public static void main(String[] args) throws IOException{\r\n\t\t    //scan np\r\n\t\t    Scanner sc = new Scanner(&quot;gift1.int.txt&quot;);\r\n\t\t    int np = sc.nextInt();\r\n\t\t\r\n\t\t    //scan friend names =&gt; String Array/Maps\r\n\t\t    Map&lt;String, Integer&gt; initial = new HashMap&lt;String, Integer&gt;();\r\n\t\t    Map&lt;String, Integer&gt; total = new HashMap&lt;String, Integer&gt;();\r\n\t\t    String[] people = new String[np - 1];\r\n\t\t    int counter = 0;\r\n\t\t    for (int i = 0; i &lt; np; i++){\r\n\t\t\t    String d = sc.next();\r\n\t\t\t    initial.put(d, 0);\r\n\t\t\t    total.put(d, 0);\r\n\t\t\t    people[counter] = d;\r\n\t\t\t    counter ++;\r\n\t\t    }\r\n\t\t\r\n\t\t    //scan person into HashMap with initial money (initial amount of money)\r\n\t\t    for (int k = 0; k &lt; np; k++){\r\n\t\t\t    String a = sc.next();\r\n\t\t\t    int b = sc.nextInt();\r\n\t\t\t    int c = sc.nextInt();\r\n\t\t\t    initial.put(a, b);\r\n\t\t\t    if (c != 0){\r\n\t\t\t\t    total.put(a, b + total.get(a) - (b/c));\r\n\t\t\t\t    for (int j = 0; j &lt; c; j++){\r\n\t\t\t\t\t    String person = sc.next();\r\n\t\t\t\t\t    total.put(person, total.get(person) + (b/c));\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t\t    sc.close();\r\n\t\t\r\n\t\t    //print output\r\n\t\t    PrintWriter pw = new PrintWriter(&quot;gift.out.txt&quot;);\r\n\t\t    for (int p = 0; p &lt; np; p++){\r\n\t\t\t    pw.println(people[p] + &quot; &quot; + (total.get(people[p]) - initial.get(people[p])));\r\n\t\t    }\r\n\t\t\r\n\t\t    pw.close();\r\n\r\n\t    }\r\n    }\r\n\r\nNote that I&#39;ve created files called gift1.in.txt and gift1.out.txt so that isn&#39;t the issue. When I try to run this code, it gives me the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\t    at java.util.Scanner.throwFor(Unknown Source)\r\n\t    at java.util.Scanner.next(Unknown Source)\r\n\t    at java.util.Scanner.nextInt(Unknown Source)\r\n\t    at java.util.Scanner.nextInt(Unknown Source)\r\n\t    at gift1.main(gift1.java:8)\r\n\r\nWhat am I doing wrong?","title":"USACO Greedy Gift Givers Java Scanner Error","body":"<p>Right now I'm working on the USACO problem Greedy Gift Givers.  Here is the problem statement:</p>\n\n<p>A group of NP (2  NP  10) uniquely named friends has decided to exchange gifts of money. Each of these friends might or might not give some money to any or all of the other friends. Likewise, each friend might or might not receive money from any or all of the other friends. Your goal in this problem is to deduce how much more money each person gives than they receive.</p>\n\n<p>The rules for gift-giving are potentially different than you might expect. Each person sets aside a certain amount of money to give and divides this money evenly among all those to whom he or she is giving a gift. No fractional money is available, so dividing 3 among 2 friends would be 1 each for the friends with 1 left over -- that 1 left over stays in the giver's \"account\".</p>\n\n<p>In any group of friends, some people are more giving than others (or at least may have more acquaintances) and some people have more money than others.</p>\n\n<p>Given a group of friends, no one of whom has a name longer than 14 characters, the money each person in the group spends on gifts, and a (sub)list of friends to whom each person gives gifts, determine how much more (or less) each person in the group gives than they receive.</p>\n\n<p>Here is my code written in java:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass gift1{\n    public static void main(String[] args) throws IOException{\n        //scan np\n        Scanner sc = new Scanner(\"gift1.int.txt\");\n        int np = sc.nextInt();\n\n        //scan friend names =&gt; String Array/Maps\n        Map&lt;String, Integer&gt; initial = new HashMap&lt;String, Integer&gt;();\n        Map&lt;String, Integer&gt; total = new HashMap&lt;String, Integer&gt;();\n        String[] people = new String[np - 1];\n        int counter = 0;\n        for (int i = 0; i &lt; np; i++){\n            String d = sc.next();\n            initial.put(d, 0);\n            total.put(d, 0);\n            people[counter] = d;\n            counter ++;\n        }\n\n        //scan person into HashMap with initial money (initial amount of money)\n        for (int k = 0; k &lt; np; k++){\n            String a = sc.next();\n            int b = sc.nextInt();\n            int c = sc.nextInt();\n            initial.put(a, b);\n            if (c != 0){\n                total.put(a, b + total.get(a) - (b/c));\n                for (int j = 0; j &lt; c; j++){\n                    String person = sc.next();\n                    total.put(person, total.get(person) + (b/c));\n                }\n            }\n        }\n\n        sc.close();\n\n        //print output\n        PrintWriter pw = new PrintWriter(\"gift.out.txt\");\n        for (int p = 0; p &lt; np; p++){\n            pw.println(people[p] + \" \" + (total.get(people[p]) - initial.get(people[p])));\n        }\n\n        pw.close();\n\n    }\n}\n</code></pre>\n\n<p>Note that I've created files called gift1.in.txt and gift1.out.txt so that isn't the issue. When I try to run this code, it gives me the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at gift1.main(gift1.java:8)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22762009,"reputation":39,"user_id":16920667,"display_name":"Arnold Vaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632594792,"creation_date":1632594792,"answer_id":69329002,"question_id":69326433,"body_markdown":"The color values in styles file are immutable. \r\n\r\nThey can only be changed manually while developing and not during the runtime of the application. \r\n\r\nIf you want to change the theme of the application you need to create different styles with different names. \r\n\r\nEg. \r\n\r\n    &lt;style name=&quot;RedTheme&quot;&gt;\r\n        &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\r\n        &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;BlueTheme&quot;&gt;\r\n        &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\r\n        &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAfter defining all the styles then you need to call these themes using \r\n\r\nsetTheme(R.style.BlueTheme); \r\n\r\nOR\r\n\r\ngetTheme().applyStyle(R.style.RedTheme, true);\r\n\r\n\r\nThese methods should be called before the \r\n\r\nsetContentView(R.layout.main); \r\n\r\nOR \r\n\r\n//for data binding layouts\r\n\r\nbinding = DataBindingUtil.setContentView(this, R.layout.main); \r\n\r\n&gt; setTheme() and getTheme() method will only work before setting the\r\n&gt; View of the layout else the app will crash.\r\n\r\n","title":"how to change theme property (eg: textColorAnswe) using android java code","body":"<p>The color values in styles file are immutable.</p>\n<p>They can only be changed manually while developing and not during the runtime of the application.</p>\n<p>If you want to change the theme of the application you need to create different styles with different names.</p>\n<p>Eg.</p>\n<pre><code>&lt;style name=&quot;RedTheme&quot;&gt;\n    &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\n    &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;BlueTheme&quot;&gt;\n    &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\n    &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>After defining all the styles then you need to call these themes using</p>\n<p>setTheme(R.style.BlueTheme);</p>\n<p>OR</p>\n<p>getTheme().applyStyle(R.style.RedTheme, true);</p>\n<p>These methods should be called before the</p>\n<p>setContentView(R.layout.main);</p>\n<p>OR</p>\n<p>//for data binding layouts</p>\n<p>binding = DataBindingUtil.setContentView(this, R.layout.main);</p>\n<blockquote>\n<p>setTheme() and getTheme() method will only work before setting the\nView of the layout else the app will crash.</p>\n</blockquote>\n"}],"owner":{"account_id":16921529,"reputation":3,"user_id":12238238,"display_name":"Thy Gi&#225;o Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69329002,"answer_count":1,"score":0,"last_activity_date":1632810057,"creation_date":1632575265,"question_id":69326433,"body_markdown":"for example i have a style\r\n```XML\r\n&lt;style name=&quot;apptheme.home&quot;&gt;\r\n   &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\r\n   &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\nhow to change the color of textColorAnswer and layoutColorAnswer with android java code\r\n\r\n","title":"how to change theme property (eg: textColorAnswe) using android java code","body":"<p>for example i have a style</p>\n<pre><code>&lt;style name=&quot;apptheme.home&quot;&gt;\n   &lt;item name=&quot;textColorAnswer&quot;&gt; @Color/blue &lt;/item&gt;\n   &lt;item name=&quot;layoutColorAnswer&quot;&gt; @Color/red &lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>how to change the color of textColorAnswer and layoutColorAnswer with android java code</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632750297,"post_id":69347655,"comment_id":122570316,"body_markdown":"&quot;but it only shifts 1 step&quot; well, what&#39;s the thing in there that means it only shifts by 1 step?","body":"&quot;but it only shifts 1 step&quot; well, what&#39;s the thing in there that means it only shifts by 1 step?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1632756389,"post_id":69347655,"comment_id":122573064,"body_markdown":"You are reading from the source array on each shift iteration.  Those values have not shifted position so you are constantly overwriting with a single shift in the destination array.","body":"You are reading from the source array on each shift iteration.  Those values have not shifted position so you are constantly overwriting with a single shift in the destination array."}],"answers":[{"tags":[],"owner":{"account_id":4595027,"reputation":23,"user_id":3877364,"display_name":"Graham Evans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632750771,"creation_date":1632750771,"answer_id":69347879,"question_id":69347655,"body_markdown":"Your approach might work, except that you create array2 from the contents of array1, then repeat the process (creating array2 from array1). Overwriting the same information instead of taking the previous answer and working from there.\r\n\r\nHowever your solution is quite inefficient (even once fixed) requiring scanning through the entire array each time you shift. Can I recommend you look at the modulus (%) operator instead? Using this you can assign everything with a single pass.\r\n","title":"Java Shifting the Elements Multiple Times","body":"<p>Your approach might work, except that you create array2 from the contents of array1, then repeat the process (creating array2 from array1). Overwriting the same information instead of taking the previous answer and working from there.</p>\n<p>However your solution is quite inefficient (even once fixed) requiring scanning through the entire array each time you shift. Can I recommend you look at the modulus (%) operator instead? Using this you can assign everything with a single pass.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632751489,"creation_date":1632751009,"answer_id":69347942,"question_id":69347655,"body_markdown":"Ask yourself what `array2` is filled at `i` with at what index in `array`.\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        int j = ... i ... shiftCount ...;\r\n        array2[i] = array[j];\r\n    }\r\n\r\nFor shiftCount 0, `j = i;`. What for 1, 2, 3?\r\n\r\nUseful is the modulo operator `%` or an `if` statement for starting at 0 again.\r\n\r\n| shiftCount | i | 0 | 1 | 2 | 3 | 4 |\r\n|:----------:|:-:|:-:|:-:|:-:|:-:|:-:|\r\n| 0          | j | 0 | 1 | 2 | 3 | 4 |\r\n| 1          | j | 1 | 2 | 3 | 4 | 0 |\r\n| 2          | j | 2 | 3 | 4 | 0 | 1 |\r\n| 3          | j | 3 | 4 | 0 | 1 | 2 |\r\n\r\n","title":"Java Shifting the Elements Multiple Times","body":"<p>Ask yourself what <code>array2</code> is filled at <code>i</code> with at what index in <code>array</code>.</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    int j = ... i ... shiftCount ...;\n    array2[i] = array[j];\n}\n</code></pre>\n<p>For shiftCount 0, <code>j = i;</code>. What for 1, 2, 3?</p>\n<p>Useful is the modulo operator <code>%</code> or an <code>if</code> statement for starting at 0 again.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">shiftCount</th>\n<th style=\"text-align: center;\">i</th>\n<th style=\"text-align: center;\">0</th>\n<th style=\"text-align: center;\">1</th>\n<th style=\"text-align: center;\">2</th>\n<th style=\"text-align: center;\">3</th>\n<th style=\"text-align: center;\">4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">j</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">4</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">j</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">0</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">j</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">j</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">2</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632809661,"creation_date":1632809358,"answer_id":69356593,"question_id":69347655,"body_markdown":"Use only one cycle. New element index is greater than old on shiftCount value, but if it is greater than array1.length-1 then in order to make cyclic shift, take new position as substraction of new index and array1.length. This can be interpreted by calculation of reminder of devision new index by array1.length.\r\n\r\n    public static int[] shiftmultiple(int[] array1, int shiftCount) {\r\n        int[] array2 = new int[array1.length];\r\n\r\n        for(int i = 0; i &lt; array1.length; i++)\r\n            array2[(i+shiftCount)%array1.length] = array1[i];\r\n\r\n        return array2;\r\n    }","title":"Java Shifting the Elements Multiple Times","body":"<p>Use only one cycle. New element index is greater than old on shiftCount value, but if it is greater than array1.length-1 then in order to make cyclic shift, take new position as substraction of new index and array1.length. This can be interpreted by calculation of reminder of devision new index by array1.length.</p>\n<pre><code>public static int[] shiftmultiple(int[] array1, int shiftCount) {\n    int[] array2 = new int[array1.length];\n\n    for(int i = 0; i &lt; array1.length; i++)\n        array2[(i+shiftCount)%array1.length] = array1[i];\n\n    return array2;\n}\n</code></pre>\n"}],"owner":{"account_id":21753341,"reputation":11,"user_id":16059029,"display_name":"trix junie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1632809661,"creation_date":1632749901,"question_id":69347655,"body_markdown":"I want to shift my elements in the array multiple times:\r\n\r\nfor example:\r\nOld array: (1,2,3 ,4 5)\r\nshift 3 steps\r\nNew array: (3, 4, 5, 1, 2)\r\n\r\nI created this function but it only shifts 1 step:\r\n\r\n    public static int[] shiftmultiple(int[] array1, int shiftCount) {\r\n\t\tint[] array2 = new int[array1.length];\r\n        \r\n        for(int i = 0; i &lt; shiftCount; i++){\r\n            for(int j = 0; j &lt; array1.length-1; j++){\r\n                array2[j+1] = array1[j];\r\n            }\r\n            array2[0] = array1[array1.length-1];\r\n        }\r\n        \r\n\t\treturn array2;\r\n\t}\r\n\r\n\r\nP.S. I need to make new array since that is the required instruction.\r\n","title":"Java Shifting the Elements Multiple Times","body":"<p>I want to shift my elements in the array multiple times:</p>\n<p>for example:\nOld array: (1,2,3 ,4 5)\nshift 3 steps\nNew array: (3, 4, 5, 1, 2)</p>\n<p>I created this function but it only shifts 1 step:</p>\n<pre><code>public static int[] shiftmultiple(int[] array1, int shiftCount) {\n    int[] array2 = new int[array1.length];\n    \n    for(int i = 0; i &lt; shiftCount; i++){\n        for(int j = 0; j &lt; array1.length-1; j++){\n            array2[j+1] = array1[j];\n        }\n        array2[0] = array1[array1.length-1];\n    }\n    \n    return array2;\n}\n</code></pre>\n<p>P.S. I need to make new array since that is the required instruction.</p>\n"},{"tags":["java","scala","jersey","sbt","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":5202860,"reputation":96,"user_id":4169645,"display_name":"mwpeng "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632809406,"creation_date":1610600404,"answer_id":65713655,"question_id":59667999,"body_markdown":"The exception is from dropwizard-swagger plugin.\r\nhttps://github.com/smoketurner/dropwizard-swagger/issues/133\r\n\r\n\r\n&gt; Dropwizard version 1.3.9\r\n&gt; Dropwizard-swagger version 1.3.9-1\r\n&gt;\r\n&gt; But the issue is that dropwizard-swagger searches for classes that are not present when using the shadow plugin (https://github.com/johnrengelman/shadow) .\r\n&gt;\r\n&gt; dropwizard-swagger searches for a bunch of classes that are not present.\r\n\r\nupgrade to latest version should fix the issue.","title":"Dropwizard WARN statements: org.reflections.Reflections: could not get type for name javax.servlet.jsp.JspWriter from any class loader","body":"<p>The exception is from dropwizard-swagger plugin.\n<a href=\"https://github.com/smoketurner/dropwizard-swagger/issues/133\" rel=\"nofollow noreferrer\">https://github.com/smoketurner/dropwizard-swagger/issues/133</a></p>\n<blockquote>\n<p>Dropwizard version 1.3.9\nDropwizard-swagger version 1.3.9-1</p>\n<p>But the issue is that dropwizard-swagger searches for classes that are not present when using the shadow plugin (<a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">https://github.com/johnrengelman/shadow</a>) .</p>\n<p>dropwizard-swagger searches for a bunch of classes that are not present.</p>\n</blockquote>\n<p>upgrade to latest version should fix the issue.</p>\n"}],"owner":{"account_id":5504512,"reputation":3813,"user_id":4372759,"accept_rate":80,"display_name":"flybonzai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632809406,"creation_date":1578586174,"question_id":59667999,"body_markdown":"I&#39;m building a Dropwizard application using Dropwizard `1.3.5`.  I&#39;m wondering if it&#39;s related to my assembly merge strategy (which I already had to modify to make sure a Hibernate dependency was included in the fat jar).  Here is my `sbt-assembly` config:\r\n\r\n    assemblyMergeStrategy in assembly := {\r\n          case PathList(&quot;application.conf&quot;) =&gt; MergeStrategy.concat\r\n          case PathList(&quot;META-INF&quot;, &quot;services&quot;, _*) =&gt; MergeStrategy.first\r\n          case PathList(&quot;META-INF&quot;, xs@_*) =&gt; MergeStrategy.discard\r\n          case x =&gt; MergeStrategy.first\r\n        }\r\n\r\nFor reference here is the full stacktrace:\r\n```WARN  [2020-01-08 23:43:57,966] org.reflections.Reflections: could not get type for name javax.servlet.jsp.JspWriter from any class loader\r\n! java.lang.ClassNotFoundException: javax.servlet.jsp.JspWriter\r\n! at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n! at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n! at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n! at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n! at org.reflections.ReflectionUtils.forName(ReflectionUtils.java:388)\r\n! ... 69 common frames omitted\r\n! Causing: org.reflections.ReflectionsException: could not get type for name javax.servlet.jsp.JspWriter\r\n! at org.reflections.ReflectionUtils.forName(ReflectionUtils.java:390)\r\n! at org.reflections.Reflections.expandSuperTypes(Reflections.java:381)\r\n! at org.reflections.Reflections.&lt;init&gt;(Reflections.java:126)\r\n! at io.swagger.jaxrs.config.BeanConfig.classes(BeanConfig.java:276)\r\n! at io.swagger.jaxrs.listing.BaseApiListingResource.scan(BaseApiListingResource.java:59)\r\n! at io.swagger.jaxrs.listing.BaseApiListingResource.process(BaseApiListingResource.java:120)\r\n! at io.swagger.jaxrs.listing.BaseApiListingResource.getListingJsonResponse(BaseApiListingResource.java:155)\r\n! at io.swagger.jaxrs.listing.ApiListingResource.getListing(ApiListingResource.java:32)\r\n! at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n! at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n! at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n! at java.lang.reflect.Method.invoke(Method.java:498)\r\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n! at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\r\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\r\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\r\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\r\n! at io.dropwizard.jetty.NonblockingServletHolder.handle(NonblockingServletHolder.java:49)\r\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1655)\r\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\r\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:45)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:39)\r\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1317)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1219)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:239)\r\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\r\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:724)\r\n! at io.dropwizard.jetty.BiDiGzipHandler.handle(BiDiGzipHandler.java:67)\r\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:56)\r\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:169)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n! at org.eclipse.jetty.server.Server.handle(Server.java:531)\r\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)\r\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)\r\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n! at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:132)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\r\n! at java.lang.Thread.run(Thread.java:748)\r\n```","title":"Dropwizard WARN statements: org.reflections.Reflections: could not get type for name javax.servlet.jsp.JspWriter from any class loader","body":"<p>I'm building a Dropwizard application using Dropwizard <code>1.3.5</code>.  I'm wondering if it's related to my assembly merge strategy (which I already had to modify to make sure a Hibernate dependency was included in the fat jar).  Here is my <code>sbt-assembly</code> config:</p>\n\n<pre><code>assemblyMergeStrategy in assembly := {\n      case PathList(\"application.conf\") =&gt; MergeStrategy.concat\n      case PathList(\"META-INF\", \"services\", _*) =&gt; MergeStrategy.first\n      case PathList(\"META-INF\", xs@_*) =&gt; MergeStrategy.discard\n      case x =&gt; MergeStrategy.first\n    }\n</code></pre>\n\n<p>For reference here is the full stacktrace:</p>\n\n<pre><code>! java.lang.ClassNotFoundException: javax.servlet.jsp.JspWriter\n! at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n! at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n! at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n! at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n! at org.reflections.ReflectionUtils.forName(ReflectionUtils.java:388)\n! ... 69 common frames omitted\n! Causing: org.reflections.ReflectionsException: could not get type for name javax.servlet.jsp.JspWriter\n! at org.reflections.ReflectionUtils.forName(ReflectionUtils.java:390)\n! at org.reflections.Reflections.expandSuperTypes(Reflections.java:381)\n! at org.reflections.Reflections.&lt;init&gt;(Reflections.java:126)\n! at io.swagger.jaxrs.config.BeanConfig.classes(BeanConfig.java:276)\n! at io.swagger.jaxrs.listing.BaseApiListingResource.scan(BaseApiListingResource.java:59)\n! at io.swagger.jaxrs.listing.BaseApiListingResource.process(BaseApiListingResource.java:120)\n! at io.swagger.jaxrs.listing.BaseApiListingResource.getListingJsonResponse(BaseApiListingResource.java:155)\n! at io.swagger.jaxrs.listing.ApiListingResource.getListing(ApiListingResource.java:32)\n! at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n! at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n! at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n! at java.lang.reflect.Method.invoke(Method.java:498)\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\n! at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\n! at io.dropwizard.jetty.NonblockingServletHolder.handle(NonblockingServletHolder.java:49)\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1655)\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:45)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:39)\n! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1642)\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1317)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1219)\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:239)\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:724)\n! at io.dropwizard.jetty.BiDiGzipHandler.handle(BiDiGzipHandler.java:67)\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:56)\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:169)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n! at org.eclipse.jetty.server.Server.handle(Server.java:531)\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n! at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\n! at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:132)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\n! at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1548431501,"post_id":54366179,"comment_id":95551352,"body_markdown":"Works for me. Can you build the project by Gradle from command line? Provide a sample project to reproduce.","body":"Works for me. Can you build the project by Gradle from command line? Provide a sample project to reproduce."},{"owner":{"account_id":66458,"reputation":1770,"user_id":194932,"display_name":"Raphael"},"score":0,"creation_date":1548435771,"post_id":54366179,"comment_id":95553675,"body_markdown":"It does. When you browse to a test  using Intellij, can it see classes from the main app?","body":"It does. When you browse to a test  using Intellij, can it see classes from the main app?"},{"owner":{"account_id":66458,"reputation":1770,"user_id":194932,"display_name":"Raphael"},"score":0,"creation_date":1548438352,"post_id":54366179,"comment_id":95554975,"body_markdown":"I&#39;m inclined to think it&#39;s something with gradle. This doesn&#39;t happen with 4.10, only with 3.x","body":"I&#39;m inclined to think it&#39;s something with gradle. This doesn&#39;t happen with 4.10, only with 3.x"}],"answers":[{"tags":[],"owner":{"account_id":5202860,"reputation":96,"user_id":4169645,"display_name":"mwpeng "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632809025,"creation_date":1632809025,"answer_id":69356538,"question_id":54366179,"body_markdown":"Having the same issue with spring boot 2.4.\r\n\r\nThe dependencies could be removed, after upgrading to spring boot 2.5.\r\n\r\nTested with spring boot sample project:\r\n https://spring.io/guides/gs/spring-boot/ ","title":"Gradle test dependency on main sourceset","body":"<p>Having the same issue with spring boot 2.4.</p>\n<p>The dependencies could be removed, after upgrading to spring boot 2.5.</p>\n<p>Tested with spring boot sample project:\n<a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a></p>\n"}],"owner":{"account_id":66458,"reputation":1770,"user_id":194932,"display_name":"Raphael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632809025,"creation_date":1548422577,"question_id":54366179,"body_markdown":"I&#39;m using gradle to build my spring-boot project with the **java** plugin and I need to explicitly describe that the Test Source Sets depends on the Main source set in order for Intellij to see the main classes. Shouldn&#39;t this be implied? \r\n\r\n    dependencies {\r\n        testCompile sourceSets.main.output\r\n    }","title":"Gradle test dependency on main sourceset","body":"<p>I'm using gradle to build my spring-boot project with the <strong>java</strong> plugin and I need to explicitly describe that the Test Source Sets depends on the Main source set in order for Intellij to see the main classes. Shouldn't this be implied? </p>\n\n<pre><code>dependencies {\n    testCompile sourceSets.main.output\n}\n</code></pre>\n"},{"tags":["java","java-bytecode-asm","javaagents"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1632810235,"post_id":69356506,"comment_id":122586392,"body_markdown":"Shouldn&#39;t you use `cr.accept(cv, ClassReader.EXPAND_FRAMES);` instead of `cr.accept(cw, ClassReader.EXPAND_FRAMES);`?","body":"Shouldn&#39;t you use <code>cr.accept(cv, ClassReader.EXPAND_FRAMES);</code> instead of <code>cr.accept(cw, ClassReader.EXPAND_FRAMES);</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1632826096,"post_id":69356506,"comment_id":122592660,"body_markdown":"You have to pass your visitor to the `accept` method, i.e. `ca` rather than `cw`.","body":"You have to pass your visitor to the <code>accept</code> method, i.e. <code>ca</code> rather than <code>cw</code>."},{"owner":{"account_id":13903979,"reputation":67,"user_id":10038873,"display_name":"Zader"},"score":0,"creation_date":1632848124,"post_id":69356506,"comment_id":122602748,"body_markdown":"@ThomasKl&#228;ger Thanks, you saved my day.","body":"@ThomasKl&#228;ger Thanks, you saved my day."},{"owner":{"account_id":13903979,"reputation":67,"user_id":10038873,"display_name":"Zader"},"score":0,"creation_date":1632848184,"post_id":69356506,"comment_id":122602774,"body_markdown":"@Holger Thanks a lot. I missed it. It works now.","body":"@Holger Thanks a lot. I missed it. It works now."}],"owner":{"account_id":13903979,"reputation":67,"user_id":10038873,"display_name":"Zader"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632808821,"creation_date":1632808821,"question_id":69356506,"body_markdown":"I&#39;m using asm 9.2 jars to instrument methods.\r\n\r\nBelow is my code.\r\n\r\n```\r\nClassReader cr = new ClassReader(classBytes);\r\nClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS | ClassWriter.COMPUTE_FRAMES);\r\n    \t\t\r\nEnterExitClassAdapter ca = new EnterExitClassAdapter(cw, config, aspects);\r\ncr.accept(cw, ClassReader.EXPAND_FRAMES);\r\nreturn cw.toByteArray();\r\n```\r\n\r\n\r\n```\r\npublic class EnterExitClassAdapter extends ClassVisitor {\r\n\r\n\tType classType;\r\n\tString[] interfaces;\r\n\r\n\tpublic EnterExitClassAdapter(ClassVisitor cv, Config config,\r\n\t\t\tAspect[] aspects) {\r\n\t\tsuper(Opcodes.ASM9, cv);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void visit(int version, int access, String name, String signature,\r\n\t\tString superName, String[] interfaces) {\r\n\r\n\t\tsuper.visit(version, access, name, signature, superName, interfaces);\r\n\t\tclassType = Type.getType(&quot;L&quot; + name + &quot;;&quot;);\r\n\t\tthis.interfaces = interfaces;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic MethodVisitor visitMethod(int access, String name, String desc,\r\n\t\t\tString signature, String[] exceptions) {\r\n\t\t\t\r\n\t\t//My code here.\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThe methods in EnterExitClassAdapter is not called (i.e visit and visitMethod) except its constructor.\r\nI&#39;m running a sample application with java 8. \r\n\r\nI&#39;m new to asm. Almost spent more than 2 days on this. But still don&#39;t know what I&#39;m missing.\r\n\r\nPlease help, Thanks.","title":"ClassVisitor&#39;s methods are not called in asm","body":"<p>I'm using asm 9.2 jars to instrument methods.</p>\n<p>Below is my code.</p>\n<pre><code>ClassReader cr = new ClassReader(classBytes);\nClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS | ClassWriter.COMPUTE_FRAMES);\n            \nEnterExitClassAdapter ca = new EnterExitClassAdapter(cw, config, aspects);\ncr.accept(cw, ClassReader.EXPAND_FRAMES);\nreturn cw.toByteArray();\n</code></pre>\n<pre><code>public class EnterExitClassAdapter extends ClassVisitor {\n\n    Type classType;\n    String[] interfaces;\n\n    public EnterExitClassAdapter(ClassVisitor cv, Config config,\n            Aspect[] aspects) {\n        super(Opcodes.ASM9, cv);\n    }\n\n    @Override\n    public void visit(int version, int access, String name, String signature,\n        String superName, String[] interfaces) {\n\n        super.visit(version, access, name, signature, superName, interfaces);\n        classType = Type.getType(&quot;L&quot; + name + &quot;;&quot;);\n        this.interfaces = interfaces;\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String desc,\n            String signature, String[] exceptions) {\n            \n        //My code here.\n        \n    }\n}\n</code></pre>\n<p>The methods in EnterExitClassAdapter is not called (i.e visit and visitMethod) except its constructor.\nI'm running a sample application with java 8.</p>\n<p>I'm new to asm. Almost spent more than 2 days on this. But still don't know what I'm missing.</p>\n<p>Please help, Thanks.</p>\n"},{"tags":["java","docker","jvm"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1631791426,"post_id":69205102,"comment_id":122320693,"body_markdown":"(You can write `CMD java $JAVA_OPTS ...` and it will mean exactly the same thing  Docker inserts the `sh -c` wrapper for you  but that won&#39;t solve this shell-quoting problem.)","body":"(You can write <code>CMD java $JAVA_OPTS ...</code> and it will mean exactly the same thing  Docker inserts the <code>sh -c</code> wrapper for you  but that won&#39;t solve this shell-quoting problem.)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632808273,"creation_date":1632808273,"answer_id":69356425,"question_id":69205102,"body_markdown":"Either remove ENTRYPOINT and use CMD as David suggested, or provide a shell script wrapper that better handles your $JAVAOPTS variable content.","title":"Passing JVM Properties Contains Space in Dockerfile CMD Command","body":"<p>Either remove ENTRYPOINT and use CMD as David suggested, or provide a shell script wrapper that better handles your $JAVAOPTS variable content.</p>\n"}],"owner":{"account_id":14608678,"reputation":3385,"user_id":10550738,"display_name":"H.&#199;.T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632808273,"creation_date":1631781668,"question_id":69205102,"body_markdown":"I have this CMD in my Dockerfile:\r\n\r\n    CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;java $JAVA_OPTS -jar xxx.jar&quot;]\r\n\r\nAnd I want to add parameter below to $JAVA_OPTS\r\n\r\n    -Dproducer.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=xxx password=pass;\r\n\r\nBecause it contains space I couldn&#39;t suceeded (application is not started). How can I pass jvm parameter which contains space to use it in CMD in DockerFile?","title":"Passing JVM Properties Contains Space in Dockerfile CMD Command","body":"<p>I have this CMD in my Dockerfile:</p>\n<pre><code>CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;java $JAVA_OPTS -jar xxx.jar&quot;]\n</code></pre>\n<p>And I want to add parameter below to $JAVA_OPTS</p>\n<pre><code>-Dproducer.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=xxx password=pass;\n</code></pre>\n<p>Because it contains space I couldn't suceeded (application is not started). How can I pass jvm parameter which contains space to use it in CMD in DockerFile?</p>\n"},{"tags":["java","maven","sonarqube"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1632805695,"post_id":69355085,"comment_id":122585311,"body_markdown":"Since you are using maven you don&#39;t need to mention `sonar.java.binaries` manually unless you customized it. All you need to do is compile you project before you do sonar analysis. Run `mvn package` before you run maven sonar.","body":"Since you are using maven you don&#39;t need to mention <code>sonar.java.binaries</code> manually unless you customized it. All you need to do is compile you project before you do sonar analysis. Run <code>mvn package</code> before you run maven sonar."},{"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"score":0,"creation_date":1632807351,"post_id":69355085,"comment_id":122585674,"body_markdown":"@Karthikeyan Vaithilingam thankq so much it working","body":"@Karthikeyan Vaithilingam thankq so much it working"}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632808104,"creation_date":1632808104,"answer_id":69356407,"question_id":69355085,"body_markdown":"When you do a sonar analysis using maven you don&#39;t need to configure manually.\r\n\r\nThe error (`Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property`) you are experiencing because sonar maven plugin expects the compiled classes in your target\\classes folder and the class files are missing. This is due to executing the sonar analysis before the java files are compiled.\r\n\r\nTo solve this first execute `mvn package` and then execute maven sonar analysis.","title":"Getting Error on Sonarqube 3.9.0 when I run remotely Local is working fine","body":"<p>When you do a sonar analysis using maven you don't need to configure manually.</p>\n<p>The error (<code>Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property</code>) you are experiencing because sonar maven plugin expects the compiled classes in your target\\classes folder and the class files are missing. This is due to executing the sonar analysis before the java files are compiled.</p>\n<p>To solve this first execute <code>mvn package</code> and then execute maven sonar analysis.</p>\n"}],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69356407,"answer_count":1,"score":0,"last_activity_date":1632808104,"creation_date":1632795808,"question_id":69355085,"body_markdown":"When I run sonarqube on server I am always getting below error \r\n\r\n```\r\nFailed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.0.2155:sonar (default-cli) on project &lt;Project name &gt;: Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property\r\n```\r\nWhen I run Sonarqube on my local machine, it is working fine. I am not sure where I have to go and make changes. \r\n\r\nI do some googled and find below url(https://stackoverflow.com/questions/39290983/how-to-correctly-configure-the-property-sonar-java-binaries) and mentioned I have to set the property `sonar.java.binaries=bin` I am not sure where this property file. How I can set on server. \r\nCould you please some one help. \r\n\r\nI am using Java 11, \r\nSonarqube version 8.9.0\r\nmaven version 3.9.0\r\n\r\nAlso, I found url(https://docs.sonarqube.org/latest/analysis/languages/java/). It mentioned do some changes admin side If I made these changes it will reflect globally. Not project specific. \r\nPlease help me     ","title":"Getting Error on Sonarqube 3.9.0 when I run remotely Local is working fine","body":"<p>When I run sonarqube on server I am always getting below error</p>\n<pre><code>Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.0.2155:sonar (default-cli) on project &lt;Project name &gt;: Your project contains .java files, please provide compiled classes with sonar.java.binaries property, or exclude them from the analysis with sonar.exclusions property\n</code></pre>\n<p>When I run Sonarqube on my local machine, it is working fine. I am not sure where I have to go and make changes.</p>\n<p>I do some googled and find below url(<a href=\"https://stackoverflow.com/questions/39290983/how-to-correctly-configure-the-property-sonar-java-binaries\">How to correctly configure the property &quot;sonar.java.binaries&quot;?</a>) and mentioned I have to set the property <code>sonar.java.binaries=bin</code> I am not sure where this property file. How I can set on server.\nCould you please some one help.</p>\n<p>I am using Java 11,\nSonarqube version 8.9.0\nmaven version 3.9.0</p>\n<p>Also, I found url(<a href=\"https://docs.sonarqube.org/latest/analysis/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/analysis/languages/java/</a>). It mentioned do some changes admin side If I made these changes it will reflect globally. Not project specific.\nPlease help me</p>\n"},{"tags":["java","time","spring-batch","profiling","java-mission-control"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1632786756,"post_id":69354280,"comment_id":122582439,"body_markdown":"&quot;ten Million records&quot; with a run time of &quot;15 up to 30 milliseconds&quot;, is that per record? If so, then that is still a significant amount of time. Let&#39;s assume an average runtime of 23ms per record, so over 10mil records it would result in a total processing time of 63-64h in that one method alone. If you could optimize that method to take half the time then you would be saving 32h of processing time.","body":"&quot;ten Million records&quot; with a run time of &quot;15 up to 30 milliseconds&quot;, is that per record? If so, then that is still a significant amount of time. Let&#39;s assume an average runtime of 23ms per record, so over 10mil records it would result in a total processing time of 63-64h in that one method alone. If you could optimize that method to take half the time then you would be saving 32h of processing time."},{"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"score":1,"creation_date":1632787402,"post_id":69354280,"comment_id":122582525,"body_markdown":"Yes @sorifiend you&#39;re right. it called for every record.I want to find most time consuming methods sorted by time that they take.","body":"Yes @sorifiend you&#39;re right. it called for every record.I want to find most time consuming methods sorted by time that they take."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1632792656,"post_id":69354280,"comment_id":122583325,"body_markdown":"Is this synchronous I/O?  So you only start on record #2 after record #1 is finished with?  Consider an asynch model.","body":"Is this synchronous I/O?  So you only start on record #2 after record #1 is finished with?  Consider an asynch model."},{"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"score":0,"creation_date":1632807733,"post_id":69354280,"comment_id":122585771,"body_markdown":"I used local partitioning. every partition processed in separate thread. can I use asynchronous processing with local partitioning together?","body":"I used local partitioning. every partition processed in separate thread. can I use asynchronous processing with local partitioning together?"}],"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632807913,"creation_date":1632786188,"question_id":69354280,"body_markdown":"I have a spring batch app that&#39;s runs on tomcat 8.5.\r\nThis batch works with lots of data such as ten Million records and it is too slow.\r\nI want to find most time consuming parts such as database queries E.G, socket IO, thread blocking or waiting, CPU consuming, or garbage collection that maybe slows down the app.\r\nI &#39;m mostly suspicious to jdbc queries E.G, socket IO.\r\nI tried to use local partitioning to scale it up and give more memory to tomcat and increase commit interval in spring batch settings.\r\nI had a look at socketIO tab in Jmc and logged execution time of one of the methods it shows,but it only takes 15 up to 30 milliseconds.\r\nAnother problem is that Jmc only shows percentages not exact time. So, I could not figure out how long it takes.\r\nI&#39;m a little confused.  \r\nThanks too much in advance.\r\n","title":"How to find most time consuming method with java mission control? (not specificly CPU)","body":"<p>I have a spring batch app that's runs on tomcat 8.5.\nThis batch works with lots of data such as ten Million records and it is too slow.\nI want to find most time consuming parts such as database queries E.G, socket IO, thread blocking or waiting, CPU consuming, or garbage collection that maybe slows down the app.\nI 'm mostly suspicious to jdbc queries E.G, socket IO.\nI tried to use local partitioning to scale it up and give more memory to tomcat and increase commit interval in spring batch settings.\nI had a look at socketIO tab in Jmc and logged execution time of one of the methods it shows,but it only takes 15 up to 30 milliseconds.\nAnother problem is that Jmc only shows percentages not exact time. So, I could not figure out how long it takes.\nI'm a little confused.<br />\nThanks too much in advance.</p>\n"},{"tags":["java","windows","exception","desktop"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1623087802,"post_id":67876108,"comment_id":119974031,"body_markdown":"Did it work in previous JDKs? In that case, you may want to report it at [the bug tracker](https://bugs.openjdk.java.net/secure/Dashboard.jspa).","body":"Did it work in previous JDKs? In that case, you may want to report it at <a href=\"https://bugs.openjdk.java.net/secure/Dashboard.jspa\" rel=\"nofollow noreferrer\">the bug tracker</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1623088588,"post_id":67876108,"comment_id":119974315,"body_markdown":"@dan1st I think that site needs a developer account;  https://bugs.java.com might be a better place to report it.","body":"@dan1st I think that site needs a developer account;  <a href=\"https://bugs.java.com\" rel=\"nofollow noreferrer\">bugs.java.com</a> might be a better place to report it."},{"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"score":0,"creation_date":1632806483,"post_id":67876108,"comment_id":122585432,"body_markdown":"Tested with JDK17 b33. Works fine for me.","body":"Tested with JDK17 b33. Works fine for me."}],"answers":[{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632807200,"creation_date":1632807200,"answer_id":69356281,"question_id":67876108,"body_markdown":"Looks like you have encountered https://bugs.openjdk.java.net/browse/JDK-8270269 issue, which is still in Open state.","title":"Desktop.browse() fails with JDK 17","body":"<p>Looks like you have encountered <a href=\"https://bugs.openjdk.java.net/browse/JDK-8270269\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8270269</a> issue, which is still in Open state.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69356281,"answer_count":1,"score":3,"last_activity_date":1632807200,"creation_date":1623086465,"question_id":67876108,"body_markdown":"When I&#39;m using `JDK 17` on `Windows`, the following simple code for opening a `URL` fails with an exception:\r\n\r\n    Desktop desktop = getDesktop();\r\n    desktop.browse(new URI(&quot;https://www.google.com&quot;));\r\n\r\nStack trace:\r\n\r\n    java.io.IOException: Failed to open https://www.google.com. Error message: CoInitializeEx() failed.\r\n    \tat sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115) ~[?:?]\r\n    \tat sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101) ~[?:?]\r\n    \tat java.awt.Desktop.browse(Desktop.java:530) ~[?:?]\r\n\r\nAny idea how to fix this? Is it a `JDK` bug? Most likely. I didn&#39;t find any related information about this online.","title":"Desktop.browse() fails with JDK 17","body":"<p>When I'm using <code>JDK 17</code> on <code>Windows</code>, the following simple code for opening a <code>URL</code> fails with an exception:</p>\n<pre><code>Desktop desktop = getDesktop();\ndesktop.browse(new URI(&quot;https://www.google.com&quot;));\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>java.io.IOException: Failed to open https://www.google.com. Error message: CoInitializeEx() failed.\n    at sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115) ~[?:?]\n    at sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101) ~[?:?]\n    at java.awt.Desktop.browse(Desktop.java:530) ~[?:?]\n</code></pre>\n<p>Any idea how to fix this? Is it a <code>JDK</code> bug? Most likely. I didn't find any related information about this online.</p>\n"},{"tags":["java","spring","oracle","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632807099,"creation_date":1632807099,"answer_id":69356264,"question_id":69341418,"body_markdown":"Since you don&#39;t have an object/row to create a lock on you need to create one. For example you could add a `lock` or `booking-in-progress` column on the `Room` table. \r\n\r\nThe full booking than works like this: \r\n\r\n- set `booking-in-progress` to `true` if it is currently `false`, fail the booking otherwise. \r\n- commit.\r\n- perform the booking.\r\n- set `booking-in-progress` to `false`.\r\n- commit.\r\n\r\nYou probably want a job that cleans up locks that are hanging around for too long. This could happen if your application crashes after creating the lock.\r\n\r\nOf course you can create more fine grained locks by having a table with `room` and `day` as the primary key. In such a case you don&#39;t update anything, but just insert a row. The primary key will prevent concurrent writes.","title":"How to handle concurrency issue on a service method without an optimistic or pessimistic lock?","body":"<p>Since you don't have an object/row to create a lock on you need to create one. For example you could add a <code>lock</code> or <code>booking-in-progress</code> column on the <code>Room</code> table.</p>\n<p>The full booking than works like this:</p>\n<ul>\n<li>set <code>booking-in-progress</code> to <code>true</code> if it is currently <code>false</code>, fail the booking otherwise.</li>\n<li>commit.</li>\n<li>perform the booking.</li>\n<li>set <code>booking-in-progress</code> to <code>false</code>.</li>\n<li>commit.</li>\n</ul>\n<p>You probably want a job that cleans up locks that are hanging around for too long. This could happen if your application crashes after creating the lock.</p>\n<p>Of course you can create more fine grained locks by having a table with <code>room</code> and <code>day</code> as the primary key. In such a case you don't update anything, but just insert a row. The primary key will prevent concurrent writes.</p>\n"}],"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69356264,"answer_count":1,"score":0,"last_activity_date":1632807099,"creation_date":1632718830,"question_id":69341418,"body_markdown":"I am working on a hotel and a booking microservices where a user can book room/rooms for a specific hotel for a specific check-in and checkout date. A hotel can contain many rooms of the same type. (I am using spring-boot, spring-data-jpa and oracle database)\r\n\r\nI want to handle concurrency issues when multiple users are booking the same hotel rooms (considering the rooms are limited and not all users will be successful in booking it). \r\n\r\nI am not storing any information about how many rooms are available at a specific check-in and checkout date for that room type because doing that would make checking the availability of the rooms complicated. Therefore, I do not have any entity that I can add @Version annotation and work with optimistic lock. So the approach I am taking is that before the booking gets persisted in database, I am checking in my service method if that room is available for that check-in and checkout date. \r\n\r\nThe way I have implemented that service method (shown below) is to fetch all the upcoming bookings for that room that conflicts with the check-in and checkout date given by the new user (who wants to book that room). If the room is available, then the booking will persist, or else will throw the exception for the user. Below is the service code (the variable names should be self-explanatory):\r\n```\r\n@Transactional\r\npublic Booking findRoomsAvailibilityAndSave(Booking bookingInfoFromUser) {\r\n\t\tBooking persistedBooking = null;\r\n\t\tboolean isAllRoomsAvailable = true;\r\n\t\tint hotelId = bookingInfoFromUser.getHotelId();\r\n\t\tLocalDate checkInDate = bookingInfoFromUser.getCheckInDate();\r\n\t\tLocalDate checkoutDate = bookingInfoFromUser.getCheckoutDate();\r\n\t\tSet&lt;RoomBookingDetails&gt; newBookingRoomsInfo = bookingInfoFromUser.getRoomBookingDetails();\r\n\t\tMap&lt;Integer, Integer&gt; roomTotalRooms = new HashMap&lt;&gt;();\r\n\t\tMap&lt;Integer, Integer&gt; roomTotalRoomsBooked = new HashMap&lt;&gt;();\r\n\r\n\t\tList&lt;BookingSummary&gt; existingBookings = bookingRepository\r\n\t\t\t\t.findByHotelIdAndCheckInDateBeforeAndCheckoutDateAfter(hotelId, checkInDate, checkoutDate);\r\n\r\n\t\tRestTemplate template = new RestTemplate();\r\n\t\tResponseEntity&lt;Object&gt; hotelEntity = template.getForEntity(&quot;http://localhost:8383/hotel/&quot; + hotelId,\r\n\t\t\t\tObject.class);\r\n\t\tObject hotelObj = hotelEntity.getBody();\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tJsonNode hotelNode = mapper.convertValue(hotelObj, JsonNode.class);\r\n\r\n\t\thotelNode.withArray(&quot;hotelRooms&quot;)\r\n\t\t\t\t.forEach(roomNode -&gt; roomTotalRooms.put(roomNode.get(&quot;id&quot;).asInt(), roomNode.get(&quot;noRooms&quot;).asInt()));\r\n\t\t\r\n\t\texistingBookings.forEach(existingBooking -&gt; {\r\n\t\t\texistingBooking.getRoomBookingDetails().forEach(bookedRoom -&gt; {\r\n\t\t\t\tif (roomTotalRoomsBooked.containsKey(bookedRoom.getHotelRoomId())) {\r\n\t\t\t\t\tInteger existingKey = bookedRoom.getHotelRoomId();\r\n\t\t\t\t\tInteger updateValue = roomTotalRoomsBooked.get(existingKey) + bookedRoom.getNoRooms();\r\n\t\t\t\t\troomTotalRoomsBooked.put(existingKey, updateValue);\r\n\t\t\t\t} else {\r\n\t\t\t\t\troomTotalRoomsBooked.put(bookedRoom.getHotelRoomId(), bookedRoom.getNoRooms());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tfor (RoomBookingDetails newRoom : newBookingRoomsInfo) {\r\n\t\t\tif (!((roomTotalRooms.get(newRoom.getHotelRoomId())\r\n\t\t\t\t\t- roomTotalRoomsBooked.get(newRoom.getHotelRoomId())) &gt;= newRoom.getNoRooms())) {\r\n\t\t\t\tisAllRoomsAvailable = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isAllRoomsAvailable) {\r\n\t\t\tpersistedBooking = bookingService.save(persistedBooking);\r\n\t\t} else {\r\n\t\t\tthrow new OptimisticLockException();\r\n\t\t}\r\n\r\n\t\treturn persistedBooking;\r\n\t}\r\n```\r\nWhat I want is if two users are trying to book an only available room at the same time, only one user should be able to succeed. I do not want to lock this service, but let both the users try booking the room. But, one will fail because of the check in this service method I have shown. As I have explained, I cannot do optimistic locking because I do not have an entity that contains the information of available rooms for specific check-in and checkout date that I will update after booking. The only way I am checking the availability is by fetching the total rooms that are there for a specific room type, and comparing it by the total rooms already booked for that check-in and checkout date. \r\n\r\nAll the solutions that I have seen so far talks about handling using optimistic approach where the version will change for the row I am updating (but I am not updating any row here). Another approach that I have seen is pessimistic locking the row that I am updating (but as I said, I am not updating any row). \r\n\r\nIs there a way to solve this concurrency issue where I let both the users try booking the room (kind of optimistic approach), but the availability check fails for one user in the service method and throw an exception for them.\r\n\r\nIf any information I have missed, feel free to let me know, and I appreciate the help.","title":"How to handle concurrency issue on a service method without an optimistic or pessimistic lock?","body":"<p>I am working on a hotel and a booking microservices where a user can book room/rooms for a specific hotel for a specific check-in and checkout date. A hotel can contain many rooms of the same type. (I am using spring-boot, spring-data-jpa and oracle database)</p>\n<p>I want to handle concurrency issues when multiple users are booking the same hotel rooms (considering the rooms are limited and not all users will be successful in booking it).</p>\n<p>I am not storing any information about how many rooms are available at a specific check-in and checkout date for that room type because doing that would make checking the availability of the rooms complicated. Therefore, I do not have any entity that I can add @Version annotation and work with optimistic lock. So the approach I am taking is that before the booking gets persisted in database, I am checking in my service method if that room is available for that check-in and checkout date.</p>\n<p>The way I have implemented that service method (shown below) is to fetch all the upcoming bookings for that room that conflicts with the check-in and checkout date given by the new user (who wants to book that room). If the room is available, then the booking will persist, or else will throw the exception for the user. Below is the service code (the variable names should be self-explanatory):</p>\n<pre><code>@Transactional\npublic Booking findRoomsAvailibilityAndSave(Booking bookingInfoFromUser) {\n        Booking persistedBooking = null;\n        boolean isAllRoomsAvailable = true;\n        int hotelId = bookingInfoFromUser.getHotelId();\n        LocalDate checkInDate = bookingInfoFromUser.getCheckInDate();\n        LocalDate checkoutDate = bookingInfoFromUser.getCheckoutDate();\n        Set&lt;RoomBookingDetails&gt; newBookingRoomsInfo = bookingInfoFromUser.getRoomBookingDetails();\n        Map&lt;Integer, Integer&gt; roomTotalRooms = new HashMap&lt;&gt;();\n        Map&lt;Integer, Integer&gt; roomTotalRoomsBooked = new HashMap&lt;&gt;();\n\n        List&lt;BookingSummary&gt; existingBookings = bookingRepository\n                .findByHotelIdAndCheckInDateBeforeAndCheckoutDateAfter(hotelId, checkInDate, checkoutDate);\n\n        RestTemplate template = new RestTemplate();\n        ResponseEntity&lt;Object&gt; hotelEntity = template.getForEntity(&quot;http://localhost:8383/hotel/&quot; + hotelId,\n                Object.class);\n        Object hotelObj = hotelEntity.getBody();\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode hotelNode = mapper.convertValue(hotelObj, JsonNode.class);\n\n        hotelNode.withArray(&quot;hotelRooms&quot;)\n                .forEach(roomNode -&gt; roomTotalRooms.put(roomNode.get(&quot;id&quot;).asInt(), roomNode.get(&quot;noRooms&quot;).asInt()));\n        \n        existingBookings.forEach(existingBooking -&gt; {\n            existingBooking.getRoomBookingDetails().forEach(bookedRoom -&gt; {\n                if (roomTotalRoomsBooked.containsKey(bookedRoom.getHotelRoomId())) {\n                    Integer existingKey = bookedRoom.getHotelRoomId();\n                    Integer updateValue = roomTotalRoomsBooked.get(existingKey) + bookedRoom.getNoRooms();\n                    roomTotalRoomsBooked.put(existingKey, updateValue);\n                } else {\n                    roomTotalRoomsBooked.put(bookedRoom.getHotelRoomId(), bookedRoom.getNoRooms());\n                }\n            });\n        });\n\n        for (RoomBookingDetails newRoom : newBookingRoomsInfo) {\n            if (!((roomTotalRooms.get(newRoom.getHotelRoomId())\n                    - roomTotalRoomsBooked.get(newRoom.getHotelRoomId())) &gt;= newRoom.getNoRooms())) {\n                isAllRoomsAvailable = false;\n            }\n        }\n\n        if (isAllRoomsAvailable) {\n            persistedBooking = bookingService.save(persistedBooking);\n        } else {\n            throw new OptimisticLockException();\n        }\n\n        return persistedBooking;\n    }\n</code></pre>\n<p>What I want is if two users are trying to book an only available room at the same time, only one user should be able to succeed. I do not want to lock this service, but let both the users try booking the room. But, one will fail because of the check in this service method I have shown. As I have explained, I cannot do optimistic locking because I do not have an entity that contains the information of available rooms for specific check-in and checkout date that I will update after booking. The only way I am checking the availability is by fetching the total rooms that are there for a specific room type, and comparing it by the total rooms already booked for that check-in and checkout date.</p>\n<p>All the solutions that I have seen so far talks about handling using optimistic approach where the version will change for the row I am updating (but I am not updating any row here). Another approach that I have seen is pessimistic locking the row that I am updating (but as I said, I am not updating any row).</p>\n<p>Is there a way to solve this concurrency issue where I let both the users try booking the room (kind of optimistic approach), but the availability check fails for one user in the service method and throw an exception for them.</p>\n<p>If any information I have missed, feel free to let me know, and I appreciate the help.</p>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632794768,"post_id":69354895,"comment_id":122583612,"body_markdown":"Do you see that with a no-args constructor the fields in your object indeed won&#39;t be initialised? Look at their declaration. Do you see why they must be initialised by a constructor?","body":"Do you see that with a no-args constructor the fields in your object indeed won&#39;t be initialised? Look at their declaration. Do you see why they must be initialised by a constructor?"}],"answers":[{"tags":[],"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632794988,"creation_date":1632794988,"answer_id":69355012,"question_id":69354895,"body_markdown":"All the fields in your class are `final` and are **expected to be initialised when an instance of object is created** and not changed. When you use `@NoArgsConstructor` you are creating a constructor that can be used to create the object **without initialising the values**. If you want an object to be created without values you can remove the final keyword as follows:\r\n```\r\n    private UUID studentId;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private Gender gender;\r\n```\r\nIf you want the values to be assigned during object creation remove `@NoArgsConstructor`.","title":"Adding @NoArgsConstructor anotationg causes error","body":"<p>All the fields in your class are <code>final</code> and are <strong>expected to be initialised when an instance of object is created</strong> and not changed. When you use <code>@NoArgsConstructor</code> you are creating a constructor that can be used to create the object <strong>without initialising the values</strong>. If you want an object to be created without values you can remove the final keyword as follows:</p>\n<pre><code>    private UUID studentId;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private Gender gender;\n</code></pre>\n<p>If you want the values to be assigned during object creation remove <code>@NoArgsConstructor</code>.</p>\n"}],"owner":{"account_id":16259796,"reputation":119,"user_id":12842571,"display_name":"Marquez Ludin Albarado Jaimes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69355012,"answer_count":1,"score":0,"last_activity_date":1632807070,"creation_date":1632793740,"question_id":69354895,"body_markdown":"I have a Student class that needs a default constructor, I want to add it with the @NoArgsConstructor annotation the problem is that when I add it all my variables give an error &quot;Variable &#39;xxx&#39; might not have been initialized&quot;\r\n\r\n\r\nThis is the class \r\n\r\n\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    import java.util.UUID;\r\n    @Getter\r\n    @NoArgsConstructor\r\n    \r\n    @Entity\r\n    public class Student {\r\n    \r\n    \r\n        private final UUID studentId;\r\n        private final String firstName;\r\n        private final String lastName;\r\n        private final String email;\r\n        private final Gender gender;\r\n    \r\n    \r\n    \r\n    \r\n        public Student(\r\n                  @JsonProperty(&quot;studentId&quot;) UUID studentId\r\n                , @JsonProperty(&quot;firstName&quot;)String firstName\r\n                , @JsonProperty(&quot;lastName&quot;)String lastName\r\n                , @JsonProperty(&quot;email&quot;)String email\r\n                ,@JsonProperty(&quot;gender&quot;) Gender gender) {\r\n            this.studentId = studentId;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n    \r\n            this.email = email;\r\n            this.gender = gender;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Student{&quot; +\r\n                    &quot;studentId=&quot; + studentId +\r\n                    &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                    &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, gender=&quot; + gender +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        enum Gender{\r\n            MALE,FEMALE,male,female\r\n        }\r\n    }","title":"Adding @NoArgsConstructor anotationg causes error","body":"<p>I have a Student class that needs a default constructor, I want to add it with the @NoArgsConstructor annotation the problem is that when I add it all my variables give an error &quot;Variable 'xxx' might not have been initialized&quot;</p>\n<p>This is the class</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\nimport java.util.UUID;\n@Getter\n@NoArgsConstructor\n\n@Entity\npublic class Student {\n\n\n    private final UUID studentId;\n    private final String firstName;\n    private final String lastName;\n    private final String email;\n    private final Gender gender;\n\n\n\n\n    public Student(\n              @JsonProperty(&quot;studentId&quot;) UUID studentId\n            , @JsonProperty(&quot;firstName&quot;)String firstName\n            , @JsonProperty(&quot;lastName&quot;)String lastName\n            , @JsonProperty(&quot;email&quot;)String email\n            ,@JsonProperty(&quot;gender&quot;) Gender gender) {\n        this.studentId = studentId;\n        this.firstName = firstName;\n        this.lastName = lastName;\n\n        this.email = email;\n        this.gender = gender;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;studentId=&quot; + studentId +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, gender=&quot; + gender +\n                '}';\n    }\n\n    enum Gender{\n        MALE,FEMALE,male,female\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","mysql-connector"],"comments":[{"owner":{"account_id":7194584,"reputation":1487,"user_id":5493813,"accept_rate":91,"display_name":"st.huber"},"score":0,"creation_date":1633419261,"post_id":69346446,"comment_id":122747580,"body_markdown":"how does your Dockerfile look so far?","body":"how does your Dockerfile look so far?"}],"answers":[{"tags":[],"owner":{"account_id":10302163,"reputation":25,"user_id":8019211,"display_name":"Alvaro Gili"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632746326,"creation_date":1632746326,"answer_id":69346769,"question_id":69346446,"body_markdown":"Maybe do you need the package&#39;s path, for example\r\n\r\n    java -cp mysql-connector-java-8.0.26.jar my/package/test.java\r\n\r\nAnd obviously this class must be have a main method","title":"Dockerfile ENTRYPOINT for java -cp argument","body":"<p>Maybe do you need the package's path, for example</p>\n<pre><code>java -cp mysql-connector-java-8.0.26.jar my/package/test.java\n</code></pre>\n<p>And obviously this class must be have a main method</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632749545,"creation_date":1632746510,"answer_id":69346818,"question_id":69346446,"body_markdown":"Docker does know anything about your needed dependencies.\r\nYou will need to move all your classes/3rd party jars into a common folder to mimic how you are doing it locally.\r\n\r\n    FROM openjdk:11\r\n    \r\n    # Set up the Environment Variable for Application\r\n    ENV APP_HOME=/app\r\n    \r\n    # Create the directories for Application\r\n    RUN mkdir -p ${APP_HOME}\r\n    \r\n    # Setting up the Work directory\r\n    WORKDIR ${APP_HOME}\r\n    \r\n    # Exposing the Application Port\r\n    EXPOSE 8080\r\n    \r\n    # COPY dependencies\r\n    COPY /send-email-api/target/your-mysql-jars ${APP_HOME}\r\n    \r\n    # Copying the artifact from host machine to containers\r\n    COPY /send-email-api/target/*classes ${APP_HOME}\r\n\r\n    \r\n    ENTRYPOINT java -cp mysql-connector-java-8.0.26.jar test.java\r\n\r\nor\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;mysql-connector-java-8.0.26.jar&quot;,&quot;test.java&quot;]\r\n\r\n\r\n    \r\n\r\n","title":"Dockerfile ENTRYPOINT for java -cp argument","body":"<p>Docker does know anything about your needed dependencies.\nYou will need to move all your classes/3rd party jars into a common folder to mimic how you are doing it locally.</p>\n<pre><code>FROM openjdk:11\n\n# Set up the Environment Variable for Application\nENV APP_HOME=/app\n\n# Create the directories for Application\nRUN mkdir -p ${APP_HOME}\n\n# Setting up the Work directory\nWORKDIR ${APP_HOME}\n\n# Exposing the Application Port\nEXPOSE 8080\n\n# COPY dependencies\nCOPY /send-email-api/target/your-mysql-jars ${APP_HOME}\n\n# Copying the artifact from host machine to containers\nCOPY /send-email-api/target/*classes ${APP_HOME}\n\n\nENTRYPOINT java -cp mysql-connector-java-8.0.26.jar test.java\n</code></pre>\n<p>or</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;mysql-connector-java-8.0.26.jar&quot;,&quot;test.java&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632807051,"creation_date":1632807051,"answer_id":69356255,"question_id":69346446,"body_markdown":"You forgot to compile.\r\n\r\n    java test.java\r\n\r\nwill always fail, regardless whether you use a container or not. Compile it using\r\n\r\n    javac test.java\r\n\r\nthen you will see some test.class file (which somehow violates Java naming conventions but so what). Finally run this using\r\n\r\n    java test\r\n\r\n(you omit the .class and Java will find it using the classpath)","title":"Dockerfile ENTRYPOINT for java -cp argument","body":"<p>You forgot to compile.</p>\n<pre><code>java test.java\n</code></pre>\n<p>will always fail, regardless whether you use a container or not. Compile it using</p>\n<pre><code>javac test.java\n</code></pre>\n<p>then you will see some test.class file (which somehow violates Java naming conventions but so what). Finally run this using</p>\n<pre><code>java test\n</code></pre>\n<p>(you omit the .class and Java will find it using the classpath)</p>\n"}],"owner":{"account_id":5604426,"reputation":19,"user_id":4439546,"display_name":"s21s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69346818,"answer_count":3,"score":0,"last_activity_date":1632807051,"creation_date":1632744992,"question_id":69346446,"body_markdown":"I&#39;m attempting to create a docker file for running a program that takes the mysqlconnector jar when I run it on gitbash: \r\n\r\n```java -cp mysql-connector-java-8.0.26.jar test.java```\r\n\r\nHow do I translate this to the Dockerfile? I have attempted setting the ENTRYPOINT as the string above but get an error saying \r\n\r\n``` Could Not Find or Load Main Class Error test.java```\r\n","title":"Dockerfile ENTRYPOINT for java -cp argument","body":"<p>I'm attempting to create a docker file for running a program that takes the mysqlconnector jar when I run it on gitbash:</p>\n<p><code>java -cp mysql-connector-java-8.0.26.jar test.java</code></p>\n<p>How do I translate this to the Dockerfile? I have attempted setting the ENTRYPOINT as the string above but get an error saying</p>\n<p><code> Could Not Find or Load Main Class Error test.java</code></p>\n"},{"tags":["java","android","kotlin","android-settings"],"comments":[{"owner":{"account_id":19912146,"reputation":460,"user_id":14589948,"display_name":"MoonLight"},"score":1,"creation_date":1632731749,"post_id":69340383,"comment_id":122562631,"body_markdown":"https://stackoverflow.com/questions/32266425/android-6-0-permission-denial-requires-permission-android-permission-write-sett/35285034#35285034 \n\nThis might answer your question","body":"<a href=\"https://stackoverflow.com/questions/32266425/android-6-0-permission-denial-requires-permission-android-permission-write-sett/35285034#35285034\" title=\"android 6 0 permission denial requires permission android permission write sett\">stackoverflow.com/questions/32266425/&hellip;</a>   This might answer your question"},{"owner":{"account_id":2179740,"reputation":2357,"user_id":3817790,"display_name":"Naseef Chowdhury"},"score":0,"creation_date":1632754990,"post_id":69340383,"comment_id":122572473,"body_markdown":"@MoonLight not actually. I am not quite sure if the properties are right.","body":"@MoonLight not actually. I am not quite sure if the properties are right."}],"answers":[{"tags":[],"owner":{"account_id":2179740,"reputation":2357,"user_id":3817790,"display_name":"Naseef Chowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632806753,"creation_date":1632806753,"answer_id":69356217,"question_id":69340383,"body_markdown":"Fixed. Had to use the System Settings prefix to solve the issue. Added prefix &quot;settings://system/&quot; before the settings key. Now the keys become as following - \r\n\r\n    &quot;settings://system/android.settings.CAMERA_COVER_STATUS&quot;\r\n    \r\n    &quot;settings://system/android.settings.MIC_SWITCH_STATUS&quot;\r\n\r\nAlso tested the values using the following code - \r\n\r\n    cameraStatus = Settings.System.getInt(this.getContentResolver(),&quot;android.settings.CAMERA_COVER_STATUS&quot;,1);\r\n    micStatus =Settings.System.getInt(this.getContentResolver(),&quot;android.settings.MIC_SWITCH_STATUS&quot;, 1);\r\nThey seems to be working fine.\r\n\r\nNote: Added the answer myself so that if anyone faces similar issue, it might help.","title":"IllegalArgument Exception while writing value on settings","body":"<p>Fixed. Had to use the System Settings prefix to solve the issue. Added prefix &quot;settings://system/&quot; before the settings key. Now the keys become as following -</p>\n<pre><code>&quot;settings://system/android.settings.CAMERA_COVER_STATUS&quot;\n\n&quot;settings://system/android.settings.MIC_SWITCH_STATUS&quot;\n</code></pre>\n<p>Also tested the values using the following code -</p>\n<pre><code>cameraStatus = Settings.System.getInt(this.getContentResolver(),&quot;android.settings.CAMERA_COVER_STATUS&quot;,1);\nmicStatus =Settings.System.getInt(this.getContentResolver(),&quot;android.settings.MIC_SWITCH_STATUS&quot;, 1);\n</code></pre>\n<p>They seems to be working fine.</p>\n<p>Note: Added the answer myself so that if anyone faces similar issue, it might help.</p>\n"}],"owner":{"account_id":2179740,"reputation":2357,"user_id":3817790,"display_name":"Naseef Chowdhury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69356217,"answer_count":1,"score":0,"last_activity_date":1632806786,"creation_date":1632707823,"question_id":69340383,"body_markdown":"I am trying to write values using *putInt*. The settings I am trying to write into are  - \r\n\r\n    &quot;android.settings.CAMERA_COVER_STATUS&quot;\r\n    \r\n    &quot;android.settings.MIC_SWITCH_STATUS&quot;\r\n\r\nI am not sure if the above-mentioned settings are proper or not. But when I try to write values on them I get the following errors - \r\n\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:165)\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.content.ContentProviderProxy.call(ContentProviderNative.java:651)\r\n    2021-09-25 22:48:04.371 INFO     logcat: LYNC PAL(6468): findClass java/net/Inet6Address loader 0x23c6\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.provider.Settings$NameValueCache.putStringForUser(Settings.java:1851)\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.provider.Settings$System.putStringForUser(Settings.java:2275)\r\n    2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): \tat android.provider.Settings$System.putIntForUser(Settings.java:2380)\r\n    2021-09-25 22:48:04.372 INFO     logcat: LYNC PAL(6468): findClass java/net/Inet4Address loader 0x23c6\r\n    2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223): \tat android.provider.Settings$System.putInt(Settings.java:2374)\r\n    2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223): \tat \r\n    2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n    2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n    2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223): \tat java.lang.Thread.run(Thread.java:764)\r\n\r\nAny kind of suggestion and help will greatly appreciated.","title":"IllegalArgument Exception while writing value on settings","body":"<p>I am trying to write values using <em>putInt</em>. The settings I am trying to write into are  -</p>\n<pre><code>&quot;android.settings.CAMERA_COVER_STATUS&quot;\n\n&quot;android.settings.MIC_SWITCH_STATUS&quot;\n</code></pre>\n<p>I am not sure if the above-mentioned settings are proper or not. But when I try to write values on them I get the following errors -</p>\n<pre><code>2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223): java.lang.IllegalArgumentException: You cannot keep your settings in the secure settings.\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:165)\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.content.ContentProviderProxy.call(ContentProviderNative.java:651)\n2021-09-25 22:48:04.371 INFO     logcat: LYNC PAL(6468): findClass java/net/Inet6Address loader 0x23c6\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.provider.Settings$NameValueCache.putStringForUser(Settings.java:1851)\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.provider.Settings$System.putStringForUser(Settings.java:2275)\n2021-09-25 22:48:04.371 WARNING  logcat: System.err(4223):  at android.provider.Settings$System.putIntForUser(Settings.java:2380)\n2021-09-25 22:48:04.372 INFO     logcat: LYNC PAL(6468): findClass java/net/Inet4Address loader 0x23c6\n2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223):  at android.provider.Settings$System.putInt(Settings.java:2374)\n2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223):  at \n2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n2021-09-25 22:48:04.372 WARNING  logcat: System.err(4223):  at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n<p>Any kind of suggestion and help will greatly appreciated.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":0,"creation_date":1527184379,"post_id":50501366,"comment_id":88043246,"body_markdown":"Collect with `partitioningBy()`.","body":"Collect with <code>partitioningBy()</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1527184456,"post_id":50501366,"comment_id":88043276,"body_markdown":"@BrianGoetz well, yes, thats what [my answer](https://stackoverflow.com/a/50502633/2711488) already suggests ;-)","body":"@BrianGoetz well, yes, thats what <a href=\"https://stackoverflow.com/a/50502633/2711488\">my answer</a> already suggests ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1527171048,"creation_date":1527140729,"answer_id":50501819,"question_id":50501366,"body_markdown":"If you want to integrate it with Stream API, there&#39;s not much you can do other than introducing the logging manually. The safest way would be to introduce the logging in the `filter()` method itself:\r\n\r\n    List&lt;Person&gt; filtered = persons.stream()\r\n          .filter(p -&gt; {\r\n              if (!&quot;John&quot;.equals(p.getName())) {\r\n                  return true;\r\n              } else {\r\n                  System.out.println(p.getName());\r\n                  return false;\r\n              }})\r\n          .collect(Collectors.toList());\r\n\r\nKeep in mind that introduction of side-effects to Stream API is shady and you need to be aware of what you&#39;re doing.\r\n\r\n\r\n----------\r\nYou could also construct a generic wrapper solution:\r\n\r\n    private static &lt;T&gt; Predicate&lt;T&gt; andLogFilteredOutValues(Predicate&lt;T&gt; predicate) {\r\n        return value -&gt; {\r\n            if (predicate.test(value)) {\r\n                return true;\r\n            } else {\r\n                System.out.println(value);\r\n                return false;\r\n            }\r\n        };\r\n    }\r\n\r\nand then simply:\r\n\r\n    List&lt;Person&gt; persons = Arrays.asList(new Person(&quot;John&quot;), new Person(&quot;Paul&quot;));\r\n\r\n    List&lt;Person&gt; filtered = persons.stream()\r\n      .filter(andLogFilteredOutValues(p -&gt; !&quot;John&quot;.equals(p.getName())))\r\n      .collect(Collectors.toList());\r\n\r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n...or even make the action customizable:\r\n\r\n    private static &lt;T&gt; Predicate&lt;T&gt; andLogFilteredOutValues(Predicate&lt;T&gt; predicate, Consumer&lt;T&gt; action) {\r\n        Objects.requireNonNull(predicate);\r\n        Objects.requireNonNull(action);\r\n        \r\n        return value -&gt; {\r\n            if (predicate.test(value)) {\r\n                return true;\r\n            } else {\r\n                action.accept(value);\r\n                return false;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nthen:\r\n\r\n    List&lt;Person&gt; filtered = persons.stream()\r\n      .filter(andLogFilteredOutValues(p -&gt; !&quot;John&quot;.equals(p.getName()), System.out::println))\r\n      .collect(Collectors.toList());\r\n\r\n","title":"How to log filtered values in Java Streams","body":"<p>If you want to integrate it with Stream API, there's not much you can do other than introducing the logging manually. The safest way would be to introduce the logging in the <code>filter()</code> method itself:</p>\n\n<pre><code>List&lt;Person&gt; filtered = persons.stream()\n      .filter(p -&gt; {\n          if (!\"John\".equals(p.getName())) {\n              return true;\n          } else {\n              System.out.println(p.getName());\n              return false;\n          }})\n      .collect(Collectors.toList());\n</code></pre>\n\n<p>Keep in mind that introduction of side-effects to Stream API is shady and you need to be aware of what you're doing.</p>\n\n<hr>\n\n<p>You could also construct a generic wrapper solution:</p>\n\n<pre><code>private static &lt;T&gt; Predicate&lt;T&gt; andLogFilteredOutValues(Predicate&lt;T&gt; predicate) {\n    return value -&gt; {\n        if (predicate.test(value)) {\n            return true;\n        } else {\n            System.out.println(value);\n            return false;\n        }\n    };\n}\n</code></pre>\n\n<p>and then simply:</p>\n\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person(\"John\"), new Person(\"Paul\"));\n\nList&lt;Person&gt; filtered = persons.stream()\n  .filter(andLogFilteredOutValues(p -&gt; !\"John\".equals(p.getName())))\n  .collect(Collectors.toList());\n</code></pre>\n\n<hr>\n\n<p>...or even make the action customizable:</p>\n\n<pre><code>private static &lt;T&gt; Predicate&lt;T&gt; andLogFilteredOutValues(Predicate&lt;T&gt; predicate, Consumer&lt;T&gt; action) {\n    Objects.requireNonNull(predicate);\n    Objects.requireNonNull(action);\n\n    return value -&gt; {\n        if (predicate.test(value)) {\n            return true;\n        } else {\n            action.accept(value);\n            return false;\n        }\n    };\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>List&lt;Person&gt; filtered = persons.stream()\n  .filter(andLogFilteredOutValues(p -&gt; !\"John\".equals(p.getName()), System.out::println))\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1527140737,"creation_date":1527140737,"answer_id":50501821,"question_id":50501366,"body_markdown":"As there&#39;s no way to run terminal actions on elements matching opposite filters on the same stream, the best option may be just to use a condition in a `peek`&#39;s consumer.\r\n\r\nThat avoids traversing the stream/collection twice.\r\n\r\n\tList&lt;Person&gt; persons = Arrays.asList(new Person(&quot;John&quot;), new Person(&quot;Paul&quot;));\r\n\r\n    //A consumer that only logs &quot;John&quot; persons\r\n\tConsumer&lt;Person&gt; logger = p -&gt; {\r\n\t\tif (&quot;John&quot;.equals(p.getName())) //condition in consumer\r\n\t\t\tSystem.out.println(&quot;&gt; &quot; + p.getName());\r\n\t};\r\n\r\nThen we can pass that consumer to `peek`, only filtering for the ultimate action after that:\r\n\r\n\tList&lt;Person&gt; nonJohns = persons.stream()\r\n            \t\t  .peek(logger)\r\n            \t\t  .filter(p -&gt; !&quot;John&quot;.equals(p.getName()))\r\n            \t\t  .collect(Collectors.toList());","title":"How to log filtered values in Java Streams","body":"<p>As there's no way to run terminal actions on elements matching opposite filters on the same stream, the best option may be just to use a condition in a <code>peek</code>'s consumer.</p>\n\n<p>That avoids traversing the stream/collection twice.</p>\n\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person(\"John\"), new Person(\"Paul\"));\n\n//A consumer that only logs \"John\" persons\nConsumer&lt;Person&gt; logger = p -&gt; {\n    if (\"John\".equals(p.getName())) //condition in consumer\n        System.out.println(\"&gt; \" + p.getName());\n};\n</code></pre>\n\n<p>Then we can pass that consumer to <code>peek</code>, only filtering for the ultimate action after that:</p>\n\n<pre><code>List&lt;Person&gt; nonJohns = persons.stream()\n                  .peek(logger)\n                  .filter(p -&gt; !\"John\".equals(p.getName()))\n                  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1527144169,"creation_date":1527144169,"answer_id":50502633,"question_id":50501366,"body_markdown":"You could use\r\n\r\n    Map&lt;Boolean,List&lt;Person&gt;&gt; map = persons.stream()\r\n        .collect(Collectors.partitioningBy(p -&gt; &quot;John&quot;.equals(p.getName())));\r\n    System.out.println(&quot;filtered: &quot; + map.get(true));\r\n    List&lt;Person&gt; result = map.get(false);\r\nor, if you prefer a single-statement form:\r\n\r\n    List&lt;Person&gt; result = persons.stream()\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.partitioningBy(p -&gt; &quot;John&quot;.equals(p.getName())),\r\n            map -&gt; {\r\n                System.out.println(&quot;filtered: &quot; + map.get(true));\r\n                return map.get(false);\r\n            }));\r\n","title":"How to log filtered values in Java Streams","body":"<p>You could use</p>\n\n<pre><code>Map&lt;Boolean,List&lt;Person&gt;&gt; map = persons.stream()\n    .collect(Collectors.partitioningBy(p -&gt; \"John\".equals(p.getName())));\nSystem.out.println(\"filtered: \" + map.get(true));\nList&lt;Person&gt; result = map.get(false);\n</code></pre>\n\n<p>or, if you prefer a single-statement form:</p>\n\n<pre><code>List&lt;Person&gt; result = persons.stream()\n    .collect(Collectors.collectingAndThen(\n        Collectors.partitioningBy(p -&gt; \"John\".equals(p.getName())),\n        map -&gt; {\n            System.out.println(\"filtered: \" + map.get(true));\n            return map.get(false);\n        }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470339,"reputation":606,"user_id":877487,"display_name":"davesbrain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632806230,"creation_date":1632806230,"answer_id":69356161,"question_id":50501366,"body_markdown":"One thing I like to do is use a private method to do the logging and to supply the predicate.\r\n\r\n    var johns = persons.stream()\r\n        .filter(Objects::nonNull)\r\n        .filter(this::validNameFilter)\r\n        .collect(Collectors.toList());\r\n    \r\n    private boolean validNameFilter(@NonNull Person person) {\r\n        if (&quot;john&quot;.equalsIgnoreCase(person.getName())) {\r\n            return true;\r\n        }\r\n        log.warning(&quot;Non compliant name found {}&quot;, person.getName());\r\n        return false;\r\n    }","title":"How to log filtered values in Java Streams","body":"<p>One thing I like to do is use a private method to do the logging and to supply the predicate.</p>\n<pre><code>var johns = persons.stream()\n    .filter(Objects::nonNull)\n    .filter(this::validNameFilter)\n    .collect(Collectors.toList());\n\nprivate boolean validNameFilter(@NonNull Person person) {\n    if (&quot;john&quot;.equalsIgnoreCase(person.getName())) {\n        return true;\n    }\n    log.warning(&quot;Non compliant name found {}&quot;, person.getName());\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18902,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":50501819,"answer_count":4,"score":29,"last_activity_date":1632806230,"creation_date":1527138348,"question_id":50501366,"body_markdown":"I have a requirement to `log/sysout` the filtered values in Java Streams. I am able to `log/sysout` the non-filtered value using `peek()` method. \r\nHowever, can someone please let me know how to log filtered values?\r\n\r\nFor example, let&#39;s say I have a list of `Person` objects like this:\r\n\r\n    List&lt;Person&gt; persons = Arrays.asList(new Person(&quot;John&quot;), new Person(&quot;Paul&quot;));\r\n\r\nI want to filter out those persons who are not &quot;John&quot; as follows:\r\n\r\n    persons.stream().filter(p -&gt; !&quot;John&quot;.equals(p.getName())).collect(Collectors.toList());\r\n\r\nHowever, I have to log the details of that &quot;John&quot; person which is filtered. Can someone please help me achieve this?","title":"How to log filtered values in Java Streams","body":"<p>I have a requirement to <code>log/sysout</code> the filtered values in Java Streams. I am able to <code>log/sysout</code> the non-filtered value using <code>peek()</code> method. \nHowever, can someone please let me know how to log filtered values?</p>\n\n<p>For example, let's say I have a list of <code>Person</code> objects like this:</p>\n\n<pre><code>List&lt;Person&gt; persons = Arrays.asList(new Person(\"John\"), new Person(\"Paul\"));\n</code></pre>\n\n<p>I want to filter out those persons who are not \"John\" as follows:</p>\n\n<pre><code>persons.stream().filter(p -&gt; !\"John\".equals(p.getName())).collect(Collectors.toList());\n</code></pre>\n\n<p>However, I have to log the details of that \"John\" person which is filtered. Can someone please help me achieve this?</p>\n"},{"tags":["java","arrays","algorithm","data-structures","stack"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1632771924,"post_id":69351901,"comment_id":122578837,"body_markdown":"When you say next greater element, it should be there on the right side of the element or it could be anywhere?","body":"When you say next greater element, it should be there on the right side of the element or it could be anywhere?"},{"owner":{"account_id":20164858,"reputation":604,"user_id":14789065,"display_name":"wLui155"},"score":1,"creation_date":1632773161,"post_id":69351901,"comment_id":122579320,"body_markdown":"Based on the example it looks like it should be on the right. If we ignore the zeroes in the original, we have `[6, 1, 5, 3, 8, 6, 4] -&gt; [8, 3, 6, 4, 8, 6, 4]`.  For the `4` at index `6`, `5 &gt; 4` but it seems that because the `5` was to the left of index `6`, it was ignored.","body":"Based on the example it looks like it should be on the right. If we ignore the zeroes in the original, we have <code>[6, 1, 5, 3, 8, 6, 4] -&gt; [8, 3, 6, 4, 8, 6, 4]</code>.  For the <code>4</code> at index <code>6</code>, <code>5 &gt; 4</code> but it seems that because the <code>5</code> was to the left of index <code>6</code>, it was ignored."},{"owner":{"account_id":20164858,"reputation":604,"user_id":14789065,"display_name":"wLui155"},"score":0,"creation_date":1632773424,"post_id":69351901,"comment_id":122579406,"body_markdown":"It&#39;s definitely possible to solve this in O(N * log(N)) time by building a balanced BST as we traverse from right to left, but my intuition tells me that using a monodeque to further reduce the runtime might be possible... however when drawing out the process, even with two deques I end up having to make O(N) inserts/removals in the worst case.","body":"It&#39;s definitely possible to solve this in O(N * log(N)) time by building a balanced BST as we traverse from right to left, but my intuition tells me that using a monodeque to further reduce the runtime might be possible... however when drawing out the process, even with two deques I end up having to make O(N) inserts/removals in the worst case."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1632779832,"post_id":69351901,"comment_id":122581198,"body_markdown":"If the next greater has to be picked up from the right, you can use merge function of merge sort to accomplish this. This question is similar to count inversions, except for the fact that there we go for counts.","body":"If the next greater has to be picked up from the right, you can use merge function of merge sort to accomplish this. This question is similar to count inversions, except for the fact that there we go for counts."},{"owner":{"account_id":22873989,"reputation":1,"user_id":17016603,"display_name":"Rag"},"score":0,"creation_date":1632821893,"post_id":69351901,"comment_id":122590857,"body_markdown":"@nice_dev and wLui155 yes next greater element on the right side","body":"@nice_dev and wLui155 yes next greater element on the right side"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632774837,"creation_date":1632774255,"answer_id":69352843,"question_id":69351901,"body_markdown":"First shoveling the zeroes to the right would be one optimisation.\r\n\r\nPossibly replacing with next closest greater element I have interpreted as next following element (as you seemed to do, as otherwise the last 4 might have become the overwritten 5).\r\n\r\n    static int[] f(int[] values) {\r\n        // In-situ (in-place) algorithm.\r\n\r\n        int n = 0; // The count of non-zero values.\r\n        for (int i = 0; i &lt; values.length; ++i) {\r\n            if (values[i] != 0) {\r\n                values[n] = values[i];\r\n                ++n;\r\n            }\r\n        }\r\n        // Zero the rest:\r\n        // (With a second array the remaining values from n upwards would\r\n        // already be zero.)\r\n        for (int i = n; i &lt; values.length; ++i) {\r\n            values[i] = 0;\r\n        }\r\n\r\n        // {6, 1, 5, 0, 0, 3, 8, 6, 4} -&gt; {6, 1, 5, 3, 8, 6, 4, [n] 0, 0}\r\n        // (First optimisation.) Now we only need to deal with n non-zero values.\r\n\r\n        // Search the next (A) closest greatest (B) number, when found substitute.\r\n        // Unoptimized:\r\n        for (int i = 0; i &lt; n; ++i) {\r\n            int ithValue = values[i];\r\n            boolean hasClosest = false;\r\n            int closest = Integer.MAX_VALUE;\r\n            for (int j = i + 1; j &lt; n; ++j) {\r\n                int jthValue = values[j];\r\n                if (jthValue &gt; ithValue &amp;&amp; (!hasClosest || jthValue &lt; closest)) {\r\n                    closest = jthValue;\r\n                    hasClosest = true;\r\n                    values[i] = jthValue;\r\n                }\r\n            }\r\n        }\r\n        // {8, 3, 6, 4, 8, 6, 4, 0, 0}\r\n        return values;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = {6, 1, 5, 0, 0, 3, 8, 6, 4};\r\n        System.out.println(Arrays.toString(f(input)));\r\n    }\r\n\r\nThe last piece is not well optimized.\r\n\r\nAn other interpretation of &quot;closest greatest:&quot;\r\n\r\n        int[] sorted = Arrays.copyOf(values, n);\r\n        Arrays.sort(sorted);\r\n        for (int i = 0; i &lt; n; ++i) {\r\n            int j = Arrays.binarySearch(sorted, values[i] + 1);\r\n            if (j &lt; 0) { // Not found 1 greater.\r\n                j = ~j; // Even greater.\r\n            }\r\n            if (j &lt; n) {\r\n                values[i] = sorted[j];\r\n            }\r\n        }\r\n        // {8, 3, 6, 4, 8, 8, 5, 0, 0}\r\n\r\nSorting cost O(N log N), as does the loop O(N) times binary search O(log N).\r\nSo it is faster, costing memory. But that is comparible with you stack usage.\r\n\r\nBy the way, a cleaned up version of your code could have been put on [CodeReview][1].\r\n\r\n\r\n  [1]: https://codereview.stackexchange.com/","title":"Move all zeroes in a given array to the end and replace each non-zero element with the closest greater value, if any","body":"<p>First shoveling the zeroes to the right would be one optimisation.</p>\n<p>Possibly replacing with next closest greater element I have interpreted as next following element (as you seemed to do, as otherwise the last 4 might have become the overwritten 5).</p>\n<pre><code>static int[] f(int[] values) {\n    // In-situ (in-place) algorithm.\n\n    int n = 0; // The count of non-zero values.\n    for (int i = 0; i &lt; values.length; ++i) {\n        if (values[i] != 0) {\n            values[n] = values[i];\n            ++n;\n        }\n    }\n    // Zero the rest:\n    // (With a second array the remaining values from n upwards would\n    // already be zero.)\n    for (int i = n; i &lt; values.length; ++i) {\n        values[i] = 0;\n    }\n\n    // {6, 1, 5, 0, 0, 3, 8, 6, 4} -&gt; {6, 1, 5, 3, 8, 6, 4, [n] 0, 0}\n    // (First optimisation.) Now we only need to deal with n non-zero values.\n\n    // Search the next (A) closest greatest (B) number, when found substitute.\n    // Unoptimized:\n    for (int i = 0; i &lt; n; ++i) {\n        int ithValue = values[i];\n        boolean hasClosest = false;\n        int closest = Integer.MAX_VALUE;\n        for (int j = i + 1; j &lt; n; ++j) {\n            int jthValue = values[j];\n            if (jthValue &gt; ithValue &amp;&amp; (!hasClosest || jthValue &lt; closest)) {\n                closest = jthValue;\n                hasClosest = true;\n                values[i] = jthValue;\n            }\n        }\n    }\n    // {8, 3, 6, 4, 8, 6, 4, 0, 0}\n    return values;\n}\n\npublic static void main(String[] args) {\n    int[] input = {6, 1, 5, 0, 0, 3, 8, 6, 4};\n    System.out.println(Arrays.toString(f(input)));\n}\n</code></pre>\n<p>The last piece is not well optimized.</p>\n<p>An other interpretation of &quot;closest greatest:&quot;</p>\n<pre><code>    int[] sorted = Arrays.copyOf(values, n);\n    Arrays.sort(sorted);\n    for (int i = 0; i &lt; n; ++i) {\n        int j = Arrays.binarySearch(sorted, values[i] + 1);\n        if (j &lt; 0) { // Not found 1 greater.\n            j = ~j; // Even greater.\n        }\n        if (j &lt; n) {\n            values[i] = sorted[j];\n        }\n    }\n    // {8, 3, 6, 4, 8, 8, 5, 0, 0}\n</code></pre>\n<p>Sorting cost O(N log N), as does the loop O(N) times binary search O(log N).\nSo it is faster, costing memory. But that is comparible with you stack usage.</p>\n<p>By the way, a cleaned up version of your code could have been put on <a href=\"https://codereview.stackexchange.com/\">CodeReview</a>.</p>\n"}],"owner":{"account_id":22873989,"reputation":1,"user_id":17016603,"display_name":"Rag"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632806102,"creation_date":1632768777,"question_id":69351901,"body_markdown":"Looking for the optimised solution for the below problem.\r\n\r\nGiven an unsorted array, we are required to move all zeroes to the end of the array and at same time find the next closest greater number of each element(non-zero) and return the same element incase if there is no next greater element for an element in the array .\r\n\r\n&gt; Input={6,1,5,0,0,3,8,6,4}  \r\n  Output ={8,3,6,4,8,6,4,0,0}\r\n\r\n \r\n\r\nI tried the below :\r\n```\r\npublic class next_closest_element {\r\n\r\n  public static void main(String[] arg) {\r\n    int[] input = {6, 1, 5, 0, 0, 3, 8, 6, 4};\r\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n    int k = 0;\r\n    int count = 0;\r\n    int last_index_value =input.length-1;\r\n\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n      if (input[i] != 0) {\r\n\r\n        int j = i + 1;\r\n        boolean flag = false;\r\n        while (j &lt; input.length &amp;&amp; input[i] != 0) {\r\n\r\n          if (input[j] &gt; input[i]) {\r\n            if (stack.empty() || !flag) {\r\n              stack.push(input[j]);\r\n              flag = true;\r\n              j++;\r\n            } else if (stack.peek() &gt; input[j]) {\r\n              stack.pop();\r\n              stack.push(input[j]);\r\n              flag = true;\r\n              j++;\r\n            } else {\r\n              j++;\r\n            }\r\n          } else {\r\n            j++;\r\n          }\r\n        }\r\n        if (flag) {\r\n          input[k] = stack.peek();\r\n          k++;\r\n        }\r\n        else {\r\n          input[k]=input[i];\r\n          k++;\r\n        }\r\n\r\n      }\r\n      else{\r\n        count +=1;\r\n      }\r\n    }\r\n\r\n    while(count&gt;0){\r\n      input[last_index_value]=0;\r\n      last_index_value--;\r\n      count--;\r\n    }\r\n    for (int s :\r\n      input) {\r\n      System.out.println(s);\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n","title":"Move all zeroes in a given array to the end and replace each non-zero element with the closest greater value, if any","body":"<p>Looking for the optimised solution for the below problem.</p>\n<p>Given an unsorted array, we are required to move all zeroes to the end of the array and at same time find the next closest greater number of each element(non-zero) and return the same element incase if there is no next greater element for an element in the array .</p>\n<blockquote>\n<p>Input={6,1,5,0,0,3,8,6,4}<br />\nOutput ={8,3,6,4,8,6,4,0,0}</p>\n</blockquote>\n<p>I tried the below :</p>\n<pre><code>public class next_closest_element {\n\n  public static void main(String[] arg) {\n    int[] input = {6, 1, 5, 0, 0, 3, 8, 6, 4};\n    Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n    int k = 0;\n    int count = 0;\n    int last_index_value =input.length-1;\n\n    for (int i = 0; i &lt; input.length; i++) {\n      if (input[i] != 0) {\n\n        int j = i + 1;\n        boolean flag = false;\n        while (j &lt; input.length &amp;&amp; input[i] != 0) {\n\n          if (input[j] &gt; input[i]) {\n            if (stack.empty() || !flag) {\n              stack.push(input[j]);\n              flag = true;\n              j++;\n            } else if (stack.peek() &gt; input[j]) {\n              stack.pop();\n              stack.push(input[j]);\n              flag = true;\n              j++;\n            } else {\n              j++;\n            }\n          } else {\n            j++;\n          }\n        }\n        if (flag) {\n          input[k] = stack.peek();\n          k++;\n        }\n        else {\n          input[k]=input[i];\n          k++;\n        }\n\n      }\n      else{\n        count +=1;\n      }\n    }\n\n    while(count&gt;0){\n      input[last_index_value]=0;\n      last_index_value--;\n      count--;\n    }\n    for (int s :\n      input) {\n      System.out.println(s);\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","animation","android-recyclerview","android-progressbar"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":1,"creation_date":1632727486,"post_id":68868778,"comment_id":122560963,"body_markdown":"Ok, it&#39;s clear what you want to do, you want to tie a view&#39;s property (in this case a ProgressBar.progress) to a property that changes over time, based on the position of said view in the screen in relation to the edges (top and bottom). Now, your next step is to tell us what you&#39;ve tried and what happened (what didn&#39;t work, since if it would have worked, you wouldn&#39;t be asking a question here). You say &quot;I have tried this and other samples too&quot; but we don&#39;t know what other samples you&#39;ve tried, or *what problems you have*.","body":"Ok, it&#39;s clear what you want to do, you want to tie a view&#39;s property (in this case a ProgressBar.progress) to a property that changes over time, based on the position of said view in the screen in relation to the edges (top and bottom). Now, your next step is to tell us what you&#39;ve tried and what happened (what didn&#39;t work, since if it would have worked, you wouldn&#39;t be asking a question here). You say &quot;I have tried this and other samples too&quot; but we don&#39;t know what other samples you&#39;ve tried, or <i>what problems you have</i>."},{"owner":{"account_id":14159345,"reputation":452,"user_id":10229072,"display_name":"Ifan 767"},"score":0,"creation_date":1632806080,"post_id":68868778,"comment_id":122585365,"body_markdown":"@MartinMarconcini I have updated the question. please check it.","body":"@MartinMarconcini I have updated the question. please check it."}],"owner":{"account_id":14159345,"reputation":452,"user_id":10229072,"display_name":"Ifan 767"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632806045,"creation_date":1629500107,"question_id":68868778,"body_markdown":"I Have a horizontal progress bar in a nested recyclerView. The situation is I want to start the animation of the determinant progress bar when it&#39;s 5 dp above the bottom and complete its progress when it reaches the middle of the screen. Just imagine you have a while scrolling the recyclerView. As soon as it appears from the bottom while scrolling the recyclerVeiw it starts increasing its progress and complete its progress when it reaches to the middle of the screen. I am attaching a demo Video of the circular Progressbar how it should be done. Any suggestion will be appreciated.[Link of sample][1] \r\n\r\n&gt; **I have tried this and some other samples too**\r\n\r\n        int[] location = new int[2];\r\n        holder.progressbar_text.getLocationOnScreen(location);\r\n        int menuViewX = location[0];\r\n        int menuViewY = location[1];\r\n\r\n&gt; I have tried to calculate the progress bar location. As you can see I am getting the location of the progressbar vertically which is menuViewY. Here are the solutions that I have tried [link1][2]. [link2][3] \r\n&gt; In the above two questions I have tried all the suggested solutions.\r\n\r\n        Log.i(&quot;bound&quot;, &quot;Absolute Position&quot; + menuViewY);\r\n\r\n       // Progresbar animations\r\n       holder.progressbar_text.enableAnimation();\r\n       holder.progressbar_text.setScrollBarFadeDuration(9000);\r\n       holder.progressbar_text.setAnimationSpeedScale(5);\r\n       holder.progressbar_text.setProgress(40);\r\n       holder.progressbar_text.setSecondaryProgress(70);\r\n\r\n\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1mPoL4NatS0mHEcObjZmiCYCANiXGvBIA/view?usp=drivesdk\r\n  [2]: https://stackoverflow.com/questions/43408352/android-get-view-location-on-screen\r\n  [3]: https://stackoverflow.com/questions/2224844/how-to-get-the-absolute-coordinates-of-a-view","title":"Animate ProgreessBar when it reaches to the specific point(from bottom and complete its progress before middle if screen) in RecyclerView scrolls","body":"<p>I Have a horizontal progress bar in a nested recyclerView. The situation is I want to start the animation of the determinant progress bar when it's 5 dp above the bottom and complete its progress when it reaches the middle of the screen. Just imagine you have a while scrolling the recyclerView. As soon as it appears from the bottom while scrolling the recyclerVeiw it starts increasing its progress and complete its progress when it reaches to the middle of the screen. I am attaching a demo Video of the circular Progressbar how it should be done. Any suggestion will be appreciated.<a href=\"https://drive.google.com/file/d/1mPoL4NatS0mHEcObjZmiCYCANiXGvBIA/view?usp=drivesdk\" rel=\"nofollow noreferrer\">Link of sample</a></p>\n<blockquote>\n<p><strong>I have tried this and some other samples too</strong></p>\n</blockquote>\n<pre><code>    int[] location = new int[2];\n    holder.progressbar_text.getLocationOnScreen(location);\n    int menuViewX = location[0];\n    int menuViewY = location[1];\n</code></pre>\n<blockquote>\n<p>I have tried to calculate the progress bar location. As you can see I am getting the location of the progressbar vertically which is menuViewY. Here are the solutions that I have tried <a href=\"https://stackoverflow.com/questions/43408352/android-get-view-location-on-screen\">link1</a>. <a href=\"https://stackoverflow.com/questions/2224844/how-to-get-the-absolute-coordinates-of-a-view\">link2</a>\nIn the above two questions I have tried all the suggested solutions.</p>\n</blockquote>\n<pre><code>    Log.i(&quot;bound&quot;, &quot;Absolute Position&quot; + menuViewY);\n\n   // Progresbar animations\n   holder.progressbar_text.enableAnimation();\n   holder.progressbar_text.setScrollBarFadeDuration(9000);\n   holder.progressbar_text.setAnimationSpeedScale(5);\n   holder.progressbar_text.setProgress(40);\n   holder.progressbar_text.setSecondaryProgress(70);\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":2,"creation_date":1556640258,"post_id":55924832,"comment_id":98503264,"body_markdown":"Is `cntDao` actually mocked in your tests? Give a [mcve].","body":"Is <code>cntDao</code> actually mocked in your tests? Give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":12139545,"reputation":931,"user_id":8863970,"accept_rate":64,"display_name":"Saffik"},"score":0,"creation_date":1556640595,"post_id":55924832,"comment_id":98503416,"body_markdown":"@jonrsharpe - Yes sorry I have updated question","body":"@jonrsharpe - Yes sorry I have updated question"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1556794108,"post_id":55924832,"comment_id":98553701,"body_markdown":"when using the `JUnitRuleMockery` you may better use the `@Mock` annotation instead of direct call to `context` for creating a mock. Of cause this implies tat the variable holding the mock is **not static**.","body":"when using the <code>JUnitRuleMockery</code> you may better use the <code>@Mock</code> annotation instead of direct call to <code>context</code> for creating a mock. Of cause this implies tat the variable holding the mock is <b>not static</b>."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556700321,"creation_date":1556657502,"answer_id":55928500,"question_id":55924832,"body_markdown":"You are mixing two mocking frameworks:\r\n\r\n - jMock - `JUnitRuleMockery`\r\n - Mockito - `verify` method\r\n\r\nClearly, they are not compatible with each other.\r\nYour verify call looks ok, I believe it will work as soon as it receives a mock created with Mockito (Use `Mockito.mock(CntDao.class)`)\r\n\r\nAs an alternative to `never` you can use `Mockito.verifyNoMoreInteractions` or `Mockito.verifyZeroInteractions`, but they are less specific.","title":"How to check that a method is not being called using JUnit Mockito Verify","body":"<p>You are mixing two mocking frameworks:</p>\n\n<ul>\n<li>jMock - <code>JUnitRuleMockery</code></li>\n<li>Mockito - <code>verify</code> method</li>\n</ul>\n\n<p>Clearly, they are not compatible with each other.\nYour verify call looks ok, I believe it will work as soon as it receives a mock created with Mockito (Use <code>Mockito.mock(CntDao.class)</code>)</p>\n\n<p>As an alternative to <code>never</code> you can use <code>Mockito.verifyNoMoreInteractions</code> or <code>Mockito.verifyZeroInteractions</code>, but they are less specific.</p>\n"},{"tags":[],"owner":{"account_id":17750659,"reputation":336,"user_id":12888853,"display_name":"kosmasd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632805621,"creation_date":1632805621,"answer_id":69356085,"question_id":55924832,"body_markdown":"In addition to the answer from @Lesiak, here is a reproducible example based on your code with both conditions tested and BDD implementation as well (commented out).\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass CountryProcessTest {\r\n\r\n    @Mock CountryDAO cntDao;\r\n\r\n    @Mock\r\n    Region region;\r\n\r\n    @Mock\r\n    City city;\r\n\r\n    @InjectMocks\r\n    CountryProcess countryProcess;\r\n\r\n\r\n    @Test\r\n    void processCountryLargeSize() {\r\n        // given\r\n        given(region.getRequiredLongValue()).willReturn(100L);\r\n\r\n        // when\r\n        countryProcess.processCountry(region, city);\r\n\r\n        // then\r\n        verifyNoInteractions(cntDao);\r\n        // then(cntDao).shouldHaveNoInteractions(); // BDD implementation\r\n    }\r\n\r\n    @Test\r\n    void processCountrySmallSize() {\r\n        // given\r\n        given(region.getRequiredLongValue()).willReturn(10L);\r\n\r\n        // when\r\n        countryProcess.processCountry(region, city);\r\n\r\n        // then\r\n        verify(cntDao).addCountryLandMark(city);\r\n        verifyNoMoreInteractions(cntDao);\r\n        // then(cntDao).should().addCountryLandMark(any()); // BDD implementation\r\n        // then(cntDao).shouldHaveNoMoreInteractions(); // BDD implementation\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe rest of the classes here are provided for reference.\r\n\r\n**Region**\r\n```\r\npublic class Region {\r\n\r\n    private int size;\r\n\r\n    public Long getRequiredLongValue() {\r\n\r\n        return Integer.toUnsignedLong(size);\r\n    }\r\n}\r\n```\r\n\r\n**AbstractCountryProcess**\r\n```\r\n\r\npublic abstract class AbstractCountryProcess {\r\n\r\n    CountryDAO cntDao;\r\n\r\n    protected abstract boolean processCountry(Region region, City city);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to check that a method is not being called using JUnit Mockito Verify","body":"<p>In addition to the answer from @Lesiak, here is a reproducible example based on your code with both conditions tested and BDD implementation as well (commented out).</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CountryProcessTest {\n\n    @Mock CountryDAO cntDao;\n\n    @Mock\n    Region region;\n\n    @Mock\n    City city;\n\n    @InjectMocks\n    CountryProcess countryProcess;\n\n\n    @Test\n    void processCountryLargeSize() {\n        // given\n        given(region.getRequiredLongValue()).willReturn(100L);\n\n        // when\n        countryProcess.processCountry(region, city);\n\n        // then\n        verifyNoInteractions(cntDao);\n        // then(cntDao).shouldHaveNoInteractions(); // BDD implementation\n    }\n\n    @Test\n    void processCountrySmallSize() {\n        // given\n        given(region.getRequiredLongValue()).willReturn(10L);\n\n        // when\n        countryProcess.processCountry(region, city);\n\n        // then\n        verify(cntDao).addCountryLandMark(city);\n        verifyNoMoreInteractions(cntDao);\n        // then(cntDao).should().addCountryLandMark(any()); // BDD implementation\n        // then(cntDao).shouldHaveNoMoreInteractions(); // BDD implementation\n\n\n    }\n}\n</code></pre>\n<p>The rest of the classes here are provided for reference.</p>\n<p><strong>Region</strong></p>\n<pre><code>public class Region {\n\n    private int size;\n\n    public Long getRequiredLongValue() {\n\n        return Integer.toUnsignedLong(size);\n    }\n}\n</code></pre>\n<p><strong>AbstractCountryProcess</strong></p>\n<pre><code>\npublic abstract class AbstractCountryProcess {\n\n    CountryDAO cntDao;\n\n    protected abstract boolean processCountry(Region region, City city);\n}\n</code></pre>\n"}],"owner":{"account_id":12139545,"reputation":931,"user_id":8863970,"accept_rate":64,"display_name":"Saffik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632805621,"creation_date":1556640159,"question_id":55924832,"body_markdown":"I have a class for which I am writing a JUnit test. I am trying to test if a particular method is never called.\r\n\r\n    public class CountryProcess extends AbstractCountryProcess {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(CountryProcessor.class);\r\n        private static final Long MAX_FILE = 20l;\r\n    \r\n        @Override\r\n        protected boolean processCountry(Region region, City city) {\r\n            Long maxFile = region.getRequiredLongValue(SIZE);\r\n    \r\n            if (maxFile &lt; MAX_FILE) {\r\n                cntDao.addCountryLandMark(city);\r\n            }\r\n            else {\r\n                log.warn(&quot;File size was big&quot;);\r\n            }\r\n    \r\n            return true;\r\n    }\r\n\r\nAnd the test class is:\r\n\r\n\r\n    public class CountryProcessTest {\r\n    \r\n        @Rule\r\n        public final JUnitRuleMockery context = new JUnitRuleMockery();\r\n        private final CntDao cntDao = context.mock(CntDao.class);\r\n    \r\n        @Before\r\n        public void setup() {\r\n            Injector injector = Guice.createInjector(new AbstractModule() {\r\n                @Override\r\n                protected void configure() {\r\n                    bind(cntDao.class).toInstance(cntDao);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Test\r\n        public void shouldIgnoreIfFileSizeBiggerThanPermitted() {\r\n            //some code to make it trigger ELSE statement above...\r\n            verify(cntDao, never()).addCountryLandMark(anyString());\r\n        }\r\n    }\r\n\r\n\r\nBut this returns the following error:\r\n\r\n&gt; org.mockito.exceptions.misusing.NotAMockException:\r\n&gt; \r\n&gt; Argument passed to verify() is of type $Proxy4 and is not a mock!\r\n&gt; \r\n&gt; Make sure you place the parenthesis correctly!\r\n&gt; \r\n&gt; See the examples of correct verifications:\r\n&gt; \r\n&gt; verify(mock).someMethod();\r\n&gt; \r\n&gt; verify(mock, times(10)).someMethod();\r\n&gt; \r\n&gt; \r\n&gt; verify(mock, atLeastOnce()).someMethod();\r\n\r\nAny idea how I can fix this in the current context. Please give an example using current code so I get a better idea?","title":"How to check that a method is not being called using JUnit Mockito Verify","body":"<p>I have a class for which I am writing a JUnit test. I am trying to test if a particular method is never called.</p>\n\n<pre><code>public class CountryProcess extends AbstractCountryProcess {\n\n    private static final Logger log = LoggerFactory.getLogger(CountryProcessor.class);\n    private static final Long MAX_FILE = 20l;\n\n    @Override\n    protected boolean processCountry(Region region, City city) {\n        Long maxFile = region.getRequiredLongValue(SIZE);\n\n        if (maxFile &lt; MAX_FILE) {\n            cntDao.addCountryLandMark(city);\n        }\n        else {\n            log.warn(\"File size was big\");\n        }\n\n        return true;\n}\n</code></pre>\n\n<p>And the test class is:</p>\n\n<pre><code>public class CountryProcessTest {\n\n    @Rule\n    public final JUnitRuleMockery context = new JUnitRuleMockery();\n    private final CntDao cntDao = context.mock(CntDao.class);\n\n    @Before\n    public void setup() {\n        Injector injector = Guice.createInjector(new AbstractModule() {\n            @Override\n            protected void configure() {\n                bind(cntDao.class).toInstance(cntDao);\n            }\n        });\n    }\n\n    @Test\n    public void shouldIgnoreIfFileSizeBiggerThanPermitted() {\n        //some code to make it trigger ELSE statement above...\n        verify(cntDao, never()).addCountryLandMark(anyString());\n    }\n}\n</code></pre>\n\n<p>But this returns the following error:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.NotAMockException:</p>\n  \n  <p>Argument passed to verify() is of type $Proxy4 and is not a mock!</p>\n  \n  <p>Make sure you place the parenthesis correctly!</p>\n  \n  <p>See the examples of correct verifications:</p>\n  \n  <p>verify(mock).someMethod();</p>\n  \n  <p>verify(mock, times(10)).someMethod();</p>\n  \n  <p>verify(mock, atLeastOnce()).someMethod();</p>\n</blockquote>\n\n<p>Any idea how I can fix this in the current context. Please give an example using current code so I get a better idea?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":2,"creation_date":1632804090,"post_id":69355876,"comment_id":122585018,"body_markdown":"[Resize an Array while keeping current elements in Java?](https://stackoverflow.com/q/13197702/995714), [How can I resize array in java?](https://stackoverflow.com/q/43499183/995714)","body":"<a href=\"https://stackoverflow.com/q/13197702/995714\">Resize an Array while keeping current elements in Java?</a>, <a href=\"https://stackoverflow.com/q/43499183/995714\">How can I resize array in java?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":6,"creation_date":1632804260,"post_id":69355876,"comment_id":122585049,"body_markdown":"Your second solution should work, as long as you do assign arrayResize to theData.","body":"Your second solution should work, as long as you do assign arrayResize to theData."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632806728,"post_id":69355876,"comment_id":122585492,"body_markdown":"@tgdavies and assign `capacity = 2*capacity` as well.","body":"@tgdavies and assign <code>capacity = 2*capacity</code> as well."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1632806812,"post_id":69355876,"comment_id":122585520,"body_markdown":"Btw, I don&#39;t think having the `capacity` field is necessary: it looks like it is equal to the array length, so you may as well just use the array length.","body":"Btw, I don&#39;t think having the <code>capacity</code> field is necessary: it looks like it is equal to the array length, so you may as well just use the array length."},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":0,"creation_date":1632849265,"post_id":69355876,"comment_id":122603194,"body_markdown":"Does this answer your question? [Resize an Array while keeping current elements in Java?](https://stackoverflow.com/questions/13197702/resize-an-array-while-keeping-current-elements-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13197702/resize-an-array-while-keeping-current-elements-in-java\">Resize an Array while keeping current elements in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632804709,"creation_date":1632804255,"answer_id":69355920,"question_id":69355876,"body_markdown":"You cannot resize an array in Java. Use ArrayList or LinkedList instead.\r\n\r\nIf you need to have a list for a primitive types and you don&#39;t want to wrap them into objects, take a look on Colt or Parallel Colt libraries.","title":"Array won&#39;t resize without copyOf()","body":"<p>You cannot resize an array in Java. Use ArrayList or LinkedList instead.</p>\n<p>If you need to have a list for a primitive types and you don't want to wrap them into objects, take a look on Colt or Parallel Colt libraries.</p>\n"}],"owner":{"account_id":17401927,"reputation":159,"user_id":12610649,"display_name":"Paige"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1632849265,"accepted_answer_id":69355920,"answer_count":1,"score":-1,"last_activity_date":1632804709,"creation_date":1632803884,"question_id":69355876,"body_markdown":"I have a method that&#39;s supposed to grow the size of an array by double once it reaches its capacity\r\n\r\nI was trying to find a way to resize it without Arrays.copyOf but rather creating an array that&#39;s double the size and storing the original array in the new resized array\r\n\r\n**works**\r\n\r\n```\r\nthis.capacity = this.capacity * 2;\r\nthis.theData = Arrays.copyOf(this.theData, this.capacity);\r\n```\r\n**doesn&#39;t work**\r\nrather it throws away the first index and replaces it with the new value, without resizing\r\n```\r\ndouble arrayResize[] = new double[this.capacity*2];\r\nfor (int i = 0; i&lt;this.theData.length;i++){\r\n\t\tarrayResize[i] = this.theData[i];\r\n}\r\n","title":"Array won&#39;t resize without copyOf()","body":"<p>I have a method that's supposed to grow the size of an array by double once it reaches its capacity</p>\n<p>I was trying to find a way to resize it without Arrays.copyOf but rather creating an array that's double the size and storing the original array in the new resized array</p>\n<p><strong>works</strong></p>\n<pre><code>this.capacity = this.capacity * 2;\nthis.theData = Arrays.copyOf(this.theData, this.capacity);\n</code></pre>\n<p><strong>doesn't work</strong>\nrather it throws away the first index and replaces it with the new value, without resizing</p>\n<pre><code>double arrayResize[] = new double[this.capacity*2];\nfor (int i = 0; i&lt;this.theData.length;i++){\n        arrayResize[i] = this.theData[i];\n}\n</code></pre>\n"},{"tags":["java","input","junit","output","program-entry-point"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":1,"creation_date":1632808020,"post_id":69355903,"comment_id":122585843,"body_markdown":"The code is untestable without the help of some library that allows mocking of static fields. If it&#39;s not an exercises, i wouldn&#39;t even bother writing tests for such non-object-oriented code. Or try to rewrite it in object-oriented style, use a dependency on some interface that would take user input and give your object as a dependency a stubbed mock created with Mockito(or some other library).","body":"The code is untestable without the help of some library that allows mocking of static fields. If it&#39;s not an exercises, i wouldn&#39;t even bother writing tests for such non-object-oriented code. Or try to rewrite it in object-oriented style, use a dependency on some interface that would take user input and give your object as a dependency a stubbed mock created with Mockito(or some other library)."}],"owner":{"account_id":14380964,"reputation":294,"user_id":10388204,"display_name":"Edwin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632804157,"creation_date":1632804157,"question_id":69355903,"body_markdown":"This is an exercise created by Sarah Heckman from NY University. It is used in a Coursera course by the university of Minnesota where I came across it. This exercise is found on many GitHub pages.\r\n\r\nThere is a coffee machine. It has a main class that needs testing with Junit. I would like to be able to test user input/output.\r\nAfter struggling for more than a day I couldn&#39;t work it out. It&#39;s not in the Coursera lectures. I didn&#39;t found post of anyone else struggling with it. None of the examples here at SF where helping. None of what I have been reading solved the issue.\r\n\r\nTo simplify the test I thought of first see that the initial inventory is there. That is option 5. So System.in I place 5. Given that to the main method results in a stackoverflow; given it to the mainMenu results in system under test (SUT) being Null.    \r\n\r\nHow can I test user input and output with unit test?\r\n\r\n    public class CoffeeMakerTest {\r\n    \t\r\n    \tprivate CoffeeMaker coffeeMaker;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() throws RecipeException {\r\n    \t\tcoffeeMaker = new CoffeeMaker();\r\n    \t}\r\n        @Test\r\n        public void testMain() {\r\n                \r\n          System.setIn(new ByteArrayInputStream((&quot;5&quot; + System.getProperty(&quot;line.separator&quot;)).getBytes()));\r\n          \r\n          ByteArrayOutputStream testOut = new ByteArrayOutputStream();      \r\n          System.setOut(new PrintStream(testOut));\r\n          \r\n          /*\r\n          * attemp test via main results in java.lang.StackOverflowError\r\n          */\r\n          //String[] args = {};\r\n          //Main.main(args);\r\n          \r\n          /*\r\n          * attemp test via mainMenu results \r\n          * java.lang.NullPointerException: Cannot invoke &quot;edu.ncsu.csc326.coffeemaker.CoffeeMaker.checkInventory()&quot; because &quot;edu.ncsu.csc326.coffeemaker.Main.coffeeMaker&quot; is null\r\n          */\r\n          Main.mainMenu();\r\n          \r\n          String inventory = &quot;Coffee: 15&quot; + System.getProperty(&quot;line.separator&quot;);\r\n                 inventory += &quot;Milk: 15&quot; + System.getProperty(&quot;line.separator&quot;);\r\n                 inventory += &quot;Sugar: 15&quot; + System.getProperty(&quot;line.separator&quot;);\r\n                 inventory += &quot;Chocolate: 15&quot; + System.getProperty(&quot;line.separator&quot;);  \r\n          assertEquals(inventory, testOut.toString());\r\n    \r\n        }   \r\n    }\r\n\r\n**------**\r\n\r\n    package edu.ncsu.csc326.coffeemaker;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import edu.ncsu.csc326.coffeemaker.exceptions.InventoryException;\r\n    import edu.ncsu.csc326.coffeemaker.exceptions.RecipeException;\r\n    \r\n    /**\r\n     * \r\n     * @author Sarah Heckman\r\n     *\r\n     * Starts the console UI for the CoffeeMaker\r\n     */\r\n    public class Main {\r\n        private static CoffeeMaker coffeeMaker;\r\n    \r\n        /**\r\n         * Prints the main menu and handles user input for \r\n         * main menu commands.\r\n         */\r\n        public static void mainMenu() {\r\n            System.out.println(&quot;1. Add a recipe&quot;);\r\n            System.out.println(&quot;2. Delete a recipe&quot;);\r\n            System.out.println(&quot;3. Edit a recipe&quot;);\r\n            System.out.println(&quot;4. Add inventory&quot;);\r\n            System.out.println(&quot;5. Check inventory&quot;);\r\n            System.out.println(&quot;6. Make coffee&quot;);\r\n            System.out.println(&quot;0. Exit\\n&quot;);\r\n            \r\n            //Get user input\r\n            try {\r\n            \tint userInput = Integer.parseInt(inputOutput(&quot;Please press the number that corresponds to what you would like the coffee maker to do.&quot;));\r\n            \t\r\n            \tif (userInput &gt;= 0 &amp;&amp; userInput &lt;=6) {\r\n    \t\t        if (userInput == 1) addRecipe();\r\n    \t\t        if (userInput == 2) deleteRecipe();\r\n    \t\t        if (userInput == 3) editRecipe();\r\n    \t\t        if (userInput == 4) addInventory();\r\n    \t\t        if (userInput == 5) checkInventory();\r\n    \t\t        if (userInput == 6) makeCoffee();\r\n    \t\t        if (userInput == 0) System.exit(0);\r\n            \t} else {\r\n            \t\tSystem.out.println(&quot;Please enter a number from 0 - 6&quot;);\r\n                \tmainMenu();\r\n            \t}\r\n            } catch (NumberFormatException e) {\r\n            \tSystem.out.println(&quot;Please enter a number from 0 - 6&quot;);\r\n            \tmainMenu();\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * The add recipe user interface that process user input.\r\n         */\r\n    \tpublic static void addRecipe() {\r\n    \t\t\r\n    \t    //Read in recipe name\r\n    \t    String name = inputOutput(&quot;\\nPlease enter the recipe name: &quot;);\r\n    \t    \r\n    \t    //Read in recipe price\r\n    \t    String priceString = inputOutput(&quot;\\nPlease enter the recipe price: $&quot;);\r\n    \t    \t    \r\n    \t    //Read in amt coffee\r\n    \t    String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee in the recipe: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt milk\r\n    \t    String milkString = inputOutput(&quot;\\nPlease enter the units of milk in the recipe: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt sugar\r\n    \t    String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar in the recipe: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt chocolate\r\n    \t    String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate in the recipe: &quot;);\r\n    \t    \t    \r\n    \t\tRecipe r = new Recipe();\r\n    \t\ttry {\r\n    \t\t\tr.setName(name);\r\n    \t\t\tr.setPrice(priceString);\r\n    \t\t\tr.setAmtCoffee(coffeeString);\r\n    \t\t\tr.setAmtMilk(milkString);\r\n    \t\t\tr.setAmtSugar(sugarString);\r\n    \t\t\tr.setAmtChocolate(chocolateString);\r\n    \t\t\t\r\n    \t\t\tboolean recipeAdded = coffeeMaker.addRecipe(r);\r\n    \t\t    \r\n    \t\t    if(recipeAdded) {\r\n    \t\t    \tSystem.out.println(name + &quot; successfully added.\\n&quot;);\r\n    \t\t    } else {\r\n    \t\t    \tSystem.out.println(name + &quot; could not be added.\\n&quot;);\r\n    \t\t    }\r\n    \t\t} catch (RecipeException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} finally {\r\n    \t\t\tmainMenu();\r\n    \t\t}\r\n        }\r\n        \r\n    \t/**\r\n    \t * Delete recipe user interface that processes input.\r\n    \t */\r\n        public static void deleteRecipe() {\r\n            Recipe [] recipes = coffeeMaker.getRecipes();\r\n            for(int i = 0; i &lt; recipes.length; i++) {\r\n            \tif (recipes[i] != null) {\r\n            \t\tSystem.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\r\n            \t}\r\n            }\r\n            int recipeToDelete = recipeListSelection(&quot;Please select the number of the recipe to delete.&quot;);\r\n            \r\n    \t    if(recipeToDelete &lt; 0) {\r\n    \t    \tmainMenu();\r\n    \t    }\r\n    \t    \r\n            String recipeDeleted = coffeeMaker.deleteRecipe(recipeToDelete);\r\n            \r\n            if (recipeDeleted != null) {\r\n            \tSystem.out.println(recipeDeleted + &quot; successfully deleted.\\n&quot;);\r\n            } else {\r\n    \t        System.out.println(&quot;Selected recipe doesn&#39;t exist and could not be deleted.\\n&quot;);\r\n            }\r\n            mainMenu();\r\n        }\r\n        \r\n        /**\r\n         * Edit recipe user interface the processes user input.\r\n         */\r\n        public static void editRecipe() {\r\n            Recipe [] recipes = coffeeMaker.getRecipes();\r\n            for(int i = 0; i &lt; recipes.length; i++) {\r\n            \tif (recipes[i] != null) {\r\n            \t\tSystem.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\r\n            \t}\r\n            }\r\n            int recipeToEdit = recipeListSelection(&quot;Please select the number of the recipe to edit.&quot;);\r\n            \r\n    \t    if(recipeToEdit &lt; 0) {\r\n    \t    \tmainMenu();\r\n    \t    }\r\n    \t    \r\n    \t    //Read in recipe price\r\n    \t    String priceString = inputOutput(&quot;\\nPlease enter the recipe price: $&quot;);\r\n    \t    \r\n    \t    //Read in amt coffee\r\n    \t    String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee in the recipe: &quot;);\r\n    \t    \r\n    \t    //Read in amt milk\r\n    \t    String milkString = inputOutput(&quot;\\nPlease enter the units of milk in the recipe: &quot;);\r\n    \t    \r\n    \t    //Read in amt sugar\r\n    \t    String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar in the recipe: &quot;);\r\n    \t    \r\n    \t    //Read in amt chocolate\r\n    \t    String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate in the recipe: &quot;);\r\n    \t    \r\n    \t    Recipe newRecipe = new Recipe();\r\n    \t    try {\r\n    \t\t\tnewRecipe.setPrice(priceString);\r\n    \t\t\tnewRecipe.setAmtCoffee(coffeeString);\r\n    \t\t\tnewRecipe.setAmtMilk(milkString);\r\n    \t\t\tnewRecipe.setAmtSugar(sugarString);\r\n    \t\t\tnewRecipe.setAmtChocolate(chocolateString);\r\n    \t\t\t\r\n    \t\t\tString recipeEdited = coffeeMaker.editRecipe(recipeToEdit, newRecipe);\r\n    \t        \r\n    \t        if (recipeEdited != null) {\r\n    \t        \tSystem.out.println(recipeEdited + &quot; successfully edited.\\n&quot;);\r\n    \t        }\r\n    \t\t    else {\r\n    \t\t    \tSystem.out.println(recipeEdited + &quot;could not be edited.\\n&quot;);\r\n    \t\t    }\r\n    \t\t} catch (RecipeException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} finally {\r\n    \t\t\tmainMenu();\r\n    \t\t}\r\n        }\r\n        \r\n        /**\r\n         * Add inventory user interface that processes input.\r\n         */\r\n        public static void addInventory() {\r\n    \t    //Read in amt coffee\r\n    \t    String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee to add: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt milk\r\n    \t    String milkString = inputOutput(&quot;\\nPlease enter the units of milk to add: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt sugar\r\n    \t    String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar to add: &quot;);\r\n    \t    \t    \r\n    \t    //Read in amt chocolate\r\n    \t    String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate to add: &quot;);\r\n    \t    \t    \r\n            try {\r\n            \tcoffeeMaker.addInventory(coffeeString, milkString, sugarString, chocolateString);\r\n            \tSystem.out.println(&quot;Inventory successfully added&quot;);\r\n            } catch (InventoryException e) {\r\n            \tSystem.out.println(&quot;Inventory was not added&quot;);\r\n            } finally {\r\n            \tmainMenu();\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Check inventory user interface that processes input.\r\n         */\r\n        public static void checkInventory() {\r\n        \tSystem.out.println(coffeeMaker.checkInventory());\r\n        \tmainMenu();\r\n        }\r\n        \r\n        /**\r\n         * Make coffee user interface the processes input.\r\n         */\r\n        public static void makeCoffee() {\r\n            Recipe [] recipes = coffeeMaker.getRecipes();\r\n            for(int i = 0; i &lt; recipes.length; i++) {\r\n            \tif (recipes[i] != null) {\r\n            \t\tSystem.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\r\n            \t}\r\n            }\r\n            \r\n            int recipeToPurchase = recipeListSelection(&quot;Please select the number of the recipe to purchase.&quot;);\r\n            \r\n            String amountPaid = inputOutput(&quot;Please enter the amount you wish to pay&quot;);\r\n            int amtPaid = 0;\r\n            try {\r\n            \tamtPaid = Integer.parseInt(amountPaid);\r\n            } catch (NumberFormatException e) {\r\n            \tSystem.out.println(&quot;Please enter a positive integer&quot;);\r\n            \tmainMenu();\r\n            }\r\n            \r\n            int change = coffeeMaker.makeCoffee(recipeToPurchase, amtPaid);\r\n            \r\n            if (change == amtPaid) {\r\n            \tSystem.out.println(&quot;Insufficient funds to purchase.&quot;);\r\n            } else {\r\n            \tSystem.out.println(&quot;Thank you for purchasing &quot; + coffeeMaker.getRecipes()[recipeToPurchase].getName());\r\n            }\r\n            System.out.println(&quot;Your change is: &quot; + change + &quot;\\n&quot;);\r\n            mainMenu();\r\n        }\r\n        \r\n        /**\r\n         * Passes a prompt to the user and returns the user specified \r\n         * string.\r\n         * @param message\r\n         * @return String\r\n         */\r\n        private static String inputOutput(String message) {\r\n            System.out.println(message);\r\n    \t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t    String returnString = &quot;&quot;;\r\n    \t    try {\r\n    \t        returnString = br.readLine();\r\n    \t    }\r\n    \t    catch (IOException e){\r\n    \t        System.out.println(&quot;Error reading in value&quot;);\r\n    \t        mainMenu();\r\n    \t    }\r\n    \t    return returnString;\r\n        }\r\n        \r\n        /**\r\n         * Passes a prompt to the user that deals with the recipe list\r\n         * and returns the user selected number.\r\n         * @param message\r\n         * @return int\r\n         */\r\n        private static int recipeListSelection(String message) {\r\n        \tString userSelection = inputOutput(message);\r\n        \tint recipe = 0;\r\n            try {\r\n            \trecipe = Integer.parseInt(userSelection) - 1;\r\n            \tif (recipe &gt;= 0 &amp;&amp; recipe &lt;=2) {\r\n            \t\t//do nothing here.\r\n            \t} else {\r\n            \t\trecipe = -1;\r\n            \t}\r\n            } catch (NumberFormatException e) {\r\n            \tSystem.out.println(&quot;Please select a number from 1-3.&quot;);\r\n            \trecipe = -1;\r\n            }\r\n            return recipe;\r\n        }\r\n        \r\n        /**\r\n         * Starts the coffee maker program.\r\n         * @param args\r\n         */\r\n        public static void main(String[] args) {\r\n    \t    coffeeMaker = new CoffeeMaker();\r\n    \t    System.out.println(&quot;Welcome to the CoffeeMaker!\\n&quot;);\r\n    \t    mainMenu();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Junit test user input with the coffeeMaker exercise","body":"<p>This is an exercise created by Sarah Heckman from NY University. It is used in a Coursera course by the university of Minnesota where I came across it. This exercise is found on many GitHub pages.</p>\n<p>There is a coffee machine. It has a main class that needs testing with Junit. I would like to be able to test user input/output.\nAfter struggling for more than a day I couldn't work it out. It's not in the Coursera lectures. I didn't found post of anyone else struggling with it. None of the examples here at SF where helping. None of what I have been reading solved the issue.</p>\n<p>To simplify the test I thought of first see that the initial inventory is there. That is option 5. So System.in I place 5. Given that to the main method results in a stackoverflow; given it to the mainMenu results in system under test (SUT) being Null.</p>\n<p>How can I test user input and output with unit test?</p>\n<pre><code>public class CoffeeMakerTest {\n    \n    private CoffeeMaker coffeeMaker;\n    \n    @Before\n    public void setUp() throws RecipeException {\n        coffeeMaker = new CoffeeMaker();\n    }\n    @Test\n    public void testMain() {\n            \n      System.setIn(new ByteArrayInputStream((&quot;5&quot; + System.getProperty(&quot;line.separator&quot;)).getBytes()));\n      \n      ByteArrayOutputStream testOut = new ByteArrayOutputStream();      \n      System.setOut(new PrintStream(testOut));\n      \n      /*\n      * attemp test via main results in java.lang.StackOverflowError\n      */\n      //String[] args = {};\n      //Main.main(args);\n      \n      /*\n      * attemp test via mainMenu results \n      * java.lang.NullPointerException: Cannot invoke &quot;edu.ncsu.csc326.coffeemaker.CoffeeMaker.checkInventory()&quot; because &quot;edu.ncsu.csc326.coffeemaker.Main.coffeeMaker&quot; is null\n      */\n      Main.mainMenu();\n      \n      String inventory = &quot;Coffee: 15&quot; + System.getProperty(&quot;line.separator&quot;);\n             inventory += &quot;Milk: 15&quot; + System.getProperty(&quot;line.separator&quot;);\n             inventory += &quot;Sugar: 15&quot; + System.getProperty(&quot;line.separator&quot;);\n             inventory += &quot;Chocolate: 15&quot; + System.getProperty(&quot;line.separator&quot;);  \n      assertEquals(inventory, testOut.toString());\n\n    }   \n}\n</code></pre>\n<p><strong>------</strong></p>\n<pre><code>package edu.ncsu.csc326.coffeemaker;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nimport edu.ncsu.csc326.coffeemaker.exceptions.InventoryException;\nimport edu.ncsu.csc326.coffeemaker.exceptions.RecipeException;\n\n/**\n * \n * @author Sarah Heckman\n *\n * Starts the console UI for the CoffeeMaker\n */\npublic class Main {\n    private static CoffeeMaker coffeeMaker;\n\n    /**\n     * Prints the main menu and handles user input for \n     * main menu commands.\n     */\n    public static void mainMenu() {\n        System.out.println(&quot;1. Add a recipe&quot;);\n        System.out.println(&quot;2. Delete a recipe&quot;);\n        System.out.println(&quot;3. Edit a recipe&quot;);\n        System.out.println(&quot;4. Add inventory&quot;);\n        System.out.println(&quot;5. Check inventory&quot;);\n        System.out.println(&quot;6. Make coffee&quot;);\n        System.out.println(&quot;0. Exit\\n&quot;);\n        \n        //Get user input\n        try {\n            int userInput = Integer.parseInt(inputOutput(&quot;Please press the number that corresponds to what you would like the coffee maker to do.&quot;));\n            \n            if (userInput &gt;= 0 &amp;&amp; userInput &lt;=6) {\n                if (userInput == 1) addRecipe();\n                if (userInput == 2) deleteRecipe();\n                if (userInput == 3) editRecipe();\n                if (userInput == 4) addInventory();\n                if (userInput == 5) checkInventory();\n                if (userInput == 6) makeCoffee();\n                if (userInput == 0) System.exit(0);\n            } else {\n                System.out.println(&quot;Please enter a number from 0 - 6&quot;);\n                mainMenu();\n            }\n        } catch (NumberFormatException e) {\n            System.out.println(&quot;Please enter a number from 0 - 6&quot;);\n            mainMenu();\n        }\n    }\n    \n    /**\n     * The add recipe user interface that process user input.\n     */\n    public static void addRecipe() {\n        \n        //Read in recipe name\n        String name = inputOutput(&quot;\\nPlease enter the recipe name: &quot;);\n        \n        //Read in recipe price\n        String priceString = inputOutput(&quot;\\nPlease enter the recipe price: $&quot;);\n                \n        //Read in amt coffee\n        String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee in the recipe: &quot;);\n                \n        //Read in amt milk\n        String milkString = inputOutput(&quot;\\nPlease enter the units of milk in the recipe: &quot;);\n                \n        //Read in amt sugar\n        String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar in the recipe: &quot;);\n                \n        //Read in amt chocolate\n        String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate in the recipe: &quot;);\n                \n        Recipe r = new Recipe();\n        try {\n            r.setName(name);\n            r.setPrice(priceString);\n            r.setAmtCoffee(coffeeString);\n            r.setAmtMilk(milkString);\n            r.setAmtSugar(sugarString);\n            r.setAmtChocolate(chocolateString);\n            \n            boolean recipeAdded = coffeeMaker.addRecipe(r);\n            \n            if(recipeAdded) {\n                System.out.println(name + &quot; successfully added.\\n&quot;);\n            } else {\n                System.out.println(name + &quot; could not be added.\\n&quot;);\n            }\n        } catch (RecipeException e) {\n            System.out.println(e.getMessage());\n        } finally {\n            mainMenu();\n        }\n    }\n    \n    /**\n     * Delete recipe user interface that processes input.\n     */\n    public static void deleteRecipe() {\n        Recipe [] recipes = coffeeMaker.getRecipes();\n        for(int i = 0; i &lt; recipes.length; i++) {\n            if (recipes[i] != null) {\n                System.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\n            }\n        }\n        int recipeToDelete = recipeListSelection(&quot;Please select the number of the recipe to delete.&quot;);\n        \n        if(recipeToDelete &lt; 0) {\n            mainMenu();\n        }\n        \n        String recipeDeleted = coffeeMaker.deleteRecipe(recipeToDelete);\n        \n        if (recipeDeleted != null) {\n            System.out.println(recipeDeleted + &quot; successfully deleted.\\n&quot;);\n        } else {\n            System.out.println(&quot;Selected recipe doesn't exist and could not be deleted.\\n&quot;);\n        }\n        mainMenu();\n    }\n    \n    /**\n     * Edit recipe user interface the processes user input.\n     */\n    public static void editRecipe() {\n        Recipe [] recipes = coffeeMaker.getRecipes();\n        for(int i = 0; i &lt; recipes.length; i++) {\n            if (recipes[i] != null) {\n                System.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\n            }\n        }\n        int recipeToEdit = recipeListSelection(&quot;Please select the number of the recipe to edit.&quot;);\n        \n        if(recipeToEdit &lt; 0) {\n            mainMenu();\n        }\n        \n        //Read in recipe price\n        String priceString = inputOutput(&quot;\\nPlease enter the recipe price: $&quot;);\n        \n        //Read in amt coffee\n        String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee in the recipe: &quot;);\n        \n        //Read in amt milk\n        String milkString = inputOutput(&quot;\\nPlease enter the units of milk in the recipe: &quot;);\n        \n        //Read in amt sugar\n        String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar in the recipe: &quot;);\n        \n        //Read in amt chocolate\n        String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate in the recipe: &quot;);\n        \n        Recipe newRecipe = new Recipe();\n        try {\n            newRecipe.setPrice(priceString);\n            newRecipe.setAmtCoffee(coffeeString);\n            newRecipe.setAmtMilk(milkString);\n            newRecipe.setAmtSugar(sugarString);\n            newRecipe.setAmtChocolate(chocolateString);\n            \n            String recipeEdited = coffeeMaker.editRecipe(recipeToEdit, newRecipe);\n            \n            if (recipeEdited != null) {\n                System.out.println(recipeEdited + &quot; successfully edited.\\n&quot;);\n            }\n            else {\n                System.out.println(recipeEdited + &quot;could not be edited.\\n&quot;);\n            }\n        } catch (RecipeException e) {\n            System.out.println(e.getMessage());\n        } finally {\n            mainMenu();\n        }\n    }\n    \n    /**\n     * Add inventory user interface that processes input.\n     */\n    public static void addInventory() {\n        //Read in amt coffee\n        String coffeeString = inputOutput(&quot;\\nPlease enter the units of coffee to add: &quot;);\n                \n        //Read in amt milk\n        String milkString = inputOutput(&quot;\\nPlease enter the units of milk to add: &quot;);\n                \n        //Read in amt sugar\n        String sugarString = inputOutput(&quot;\\nPlease enter the units of sugar to add: &quot;);\n                \n        //Read in amt chocolate\n        String chocolateString = inputOutput(&quot;\\nPlease enter the units of chocolate to add: &quot;);\n                \n        try {\n            coffeeMaker.addInventory(coffeeString, milkString, sugarString, chocolateString);\n            System.out.println(&quot;Inventory successfully added&quot;);\n        } catch (InventoryException e) {\n            System.out.println(&quot;Inventory was not added&quot;);\n        } finally {\n            mainMenu();\n        }\n    }\n    \n    /**\n     * Check inventory user interface that processes input.\n     */\n    public static void checkInventory() {\n        System.out.println(coffeeMaker.checkInventory());\n        mainMenu();\n    }\n    \n    /**\n     * Make coffee user interface the processes input.\n     */\n    public static void makeCoffee() {\n        Recipe [] recipes = coffeeMaker.getRecipes();\n        for(int i = 0; i &lt; recipes.length; i++) {\n            if (recipes[i] != null) {\n                System.out.println((i+1) + &quot;. &quot; + recipes[i].getName());\n            }\n        }\n        \n        int recipeToPurchase = recipeListSelection(&quot;Please select the number of the recipe to purchase.&quot;);\n        \n        String amountPaid = inputOutput(&quot;Please enter the amount you wish to pay&quot;);\n        int amtPaid = 0;\n        try {\n            amtPaid = Integer.parseInt(amountPaid);\n        } catch (NumberFormatException e) {\n            System.out.println(&quot;Please enter a positive integer&quot;);\n            mainMenu();\n        }\n        \n        int change = coffeeMaker.makeCoffee(recipeToPurchase, amtPaid);\n        \n        if (change == amtPaid) {\n            System.out.println(&quot;Insufficient funds to purchase.&quot;);\n        } else {\n            System.out.println(&quot;Thank you for purchasing &quot; + coffeeMaker.getRecipes()[recipeToPurchase].getName());\n        }\n        System.out.println(&quot;Your change is: &quot; + change + &quot;\\n&quot;);\n        mainMenu();\n    }\n    \n    /**\n     * Passes a prompt to the user and returns the user specified \n     * string.\n     * @param message\n     * @return String\n     */\n    private static String inputOutput(String message) {\n        System.out.println(message);\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String returnString = &quot;&quot;;\n        try {\n            returnString = br.readLine();\n        }\n        catch (IOException e){\n            System.out.println(&quot;Error reading in value&quot;);\n            mainMenu();\n        }\n        return returnString;\n    }\n    \n    /**\n     * Passes a prompt to the user that deals with the recipe list\n     * and returns the user selected number.\n     * @param message\n     * @return int\n     */\n    private static int recipeListSelection(String message) {\n        String userSelection = inputOutput(message);\n        int recipe = 0;\n        try {\n            recipe = Integer.parseInt(userSelection) - 1;\n            if (recipe &gt;= 0 &amp;&amp; recipe &lt;=2) {\n                //do nothing here.\n            } else {\n                recipe = -1;\n            }\n        } catch (NumberFormatException e) {\n            System.out.println(&quot;Please select a number from 1-3.&quot;);\n            recipe = -1;\n        }\n        return recipe;\n    }\n    \n    /**\n     * Starts the coffee maker program.\n     * @param args\n     */\n    public static void main(String[] args) {\n        coffeeMaker = new CoffeeMaker();\n        System.out.println(&quot;Welcome to the CoffeeMaker!\\n&quot;);\n        mainMenu();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632767147,"post_id":69351507,"comment_id":122577160,"body_markdown":"Also really confused on what to put in title since english is not my first language and im kinda lacking knowledge in programming terms","body":"Also really confused on what to put in title since english is not my first language and im kinda lacking knowledge in programming terms"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1632767314,"post_id":69351507,"comment_id":122577223,"body_markdown":"The index is one less than the size because it starts from zero.","body":"The index is one less than the size because it starts from zero."},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632768329,"post_id":69351507,"comment_id":122577600,"body_markdown":"I dont think thats it since using my solution, the output is 5 unless the input is &quot;Web Programming&quot; which is really odd","body":"I dont think thats it since using my solution, the output is 5 unless the input is &quot;Web Programming&quot; which is really odd"},{"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"score":0,"creation_date":1632770079,"post_id":69351507,"comment_id":122578204,"body_markdown":"Description is little bit confusing :/ Can you please describe little bit more about why output is 1 for your given input? Which value&#39;s index you want to show in output? Also it would be helpful to understand if you show another example.","body":"Description is little bit confusing :/ Can you please describe little bit more about why output is 1 for your given input? Which value&#39;s index you want to show in output? Also it would be helpful to understand if you show another example."},{"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"score":0,"creation_date":1632794462,"post_id":69351507,"comment_id":122583577,"body_markdown":"@Md.FaisalHabib I added another examples, and changed the title, thanks","body":"@Md.FaisalHabib I added another examples, and changed the title, thanks"}],"answers":[{"tags":[],"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632804067,"creation_date":1632803683,"answer_id":69355849,"question_id":69351507,"body_markdown":"Find out the position of a string in the stack which will be given in query (considering first position will be 0):\r\n\r\nSample code:\r\n\r\n    String str = in.nextLine();\r\n    int index = 0;\r\n    while(!books.empty())\t// traverse whole stack until it gets empty\r\n    {\r\n    \tString currString = books.peek();\r\n    \tbooks.pop();\t\r\n    \tif(str == currString) break;\r\n    \telse index++;\r\n    }\r\n    \r\n    System.out.println(index);\r\n\r\n\r\nYou can also check the use of `indexOf` in stack. \r\n\r\nResources:\r\n\r\n - [Stack indexOf() method in Java with Example][1]\r\n - [Stack Class in Java][2]\r\n - [Java Stack][3]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/stack-indexof-method-in-java-with-example/\r\n  [2]: https://www.geeksforgeeks.org/stack-class-in-java/\r\n  [3]: https://www.javatpoint.com/java-stack","title":"finding the index of a stack with java (only using methods push, pop, and peek)","body":"<p>Find out the position of a string in the stack which will be given in query (considering first position will be 0):</p>\n<p>Sample code:</p>\n<pre><code>String str = in.nextLine();\nint index = 0;\nwhile(!books.empty())   // traverse whole stack until it gets empty\n{\n    String currString = books.peek();\n    books.pop();    \n    if(str == currString) break;\n    else index++;\n}\n\nSystem.out.println(index);\n</code></pre>\n<p>You can also check the use of <code>indexOf</code> in stack.</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/stack-indexof-method-in-java-with-example/\" rel=\"nofollow noreferrer\">Stack indexOf() method in Java with Example</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/stack-class-in-java/\" rel=\"nofollow noreferrer\">Stack Class in Java</a></li>\n<li><a href=\"https://www.javatpoint.com/java-stack\" rel=\"nofollow noreferrer\">Java Stack</a></li>\n</ul>\n"}],"owner":{"account_id":21086022,"reputation":33,"user_id":15499129,"display_name":"Audrey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632804067,"creation_date":1632766741,"question_id":69351507,"body_markdown":"New programmer learning java here! I&#39;m trying to count how many steps does it take for a loop to stop taking what the user inputted into account. Bear in mind, there is limitation set by some guy in school *sigh* you can only use some methods in stack. These methods are push, pop, and peek.\r\n\r\nInput:\r\n - first *input* is how many elements added.\r\n - second *input* is a list of books you want added.\r\n - third *input* is when do you want the loop to stop.\r\n\r\nI want to store the key index when it stops for example the inputs are:\r\n```\r\n4\r\nOperating System\r\nAlgorithm and Data Structures\r\nWeb Programming\r\nComputer Network\r\nWeb Programming\r\n```\r\n\r\nIf the last input is Web Programming then according to the idea of Stack, the expected index should be 1 because when using a stack you always peek() or see the last element you input. The same thing happens with pop() where you remove the last element of the stack.\r\n\r\nSo here&#39;s what I got:\r\n\r\n```\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n        //methods should only use push, pop, peek\r\n\r\n        Scanner in = new Scanner(System.in);\r\n        Stack&lt;String&gt; books = new Stack&lt;&gt;();\r\n\r\n        //n first\r\n        int n = in.nextInt();\r\n        in.nextLine();\r\n\r\n        //n second\r\n        for (int i = 0; i &lt; n; i++) {\r\n            books.push(in.nextLine());\r\n        }\r\n\r\n        //n third\r\n        String str = in.nextLine();\r\n        int index = 0;\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            //insert solution here\r\n        }\r\n        System.out.println(index);\r\n    }\r\n}\r\n```\r\n\r\nHere is my current solution for it:\r\n \r\n```\r\nfor (int i = 0; i &lt; n; i++) {\r\n            if (books.peek().contains(str)){\r\n                break;\r\n            }\r\n            books.pop();\r\n            index++;\r\n        }\r\n```\r\nI&#39;ve been working on a solution so far and brute forcing but instead of returning the value of the index when it breaks, it returns the value of n or the size of the stack.\r\n\r\nanother example using my solution, when these are the inputs:\r\n```\r\n4\r\nOperating System\r\nAlgorithm and Data Structures\r\nWeb Programming\r\nComputer Network\r\nComputer Network\r\n```\r\n\r\nthe output is supposed to be:\r\n```\r\n0\r\n```\r\nbut instead I get:\r\n```\r\n4\r\n```\r\n\r\nWhich probably means the condition of &quot;books.peek().contains(str)&quot; doesn&#39;t actually break the loop properly.\r\n\r\nReally appreciate any kind of help!","title":"finding the index of a stack with java (only using methods push, pop, and peek)","body":"<p>New programmer learning java here! I'm trying to count how many steps does it take for a loop to stop taking what the user inputted into account. Bear in mind, there is limitation set by some guy in school <em>sigh</em> you can only use some methods in stack. These methods are push, pop, and peek.</p>\n<p>Input:</p>\n<ul>\n<li>first <em>input</em> is how many elements added.</li>\n<li>second <em>input</em> is a list of books you want added.</li>\n<li>third <em>input</em> is when do you want the loop to stop.</li>\n</ul>\n<p>I want to store the key index when it stops for example the inputs are:</p>\n<pre><code>4\nOperating System\nAlgorithm and Data Structures\nWeb Programming\nComputer Network\nWeb Programming\n</code></pre>\n<p>If the last input is Web Programming then according to the idea of Stack, the expected index should be 1 because when using a stack you always peek() or see the last element you input. The same thing happens with pop() where you remove the last element of the stack.</p>\n<p>So here's what I got:</p>\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        //methods should only use push, pop, peek\n\n        Scanner in = new Scanner(System.in);\n        Stack&lt;String&gt; books = new Stack&lt;&gt;();\n\n        //n first\n        int n = in.nextInt();\n        in.nextLine();\n\n        //n second\n        for (int i = 0; i &lt; n; i++) {\n            books.push(in.nextLine());\n        }\n\n        //n third\n        String str = in.nextLine();\n        int index = 0;\n\n        for (int i = 0; i &lt; n; i++) {\n            //insert solution here\n        }\n        System.out.println(index);\n    }\n}\n</code></pre>\n<p>Here is my current solution for it:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n            if (books.peek().contains(str)){\n                break;\n            }\n            books.pop();\n            index++;\n        }\n</code></pre>\n<p>I've been working on a solution so far and brute forcing but instead of returning the value of the index when it breaks, it returns the value of n or the size of the stack.</p>\n<p>another example using my solution, when these are the inputs:</p>\n<pre><code>4\nOperating System\nAlgorithm and Data Structures\nWeb Programming\nComputer Network\nComputer Network\n</code></pre>\n<p>the output is supposed to be:</p>\n<pre><code>0\n</code></pre>\n<p>but instead I get:</p>\n<pre><code>4\n</code></pre>\n<p>Which probably means the condition of &quot;books.peek().contains(str)&quot; doesn't actually break the loop properly.</p>\n<p>Really appreciate any kind of help!</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1587022353,"post_id":61243459,"comment_id":108346401,"body_markdown":"Remove the compiler plugin. And use 11 as the java version.","body":"Remove the compiler plugin. And use 11 as the java version."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1587022540,"post_id":61243459,"comment_id":108346476,"body_markdown":"Also remove the maven-war-plugin does not make sense to create a war within a jar packaging type...","body":"Also remove the maven-war-plugin does not make sense to create a war within a jar packaging type..."}],"answers":[{"tags":[],"owner":{"account_id":1595791,"reputation":2097,"user_id":1477949,"accept_rate":40,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587019358,"creation_date":1587019358,"answer_id":61244202,"question_id":61243459,"body_markdown":"Since you have not pasted the complete error i believe you might have got below error\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling: error: invalid target release: 1.11 -\r\n\r\n\r\nFor maven compiler the correct JDK version is `1.8`, `1.9`, `1.10`, `11`, `12` ..\r\n\r\n\r\nYou could also simply replace the above `&lt;properties&gt;` tag with below\r\n\r\n        &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n       &lt;/properties&gt;\r\n\r\nI have taken the above one from a sample project from Spring Initializr. \r\nYou can remove the configuration from the maven compiler plugin too.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project fhirql: Fatal error compiling","body":"<p>Since you have not pasted the complete error i believe you might have got below error</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling: error: invalid target release: 1.11 -\n</code></pre>\n\n<p>For maven compiler the correct JDK version is <code>1.8</code>, <code>1.9</code>, <code>1.10</code>, <code>11</code>, <code>12</code> ..</p>\n\n<p>You could also simply replace the above <code>&lt;properties&gt;</code> tag with below</p>\n\n<pre><code>    &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n   &lt;/properties&gt;\n</code></pre>\n\n<p>I have taken the above one from a sample project from Spring Initializr. \nYou can remove the configuration from the maven compiler plugin too.</p>\n"},{"tags":[],"owner":{"account_id":9135875,"reputation":95,"user_id":6795576,"display_name":"Hemanth Kumar"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1607387505,"creation_date":1607357366,"answer_id":65185264,"question_id":61243459,"body_markdown":"I was facing the same issue, it works for me after changing version 11 to 1.8,\r\n\r\nreplace\r\n```html\r\n&lt;properties&gt;\r\n   &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n```\r\nwith\r\n```html\r\n&lt;properties&gt;\r\n   &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n```","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project fhirql: Fatal error compiling","body":"<p>I was facing the same issue, it works for me after changing version 11 to 1.8,</p>\n<p>replace</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;properties&gt;\n   &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;properties&gt;\n   &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13940013,"reputation":61,"user_id":10066160,"display_name":"Ahmed Saber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632803720,"creation_date":1632803720,"answer_id":69355858,"question_id":61243459,"body_markdown":"You can change `maven.compiler.target` version from `1.11` to `11`\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project fhirql: Fatal error compiling","body":"<p>You can change <code>maven.compiler.target</code> version from <code>1.11</code> to <code>11</code></p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":11123524,"reputation":61,"user_id":8165747,"display_name":"Pankaj Khatiwada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38581,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1632803720,"creation_date":1587015784,"question_id":61243459,"body_markdown":"I run the command mvn clean package I got above error my pom is:\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hapi-fhir&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.canehealth&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fhirql&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.build.timestamp.format&gt;EEE, MMM dd yyyy, HH:mm Z&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Compile --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hapi-fhir-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hapi-fhir-jpaserver-base&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hapi-fhir-jaxrsserver-base&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;!-- Added --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-structures-dstu3&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n            &lt;type&gt;war&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n            &lt;classifier&gt;classes&lt;/classifier&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Optional --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hapi-fhir-spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hapi-fhir-base&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;overlays&gt;\r\n                        &lt;overlay&gt;\r\n                            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\r\n                        &lt;/overlay&gt;\r\n                    &lt;/overlays&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.11&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ldmMG.png","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project fhirql: Fatal error compiling","body":"<p>I run the command mvn clean package I got above error my pom is:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ldmMG.png\" alt=\"enter image description here\"></p>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n    &lt;artifactId&gt;hapi-fhir&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.canehealth&lt;/groupId&gt;\n&lt;artifactId&gt;fhirql&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.11&lt;/maven.compiler.source&gt;\n    &lt;maven.build.timestamp.format&gt;EEE, MMM dd yyyy, HH:mm Z&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Compile --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-jpaserver-base&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-jaxrsserver-base&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Added --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-client&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-structures-dstu3&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;type&gt;war&lt;/type&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;classifier&gt;classes&lt;/classifier&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Optional --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n        &lt;artifactId&gt;hapi-fhir-base&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;overlays&gt;\n                    &lt;overlay&gt;\n                        &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n                        &lt;artifactId&gt;hapi-fhir-testpage-overlay&lt;/artifactId&gt;\n                    &lt;/overlay&gt;\n                &lt;/overlays&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.11&lt;/source&gt;\n                &lt;target&gt;1.11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1632802210,"post_id":69355681,"comment_id":122584737,"body_markdown":"Can you add the code for `CustomAnnotation`","body":"Can you add the code for <code>CustomAnnotation</code>"},{"owner":{"account_id":16140262,"reputation":371,"user_id":11651621,"display_name":"Phuc Nguyen"},"score":0,"creation_date":1632802743,"post_id":69355681,"comment_id":122584807,"body_markdown":"I updated it in my question ^^.","body":"I updated it in my question ^^."},{"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"score":0,"creation_date":1632819654,"post_id":69355681,"comment_id":122589958,"body_markdown":"Try,\n@CustomAnnotation(permission=&quot;updateUser&quot;)\n@CustomAuthorize\n    @PutMapping(&quot;/{id}&quot;)\n    public UserDto getUser(HttpServletRequest request) {\n        ...\n    }","body":"Try, @CustomAnnotation(permission=&quot;updateUser&quot;) @CustomAuthorize     @PutMapping(&quot;/{id}&quot;)     public UserDto getUser(HttpServletRequest request) {         ...     }"}],"owner":{"account_id":16140262,"reputation":371,"user_id":11651621,"display_name":"Phuc Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632802651,"creation_date":1632801863,"question_id":69355681,"body_markdown":"I created annotation to check permissions on the APIs. Annotation worked when placed in class or method. But when I use it for both class and method at the same time, the annotation placed on the method is ignored\r\nHere is an example:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\n@CustomAnnotation(permission=&quot;manageUser&quot;)\r\npublic class UserController {\r\n\r\n    @CustomAnnotation(permission=&quot;updateUser&quot;)\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public UserDto getUser(HttpServletRequest request) {\r\n        ...\r\n    }\r\n}\r\n```\r\nNow @CustomAnnotation(permission=&quot;updateUser&quot;) in the getUser() method will be ignored and only execute annation in class UserController\r\nMy custom code\r\n```\r\n@Target(value = {ElementType.METHOD, ElementType.TYPE})\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@Documented\r\npublic @interface CustomAuthorize {\r\n\r\n    public String permission() default &quot;&quot;;\r\n\r\n    public String attribute() default &quot;&quot;;\r\n}\r\n```\r\n```\r\n@Aspect\r\n@Component\r\npublic class CustomAnnotationAspect {\r\n\r\n    @Autowired\r\n    CustomAuthorizationImpl authBean;\r\n\r\n    @Pointcut(&quot;@annotation(customAuthorize) || @within(customAuthorize)&quot;)\r\n    public void pointcutForCustomAnnotation(CustomAuthorize customAuthorize) {\r\n        // Do nothing.\r\n    }\r\n\r\n    @Around(&quot;pointcutForCustomAnnotation(customAuthorize)&quot;)\r\n    public Object customAspect(ProceedingJoinPoint pjp, CustomAuthorize customAuthorize) throws Throwable {\r\n        if (Objects.isNull(customAuthorize)) {\r\n            System.out.println(&quot;Call from method&quot;);\r\n            // Check permission\r\n            return pjp.proceed();\r\n        }\r\n        System.out.println(&quot;Call from class&quot;);\r\n        ExpressionParser elParser = new SpelExpressionParser();\r\n        if (!customAuthorize.permission().isBlank()) {\r\n            // check permission\r\n        }\r\n        return pjp.proceed();\r\n    }\r\n}\r\n```","title":"Custom annotation does not work in method","body":"<p>I created annotation to check permissions on the APIs. Annotation worked when placed in class or method. But when I use it for both class and method at the same time, the annotation placed on the method is ignored\nHere is an example:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\n@CustomAnnotation(permission=&quot;manageUser&quot;)\npublic class UserController {\n\n    @CustomAnnotation(permission=&quot;updateUser&quot;)\n    @PutMapping(&quot;/{id}&quot;)\n    public UserDto getUser(HttpServletRequest request) {\n        ...\n    }\n}\n</code></pre>\n<p>Now @CustomAnnotation(permission=&quot;updateUser&quot;) in the getUser() method will be ignored and only execute annation in class UserController\nMy custom code</p>\n<pre><code>@Target(value = {ElementType.METHOD, ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface CustomAuthorize {\n\n    public String permission() default &quot;&quot;;\n\n    public String attribute() default &quot;&quot;;\n}\n</code></pre>\n<pre><code>@Aspect\n@Component\npublic class CustomAnnotationAspect {\n\n    @Autowired\n    CustomAuthorizationImpl authBean;\n\n    @Pointcut(&quot;@annotation(customAuthorize) || @within(customAuthorize)&quot;)\n    public void pointcutForCustomAnnotation(CustomAuthorize customAuthorize) {\n        // Do nothing.\n    }\n\n    @Around(&quot;pointcutForCustomAnnotation(customAuthorize)&quot;)\n    public Object customAspect(ProceedingJoinPoint pjp, CustomAuthorize customAuthorize) throws Throwable {\n        if (Objects.isNull(customAuthorize)) {\n            System.out.println(&quot;Call from method&quot;);\n            // Check permission\n            return pjp.proceed();\n        }\n        System.out.println(&quot;Call from class&quot;);\n        ExpressionParser elParser = new SpelExpressionParser();\n        if (!customAuthorize.permission().isBlank()) {\n            // check permission\n        }\n        return pjp.proceed();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","swap","bubble-sort"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1632827858,"post_id":69355619,"comment_id":122593405,"body_markdown":"I don&#39;t see, why the question was closed (and hidden for non-privileged users). It is not about &quot;reference&quot; vs. &quot;value&quot;. It is about swapping two variables. Sure, the question is easy to answer, but it is still a well defined question.","body":"I don&#39;t see, why the question was closed (and hidden for non-privileged users). It is not about &quot;reference&quot; vs. &quot;value&quot;. It is about swapping two variables. Sure, the question is easy to answer, but it is still a well defined question."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":1,"creation_date":1632830310,"post_id":69355619,"comment_id":122594459,"body_markdown":"&quot;It is not about reference vs value&quot; and then you start your answer with &quot;arguments in Java are passed by value, never by reference&quot;. It is EXACTLY about reference vs value and the answer why swapping does not work is answered there.","body":"&quot;It is not about reference vs value&quot; and then you start your answer with &quot;arguments in Java are passed by value, never by reference&quot;. It is EXACTLY about reference vs value and the answer why swapping does not work is answered there."},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1632831322,"post_id":69355619,"comment_id":122594923,"body_markdown":"The question is definitely answered by the answer of the referenced thread, but the question itself is not same. Two different questions are allowed to have same answer. This question doesn&#39;t [duplicate] the another one.","body":"The question is definitely answered by the answer of the referenced thread, but the question itself is not same. Two different questions are allowed to have same answer. This question doesn&#39;t [duplicate] the another one."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1632835272,"post_id":69355619,"comment_id":122596760,"body_markdown":"@30thh For duplicate closure question does not have to be the same. Answers and underlying explanations are those that determine whether the question is duplicate or not.","body":"@30thh For duplicate closure question does not have to be the same. Answers and underlying explanations are those that determine whether the question is duplicate or not."},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1632836189,"post_id":69355619,"comment_id":122597304,"body_markdown":"@Dailija Really? According to this logic the question &quot;Biggest city in Europe&quot; duplicates the question &quot;Capital of Russia&quot; just because the answer of both is &quot;Moscow&quot;. Even if you include the explanation and the whole history of the city into the answer, it won&#39;t change the fact. Two original questions are different and don&#39;t duplicate each other.","body":"@Dailija Really? According to this logic the question &quot;Biggest city in Europe&quot; duplicates the question &quot;Capital of Russia&quot; just because the answer of both is &quot;Moscow&quot;. Even if you include the explanation and the whole history of the city into the answer, it won&#39;t change the fact. Two original questions are different and don&#39;t duplicate each other."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1632837014,"post_id":69355619,"comment_id":122597724,"body_markdown":"@30thh You are overly simplifying now. I explicitly said underlying explanations. That means the cause and effect. Also your answer literally states &quot;arguments in Java are passed by value, never by reference.&quot; this question is obvious duplicate, beyond any doubt. Also OP marked the question as a duplicate, so I don&#39;t know why are you complaining.","body":"@30thh You are overly simplifying now. I explicitly said underlying explanations. That means the cause and effect. Also your answer literally states &quot;arguments in Java are passed by value, never by reference.&quot; this question is obvious duplicate, beyond any doubt. Also OP marked the question as a duplicate, so I don&#39;t know why are you complaining."}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632801482,"creation_date":1632801482,"answer_id":69355645,"question_id":69355619,"body_markdown":"Method arguments in Java are passed by value, never by reference. Assignments like this make no sense:\r\n\r\n    void swap(int a, int b)  {\r\n      int temp;\r\n      temp = a;\r\n      a = b;\r\n      b = temp;\r\n    }\r\n\r\nThe caller outside of this method won&#39;t see this. For him &quot;a&quot; and &quot;b&quot; will remain their old values.\r\n\r\nAs a quick workaround you can use AtomicInteger instances to wrap values.","title":"Bubble sort not working when swapping done separately","body":"<p>Method arguments in Java are passed by value, never by reference. Assignments like this make no sense:</p>\n<pre><code>void swap(int a, int b)  {\n  int temp;\n  temp = a;\n  a = b;\n  b = temp;\n}\n</code></pre>\n<p>The caller outside of this method won't see this. For him &quot;a&quot; and &quot;b&quot; will remain their old values.</p>\n<p>As a quick workaround you can use AtomicInteger instances to wrap values.</p>\n"}],"owner":{"account_id":22738066,"reputation":23,"user_id":16899998,"display_name":"Markins"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1632801816,"accepted_answer_id":69355645,"answer_count":1,"score":1,"last_activity_date":1632801482,"creation_date":1632801211,"question_id":69355619,"body_markdown":"My code works only when i am using the swap inside the function of bubble sort,but if i remove the part and put it inside a function and then call it to use as swap .It doesn&#39;t works and gives me a wrong output.What is wrong i cant understand \r\n\r\n```\r\npublic class BubbleSort\r\n{\r\n  void swap(int a, int b)\r\n  {\r\n    int temp;\r\n    temp = a;\r\n    a = b;\r\n    b = temp;\r\n  }\r\n  \r\n  void sort(int arr[])\r\n  {\r\n    int i, j, n=arr.length;\r\n    \r\n    for(i=0; i&lt;n-1; i++)\r\n    {\r\n      for(j=0; j&lt;(n-i-1); j++)\r\n      {\r\n        if(arr[j] &gt; arr[j+1])\r\n          swap(arr[j], arr[j+1]);\r\n      }\r\n    }\r\n  }\r\n  \r\n  public static void main(String[] args)\r\n  {\r\n    int i;\r\n    int arr[] = {12, 3, 4, 10, 40, 89, 60, 55, 96, 11};\r\n    BubbleSort ob = new BubbleSort();\r\n    ob.sort(arr);\r\n    System.out.println(&quot;Array after sorting:&quot;);\r\n    for(i=0; i&lt;arr.length; i++)\r\n      System.out.print(arr[i] + &quot; &quot;);\r\n  }\r\n}\r\n```","title":"Bubble sort not working when swapping done separately","body":"<p>My code works only when i am using the swap inside the function of bubble sort,but if i remove the part and put it inside a function and then call it to use as swap .It doesn't works and gives me a wrong output.What is wrong i cant understand</p>\n<pre><code>public class BubbleSort\n{\n  void swap(int a, int b)\n  {\n    int temp;\n    temp = a;\n    a = b;\n    b = temp;\n  }\n  \n  void sort(int arr[])\n  {\n    int i, j, n=arr.length;\n    \n    for(i=0; i&lt;n-1; i++)\n    {\n      for(j=0; j&lt;(n-i-1); j++)\n      {\n        if(arr[j] &gt; arr[j+1])\n          swap(arr[j], arr[j+1]);\n      }\n    }\n  }\n  \n  public static void main(String[] args)\n  {\n    int i;\n    int arr[] = {12, 3, 4, 10, 40, 89, 60, 55, 96, 11};\n    BubbleSort ob = new BubbleSort();\n    ob.sort(arr);\n    System.out.println(&quot;Array after sorting:&quot;);\n    for(i=0; i&lt;arr.length; i++)\n      System.out.print(arr[i] + &quot; &quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628246697,"creation_date":1628246697,"answer_id":68680299,"question_id":68679423,"body_markdown":"You have not added the dialog on Sign up activity. Also the context to dialog should be by activity name otherwise this exception occurs\r\n\r\nE/WindowManager: android.view.WindowLeaked:\r\n\r\nPlease share your activity code for further help","title":"Another Activity starts on its own","body":"<p>You have not added the dialog on Sign up activity. Also the context to dialog should be by activity name otherwise this exception occurs</p>\n<p>E/WindowManager: android.view.WindowLeaked:</p>\n<p>Please share your activity code for further help</p>\n"}],"owner":{"account_id":18315004,"reputation":188,"user_id":13336952,"display_name":"Tanish Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632799620,"creation_date":1628242683,"question_id":68679423,"body_markdown":"Recently I noticed that my app is not showing the materialAlertDialog. When I checked further. This is what is happening:\r\n\r\nWhen a user signs up then I show a custom alert dialog containing a progress bar but as soon as the sign up process is complete another Alert Dialog is supposed to appear but instead of that the MainActivity starts over it. And i have to press the back button in order to get back to the SignUpActivity and then there is my Dialog being shown.\r\n\r\nAlso many times before I could press the back button the app would have already crashed.\r\n\r\nHere is what I received on debugging:\r\n```\r\nE/WindowManager: android.view.WindowLeaked: Activity com.infinitystudios.quinovi.RegisterActivity has leaked window DecorView@fb7a1bb[RegisterActivity] that was originally added here\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:1049)\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:1023)\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:450)\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:114)\r\n        at android.app.Dialog.show(Dialog.java:505)\r\n        at com.infinitystudios.quinovi.RegisterActivity.StartAccountCreation(RegisterActivity.java:152)\r\n        at com.infinitystudios.quinovi.RegisterActivity.ValidateData(RegisterActivity.java:95)\r\n        at com.infinitystudios.quinovi.RegisterActivity.lambda$onCreate$0$RegisterActivity(RegisterActivity.java:45)\r\n        at com.infinitystudios.quinovi.-$$Lambda$RegisterActivity$9UObv7lMX3EKvsR9ZGkbBlnv9b0.onClick(Unknown Source:2)\r\n        at android.view.View.performClick(View.java:8160)\r\n        at android.widget.TextView.performClick(TextView.java:16222)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View.performClickInternal(View.java:8137)\r\n        at android.view.View.access$3700(View.java:888)\r\n        at android.view.View$PerformClick.run(View.java:30236)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8506)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\r\n```\r\nAnd:\r\n```\r\n--------- beginning of crash\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.infinitystudios.quinovi, PID: 12215\r\n    java.lang.IllegalArgumentException: View=DecorView@fb7a1bb[RegisterActivity] not attached to window manager\r\n        at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:604)\r\n        at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:508)\r\n        at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:146)\r\n        at android.app.Dialog.dismissDialog(Dialog.java:676)\r\n        at android.app.Dialog.dismiss(Dialog.java:658)\r\n        at androidx.appcompat.app.AppCompatDialog.dismiss(AppCompatDialog.java:140)\r\n        at com.infinitystudios.quinovi.RegisterActivity.lambda$null$2$RegisterActivity(RegisterActivity.java:171)\r\n        at com.infinitystudios.quinovi.-$$Lambda$RegisterActivity$NZHJI1-9H-gfMUEP6ocbSxiYFnk.onSuccess(Unknown Source:6)\r\n        at com.google.android.gms.tasks.zzn.run(Unknown Source:4)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8506)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\r\n```\r\n\r\nI did see try the solution which said to show the dialog only if the Activity is not finishing but:\r\n\r\n(1) in that case the dialog never appears and it is important to show the dialog\r\n(2) the MainActivity still pops into the screen\r\n\r\n**UPDATE:**\r\n\r\nMy SignUp/RegisterActivity\r\n```\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth auth;\r\n    private FirebaseFirestore firestore;\r\n\r\n    private Button signUpBtn;\r\n    private TextView signInTxt;\r\n    private TextInputLayout passTil, cpassTil;\r\n    private TextInputEditText nameTxtbx, emailTxtbx, passTxtbx, cpassTxtbx;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        init();\r\n\r\n        signUpBtn.setOnClickListener(v -&gt; ValidateData());\r\n\r\n        signInTxt.setOnClickListener(v -&gt; {\r\n\r\n            startActivity(new Intent(RegisterActivity.this, LoginActivity.class));\r\n            finish();\r\n\r\n        });\r\n\r\n    }\r\n\r\n    private void init() {\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n\r\n        signUpBtn = findViewById(R.id.ra_signup_btn);\r\n        signInTxt = findViewById(R.id.ra_signin_txt);\r\n        passTil = findViewById(R.id.ra_password_til);\r\n        cpassTil = findViewById(R.id.ra_cpassword_til);\r\n        nameTxtbx = findViewById(R.id.ra_name_tiet);\r\n        emailTxtbx = findViewById(R.id.ra_email_tiet);\r\n        passTxtbx = findViewById(R.id.ra_password_tiet);\r\n        cpassTxtbx = findViewById(R.id.ra_cpassword_tiet);\r\n\r\n    }\r\n\r\n    private void ValidateData() {\r\n\r\n        HideSoftKeyboard();\r\n\r\n        String name, email, pass, cpass;\r\n\r\n        name = Objects.requireNonNull(nameTxtbx.getText()).toString().trim();\r\n        email = Objects.requireNonNull(emailTxtbx.getText()).toString().trim();\r\n        pass = Objects.requireNonNull(passTxtbx.getText()).toString().trim();\r\n        cpass = Objects.requireNonNull(cpassTxtbx.getText()).toString().trim();\r\n\r\n        if (!name.isEmpty()) {\r\n\r\n            if (!email.isEmpty()) {\r\n\r\n                if (email.contains(&quot;@&quot;) &amp;&amp; email.contains(&quot;.&quot;)) {\r\n\r\n                    if (!pass.isEmpty()) {\r\n\r\n                        if (pass.length() &gt;= 6) {\r\n\r\n                            if (cpass.equals(pass)) {\r\n\r\n                                StartAccountCreation(name, email, pass);\r\n\r\n                            } else {\r\n\r\n                                cpassTil.setError(getResources().getString(R.string.cpass_not_match));\r\n                                cpassTxtbx.requestFocus();\r\n\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            passTil.setError(getResources().getString(R.string.password_greater));\r\n                            passTxtbx.requestFocus();\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        passTil.setError(getResources().getString(R.string.field_required));\r\n                        passTxtbx.requestFocus();\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    emailTxtbx.setError(getResources().getString(R.string.valid_email));\r\n                    emailTxtbx.requestFocus();\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                emailTxtbx.setError(getResources().getString(R.string.field_required));\r\n                emailTxtbx.requestFocus();\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            nameTxtbx.setError(getResources().getString(R.string.field_required));\r\n            nameTxtbx.requestFocus();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private void StartAccountCreation(String name, String email, String pass) {\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(RegisterActivity.this, R.style.CustomAlertDialogTheme);\r\n        LayoutInflater inflater = getLayoutInflater();\r\n\r\n        @SuppressLint(&quot;InflateParams&quot;)\r\n        View dialogView = inflater.inflate(R.layout.primary_progress_dialog, null);\r\n        builder.setView(dialogView);\r\n        builder.setCancelable(false);\r\n\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n\r\n        HandleOrientation(true);\r\n\r\n        auth.createUserWithEmailAndPassword(email, pass)\r\n                .addOnSuccessListener(authResult -&gt;\r\n\r\n                        Objects.requireNonNull(auth.getCurrentUser()).sendEmailVerification()\r\n                                .addOnSuccessListener(aVoid -&gt; {\r\n\r\n                                    String CAID = auth.getCurrentUser().getUid();\r\n\r\n                                    HashMap&lt;String, Object&gt; accountMap = new HashMap&lt;&gt;();\r\n                                    accountMap.put(&quot;date&quot;, FieldValue.serverTimestamp());\r\n                                    accountMap.put(&quot;name&quot;, name);\r\n\r\n                                    firestore.collection(&quot;Accounts&quot;).document(CAID).set(accountMap)\r\n                                            .addOnSuccessListener(aVoid1 -&gt; {\r\n                                                HandleOrientation(false);\r\n                                                dialog.dismiss();\r\n                                                CreateDialog();\r\n                                            })\r\n                                            .addOnFailureListener(e -&gt; {\r\n                                                HandleOrientation(false);\r\n                                                dialog.dismiss();\r\n                                                Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                            });\r\n\r\n                                })\r\n                                .addOnFailureListener(e -&gt; {\r\n                                    HandleOrientation(false);\r\n                                    dialog.dismiss();\r\n                                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }))\r\n\r\n                .addOnFailureListener(e -&gt; {\r\n                    HandleOrientation(false);\r\n                    dialog.dismiss();\r\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                });\r\n\r\n    }\r\n\r\n    private void HideSoftKeyboard() {\r\n\r\n        RegisterActivity activity = RegisterActivity.this;\r\n\r\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n        View view = activity.getCurrentFocus();\r\n        if (view == null)\r\n            view = new View(activity);\r\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n\r\n    }\r\n\r\n    private void HandleOrientation(boolean intention) {\r\n\r\n        RegisterActivity activity = RegisterActivity.this;\r\n\r\n        if (intention) {\r\n            activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LOCKED);\r\n        } else {\r\n            activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\r\n        }\r\n\r\n    }\r\n\r\n    private void CreateDialog() {\r\n\r\n        new MaterialAlertDialogBuilder(RegisterActivity.this)\r\n                .setTitle(getResources().getString(R.string.verification_sent))\r\n                .setMessage(getResources().getString(R.string.verification_sent_msg))\r\n                .setPositiveButton(getResources().getString(R.string.ok), (dialog, which) -&gt; dialog.dismiss())\r\n                .show();\r\n\r\n    }\r\n```\r\n\r\n**Update 2:**\r\n\r\nI found out that this only happens when using the app in portrait mode. I always see the dialog appear in landscape but in portrait mode it won&#39;t show up, then it would start the main activity and crash immediately.","title":"Another Activity starts on its own","body":"<p>Recently I noticed that my app is not showing the materialAlertDialog. When I checked further. This is what is happening:</p>\n<p>When a user signs up then I show a custom alert dialog containing a progress bar but as soon as the sign up process is complete another Alert Dialog is supposed to appear but instead of that the MainActivity starts over it. And i have to press the back button in order to get back to the SignUpActivity and then there is my Dialog being shown.</p>\n<p>Also many times before I could press the back button the app would have already crashed.</p>\n<p>Here is what I received on debugging:</p>\n<pre><code>E/WindowManager: android.view.WindowLeaked: Activity com.infinitystudios.quinovi.RegisterActivity has leaked window DecorView@fb7a1bb[RegisterActivity] that was originally added here\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:1049)\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:1023)\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:450)\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:114)\n        at android.app.Dialog.show(Dialog.java:505)\n        at com.infinitystudios.quinovi.RegisterActivity.StartAccountCreation(RegisterActivity.java:152)\n        at com.infinitystudios.quinovi.RegisterActivity.ValidateData(RegisterActivity.java:95)\n        at com.infinitystudios.quinovi.RegisterActivity.lambda$onCreate$0$RegisterActivity(RegisterActivity.java:45)\n        at com.infinitystudios.quinovi.-$$Lambda$RegisterActivity$9UObv7lMX3EKvsR9ZGkbBlnv9b0.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8506)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\n</code></pre>\n<p>And:</p>\n<pre><code>--------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.infinitystudios.quinovi, PID: 12215\n    java.lang.IllegalArgumentException: View=DecorView@fb7a1bb[RegisterActivity] not attached to window manager\n        at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:604)\n        at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:508)\n        at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:146)\n        at android.app.Dialog.dismissDialog(Dialog.java:676)\n        at android.app.Dialog.dismiss(Dialog.java:658)\n        at androidx.appcompat.app.AppCompatDialog.dismiss(AppCompatDialog.java:140)\n        at com.infinitystudios.quinovi.RegisterActivity.lambda$null$2$RegisterActivity(RegisterActivity.java:171)\n        at com.infinitystudios.quinovi.-$$Lambda$RegisterActivity$NZHJI1-9H-gfMUEP6ocbSxiYFnk.onSuccess(Unknown Source:6)\n        at com.google.android.gms.tasks.zzn.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8506)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\n</code></pre>\n<p>I did see try the solution which said to show the dialog only if the Activity is not finishing but:</p>\n<p>(1) in that case the dialog never appears and it is important to show the dialog\n(2) the MainActivity still pops into the screen</p>\n<p><strong>UPDATE:</strong></p>\n<p>My SignUp/RegisterActivity</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    private FirebaseAuth auth;\n    private FirebaseFirestore firestore;\n\n    private Button signUpBtn;\n    private TextView signInTxt;\n    private TextInputLayout passTil, cpassTil;\n    private TextInputEditText nameTxtbx, emailTxtbx, passTxtbx, cpassTxtbx;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        init();\n\n        signUpBtn.setOnClickListener(v -&gt; ValidateData());\n\n        signInTxt.setOnClickListener(v -&gt; {\n\n            startActivity(new Intent(RegisterActivity.this, LoginActivity.class));\n            finish();\n\n        });\n\n    }\n\n    private void init() {\n\n        auth = FirebaseAuth.getInstance();\n        firestore = FirebaseFirestore.getInstance();\n\n        signUpBtn = findViewById(R.id.ra_signup_btn);\n        signInTxt = findViewById(R.id.ra_signin_txt);\n        passTil = findViewById(R.id.ra_password_til);\n        cpassTil = findViewById(R.id.ra_cpassword_til);\n        nameTxtbx = findViewById(R.id.ra_name_tiet);\n        emailTxtbx = findViewById(R.id.ra_email_tiet);\n        passTxtbx = findViewById(R.id.ra_password_tiet);\n        cpassTxtbx = findViewById(R.id.ra_cpassword_tiet);\n\n    }\n\n    private void ValidateData() {\n\n        HideSoftKeyboard();\n\n        String name, email, pass, cpass;\n\n        name = Objects.requireNonNull(nameTxtbx.getText()).toString().trim();\n        email = Objects.requireNonNull(emailTxtbx.getText()).toString().trim();\n        pass = Objects.requireNonNull(passTxtbx.getText()).toString().trim();\n        cpass = Objects.requireNonNull(cpassTxtbx.getText()).toString().trim();\n\n        if (!name.isEmpty()) {\n\n            if (!email.isEmpty()) {\n\n                if (email.contains(&quot;@&quot;) &amp;&amp; email.contains(&quot;.&quot;)) {\n\n                    if (!pass.isEmpty()) {\n\n                        if (pass.length() &gt;= 6) {\n\n                            if (cpass.equals(pass)) {\n\n                                StartAccountCreation(name, email, pass);\n\n                            } else {\n\n                                cpassTil.setError(getResources().getString(R.string.cpass_not_match));\n                                cpassTxtbx.requestFocus();\n\n                            }\n\n                        } else {\n\n                            passTil.setError(getResources().getString(R.string.password_greater));\n                            passTxtbx.requestFocus();\n\n                        }\n\n                    } else {\n\n                        passTil.setError(getResources().getString(R.string.field_required));\n                        passTxtbx.requestFocus();\n\n                    }\n\n                } else {\n\n                    emailTxtbx.setError(getResources().getString(R.string.valid_email));\n                    emailTxtbx.requestFocus();\n\n                }\n\n            } else {\n\n                emailTxtbx.setError(getResources().getString(R.string.field_required));\n                emailTxtbx.requestFocus();\n\n            }\n\n        } else {\n\n            nameTxtbx.setError(getResources().getString(R.string.field_required));\n            nameTxtbx.requestFocus();\n\n        }\n\n    }\n\n    private void StartAccountCreation(String name, String email, String pass) {\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(RegisterActivity.this, R.style.CustomAlertDialogTheme);\n        LayoutInflater inflater = getLayoutInflater();\n\n        @SuppressLint(&quot;InflateParams&quot;)\n        View dialogView = inflater.inflate(R.layout.primary_progress_dialog, null);\n        builder.setView(dialogView);\n        builder.setCancelable(false);\n\n        AlertDialog dialog = builder.create();\n        dialog.show();\n\n        HandleOrientation(true);\n\n        auth.createUserWithEmailAndPassword(email, pass)\n                .addOnSuccessListener(authResult -&gt;\n\n                        Objects.requireNonNull(auth.getCurrentUser()).sendEmailVerification()\n                                .addOnSuccessListener(aVoid -&gt; {\n\n                                    String CAID = auth.getCurrentUser().getUid();\n\n                                    HashMap&lt;String, Object&gt; accountMap = new HashMap&lt;&gt;();\n                                    accountMap.put(&quot;date&quot;, FieldValue.serverTimestamp());\n                                    accountMap.put(&quot;name&quot;, name);\n\n                                    firestore.collection(&quot;Accounts&quot;).document(CAID).set(accountMap)\n                                            .addOnSuccessListener(aVoid1 -&gt; {\n                                                HandleOrientation(false);\n                                                dialog.dismiss();\n                                                CreateDialog();\n                                            })\n                                            .addOnFailureListener(e -&gt; {\n                                                HandleOrientation(false);\n                                                dialog.dismiss();\n                                                Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                                            });\n\n                                })\n                                .addOnFailureListener(e -&gt; {\n                                    HandleOrientation(false);\n                                    dialog.dismiss();\n                                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                                }))\n\n                .addOnFailureListener(e -&gt; {\n                    HandleOrientation(false);\n                    dialog.dismiss();\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                });\n\n    }\n\n    private void HideSoftKeyboard() {\n\n        RegisterActivity activity = RegisterActivity.this;\n\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        View view = activity.getCurrentFocus();\n        if (view == null)\n            view = new View(activity);\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n\n    }\n\n    private void HandleOrientation(boolean intention) {\n\n        RegisterActivity activity = RegisterActivity.this;\n\n        if (intention) {\n            activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LOCKED);\n        } else {\n            activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\n        }\n\n    }\n\n    private void CreateDialog() {\n\n        new MaterialAlertDialogBuilder(RegisterActivity.this)\n                .setTitle(getResources().getString(R.string.verification_sent))\n                .setMessage(getResources().getString(R.string.verification_sent_msg))\n                .setPositiveButton(getResources().getString(R.string.ok), (dialog, which) -&gt; dialog.dismiss())\n                .show();\n\n    }\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>I found out that this only happens when using the app in portrait mode. I always see the dialog appear in landscape but in portrait mode it won't show up, then it would start the main activity and crash immediately.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":0,"creation_date":1632646704,"post_id":69333096,"comment_id":122544870,"body_markdown":"Please add the code fragment from the service / controller from where you are invoking the save call into the `TestRepository`","body":"Please add the code fragment from the service / controller from where you are invoking the save call into the <code>TestRepository</code>"},{"owner":{"account_id":22862956,"reputation":28,"user_id":17006732,"display_name":"bulbul"},"score":0,"creation_date":1632646989,"post_id":69333096,"comment_id":122544927,"body_markdown":"@RatulSharker\nadded","body":"@RatulSharker added"},{"owner":{"account_id":22862956,"reputation":28,"user_id":17006732,"display_name":"bulbul"},"score":0,"creation_date":1632799364,"post_id":69333096,"comment_id":122584323,"body_markdown":"@RatulSharker\nYes I solved the problem just Adding \n{\nallOrgMstSubSection:null\n}","body":"@RatulSharker Yes I solved the problem just Adding  { allOrgMstSubSection:null }"}],"answers":[{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632647623,"creation_date":1632647187,"answer_id":69333350,"question_id":69333096,"body_markdown":"From the log you provided and the model, its clear that you are trying to save an non-managed object, which have `id`. \r\n\r\nThe solution is to before saving, make the transient object managed (Which are already in the db).\r\n\r\nHere the \r\n\r\n```json\r\n&quot;allOrgMstSection&quot;: {\r\n        &quot;id&quot;: 23\r\n    },\r\n```\r\n\r\nportion seems to already present in the database. Grabbing the managed object / proxy object will solve the issue.\r\n\r\nThe `service` layer code should be similar to following\r\n\r\n```java\r\npublic Test save(Test test) {\r\n    if(test.getAllOrgMstSection() != null &amp;&amp; test.getAllOrgMstSection().getId() != null) {\r\n        Long id = test.getAllOrgMstSection().getId();        \r\n        test.setAllOrgMstSection(allOrgMstSectionRepository.getOne(id));\r\n    }\r\n\r\n    if(test.getAllOrgMstSubSection() != null &amp;&amp; test.getAllOrgMstSubSection().getId() != null ) {\r\n        Long id = test.getAllOrgMstSubSection().getId();\r\n        test.setAllOrgMstSubSection(allOrgMstSubSectionRepository.getOne(id));\r\n    }\r\n    return testRepository.save(test);\r\n}\r\n``` \r\n\r\nBasically what is done, managed the child object (if they are already present in the database) before saving the parent object. If it does not present in the database.\r\n\r\nIf you need to perform any update on the child object (i.e updating `allOrgMstSection` while saving the `test` entity) you have to manually copy the properties. In that case, you could use [`BeanUtils.copyProperties()`][1]\r\n\r\nThe code should be similar to following\r\n\r\n```\r\nif(test.getAllOrgMstSection() != null &amp;&amp; test.getAllOrgMstSection().getId() != null) {\r\n     AllOrgMstSection updatedAllOrgMsgSection = test.getAllOrgMstSection();\r\n\r\n     Long id = test.getAllOrgMstSection().getId();\r\n     AllOrgMstSection existingAllOrgMstSection = allOrgMstSectionRepository.findById(id);\r\n     \r\n     BeanUtils.copyProperties(updatedAllOrgMsgSection, existingAllOrgMstSection /*pass property names you don&#39;t want to update*/);\r\n     test.setAllOrgMstSection(existingAllOrgMstSection);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-","title":"TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing :","body":"<p>From the log you provided and the model, its clear that you are trying to save an non-managed object, which have <code>id</code>.</p>\n<p>The solution is to before saving, make the transient object managed (Which are already in the db).</p>\n<p>Here the</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;allOrgMstSection&quot;: {\n        &quot;id&quot;: 23\n    },\n</code></pre>\n<p>portion seems to already present in the database. Grabbing the managed object / proxy object will solve the issue.</p>\n<p>The <code>service</code> layer code should be similar to following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Test save(Test test) {\n    if(test.getAllOrgMstSection() != null &amp;&amp; test.getAllOrgMstSection().getId() != null) {\n        Long id = test.getAllOrgMstSection().getId();        \n        test.setAllOrgMstSection(allOrgMstSectionRepository.getOne(id));\n    }\n\n    if(test.getAllOrgMstSubSection() != null &amp;&amp; test.getAllOrgMstSubSection().getId() != null ) {\n        Long id = test.getAllOrgMstSubSection().getId();\n        test.setAllOrgMstSubSection(allOrgMstSubSectionRepository.getOne(id));\n    }\n    return testRepository.save(test);\n}\n</code></pre>\n<p>Basically what is done, managed the child object (if they are already present in the database) before saving the parent object. If it does not present in the database.</p>\n<p>If you need to perform any update on the child object (i.e updating <code>allOrgMstSection</code> while saving the <code>test</code> entity) you have to manually copy the properties. In that case, you could use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>BeanUtils.copyProperties()</code></a></p>\n<p>The code should be similar to following</p>\n<pre><code>if(test.getAllOrgMstSection() != null &amp;&amp; test.getAllOrgMstSection().getId() != null) {\n     AllOrgMstSection updatedAllOrgMsgSection = test.getAllOrgMstSection();\n\n     Long id = test.getAllOrgMstSection().getId();\n     AllOrgMstSection existingAllOrgMstSection = allOrgMstSectionRepository.findById(id);\n     \n     BeanUtils.copyProperties(updatedAllOrgMsgSection, existingAllOrgMstSection /*pass property names you don't want to update*/);\n     test.setAllOrgMstSection(existingAllOrgMstSection);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20031720,"reputation":94,"user_id":14684329,"display_name":"Bulbul Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632799473,"creation_date":1632799473,"answer_id":69355437,"question_id":69333096,"body_markdown":"just simply soled the issue\r\n```\r\n{\r\n   &quot;allOrgMstSection&quot;: {\r\n        &quot;id&quot;: 23\r\n    },\r\n    &quot;allOrgMstSubSection&quot;: null,\r\n}\r\n```","title":"TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing :","body":"<p>just simply soled the issue</p>\n<pre><code>{\n   &quot;allOrgMstSection&quot;: {\n        &quot;id&quot;: 23\n    },\n    &quot;allOrgMstSubSection&quot;: null,\n}\n</code></pre>\n"}],"owner":{"account_id":22862956,"reputation":28,"user_id":17006732,"display_name":"bulbul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69355437,"answer_count":2,"score":1,"last_activity_date":1632799473,"creation_date":1632644964,"question_id":69333096,"body_markdown":"```\r\n@Entity\r\n@Table(name=&quot;tbl_name&quot;)\r\npublic class Test extends BaseEntity {\r\n\r\n    @OneToOne( fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ALL_ORG_MST_SECTION_ID&quot;,nullable = true)\r\n    private AllOrgMst allOrgMstSection;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY )\r\n    @JoinColumn(name = &quot;ALL_ORG_MST_SUB_SECTION_ID&quot;,nullable = true)\r\n    private AllOrgMst allOrgMstSubSection;\r\n\r\n\r\n\t\r\n}\r\n```\r\nThis is the model . when I insert this model one object is null value then show \r\nme the error \r\n\r\nPost man Object pass \r\n```\r\n{\r\n   &quot;allOrgMstSection&quot;: {\r\n        &quot;id&quot;: 23\r\n    },\r\n    &quot;allOrgMstSubSection&quot;: {\r\n        &quot;id&quot;: null\r\n    }\r\n}\r\n```\r\n```\r\n  @Autowired\r\n    private TestRepository testRepository;\r\n\r\n    @Override\r\n    public Test save2(Test entity) {\r\n        return testRepository.save(entity);\r\n    }\r\n```\r\nIn baseEntity have the Id ","title":"TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing :","body":"<pre><code>@Entity\n@Table(name=&quot;tbl_name&quot;)\npublic class Test extends BaseEntity {\n\n    @OneToOne( fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ALL_ORG_MST_SECTION_ID&quot;,nullable = true)\n    private AllOrgMst allOrgMstSection;\n\n    @OneToOne(fetch = FetchType.LAZY )\n    @JoinColumn(name = &quot;ALL_ORG_MST_SUB_SECTION_ID&quot;,nullable = true)\n    private AllOrgMst allOrgMstSubSection;\n\n\n    \n}\n</code></pre>\n<p>This is the model . when I insert this model one object is null value then show\nme the error</p>\n<p>Post man Object pass</p>\n<pre><code>{\n   &quot;allOrgMstSection&quot;: {\n        &quot;id&quot;: 23\n    },\n    &quot;allOrgMstSubSection&quot;: {\n        &quot;id&quot;: null\n    }\n}\n</code></pre>\n<pre><code>  @Autowired\n    private TestRepository testRepository;\n\n    @Override\n    public Test save2(Test entity) {\n        return testRepository.save(entity);\n    }\n</code></pre>\n<p>In baseEntity have the Id</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1632751789,"post_id":69348082,"comment_id":122571049,"body_markdown":"*&quot;the line is getting displayed not in the way I want it to be displayed &quot;*. What is the way you want it to be displayed?","body":"<i>&quot;the line is getting displayed not in the way I want it to be displayed &quot;</i>. What is the way you want it to be displayed?"},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1632752716,"post_id":69348082,"comment_id":122571471,"body_markdown":"I&#39;ve shown a picture","body":"I&#39;ve shown a picture"},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1632752728,"post_id":69348082,"comment_id":122571477,"body_markdown":"@James_D I&#39;ve included a picture","body":"@James_D I&#39;ve included a picture"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1632752857,"post_id":69348082,"comment_id":122571529,"body_markdown":"OK, if the picture is how you want it, then how is the current code displaying it? Please provide an actual [mre]: one we can copy and paste the code, compile it, and run it. The code you posted doesn&#39;t even compile. Get rid of all the irrelevant stuff, and complete it so it compiles and actually does something when it&#39;s executed.","body":"OK, if the picture is how you want it, then how is the current code displaying it? Please provide an actual <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: one we can copy and paste the code, compile it, and run it. The code you posted doesn&#39;t even compile. Get rid of all the irrelevant stuff, and complete it so it compiles and actually does something when it&#39;s executed."},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1632753894,"post_id":69348082,"comment_id":122571955,"body_markdown":"@James_D sorry about that , I&#39;ve just edited the code","body":"@James_D sorry about that , I&#39;ve just edited the code"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1632765365,"post_id":69348082,"comment_id":122576544,"body_markdown":"So the issue is the size/shape of the dashes and the size of the gaps between them?","body":"So the issue is the size/shape of the dashes and the size of the gaps between them?"},{"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1632769153,"post_id":69348082,"comment_id":122577877,"body_markdown":"@James_D the issue is with , the rectangualr border around the line , and the way my line is getting printed , my line is getting printed from bottom to top , in other words m the starting of the line is the mouse pointer and it goes up , I want it to be the other way around , the mouse pointer as the starting point and the the line goes down","body":"@James_D the issue is with , the rectangualr border around the line , and the way my line is getting printed , my line is getting printed from bottom to top , in other words m the starting of the line is the mouse pointer and it goes up , I want it to be the other way around , the mouse pointer as the starting point and the the line goes down"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632798533,"creation_date":1632798533,"answer_id":69355341,"question_id":69348082,"body_markdown":"Focusing on _just_ drawing a line interactively, you need to _at least_ do the following:\r\n\r\n1. Record the initial point at which the mouse was pressed and then\r\n\r\n2. Render the line when you know where the mouse was released:\r\n\r\n        private double startX;\r\n        private double startY;\r\n        \r\n        canvas.setOnMousePressed(e -&gt; {\r\n            startX = e.getX();\r\n            startY = e.getY();\r\n        });\r\n        canvas.setOnMouseReleased(e -&gt; {\r\n            gc.strokeLine(startX, startY, e.getX(), e.getY());\r\n        });\r\n\r\n[![image][1]][1]\r\n \r\nThis works as shown above, but the [problem][2] then becomes how to draw the line _while_ draggingwithout damaging previous work. One solution is to add each new line to a `List&lt;Line&gt;` and render the accumulated lines with each update:\r\n\r\n    private final List&lt;Line&gt; lines = new ArrayList&lt;&gt;();\r\n    \r\n    canvas.setOnMouseReleased(e -&gt; {\r\n        lines.add(new Line(startX, startY, e.getX(), e.getY()));\r\n    });\r\n    canvas.setOnMouseDragged(e -&gt; {\r\n        if (lineButton.isSelected()) {\r\n            \r\n            gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n            lines.forEach(l -&gt; {\r\n                gc.strokeLine(l.getStartX(), l.getStartY(), l.getEndX(), l.getEndY());\r\n            });\r\n            gc.strokeLine(startX, startY, e.getX(), e.getY());\r\n        }\r\n    });\r\n\r\nA more general solution, which illustrates `undo()` and `redo()`, is offered [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YE9jB.png\r\n  [2]: https://stackoverflow.com/a/40644102/230513","title":"Line painting in painting program JavaFX","body":"<p>Focusing on <em>just</em> drawing a line interactively, you need to <em>at least</em> do the following:</p>\n<ol>\n<li><p>Record the initial point at which the mouse was pressed and then</p>\n</li>\n<li><p>Render the line when you know where the mouse was released:</p>\n<pre><code> private double startX;\n private double startY;\n \n canvas.setOnMousePressed(e -&gt; {\n     startX = e.getX();\n     startY = e.getY();\n });\n canvas.setOnMouseReleased(e -&gt; {\n     gc.strokeLine(startX, startY, e.getX(), e.getY());\n });\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YE9jB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YE9jB.png\" alt=\"image\" /></a></p>\n<p>This works as shown above, but the <a href=\"https://stackoverflow.com/a/40644102/230513\">problem</a> then becomes how to draw the line <em>while</em> draggingwithout damaging previous work. One solution is to add each new line to a <code>List&lt;Line&gt;</code> and render the accumulated lines with each update:</p>\n<pre><code>private final List&lt;Line&gt; lines = new ArrayList&lt;&gt;();\n\ncanvas.setOnMouseReleased(e -&gt; {\n    lines.add(new Line(startX, startY, e.getX(), e.getY()));\n});\ncanvas.setOnMouseDragged(e -&gt; {\n    if (lineButton.isSelected()) {\n        \n        gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\n        lines.forEach(l -&gt; {\n            gc.strokeLine(l.getStartX(), l.getStartY(), l.getEndX(), l.getEndY());\n        });\n        gc.strokeLine(startX, startY, e.getX(), e.getY());\n    }\n});\n</code></pre>\n<p>A more general solution, which illustrates <code>undo()</code> and <code>redo()</code>, is offered <a href=\"https://stackoverflow.com/a/40644102/230513\">here</a>.</p>\n"}],"owner":{"account_id":21628202,"reputation":99,"user_id":15952224,"display_name":"Mohammed Hamdoon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":69355341,"answer_count":1,"score":-1,"last_activity_date":1632798533,"creation_date":1632751586,"question_id":69348082,"body_markdown":"I created a simple paint program which allows the user to choose between 4 shapes(line,circle,rectangle,ellipse) , the user can change the width height and stroke width , he can save the design he makes , undo and redo , the user can also choose the stroke type (solid or dashed) ,I&#39;m almost done with the program but I&#39;m facing one problem , the line is getting displayed not in the way I want it to be displayed as the photo below :\r\n\r\n[![Line][1]][1]\r\n\r\nSo the line here is of width 32 and height 32 , my line is getting printed in a different way.Is it correct the way I&#39;m printing my line ?\r\n\r\nNOTE : I&#39;m using the line shape in the code to make the code small.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Cursor;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.canvas.GraphicsContext;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Line;\r\n    import javafx.stage.Stage;\r\n\r\n    public class paintLine extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        Image image1 = new\r\n                \r\n    Image(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\laol\\\\src\\\\resources\\\\Daco_70400.png&quot;, \r\n    100, 100, false, false);\r\n        ImageView view1 = new ImageView(image1);\r\n        view1.setFitHeight(40);\r\n        view1.setPreserveRatio(true);\r\n        ToggleButton linebtn = new ToggleButton();\r\n        linebtn.setGraphic(view1);\r\n        ToggleButton[] toolsArr = {linebtn};\r\n\r\n        ToggleGroup tools = new ToggleGroup();\r\n\r\n        for (ToggleButton tool : toolsArr) {\r\n            tool.setMinWidth(50);\r\n            tool.setToggleGroup(tools);\r\n            tool.setCursor(Cursor.HAND);\r\n        }\r\n        ColorPicker cpLine = new ColorPicker(Color.BLACK);\r\n        ColorPicker cpFill = new ColorPicker(Color.TRANSPARENT);\r\n\r\n        TextField textWidth = new TextField(&quot;32&quot;);\r\n        TextField textHeight = new TextField(&quot;32&quot;);\r\n        TextField contouring = new TextField(&quot;2&quot;);\r\n        Label line_color = new Label(&quot;Line Color&quot;);\r\n        Label fill_color = new Label(&quot;Fill Color&quot;);\r\n        Label line_width = new Label(&quot;3.0&quot;);\r\n        Label imgWidth = new Label(&quot;Width&quot;);\r\n        Label imgHeight = new Label(&quot;Height&quot;);\r\n        String week_days[] =\r\n                {&quot;Solid&quot;, &quot;Dotted&quot;};\r\n        ChoiceBox choiceBox = new ChoiceBox(FXCollections\r\n                .observableArrayList(week_days));\r\n        VBox btns = new VBox(10);\r\n        btns.getChildren().addAll(linebtn, imgWidth, textWidth, imgHeight, \r\n    textHeight, line_color, cpLine,\r\n                fill_color, cpFill, line_width, contouring, choiceBox);\r\n        btns.setPadding(new Insets(5));\r\n        btns.setStyle(&quot;-fx-background-color: #999&quot;);\r\n        btns.setPrefWidth(100);\r\n        Canvas canvas = new Canvas(1080, 790);\r\n        GraphicsContext gc;\r\n        gc = canvas.getGraphicsContext2D();\r\n        gc.setLineWidth(1);\r\n        Line line = new Line();\r\n        canvas.setOnMouseClicked(e -&gt; {\r\n            if (linebtn.isSelected()) {\r\n    //                double widthSize = \r\n     Double.parseDouble(textWidth.getText());\r\n    //                double heightSize = \r\n    Double.parseDouble(textHeight.getText());\r\n                double strokeWidth = \r\n    Double.parseDouble(contouring.getText());\r\n    //                gc.setLineWidth(strokeWidth);\r\n                gc.setStroke(cpLine.getValue());\r\n                if (choiceBox.getSelectionModel().isSelected(0)) {\r\n                    gc.setLineWidth(strokeWidth);\r\n                } else if (choiceBox.getSelectionModel().isSelected(1)) {\r\n                    gc.setLineWidth(strokeWidth);\r\n                    gc.setLineDashes(10);\r\n                }\r\n                gc.setFill(cpFill.getValue());\r\n                line.setStartX(e.getX());\r\n                line.setStartY(e.getY());\r\n                line.setEndX(e.getX() / 2);\r\n                line.setEndY(e.getY() / 2);\r\n                gc.strokeLine(line.getStartX(), line.getStartY(), \r\n    line.getEndX(), line.getEndY());\r\n            }\r\n        });\r\n        BorderPane pane = new BorderPane();\r\n        pane.setRight(btns);\r\n        pane.setCenter(canvas);\r\n\r\n        Scene scene = new Scene(pane, 1200, 800);\r\n\r\n        primaryStage.setTitle(&quot;Paint&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q0rbu.png","title":"Line painting in painting program JavaFX","body":"<p>I created a simple paint program which allows the user to choose between 4 shapes(line,circle,rectangle,ellipse) , the user can change the width height and stroke width , he can save the design he makes , undo and redo , the user can also choose the stroke type (solid or dashed) ,I'm almost done with the program but I'm facing one problem , the line is getting displayed not in the way I want it to be displayed as the photo below :</p>\n<p><a href=\"https://i.stack.imgur.com/Q0rbu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q0rbu.png\" alt=\"Line\" /></a></p>\n<p>So the line here is of width 32 and height 32 , my line is getting printed in a different way.Is it correct the way I'm printing my line ?</p>\n<p>NOTE : I'm using the line shape in the code to make the code small.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.geometry.Insets;\nimport javafx.scene.Cursor;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.control.*;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\npublic class paintLine extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n\n    Image image1 = new\n            \nImage(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\laol\\\\src\\\\resources\\\\Daco_70400.png&quot;, \n100, 100, false, false);\n    ImageView view1 = new ImageView(image1);\n    view1.setFitHeight(40);\n    view1.setPreserveRatio(true);\n    ToggleButton linebtn = new ToggleButton();\n    linebtn.setGraphic(view1);\n    ToggleButton[] toolsArr = {linebtn};\n\n    ToggleGroup tools = new ToggleGroup();\n\n    for (ToggleButton tool : toolsArr) {\n        tool.setMinWidth(50);\n        tool.setToggleGroup(tools);\n        tool.setCursor(Cursor.HAND);\n    }\n    ColorPicker cpLine = new ColorPicker(Color.BLACK);\n    ColorPicker cpFill = new ColorPicker(Color.TRANSPARENT);\n\n    TextField textWidth = new TextField(&quot;32&quot;);\n    TextField textHeight = new TextField(&quot;32&quot;);\n    TextField contouring = new TextField(&quot;2&quot;);\n    Label line_color = new Label(&quot;Line Color&quot;);\n    Label fill_color = new Label(&quot;Fill Color&quot;);\n    Label line_width = new Label(&quot;3.0&quot;);\n    Label imgWidth = new Label(&quot;Width&quot;);\n    Label imgHeight = new Label(&quot;Height&quot;);\n    String week_days[] =\n            {&quot;Solid&quot;, &quot;Dotted&quot;};\n    ChoiceBox choiceBox = new ChoiceBox(FXCollections\n            .observableArrayList(week_days));\n    VBox btns = new VBox(10);\n    btns.getChildren().addAll(linebtn, imgWidth, textWidth, imgHeight, \ntextHeight, line_color, cpLine,\n            fill_color, cpFill, line_width, contouring, choiceBox);\n    btns.setPadding(new Insets(5));\n    btns.setStyle(&quot;-fx-background-color: #999&quot;);\n    btns.setPrefWidth(100);\n    Canvas canvas = new Canvas(1080, 790);\n    GraphicsContext gc;\n    gc = canvas.getGraphicsContext2D();\n    gc.setLineWidth(1);\n    Line line = new Line();\n    canvas.setOnMouseClicked(e -&gt; {\n        if (linebtn.isSelected()) {\n//                double widthSize = \n Double.parseDouble(textWidth.getText());\n//                double heightSize = \nDouble.parseDouble(textHeight.getText());\n            double strokeWidth = \nDouble.parseDouble(contouring.getText());\n//                gc.setLineWidth(strokeWidth);\n            gc.setStroke(cpLine.getValue());\n            if (choiceBox.getSelectionModel().isSelected(0)) {\n                gc.setLineWidth(strokeWidth);\n            } else if (choiceBox.getSelectionModel().isSelected(1)) {\n                gc.setLineWidth(strokeWidth);\n                gc.setLineDashes(10);\n            }\n            gc.setFill(cpFill.getValue());\n            line.setStartX(e.getX());\n            line.setStartY(e.getY());\n            line.setEndX(e.getX() / 2);\n            line.setEndY(e.getY() / 2);\n            gc.strokeLine(line.getStartX(), line.getStartY(), \nline.getEndX(), line.getEndY());\n        }\n    });\n    BorderPane pane = new BorderPane();\n    pane.setRight(btns);\n    pane.setCenter(canvas);\n\n    Scene scene = new Scene(pane, 1200, 800);\n\n    primaryStage.setTitle(&quot;Paint&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","math","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632798500,"creation_date":1632798500,"answer_id":69355337,"question_id":69354458,"body_markdown":"Solved refers to [Auto resized image][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49915660/draw-auto-resized-image-in-pdf-file-with-pdfbox\r\n\r\nby adding this function to scale image fit to rectangle \r\n\r\n    public static Dimension getScaledDimension(Dimension imgSize, Dimension boundary) {\r\n    \r\n            int original_width = imgSize.width;\r\n            int original_height = imgSize.height;\r\n            int bound_width = boundary.width;\r\n            int bound_height = boundary.height;\r\n            int new_width = original_width;\r\n            int new_height = original_height;\r\n    \r\n            // first check if we need to scale width\r\n            if (original_width &gt; bound_width) {\r\n                //scale width to fit\r\n                new_width = bound_width;\r\n                //scale height to maintain aspect ratio\r\n                new_height = (new_width * original_height) / original_width;\r\n            }\r\n    \r\n            // then check if we need to scale even with the new height\r\n            if (new_height &gt; bound_height) {\r\n                //scale height to fit instead\r\n                new_height = bound_height;\r\n                //scale width to maintain aspect ratio\r\n                new_width = (new_height * original_width) / original_height;\r\n            }\r\n    \r\n            return new Dimension(new_width, new_height);\r\n        }\r\n\r\nthen add to this function\r\n\r\n    Dimension scaledDim = getScaledDimension(new Dimension(img.getWidth(), img.getHeight()), new Dimension((int)rect.getWidth(), (int)rect.getHeight()));\r\n    \r\n    int x = ((int) rect.getWidth() - scaledDim.width) / 2;\r\n    int y = ((int) rect.getHeight() - scaledDim.height) / 2;\r\n\r\n    cs.drawImage(img, x, y, scaledDim.width, scaledDim.height);\r\n\r\n","title":"PDFBox set Signature to Center of the Rectangle","body":"<p>Solved refers to <a href=\"https://stackoverflow.com/questions/49915660/draw-auto-resized-image-in-pdf-file-with-pdfbox\">Auto resized image</a></p>\n<p>by adding this function to scale image fit to rectangle</p>\n<pre><code>public static Dimension getScaledDimension(Dimension imgSize, Dimension boundary) {\n\n        int original_width = imgSize.width;\n        int original_height = imgSize.height;\n        int bound_width = boundary.width;\n        int bound_height = boundary.height;\n        int new_width = original_width;\n        int new_height = original_height;\n\n        // first check if we need to scale width\n        if (original_width &gt; bound_width) {\n            //scale width to fit\n            new_width = bound_width;\n            //scale height to maintain aspect ratio\n            new_height = (new_width * original_height) / original_width;\n        }\n\n        // then check if we need to scale even with the new height\n        if (new_height &gt; bound_height) {\n            //scale height to fit instead\n            new_height = bound_height;\n            //scale width to maintain aspect ratio\n            new_width = (new_height * original_width) / original_height;\n        }\n\n        return new Dimension(new_width, new_height);\n    }\n</code></pre>\n<p>then add to this function</p>\n<pre><code>Dimension scaledDim = getScaledDimension(new Dimension(img.getWidth(), img.getHeight()), new Dimension((int)rect.getWidth(), (int)rect.getHeight()));\n\nint x = ((int) rect.getWidth() - scaledDim.width) / 2;\nint y = ((int) rect.getHeight() - scaledDim.height) / 2;\n\ncs.drawImage(img, x, y, scaledDim.width, scaledDim.height);\n</code></pre>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69355337,"answer_count":1,"score":0,"last_activity_date":1632798500,"creation_date":1632788414,"question_id":69354458,"body_markdown":"Using `PDFBox` i am try to set `signature` to center on the box of `rectacle`, assume the `rectacle` size is `120x60` and can be customized and image signature can vary, examples `1000*1000` or `640x320` etc. I am try with resize the signature like the box : \r\n\r\n    // save and restore graphics if the image is too large and needs to be scaled\r\n    cs.saveGraphicsState();\r\n    cs.transform(Matrix.getScaleInstance(0.85f, 0.85f));\r\n    PDImageXObject img = PDImageXObject.createFromFileByExtension(imageFile, doc);\r\n    \r\n    float wpercent = (rect.getWidth() / img.getWidth());\r\n    float newHeight = img.getHeight() * wpercent;\r\n   \r\n    \r\n    cs.drawImage(img, 0,0, rect.getWidth(), newHeight); //Resize image signature fit to rectangle and resize the height by percent to avoid stretch image\r\n    cs.restoreGraphicsState();\r\n\r\ntry to calculate coordinate inside the box\r\n\r\n    cs.drawImage(img, rect.getWidth()*0.10,rect.getHeight()*0.10, rect.getWidth(), newHeight);\r\n\r\nexample image got success set on center image size 1880x1000\r\n[![example image 1880x1000][1]][1]\r\n\r\n\r\nif the signature just QR size 1000x1000\r\n\r\n[![QR][2]][2]\r\n\r\nthe QR got cut off\r\n\r\n[![QR Cut off][3]][3]\r\n\r\nhow to fix that ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eab9j.png\r\n  [2]: https://i.stack.imgur.com/iK9YC.png\r\n  [3]: https://i.stack.imgur.com/B5DlV.png","title":"PDFBox set Signature to Center of the Rectangle","body":"<p>Using <code>PDFBox</code> i am try to set <code>signature</code> to center on the box of <code>rectacle</code>, assume the <code>rectacle</code> size is <code>120x60</code> and can be customized and image signature can vary, examples <code>1000*1000</code> or <code>640x320</code> etc. I am try with resize the signature like the box :</p>\n<pre><code>// save and restore graphics if the image is too large and needs to be scaled\ncs.saveGraphicsState();\ncs.transform(Matrix.getScaleInstance(0.85f, 0.85f));\nPDImageXObject img = PDImageXObject.createFromFileByExtension(imageFile, doc);\n\nfloat wpercent = (rect.getWidth() / img.getWidth());\nfloat newHeight = img.getHeight() * wpercent;\n\n\ncs.drawImage(img, 0,0, rect.getWidth(), newHeight); //Resize image signature fit to rectangle and resize the height by percent to avoid stretch image\ncs.restoreGraphicsState();\n</code></pre>\n<p>try to calculate coordinate inside the box</p>\n<pre><code>cs.drawImage(img, rect.getWidth()*0.10,rect.getHeight()*0.10, rect.getWidth(), newHeight);\n</code></pre>\n<p>example image got success set on center image size 1880x1000\n<a href=\"https://i.stack.imgur.com/Eab9j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eab9j.png\" alt=\"example image 1880x1000\" /></a></p>\n<p>if the signature just QR size 1000x1000</p>\n<p><a href=\"https://i.stack.imgur.com/iK9YC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iK9YC.png\" alt=\"QR\" /></a></p>\n<p>the QR got cut off</p>\n<p><a href=\"https://i.stack.imgur.com/B5DlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5DlV.png\" alt=\"QR Cut off\" /></a></p>\n<p>how to fix that ?</p>\n"},{"tags":["java","spring-mvc","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487252398,"creation_date":1487182109,"answer_id":42256994,"question_id":42256619,"body_markdown":"As your test is currently setup, none of the injected items in the base class are injected.\r\nThere are two techniques you can use to fix this:\r\n\r\n  1. Run using the Spring test runner (named SpringJUnit4ClassRunner.class).  This is fine for integration testing, which is out of scope.\r\n  2. Perform the injection by hand.  Use reflection and set the mapper in the BaseService class to a mock object.\r\n\r\nUse technique 2.\r\n\r\nCreate a utility that you use for testing that sets a data member using reflection.\r\nPerform a google search for &quot;set parent class variable reflection java&quot; or something close to that and you will find example reflection code.d\r\nThe utility should wrap the reflection code and take parameters for the data member name, the class object, the reference to the object in which to set the value, and anything else needed to perform the reflection.\r\n\r\nAnother option is to find a reflection utility (google, apache, and spring) should all have one.\r\n\r\nHere is a (non-functioning) example:\r\n\r\n    public static void setFieldObject(\r\n        final String fieldName,\r\n        final Object fieldValue,\r\n        final Object targetObject,\r\n        final Class targetClass)\r\n    throws\r\n        NoSuchFieldException,\r\n        IllegalAccessException\r\n    {\r\n        final Field targetField;\r\n\r\n        targetField = targetClass.getDeclaredField(fieldName);\r\n        targetField.setAccessible(true);\r\n\r\n        targetField.set(\r\n            targetObject,\r\n            fieldValue);\r\n    }\r\n","title":"how to mock super class that has injected dependencies","body":"<p>As your test is currently setup, none of the injected items in the base class are injected.\nThere are two techniques you can use to fix this:</p>\n\n<ol>\n<li>Run using the Spring test runner (named SpringJUnit4ClassRunner.class).  This is fine for integration testing, which is out of scope.</li>\n<li>Perform the injection by hand.  Use reflection and set the mapper in the BaseService class to a mock object.</li>\n</ol>\n\n<p>Use technique 2.</p>\n\n<p>Create a utility that you use for testing that sets a data member using reflection.\nPerform a google search for \"set parent class variable reflection java\" or something close to that and you will find example reflection code.d\nThe utility should wrap the reflection code and take parameters for the data member name, the class object, the reference to the object in which to set the value, and anything else needed to perform the reflection.</p>\n\n<p>Another option is to find a reflection utility (google, apache, and spring) should all have one.</p>\n\n<p>Here is a (non-functioning) example:</p>\n\n<pre><code>public static void setFieldObject(\n    final String fieldName,\n    final Object fieldValue,\n    final Object targetObject,\n    final Class targetClass)\nthrows\n    NoSuchFieldException,\n    IllegalAccessException\n{\n    final Field targetField;\n\n    targetField = targetClass.getDeclaredField(fieldName);\n    targetField.setAccessible(true);\n\n    targetField.set(\n        targetObject,\n        fieldValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3270631,"reputation":3649,"user_id":2754093,"accept_rate":100,"display_name":"Mouad EL Fakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487191942,"creation_date":1487190195,"answer_id":42259292,"question_id":42256619,"body_markdown":"Actually your code is somehow not so clear, however using Mockito to mock autowired fields is not so complicated, you have just to follow the right steps.\r\n\r\n\r\nLet&#39;s suppose that we want to create a unit test for `BaseService` :\r\n\r\n\r\n    public class BaseServiceTest {\r\n    \t\r\n        private static final BaseVO TEST_BaseVO = //intialize here...;\r\n        private static final BaseBVO TEST_BaseBVO = //intialize here...;  \r\n    \t\r\n    \tprivate static final BaseBVO TEST_BaseBVO_RESULT = //intialize here...;\r\n    \r\n        @InjectMocks\r\n        private BaseService baseService;\r\n    \r\n        @Mock\r\n        private HttpServletRequest request;\r\n    \r\n        @Mock\r\n        private ReloadableResourceBundleMessageSource messageSource;\r\n    \t\r\n    \t@Mock\r\n        private Mapper mapper;\r\n    \r\n        @BeforeMethod\r\n        public void initMocks(){\r\n    \t\t//This line of code is so important!! to initialize annotated fields. without it these fields would be null.\r\n    \t\t//Or just annotate this class with @RunWith(MockitoJUnitRunner.class)\r\n    \t\t\r\n            MockitoAnnotations.initMocks(this);\r\n    \t\t\r\n    \t\t//Here all fields annotated with @Mock or @Spy should be initialize and injected into BaseService.\r\n        }\r\n    \r\n        @Test\r\n        public void voToBvo_should_return_null_when_vo_is_null(){\r\n    \t\t\r\n    \t\t//Call testing method\r\n    \t\tBaseBVO result = baseService.voToBvo(null, TEST_BaseBVO.class);\r\n    \t\t\r\n    \t\t//Assertions\r\n    \t\tAssert.assertNull(result); \r\n        }\r\n    \t\r\n    \t@Test\r\n        public void voToBvo_should_not_return_null_when_vo_is_not_null(){\r\n    \t\t\r\n    \t\t//Mock calls\r\n    \t\tMockito.doReturn(TEST_BaseBVO_RESULT).when(mapper).map(TEST_BaseVO, TEST_BaseBVO.class)\r\n    \t\t\r\n    \t\t//Call testing method\r\n    \t\tBaseBVO result = baseService.voToBvo(TEST_BaseVO, TEST_BaseBVO.class);\r\n    \t\t\r\n    \t\t//Assertions\r\n    \t\tAssert.assertNotNull(result); \r\n    \t\tAssert.assertEquals(TEST_BaseBVO_RESULT, result);\r\n        }\r\n    }\r\n\r\nIt may sound to you that this unit test is silly ( actually it is silly :p ) but it describes the basic steps to create a successful UT using Mockito and also how to prevent NPE.","title":"how to mock super class that has injected dependencies","body":"<p>Actually your code is somehow not so clear, however using Mockito to mock autowired fields is not so complicated, you have just to follow the right steps.</p>\n\n<p>Let's suppose that we want to create a unit test for <code>BaseService</code> :</p>\n\n<pre><code>public class BaseServiceTest {\n\n    private static final BaseVO TEST_BaseVO = //intialize here...;\n    private static final BaseBVO TEST_BaseBVO = //intialize here...;  \n\n    private static final BaseBVO TEST_BaseBVO_RESULT = //intialize here...;\n\n    @InjectMocks\n    private BaseService baseService;\n\n    @Mock\n    private HttpServletRequest request;\n\n    @Mock\n    private ReloadableResourceBundleMessageSource messageSource;\n\n    @Mock\n    private Mapper mapper;\n\n    @BeforeMethod\n    public void initMocks(){\n        //This line of code is so important!! to initialize annotated fields. without it these fields would be null.\n        //Or just annotate this class with @RunWith(MockitoJUnitRunner.class)\n\n        MockitoAnnotations.initMocks(this);\n\n        //Here all fields annotated with @Mock or @Spy should be initialize and injected into BaseService.\n    }\n\n    @Test\n    public void voToBvo_should_return_null_when_vo_is_null(){\n\n        //Call testing method\n        BaseBVO result = baseService.voToBvo(null, TEST_BaseBVO.class);\n\n        //Assertions\n        Assert.assertNull(result); \n    }\n\n    @Test\n    public void voToBvo_should_not_return_null_when_vo_is_not_null(){\n\n        //Mock calls\n        Mockito.doReturn(TEST_BaseBVO_RESULT).when(mapper).map(TEST_BaseVO, TEST_BaseBVO.class)\n\n        //Call testing method\n        BaseBVO result = baseService.voToBvo(TEST_BaseVO, TEST_BaseBVO.class);\n\n        //Assertions\n        Assert.assertNotNull(result); \n        Assert.assertEquals(TEST_BaseBVO_RESULT, result);\n    }\n}\n</code></pre>\n\n<p>It may sound to you that this unit test is silly ( actually it is silly :p ) but it describes the basic steps to create a successful UT using Mockito and also how to prevent NPE.</p>\n"},{"tags":[],"owner":{"account_id":3074361,"reputation":397,"user_id":2604148,"accept_rate":77,"display_name":"ATEF CHAREF"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487264611,"creation_date":1487264611,"answer_id":42280336,"question_id":42256619,"body_markdown":"The solution is to add constructor for the abstarct class with injected parameter, in my case ( mapper) , then in the service call `super(mapper);` in the constructor of the service\r\nso in the tests I mock Mapper mapper, then I instanciate my class in `@Before`, so the mapper pass to the abstarct class as a Mock and not null.. It works fine for me. I hope its claire\r\n","title":"how to mock super class that has injected dependencies","body":"<p>The solution is to add constructor for the abstarct class with injected parameter, in my case ( mapper) , then in the service call <code>super(mapper);</code> in the constructor of the service\nso in the tests I mock Mapper mapper, then I instanciate my class in <code>@Before</code>, so the mapper pass to the abstarct class as a Mock and not null.. It works fine for me. I hope its claire</p>\n"},{"tags":[],"owner":{"account_id":6925524,"reputation":405,"user_id":5316732,"accept_rate":50,"display_name":"Pramendra Raghuwanshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487265989,"creation_date":1487265989,"answer_id":42280830,"question_id":42256619,"body_markdown":"I will suggest you, first to change in your **BaseService** file.\r\nChange the way of writing @Autowired as follows\r\n\r\n    private HttpServletRequest request;  \r\n    @Autowired(required = true)\r\n    public void setSpellChecker( HttpServletRequest request ){\r\n       this.request = request;\r\n    } \r\n\r\n    @Autowired\r\n    private ReloadableResourceBundleMessageSource messageSource;\r\n    public void setSpellChecker( ReloadableResourceBundleMessageSource messageSource ){\r\n       this.messageSource = messageSource;\r\n    }\r\n\r\nAnd when you will do that, now you can easily achieve test-cases with dependency. ","title":"how to mock super class that has injected dependencies","body":"<p>I will suggest you, first to change in your <strong>BaseService</strong> file.\nChange the way of writing @Autowired as follows</p>\n\n<pre><code>private HttpServletRequest request;  \n@Autowired(required = true)\npublic void setSpellChecker( HttpServletRequest request ){\n   this.request = request;\n} \n\n@Autowired\nprivate ReloadableResourceBundleMessageSource messageSource;\npublic void setSpellChecker( ReloadableResourceBundleMessageSource messageSource ){\n   this.messageSource = messageSource;\n}\n</code></pre>\n\n<p>And when you will do that, now you can easily achieve test-cases with dependency. </p>\n"},{"tags":[],"owner":{"account_id":10596906,"reputation":9,"user_id":7805260,"display_name":"Anzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632798492,"creation_date":1632798492,"answer_id":69355334,"question_id":42256619,"body_markdown":"After injecting your mocks, try to initialize them using `@Before`.\r\n\r\neg:    \r\n    \r\n\r\n    @Mock\r\n    private HttpServletRequest request;\r\n    \r\n    @Mock\r\n    private Mapper mapper;\r\n    \r\n    @InjectMocks\r\n    private BaseService baseService;\r\n    \r\n    @Before\r\n    public void initMocks(){    \r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nWorked for me.","title":"how to mock super class that has injected dependencies","body":"<p>After injecting your mocks, try to initialize them using <code>@Before</code>.</p>\n<p>eg:</p>\n<pre><code>@Mock\nprivate HttpServletRequest request;\n\n@Mock\nprivate Mapper mapper;\n\n@InjectMocks\nprivate BaseService baseService;\n\n@Before\npublic void initMocks(){    \n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n<p>Worked for me.</p>\n"}],"owner":{"account_id":3074361,"reputation":397,"user_id":2604148,"accept_rate":77,"display_name":"ATEF CHAREF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11481,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42280336,"answer_count":5,"score":5,"last_activity_date":1632798492,"creation_date":1487180865,"question_id":42256619,"body_markdown":"I have a project that uses Spring MVC.\r\nI&#39;m trying to write unit tests for the service module,\r\nwhich is in the architecture of the project.\r\nAll service classes extend from super class named &quot;BaseService&quot;.\r\nBaseService is like this:\r\n\r\n    public abstract class BaseService {\r\n\r\n\tprivate static final Logger\t logger = LoggerFactory.getLogger(BaseService.class);\r\n\r\n\t@Autowired(required = true)\r\n\tprivate HttpServletRequest\t request;\r\n\r\n\t@Autowired\r\n\tprivate ReloadableResourceBundleMessageSource messageSource;\r\n\r\n\t/*\r\n\t * Injecting Mapper\r\n\t */\r\n\t@Resource\r\n\tprivate Mapper mapper;\r\n    ...\r\n    \r\n    public &lt;T extends BaseBVO, S extends BaseVO&gt; T voToBvo (S vo, Class&lt;?     extends BaseBVO&gt; bvoClass) {\r\n\r\n\t\tif (vo != null)\r\n\t\t{\r\n\t\t\treturn (T) mapper.map(vo , bvoClass);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nnow I have a method in the service module that use the method: \r\n\r\n    &quot;voToBvo (S vo, Class&lt;?     extends BaseBVO&gt; bvoClass&quot;)\r\n\r\nlike this:\r\n\r\n    public List&lt;AdcOptionBVO&gt; findOptionByAyantDroitIdAndProduitId (Long idAyantDroit, String idProduit) {\r\n\r\n\t\t....\r\n\r\n\t\t\tlist = listVoToBvo(adcList , AdcOptionBVO.class);\r\n\t\t\tlogger.info(&quot;Returning List of ayrp count= {}&quot; , list.size());\r\n\t\t\r\n\t\treturn list;\r\n\t}\r\n\r\n\r\nMy test is like this: \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AdcServiceImplTest{\r\n\r\n    @Mock\r\n    private Mapper mapper;\r\n\r\n        @Test\r\n    public void shouldSuccessFindOptionByAyantDroitIdandProduitId() {\r\n        //Given\r\n        List&lt;AdcVO&gt; adcVOList = new ArrayList&lt;&gt;();\r\n        adcVOList.add(new AdcVO());\r\n        \r\n        List&lt;AdcOptionBVO&gt; listAdcOptionBVO = new ArrayList&lt;&gt;();\r\n        listAdcOptionBVO.add(new AdcOptionBVO());\r\n\r\n        List&lt;BaseBVO&gt; baseBVOs = new ArrayList&lt;&gt;();\r\n\r\n        //When\r\n        when(repository\r\n                .finAdcByOptionOrderByRUAndPrio(anyLong(), anyString())).thenReturn(adcVOList);\r\n\r\n        when(baseService.listVoToBvo(adcVOList,  AdcOptionBVO.class)).thenReturn(baseBVOs);\r\n    \r\n\r\n        //Then\r\n        assertEquals(adcService\r\n                .findOptionByAyantDroitIdAndProduitId(anyLong(), anyString()).size(), adcVOList.size());\r\n\r\n    }\r\n    }\r\n\r\nI get a java.lang.NullPointerException in BaseService.java when calling the mapper.\r\n\r\n     @Resource\r\n     private Mapper mapper;\r\n\r\nthe mapper is null!\r\n\r\nI want to mock the method: \r\n\r\n    listVoToBvo(adcList , AdcOptionBVO.class);\r\n\r\nPlease help.\r\n\r\n","title":"how to mock super class that has injected dependencies","body":"<p>I have a project that uses Spring MVC.\nI'm trying to write unit tests for the service module,\nwhich is in the architecture of the project.\nAll service classes extend from super class named \"BaseService\".\nBaseService is like this:</p>\n\n<pre><code>public abstract class BaseService {\n\nprivate static final Logger  logger = LoggerFactory.getLogger(BaseService.class);\n\n@Autowired(required = true)\nprivate HttpServletRequest   request;\n\n@Autowired\nprivate ReloadableResourceBundleMessageSource messageSource;\n\n/*\n * Injecting Mapper\n */\n@Resource\nprivate Mapper mapper;\n...\n\npublic &lt;T extends BaseBVO, S extends BaseVO&gt; T voToBvo (S vo, Class&lt;?     extends BaseBVO&gt; bvoClass) {\n\n    if (vo != null)\n    {\n        return (T) mapper.map(vo , bvoClass);\n    }\n    else\n    {\n        return null;\n    }\n}\n</code></pre>\n\n<p>now I have a method in the service module that use the method: </p>\n\n<pre><code>\"voToBvo (S vo, Class&lt;?     extends BaseBVO&gt; bvoClass\")\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>public List&lt;AdcOptionBVO&gt; findOptionByAyantDroitIdAndProduitId (Long idAyantDroit, String idProduit) {\n\n    ....\n\n        list = listVoToBvo(adcList , AdcOptionBVO.class);\n        logger.info(\"Returning List of ayrp count= {}\" , list.size());\n\n    return list;\n}\n</code></pre>\n\n<p>My test is like this: </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AdcServiceImplTest{\n\n@Mock\nprivate Mapper mapper;\n\n    @Test\npublic void shouldSuccessFindOptionByAyantDroitIdandProduitId() {\n    //Given\n    List&lt;AdcVO&gt; adcVOList = new ArrayList&lt;&gt;();\n    adcVOList.add(new AdcVO());\n\n    List&lt;AdcOptionBVO&gt; listAdcOptionBVO = new ArrayList&lt;&gt;();\n    listAdcOptionBVO.add(new AdcOptionBVO());\n\n    List&lt;BaseBVO&gt; baseBVOs = new ArrayList&lt;&gt;();\n\n    //When\n    when(repository\n            .finAdcByOptionOrderByRUAndPrio(anyLong(), anyString())).thenReturn(adcVOList);\n\n    when(baseService.listVoToBvo(adcVOList,  AdcOptionBVO.class)).thenReturn(baseBVOs);\n\n\n    //Then\n    assertEquals(adcService\n            .findOptionByAyantDroitIdAndProduitId(anyLong(), anyString()).size(), adcVOList.size());\n\n}\n}\n</code></pre>\n\n<p>I get a java.lang.NullPointerException in BaseService.java when calling the mapper.</p>\n\n<pre><code> @Resource\n private Mapper mapper;\n</code></pre>\n\n<p>the mapper is null!</p>\n\n<p>I want to mock the method: </p>\n\n<pre><code>listVoToBvo(adcList , AdcOptionBVO.class);\n</code></pre>\n\n<p>Please help.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1149789,"reputation":79,"user_id":1131741,"display_name":"rubybeginner"},"score":0,"creation_date":1686208808,"post_id":69340171,"comment_id":134768387,"body_markdown":"Hey @Aravind R, did you find a solution to your problem?","body":"Hey @Aravind R, did you find a solution to your problem?"}],"owner":{"account_id":463588,"reputation":736,"user_id":866586,"accept_rate":62,"display_name":"Aravind R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632797817,"creation_date":1632704882,"question_id":69340171,"body_markdown":"I am trying to use Spring Config server and is trying to explore the &#39;repos&#39;. Please see the configuration below where am trying to add a search folder under a dummy repository. When I add the search path on top (&#39;folder1&#39;) it works just fine however when I add a search path for sample 2, it is not searching the path inside. What am I doing wrong here?. Any help is appreciated.\r\n\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri: file://${user.home}/Documents/sample1\r\n          default-label: main\r\n          search-paths: folder1\r\n          cloneOnStart: true\r\n        repos:\r\n         dummy:\r\n            #pattern: dev*\r\n            uri: file://${user.home}/Documents/sample2\r\n            search-paths: folder2 // This not working\r\n            default-label: main\r\n\r\n        native:\r\n          searchLocations: file://${user.home}/Documents/junk/\r\n\r\nThanks in advance","title":"Spring Config Server - SearchPath and repos","body":"<p>I am trying to use Spring Config server and is trying to explore the 'repos'. Please see the configuration below where am trying to add a search folder under a dummy repository. When I add the search path on top ('folder1') it works just fine however when I add a search path for sample 2, it is not searching the path inside. What am I doing wrong here?. Any help is appreciated.</p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: file://${user.home}/Documents/sample1\n          default-label: main\n          search-paths: folder1\n          cloneOnStart: true\n        repos:\n         dummy:\n            #pattern: dev*\n            uri: file://${user.home}/Documents/sample2\n            search-paths: folder2 // This not working\n            default-label: main\n\n        native:\n          searchLocations: file://${user.home}/Documents/junk/\n\nThanks in advance\n</code></pre>\n"},{"tags":["java","overloading","subclass","extending-classes"],"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":1,"creation_date":1535040420,"post_id":51989994,"comment_id":90929601,"body_markdown":"Just have the `doSomething` method in the abstract class so `Dog` and `Cat` have to implement it.  Then, while looping, just call `doSomething` and it&#39;ll call the implementation specific object.","body":"Just have the <code>doSomething</code> method in the abstract class so <code>Dog</code> and <code>Cat</code> have to implement it.  Then, while looping, just call <code>doSomething</code> and it&#39;ll call the implementation specific object."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":1,"creation_date":1535040463,"post_id":51989994,"comment_id":90929634,"body_markdown":"If some one write `Bird extends Animal` and put `Bird bird = new Bird()` into the list. Which method should get called?","body":"If some one write <code>Bird extends Animal</code> and put <code>Bird bird = new Bird()</code> into the list. Which method should get called?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1535040499,"post_id":51989994,"comment_id":90929659,"body_markdown":"`doSomething()` should probably be in `Anmial`, and overridden in each sublcass.  So instead of `doSomething(a)` make it `a.doSomething()`.","body":"<code>doSomething()</code> should probably be in <code>Anmial</code>, and overridden in each sublcass.  So instead of <code>doSomething(a)</code> make it <code>a.doSomething()</code>."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1535040596,"post_id":51989994,"comment_id":90929714,"body_markdown":"It is not possible since the method to be invoked is chosen at compile time.","body":"It is not possible since the method to be invoked is chosen at compile time."}],"answers":[{"tags":[],"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535054831,"creation_date":1535040805,"answer_id":51990131,"question_id":51989994,"body_markdown":"Instead of iterating in your client method and calling doSomething(), keep doSomething() as a method in your abstract class, that way you can change the way you want in Cat or Dog.\r\n\r\n    public void aMethod(){\r\n      ArrayList&lt;Animals&gt; animals = getTheAnimals();\r\n        for (Animal a : animals){\r\n           a.doSomething();\r\n         }\r\n      }\r\n\r\n    abstract Animal {\r\n       doSomething();\r\n    }\r\n\r\n    Dog extends Animal {\r\n\r\n\r\n      doSomething() {\r\n        //Dog stuff\r\n      }\r\n\r\n    }\r\n\r\n    Cat extends Animal {\r\n\r\n       doSomething() {\r\n         //cat stuff\r\n       }\r\n\r\n    }\r\n","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>Instead of iterating in your client method and calling doSomething(), keep doSomething() as a method in your abstract class, that way you can change the way you want in Cat or Dog.</p>\n\n<pre><code>public void aMethod(){\n  ArrayList&lt;Animals&gt; animals = getTheAnimals();\n    for (Animal a : animals){\n       a.doSomething();\n     }\n  }\n\nabstract Animal {\n   doSomething();\n}\n\nDog extends Animal {\n\n\n  doSomething() {\n    //Dog stuff\n  }\n\n}\n\nCat extends Animal {\n\n   doSomething() {\n     //cat stuff\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535042341,"creation_date":1535040808,"answer_id":51990133,"question_id":51989994,"body_markdown":"Move method into `Abstract` class so each implementation has to make its own version of the method.  \r\n\r\n    public abstract class Animal {\r\n\r\n      public abstract void doSomething();\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n       public void doSomething(){\r\n           System.out.println(&quot;Bark&quot;);\r\n       }\r\n    }\r\n\r\n    public class Cat extends Animal {\r\n       public void doSomething(){\r\n           System.out.println(&quot;Meow&quot;);\r\n       }\r\n    }\r\n\r\nThen in the other Class you mentioned above you can do the following:\r\n\r\n      public void vocalize(){\r\n          ArrayList&lt;Animals&gt; animals = getTheAnimals();\r\n          for (Animal a : animals){\r\n             a.doSomething();\r\n          }\r\n       }","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>Move method into <code>Abstract</code> class so each implementation has to make its own version of the method.  </p>\n\n<pre><code>public abstract class Animal {\n\n  public abstract void doSomething();\n}\n\npublic class Dog extends Animal {\n   public void doSomething(){\n       System.out.println(\"Bark\");\n   }\n}\n\npublic class Cat extends Animal {\n   public void doSomething(){\n       System.out.println(\"Meow\");\n   }\n}\n</code></pre>\n\n<p>Then in the other Class you mentioned above you can do the following:</p>\n\n<pre><code>  public void vocalize(){\n      ArrayList&lt;Animals&gt; animals = getTheAnimals();\n      for (Animal a : animals){\n         a.doSomething();\n      }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535044111,"creation_date":1535043473,"answer_id":51990835,"question_id":51989994,"body_markdown":"You need a double dispatch : a runtime type provided by java + a  runtime parameter type that you have to implement. The visitor pattern is a way to do that.  \r\n\r\n\r\nIntroduce a `Visitable` interface, implements it in `Animal` to make it accept a visitor.  \r\nThen introduce a Visitor.  You can implement it with or without interface according to your requirement.   \r\nSimple version (by coupling the visitor to the current class) that keeps the actual logic of your code : \r\n\r\n    public interface Visitable{\r\n       void accept(MyClassWithSomeAnimals myClassWithSomeAnimals);\r\n    }\r\n \r\n    public abstract class Animal implements Visitable{\r\n    ...\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n    ...\r\n      void accept(MyClassWithSomeAnimals myClassWithSomeAnimals){\r\n         myClassWithSomeAnimals.doSomething(this);\r\n      }\r\n      \r\n    }\r\n    public class Cat extends Animal {\r\n    ...\r\n      void accept(MyClassWithSomeAnimals myClassWithSomeAnimals){\r\n         myClassWithSomeAnimals.doSomething(this);\r\n      }\r\n    }\r\n\r\nAnd update `MyClassWithSomeAnimals` in this way : \r\n\r\n    public void aMethod(){\r\n        ArrayList&lt;Animals&gt; animals = getTheAnimals();\r\n        for (Animal a : animals){\r\n             a.accept(this);\r\n        }\r\n    }\r\n\r\n\r\nThis solution works but it has a drawback. It exposes `MyClassWithSomeAnimals` to `Animal` subclasses while These need only to have a way to invoke the visitor method, not any public methods.   \r\nSo a improvement would be to introduce a `Visitor` interface  to limit to `doSomething()` what Animal know of the visitor : \r\n\r\n    public interface Visitor{\r\n      void doSomething(Dog dog);\r\n      void doSomething(Cat cat);\r\n    }\r\n     \r\nSo make `MyClassWithSomeAnimals` implement it and change Visitable class/concrete classes to use it : \r\n\r\n    public interface Visitable{\r\n      void accept(Visitor visitor);\r\n    }\r\n\r\n    public class Dog extends Animal {\r\n    ...\r\n      void accept(Visitor visitor){\r\n         visitor.doSomething(this);\r\n      }\r\n      \r\n    }\r\n    public class Cat extends Animal {\r\n    ...\r\n      void accept(Visitor visitor){\r\n         visitor.doSomething(this);\r\n      }\r\n    }","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>You need a double dispatch : a runtime type provided by java + a  runtime parameter type that you have to implement. The visitor pattern is a way to do that.  </p>\n\n<p>Introduce a <code>Visitable</code> interface, implements it in <code>Animal</code> to make it accept a visitor.<br>\nThen introduce a Visitor.  You can implement it with or without interface according to your requirement.<br>\nSimple version (by coupling the visitor to the current class) that keeps the actual logic of your code : </p>\n\n<pre><code>public interface Visitable{\n   void accept(MyClassWithSomeAnimals myClassWithSomeAnimals);\n}\n\npublic abstract class Animal implements Visitable{\n...\n}\n\npublic class Dog extends Animal {\n...\n  void accept(MyClassWithSomeAnimals myClassWithSomeAnimals){\n     myClassWithSomeAnimals.doSomething(this);\n  }\n\n}\npublic class Cat extends Animal {\n...\n  void accept(MyClassWithSomeAnimals myClassWithSomeAnimals){\n     myClassWithSomeAnimals.doSomething(this);\n  }\n}\n</code></pre>\n\n<p>And update <code>MyClassWithSomeAnimals</code> in this way : </p>\n\n<pre><code>public void aMethod(){\n    ArrayList&lt;Animals&gt; animals = getTheAnimals();\n    for (Animal a : animals){\n         a.accept(this);\n    }\n}\n</code></pre>\n\n<p>This solution works but it has a drawback. It exposes <code>MyClassWithSomeAnimals</code> to <code>Animal</code> subclasses while These need only to have a way to invoke the visitor method, not any public methods.<br>\nSo a improvement would be to introduce a <code>Visitor</code> interface  to limit to <code>doSomething()</code> what Animal know of the visitor : </p>\n\n<pre><code>public interface Visitor{\n  void doSomething(Dog dog);\n  void doSomething(Cat cat);\n}\n</code></pre>\n\n<p>So make <code>MyClassWithSomeAnimals</code> implement it and change Visitable class/concrete classes to use it : </p>\n\n<pre><code>public interface Visitable{\n  void accept(Visitor visitor);\n}\n\npublic class Dog extends Animal {\n...\n  void accept(Visitor visitor){\n     visitor.doSomething(this);\n  }\n\n}\npublic class Cat extends Animal {\n...\n  void accept(Visitor visitor){\n     visitor.doSomething(this);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535101752,"creation_date":1535045305,"answer_id":51991278,"question_id":51989994,"body_markdown":"Yes instanceof and getclass would make your class dependent upon specific types and using such practices are not too good. \r\n\r\nBut by having methods accepting `Dog` or `Cat` you again end up depending upon the concrete specific implementation. \r\n\r\nBetter way is Define method in `Animal` interface `performAction()` . Provide implementation in both `Dog` and `Cat`.  Now iterate your List of Animals and just invoke `performAction()` and polymorphically as per actual instance either Dog or Cat implemented method would be called. Later even if there is another implementation of Animal added in code you need not modify your code. \r\n\r\nThis way you would be having Dog related logic in Dog class, Cat related logic in Cat class and not in any outside different class. This will help in respecting OCP and SRP (Open close and Single Responsibility principles). \r\n\r\nAlso in case you wish to perform behavior later and your case is such that you know your implementations are fixed and want the using code to inject behavior later then I would recommend `Visitor` pattern, but still I feel this should not be abused, (design pattern are often not used but abused) sometime we force a pattern when not needed. Visitor pattern uses polymorphic to dispatch the first call to specific instance from where second dispatch calls the overloaded methods in class implementing the Visitor interface. (name can be different, I have mentioned Visitor to imply class implementing the concept of visitor) . Go for Visitor pattern like implementation  only if needed and normal above polymorphic based approach do not fit the situation.\r\n","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>Yes instanceof and getclass would make your class dependent upon specific types and using such practices are not too good. </p>\n\n<p>But by having methods accepting <code>Dog</code> or <code>Cat</code> you again end up depending upon the concrete specific implementation. </p>\n\n<p>Better way is Define method in <code>Animal</code> interface <code>performAction()</code> . Provide implementation in both <code>Dog</code> and <code>Cat</code>.  Now iterate your List of Animals and just invoke <code>performAction()</code> and polymorphically as per actual instance either Dog or Cat implemented method would be called. Later even if there is another implementation of Animal added in code you need not modify your code. </p>\n\n<p>This way you would be having Dog related logic in Dog class, Cat related logic in Cat class and not in any outside different class. This will help in respecting OCP and SRP (Open close and Single Responsibility principles). </p>\n\n<p>Also in case you wish to perform behavior later and your case is such that you know your implementations are fixed and want the using code to inject behavior later then I would recommend <code>Visitor</code> pattern, but still I feel this should not be abused, (design pattern are often not used but abused) sometime we force a pattern when not needed. Visitor pattern uses polymorphic to dispatch the first call to specific instance from where second dispatch calls the overloaded methods in class implementing the Visitor interface. (name can be different, I have mentioned Visitor to imply class implementing the concept of visitor) . Go for Visitor pattern like implementation  only if needed and normal above polymorphic based approach do not fit the situation.</p>\n"},{"tags":[],"owner":{"account_id":17455939,"reputation":11,"user_id":13149457,"display_name":"Akshay Rawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632795534,"creation_date":1632795534,"answer_id":69355053,"question_id":51989994,"body_markdown":"There&#39;s an important rule in Java that defines most of how Inheritance, Interface and Abstract classes work - A superclass reference variable can hold a subclass object.Hence, there are a few ways to overcome your error.\r\n\r\n1. If your ```Dog``` and ```Cat``` classes are concrete classes for the ```Animal``` abstract class, then you can simply define one ```doSomething(Animal animal)``` and the method will work.\r\n2. You can try making your ```doSomething``` method generic. Such as \r\n```public &lt;T&gt; void doSomething(&lt;T extends Animal&gt; animal)```\r\n3. Or you can define a doSomething abstract method in Animal and have the subclasses provide their own implementations for it, as suggested by Andrew S. in the above answer.","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>There's an important rule in Java that defines most of how Inheritance, Interface and Abstract classes work - A superclass reference variable can hold a subclass object.Hence, there are a few ways to overcome your error.</p>\n<ol>\n<li>If your <code>Dog</code> and <code>Cat</code> classes are concrete classes for the <code>Animal</code> abstract class, then you can simply define one <code>doSomething(Animal animal)</code> and the method will work.</li>\n<li>You can try making your <code>doSomething</code> method generic. Such as\n<code>public &lt;T&gt; void doSomething(&lt;T extends Animal&gt; animal)</code></li>\n<li>Or you can define a doSomething abstract method in Animal and have the subclasses provide their own implementations for it, as suggested by Andrew S. in the above answer.</li>\n</ol>\n"}],"owner":{"account_id":14210215,"reputation":43,"user_id":10265666,"display_name":"Luke Neville"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4321,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51991278,"answer_count":5,"score":3,"last_activity_date":1632795534,"creation_date":1535040249,"question_id":51989994,"body_markdown":"I have an abstract class `Animal`, with two extending classes, `Dog` and `Cat`. \r\n\r\n    public abstract class Animal {\r\n    ...\r\n    }\r\n    public class Dog extends Animal {\r\n    ...\r\n    }\r\n    public class Cat extends Animal {\r\n    ...\r\n    }\r\n\r\nIn another class, I have an `ArrayList&lt;Animal&gt; animals` that contains instances of both `Cat` and `Dog`.\r\n\r\nIn the class with the `ArrayList&lt;Animal&gt;`, I want to be able to overload a method `doSomething()` with either `Dog d` or `Cat c` as the parameters, but still be able to call them from the ArrayList of Animals. As follows:\r\n\r\n\r\n    public void aMethod(){\r\n        ArrayList&lt;Animals&gt; animals = getTheAnimals();\r\n        for (Animal a : animals){\r\n            doSomething(a);\r\n        }\r\n    }\r\n    public void doSomething(Dog a){\r\n    //a is an object of type dog\r\n    }\r\n    public void doSomething(Cat a){\r\n    //a is an object of type cat\r\n    }\r\n\r\nEssentially, each method is acting as a &#39;selector&#39; for which `type` of animal is being received by the method. \r\n\r\nWhen trying as above, I get the following compilation error:\r\n\r\n&gt; error: no suitable method found for doSomething(Animal)\r\n\r\n\r\nI know I could use something like `instanceOf` or `a.getClass().equals(type)`, but I have read that this is bad practice.\r\nThis question differs slightly from [this other question][1], as I want two separate methods, each with a different parameter. \r\n\r\n\r\n\r\n**EDIT:** I am going to avoid using the Visitor Pattern as I don&#39;t think it really fits well into my actual implementation. Will move the doSomething() method into each class, and refactor to ensure this makes logical sense (each class performing actions that it should be responsible for). Thanks. \r\n\r\n  [1]: https://stackoverflow.com/questions/13056350/passing-in-a-sub-class-to-a-method-but-having-the-super-class-as-the-parameter","title":"Overload method with subclasses as parameters but have the method called as the superclass","body":"<p>I have an abstract class <code>Animal</code>, with two extending classes, <code>Dog</code> and <code>Cat</code>. </p>\n\n<pre><code>public abstract class Animal {\n...\n}\npublic class Dog extends Animal {\n...\n}\npublic class Cat extends Animal {\n...\n}\n</code></pre>\n\n<p>In another class, I have an <code>ArrayList&lt;Animal&gt; animals</code> that contains instances of both <code>Cat</code> and <code>Dog</code>.</p>\n\n<p>In the class with the <code>ArrayList&lt;Animal&gt;</code>, I want to be able to overload a method <code>doSomething()</code> with either <code>Dog d</code> or <code>Cat c</code> as the parameters, but still be able to call them from the ArrayList of Animals. As follows:</p>\n\n<pre><code>public void aMethod(){\n    ArrayList&lt;Animals&gt; animals = getTheAnimals();\n    for (Animal a : animals){\n        doSomething(a);\n    }\n}\npublic void doSomething(Dog a){\n//a is an object of type dog\n}\npublic void doSomething(Cat a){\n//a is an object of type cat\n}\n</code></pre>\n\n<p>Essentially, each method is acting as a 'selector' for which <code>type</code> of animal is being received by the method. </p>\n\n<p>When trying as above, I get the following compilation error:</p>\n\n<blockquote>\n  <p>error: no suitable method found for doSomething(Animal)</p>\n</blockquote>\n\n<p>I know I could use something like <code>instanceOf</code> or <code>a.getClass().equals(type)</code>, but I have read that this is bad practice.\nThis question differs slightly from <a href=\"https://stackoverflow.com/questions/13056350/passing-in-a-sub-class-to-a-method-but-having-the-super-class-as-the-parameter\">this other question</a>, as I want two separate methods, each with a different parameter. </p>\n\n<p><strong>EDIT:</strong> I am going to avoid using the Visitor Pattern as I don't think it really fits well into my actual implementation. Will move the doSomething() method into each class, and refactor to ensure this makes logical sense (each class performing actions that it should be responsible for). Thanks. </p>\n"},{"tags":["java","arrays","file-io"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1632790948,"post_id":69354635,"comment_id":122583051,"body_markdown":"Can you post the full text of the errors you get please?  And also add a comment in the source code to tell us what lines the errors originate from.","body":"Can you post the full text of the errors you get please?  And also add a comment in the source code to tell us what lines the errors originate from."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632791115,"post_id":69354635,"comment_id":122583084,"body_markdown":"Which lines are 62 and 39?","body":"Which lines are 62 and 39?"},{"owner":{"account_id":22878664,"reputation":3,"user_id":17020569,"display_name":"SimplyKenton"},"score":0,"creation_date":1632791306,"post_id":69354635,"comment_id":122583121,"body_markdown":"39 is the dataFile = (loadMonitors(gaming));   62 is Size=scan.nextInt();","body":"39 is the dataFile = (loadMonitors(gaming));   62 is Size=scan.nextInt();"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632791425,"post_id":69354635,"comment_id":122583136,"body_markdown":"Well apparently &quot;size&quot; is not an integer in your data file.  Can you tell us which index this error occurs on (i.e., the value of `nMonitors`, how many monitors have you read so far) and also show us that entry in the data file so we can take a look.","body":"Well apparently &quot;size&quot; is not an integer in your data file.  Can you tell us which index this error occurs on (i.e., the value of <code>nMonitors</code>, how many monitors have you read so far) and also show us that entry in the data file so we can take a look."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632791573,"post_id":69354635,"comment_id":122583162,"body_markdown":"Beware that `nextInt` is leaving a dangling new line character in the buffer, which subsequent `nextInt` calls won&#39;t appreciate","body":"Beware that <code>nextInt</code> is leaving a dangling new line character in the buffer, which subsequent <code>nextInt</code> calls won&#39;t appreciate"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632791651,"post_id":69354635,"comment_id":122583176,"body_markdown":"What does the text file structure look like?","body":"What does the text file structure look like?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632791677,"post_id":69354635,"comment_id":122583180,"body_markdown":"I&#39;m not sure.  I think the problem is `nextInt` followed by `nextLine`.  `nextInt` should skip over any white space, including newlines.","body":"I&#39;m not sure.  I think the problem is <code>nextInt</code> followed by <code>nextLine</code>.  <code>nextInt</code> should skip over any white space, including newlines."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632791711,"post_id":69354635,"comment_id":122583189,"body_markdown":"@markspace I was looking at the keyboard input ;)","body":"@markspace I was looking at the keyboard input ;)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632791790,"post_id":69354635,"comment_id":122583201,"body_markdown":"Oh right.  Yeah that can go wrong in a hurry.  OP: I think the keyboard input is OK now but be careful if you extend this program to read more user options, it can be fussy to use Scanner for this.","body":"Oh right.  Yeah that can go wrong in a hurry.  OP: I think the keyboard input is OK now but be careful if you extend this program to read more user options, it can be fussy to use Scanner for this."},{"owner":{"account_id":22878664,"reputation":3,"user_id":17020569,"display_name":"SimplyKenton"},"score":0,"creation_date":1632791884,"post_id":69354635,"comment_id":122583213,"body_markdown":"@markspace yeah i tried size but the data file is model number. sorry i forgot to change it but even before i couldnt get it to run but I do think it is something with the nextInt","body":"@markspace yeah i tried size but the data file is model number. sorry i forgot to change it but even before i couldnt get it to run but I do think it is something with the nextInt"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1632792006,"post_id":69354635,"comment_id":122583226,"body_markdown":"We need to be precise here, so &quot;the code is kinda close&quot; doesn&#39;t really cut it.  Please edit your code and add the actual reads you are using.  There&#39;s one value that is mostly integers but one is a decimal (0,5).  That looks like the mostly likely culprit.","body":"We need to be precise here, so &quot;the code is kinda close&quot; doesn&#39;t really cut it.  Please edit your code and add the actual reads you are using.  There&#39;s one value that is mostly integers but one is a decimal (0,5).  That looks like the mostly likely culprit."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632792148,"post_id":69354635,"comment_id":122583252,"body_markdown":"@SimplyKenton Look at you data, `Sceptre DCIP3       1       165`, your reading `String`, `int`, `double`, `int`, but there are two strings at the start.  In fact it looks more like it should read `String`, `String`, `int`, `int`","body":"@SimplyKenton Look at you data, <code>Sceptre DCIP3       1       165</code>, your reading <code>String</code>, <code>int</code>, <code>double</code>, <code>int</code>, but there are two strings at the start.  In fact it looks more like it should read <code>String</code>, <code>String</code>, <code>int</code>, <code>int</code>"},{"owner":{"account_id":22878664,"reputation":3,"user_id":17020569,"display_name":"SimplyKenton"},"score":0,"creation_date":1632792374,"post_id":69354635,"comment_id":122583290,"body_markdown":"@MadProgrammer ahh you are right. I ended up switching that out and  now I get a java.util.Scanner.throwfor error. Does that mean my scanner can&#39;t read the file?","body":"@MadProgrammer ahh you are right. I ended up switching that out and  now I get a java.util.Scanner.throwfor error. Does that mean my scanner can&#39;t read the file?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632792793,"post_id":69354635,"comment_id":122583346,"body_markdown":"@SimplyKenton Your `Monitors` class is now incorrect, it won&#39;t compile.  I was able to build a parser which worked","body":"@SimplyKenton Your <code>Monitors</code> class is now incorrect, it won&#39;t compile.  I was able to build a parser which worked"},{"owner":{"account_id":22878664,"reputation":3,"user_id":17020569,"display_name":"SimplyKenton"},"score":0,"creation_date":1632793063,"post_id":69354635,"comment_id":122583377,"body_markdown":"@MadProgrammer I am sorry I am a beginner and I am not too sure what a parser is. but I have to make changes to my Monitors class?","body":"@MadProgrammer I am sorry I am a beginner and I am not too sure what a parser is. but I have to make changes to my Monitors class?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632792951,"creation_date":1632792951,"answer_id":69354825,"question_id":69354635,"body_markdown":"The question code keeps changing, so it&#39;s not 100% possible to point a finger on the exact issue, but, I suspect that the data doesn&#39;t match the parsing workflow.\r\n\r\nFor me, I&#39;d read the next line of data and then parse it separately, for example:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            System.out.println(loadMonitors(new Monitors[100]));\r\n        }\r\n\r\n        class Monitors {\r\n            public String brandName;\r\n            public String modelNumber;\r\n            public int refreshRate;\r\n            public double responseTime;\r\n        }\r\n\r\n        private int loadMonitors(Monitors[] gaming) {\r\n            int nMonitors = 0;\r\n            try (InputStream is = getClass().getResourceAsStream(&quot;/stackoverflow/monitors.txt&quot;); Scanner scan = new Scanner(is)) {\r\n                while (scan.hasNextLine()) {\r\n                    String line = scan.nextLine();\r\n                    Scanner parser = new Scanner(line);\r\n\r\n                    System.out.println(line);\r\n\r\n                    Monitors monitor = new Monitors();\r\n                    monitor.brandName = parser.next();\r\n                    monitor.modelNumber = parser.next();\r\n                    monitor.responseTime = parser.nextDouble();\r\n                    monitor.refreshRate = parser.nextInt();\r\n\r\n                    gaming[nMonitors] = monitor;\r\n                    ++nMonitors;\r\n                }\r\n            } catch (IOException ioe) {\r\n                System.out.println(&quot; File access error&quot; + ioe);\r\n                nMonitors = 0;\r\n            }\r\n            return nMonitors;\r\n\r\n        }\r\n    }\r\n\r\nThis will then output\r\n\r\n    Sceptre DCIP3       1       165\r\n    AOC     C24G1A      1       165\r\n    ASUS    VG278QR     0.5     144\r\n    Sceptre E22          5      75\r\n    Alienware   AW2521HF 1      240\r\n    5\r\n\r\n*nb: Please note, I&#39;m treating the `monitors.txt` file as an embedded resources, since your original code has it stored in the `src` directory, the above example is a more correct way for reading it.","title":"Array of Records and File Processing","body":"<p>The question code keeps changing, so it's not 100% possible to point a finger on the exact issue, but, I suspect that the data doesn't match the parsing workflow.</p>\n<p>For me, I'd read the next line of data and then parse it separately, for example:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Scanner;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        System.out.println(loadMonitors(new Monitors[100]));\n    }\n\n    class Monitors {\n        public String brandName;\n        public String modelNumber;\n        public int refreshRate;\n        public double responseTime;\n    }\n\n    private int loadMonitors(Monitors[] gaming) {\n        int nMonitors = 0;\n        try (InputStream is = getClass().getResourceAsStream(&quot;/stackoverflow/monitors.txt&quot;); Scanner scan = new Scanner(is)) {\n            while (scan.hasNextLine()) {\n                String line = scan.nextLine();\n                Scanner parser = new Scanner(line);\n\n                System.out.println(line);\n\n                Monitors monitor = new Monitors();\n                monitor.brandName = parser.next();\n                monitor.modelNumber = parser.next();\n                monitor.responseTime = parser.nextDouble();\n                monitor.refreshRate = parser.nextInt();\n\n                gaming[nMonitors] = monitor;\n                ++nMonitors;\n            }\n        } catch (IOException ioe) {\n            System.out.println(&quot; File access error&quot; + ioe);\n            nMonitors = 0;\n        }\n        return nMonitors;\n\n    }\n}\n</code></pre>\n<p>This will then output</p>\n<pre><code>Sceptre DCIP3       1       165\nAOC     C24G1A      1       165\nASUS    VG278QR     0.5     144\nSceptre E22          5      75\nAlienware   AW2521HF 1      240\n5\n</code></pre>\n<p>*nb: Please note, I'm treating the <code>monitors.txt</code> file as an embedded resources, since your original code has it stored in the <code>src</code> directory, the above example is a more correct way for reading it.</p>\n"}],"owner":{"account_id":22878664,"reputation":3,"user_id":17020569,"display_name":"SimplyKenton"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69354825,"answer_count":1,"score":-2,"last_activity_date":1632792951,"creation_date":1632790777,"question_id":69354635,"body_markdown":"I am trying to figure out why my file will not output. It is a data file including monitors and their refresh rates, response times, model of the monitor and brand. Whenever I run it I get at.util.Scanner errors and at com.company.MonitorsTest.loadMonitors error. Is the way the data file set up okay?\r\n\r\n        class Monitors{\r\n         public String brandName;\r\n         public int modelNumber;\r\n        public int refreshRate;\r\n        public int responseTime;\r\n    }\r\n    public class MonitorsTest {\r\n    \r\n        public static void main(String[] args)   {\r\n            Monitors[] gaming = new Monitors[100];\r\n            int dataFile;\r\n            int choice;\r\n    \r\n            System.out.println(&quot;\\nDisplay  Monitors\\n&quot;);\r\n    \r\n    \r\n            System.out.println(&quot; Enter one of the following commands:&quot;);\r\n            System.out.println(&quot;(1)- Display the entire data file &quot;);\r\n            System.out.println(&quot;(2) - Display certain information on a monitor&quot;);\r\n            System.out.println(&quot;(3) - Display a histogram&quot;);\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.println();\r\n            System.out.println(&quot;Enter 1,  2,  or 3  &quot;);\r\n              choice = keyboard.nextInt();\r\n    \r\n              dataFile = (loadMonitors(gaming));\r\n    \r\n    \r\n                  while ( choice != 3){\r\n                 if (choice &lt; 1 || choice &gt; 3) {\r\n                     System.out.println(&quot;Enter 1,  2,  3  &quot;);\r\n                     choice = keyboard.nextInt();\r\n                 }\r\n                 else if (choice == 1){\r\n                     System.out.println(dataFile);\r\n                 }\r\n                  }\r\n        }\r\n    \r\n    \r\n        private static int loadMonitors(Monitors[] gaming)  {\r\n            int nMonitors = 0;\r\n            try {\r\n                File file = new File(&quot;C:\\\\Users\\\\kento\\\\IdeaProjects\\\\Program3\\\\src\\\\monitors.txt&quot;);\r\n                Scanner scan = new Scanner(file);\r\n                do {\r\n                    gaming[nMonitors] = new Monitors();\r\n                    gaming[nMonitors].brandName = scan.next();// Error here\r\n                    gaming[nMonitors].modelNumber = scan.next();// Error here\r\n                    gaming[nMonitors].responseTime = scan.nextDouble();\r\n                    gaming[nMonitors].refreshRate = scan.nextInt();// Error here\r\n                    ++nMonitors;\r\n                }\r\n    \r\n                while (gaming[nMonitors - 1].refreshRate != 0);\r\n                --nMonitors;\r\n            }\r\n            catch (IOException ioe){\r\n                System.out.println(&quot; File access error&quot; + ioe);\r\n                nMonitors = 0;\r\n            }\r\n            return nMonitors;\r\n    \r\n    \r\n            }\r\n\r\nList of Errors: \r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.util.Scanner.throwFor(Scanner.java:864)\r\n\tat java.util.Scanner.next(Scanner.java:1485)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2117)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2076)\r\n\tat com.company.MonitorsTest.loadMonitors(MonitorsTest.java:62)\r\n\tat com.company.MonitorsTest.main(MonitorsTest.java:39)\r\n\r\nText file\r\n\r\n    Sceptre\tDCIP3\t\t1\t\t165\r\n    AOC\t\tC24G1A\t\t1\t\t165\r\n    ASUS\tVG278QR\t\t05\t\t144\r\n    Sceptre\tE22\t\t     5\t\t75\r\n    Alienware\tAW2521HF 1\t    240\r\n\r\n\r\n","title":"Array of Records and File Processing","body":"<p>I am trying to figure out why my file will not output. It is a data file including monitors and their refresh rates, response times, model of the monitor and brand. Whenever I run it I get at.util.Scanner errors and at com.company.MonitorsTest.loadMonitors error. Is the way the data file set up okay?</p>\n<pre><code>    class Monitors{\n     public String brandName;\n     public int modelNumber;\n    public int refreshRate;\n    public int responseTime;\n}\npublic class MonitorsTest {\n\n    public static void main(String[] args)   {\n        Monitors[] gaming = new Monitors[100];\n        int dataFile;\n        int choice;\n\n        System.out.println(&quot;\\nDisplay  Monitors\\n&quot;);\n\n\n        System.out.println(&quot; Enter one of the following commands:&quot;);\n        System.out.println(&quot;(1)- Display the entire data file &quot;);\n        System.out.println(&quot;(2) - Display certain information on a monitor&quot;);\n        System.out.println(&quot;(3) - Display a histogram&quot;);\n        Scanner keyboard = new Scanner(System.in);\n        System.out.println();\n        System.out.println(&quot;Enter 1,  2,  or 3  &quot;);\n          choice = keyboard.nextInt();\n\n          dataFile = (loadMonitors(gaming));\n\n\n              while ( choice != 3){\n             if (choice &lt; 1 || choice &gt; 3) {\n                 System.out.println(&quot;Enter 1,  2,  3  &quot;);\n                 choice = keyboard.nextInt();\n             }\n             else if (choice == 1){\n                 System.out.println(dataFile);\n             }\n              }\n    }\n\n\n    private static int loadMonitors(Monitors[] gaming)  {\n        int nMonitors = 0;\n        try {\n            File file = new File(&quot;C:\\\\Users\\\\kento\\\\IdeaProjects\\\\Program3\\\\src\\\\monitors.txt&quot;);\n            Scanner scan = new Scanner(file);\n            do {\n                gaming[nMonitors] = new Monitors();\n                gaming[nMonitors].brandName = scan.next();// Error here\n                gaming[nMonitors].modelNumber = scan.next();// Error here\n                gaming[nMonitors].responseTime = scan.nextDouble();\n                gaming[nMonitors].refreshRate = scan.nextInt();// Error here\n                ++nMonitors;\n            }\n\n            while (gaming[nMonitors - 1].refreshRate != 0);\n            --nMonitors;\n        }\n        catch (IOException ioe){\n            System.out.println(&quot; File access error&quot; + ioe);\n            nMonitors = 0;\n        }\n        return nMonitors;\n\n\n        }\n</code></pre>\n<p>List of Errors:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.util.Scanner.throwFor(Scanner.java:864)\nat java.util.Scanner.next(Scanner.java:1485)\nat java.util.Scanner.nextInt(Scanner.java:2117)\nat java.util.Scanner.nextInt(Scanner.java:2076)\nat com.company.MonitorsTest.loadMonitors(MonitorsTest.java:62)\nat com.company.MonitorsTest.main(MonitorsTest.java:39)\n</code></pre>\n<p>Text file</p>\n<pre><code>Sceptre DCIP3       1       165\nAOC     C24G1A      1       165\nASUS    VG278QR     05      144\nSceptre E22          5      75\nAlienware   AW2521HF 1      240\n</code></pre>\n"},{"tags":["java","arrays","inheritance","interface","polymorphism"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1632791529,"post_id":69354618,"comment_id":122583154,"body_markdown":"So you know how to create an instance of a class because you are already doing it with (e.g.) `Cow`. That&#39;s how you create your `Farm`. Then you call methods on your farm instance the same way you are already calling them on your animal instances.","body":"So you know how to create an instance of a class because you are already doing it with (e.g.) <code>Cow</code>. That&#39;s how you create your <code>Farm</code>. Then you call methods on your farm instance the same way you are already calling them on your animal instances."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632791595,"creation_date":1632791595,"answer_id":69354708,"question_id":69354618,"body_markdown":"The `Farm` class now does all the work, so we can simply create and add the animals with the `addAnimal(...)` method, and then use the `animalSounds()` method to print them all out:\r\n\r\n    public class OldMacDonaldApp {\r\n        public static void main(String[] args) {\r\n            //Create the farm object the same way as creating a new animal\r\n            Farm myFarm = new Farm();\r\n\r\n            //Add animals to the farm using the addAnimal method of the Farm\r\n            myfarm.addAnimal(new Cow(&quot;brown&quot;));\r\n            myfarm.addAnimal(new Chick(3));\r\n            myfarm.addAnimal(new Sheep(&quot;fluffy&quot;));\r\n            myfarm.addAnimal(new Dog(&quot;loyal&quot;));\r\n\r\n            //Now print the sounds with the animalSounds method in the Farm class\r\n            myfarm.animalSounds();\r\n        }\r\n    }","title":"How to utilize class as object and then use two methods to test code?","body":"<p>The <code>Farm</code> class now does all the work, so we can simply create and add the animals with the <code>addAnimal(...)</code> method, and then use the <code>animalSounds()</code> method to print them all out:</p>\n<pre><code>public class OldMacDonaldApp {\n    public static void main(String[] args) {\n        //Create the farm object the same way as creating a new animal\n        Farm myFarm = new Farm();\n\n        //Add animals to the farm using the addAnimal method of the Farm\n        myfarm.addAnimal(new Cow(&quot;brown&quot;));\n        myfarm.addAnimal(new Chick(3));\n        myfarm.addAnimal(new Sheep(&quot;fluffy&quot;));\n        myfarm.addAnimal(new Dog(&quot;loyal&quot;));\n\n        //Now print the sounds with the animalSounds method in the Farm class\n        myfarm.animalSounds();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21100947,"reputation":1,"user_id":15510860,"display_name":"slimebo1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632791595,"creation_date":1632790489,"question_id":69354618,"body_markdown":"I&#39;m still very much a novice when it comes to coding in java, so while this seems like a very simple problem I just can&#39;t for the life of me figure out how to solve it. So originally I have this code with an interface like this:\r\n```\r\npublic interface Animal {\r\n\tpublic String getSound();\r\n\tpublic String getType();\r\n}\r\n```\r\nThen classes that define the sound and type of an animal such as:\r\n```\r\npublic class Cow implements Animal{\r\n\tString color;\r\n\tpublic Cow(String c) {\r\n\t\tcolor = c;\r\n\t}\r\n\tpublic String getSound() {\r\n\t\treturn &quot;moo&quot;;\r\n\t}\r\n\tpublic String getType() {\r\n\t\treturn &quot;cow&quot;;\r\n\t}\r\n\tpublic String getColor() {\r\n\t\treturn color;\r\n\t}\r\n}\r\n```\r\nAnd then I have a class that puts all of the information together and print it out:\r\n```\r\npublic class OldMacDonaldApp {\r\n\tpublic static void main(String[] args) {\r\n\t\tAnimal c;\r\n\t\tc = new Cow(&quot;brown&quot;);\r\n\t\tSystem.out.println(&quot;The &quot; + ((Cow) c).getColor() + &quot; &quot; +c.getType() + &quot; goes &quot; + c.getSound());\r\n\t\t\r\n\t\tc = new Chick(3);\r\n\t\tSystem.out.println(&quot;The &quot; + ((Chick) c).getAge() + &quot; days old &quot; + c.getType() + &quot; goes &quot; + c.getSound());\r\n\t\t\r\n\t\tc = new Sheep(&quot;fluffy&quot;);\r\n\t\tSystem.out.println(&quot;The &quot; + ((Sheep) c).getTrait1() + &quot; &quot; + c.getType() + &quot; goes &quot; + c.getSound());\r\n\t\t\r\n\t\tc = new Dog(&quot;loyal&quot;);\r\n\t\tSystem.out.println(&quot;The &quot; + ((Dog) c).getTrait2() + &quot; &quot; + c.getType() + &quot; goes &quot; + c.getSound());\r\n\t}\r\n}\r\n```\r\n\r\nBut then, I had to create this new farm class which uses arrays to test all the animals:\r\n```\r\nimport java.util.*;\r\npublic class Farm{\r\n\tprivate ArrayList &lt;Animal&gt; myFarm;\r\n\tpublic Farm() {\r\n\t\tmyFarm = new ArrayList &lt;Animal&gt;();\r\n\t}\r\n\tpublic void addAnimal(Animal animal) {\r\n\t\tmyFarm.add(animal);\r\n\t}\r\n\tpublic void animalSounds() {\r\n\t\tAnimal a;\r\n\t\tfor (int i=0; i &lt; myFarm.size(); i++) {\r\n\t\t\ta = myFarm.get(i);\r\n\t\t\tSystem.out.println(a.getType() + &quot; goes &quot; + a.getSound());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow I have to alter the OldMacDonaldApp class code so that I can create an object Farm and use methods addAnimal and animalSounds. I know this is probably really simple and I&#39;m probably missing something really obvious, but I cannot wrap my brain around what to do. Any possible help would be greatly appreciated.","title":"How to utilize class as object and then use two methods to test code?","body":"<p>I'm still very much a novice when it comes to coding in java, so while this seems like a very simple problem I just can't for the life of me figure out how to solve it. So originally I have this code with an interface like this:</p>\n<pre><code>public interface Animal {\n    public String getSound();\n    public String getType();\n}\n</code></pre>\n<p>Then classes that define the sound and type of an animal such as:</p>\n<pre><code>public class Cow implements Animal{\n    String color;\n    public Cow(String c) {\n        color = c;\n    }\n    public String getSound() {\n        return &quot;moo&quot;;\n    }\n    public String getType() {\n        return &quot;cow&quot;;\n    }\n    public String getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>And then I have a class that puts all of the information together and print it out:</p>\n<pre><code>public class OldMacDonaldApp {\n    public static void main(String[] args) {\n        Animal c;\n        c = new Cow(&quot;brown&quot;);\n        System.out.println(&quot;The &quot; + ((Cow) c).getColor() + &quot; &quot; +c.getType() + &quot; goes &quot; + c.getSound());\n        \n        c = new Chick(3);\n        System.out.println(&quot;The &quot; + ((Chick) c).getAge() + &quot; days old &quot; + c.getType() + &quot; goes &quot; + c.getSound());\n        \n        c = new Sheep(&quot;fluffy&quot;);\n        System.out.println(&quot;The &quot; + ((Sheep) c).getTrait1() + &quot; &quot; + c.getType() + &quot; goes &quot; + c.getSound());\n        \n        c = new Dog(&quot;loyal&quot;);\n        System.out.println(&quot;The &quot; + ((Dog) c).getTrait2() + &quot; &quot; + c.getType() + &quot; goes &quot; + c.getSound());\n    }\n}\n</code></pre>\n<p>But then, I had to create this new farm class which uses arrays to test all the animals:</p>\n<pre><code>import java.util.*;\npublic class Farm{\n    private ArrayList &lt;Animal&gt; myFarm;\n    public Farm() {\n        myFarm = new ArrayList &lt;Animal&gt;();\n    }\n    public void addAnimal(Animal animal) {\n        myFarm.add(animal);\n    }\n    public void animalSounds() {\n        Animal a;\n        for (int i=0; i &lt; myFarm.size(); i++) {\n            a = myFarm.get(i);\n            System.out.println(a.getType() + &quot; goes &quot; + a.getSound());\n        }\n    }\n}\n</code></pre>\n<p>Now I have to alter the OldMacDonaldApp class code so that I can create an object Farm and use methods addAnimal and animalSounds. I know this is probably really simple and I'm probably missing something really obvious, but I cannot wrap my brain around what to do. Any possible help would be greatly appreciated.</p>\n"},{"tags":["java","scala","unit-testing","mocking","void"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1632791250,"post_id":69354258,"comment_id":122583109,"body_markdown":"Use `null`, check: https://stackoverflow.com/questions/44171262/convert-scala-unit-to-java-void/44172467#44172467","body":"Use <code>null</code>, check: <a href=\"https://stackoverflow.com/questions/44171262/convert-scala-unit-to-java-void/44172467#44172467\" title=\"convert scala unit to java void\">stackoverflow.com/questions/44171262/&hellip;</a>"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1632793422,"post_id":69354258,"comment_id":122583419,"body_markdown":"Does this answer your question? [Convert Scala Unit to Java Void](https://stackoverflow.com/questions/44171262/convert-scala-unit-to-java-void)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44171262/convert-scala-unit-to-java-void\">Convert Scala Unit to Java Void</a>"}],"owner":{"account_id":4817450,"reputation":183,"user_id":12714507,"display_name":"Nimrod Sadeh"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632793579,"answer_count":0,"score":0,"last_activity_date":1632788771,"creation_date":1632785858,"question_id":69354258,"body_markdown":"I am mocking an interface for testing that has a method that returns `ApiFuture[Void]` where ApiFuture is `google.com.api.core.ApiFuture` and void is the Java standard `java.util.void`. I am coding in Scala. The method doesn&#39;t return anything (it updates a hash map which stands in for the database that method is supposed to call), so my implementation of the mock returns `ApiFuture[Unit]` and throws a compile error about type mismatch. How do I get it to return `ApiFuture[Void]`?","title":"How to return java.util.Void from Scala","body":"<p>I am mocking an interface for testing that has a method that returns <code>ApiFuture[Void]</code> where ApiFuture is <code>google.com.api.core.ApiFuture</code> and void is the Java standard <code>java.util.void</code>. I am coding in Scala. The method doesn't return anything (it updates a hash map which stands in for the database that method is supposed to call), so my implementation of the mock returns <code>ApiFuture[Unit]</code> and throws a compile error about type mismatch. How do I get it to return <code>ApiFuture[Void]</code>?</p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1632772861,"post_id":69352612,"comment_id":122579211,"body_markdown":"Well the benefit is you do not need to build the jar yourself?","body":"Well the benefit is you do not need to build the jar yourself?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632785205,"post_id":69352612,"comment_id":122582196,"body_markdown":"You can use multi-stage images rather than one large image with all the tools... You can also **not** write a Dockerfile at all since SpringBoot 2.3 can automatically generate an image for you","body":"You can use multi-stage images rather than one large image with all the tools... You can also <b>not</b> write a Dockerfile at all since SpringBoot 2.3 can automatically generate an image for you"},{"owner":{"account_id":355604,"reputation":421,"user_id":3506535,"accept_rate":29,"display_name":"Playing With BI"},"score":0,"creation_date":1674146698,"post_id":69352612,"comment_id":132657329,"body_markdown":"I have a problem right now because to build a spring-boot application with maven in a Dockerfile I need to add also the related database and it must be up and running in order to work. Since I don&#39;t know exactly how to solve that I think I will just use the jar instead.","body":"I have a problem right now because to build a spring-boot application with maven in a Dockerfile I need to add also the related database and it must be up and running in order to work. Since I don&#39;t know exactly how to solve that I think I will just use the jar instead."}],"answers":[{"tags":[],"owner":{"account_id":8548688,"reputation":483,"user_id":6406393,"display_name":"Rodrigo Silva"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1632773207,"creation_date":1632773207,"answer_id":69352691,"question_id":69352612,"body_markdown":"Usually I have a CICD server which I use for building my jar file and then I generate a docker image using it. Build a jar consumes resources and doing it when you&#39;re running your docker container can take longer depending on your configuration. In a normal CICD strategy, build and deploy are different steps. I also believe your docker image should be as lean as possible.\r\n\r\nThat&#39;s my opinion.\r\n\r\nI hope I could help you somehow.","title":"To include maven in dockerfile or not?","body":"<p>Usually I have a CICD server which I use for building my jar file and then I generate a docker image using it. Build a jar consumes resources and doing it when you're running your docker container can take longer depending on your configuration. In a normal CICD strategy, build and deploy are different steps. I also believe your docker image should be as lean as possible.</p>\n<p>That's my opinion.</p>\n<p>I hope I could help you somehow.</p>\n"},{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632788297,"creation_date":1632788297,"answer_id":69354446,"question_id":69352612,"body_markdown":"I think you are looking for Multi-stage builds.\r\nExample of multistage Dockerfile:\r\n```\r\n# syntax=docker/dockerfile:1\r\nFROM golang:1.16\r\nWORKDIR /go/src/github.com/alexellis/href-counter/\r\nRUN go get -d -v golang.org/x/net/html  \r\nCOPY app.go ./\r\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app .\r\n\r\nFROM alpine:latest  \r\nRUN apk --no-cache add ca-certificates\r\nWORKDIR /root/\r\nCOPY --from=0 /go/src/github.com/alexellis/href-counter/app ./\r\nCMD [&quot;./app&quot;]  \r\n```\r\nNotice the `COPY --from=0 ... ` line, it&#39;s copying the result of the build that happens in the first container to the second.\r\nThese mutistage builds are good idea for builds that need to install their own tools in specific versions.\r\nExample taken from https://docs.docker.com/develop/develop-images/multistage-build/","title":"To include maven in dockerfile or not?","body":"<p>I think you are looking for Multi-stage builds.\nExample of multistage Dockerfile:</p>\n<pre><code># syntax=docker/dockerfile:1\nFROM golang:1.16\nWORKDIR /go/src/github.com/alexellis/href-counter/\nRUN go get -d -v golang.org/x/net/html  \nCOPY app.go ./\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app .\n\nFROM alpine:latest  \nRUN apk --no-cache add ca-certificates\nWORKDIR /root/\nCOPY --from=0 /go/src/github.com/alexellis/href-counter/app ./\nCMD [&quot;./app&quot;]  \n</code></pre>\n<p>Notice the <code>COPY --from=0 ... </code> line, it's copying the result of the build that happens in the first container to the second.\nThese mutistage builds are good idea for builds that need to install their own tools in specific versions.\nExample taken from <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"nofollow noreferrer\">https://docs.docker.com/develop/develop-images/multistage-build/</a></p>\n"}],"owner":{"account_id":2021836,"reputation":83,"user_id":1807815,"accept_rate":29,"display_name":"user1807815"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69352691,"answer_count":2,"score":1,"last_activity_date":1632788297,"creation_date":1632772726,"question_id":69352612,"body_markdown":"I have this working simple dockerfile.\r\nFROM openjdk:8-jdk-alpine\r\nWORKDIR /data\r\nCOPY target/*.jar, myapp.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,myapp.jar]\r\n\r\nI build my jar using maven either locally or in a pipeline then use that .jar here. I&#39;ve seen many examples installing maven in the dockerfile instead of doing the build before. Doesnt that just make the image larger? Is there a benefit of doing that? \r\n\r\n","title":"To include maven in dockerfile or not?","body":"<p>I have this working simple dockerfile.\nFROM openjdk:8-jdk-alpine\nWORKDIR /data\nCOPY target/*.jar, myapp.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,myapp.jar]</p>\n<p>I build my jar using maven either locally or in a pipeline then use that .jar here. I've seen many examples installing maven in the dockerfile instead of doing the build before. Doesnt that just make the image larger? Is there a benefit of doing that?</p>\n"},{"tags":["java","ssl","wildfly","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1632788119,"post_id":69300471,"comment_id":122582640,"body_markdown":"Why? You don&#39;t need to supply that password at all. The system will still work,.","body":"Why? You don&#39;t need to supply that password at all. The system will still work,."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632775476,"creation_date":1632775476,"answer_id":69353058,"question_id":69300471,"body_markdown":"You&#39;ve got a couple options. You can either remove it and add it back or you can overwrite it.\r\n\r\nTo remove it:\r\n\r\n    /system-property=javax.net.ssl.trustStore:remove\r\n\r\nTo overwrite it:\r\n\r\n    /system-property=javax.net.ssl.trustStore:write-attribute(name=value, value=&quot;your_new_value&quot;)\r\n\r\nThat said you may want to look at the [security documentation][1] on how to setup a truststore.\r\n\r\n[1]: https://docs.wildfly.org/24/WildFly_Elytron_Security.html","title":"How to reset the system property javax.net.ssl.trustStorePassword?","body":"<p>You've got a couple options. You can either remove it and add it back or you can overwrite it.</p>\n<p>To remove it:</p>\n<pre><code>/system-property=javax.net.ssl.trustStore:remove\n</code></pre>\n<p>To overwrite it:</p>\n<pre><code>/system-property=javax.net.ssl.trustStore:write-attribute(name=value, value=&quot;your_new_value&quot;)\n</code></pre>\n<p>That said you may want to look at the <a href=\"https://docs.wildfly.org/24/WildFly_Elytron_Security.html\" rel=\"nofollow noreferrer\">security documentation</a> on how to setup a truststore.</p>\n"}],"owner":{"account_id":22804650,"reputation":31,"user_id":16956840,"display_name":"Leon_Rickert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632788090,"creation_date":1632401729,"question_id":69300471,"body_markdown":"Some time ago I had a wildfly server with a custom truststore for SSL Certificates. I created it with the help of this answer on stackoverflow: \r\n\r\nhttps://stackoverflow.com/questions/48521776/wildfly-11-use-certificate-to-make-https-requests\r\n\r\nIt worked and was all fine.\r\nNow the old wildfly server doesnt exist anymore and I have a new one on the same machine.\r\nI wanted to do the same thing for this wildfly server but get an error now when trying:\r\n\r\n    {\r\n        &quot;outcome&quot; =&gt; &quot;failed&quot;,\r\n        &quot;failure-description&quot; =&gt; &quot;WFLYCTL0212: Duplicate resource [(\\&quot;system-property\\&quot; =&gt; \\&quot;javax.net.ssl.trustStore\\&quot;)]&quot;,\r\n        &quot;rolled-back&quot; =&gt; true\r\n    }\r\n\r\nHow can I fix this?","title":"How to reset the system property javax.net.ssl.trustStorePassword?","body":"<p>Some time ago I had a wildfly server with a custom truststore for SSL Certificates. I created it with the help of this answer on stackoverflow:</p>\n<p><a href=\"https://stackoverflow.com/questions/48521776/wildfly-11-use-certificate-to-make-https-requests\">WildFly 11 - Use certificate to make https requests</a></p>\n<p>It worked and was all fine.\nNow the old wildfly server doesnt exist anymore and I have a new one on the same machine.\nI wanted to do the same thing for this wildfly server but get an error now when trying:</p>\n<pre><code>{\n    &quot;outcome&quot; =&gt; &quot;failed&quot;,\n    &quot;failure-description&quot; =&gt; &quot;WFLYCTL0212: Duplicate resource [(\\&quot;system-property\\&quot; =&gt; \\&quot;javax.net.ssl.trustStore\\&quot;)]&quot;,\n    &quot;rolled-back&quot; =&gt; true\n}\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","cryptography","private-key","diffie-hellman","public-key-exchange"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1626960227,"post_id":68485088,"comment_id":121034923,"body_markdown":"You have already asked the **same** [question](https://stackoverflow.com/questions/68475181/diffie-hellman-key-agreement-using-dhparameterspec-with-optional-subprime-q). It was closed (_seeking recommendations for books, tools, software libraries, and more not allowed on SO_), whereupon you deleted it. Do you think it will work the 2nd time?","body":"You have already asked the <b>same</b> <a href=\"https://stackoverflow.com/questions/68475181/diffie-hellman-key-agreement-using-dhparameterspec-with-optional-subprime-q\">question</a>. It was closed (<i>seeking recommendations for books, tools, software libraries, and more not allowed on SO</i>), whereupon you deleted it. Do you think it will work the 2nd time?"},{"owner":{"account_id":18563780,"reputation":155,"user_id":13527218,"display_name":"factor2"},"score":0,"creation_date":1626960657,"post_id":68485088,"comment_id":121035100,"body_markdown":"I reworded how I asked it at the end of the question to adjust the question more towards how to use dhparameterspec, so I am hoping that will bring it into compliance.  I&#39;m not trying anything nefarious, just looking for some help with my problem.  I made sure to modify my question so it would not be the same","body":"I reworded how I asked it at the end of the question to adjust the question more towards how to use dhparameterspec, so I am hoping that will bring it into compliance.  I&#39;m not trying anything nefarious, just looking for some help with my problem.  I made sure to modify my question so it would not be the same"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1626961158,"post_id":68485088,"comment_id":121035358,"body_markdown":"Sorry, I don&#39;t see any significant difference compared to the old question, but maybe you&#39;re lucky.","body":"Sorry, I don&#39;t see any significant difference compared to the old question, but maybe you&#39;re lucky."},{"owner":{"account_id":18563780,"reputation":155,"user_id":13527218,"display_name":"factor2"},"score":0,"creation_date":1626961330,"post_id":68485088,"comment_id":121035435,"body_markdown":"I removed the portion asking about any other methods and refocused the question on how to specifically use dhparameterspec with a q value. I also edited the previous question, but then deleted it instead.  You may be comparing to my edited closed question.  I apologize if I have broken the rules too significantly","body":"I removed the portion asking about any other methods and refocused the question on how to specifically use dhparameterspec with a q value. I also edited the previous question, but then deleted it instead.  You may be comparing to my edited closed question.  I apologize if I have broken the rules too significantly"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1626969270,"post_id":68485088,"comment_id":121039147,"body_markdown":"Why do you want to set the q value? What do you expect the q value to be used for? Do you even know what this q value is?","body":"Why do you want to set the q value? What do you expect the q value to be used for? Do you even know what this q value is?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1626970275,"post_id":68485088,"comment_id":121039554,"body_markdown":"**No**, not with JCA. For your own side, you can use l~log2(q) as an approximation, or &#39;manually&#39; generate x outside JCA as random BigInteger [2,p-1] and compute y with .modPow. Or even more kludgily, treat your p,g,q as _DSA_ parameters for key generation, and map the result to DH. (JCE itself does this to _generate_ DH parameters.) The harder part is if you need to transmit or receive these parameters or keys in standard (X.509 SPKI or PKCS8) forms. Ideally you could switch to _ECDH_ which is more efficient, sexier, checklistier, AND avoids this silly encoding inconsistency :-) :-)","body":"<b>No</b>, not with JCA. For your own side, you can use l~log2(q) as an approximation, or &#39;manually&#39; generate x outside JCA as random BigInteger [2,p-1] and compute y with .modPow. Or even more kludgily, treat your p,g,q as <i>DSA</i> parameters for key generation, and map the result to DH. (JCE itself does this to <i>generate</i> DH parameters.) The harder part is if you need to transmit or receive these parameters or keys in standard (X.509 SPKI or PKCS8) forms. Ideally you could switch to <i>ECDH</i> which is more efficient, sexier, checklistier, AND avoids this silly encoding inconsistency :-) :-)"}],"answers":[{"tags":[],"owner":{"account_id":10696341,"reputation":59,"user_id":7873304,"display_name":"Rakesh Nayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632787948,"creation_date":1632787948,"answer_id":69354413,"question_id":68485088,"body_markdown":"Use DSA \r\nBigInteger\tgetG()\r\nReturns the base g.\r\nBigInteger\tgetP()\r\nReturns the prime p.\r\nBigInteger\tgetQ()\r\nReturns the sub-prime q.\r\nhttps://docs.oracle.com/javase/7/docs/api/java/security/spec/DSAParameterSpec.html ","title":"Diffie Hellman Key Agreement using optional subprime q with DHParameterSpec in Java","body":"<p>Use DSA\nBigInteger  getG()\nReturns the base g.\nBigInteger  getP()\nReturns the prime p.\nBigInteger  getQ()\nReturns the sub-prime q.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/spec/DSAParameterSpec.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/security/spec/DSAParameterSpec.html</a></p>\n"}],"owner":{"account_id":18563780,"reputation":155,"user_id":13527218,"display_name":"factor2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632787948,"creation_date":1626957880,"question_id":68485088,"body_markdown":"I am trying to perform a Diffie Hellman Hey agreement, and as part of the parameter definition, I have 3 values:\r\n\r\na prime modulus p\r\na base generator g\r\na subprime q\r\n\r\nlooking at the various constructors for creating the keys necessary to perform this agreement, I don&#39;t seem to be able to set the q value:\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/spec/DHParameterSpec.html\r\n\r\nDHParameterSpec(BigInteger p, BigInteger g)    \r\nConstructs a parameter set for Diffie-Hellman, using a prime modulus p and a base generator g.\r\nDHParameterSpec(BigInteger p, BigInteger g, int l)     \r\nConstructs a parameter set for Diffie-Hellman, using a prime modulus p, a base generator g, and the size in bits, l, of the random exponent (private value).\r\n\r\nand https://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPublicKeySpec.html\r\n\r\nDHPublicKeySpec(BigInteger y, BigInteger p, BigInteger g)  \r\nConstructor that takes a public value y, a prime modulus p, and a base generator g.\r\n\r\nhttps://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPrivateKeySpec.html\r\n\r\nDHPrivateKeySpec(BigInteger x, BigInteger p, BigInteger g)     \r\nConstructor that takes a private value x, a prime modulus p, and a base generator g.\r\n\r\nNow, I know that Bouncy Castle has an implementation that supports this:\r\n\r\nhttps://people.eecs.berkeley.edu/~jonah/bc/org/bouncycastle/crypto/params/DHParameters.html\r\n\r\nBut I cannot use Bouncy Castle.\r\n\r\nIs there a way to still use DHParameterSpec/DHPublicKey/DHPrivateKey with the q value that I am missing?","title":"Diffie Hellman Key Agreement using optional subprime q with DHParameterSpec in Java","body":"<p>I am trying to perform a Diffie Hellman Hey agreement, and as part of the parameter definition, I have 3 values:</p>\n<p>a prime modulus p\na base generator g\na subprime q</p>\n<p>looking at the various constructors for creating the keys necessary to perform this agreement, I don't seem to be able to set the q value:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/spec/DHParameterSpec.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/spec/DHParameterSpec.html</a></p>\n<p>DHParameterSpec(BigInteger p, BigInteger g)<br />\nConstructs a parameter set for Diffie-Hellman, using a prime modulus p and a base generator g.\nDHParameterSpec(BigInteger p, BigInteger g, int l)<br />\nConstructs a parameter set for Diffie-Hellman, using a prime modulus p, a base generator g, and the size in bits, l, of the random exponent (private value).</p>\n<p>and <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPublicKeySpec.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPublicKeySpec.html</a></p>\n<p>DHPublicKeySpec(BigInteger y, BigInteger p, BigInteger g)<br />\nConstructor that takes a public value y, a prime modulus p, and a base generator g.</p>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPrivateKeySpec.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/javax/crypto/spec/DHPrivateKeySpec.html</a></p>\n<p>DHPrivateKeySpec(BigInteger x, BigInteger p, BigInteger g)<br />\nConstructor that takes a private value x, a prime modulus p, and a base generator g.</p>\n<p>Now, I know that Bouncy Castle has an implementation that supports this:</p>\n<p><a href=\"https://people.eecs.berkeley.edu/%7Ejonah/bc/org/bouncycastle/crypto/params/DHParameters.html\" rel=\"nofollow noreferrer\">https://people.eecs.berkeley.edu/~jonah/bc/org/bouncycastle/crypto/params/DHParameters.html</a></p>\n<p>But I cannot use Bouncy Castle.</p>\n<p>Is there a way to still use DHParameterSpec/DHPublicKey/DHPrivateKey with the q value that I am missing?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632774276,"post_id":69352783,"comment_id":122579683,"body_markdown":"Java 11 or 16 can still compile and run Java 8 code, so what&#39;s the issue and why do you really need it?","body":"Java 11 or 16 can still compile and run Java 8 code, so what&#39;s the issue and why do you really need it?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632774476,"post_id":69352783,"comment_id":122579746,"body_markdown":"And what is `/usr/libexec/java_home` ?","body":"And what is <code>&#47;usr&#47;libexec&#47;java_home</code> ?"},{"owner":{"account_id":3995956,"reputation":179,"user_id":3293515,"display_name":"JPRLCol"},"score":0,"creation_date":1632776182,"post_id":69352783,"comment_id":122580259,"body_markdown":"have you tried https://www.jenv.be/ is a great tool .... recomended","body":"have you tried <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jenv.be</a> is a great tool .... recomended"}],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632785794,"creation_date":1632785794,"answer_id":69354249,"question_id":69352783,"body_markdown":"You have to use `/usr/libexec/java_home -v 1.8` (&quot;1.8&quot; instead of &quot;8&quot;) to specify the 1.8 (8) JAVA_HOME.","title":"Java 8 went missing","body":"<p>You have to use <code>/usr/libexec/java_home -v 1.8</code> (&quot;1.8&quot; instead of &quot;8&quot;) to specify the 1.8 (8) JAVA_HOME.</p>\n"}],"owner":{"account_id":22398964,"reputation":51,"user_id":16609770,"display_name":"fri6aug"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632785794,"creation_date":1632773783,"question_id":69352783,"body_markdown":"This is my java versions:\r\n```\r\nMatching Java Virtual Machines (4):\r\n    16.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 16.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\r\n    11.0.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.12&quot; /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\r\n    1.8.291.10 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_291 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_291.jdk/Contents/Home\r\n```\r\nI used to be able to switch between versions like this:\r\n```\r\nexport JAVA8_HOME=$(/usr/libexec/java_home -v1.8)\r\nexport JAVA11_HOME=$(/usr/libexec/java_home -v11)\r\nexport JAVA_HOME=$JAVA8_HOME\r\nalias usejava8=&quot;export JAVA_HOME=$JAVA8_HOME&quot;\r\nalias usejava11=&quot;export JAVA_HOME=$JAVA11_HOME&quot;\r\n```\r\nBut now, I don&#39;t know what happened, whenever I try to use java8, it still points to Java 16. I even run export path manually but it doesn&#39;t work.\r\n```\r\n/usr/libexec/java_home -v 16\r\n/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\r\n/usr/libexec/java_home -v 8\r\n/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\r\n/usr/libexec/java_home -v 11\r\n/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\r\n```\r\nSo my Java 16 and 11 are pointed to the correct home, but my machine points 8 to 16. How do I fix this?","title":"Java 8 went missing","body":"<p>This is my java versions:</p>\n<pre><code>Matching Java Virtual Machines (4):\n    16.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 16.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\n    11.0.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.12&quot; /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\n    1.8.291.10 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_291 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_291.jdk/Contents/Home\n</code></pre>\n<p>I used to be able to switch between versions like this:</p>\n<pre><code>export JAVA8_HOME=$(/usr/libexec/java_home -v1.8)\nexport JAVA11_HOME=$(/usr/libexec/java_home -v11)\nexport JAVA_HOME=$JAVA8_HOME\nalias usejava8=&quot;export JAVA_HOME=$JAVA8_HOME&quot;\nalias usejava11=&quot;export JAVA_HOME=$JAVA11_HOME&quot;\n</code></pre>\n<p>But now, I don't know what happened, whenever I try to use java8, it still points to Java 16. I even run export path manually but it doesn't work.</p>\n<pre><code>/usr/libexec/java_home -v 16\n/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\n/usr/libexec/java_home -v 8\n/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\n/usr/libexec/java_home -v 11\n/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\n</code></pre>\n<p>So my Java 16 and 11 are pointed to the correct home, but my machine points 8 to 16. How do I fix this?</p>\n"},{"tags":["java","maven-3"],"comments":[{"owner":{"account_id":39732,"reputation":1259,"user_id":114736,"accept_rate":0,"display_name":"Montecarlo"},"score":0,"creation_date":1558637548,"post_id":55952007,"comment_id":99176575,"body_markdown":"I am deploying some Javadoc within another web application over which I have zero control.\n\nIn this other web application, favicon.ico is placed in &quot;/img/favicon.ico&quot;.\n\nThe Javadoc tries to retrieve favicon.ico from &quot;/favicon.ico&quot;.","body":"I am deploying some Javadoc within another web application over which I have zero control.  In this other web application, favicon.ico is placed in &quot;/img/favicon.ico&quot;.  The Javadoc tries to retrieve favicon.ico from &quot;/favicon.ico&quot;."},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1559050189,"post_id":55952007,"comment_id":99291749,"body_markdown":"@leopal it is the same question :P","body":"@leopal it is the same question :P"}],"answers":[{"tags":[],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559047653,"creation_date":1559047653,"answer_id":56342652,"question_id":55952007,"body_markdown":"I saw your question and found the following is my observation.\r\n\r\n1. First of all, there isn&#39;t any ready-made solution in `maven-javadoc-plugin` which will allow you to add a custom favicon.ico in your Javadoc. \r\n\r\n\r\nBut the good thing is:  \r\nI also found out that in `maven-javadoc-plugin` you can modify it to use your custom `doclet` implementation for generating Javadocs. \r\n\r\nNow, what is `doclet` ([More details here](https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#overviewcomment))?\r\n\r\nFrom the above link,\r\n\r\n`Javadoc Doclets\r\nYou can customize the content and format of the Javadoc tool&#39;s output by using `doclets`. The Javadoc tool has a default &quot;built-in&quot; `doclet`, called the standard `doclet`, that generates HTML-formatted API documentation. You can modify or subclass the standard `doclet`, or write your own `doclet` to generate HTML, XML, MIF, RTF or whatever output format you&#39;d like`\r\n\r\nSo basically you can customize what your Javadoc can generate, you can use more information on customizing the doclet in below mentioned links.\r\n\r\n1. [Information][1] about which class to modify to generate custom Javadocs.\r\n2. Once you customize the doclet, then you can use it in your `maven-javadoc-plugin` as mentioned [here][2].\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13112123/creating-javadoc-html-pages-that-use-a-favicon\r\n  [2]: https://maven.apache.org/plugins/maven-javadoc-plugin/examples/alternate-doclet.html","title":"set favicon to maven-javadoc-plugin generated javadoc file","body":"<p>I saw your question and found the following is my observation.</p>\n\n<ol>\n<li>First of all, there isn't any ready-made solution in <code>maven-javadoc-plugin</code> which will allow you to add a custom favicon.ico in your Javadoc. </li>\n</ol>\n\n<p>But the good thing is:<br>\nI also found out that in <code>maven-javadoc-plugin</code> you can modify it to use your custom <code>doclet</code> implementation for generating Javadocs. </p>\n\n<p>Now, what is <code>doclet</code> (<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#overviewcomment\" rel=\"nofollow noreferrer\">More details here</a>)?</p>\n\n<p>From the above link,</p>\n\n<p><code>Javadoc Doclets\nYou can customize the content and format of the Javadoc tool's output by using</code>doclets<code>. The Javadoc tool has a default \"built-in\"</code>doclet<code>, called the standard</code>doclet<code>, that generates HTML-formatted API documentation. You can modify or subclass the standard</code>doclet<code>, or write your own</code>doclet<code>to generate HTML, XML, MIF, RTF or whatever output format you'd like</code></p>\n\n<p>So basically you can customize what your Javadoc can generate, you can use more information on customizing the doclet in below mentioned links.</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/13112123/creating-javadoc-html-pages-that-use-a-favicon\">Information</a> about which class to modify to generate custom Javadocs.</li>\n<li>Once you customize the doclet, then you can use it in your <code>maven-javadoc-plugin</code> as mentioned <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/alternate-doclet.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ol>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":611,"reputation":5077,"user_id":799,"accept_rate":100,"display_name":"Templar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632785571,"creation_date":1632785571,"answer_id":69354231,"question_id":55952007,"body_markdown":"In my experience, creating your own doclet can be very challenging, and is not well supported by the JDK in Java 8 and later.\r\n\r\nIf you are using Maven, an easier way would be to use the [Google Maven Replacer][1] plugin to modify the output after it is generated, as in the following example:\r\n\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;show&gt;private&lt;/show&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;javadoc&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;replace&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;include&gt;target/site/apidocs/**/*.html&lt;/include&gt;\r\n    \t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t\t&lt;regex&gt;false&lt;/regex&gt;\r\n    \t\t\t\t\t\t\t&lt;replacements&gt;\r\n    \t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;token&gt;&lt;![CDATA[&lt;head&gt;]]&gt;&lt;/token&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;value&gt;\r\n    &lt;![CDATA[\r\n    &lt;head&gt;\r\n        &lt;link rel=&quot;shortcut icon&quot; href=&quot;img/favicon/icon.png&quot;&gt;\r\n    ]]&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/value&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n    \t\t\t\t\t\t\t&lt;/replacements&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/maven-replacer-plugin/","title":"set favicon to maven-javadoc-plugin generated javadoc file","body":"<p>In my experience, creating your own doclet can be very challenging, and is not well supported by the JDK in Java 8 and later.</p>\n<p>If you are using Maven, an easier way would be to use the <a href=\"https://code.google.com/archive/p/maven-replacer-plugin/\" rel=\"nofollow noreferrer\">Google Maven Replacer</a> plugin to modify the output after it is generated, as in the following example:</p>\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;replace&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;target/site/apidocs/**/*.html&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;regex&gt;false&lt;/regex&gt;\n                            &lt;replacements&gt;\n                                &lt;replacement&gt;\n                                    &lt;token&gt;&lt;![CDATA[&lt;head&gt;]]&gt;&lt;/token&gt;\n                                    &lt;value&gt;\n&lt;![CDATA[\n&lt;head&gt;\n    &lt;link rel=&quot;shortcut icon&quot; href=&quot;img/favicon/icon.png&quot;&gt;\n]]&gt;\n                                    &lt;/value&gt;\n                                &lt;/replacement&gt;\n                            &lt;/replacements&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":15842298,"reputation":59,"user_id":11430455,"display_name":"shanika prasangika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1632785571,"creation_date":1556798456,"question_id":55952007,"body_markdown":"I can set window title using following code in &quot;`maven-java doc-plugin`&quot;.\r\n\r\n    \r\n    &lt;configuration&gt;\r\n         &lt;windowtitle&gt;name&lt;/windowtitle&gt;\r\n    &lt;/configuration&gt;\r\n\r\nbut I  cannot set &quot;favicon&quot; to my java doc","title":"set favicon to maven-javadoc-plugin generated javadoc file","body":"<p>I can set window title using following code in \"<code>maven-java doc-plugin</code>\".</p>\n\n<pre><code>&lt;configuration&gt;\n     &lt;windowtitle&gt;name&lt;/windowtitle&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>but I  cannot set \"favicon\" to my java doc</p>\n"},{"tags":["java","c#","mocking","integration-testing","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612535500,"creation_date":1612535500,"answer_id":66065094,"question_id":66063347,"body_markdown":"You can use separate stub/mappings that match on different emails.\r\nAssuming that your url is `some-Url` and uses a queryParameter of email...\r\n\r\n```json\r\n{\r\n    &quot;request&quot;: {\r\n        &quot;url&quot;: &quot;/some-Url&quot;,\r\n        &quot;queryParameters&quot;: {\r\n            &quot;email&quot;: {\r\n                &quot;equalTo&quot;: &quot;invalid@email.com&quot;\r\n            }\r\n        }\r\n    },\r\n    &quot;response&quot;: {\r\n        &quot;status&quot;: 200\r\n    }\r\n}\r\n```\r\n\r\n```json\r\n{\r\n    &quot;request&quot;: {\r\n        &quot;url&quot;: &quot;/some-Url&quot;,\r\n        &quot;queryParameters&quot;: {\r\n            &quot;email&quot;: {\r\n                &quot;equalTo&quot;: &quot;valid@email.com&quot;\r\n            }\r\n        }\r\n    },\r\n    &quot;response&quot;: {\r\n        &quot;proxyBaseUrl&quot;: &quot;http://my-other-url.com&quot;\r\n    }\r\n}\r\n```\r\n","title":"Mock/not-mock response on a per request basis in Integration test","body":"<p>You can use separate stub/mappings that match on different emails.\nAssuming that your url is <code>some-Url</code> and uses a queryParameter of email...</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;request&quot;: {\n        &quot;url&quot;: &quot;/some-Url&quot;,\n        &quot;queryParameters&quot;: {\n            &quot;email&quot;: {\n                &quot;equalTo&quot;: &quot;invalid@email.com&quot;\n            }\n        }\n    },\n    &quot;response&quot;: {\n        &quot;status&quot;: 200\n    }\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;request&quot;: {\n        &quot;url&quot;: &quot;/some-Url&quot;,\n        &quot;queryParameters&quot;: {\n            &quot;email&quot;: {\n                &quot;equalTo&quot;: &quot;valid@email.com&quot;\n            }\n        }\n    },\n    &quot;response&quot;: {\n        &quot;proxyBaseUrl&quot;: &quot;http://my-other-url.com&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389347,"reputation":2847,"user_id":748766,"accept_rate":68,"display_name":"Liam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632784411,"creation_date":1632784411,"answer_id":69354138,"question_id":66063347,"body_markdown":"This is possible with [mockswitch][1] - it supports various request / response pairs kinda like a switch case. You can define different cases and do request matching based on for each. If one the case matches it breaks the response flow and responds. Also easy to proxy requests to actual service based on certain case.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTheir docs is available here [https://mockswitch.com/docs/#switch-case-responses][3]\r\n\r\n\r\n  [1]: https://mockswitch.com\r\n  [2]: https://i.stack.imgur.com/3uU3o.png\r\n  [3]: https://mockswitch.com/docs/#switch-case-responses","title":"Mock/not-mock response on a per request basis in Integration test","body":"<p>This is possible with <a href=\"https://mockswitch.com\" rel=\"nofollow noreferrer\">mockswitch</a> - it supports various request / response pairs kinda like a switch case. You can define different cases and do request matching based on for each. If one the case matches it breaks the response flow and responds. Also easy to proxy requests to actual service based on certain case.</p>\n<p><a href=\"https://i.stack.imgur.com/3uU3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3uU3o.png\" alt=\"enter image description here\" /></a></p>\n<p>Their docs is available here <a href=\"https://mockswitch.com/docs/#switch-case-responses\" rel=\"nofollow noreferrer\">https://mockswitch.com/docs/#switch-case-responses</a></p>\n"}],"owner":{"account_id":7846945,"reputation":107,"user_id":5931706,"accept_rate":0,"display_name":"singhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1632784411,"creation_date":1612528279,"question_id":66063347,"body_markdown":"I am writing Integration tests. I have a need where for a positive test case request hit an actual service and recieve the response. But for a negative test case I must get the mocked response.\r\n\r\nI am curious to understand if there is a way that I can mock/not-mock the request on a per configuration basis. Like for example if request accepts email address in request and I provide\r\n1. &quot;invalid@email.com&quot; - response from mockoon must be a mocked response.\r\n2. &quot;valid@email.com&quot; - mocking must not happen but rather it must hit the actual server to get the response. may be via redirecting or calling the actual service and responding the response to the caller.\r\n\r\nI have tried Mockoon but feature is not yet present. So trying to help from the community :)\r\n\r\nRegards,","title":"Mock/not-mock response on a per request basis in Integration test","body":"<p>I am writing Integration tests. I have a need where for a positive test case request hit an actual service and recieve the response. But for a negative test case I must get the mocked response.</p>\n<p>I am curious to understand if there is a way that I can mock/not-mock the request on a per configuration basis. Like for example if request accepts email address in request and I provide</p>\n<ol>\n<li>&quot;invalid@email.com&quot; - response from mockoon must be a mocked response.</li>\n<li>&quot;valid@email.com&quot; - mocking must not happen but rather it must hit the actual server to get the response. may be via redirecting or calling the actual service and responding the response to the caller.</li>\n</ol>\n<p>I have tried Mockoon but feature is not yet present. So trying to help from the community :)</p>\n<p>Regards,</p>\n"},{"tags":["java","android","facebook-graph-api"],"comments":[{"owner":{"account_id":13475094,"reputation":1945,"user_id":9722336,"display_name":"gtxtreme"},"score":0,"creation_date":1632786093,"post_id":69354001,"comment_id":122582340,"body_markdown":"https://stackoverflow.com/questions/2975197/convert-file-uri-to-file-in-android","body":"<a href=\"https://stackoverflow.com/questions/2975197/convert-file-uri-to-file-in-android\" title=\"convert file uri to file in android\">stackoverflow.com/questions/2975197/&hellip;</a>"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1632838585,"post_id":69354001,"comment_id":122598579,"body_markdown":"nope, my uri became `/external/images/media/26281` and it still says couldn&#39;t fetch picture.","body":"nope, my uri became <code>&#47;external&#47;images&#47;media&#47;26281</code> and it still says couldn&#39;t fetch picture."}],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632783100,"creation_date":1632782769,"question_id":69354001,"body_markdown":"I was trying to use Graph API Post to post an image to FaceBook, I tested it on the [Graph Api Explorer][1] with :  \r\nlink (if you&#39;ll test it then replace Page_ID with your page id): `Page_ID/photos`  \r\nJSON : \r\n```\r\n{\r\n  &quot;message&quot;: &quot;hello japan&quot;,\r\n  &quot;transport&quot;: &quot;cors&quot;,\r\n  &quot;url&quot;: &quot;https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg&quot;\r\n}\r\n```\r\nand worked as expected.\r\n\r\nbut now I want to post using my android app using my external/internal storage photos where I only have their Uri while it needs a URL to the image telling me every time  \r\n```\r\n{HttpStatus: 400, errorCode: 1, subErrorCode: -1, errorType: OAuthException, errorMessage: (#1) Could not fetch picture}\r\n```\r\nso how should I get a URL that represent my Uri that looks like this :\r\n```\r\ncontent://media/external/images/media/26281\r\n```\r\n\r\n\r\nmy code : \r\n```\r\nprivate int postRandomData(String photo_uri,String msg, List&lt;PageEntity&gt; pageEntities) {\r\n        ArrayList&lt;GraphRequest&gt; requests = new ArrayList&lt;&gt;();\r\n        Bundle parameters = new Bundle();\r\n        parameters.putString(&quot;message&quot;,msg);\r\n        parameters.putString(&quot;url&quot;, photo_uri);\r\n        GraphRequest.Callback callback = response -&gt; {\r\n            if (response.getError() == null) {\r\n                //TODO handle error codes\r\n                Log.e(&quot;response&quot;, response.toString());\r\n            }\r\n        };\r\n        for (PageEntity pageEntity : pageEntities) {\r\n            AccessToken pageAccessToken = createAccessToken(pageEntity.getPageAccessToken(), pageEntity.getPageId());\r\n            requests.add(createPostRequest(callback, pageAccessToken, parameters));\r\n            }\r\n          GraphRequest.executeBatchAsync(requests)\r\n}\r\npublic GraphRequest createPostRequest(GraphRequest.Callback callback, AccessToken accessToken, Bundle parameters) {\r\n        GraphRequest request = null;\r\n        try {\r\n            request = GraphRequest.newPostRequest(accessToken, &quot;/&quot; + accessToken.getUserId() + &quot;/picture&quot;, new JSONObject(&quot;{}&quot;), callback);\r\n            request.setParameters(parameters);\r\n        } catch (JSONException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n        return request;\r\n}\r\npublic AccessToken createAccessToken(String accessTokenString, String id) {\r\n        AccessToken currentAccessToken = AccessToken.getCurrentAccessToken();\r\n        return new AccessToken(accessTokenString\r\n                , currentAccessToken.getApplicationId()\r\n                , id\r\n                , currentAccessToken.getPermissions()\r\n                , currentAccessToken.getDeclinedPermissions()\r\n                , currentAccessToken.getExpiredPermissions()\r\n                , currentAccessToken.getSource()\r\n                , currentAccessToken.getExpires()\r\n                , currentAccessToken.getLastRefresh()\r\n                , currentAccessToken.getDataAccessExpirationTime());\r\n}\r\n```\r\n\r\n  [1]: https://developers.facebook.com/tools/explorer/","title":"Graph API wants photo URL while I have an URI","body":"<p>I was trying to use Graph API Post to post an image to FaceBook, I tested it on the <a href=\"https://developers.facebook.com/tools/explorer/\" rel=\"nofollow noreferrer\">Graph Api Explorer</a> with :<br />\nlink (if you'll test it then replace Page_ID with your page id): <code>Page_ID/photos</code><br />\nJSON :</p>\n<pre><code>{\n  &quot;message&quot;: &quot;hello japan&quot;,\n  &quot;transport&quot;: &quot;cors&quot;,\n  &quot;url&quot;: &quot;https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg&quot;\n}\n</code></pre>\n<p>and worked as expected.</p>\n<p>but now I want to post using my android app using my external/internal storage photos where I only have their Uri while it needs a URL to the image telling me every time</p>\n<pre><code>{HttpStatus: 400, errorCode: 1, subErrorCode: -1, errorType: OAuthException, errorMessage: (#1) Could not fetch picture}\n</code></pre>\n<p>so how should I get a URL that represent my Uri that looks like this :</p>\n<pre><code>content://media/external/images/media/26281\n</code></pre>\n<p>my code :</p>\n<pre><code>private int postRandomData(String photo_uri,String msg, List&lt;PageEntity&gt; pageEntities) {\n        ArrayList&lt;GraphRequest&gt; requests = new ArrayList&lt;&gt;();\n        Bundle parameters = new Bundle();\n        parameters.putString(&quot;message&quot;,msg);\n        parameters.putString(&quot;url&quot;, photo_uri);\n        GraphRequest.Callback callback = response -&gt; {\n            if (response.getError() == null) {\n                //TODO handle error codes\n                Log.e(&quot;response&quot;, response.toString());\n            }\n        };\n        for (PageEntity pageEntity : pageEntities) {\n            AccessToken pageAccessToken = createAccessToken(pageEntity.getPageAccessToken(), pageEntity.getPageId());\n            requests.add(createPostRequest(callback, pageAccessToken, parameters));\n            }\n          GraphRequest.executeBatchAsync(requests)\n}\npublic GraphRequest createPostRequest(GraphRequest.Callback callback, AccessToken accessToken, Bundle parameters) {\n        GraphRequest request = null;\n        try {\n            request = GraphRequest.newPostRequest(accessToken, &quot;/&quot; + accessToken.getUserId() + &quot;/picture&quot;, new JSONObject(&quot;{}&quot;), callback);\n            request.setParameters(parameters);\n        } catch (JSONException exception) {\n            exception.printStackTrace();\n        }\n        return request;\n}\npublic AccessToken createAccessToken(String accessTokenString, String id) {\n        AccessToken currentAccessToken = AccessToken.getCurrentAccessToken();\n        return new AccessToken(accessTokenString\n                , currentAccessToken.getApplicationId()\n                , id\n                , currentAccessToken.getPermissions()\n                , currentAccessToken.getDeclinedPermissions()\n                , currentAccessToken.getExpiredPermissions()\n                , currentAccessToken.getSource()\n                , currentAccessToken.getExpires()\n                , currentAccessToken.getLastRefresh()\n                , currentAccessToken.getDataAccessExpirationTime());\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":76899,"reputation":6114,"user_id":219847,"accept_rate":44,"display_name":"meteoritepanama"},"score":0,"creation_date":1281654158,"post_id":3472663,"comment_id":3623561,"body_markdown":"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\n\nI don&#39;t know if I&#39;m missing something, but that function doesn&#39;t seem to exist.","body":"<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/lang/&hellip;</a>  I don&#39;t know if I&#39;m missing something, but that function doesn&#39;t seem to exist."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1281655980,"post_id":3472663,"comment_id":3623736,"body_markdown":"`String.replaceAll` the thing with *regexs*? I wouldn&#39;t worry about the overhead of converting between `StringBuilder` and `String`.","body":"<code>String.replaceAll</code> the thing with <i>regexs</i>? I wouldn&#39;t worry about the overhead of converting between <code>StringBuilder</code> and <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":81,"is_accepted":false,"score":78,"last_activity_date":1614603328,"creation_date":1281654359,"answer_id":3472705,"question_id":3472663,"body_markdown":"Well, you can write a loop:\r\n\r\n    public static void replaceAll(StringBuilder builder, String from, String to) {\r\n        int index = builder.indexOf(from);\r\n        while (index != -1) {\r\n            builder.replace(index, index + from.length(), to);\r\n            index += to.length(); // Move to the end of the replacement\r\n            index = builder.indexOf(from, index);\r\n        }\r\n    }\r\n\r\nNote that in some cases it may be faster to use `lastIndexOf`, working from the back. I suspect that&#39;s the case if you&#39;re replacing a long string with a short one - so when you get to the start, any replacements have less to copy. Anyway, this should give you a starting point.","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Well, you can write a loop:</p>\n<pre><code>public static void replaceAll(StringBuilder builder, String from, String to) {\n    int index = builder.indexOf(from);\n    while (index != -1) {\n        builder.replace(index, index + from.length(), to);\n        index += to.length(); // Move to the end of the replacement\n        index = builder.indexOf(from, index);\n    }\n}\n</code></pre>\n<p>Note that in some cases it may be faster to use <code>lastIndexOf</code>, working from the back. I suspect that's the case if you're replacing a long string with a short one - so when you get to the start, any replacements have less to copy. Anyway, this should give you a starting point.</p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281654472,"creation_date":1281654472,"answer_id":3472718,"question_id":3472663,"body_markdown":"[java.util.regex.Pattern.matcher(CharSequence s)][1] can use a StringBuilder as an argument so you can find and replace each occurence of your pattern using start() and end() without calling builder.toString()\r\n \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html#matcher%28java.lang.CharSequence%29","title":"Replace all occurrences of a String using StringBuilder?","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html#matcher%28java.lang.CharSequence%29\" rel=\"nofollow noreferrer\">java.util.regex.Pattern.matcher(CharSequence s)</a> can use a StringBuilder as an argument so you can find and replace each occurence of your pattern using start() and end() without calling builder.toString()</p>\n"},{"tags":[],"owner":{"account_id":31158,"reputation":9291,"user_id":85348,"accept_rate":93,"display_name":"Ron Romero"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1281655019,"creation_date":1281655019,"answer_id":3472755,"question_id":3472663,"body_markdown":"You could use [Pattern][1]/[Matcher][2].  From the Matcher javadocs:\r\n\r\n     Pattern p = Pattern.compile(&quot;cat&quot;);\r\n     Matcher m = p.matcher(&quot;one cat two cats in the yard&quot;);\r\n     StringBuffer sb = new StringBuffer();\r\n     while (m.find()) {\r\n         m.appendReplacement(sb, &quot;dog&quot;);\r\n     }\r\n     m.appendTail(sb);\r\n     System.out.println(sb.toString());\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>You could use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a>/<a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a>.  From the Matcher javadocs:</p>\n\n<pre><code> Pattern p = Pattern.compile(\"cat\");\n Matcher m = p.matcher(\"one cat two cats in the yard\");\n StringBuffer sb = new StringBuffer();\n while (m.find()) {\n     m.appendReplacement(sb, \"dog\");\n }\n m.appendTail(sb);\n System.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1319122104,"creation_date":1319122104,"answer_id":7837748,"question_id":3472663,"body_markdown":"Look at JavaDoc of **replaceAll** method of **String** class:\r\n\r\n&gt; Replaces each substring of this string that matches the given regular\r\n&gt; expression with the given replacement.  An invocation of this method\r\n&gt; of the form str.replaceAll(regex, repl) yields exactly the same result\r\n&gt; as the expression \r\n&gt; \r\n&gt; **java.util.regex.Pattern.compile(regex).matcher(str).replaceAll(repl)**\r\n\r\nAs you can see you can use **Pattern** and **Matcher** to do that.","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Look at JavaDoc of <strong>replaceAll</strong> method of <strong>String</strong> class:</p>\n\n<blockquote>\n  <p>Replaces each substring of this string that matches the given regular\n  expression with the given replacement.  An invocation of this method\n  of the form str.replaceAll(regex, repl) yields exactly the same result\n  as the expression </p>\n  \n  <p><strong>java.util.regex.Pattern.compile(regex).matcher(str).replaceAll(repl)</strong></p>\n</blockquote>\n\n<p>As you can see you can use <strong>Pattern</strong> and <strong>Matcher</strong> to do that.</p>\n"},{"tags":[],"owner":{"account_id":3152304,"reputation":27,"user_id":2665474,"display_name":"Anandan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1375985472,"creation_date":1375984827,"answer_id":18132864,"question_id":3472663,"body_markdown":"Use the following:\r\n\r\n    /**\r\n    * Utility method to replace the string from StringBuilder.\r\n    * @param sb\t         the StringBuilder object.\r\n    * @param toReplace\t the String that should be replaced.\r\n    * @param replacement the String that has to be replaced by.\r\n    * \r\n    */\r\n    public static void replaceString(StringBuilder sb,\r\n                                     String toReplace,\r\n                                     String replacement) {\t\t\r\n        int index = -1;\r\n        while ((index = sb.lastIndexOf(toReplace)) != -1) {\r\n            sb.replace(index, index + toReplace.length(), replacement);\r\n        }\r\n    }","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Use the following:</p>\n\n<pre><code>/**\n* Utility method to replace the string from StringBuilder.\n* @param sb          the StringBuilder object.\n* @param toReplace   the String that should be replaced.\n* @param replacement the String that has to be replaced by.\n* \n*/\npublic static void replaceString(StringBuilder sb,\n                                 String toReplace,\n                                 String replacement) {      \n    int index = -1;\n    while ((index = sb.lastIndexOf(toReplace)) != -1) {\n        sb.replace(index, index + toReplace.length(), replacement);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3588689,"reputation":57,"user_id":2995215,"display_name":"user2995215"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1384498659,"creation_date":1384498659,"answer_id":19995265,"question_id":3472663,"body_markdown":"Even simple one is using the String ReplaceAll function itself. You can write it as\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;Hi there, are you there?&quot;)\r\n    System.out.println(Pattern.compile(&quot;there&quot;).matcher(sb).replaceAll(&quot;niru&quot;));\r\n\r\n","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Even simple one is using the String ReplaceAll function itself. You can write it as</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(\"Hi there, are you there?\")\nSystem.out.println(Pattern.compile(\"there\").matcher(sb).replaceAll(\"niru\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418415922,"creation_date":1418415922,"answer_id":27451557,"question_id":3472663,"body_markdown":"Here is an in place replaceAll that will modify the passed in StringBuilder. I thought that I would post this as I was looking to do replaceAll with out creating a new String.\r\n\r\n\r\n\tpublic static void replaceAll(StringBuilder sb, Pattern pattern, String replacement) {\r\n\t\tMatcher m = pattern.matcher(sb);\r\n\t\twhile(m.find()) {\r\n\t\t\tsb.replace(m.start(), m.end(), replacement);\r\n\t\t}\r\n\t}\r\n\r\nI was shocked how simple the code to do this was (for some reason I thought changing the StringBuilder while using the matcher would throw of the group start/end but it does not).\r\n\r\nThis is probably faster than the other regex answers because the pattern is already compiled and your not creating a new String but I didn&#39;t do any benchmarking.","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Here is an in place replaceAll that will modify the passed in StringBuilder. I thought that I would post this as I was looking to do replaceAll with out creating a new String.</p>\n\n<pre><code>public static void replaceAll(StringBuilder sb, Pattern pattern, String replacement) {\n    Matcher m = pattern.matcher(sb);\n    while(m.find()) {\n        sb.replace(m.start(), m.end(), replacement);\n    }\n}\n</code></pre>\n\n<p>I was shocked how simple the code to do this was (for some reason I thought changing the StringBuilder while using the matcher would throw of the group start/end but it does not).</p>\n\n<p>This is probably faster than the other regex answers because the pattern is already compiled and your not creating a new String but I didn't do any benchmarking.</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1422465089,"creation_date":1422465089,"answer_id":28198285,"question_id":3472663,"body_markdown":"The class [**`org.apache.commons.lang3.text.StrBuilder`**](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrBuilder.html) in [Apache Commons Lang][1] allows replacements:\r\n\r\n    public StrBuilder replaceAll(String searchStr, String replaceStr)\r\n\r\n&lt;sub&gt;* &lt;i&gt;This does not receive a regular expression but a simple string.&lt;/i&gt;&lt;/sub&gt;\r\n\r\n\r\n  [1]: http://Apache%20Commons%20Lang","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>The class <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/StrBuilder.html\" rel=\"noreferrer\"><strong><code>org.apache.commons.lang3.text.StrBuilder</code></strong></a> in <a href=\"http://Apache%20Commons%20Lang\" rel=\"noreferrer\">Apache Commons Lang</a> allows replacements:</p>\n\n<pre><code>public StrBuilder replaceAll(String searchStr, String replaceStr)\n</code></pre>\n\n<p><sub>* <i>This does not receive a regular expression but a simple string.</i></sub></p>\n"},{"tags":[],"owner":{"account_id":2236070,"reputation":169,"user_id":1972422,"display_name":"fir99"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1445584530,"creation_date":1445584530,"answer_id":33296746,"question_id":3472663,"body_markdown":"@Adam: I think in your code snippet you should track the start position for m.find() because string replacement may change the offset after the last character matched.\r\n\r\n    public static void replaceAll(StringBuilder sb, Pattern pattern, String replacement) {\r\n        Matcher m = pattern.matcher(sb);\r\n        int start = 0;\r\n        while (m.find(start)) {\r\n            sb.replace(m.start(), m.end(), replacement);\r\n\t        start = m.start() + replacement.length();\r\n        }\r\n    }","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>@Adam: I think in your code snippet you should track the start position for m.find() because string replacement may change the offset after the last character matched.</p>\n\n<pre><code>public static void replaceAll(StringBuilder sb, Pattern pattern, String replacement) {\n    Matcher m = pattern.matcher(sb);\n    int start = 0;\n    while (m.find(start)) {\n        sb.replace(m.start(), m.end(), replacement);\n        start = m.start() + replacement.length();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8642819,"reputation":1,"user_id":6470987,"display_name":"ramesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510821612,"creation_date":1466012771,"answer_id":37842315,"question_id":3472663,"body_markdown":"    public static String replaceCharsNew(String replaceStr,Map&lt;String,String&gt; replaceStrMap){\r\n    \t\tStringBuilder replaceStrBuilder = new StringBuilder(replaceStr);\r\n    \t\tSet&lt;String&gt; keys=replaceStrMap.keySet();\r\n    \t\tfor(String invalidChar:keys){\r\n    \t\t    int index = -1;\r\n    \t\t\twhile((index=replaceStrBuilder.indexOf(invalidChar,index)) !=-1){\r\n    \t\t\t\treplaceStrBuilder.replace(index,index+invalidChar.length(),replaceStrMap.get(invalidChar));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn replaceStrBuilder.toString();\r\n    \t}","title":"Replace all occurrences of a String using StringBuilder?","body":"<pre><code>public static String replaceCharsNew(String replaceStr,Map&lt;String,String&gt; replaceStrMap){\n        StringBuilder replaceStrBuilder = new StringBuilder(replaceStr);\n        Set&lt;String&gt; keys=replaceStrMap.keySet();\n        for(String invalidChar:keys){\n            int index = -1;\n            while((index=replaceStrBuilder.indexOf(invalidChar,index)) !=-1){\n                replaceStrBuilder.replace(index,index+invalidChar.length(),replaceStrMap.get(invalidChar));\n            }\n        }\n        return replaceStrBuilder.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39087,"reputation":7142,"user_id":112670,"accept_rate":62,"display_name":"Christian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1471357557,"creation_date":1471357557,"answer_id":38977539,"question_id":3472663,"body_markdown":"How about create a method and let `String.replaceAll` do it for you:\r\n\r\n    public static void replaceAll(StringBuilder sb, String regex, String replacement)\r\n    {\r\n    \tString aux = sb.toString();\r\n    \taux = aux.replaceAll(regex, replacement);\r\n    \tsb.setLength(0);\r\n    \tsb.append(aux);\t\t\r\n    }\r\n\r\n","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>How about create a method and let <code>String.replaceAll</code> do it for you:</p>\n\n<pre><code>public static void replaceAll(StringBuilder sb, String regex, String replacement)\n{\n    String aux = sb.toString();\n    aux = aux.replaceAll(regex, replacement);\n    sb.setLength(0);\n    sb.append(aux);     \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006260,"reputation":378,"user_id":5370529,"display_name":"Codios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521520712,"creation_date":1521520712,"answer_id":49376456,"question_id":3472663,"body_markdown":"I found this method: Matcher.replaceAll(String replacement);\r\nIn java.util.regex.Matcher.java you can see more:\r\n\r\n     /**\r\n     * Replaces every subsequence of the input sequence that matches the\r\n     * pattern with the given replacement string.\r\n     *\r\n     * &lt;p&gt; This method first resets this matcher.  It then scans the input\r\n     * sequence looking for matches of the pattern.  Characters that are not\r\n     * part of any match are appended directly to the result string; each match\r\n     * is replaced in the result by the replacement string.  The replacement\r\n     * string may contain references to captured subsequences as in the {@link\r\n     * #appendReplacement appendReplacement} method.\r\n     *\r\n     * &lt;p&gt; Note that backslashes (&lt;tt&gt;\\&lt;/tt&gt;) and dollar signs (&lt;tt&gt;$&lt;/tt&gt;) in\r\n     * the replacement string may cause the results to be different than if it\r\n     * were being treated as a literal replacement string. Dollar signs may be\r\n     * treated as references to captured subsequences as described above, and\r\n     * backslashes are used to escape literal characters in the replacement\r\n     * string.\r\n     *\r\n     * &lt;p&gt; Given the regular expression &lt;tt&gt;a*b&lt;/tt&gt;, the input\r\n     * &lt;tt&gt;&quot;aabfooaabfooabfoob&quot;&lt;/tt&gt;, and the replacement string\r\n     * &lt;tt&gt;&quot;-&quot;&lt;/tt&gt;, an invocation of this method on a matcher for that\r\n     * expression would yield the string &lt;tt&gt;&quot;-foo-foo-foo-&quot;&lt;/tt&gt;.\r\n     *\r\n     * &lt;p&gt; Invoking this method changes this matcher&#39;s state.  If the matcher\r\n     * is to be used in further matching operations then it should first be\r\n     * reset.  &lt;/p&gt;\r\n     *\r\n     * @param  replacement\r\n     *         The replacement string\r\n     *\r\n     * @return  The string constructed by replacing each matching subsequence\r\n     *          by the replacement string, substituting captured subsequences\r\n     *          as needed\r\n     */\r\n    public String replaceAll(String replacement) {\r\n        reset();\r\n        StringBuffer buffer = new StringBuffer(input.length());\r\n        while (find()) {\r\n            appendReplacement(buffer, replacement);\r\n        }\r\n        return appendTail(buffer).toString();\r\n    }","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>I found this method: Matcher.replaceAll(String replacement);\nIn java.util.regex.Matcher.java you can see more:</p>\n\n<pre><code> /**\n * Replaces every subsequence of the input sequence that matches the\n * pattern with the given replacement string.\n *\n * &lt;p&gt; This method first resets this matcher.  It then scans the input\n * sequence looking for matches of the pattern.  Characters that are not\n * part of any match are appended directly to the result string; each match\n * is replaced in the result by the replacement string.  The replacement\n * string may contain references to captured subsequences as in the {@link\n * #appendReplacement appendReplacement} method.\n *\n * &lt;p&gt; Note that backslashes (&lt;tt&gt;\\&lt;/tt&gt;) and dollar signs (&lt;tt&gt;$&lt;/tt&gt;) in\n * the replacement string may cause the results to be different than if it\n * were being treated as a literal replacement string. Dollar signs may be\n * treated as references to captured subsequences as described above, and\n * backslashes are used to escape literal characters in the replacement\n * string.\n *\n * &lt;p&gt; Given the regular expression &lt;tt&gt;a*b&lt;/tt&gt;, the input\n * &lt;tt&gt;\"aabfooaabfooabfoob\"&lt;/tt&gt;, and the replacement string\n * &lt;tt&gt;\"-\"&lt;/tt&gt;, an invocation of this method on a matcher for that\n * expression would yield the string &lt;tt&gt;\"-foo-foo-foo-\"&lt;/tt&gt;.\n *\n * &lt;p&gt; Invoking this method changes this matcher's state.  If the matcher\n * is to be used in further matching operations then it should first be\n * reset.  &lt;/p&gt;\n *\n * @param  replacement\n *         The replacement string\n *\n * @return  The string constructed by replacing each matching subsequence\n *          by the replacement string, substituting captured subsequences\n *          as needed\n */\npublic String replaceAll(String replacement) {\n    reset();\n    StringBuffer buffer = new StringBuffer(input.length());\n    while (find()) {\n        appendReplacement(buffer, replacement);\n    }\n    return appendTail(buffer).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2149542,"reputation":767,"user_id":1906350,"display_name":"Amitabha Roy"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1547724003,"creation_date":1523534133,"answer_id":49795885,"question_id":3472663,"body_markdown":"Yes. It is very simple to use **`String.replaceAll()`** method:\r\n\r\n    package com.test;\r\n    \r\n    public class Replace {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString input = &quot;Hello World&quot;;\r\n    \t\tinput = input.replaceAll(&quot;o&quot;, &quot;0&quot;);\r\n    \t\tSystem.out.println(input);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Hell0 W0rld\r\n\r\nIf you really want to use **`StringBuilder.replace(int start, int end, String str)`** instead then here you go:\r\n\r\n    public static void main(String args[]) {\r\n        StringBuilder sb = new StringBuilder(&quot;This is a new StringBuilder&quot;);\r\n\r\n        System.out.println(&quot;Before: &quot; + sb);\r\n\r\n        String from = &quot;new&quot;;\r\n        String to = &quot;replaced&quot;;\r\n        sb = sb.replace(sb.indexOf(from), sb.indexOf(from) + from.length(), to);\r\n\r\n        System.out.println(&quot;After: &quot; + sb);\r\n    }\r\n\r\nOutput:\r\n\r\n    Before: This is a new StringBuilder\r\n    After: This is a replaced StringBuilder","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Yes. It is very simple to use <strong><code>String.replaceAll()</code></strong> method:</p>\n\n<pre><code>package com.test;\n\npublic class Replace {\n\n    public static void main(String[] args) {\n        String input = \"Hello World\";\n        input = input.replaceAll(\"o\", \"0\");\n        System.out.println(input);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hell0 W0rld\n</code></pre>\n\n<p>If you really want to use <strong><code>StringBuilder.replace(int start, int end, String str)</code></strong> instead then here you go:</p>\n\n<pre><code>public static void main(String args[]) {\n    StringBuilder sb = new StringBuilder(\"This is a new StringBuilder\");\n\n    System.out.println(\"Before: \" + sb);\n\n    String from = \"new\";\n    String to = \"replaced\";\n    sb = sb.replace(sb.indexOf(from), sb.indexOf(from) + from.length(), to);\n\n    System.out.println(\"After: \" + sb);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Before: This is a new StringBuilder\nAfter: This is a replaced StringBuilder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7803670,"reputation":2755,"user_id":5902175,"accept_rate":50,"display_name":"Mayank Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632781444,"creation_date":1632781444,"answer_id":69353873,"question_id":3472663,"body_markdown":"Kotlin Method\r\n\r\n      fun replaceAllStringBuilder(\r\n            builder: java.lang.StringBuilder,\r\n            from: String,\r\n            to: String\r\n        ) {\r\n            if (!builder.contains(from)||from.isNullOrEmpty()) return\r\n            \r\n                var index = builder.indexOf(from)\r\n                while (index != -1) {\r\n                    builder.replace(index, index + from.length, to)\r\n                    index += to.length \r\n                    index = builder.indexOf(from, index)\r\n                }\r\n            \r\n\r\n        }","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Kotlin Method</p>\n<pre><code>  fun replaceAllStringBuilder(\n        builder: java.lang.StringBuilder,\n        from: String,\n        to: String\n    ) {\n        if (!builder.contains(from)||from.isNullOrEmpty()) return\n        \n            var index = builder.indexOf(from)\n            while (index != -1) {\n                builder.replace(index, index + from.length, to)\n                index += to.length \n                index = builder.indexOf(from, index)\n            }\n        \n\n    }\n</code></pre>\n"}],"owner":{"account_id":76899,"reputation":6114,"user_id":219847,"accept_rate":44,"display_name":"meteoritepanama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144751,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"answer_count":14,"score":85,"last_activity_date":1632781444,"creation_date":1281653724,"question_id":3472663,"body_markdown":"Am I missing something, or does StringBuilder lack the same &quot;replace all occurrences of a string A with string B&quot; function that the normal String class does? The StringBuilder replace function isn&#39;t quite the same. Is there any way to this more efficiently without generating multiple Strings using the normal String class?","title":"Replace all occurrences of a String using StringBuilder?","body":"<p>Am I missing something, or does StringBuilder lack the same \"replace all occurrences of a string A with string B\" function that the normal String class does? The StringBuilder replace function isn't quite the same. Is there any way to this more efficiently without generating multiple Strings using the normal String class?</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5641500,"reputation":86662,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1501010673,"creation_date":1501010673,"answer_id":45311920,"question_id":45311856,"body_markdown":"You can just jump into the implementation of `appendText` in your IDE to find out (`Ctrl + B` on Windows, `B` on Mac).\r\n\r\nHere&#39;s the implementation of the method:\r\n\r\n    public fun File.appendText(text: String, charset: Charset = Charsets.UTF_8): Unit \r\n        = appendBytes(text.toByteArray(charset))\r\n\r\nAnd here&#39;s the `appendBytes` method that it delegates the work to:\r\n\r\n    public fun File.appendBytes(array: ByteArray): Unit \r\n        = FileOutputStream(this, true).use { it.write(array) }\r\n\r\nYou can see that it actually uses the [`use`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html) helper method as you&#39;ve expected.","title":"Kotlin: appendText and closing resources","body":"<p>You can just jump into the implementation of <code>appendText</code> in your IDE to find out (<code>Ctrl + B</code> on Windows, <code>B</code> on Mac).</p>\n\n<p>Here's the implementation of the method:</p>\n\n<pre><code>public fun File.appendText(text: String, charset: Charset = Charsets.UTF_8): Unit \n    = appendBytes(text.toByteArray(charset))\n</code></pre>\n\n<p>And here's the <code>appendBytes</code> method that it delegates the work to:</p>\n\n<pre><code>public fun File.appendBytes(array: ByteArray): Unit \n    = FileOutputStream(this, true).use { it.write(array) }\n</code></pre>\n\n<p>You can see that it actually uses the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"noreferrer\"><code>use</code></a> helper method as you've expected.</p>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501012837,"creation_date":1501011345,"answer_id":45312101,"question_id":45311856,"body_markdown":"You are right there is no `appendText` function on `Writer`, you can see [here][7] as further.\r\n\r\nThe [use][8] function is same as java-7 *try-with-resource* expression. it will close the resource after the block exit. In fact, [File#appendText][4] call the [use][8] function to close the resource.\r\n\r\n**IF** you append the text only once you can using [File#appendText][4] instead. for example:\r\n\r\n    out8.appendText(&quot;content&quot;)\r\n\r\n**IF** you want to operate a file more than once, you should using the [File#bufferedWriter()][5] instead, since the [File#appendText][4] will create &amp; open a new writer each time. for example:\r\n\r\n    out8.bufferedWriter().use{ \r\n        it.append(&quot;first&quot;).append(&quot;second&quot;) \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/io/Writer.html\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\r\n[4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/append-text.html\r\n[3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/writer.html\r\n[5]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/buffered-writer.html\r\n[8]: https://kotlinlang.org/docs/reference/idioms.html#java-7s-try-with-resources\r\n[7]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-writer/index.html","title":"Kotlin: appendText and closing resources","body":"<p>You are right there is no <code>appendText</code> function on <code>Writer</code>, you can see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-writer/index.html\" rel=\"nofollow noreferrer\">here</a> as further.</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/idioms.html#java-7s-try-with-resources\" rel=\"nofollow noreferrer\">use</a> function is same as java-7 <em>try-with-resource</em> expression. it will close the resource after the block exit. In fact, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/append-text.html\" rel=\"nofollow noreferrer\">File#appendText</a> call the <a href=\"https://kotlinlang.org/docs/reference/idioms.html#java-7s-try-with-resources\" rel=\"nofollow noreferrer\">use</a> function to close the resource.</p>\n\n<p><strong>IF</strong> you append the text only once you can using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/append-text.html\" rel=\"nofollow noreferrer\">File#appendText</a> instead. for example:</p>\n\n<pre><code>out8.appendText(\"content\")\n</code></pre>\n\n<p><strong>IF</strong> you want to operate a file more than once, you should using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/buffered-writer.html\" rel=\"nofollow noreferrer\">File#bufferedWriter()</a> instead, since the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/append-text.html\" rel=\"nofollow noreferrer\">File#appendText</a> will create &amp; open a new writer each time. for example:</p>\n\n<pre><code>out8.bufferedWriter().use{ \n    it.append(\"first\").append(\"second\") \n}\n</code></pre>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1674,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45311920,"answer_count":2,"score":7,"last_activity_date":1632780764,"creation_date":1501010415,"question_id":45311856,"body_markdown":"I&#39;m new to Kotlin, but I have a strong Java background (Java is my day job). I&#39;m loving some of the shortcut functions in Kotlin. One of the big ones is File.appendText(). It&#39;s very convenient, in my opinion.\r\n\r\nMy question is about closing resources. If I was to use a writer, I would do something like this:\r\n\r\n    out8.writer().use { ... }\r\n\r\nBut I don&#39;t see any thing directly on the appendText method that indicates closing resources. Does Kotlin handle this behind the scenes for me, or is this something I have to worry about in another way?\r\n","title":"Kotlin: appendText and closing resources","body":"<p>I'm new to Kotlin, but I have a strong Java background (Java is my day job). I'm loving some of the shortcut functions in Kotlin. One of the big ones is File.appendText(). It's very convenient, in my opinion.</p>\n<p>My question is about closing resources. If I was to use a writer, I would do something like this:</p>\n<pre><code>out8.writer().use { ... }\n</code></pre>\n<p>But I don't see any thing directly on the appendText method that indicates closing resources. Does Kotlin handle this behind the scenes for me, or is this something I have to worry about in another way?</p>\n"},{"tags":["java","algorithm","bit-shift"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1632780677,"post_id":69352938,"comment_id":122581386,"body_markdown":"I suggest adding parentheses(brackets) to your code for more clarity.  This helps understanding which one executes first.","body":"I suggest adding parentheses(brackets) to your code for more clarity.  This helps understanding which one executes first."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1632790733,"post_id":69352938,"comment_id":122583022,"body_markdown":"What is the use of the 16 x 16 grouping?","body":"What is the use of the 16 x 16 grouping?"}],"answers":[{"tags":[],"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632780489,"creation_date":1632780489,"answer_id":69353743,"question_id":69352938,"body_markdown":"You store the x value in the lower 32 bits of your chunkID, to get those just cast back to int:\r\n```\r\nint x = (int) chunkID;\r\n```\r\nThe z value is in the upper 32 bits, so we need to shift down first:\r\n```\r\nint z = (int) (chunkID &gt;&gt; 32);\r\n```","title":"Algorithm to get an Id&#39;s components","body":"<p>You store the x value in the lower 32 bits of your chunkID, to get those just cast back to int:</p>\n<pre><code>int x = (int) chunkID;\n</code></pre>\n<p>The z value is in the upper 32 bits, so we need to shift down first:</p>\n<pre><code>int z = (int) (chunkID &gt;&gt; 32);\n</code></pre>\n"}],"owner":{"display_name":"user14732842"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353743,"answer_count":1,"score":0,"last_activity_date":1632780489,"creation_date":1632774812,"question_id":69352938,"body_markdown":"I have a chunk which is just a 16 x 16 grouping (a chunk can be either positive or negative) and I used it to create a unique ID. The issue is I now need to take that chunkID and turn it back into its x and z component how would I do this? \r\n\r\n    long chunkID = (long) chunk.getX() &amp; 0xffffffffL | ((long) chunk.getZ() &amp; 0xffffffffL) &lt;&lt; 32;\r\n\r\n  \r\n\r\n","title":"Algorithm to get an Id&#39;s components","body":"<p>I have a chunk which is just a 16 x 16 grouping (a chunk can be either positive or negative) and I used it to create a unique ID. The issue is I now need to take that chunkID and turn it back into its x and z component how would I do this?</p>\n<pre><code>long chunkID = (long) chunk.getX() &amp; 0xffffffffL | ((long) chunk.getZ() &amp; 0xffffffffL) &lt;&lt; 32;\n</code></pre>\n"},{"tags":["java","spring","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632771457,"creation_date":1632771457,"answer_id":69352371,"question_id":69352260,"body_markdown":"You have two beans with the same name:\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, PipelineMessage&gt; consumerFactory() {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Bridge&gt; consumerFactory() {\r\n\r\nWhich override each other. Well, one of them will win in the end.\r\n\r\nEven if you think you call a `consumerFactory()` method in the same class, it still delegates to the `BeanFactory` to return you a bean. And that might come to you from different definition. The best way for you to overcome the problem is to have those `ConsumerFactory` in different names. There is just enough to change the method name: it is used by default for bean name definitions.","title":"Java Spring Kafka: multiple listeners","body":"<p>You have two beans with the same name:</p>\n<pre><code>@Bean\npublic ConsumerFactory&lt;String, PipelineMessage&gt; consumerFactory() {\n\n@Bean\npublic ConsumerFactory&lt;String, Bridge&gt; consumerFactory() {\n</code></pre>\n<p>Which override each other. Well, one of them will win in the end.</p>\n<p>Even if you think you call a <code>consumerFactory()</code> method in the same class, it still delegates to the <code>BeanFactory</code> to return you a bean. And that might come to you from different definition. The best way for you to overcome the problem is to have those <code>ConsumerFactory</code> in different names. There is just enough to change the method name: it is used by default for bean name definitions.</p>\n"}],"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632780282,"creation_date":1632770814,"question_id":69352260,"body_markdown":"Currently trying to get two different listeners in the same project to consume. Following various other posts all yield different errors, but overall it seems that the beans are not properly defined. \r\n\r\nKafkaConsumerConfig(PipelineMessage)\r\n```java\r\n\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfigPipelineMessage {\r\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Value(value = &quot;${spring.kafka.producer.group-id}&quot;)\r\n    private String groupId;\r\n\r\n    @Value(value = &quot;${saslMechanism}&quot;)\r\n    private String saslMechanism;\r\n\r\n    @Value(value = &quot;${kafkaUser}&quot;)\r\n    private String kafkaUser;\r\n\r\n    @Value(value = &quot;${kafkaPassword}&quot;)\r\n    private String kafkaPassword;\r\n\r\n    @Value(value = &quot;${securityProtocol}&quot;)\r\n    private String securityProtocol;\r\n    @Bean\r\n    public ConsumerFactory&lt;String, PipelineMessage&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, AvroDeserializer.class);\r\n        props.put(&quot;sasl.mechanism&quot;,saslMechanism);\r\n        props.put(&quot;security.protocol&quot;,securityProtocol);\r\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username =&#39;&quot;+kafkaUser+&quot;&#39; password = &#39;&quot;+kafkaPassword+&quot;&#39;;&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new AvroDeserializer&lt;&gt;(PipelineMessage.class));\r\n    }\r\n\r\n    @Bean(&quot;kafkaListenerPipelineMessage&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, PipelineMessage&gt; kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, PipelineMessage&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n\r\n```\r\n\r\nKafkaConsumerConfig(Bridge)\r\n``` java\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfigBridge {\r\n\r\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Value(value = &quot;${spring.kafka.producer.group-id}&quot;)\r\n    private String groupId;\r\n\r\n    @Value(value = &quot;${saslMechanism}&quot;)\r\n    private String saslMechanism;\r\n\r\n    @Value(value = &quot;${kafkaUser}&quot;)\r\n    private String kafkaUser;\r\n\r\n    @Value(value = &quot;${kafkaPassword}&quot;)\r\n    private String kafkaPassword;\r\n\r\n    @Value(value = &quot;${securityProtocol}&quot;)\r\n    private String securityProtocol;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Bridge&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, AvroDeserializer.class);\r\n        props.put(&quot;sasl.mechanism&quot;,saslMechanism);\r\n        props.put(&quot;security.protocol&quot;,securityProtocol);\r\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username =&#39;&quot;+kafkaUser+&quot;&#39; password = &#39;&quot;+kafkaPassword+&quot;&#39;;&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new AvroDeserializer&lt;&gt;(Bridge.class));\r\n    }\r\n\r\n    @Bean(&quot;kafkaListenerBridge&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Bridge&gt; kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Bridge&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nListeners\r\n\r\n``` java\r\n @KafkaListener(id = &quot;id1&quot;,topics = &quot;${kafka.topic.consumer.name.rb}&quot;, groupId = &quot;${spring.kafka.producer.group-id}&quot;, containerFactory = &quot;kafkaListenerBridge&quot;)\r\n    public void consumeBridgeForPayroll(Bridge message) throws IOException {\r\n\r\n```\r\n\r\n```java\r\n@KafkaListener(id = &quot;id2&quot;,topics = &quot;${kafka.topic.consumer.name.dlq}&quot;,groupId = &quot;${spring.kafka.consumer.group-id}&quot;, containerFactory = &quot;kafkaListenerPipelineMessage&quot;)\r\n    public void consumeForMessages(PipelineMessage message) throws \r\n```\r\n\r\nI tried moving the Bean name to the consumerFactory function but that did not help. With the current implementation the error indicates that the listener bean is of the wrong type. \r\n\r\nAfter changing the names of the consumerFactory the following error occurred. \r\n\r\n```json\r\n&quot;timestamp&quot;:&quot;2021-09-27T22:02:11.273Z&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;message&quot;:&quot;Application run failed&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;kafkaListenerContainerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/kafka/KafkaAnnotationDrivenConfiguration.class]: Unsatisfied dependency expressed through method &#39;kafkaListenerContainerFactory&#39; parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.kafka.core.ConsumerFactory&lt;java.lang.Object, java.lang.Object&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\r\nat com.employbridge.core.timecollectionservice.Application.main(Application.java:15)\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.kafka.core.ConsumerFactory&lt;java.lang.Object, java.lang.Object&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1662)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1221)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\r\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n... 19 common frames omitted\r\n&quot;\r\n\r\n```","title":"Java Spring Kafka: multiple listeners","body":"<p>Currently trying to get two different listeners in the same project to consume. Following various other posts all yield different errors, but overall it seems that the beans are not properly defined.</p>\n<p>KafkaConsumerConfig(PipelineMessage)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n@EnableKafka\n@Configuration\npublic class KafkaConsumerConfigPipelineMessage {\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Value(value = &quot;${spring.kafka.producer.group-id}&quot;)\n    private String groupId;\n\n    @Value(value = &quot;${saslMechanism}&quot;)\n    private String saslMechanism;\n\n    @Value(value = &quot;${kafkaUser}&quot;)\n    private String kafkaUser;\n\n    @Value(value = &quot;${kafkaPassword}&quot;)\n    private String kafkaPassword;\n\n    @Value(value = &quot;${securityProtocol}&quot;)\n    private String securityProtocol;\n    @Bean\n    public ConsumerFactory&lt;String, PipelineMessage&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, AvroDeserializer.class);\n        props.put(&quot;sasl.mechanism&quot;,saslMechanism);\n        props.put(&quot;security.protocol&quot;,securityProtocol);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username ='&quot;+kafkaUser+&quot;' password = '&quot;+kafkaPassword+&quot;';&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new AvroDeserializer&lt;&gt;(PipelineMessage.class));\n    }\n\n    @Bean(&quot;kafkaListenerPipelineMessage&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, PipelineMessage&gt; kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, PipelineMessage&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n\n</code></pre>\n<p>KafkaConsumerConfig(Bridge)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfigBridge {\n\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Value(value = &quot;${spring.kafka.producer.group-id}&quot;)\n    private String groupId;\n\n    @Value(value = &quot;${saslMechanism}&quot;)\n    private String saslMechanism;\n\n    @Value(value = &quot;${kafkaUser}&quot;)\n    private String kafkaUser;\n\n    @Value(value = &quot;${kafkaPassword}&quot;)\n    private String kafkaPassword;\n\n    @Value(value = &quot;${securityProtocol}&quot;)\n    private String securityProtocol;\n\n    @Bean\n    public ConsumerFactory&lt;String, Bridge&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, AvroDeserializer.class);\n        props.put(&quot;sasl.mechanism&quot;,saslMechanism);\n        props.put(&quot;security.protocol&quot;,securityProtocol);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username ='&quot;+kafkaUser+&quot;' password = '&quot;+kafkaPassword+&quot;';&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new AvroDeserializer&lt;&gt;(Bridge.class));\n    }\n\n    @Bean(&quot;kafkaListenerBridge&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Bridge&gt; kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, Bridge&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>Listeners</p>\n<pre class=\"lang-java prettyprint-override\"><code> @KafkaListener(id = &quot;id1&quot;,topics = &quot;${kafka.topic.consumer.name.rb}&quot;, groupId = &quot;${spring.kafka.producer.group-id}&quot;, containerFactory = &quot;kafkaListenerBridge&quot;)\n    public void consumeBridgeForPayroll(Bridge message) throws IOException {\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;id2&quot;,topics = &quot;${kafka.topic.consumer.name.dlq}&quot;,groupId = &quot;${spring.kafka.consumer.group-id}&quot;, containerFactory = &quot;kafkaListenerPipelineMessage&quot;)\n    public void consumeForMessages(PipelineMessage message) throws \n</code></pre>\n<p>I tried moving the Bean name to the consumerFactory function but that did not help. With the current implementation the error indicates that the listener bean is of the wrong type.</p>\n<p>After changing the names of the consumerFactory the following error occurred.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;timestamp&quot;:&quot;2021-09-27T22:02:11.273Z&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;message&quot;:&quot;Application run failed&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'kafkaListenerContainerFactory' defined in class path resource [org/springframework/boot/autoconfigure/kafka/KafkaAnnotationDrivenConfiguration.class]: Unsatisfied dependency expressed through method 'kafkaListenerContainerFactory' parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.kafka.core.ConsumerFactory&lt;java.lang.Object, java.lang.Object&gt;' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202)\nat com.employbridge.core.timecollectionservice.Application.main(Application.java:15)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.kafka.core.ConsumerFactory&lt;java.lang.Object, java.lang.Object&gt;' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1662)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1221)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n... 19 common frames omitted\n&quot;\n\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1632774955,"post_id":69352948,"comment_id":122579876,"body_markdown":"You can&#39;t have duplicate constants in an enum.","body":"You can&#39;t have duplicate constants in an enum."},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":1,"creation_date":1632774961,"post_id":69352948,"comment_id":122579878,"body_markdown":"You cannot have the same constant for enum appear twice, this wont compile.","body":"You cannot have the same constant for enum appear twice, this wont compile."},{"owner":{"account_id":4966971,"reputation":9,"user_id":14171257,"display_name":"Sarah"},"score":0,"creation_date":1632775656,"post_id":69352948,"comment_id":122580109,"body_markdown":"My apologies, I have edited the question. I would like to count the number of &quot;apples&quot; and &quot;organes&quot; in a array containing items randomly places there from the enum food.","body":"My apologies, I have edited the question. I would like to count the number of &quot;apples&quot; and &quot;organes&quot; in a array containing items randomly places there from the enum food."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632779707,"post_id":69352948,"comment_id":122581160,"body_markdown":"I fixed your incorrect case in name of your class. Should be `Food` rather than `food`. Following Java conventions will make your code easier to read, and your Questions more likely to be answered. Also, another convention As constants, your enum objects should be named in uppercase: `enum Food { APPLES , ORANGES , GRAPES }`","body":"I fixed your incorrect case in name of your class. Should be <code>Food</code> rather than <code>food</code>. Following Java conventions will make your code easier to read, and your Questions more likely to be answered. Also, another convention As constants, your enum objects should be named in uppercase: <code>enum Food { APPLES , ORANGES , GRAPES }</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632806745,"post_id":69352948,"comment_id":122585500,"body_markdown":"Duplicate of [*Counting repeated elements in an integer array*](https://stackoverflow.com/q/17630727/642706) and [others](https://duckduckgo.com/?q=java+count+repeats+in+array+site%3Astackoverflow.com&amp;t=osx&amp;ia=web).","body":"Duplicate of <a href=\"https://stackoverflow.com/q/17630727/642706\"><i>Counting repeated elements in an integer array</i></a> and <a href=\"https://duckduckgo.com/?q=java+count+repeats+in+array+site%3Astackoverflow.com&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">others</a>."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632779633,"creation_date":1632775831,"answer_id":69353123,"question_id":69352948,"body_markdown":"Probably the easiest way to do this is with an [`EnumMap`][1], an implementation of [`Map`][2] optimized for enum objects. \r\n\r\nUse your enum object as the key, and an `Integer` for count as the value of the map: `Map&lt;Food, Integer&gt;`. \r\n\r\n    Map&lt;Food, Integer&gt; counts = new EnumMap&lt;&gt;(food.class);\r\n    for (Food f : arr) {\r\n      counts.merge(f, 1, Integer::sum);\r\n    }\r\n\r\n...and then you could look up the counts in the map:\r\n\r\n    int numberOfApples = counts.getOrDefault(Food.apples, 0);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html","title":"How do I count the number of times an object appears in an enum?","body":"<p>Probably the easiest way to do this is with an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a>, an implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> optimized for enum objects.</p>\n<p>Use your enum object as the key, and an <code>Integer</code> for count as the value of the map: <code>Map&lt;Food, Integer&gt;</code>.</p>\n<pre><code>Map&lt;Food, Integer&gt; counts = new EnumMap&lt;&gt;(food.class);\nfor (Food f : arr) {\n  counts.merge(f, 1, Integer::sum);\n}\n</code></pre>\n<p>...and then you could look up the counts in the map:</p>\n<pre><code>int numberOfApples = counts.getOrDefault(Food.apples, 0);\n</code></pre>\n"}],"owner":{"account_id":4966971,"reputation":9,"user_id":14171257,"display_name":"Sarah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1632779653,"creation_date":1632774849,"question_id":69352948,"body_markdown":"    enum Food {\r\n          apples, oranges, grapes};\r\n         }\r\n\r\nSay I have the following array with items randomly place inside array from the enum above:\r\n\r\n    Food[] arr = {apples, apples, grapes, oranges, apples};\r\n    \r\nSay I want to create a method that calculates the number of times &quot;apples&quot; and &quot;grapes&quot;  appears in the array, how would I go about doing this? Would I use the .equals() method for in item of enum food type? I&#39;m lost...\r\n\r\n","title":"How do I count the number of times an object appears in an enum?","body":"<pre><code>enum Food {\n      apples, oranges, grapes};\n     }\n</code></pre>\n<p>Say I have the following array with items randomly place inside array from the enum above:</p>\n<pre><code>Food[] arr = {apples, apples, grapes, oranges, apples};\n</code></pre>\n<p>Say I want to create a method that calculates the number of times &quot;apples&quot; and &quot;grapes&quot;  appears in the array, how would I go about doing this? Would I use the .equals() method for in item of enum food type? I'm lost...</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":22705538,"reputation":676,"user_id":16872314,"display_name":"Marcello Zago"},"score":1,"creation_date":1632775439,"post_id":69352918,"comment_id":122580041,"body_markdown":"Could you clarify what you mean with repeat one time? Is one number that only repeats one time unique in the array, or are there two instances?","body":"Could you clarify what you mean with repeat one time? Is one number that only repeats one time unique in the array, or are there two instances?"},{"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"score":2,"creation_date":1632776067,"post_id":69352918,"comment_id":122580233,"body_markdown":"Does this answer your question? [Finding multiple entries with binary search](https://stackoverflow.com/questions/12144802/finding-multiple-entries-with-binary-search)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12144802/finding-multiple-entries-with-binary-search\">Finding multiple entries with binary search</a>"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632779447,"creation_date":1632779447,"answer_id":69353628,"question_id":69352918,"body_markdown":"You can use a custom binary search algorithm. \r\n\r\nWe can observe that if there would be *only* values that repeated once (which occur twice), then the size of the array is even, and we have for each *even* index `i`: `A[i] == A[i+1]`.\r\n\r\nSince there is exactly one *triplet*, the array&#39;s size is odd, and so if we find an even index `i` for which `A[i] == A[i+1]` we know that the triplet did not occur at the *left* side of `i`. If however `A[i] != A[i+1]`, then we are sure the triplet occurred at the left side of `i`. \r\n\r\nThis is all we need to perform a binary search. We should just make sure we always make our checks at *even* indices.\r\n\r\nHere is an implementation in JavaScript:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function binarySearchTriplet(arr) {\r\n        let lo = 0, hi = arr.length - 1; // even\r\n        while (lo &lt; hi) {\r\n            // Take mid, but force it to be even\r\n            mid = (lo + hi) &gt;&gt; 2 &lt;&lt; 1;\r\n            if (arr[mid] === arr[mid+1]) {\r\n                lo = mid + 2;\r\n            } else {\r\n                hi = mid;\r\n            }\r\n        }\r\n        return arr[lo];\r\n    }\r\n\r\n    let arr = [1,1,4,4,4,5,5,7,7,2,2,6,6,8,8];\r\n    console.log(binarySearchTriplet(arr)); // 4\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Algorithms task about finding not unique number in array","body":"<p>You can use a custom binary search algorithm.</p>\n<p>We can observe that if there would be <em>only</em> values that repeated once (which occur twice), then the size of the array is even, and we have for each <em>even</em> index <code>i</code>: <code>A[i] == A[i+1]</code>.</p>\n<p>Since there is exactly one <em>triplet</em>, the array's size is odd, and so if we find an even index <code>i</code> for which <code>A[i] == A[i+1]</code> we know that the triplet did not occur at the <em>left</em> side of <code>i</code>. If however <code>A[i] != A[i+1]</code>, then we are sure the triplet occurred at the left side of <code>i</code>.</p>\n<p>This is all we need to perform a binary search. We should just make sure we always make our checks at <em>even</em> indices.</p>\n<p>Here is an implementation in JavaScript:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function binarySearchTriplet(arr) {\n    let lo = 0, hi = arr.length - 1; // even\n    while (lo &lt; hi) {\n        // Take mid, but force it to be even\n        mid = (lo + hi) &gt;&gt; 2 &lt;&lt; 1;\n        if (arr[mid] === arr[mid+1]) {\n            lo = mid + 2;\n        } else {\n            hi = mid;\n        }\n    }\n    return arr[lo];\n}\n\nlet arr = [1,1,4,4,4,5,5,7,7,2,2,6,6,8,8];\nconsole.log(binarySearchTriplet(arr)); // 4</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":15635753,"reputation":13,"user_id":12068948,"display_name":"FLY FOX 2058"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69353628,"answer_count":1,"score":1,"last_activity_date":1632779447,"creation_date":1632774707,"question_id":69352918,"body_markdown":"I&#39;m new at algorithms and want to know how to solve this task. A detailed Java solution is desirable. \r\n\r\nYou have been given an integer n2 and an integer array A[0..n1] which is sorted in \r\nnondecreasing order . All numbers repeat 1 time but one number repeats 2 times, how do you find the number that repeat 2 times. Using data structures and built-in functions was not allowed. Complexity of algorithm should be O(lg(n))\r\n","title":"Algorithms task about finding not unique number in array","body":"<p>I'm new at algorithms and want to know how to solve this task. A detailed Java solution is desirable.</p>\n<p>You have been given an integer n2 and an integer array A[0..n1] which is sorted in\nnondecreasing order . All numbers repeat 1 time but one number repeats 2 times, how do you find the number that repeat 2 times. Using data structures and built-in functions was not allowed. Complexity of algorithm should be O(lg(n))</p>\n"},{"tags":["java","neo4j","lombok","spring-data-neo4j","neo4j-ogm"],"answers":[{"tags":[],"owner":{"account_id":4442164,"reputation":125,"user_id":3616470,"display_name":"Sylviaa20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632779118,"creation_date":1632778646,"answer_id":69353528,"question_id":69349631,"body_markdown":"So I replaced the @Data lombok annotation with just the @Getter and @Setter for the relationshipEntity = :WITH_READING. And now it works just fine.\r\nNot sure why though.","title":"NEO4J-OGM. Error: saving @NodeEntity with its respective @RelationshipEntity causes the stack to overflow (StackOverflowError: null) - stuck in a loop","body":"<p>So I replaced the @Data lombok annotation with just the @Getter and @Setter for the relationshipEntity = :WITH_READING. And now it works just fine.\nNot sure why though.</p>\n"}],"owner":{"account_id":4442164,"reputation":125,"user_id":3616470,"display_name":"Sylviaa20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632779362,"creation_date":1632757953,"question_id":69349631,"body_markdown":"I have two nodes and 1 relationship. (:Device)-[:WITH_READING {timestamp}]-&gt;(:Reading)\r\nFor this I have created the following 2 Node entities and 1 RelationshipEntity.\r\nWhen I save the Device NodeEntity using Neo4jSessionFactory.getInstance().getNeo4jSession().save. I get the StackOverFlow error, because it just runs in a loop between the Node and RelationshipEntity.\r\n\r\nHow can I fix this.\r\n\r\n    Caused by: java.lang.StackOverflowError: null\r\n\tat java.base/java.util.HashSet.iterator(HashSet.java:173) ~[na:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:120) ~[na:na]\r\n\tat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\r\n\tat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\r\n\tat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\r\n\tat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\r\n\tat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\r\n\r\n\r\n```@Data\r\n@AllArgsConstructor\r\n@NodeEntity(label = &quot;Device&quot;)\r\npublic class Device {\r\n    @Index\r\n    @Id\r\n    @Property(name=&quot;deviceId&quot;)\r\n    private String id;\r\n\r\n    public Device(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Relationship(type = &quot;WITH_READING&quot;)\r\n    Set&lt;DeviceReading&gt; deviceReadings;\r\n}\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@RelationshipEntity(type = &quot;WITH_READING&quot;)\r\npublic class DeviceReading {\r\n    private Long id;\r\n    \r\n    @Property(name = &quot;timestamp&quot;)\r\n    private long timestamp;\r\n\r\n    @JsonIgnore\r\n    @StartNode\r\n    private Device device;\r\n    @EndNode\r\n    private Reading reading;\r\n}\r\n\r\n\r\n@AllArgsConstructor\r\n@NodeEntity(label = &quot;SensorReading&quot;)\r\npublic class Reading {\r\n    @Id\r\n    @Property(name=&quot;id&quot;)\r\n    @GeneratedValue(strategy = UuidGenerator.class)\r\n    @Convert(UUIDConvertor.class)\r\n    private UUID id;\r\n\r\n    @Property(name=&quot;isExtrapolated&quot;)\r\n    private boolean extrapolated;\r\n}\r\n\r\n","title":"NEO4J-OGM. Error: saving @NodeEntity with its respective @RelationshipEntity causes the stack to overflow (StackOverflowError: null) - stuck in a loop","body":"<p>I have two nodes and 1 relationship. (:Device)-[:WITH_READING {timestamp}]-&gt;(:Reading)\nFor this I have created the following 2 Node entities and 1 RelationshipEntity.\nWhen I save the Device NodeEntity using Neo4jSessionFactory.getInstance().getNeo4jSession().save. I get the StackOverFlow error, because it just runs in a loop between the Node and RelationshipEntity.</p>\n<p>How can I fix this.</p>\n<pre><code>Caused by: java.lang.StackOverflowError: null\nat java.base/java.util.HashSet.iterator(HashSet.java:173) ~[na:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:120) ~[na:na]\nat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\nat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\nat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\nat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.path.Device.hashCode(Device.java:12) ~[classes/:na]\nat com.path.DeviceReading.hashCode(DeviceReading.java:13) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\n</code></pre>\n<pre><code>@AllArgsConstructor\n@NodeEntity(label = &quot;Device&quot;)\npublic class Device {\n    @Index\n    @Id\n    @Property(name=&quot;deviceId&quot;)\n    private String id;\n\n    public Device(String id) {\n        this.id = id;\n    }\n\n    @Relationship(type = &quot;WITH_READING&quot;)\n    Set&lt;DeviceReading&gt; deviceReadings;\n}\n\n\n@Data\n@AllArgsConstructor\n@RelationshipEntity(type = &quot;WITH_READING&quot;)\npublic class DeviceReading {\n    private Long id;\n    \n    @Property(name = &quot;timestamp&quot;)\n    private long timestamp;\n\n    @JsonIgnore\n    @StartNode\n    private Device device;\n    @EndNode\n    private Reading reading;\n}\n\n\n@AllArgsConstructor\n@NodeEntity(label = &quot;SensorReading&quot;)\npublic class Reading {\n    @Id\n    @Property(name=&quot;id&quot;)\n    @GeneratedValue(strategy = UuidGenerator.class)\n    @Convert(UUIDConvertor.class)\n    private UUID id;\n\n    @Property(name=&quot;isExtrapolated&quot;)\n    private boolean extrapolated;\n}\n\n</code></pre>\n"},{"tags":["java","android","visibility"],"comments":[{"owner":{"account_id":16442015,"reputation":580,"user_id":11877995,"display_name":"RAVN Mateus"},"score":0,"creation_date":1632754352,"post_id":69348584,"comment_id":122572146,"body_markdown":"Can you please provide the actual build output/stack trace?","body":"Can you please provide the actual build output/stack trace?"},{"owner":{"account_id":6998321,"reputation":1684,"user_id":5365227,"display_name":"Wale"},"score":1,"creation_date":1632778184,"post_id":69348584,"comment_id":122580774,"body_markdown":"What is calendarGroup ? I mean where did you create it ?\nAlso, you can simplify that your if statement to just : calendarGroup.setVisibility(!calendarGroup.getVisibility())","body":"What is calendarGroup ? I mean where did you create it ? Also, you can simplify that your if statement to just : calendarGroup.setVisibility(!calendarGroup.getVisibility())"}],"owner":{"account_id":22874570,"reputation":11,"user_id":17017100,"display_name":"Mayur Chauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632779166,"creation_date":1632753640,"question_id":69348584,"body_markdown":"This piece of code fails to compile because the method `setVisibility()` cannot be resolved.\r\n\r\n```\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        calenderButton.setOnClickListener(view1 -&gt; {\r\n               calendarGroup.setVisibility(\r\n                       calendarGroup.getVisibility() == View.GONE ? View.VISIBLE : View.GONE\r\n               );\r\n        });\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String task = enterTodo.getText().toString().trim();\r\n                if(!TextUtils.isEmpty(task)){\r\n                    Task myTask = new Task(task, Priority.HIGH,\r\n                    Calendar.getInstance().getTime(), Calendar.getInstance().getTime(),\r\n                            false);\r\n                    TaskViewModel.insert(myTask);\r\n                }\r\n            }\r\n```","title":"Android: &quot;Can&#39;t resolve method &#39;setVisibility&#39; in group&quot;","body":"<p>This piece of code fails to compile because the method <code>setVisibility()</code> cannot be resolved.</p>\n<pre><code>public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        calenderButton.setOnClickListener(view1 -&gt; {\n               calendarGroup.setVisibility(\n                       calendarGroup.getVisibility() == View.GONE ? View.VISIBLE : View.GONE\n               );\n        });\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String task = enterTodo.getText().toString().trim();\n                if(!TextUtils.isEmpty(task)){\n                    Task myTask = new Task(task, Priority.HIGH,\n                    Calendar.getInstance().getTime(), Calendar.getInstance().getTime(),\n                            false);\n                    TaskViewModel.insert(myTask);\n                }\n            }\n</code></pre>\n"},{"tags":["java","interface","default-method","native-methods"],"comments":[{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":0,"creation_date":1632778368,"post_id":69353439,"comment_id":122580823,"body_markdown":"Have you tried defining a `default native` method in an interface to see if the compiler accepts it?","body":"Have you tried defining a <code>default native</code> method in an interface to see if the compiler accepts it?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1632778317,"creation_date":1632778317,"answer_id":69353482,"question_id":69353439,"body_markdown":"No, interfaces [can&#39;t have `native` methods][1]:\r\n\r\n&gt; *Note that an interface method may not be declared [..] with the modifiers `final`, `synchronized`, or `native`.*\r\n\r\n\r\nTechnically that text is non-normative, because it only points out that this list does not contain the mentioned modifiers:\r\n\r\n&gt; *InterfaceMethodModifier*:  \r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*(one of)*  \r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Annotation `public` `private`  \r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`abstract` `default` `static` `strictfp`\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.4","title":"Is it possible to implement native methods in interfaces?","body":"<p>No, interfaces <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.4\" rel=\"noreferrer\">can't have <code>native</code> methods</a>:</p>\n<blockquote>\n<p><em>Note that an interface method may not be declared [..] with the modifiers <code>final</code>, <code>synchronized</code>, or <code>native</code>.</em></p>\n</blockquote>\n<p>Technically that text is non-normative, because it only points out that this list does not contain the mentioned modifiers:</p>\n<blockquote>\n<p><em>InterfaceMethodModifier</em>:<br />\n<em>(one of)</em><br />\nAnnotation <code>public</code> <code>private</code><br />\n<code>abstract</code> <code>default</code> <code>static</code> <code>strictfp</code></p>\n</blockquote>\n"}],"owner":{"account_id":19642247,"reputation":174,"user_id":14378045,"display_name":"stfxc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353482,"answer_count":1,"score":0,"last_activity_date":1632778317,"creation_date":1632778072,"question_id":69353439,"body_markdown":"You often hear that methods in an interface have no implementation. However, in Java 8 it became possible to implement the default methods. \r\nBut I&#39;m interested. Was and is it possible to implement interface methods natively? (`native` methods).\r\n\r\nWhen the interview question is asked - &quot;Is it possible to implement a method in an interface?&quot; Answer - you can make a native method implementation, and since Java 8 it is possible to define a default method.&quot; How correct is this answer? \r\n","title":"Is it possible to implement native methods in interfaces?","body":"<p>You often hear that methods in an interface have no implementation. However, in Java 8 it became possible to implement the default methods.\nBut I'm interested. Was and is it possible to implement interface methods natively? (<code>native</code> methods).</p>\n<p>When the interview question is asked - &quot;Is it possible to implement a method in an interface?&quot; Answer - you can make a native method implementation, and since Java 8 it is possible to define a default method.&quot; How correct is this answer?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1632772419,"post_id":69352431,"comment_id":122579045,"body_markdown":"&quot;create DTO classes [...] pretty dirty solution&quot;: IMO this is actually a cleaner solution, although with some extra effort. Always IMO, having a single class acting both as DTO *and* as persistence entity (not to mention it is often used as domain model too) is a violation of the single responsibility principle, leading to workarounds and/or complex code. Having separate DTOs has an extra overhead, but once you are familiar with the tools (e.g. MapStruct) and you set them in your project, it becomes cleaner. Especially in your case, I would go for DTOs! Best of luck anyway!","body":"&quot;create DTO classes [...] pretty dirty solution&quot;: IMO this is actually a cleaner solution, although with some extra effort. Always IMO, having a single class acting both as DTO <i>and</i> as persistence entity (not to mention it is often used as domain model too) is a violation of the single responsibility principle, leading to workarounds and/or complex code. Having separate DTOs has an extra overhead, but once you are familiar with the tools (e.g. MapStruct) and you set them in your project, it becomes cleaner. Especially in your case, I would go for DTOs! Best of luck anyway!"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632776919,"creation_date":1632776919,"answer_id":69353278,"question_id":69352431,"body_markdown":"Given that your cases are not straightforward that could be easily tackled by the solutions mentioned in the article you shared, I would definitely go for DTOs. Why? Let me list a couple of advantages:\r\n\r\n - Clear definition of whatever you want to include in the response to the caller, without custom serializers, `@JsonView`s, `@JsonIgnore` or other not easy to follow and read tricks.\r\n - Restructure of the public model is possible so that it fits better the needs of the clients. This structure might not be the same structure that works better to model your business logic. \r\n - Inner model becomes decoupled from the public model your API consumers know, making it possible to rework your inner model and still keep the same public model.\r\n\r\nThere are, however, some disadvantages such as having to additionally map entities to DTOs. You can tackle this one by using mapping libraries such as [MapStruct][1]. Nevertheless, the advantages clearly outweigh the disadvantages and thus you definitely should go with DTOs.\r\n\r\n  [1]: https://mapstruct.org/","title":"Flexible serializing of nested JPA entities with bidirectional relationships","body":"<p>Given that your cases are not straightforward that could be easily tackled by the solutions mentioned in the article you shared, I would definitely go for DTOs. Why? Let me list a couple of advantages:</p>\n<ul>\n<li>Clear definition of whatever you want to include in the response to the caller, without custom serializers, <code>@JsonView</code>s, <code>@JsonIgnore</code> or other not easy to follow and read tricks.</li>\n<li>Restructure of the public model is possible so that it fits better the needs of the clients. This structure might not be the same structure that works better to model your business logic.</li>\n<li>Inner model becomes decoupled from the public model your API consumers know, making it possible to rework your inner model and still keep the same public model.</li>\n</ul>\n<p>There are, however, some disadvantages such as having to additionally map entities to DTOs. You can tackle this one by using mapping libraries such as <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>. Nevertheless, the advantages clearly outweigh the disadvantages and thus you definitely should go with DTOs.</p>\n"}],"owner":{"account_id":22875897,"reputation":13,"user_id":17018235,"display_name":"poolziee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69353278,"answer_count":1,"score":1,"last_activity_date":1632777969,"creation_date":1632771794,"question_id":69352431,"body_markdown":"I am new to Java Spring and I am trying to find a way to serialize nested JPA entities with bidirectional relationships in different JSON results, depending on the Controller&#39;s access point. \r\n\r\n*Relationships:*\r\n\r\nUser - One  to Many - Booking \r\n\r\nBooking - Many to Many - Room (booked rooms)\r\n\r\nHotel- One to Many - Room\r\n\r\n*The Classes:*\r\n\r\n**User.java**\r\n\r\n```\r\n@Entity @Table(name =&quot;user&quot;) @Getter @Setter\r\npublic class User {\r\n    @Id\r\n    @SequenceGenerator(name=&quot;user_sequence&quot;, sequenceName=&quot;user_sequence&quot;,allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\r\n    private Long id;\r\n    private String first_name;\r\n    private String last_name;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n**Hotel.java**\r\n\r\n```\r\n@Entity @Table(name=&quot;hotel&quot;) @Getter @Setter\r\npublic class Hotel {\r\n\r\n    @Id\r\n    @SequenceGenerator(name=&quot;hotel_sequence&quot;,sequenceName=&quot;hotel_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hotel_sequence&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;hotel&quot;)\r\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\r\n    \r\n}\r\n```\r\n\r\n**Room.java**\r\n\r\n```\r\n\r\n@Entity @Table(name =&quot;room&quot;) @Getter @Setter\r\npublic class Room {\r\n\r\n    @Id\r\n    @SequenceGenerator( name=&quot;room_sequence&quot;,sequenceName=&quot;room_sequence&quot;,allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;room_sequence&quot;)\r\n    private Long id;\r\n    private String type;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;hotel_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Hotel hotel;\r\n\r\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\r\n    private List&lt;Booking&gt; booking = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n**Booking.java**\r\n\r\n```\r\n@Entity @Table(name=&quot;booking&quot;) @Getter @Setter\r\npublic class Booking {\r\n\r\n    @Id\r\n    @SequenceGenerator(name=&quot;booking_sequence&quot;,sequenceName=&quot;booking_sequence&quot;,allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;booking_sequence&quot;)\r\n    private Long id;\r\n    private double price;\r\n\r\n    private String info;\r\n\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name=&quot;booking_rooms&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;booking_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;room_id&quot;)\r\n    )\r\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nI need the following JSON results:\r\n\r\n - A user with his bookings (including the rooms in the booking)\r\n\r\n - A hotel including the rooms (excluding the bookings of the rooms)\r\n \r\n - A room&#39;s bookings (including the user(excluding his bookings))\r\n\r\nI&#39;ve read the documentation for Jackson here: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n\r\nand I tried with most of the approaches, but couldn&#39;t succeed completing all of the above mentioned results. I tried to make custom serializers, but as I said I am pretty new to Spring and didn&#39;t find a way to serialize the entities for each scenario. It just seems &quot;too nested&quot; to succeed.\r\n\r\nThe only solution I have is to create DTO classes for the results I want and just &#39;collect&#39; the data by looping through the repositories, but it is a pretty dirty solution, as I will have more complicated structure of relationships in the future with more entities, thus I will have A LOT of DTO classes.\r\n\r\nIs there a better way of conducting the relationships?\r\n\r\n\r\nWhat would be the best approach for this specific case?","title":"Flexible serializing of nested JPA entities with bidirectional relationships","body":"<p>I am new to Java Spring and I am trying to find a way to serialize nested JPA entities with bidirectional relationships in different JSON results, depending on the Controller's access point.</p>\n<p><em>Relationships:</em></p>\n<p>User - One  to Many - Booking</p>\n<p>Booking - Many to Many - Room (booked rooms)</p>\n<p>Hotel- One to Many - Room</p>\n<p><em>The Classes:</em></p>\n<p><strong>User.java</strong></p>\n<pre><code>@Entity @Table(name =&quot;user&quot;) @Getter @Setter\npublic class User {\n    @Id\n    @SequenceGenerator(name=&quot;user_sequence&quot;, sequenceName=&quot;user_sequence&quot;,allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\n    private Long id;\n    private String first_name;\n    private String last_name;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><strong>Hotel.java</strong></p>\n<pre><code>@Entity @Table(name=&quot;hotel&quot;) @Getter @Setter\npublic class Hotel {\n\n    @Id\n    @SequenceGenerator(name=&quot;hotel_sequence&quot;,sequenceName=&quot;hotel_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;hotel_sequence&quot;)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = &quot;hotel&quot;)\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\n    \n}\n</code></pre>\n<p><strong>Room.java</strong></p>\n<pre><code>\n@Entity @Table(name =&quot;room&quot;) @Getter @Setter\npublic class Room {\n\n    @Id\n    @SequenceGenerator( name=&quot;room_sequence&quot;,sequenceName=&quot;room_sequence&quot;,allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;room_sequence&quot;)\n    private Long id;\n    private String type;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;hotel_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Hotel hotel;\n\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\n    private List&lt;Booking&gt; booking = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>Booking.java</strong></p>\n<pre><code>@Entity @Table(name=&quot;booking&quot;) @Getter @Setter\npublic class Booking {\n\n    @Id\n    @SequenceGenerator(name=&quot;booking_sequence&quot;,sequenceName=&quot;booking_sequence&quot;,allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;booking_sequence&quot;)\n    private Long id;\n    private double price;\n\n    private String info;\n\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n\n    @ManyToMany\n    @JoinTable(\n            name=&quot;booking_rooms&quot;,\n            joinColumns = @JoinColumn(name = &quot;booking_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;room_id&quot;)\n    )\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I need the following JSON results:</p>\n<ul>\n<li><p>A user with his bookings (including the rooms in the booking)</p>\n</li>\n<li><p>A hotel including the rooms (excluding the bookings of the rooms)</p>\n</li>\n<li><p>A room's bookings (including the user(excluding his bookings))</p>\n</li>\n</ul>\n<p>I've read the documentation for Jackson here: <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n<p>and I tried with most of the approaches, but couldn't succeed completing all of the above mentioned results. I tried to make custom serializers, but as I said I am pretty new to Spring and didn't find a way to serialize the entities for each scenario. It just seems &quot;too nested&quot; to succeed.</p>\n<p>The only solution I have is to create DTO classes for the results I want and just 'collect' the data by looping through the repositories, but it is a pretty dirty solution, as I will have more complicated structure of relationships in the future with more entities, thus I will have A LOT of DTO classes.</p>\n<p>Is there a better way of conducting the relationships?</p>\n<p>What would be the best approach for this specific case?</p>\n"},{"tags":["java","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632777536,"creation_date":1632777536,"answer_id":69353371,"question_id":69353297,"body_markdown":"In order to set the `Accept` header you can use an Interceptor as follows:\r\n```java\r\npublic class AcceptHeaderSetterInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n  @Override\r\n  public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n    HttpHeaders headers = request.getHeaders();\r\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    return execution.execute(request, body);\r\n  }\r\n}\r\n```\r\n\r\nThen you need to register this Interceptor:\r\n```java\r\n@Configuration\r\npublic class Config {\r\n\r\n  @Bean\r\n  public RestTemplate restTemplate() {\r\n      RestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory());\r\n      restTemplate.setInterceptors(Collections.singletonList(new AcceptHeaderSetterInterceptor()));\r\n      return restTemplate;\r\n  }\r\n}\r\n```\r\n\r\nRegarding the URI I wouldn&#39;t suggest you do that because it is pretty common to use the same `RestTemplate` to call different URLs. The same goes for the `Bearer Token` because I guess it really depends on the URL you are calling.","title":"How to configure RestTemplate to be used with different URLs and Response Entities?","body":"<p>In order to set the <code>Accept</code> header you can use an Interceptor as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AcceptHeaderSetterInterceptor implements ClientHttpRequestInterceptor {\n\n  @Override\n  public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n    HttpHeaders headers = request.getHeaders();\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    return execution.execute(request, body);\n  }\n}\n</code></pre>\n<p>Then you need to register this Interceptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n\n  @Bean\n  public RestTemplate restTemplate() {\n      RestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory());\n      restTemplate.setInterceptors(Collections.singletonList(new AcceptHeaderSetterInterceptor()));\n      return restTemplate;\n  }\n}\n</code></pre>\n<p>Regarding the URI I wouldn't suggest you do that because it is pretty common to use the same <code>RestTemplate</code> to call different URLs. The same goes for the <code>Bearer Token</code> because I guess it really depends on the URL you are calling.</p>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353371,"answer_count":1,"score":0,"last_activity_date":1632777536,"creation_date":1632777086,"question_id":69353297,"body_markdown":"I defined a Configuration class like this:\r\n\r\n    @Configuration\r\n    public class RestTemplateConfiguration {\r\n    \r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            return new RestTemplate();\r\n        }\r\n    }\r\n    \r\nThe bean above is used by different services to perform actions like these:\r\n\r\n    ResponseEntity&lt;Cars&gt; cars= restTemplate.exchange(\r\n                                                         RequestEntity.get(new URI(url)).headers(headers).build(),\r\n                                                        Cars.class);\r\n\r\nor\r\n\r\n    ResponseEntity&lt;CarDetail&gt; savingAmountConsumed = restTemplate.exchange(\r\n                                                                builder.buildAndExpand(uriVariable).toUri(),\r\n                                                                HttpMethod.PUT,\r\n                                                                requestEntity,\r\n                                                                CarDetail.class);\r\n\r\nFor each service, I&#39;m defining different URI variable `uriVariable` and always defining the same header configuration like this:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n            headers.setBearerAuth(token);\r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n\r\nIs it possible to reconfigure the RestTemplate in a way that I don&#39;t need to set the same header in different services multiple times? (same question applies to the URI)","title":"How to configure RestTemplate to be used with different URLs and Response Entities?","body":"<p>I defined a Configuration class like this:</p>\n<pre><code>@Configuration\npublic class RestTemplateConfiguration {\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n<p>The bean above is used by different services to perform actions like these:</p>\n<pre><code>ResponseEntity&lt;Cars&gt; cars= restTemplate.exchange(\n                                                     RequestEntity.get(new URI(url)).headers(headers).build(),\n                                                    Cars.class);\n</code></pre>\n<p>or</p>\n<pre><code>ResponseEntity&lt;CarDetail&gt; savingAmountConsumed = restTemplate.exchange(\n                                                            builder.buildAndExpand(uriVariable).toUri(),\n                                                            HttpMethod.PUT,\n                                                            requestEntity,\n                                                            CarDetail.class);\n</code></pre>\n<p>For each service, I'm defining different URI variable <code>uriVariable</code> and always defining the same header configuration like this:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n        headers.setBearerAuth(token);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n</code></pre>\n<p>Is it possible to reconfigure the RestTemplate in a way that I don't need to set the same header in different services multiple times? (same question applies to the URI)</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1632777579,"post_id":69353354,"comment_id":122580627,"body_markdown":"Read all your questions/answers into some kind of model.  Have a &quot;marker&quot; which keeps track of the current question been asked/presented.  Use this information to present the question to the user and offer them a selection of possible answers.  When the user selects a option, validate it, ask the model for the &quot;next&quot; question and move on","body":"Read all your questions/answers into some kind of model.  Have a &quot;marker&quot; which keeps track of the current question been asked/presented.  Use this information to present the question to the user and offer them a selection of possible answers.  When the user selects a option, validate it, ask the model for the &quot;next&quot; question and move on"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1632777619,"post_id":69353354,"comment_id":122580642,"body_markdown":"This actually has *nothing* to do with NetBeans or its GUI builder and all to do with Swing GUI behavior. Also yours is an [XY Problem](https://xyproblem.info/) type question where you&#39;re asking how to solve the issue in the wrong way. Have your program read the *entire* text file from the beginning, and then have the program wait to change its state depending on user input -- in other words, wait for events to occur using listeners, and then respond to them.","body":"This actually has <i>nothing</i> to do with NetBeans or its GUI builder and all to do with Swing GUI behavior. Also yours is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a> type question where you&#39;re asking how to solve the issue in the wrong way. Have your program read the <i>entire</i> text file from the beginning, and then have the program wait to change its state depending on user input -- in other words, wait for events to occur using listeners, and then respond to them."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1632777687,"post_id":69353354,"comment_id":122580666,"body_markdown":"For [example](https://stackoverflow.com/questions/31602113/listener-placement-adhering-to-the-traditional-non-mediator-mvc-pattern/31604919#31604919) and [example](https://stackoverflow.com/questions/30925564/why-is-my-jlabel-not-showing-up/30926625#30926625)","body":"For <a href=\"https://stackoverflow.com/questions/31602113/listener-placement-adhering-to-the-traditional-non-mediator-mvc-pattern/31604919#31604919\">example</a> and <a href=\"https://stackoverflow.com/questions/30925564/why-is-my-jlabel-not-showing-up/30926625#30926625\">example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1632778351,"post_id":69353354,"comment_id":122580818,"body_markdown":"GUIs by their nature are event driven, that is, something happens and you respond to it.  So the problem is with your understanding of how GUI frameworks work.  Maybe start with [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/).  I&#39;d also discourage you from using form editors as they don&#39;t help you learn or understand how the API works and tends to &quot;encourage&quot; bad patterns","body":"GUIs by their nature are event driven, that is, something happens and you respond to it.  So the problem is with your understanding of how GUI frameworks work.  Maybe start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  I&#39;d also discourage you from using form editors as they don&#39;t help you learn or understand how the API works and tends to &quot;encourage&quot; bad patterns"},{"owner":{"account_id":22534589,"reputation":3,"user_id":16726090,"display_name":"Justformaddenpurposes"},"score":0,"creation_date":1632817777,"post_id":69353354,"comment_id":122589251,"body_markdown":"Thank you guys for your help I will look into it right now","body":"Thank you guys for your help I will look into it right now"}],"owner":{"account_id":22534589,"reputation":3,"user_id":16726090,"display_name":"Justformaddenpurposes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632777447,"creation_date":1632777447,"question_id":69353354,"body_markdown":"I am currently making a Who Wants To Be A Millionaire game, I am quite new to GUI but I read my questions and options from a text file, I have previously made the same game on a CLI and I used the scanner class to make the system wait for an input before moving on to the next question, but I am not too sure how to do the same with a GUI, it reads all the questions without stopping. Is there a way to make it wait between questions? or any better options? I don&#39;t want to hard code the questions.\r\n\r\nHere is the main code that does the question reading part\r\n\r\n```  \r\nprivate void jButton1MouseClicked(java.awt.event.MouseEvent evt) {                                      \r\n        String answer = null;\r\n        String question = null;\r\n        String a = null;\r\n        String b = null;\r\n        String c = null;\r\n        String d = null;\r\n        \r\n        InputOutput getIO = new InputOutput();\r\n        getIO.readQuestions();\r\n        \r\n         for(int counter = 0; counter &lt; 15; counter++)\r\n         { \r\n          // int q = 0;\r\n            question = getIO.readQuestion(); // Read the question\r\n            a = getIO.readA(); // Read option a\r\n            b = getIO.readB(); // Read option b\r\n            c = getIO.readC(); // Read option c\r\n            d = getIO.readD(); // Read option d\r\n            \r\n           // System.out.println(a);\r\n            // Stored the correct answer from the file for later usage\r\n            answer = getIO.readAnswer();\r\n            \r\n            jTextField1.setText(question);\r\n            jTextField2.setText(a);\r\n            jTextField3.setText(b);\r\n            jTextField4.setText(c);\r\n            jTextField5.setText(d);\r\n            \r\n        }\r\n        \r\n    }                                     \r\n```\r\n\r\nHere is the InputOutput class\r\n\r\n```\r\n @Override\r\n     public void readQuestions() // Method to read the text file\r\n    {\r\n        try\r\n        {\r\n            in = new FileReader(&quot;./resources/Questions.txt&quot;); \r\n            read = new BufferedReader(in);\r\n        }\r\n        catch(FileNotFoundException e){\r\n            System.out.println(&quot;File not found&quot;);\r\n        }   \r\n    }\r\n\r\n   @Override\r\n   public String readQuestion() // Read the first line of the question\r\n    {\r\n        try\r\n        {\r\n           getQuestion  = read.readLine();\r\n          // System.out.println(getQuestion);\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getQuestion;\r\n    }\r\n   \r\n    @Override\r\n   public String readA() // Read option &#39;a&#39;\r\n   { \r\n        try\r\n        {\r\n           getA  = read.readLine();\r\n         //  System.out.println(getA);\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getA;\r\n   }\r\n   \r\n    @Override\r\n   public String readB() // Read option &#39;b&#39;\r\n   { \r\n        try\r\n        {\r\n           getB  = read.readLine();\r\n           //System.out.println(getB);\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getB;\r\n   }\r\n   \r\n    @Override\r\n   public String readC() //Read option &#39;c&#39;\r\n   { \r\n        try\r\n        {\r\n           getC  = read.readLine();\r\n           //System.out.println(getC);\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getC;\r\n   }\r\n   \r\n    @Override\r\n   public String readD() // Read option &#39;d&#39;\r\n   { \r\n        try\r\n        {\r\n           getD  = read.readLine();\r\n           //System.out.println(getD);\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getD;\r\n   }\r\n   \r\n    @Override\r\n   public String readAnswer() // Read answer\r\n   { \r\n        try\r\n        {\r\n           getAnswer  = read.readLine();\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error reading from file&quot;);\r\n        }\r\n        \r\n        return getAnswer;\r\n   }\r\n```\r\n\r\nThis is how the text file is arranged\r\n```\r\nWhat does &#39;NFL&#39; stand for\r\na) National Food League\r\nb) National Federation League\r\nc) National Football League\r\nd) National Fighting League\r\nc\r\nwhat is 9+2*5\r\na) 55\r\nb) 60\r\nc) 19\r\nd) 40\r\nc\r\n```\r\n\r\n\r\n","title":"Making Java Netbeans GUI builder wait before an event before reading certain parts of a text file","body":"<p>I am currently making a Who Wants To Be A Millionaire game, I am quite new to GUI but I read my questions and options from a text file, I have previously made the same game on a CLI and I used the scanner class to make the system wait for an input before moving on to the next question, but I am not too sure how to do the same with a GUI, it reads all the questions without stopping. Is there a way to make it wait between questions? or any better options? I don't want to hard code the questions.</p>\n<p>Here is the main code that does the question reading part</p>\n<pre><code>private void jButton1MouseClicked(java.awt.event.MouseEvent evt) {                                      \n        String answer = null;\n        String question = null;\n        String a = null;\n        String b = null;\n        String c = null;\n        String d = null;\n        \n        InputOutput getIO = new InputOutput();\n        getIO.readQuestions();\n        \n         for(int counter = 0; counter &lt; 15; counter++)\n         { \n          // int q = 0;\n            question = getIO.readQuestion(); // Read the question\n            a = getIO.readA(); // Read option a\n            b = getIO.readB(); // Read option b\n            c = getIO.readC(); // Read option c\n            d = getIO.readD(); // Read option d\n            \n           // System.out.println(a);\n            // Stored the correct answer from the file for later usage\n            answer = getIO.readAnswer();\n            \n            jTextField1.setText(question);\n            jTextField2.setText(a);\n            jTextField3.setText(b);\n            jTextField4.setText(c);\n            jTextField5.setText(d);\n            \n        }\n        \n    }                                     \n</code></pre>\n<p>Here is the InputOutput class</p>\n<pre><code> @Override\n     public void readQuestions() // Method to read the text file\n    {\n        try\n        {\n            in = new FileReader(&quot;./resources/Questions.txt&quot;); \n            read = new BufferedReader(in);\n        }\n        catch(FileNotFoundException e){\n            System.out.println(&quot;File not found&quot;);\n        }   \n    }\n\n   @Override\n   public String readQuestion() // Read the first line of the question\n    {\n        try\n        {\n           getQuestion  = read.readLine();\n          // System.out.println(getQuestion);\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getQuestion;\n    }\n   \n    @Override\n   public String readA() // Read option 'a'\n   { \n        try\n        {\n           getA  = read.readLine();\n         //  System.out.println(getA);\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getA;\n   }\n   \n    @Override\n   public String readB() // Read option 'b'\n   { \n        try\n        {\n           getB  = read.readLine();\n           //System.out.println(getB);\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getB;\n   }\n   \n    @Override\n   public String readC() //Read option 'c'\n   { \n        try\n        {\n           getC  = read.readLine();\n           //System.out.println(getC);\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getC;\n   }\n   \n    @Override\n   public String readD() // Read option 'd'\n   { \n        try\n        {\n           getD  = read.readLine();\n           //System.out.println(getD);\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getD;\n   }\n   \n    @Override\n   public String readAnswer() // Read answer\n   { \n        try\n        {\n           getAnswer  = read.readLine();\n        }\n        catch(IOException e){\n            System.out.println(&quot;Error reading from file&quot;);\n        }\n        \n        return getAnswer;\n   }\n</code></pre>\n<p>This is how the text file is arranged</p>\n<pre><code>What does 'NFL' stand for\na) National Food League\nb) National Federation League\nc) National Football League\nd) National Fighting League\nc\nwhat is 9+2*5\na) 55\nb) 60\nc) 19\nd) 40\nc\n</code></pre>\n"},{"tags":["java","docker","docker-container"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632553130,"post_id":69323797,"comment_id":122528533,"body_markdown":"Why not use a base docker image with 11?","body":"Why not use a base docker image with 11?"},{"owner":{"account_id":9033660,"reputation":335,"user_id":6730466,"accept_rate":17,"display_name":"kapil gupta"},"score":0,"creation_date":1632554803,"post_id":69323797,"comment_id":122528768,"body_markdown":"We cannot use that as that is a custom image built and we cannot use the public images in the company","body":"We cannot use that as that is a custom image built and we cannot use the public images in the company"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1632568851,"post_id":69323797,"comment_id":122531425,"body_markdown":"What&#39;s a &quot;pod terminal&quot;?  Why do you want `java -version` to show something other than the version of the `/usr/bin/java` installation?  Why can&#39;t you update your locally-built JVM base image to have the right version of Java?","body":"What&#39;s a &quot;pod terminal&quot;?  Why do you want <code>java -version</code> to show something other than the version of the <code>&#47;usr&#47;bin&#47;java</code> installation?  Why can&#39;t you update your locally-built JVM base image to have the right version of Java?"},{"owner":{"account_id":9033660,"reputation":335,"user_id":6730466,"accept_rate":17,"display_name":"kapil gupta"},"score":0,"creation_date":1632569085,"post_id":69323797,"comment_id":122531482,"body_markdown":"True.. ideally we should, but we have some restrictions and can&#39;t do that in my organization.","body":"True.. ideally we should, but we have some restrictions and can&#39;t do that in my organization."},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632582967,"post_id":69323797,"comment_id":122534676,"body_markdown":"meaning you cant even build a new JDK 11 image yourself? if that&#39;s the case have you tried replacing the binaries of JDK 1.8 with the ones for JDK 11? otherwise, what are you able to do or what restrictions are you facing?","body":"meaning you cant even build a new JDK 11 image yourself? if that&#39;s the case have you tried replacing the binaries of JDK 1.8 with the ones for JDK 11? otherwise, what are you able to do or what restrictions are you facing?"},{"owner":{"account_id":9033660,"reputation":335,"user_id":6730466,"accept_rate":17,"display_name":"kapil gupta"},"score":0,"creation_date":1632584180,"post_id":69323797,"comment_id":122534978,"body_markdown":"We have few compliances to use the images from the list, we are using jdk 11 binaries and pointed java home and path accordingly. But due to other compliance java version should reflect the application version and that is not the case. We have some restrictions in organisation","body":"We have few compliances to use the images from the list, we are using jdk 11 binaries and pointed java home and path accordingly. But due to other compliance java version should reflect the application version and that is not the case. We have some restrictions in organisation"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632777291,"creation_date":1632777291,"answer_id":69353333,"question_id":69323797,"body_markdown":"The whole issue sounds independent of docker, it just appears in your docker container. I understand you start off from a JDK8 image just to install your own version of JDK11.\r\n\r\n- You could start from an image without any JDK and still install your own, which would get you around the confusion.\r\n- You could still start from the JDK8 image and replace the JDK in the container, again eliminating any confusion which of the JDKs is running\r\n- If you want to stay the way you have it now, change the path inside the container to first list your JDK11 before the existing JDK8. Then your calls to version will give your targeted JVM.\r\n\r\nSo you can see all these ideas would be the same if you had JDK8 installed on a machine and want to install and run your application with a different JDK. The problem is the same, and solutions to this are also the same.","title":"Java version to reflect application java not container java","body":"<p>The whole issue sounds independent of docker, it just appears in your docker container. I understand you start off from a JDK8 image just to install your own version of JDK11.</p>\n<ul>\n<li>You could start from an image without any JDK and still install your own, which would get you around the confusion.</li>\n<li>You could still start from the JDK8 image and replace the JDK in the container, again eliminating any confusion which of the JDKs is running</li>\n<li>If you want to stay the way you have it now, change the path inside the container to first list your JDK11 before the existing JDK8. Then your calls to version will give your targeted JVM.</li>\n</ul>\n<p>So you can see all these ideas would be the same if you had JDK8 installed on a machine and want to install and run your application with a different JDK. The problem is the same, and solutions to this are also the same.</p>\n"}],"owner":{"account_id":9033660,"reputation":335,"user_id":6730466,"accept_rate":17,"display_name":"kapil gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632777291,"creation_date":1632552525,"question_id":69323797,"body_markdown":"We have a requirement where the java version to be executed on pod terminal to show the application java version not the container version.\r\nWe are using base docker image which has jdk 1.8 and copies the jdk11 library within it for the application to use jdk 11. When I execute java -version in pod terminal it shows jdk 1.8\r\n\r\n\r\nAlready tried of setting java_home and path correctly to jdk 11 location, but still the java version shows jdk 1.8\r\n","title":"Java version to reflect application java not container java","body":"<p>We have a requirement where the java version to be executed on pod terminal to show the application java version not the container version.\nWe are using base docker image which has jdk 1.8 and copies the jdk11 library within it for the application to use jdk 11. When I execute java -version in pod terminal it shows jdk 1.8</p>\n<p>Already tried of setting java_home and path correctly to jdk 11 location, but still the java version shows jdk 1.8</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632773671,"post_id":69352694,"comment_id":122579487,"body_markdown":"You seem to be repeating the same checks. Are you familiar with N-grams? Take all **unique** length 3 substrings from the input. Then filter out all substrings with consecutive characters, and count the elements that are left","body":"You seem to be repeating the same checks. Are you familiar with N-grams? Take all <b>unique</b> length 3 substrings from the input. Then filter out all substrings with consecutive characters, and count the elements that are left"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1632775122,"post_id":69352694,"comment_id":122579928,"body_markdown":"@OneCricketeer, I am checking all possible strings, I have mentioned the indices also in my explanation so they are different combinations. My output can contain duplicates also that is why my output for given example is 20. I have updated my explanation part with proper information now.","body":"@OneCricketeer, I am checking all possible strings, I have mentioned the indices also in my explanation so they are different combinations. My output can contain duplicates also that is why my output for given example is 20. I have updated my explanation part with proper information now."}],"answers":[{"tags":[],"owner":{"account_id":5527424,"reputation":7710,"user_id":4388512,"accept_rate":100,"display_name":"F43nd1r"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632776937,"creation_date":1632776937,"answer_id":69353280,"question_id":69352694,"body_markdown":"Let&#39;s first look at all possible binary strings of length 3 such that no consecutive characters are same:\r\n\r\n- `101`\r\n- `010`\r\n\r\nWith that in mind the problem can be reformulated to:\r\n\r\n```\r\nfor each 0 in input, find all combinations of 1 on either side, plus\r\nfor each 1 in input, find all combinations of 0 on either side\r\n```\r\nFor any given `0`, the number of combinations of `1` on either side is equal to the number of `1` to the left *times* the number of  `1` to the right (and vice-versa).\r\n\r\nFinally, we can combine these two `for` loops into one by switching between the two cases based on the current character. We should also keep track of the `0` and `1` to the left and right, as we don&#39;t want to recalculate them all the time. This leaves me with the following algorithm:\r\n```kotlin\r\nvar leftZeroes = 0\r\nvar leftOnes = 0\r\nvar rightZeroes = input.count { it == &#39;0&#39; }\r\nvar rightOnes = input.count { it == &#39;1&#39; }\r\nvar output = 0\r\nfor (char in input) {\r\n    if (char == &#39;0&#39;) {\r\n        output += leftOnes * rightOnes\r\n        leftZeroes++\r\n        rightZeroes--\r\n    } else {\r\n        output += leftZeroes * rightZeroes\r\n        leftOnes++\r\n        rightOnes--\r\n    }\r\n}\r\nreturn output\r\n```\r\n\r\nTime complexity: `O(n)` (`count` and `for` are linear in input size, everything else is constant)\r\n\r\nAdditional space complexity would be `O(1)`, as only those five integers are stored at any time","title":"Find total possible ways to generate from given string","body":"<p>Let's first look at all possible binary strings of length 3 such that no consecutive characters are same:</p>\n<ul>\n<li><code>101</code></li>\n<li><code>010</code></li>\n</ul>\n<p>With that in mind the problem can be reformulated to:</p>\n<pre><code>for each 0 in input, find all combinations of 1 on either side, plus\nfor each 1 in input, find all combinations of 0 on either side\n</code></pre>\n<p>For any given <code>0</code>, the number of combinations of <code>1</code> on either side is equal to the number of <code>1</code> to the left <em>times</em> the number of  <code>1</code> to the right (and vice-versa).</p>\n<p>Finally, we can combine these two <code>for</code> loops into one by switching between the two cases based on the current character. We should also keep track of the <code>0</code> and <code>1</code> to the left and right, as we don't want to recalculate them all the time. This leaves me with the following algorithm:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var leftZeroes = 0\nvar leftOnes = 0\nvar rightZeroes = input.count { it == '0' }\nvar rightOnes = input.count { it == '1' }\nvar output = 0\nfor (char in input) {\n    if (char == '0') {\n        output += leftOnes * rightOnes\n        leftZeroes++\n        rightZeroes--\n    } else {\n        output += leftZeroes * rightZeroes\n        leftOnes++\n        rightOnes--\n    }\n}\nreturn output\n</code></pre>\n<p>Time complexity: <code>O(n)</code> (<code>count</code> and <code>for</code> are linear in input size, everything else is constant)</p>\n<p>Additional space complexity would be <code>O(1)</code>, as only those five integers are stored at any time</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69353280,"answer_count":1,"score":0,"last_activity_date":1632776937,"creation_date":1632773226,"question_id":69352694,"body_markdown":"I have a binary string of 0&#39;s and 1&#39;s. Now I want to select a string of length 3 such that no consecutive characters are same.\r\n\r\n**Example:**\r\n\r\n    Input : 01011010\r\n\r\n    Output: 20\r\n\r\n**Explanation:** All possible combinations are:\r\n\r\n    [0, 1, 0]:: indices : 0,1,2 :: valid\r\n    [0, 1, 1]:: indices : 0,1,3\r\n    [0, 1, 1]:: indices : 0,1,4\r\n    [0, 1, 0]:: indices : 0,1,5 :: valid\r\n    [0, 1, 1]:: indices : 0,1,6\r\n    [0, 1, 0]:: indices : 0,1,7 :: valid\r\n    [0, 0, 1]:: indices : 0,2,3\r\n    [0, 0, 1]:: indices : 0,2,4\r\n    [0, 0, 0]:: indices : 0,2,5\r\n    [0, 0, 1]:: indices : 0,2,6\r\n    [0, 0, 0]:: indices : 0,2,7\r\n    [0, 1, 1]:: indices : 0,3,4\r\n    [0, 1, 0]:: indices : 0,3,5 :: valid\r\n    [0, 1, 1]:: indices : 0,3,6\r\n    [0, 1, 0]:: indices : 0,3,7 :: valid\r\n    [0, 1, 0]:: indices : 0,4,5 :: valid\r\n    [0, 1, 1]:: indices : 0,4,6\r\n    [0, 1, 0]:: indices : 0,4,7 :: valid\r\n    [0, 0, 1]:: indices : 0,5,6\r\n    [0, 0, 0]:: indices : 0,5,7\r\n    [0, 1, 0]:: indices : 0,6,7 :: valid\r\n    \r\n    [1, 0, 1]:: indices : 1,2,3 :: valid\r\n    [1, 0, 1]:: indices : 1,2,4 :: valid\r\n    [1, 0, 0]:: indices : 1,2,5\r\n    [1, 0, 1]:: indices : 1,2,6 :: valid\r\n    [1, 0, 0]:: indices : 1,2,7\r\n    [1, 1, 1]:: indices : 1,3,4\r\n    [1, 1, 0]:: indices : 1,3,5\r\n    [1, 1, 1]:: indices : 1,3,6\r\n    [1, 1, 0]:: indices : 1,3,7\r\n    [1, 1, 0]:: indices : 1,4,5\r\n    [1, 1, 1]:: indices : 1,4,6\r\n    [1, 1, 0]:: indices : 1,4,7\r\n    [1, 0, 1]:: indices : 1,5,6 :: valid\r\n    [1, 0, 0]:: indices : 1,5,7\r\n    [1, 1, 0]:: indices : 1,6,7\r\n    \r\n    [0, 1, 1]:: indices : 2,3,4\r\n    [0, 1, 0]:: indices : 2,3,5 :: valid\r\n    [0, 1, 1]:: indices : 2,3,6\r\n    [0, 1, 0]:: indices : 2,3,7 :: valid\r\n    [0, 1, 0]:: indices : 2,4,5 :: valid\r\n    [0, 1, 1]:: indices : 2,4,6\r\n    [0, 1, 0]:: indices : 2,4,7 :: valid\r\n    [0, 0, 1]:: indices : 2,5,6\r\n    [0, 0, 0]:: indices : 2,5,7\r\n    [0, 1, 0]:: indices : 2,6,7 :: valid\r\n    \r\n    [1, 1, 0]:: indices : 3,4,5\r\n    [1, 1, 1]:: indices : 3,4,6\r\n    [1, 1, 0]:: indices : 3,4,7\r\n    [1, 0, 1]:: indices : 3,5,6 :: valid\r\n    [1, 0, 0]:: indices : 3,5,7\r\n    [1, 1, 0]:: indices : 3,6,7\r\n    \r\n    [1, 0, 1]:: indices : 4,5,6 :: valid\r\n    [1, 0, 0]:: indices : 4,5,7\r\n    [1, 1, 0]:: indices : 4,6,7\r\n    \r\n    [0, 1, 0]:: indices : 5,6,7 :: valid\r\n\r\nOf these only 20 combinations are valid so output is 20.\r\n\r\nHere is my program.\r\n\r\n    public static long process(String s) {\r\n    \tlong result = 0;\r\n    \tint n = s.length();\r\n    \tfor (int i = 0; i &lt; n; i++) {\r\n    \t\tfor (int j = i + 1; j &lt; n; j++) {\r\n    \t\t\tif (s.charAt(i) == s.charAt(j)) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tfor (int k = j + 1; k &lt; n; k++) {\r\n    \t\t\t\tif (s.charAt(j) != s.charAt(k)) {\r\n    \t\t\t\t\tresult++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n**Constaints:**\r\n\r\n    length of input is 1 to 2*10^5.\r\n\r\nHow to reduce time complexity of this program.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Find total possible ways to generate from given string","body":"<p>I have a binary string of 0's and 1's. Now I want to select a string of length 3 such that no consecutive characters are same.</p>\n<p><strong>Example:</strong></p>\n<pre><code>Input : 01011010\n\nOutput: 20\n</code></pre>\n<p><strong>Explanation:</strong> All possible combinations are:</p>\n<pre><code>[0, 1, 0]:: indices : 0,1,2 :: valid\n[0, 1, 1]:: indices : 0,1,3\n[0, 1, 1]:: indices : 0,1,4\n[0, 1, 0]:: indices : 0,1,5 :: valid\n[0, 1, 1]:: indices : 0,1,6\n[0, 1, 0]:: indices : 0,1,7 :: valid\n[0, 0, 1]:: indices : 0,2,3\n[0, 0, 1]:: indices : 0,2,4\n[0, 0, 0]:: indices : 0,2,5\n[0, 0, 1]:: indices : 0,2,6\n[0, 0, 0]:: indices : 0,2,7\n[0, 1, 1]:: indices : 0,3,4\n[0, 1, 0]:: indices : 0,3,5 :: valid\n[0, 1, 1]:: indices : 0,3,6\n[0, 1, 0]:: indices : 0,3,7 :: valid\n[0, 1, 0]:: indices : 0,4,5 :: valid\n[0, 1, 1]:: indices : 0,4,6\n[0, 1, 0]:: indices : 0,4,7 :: valid\n[0, 0, 1]:: indices : 0,5,6\n[0, 0, 0]:: indices : 0,5,7\n[0, 1, 0]:: indices : 0,6,7 :: valid\n\n[1, 0, 1]:: indices : 1,2,3 :: valid\n[1, 0, 1]:: indices : 1,2,4 :: valid\n[1, 0, 0]:: indices : 1,2,5\n[1, 0, 1]:: indices : 1,2,6 :: valid\n[1, 0, 0]:: indices : 1,2,7\n[1, 1, 1]:: indices : 1,3,4\n[1, 1, 0]:: indices : 1,3,5\n[1, 1, 1]:: indices : 1,3,6\n[1, 1, 0]:: indices : 1,3,7\n[1, 1, 0]:: indices : 1,4,5\n[1, 1, 1]:: indices : 1,4,6\n[1, 1, 0]:: indices : 1,4,7\n[1, 0, 1]:: indices : 1,5,6 :: valid\n[1, 0, 0]:: indices : 1,5,7\n[1, 1, 0]:: indices : 1,6,7\n\n[0, 1, 1]:: indices : 2,3,4\n[0, 1, 0]:: indices : 2,3,5 :: valid\n[0, 1, 1]:: indices : 2,3,6\n[0, 1, 0]:: indices : 2,3,7 :: valid\n[0, 1, 0]:: indices : 2,4,5 :: valid\n[0, 1, 1]:: indices : 2,4,6\n[0, 1, 0]:: indices : 2,4,7 :: valid\n[0, 0, 1]:: indices : 2,5,6\n[0, 0, 0]:: indices : 2,5,7\n[0, 1, 0]:: indices : 2,6,7 :: valid\n\n[1, 1, 0]:: indices : 3,4,5\n[1, 1, 1]:: indices : 3,4,6\n[1, 1, 0]:: indices : 3,4,7\n[1, 0, 1]:: indices : 3,5,6 :: valid\n[1, 0, 0]:: indices : 3,5,7\n[1, 1, 0]:: indices : 3,6,7\n\n[1, 0, 1]:: indices : 4,5,6 :: valid\n[1, 0, 0]:: indices : 4,5,7\n[1, 1, 0]:: indices : 4,6,7\n\n[0, 1, 0]:: indices : 5,6,7 :: valid\n</code></pre>\n<p>Of these only 20 combinations are valid so output is 20.</p>\n<p>Here is my program.</p>\n<pre><code>public static long process(String s) {\n    long result = 0;\n    int n = s.length();\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = i + 1; j &lt; n; j++) {\n            if (s.charAt(i) == s.charAt(j)) {\n                continue;\n            }\n            for (int k = j + 1; k &lt; n; k++) {\n                if (s.charAt(j) != s.charAt(k)) {\n                    result++;\n                }\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Constaints:</strong></p>\n<pre><code>length of input is 1 to 2*10^5.\n</code></pre>\n<p>How to reduce time complexity of this program.</p>\n"},{"tags":["java","android","typescript","ionic-framework","ionic-cordova"],"comments":[{"owner":{"account_id":7813562,"reputation":3206,"user_id":5909026,"accept_rate":45,"display_name":"Najam Us Saqib"},"score":0,"creation_date":1632822090,"post_id":69352953,"comment_id":122590928,"body_markdown":"what version of Java jdk are you using? also post output of command: `ionic info`","body":"what version of Java jdk are you using? also post output of command: <code>ionic info</code>"}],"answers":[{"tags":[],"owner":{"account_id":21412438,"reputation":66,"user_id":15772308,"display_name":"Sukhvir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632776827,"creation_date":1632776827,"answer_id":69353265,"question_id":69352953,"body_markdown":"i think you are missing these v4 libraries or dependencies are not getting sync properly. first thing you can invalidate/restart(file menu in Android studio) your project and if still not working then can check below link: https://stackoverflow.com/questions/24545576/package-android-support-v4-app-does-not-exist-in-android-studio-0-8","title":"compilation failed &quot;Task :app:compileDebugJavaWithJavac FAILED&quot;","body":"<p>i think you are missing these v4 libraries or dependencies are not getting sync properly. first thing you can invalidate/restart(file menu in Android studio) your project and if still not working then can check below link: <a href=\"https://stackoverflow.com/questions/24545576/package-android-support-v4-app-does-not-exist-in-android-studio-0-8\">package android.support.v4.app does not exist ; in Android studio 0.8</a></p>\n"}],"owner":{"account_id":22030263,"reputation":11,"user_id":16297641,"display_name":"ivan tzenev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632776827,"creation_date":1632774869,"question_id":69352953,"body_markdown":"this error randomly popped up after i tried running my ionic cordova app. this not only happens on my branch ive been working on but also with every other branch i try to run, which leads me to believe it is something with my machine. ive tried restarting and reinstalling the packages and it hasnt solved the issue.\r\n\r\n    &gt; ionic-app-scripts.cmd build --target cordova --platform android\r\n    [23:25:18]  ionic-app-scripts 3.2.4 \r\n    [23:25:18]  build dev started ... \r\n    [23:25:18]  clean started ... \r\n    [23:25:18]  clean finished in 21 ms \r\n    [23:25:18]  copy started ...\r\n    [23:25:18]  deeplinks started ... \r\n    [23:25:18]  deeplinks finished in 515 ms \r\n    [23:25:18]  transpile started ... \r\n    [23:25:25]  transpile finished in 6.59 s \r\n    [23:25:25]  preprocess started ... \r\n    [23:25:25]  preprocess finished in less than 1 ms\r\n    [23:25:25]  webpack started ...\r\n    [23:25:25]  copy finished in 7.26 s \r\n    [23:25:30]  webpack finished in 5.09 s \r\n    [23:25:30]  sass started ... \r\n    [23:25:32]  sass finished in 1.82 s \r\n    [23:25:32]  postprocess started ... \r\n    [23:25:32]  postprocess finished in 14 ms\r\n    [23:25:32]  lint started ...\r\n    [23:25:32]  build dev finished in 14.19 s \r\n    no-unused-variable is deprecated. Since TypeScript 2.9. Please use the built-in compiler checks instead.\r\n    [23:25:36]  lint finished in 4.22 s \r\n    &gt; cordova.cmd build android\r\n    Checking Java JDK and Android SDK versions\r\n    ANDROID_SDK_ROOT=undefined (recommended setting)\r\n    ANDROID_HOME=undefined (DEPRECATED)\r\n    Using Android SDK: C:\\Users\\IvanTzenev\\AppData\\Local\\Android\\sdk\r\n    Subproject Path: CordovaLib\r\n    Subproject Path: app\r\n    \r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\com\\ionicframework\\cordova\\webview\\IonicWebViewEngine.java:11: error: package android.support.annotation does not exist\r\n    import android.support.annotation.RequiresApi;\r\n                                     ^\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic.java:57: error: cannot find symbol\r\n    import android.support.v4.app.ActivityCompat;\r\n                                 ^\r\n      symbol:   class ActivityCompat\r\n      location: package android.support.v4.app\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_External_Storage.java:28: error: cannot find symbol\r\n    import android.support.v4.os.EnvironmentCompat;\r\n                                ^\r\n      symbol:   class EnvironmentCompat\r\n      location: package android.support.v4.os\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:35: error: cannot find symbol\r\n    import android.support.v4.app.NotificationManagerCompat;\r\n                                 ^\r\n      symbol:   class NotificationManagerCompat\r\n      location: package android.support.v4.app\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:40: error: package android.support.v4.content does not exist\r\n    import android.support.v4.content.FileProvider;\r\n                                     ^\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CordovaUri.java:25: error: package android.support.v4.content does not exist\r\n    import android.support.v4.content.FileProvider;\r\n                                     ^\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\FileProvider.java:21: error: package android.support.v4.content does not exist\r\n    public class FileProvider extends android.support.v4.content.FileProvider {}\r\n                                                                ^\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\com\\ionicframework\\cordova\\webview\\IonicWebViewEngine.java:137: error: cannot find symbol\r\n        @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\r\n         ^\r\n      symbol:   class RequiresApi\r\n      location: class IonicWebViewEngine.ServerClient\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic.java:648: error: cannot find symbol\r\n                java.lang.reflect.Method method = ActivityCompat.class.getMethod(&quot;shouldShowRequestPermissionRationale&quot;, Activity.class, java.lang.String.class);\r\n                                                  ^\r\n      symbol:   class ActivityCompat\r\n      location: class Diagnostic\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_External_Storage.java:216: error: cannot find symbol\r\n                        addPath = Environment.MEDIA_MOUNTED.equals(EnvironmentCompat.getStorageState(file));\r\n                                                                   ^\r\n      symbol:   variable EnvironmentCompat\r\n      location: class Diagnostic_External_Storage\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:123: error: cannot find symbol\r\n            NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this.cordova.getActivity().getApplicationContext());\r\n            ^\r\n      symbol:   class NotificationManagerCompat\r\n      location: class Diagnostic_Notifications\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:123: error: cannot find symbol\r\n            NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this.cordova.getActivity().getApplicationContext());\r\n                                                                  ^\r\n      symbol:   variable NotificationManagerCompat\r\n      location: class Diagnostic_Notifications\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:303: error: cannot find symbol\r\n            this.imageUri = new CordovaUri(FileProvider.getUriForFile(cordova.getActivity(),\r\n                                                       ^\r\n      symbol:   method getUriForFile(Activity,String,File)\r\n      location: class FileProvider\r\n    C:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:801: error: cannot find symbol\r\n                            Uri tmpFile = FileProvider.getUriForFile(cordova.getActivity(),\r\n                                                      ^\r\n      symbol:   method getUriForFile(Activity,String,File)\r\n      location: class FileProvider\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Some input files use unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    14 errors\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 1s\r\n    21 actionable tasks: 1 executed, 20 up-to-date\r\n    Command failed with exit code 1: C:\\GitHub\\Accentis-Ionic\\platforms\\android\\gradlew cdvBuildDebug -b C:\\GitHub\\Accentis-Ionic\\platforms\\android\\build.gradle\r\n    [ERROR] An error occurred while running subprocess cordova.\r\n    \r\n            cordova.cmd build android exited with exit code 1.\r\n    \r\n            Re-running this command with the --verbose flag may provide more information.","title":"compilation failed &quot;Task :app:compileDebugJavaWithJavac FAILED&quot;","body":"<p>this error randomly popped up after i tried running my ionic cordova app. this not only happens on my branch ive been working on but also with every other branch i try to run, which leads me to believe it is something with my machine. ive tried restarting and reinstalling the packages and it hasnt solved the issue.</p>\n<pre><code>&gt; ionic-app-scripts.cmd build --target cordova --platform android\n[23:25:18]  ionic-app-scripts 3.2.4 \n[23:25:18]  build dev started ... \n[23:25:18]  clean started ... \n[23:25:18]  clean finished in 21 ms \n[23:25:18]  copy started ...\n[23:25:18]  deeplinks started ... \n[23:25:18]  deeplinks finished in 515 ms \n[23:25:18]  transpile started ... \n[23:25:25]  transpile finished in 6.59 s \n[23:25:25]  preprocess started ... \n[23:25:25]  preprocess finished in less than 1 ms\n[23:25:25]  webpack started ...\n[23:25:25]  copy finished in 7.26 s \n[23:25:30]  webpack finished in 5.09 s \n[23:25:30]  sass started ... \n[23:25:32]  sass finished in 1.82 s \n[23:25:32]  postprocess started ... \n[23:25:32]  postprocess finished in 14 ms\n[23:25:32]  lint started ...\n[23:25:32]  build dev finished in 14.19 s \nno-unused-variable is deprecated. Since TypeScript 2.9. Please use the built-in compiler checks instead.\n[23:25:36]  lint finished in 4.22 s \n&gt; cordova.cmd build android\nChecking Java JDK and Android SDK versions\nANDROID_SDK_ROOT=undefined (recommended setting)\nANDROID_HOME=undefined (DEPRECATED)\nUsing Android SDK: C:\\Users\\IvanTzenev\\AppData\\Local\\Android\\sdk\nSubproject Path: CordovaLib\nSubproject Path: app\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\com\\ionicframework\\cordova\\webview\\IonicWebViewEngine.java:11: error: package android.support.annotation does not exist\nimport android.support.annotation.RequiresApi;\n                                 ^\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic.java:57: error: cannot find symbol\nimport android.support.v4.app.ActivityCompat;\n                             ^\n  symbol:   class ActivityCompat\n  location: package android.support.v4.app\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_External_Storage.java:28: error: cannot find symbol\nimport android.support.v4.os.EnvironmentCompat;\n                            ^\n  symbol:   class EnvironmentCompat\n  location: package android.support.v4.os\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:35: error: cannot find symbol\nimport android.support.v4.app.NotificationManagerCompat;\n                             ^\n  symbol:   class NotificationManagerCompat\n  location: package android.support.v4.app\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:40: error: package android.support.v4.content does not exist\nimport android.support.v4.content.FileProvider;\n                                 ^\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CordovaUri.java:25: error: package android.support.v4.content does not exist\nimport android.support.v4.content.FileProvider;\n                                 ^\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\FileProvider.java:21: error: package android.support.v4.content does not exist\npublic class FileProvider extends android.support.v4.content.FileProvider {}\n                                                            ^\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\com\\ionicframework\\cordova\\webview\\IonicWebViewEngine.java:137: error: cannot find symbol\n    @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\n     ^\n  symbol:   class RequiresApi\n  location: class IonicWebViewEngine.ServerClient\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic.java:648: error: cannot find symbol\n            java.lang.reflect.Method method = ActivityCompat.class.getMethod(&quot;shouldShowRequestPermissionRationale&quot;, Activity.class, java.lang.String.class);\n                                              ^\n  symbol:   class ActivityCompat\n  location: class Diagnostic\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_External_Storage.java:216: error: cannot find symbol\n                    addPath = Environment.MEDIA_MOUNTED.equals(EnvironmentCompat.getStorageState(file));\n                                                               ^\n  symbol:   variable EnvironmentCompat\n  location: class Diagnostic_External_Storage\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:123: error: cannot find symbol\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this.cordova.getActivity().getApplicationContext());\n        ^\n  symbol:   class NotificationManagerCompat\n  location: class Diagnostic_Notifications\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\cordova\\plugins\\Diagnostic_Notifications.java:123: error: cannot find symbol\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this.cordova.getActivity().getApplicationContext());\n                                                              ^\n  symbol:   variable NotificationManagerCompat\n  location: class Diagnostic_Notifications\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:303: error: cannot find symbol\n        this.imageUri = new CordovaUri(FileProvider.getUriForFile(cordova.getActivity(),\n                                                   ^\n  symbol:   method getUriForFile(Activity,String,File)\n  location: class FileProvider\nC:\\GitHub\\Accentis-Ionic\\platforms\\android\\app\\src\\main\\java\\org\\apache\\cordova\\camera\\CameraLauncher.java:801: error: cannot find symbol\n                        Uri tmpFile = FileProvider.getUriForFile(cordova.getActivity(),\n                                                  ^\n  symbol:   method getUriForFile(Activity,String,File)\n  location: class FileProvider\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n14 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1s\n21 actionable tasks: 1 executed, 20 up-to-date\nCommand failed with exit code 1: C:\\GitHub\\Accentis-Ionic\\platforms\\android\\gradlew cdvBuildDebug -b C:\\GitHub\\Accentis-Ionic\\platforms\\android\\build.gradle\n[ERROR] An error occurred while running subprocess cordova.\n\n        cordova.cmd build android exited with exit code 1.\n\n        Re-running this command with the --verbose flag may provide more information.\n</code></pre>\n"},{"tags":["java","sql-server","jboss"],"comments":[{"owner":{"account_id":2130119,"reputation":6881,"user_id":1891133,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1568880913,"post_id":58006302,"comment_id":102417845,"body_markdown":"Log says: &quot;The TCP/IP connection to the host localhost, port 1433 has failed.&quot; check your TCP connection and the relative port.","body":"Log says: &quot;The TCP/IP connection to the host localhost, port 1433 has failed.&quot; check your TCP connection and the relative port."},{"owner":{"account_id":16725225,"reputation":39,"user_id":12088974,"display_name":"Vaibhav1988"},"score":0,"creation_date":1568881192,"post_id":58006302,"comment_id":102417981,"body_markdown":"Hi Max, I reckon that&#39;s the problem that even though i have specified IP address for my database, JBoss is trying to connect to localhost. I notice a statement in the logs saying - IJ020020: Connection Properties for DataSource: &#39;java:/MSSQLDS&#39; is empty, try to use driver-class: &#39;com.microsoft.sqlserver.jdbc.SQLServerDriver&#39;\n\nNot sure why it says Connection Properties empty even though all the fields like DB URL, driver class, datasource class are provided","body":"Hi Max, I reckon that&#39;s the problem that even though i have specified IP address for my database, JBoss is trying to connect to localhost. I notice a statement in the logs saying - IJ020020: Connection Properties for DataSource: &#39;java:/MSSQLDS&#39; is empty, try to use driver-class: &#39;com.microsoft.sqlserver.jdbc.SQLServerDriver&#39;  Not sure why it says Connection Properties empty even though all the fields like DB URL, driver class, datasource class are provided"},{"owner":{"account_id":2130119,"reputation":6881,"user_id":1891133,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1568881590,"post_id":58006302,"comment_id":102418184,"body_markdown":"I think the Jboss don&#39;t read your xml, [docs says](https://docs.jboss.org/author/display/WFLY10/DataSource+configuration) to place the config on Datasource Definitions under `subsystem xmlns=&quot;urn:jboss:domain:datasources:4.0&quot;`","body":"I think the Jboss don&#39;t read your xml, <a href=\"https://docs.jboss.org/author/display/WFLY10/DataSource+configuration\" rel=\"nofollow noreferrer\">docs says</a> to place the config on Datasource Definitions under <code>subsystem xmlns=&quot;urn:jboss:domain:datasources:4.0&quot;</code>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1568881670,"post_id":58006302,"comment_id":102418224,"body_markdown":"Make sure that TCP/IP is enabled in MSSql Server. check https://stackoverflow.com/questions/2388042/connect-to-sql-server-2008-with-tcp-ip question","body":"Make sure that TCP/IP is enabled in MSSql Server. check <a href=\"https://stackoverflow.com/questions/2388042/connect-to-sql-server-2008-with-tcp-ip\" title=\"connect to sql server 2008 with tcp ip\">stackoverflow.com/questions/2388042/&hellip;</a> question"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1568881741,"post_id":58006302,"comment_id":102418250,"body_markdown":"Possible duplicate of [JDBC connection failed, error: TCP/IP connection to host failed](https://stackoverflow.com/questions/18841744/jdbc-connection-failed-error-tcp-ip-connection-to-host-failed)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18841744/jdbc-connection-failed-error-tcp-ip-connection-to-host-failed\">JDBC connection failed, error: TCP/IP connection to host failed</a>"},{"owner":{"account_id":16725225,"reputation":39,"user_id":12088974,"display_name":"Vaibhav1988"},"score":0,"creation_date":1568894128,"post_id":58006302,"comment_id":102425022,"body_markdown":"@KarthikeyanVaithilingam I am able to connect to the database directly through a Java program, however, its the JBoss datasource creation which is failing. Another thing i notice, is that even though i have the connection-url and driver details specified, JBoss reports that connection properties are empty. I reckon this is the main problem, just that i am yet to figure the solution out.","body":"@KarthikeyanVaithilingam I am able to connect to the database directly through a Java program, however, its the JBoss datasource creation which is failing. Another thing i notice, is that even though i have the connection-url and driver details specified, JBoss reports that connection properties are empty. I reckon this is the main problem, just that i am yet to figure the solution out."}],"answers":[{"tags":[],"owner":{"account_id":16725225,"reputation":39,"user_id":12088974,"display_name":"Vaibhav1988"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1573901728,"creation_date":1573901728,"answer_id":58889951,"question_id":58006302,"body_markdown":"Found the solution finally. Its a problem with Wildfly when the **datasource-class** is used while adding the driver module.\r\n\r\nWith the datasource class, explicit connection properties are required and the connection-url tag is effectively ignored. By effectively ignored, I mean JBoss erroneously expects connection-url tag to be present and just ignores it.\r\n\r\nThis issue has been called out in issues - **WFLY-6157** and **WFLY-6200**.","title":"Unable to add SQL Server DataSource in JBoss EAP 7.2","body":"<p>Found the solution finally. Its a problem with Wildfly when the <strong>datasource-class</strong> is used while adding the driver module.</p>\n\n<p>With the datasource class, explicit connection properties are required and the connection-url tag is effectively ignored. By effectively ignored, I mean JBoss erroneously expects connection-url tag to be present and just ignores it.</p>\n\n<p>This issue has been called out in issues - <strong>WFLY-6157</strong> and <strong>WFLY-6200</strong>.</p>\n"},{"tags":[],"owner":{"account_id":18429604,"reputation":9,"user_id":13425068,"display_name":"Glenn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588077172,"creation_date":1588076748,"answer_id":61480141,"question_id":58006302,"body_markdown":"This is a little bit late but the solution can be found in [redhat solutions][1]. The issue is when defining non-XA datasource, datasource-class has been define in the datasource setup. \r\n\r\nSo what I did is goto admin console &gt; configuration &gt; subsystems &gt; Datasource &amp; drivers &gt; Datasources &gt; **&lt; datasource name &gt;** &gt; click view.\r\n\r\non the attributes tab &gt; click edit &gt; delete the value in Datasource Class &gt; save and reload server.\r\n\r\nTest your connection now and it should be successful.\r\n\r\n\r\n  [1]: https://access.redhat.com/solutions/3975061","title":"Unable to add SQL Server DataSource in JBoss EAP 7.2","body":"<p>This is a little bit late but the solution can be found in <a href=\"https://access.redhat.com/solutions/3975061\" rel=\"nofollow noreferrer\">redhat solutions</a>. The issue is when defining non-XA datasource, datasource-class has been define in the datasource setup. </p>\n\n<p>So what I did is goto admin console > configuration > subsystems > Datasource &amp; drivers > Datasources > <strong>&lt; datasource name ></strong> > click view.</p>\n\n<p>on the attributes tab > click edit > delete the value in Datasource Class > save and reload server.</p>\n\n<p>Test your connection now and it should be successful.</p>\n"},{"tags":[],"owner":{"account_id":18871997,"reputation":11,"user_id":13766338,"display_name":"mchav5778"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592451733,"creation_date":1592448767,"answer_id":62441563,"question_id":58006302,"body_markdown":"Taking into account Vaibhav1988&#39;s comments about &quot;the datasource class needs explicit connection properties&quot;, in my case the solution was adding the following 2 properties under the datasource configuration:\r\n\r\ndatabaseName=\r\n\r\nServerName= \r\n\r\nIn the Management Console go to &quot;Subsystems&quot; -&gt; &quot;Datasources &amp; Drivers&quot; -&gt; &quot;Datasources&quot; then click on &quot;View&quot; in your datasource, go to &quot;Connection&quot; tab, click on &quot;Edit&quot; and add the properties in the field that says &quot;Connection Properties&quot;.","title":"Unable to add SQL Server DataSource in JBoss EAP 7.2","body":"<p>Taking into account Vaibhav1988's comments about \"the datasource class needs explicit connection properties\", in my case the solution was adding the following 2 properties under the datasource configuration:</p>\n\n<p>databaseName=</p>\n\n<p>ServerName= </p>\n\n<p>In the Management Console go to \"Subsystems\" -> \"Datasources &amp; Drivers\" -> \"Datasources\" then click on \"View\" in your datasource, go to \"Connection\" tab, click on \"Edit\" and add the properties in the field that says \"Connection Properties\".</p>\n"},{"tags":[],"owner":{"account_id":22876132,"reputation":11,"user_id":17018447,"display_name":"Andres Felipe Martinez Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632776549,"creation_date":1632776549,"answer_id":69353227,"question_id":58006302,"body_markdown":"Solution for me, edit file standalone.xml:\r\n\r\n    &lt;datasource jndi-name=&quot;java:jboss/datasources/SqlServerdb&quot; pool-name=&quot;SqlServerdb&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                        &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\r\n                        &lt;connection-property name=&quot;databaseName&quot;&gt;\r\n                            DATABASENAME\r\n                        &lt;/connection-property&gt;\r\n                        &lt;connection-property name=&quot;ServerName&quot;&gt;\r\n                            IP(WITHOUT PORT)\r\n                        &lt;/connection-property&gt;\r\n                        &lt;driver&gt;sqlserver&lt;/driver&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;USER&lt;/user-name&gt;\r\n                            &lt;password&gt;PASSWORD&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                        &lt;validation&gt;\r\n                            &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker&quot;/&gt;\r\n                            &lt;background-validation&gt;true&lt;/background-validation&gt;\r\n                        &lt;/validation&gt;\r\n    &lt;/datasource&gt;\r\n\r\nand:                \r\n\r\n    &lt;driver name=&quot;sqlserver&quot; module=&quot;com.microsoft.sqlserver&quot;&gt;\r\n        &lt;driver-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/driver-class&gt;\r\n        &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\r\n    &lt;/driver&gt;\r\n\r\n","title":"Unable to add SQL Server DataSource in JBoss EAP 7.2","body":"<p>Solution for me, edit file standalone.xml:</p>\n<pre><code>&lt;datasource jndi-name=&quot;java:jboss/datasources/SqlServerdb&quot; pool-name=&quot;SqlServerdb&quot; statistics-enabled=&quot;true&quot;&gt;\n                    &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\n                    &lt;connection-property name=&quot;databaseName&quot;&gt;\n                        DATABASENAME\n                    &lt;/connection-property&gt;\n                    &lt;connection-property name=&quot;ServerName&quot;&gt;\n                        IP(WITHOUT PORT)\n                    &lt;/connection-property&gt;\n                    &lt;driver&gt;sqlserver&lt;/driver&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;USER&lt;/user-name&gt;\n                        &lt;password&gt;PASSWORD&lt;/password&gt;\n                    &lt;/security&gt;\n                    &lt;validation&gt;\n                        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker&quot;/&gt;\n                        &lt;background-validation&gt;true&lt;/background-validation&gt;\n                    &lt;/validation&gt;\n&lt;/datasource&gt;\n</code></pre>\n<p>and:</p>\n<pre><code>&lt;driver name=&quot;sqlserver&quot; module=&quot;com.microsoft.sqlserver&quot;&gt;\n    &lt;driver-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/driver-class&gt;\n    &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\n&lt;/driver&gt;\n</code></pre>\n"}],"owner":{"account_id":16725225,"reputation":39,"user_id":12088974,"display_name":"Vaibhav1988"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1632776549,"creation_date":1568879713,"question_id":58006302,"body_markdown":"I am trying to add an SQL Server datasource in JBoss EAP 7.2 through the management console. However, the Test Connection operation is failing. Below are the version details:\r\n\r\nJBoss EAP - 7.2\r\n\r\nMSSQL Driver Jar - mssql-jdbc-6.1.0.jre8.jar\r\n\r\n**Module.xml:** \r\n\r\n```\r\n&lt;module name=&quot;com.microsoft.sqlserver&quot; xmlns=&quot;urn:jboss:module:1.3&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;mssql-jdbc-6.1.0.jre8.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.servlet.api&quot; optional=&quot;true&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\n**Module Directory Structure:** \r\njboss-eap-7.2\\modules\\system\\layers\\base\\com\\microsoft\\sqlserver\\main\r\n\r\n**Standalone.xml Datasource and Driver Configuration:**\r\n```\r\n&lt;datasource jndi-name=&quot;java:/MSSQLDS&quot; pool-name=&quot;MSSQLDS&quot;&gt;\r\n    &lt;connection-url&gt;jdbc:sqlserver://192.168.XX.XX;DatabaseName=MYTESTDB1&lt;/connection-url&gt;\r\n    &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\r\n    &lt;driver&gt;sqlserver&lt;/driver&gt;\r\n    &lt;security&gt;\r\n        &lt;user-name&gt;mydb_xxxx&lt;/user-name&gt;\r\n        &lt;password&gt;xxxxxxxx&lt;/password&gt;\r\n    &lt;/security&gt;\r\n&lt;/datasource&gt;\r\n\r\n&lt;driver name=&quot;sqlserver&quot; module=&quot;com.microsoft.sqlserver&quot;&gt;\r\n    &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\r\n    &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\r\n&lt;/driver&gt;\r\n```\r\n**Server Logs:**\r\n```\r\n13:21:52,267 WARN  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-5) IJ020020: Connection Properties for DataSource: &#39;java:/MSSQLDS&#39; is empty, try to use driver-class: &#39;com.microsoft.sqlserver.jdbc.SQLServerDriver&#39; and connection-url: &#39;jdbc:sqlserver://192.168.XX.XX;DatabaseName=MYTESTDB1&#39; to connect database\r\n13:21:52,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n13:21:52,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/MSSQLDS]\r\n13:21:52,640 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443\r\n13:21:52,803 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 5.2.4.Final-redhat-00001 (Apache CXF 3.2.5.redhat-00001)\r\n13:21:54,308 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-7) ISPN000128: Infinispan version: Infinispan &#39;Estrella Galicia&#39; 9.3.3.Final-redhat-00001\r\n13:21:54,598 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 72) WFLYCLINF0002: Started client-mappings cache from ejb container\r\n13:21:54,792 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n13:21:54,924 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n13:21:54,929 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.2.0.GA (WildFly Core 6.0.11.Final-redhat-00001) started in 8695ms - Started 477 of 663 services (333 services are lazy, passive or on-demand)\r\n13:22:21,345 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (External Management Request Threads -- 1) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: IJ031084: Unable to create connection\r\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:345)\r\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:352)\r\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:287)\r\n        at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1326)\r\n        at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:499)\r\n        at org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:1067)\r\n        at org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:93)\r\n        at org.jboss.as.connector.subsystems.common.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:240)\r\n        at org.jboss.as.connector.subsystems.common.pool.PoolOperations$1.execute(PoolOperations.java:97)\r\n        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)\r\n        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)\r\n        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)\r\n        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)\r\n        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)\r\n        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:265)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:231)\r\n        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)\r\n        at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:212)\r\n        at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\r\n        at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:93)\r\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)\r\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)\r\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\r\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\r\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\r\n        at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:485)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:206)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:257)\r\n        at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2385)\r\n        at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:567)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1955)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1616)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1447)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:788)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnectionInternal(SQLServerDataSource.java:719)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnection(SQLServerDataSource.java:79)\r\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:314)\r\n        ... 35 more\r\n\r\n13:22:21,350 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;test-connection-in-pool&quot;) failed - address: ([\r\n    (&quot;subsystem&quot; =&gt; &quot;datasources&quot;),\r\n    (&quot;data-source&quot; =&gt; &quot;MSSQLDS&quot;)\r\n]) - failure description: &quot;WFLYJCA0040: failed to invoke operation: WFLYJCA0047: Connection is not valid&quot;\r\n``` \r\n\r\nUpdate - \r\nEven though i have specified the IP address of my database, JBoss is trying to connect to localhost instead of that IP. \r\nI have verified and ruled out any network / firewall related problems. Through a sample Java/SpringBoot project, i am able to open a JDBC connection to the database. However, the datasource creation from JBoss is failing.","title":"Unable to add SQL Server DataSource in JBoss EAP 7.2","body":"<p>I am trying to add an SQL Server datasource in JBoss EAP 7.2 through the management console. However, the Test Connection operation is failing. Below are the version details:</p>\n\n<p>JBoss EAP - 7.2</p>\n\n<p>MSSQL Driver Jar - mssql-jdbc-6.1.0.jre8.jar</p>\n\n<p><strong>Module.xml:</strong> </p>\n\n<pre><code>&lt;module name=\"com.microsoft.sqlserver\" xmlns=\"urn:jboss:module:1.3\"&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"mssql-jdbc-6.1.0.jre8.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n        &lt;module name=\"javax.transaction.api\"/&gt;\n        &lt;module name=\"javax.servlet.api\" optional=\"true\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p><strong>Module Directory Structure:</strong> \njboss-eap-7.2\\modules\\system\\layers\\base\\com\\microsoft\\sqlserver\\main</p>\n\n<p><strong>Standalone.xml Datasource and Driver Configuration:</strong></p>\n\n<pre><code>&lt;datasource jndi-name=\"java:/MSSQLDS\" pool-name=\"MSSQLDS\"&gt;\n    &lt;connection-url&gt;jdbc:sqlserver://192.168.XX.XX;DatabaseName=MYTESTDB1&lt;/connection-url&gt;\n    &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\n    &lt;driver&gt;sqlserver&lt;/driver&gt;\n    &lt;security&gt;\n        &lt;user-name&gt;mydb_xxxx&lt;/user-name&gt;\n        &lt;password&gt;xxxxxxxx&lt;/password&gt;\n    &lt;/security&gt;\n&lt;/datasource&gt;\n\n&lt;driver name=\"sqlserver\" module=\"com.microsoft.sqlserver\"&gt;\n    &lt;xa-datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerXADataSource&lt;/xa-datasource-class&gt;\n    &lt;datasource-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDataSource&lt;/datasource-class&gt;\n&lt;/driver&gt;\n</code></pre>\n\n<p><strong>Server Logs:</strong></p>\n\n<pre><code>13:21:52,267 WARN  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-5) IJ020020: Connection Properties for DataSource: 'java:/MSSQLDS' is empty, try to use driver-class: 'com.microsoft.sqlserver.jdbc.SQLServerDriver' and connection-url: 'jdbc:sqlserver://192.168.XX.XX;DatabaseName=MYTESTDB1' to connect database\n13:21:52,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n13:21:52,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/MSSQLDS]\n13:21:52,640 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443\n13:21:52,803 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 5.2.4.Final-redhat-00001 (Apache CXF 3.2.5.redhat-00001)\n13:21:54,308 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-7) ISPN000128: Infinispan version: Infinispan 'Estrella Galicia' 9.3.3.Final-redhat-00001\n13:21:54,598 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 72) WFLYCLINF0002: Started client-mappings cache from ejb container\n13:21:54,792 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n13:21:54,924 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n13:21:54,929 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.2.0.GA (WildFly Core 6.0.11.Final-redhat-00001) started in 8695ms - Started 477 of 663 services (333 services are lazy, passive or on-demand)\n13:22:21,345 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (External Management Request Threads -- 1) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: IJ031084: Unable to create connection\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:345)\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:352)\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:287)\n        at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1326)\n        at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:499)\n        at org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:1067)\n        at org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:93)\n        at org.jboss.as.connector.subsystems.common.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:240)\n        at org.jboss.as.connector.subsystems.common.pool.PoolOperations$1.execute(PoolOperations.java:97)\n        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)\n        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)\n        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)\n        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)\n        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)\n        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:265)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:231)\n        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)\n        at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:212)\n        at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\n        at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:93)\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)\n        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\n        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\n        at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\n        at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n        at java.lang.Thread.run(Thread.java:748)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:485)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: \"Connection refused: no further information. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.\".\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:206)\n        at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:257)\n        at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2385)\n        at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:567)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1955)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1616)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1447)\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:788)\n        at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnectionInternal(SQLServerDataSource.java:719)\n        at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnection(SQLServerDataSource.java:79)\n        at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:314)\n        ... 35 more\n\n13:22:21,350 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (\"test-connection-in-pool\") failed - address: ([\n    (\"subsystem\" =&gt; \"datasources\"),\n    (\"data-source\" =&gt; \"MSSQLDS\")\n]) - failure description: \"WFLYJCA0040: failed to invoke operation: WFLYJCA0047: Connection is not valid\"\n</code></pre>\n\n<p>Update - \nEven though i have specified the IP address of my database, JBoss is trying to connect to localhost instead of that IP. \nI have verified and ruled out any network / firewall related problems. Through a sample Java/SpringBoot project, i am able to open a JDBC connection to the database. However, the datasource creation from JBoss is failing.</p>\n"},{"tags":["java","android","bluetooth","gatt"],"answers":[{"tags":[],"owner":{"account_id":1109016,"reputation":2355,"user_id":1099820,"accept_rate":49,"display_name":"Brian Reinhold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632776386,"creation_date":1632776386,"answer_id":69353200,"question_id":66330384,"body_markdown":"My simple approach is to use a CountDownLatch. I invoke a countdownlatch with value 1 (one count down). Then I call the read characteristic. Then I wait on the countdownlatch (await() method). In the BluetoothGattCallback onCharacteristicRead perform the countdown and the await function will return. Then you can read the results.\r\n\r\nDo this one characteristic after the other. I have found that I have to wait for the callback to be signaled before trying another read.\r\n\r\nSomething like this:\r\n\r\n     countDownLatch = new CountDownLatch(1)\r\n     BluetoothGatt.readCharacteristic(your characteristic)\r\n     if (countDownLatch.await(3, TimeUnit.SECONDS))  this blocks for at least 3 seconds\r\n        // if true no timeout\r\n         the characteristic value now has the read value.\r\n\r\n\r\nIn the callback\r\n\r\n     onCharacteristicRead()\r\n     countDownLatch.count(); // Counts down 1 - this will cause the await method to return.\r\n\r\nThat&#39;s just a sketch from memory. Clearly the CountDownLatch object has to be known between the two threads. You will need to handle an Interrupted exception on the &#39;await()&#39; method.\r\n\r\n","title":"Why does onCharacteristicRead read different characteristic that is set to readCharacteristic","body":"<p>My simple approach is to use a CountDownLatch. I invoke a countdownlatch with value 1 (one count down). Then I call the read characteristic. Then I wait on the countdownlatch (await() method). In the BluetoothGattCallback onCharacteristicRead perform the countdown and the await function will return. Then you can read the results.</p>\n<p>Do this one characteristic after the other. I have found that I have to wait for the callback to be signaled before trying another read.</p>\n<p>Something like this:</p>\n<pre><code> countDownLatch = new CountDownLatch(1)\n BluetoothGatt.readCharacteristic(your characteristic)\n if (countDownLatch.await(3, TimeUnit.SECONDS))  this blocks for at least 3 seconds\n    // if true no timeout\n     the characteristic value now has the read value.\n</code></pre>\n<p>In the callback</p>\n<pre><code> onCharacteristicRead()\n countDownLatch.count(); // Counts down 1 - this will cause the await method to return.\n</code></pre>\n<p>That's just a sketch from memory. Clearly the CountDownLatch object has to be known between the two threads. You will need to handle an Interrupted exception on the 'await()' method.</p>\n"}],"owner":{"account_id":20786731,"reputation":1,"user_id":15265786,"display_name":"genimund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632776386,"creation_date":1614072339,"question_id":66330384,"body_markdown":"I am new with Java and OOP in general. But, I am reading one characteristic using notify and then multiple characteristics within the callback using read.\r\n\r\n I was wondering, why I can only get values from a single characteristic (additional to the notified characteristic) while using readCharacteristic(*my characteristic*). Bluetooth gatt callback states the following:\r\n\r\n&gt; public boolean readCharacteristic\r\n\r\n (BluetoothGattCharacteristic characteristic)\r\nReads the requested characteristic from the associated remote device.\r\n\r\nThis is an asynchronous operation. The result of the read operation is reported by the BluetoothGattCallback#onCharacteristicRead callback.&quot;\r\n\r\nI call readCharacteristic sequentially for each characteristic and wait always before requesting the next one that the onCrahacteristicRead callback is excecuted. But inside onCrahacteristicRead the characteristic that ends up to be read is every time the same on (not necessarily the one I requested on readCharacteristic).\r\n\r\nI read somewhere that I should make Priority Queue for characteristics. Why is this? Why is there an requested characteristic input in the readCharacteristic in the first place and how does the gatt reference state this. \r\n\r\nThanks\r\n\r\n*Edit*\r\n\r\nAfter further testing, I now believe this happened because for some reason \r\n\r\n&gt; onCharacteristicRead()\r\n\r\n callback got stuck after reading the first requested (read) characteristic but the notifying characteristic kept on firing, causing the\r\n\r\n onCharacteristicChanged callback to restart -&gt; the first characteristic gets read again and gets stuck -&gt; new notification and so on.\r\n\r\nI disabled the notification during the onCharacteristicChanged callback, which leads to the program getting stuck after the first read to \r\n\r\n&gt; onCharacteristicRead()\r\n\r\nSo the program never leaves **onCharacteristicRead()** callback. I tried with the priority queue, which ended up reading both (read) characteristics once, but again gets stuck and never leaves the **onCharacteristicRead** callback. Frustrating. Any ideas?\r\n\r\n\r\n","title":"Why does onCharacteristicRead read different characteristic that is set to readCharacteristic","body":"<p>I am new with Java and OOP in general. But, I am reading one characteristic using notify and then multiple characteristics within the callback using read.</p>\n<p>I was wondering, why I can only get values from a single characteristic (additional to the notified characteristic) while using readCharacteristic(<em>my characteristic</em>). Bluetooth gatt callback states the following:</p>\n<blockquote>\n<p>public boolean readCharacteristic</p>\n</blockquote>\n<p>(BluetoothGattCharacteristic characteristic)\nReads the requested characteristic from the associated remote device.</p>\n<p>This is an asynchronous operation. The result of the read operation is reported by the BluetoothGattCallback#onCharacteristicRead callback.&quot;</p>\n<p>I call readCharacteristic sequentially for each characteristic and wait always before requesting the next one that the onCrahacteristicRead callback is excecuted. But inside onCrahacteristicRead the characteristic that ends up to be read is every time the same on (not necessarily the one I requested on readCharacteristic).</p>\n<p>I read somewhere that I should make Priority Queue for characteristics. Why is this? Why is there an requested characteristic input in the readCharacteristic in the first place and how does the gatt reference state this.</p>\n<p>Thanks</p>\n<p><em>Edit</em></p>\n<p>After further testing, I now believe this happened because for some reason</p>\n<blockquote>\n<p>onCharacteristicRead()</p>\n</blockquote>\n<p>callback got stuck after reading the first requested (read) characteristic but the notifying characteristic kept on firing, causing the</p>\n<p>onCharacteristicChanged callback to restart -&gt; the first characteristic gets read again and gets stuck -&gt; new notification and so on.</p>\n<p>I disabled the notification during the onCharacteristicChanged callback, which leads to the program getting stuck after the first read to</p>\n<blockquote>\n<p>onCharacteristicRead()</p>\n</blockquote>\n<p>So the program never leaves <strong>onCharacteristicRead()</strong> callback. I tried with the priority queue, which ended up reading both (read) characteristics once, but again gets stuck and never leaves the <strong>onCharacteristicRead</strong> callback. Frustrating. Any ideas?</p>\n"},{"tags":["java","android","scroll","scrollview"],"comments":[{"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"score":0,"creation_date":1529672026,"post_id":14801215,"comment_id":88971323,"body_markdown":"Best solutions is https://stackoverflow.com/a/34866634/3496570","body":"Best solutions is <a href=\"https://stackoverflow.com/a/34866634/3496570\">stackoverflow.com/a/34866634/3496570</a>"}],"answers":[{"tags":[],"owner":{"account_id":2302300,"reputation":1324,"user_id":2022349,"accept_rate":78,"display_name":"Malfunction"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1539848183,"creation_date":1360941622,"answer_id":14897780,"question_id":14801215,"body_markdown":"I looked around, and found that some [other people](https://stackoverflow.com/questions/8620153/how-to-get-the-android-textview-to-scroll-down-to-the-end-automatically) have run into the same problem. \r\n\r\nI solved this problem using this piece of code:\r\n\r\n    final ScrollView scrollView = (ScrollView) findViewById(R.id.scroll_view);\r\n    scrollView.post(new Runnable() {\r\n        public void run() {\r\n            scrollView.fullScroll(View.FOCUS_DOWN);\r\n        }\r\n    });\r\n\r\nHopefully this can help somebody out there!","title":"Scrollview not scrolling down completely","body":"<p>I looked around, and found that some <a href=\"https://stackoverflow.com/questions/8620153/how-to-get-the-android-textview-to-scroll-down-to-the-end-automatically\">other people</a> have run into the same problem. </p>\n\n<p>I solved this problem using this piece of code:</p>\n\n<pre><code>final ScrollView scrollView = (ScrollView) findViewById(R.id.scroll_view);\nscrollView.post(new Runnable() {\n    public void run() {\n        scrollView.fullScroll(View.FOCUS_DOWN);\n    }\n});\n</code></pre>\n\n<p>Hopefully this can help somebody out there!</p>\n"},{"tags":[],"owner":{"account_id":1251630,"reputation":1939,"user_id":1211937,"accept_rate":89,"display_name":"fullstackduck"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1375562198,"creation_date":1375562198,"answer_id":18037057,"question_id":14801215,"body_markdown":"Its late but may help some one with this issue..\r\nIt takes around 200 miniseconds to add the last element and update it for a scrollView so this will surely work.\r\n\r\n    void scrollDown()\r\n    {\r\n    \tThread scrollThread = new Thread(){\r\n    \t\tpublic void run(){\r\n    \t\t\ttry {\r\n    \t\t\t\tsleep(200);\r\n    \t\t\t\tChatActivity.this.runOnUiThread(new Runnable() {\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tmyScrollView.fullScroll(View.FOCUS_DOWN);\r\n    \t\t\t\t\t}    \r\n    \t\t\t\t});\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \tscrollThread.start();\r\n    }\r\n\r\nJust call `scrollDown();` after adding element to scrollView.","title":"Scrollview not scrolling down completely","body":"<p>Its late but may help some one with this issue..\nIt takes around 200 miniseconds to add the last element and update it for a scrollView so this will surely work.</p>\n\n<pre><code>void scrollDown()\n{\n    Thread scrollThread = new Thread(){\n        public void run(){\n            try {\n                sleep(200);\n                ChatActivity.this.runOnUiThread(new Runnable() {\n                    public void run() {\n                        myScrollView.fullScroll(View.FOCUS_DOWN);\n                    }    \n                });\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    scrollThread.start();\n}\n</code></pre>\n\n<p>Just call <code>scrollDown();</code> after adding element to scrollView.</p>\n"},{"tags":[],"owner":{"account_id":13035036,"reputation":1,"user_id":9420247,"display_name":"king.web2116"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539806458,"creation_date":1539806458,"answer_id":52862741,"question_id":14801215,"body_markdown":"            @Override\r\n            public void onClick(View v) {\r\n\r\n                scview_ashora = findViewById(R.id.scview_ashora);\r\n                scview_ashora.fullScroll(ScrollView.FOCUS_DOWN);\r\n\r\n                scview_ashora.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        //replace this line to scroll up or down\r\n                        scview_ashora.fullScroll(ScrollView.FOCUS_DOWN);\r\n                    }\r\n                }, 1000000L);\r\n\r\n\r\n            }\r\n        });","title":"Scrollview not scrolling down completely","body":"<pre><code>        @Override\n        public void onClick(View v) {\n\n            scview_ashora = findViewById(R.id.scview_ashora);\n            scview_ashora.fullScroll(ScrollView.FOCUS_DOWN);\n\n            scview_ashora.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    //replace this line to scroll up or down\n                    scview_ashora.fullScroll(ScrollView.FOCUS_DOWN);\n                }\n            }, 1000000L);\n\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5661738,"reputation":61,"user_id":4479177,"display_name":"Renato Wong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632775829,"creation_date":1632775829,"answer_id":69353122,"question_id":14801215,"body_markdown":"Did it this way on Xamarin Android project:\r\n```\r\nvar scrollView = FindViewById&lt;ScrollView&gt;(Resource.Id.scrolview); \r\n\r\nscrollView.Post(() =&gt;\r\n{\r\n    scrollView.FullScroll(FocusSearchDirection.Down);\r\n});\r\n```\r\n\r\nThanks to OP.","title":"Scrollview not scrolling down completely","body":"<p>Did it this way on Xamarin Android project:</p>\n<pre><code>var scrollView = FindViewById&lt;ScrollView&gt;(Resource.Id.scrolview); \n\nscrollView.Post(() =&gt;\n{\n    scrollView.FullScroll(FocusSearchDirection.Down);\n});\n</code></pre>\n<p>Thanks to OP.</p>\n"}],"owner":{"account_id":2302300,"reputation":1324,"user_id":2022349,"accept_rate":78,"display_name":"Malfunction"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9272,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":14897780,"answer_count":4,"score":12,"last_activity_date":1632775829,"creation_date":1360521629,"question_id":14801215,"body_markdown":"I&#39;m building a chat-like application that displays text the user inputs to the screen using a scrollview. What I&#39;m doing is auto-scrolling the scrollview down as more text is appended to the screen. I&#39;m using\r\n\r\n     ScrollView my_scrollview = (ScrollView) findViewById(R.id.scroller);\r\n     my_scrollview.fullScroll(ScrollView.FOCUS_DOWN);\r\n\r\nThis seems to work, although for some reason, because the keyboard is usually on screen while chatting, when the scrollview scrolls down it doesn&#39;t completely - the newest textview added is not displayed (you&#39;ll have to manually scroll down to the newest one). How do I go about fixing this?","title":"Scrollview not scrolling down completely","body":"<p>I'm building a chat-like application that displays text the user inputs to the screen using a scrollview. What I'm doing is auto-scrolling the scrollview down as more text is appended to the screen. I'm using</p>\n\n<pre><code> ScrollView my_scrollview = (ScrollView) findViewById(R.id.scroller);\n my_scrollview.fullScroll(ScrollView.FOCUS_DOWN);\n</code></pre>\n\n<p>This seems to work, although for some reason, because the keyboard is usually on screen while chatting, when the scrollview scrolls down it doesn't completely - the newest textview added is not displayed (you'll have to manually scroll down to the newest one). How do I go about fixing this?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8001,"page":1991,"page_size":100}
