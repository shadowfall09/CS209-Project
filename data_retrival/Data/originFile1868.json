{"items":[{"tags":["java","multithreading","concurrency","synchronization"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1467756435,"post_id":38213467,"comment_id":63850927,"body_markdown":"Your question is ambiguous. What does &quot;I&quot; refer to when you ask, &quot;Would *I* be unable to call another synchronized method...&quot;? Frame your question in terms of threads. Are you asking if the same thread can call a synchronized method from a synchronized method? I.e., are Java intrinsic locks re-entrant? Or are you questioning the utility of a mutex?","body":"Your question is ambiguous. What does &quot;I&quot; refer to when you ask, &quot;Would <i>I</i> be unable to call another synchronized method...&quot;? Frame your question in terms of threads. Are you asking if the same thread can call a synchronized method from a synchronized method? I.e., are Java intrinsic locks re-entrant? Or are you questioning the utility of a mutex?"},{"owner":{"account_id":1676448,"reputation":1651,"user_id":1541896,"accept_rate":83,"display_name":"Alma Alma"},"score":0,"creation_date":1467757290,"post_id":38213467,"comment_id":63851190,"body_markdown":"Intrinsic method means that you don&#39;t have to create an object to synchronize your methods on. In comparison you can use an extrinsic lock by calling `synchronized(myLock) {...}`. This is an excerpt from the book Java concurrency in practice: &quot;The fact that every object has a built-in lock is just a convenience so that you needn&#39;t explicitly create lock objects&quot;","body":"Intrinsic method means that you don&#39;t have to create an object to synchronize your methods on. In comparison you can use an extrinsic lock by calling <code>synchronized(myLock) {...}</code>. This is an excerpt from the book Java concurrency in practice: &quot;The fact that every object has a built-in lock is just a convenience so that you needn&#39;t explicitly create lock objects&quot;"},{"owner":{"account_id":3077393,"reputation":1890,"user_id":2606411,"accept_rate":68,"display_name":"Swapnil"},"score":0,"creation_date":1467786104,"post_id":38213467,"comment_id":63857794,"body_markdown":"I just updated the question so clear the ambiguity mentioned by the @erickson ..","body":"I just updated the question so clear the ambiguity mentioned by the @erickson .."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1467787190,"post_id":38213467,"comment_id":63858230,"body_markdown":"If not mutual exclusion, what do you believe to be the purpose of synchronized methods? How do you believe that purpose is defeated by mutual exclusion?","body":"If not mutual exclusion, what do you believe to be the purpose of synchronized methods? How do you believe that purpose is defeated by mutual exclusion?"},{"owner":{"account_id":3077393,"reputation":1890,"user_id":2606411,"accept_rate":68,"display_name":"Swapnil"},"score":0,"creation_date":1467787388,"post_id":38213467,"comment_id":63858315,"body_markdown":"I used to think that when a method is synchronized, there is a **lock exclusively** for that method and a thread cannot call the method when **this lock** is held by another thread. But a thread can call any other synchronized method of the same class. But I guess, I am more clear on this based on the answers below. Thanks!","body":"I used to think that when a method is synchronized, there is a <b>lock exclusively</b> for that method and a thread cannot call the method when <b>this lock</b> is held by another thread. But a thread can call any other synchronized method of the same class. But I guess, I am more clear on this based on the answers below. Thanks!"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1467788918,"post_id":38213467,"comment_id":63859033,"body_markdown":"@Swapnil please refer to my answer on the meaning of a synchronized method.","body":"@Swapnil please refer to my answer on the meaning of a synchronized method."}],"answers":[{"tags":[],"owner":{"account_id":8757552,"reputation":906,"user_id":6548636,"display_name":"Alexandru Marina"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467756226,"creation_date":1467756226,"answer_id":38213570,"question_id":38213467,"body_markdown":"Yes, you won&#39;t be able to call other synchronized method on the same object, because of the intrinsic lock. Which is at object level, only 1 thread will acquire it.","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>Yes, you won't be able to call other synchronized method on the same object, because of the intrinsic lock. Which is at object level, only 1 thread will acquire it.</p>\n"},{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467756814,"creation_date":1467756368,"answer_id":38213594,"question_id":38213467,"body_markdown":"It doesn&#39;t matter whether the `synchronized` method belongs to the same class or not, what matters is if the caller thread of the method acquires the lock or not, if it does, then it will be allowed enter the critical section because the lock is `reentrant`. \r\n\r\nIf it wasn&#39;t the case, then a recursive call would cause a deadlock,\r\n\r\n    fn(){\r\n     synchronized(mutex){ // the current thread has already acquired the mutex\r\n       fn();\r\n     }\r\n    }\r\nfn here wont deadlock because the lock is re-entrant, ie ( the thread that&#39;s already acquiring the lock can enter and renter the critical section again as long as it is still acquired). ","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>It doesn't matter whether the <code>synchronized</code> method belongs to the same class or not, what matters is if the caller thread of the method acquires the lock or not, if it does, then it will be allowed enter the critical section because the lock is <code>reentrant</code>. </p>\n\n<p>If it wasn't the case, then a recursive call would cause a deadlock,</p>\n\n<pre><code>fn(){\n synchronized(mutex){ // the current thread has already acquired the mutex\n   fn();\n }\n}\n</code></pre>\n\n<p>fn here wont deadlock because the lock is re-entrant, ie ( the thread that's already acquiring the lock can enter and renter the critical section again as long as it is still acquired). </p>\n"},{"tags":[],"owner":{"account_id":1676448,"reputation":1651,"user_id":1541896,"accept_rate":83,"display_name":"Alma Alma"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1636467745,"creation_date":1467757411,"answer_id":38213802,"question_id":38213467,"body_markdown":"So just to repeat my comment above as an answer. Intrinsic locking means that you don&#39;t have to create an object to synchronize your methods on. In comparison you can use an extrinsic lock by calling `synchronized(myLock) {...}`.\r\n\r\nThis is an excerpt from the book [Java Concurrency in Practice](https://www.goodreads.com/book/show/127932.Java_Concurrency_in_Practice): &quot;The fact that every object has a built-in lock is just a convenience so that you needn&#39;t explicitly create lock objects&quot;\r\n\r\nThe book also says:\r\n\r\n&gt; There is no inherent relationship between an object&#39;s intrinsic lock\r\n&gt; and its state; an object&#39;s fields need not be guarded by its intrinsic\r\n&gt; lock, though this is a perfectly valid locking convention that is used\r\n&gt; by many classes. Acquiring the lock associated with an object does not\r\n&gt; prevent other threads from accessing that objectthe only thing that\r\n&gt; acquiring a lock prevents any other thread from doing is acquiring\r\n&gt; that same lock. The fact that every object has a built-in lock is just\r\n&gt; a convenience so that you needn&#39;t explicitly create lock objects. [9]\r\n&gt; It is up to you to construct locking protocols or synchronization\r\n&gt; policies that let you access shared state safely, and to use them\r\n&gt; consistently throughout your program.\r\n\r\nBut in the footnote it says:\r\n\r\n&gt; [9] In retrospect, this design decision was probably a bad one: not\r\n&gt; only can it be confusing, but it forces JVM implementors to make\r\n&gt; tradeoffs between object size and locking performance.\r\n\r\nAnd to answer your last questions: you won&#39;t be able to call the synchronized methods from another thread, but you can keep entering from the same thread (intrinsic locks are re-entrant). So you have to imagine locking in this case as serializing method access from different caller threads.\r\n\r\nIf you use locking improperly and then you introduce liveness hazards, then yes it is defeated. That&#39;s why you have to make sure that your concurrent threads are not contending with each other too hard.\r\n\r\nAs [Brian Goetz puts in this blog entry](http://www.ibm.com/developerworks/java/library/j-threads1/index.html):\r\n\r\n&gt; In tuning an application&#39;s use of synchronization, then, we should try\r\n&gt; hard to reduce the amount of actual contention, rather than simply try\r\n&gt; to avoid using synchronization at all","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>So just to repeat my comment above as an answer. Intrinsic locking means that you don't have to create an object to synchronize your methods on. In comparison you can use an extrinsic lock by calling <code>synchronized(myLock) {...}</code>.</p>\n<p>This is an excerpt from the book <a href=\"https://www.goodreads.com/book/show/127932.Java_Concurrency_in_Practice\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>: &quot;The fact that every object has a built-in lock is just a convenience so that you needn't explicitly create lock objects&quot;</p>\n<p>The book also says:</p>\n<blockquote>\n<p>There is no inherent relationship between an object's intrinsic lock\nand its state; an object's fields need not be guarded by its intrinsic\nlock, though this is a perfectly valid locking convention that is used\nby many classes. Acquiring the lock associated with an object does not\nprevent other threads from accessing that objectthe only thing that\nacquiring a lock prevents any other thread from doing is acquiring\nthat same lock. The fact that every object has a built-in lock is just\na convenience so that you needn't explicitly create lock objects. [9]\nIt is up to you to construct locking protocols or synchronization\npolicies that let you access shared state safely, and to use them\nconsistently throughout your program.</p>\n</blockquote>\n<p>But in the footnote it says:</p>\n<blockquote>\n<p>[9] In retrospect, this design decision was probably a bad one: not\nonly can it be confusing, but it forces JVM implementors to make\ntradeoffs between object size and locking performance.</p>\n</blockquote>\n<p>And to answer your last questions: you won't be able to call the synchronized methods from another thread, but you can keep entering from the same thread (intrinsic locks are re-entrant). So you have to imagine locking in this case as serializing method access from different caller threads.</p>\n<p>If you use locking improperly and then you introduce liveness hazards, then yes it is defeated. That's why you have to make sure that your concurrent threads are not contending with each other too hard.</p>\n<p>As <a href=\"http://www.ibm.com/developerworks/java/library/j-threads1/index.html\" rel=\"nofollow noreferrer\">Brian Goetz puts in this blog entry</a>:</p>\n<blockquote>\n<p>In tuning an application's use of synchronization, then, we should try\nhard to reduce the amount of actual contention, rather than simply try\nto avoid using synchronization at all</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467775915,"creation_date":1467775204,"answer_id":38215881,"question_id":38213467,"body_markdown":"Seems you have one misunderstanding (dunno if it caused the wrong conclusion) that no one has pointed out.  Anyway, a brief answer:\r\n\r\nIntrinsic Lock: Just think it as, every object in JVM has internally a lock.  `synchronized` keywords tries to acquire the lock of the target object.  Whenever you `synchronized (a) { doSomething; }`, what actually happens is\r\n\r\n1. the lock in `a` is acquired\r\n2. code within the synchronized block is run (`doSomething`)\r\n3. release the lock in `a`\r\n\r\nand I wish you know\r\n\r\n    public synchronized void foo() {\r\n      doSomething;\r\n    }\r\n\r\nis conceptually the same as\r\n    \r\n    public void foo() {\r\n        synchronized(this) {\r\n            doSomething;\r\n        }\r\n    }\r\n\r\nOk, go back to your question, the biggest problem, imho, is :\r\n\r\n&gt; For me this means that once I call a synchronized method from one of the threads, I will have hold of the intrinsic lock of the *thread* and since...\r\n\r\nIt is ***wrong***.  When you call a synchronized method, you are **not** get hold of the lock of the **thread**.\r\n\r\nInstead, that **thread** will own the intrinsic lock of the **object** that is &quot;owning&quot; the method.\r\n\r\ne.g. in thread1, you called `a.foo()`, and assume `foo()` is synchronized.  thread1 is going to acquire the intrinsic lock of the object `a` referring.\r\n\r\nSimilarly, if `AClass.bar()` is called (and `bar` is synchronized and a static method), the intrinsic lock of `AClass` Class object will be acquired.\r\n\r\n\r\n","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>Seems you have one misunderstanding (dunno if it caused the wrong conclusion) that no one has pointed out.  Anyway, a brief answer:</p>\n\n<p>Intrinsic Lock: Just think it as, every object in JVM has internally a lock.  <code>synchronized</code> keywords tries to acquire the lock of the target object.  Whenever you <code>synchronized (a) { doSomething; }</code>, what actually happens is</p>\n\n<ol>\n<li>the lock in <code>a</code> is acquired</li>\n<li>code within the synchronized block is run (<code>doSomething</code>)</li>\n<li>release the lock in <code>a</code></li>\n</ol>\n\n<p>and I wish you know</p>\n\n<pre><code>public synchronized void foo() {\n  doSomething;\n}\n</code></pre>\n\n<p>is conceptually the same as</p>\n\n<pre><code>public void foo() {\n    synchronized(this) {\n        doSomething;\n    }\n}\n</code></pre>\n\n<p>Ok, go back to your question, the biggest problem, imho, is :</p>\n\n<blockquote>\n  <p>For me this means that once I call a synchronized method from one of the threads, I will have hold of the intrinsic lock of the <em>thread</em> and since...</p>\n</blockquote>\n\n<p>It is <strong><em>wrong</em></strong>.  When you call a synchronized method, you are <strong>not</strong> get hold of the lock of the <strong>thread</strong>.</p>\n\n<p>Instead, that <strong>thread</strong> will own the intrinsic lock of the <strong>object</strong> that is \"owning\" the method.</p>\n\n<p>e.g. in thread1, you called <code>a.foo()</code>, and assume <code>foo()</code> is synchronized.  thread1 is going to acquire the intrinsic lock of the object <code>a</code> referring.</p>\n\n<p>Similarly, if <code>AClass.bar()</code> is called (and <code>bar</code> is synchronized and a static method), the intrinsic lock of <code>AClass</code> Class object will be acquired.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467823561,"creation_date":1467777546,"answer_id":38216121,"question_id":38213467,"body_markdown":"&gt; would I be unable to call another synchronized method of the same class? If yes, then the whole purpose of having synchronized methods is defeated. Isn&#39;t it?\r\n\r\nNo. You can&#39;t call other `synchronized` method on same object for Object level lock and you can&#39;t call other `static sysnchronized` method on same class.\r\n\r\nBut it does not defeat the purpose of having synchronisation. \r\n\r\nIf you follow the other documentation page on [synchronized][1] methods:\r\n\r\n&gt;Making these methods `synchronized` has two effects:\r\n\r\n&gt;1. First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\r\n&gt;2. Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads.\r\n\r\nIf you allow two `synchronized` method to run in parallel. you will bound to get memory inconsistency errors on shared data.\r\n\r\nOn a different note, [Lock][2] provides better alternative `synchronized` construct. \r\n\r\nRelated SE question:\r\n\r\nhttps://stackoverflow.com/questions/4201713/synchronization-vs-lock/34267717?s=2|2.9259#34267717\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html","title":"What does intrinsic lock actually mean for a Java class?","body":"<blockquote>\n  <p>would I be unable to call another synchronized method of the same class? If yes, then the whole purpose of having synchronized methods is defeated. Isn't it?</p>\n</blockquote>\n\n<p>No. You can't call other <code>synchronized</code> method on same object for Object level lock and you can't call other <code>static sysnchronized</code> method on same class.</p>\n\n<p>But it does not defeat the purpose of having synchronisation. </p>\n\n<p>If you follow the other documentation page on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized</a> methods:</p>\n\n<blockquote>\n  <p>Making these methods <code>synchronized</code> has two effects:</p>\n  \n  <ol>\n  <li>First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</li>\n  <li>Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads.</li>\n  </ol>\n</blockquote>\n\n<p>If you allow two <code>synchronized</code> method to run in parallel. you will bound to get memory inconsistency errors on shared data.</p>\n\n<p>On a different note, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">Lock</a> provides better alternative <code>synchronized</code> construct. </p>\n\n<p>Related SE question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4201713/synchronization-vs-lock/34267717?s=2|2.9259#34267717\">Synchronization vs Lock</a></p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1467787162,"creation_date":1467787162,"answer_id":38217658,"question_id":38213467,"body_markdown":"A lock can be held by only one thread at a time. That doesn&#39;t defeat the purpose; that *is* the purpose. \r\n\r\nThreads *mut*ually *ex*clude each other from simultaneous action in critical sections by acquiring a lock, or *mutex.* This provides effective atomicity around a series of distinct actions, so that other threads never see intermediate states that might violate consistency guarantees. \r\n\r\n\r\n\r\n","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>A lock can be held by only one thread at a time. That doesn't defeat the purpose; that <em>is</em> the purpose. </p>\n\n<p>Threads <em>mut</em>ually <em>ex</em>clude each other from simultaneous action in critical sections by acquiring a lock, or <em>mutex.</em> This provides effective atomicity around a series of distinct actions, so that other threads never see intermediate states that might violate consistency guarantees. </p>\n"},{"tags":[],"owner":{"account_id":8755167,"reputation":199,"user_id":6546993,"display_name":"Ivan Golovach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467800092,"creation_date":1467800092,"answer_id":38221529,"question_id":38213467,"body_markdown":"Locks can be divided in two classes - &#39;reentrant&#39; and &#39;not reentrant&#39;.\r\nIn Java &#39;synchronized&#39;, base implementation of interface Lock (class ReentrantLock), interface ReadWriteLock (class ReentrantReadWriteLock) - are reentrant.\r\nReentrancy means - one thread can again and again hold the lock.  ","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>Locks can be divided in two classes - 'reentrant' and 'not reentrant'.\nIn Java 'synchronized', base implementation of interface Lock (class ReentrantLock), interface ReadWriteLock (class ReentrantReadWriteLock) - are reentrant.\nReentrancy means - one thread can again and again hold the lock.  </p>\n"}],"owner":{"account_id":3077393,"reputation":1890,"user_id":2606411,"accept_rate":68,"display_name":"Swapnil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11577,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38213802,"answer_count":7,"score":14,"last_activity_date":1636467745,"creation_date":1467755845,"question_id":38213467,"body_markdown":"In order to properly understand the issues and solutions for concurrency in Java, I was going through the official Java tutorial. In one of the pages they defined **Intrinsic Locks and Synchronization** [link][1]. In this page, they say that:\r\n\r\n&gt; As long as a thread owns an intrinsic lock, no other thread can\r\n&gt; acquire the same lock. The other thread will block when it attempts to\r\n&gt; acquire the lock.\r\n\r\nAlso, they mention in the section **Locks In Synchronized Methods** that:\r\n\r\n&gt; When a thread invokes a synchronized method, it automatically acquires\r\n&gt; the intrinsic lock for that method&#39;s object and releases it when the\r\n&gt; method returns. The lock release occurs even if the return was caused\r\n&gt; by an uncaught exception.\r\n\r\nFor me this means that once I call a synchronized method from one of the threads, I will have hold of the intrinsic lock of the thread and since\r\n\r\n&gt;  Intrinsic locks play a role in both aspects of synchronization:\r\n&gt; enforcing exclusive access to an object&#39;s state and establishing\r\n&gt; happens-before relationships that are essential to visibility.\r\n\r\nwould another thread be unable to call another synchronized method of the same class? If yes, then the whole purpose of having synchronized methods is defeated. Isn&#39;t it?\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"What does intrinsic lock actually mean for a Java class?","body":"<p>In order to properly understand the issues and solutions for concurrency in Java, I was going through the official Java tutorial. In one of the pages they defined <strong>Intrinsic Locks and Synchronization</strong> <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">link</a>. In this page, they say that:</p>\n\n<blockquote>\n  <p>As long as a thread owns an intrinsic lock, no other thread can\n  acquire the same lock. The other thread will block when it attempts to\n  acquire the lock.</p>\n</blockquote>\n\n<p>Also, they mention in the section <strong>Locks In Synchronized Methods</strong> that:</p>\n\n<blockquote>\n  <p>When a thread invokes a synchronized method, it automatically acquires\n  the intrinsic lock for that method's object and releases it when the\n  method returns. The lock release occurs even if the return was caused\n  by an uncaught exception.</p>\n</blockquote>\n\n<p>For me this means that once I call a synchronized method from one of the threads, I will have hold of the intrinsic lock of the thread and since</p>\n\n<blockquote>\n  <p>Intrinsic locks play a role in both aspects of synchronization:\n  enforcing exclusive access to an object's state and establishing\n  happens-before relationships that are essential to visibility.</p>\n</blockquote>\n\n<p>would another thread be unable to call another synchronized method of the same class? If yes, then the whole purpose of having synchronized methods is defeated. Isn't it?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":2,"creation_date":1471611118,"post_id":39039457,"comment_id":65428537,"body_markdown":"you not adding anything to your list....it&#180;s empty...look into your getData() method...","body":"you not adding anything to your list....it&#180;s empty...look into your getData() method..."},{"owner":{"account_id":4743743,"reputation":128,"user_id":3995124,"display_name":"Swapnil Meshram"},"score":1,"creation_date":1471611133,"post_id":39039457,"comment_id":65428548,"body_markdown":"Uncomment &quot;data.add(...)&quot; and try to add something in it.","body":"Uncomment &quot;data.add(...)&quot; and try to add something in it."},{"owner":{"account_id":8964346,"reputation":416,"user_id":6685671,"display_name":"Ramit"},"score":0,"creation_date":1471611167,"post_id":39039457,"comment_id":65428569,"body_markdown":"Code you shared have commented line //data.add(new Contact(name,phone,email,address));","body":"Code you shared have commented line //data.add(new Contact(name,phone,email,address));"},{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":0,"creation_date":1471611778,"post_id":39039457,"comment_id":65429027,"body_markdown":"remove `//` at `data.add` from the `getData()` method.....I think you have to learn more basics before using a tutorial.","body":"remove <code>&#47;&#47;</code> at <code>data.add</code> from the <code>getData()</code> method.....I think you have to learn more basics before using a tutorial."}],"answers":[{"tags":[],"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636467627,"creation_date":1471612010,"answer_id":39039856,"question_id":39039457,"body_markdown":"It&#180;s a simple thing but I want to show you, what the problem is. I guess you are not understanding what we want to explain in the comments. No problem, everybody has started off small (like we say in Germany) :). So here is your problem:\r\n\r\n    public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\r\n            List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\r\n            //data.add(new Contact(name,phone,email,address));\r\n    \r\n            return data;\r\n        }\r\n\r\nThe two slashes `//` means that you have commented the code out. So it is not active anymore. To add these values to your list, you have to remove that slashes. It must look like this:\r\n\r\n    public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\r\n            List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\r\n            data.add(new Contact(name,phone,email,address));\r\n    \r\n            return data;\r\n        }\r\n\r\nDo you see the difference? Also here in that post, in your example, it&#180;s grayed out...","title":"Adding items in RecyclerView from the data that comes from an intent not behaving properly","body":"<p>It´s a simple thing but I want to show you, what the problem is. I guess you are not understanding what we want to explain in the comments. No problem, everybody has started off small (like we say in Germany) :). So here is your problem:</p>\n<pre><code>public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\n        List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\n        //data.add(new Contact(name,phone,email,address));\n\n        return data;\n    }\n</code></pre>\n<p>The two slashes <code>//</code> means that you have commented the code out. So it is not active anymore. To add these values to your list, you have to remove that slashes. It must look like this:</p>\n<pre><code>public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\n        List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\n        data.add(new Contact(name,phone,email,address));\n\n        return data;\n    }\n</code></pre>\n<p>Do you see the difference? Also here in that post, in your example, it´s grayed out...</p>\n"}],"owner":{"account_id":9027863,"reputation":111,"user_id":6726601,"accept_rate":50,"display_name":"Endrit Sheholli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636467627,"creation_date":1471610893,"question_id":39039457,"body_markdown":"Adding items in RecyclerView from the data that comes from an intent that brings the data from another activity not behaving as expected.\r\n\r\nThis is the Main Activity of the app:\r\n\r\n    package com.example.android.contacts;\r\n    \r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main2Activity extends AppCompatActivity {\r\n    \r\n        RecyclerView contactListView;\r\n        private ViewAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n    \r\n            Intent intent2 = getIntent();\r\n            String nameTxt = intent2.getStringExtra(&quot;ContactName&quot;);\r\n            String phoneTxt = intent2.getStringExtra(&quot;PhoneNumber&quot;);\r\n            String emailTxt = intent2.getStringExtra(&quot;Email&quot;);\r\n            String addressTxt = intent2.getStringExtra(&quot;Address&quot;);\r\n    \r\n            contactListView = (RecyclerView) findViewById(R.id.listView);\r\n    \r\n            getData(nameTxt,phoneTxt,emailTxt,addressTxt);\r\n    \r\n            adapter = new ViewAdapter(getApplication(), getData(nameTxt,phoneTxt,emailTxt,addressTxt));\r\n            contactListView.setAdapter(adapter);\r\n        }\r\n    \r\n    \r\n    \r\n        public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\r\n            List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\r\n            data.add(new Contact(name,phone,email,address));\r\n    \r\n            return data;\r\n        }\r\n    \r\n        public void addNewContact (View view){\r\n    \r\n            Intent intent = new Intent (Main2Activity.this, MainActivity.class);\r\n            startActivity(intent);\r\n    \r\n        }\r\n    }\r\n\r\nThis is the Adapter :\r\n\r\n    package com.example.android.contacts;\r\n    \r\n    import android.content.Context;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class ViewAdapter extends RecyclerView.Adapter&lt;ViewAdapter.MyViewHolder&gt;{\r\n    \r\n        private LayoutInflater inflator;\r\n        List&lt;Contact&gt; data = Collections.emptyList();\r\n    \r\n    \r\n        public ViewAdapter (Context context, List&lt;Contact&gt; data){\r\n            inflator=LayoutInflater.from(context);\r\n    \r\n            this.data=data;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n    \r\n            View view = inflator.inflate(R.layout.custom_row, parent, false);\r\n            MyViewHolder holder = new MyViewHolder(view);\r\n            return holder;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n    \r\n            Contact current = data.get(position);\r\n    \r\n            holder.name.setText(current.getName());\r\n            holder.phone.setText(current.getPhone());\r\n            holder.email.setText(current.getEmail());\r\n            holder.address.setText(current.getAddress());\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n    \r\n        class MyViewHolder extends RecyclerView.ViewHolder{\r\n            TextView name;\r\n            TextView phone;\r\n            TextView email;\r\n            TextView address;\r\n    \r\n            public MyViewHolder(View itemView) {\r\n                super(itemView);\r\n                name=(TextView) itemView.findViewById(R.id.contactName);\r\n                phone=(TextView) itemView.findViewById(R.id.phoneNumber);\r\n                email=(TextView) itemView.findViewById(R.id.emailAddress);\r\n                address=(TextView) itemView.findViewById(R.id.cAddress);\r\n            }\r\n        }\r\n    }\r\n\r\nThe activity gets the data from another activity and the data comes into the main activity utilizing an intent, and the part of data receiving to the main activity is tested and works as expected.\r\n\r\nThis is the activity that feeds the data to the main Activity:\r\n\r\n    package com.example.android.contacts;\r\n    \r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        EditText nameTxt, phoneTxt, emailTxt, addressTxt;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            nameTxt = (EditText) findViewById(R.id.txtName);\r\n            phoneTxt = (EditText) findViewById(R.id.txtPhone);\r\n            emailTxt = (EditText) findViewById(R.id.txtEmail);\r\n            addressTxt = (EditText) findViewById(R.id.txtAddress);\r\n    \r\n        }\r\n        public void addContact (View view){\r\n    \r\n            if (nameTxt.getText().length()==0){\r\n    \r\n                nameTxt.setError(&quot;Please enter the Name&quot;);\r\n    \r\n            }\r\n    \r\n            else if (phoneTxt.getText().length()==0){\r\n    \r\n                phoneTxt.setError(&quot;Please enter the Phone Number&quot;);\r\n    \r\n            }\r\n    \r\n            else if (emailTxt.getText().length()==0){\r\n    \r\n                emailTxt.setError(&quot;Please enter the Email&quot;);\r\n    \r\n            }\r\n    \r\n            else if (addressTxt.getText().length()==0){\r\n    \r\n                addressTxt.setError(&quot;Please enter the Address&quot;);\r\n    \r\n            }\r\n    \r\n            else{\r\n    \r\n                Intent intent = new Intent (this, Main2Activity.class);\r\n                intent.putExtra(&quot;ContactName&quot;,nameTxt.getText().toString());\r\n                intent.putExtra(&quot;PhoneNumber&quot;,phoneTxt.getText().toString());\r\n                intent.putExtra(&quot;Email&quot;,emailTxt.getText().toString());\r\n                intent.putExtra(&quot;Address&quot;,addressTxt.getText().toString());\r\n    \r\n                startActivity(intent);\r\n    \r\n            }\r\n        }\r\n    }\r\n","title":"Adding items in RecyclerView from the data that comes from an intent not behaving properly","body":"<p>Adding items in RecyclerView from the data that comes from an intent that brings the data from another activity not behaving as expected.</p>\n<p>This is the Main Activity of the app:</p>\n<pre><code>package com.example.android.contacts;\n\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main2Activity extends AppCompatActivity {\n\n    RecyclerView contactListView;\n    private ViewAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        Intent intent2 = getIntent();\n        String nameTxt = intent2.getStringExtra(&quot;ContactName&quot;);\n        String phoneTxt = intent2.getStringExtra(&quot;PhoneNumber&quot;);\n        String emailTxt = intent2.getStringExtra(&quot;Email&quot;);\n        String addressTxt = intent2.getStringExtra(&quot;Address&quot;);\n\n        contactListView = (RecyclerView) findViewById(R.id.listView);\n\n        getData(nameTxt,phoneTxt,emailTxt,addressTxt);\n\n        adapter = new ViewAdapter(getApplication(), getData(nameTxt,phoneTxt,emailTxt,addressTxt));\n        contactListView.setAdapter(adapter);\n    }\n\n\n\n    public  List&lt;Contact&gt; getData(String name, String phone, String email, String address){\n        List&lt;Contact&gt; data = new ArrayList&lt;&gt;();\n        data.add(new Contact(name,phone,email,address));\n\n        return data;\n    }\n\n    public void addNewContact (View view){\n\n        Intent intent = new Intent (Main2Activity.this, MainActivity.class);\n        startActivity(intent);\n\n    }\n}\n</code></pre>\n<p>This is the Adapter :</p>\n<pre><code>package com.example.android.contacts;\n\nimport android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ViewAdapter extends RecyclerView.Adapter&lt;ViewAdapter.MyViewHolder&gt;{\n\n    private LayoutInflater inflator;\n    List&lt;Contact&gt; data = Collections.emptyList();\n\n\n    public ViewAdapter (Context context, List&lt;Contact&gt; data){\n        inflator=LayoutInflater.from(context);\n\n        this.data=data;\n    }\n\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n\n        View view = inflator.inflate(R.layout.custom_row, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n\n        Contact current = data.get(position);\n\n        holder.name.setText(current.getName());\n        holder.phone.setText(current.getPhone());\n        holder.email.setText(current.getEmail());\n        holder.address.setText(current.getAddress());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n    class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView name;\n        TextView phone;\n        TextView email;\n        TextView address;\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n            name=(TextView) itemView.findViewById(R.id.contactName);\n            phone=(TextView) itemView.findViewById(R.id.phoneNumber);\n            email=(TextView) itemView.findViewById(R.id.emailAddress);\n            address=(TextView) itemView.findViewById(R.id.cAddress);\n        }\n    }\n}\n</code></pre>\n<p>The activity gets the data from another activity and the data comes into the main activity utilizing an intent, and the part of data receiving to the main activity is tested and works as expected.</p>\n<p>This is the activity that feeds the data to the main Activity:</p>\n<pre><code>package com.example.android.contacts;\n\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText nameTxt, phoneTxt, emailTxt, addressTxt;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        nameTxt = (EditText) findViewById(R.id.txtName);\n        phoneTxt = (EditText) findViewById(R.id.txtPhone);\n        emailTxt = (EditText) findViewById(R.id.txtEmail);\n        addressTxt = (EditText) findViewById(R.id.txtAddress);\n\n    }\n    public void addContact (View view){\n\n        if (nameTxt.getText().length()==0){\n\n            nameTxt.setError(&quot;Please enter the Name&quot;);\n\n        }\n\n        else if (phoneTxt.getText().length()==0){\n\n            phoneTxt.setError(&quot;Please enter the Phone Number&quot;);\n\n        }\n\n        else if (emailTxt.getText().length()==0){\n\n            emailTxt.setError(&quot;Please enter the Email&quot;);\n\n        }\n\n        else if (addressTxt.getText().length()==0){\n\n            addressTxt.setError(&quot;Please enter the Address&quot;);\n\n        }\n\n        else{\n\n            Intent intent = new Intent (this, Main2Activity.class);\n            intent.putExtra(&quot;ContactName&quot;,nameTxt.getText().toString());\n            intent.putExtra(&quot;PhoneNumber&quot;,phoneTxt.getText().toString());\n            intent.putExtra(&quot;Email&quot;,emailTxt.getText().toString());\n            intent.putExtra(&quot;Address&quot;,addressTxt.getText().toString());\n\n            startActivity(intent);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1429033064,"post_id":29633897,"comment_id":47410111,"body_markdown":"If you upload a picture to a public site and edit your question to link to it, someone with more reputation can replace the link with the embedded picture.  That being said, there&#39;s no reason you cannot include your code as text in your question, along with the full and exact text of the error message.","body":"If you upload a picture to a public site and edit your question to link to it, someone with more reputation can replace the link with the embedded picture.  That being said, there&#39;s no reason you cannot include your code as text in your question, along with the full and exact text of the error message."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1429033065,"post_id":29633897,"comment_id":47410112,"body_markdown":"Did you `import` those two classes?","body":"Did you <code>import</code> those two classes?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1429033066,"post_id":29633897,"comment_id":47410114,"body_markdown":"Did you just copy the code verbatim from the book?","body":"Did you just copy the code verbatim from the book?"},{"owner":{"account_id":5403282,"reputation":64,"user_id":4302523,"accept_rate":100,"display_name":"hedgehog0"},"score":0,"creation_date":1429034222,"post_id":29633897,"comment_id":47410741,"body_markdown":"@azurefrog I just post some links to pictures I want to upload.","body":"@azurefrog I just post some links to pictures I want to upload."},{"owner":{"account_id":5403282,"reputation":64,"user_id":4302523,"accept_rate":100,"display_name":"hedgehog0"},"score":0,"creation_date":1429034275,"post_id":29633897,"comment_id":47410763,"body_markdown":"@Makoto Yes. You can see the code from `Average.java` as I posted above.","body":"@Makoto Yes. You can see the code from <code>Average.java</code> as I posted above."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1429037730,"post_id":29633897,"comment_id":47412734,"body_markdown":"**links to external resources are highly discouraged because of link rot!**","body":"<b>links to external resources are highly discouraged because of link rot!</b>"},{"owner":{"account_id":5403282,"reputation":64,"user_id":4302523,"accept_rate":100,"display_name":"hedgehog0"},"score":0,"creation_date":1429052791,"post_id":29633897,"comment_id":47419806,"body_markdown":"@JarrodRoberson So I should use &quot;import&quot; instead?","body":"@JarrodRoberson So I should use &quot;import&quot; instead?"}],"answers":[{"tags":[],"owner":{"account_id":3855491,"reputation":7138,"user_id":3194545,"accept_rate":52,"display_name":"almeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429034008,"creation_date":1429034008,"answer_id":29634188,"question_id":29633897,"body_markdown":"I usually see this when I do not define a variable and try to use it, like here:\r\n\r\n    public class Animal {\r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return name;\r\n            address = new String(); // here I will see this error\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }","title":"How to solve &quot;Cannot resolve symbol&quot; in IntelliJ IDEA?","body":"<p>I usually see this when I do not define a variable and try to use it, like here:</p>\n\n<pre><code>public class Animal {\n    private String name;\n\n    public String getName() {\n        return name;\n        address = new String(); // here I will see this error\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1429034142,"creation_date":1429034142,"answer_id":29634223,"question_id":29633897,"body_markdown":"This happens because the stdlib.jar does not define package structure for its classes :(\r\n\r\nTry creating your class on default package and that should work.","title":"How to solve &quot;Cannot resolve symbol&quot; in IntelliJ IDEA?","body":"<p>This happens because the stdlib.jar does not define package structure for its classes :(</p>\n\n<p>Try creating your class on default package and that should work.</p>\n"}],"owner":{"account_id":5403282,"reputation":64,"user_id":4302523,"accept_rate":100,"display_name":"hedgehog0"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4041,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1429037523,"accepted_answer_id":29634223,"answer_count":2,"score":-1,"last_activity_date":1636467558,"creation_date":1429032970,"question_id":29633897,"body_markdown":"I am learn *Algorithms, 4th Edition* with IntelliJ IDEA, however, I encouted a issue that the IDEA told me &quot;Cannot resolve symbol &#39;StdIn&#39; and &#39;StdOut&#39;&quot;.\r\n\r\nPic: [Cannot resolve symbol &quot;StdIn&quot;](http: //i.imgur.com/ZRD6o53.jpg)\r\n\r\nMy project structure is correct and I set `stdlib.jar` as one of the dependencies, where there are StdIn and StdOut. Even I clicked &quot;Invaildate caches and restart&quot; the issue remains.\r\n\r\n![http://i.imgur.com/nVyoWP8.jpg][1]\r\n\r\n![http://i.imgur.com/GvEwJtn.jpg][2]\r\n\r\nYou may learn the details of `stdlib.jar` from [here](http://algs4.cs.princeton.edu/code/) and `Average.java`\r\n\r\n    public class Average { \r\n    \r\n       // this class should not be instantiated\r\n       private Average() { }\r\n    \r\n        /**\r\n         * Reads in a sequence of real numbers from standard input and prints\r\n         * out their average to standard output.\r\n         */\r\n        public static void main(String[] args) { \r\n            int count = 0;       // number input values\r\n            double sum = 0.0;    // sum of input values\r\n    \r\n            // read data and compute statistics\r\n            while (!StdIn.isEmpty()) {\r\n                double value = StdIn.readDouble();\r\n                sum += value;\r\n                count++;\r\n            }\r\n    \r\n            // compute the average\r\n            double average = sum / count;\r\n    \r\n            // print results\r\n            StdOut.println(&quot;Average is &quot; + average);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Bqi3Y.jpg\r\n  [2]: http://i.stack.imgur.com/xDcwD.jpg\r\n","title":"How to solve &quot;Cannot resolve symbol&quot; in IntelliJ IDEA?","body":"<p>I am learn <em>Algorithms, 4th Edition</em> with IntelliJ IDEA, however, I encouted a issue that the IDEA told me &quot;Cannot resolve symbol 'StdIn' and 'StdOut'&quot;.</p>\n<p>Pic: [Cannot resolve symbol &quot;StdIn&quot;](http: //i.imgur.com/ZRD6o53.jpg)</p>\n<p>My project structure is correct and I set <code>stdlib.jar</code> as one of the dependencies, where there are StdIn and StdOut. Even I clicked &quot;Invaildate caches and restart&quot; the issue remains.</p>\n<p><img src=\"https://i.stack.imgur.com/Bqi3Y.jpg\" alt=\"http://i.imgur.com/nVyoWP8.jpg\" /></p>\n<p><img src=\"https://i.stack.imgur.com/xDcwD.jpg\" alt=\"http://i.imgur.com/GvEwJtn.jpg\" /></p>\n<p>You may learn the details of <code>stdlib.jar</code> from <a href=\"http://algs4.cs.princeton.edu/code/\" rel=\"nofollow noreferrer\">here</a> and <code>Average.java</code></p>\n<pre><code>public class Average { \n\n   // this class should not be instantiated\n   private Average() { }\n\n    /**\n     * Reads in a sequence of real numbers from standard input and prints\n     * out their average to standard output.\n     */\n    public static void main(String[] args) { \n        int count = 0;       // number input values\n        double sum = 0.0;    // sum of input values\n\n        // read data and compute statistics\n        while (!StdIn.isEmpty()) {\n            double value = StdIn.readDouble();\n            sum += value;\n            count++;\n        }\n\n        // compute the average\n        double average = sum / count;\n\n        // print results\n        StdOut.println(&quot;Average is &quot; + average);\n    }\n}\n</code></pre>\n"},{"tags":["java","void"],"comments":[{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1448964005,"post_id":643906,"comment_id":55790299,"body_markdown":"https://dzone.com/articles/why-does-void-class-exist-jdk","body":"<a href=\"https://dzone.com/articles/why-does-void-class-exist-jdk\" rel=\"nofollow noreferrer\">dzone.com/articles/why-does-void-class-exist-jdk</a>"},{"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"score":0,"creation_date":1511032591,"post_id":643906,"comment_id":81692590,"body_markdown":"In Java8, it has new functions: [use Function interface to replace Consumer or Supplier](https://stackoverflow.com/questions/47369776/java8-use-function-interface-to-replace-consumer-or-supplier)","body":"In Java8, it has new functions: <a href=\"https://stackoverflow.com/questions/47369776/java8-use-function-interface-to-replace-consumer-or-supplier\">use Function interface to replace Consumer or Supplier</a>"}],"answers":[{"tags":[],"owner":{"account_id":27967,"reputation":2654,"user_id":74275,"accept_rate":94,"display_name":"Alexander Temerev"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1354884499,"creation_date":1236967908,"answer_id":643919,"question_id":643906,"body_markdown":"[`Future&lt;Void&gt;`][1] works like charm. :)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html","title":"Uses for the Java Void Reference Type?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html\" rel=\"noreferrer\"><code>Future&lt;Void&gt;</code></a> works like charm. :)</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1236967920,"creation_date":1236967920,"answer_id":643920,"question_id":643906,"body_markdown":"Given that there are [no public constructors][1], I would say it can&#39;t be assigned anything other than `null`. I&#39;ve only used it as a placeholder for &quot;I don&#39;t need to use this generic parameter,&quot; as your example shows.\r\n\r\nIt could also be used in reflection, from what its [Javadoc][1] says:\r\n&gt;The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Void.html","title":"Uses for the Java Void Reference Type?","body":"<p>Given that there are <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Void.html\" rel=\"noreferrer\">no public constructors</a>, I would say it can't be assigned anything other than <code>null</code>. I've only used it as a placeholder for \"I don't need to use this generic parameter,\" as your example shows.</p>\n\n<p>It could also be used in reflection, from what its <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Void.html\" rel=\"noreferrer\">Javadoc</a> says:</p>\n\n<blockquote>\n  <p>The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1632191429,"creation_date":1236969302,"answer_id":644060,"question_id":643906,"body_markdown":"`Void` has become convention for a generic argument that you are not interested in. There is no reason why you should use any other non-instantiable type, such as `System`.\r\n\r\nIt is also often used in for example `Map` values (although `Collections.newSetFromMap` uses `Boolean` as maps don&#39;t have to accept `null` values) and `java.security.PrivilegedAction`.\r\n","title":"Uses for the Java Void Reference Type?","body":"<p><code>Void</code> has become convention for a generic argument that you are not interested in. There is no reason why you should use any other non-instantiable type, such as <code>System</code>.</p>\n<p>It is also often used in for example <code>Map</code> values (although <code>Collections.newSetFromMap</code> uses <code>Boolean</code> as maps don't have to accept <code>null</code> values) and <code>java.security.PrivilegedAction</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1374706833,"creation_date":1236980614,"answer_id":644730,"question_id":643906,"body_markdown":"You can create instance of Void using reflections, but they are not useful for anything.  Void is a way to indicate a generic method returns nothing.\r\n\r\n    Constructor&lt;Void&gt; constructor = Void.class.getDeclaredConstructor();\r\n    constructor.setAccessible(true);\r\n    Void v = constructor.newInstance();\r\n    System.out.println(&quot;I have a &quot; + v);\r\n\r\nprints something like\r\n\r\n    I have a java.lang.Void@75636731","title":"Uses for the Java Void Reference Type?","body":"<p>You can create instance of Void using reflections, but they are not useful for anything.  Void is a way to indicate a generic method returns nothing.</p>\n\n<pre><code>Constructor&lt;Void&gt; constructor = Void.class.getDeclaredConstructor();\nconstructor.setAccessible(true);\nVoid v = constructor.newInstance();\nSystem.out.println(\"I have a \" + v);\n</code></pre>\n\n<p>prints something like</p>\n\n<pre><code>I have a java.lang.Void@75636731\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1236982835,"creation_date":1236982835,"answer_id":644823,"question_id":643906,"body_markdown":"All the primitive wrapper classes (`Integer`, `Byte`, `Boolean`, `Double`, etc.) contain a reference to the corresponding primitive class in a static `TYPE` field, for example:\r\n\r\n    Integer.TYPE == int.class\r\n    Byte.TYPE == byte.class\r\n    Boolean.TYPE == boolean.class\r\n    Double.TYPE == double.class\r\n\r\n`Void` was initially created as somewhere to put a reference to the `void` type:\r\n\r\n    Void.TYPE == void.class\r\n\r\nHowever, you don&#39;t really gain anything by using `Void.TYPE`. When you use `void.class` it&#39;s much clearer that you&#39;re doing something with the `void` type.\r\n\r\nAs an aside, the last time I tried it, &lt;a href=&quot;http://www.beanshell.org/&quot;&gt;BeanShell&lt;/a&gt; didn&#39;t recognise `void.class`, so you have to use `Void.TYPE` there. \r\n","title":"Uses for the Java Void Reference Type?","body":"<p>All the primitive wrapper classes (<code>Integer</code>, <code>Byte</code>, <code>Boolean</code>, <code>Double</code>, etc.) contain a reference to the corresponding primitive class in a static <code>TYPE</code> field, for example:</p>\n\n<pre><code>Integer.TYPE == int.class\nByte.TYPE == byte.class\nBoolean.TYPE == boolean.class\nDouble.TYPE == double.class\n</code></pre>\n\n<p><code>Void</code> was initially created as somewhere to put a reference to the <code>void</code> type:</p>\n\n<pre><code>Void.TYPE == void.class\n</code></pre>\n\n<p>However, you don't really gain anything by using <code>Void.TYPE</code>. When you use <code>void.class</code> it's much clearer that you're doing something with the <code>void</code> type.</p>\n\n<p>As an aside, the last time I tried it, <a href=\"http://www.beanshell.org/\" rel=\"noreferrer\">BeanShell</a> didn't recognise <code>void.class</code>, so you have to use <code>Void.TYPE</code> there. </p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1237223720,"creation_date":1237066882,"answer_id":646790,"question_id":643906,"body_markdown":"Before generics, it was created for the reflection API, to hold TYPE returned by Method.getReturnType() for a void method, corresponding to the other primitive type classes.\r\n\r\nEDIT: From the JavaDoc of Void: &quot;The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void&quot;.  Prior to Generics, I am aware of no use other than reflection.","title":"Uses for the Java Void Reference Type?","body":"<p>Before generics, it was created for the reflection API, to hold TYPE returned by Method.getReturnType() for a void method, corresponding to the other primitive type classes.</p>\n\n<p>EDIT: From the JavaDoc of Void: \"The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void\".  Prior to Generics, I am aware of no use other than reflection.</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604656816,"creation_date":1334993408,"answer_id":10257143,"question_id":643906,"body_markdown":"`Void` was created to wrap its primitive `void` type. Every primitive type has its corresponding Reference type. `Void` is used to instantiate a generic class or use of a generic method, a generic argument which you are not interested in. Here is an example... \r\n \r\n\r\n    public void onNewRegistration() {\r\n        newRegistrationService.createNewUser(view.getUsername(), view.getPassword(),\r\n                view.getInitialAmount(), view.getCurrency(), new AsyncCallback&lt;Void&gt;() {\r\n          @Override\r\n          public void onFailure(Throwable caught) {\r\n              \r\n          }\r\n    \r\n          @Override\r\n          public void onSuccess(Void result) {\r\n            eventBus.fireEvent(new NewRegistrationSuccessEvent());\r\n          }\r\n        });\r\n      } \r\n\r\nHere, as you can see, I don&#39;t want anything from the server that I am asking to create a new registration ,but `public interface AsyncCallback&lt;T&gt; { .... }` is a generic interface, so i provide `Void` since generics don&#39;t accept primitive types ","title":"Uses for the Java Void Reference Type?","body":"<p><code>Void</code> was created to wrap its primitive <code>void</code> type. Every primitive type has its corresponding Reference type. <code>Void</code> is used to instantiate a generic class or use of a generic method, a generic argument which you are not interested in. Here is an example...</p>\n<pre><code>public void onNewRegistration() {\n    newRegistrationService.createNewUser(view.getUsername(), view.getPassword(),\n            view.getInitialAmount(), view.getCurrency(), new AsyncCallback&lt;Void&gt;() {\n      @Override\n      public void onFailure(Throwable caught) {\n          \n      }\n\n      @Override\n      public void onSuccess(Void result) {\n        eventBus.fireEvent(new NewRegistrationSuccessEvent());\n      }\n    });\n  } \n</code></pre>\n<p>Here, as you can see, I don't want anything from the server that I am asking to create a new registration ,but <code>public interface AsyncCallback&lt;T&gt; { .... }</code> is a generic interface, so i provide <code>Void</code> since generics don't accept primitive types</p>\n"},{"tags":[],"owner":{"account_id":1364460,"reputation":3729,"user_id":1301197,"accept_rate":22,"display_name":"Ronan Quillevere"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1386947659,"creation_date":1386844146,"answer_id":20540947,"question_id":643906,"body_markdown":"When you use the [visitor pattern][1] it can be cleaner to use Void instead of Object when you want to be sure that the return value will be null\r\n\r\nExample \r\n\r\n    public interface LeavesVisitor&lt;OUT&gt;\r\n    {\r\n       OUT visit(Leaf1 leaf);\r\n    \r\n       OUT visit(Leaf2 leaf);\r\n    }\r\n\r\nWhen you will implement your visitor you can explicitly set OUT to be Void so that you know your visitor will always return null, instead of using Object\r\n\r\n    public class MyVoidVisitor implements LeavesVisitor&lt;Void&gt;\r\n    {\r\n        Void visit(Leaf1 leaf){\r\n            //...do what you want on your leaf\r\n            return null;\r\n        }\r\n        \r\n        Void visit(Leaf2 leaf){\r\n            //...do what you want on your leaf\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Visitor_pattern","title":"Uses for the Java Void Reference Type?","body":"<p>When you use the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\">visitor pattern</a> it can be cleaner to use Void instead of Object when you want to be sure that the return value will be null</p>\n\n<p>Example </p>\n\n<pre><code>public interface LeavesVisitor&lt;OUT&gt;\n{\n   OUT visit(Leaf1 leaf);\n\n   OUT visit(Leaf2 leaf);\n}\n</code></pre>\n\n<p>When you will implement your visitor you can explicitly set OUT to be Void so that you know your visitor will always return null, instead of using Object</p>\n\n<pre><code>public class MyVoidVisitor implements LeavesVisitor&lt;Void&gt;\n{\n    Void visit(Leaf1 leaf){\n        //...do what you want on your leaf\n        return null;\n    }\n\n    Void visit(Leaf2 leaf){\n        //...do what you want on your leaf\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407684822,"creation_date":1407684822,"answer_id":25230143,"question_id":643906,"body_markdown":"It is also commonly used on Async-IO completion callbacks when you dont have the need for an `Attachment` object. In that case you specify null to the IO operation and implement `CompletionHandler&lt;Integer,Void&gt;`.","title":"Uses for the Java Void Reference Type?","body":"<p>It is also commonly used on Async-IO completion callbacks when you dont have the need for an <code>Attachment</code> object. In that case you specify null to the IO operation and implement <code>CompletionHandler&lt;Integer,Void&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3049878,"reputation":487,"user_id":2584698,"display_name":"Mar Bar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420659248,"creation_date":1420659248,"answer_id":27827223,"question_id":643906,"body_markdown":"As you can&#39;t instantiate Void, you can use [Apache commons Null object][1], so\r\n\r\n    Null aNullObject = ObjectUtils.Null;\r\n    Null noObjectHere = null;\r\n\r\nin the first line, you have an object, so `aNullObject != null` holds, while in the second line there is no reference, so `noObjectHere == null` holds\r\n\r\nTo answer the poster&#39;s original question, the usage for this is to differentiate between &quot;the nothing&quot; and &quot;nothing&quot;, which are completely different things.\r\n\r\nPS: Say no to Null object pattern\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ObjectUtils.Null.html\r\n","title":"Uses for the Java Void Reference Type?","body":"<p>As you can't instantiate Void, you can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ObjectUtils.Null.html\" rel=\"nofollow\">Apache commons Null object</a>, so</p>\n\n<pre><code>Null aNullObject = ObjectUtils.Null;\nNull noObjectHere = null;\n</code></pre>\n\n<p>in the first line, you have an object, so <code>aNullObject != null</code> holds, while in the second line there is no reference, so <code>noObjectHere == null</code> holds</p>\n\n<p>To answer the poster's original question, the usage for this is to differentiate between \"the nothing\" and \"nothing\", which are completely different things.</p>\n\n<p>PS: Say no to Null object pattern</p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449994178,"creation_date":1449994178,"answer_id":34249177,"question_id":643906,"body_markdown":"It may be rare case but once, I used `Void` in aspect classes. \r\n\r\nThis was an aspect which runs after methods that has an `@Log` annotation, and logs the method returned and some info if the method return type is not void.\r\n\r\n\r\n\r\n     @AfterReturning(value = &quot;@annotation(log)&quot;, \r\n           returning = &quot;returnValue&quot;, \r\n           argNames = &quot;joinPoint, log, returnValue&quot;\r\n          )\r\n        public void afterReturning(final JoinPoint joinPoint, final Log log,\r\n                final Object returnValue) {\r\n    \r\n                Class&lt;?&gt; returnType = ((MethodSignature) joinPoint.getSignature())\r\n                .getReturnType();\r\n               if (Void.class.isAssignableFrom (returnType)) ) {\r\n                //Do some log\r\n             }\r\n    }","title":"Uses for the Java Void Reference Type?","body":"<p>It may be rare case but once, I used <code>Void</code> in aspect classes. </p>\n\n<p>This was an aspect which runs after methods that has an <code>@Log</code> annotation, and logs the method returned and some info if the method return type is not void.</p>\n\n<pre><code> @AfterReturning(value = \"@annotation(log)\", \n       returning = \"returnValue\", \n       argNames = \"joinPoint, log, returnValue\"\n      )\n    public void afterReturning(final JoinPoint joinPoint, final Log log,\n            final Object returnValue) {\n\n            Class&lt;?&gt; returnType = ((MethodSignature) joinPoint.getSignature())\n            .getReturnType();\n           if (Void.class.isAssignableFrom (returnType)) ) {\n            //Do some log\n         }\n}\n</code></pre>\n"}],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87562,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":644060,"answer_count":11,"score":172,"last_activity_date":1636467343,"creation_date":1236967723,"question_id":643906,"body_markdown":"There is a Java `Void` -- uppercase V-- [reference type][1]. The only situation I have ever seen it used is to parameterize `Callable`s  \r\n\r\n    final Callable&lt;Void&gt; callable = new Callable&lt;Void&gt;() {\r\n                public Void call() {\r\n                    foobar();\r\n                    return null;\r\n                }\r\n            };\r\n\r\nAre there any other uses for the Java `Void` reference type? Can it ever be assigned anything other than `null`? If yes, do you have examples?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/Void.html","title":"Uses for the Java Void Reference Type?","body":"<p>There is a Java <code>Void</code> -- uppercase V-- <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Void.html\" rel=\"noreferrer\">reference type</a>. The only situation I have ever seen it used is to parameterize <code>Callable</code>s  </p>\n\n<pre><code>final Callable&lt;Void&gt; callable = new Callable&lt;Void&gt;() {\n            public Void call() {\n                foobar();\n                return null;\n            }\n        };\n</code></pre>\n\n<p>Are there any other uses for the Java <code>Void</code> reference type? Can it ever be assigned anything other than <code>null</code>? If yes, do you have examples?</p>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1636455052,"post_id":69896745,"comment_id":123555715,"body_markdown":"Unmarshal the json to a list of objects with those four properties, let&#39;s call the resulting list `response`, then do something like `response.stream().filter(x -&gt; &quot;test3&quot;.equals(x.getTitle())).findFirst().map(x -&gt; x.getId()).orElse(null);`","body":"Unmarshal the json to a list of objects with those four properties, let&#39;s call the resulting list <code>response</code>, then do something like <code>response.stream().filter(x -&gt; &quot;test3&quot;.equals(x.getTitle())).findFirst().map(x -&gt; x.getId()).orElse(null);</code>"},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":1,"creation_date":1636462149,"post_id":69896745,"comment_id":123558494,"body_markdown":"JSONPath can also be used to filter out the records. In your case it would be something like ``$.[?(@.title==&quot;test3&quot;)].id``. You can try this on online evaluator http://jsonpath.com/","body":"JSONPath can also be used to filter out the records. In your case it would be something like <code>$.[?(@.title==&quot;test3&quot;)].id</code>. You can try this on online evaluator <a href=\"http://jsonpath.com/\" rel=\"nofollow noreferrer\">jsonpath.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636465938,"creation_date":1636465938,"answer_id":69899381,"question_id":69896745,"body_markdown":"Beside 2 solutions that others commented, I add another one.\r\n\r\n```\r\nimport io.restassured.path.json.JsonPath;\r\n\r\nResponse res = ...;\r\nint id = JsonPath.from(res.asString()).get(&quot;find {it.title == &#39;test3&#39;}.id&quot;);\r\n```","title":"How to extract body attribute by another attribute REST-ASSURED JAVA","body":"<p>Beside 2 solutions that others commented, I add another one.</p>\n<pre><code>import io.restassured.path.json.JsonPath;\n\nResponse res = ...;\nint id = JsonPath.from(res.asString()).get(&quot;find {it.title == 'test3'}.id&quot;);\n</code></pre>\n"}],"owner":{"account_id":22582903,"reputation":1,"user_id":16785695,"display_name":"Arsenyev01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636465938,"creation_date":1636454811,"question_id":69896745,"body_markdown":"I have following response after GET request :\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 81,\r\n            &quot;userId&quot;: null,\r\n            &quot;title&quot;: &quot;test1&quot;,\r\n            &quot;status&quot;: &quot;TODO&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 564,\r\n            &quot;userId&quot;: null,\r\n            &quot;title&quot;: &quot;test2&quot;,\r\n            &quot;status&quot;: &quot;TODO&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 660,\r\n            &quot;userId&quot;: null,\r\n            &quot;title&quot;: &quot;test3&quot;,\r\n            &quot;status&quot;: &quot;TODO&quot;\r\n        }\r\n    ]\r\n\r\nWhat is the best way to get object `ID` by `title` attribute?\r\n\r\nFor example I need to find `ID` of &quot;test3&quot;.\r\n\r\nI have 100 + objects in response and it&#39;s hard to find it manually.","title":"How to extract body attribute by another attribute REST-ASSURED JAVA","body":"<p>I have following response after GET request :</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 81,\n        &quot;userId&quot;: null,\n        &quot;title&quot;: &quot;test1&quot;,\n        &quot;status&quot;: &quot;TODO&quot;\n    },\n    {\n        &quot;id&quot;: 564,\n        &quot;userId&quot;: null,\n        &quot;title&quot;: &quot;test2&quot;,\n        &quot;status&quot;: &quot;TODO&quot;\n    },\n    {\n        &quot;id&quot;: 660,\n        &quot;userId&quot;: null,\n        &quot;title&quot;: &quot;test3&quot;,\n        &quot;status&quot;: &quot;TODO&quot;\n    }\n]\n</code></pre>\n<p>What is the best way to get object <code>ID</code> by <code>title</code> attribute?</p>\n<p>For example I need to find <code>ID</code> of &quot;test3&quot;.</p>\n<p>I have 100 + objects in response and it's hard to find it manually.</p>\n"},{"tags":["java","spring-batch","blob"],"comments":[{"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"score":0,"creation_date":1636459649,"post_id":69897834,"comment_id":123557526,"body_markdown":"decode the string how? I think you can directly save it to the BLOB column.","body":"decode the string how? I think you can directly save it to the BLOB column."},{"owner":{"account_id":22938657,"reputation":43,"user_id":17077944,"display_name":"nazonekio"},"score":0,"creation_date":1636460564,"post_id":69897834,"comment_id":123557872,"body_markdown":"Can I save directly the base64 in blob column? and should I save all the string data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA....... or I have to split it at &#39;,&#39;? thanks @AbuBakarKhan","body":"Can I save directly the base64 in blob column? and should I save all the string data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA....... or I have to split it at &#39;,&#39;? thanks @AbuBakarKhan"},{"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"score":0,"creation_date":1636461268,"post_id":69897834,"comment_id":123558132,"body_markdown":"are you using spring JPA ? maybe if you share some code related to storage I can help out more","body":"are you using spring JPA ? maybe if you share some code related to storage I can help out more"},{"owner":{"account_id":22938657,"reputation":43,"user_id":17077944,"display_name":"nazonekio"},"score":0,"creation_date":1636461774,"post_id":69897834,"comment_id":123558325,"body_markdown":"The only thing i don&#180;t know is if for saving the blob i save all the string data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA... or i have to split it","body":"The only thing i don&#180;t know is if for saving the blob i save all the string data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA... or i have to split it"}],"answers":[{"tags":[],"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636465885,"creation_date":1636465885,"answer_id":69899371,"question_id":69897834,"body_markdown":"According to [RFC 2397][1], the URL part of the BASE64 String that is in your case `data:image/jpeg;base64`.\r\n\r\nAssuming your using the [Standard Base64 Decoder][2] then you would need to split your string inorder to decode it to an image, as shown in the code below: \r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport sun.misc.BASE64Decoder;\r\n\r\n\r\ndef sourceData = &#39;data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA&#39;;\r\n\r\n// tokenize the data\r\ndef parts = sourceData.tokenize(&quot;,&quot;);\r\ndef imageString = parts[1];\r\n\r\n// create a buffered image\r\nBufferedImage image = null;\r\nbyte[] imageByte;\r\n\r\nBASE64Decoder decoder = new BASE64Decoder();\r\nimageByte = decoder.decodeBuffer(imageString);\r\nByteArrayInputStream bis = new ByteArrayInputStream(imageByte);\r\nimage = ImageIO.read(bis);\r\nbis.close();\r\n\r\n// write the image to a file\r\nFile outputfile = new File(&quot;response.jpg&quot;);\r\nImageIO.write(image, &quot;jpg&quot;, outputfile);\r\n```\r\n\r\nThus **if you want to save information related to the file format of the image then do keep the Full Base64 String when saving to the Database Clob Column**, and when reading you can decode only the DATA PART (After the Base64 URL) to the actual image while th base64 URL can help in deciding the format of the image.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2397\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"Save file base64 in blob column","body":"<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc2397\" rel=\"nofollow noreferrer\">RFC 2397</a>, the URL part of the BASE64 String that is in your case <code>data:image/jpeg;base64</code>.</p>\n<p>Assuming your using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Standard Base64 Decoder</a> then you would need to split your string inorder to decode it to an image, as shown in the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport sun.misc.BASE64Decoder;\n\n\ndef sourceData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA';\n\n// tokenize the data\ndef parts = sourceData.tokenize(&quot;,&quot;);\ndef imageString = parts[1];\n\n// create a buffered image\nBufferedImage image = null;\nbyte[] imageByte;\n\nBASE64Decoder decoder = new BASE64Decoder();\nimageByte = decoder.decodeBuffer(imageString);\nByteArrayInputStream bis = new ByteArrayInputStream(imageByte);\nimage = ImageIO.read(bis);\nbis.close();\n\n// write the image to a file\nFile outputfile = new File(&quot;response.jpg&quot;);\nImageIO.write(image, &quot;jpg&quot;, outputfile);\n</code></pre>\n<p>Thus <strong>if you want to save information related to the file format of the image then do keep the Full Base64 String when saving to the Database Clob Column</strong>, and when reading you can decode only the DATA PART (After the Base64 URL) to the actual image while th base64 URL can help in deciding the format of the image.</p>\n"}],"owner":{"account_id":22938657,"reputation":43,"user_id":17077944,"display_name":"nazonekio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69899371,"answer_count":1,"score":1,"last_activity_date":1636465885,"creation_date":1636459504,"question_id":69897834,"body_markdown":"I have in a variable string base 64 like this:\r\n\r\n```\r\ndata:image/jpeg;base64,/9j/4AAQSkZJRgABAQA.......\r\n```\r\n\r\nI need to save that in a column type blob, I need to decode the string I think and what more before saving to blob column","title":"Save file base64 in blob column","body":"<p>I have in a variable string base 64 like this:</p>\n<pre><code>data:image/jpeg;base64,/9j/4AAQSkZJRgABAQA.......\n</code></pre>\n<p>I need to save that in a column type blob, I need to decode the string I think and what more before saving to blob column</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"score":0,"creation_date":1636466224,"post_id":69899329,"comment_id":123560277,"body_markdown":"Welcome to StackOverflow, Sabir. Please take your time to read this https://stackoverflow.com/help/how-to-ask , then modify your question to meet the guidelines.","body":"Welcome to StackOverflow, Sabir. Please take your time to read this <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> , then modify your question to meet the guidelines."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636537402,"post_id":69899329,"comment_id":123581004,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":23285042,"reputation":73,"user_id":17368003,"display_name":"Sabir Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636465737,"creation_date":1636465737,"question_id":69899329,"body_markdown":"I am using Navigation Component where I have only one activity and multiple fragments and I want to integrate the ML Kit from Google to make an OCR Note App... The issue is how to open the camera ? shall I use Intent ? or something else because I have only one activity. Please do reply. \r\nThere is not much information on the internet regarding this and so I had to post this question. please show me a way that would help me learn.\r\nI am using java.","title":"Open Camera from fragment using Navigation Component- Android","body":"<p>I am using Navigation Component where I have only one activity and multiple fragments and I want to integrate the ML Kit from Google to make an OCR Note App... The issue is how to open the camera ? shall I use Intent ? or something else because I have only one activity. Please do reply.\nThere is not much information on the internet regarding this and so I had to post this question. please show me a way that would help me learn.\nI am using java.</p>\n"},{"tags":["java","android","artificial-intelligence","huawei-mobile-services","huawei-hiai"],"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1590055136,"post_id":60217616,"comment_id":109537519,"body_markdown":"Hello, please check out this codelab project - https://developer.huawei.com/consumer/en/codelab/HiAIGeneralTextRecognition/index.html#0","body":"Hello, please check out this codelab project - <a href=\"https://developer.huawei.com/consumer/en/codelab/HiAIGeneralTextRecognition/index.html#0\" rel=\"nofollow noreferrer\">developer.huawei.com/consumer/en/codelab/&hellip;</a>"},{"owner":{"account_id":416592,"reputation":4446,"user_id":792066,"accept_rate":73,"display_name":"Braiam"},"score":0,"creation_date":1633976109,"post_id":60217616,"comment_id":122898021,"body_markdown":"@deadfish why not [huawei-hiai]?","body":"@deadfish why not [huawei-hiai]?"},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1634022644,"post_id":60217616,"comment_id":122907987,"body_markdown":"There is no such tag as `huawei-hiai`.","body":"There is no such tag as <code>huawei-hiai</code>."},{"owner":{"account_id":416592,"reputation":4446,"user_id":792066,"accept_rate":73,"display_name":"Braiam"},"score":0,"creation_date":1636465698,"post_id":60217616,"comment_id":123560025,"body_markdown":"@deadfish now there is.","body":"@deadfish now there is."}],"answers":[{"tags":[],"owner":{"account_id":18738737,"reputation":1,"user_id":13662611,"display_name":"Mary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591147644,"creation_date":1591147644,"answer_id":62163822,"question_id":60217616,"body_markdown":"The basic capabilities of Huawei HIAI include face recognition, image recognition, natural language processing, language recognition, code detection and so on. If the text in the  picture is not recognized, it is recommended to use the picture with high contrast.","title":"Huawei HIAI Engine &quot;General text recognition&quot; is not detecting any text from an image","body":"<p>The basic capabilities of Huawei HIAI include face recognition, image recognition, natural language processing, language recognition, code detection and so on. If the text in the  picture is not recognized, it is recommended to use the picture with high contrast.</p>\n"},{"tags":[],"owner":{"account_id":19615962,"reputation":1997,"user_id":14357441,"display_name":"Zinna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1603483174,"creation_date":1603483174,"answer_id":64506574,"question_id":60217616,"body_markdown":"I have figured something out, at least enough to make it work. Some of the images you are importing might be too large, and it throws a code 200, invalid format IE, the image height and width is too large. You will need to check if the height of the bitmap is over 2560 pixels and if the width is over 1440 and scale/crop it accordingly.\r\n\r\n \r\n\r\nWhat I did:  \r\n\r\n\r\n    Bitmap initClassifiedImg;\r\n        if(bitmap.getHeight()&gt;2560 &amp;&amp; bitmap.getWidth()&gt;1440)\r\n            initClassifiedImg = Bitmap.createScaledBitmap(bitmap, 1440, 2560, true);\r\n        else if(bitmap.getHeight()&gt;2560)\r\n            initClassifiedImg = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), 2560, true);\r\n        else if (bitmap.getWidth()&gt;1440)\r\n            initClassifiedImg = Bitmap.createScaledBitmap(bitmap, 1440, bitmap.getHeight(), true);\r\n        else\r\n            initClassifiedImg = Bitmap.createBitmap(bitmap);\r\n\r\n \r\n\r\n\r\nSet this up to check for the bitmap and it should at the very least not generate a code 200 error\r\nDo note that certain images will still fail to generate results. If the resultcode is 0 with no result, that means it just isn&#39;t recognizing the text in the image.\r\n\r\n \r\n\r\n[Recognition image output example][1]\r\n\r\n \r\n\r\n[Sample image output][2]\r\n\r\n \r\n\r\n[No result example log][3]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/af93u.jpg\r\n  [2]: https://i.stack.imgur.com/OPdXU.jpg\r\n  [3]: https://i.stack.imgur.com/orHQn.png","title":"Huawei HIAI Engine &quot;General text recognition&quot; is not detecting any text from an image","body":"<p>I have figured something out, at least enough to make it work. Some of the images you are importing might be too large, and it throws a code 200, invalid format IE, the image height and width is too large. You will need to check if the height of the bitmap is over 2560 pixels and if the width is over 1440 and scale/crop it accordingly.</p>\n<p>What I did:</p>\n<pre><code>Bitmap initClassifiedImg;\n    if(bitmap.getHeight()&gt;2560 &amp;&amp; bitmap.getWidth()&gt;1440)\n        initClassifiedImg = Bitmap.createScaledBitmap(bitmap, 1440, 2560, true);\n    else if(bitmap.getHeight()&gt;2560)\n        initClassifiedImg = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), 2560, true);\n    else if (bitmap.getWidth()&gt;1440)\n        initClassifiedImg = Bitmap.createScaledBitmap(bitmap, 1440, bitmap.getHeight(), true);\n    else\n        initClassifiedImg = Bitmap.createBitmap(bitmap);\n</code></pre>\n<p>Set this up to check for the bitmap and it should at the very least not generate a code 200 error\nDo note that certain images will still fail to generate results. If the resultcode is 0 with no result, that means it just isn't recognizing the text in the image.</p>\n<p><a href=\"https://i.stack.imgur.com/af93u.jpg\" rel=\"nofollow noreferrer\">Recognition image output example</a></p>\n<p><a href=\"https://i.stack.imgur.com/OPdXU.jpg\" rel=\"nofollow noreferrer\">Sample image output</a></p>\n<p><a href=\"https://i.stack.imgur.com/orHQn.png\" rel=\"nofollow noreferrer\">No result example log</a></p>\n"},{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604979364,"creation_date":1604979364,"answer_id":64762489,"question_id":60217616,"body_markdown":"HiAI General Text Recognition Service limits the size of the input image. If the image size exceeds the specified range, error code 200 is returned.\r\n1. The maximum width and height of a screenshot are 1440 px and 15210 px respectively.\r\n2. For photos taken by a camera, please use images with a resolution of 720p or higher, and standard photo size ratio of 2:1 or less.\r\n\r\nYou can also integrate [Huawei ML Kit][1] [text recognition][2] service with no restrictions on the image size. It applies to all Android phones without depending on the HMS.\r\n\r\n\r\n  [1]: https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/service-introduction-0000001050040017?ha_source=hms1\r\n  [2]: https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/text-recognition-0000001050040053?ha_source=hms1","title":"Huawei HIAI Engine &quot;General text recognition&quot; is not detecting any text from an image","body":"<p>HiAI General Text Recognition Service limits the size of the input image. If the image size exceeds the specified range, error code 200 is returned.</p>\n<ol>\n<li>The maximum width and height of a screenshot are 1440 px and 15210 px respectively.</li>\n<li>For photos taken by a camera, please use images with a resolution of 720p or higher, and standard photo size ratio of 2:1 or less.</li>\n</ol>\n<p>You can also integrate <a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/service-introduction-0000001050040017?ha_source=hms1\" rel=\"nofollow noreferrer\">Huawei ML Kit</a> <a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/text-recognition-0000001050040053?ha_source=hms1\" rel=\"nofollow noreferrer\">text recognition</a> service with no restrictions on the image size. It applies to all Android phones without depending on the HMS.</p>\n"}],"owner":{"account_id":17705737,"reputation":1013,"user_id":12854357,"display_name":"baltekg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64506574,"answer_count":3,"score":1,"last_activity_date":1636465691,"creation_date":1581634002,"question_id":60217616,"body_markdown":"When using &quot;General text recognition&quot; from HIAI Engine I can&#39;t make it detect and return any text. For instance for the [sample image][1] it returns empty text but with code 200. I used an example program from the HIAI documentation, so I don&#39;t know where the problem is. So i created another app from scratch and results are the same.\r\n\r\n[![Logs after using general text recognition on an provided image in the sample app][2]][2]\r\n[![Logs from custom made app, still same results][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NZLgG.jpg\r\n  [2]: https://i.stack.imgur.com/tWdLP.png\r\n  [3]: https://i.stack.imgur.com/JzPXf.png","title":"Huawei HIAI Engine &quot;General text recognition&quot; is not detecting any text from an image","body":"<p>When using \"General text recognition\" from HIAI Engine I can't make it detect and return any text. For instance for the <a href=\"https://i.stack.imgur.com/NZLgG.jpg\" rel=\"nofollow noreferrer\">sample image</a> it returns empty text but with code 200. I used an example program from the HIAI documentation, so I don't know where the problem is. So i created another app from scratch and results are the same.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tWdLP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWdLP.png\" alt=\"Logs after using general text recognition on an provided image in the sample app\"></a>\n<a href=\"https://i.stack.imgur.com/JzPXf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JzPXf.png\" alt=\"Logs from custom made app, still same results\"></a></p>\n"},{"tags":["java","string","scala","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1636466149,"post_id":69898919,"comment_id":123560234,"body_markdown":"Probably a longer name, e.g. a.b.c.pls. You can display the PDF file with PDFDebugger and then hover above the field to see the full name. If this doesn&#39;t help, please share your PDF and some minimal code. Also don&#39;t use getFields, use getFieldTree, see javadoc.","body":"Probably a longer name, e.g. a.b.c.pls. You can display the PDF file with PDFDebugger and then hover above the field to see the full name. If this doesn&#39;t help, please share your PDF and some minimal code. Also don&#39;t use getFields, use getFieldTree, see javadoc."}],"answers":[{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636465310,"creation_date":1636465310,"answer_id":69899228,"question_id":69898919,"body_markdown":"I had a project where I was looking for a field through his name `CustomerSignature`. Maybe this example can help you.\r\n\r\n    PDField myField;\r\n    for(PDField f : ((List&lt;PDField&gt;) pdfAccroForm.getFields())) {\r\n\t    if(f.getPartialName()!= null &amp;&amp; f.getPartialName().startsWith(&quot;CustomerSignature&quot;)) {\r\n\t\t    myField= f;\r\n        }\r\n\t}","title":"Cant get a field of PDF with PDFBox","body":"<p>I had a project where I was looking for a field through his name <code>CustomerSignature</code>. Maybe this example can help you.</p>\n<pre><code>PDField myField;\nfor(PDField f : ((List&lt;PDField&gt;) pdfAccroForm.getFields())) {\n    if(f.getPartialName()!= null &amp;&amp; f.getPartialName().startsWith(&quot;CustomerSignature&quot;)) {\n        myField= f;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20982336,"reputation":23,"user_id":15416890,"display_name":"daivalo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636465310,"creation_date":1636464188,"question_id":69898919,"body_markdown":"I have a pdf with a single field &quot;pls&quot; and when I call method of AcroForm getFields, the output is like this: &quot;COSString{pls}&quot;, but when i call method getField(&quot;pls&quot;) it returns null and i cant do anything with the field.","title":"Cant get a field of PDF with PDFBox","body":"<p>I have a pdf with a single field &quot;pls&quot; and when I call method of AcroForm getFields, the output is like this: &quot;COSString{pls}&quot;, but when i call method getField(&quot;pls&quot;) it returns null and i cant do anything with the field.</p>\n"},{"tags":["java","spring-boot","code-generation","openapi"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1603900163,"post_id":64576050,"comment_id":114183840,"body_markdown":"Related: https://stackoverflow.com/questions/42246577/why-responses-to-put-requests-must-not-provide-an-etag#comment71656874_42248759","body":"Related: <a href=\"https://stackoverflow.com/questions/42246577/why-responses-to-put-requests-must-not-provide-an-etag#comment71656874_42248759\" title=\"why responses to put requests must not provide an etag%23comment71656874_42248759\">stackoverflow.com/questions/42246577/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11304172,"reputation":69,"user_id":10845780,"display_name":"d_ser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636465243,"creation_date":1636465243,"answer_id":69899204,"question_id":64576050,"body_markdown":"Generated code templates are stored as resources in the .mustache format. But you can easily overwrite it by creating a modified file with the same name and adding a link to the folder if you have Maven or Gradle.\r\n\r\nIn your case, copy the api.mustache and methodBody.mustache files to your computer or project resources from https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java, and change them by replacing `Response&lt;&gt;` with a `URI`.\r\n\r\nAdd the item `&lt;templateResourcePath&gt;folderInYourResources&lt;/templateResourcePath&gt;` or `&lt;templateDirectory&gt;pathToDirectory&lt;/templateDirectory&gt;`\r\ninto your Maven `&lt;configuration&gt;` and everything should work","title":"How to get OpenApi Generator for Spring Java server generate ResponseEntity&lt;Object&gt; for PUT request?","body":"<p>Generated code templates are stored as resources in the .mustache format. But you can easily overwrite it by creating a modified file with the same name and adding a link to the folder if you have Maven or Gradle.</p>\n<p>In your case, copy the api.mustache and methodBody.mustache files to your computer or project resources from <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java</a>, and change them by replacing <code>Response&lt;&gt;</code> with a <code>URI</code>.</p>\n<p>Add the item <code>&lt;templateResourcePath&gt;folderInYourResources&lt;/templateResourcePath&gt;</code> or <code>&lt;templateDirectory&gt;pathToDirectory&lt;/templateDirectory&gt;</code>\ninto your Maven <code>&lt;configuration&gt;</code> and everything should work</p>\n"}],"owner":{"account_id":17885646,"reputation":23,"user_id":12993406,"display_name":"Henrik Andersson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69899204,"answer_count":1,"score":2,"last_activity_date":1636465243,"creation_date":1603898832,"question_id":64576050,"body_markdown":"I am using the 4.3.1 version of the openapi-generator-maven-plugin to generate a SpringBoot server in Java 11.\r\n\r\nFor a PUT request I want to be able to return the URI to the created/updated object when successful, and plain text with information about the problem when unsuccessful.\r\n\r\nMy json for the API has the following content for the PUT request:\r\n```      \r\n&quot;put&quot;: {\r\n        &quot;summary&quot;: &quot;Create or update a Service&quot;,\r\n        &quot;deprecated&quot;: false,\r\n        &quot;operationId&quot;: &quot;putIndividualServiceUsingPUT&quot;,\r\n        &quot;responses&quot;: {\r\n          &quot;200&quot;: {\r\n            &quot;description&quot;: &quot;Service updated&quot;\r\n          },\r\n          &quot;201&quot;: {\r\n            &quot;description&quot;: &quot;Service created&quot;,\r\n            &quot;content&quot;: {\r\n              &quot;text/plain&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;example&quot;: &quot;services/DroneIdentifier&quot;\r\n                }\r\n              }\r\n            }\r\n          },\r\n          &quot;400&quot;: {\r\n            &quot;description&quot;: &quot;Provided service is not correct&quot;,\r\n            &quot;content&quot;: {\r\n              &quot;text/plain&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;,\r\n                  &quot;example&quot;: &quot;Service is missing required property version&quot;\r\n                }\r\n              }\r\n            }\r\n          },\r\n          &quot;401&quot;: {\r\n            &quot;description&quot;: &quot;Unauthorized&quot;\r\n          },\r\n          &quot;403&quot;: {\r\n            &quot;description&quot;: &quot;Forbidden&quot;\r\n          }\r\n        },\r\n        &quot;parameters&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;serviceName&quot;,\r\n            &quot;in&quot;: &quot;path&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;schema&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;example&quot;: &quot;DroneIdentifier&quot;\r\n          }\r\n        ],\r\n        &quot;requestBody&quot;: {\r\n          &quot;description&quot;: &quot;Service to create/update&quot;,\r\n          &quot;required&quot;: true,\r\n          &quot;content&quot;: {\r\n            &quot;application/json&quot;: {\r\n              &quot;schema&quot;: {\r\n                &quot;$ref&quot;: &quot;#/components/schemas/service&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n``` \r\n\r\nThe generated API:\r\n```    \r\n    /**\r\n     * PUT /services/{serviceName} : Create or update a Service\r\n     *\r\n     * @param serviceName  (required)\r\n     * @param service Service to create/update (required)\r\n     * @return Service updated (status code 200)\r\n     *         or Service created (status code 201)\r\n     *         or Provided service is not correct (status code 400)\r\n     *         or Unauthorized (status code 401)\r\n     *         or Forbidden (status code 403)\r\n     */\r\n    @ApiOperation(value = &quot;Create or update a Service&quot;, nickname = &quot;putIndividualServiceUsingPUT&quot;, notes = &quot;&quot;, tags={ &quot;rAPP Catalogue API&quot;, })\r\n    @ApiResponses(value = { \r\n        @ApiResponse(code = 200, message = &quot;Service updated&quot;),\r\n        @ApiResponse(code = 201, message = &quot;Service created&quot;, response = String.class),\r\n        @ApiResponse(code = 400, message = &quot;Provided service is not correct&quot;, response = String.class),\r\n        @ApiResponse(code = 401, message = &quot;Unauthorized&quot;),\r\n        @ApiResponse(code = 403, message = &quot;Forbidden&quot;) })\r\n    @RequestMapping(value = &quot;/services/{serviceName}&quot;,\r\n        produces = { &quot;text/plain&quot; }, \r\n        consumes = { &quot;application/json&quot; },\r\n        method = RequestMethod.PUT)\r\n    default ResponseEntity&lt;Void&gt; putIndividualServiceUsingPUT(@ApiParam(value = &quot;&quot;,required=true) @PathVariable(&quot;serviceName&quot;) String serviceName,@ApiParam(value = &quot;Service to create/update&quot; ,required=true )  @Valid @RequestBody Service service) {\r\n        return getDelegate().putIndividualServiceUsingPUT(serviceName, service);\r\n    }\r\n```\r\n\r\nHowever, the return type of the method is ```ResponseEntity&lt;Void&gt;```, which means that I am not able to put anything in the body of the response. \r\n\r\nAm I doing something wrong? Or is the generator hard coded to not permit a body in the response of a PUT request?\r\n\r\n","title":"How to get OpenApi Generator for Spring Java server generate ResponseEntity&lt;Object&gt; for PUT request?","body":"<p>I am using the 4.3.1 version of the openapi-generator-maven-plugin to generate a SpringBoot server in Java 11.</p>\n<p>For a PUT request I want to be able to return the URI to the created/updated object when successful, and plain text with information about the problem when unsuccessful.</p>\n<p>My json for the API has the following content for the PUT request:</p>\n<pre><code>&quot;put&quot;: {\n        &quot;summary&quot;: &quot;Create or update a Service&quot;,\n        &quot;deprecated&quot;: false,\n        &quot;operationId&quot;: &quot;putIndividualServiceUsingPUT&quot;,\n        &quot;responses&quot;: {\n          &quot;200&quot;: {\n            &quot;description&quot;: &quot;Service updated&quot;\n          },\n          &quot;201&quot;: {\n            &quot;description&quot;: &quot;Service created&quot;,\n            &quot;content&quot;: {\n              &quot;text/plain&quot;: {\n                &quot;schema&quot;: {\n                  &quot;type&quot;: &quot;string&quot;,\n                  &quot;example&quot;: &quot;services/DroneIdentifier&quot;\n                }\n              }\n            }\n          },\n          &quot;400&quot;: {\n            &quot;description&quot;: &quot;Provided service is not correct&quot;,\n            &quot;content&quot;: {\n              &quot;text/plain&quot;: {\n                &quot;schema&quot;: {\n                  &quot;type&quot;: &quot;string&quot;,\n                  &quot;example&quot;: &quot;Service is missing required property version&quot;\n                }\n              }\n            }\n          },\n          &quot;401&quot;: {\n            &quot;description&quot;: &quot;Unauthorized&quot;\n          },\n          &quot;403&quot;: {\n            &quot;description&quot;: &quot;Forbidden&quot;\n          }\n        },\n        &quot;parameters&quot;: [\n          {\n            &quot;name&quot;: &quot;serviceName&quot;,\n            &quot;in&quot;: &quot;path&quot;,\n            &quot;required&quot;: true,\n            &quot;schema&quot;: {\n              &quot;type&quot;: &quot;string&quot;\n            },\n            &quot;example&quot;: &quot;DroneIdentifier&quot;\n          }\n        ],\n        &quot;requestBody&quot;: {\n          &quot;description&quot;: &quot;Service to create/update&quot;,\n          &quot;required&quot;: true,\n          &quot;content&quot;: {\n            &quot;application/json&quot;: {\n              &quot;schema&quot;: {\n                &quot;$ref&quot;: &quot;#/components/schemas/service&quot;\n              }\n            }\n          }\n        }\n</code></pre>\n<p>The generated API:</p>\n<pre><code>    /**\n     * PUT /services/{serviceName} : Create or update a Service\n     *\n     * @param serviceName  (required)\n     * @param service Service to create/update (required)\n     * @return Service updated (status code 200)\n     *         or Service created (status code 201)\n     *         or Provided service is not correct (status code 400)\n     *         or Unauthorized (status code 401)\n     *         or Forbidden (status code 403)\n     */\n    @ApiOperation(value = &quot;Create or update a Service&quot;, nickname = &quot;putIndividualServiceUsingPUT&quot;, notes = &quot;&quot;, tags={ &quot;rAPP Catalogue API&quot;, })\n    @ApiResponses(value = { \n        @ApiResponse(code = 200, message = &quot;Service updated&quot;),\n        @ApiResponse(code = 201, message = &quot;Service created&quot;, response = String.class),\n        @ApiResponse(code = 400, message = &quot;Provided service is not correct&quot;, response = String.class),\n        @ApiResponse(code = 401, message = &quot;Unauthorized&quot;),\n        @ApiResponse(code = 403, message = &quot;Forbidden&quot;) })\n    @RequestMapping(value = &quot;/services/{serviceName}&quot;,\n        produces = { &quot;text/plain&quot; }, \n        consumes = { &quot;application/json&quot; },\n        method = RequestMethod.PUT)\n    default ResponseEntity&lt;Void&gt; putIndividualServiceUsingPUT(@ApiParam(value = &quot;&quot;,required=true) @PathVariable(&quot;serviceName&quot;) String serviceName,@ApiParam(value = &quot;Service to create/update&quot; ,required=true )  @Valid @RequestBody Service service) {\n        return getDelegate().putIndividualServiceUsingPUT(serviceName, service);\n    }\n</code></pre>\n<p>However, the return type of the method is <code>ResponseEntity&lt;Void&gt;</code>, which means that I am not able to put anything in the body of the response.</p>\n<p>Am I doing something wrong? Or is the generator hard coded to not permit a body in the response of a PUT request?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636465209,"creation_date":1636465209,"answer_id":69899198,"question_id":69895473,"body_markdown":"use entityManagerFactory options instance of  persistenceUnit ","title":"Camel + Spring Boot + JPA with mutiple datasources not finding correct persistence unit","body":"<p>use entityManagerFactory options instance of  persistenceUnit</p>\n"}],"owner":{"account_id":1063352,"reputation":169,"user_id":1064508,"accept_rate":67,"display_name":"karazy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69899198,"answer_count":1,"score":1,"last_activity_date":1636465209,"creation_date":1636449160,"question_id":69895473,"body_markdown":"I have a spring boot service, using JPA and Apache camel.\r\nI configured two different datasources following https://www.baeldung.com/spring-data-jpa-multiple-databases So far the datasources themself seem to be in place. However camel is not picking them based on the persistenceUnit name. When I remove all code related to one of those datasources then it suddenly works. To me it seems like the persistenceUnit name is not correctly set.\r\nI always get the following error:\r\n\r\n`javax.persistence.PersistenceException: No Persistence provider for EntityManager named domain`\r\n\r\nI also compared with my approach with https://stackoverflow.com/questions/50602126/spring-boot-camel-jpa-with-multiple-datasources\r\n\r\nDatasource 1:\r\n\r\n```package com.myapp.configuration;\r\n\r\nimport org.hibernate.jpa.HibernatePersistenceProvider;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\nimport javax.persistence.PersistenceContext;\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@PropertySource({&quot;classpath:database.properties&quot;})\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;com.myapp.persistence.domain&quot;},\r\n        entityManagerFactoryRef = &quot;domainEntityManager&quot;,\r\n        transactionManagerRef = &quot;domainTransactionManager&quot;)\r\npublic class PersistenceDomainAutoConfiguration {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource domainDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    @PersistenceContext(unitName = &quot;domain&quot;)\r\n    public LocalContainerEntityManagerFactoryBean domainEntityManager() {\r\n        final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(domainDataSource());\r\n        em.setPackagesToScan(&quot;com.myapp.model.domain&quot;,&quot;com.myapp.legacy&quot;);\r\n        em.setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n        em.setPersistenceUnitName(&quot;domain&quot;);\r\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        final HashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n        em.setJpaPropertyMap(properties);\r\n\r\n        return em;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public PlatformTransactionManager domainTransactionManager() {\r\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(domainEntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n\r\n}\r\n```\r\n\r\nDatasource 2:\r\n\r\n\r\n```\r\npackage com.myapp.configuration;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\nimport javax.persistence.PersistenceContext;\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\n@PropertySource({&quot;classpath:database.properties&quot;})\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.myapp.persistence.lookup&quot;,\r\n        entityManagerFactoryRef = &quot;lookupEntityManager&quot;,\r\n        transactionManagerRef = &quot;lookupTransactionManager&quot;)\r\npublic class PersistenceLookupAutoConfiguration {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix=&quot;spring.currency-datasource&quot;)\r\n    public DataSource lookupDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean\r\n    @PersistenceContext(unitName = &quot;lookup&quot;)\r\n    public LocalContainerEntityManagerFactoryBean lookupEntityManager() {\r\n        final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(lookupDataSource());\r\n        em.setPackagesToScan(&quot;com.myapp.model.lookup&quot;);\r\n        em.setPersistenceUnitName(&quot;lookup&quot;);\r\n\r\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        final HashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\r\n        em.setJpaPropertyMap(properties);\r\n\r\n        return em;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public PlatformTransactionManager lookupTransactionManager() {\r\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(lookupEntityManager().getObject());\r\n        return transactionManager;\r\n    }\r\n}\r\n```\r\n\r\nCamelroute excerpt:\r\n```\r\n...\r\n.to(&quot;jpa:com.myapp.model.domain.Event?entityType=java.util.ArrayList&amp;persistenceUnit=domain&quot;)\r\n```\r\n\r\n","title":"Camel + Spring Boot + JPA with mutiple datasources not finding correct persistence unit","body":"<p>I have a spring boot service, using JPA and Apache camel.\nI configured two different datasources following <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a> So far the datasources themself seem to be in place. However camel is not picking them based on the persistenceUnit name. When I remove all code related to one of those datasources then it suddenly works. To me it seems like the persistenceUnit name is not correctly set.\nI always get the following error:</p>\n<p><code>javax.persistence.PersistenceException: No Persistence provider for EntityManager named domain</code></p>\n<p>I also compared with my approach with <a href=\"https://stackoverflow.com/questions/50602126/spring-boot-camel-jpa-with-multiple-datasources\">Spring Boot + Camel JPA with multiple Datasources</a></p>\n<p>Datasource 1:</p>\n<pre><code>\nimport org.hibernate.jpa.HibernatePersistenceProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.persistence.PersistenceContext;\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@PropertySource({&quot;classpath:database.properties&quot;})\n@EnableJpaRepositories(\n        basePackages = {&quot;com.myapp.persistence.domain&quot;},\n        entityManagerFactoryRef = &quot;domainEntityManager&quot;,\n        transactionManagerRef = &quot;domainTransactionManager&quot;)\npublic class PersistenceDomainAutoConfiguration {\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource domainDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean\n    @Primary\n    @PersistenceContext(unitName = &quot;domain&quot;)\n    public LocalContainerEntityManagerFactoryBean domainEntityManager() {\n        final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(domainDataSource());\n        em.setPackagesToScan(&quot;com.myapp.model.domain&quot;,&quot;com.myapp.legacy&quot;);\n        em.setPersistenceProviderClass(HibernatePersistenceProvider.class);\n        em.setPersistenceUnitName(&quot;domain&quot;);\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        final HashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;,\n                &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n\n    @Bean\n    public PlatformTransactionManager domainTransactionManager() {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(domainEntityManager().getObject());\n        return transactionManager;\n    }\n\n}\n</code></pre>\n<p>Datasource 2:</p>\n<pre><code>package com.myapp.configuration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.persistence.PersistenceContext;\nimport javax.sql.DataSource;\nimport java.util.HashMap;\n\n@Configuration\n@PropertySource({&quot;classpath:database.properties&quot;})\n@EnableJpaRepositories(\n        basePackages = &quot;com.myapp.persistence.lookup&quot;,\n        entityManagerFactoryRef = &quot;lookupEntityManager&quot;,\n        transactionManagerRef = &quot;lookupTransactionManager&quot;)\npublic class PersistenceLookupAutoConfiguration {\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    @ConfigurationProperties(prefix=&quot;spring.currency-datasource&quot;)\n    public DataSource lookupDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean\n    @PersistenceContext(unitName = &quot;lookup&quot;)\n    public LocalContainerEntityManagerFactoryBean lookupEntityManager() {\n        final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(lookupDataSource());\n        em.setPackagesToScan(&quot;com.myapp.model.lookup&quot;);\n        em.setPersistenceUnitName(&quot;lookup&quot;);\n\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        final HashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n\n    @Bean\n    public PlatformTransactionManager lookupTransactionManager() {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(lookupEntityManager().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>Camelroute excerpt:</p>\n<pre><code>...\n.to(&quot;jpa:com.myapp.model.domain.Event?entityType=java.util.ArrayList&amp;persistenceUnit=domain&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mocking","spring-test"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1636464696,"post_id":69898994,"comment_id":123559564,"body_markdown":"Do you want to test the behaviour of `UserService` itself, or do you need to test this with the complete application running?","body":"Do you want to test the behaviour of <code>UserService</code> itself, or do you need to test this with the complete application running?"},{"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"score":0,"creation_date":1636465043,"post_id":69898994,"comment_id":123559710,"body_markdown":"I want to test UserService behavior with complete application running.\nMy main goal is to have flexibility with specifying whether I want to call real method of bean, or mock this method(as you can see in two test methods)","body":"I want to test UserService behavior with complete application running. My main goal is to have flexibility with specifying whether I want to call real method of bean, or mock this method(as you can see in two test methods)"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1636465317,"post_id":69898994,"comment_id":123559845,"body_markdown":"I would strongly advice not mixing that in a single test. A test using `@SpringBootTest` is normally an integration test that uses the actual beans. If you want to unit test the behaviour of `UserService`, then just manually create a mock of `WalletService` and pass it to the instance of `UserService` you also create manually.","body":"I would strongly advice not mixing that in a single test. A test using <code>@SpringBootTest</code> is normally an integration test that uses the actual beans. If you want to unit test the behaviour of <code>UserService</code>, then just manually create a mock of <code>WalletService</code> and pass it to the instance of <code>UserService</code> you also create manually."},{"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"score":0,"creation_date":1636465830,"post_id":69898994,"comment_id":123560088,"body_markdown":"I agree with you.\nBut imagine if I share same UserService object between multiple tests. \nI do it in order to keep the same ApplicationContext(because I have lots of tests and don&#39;t want to reload context on each test). \nIn some tests I want UserService to act as mock and in other tests - to act as ordinary real object. Is there any way to do it without reloading ApplicationContext?","body":"I agree with you. But imagine if I share same UserService object between multiple tests.  I do it in order to keep the same ApplicationContext(because I have lots of tests and don&#39;t want to reload context on each test).  In some tests I want UserService to act as mock and in other tests - to act as ordinary real object. Is there any way to do it without reloading ApplicationContext?"},{"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"score":0,"creation_date":1636465984,"post_id":69898994,"comment_id":123560159,"body_markdown":"How could you test `UserService` class if you are mocking it?","body":"How could you test <code>UserService</code> class if you are mocking it?"},{"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"score":0,"creation_date":1636466448,"post_id":69898994,"comment_id":123560400,"body_markdown":"It is possible to call real method with doCallRealMethod().when(userService).increaseBalance();","body":"It is possible to call real method with doCallRealMethod().when(userService).increaseBalance();"},{"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"score":0,"creation_date":1636466847,"post_id":69898994,"comment_id":123560631,"body_markdown":"Almost everything is possible. My point is: if your `UserServiceTest` class aim is to test the `UserService` class, testing a mock of `UserService` class inside it is just an exercise. Isn&#39;t it?","body":"Almost everything is possible. My point is: if your <code>UserServiceTest</code> class aim is to test the <code>UserService</code> class, testing a mock of <code>UserService</code> class inside it is just an exercise. Isn&#39;t it?"},{"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"score":0,"creation_date":1636468431,"post_id":69898994,"comment_id":123561403,"body_markdown":"Its just oversimplified version of what I want to do: share the same objects between classes. But in some test classes objects must be mocks and in other test classes they must be ordinary beans. I decided to do it to keep the same ApplicationContext between these test classes.","body":"Its just oversimplified version of what I want to do: share the same objects between classes. But in some test classes objects must be mocks and in other test classes they must be ordinary beans. I decided to do it to keep the same ApplicationContext between these test classes."}],"answers":[{"tags":[],"owner":{"account_id":19832429,"reputation":26,"user_id":14526670,"display_name":"MakerStack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636465162,"creation_date":1636465162,"answer_id":69899188,"question_id":69898994,"body_markdown":"You need to use the return value after the specified call method, when initiative is called, it will be intercepted by Mockito, return to your specified value, just as:\r\n```java\r\nMockito.when(userService.increaseBalance()).thenReturn(1);\r\nuserService.increaseBalance() // print :1\r\n```\r\n\r\n\r\n","title":"Is there any way to inject MockBean inside another MockBean","body":"<p>You need to use the return value after the specified call method, when initiative is called, it will be intercepted by Mockito, return to your specified value, just as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(userService.increaseBalance()).thenReturn(1);\nuserService.increaseBalance() // print :1\n</code></pre>\n"}],"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636465162,"creation_date":1636464453,"question_id":69898994,"body_markdown":"I have classes\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class UserService {\r\n        private final WalletService walletService;\r\n\r\n        public void increaseBalance() {\r\n          walletService.increaseBalance();\r\n        }\r\n    }\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class WalletService {\r\n        public void increaseBalance() {}\r\n    }\r\n\r\nAnd test class\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest()\r\n    public class UserServiceTest {\r\n      @MockBean\r\n      private UserService userService;\r\n    \r\n      @Test\r\n      public void testIncreaseBalance_realMethod() {\r\n        //here I want to call real UserService method\r\n        doCallRealMethod().when(userService).increaseBalance();\r\n    \r\n        userService.increseBalance();\r\n      }\r\n\r\n      @Test\r\n      public void testIncreaseBalance_mockedMethod() {\r\n        //here I don&#39;t want to call real UserService method\r\n    \r\n        userService.increseBalance();\r\n      }\r\n    \r\n    }\r\n\r\nIn this case **WalletService is not injected in UserService**. As I can see, the reason is that UserService is a @MockBean. Therefore, I have NullPointerException in test.\r\n\r\nHowever, when I make UserService @SpyBean, WalletService is injected in UserService.\r\n\r\nIs there any way to inject WalletService in UserService and still have it as @MockBean?\r\n","title":"Is there any way to inject MockBean inside another MockBean","body":"<p>I have classes</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n    private final WalletService walletService;\n\n    public void increaseBalance() {\n      walletService.increaseBalance();\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class WalletService {\n    public void increaseBalance() {}\n}\n</code></pre>\n<p>And test class</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest()\npublic class UserServiceTest {\n  @MockBean\n  private UserService userService;\n\n  @Test\n  public void testIncreaseBalance_realMethod() {\n    //here I want to call real UserService method\n    doCallRealMethod().when(userService).increaseBalance();\n\n    userService.increseBalance();\n  }\n\n  @Test\n  public void testIncreaseBalance_mockedMethod() {\n    //here I don't want to call real UserService method\n\n    userService.increseBalance();\n  }\n\n}\n</code></pre>\n<p>In this case <strong>WalletService is not injected in UserService</strong>. As I can see, the reason is that UserService is a @MockBean. Therefore, I have NullPointerException in test.</p>\n<p>However, when I make UserService @SpyBean, WalletService is injected in UserService.</p>\n<p>Is there any way to inject WalletService in UserService and still have it as @MockBean?</p>\n"},{"tags":["java","android","android-listview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636465555,"post_id":69899152,"comment_id":123559953,"body_markdown":"Get the listviews scrolling/first visible position before calling notifyDataSetChanged(). Then after it set the position back.","body":"Get the listviews scrolling/first visible position before calling notifyDataSetChanged(). Then after it set the position back."},{"owner":{"account_id":19365738,"reputation":1,"user_id":17367754,"display_name":"ArEfremov"},"score":0,"creation_date":1636465888,"post_id":69899152,"comment_id":123560110,"body_markdown":"@blackapps, I understand that like this?\n int position = messagesList.getFirstVisiblePosition();\nadapter.notifyDataSetChanged();\nmessagesList.setSelection(position);","body":"@blackapps, I understand that like this?  int position = messagesList.getFirstVisiblePosition(); adapter.notifyDataSetChanged(); messagesList.setSelection(position);"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636466507,"post_id":69899152,"comment_id":123560429,"body_markdown":"listView.setVerticalScrollbarPosition(); ?","body":"listView.setVerticalScrollbarPosition(); ?"},{"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"score":0,"creation_date":1636467781,"post_id":69899152,"comment_id":123561085,"body_markdown":"Stop using ListView and use RecyclerView so that you can use notifyItemInserted instead of notifyDatasetChanged","body":"Stop using ListView and use RecyclerView so that you can use notifyItemInserted instead of notifyDatasetChanged"},{"owner":{"account_id":19365738,"reputation":1,"user_id":17367754,"display_name":"ArEfremov"},"score":0,"creation_date":1636468158,"post_id":69899152,"comment_id":123561273,"body_markdown":"@Tyczj, Let&#39;s say I have a chat. There are three types of messages: 1) service (only text in the center), 2) outgoing (right), 3) incoming (left). How do I properly make an inflater in a RecyclerView depending on the conditions received from the message object?","body":"@Tyczj, Let&#39;s say I have a chat. There are three types of messages: 1) service (only text in the center), 2) outgoing (right), 3) incoming (left). How do I properly make an inflater in a RecyclerView depending on the conditions received from the message object?"}],"owner":{"account_id":19365738,"reputation":1,"user_id":17367754,"display_name":"ArEfremov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636465009,"creation_date":1636465009,"question_id":69899152,"body_markdown":"I searched absolutely everything, but all the solutions from the sources did not help.\r\n\r\nWhen notifyDataSetChanged() is called, the BaseAdapter — ListView adapter starts scrolling to where new elements have been added. How to remove scrolling? How to make a &quot;quiet&quot; addition of elements so that nothing scrolls. The user must scroll to the desired location by himself.\r\n\r\nP.S. scrolls up if you add items to the beginning of the LinkedList. When elements are added to the end, this is not observed.\r\n\r\n    &lt;ListView\r\n\t\tandroid:layout_below=&quot;@id/chat_top&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@id/chat_bottom&quot;\r\n\t\tandroid:stackFromBottom=&quot;true&quot;\r\n\t\tandroid:listSelector=&quot;@android:color/transparent&quot;\r\n\t\tandroid:divider=&quot;@null&quot;\r\n\t\tandroid:id=&quot;@+id/messages_list&quot;\r\n\t/&gt;","title":"Why notifyDataSetChanged() scrolls the ListView up android","body":"<p>I searched absolutely everything, but all the solutions from the sources did not help.</p>\n<p>When notifyDataSetChanged() is called, the BaseAdapter — ListView adapter starts scrolling to where new elements have been added. How to remove scrolling? How to make a &quot;quiet&quot; addition of elements so that nothing scrolls. The user must scroll to the desired location by himself.</p>\n<p>P.S. scrolls up if you add items to the beginning of the LinkedList. When elements are added to the end, this is not observed.</p>\n<pre><code>&lt;ListView\n    android:layout_below=&quot;@id/chat_top&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_above=&quot;@id/chat_bottom&quot;\n    android:stackFromBottom=&quot;true&quot;\n    android:listSelector=&quot;@android:color/transparent&quot;\n    android:divider=&quot;@null&quot;\n    android:id=&quot;@+id/messages_list&quot;\n/&gt;\n</code></pre>\n"},{"tags":["java","genexus"],"comments":[{"owner":{"account_id":211217,"reputation":3452,"user_id":463242,"display_name":"ncardeli"},"score":0,"creation_date":1508531373,"post_id":46847286,"comment_id":80661281,"body_markdown":"Why are you extending `GXProcedure` class?","body":"Why are you extending <code>GXProcedure</code> class?"},{"owner":{"account_id":8477137,"reputation":123,"user_id":6358033,"display_name":"Gabriel Baierle"},"score":0,"creation_date":1508756380,"post_id":46847286,"comment_id":80722405,"body_markdown":"I just used it because I&#39;ve found it on a sample code. Also tried without the extension but I couldn&#39;t make it work either.","body":"I just used it because I&#39;ve found it on a sample code. Also tried without the extension but I couldn&#39;t make it work either."}],"answers":[{"tags":[],"owner":{"account_id":12061711,"reputation":1,"user_id":8820489,"display_name":"user8820489"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636464964,"creation_date":1508775335,"answer_id":46893968,"question_id":46847286,"body_markdown":"Here it is the correction for question above.\r\n\r\nThe private execute method needs the output parameter.\r\n\r\n - This:\r\n`new&#160;ptesteintegracao(remoteHandle, context).gxep_salvadados(&quot;teste&quot;);`\r\n\r\n\r\n - Should be like this:\r\n`new String retorno =&#160;new&#160;ptesteintegracao(remoteHandle, context).gxep_salvadados(&quot;teste&quot;);`\r\n","title":"Call Genexus procedure stub in Java environment","body":"<p>Here it is the correction for question above.</p>\n<p>The private execute method needs the output parameter.</p>\n<ul>\n<li><p>This:\n<code>new ptesteintegracao(remoteHandle, context).gxep_salvadados(&quot;teste&quot;);</code></p>\n</li>\n<li><p>Should be like this:\n<code>new String retorno = new ptesteintegracao(remoteHandle, context).gxep_salvadados(&quot;teste&quot;);</code></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8477137,"reputation":123,"user_id":6358033,"display_name":"Gabriel Baierle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508846483,"creation_date":1508846483,"answer_id":46910051,"question_id":46847286,"body_markdown":"I&#39;ve found a solution. What I did was create a test Web Panel on my Genexus project and called the procedure I created. In this WPanel I just put a Button component that triggers the following event:\r\n\r\n    Event &#39;Teste&#39;\r\n\t  ptesteintegracao.salvadados(&quot;oi&quot;, &amp;retorno)\r\n    Endevent\r\n\r\nI don&#39;t know why, but by making this call to my procedure, in some way it forced Genexus to recreate the .java file of my procedure, which it was not doing with the build, rebuild or Build with this only options. When recreated, my java class was with the function corresponding to my procedure stub.\r\n\r\nAfter that, I just deployed the application, generating a new .jar file and imported it on my NetBeans project and my function was available:\r\n\r\n    ptesteintegracao.gxep_salvadados(&quot;teste&quot;, stringReturn);","title":"Call Genexus procedure stub in Java environment","body":"<p>I've found a solution. What I did was create a test Web Panel on my Genexus project and called the procedure I created. In this WPanel I just put a Button component that triggers the following event:</p>\n\n<pre><code>Event 'Teste'\n  ptesteintegracao.salvadados(\"oi\", &amp;retorno)\nEndevent\n</code></pre>\n\n<p>I don't know why, but by making this call to my procedure, in some way it forced Genexus to recreate the .java file of my procedure, which it was not doing with the build, rebuild or Build with this only options. When recreated, my java class was with the function corresponding to my procedure stub.</p>\n\n<p>After that, I just deployed the application, generating a new .jar file and imported it on my NetBeans project and my function was available:</p>\n\n<pre><code>ptesteintegracao.gxep_salvadados(\"teste\", stringReturn);\n</code></pre>\n"}],"owner":{"account_id":8477137,"reputation":123,"user_id":6358033,"display_name":"Gabriel Baierle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46910051,"answer_count":2,"score":1,"last_activity_date":1636464964,"creation_date":1508495618,"question_id":46847286,"body_markdown":"I&#39;m currently trying to create a procedure in Genexus 15 and call from Java Environment, but when I import the jar file to Java the function cannot be called.\r\n\r\nI am creating a simple procedure with a stub as follows:\r\n\r\n    stub salvadados(in:&amp;StringTeste, out:&amp;StringRetorno)\r\n       &amp;StringRetorno = &quot;ola &quot; + &amp;StringTeste\r\n    endstub\r\n\r\nGenexus is generating the .jar file when deploying the application, then I import it on NetBeans. The import is successfull and it recognizes the procedure I created, but when I access its methods, there&#39;s no call for my stub. \r\n\r\nMy Java class is as follows. I want to call my stub in the Function EnviaDados.\r\n\r\n    import com.genexus.GXProcedure;\r\n    import com.genexus.GXutil;\r\n    import com.genexus.ModelContext;\r\n    import com.genexus.reports.GXcfg;\r\n    import com.kbtesteintegracao.projeto.ptesteintegracao;\r\n\r\n    public class IntegracaoGenexus extends GXProcedure {\r\n\r\n        ptesteintegracao ptesteintegracao; \r\n\r\n\r\n        public void executeCmdLine(String args[]) {\r\n            execute();\r\n        }\r\n\r\n        public IntegracaoGenexus(int remoteHandle) {\r\n           super(remoteHandle, new ModelContext(IntegracaoGenexus.class), &quot;&quot;);\r\n        }\r\n\r\n        public IntegracaoGenexus(int remoteHandle, ModelContext context) {\r\n           super(remoteHandle, context, &quot;&quot;);\r\n        }\r\n\r\n        public void iniciar() {\r\n            ptesteintegracao = new ptesteintegracao(remoteHandle, context); \r\n        \r\n        }\r\n    \r\n        public void EnviaDados(String strDados) {\r\n            //ptesteintegracao.gxep_salvadados(strDados);\r\n        }\r\n    \r\n        public void execute() {\r\n           execute_int();\r\n        }\r\n\r\n        private void execute_int() {\r\n           initialize();\r\n           privateExecute();\r\n        }\r\n\r\n        private void privateExecute() {  \r\n           new ptesteintegracao(remoteHandle, context).gxep_salvadados(&quot;teste&quot;);\r\n           cleanup();\r\n        }\r\n\r\n        public static Object refClasses() {\r\n           GXutil.refClasses(IntegracaoGenexus.class);\r\n           return new GXcfg();\r\n        }\r\n\r\n        protected void cleanup() {\r\n           CloseOpenCursors();\r\n           exitApplication();\r\n        }\r\n\r\n        protected void CloseOpenCursors() {\r\n        }\r\n\r\n        /* Aggregate/select formulas */\r\n        public void initialize() {\r\n           /* GeneXus formulas. */\r\n           Gx_err = (short)(0) ;\r\n        }\r\n\r\n        private short Gx_err ;\r\n    \r\n    }\r\n\r\nWhat I am missing? I appreciate any help.","title":"Call Genexus procedure stub in Java environment","body":"<p>I'm currently trying to create a procedure in Genexus 15 and call from Java Environment, but when I import the jar file to Java the function cannot be called.</p>\n\n<p>I am creating a simple procedure with a stub as follows:</p>\n\n<pre><code>stub salvadados(in:&amp;StringTeste, out:&amp;StringRetorno)\n   &amp;StringRetorno = \"ola \" + &amp;StringTeste\nendstub\n</code></pre>\n\n<p>Genexus is generating the .jar file when deploying the application, then I import it on NetBeans. The import is successfull and it recognizes the procedure I created, but when I access its methods, there's no call for my stub. </p>\n\n<p>My Java class is as follows. I want to call my stub in the Function EnviaDados.</p>\n\n<pre><code>import com.genexus.GXProcedure;\nimport com.genexus.GXutil;\nimport com.genexus.ModelContext;\nimport com.genexus.reports.GXcfg;\nimport com.kbtesteintegracao.projeto.ptesteintegracao;\n\npublic class IntegracaoGenexus extends GXProcedure {\n\n    ptesteintegracao ptesteintegracao; \n\n\n    public void executeCmdLine(String args[]) {\n        execute();\n    }\n\n    public IntegracaoGenexus(int remoteHandle) {\n       super(remoteHandle, new ModelContext(IntegracaoGenexus.class), \"\");\n    }\n\n    public IntegracaoGenexus(int remoteHandle, ModelContext context) {\n       super(remoteHandle, context, \"\");\n    }\n\n    public void iniciar() {\n        ptesteintegracao = new ptesteintegracao(remoteHandle, context); \n\n    }\n\n    public void EnviaDados(String strDados) {\n        //ptesteintegracao.gxep_salvadados(strDados);\n    }\n\n    public void execute() {\n       execute_int();\n    }\n\n    private void execute_int() {\n       initialize();\n       privateExecute();\n    }\n\n    private void privateExecute() {  \n       new ptesteintegracao(remoteHandle, context).gxep_salvadados(\"teste\");\n       cleanup();\n    }\n\n    public static Object refClasses() {\n       GXutil.refClasses(IntegracaoGenexus.class);\n       return new GXcfg();\n    }\n\n    protected void cleanup() {\n       CloseOpenCursors();\n       exitApplication();\n    }\n\n    protected void CloseOpenCursors() {\n    }\n\n    /* Aggregate/select formulas */\n    public void initialize() {\n       /* GeneXus formulas. */\n       Gx_err = (short)(0) ;\n    }\n\n    private short Gx_err ;\n\n}\n</code></pre>\n\n<p>What I am missing? I appreciate any help.</p>\n"},{"tags":["java","jar","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":3396146,"reputation":101,"user_id":2849712,"display_name":"mukel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636464938,"creation_date":1636464938,"answer_id":69899129,"question_id":69854457,"body_markdown":"The resulting executables are optimized to run a specific application, not ANY application.\r\n\r\nThe main limitation is not what&#39;s included or not, it&#39;s the fact that you cannot load new classes at runtime.\r\nAny library/application that doesn&#39;t depend on loading dynamically-generated classes at runtime can be perfectly supported by `native-image` with proper configuration.\r\n\r\nIt&#39;s indeed possible to include the whole java.base, all your dependencies... the final executable will have more &quot;features&quot; at the expense of (larger) size and compilation time.","title":"Why can&#39;t GraalVM native image compiler build an image without any additional information?","body":"<p>The resulting executables are optimized to run a specific application, not ANY application.</p>\n<p>The main limitation is not what's included or not, it's the fact that you cannot load new classes at runtime.\nAny library/application that doesn't depend on loading dynamically-generated classes at runtime can be perfectly supported by <code>native-image</code> with proper configuration.</p>\n<p>It's indeed possible to include the whole java.base, all your dependencies... the final executable will have more &quot;features&quot; at the expense of (larger) size and compilation time.</p>\n"}],"owner":{"account_id":8945206,"reputation":319,"user_id":6672928,"accept_rate":100,"display_name":"Victor Khovanskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69899129,"answer_count":1,"score":0,"last_activity_date":1636464938,"creation_date":1636120895,"question_id":69854457,"body_markdown":"The compiler consumes a JAR-file:\r\n```\r\nnative-image [options] -jar jarfile [imagename] [options]\r\n```\r\nso it can be possible to scan all classes and resources without `reflect.json`, `resources.json`, etc. Why do we need to specify all files getting from the classpath or via Java Reflection? In my opinion, the performance issue is out of scope. Because it will be better to support any library even if it will be slower than could be.","title":"Why can&#39;t GraalVM native image compiler build an image without any additional information?","body":"<p>The compiler consumes a JAR-file:</p>\n<pre><code>native-image [options] -jar jarfile [imagename] [options]\n</code></pre>\n<p>so it can be possible to scan all classes and resources without <code>reflect.json</code>, <code>resources.json</code>, etc. Why do we need to specify all files getting from the classpath or via Java Reflection? In my opinion, the performance issue is out of scope. Because it will be better to support any library even if it will be slower than could be.</p>\n"},{"tags":["java","android","junit","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":3380741,"reputation":1,"user_id":2837834,"display_name":"user2837834"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1426233646,"creation_date":1426233646,"answer_id":29027364,"question_id":29014316,"body_markdown":"Running the JUnit tests on Android Projects.\r\n\r\nThe only difference while running junit test in android is that you’ll be calling Run As &gt; Android JUnit Test instead of just JUnit Test like you are used to in java.\r\n\r\nThat’s all! Hope you like it!","title":"JUnit UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;","body":"<p>Running the JUnit tests on Android Projects.</p>\n\n<p>The only difference while running junit test in android is that you’ll be calling Run As > Android JUnit Test instead of just JUnit Test like you are used to in java.</p>\n\n<p>That’s all! Hope you like it!</p>\n"},{"tags":[],"owner":{"account_id":3569748,"reputation":2756,"user_id":2980375,"display_name":"Elhanan Mishraky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468765994,"creation_date":1454509616,"answer_id":35179711,"question_id":29014316,"body_markdown":"I had the same issue, try extending AndroidTestCase in your test class. The error is due to classes that can be found only on the android runtime (Device\\Emulator)","title":"JUnit UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;","body":"<p>I had the same issue, try extending AndroidTestCase in your test class. The error is due to classes that can be found only on the android runtime (Device\\Emulator)</p>\n"},{"tags":[],"owner":{"account_id":1178605,"reputation":7013,"user_id":1154026,"accept_rate":92,"display_name":"Vic Vuci"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1491319554,"creation_date":1462816358,"answer_id":37122299,"question_id":29014316,"body_markdown":"Frustrating, but you&#39;ll have to use a [RobolectricTestRunner](http://robolectric.org/) instead of the standard JUnit one. \r\n\r\nisLoggable is a native method so its not available at runtime. \r\n\r\nIf you use Volley or the apachehttp-client, the biggest issue is that isLoggable is called as a field instantiation, for example:\r\n\r\n `private static final DEBUG = Log.isLoggable(..);` \r\n\r\nWhich completely messes things up given that this method is simply not available at all within those _libraries_ at runtime, so even an `AndroidTestCase` can&#39;t save you. \r\n\r\nLuckily, Robolectric handles it perfectly.\r\n\r\n**Edit April 4, 2017**\r\n\r\nJUnit 5 is available now and I have not tested with this testrunner. ","title":"JUnit UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;","body":"<p>Frustrating, but you'll have to use a <a href=\"http://robolectric.org/\" rel=\"nofollow noreferrer\">RobolectricTestRunner</a> instead of the standard JUnit one. </p>\n\n<p>isLoggable is a native method so its not available at runtime. </p>\n\n<p>If you use Volley or the apachehttp-client, the biggest issue is that isLoggable is called as a field instantiation, for example:</p>\n\n<p><code>private static final DEBUG = Log.isLoggable(..);</code> </p>\n\n<p>Which completely messes things up given that this method is simply not available at all within those <em>libraries</em> at runtime, so even an <code>AndroidTestCase</code> can't save you. </p>\n\n<p>Luckily, Robolectric handles it perfectly.</p>\n\n<p><strong>Edit April 4, 2017</strong></p>\n\n<p>JUnit 5 is available now and I have not tested with this testrunner. </p>\n"},{"tags":[],"owner":{"account_id":1424234,"reputation":5363,"user_id":1348187,"accept_rate":69,"display_name":"Rafael Ruiz Mu&#241;oz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636464839,"creation_date":1636464839,"answer_id":69899102,"question_id":29014316,"body_markdown":"For me, it happened when running a specific test on [`kotest`][1]. I had to run all the tests at once instead of one by one.\r\n\r\n\r\n  [1]: https://github.com/kotest/kotest","title":"JUnit UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;","body":"<p>For me, it happened when running a specific test on <a href=\"https://github.com/kotest/kotest\" rel=\"nofollow noreferrer\"><code>kotest</code></a>. I had to run all the tests at once instead of one by one.</p>\n"}],"owner":{"account_id":1564951,"reputation":182,"user_id":1453952,"display_name":"Pip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3977,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37122299,"answer_count":4,"score":8,"last_activity_date":1636464839,"creation_date":1426175371,"question_id":29014316,"body_markdown":"I&#39;m getting the following error when I run a JUnit test on an android app that uses apachehttp-client. The app runs successfully on my test device and on an emulator. A login JUnit test also passes but the rest of the JUnit tests fail whenever the app tries to use the apachehttp-client to read data from a server.\r\n\r\nThe test seems to fail at httpClient.execute\r\n\r\n    try {\r\n\t\t\tURL businessPartnersResource = new URL(\r\n\t\t\t\t\tsession.getServer().getUrl(), &quot;BusinessPartners&quot;);\r\n\r\n\t\t\tHttpGet request = new HttpGet(businessPartnersResource.toURI());\r\n\t\t\tsession.attachToRequest(request);\r\n\r\n\t\t\tHttpClient httpClient = HttpClientFactory.getClient();\r\n\t\t\tHttpResponse response = httpClient.execute(request);\r\n\r\n\t\t\tint status = response.getStatusLine().getStatusCode();\r\n\r\n\t\t\tswitch (status) {\r\n\t\t\tcase HttpsURLConnection.HTTP_OK: {\r\n\r\nHere&#39;s the Failure Trace\r\n\r\n    java.lang.UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;I)Z\r\n\tat android.util.Log.isLoggable(Native Method)\r\n\tat org.apache.http.client.protocol.RequestClientConnControl.process(RequestClientConnControl.java:76)\r\n\tat org.apache.http.protocol.BasicHttpProcessor.process(BasicHttpProcessor.java:251)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:168)\r\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:458)\r\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\r\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\r\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:554)\r\n\t","title":"JUnit UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;","body":"<p>I'm getting the following error when I run a JUnit test on an android app that uses apachehttp-client. The app runs successfully on my test device and on an emulator. A login JUnit test also passes but the rest of the JUnit tests fail whenever the app tries to use the apachehttp-client to read data from a server.</p>\n\n<p>The test seems to fail at httpClient.execute</p>\n\n<pre><code>try {\n        URL businessPartnersResource = new URL(\n                session.getServer().getUrl(), \"BusinessPartners\");\n\n        HttpGet request = new HttpGet(businessPartnersResource.toURI());\n        session.attachToRequest(request);\n\n        HttpClient httpClient = HttpClientFactory.getClient();\n        HttpResponse response = httpClient.execute(request);\n\n        int status = response.getStatusLine().getStatusCode();\n\n        switch (status) {\n        case HttpsURLConnection.HTTP_OK: {\n</code></pre>\n\n<p>Here's the Failure Trace</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: android.util.Log.isLoggable(Ljava/lang/String;I)Z\nat android.util.Log.isLoggable(Native Method)\nat org.apache.http.client.protocol.RequestClientConnControl.process(RequestClientConnControl.java:76)\nat org.apache.http.protocol.BasicHttpProcessor.process(BasicHttpProcessor.java:251)\nat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:168)\nat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:458)\nat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\nat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\nat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:554)\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":373021,"reputation":3724,"user_id":875806,"accept_rate":67,"display_name":"CoatedMoose"},"score":2,"creation_date":1625864702,"post_id":68318968,"comment_id":120750067,"body_markdown":"This seems to be fixed now.","body":"This seems to be fixed now."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1625843508,"creation_date":1625843508,"answer_id":68319044,"question_id":68318968,"body_markdown":"That is not a problem with your app &amp;mdash; Fabric&#39;s SSL certificate for their Maven artifact repository expired. Until they fix it, you will not be able to load artifacts from `https://maven.fabric.io/public`. ","title":"SSL Certificate Expired Exception","body":"<p>That is not a problem with your app — Fabric's SSL certificate for their Maven artifact repository expired. Until they fix it, you will not be able to load artifacts from <code>https://maven.fabric.io/public</code>.</p>\n"},{"tags":[],"owner":{"account_id":16127914,"reputation":7,"user_id":11642279,"display_name":"Felix Savali"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1636464827,"creation_date":1636464827,"answer_id":69899095,"question_id":68318968,"body_markdown":"Error: Not After: &#39;date&#39;\r\nor\r\nError: java.security.cert.certificateexpiredexception\r\nIf you Experience this error in android studio simply invalidate caches and restart..,\r\non menu bar choose File-&gt;Invalidate Cache-&gt;Invalidate Cache and restart","title":"SSL Certificate Expired Exception","body":"<p>Error: Not After: 'date'\nor\nError: java.security.cert.certificateexpiredexception\nIf you Experience this error in android studio simply invalidate caches and restart..,\non menu bar choose File-&gt;Invalidate Cache-&gt;Invalidate Cache and restart</p>\n"}],"owner":{"account_id":10558633,"reputation":62,"user_id":7779043,"accept_rate":0,"display_name":"romil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68319044,"answer_count":2,"score":3,"last_activity_date":1636464827,"creation_date":1625843144,"question_id":68318968,"body_markdown":"I am running an already developed project, It&#39;s occurring SSL Certificate Expired Exception, and It is not building the project, Gradle build not running.\r\nIt was working properly before yesterday.\r\nThe error is\r\n\r\n    &gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n       &gt; Could not resolve io.fabric.tools:gradle:1.+.\r\n         Required by:\r\n             project :\r\n          &gt; Failed to list versions for io.fabric.tools:gradle.\r\n             &gt; Unable to load Maven meta-data from https://maven.fabric.io/public/io/fabric/tools/gradle/maven-metadata.xml.\r\n                &gt; Could not HEAD &#39;https://maven.fabric.io/public/io/fabric/tools/gradle/maven-metadata.xml&#39;.\r\n                   &gt; PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n    \r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:141)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:117)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:106)\r\n    \tat org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:97)\r\n    \t... 204 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\r\n    \t... 219 more\r\n    Caused by: java.security.cert.CertPathValidatorException: validity check failed\r\n    \t... 219 more\r\n    Caused by: java.security.cert.CertificateExpiredException: NotAfter: Fri Jul 09 00:13:44 IST 2021","title":"SSL Certificate Expired Exception","body":"<p>I am running an already developed project, It's occurring SSL Certificate Expired Exception, and It is not building the project, Gradle build not running.\nIt was working properly before yesterday.\nThe error is</p>\n<pre><code>&gt; Could not resolve all artifacts for configuration ':classpath'.\n   &gt; Could not resolve io.fabric.tools:gradle:1.+.\n     Required by:\n         project :\n      &gt; Failed to list versions for io.fabric.tools:gradle.\n         &gt; Unable to load Maven meta-data from https://maven.fabric.io/public/io/fabric/tools/gradle/maven-metadata.xml.\n            &gt; Could not HEAD 'https://maven.fabric.io/public/io/fabric/tools/gradle/maven-metadata.xml'.\n               &gt; PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\n\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:141)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performHttpRequest(HttpClientHelper.java:117)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.executeGetOrHead(HttpClientHelper.java:106)\n    at org.gradle.internal.resource.transport.http.HttpClientHelper.performRequest(HttpClientHelper.java:97)\n    ... 204 more\nCaused by: sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: validity check failed\n    ... 219 more\nCaused by: java.security.cert.CertPathValidatorException: validity check failed\n    ... 219 more\nCaused by: java.security.cert.CertificateExpiredException: NotAfter: Fri Jul 09 00:13:44 IST 2021\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1516008833,"post_id":48260078,"comment_id":83502980,"body_markdown":"It&#39;s very difficult to come with a proper answer on questions like these. Are you sure you&#39;re not having any stale connections to the database? If your entire database connection pool became stale, it can take a while before all connections are invalidated and a new one is being generated.","body":"It&#39;s very difficult to come with a proper answer on questions like these. Are you sure you&#39;re not having any stale connections to the database? If your entire database connection pool became stale, it can take a while before all connections are invalidated and a new one is being generated."},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":0,"creation_date":1516009044,"post_id":48260078,"comment_id":83503100,"body_markdown":"You are right. I just want suggestions. The problem is that the method doesn&#39;t call a DB connection :) Even if the form is empty ( validation takes place and the view is returned before to finish the whole method.","body":"You are right. I just want suggestions. The problem is that the method doesn&#39;t call a DB connection :) Even if the form is empty ( validation takes place and the view is returned before to finish the whole method."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1516009438,"post_id":48260078,"comment_id":83503328,"body_markdown":"In that case, what does `tileRepository.save()` do then?","body":"In that case, what does <code>tileRepository.save()</code> do then?"},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":0,"creation_date":1516009577,"post_id":48260078,"comment_id":83503392,"body_markdown":"The problem exists when I submit an empty form, where tileRepository.save() is not called.","body":"The problem exists when I submit an empty form, where tileRepository.save() is not called."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1516010129,"post_id":48260078,"comment_id":83503694,"body_markdown":"Well you think it doesn&#39;t use a DB connection. If you are using JPA and run with the defaults you have an `OpenEntityManagerInViewFilter` added to your chain by default. What happens is that upon a request the `EntityManager` is bound to the current thread (and with that a connection). Now after 24 to 48 hours of being inactive you have probably no valid DB connections anymore. Those will be closed one by one until a fresh one is retrieved from the database. I suggest configure your datasource to test connections when idle that way you always have active connections.","body":"Well you think it doesn&#39;t use a DB connection. If you are using JPA and run with the defaults you have an <code>OpenEntityManagerInViewFilter</code> added to your chain by default. What happens is that upon a request the <code>EntityManager</code> is bound to the current thread (and with that a connection). Now after 24 to 48 hours of being inactive you have probably no valid DB connections anymore. Those will be closed one by one until a fresh one is retrieved from the database. I suggest configure your datasource to test connections when idle that way you always have active connections."},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":0,"creation_date":1516010557,"post_id":48260078,"comment_id":83503942,"body_markdown":"Thanks for this answer. I learned something new :) Before the update to spring-boot 2, I&#39;ve used 1.5.3 with Tomcat connection pool. Now I&#39;m using Hikari connection pool. Some settings that I&#39;ve used.\n# Maximum number of active connections that can be allocated from this \n#spring.datasource.tomcat.test-on-borrow=true\n#spring.datasource.tomcat.validation-query=SELECT 1","body":"Thanks for this answer. I learned something new :) Before the update to spring-boot 2, I&#39;ve used 1.5.3 with Tomcat connection pool. Now I&#39;m using Hikari connection pool. Some settings that I&#39;ve used. # Maximum number of active connections that can be allocated from this  #spring.datasource.tomcat.test-on-borrow=true #spring.datasource.tomcat.validation-query=SELECT 1"}],"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636464811,"creation_date":1516008343,"question_id":48260078,"body_markdown":"I have a huge problem with method execution (I guess). I&#39;m using Spring boot 2.0 (tested with 1.5.x as well) + Thymeleaf 3. \r\n\r\n**The case:** \r\n\r\nWhen the application is running for more about 48 h (for e.g), submitting the simple POST form with 2 fields takes appr. 15 seconds. The method doesn&#39;t call anything related to DB.\r\n\r\n    \r\n\t@RequestMapping(value=&quot;/add&quot;, method=RequestMethod.POST)\r\n\tpublic String addTile(Model model, @Valid @ModelAttribute(&quot;tile&quot;) Tile tile, BindingResult results) {\r\n\r\n\t\tif(results.hasErrors()){\r\n\t\t\treturn &quot;tile/add&quot;;\r\n\t\t}\r\n\t\ttileRepository.save(tile);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n\r\nAfter many tests that I&#39;ve made, no memory, JDBC, connection leeks and etc. were found. \r\n\r\nFrom GC point of view, there isn&#39;t any strange too. \r\n\r\nI used jProfiler and from method stack execution, the delay comes from the method itself. \r\n\r\nWhen I switched the VPS to another hosting provider and changed sessions to redis, the performance was dramatically improved maybe with 30%-40%, but still doesn&#39;t work properly.\r\n\r\nI&#39;ve tested the app with jMeter for concurrency issues but everything is perfect and the response is very good.\r\n\r\nThis issues comes out only if the application is running more thatn 24h/48h and there is no active users. \r\n\r\nThe version of JVM is Java 8 OpenJDK (build 1.8.0_151-b12) without any custom settings.","title":"Spring boot - slow method execution","body":"<p>I have a huge problem with method execution (I guess). I'm using Spring boot 2.0 (tested with 1.5.x as well) + Thymeleaf 3.</p>\n<p><strong>The case:</strong></p>\n<p>When the application is running for more about 48 h (for e.g), submitting the simple POST form with 2 fields takes appr. 15 seconds. The method doesn't call anything related to DB.</p>\n<pre><code>@RequestMapping(value=&quot;/add&quot;, method=RequestMethod.POST)\npublic String addTile(Model model, @Valid @ModelAttribute(&quot;tile&quot;) Tile tile, BindingResult results) {\n\n    if(results.hasErrors()){\n        return &quot;tile/add&quot;;\n    }\n    tileRepository.save(tile);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>After many tests that I've made, no memory, JDBC, connection leeks and etc. were found.</p>\n<p>From GC point of view, there isn't any strange too.</p>\n<p>I used jProfiler and from method stack execution, the delay comes from the method itself.</p>\n<p>When I switched the VPS to another hosting provider and changed sessions to redis, the performance was dramatically improved maybe with 30%-40%, but still doesn't work properly.</p>\n<p>I've tested the app with jMeter for concurrency issues but everything is perfect and the response is very good.</p>\n<p>This issues comes out only if the application is running more thatn 24h/48h and there is no active users.</p>\n<p>The version of JVM is Java 8 OpenJDK (build 1.8.0_151-b12) without any custom settings.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":1,"creation_date":1516388991,"post_id":48347958,"comment_id":83682014,"body_markdown":"`response` is an `int` and `Scanner.nextLine()` returns a `String`. How would you convert a line containing i.e. `this line contains letters and 6 spaces` to an `int`..?","body":"<code>response</code> is an <code>int</code> and <code>Scanner.nextLine()</code> returns a <code>String</code>. How would you convert a line containing i.e. <code>this line contains letters and 6 spaces</code> to an <code>int</code>..?"},{"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"score":0,"creation_date":1516389056,"post_id":48347958,"comment_id":83682042,"body_markdown":"This is because &quot;reader.nextLine();&quot; returns String, and you are trying to assign it to variable of type int which is not possible. So change the data type of response to String.","body":"This is because &quot;reader.nextLine();&quot; returns String, and you are trying to assign it to variable of type int which is not possible. So change the data type of response to String."},{"owner":{"account_id":12721461,"reputation":33,"user_id":9241720,"display_name":"Johann Boniek"},"score":0,"creation_date":1516390058,"post_id":48347958,"comment_id":83682504,"body_markdown":"So @Amit1011 do you have any suggestions for what should I use in lieu of `reader.nextLine()` so it will return an int? `response` should only be a number, if all goes well","body":"So @Amit1011 do you have any suggestions for what should I use in lieu of <code>reader.nextLine()</code> so it will return an int? <code>response</code> should only be a number, if all goes well"},{"owner":{"account_id":5870080,"reputation":425,"user_id":4622647,"accept_rate":75,"display_name":"AmitB10"},"score":0,"creation_date":1516390265,"post_id":48347958,"comment_id":83682607,"body_markdown":"@JohannBoniek do this- \n`response = Integer.parseInt(reader.nextLine());`.\nBut beware, that if someone here inputs any character instead of a number, you will get NumberFormatException.","body":"@JohannBoniek do this-  <code>response = Integer.parseInt(reader.nextLine());</code>. But beware, that if someone here inputs any character instead of a number, you will get NumberFormatException."}],"answers":[{"tags":[],"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1516390468,"creation_date":1516390468,"answer_id":48348306,"question_id":48347958,"body_markdown":"`response` is an `int` and the method `nextLine()` of `Scanner` returns... well, a line represented by a **`String`**. You cannot assign a `String` to an `int` - how would you do so? A `String` can be anything from `&quot;some text&quot;` to `&quot;   a   5   0 &quot;`. How would you convert the first and/or the second one to an `int`?\r\n\r\nWhat you probably wanted is:\r\n\r\n    System.out.println(&quot;Enter number =&gt; &quot;);\r\n    response = reader.nextInt();\r\n    // notice this        ^^^\r\n\r\ninstead of:\r\n\r\n    System.out.println(&quot;Enter number =&gt; &quot;);\r\n    response = reader.nextLine();\r\n    // instead of this    ^^^^\r\n\r\nthe `nextInt()` method expects a sequence of digits and/or characters that can represent a number, for example: `123`, `-50`, `0` and so on...\r\n\r\nHowever, you have to be aware of one significant issue - mixing `nextLine()` and `nextInt()` can lead to undesirable results. For example:\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\tString s;\r\n\tint a = sc.nextInt();\r\n\ts = sc.nextLine();\r\n\tSystem.out.println(s);\r\n\r\nWill print **nothing**, because when inputting the number, you type for example `123` and **hit &lt;kbd&gt;enter&lt;/kbd&gt;**, you additionally input a newline character. Then, `nextLine()` will fire and *will scan every character up to the first enountered newline or end-of-file character* which apparently is **still there**, unconsumed by `nextInt()`. To fix this and read more about it go [here](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","title":"error: incompatible types: String cannot be converted to int","body":"<p><code>response</code> is an <code>int</code> and the method <code>nextLine()</code> of <code>Scanner</code> returns... well, a line represented by a <strong><code>String</code></strong>. You cannot assign a <code>String</code> to an <code>int</code> - how would you do so? A <code>String</code> can be anything from <code>\"some text\"</code> to <code>\"   a   5   0 \"</code>. How would you convert the first and/or the second one to an <code>int</code>?</p>\n\n<p>What you probably wanted is:</p>\n\n<pre><code>System.out.println(\"Enter number =&gt; \");\nresponse = reader.nextInt();\n// notice this        ^^^\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>System.out.println(\"Enter number =&gt; \");\nresponse = reader.nextLine();\n// instead of this    ^^^^\n</code></pre>\n\n<p>the <code>nextInt()</code> method expects a sequence of digits and/or characters that can represent a number, for example: <code>123</code>, <code>-50</code>, <code>0</code> and so on...</p>\n\n<p>However, you have to be aware of one significant issue - mixing <code>nextLine()</code> and <code>nextInt()</code> can lead to undesirable results. For example:</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nString s;\nint a = sc.nextInt();\ns = sc.nextLine();\nSystem.out.println(s);\n</code></pre>\n\n<p>Will print <strong>nothing</strong>, because when inputting the number, you type for example <code>123</code> and <strong>hit <kbd>enter</kbd></strong>, you additionally input a newline character. Then, <code>nextLine()</code> will fire and <em>will scan every character up to the first enountered newline or end-of-file character</em> which apparently is <strong>still there</strong>, unconsumed by <code>nextInt()</code>. To fix this and read more about it go <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8527393,"reputation":369,"user_id":6392398,"display_name":"Ioannis Brant-Ioannidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517406423,"creation_date":1516390497,"answer_id":48348316,"question_id":48347958,"body_markdown":"To read an integer from a file you can simply use an example like this: \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int i = sc.nextInt();\r\n\r\nHowever, you dont give further information about your file structure so my advice is to look again in the documentation to find what best fits you. \r\nYou can find the documentation of scanner [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"error: incompatible types: String cannot be converted to int","body":"<p>To read an integer from a file you can simply use an example like this: </p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nint i = sc.nextInt();\n</code></pre>\n\n<p>However, you dont give further information about your file structure so my advice is to look again in the documentation to find what best fits you. \nYou can find the documentation of scanner <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":12721461,"reputation":33,"user_id":9241720,"display_name":"Johann Boniek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28388,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48348306,"answer_count":2,"score":-1,"last_activity_date":1636464648,"creation_date":1516388894,"question_id":48347958,"body_markdown":"I&#39;m very new to programming and very very new to Java, so I&#39;m sure this question (and all my other mistakes) will be very obvious to anyone with experience. I clearly don&#39;t know what I&#39;m doing. \r\nMy assignment was to convert Python code to Java. Below is my code. \r\n\r\nMy two error codes are:\r\n\r\n    Assignment1.java:37: error: incompatible types: String cannot be\r\n    converted to int \r\n    response = reader.nextLine();\r\n    Assignment1.java:38: error: incompatible types: int cannot be converted to String \r\n    num = Integer.parseInt(response);\r\n\r\n\r\nFor clarification, I&#39;m using JGrasp, but willing to not.\r\n\r\n    import java.util.Scanner;\r\n    public class Assignment1 {\r\n          public static void main(String[] args) {\r\n        \r\n             int num, response, min, max, range, sum, count, avg;\r\n             Scanner reader = new Scanner(System.in);\r\n             String reportTitle;\r\n    \r\n        \r\n             //title\r\n             System.out.println();\r\n             System.out.println(&quot;Enter a title for this report&quot;);\r\n             reportTitle = reader.nextLine();\r\n             System.out.println();\r\n             \r\n             \r\n             //data input\r\n             System.out.println(&quot;Enter a series of numebr, ending with a 0&quot;);\r\n             \r\n             num = 0;\r\n             sum = 0;\r\n             response = 1;\r\n             count = 0;\r\n             max = 0;\r\n             min = 0;\r\n             range = 0;\r\n             \r\n             while (true)\r\n             {\r\n                if (response &lt; 1)\r\n                {\r\n                   System.out.println(&quot;End of Data&quot;);\r\n                   break;\r\n                }\r\n                \r\n              System.out.println(&quot;Enter number =&gt; &quot;);\r\n              response = reader.nextLine();\r\n              num = Integer.parseInt(response);\r\n              \r\n              sum += num;\r\n              count += 1;\r\n              \r\n              if (num&gt;max)\r\n              {\r\n                max = num;\r\n              }\r\n              if (num&lt;min)\r\n              {\r\n                min = num;\r\n              }\r\n              \r\n             }\r\n             \r\n             //crunch\r\n             avg = sum / count;\r\n             range = max - min;\r\n             \r\n             //report\r\n             System.out.println();\r\n             System.out.println(reportTitle);\r\n             System.out.println();\r\n             System.out.println(&quot;Sum: =&gt; &quot;+sum);\r\n             System.out.println(&quot;Average: =&gt; &quot;+avg);\r\n             System.out.println(&quot;Smallest: =&gt; &quot;+min);\r\n             System.out.println(&quot;Largest: =&gt; &quot;+max);\r\n             System.out.println(&quot;Range: =&gt; &quot;+range);\r\n    \r\n        \r\n        }\r\n    \r\n    }","title":"error: incompatible types: String cannot be converted to int","body":"<p>I'm very new to programming and very very new to Java, so I'm sure this question (and all my other mistakes) will be very obvious to anyone with experience. I clearly don't know what I'm doing.\nMy assignment was to convert Python code to Java. Below is my code.</p>\n<p>My two error codes are:</p>\n<pre><code>Assignment1.java:37: error: incompatible types: String cannot be\nconverted to int \nresponse = reader.nextLine();\nAssignment1.java:38: error: incompatible types: int cannot be converted to String \nnum = Integer.parseInt(response);\n</code></pre>\n<p>For clarification, I'm using JGrasp, but willing to not.</p>\n<pre><code>import java.util.Scanner;\npublic class Assignment1 {\n      public static void main(String[] args) {\n    \n         int num, response, min, max, range, sum, count, avg;\n         Scanner reader = new Scanner(System.in);\n         String reportTitle;\n\n    \n         //title\n         System.out.println();\n         System.out.println(&quot;Enter a title for this report&quot;);\n         reportTitle = reader.nextLine();\n         System.out.println();\n         \n         \n         //data input\n         System.out.println(&quot;Enter a series of numebr, ending with a 0&quot;);\n         \n         num = 0;\n         sum = 0;\n         response = 1;\n         count = 0;\n         max = 0;\n         min = 0;\n         range = 0;\n         \n         while (true)\n         {\n            if (response &lt; 1)\n            {\n               System.out.println(&quot;End of Data&quot;);\n               break;\n            }\n            \n          System.out.println(&quot;Enter number =&gt; &quot;);\n          response = reader.nextLine();\n          num = Integer.parseInt(response);\n          \n          sum += num;\n          count += 1;\n          \n          if (num&gt;max)\n          {\n            max = num;\n          }\n          if (num&lt;min)\n          {\n            min = num;\n          }\n          \n         }\n         \n         //crunch\n         avg = sum / count;\n         range = max - min;\n         \n         //report\n         System.out.println();\n         System.out.println(reportTitle);\n         System.out.println();\n         System.out.println(&quot;Sum: =&gt; &quot;+sum);\n         System.out.println(&quot;Average: =&gt; &quot;+avg);\n         System.out.println(&quot;Smallest: =&gt; &quot;+min);\n         System.out.println(&quot;Largest: =&gt; &quot;+max);\n         System.out.println(&quot;Range: =&gt; &quot;+range);\n\n    \n    }\n\n}\n</code></pre>\n"},{"tags":["c#","java","exception","error-handling","error-code"],"answers":[{"tags":[],"owner":{"account_id":28542,"reputation":160910,"user_id":76337,"accept_rate":70,"display_name":"John Saunders"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1273286511,"creation_date":1273286511,"answer_id":2792746,"question_id":2792728,"body_markdown":"Error codes are old-school. They are of little to no value at all.\r\n\r\nThe only possible value to an error code is that it can identify a very specific circumstance. You could have a code for each point in the code base that can throw an exception. This would allow you to narrow down very precisely what the problem must be.\r\n\r\nBut nobody cares about that level of detail. Who wants to maintain such a mess. It would leave you with codes that meant something like &quot;condition A and B but not C due to state S&quot;. It&#39;s more effort than it&#39;s worth to try to work out exactly what that means. A stack trace will be more valuable in telling you where in the program the problem occurred.\r\n\r\nI learned to program computers before exceptions were a widespread technique. I&#39;m *so* glad we got exceptions instead!","title":"When is it appropriate to use error codes?","body":"<p>Error codes are old-school. They are of little to no value at all.</p>\n\n<p>The only possible value to an error code is that it can identify a very specific circumstance. You could have a code for each point in the code base that can throw an exception. This would allow you to narrow down very precisely what the problem must be.</p>\n\n<p>But nobody cares about that level of detail. Who wants to maintain such a mess. It would leave you with codes that meant something like \"condition A and B but not C due to state S\". It's more effort than it's worth to try to work out exactly what that means. A stack trace will be more valuable in telling you where in the program the problem occurred.</p>\n\n<p>I learned to program computers before exceptions were a widespread technique. I'm <em>so</em> glad we got exceptions instead!</p>\n"},{"tags":[],"owner":{"account_id":23991,"reputation":72904,"user_id":60682,"accept_rate":97,"display_name":"David"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1273286655,"creation_date":1273286655,"answer_id":2792755,"question_id":2792728,"body_markdown":"I don&#39;t think I&#39;ve ever used error codes in .Net except in ***one*** situation - when I was creating a console application that I knew was going to be called from another app.  This other app had to know when the console app failed, and what went wrong.  So, one example of when it would be appropriate would be when you know your program will be called by other programs, and you want a structured way for them to understand errors.\r\n\r\n\r\nThat said, I was a newbie to .NET at the time, and have never used error codes since.  \r\n\r\n\r\nAs a side note, as a Windows guy, it&#39;s nice to be able to plop in an error code and come up with a KB article, so an error code combined with good documentation and the ability to find it = nice feelings from your users. ","title":"When is it appropriate to use error codes?","body":"<p>I don't think I've ever used error codes in .Net except in <strong><em>one</em></strong> situation - when I was creating a console application that I knew was going to be called from another app.  This other app had to know when the console app failed, and what went wrong.  So, one example of when it would be appropriate would be when you know your program will be called by other programs, and you want a structured way for them to understand errors.</p>\n\n<p>That said, I was a newbie to .NET at the time, and have never used error codes since.  </p>\n\n<p>As a side note, as a Windows guy, it's nice to be able to plop in an error code and come up with a KB article, so an error code combined with good documentation and the ability to find it = nice feelings from your users. </p>\n"},{"tags":[],"owner":{"account_id":43031,"reputation":10689,"user_id":125601,"accept_rate":90,"display_name":"Robert Fraser"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1273346078,"creation_date":1273286754,"answer_id":2792758,"question_id":2792728,"body_markdown":"I frequently use error codes when an error needs to be conveyed to the user, since they can be internationalized. For example, in a compiler, if there are errors in user code, errors can be signaled in the compiler backend, while the frontend can localize them into culture/language-specific strings for user consumption. Enums may be better for this purpose than raw integers, however.\r\n\r\nI&#39;ve also used them in creating an &quot;error reporting&quot; framework for the app. When exceptions were thrown, they were thrown with an error code, which, when the exception bubbled up, was sent (with a log) to the central server. The code helped organize the database so we could inspect logs related to a specific error.\r\n\r\nFinally, as mentioned in a couple other answers, error codes are easy and language-agnostic to google (think Windows error codes/MS KB articles), so an error code *with* a description of what went wrong may be better for end-users of a technical product.\r\n\r\nThe idea of error codes is useful, but IMO they belong as exception members or as parameters to an IErrorReporter interface or something more ofthen than as method return values.","title":"When is it appropriate to use error codes?","body":"<p>I frequently use error codes when an error needs to be conveyed to the user, since they can be internationalized. For example, in a compiler, if there are errors in user code, errors can be signaled in the compiler backend, while the frontend can localize them into culture/language-specific strings for user consumption. Enums may be better for this purpose than raw integers, however.</p>\n\n<p>I've also used them in creating an \"error reporting\" framework for the app. When exceptions were thrown, they were thrown with an error code, which, when the exception bubbled up, was sent (with a log) to the central server. The code helped organize the database so we could inspect logs related to a specific error.</p>\n\n<p>Finally, as mentioned in a couple other answers, error codes are easy and language-agnostic to google (think Windows error codes/MS KB articles), so an error code <em>with</em> a description of what went wrong may be better for end-users of a technical product.</p>\n\n<p>The idea of error codes is useful, but IMO they belong as exception members or as parameters to an IErrorReporter interface or something more ofthen than as method return values.</p>\n"},{"tags":[],"owner":{"account_id":89020,"reputation":67692,"user_id":245860,"accept_rate":82,"display_name":"Claudio Redi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1326997091,"creation_date":1273287487,"answer_id":2792783,"question_id":2792728,"body_markdown":"Very common for web service interfaces. It&#39;s very easy and standard to return a code with a description.\r\n\r\nI agree that for most of the scenarios is old school\r\n\r\nI&#39;d say the biggest disadvantages it&#39;s the quality of code. You have to add more complex logic to manage error codes while exceptions are bubbled without having to use method parameters or return values. \r\n\r\nYou also have to add an &quot;IF&quot; to check if the returned code is SUCCESS or not, while exceptions goes directly to the error handling block. ","title":"When is it appropriate to use error codes?","body":"<p>Very common for web service interfaces. It's very easy and standard to return a code with a description.</p>\n\n<p>I agree that for most of the scenarios is old school</p>\n\n<p>I'd say the biggest disadvantages it's the quality of code. You have to add more complex logic to manage error codes while exceptions are bubbled without having to use method parameters or return values. </p>\n\n<p>You also have to add an \"IF\" to check if the returned code is SUCCESS or not, while exceptions goes directly to the error handling block. </p>\n"},{"tags":[],"owner":{"account_id":66354,"reputation":5017,"user_id":194709,"display_name":"Chris O"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273288672,"creation_date":1273288672,"answer_id":2792816,"question_id":2792728,"body_markdown":"C#, and probably Java too, supports a better exception handling control flow, the finally keyword, which makes things a little nicer than using error codes.  An exception object can contain any level of detail, certainly much more than an error code.  So the exception object is way more practical, but you might run into an uncommon case where an error code would be more appropriate.\r\n\r\nFWIW, C++ also supports exception objects.  I don&#39;t think that C++ supports a finally keyword (though the newer C++ whatevers just might), but in C++ you also have to avoid things like returning inside a catch handler.","title":"When is it appropriate to use error codes?","body":"<p>C#, and probably Java too, supports a better exception handling control flow, the finally keyword, which makes things a little nicer than using error codes.  An exception object can contain any level of detail, certainly much more than an error code.  So the exception object is way more practical, but you might run into an uncommon case where an error code would be more appropriate.</p>\n\n<p>FWIW, C++ also supports exception objects.  I don't think that C++ supports a finally keyword (though the newer C++ whatevers just might), but in C++ you also have to avoid things like returning inside a catch handler.</p>\n"},{"tags":[],"owner":{"account_id":6356,"reputation":8963,"user_id":10659,"accept_rate":51,"display_name":"Loren Pechtel"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1376514349,"creation_date":1273291321,"answer_id":2792895,"question_id":2792728,"body_markdown":"**WITHIN** a program one should always use exceptions instead of error codes.  However, exceptions can&#39;t propagate beyond a program.  Any time the error must leave the program you are left with error messages or error codes.\r\n\r\nFor simple things that will always be human-operated error messages without codes are fine.  You can say &quot;File not found&quot; without giving it an error code.  However, if it might be another computer on the other end then you should give error codes in addition.  You don&#39;t want to break the other system when you change it to &quot;File &amp;lt;x&amp;gt; not found&quot;.","title":"When is it appropriate to use error codes?","body":"<p><strong>WITHIN</strong> a program one should always use exceptions instead of error codes.  However, exceptions can't propagate beyond a program.  Any time the error must leave the program you are left with error messages or error codes.</p>\n\n<p>For simple things that will always be human-operated error messages without codes are fine.  You can say \"File not found\" without giving it an error code.  However, if it might be another computer on the other end then you should give error codes in addition.  You don't want to break the other system when you change it to \"File &lt;x&gt; not found\".</p>\n"},{"tags":[],"owner":{"account_id":803864,"reputation":61,"user_id":335982,"display_name":"jqpdev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1273291611,"creation_date":1273291611,"answer_id":2792902,"question_id":2792728,"body_markdown":"I&#39;m a newbie to stack overflow but...\r\n\r\nI believe that error codes tend to be used or useful for dealing with erroneous situations that require an end-user of sorts to get involved to rectify a situation.  If your code is to be maintained by another developer then exceptions is the way to go.  However, in a situation where there is a problem:\r\n\r\n- in the environment that your application is running\r\n\r\n- with communication between your app and some other entity (web server, database, socket, etc)\r\n\r\n- that a device or device driver indicates (hardware failure maybe?)\r\n\r\nthen error codes may make sense.  For example, if your app attempted to log into a database on behalf of your end-user, but the DB was unreachable for authentication (DB is off-line, cable is unplugged) then an error code/description combo might help the end-user rectify the problem.\r\n\r\nAgain at the developer/engineer level who will be able to touch the source code (traditional debugging and testing techniques) and modify it, use exceptions.\r\n\r\nHope this helps...\r\n\r\n--jqpdev","title":"When is it appropriate to use error codes?","body":"<p>I'm a newbie to stack overflow but...</p>\n\n<p>I believe that error codes tend to be used or useful for dealing with erroneous situations that require an end-user of sorts to get involved to rectify a situation.  If your code is to be maintained by another developer then exceptions is the way to go.  However, in a situation where there is a problem:</p>\n\n<ul>\n<li><p>in the environment that your application is running</p></li>\n<li><p>with communication between your app and some other entity (web server, database, socket, etc)</p></li>\n<li><p>that a device or device driver indicates (hardware failure maybe?)</p></li>\n</ul>\n\n<p>then error codes may make sense.  For example, if your app attempted to log into a database on behalf of your end-user, but the DB was unreachable for authentication (DB is off-line, cable is unplugged) then an error code/description combo might help the end-user rectify the problem.</p>\n\n<p>Again at the developer/engineer level who will be able to touch the source code (traditional debugging and testing techniques) and modify it, use exceptions.</p>\n\n<p>Hope this helps...</p>\n\n<p>--jqpdev</p>\n"},{"tags":[],"owner":{"account_id":127699,"reputation":1475,"user_id":325042,"display_name":"WineSoaked"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273304834,"creation_date":1273304834,"answer_id":2793317,"question_id":2792728,"body_markdown":"I&#39;ve written many web services that are consumed by other (remote) applications. When things go badly with a request, customers more or less insist on getting a code, so that they don&#39;t have to do some horrific string comparison to find out what went wrong.\r\n\r\nTake HTTP result codes as a fine example of this sort of behavior. &quot;200&quot; means happy, &quot;300&quot; could go either way, &quot;400&quot; or &quot;500&quot; means start freaking out.","title":"When is it appropriate to use error codes?","body":"<p>I've written many web services that are consumed by other (remote) applications. When things go badly with a request, customers more or less insist on getting a code, so that they don't have to do some horrific string comparison to find out what went wrong.</p>\n\n<p>Take HTTP result codes as a fine example of this sort of behavior. \"200\" means happy, \"300\" could go either way, \"400\" or \"500\" means start freaking out.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273341174,"creation_date":1273341174,"answer_id":2795051,"question_id":2792728,"body_markdown":"Error codes were designed in an age where the only way for a function to tell the caller that something went wrong was to assign a special meaning to one or more values of those which can be returned, and very frequently only a native integer or so was available for returning that special value.\r\n\r\nFor instance, in C the &quot;get character&quot; routine returns the next character value in ASCII, but returns a negative value if for some reason something went wrong.  You are then responsible for returning to YOUR caller in a way so this error situation can be handled, and that must return etc.\r\n\r\nThe Exception mechanism is an elegant way to handle this &quot;this is an emergency, we must return from code until something can deal with the problem&quot;.  Error codes are inferior to this.","title":"When is it appropriate to use error codes?","body":"<p>Error codes were designed in an age where the only way for a function to tell the caller that something went wrong was to assign a special meaning to one or more values of those which can be returned, and very frequently only a native integer or so was available for returning that special value.</p>\n\n<p>For instance, in C the \"get character\" routine returns the next character value in ASCII, but returns a negative value if for some reason something went wrong.  You are then responsible for returning to YOUR caller in a way so this error situation can be handled, and that must return etc.</p>\n\n<p>The Exception mechanism is an elegant way to handle this \"this is an emergency, we must return from code until something can deal with the problem\".  Error codes are inferior to this.</p>\n"},{"tags":[],"owner":{"account_id":113401,"reputation":145171,"user_id":298661,"accept_rate":82,"display_name":"Puppy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273341589,"creation_date":1273341589,"answer_id":2795070,"question_id":2792728,"body_markdown":"Error codes are for if you want to send them to the user. If not, use an exception.","title":"When is it appropriate to use error codes?","body":"<p>Error codes are for if you want to send them to the user. If not, use an exception.</p>\n"},{"tags":[],"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636464598,"creation_date":1636464598,"answer_id":69899028,"question_id":2792728,"body_markdown":"Sometimes you don&#39;t want to give too much information to the user when an error occurs. For example, a user is not able to sign a new contract. The error message only states something generic like &quot;Cannot sign a new contract&quot;.\r\n\r\nThis adds difficulty to support cases where the user thinks this is not correct. If you have an error code, for example a number or an acronym, it could be part of the error message. The user wouldn&#39;t know what it means but the support staff could look it up and could then check if that specific reason for declining the new contract is indeed an error or not.","title":"When is it appropriate to use error codes?","body":"<p>Sometimes you don't want to give too much information to the user when an error occurs. For example, a user is not able to sign a new contract. The error message only states something generic like &quot;Cannot sign a new contract&quot;.</p>\n<p>This adds difficulty to support cases where the user thinks this is not correct. If you have an error code, for example a number or an acronym, it could be part of the error message. The user wouldn't know what it means but the support staff could look it up and could then check if that specific reason for declining the new contract is indeed an error or not.</p>\n"}],"owner":{"account_id":37161,"reputation":7215,"user_id":106189,"accept_rate":89,"display_name":"Jim Hurne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5555,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":2792895,"answer_count":11,"score":27,"last_activity_date":1636464598,"creation_date":1273286066,"question_id":2792728,"body_markdown":"In languages that support exception objects (Java, C#), when is it appropriate to use [error codes][1]? Is the use of error codes ever appropriate in typical enterprise applications?\r\n\r\nMany well-known software systems employ error codes (and a corresponding error code reference). Some examples include operating systems (Windows), databases (Oracle, DB2), and middle-ware products (WebLogic, WebSphere). What benefits do error codes provide? What are the disadvantages to using error codes?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Error_code","title":"When is it appropriate to use error codes?","body":"<p>In languages that support exception objects (Java, C#), when is it appropriate to use <a href=\"http://en.wikipedia.org/wiki/Error_code\" rel=\"noreferrer\">error codes</a>? Is the use of error codes ever appropriate in typical enterprise applications?</p>\n\n<p>Many well-known software systems employ error codes (and a corresponding error code reference). Some examples include operating systems (Windows), databases (Oracle, DB2), and middle-ware products (WebLogic, WebSphere). What benefits do error codes provide? What are the disadvantages to using error codes?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":9052135,"reputation":4116,"user_id":6741760,"accept_rate":57,"display_name":"JordanGS"},"score":0,"creation_date":1493931885,"post_id":43792427,"comment_id":74626239,"body_markdown":"were there any changes made to the project? what was the version of java and the version of maven that had it working? Have you tried cleaning the project?","body":"were there any changes made to the project? what was the version of java and the version of maven that had it working? Have you tried cleaning the project?"},{"owner":{"account_id":2879294,"reputation":1859,"user_id":2470533,"accept_rate":88,"display_name":"Ilya Buziuk"},"score":1,"creation_date":1493932576,"post_id":43792427,"comment_id":74626572,"body_markdown":"@JordanGC well, there were changes but nothing special that could break the build in such a way (other teammates does not seem to have this problem). 3.3.9 mvn with 1.8.0_91 java seemed to work just fine (Ubuntu 16.04)","body":"@JordanGC well, there were changes but nothing special that could break the build in such a way (other teammates does not seem to have this problem). 3.3.9 mvn with 1.8.0_91 java seemed to work just fine (Ubuntu 16.04)"},{"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":0,"creation_date":1493932762,"post_id":43792427,"comment_id":74626643,"body_markdown":"It looks like &quot;BuilderThread 2&quot; is waiting for some other process to finish. The problem may not be with maven at all.","body":"It looks like &quot;BuilderThread 2&quot; is waiting for some other process to finish. The problem may not be with maven at all."},{"owner":{"account_id":9052135,"reputation":4116,"user_id":6741760,"accept_rate":57,"display_name":"JordanGS"},"score":0,"creation_date":1493933102,"post_id":43792427,"comment_id":74626795,"body_markdown":"@IlyaBuziuk restart the computer, I&#39;m assuming you&#39;re using GitHub or some other source management system. Load the version you knew worked and try that. If it works, then your changes introduced a bug somewhere. if it doesn&#39;t work, then it&#39;s your environment. Looks to me like something is hijacking resources. Doesn&#39;t look like a maven issue as far as i can tell. The reason i said restart your computer is because as Rob said, thread 2 is waiting for another process to finish.","body":"@IlyaBuziuk restart the computer, I&#39;m assuming you&#39;re using GitHub or some other source management system. Load the version you knew worked and try that. If it works, then your changes introduced a bug somewhere. if it doesn&#39;t work, then it&#39;s your environment. Looks to me like something is hijacking resources. Doesn&#39;t look like a maven issue as far as i can tell. The reason i said restart your computer is because as Rob said, thread 2 is waiting for another process to finish."},{"owner":{"account_id":2879294,"reputation":1859,"user_id":2470533,"accept_rate":88,"display_name":"Ilya Buziuk"},"score":0,"creation_date":1493933634,"post_id":43792427,"comment_id":74626965,"body_markdown":"@JordanGS restart does not help :-) this looks like environment issue but it is just supper weird to get it out of the blue (I have not change env in any way as far as I can tell)","body":"@JordanGS restart does not help :-) this looks like environment issue but it is just supper weird to get it out of the blue (I have not change env in any way as far as I can tell)"},{"owner":{"account_id":9052135,"reputation":4116,"user_id":6741760,"accept_rate":57,"display_name":"JordanGS"},"score":0,"creation_date":1493933778,"post_id":43792427,"comment_id":74627024,"body_markdown":"@IlyaBuziuk the first thing i would do is check if the version from 6 months ago works, if it doesn&#39;t then it&#39;s the environment. In which case i would get a second PC or VM and install what i need which is Java and Maven, then try to compile the project. If it works on the machine which just got configured and doesn&#39;t have anything running in the background. Then there&#39;s something which changed in your current machine. At that point i would just backup files and nuke the machine personally. Since it takes 30-60minutes to do a backup and reinstall the OS whereas troubleshooting could take hours","body":"@IlyaBuziuk the first thing i would do is check if the version from 6 months ago works, if it doesn&#39;t then it&#39;s the environment. In which case i would get a second PC or VM and install what i need which is Java and Maven, then try to compile the project. If it works on the machine which just got configured and doesn&#39;t have anything running in the background. Then there&#39;s something which changed in your current machine. At that point i would just backup files and nuke the machine personally. Since it takes 30-60minutes to do a backup and reinstall the OS whereas troubleshooting could take hours"},{"owner":{"account_id":2879294,"reputation":1859,"user_id":2470533,"accept_rate":88,"display_name":"Ilya Buziuk"},"score":0,"creation_date":1493934062,"post_id":43792427,"comment_id":74627144,"body_markdown":"@JordanGS sounds relevant but I just do not want to reinstall OS every time I hit some build issue ;-)","body":"@JordanGS sounds relevant but I just do not want to reinstall OS every time I hit some build issue ;-)"},{"owner":{"account_id":9052135,"reputation":4116,"user_id":6741760,"accept_rate":57,"display_name":"JordanGS"},"score":0,"creation_date":1493934478,"post_id":43792427,"comment_id":74627295,"body_markdown":"@IlyaBuziuk first figure out if it&#39;s the environment, if it is. Then try to narrow down if it&#39;s a thread issue and go from there. We need to narrow down what it could be because as of right now, there&#39;s too many possibilities.\n\nIf you use jvisualvm.exe then you can watch the threads for the application and look at a heap dump.","body":"@IlyaBuziuk first figure out if it&#39;s the environment, if it is. Then try to narrow down if it&#39;s a thread issue and go from there. We need to narrow down what it could be because as of right now, there&#39;s too many possibilities.  If you use jvisualvm.exe then you can watch the threads for the application and look at a heap dump."}],"answers":[{"tags":[],"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1519944518,"creation_date":1519944518,"answer_id":49059946,"question_id":43792427,"body_markdown":"Maven 3.5.x has some pretty terrible bugs, namely: \r\n\r\n - [Metadata download hangs for repository with cache lifetime](https://issues.apache.org/jira/browse/MNG-6307) \r\n - [Maven dependency resolution locks up](https://issues.apache.org/jira/browse/MNG-5592) \r\n\r\nWhat is specifically happening is that if you are building a project with submodules or multiple projects, Maven 3.5.x sporadically locks up when downloading duplicate dependencies. **Example:** Let spring-expression-4.3.5.RELEASE be a dependency of two or more project POMs. It&#39;s downloaded into the Maven Repo by project 1 at &quot;.m2\\repository\\org\\springframework\\spring-expression\\4.3.5.RELEASE\\spring-expression-4.3.5.RELEASE.jar&quot; (of course, with the POM and checksum files). When project 2 goes to check/download the same dependency in the same location, it locks up for 20 minutes and then reports &quot;0 B&quot; was downloaded in the logs. \r\n\r\nUntil the Maven team addresses this issue in the 3.5.x releases, we pulled back to **Maven 3.3.9** and the problem vanished. (NOTE: This was regularly reproducible at the same point in dependency resolution in our project.) ","title":"maven hangs for ~20 mins during the project build (used to work fine)","body":"<p>Maven 3.5.x has some pretty terrible bugs, namely: </p>\n\n<ul>\n<li><a href=\"https://issues.apache.org/jira/browse/MNG-6307\" rel=\"noreferrer\">Metadata download hangs for repository with cache lifetime</a> </li>\n<li><a href=\"https://issues.apache.org/jira/browse/MNG-5592\" rel=\"noreferrer\">Maven dependency resolution locks up</a> </li>\n</ul>\n\n<p>What is specifically happening is that if you are building a project with submodules or multiple projects, Maven 3.5.x sporadically locks up when downloading duplicate dependencies. <strong>Example:</strong> Let spring-expression-4.3.5.RELEASE be a dependency of two or more project POMs. It's downloaded into the Maven Repo by project 1 at \".m2\\repository\\org\\springframework\\spring-expression\\4.3.5.RELEASE\\spring-expression-4.3.5.RELEASE.jar\" (of course, with the POM and checksum files). When project 2 goes to check/download the same dependency in the same location, it locks up for 20 minutes and then reports \"0 B\" was downloaded in the logs. </p>\n\n<p>Until the Maven team addresses this issue in the 3.5.x releases, we pulled back to <strong>Maven 3.3.9</strong> and the problem vanished. (NOTE: This was regularly reproducible at the same point in dependency resolution in our project.) </p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519944767,"creation_date":1519944767,"answer_id":49059991,"question_id":43792427,"body_markdown":"You could try https://github.com/jcgay/maven-profiler to profile the build process. Perhaps it&#39;s an issue in specific plugin e.g. surefire taking 20 mins because someone committed a test with  `Thread.sleep(1200000);`.","title":"maven hangs for ~20 mins during the project build (used to work fine)","body":"<p>You could try <a href=\"https://github.com/jcgay/maven-profiler\" rel=\"nofollow noreferrer\">https://github.com/jcgay/maven-profiler</a> to profile the build process. Perhaps it's an issue in specific plugin e.g. surefire taking 20 mins because someone committed a test with  <code>Thread.sleep(1200000);</code>.</p>\n"},{"tags":[],"owner":{"account_id":3216824,"reputation":311,"user_id":2715285,"display_name":"Yordan Boev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636464478,"creation_date":1636463513,"answer_id":69898764,"question_id":43792427,"body_markdown":"I have been having the maven problem with hanging artifactory download on my Ubuntu (21.10) with all of the following versions:\r\n- 3.3.9\r\n- 3.6.3\r\n- 3.8.4\r\n\r\nMaven hangs while downloading a dependency from artifactory server.\r\nIf you actually go to the .m2/repository/...&lt;hanging artifact&gt; you will see there is a .lock file and the artifact is a part files with 0 size. Maven seems to induce a deadlock to itself.\r\n\r\nI tried using 1 thread:\r\n\r\n    mvn -T 1 clean verify\r\n\r\ndid not help much. I also tried adding this to my ~/.mavenrc:\r\n\r\n    -Dmaven.artifact.threads=1\r\n\r\nalso did not help.\r\n\r\nWhat seems to solve the issue is deleting the lock files on the hanging dependency.Either by going to the dependency directory or within the m2 repository like this:\r\n\r\n    cd ~/\r\n    rm -rf .m2/repository/**.lock\r\n\r\n","title":"maven hangs for ~20 mins during the project build (used to work fine)","body":"<p>I have been having the maven problem with hanging artifactory download on my Ubuntu (21.10) with all of the following versions:</p>\n<ul>\n<li>3.3.9</li>\n<li>3.6.3</li>\n<li>3.8.4</li>\n</ul>\n<p>Maven hangs while downloading a dependency from artifactory server.\nIf you actually go to the .m2/repository/... you will see there is a .lock file and the artifact is a part files with 0 size. Maven seems to induce a deadlock to itself.</p>\n<p>I tried using 1 thread:</p>\n<pre><code>mvn -T 1 clean verify\n</code></pre>\n<p>did not help much. I also tried adding this to my ~/.mavenrc:</p>\n<pre><code>-Dmaven.artifact.threads=1\n</code></pre>\n<p>also did not help.</p>\n<p>What seems to solve the issue is deleting the lock files on the hanging dependency.Either by going to the dependency directory or within the m2 repository like this:</p>\n<pre><code>cd ~/\nrm -rf .m2/repository/**.lock\n</code></pre>\n"}],"owner":{"account_id":2879294,"reputation":1859,"user_id":2470533,"accept_rate":88,"display_name":"Ilya Buziuk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13260,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":49059946,"answer_count":3,"score":10,"last_activity_date":1636464478,"creation_date":1493930533,"question_id":43792427,"body_markdown":"Building this maven project used to work just fine for quite a while (6 month), but today while executing `mvn clean install` the build start hanging every single time (tried with different versions of mvn including the latest 3.5.0 and against both openJDK &amp; Oracle JDK - result is the same)  \r\n\r\n`kill -3 PID` output\r\n\r\n    &quot;resolver-5&quot; #491 daemon prio=5 os_prio=0 tid=0x00007f6da8bd3800 nid=0x16b3 waiting on condition [0x00007f6d68df3000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;resolver-4&quot; #490 daemon prio=5 os_prio=0 tid=0x00007f6da8bd2800 nid=0x16b2 waiting on condition [0x00007f6d69945000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;resolver-3&quot; #489 daemon prio=5 os_prio=0 tid=0x00007f6da8bd9000 nid=0x16b1 waiting on condition [0x00007f6de97bc000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;resolver-2&quot; #488 daemon prio=5 os_prio=0 tid=0x00007f6da8bd8800 nid=0x16b0 waiting on condition [0x00007f6de940e000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;resolver-1&quot; #487 daemon prio=5 os_prio=0 tid=0x00007f6da8bd7800 nid=0x16af waiting on condition [0x00007f6de930d000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;Thread-14&quot; #34 daemon prio=5 os_prio=0 tid=0x00007f6d9c0e7800 nid=0x73cd in Object.wait() [0x00007f6de99f7000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat org.apache.tools.ant.taskdefs.StreamPumper.waitForInput(StreamPumper.java:245)\r\n    \t- locked &lt;0x00000006cbe26170&gt; (a org.apache.tools.ant.taskdefs.StreamPumper)\r\n    \tat org.apache.tools.ant.taskdefs.StreamPumper.run(StreamPumper.java:125)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;Thread-13&quot; #33 daemon prio=5 os_prio=0 tid=0x00007f6d9c10a800 nid=0x73cb in Object.wait() [0x00007f6de9af8000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat org.apache.tools.ant.taskdefs.StreamPumper.waitForInput(StreamPumper.java:245)\r\n    \t- locked &lt;0x00000006cbe4a7d8&gt; (a org.apache.tools.ant.taskdefs.StreamPumper)\r\n    \tat org.apache.tools.ant.taskdefs.StreamPumper.run(StreamPumper.java:125)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;BuilderThread 3&quot; #19 prio=5 os_prio=0 tid=0x00007f6e00927800 nid=0x7373 waiting on condition [0x00007f6dea27d000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;BuilderThread 2&quot; #18 prio=5 os_prio=0 tid=0x00007f6e00926800 nid=0x7372 in Object.wait() [0x00007f6dea49b000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000006cb6c4780&gt; (a java.lang.UNIXProcess)\r\n    \tat java.lang.Object.wait(Object.java:502)\r\n    \tat java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)\r\n    \t- locked &lt;0x00000006cb6c4780&gt; (a java.lang.UNIXProcess)\r\n    \tat org.apache.tools.ant.taskdefs.Execute.waitFor(Execute.java:534)\r\n    \tat org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:463)\r\n    \tat org.apache.tools.ant.taskdefs.ExecTask.runExecute(ExecTask.java:628)\r\n    \tat org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:669)\r\n    \tat org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:495)\r\n    \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n    \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n    \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n    \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n    \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\r\n    \tat org.apache.tools.ant.Project.executeTarget(Project.java:1364)\r\n    \tat org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:313)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:200)\r\n    \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:196)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;BuilderThread 1&quot; #17 prio=5 os_prio=0 tid=0x00007f6e00926000 nid=0x7371 waiting on condition [0x00007f6dea39b000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;process reaper&quot; #12 daemon prio=10 os_prio=0 tid=0x00007f6db02a8800 nid=0x7369 runnable [0x00007f6dea4d5000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.lang.UNIXProcess.waitForProcessExit(Native Method)\r\n    \tat java.lang.UNIXProcess.lambda$initStreams$3(UNIXProcess.java:289)\r\n    \tat java.lang.UNIXProcess$$Lambda$7/747506922.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;BuilderThread 0&quot; #10 prio=5 os_prio=0 tid=0x00007f6e008d4800 nid=0x7367 waiting on condition [0x00007f6dea803000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    &quot;Service Thread&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f6e000c2800 nid=0x7355 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C1 CompilerThread2&quot; #7 daemon prio=9 os_prio=0 tid=0x00007f6e000b3000 nid=0x7354 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread1&quot; #6 daemon prio=9 os_prio=0 tid=0x00007f6e000b1800 nid=0x7353 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 tid=0x00007f6e000ae800 nid=0x7352 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f6e000ac800 nid=0x7351 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f6e00084000 nid=0x7350 in Object.wait() [0x00007f6df05f4000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n    \t- locked &lt;0x00000006c231e5c8&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n    \tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n    \r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f6e0007f800 nid=0x734f in Object.wait() [0x00007f6df06f5000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \tat java.lang.Object.wait(Object.java:502)\r\n    \tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n    \t- locked &lt;0x00000006c2dd4ae0&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n    \r\n    &quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007f6e0000a800 nid=0x7349 waiting on condition [0x00007f6e0a5e2000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat sun.misc.Unsafe.park(Native Method)\r\n    \t- parking to wait for  &lt;0x00000006c6280d98&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n    \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    \tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    \tat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    \tat java.util.concurrent.ExecutorCompletionService.take(ExecutorCompletionService.java:193)\r\n    \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder.multiThreadedProjectTaskSegmentBuild(MultiThreadedBuilder.java:140)\r\n    \tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder.build(MultiThreadedBuilder.java:101)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    \r\n    &quot;VM Thread&quot; os_prio=0 tid=0x00007f6e00077800 nid=0x734e runnable \r\n    \r\n    &quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f6e0001f800 nid=0x734a runnable \r\n    \r\n    &quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f6e00021000 nid=0x734b runnable \r\n    \r\n    &quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f6e00023000 nid=0x734c runnable \r\n    \r\n    &quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f6e00024800 nid=0x734d runnable \r\n    \r\n    &quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f6e000c5000 nid=0x7356 waiting on condition \r\n    \r\n    JNI global references: 280\r\n    \r\n    Heap\r\n     PSYoungGen      total 1161728K, used 704160K [0x000000076ab00000, 0x00000007c0000000, 0x00000007c0000000)\r\n      eden space 979968K, 53% used [0x000000076ab00000,0x000000078a929980,0x00000007a6800000)\r\n      from space 181760K, 99% used [0x00000007b4e80000,0x00000007bfffe8f0,0x00000007c0000000)\r\n      to   space 208896K, 0% used [0x00000007a6800000,0x00000007a6800000,0x00000007b3400000)\r\n     ParOldGen       total 1211904K, used 320544K [0x00000006c0000000, 0x0000000709f80000, 0x000000076ab00000)\r\n      object space 1211904K, 26% used [0x00000006c0000000,0x00000006d3908220,0x0000000709f80000)\r\n     Metaspace       used 92817K, capacity 96210K, committed 96512K, reserved 1134592K\r\n      class space    used 10910K, capacity 11975K, committed 12032K, reserved 1048576K\r\n\r\nIs it some weird deadlock issue ?\r\nThanks in advance!\r\n\r\n**UPDATE**\r\nActually the build does not hang forever (**only** 20 - 25 mins). Still it is not clear what is the reason\r\n","title":"maven hangs for ~20 mins during the project build (used to work fine)","body":"<p>Building this maven project used to work just fine for quite a while (6 month), but today while executing <code>mvn clean install</code> the build start hanging every single time (tried with different versions of mvn including the latest 3.5.0 and against both openJDK &amp; Oracle JDK - result is the same)  </p>\n\n<p><code>kill -3 PID</code> output</p>\n\n<pre><code>\"resolver-5\" #491 daemon prio=5 os_prio=0 tid=0x00007f6da8bd3800 nid=0x16b3 waiting on condition [0x00007f6d68df3000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"resolver-4\" #490 daemon prio=5 os_prio=0 tid=0x00007f6da8bd2800 nid=0x16b2 waiting on condition [0x00007f6d69945000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"resolver-3\" #489 daemon prio=5 os_prio=0 tid=0x00007f6da8bd9000 nid=0x16b1 waiting on condition [0x00007f6de97bc000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"resolver-2\" #488 daemon prio=5 os_prio=0 tid=0x00007f6da8bd8800 nid=0x16b0 waiting on condition [0x00007f6de940e000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"resolver-1\" #487 daemon prio=5 os_prio=0 tid=0x00007f6da8bd7800 nid=0x16af waiting on condition [0x00007f6de930d000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c658c4a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"Thread-14\" #34 daemon prio=5 os_prio=0 tid=0x00007f6d9c0e7800 nid=0x73cd in Object.wait() [0x00007f6de99f7000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.apache.tools.ant.taskdefs.StreamPumper.waitForInput(StreamPumper.java:245)\n    - locked &lt;0x00000006cbe26170&gt; (a org.apache.tools.ant.taskdefs.StreamPumper)\n    at org.apache.tools.ant.taskdefs.StreamPumper.run(StreamPumper.java:125)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"Thread-13\" #33 daemon prio=5 os_prio=0 tid=0x00007f6d9c10a800 nid=0x73cb in Object.wait() [0x00007f6de9af8000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.apache.tools.ant.taskdefs.StreamPumper.waitForInput(StreamPumper.java:245)\n    - locked &lt;0x00000006cbe4a7d8&gt; (a org.apache.tools.ant.taskdefs.StreamPumper)\n    at org.apache.tools.ant.taskdefs.StreamPumper.run(StreamPumper.java:125)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"BuilderThread 3\" #19 prio=5 os_prio=0 tid=0x00007f6e00927800 nid=0x7373 waiting on condition [0x00007f6dea27d000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"BuilderThread 2\" #18 prio=5 os_prio=0 tid=0x00007f6e00926800 nid=0x7372 in Object.wait() [0x00007f6dea49b000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000006cb6c4780&gt; (a java.lang.UNIXProcess)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)\n    - locked &lt;0x00000006cb6c4780&gt; (a java.lang.UNIXProcess)\n    at org.apache.tools.ant.taskdefs.Execute.waitFor(Execute.java:534)\n    at org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:463)\n    at org.apache.tools.ant.taskdefs.ExecTask.runExecute(ExecTask.java:628)\n    at org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:669)\n    at org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:495)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n    at org.apache.tools.ant.Task.perform(Task.java:348)\n    at org.apache.tools.ant.Target.execute(Target.java:435)\n    at org.apache.tools.ant.Target.performTasks(Target.java:456)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n    at org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:313)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:200)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:196)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"BuilderThread 1\" #17 prio=5 os_prio=0 tid=0x00007f6e00926000 nid=0x7371 waiting on condition [0x00007f6dea39b000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"process reaper\" #12 daemon prio=10 os_prio=0 tid=0x00007f6db02a8800 nid=0x7369 runnable [0x00007f6dea4d5000]\n   java.lang.Thread.State: RUNNABLE\n    at java.lang.UNIXProcess.waitForProcessExit(Native Method)\n    at java.lang.UNIXProcess.lambda$initStreams$3(UNIXProcess.java:289)\n    at java.lang.UNIXProcess$$Lambda$7/747506922.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"BuilderThread 0\" #10 prio=5 os_prio=0 tid=0x00007f6e008d4800 nid=0x7367 waiting on condition [0x00007f6dea803000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c6284f48&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\"Service Thread\" #8 daemon prio=9 os_prio=0 tid=0x00007f6e000c2800 nid=0x7355 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\"C1 CompilerThread2\" #7 daemon prio=9 os_prio=0 tid=0x00007f6e000b3000 nid=0x7354 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\"C2 CompilerThread1\" #6 daemon prio=9 os_prio=0 tid=0x00007f6e000b1800 nid=0x7353 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\"C2 CompilerThread0\" #5 daemon prio=9 os_prio=0 tid=0x00007f6e000ae800 nid=0x7352 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\"Signal Dispatcher\" #4 daemon prio=9 os_prio=0 tid=0x00007f6e000ac800 nid=0x7351 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\"Finalizer\" #3 daemon prio=8 os_prio=0 tid=0x00007f6e00084000 nid=0x7350 in Object.wait() [0x00007f6df05f4000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\n    - locked &lt;0x00000006c231e5c8&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\n\n\"Reference Handler\" #2 daemon prio=10 os_prio=0 tid=0x00007f6e0007f800 nid=0x734f in Object.wait() [0x00007f6df06f5000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n    - locked &lt;0x00000006c2dd4ae0&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n\n\"main\" #1 prio=5 os_prio=0 tid=0x00007f6e0000a800 nid=0x7349 waiting on condition [0x00007f6e0a5e2000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000006c6280d98&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at java.util.concurrent.ExecutorCompletionService.take(ExecutorCompletionService.java:193)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder.multiThreadedProjectTaskSegmentBuild(MultiThreadedBuilder.java:140)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder.build(MultiThreadedBuilder.java:101)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n\n\"VM Thread\" os_prio=0 tid=0x00007f6e00077800 nid=0x734e runnable \n\n\"GC task thread#0 (ParallelGC)\" os_prio=0 tid=0x00007f6e0001f800 nid=0x734a runnable \n\n\"GC task thread#1 (ParallelGC)\" os_prio=0 tid=0x00007f6e00021000 nid=0x734b runnable \n\n\"GC task thread#2 (ParallelGC)\" os_prio=0 tid=0x00007f6e00023000 nid=0x734c runnable \n\n\"GC task thread#3 (ParallelGC)\" os_prio=0 tid=0x00007f6e00024800 nid=0x734d runnable \n\n\"VM Periodic Task Thread\" os_prio=0 tid=0x00007f6e000c5000 nid=0x7356 waiting on condition \n\nJNI global references: 280\n\nHeap\n PSYoungGen      total 1161728K, used 704160K [0x000000076ab00000, 0x00000007c0000000, 0x00000007c0000000)\n  eden space 979968K, 53% used [0x000000076ab00000,0x000000078a929980,0x00000007a6800000)\n  from space 181760K, 99% used [0x00000007b4e80000,0x00000007bfffe8f0,0x00000007c0000000)\n  to   space 208896K, 0% used [0x00000007a6800000,0x00000007a6800000,0x00000007b3400000)\n ParOldGen       total 1211904K, used 320544K [0x00000006c0000000, 0x0000000709f80000, 0x000000076ab00000)\n  object space 1211904K, 26% used [0x00000006c0000000,0x00000006d3908220,0x0000000709f80000)\n Metaspace       used 92817K, capacity 96210K, committed 96512K, reserved 1134592K\n  class space    used 10910K, capacity 11975K, committed 12032K, reserved 1048576K\n</code></pre>\n\n<p>Is it some weird deadlock issue ?\nThanks in advance!</p>\n\n<p><strong>UPDATE</strong>\nActually the build does not hang forever (<strong>only</strong> 20 - 25 mins). Still it is not clear what is the reason</p>\n"},{"tags":["java","junit","temporary-files","temp"],"answers":[{"tags":[],"owner":{"account_id":10995027,"reputation":46,"user_id":8077547,"display_name":"Arteta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636464310,"creation_date":1636464310,"answer_id":69898959,"question_id":68984553,"body_markdown":"In a similar case we faced, we had to remove the &quot;private&quot; modifier to make it working and having an injected value, as it:\r\n\r\n    @TempDir\r\n    Path tempPath;","title":"How to create a temp directory outside of a test with JUnit 5?","body":"<p>In a similar case we faced, we had to remove the &quot;private&quot; modifier to make it working and having an injected value, as it:</p>\n<pre><code>@TempDir\nPath tempPath;\n</code></pre>\n"}],"owner":{"account_id":11902885,"reputation":373,"user_id":8710332,"display_name":"Panossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636464310,"creation_date":1630328124,"question_id":68984553,"body_markdown":"so I like the JUnit 5 feature where you can just write in a test:\r\n```\r\n@TempDir\r\nprivate Path tempPath;\r\n```\r\n... and JUnit will manage a temporary file for you. \r\n\r\nHowever, this seems to only be working if you use this annotation inside an actual test class. We have, currently, a setup where our custom JUnit extension is using the BeforeAllCallback lifecycle state to generate a temporary directory and backup some local files so we can edit them.\r\n\r\nIf we use `@TempDir` in there, it&#39;s just null. The cause seems to be that `@TempDir` is only supposed to be used in actual test files and there&#39;s even a [ticket on GitHub][1] closed regarding that, stating it &quot;works as intended&quot;.\r\n\r\nI found two possibilies to achieve what we need but I&#39;m not sure if those are correct and how to use them. One is `AnnotationSupport` which seems to be fitting but I can&#39;t find examples. One is `TempDirectory` which is used by `TempDir` or uses `TempDir`. But I don&#39;t see how I would actually use both.\r\n\r\nOr is this just a case where we have to implement this ourselves and/or use some maven package (I don&#39;t know any)?\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/2208","title":"How to create a temp directory outside of a test with JUnit 5?","body":"<p>so I like the JUnit 5 feature where you can just write in a test:</p>\n<pre><code>@TempDir\nprivate Path tempPath;\n</code></pre>\n<p>... and JUnit will manage a temporary file for you.</p>\n<p>However, this seems to only be working if you use this annotation inside an actual test class. We have, currently, a setup where our custom JUnit extension is using the BeforeAllCallback lifecycle state to generate a temporary directory and backup some local files so we can edit them.</p>\n<p>If we use <code>@TempDir</code> in there, it's just null. The cause seems to be that <code>@TempDir</code> is only supposed to be used in actual test files and there's even a <a href=\"https://github.com/junit-team/junit5/issues/2208\" rel=\"nofollow noreferrer\">ticket on GitHub</a> closed regarding that, stating it &quot;works as intended&quot;.</p>\n<p>I found two possibilies to achieve what we need but I'm not sure if those are correct and how to use them. One is <code>AnnotationSupport</code> which seems to be fitting but I can't find examples. One is <code>TempDirectory</code> which is used by <code>TempDir</code> or uses <code>TempDir</code>. But I don't see how I would actually use both.</p>\n<p>Or is this just a case where we have to implement this ourselves and/or use some maven package (I don't know any)?</p>\n"},{"tags":["java","drools","jbpm","kie"],"comments":[{"owner":{"account_id":2963,"reputation":5270,"user_id":4206,"accept_rate":75,"display_name":"Luca Molteni"},"score":0,"creation_date":1634745284,"post_id":69642586,"comment_id":123109593,"body_markdown":"I&#39;m not sure I understood, if you&#39;ve created two KieSession why it says there are two Kie Bases?","body":"I&#39;m not sure I understood, if you&#39;ve created two KieSession why it says there are two Kie Bases?"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1634763566,"post_id":69642586,"comment_id":123116574,"body_markdown":"Can you share your config (kmodule.xml)?","body":"Can you share your config (kmodule.xml)?"}],"answers":[{"tags":[],"owner":{"account_id":9510824,"reputation":51,"user_id":7740339,"display_name":"Jovana Vajagic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636464097,"creation_date":1635178627,"answer_id":69711512,"question_id":69642586,"body_markdown":"For all people having this issue, here is the reason - there is a bug in the version 7.0.\r\nReference - https://issues.redhat.com/browse/DROOLS-1740?page=com.jsoft.jira.plugins.jira-slack%3Aslack-tabpanel&amp;_sscc=t\r\nIt is resolved, but NOT for all 7.x versions (and of course, not in the one I am using)\r\nThe full list can be seen here -https://github.com/kiegroup/drools/commit/1c2a4eb2924f4942e31e611f095f1223ee2fb5cf.","title":"Found more than one default KieBase","body":"<p>For all people having this issue, here is the reason - there is a bug in the version 7.0.\nReference - <a href=\"https://issues.redhat.com/browse/DROOLS-1740?page=com.jsoft.jira.plugins.jira-slack%3Aslack-tabpanel&amp;_sscc=t\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/DROOLS-1740?page=com.jsoft.jira.plugins.jira-slack%3Aslack-tabpanel&amp;_sscc=t</a>\nIt is resolved, but NOT for all 7.x versions (and of course, not in the one I am using)\nThe full list can be seen here -https://github.com/kiegroup/drools/commit/1c2a4eb2924f4942e31e611f095f1223ee2fb5cf.</p>\n"}],"owner":{"account_id":9510824,"reputation":51,"user_id":7740339,"display_name":"Jovana Vajagic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636464097,"creation_date":1634718062,"question_id":69642586,"body_markdown":"I have the following error (warning) in the server.log:\r\n\r\n10:07:18,262 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default KieBase: disabling all. KieBases will be accessible only by name\r\n10:07:18,263 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default StatelessKieSession: disabling all. StatelessKieSessions will be accessible only by name\r\n10:07:18,263 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default KieSession: disabling all. KieSessions will be accessible only by name\r\n\r\nI believe it could be related to the issue I am facing - all requests are accepted one by one, by Kie server API, however I need multi-threading. \r\nIn order to do that, I have tried to create one Kie Base in the Business Central and 2 different Stateless Kie Sessions for this particular project. I couldn&#39;t deploy the project in that case (error I get  java.lang.RuntimeException: Cannot find a default KieSession)\r\n\r\nAnyone had this issue before?\r\nNote - this project has dependencies to 2 other projects. Also the runtime strategy is &quot;Per request&quot;.\r\n\r\nThanks in advance!","title":"Found more than one default KieBase","body":"<p>I have the following error (warning) in the server.log:</p>\n<p>10:07:18,262 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default KieBase: disabling all. KieBases will be accessible only by name\n10:07:18,263 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default StatelessKieSession: disabling all. StatelessKieSessions will be accessible only by name\n10:07:18,263 WARN  [org.drools.compiler.kie.builder.impl.KieProject] (default task-6) Found more than one default KieSession: disabling all. KieSessions will be accessible only by name</p>\n<p>I believe it could be related to the issue I am facing - all requests are accepted one by one, by Kie server API, however I need multi-threading.\nIn order to do that, I have tried to create one Kie Base in the Business Central and 2 different Stateless Kie Sessions for this particular project. I couldn't deploy the project in that case (error I get  java.lang.RuntimeException: Cannot find a default KieSession)</p>\n<p>Anyone had this issue before?\nNote - this project has dependencies to 2 other projects. Also the runtime strategy is &quot;Per request&quot;.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","testing","automation","testng","rest-assured"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1636468760,"post_id":69898780,"comment_id":123561569,"body_markdown":"There should be an Assertion on the request. If you expect the API to return 400 Bad Request then you can assert that with Rest-Assured. You can also make assertions on the response of the API","body":"There should be an Assertion on the request. If you expect the API to return 400 Bad Request then you can assert that with Rest-Assured. You can also make assertions on the response of the API"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1636469813,"post_id":69898780,"comment_id":123562025,"body_markdown":"Could you provide sample  your`opco_id test data`?","body":"Could you provide sample  your<code>opco_id test data</code>?"}],"owner":{"account_id":22583401,"reputation":1,"user_id":16767745,"display_name":"Sachini Jayasuriya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636463570,"creation_date":1636463570,"question_id":69898780,"body_markdown":"Here, I tried to verify that my opco_id test data do not exceed the maximum length of three digits. When I run the test script, it failed. I am a newbie to automation testing. Can anyone help me to solve it? you can use any kind of example you prefer to explain it.\r\n\r\n","title":"How to verify a input do not exceed the the maximum length using automation testing?","body":"<p>Here, I tried to verify that my opco_id test data do not exceed the maximum length of three digits. When I run the test script, it failed. I am a newbie to automation testing. Can anyone help me to solve it? you can use any kind of example you prefer to explain it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","entity-attribute-value"],"comments":[{"owner":{"account_id":5012020,"reputation":2682,"user_id":4028009,"display_name":"Evgeny  Bovykin"},"score":0,"creation_date":1636363440,"post_id":69872847,"comment_id":123526994,"body_markdown":"Does this answer your question? [JPA 2 Custom Entity Fields](https://stackoverflow.com/questions/22786493/jpa-2-custom-entity-fields)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22786493/jpa-2-custom-entity-fields\">JPA 2 Custom Entity Fields</a>"},{"owner":{"account_id":7843073,"reputation":36,"user_id":5928918,"display_name":"akash jadhav"},"score":0,"creation_date":1636435397,"post_id":69872847,"comment_id":123549376,"body_markdown":"I got this Question as a reference but still having hard time to grasp. [JPA 2 custom entity fields](https://stackoverflow.com/questions/22786493/jpa-2-custom-entity-fields)","body":"I got this Question as a reference but still having hard time to grasp. <a href=\"https://stackoverflow.com/questions/22786493/jpa-2-custom-entity-fields\">JPA 2 custom entity fields</a>"},{"owner":{"account_id":7843073,"reputation":36,"user_id":5928918,"display_name":"akash jadhav"},"score":0,"creation_date":1636442842,"post_id":69872847,"comment_id":123551149,"body_markdown":"found this Video of how to design DB for EAV model, i find it feasible and may move in this direction. not sure about JAVA implementation of this approach. [EAV Zero to EAV Hero](https://www.youtube.com/watch?v=WneHTRZVbec&amp;t=20s)","body":"found this Video of how to design DB for EAV model, i find it feasible and may move in this direction. not sure about JAVA implementation of this approach. <a href=\"https://www.youtube.com/watch?v=WneHTRZVbec&amp;t=20s\" rel=\"nofollow noreferrer\">EAV Zero to EAV Hero</a>"}],"owner":{"account_id":7843073,"reputation":36,"user_id":5928918,"display_name":"akash jadhav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636463151,"creation_date":1636291428,"question_id":69872847,"body_markdown":"For my &#39;School Management Project&#39; I am using Spring Boot REST, hibernate Data JPA and MySQL as Database. \r\n\r\nI have one Student class which has 5 attributes.\r\n\r\nI want to implement a feature which will allow Admin to add few more attributes to the Student class from UI, and the attribute will be of fixed data types (String, Boolean, Integer, float, double).\r\n\r\nthis is because we can not predict all the Student properties beforehand. So user will see a page were he can add the Attribute name its Data type and the class on which he wants to add the property.\r\n\r\nNext time any user creates new entry of Student, he will see new attributes added for student by Admin as well as default attributes from POJO.\r\n\r\nhow hibernate will create DTO which will have attributes from POJO Student class and also from custom attributes from DB which we had added later? \r\nAlso how Student DTO will be saved with all the POJO and custom attributes?\r\n\r\nafter looking on I came to know that this approach is called EAV &#39;Entity Attribute Value&#39;\r\n\r\nbut did not found any examples on the internet \r\n\r\n**UPDATE 1:** found this Video of how to design DB for EAV model, I find it feasible and may move in this direction. Not sure about JAVA implementation of this approach. [EAV Zero to EAV Hero](https://www.youtube.com/watch?v=WneHTRZVbec&amp;t=20s)\r\n\r\nhere are some Links I found but I am still not getting the point\r\n\r\n[How to store data with dynamic number of attributes in a database][1]\r\n\r\n[EAV is it really bad in all scenarios][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1444462/how-to-store-data-with-dynamic-number-of-attributes-in-a-database\r\n  [2]: https://softwareengineering.stackexchange.com/questions/93124/eav-is-it-really-bad-in-all-scenarios","title":"EAV: Adding Attributes dynamically to a JAVA Class in Spring Boot Hibernate","body":"<p>For my 'School Management Project' I am using Spring Boot REST, hibernate Data JPA and MySQL as Database.</p>\n<p>I have one Student class which has 5 attributes.</p>\n<p>I want to implement a feature which will allow Admin to add few more attributes to the Student class from UI, and the attribute will be of fixed data types (String, Boolean, Integer, float, double).</p>\n<p>this is because we can not predict all the Student properties beforehand. So user will see a page were he can add the Attribute name its Data type and the class on which he wants to add the property.</p>\n<p>Next time any user creates new entry of Student, he will see new attributes added for student by Admin as well as default attributes from POJO.</p>\n<p>how hibernate will create DTO which will have attributes from POJO Student class and also from custom attributes from DB which we had added later?\nAlso how Student DTO will be saved with all the POJO and custom attributes?</p>\n<p>after looking on I came to know that this approach is called EAV 'Entity Attribute Value'</p>\n<p>but did not found any examples on the internet</p>\n<p><strong>UPDATE 1:</strong> found this Video of how to design DB for EAV model, I find it feasible and may move in this direction. Not sure about JAVA implementation of this approach. <a href=\"https://www.youtube.com/watch?v=WneHTRZVbec&amp;t=20s\" rel=\"nofollow noreferrer\">EAV Zero to EAV Hero</a></p>\n<p>here are some Links I found but I am still not getting the point</p>\n<p><a href=\"https://stackoverflow.com/questions/1444462/how-to-store-data-with-dynamic-number-of-attributes-in-a-database\">How to store data with dynamic number of attributes in a database</a></p>\n<p><a href=\"https://softwareengineering.stackexchange.com/questions/93124/eav-is-it-really-bad-in-all-scenarios\">EAV is it really bad in all scenarios</a></p>\n"},{"tags":["java","queue"],"answers":[{"tags":[],"owner":{"account_id":2338728,"reputation":54,"user_id":2050494,"display_name":"Yasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636463060,"creation_date":1636463060,"answer_id":69898655,"question_id":69897936,"body_markdown":"&quot;First&quot; pointer should not be updated when inserting a new item to the queue, first will always stay first in a queue unless it was pulled out. You only need to update the &quot;last&quot; pointer when inserting a new item.\r\n\r\n    public void put(T val) {\r\n    \tLint&lt;T&gt; item = new Link&lt;T&gt;(val);\r\n    \tif(first == null) {\r\n    \t\tfirst = item;\r\n    \t\tlast = first;\r\n    \t} else {\r\n    \t\tlast.next = item;\r\n    \t\tlast = last.next;\r\n    \t}\r\n    }","title":"Implementing queue using Link in Java","body":"<p>&quot;First&quot; pointer should not be updated when inserting a new item to the queue, first will always stay first in a queue unless it was pulled out. You only need to update the &quot;last&quot; pointer when inserting a new item.</p>\n<pre><code>public void put(T val) {\n    Lint&lt;T&gt; item = new Link&lt;T&gt;(val);\n    if(first == null) {\n        first = item;\n        last = first;\n    } else {\n        last.next = item;\n        last = last.next;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23137151,"reputation":1,"user_id":17241230,"display_name":"kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636463060,"creation_date":1636459971,"question_id":69897936,"body_markdown":"I am trying to implement queue in Java using this Link class I created. \r\nHowever, I am confused as to how different it is from LinkedList provided in Java. \r\nHow could I add a new value to the end of the Link instance (in this case, I would like to add the new value to the end of first)? \r\n\r\n        private static class Link&lt;L&gt; {\r\n           L val;\r\n           Link next;\r\n           Link(L val) {\r\n              this.val = val;\r\n              this.next = null;\r\n           }\r\n        }\r\n        private Link&lt;T&gt; first = null;\r\n        private Link&lt;T&gt; last = null;\r\n        \r\n        public void put(T val) {\r\n           Link&lt;T&gt; oldLast = last;\r\n           last = new Link&lt;T&gt;(val);\r\n           if (first == null) {\r\n              first = last;\r\n           } else {\r\n             oldLast.next = last;\r\n             first = oldLast;\r\n           }\r\n       }\r\n  \r\n\r\nI could only find ways to implement queue using linkedlist in google, but not with my own structure/class. \r\n\r\nThis is the take() method:\r\n\r\n    public T take() {\r\n        T val = null;\r\n        if (first != null) {\r\n          val = first.val;\r\n          first = first.next;\r\n        }\r\n    \r\n        return val;\r\n      }\r\n\r\n\r\nFor instance, if I try to run the main method: \r\n\r\n    public static void main(String[] args) {\r\n        UnsafeMessageQueue&lt;Integer&gt; queue = new UnsafeMessageQueue&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          queue.put(i);\r\n        }\r\n        \r\n        for (int i = 0; i &lt; 10; i++) {\r\n          System.out.println(queue.take());\r\n        }\r\n      }\r\n\r\nthen the output printed in the terminal is 8 9.","title":"Implementing queue using Link in Java","body":"<p>I am trying to implement queue in Java using this Link class I created.\nHowever, I am confused as to how different it is from LinkedList provided in Java.\nHow could I add a new value to the end of the Link instance (in this case, I would like to add the new value to the end of first)?</p>\n<pre><code>    private static class Link&lt;L&gt; {\n       L val;\n       Link next;\n       Link(L val) {\n          this.val = val;\n          this.next = null;\n       }\n    }\n    private Link&lt;T&gt; first = null;\n    private Link&lt;T&gt; last = null;\n    \n    public void put(T val) {\n       Link&lt;T&gt; oldLast = last;\n       last = new Link&lt;T&gt;(val);\n       if (first == null) {\n          first = last;\n       } else {\n         oldLast.next = last;\n         first = oldLast;\n       }\n   }\n</code></pre>\n<p>I could only find ways to implement queue using linkedlist in google, but not with my own structure/class.</p>\n<p>This is the take() method:</p>\n<pre><code>public T take() {\n    T val = null;\n    if (first != null) {\n      val = first.val;\n      first = first.next;\n    }\n\n    return val;\n  }\n</code></pre>\n<p>For instance, if I try to run the main method:</p>\n<pre><code>public static void main(String[] args) {\n    UnsafeMessageQueue&lt;Integer&gt; queue = new UnsafeMessageQueue&lt;&gt;();\n    for (int i = 0; i &lt; 10; i++) {\n      queue.put(i);\n    }\n    \n    for (int i = 0; i &lt; 10; i++) {\n      System.out.println(queue.take());\n    }\n  }\n</code></pre>\n<p>then the output printed in the terminal is 8 9.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1636463217,"post_id":69898647,"comment_id":123558908,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems) - If you want a step by step description that walks you through what that code exactly does I&#39;d recommend using a debugger.","body":"<a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a> - If you want a step by step description that walks you through what that code exactly does I&#39;d recommend using a debugger."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1636463591,"post_id":69898647,"comment_id":123559040,"body_markdown":"To understand recursion you might want to read articles on it, e.g. [this](https://www.baeldung.com/java-recursion). Basically, you encounter recursion if a method calls itself like `printStuff(...)` is doing. There can be longer &quot;cycles&quot; like `A-&gt;B-&gt;C-&gt;A-&gt;B-&gt;C...`, i.e. a method can call itself indirectly. Also, to avoid infinite recursion you need some condition when _not_ to do any further recursive calls, like `if (level == 0)`  in your example.","body":"To understand recursion you might want to read articles on it, e.g. <a href=\"https://www.baeldung.com/java-recursion\" rel=\"nofollow noreferrer\">this</a>. Basically, you encounter recursion if a method calls itself like <code>printStuff(...)</code> is doing. There can be longer &quot;cycles&quot; like <code>A-&gt;B-&gt;C-&gt;A-&gt;B-&gt;C...</code>, i.e. a method can call itself indirectly. Also, to avoid infinite recursion you need some condition when <i>not</i> to do any further recursive calls, like <code>if (level == 0)</code>  in your example."},{"owner":{"account_id":102215,"reputation":9755,"user_id":274503,"accept_rate":77,"display_name":"Yarek T"},"score":0,"creation_date":1636620059,"post_id":69898647,"comment_id":123607189,"body_markdown":"Does this answer your question? [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":22741944,"reputation":9,"user_id":16903259,"display_name":"Larry Drifke"},"score":0,"creation_date":1636718664,"post_id":69898647,"comment_id":123637327,"body_markdown":"No, that does not help Yerek.  I know how to use a debugger.  The point of the assignment was to trace code that is on paper (no IDE involved), without using an ide or debugger.","body":"No, that does not help Yerek.  I know how to use a debugger.  The point of the assignment was to trace code that is on paper (no IDE involved), without using an ide or debugger."}],"owner":{"account_id":22741944,"reputation":9,"user_id":16903259,"display_name":"Larry Drifke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636463021,"creation_date":1636463021,"question_id":69898647,"body_markdown":"Could someone help me  trace this recursive print statements to help me understand Recursion.\r\n\r\n```\r\npublic static void printStuff(int Level) {\r\n   if (level == 0) {\r\n      System.out.print(&quot;*&quot;);\r\n      } else {\r\n      System.out.print(&quot;[&quot;);\r\n      printStuff (level-1);\r\n      System.out.print(&quot;,&quot;);\r\n      printStuff  (level-1);\r\n      System.out.print(&quot;]&quot;)\r\n   }\r\n}\r\npublic static void main (String [] args) {\r\n   printStuff(2);\r\n}\r\n```","title":"Tracing Recursive Print statements","body":"<p>Could someone help me  trace this recursive print statements to help me understand Recursion.</p>\n<pre><code>public static void printStuff(int Level) {\n   if (level == 0) {\n      System.out.print(&quot;*&quot;);\n      } else {\n      System.out.print(&quot;[&quot;);\n      printStuff (level-1);\n      System.out.print(&quot;,&quot;);\n      printStuff  (level-1);\n      System.out.print(&quot;]&quot;)\n   }\n}\npublic static void main (String [] args) {\n   printStuff(2);\n}\n</code></pre>\n"},{"tags":["java","spring","testing","mocking"],"comments":[{"owner":{"account_id":14915510,"reputation":396,"user_id":14674015,"display_name":"seism0saurus"},"score":0,"creation_date":1636454028,"post_id":69896480,"comment_id":123555314,"body_markdown":"So you don&#39;t use Dependency Injection to get a ProfileService but call the constructor yourself? Could use the @Profile(&quot;myProfile&quot;) annotation on the service to automatically create the needed service with autowired dependencies?","body":"So you don&#39;t use Dependency Injection to get a ProfileService but call the constructor yourself? Could use the @Profile(&quot;myProfile&quot;) annotation on the service to automatically create the needed service with autowired dependencies?"},{"owner":{"account_id":2923552,"reputation":585,"user_id":2505350,"display_name":"OmriYaHoo"},"score":0,"creation_date":1636455009,"post_id":69896480,"comment_id":123555697,"body_markdown":"I do use dependency injection. In the test class, the ProfileService is annotated with &quot;Autowired&quot;. The fields that are supposed to be injected into the constructor of that Bean are all annotated with &quot;MockBean&quot; (like the SecurityProperties class). They are not null in the constructor, only the Profile class which is an inner static class inside of SecurityProperties.","body":"I do use dependency injection. In the test class, the ProfileService is annotated with &quot;Autowired&quot;. The fields that are supposed to be injected into the constructor of that Bean are all annotated with &quot;MockBean&quot; (like the SecurityProperties class). They are not null in the constructor, only the Profile class which is an inner static class inside of SecurityProperties."}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636455308,"creation_date":1636455308,"answer_id":69896884,"question_id":69896480,"body_markdown":"You can implement the [BeanPostProcessor interface](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html) in your test code. In the implementation of  `postProcessBeforeInitialization`, if the current bean name is `securityProperties` (or whatever name your SecurityProperties bean has) then mock the behavior of `SecurityProperties::getProfile()` to return an actual Profile instance to avoid the NPE.\r\n\r\nThis works because `ProfileService` depends on `SecurityProperties` so the latter will be initiated first and right after that your postProcessBeforeInitialization will be called, right before the instantiation of `ProfileService`","title":"Spring Test with dependency Injection of real objects and mocks","body":"<p>You can implement the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html\" rel=\"nofollow noreferrer\">BeanPostProcessor interface</a> in your test code. In the implementation of  <code>postProcessBeforeInitialization</code>, if the current bean name is <code>securityProperties</code> (or whatever name your SecurityProperties bean has) then mock the behavior of <code>SecurityProperties::getProfile()</code> to return an actual Profile instance to avoid the NPE.</p>\n<p>This works because <code>ProfileService</code> depends on <code>SecurityProperties</code> so the latter will be initiated first and right after that your postProcessBeforeInitialization will be called, right before the instantiation of <code>ProfileService</code></p>\n"}],"owner":{"account_id":2923552,"reputation":585,"user_id":2505350,"display_name":"OmriYaHoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636463001,"creation_date":1636453577,"question_id":69896480,"body_markdown":"I have a test use case in which based on a boolean property we decide which one of 2 Spring Beans to create upon application startup.\r\nFor simplicity, let&#39;s call them `ProfileServiceA` and `ProfileServiceB`.\r\nWhen the boolean property is set to `false` (the default) it creates `ProfileServiceA` and when it&#39;s `true` it creates `ProfileServiceB`.\r\nThis is done inside of a configuration class annotated with `@Configuration`.\r\n\r\nMy test is pretty simple, I want to verify which one of the Beans is loaded in the Spring Context when our application is starting based on that property.  \r\nFor each of those Beans, when we create them, the constructor gets multiple objects in order to be instantiated.  \r\nMost of the objects I have annotated with the `@MockBean` because they are only being pointed to in the constructor like we usually do with Dependency Injection and that&#39;s not a problem for me.  \r\nOne of those properties is not only pointed at in the constructor but is actually being used to build one of the fields.  \r\nin the constructor of ProfileService we do something like this:  \r\n\r\n    this.url = securityProperties.getProfile().getProtocol() + &quot;://&quot; + securityProperties.getProfile().getHost() + &quot;:&quot; + securityProperties.getProfile().getPort() + &quot;/&quot; + securityProperties.getProfile().getEndpoint();\r\n\r\nThe `SecurityProperties` class has the **inner static class** `Profile`, So when the application context starts to load and this Bean is being instantiated in the constructor (even before the method annotated with `@Before`) I fail on NullPointerException because the object `Profile` is still null (The `SecurityProperties` is not because it&#39;s annotated with `@MockBean`).  \r\n  \r\nThe SecurityProperties and its inner static class Profile are not defined as Beans but still, I tried to set the Profile object inside of the test class to be also `@MockBean` or `@Mock` but this didn&#39;t solve the issue.\r\n\r\nI figured that I probably need to inject &quot;real&quot; Objects into the context but I couldn&#39;t find a wiki/docs on how to inject &quot;real&quot; objects WITH Mocked ones to an Autowired Spring Bean.\r\n\r\n\r\n\r\nThe SecurityProperties is not a Spring Bean but a regular data object (POJO).\r\n","title":"Spring Test with dependency Injection of real objects and mocks","body":"<p>I have a test use case in which based on a boolean property we decide which one of 2 Spring Beans to create upon application startup.\nFor simplicity, let's call them <code>ProfileServiceA</code> and <code>ProfileServiceB</code>.\nWhen the boolean property is set to <code>false</code> (the default) it creates <code>ProfileServiceA</code> and when it's <code>true</code> it creates <code>ProfileServiceB</code>.\nThis is done inside of a configuration class annotated with <code>@Configuration</code>.</p>\n<p>My test is pretty simple, I want to verify which one of the Beans is loaded in the Spring Context when our application is starting based on that property.<br />\nFor each of those Beans, when we create them, the constructor gets multiple objects in order to be instantiated.<br />\nMost of the objects I have annotated with the <code>@MockBean</code> because they are only being pointed to in the constructor like we usually do with Dependency Injection and that's not a problem for me.<br />\nOne of those properties is not only pointed at in the constructor but is actually being used to build one of the fields.<br />\nin the constructor of ProfileService we do something like this:</p>\n<pre><code>this.url = securityProperties.getProfile().getProtocol() + &quot;://&quot; + securityProperties.getProfile().getHost() + &quot;:&quot; + securityProperties.getProfile().getPort() + &quot;/&quot; + securityProperties.getProfile().getEndpoint();\n</code></pre>\n<p>The <code>SecurityProperties</code> class has the <strong>inner static class</strong> <code>Profile</code>, So when the application context starts to load and this Bean is being instantiated in the constructor (even before the method annotated with <code>@Before</code>) I fail on NullPointerException because the object <code>Profile</code> is still null (The <code>SecurityProperties</code> is not because it's annotated with <code>@MockBean</code>).</p>\n<p>The SecurityProperties and its inner static class Profile are not defined as Beans but still, I tried to set the Profile object inside of the test class to be also <code>@MockBean</code> or <code>@Mock</code> but this didn't solve the issue.</p>\n<p>I figured that I probably need to inject &quot;real&quot; Objects into the context but I couldn't find a wiki/docs on how to inject &quot;real&quot; objects WITH Mocked ones to an Autowired Spring Bean.</p>\n<p>The SecurityProperties is not a Spring Bean but a regular data object (POJO).</p>\n"},{"tags":["java","spring","spring-boot","jwt","authorization"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636465242,"post_id":69898639,"comment_id":123559803,"body_markdown":"1. Why not the user is the thing that controls all of that, 2. Yes.","body":"1. Why not the user is the thing that controls all of that, 2. Yes."},{"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"score":0,"creation_date":1636469841,"post_id":69898639,"comment_id":123562035,"body_markdown":"I&#39;m just so confused with everything, I can&#39;t believe i&#39;ve been using Spring boot for months now and I can&#39;t even figure out something like this and I&#39;ve been trying for DAYS.","body":"I&#39;m just so confused with everything, I can&#39;t believe i&#39;ve been using Spring boot for months now and I can&#39;t even figure out something like this and I&#39;ve been trying for DAYS."}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636462971,"creation_date":1636462971,"question_id":69898639,"body_markdown":"I&#39;ve been struggling for days trying to figure some stuff out regarding Spring Security and JWT. At the moment I have endpoints to register and login too (Which does successfully generate a JWT token). But I need some more clarity as there&#39;s just too many tutorials online with different methods.\r\n\r\n 1. I have an Entity class representing a user, at the moment that class is implementing the UserDetails interface to do some checks (getAuthorities, getPassword etc). But I know it&#39;s not a good idea to implement it in the same class. My question is what is the best practice to implement this UserDetails?\r\n\r\n2. I want to let new users have roles once created, I am using JWT and I&#39;m also unsure where exactly the logic needs to go for the roles and assigning roles to a specific user.  Should this be done in my UserService method when i create a user? So I could do user.setRoles(xx) or what should I do.\r\n\r\n\r\n------\r\n\r\nThis is what I have at the moment\r\n\r\n\r\n----------\r\nUser.java\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    @NotBlank(message = &quot;Username is required&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;Password is required&quot;)\r\n    private String password;\r\n    @Transient\r\n    private String confirmPassword;\r\n\r\n    private boolean enabled;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\r\n    private Date createdAt;\r\n\r\n    // I want to load all the roles of users + the user itself once requested for\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(name=&quot;user_roles&quot;,\r\n        joinColumns = {\r\n            @JoinColumn(name=&quot;user_id&quot;)\r\n        },\r\n        inverseJoinColumns = {\r\n            @JoinColumn(name=&quot;role_id&quot;)\r\n    })\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\r\n    // no-arg and all arg constructor\r\n    // getters &amp; setters\r\n```\r\n\r\n\r\nRole.java\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name=&quot;role&quot;)\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n    \r\n   \r\n    // constructors\r\n    // getters &amp; setters\r\n```\r\n\r\n\r\n** I do have repository/dao classes for both entities with a method to find user/role by name**\r\n\r\n\r\n\r\nUserService.java\r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    private RoleService roleService;\r\n\r\n\r\n    public User saveUser(User user) {\r\n\r\n        try {\r\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n            user.setUsername(user.getUsername());\r\n            user.setConfirmPassword(&quot;&quot;);\r\n            user.setEnabled(true);\r\n            \r\n            return userRepository.save(user);\r\n        } catch(Exception e) {\r\n            throw new UsernameAlreadyExistsException(&quot;User with username &quot; + user.getUsername() + &quot; already exists!&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nRoleService.java\r\n\r\n\r\n@Service\r\npublic class RoleService {\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    public Role findByRoleName(String roleName) {\r\n        Role theRole = roleRepository.findByName(roleName);\r\n        return theRole;\r\n    }\r\n}```\r\n\r\n\r\n\r\nUserDetailsServiceImpl.java\r\n\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n        if(user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return (UserDetails) user;\r\n    }\r\n}\r\n```\r\n\r\nThese are my JWT classes\r\n\r\n**JwtAuthenticationFilter.java\r\n\r\n\r\n```\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private JwtTokenProvider tokenProvider;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        try {\r\n            String jwt = getJWTFromRequest(httpServletRequest);\r\n\r\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\r\n\r\n                String username = tokenProvider.getUsernameFromJwt(jwt);\r\n                User userDetails = (User) userDetailsService.loadUserByUsername(username);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, Collections.emptyList());\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Could not set user authentication in security context&quot;, ex);\r\n        }\r\n\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n\r\n    }\r\n\r\n    private String getJWTFromRequest(HttpServletRequest request) {\r\n        // Header Authorization: Bearer token\r\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return bearerToken.substring(7, bearerToken.length());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nJwtTokenProvider.java\r\n\r\n\r\n```java\r\n@Component\r\npublic class JwtTokenProvider {\r\n    // Generate the token\r\n    public String generateToken(Authentication authentication) {\r\n        User user = (User) authentication.getPrincipal();\r\n        Date now = new Date(System.currentTimeMillis());\r\n\r\n        Date expiryDate = new Date(now.getTime() + 300_000);\r\n\r\n        String userId = Long.toString(user.getId());\r\n\r\n        // this is what holds the token\r\n        // add roles in claims\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        claims.put(&quot;id&quot;, (Long.toString(user.getId())));\r\n        claims.put(&quot;username&quot;, user.getUsername());\r\n        \r\n\r\n        return Jwts.builder().setSubject(userId).setClaims(claims).setIssuedAt(now).setExpiration(expiryDate)\r\n                .signWith(SignatureAlgorithm.HS512, &quot;SECRETSECRETSECRET&quot;).compact();\r\n    }\r\n\r\n    // Validate the token\r\n    public boolean validateToken(String token) {\r\n        try {\r\n            Jwts.parser().setSigningKey(&quot;SECRETSECRETSECRET&quot;).parseClaimsJws(token);\r\n            return true;\r\n        } catch (SignatureException ex) {\r\n            System.out.println(&quot;Invalid JWT Signature&quot;);\r\n        } catch (MalformedJwtException ex) {\r\n            System.out.println(&quot;Invalid JWT Token&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            System.out.println(&quot;Expired JWT Token&quot;);\r\n        } catch (UnsupportedJwtException ex) {\r\n            System.out.println(&quot;Unsupported JWT token&quot;);\r\n        } catch (IllegalArgumentException ex) {\r\n            System.out.println(&quot;JWT claims string is empty&quot;);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public String getUsernameFromJwt(String token) {\r\n        Claims claims = Jwts.parser().setSigningKey(&quot;SECRETSECRETSECRET&quot;).parseClaimsJws(token).getBody();\r\n\r\n        return claims.getSubject();\r\n    }\r\n}\r\n```\r\n\r\n\r\nJwtAuthenticationEntryPoint.java\r\n\r\n\r\n```java\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\r\n        InvalidLoginResponse loginResponse = new InvalidLoginResponse();\r\n\r\n        \r\n        // InvalidLoginResponse is a class with username and password fields and a no-arg \r\n        constructor initialiting them like this\r\n\r\n        //  this.username = &quot;Invalid Username&quot;;\r\n        //  this.password = &quot;Invalid Password&quot;;\r\n\r\n        String jsonLoginResponse = new Gson().toJson(loginResponse);\r\n\r\n        httpServletResponse.setContentType(&quot;application/json&quot;);\r\n        httpServletResponse.setStatus(401);\r\n        httpServletResponse.getWriter().print(&quot;ERROR FROM JwtAuthenticationEntryPoint: &quot; + jsonLoginResponse);\r\n    }\r\n}\r\n```\r\n\r\n\r\nSecurityConfig.java\r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, jsr250Enabled = true, securedEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n\r\n    // Here i am permitting access to all URLs but getting 401 when posting to /login\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().authorizeRequests()\r\n                .anyRequest().permitAll();\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n------\r\n\r\n\r\nUserController.java\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\n@CrossOrigin\r\npublic class UserController {\r\n\r\n    private UserService userService;\r\n    private UserDetailsServiceImpl userDetailsService;\r\n    private UserValidator userValidator;\r\n    private ErrorValidationService errorValidationService;\r\n    private JwtTokenProvider tokenProvider;\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService, UserDetailsServiceImpl userDetailsService, UserValidator userValidator, ErrorValidationService errorValidationService, JwtTokenProvider tokenProvider, AuthenticationManager authenticationManager) {\r\n        this.userService = userService;\r\n        this.userDetailsService = userDetailsService;\r\n        this.userValidator = userValidator;\r\n        this.errorValidationService = errorValidationService;\r\n        this.tokenProvider = tokenProvider;\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    // I want to allow role based access to these URLs\r\n    @GetMapping(&quot;/all&quot;)\r\n    public String welcomeAll() {\r\n        return &quot;Anyone can view this!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String adminPing(){\r\n        return &quot;Only Admins Can view This&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String userPing(){\r\n        return &quot;Any User Can view This&quot;;\r\n    }\r\n\r\n\r\n    // Get all users\r\n    @GetMapping(&quot;/userList&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllUsers() {\r\n          return ResponseEntity.ok(userService.findAll());\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody User user, BindingResult result) {\r\n\r\n        userValidator.validate(user, result);\r\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\r\n        if(errorMap != null) return errorMap;\r\n\r\n        User newUser = userService.saveUser(user);\r\n\r\n        return new ResponseEntity&lt;User&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;?&gt; generateToken(@Valid @RequestBody LoginRequest loginRequest, BindingResult result) throws Exception {\r\n\r\n        System.out.println(&quot;Entering /login&quot;);\r\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\r\n        if(errorMap != null) return errorMap;\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = &quot;Bearer &quot; + tokenProvider.generateToken(authentication);\r\n\r\n        return ResponseEntity.ok(new JwtLoginSuccessResponse(true, jwt));\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"How and Where to implement Role Based Access in Spring Boot with JWT","body":"<p>I've been struggling for days trying to figure some stuff out regarding Spring Security and JWT. At the moment I have endpoints to register and login too (Which does successfully generate a JWT token). But I need some more clarity as there's just too many tutorials online with different methods.</p>\n<ol>\n<li><p>I have an Entity class representing a user, at the moment that class is implementing the UserDetails interface to do some checks (getAuthorities, getPassword etc). But I know it's not a good idea to implement it in the same class. My question is what is the best practice to implement this UserDetails?</p>\n</li>\n<li><p>I want to let new users have roles once created, I am using JWT and I'm also unsure where exactly the logic needs to go for the roles and assigning roles to a specific user.  Should this be done in my UserService method when i create a user? So I could do user.setRoles(xx) or what should I do.</p>\n</li>\n</ol>\n<hr />\n<p>This is what I have at the moment</p>\n<hr />\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;user&quot;)\npublic class User{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    @NotBlank(message = &quot;Username is required&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;Password is required&quot;)\n    private String password;\n    @Transient\n    private String confirmPassword;\n\n    private boolean enabled;\n\n    @JsonFormat(pattern = &quot;yyyy-mm-dd&quot;)\n    private Date createdAt;\n\n    // I want to load all the roles of users + the user itself once requested for\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name=&quot;user_roles&quot;,\n        joinColumns = {\n            @JoinColumn(name=&quot;user_id&quot;)\n        },\n        inverseJoinColumns = {\n            @JoinColumn(name=&quot;role_id&quot;)\n    })\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n    // no-arg and all arg constructor\n    // getters &amp; setters\n</code></pre>\n<p>Role.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name=&quot;role&quot;)\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    private String description;\n    \n   \n    // constructors\n    // getters &amp; setters\n</code></pre>\n<p>** I do have repository/dao classes for both entities with a method to find user/role by name**</p>\n<p>UserService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Autowired\n    private RoleService roleService;\n\n\n    public User saveUser(User user) {\n\n        try {\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\n            user.setUsername(user.getUsername());\n            user.setConfirmPassword(&quot;&quot;);\n            user.setEnabled(true);\n            \n            return userRepository.save(user);\n        } catch(Exception e) {\n            throw new UsernameAlreadyExistsException(&quot;User with username &quot; + user.getUsername() + &quot; already exists!&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>RoleService.java</p>\n<p>@Service\npublic class RoleService {</p>\n<pre><code>@Autowired\nprivate RoleRepository roleRepository;\n\npublic Role findByRoleName(String roleName) {\n    Role theRole = roleRepository.findByName(roleName);\n    return theRole;\n}\n</code></pre>\n<p>}```</p>\n<p>UserDetailsServiceImpl.java</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n        if(user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return (UserDetails) user;\n    }\n}\n</code></pre>\n<p>These are my JWT classes</p>\n<p>**JwtAuthenticationFilter.java</p>\n<pre><code>public class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtTokenProvider tokenProvider;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n\n        try {\n            String jwt = getJWTFromRequest(httpServletRequest);\n\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\n\n                String username = tokenProvider.getUsernameFromJwt(jwt);\n                User userDetails = (User) userDetailsService.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, Collections.emptyList());\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception ex) {\n            logger.error(&quot;Could not set user authentication in security context&quot;, ex);\n        }\n\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n\n    }\n\n    private String getJWTFromRequest(HttpServletRequest request) {\n        // Header Authorization: Bearer token\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\n\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            return bearerToken.substring(7, bearerToken.length());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>JwtTokenProvider.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtTokenProvider {\n    // Generate the token\n    public String generateToken(Authentication authentication) {\n        User user = (User) authentication.getPrincipal();\n        Date now = new Date(System.currentTimeMillis());\n\n        Date expiryDate = new Date(now.getTime() + 300_000);\n\n        String userId = Long.toString(user.getId());\n\n        // this is what holds the token\n        // add roles in claims\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;id&quot;, (Long.toString(user.getId())));\n        claims.put(&quot;username&quot;, user.getUsername());\n        \n\n        return Jwts.builder().setSubject(userId).setClaims(claims).setIssuedAt(now).setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, &quot;SECRETSECRETSECRET&quot;).compact();\n    }\n\n    // Validate the token\n    public boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(&quot;SECRETSECRETSECRET&quot;).parseClaimsJws(token);\n            return true;\n        } catch (SignatureException ex) {\n            System.out.println(&quot;Invalid JWT Signature&quot;);\n        } catch (MalformedJwtException ex) {\n            System.out.println(&quot;Invalid JWT Token&quot;);\n        } catch (ExpiredJwtException ex) {\n            System.out.println(&quot;Expired JWT Token&quot;);\n        } catch (UnsupportedJwtException ex) {\n            System.out.println(&quot;Unsupported JWT token&quot;);\n        } catch (IllegalArgumentException ex) {\n            System.out.println(&quot;JWT claims string is empty&quot;);\n        }\n        return false;\n    }\n\n    public String getUsernameFromJwt(String token) {\n        Claims claims = Jwts.parser().setSigningKey(&quot;SECRETSECRETSECRET&quot;).parseClaimsJws(token).getBody();\n\n        return claims.getSubject();\n    }\n}\n</code></pre>\n<p>JwtAuthenticationEntryPoint.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\n        InvalidLoginResponse loginResponse = new InvalidLoginResponse();\n\n        \n        // InvalidLoginResponse is a class with username and password fields and a no-arg \n        constructor initialiting them like this\n\n        //  this.username = &quot;Invalid Username&quot;;\n        //  this.password = &quot;Invalid Password&quot;;\n\n        String jsonLoginResponse = new Gson().toJson(loginResponse);\n\n        httpServletResponse.setContentType(&quot;application/json&quot;);\n        httpServletResponse.setStatus(401);\n        httpServletResponse.getWriter().print(&quot;ERROR FROM JwtAuthenticationEntryPoint: &quot; + jsonLoginResponse);\n    }\n}\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, jsr250Enabled = true, securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n    // Here i am permitting access to all URLs but getting 401 when posting to /login\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().authorizeRequests()\n                .anyRequest().permitAll();\n\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n}\n\n</code></pre>\n<hr />\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\n@CrossOrigin\npublic class UserController {\n\n    private UserService userService;\n    private UserDetailsServiceImpl userDetailsService;\n    private UserValidator userValidator;\n    private ErrorValidationService errorValidationService;\n    private JwtTokenProvider tokenProvider;\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    public UserController(UserService userService, UserDetailsServiceImpl userDetailsService, UserValidator userValidator, ErrorValidationService errorValidationService, JwtTokenProvider tokenProvider, AuthenticationManager authenticationManager) {\n        this.userService = userService;\n        this.userDetailsService = userDetailsService;\n        this.userValidator = userValidator;\n        this.errorValidationService = errorValidationService;\n        this.tokenProvider = tokenProvider;\n        this.authenticationManager = authenticationManager;\n    }\n\n    // I want to allow role based access to these URLs\n    @GetMapping(&quot;/all&quot;)\n    public String welcomeAll() {\n        return &quot;Anyone can view this!&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String adminPing(){\n        return &quot;Only Admins Can view This&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String userPing(){\n        return &quot;Any User Can view This&quot;;\n    }\n\n\n    // Get all users\n    @GetMapping(&quot;/userList&quot;)\n    public ResponseEntity&lt;?&gt; getAllUsers() {\n          return ResponseEntity.ok(userService.findAll());\n    }\n\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; register(@Valid @RequestBody User user, BindingResult result) {\n\n        userValidator.validate(user, result);\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\n        if(errorMap != null) return errorMap;\n\n        User newUser = userService.saveUser(user);\n\n        return new ResponseEntity&lt;User&gt;(newUser, HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; generateToken(@Valid @RequestBody LoginRequest loginRequest, BindingResult result) throws Exception {\n\n        System.out.println(&quot;Entering /login&quot;);\n        ResponseEntity&lt;?&gt; errorMap = errorValidationService.validationService(result);\n        if(errorMap != null) return errorMap;\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = &quot;Bearer &quot; + tokenProvider.generateToken(authentication);\n\n        return ResponseEntity.ok(new JwtLoginSuccessResponse(true, jwt));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","list","hashmap"],"answers":[{"tags":[],"owner":{"account_id":13752363,"reputation":552,"user_id":9924134,"display_name":"Mershel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636459606,"creation_date":1636459606,"answer_id":69897860,"question_id":69897577,"body_markdown":"I would use streams and `groupingBy` to do this.\r\n\r\nWhen you have a list of your items `resultBl` all you have to do is\r\n\r\n    Map&lt;Integer, List&lt;Item&gt;&gt; resultMap = resultBl.stream().collect(groupingBy(Item::getId, toList()));\r\n\r\nimports:\r\n\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    import static java.util.stream.Collectors.toList;\r\n\r\n\r\nThis will group your items by the `id` parameter.\r\n","title":"Transform List of object to a Map in java","body":"<p>I would use streams and <code>groupingBy</code> to do this.</p>\n<p>When you have a list of your items <code>resultBl</code> all you have to do is</p>\n<pre><code>Map&lt;Integer, List&lt;Item&gt;&gt; resultMap = resultBl.stream().collect(groupingBy(Item::getId, toList()));\n</code></pre>\n<p>imports:</p>\n<pre><code>import static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.toList;\n</code></pre>\n<p>This will group your items by the <code>id</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":22993668,"reputation":24,"user_id":17118780,"display_name":"Grzegorz Kossakowski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636460172,"creation_date":1636459805,"answer_id":69897899,"question_id":69897577,"body_markdown":"    Map&lt;Integer,List&lt;Item&gt;&gt;  map = resultBL.stream(Collectors.toMap(Item::getId, Function.identity()));\r\n\r\nIt is Lambda. Java version &gt;= 8 ","title":"Transform List of object to a Map in java","body":"<pre><code>Map&lt;Integer,List&lt;Item&gt;&gt;  map = resultBL.stream(Collectors.toMap(Item::getId, Function.identity()));\n</code></pre>\n<p>It is Lambda. Java version &gt;= 8</p>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636461936,"creation_date":1636461936,"answer_id":69898383,"question_id":69897577,"body_markdown":"`Collectors.groupingBy` with `Collectors.mapping` for `downstream` should work:\r\n\r\n    Map&lt;Integer, List&lt;ItemDetails&gt;&gt; result = resultBl.stream().collect(Collectors.groupingBy(Item::getId, Collectors.mapping(ItemDetails::new, Collectors.toList())));\r\n","title":"Transform List of object to a Map in java","body":"<p><code>Collectors.groupingBy</code> with <code>Collectors.mapping</code> for <code>downstream</code> should work:</p>\n<pre><code>Map&lt;Integer, List&lt;ItemDetails&gt;&gt; result = resultBl.stream().collect(Collectors.groupingBy(Item::getId, Collectors.mapping(ItemDetails::new, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636462600,"creation_date":1636462600,"answer_id":69898560,"question_id":69897577,"body_markdown":"Your best option would be to add a constructor to `ItemDetails` accepting an `Item` object:\r\n```java\r\npublic class ItemDetails {\r\n\r\n    // properties, getters and setters\r\n\r\n    public ItemDetails(Item item) {\r\n        this.amount = item.getAmount();\r\n        this.nameType = item.getNameType();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then use the following Java 8 features:\r\n```java\r\nMap&lt;Integer, List&lt;ItemDetails&gt;&gt; itemsPerId = \r\n  itemsList.stream().collect(Collectors.groupingBy(Item::getId, Collectors.mapping(ItemDetails::new, Collectors.toList())));\r\n```","title":"Transform List of object to a Map in java","body":"<p>Your best option would be to add a constructor to <code>ItemDetails</code> accepting an <code>Item</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemDetails {\n\n    // properties, getters and setters\n\n    public ItemDetails(Item item) {\n        this.amount = item.getAmount();\n        this.nameType = item.getNameType();\n    }\n\n}\n</code></pre>\n<p>And then use the following Java 8 features:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;ItemDetails&gt;&gt; itemsPerId = \n  itemsList.stream().collect(Collectors.groupingBy(Item::getId, Collectors.mapping(ItemDetails::new, Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69898383,"answer_count":4,"score":1,"last_activity_date":1636462914,"creation_date":1636458395,"question_id":69897577,"body_markdown":"I have a list of item `List&lt;Item&gt; resultBl` like below : \r\n\r\n    id  = 18003  amount = 128 nameType = SUBMITTED\r\n    id  = 18189 amount = 95 nameType = SUBMITTED\r\n    id  = 18192 amount = 160 nameType = POSITIVE\r\n    id  = 18192 amount = 30 nameType = DRAFT\r\n    id  = 18192 amount = 873 nameType = SUBMITTED\r\n    id  = 18237 amount = 390 nameType = POSITIVE\r\n    id  = 18237 amount = 60 nameType = DRAFT\r\n    id  = 18237 amount = 2731 nameType = SUBMITTED\r\n\r\nI want to transform this list to a `map` with this form, the key is the `id` and the value is a `list` of objects : \r\n```java     \r\nMap&lt;Integer,List&lt;ItemDetails&gt;&gt; mapTest= new HashMap&lt;Integer,List&lt;ItemDetails&gt;&gt;();\r\n```\r\n\r\n    [18237 , [amount = 390 ,nameType = POSITIVE],[amount = 60 nameType = DRAFT], [amount = 2731 nameType = SUBMITTED]], ...\r\n\r\nI tried with different ways but always I had repeated elements: \r\n```java\r\nList&lt;Integer&gt; ids2 = new ArrayList&lt;Integer&gt;();\r\nList&lt;Integer&gt; ids = new ArrayList&lt;Integer&gt;();\r\n\r\nfor(Item item: resultBl) {\r\n  ids.add(item.getId());\r\n}\r\n\r\nids2 =ids.stream().distinct().collect(Collectors.toList());\r\nMap&lt;Integer,List&lt;ItemDetails&gt;&gt;  mapTest= new HashMap&lt;Integer,List&lt;ItemDetails&gt;&gt;();\r\nList&lt;ItemDetails&gt; itemDetailsList = new ArrayList&lt;ItemDetails&gt;();\r\nfor(Integer s:ids2) {\r\n    for(Item i : resultBl) {\r\n      if(s.equals(i.getId())) {\r\n         ItemDetails it =new ItemDetails();\r\n         it.setAmount(i.getAmount());\r\n         it.setNameType(i.getNameType()) ;\r\n         itemDetailsList .add(it);\r\n      }\r\n    }\r\n    mapTest.put(s, itemDetailsList);\r\n}\r\n```","title":"Transform List of object to a Map in java","body":"<p>I have a list of item <code>List&lt;Item&gt; resultBl</code> like below :</p>\n<pre><code>id  = 18003  amount = 128 nameType = SUBMITTED\nid  = 18189 amount = 95 nameType = SUBMITTED\nid  = 18192 amount = 160 nameType = POSITIVE\nid  = 18192 amount = 30 nameType = DRAFT\nid  = 18192 amount = 873 nameType = SUBMITTED\nid  = 18237 amount = 390 nameType = POSITIVE\nid  = 18237 amount = 60 nameType = DRAFT\nid  = 18237 amount = 2731 nameType = SUBMITTED\n</code></pre>\n<p>I want to transform this list to a <code>map</code> with this form, the key is the <code>id</code> and the value is a <code>list</code> of objects :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer,List&lt;ItemDetails&gt;&gt; mapTest= new HashMap&lt;Integer,List&lt;ItemDetails&gt;&gt;();\n</code></pre>\n<pre><code>[18237 , [amount = 390 ,nameType = POSITIVE],[amount = 60 nameType = DRAFT], [amount = 2731 nameType = SUBMITTED]], ...\n</code></pre>\n<p>I tried with different ways but always I had repeated elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; ids2 = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; ids = new ArrayList&lt;Integer&gt;();\n\nfor(Item item: resultBl) {\n  ids.add(item.getId());\n}\n\nids2 =ids.stream().distinct().collect(Collectors.toList());\nMap&lt;Integer,List&lt;ItemDetails&gt;&gt;  mapTest= new HashMap&lt;Integer,List&lt;ItemDetails&gt;&gt;();\nList&lt;ItemDetails&gt; itemDetailsList = new ArrayList&lt;ItemDetails&gt;();\nfor(Integer s:ids2) {\n    for(Item i : resultBl) {\n      if(s.equals(i.getId())) {\n         ItemDetails it =new ItemDetails();\n         it.setAmount(i.getAmount());\n         it.setNameType(i.getNameType()) ;\n         itemDetailsList .add(it);\n      }\n    }\n    mapTest.put(s, itemDetailsList);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":4,"creation_date":1636462390,"post_id":69898301,"comment_id":123558586,"body_markdown":"How does your code know whether it can call `executable` or `description`? The answer to this question should tell you how to structure the code. In general, mixing different types with different interfaces in the same collection doesn’t really make sense. There are certainly exceptions to this but in a good design they’re rare.","body":"How does your code know whether it can call <code>executable</code> or <code>description</code>? The answer to this question should tell you how to structure the code. In general, mixing different types with different interfaces in the same collection doesn’t really make sense. There are certainly exceptions to this but in a good design they’re rare."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1636463128,"post_id":69898301,"comment_id":123558877,"body_markdown":"I think PECS is very relevant here. [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"I think PECS is very relevant here. <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636462912,"creation_date":1636462558,"answer_id":69898547,"question_id":69898301,"body_markdown":"&gt; Is there any type of datatype that i could use in my case?\r\n\r\nThat depends on the use-case but you can use `CommandBase`, `CommandTypeA` or `CommandTypeB` directly or as boundaries for wildcards (I changed the class names as per common convetions).\r\n\r\n__Example with variable:__\r\n\r\n    CommandBase currentCommand = new testCommand();\r\n    currentCommand = new testCommand2();\r\n\r\nThis is basically &quot;program to interface&quot; (in this case abstract base class), i.e. use the common type. Ideally you&#39;d introduce a `Command` interfact that the others extend and `CommandBase` implements in which case you&#39;d use \r\n\r\n    Command currentCommand = new testCommand();\r\n\r\nWhen it comes to calling, you&#39;d need `instanceof` and with pattern matching (as of Java 14) you can do it like this:\r\n\r\n    if( currentCommand instanceof CommandTypeA typeA) {\r\n       typeA.execute();\r\n    }\r\n\r\nWithout pattern matching it would be like this:\r\n\r\n    if( currentCommand instanceof CommandTypeA) {\r\n       ((CommandTypeA)currentCommand ).execute();\r\n    }\r\n\r\n\r\n__Example with `List` (also an interface):__\r\n\r\n    List&lt;Command&gt; registeredCommands = new ArrayList&lt;&gt;();\r\n    registeredCommands.add(new testCommand());\r\n    registeredCommands.add(new testCommand2());\r\n\r\nYou could also use wildcards but given your question I assume that&#39;s something to bother with later (as you&#39;ll have to deal with [&quot;producer extends consumer super&quot;](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)).\r\n\r\nExecution of methods only available in subtypes also uses `instanceof`:\r\n\r\n    for(Command command : registeredCommands) {\r\n      if( command instanceof CommandTypeA typeA) {\r\n       typeA.execute();\r\n      }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; Can I do the same thing I have in mind in other (better) ways?\r\n\r\nThere are very likely better ways but those depend on your requirements.\r\n\r\nOne could be to actually maintain several lists, e.g. a `List&lt;CommandTypeA&gt;` and a `List&lt;CommandTypeB&gt;`. Any command that implements both is added to both.\r\n\r\nAnother way might be to actually move the methods up, e.g. into the `Command` interface (introducing it in the first place already is a way to improve your code) and provide default methods:\r\n\r\n    interface Command {      \r\n       default Type executable() {\r\n         return null; //or return Type.EVERYONE, Type.NOBODY etc. - whatever makes sense\r\n       }\r\n\r\n       default String description() {\r\n         //return any sensible default description \r\n         return &quot;a command&quot;;\r\n       }\r\n    }\r\n\r\nDoing this you can call both methods even if you have only a `Command` reference. \r\n\r\n","title":"Store different java classes in one arraylist/variable","body":"<blockquote>\n<p>Is there any type of datatype that i could use in my case?</p>\n</blockquote>\n<p>That depends on the use-case but you can use <code>CommandBase</code>, <code>CommandTypeA</code> or <code>CommandTypeB</code> directly or as boundaries for wildcards (I changed the class names as per common convetions).</p>\n<p><strong>Example with variable:</strong></p>\n<pre><code>CommandBase currentCommand = new testCommand();\ncurrentCommand = new testCommand2();\n</code></pre>\n<p>This is basically &quot;program to interface&quot; (in this case abstract base class), i.e. use the common type. Ideally you'd introduce a <code>Command</code> interfact that the others extend and <code>CommandBase</code> implements in which case you'd use</p>\n<pre><code>Command currentCommand = new testCommand();\n</code></pre>\n<p>When it comes to calling, you'd need <code>instanceof</code> and with pattern matching (as of Java 14) you can do it like this:</p>\n<pre><code>if( currentCommand instanceof CommandTypeA typeA) {\n   typeA.execute();\n}\n</code></pre>\n<p>Without pattern matching it would be like this:</p>\n<pre><code>if( currentCommand instanceof CommandTypeA) {\n   ((CommandTypeA)currentCommand ).execute();\n}\n</code></pre>\n<p><strong>Example with <code>List</code> (also an interface):</strong></p>\n<pre><code>List&lt;Command&gt; registeredCommands = new ArrayList&lt;&gt;();\nregisteredCommands.add(new testCommand());\nregisteredCommands.add(new testCommand2());\n</code></pre>\n<p>You could also use wildcards but given your question I assume that's something to bother with later (as you'll have to deal with <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">&quot;producer extends consumer super&quot;</a>).</p>\n<p>Execution of methods only available in subtypes also uses <code>instanceof</code>:</p>\n<pre><code>for(Command command : registeredCommands) {\n  if( command instanceof CommandTypeA typeA) {\n   typeA.execute();\n  }\n}\n</code></pre>\n<hr />\n<blockquote>\n<p>Can I do the same thing I have in mind in other (better) ways?</p>\n</blockquote>\n<p>There are very likely better ways but those depend on your requirements.</p>\n<p>One could be to actually maintain several lists, e.g. a <code>List&lt;CommandTypeA&gt;</code> and a <code>List&lt;CommandTypeB&gt;</code>. Any command that implements both is added to both.</p>\n<p>Another way might be to actually move the methods up, e.g. into the <code>Command</code> interface (introducing it in the first place already is a way to improve your code) and provide default methods:</p>\n<pre><code>interface Command {      \n   default Type executable() {\n     return null; //or return Type.EVERYONE, Type.NOBODY etc. - whatever makes sense\n   }\n\n   default String description() {\n     //return any sensible default description \n     return &quot;a command&quot;;\n   }\n}\n</code></pre>\n<p>Doing this you can call both methods even if you have only a <code>Command</code> reference.</p>\n"}],"owner":{"account_id":18576223,"reputation":15,"user_id":13536833,"display_name":"alexanderbg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69898547,"answer_count":1,"score":-1,"last_activity_date":1636462912,"creation_date":1636461576,"question_id":69898301,"body_markdown":"I will start this question with an example and then I will tell what I have in my mind.\r\n\r\n```\r\npublic class testCommand extends commandBase implements commandTypeA{\r\n\r\n    //this is from commandTypeA\r\n\t@Override\r\n\tpublic type executable() {\r\n        //type is enum\r\n\t\treturn type.EVERYONE;\r\n\t}\r\n\r\n    //this is from commandBase \r\n\t@Override\r\n\tpublic String name() {\r\n\t\treturn &quot;test&quot;;\r\n\t}\r\n}\r\n\r\npublic class testCommand2 extends commandBase implements commandTypeB{\r\n\r\n    //this is from commandTypeB\r\n\t@Override\r\n\tpublic String description() {\r\n\t\treturn &quot;A testCommand&quot;;\r\n\t}\r\n\r\n    //this is from commandBase \r\n\t@Override\r\n\tpublic String name() {\r\n\t\treturn &quot;test&quot;;\r\n\t}\r\n}\r\n```\r\nIn that example I don&#39;t want to have ```description``` in ```commandTypeA``` and ```executable``` in ```commandTypeA```\r\n\r\nI will create also many classes like ```testCommand``` and ```testCommand2```. I will always extend ```commandBase``` and will implement ```commandTypeA``` or ```commandTypeB```.\r\n\r\nI want to store those classes into an ArrayList or just a variable (that could store both of the classes - with implemented ```commandTypeA``` or ```commandTypeB``` and all of their methods - including methods from the extended and implemented classes).\r\nExample with ArrayList: \r\n```\r\nArrayList&lt;*datatype*&gt; registeredCommands = new ArrayList&lt;*datatype*&gt;;\r\nregisteredCommands.add(new testCommand());\r\nregisteredCommands.add(new testCommand2());\r\n```\r\nExample with variable:\r\n```\r\n*datatype* currentCommand = new testCommand();\r\ncurrentCommand = new new testCommand2();\r\n```\r\n\r\nAlso I need to perform actions later in my code like\r\n\r\nExample with ArrayList:\r\n```\r\nsystem.out.println((commandBase) registeredCommands.get(0).name());\r\nsystem.out.println((commandTypeA) registeredCommands.get(0).executable());\r\nsystem.out.println((commandTypeB) registeredCommands2.get(1).description());\r\n```\r\n\r\nExample with variable:\r\n```\r\n*datatype* currentCommand = new testCommand();\r\nsystem.out.println((commandBase) currentCommand.name());\r\nsystem.out.println((commandTypeA) currentCommand.executable());\r\n\r\ncurrentCommand = new new testCommand2();\r\nsystem.out.println((commandTypeB) currentCommand.description());\r\n```\r\n\r\n\r\nMy questions are:\r\n\r\n* Is there any type of datatype that i could use in my case?\r\n* Can I do the same thing I have in mind in other (better) ways?\r\n\r\n\r\n","title":"Store different java classes in one arraylist/variable","body":"<p>I will start this question with an example and then I will tell what I have in my mind.</p>\n<pre><code>public class testCommand extends commandBase implements commandTypeA{\n\n    //this is from commandTypeA\n    @Override\n    public type executable() {\n        //type is enum\n        return type.EVERYONE;\n    }\n\n    //this is from commandBase \n    @Override\n    public String name() {\n        return &quot;test&quot;;\n    }\n}\n\npublic class testCommand2 extends commandBase implements commandTypeB{\n\n    //this is from commandTypeB\n    @Override\n    public String description() {\n        return &quot;A testCommand&quot;;\n    }\n\n    //this is from commandBase \n    @Override\n    public String name() {\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>In that example I don't want to have <code>description</code> in <code>commandTypeA</code> and <code>executable</code> in <code>commandTypeA</code></p>\n<p>I will create also many classes like <code>testCommand</code> and <code>testCommand2</code>. I will always extend <code>commandBase</code> and will implement <code>commandTypeA</code> or <code>commandTypeB</code>.</p>\n<p>I want to store those classes into an ArrayList or just a variable (that could store both of the classes - with implemented <code>commandTypeA</code> or <code>commandTypeB</code> and all of their methods - including methods from the extended and implemented classes).\nExample with ArrayList:</p>\n<pre><code>ArrayList&lt;*datatype*&gt; registeredCommands = new ArrayList&lt;*datatype*&gt;;\nregisteredCommands.add(new testCommand());\nregisteredCommands.add(new testCommand2());\n</code></pre>\n<p>Example with variable:</p>\n<pre><code>*datatype* currentCommand = new testCommand();\ncurrentCommand = new new testCommand2();\n</code></pre>\n<p>Also I need to perform actions later in my code like</p>\n<p>Example with ArrayList:</p>\n<pre><code>system.out.println((commandBase) registeredCommands.get(0).name());\nsystem.out.println((commandTypeA) registeredCommands.get(0).executable());\nsystem.out.println((commandTypeB) registeredCommands2.get(1).description());\n</code></pre>\n<p>Example with variable:</p>\n<pre><code>*datatype* currentCommand = new testCommand();\nsystem.out.println((commandBase) currentCommand.name());\nsystem.out.println((commandTypeA) currentCommand.executable());\n\ncurrentCommand = new new testCommand2();\nsystem.out.println((commandTypeB) currentCommand.description());\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>Is there any type of datatype that i could use in my case?</li>\n<li>Can I do the same thing I have in mind in other (better) ways?</li>\n</ul>\n"},{"tags":["java","android","kotlin","camera","version"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636462717,"creation_date":1636462717,"answer_id":69898585,"question_id":69898393,"body_markdown":"[DisplayCutout](https://developer.android.com/reference/android/view/DisplayCutout) was introduced in API lvl 28, this class isn&#39;t achievable on lower Android versions, as these aren&#39;t supporting display cutouts, so you probably should remove `else{...}`, it will be no-op anyway\r\n\r\nin fact your `doPadding` method won&#39;t be called on lower system versions, as you are calling it by\r\n\r\n    insets.displayCutout?.let { doPadding(it) }\r\n\r\nor    \r\n\r\n    rootWindowInsets?.displayCutout?.let { doPadding(it) }\r\n\r\nand on lower Androids &lt; API28 `displayCutout` will always be `null` and `let` won&#39;t execute","title":"Checking the version in the Camera","body":"<p><a href=\"https://developer.android.com/reference/android/view/DisplayCutout\" rel=\"nofollow noreferrer\">DisplayCutout</a> was introduced in API lvl 28, this class isn't achievable on lower Android versions, as these aren't supporting display cutouts, so you probably should remove <code>else{...}</code>, it will be no-op anyway</p>\n<p>in fact your <code>doPadding</code> method won't be called on lower system versions, as you are calling it by</p>\n<pre><code>insets.displayCutout?.let { doPadding(it) }\n</code></pre>\n<p>or</p>\n<pre><code>rootWindowInsets?.displayCutout?.let { doPadding(it) }\n</code></pre>\n<p>and on lower Androids &lt; API28 <code>displayCutout</code> will always be <code>null</code> and <code>let</code> won't execute</p>\n"}],"owner":{"account_id":19732861,"reputation":21,"user_id":15376888,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636462717,"creation_date":1636461958,"question_id":69898393,"body_markdown":"I need to work with versions below 28 for Camera, how do I write this in else {} ?   \r\nI need version 21 and above, for example\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\nfun View.padWithDisplayCutout() {\r\n\r\n    fun doPadding(cutout: DisplayCutout) = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        setPadding(\r\n            cutout.safeInsetLeft,\r\n            cutout.safeInsetTop,\r\n            cutout.safeInsetRight,\r\n            cutout.safeInsetBottom\r\n        )\r\n    } else {\r\n         ?????????????????????????????????????????\r\n    }\r\n\r\n    rootWindowInsets?.displayCutout?.let { doPadding(it) }\r\n\r\n    setOnApplyWindowInsetsListener { _, insets -&gt;\r\n        insets.displayCutout?.let { doPadding(it) }\r\n        insets\r\n    }\r\n}","title":"Checking the version in the Camera","body":"<p>I need to work with versions below 28 for Camera, how do I write this in else {} ?<br />\nI need version 21 and above, for example</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.P)\n</code></pre>\n<p>fun View.padWithDisplayCutout() {</p>\n<pre><code>fun doPadding(cutout: DisplayCutout) = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n    setPadding(\n        cutout.safeInsetLeft,\n        cutout.safeInsetTop,\n        cutout.safeInsetRight,\n        cutout.safeInsetBottom\n    )\n} else {\n     ?????????????????????????????????????????\n}\n\nrootWindowInsets?.displayCutout?.let { doPadding(it) }\n\nsetOnApplyWindowInsetsListener { _, insets -&gt;\n    insets.displayCutout?.let { doPadding(it) }\n    insets\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","linux","bash","gradle"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1424470159,"post_id":28638934,"comment_id":45577592,"body_markdown":"Why go through bash at all? With a `ProcessBuilder` you can alter the process environment, redirect std{out,err} etc. So why go through bash?","body":"Why go through bash at all? With a <code>ProcessBuilder</code> you can alter the process environment, redirect std{out,err} etc. So why go through bash?"},{"owner":{"account_id":1715316,"reputation":569,"user_id":1572522,"accept_rate":19,"display_name":"user1572522"},"score":0,"creation_date":1424542565,"post_id":28638934,"comment_id":45596271,"body_markdown":"It seems like ProcessBuilder still needs an OS command, like &quot;cmd.exe&quot;, or bash, to execute a batch stye command like: SET PATH=C:/gradle-2.1/bin;%PATH%.  It doesn&#39;t seem to be able to do that on it&#39;s own.","body":"It seems like ProcessBuilder still needs an OS command, like &quot;cmd.exe&quot;, or bash, to execute a batch stye command like: SET PATH=C:/gradle-2.1/bin;%PATH%.  It doesn&#39;t seem to be able to do that on it&#39;s own."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1424542783,"post_id":28638934,"comment_id":45596355,"body_markdown":"It can&#39;t do that, but read again. You can set environment variables. Do you know what those are?","body":"It can&#39;t do that, but read again. You can set environment variables. Do you know what those are?"},{"owner":{"account_id":1715316,"reputation":569,"user_id":1572522,"accept_rate":19,"display_name":"user1572522"},"score":0,"creation_date":1424543634,"post_id":28638934,"comment_id":45596674,"body_markdown":"Yes, but I&#39;m doing more that just that.  A typical multiple command might be something like at the top of my question..","body":"Yes, but I&#39;m doing more that just that.  A typical multiple command might be something like at the top of my question.."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1424546036,"post_id":28638934,"comment_id":45597646,"body_markdown":"Yes, which is perfectly doable with a `ProcessBuilder`!","body":"Yes, which is perfectly doable with a <code>ProcessBuilder</code>!"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1424633693,"post_id":28638934,"comment_id":45619654,"body_markdown":"&quot;Another issue is that I have...&quot; - another issue - post another question please!","body":"&quot;Another issue is that I have...&quot; - another issue - post another question please!"}],"answers":[{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424469938,"creation_date":1424469938,"answer_id":28639045,"question_id":28638934,"body_markdown":"You can use `InputStreamReader` in conjunction with `BufferedReader` to get the output of the command:\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;your-command&quot;);\r\n        Process p = pb.start();\r\n        InputStreamReader isr = new InputStreamReader(p.getInputStream());\r\n        BufferedReader br = new BufferedReader(isr);\r\n\r\n        String lineRead;\r\n        while ((lineRead = br.readLine()) != null) {\r\n            LOGGER.info(lineRead);\r\n        }\r\n        int rc = p.waitFor();\r\n        return rc; // successful return code should be zero!","title":"How to capture all Bash output in Java","body":"<p>You can use <code>InputStreamReader</code> in conjunction with <code>BufferedReader</code> to get the output of the command:</p>\n\n<pre><code>    ProcessBuilder pb = new ProcessBuilder(\"your-command\");\n    Process p = pb.start();\n    InputStreamReader isr = new InputStreamReader(p.getInputStream());\n    BufferedReader br = new BufferedReader(isr);\n\n    String lineRead;\n    while ((lineRead = br.readLine()) != null) {\n        LOGGER.info(lineRead);\n    }\n    int rc = p.waitFor();\n    return rc; // successful return code should be zero!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061417,"reputation":593,"user_id":6076839,"display_name":"SteveR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636462665,"creation_date":1636462665,"answer_id":69898569,"question_id":28638934,"body_markdown":"I&#39;ve been struggling with this too.  After multiple readings of the source code for the unix implementation of `Process` at https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java it seems that the standard redirects will always swallow to a `ProcessBuilder.NullInputStream`:\r\n\r\n```\r\nif (redirects[1] == Redirect.PIPE) {\r\n                    std_fds[1] = -1;\r\n}...\r\n```\r\nand\r\n```\r\nstdout = (fds[1] == -1 || forceNullOutputStream) ?\r\n                         ProcessBuilder.NullInputStream.INSTANCE :\r\n                         new ProcessPipeInputStream(fds[1]);\r\n```\r\n(The same code repeats for stdIn, stdOut and stdErr streams)\r\n\r\nThe only workaround I have found, which feels *very* clumsy is to use a temp File:\r\n```\r\nFile stdOutTmp;  // create and destroy however you see fit\r\nProcessBuilder pb = ...;\r\npb.redirectOutput(ProcessBuilder.Redirect.to(stdOutTmp));\r\n...\r\n```\r\nThere are other static factory methods (`Redirect.appendTo(File)` to append to an existing file rather than overwrite an existing file, and `Redirect.from(File)` for stdIn) \r\n","title":"How to capture all Bash output in Java","body":"<p>I've been struggling with this too.  After multiple readings of the source code for the unix implementation of <code>Process</code> at <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java</a> it seems that the standard redirects will always swallow to a <code>ProcessBuilder.NullInputStream</code>:</p>\n<pre><code>if (redirects[1] == Redirect.PIPE) {\n                    std_fds[1] = -1;\n}...\n</code></pre>\n<p>and</p>\n<pre><code>stdout = (fds[1] == -1 || forceNullOutputStream) ?\n                         ProcessBuilder.NullInputStream.INSTANCE :\n                         new ProcessPipeInputStream(fds[1]);\n</code></pre>\n<p>(The same code repeats for stdIn, stdOut and stdErr streams)</p>\n<p>The only workaround I have found, which feels <em>very</em> clumsy is to use a temp File:</p>\n<pre><code>File stdOutTmp;  // create and destroy however you see fit\nProcessBuilder pb = ...;\npb.redirectOutput(ProcessBuilder.Redirect.to(stdOutTmp));\n...\n</code></pre>\n<p>There are other static factory methods (<code>Redirect.appendTo(File)</code> to append to an existing file rather than overwrite an existing file, and <code>Redirect.from(File)</code> for stdIn)</p>\n"}],"owner":{"account_id":1715316,"reputation":569,"user_id":1572522,"accept_rate":19,"display_name":"user1572522"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636462665,"creation_date":1424469477,"question_id":28638934,"body_markdown":"I already have Java code that can handle all the output from stdout\r\nand stderr, and that all works fine.  It uses getInputStream() and\r\ngetErrorStream();\r\n\r\nIf I enter a command like this in a Bash terminal:\r\n\r\n    export ANDROID_HOME=/usr/local/bin/android-sdk-linux;export PATH=${PATH}:/usr/local/bin/gradle-1.8/bin;cd /var/local/android/dev/GradleHelloWorld;gradle clean\r\n\r\nIt gets extra output like:\r\n\r\n    &gt; Loading\r\n\r\n    &gt;Loading Resolving dependencies ...\r\n\r\n    &gt;Building\r\n\r\nUntil it gets the regular &quot;end&quot; output:\r\n\r\n    :clean UP-TO-DATE\r\n\r\n    BUILD SUCCESSFUL\r\n\r\n    Total time: 2 mins 37.424 secs\r\n\r\nBut after trying many different combinations of, the below,\r\nwith and without the &quot;-c&quot;:\r\n\r\n    processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, sCmd);\r\n\r\n    proc = rt.exec(new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, commandS});\r\n\r\nI know those are pretty much the same, but you get the idea.\r\nIt only shows the &quot;end&quot; result, and not any of the other output\r\nbefore it.\r\n\r\nFor Windows I can get all the output with no problem, using:\r\n\r\n    proc = rt.exec(&quot;cmd.exe&quot;);\r\n\r\nand the command string.\r\n\r\nI don&#39;t know that much about Bash, so is there any other options I can try, or a different Java statement I can use to try to capture all the output using Java?\r\n\r\nUpdate:\r\n\r\nI&#39;m already doing this (most of the code):\r\n\r\n    while ( true )\r\n    {\r\n\r\n        if ( error_is.available() &gt; 0 )\t// Check Error Stream..\r\n        {\r\n            iBytesRead = error_is.read(tempBuf, 0, iTmpLength);\r\n            if ( iBytesRead == -1 )\r\n            {\r\n                 break;\r\n            }\r\n\r\n            baos.write(tempBuf, 0, iBytesRead);\r\n       }\r\n       else if ( out_is.available() &gt; 0 )\t// Check Output Stream..\r\n       {\r\n            iBytesRead = out_is.read(tempBuf, 0, iTmpLength);\r\n            if ( iBytesRead == -1 )\r\n            {\r\n                break;\r\n            }\r\n\r\n            baos.write(tempBuf, 0, iBytesRead);\r\n       }\r\n    }\r\n\r\nIt works fine in Windows using cmd.exe so I know it works,\r\nand it gets everything, but for Linux users, I have to use Bash,\r\nand I&#39;m not getting some of the output, so that&#39;s my question..\r\n\r\n","title":"How to capture all Bash output in Java","body":"<p>I already have Java code that can handle all the output from stdout\nand stderr, and that all works fine.  It uses getInputStream() and\ngetErrorStream();</p>\n\n<p>If I enter a command like this in a Bash terminal:</p>\n\n<pre><code>export ANDROID_HOME=/usr/local/bin/android-sdk-linux;export PATH=${PATH}:/usr/local/bin/gradle-1.8/bin;cd /var/local/android/dev/GradleHelloWorld;gradle clean\n</code></pre>\n\n<p>It gets extra output like:</p>\n\n<pre><code>&gt; Loading\n\n&gt;Loading Resolving dependencies ...\n\n&gt;Building\n</code></pre>\n\n<p>Until it gets the regular \"end\" output:</p>\n\n<pre><code>:clean UP-TO-DATE\n\nBUILD SUCCESSFUL\n\nTotal time: 2 mins 37.424 secs\n</code></pre>\n\n<p>But after trying many different combinations of, the below,\nwith and without the \"-c\":</p>\n\n<pre><code>processBuilder = new ProcessBuilder(\"bash\", \"-c\", sCmd);\n\nproc = rt.exec(new String[] {\"/bin/bash\", \"-c\", commandS});\n</code></pre>\n\n<p>I know those are pretty much the same, but you get the idea.\nIt only shows the \"end\" result, and not any of the other output\nbefore it.</p>\n\n<p>For Windows I can get all the output with no problem, using:</p>\n\n<pre><code>proc = rt.exec(\"cmd.exe\");\n</code></pre>\n\n<p>and the command string.</p>\n\n<p>I don't know that much about Bash, so is there any other options I can try, or a different Java statement I can use to try to capture all the output using Java?</p>\n\n<p>Update:</p>\n\n<p>I'm already doing this (most of the code):</p>\n\n<pre><code>while ( true )\n{\n\n    if ( error_is.available() &gt; 0 ) // Check Error Stream..\n    {\n        iBytesRead = error_is.read(tempBuf, 0, iTmpLength);\n        if ( iBytesRead == -1 )\n        {\n             break;\n        }\n\n        baos.write(tempBuf, 0, iBytesRead);\n   }\n   else if ( out_is.available() &gt; 0 )   // Check Output Stream..\n   {\n        iBytesRead = out_is.read(tempBuf, 0, iTmpLength);\n        if ( iBytesRead == -1 )\n        {\n            break;\n        }\n\n        baos.write(tempBuf, 0, iBytesRead);\n   }\n}\n</code></pre>\n\n<p>It works fine in Windows using cmd.exe so I know it works,\nand it gets everything, but for Linux users, I have to use Bash,\nand I'm not getting some of the output, so that's my question..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1636459009,"post_id":69897672,"comment_id":123557247,"body_markdown":"The first code example prints `-9223372036854775808` when I execute it, not `-1`. However, there&#39;s a sign in the result.","body":"The first code example prints <code>-9223372036854775808</code> when I execute it, not <code>-1</code>. However, there&#39;s a sign in the result."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1636459419,"post_id":69897672,"comment_id":123557419,"body_markdown":"If you want to avoid overflow, then convert the `long` to a `BigInteger` before you do the addition; do the addition with the `BigInteger` instead of with the `long`.","body":"If you want to avoid overflow, then convert the <code>long</code> to a <code>BigInteger</code> before you do the addition; do the addition with the <code>BigInteger</code> instead of with the <code>long</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1636459484,"post_id":69897672,"comment_id":123557446,"body_markdown":"btw `Long.MAX_VALUE` is `2^63 - 1` and `Long.MAX_VALUE + 1` gives `Long.MIN_VALUE`.","body":"btw <code>Long.MAX_VALUE</code> is <code>2^63 - 1</code> and <code>Long.MAX_VALUE + 1</code> gives <code>Long.MIN_VALUE</code>."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636462634,"creation_date":1636459858,"answer_id":69897909,"question_id":69897672,"body_markdown":"Using your knowledge of how 2&#39;s complement arithmetic works, you can do this:\r\n\r\n    private final BigInteger TWO_POW_64 = BigInteger.TWO.pow(64);\r\n    ...\r\n\r\n    Long v = &lt;some negative value to be treated as unsigned&gt;;\r\n    BigInteger b = BigInteger.valueOf(v).mod(TWO_POW_64);\r\n","title":"What is the easiest way to convert an unsigned long to BigInteger","body":"<p>Using your knowledge of how 2's complement arithmetic works, you can do this:</p>\n<pre><code>private final BigInteger TWO_POW_64 = BigInteger.TWO.pow(64);\n...\n\nLong v = &lt;some negative value to be treated as unsigned&gt;;\nBigInteger b = BigInteger.valueOf(v).mod(TWO_POW_64);\n</code></pre>\n"}],"owner":{"account_id":4796691,"reputation":2276,"user_id":10116440,"display_name":"Guerlando OCs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69897909,"answer_count":1,"score":0,"last_activity_date":1636462634,"creation_date":1636458810,"question_id":69897672,"body_markdown":"Java has no support for unsigned longs, but if you treat the longs as unsigned and do multiplication, it works just fine. For comparison, you can use `Long.compareUnsigned()`.\r\n\r\nWhen I do\r\n\r\n```\r\nlong v = Long.MAX_VALUE; //2^63\r\nv = v+1;\r\nBigInteger vv = BigInteger.valueOf(v);\r\nSystem.out.println(vv);//this prints -1\r\n```\r\n\r\nTHe only way I found was doing\r\n\r\n```\r\nlong v = Long.MAX_VALUE; //2^63\r\nv = v+1;\r\nBigInteger vv = new BigInteger(Long.toUnsignedString(v));\r\nSystem.out.println(vv);//this prints 2^63+1\r\n```\r\n","title":"What is the easiest way to convert an unsigned long to BigInteger","body":"<p>Java has no support for unsigned longs, but if you treat the longs as unsigned and do multiplication, it works just fine. For comparison, you can use <code>Long.compareUnsigned()</code>.</p>\n<p>When I do</p>\n<pre><code>long v = Long.MAX_VALUE; //2^63\nv = v+1;\nBigInteger vv = BigInteger.valueOf(v);\nSystem.out.println(vv);//this prints -1\n</code></pre>\n<p>THe only way I found was doing</p>\n<pre><code>long v = Long.MAX_VALUE; //2^63\nv = v+1;\nBigInteger vv = new BigInteger(Long.toUnsignedString(v));\nSystem.out.println(vv);//this prints 2^63+1\n</code></pre>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1636437275,"post_id":69893311,"comment_id":123549718,"body_markdown":"Change your function to actually return a `Function&lt;String, String&gt;` and then `return getNameFunc` (or `return inputName -&gt; inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;`?","body":"Change your function to actually return a <code>Function&lt;String, String&gt;</code> and then <code>return getNameFunc</code> (or <code>return inputName -&gt; inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636437416,"post_id":69893311,"comment_id":123549755,"body_markdown":"Why are you using a `Function` when you are simply returning a `String`?","body":"Why are you using a <code>Function</code> when you are simply returning a <code>String</code>?"},{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1636441035,"post_id":69893311,"comment_id":123550599,"body_markdown":"I don&#39;t think this question needs to be closed","body":"I don&#39;t think this question needs to be closed"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636437699,"creation_date":1636437306,"answer_id":69893412,"question_id":69893311,"body_markdown":"Interface `java.util.function.Function` contains a single, abstract method named `apply`. Hence you need to explicitly call that method.\r\n\r\nThe [lambda expression][1] is the actual implementation of the interface.\r\n```java\r\npublic static String getAnimalName(String name) {\r\n    Function&lt;String, String&gt; getNameFunc = (inputName) -&gt; {\r\n        return inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n    };\r\n    return getNameFunc.apply(name);\r\n}\r\n```\r\nNote that you can simplify the lambda expression to\r\n```java\r\nFunction&lt;String, String&gt; getNameFunc = inputName -&gt; inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"How to return a Function Interface from a static function?","body":"<p>Interface <code>java.util.function.Function</code> contains a single, abstract method named <code>apply</code>. Hence you need to explicitly call that method.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> is the actual implementation of the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getAnimalName(String name) {\n    Function&lt;String, String&gt; getNameFunc = (inputName) -&gt; {\n        return inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n    };\n    return getNameFunc.apply(name);\n}\n</code></pre>\n<p>Note that you can simplify the lambda expression to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, String&gt; getNameFunc = inputName -&gt; inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636462440,"creation_date":1636440637,"answer_id":69893899,"question_id":69893311,"body_markdown":"What you are doing doesn&#39;t make much sense. You are declaring a `Function&lt;String, String&gt;` inside a function, but not use it. Also I am not sure what the purpose of the parameter is you pass to the function.\r\n\r\nBased on your code, I identified three variants that would make sense, but from your question title I would assume you are looking for solution 1.\r\n\r\n 1. Return a [`Function&lt;String, String&gt;`][1] and remove the parameter from `getAnimalNameFunction`\r\n\r\n        public static Function&lt;String, String&gt; getAnimalNameFunction() {\r\n            Function&lt;String, String&gt; getNameFunc = (inputName) -&gt; {\r\n                return inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n            };\r\n            return getNameFunc;\r\n        }\r\n    and then in some other code..\r\n\r\n        Function&lt;String, String&gt; nameConverter = getAnimalNameFunction();\r\n        String name = nameConverter.apply(&quot;cow&quot;);\r\n\r\n 2. Keep the parameter, but return a [`Supplier&lt;String&gt;`][2] instead:\r\n  \r\n        public static Supplier&lt;String&gt; getAnimalNameSupplier(String name) {\r\n            Supplier&lt;String&gt; getNameSup = () -&gt; {\r\n                return name.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n            };\r\n            return getNameSup;\r\n        }\r\n    and then in some other code..\r\n\r\n        Supplier&lt;String&gt; nameGetter = getAnimalNameSupplier(&quot;cow&quot;);\r\n        String name = nameGetter.get();\r\n\r\n 3. Return a `String` (as you did originally) and remove the intermediate `Function&lt;String, String&gt;`\r\n\r\n        public static String getAnimalName(String name)\r\n        {\r\n            return name.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n        }\r\n    and then in some other code..\r\n\r\n        String name = getAnimalName();\r\n\r\n\r\nI am not sure which of the three you tried to achieve, but I hope this sheds some light onto the problem.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"How to return a Function Interface from a static function?","body":"<p>What you are doing doesn't make much sense. You are declaring a <code>Function&lt;String, String&gt;</code> inside a function, but not use it. Also I am not sure what the purpose of the parameter is you pass to the function.</p>\n<p>Based on your code, I identified three variants that would make sense, but from your question title I would assume you are looking for solution 1.</p>\n<ol>\n<li><p>Return a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;String, String&gt;</code></a> and remove the parameter from <code>getAnimalNameFunction</code></p>\n<pre><code>public static Function&lt;String, String&gt; getAnimalNameFunction() {\n    Function&lt;String, String&gt; getNameFunc = (inputName) -&gt; {\n        return inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n    };\n    return getNameFunc;\n}\n</code></pre>\n<p>and then in some other code..</p>\n<pre><code>Function&lt;String, String&gt; nameConverter = getAnimalNameFunction();\nString name = nameConverter.apply(&quot;cow&quot;);\n</code></pre>\n</li>\n<li><p>Keep the parameter, but return a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier&lt;String&gt;</code></a> instead:</p>\n<pre><code>public static Supplier&lt;String&gt; getAnimalNameSupplier(String name) {\n    Supplier&lt;String&gt; getNameSup = () -&gt; {\n        return name.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n    };\n    return getNameSup;\n}\n</code></pre>\n<p>and then in some other code..</p>\n<pre><code>Supplier&lt;String&gt; nameGetter = getAnimalNameSupplier(&quot;cow&quot;);\nString name = nameGetter.get();\n</code></pre>\n</li>\n<li><p>Return a <code>String</code> (as you did originally) and remove the intermediate <code>Function&lt;String, String&gt;</code></p>\n<pre><code>public static String getAnimalName(String name)\n{\n    return name.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n}\n</code></pre>\n<p>and then in some other code..</p>\n<pre><code>String name = getAnimalName();\n</code></pre>\n</li>\n</ol>\n<p>I am not sure which of the three you tried to achieve, but I hope this sheds some light onto the problem.</p>\n"}],"owner":{"account_id":15358354,"reputation":77,"user_id":12073561,"display_name":"Pavan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69893899,"answer_count":2,"score":1,"last_activity_date":1636462440,"creation_date":1636436471,"question_id":69893311,"body_markdown":"I am using `Function&lt;String, String&gt;` inside a static method that is expected to return a value \r\n\r\nThis accepts an input and returns an output, how to return the value back from the method?\r\n\r\n    public static String getAnimalName(String name)\r\n\t{\r\n\t\tFunction&lt;String, String&gt; getNameFunc = (inputName)-&gt;\r\n\t\t{\r\n    \t\treturn \tinputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\r\n\t\t};\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n","title":"How to return a Function Interface from a static function?","body":"<p>I am using <code>Function&lt;String, String&gt;</code> inside a static method that is expected to return a value</p>\n<p>This accepts an input and returns an output, how to return the value back from the method?</p>\n<pre><code>public static String getAnimalName(String name)\n{\n    Function&lt;String, String&gt; getNameFunc = (inputName)-&gt;\n    {\n        return  inputName.equalsIgnoreCase(&quot;cat&quot;) ? &quot;dog&quot; : &quot;rat&quot;;\n    };\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":["java","gradle","kotlin"],"comments":[{"owner":{"account_id":12324177,"reputation":759,"user_id":8992678,"display_name":"IamAshKS"},"score":0,"creation_date":1572749151,"post_id":58677018,"comment_id":103654884,"body_markdown":"Welcome to Stack Overflow! It&#39;s already answered here: https://stackoverflow.com/a/44562953","body":"Welcome to Stack Overflow! It&#39;s already answered here: <a href=\"https://stackoverflow.com/a/44562953\">stackoverflow.com/a/44562953</a>"},{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":2,"creation_date":1572750352,"post_id":58677018,"comment_id":103655038,"body_markdown":"Does this answer your question? [&quot;No cached version... available for offline mode.&quot;](https://stackoverflow.com/questions/22607661/no-cached-version-available-for-offline-mode)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22607661/no-cached-version-available-for-offline-mode\">&quot;No cached version... available for offline mode.&quot;</a>"},{"owner":{"account_id":14817354,"reputation":31,"user_id":10700880,"display_name":"livingstone"},"score":0,"creation_date":1572750411,"post_id":58677018,"comment_id":103655048,"body_markdown":"thanks for reaching out... i have followed that and I get a new error:Could not set unknown property &#39;plugin&#39; for root project &#39;kotlin_app&#39; of type org.gradle.api.Project.","body":"thanks for reaching out... i have followed that and I get a new error:Could not set unknown property &#39;plugin&#39; for root project &#39;kotlin_app&#39; of type org.gradle.api.Project."},{"owner":{"account_id":14817354,"reputation":31,"user_id":10700880,"display_name":"livingstone"},"score":0,"creation_date":1572750585,"post_id":58677018,"comment_id":103655067,"body_markdown":"thanks for reaching out, but it did not. I got this error again after following that step: Could not set unknown property &#39;plugin&#39; for root project &#39;kotlin_app&#39; of type org.gradle.api.Project.","body":"thanks for reaching out, but it did not. I got this error again after following that step: Could not set unknown property &#39;plugin&#39; for root project &#39;kotlin_app&#39; of type org.gradle.api.Project."},{"owner":{"account_id":14817354,"reputation":31,"user_id":10700880,"display_name":"livingstone"},"score":0,"creation_date":1572751593,"post_id":58677018,"comment_id":103655203,"body_markdown":"Thanks @itwasntme, it solved the issue, i had to &quot;invalidate caches/restart&quot;, then &quot;sync project with gradle files&quot; again.","body":"Thanks @itwasntme, it solved the issue, i had to &quot;invalidate caches/restart&quot;, then &quot;sync project with gradle files&quot; again."},{"owner":{"account_id":1191980,"reputation":3020,"user_id":1164529,"accept_rate":80,"display_name":"Harpreet"},"score":0,"creation_date":1667296623,"post_id":58677018,"comment_id":131129614,"body_markdown":"TWIMC, You can use this solution https://stackoverflow.com/a/71844064/1164529 as well.","body":"TWIMC, You can use this solution <a href=\"https://stackoverflow.com/a/71844064/1164529\">stackoverflow.com/a/71844064/1164529</a> as well."}],"answers":[{"tags":[],"owner":{"account_id":14161584,"reputation":51,"user_id":10244291,"display_name":"Dirane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636462303,"creation_date":1589723633,"answer_id":61852919,"question_id":58677018,"body_markdown":"You need to **re-enable** your Gradle online mode then sync project with Gradle files.\r\nTod do this, \r\n 1. Navigate to Gradle scripts.\r\n 2. Click on build.gradle, a window will open.\r\n 3. To re-enable Gradle online mode, click on the last but one icon(like a switch symbol) shown on the screenshot below.\r\n\r\n![re-enalbe Gradle online mode][1]\r\n\r\n4. After this, navigate to files in your android studio and click on &quot;*sync project with Gradle file*&quot; and you will be good to go.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uas4s.png","title":"Error: Could not download kotlin-gradle-plugin.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50): No cached version available for offline","body":"<p>You need to <strong>re-enable</strong> your Gradle online mode then sync project with Gradle files.\nTod do this,</p>\n<ol>\n<li>Navigate to Gradle scripts.</li>\n<li>Click on build.gradle, a window will open.</li>\n<li>To re-enable Gradle online mode, click on the last but one icon(like a switch symbol) shown on the screenshot below.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/uas4s.png\" alt=\"re-enalbe Gradle online mode\" /></p>\n<ol start=\"4\">\n<li>After this, navigate to files in your android studio and click on &quot;<em>sync project with Gradle file</em>&quot; and you will be good to go.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19321822,"reputation":1,"user_id":14125360,"display_name":"siddharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597753598,"creation_date":1597753598,"answer_id":63468575,"question_id":58677018,"body_markdown":"View-&gt;ToolWindows-&gt;Gradle click on toogle offline mode","title":"Error: Could not download kotlin-gradle-plugin.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50): No cached version available for offline","body":"<p>View-&gt;ToolWindows-&gt;Gradle click on toogle offline mode</p>\n"}],"owner":{"account_id":14817354,"reputation":31,"user_id":10700880,"display_name":"livingstone"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8724,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1636462303,"creation_date":1572749007,"question_id":58677018,"body_markdown":"Please, I just created a new project with kotlin on android studio 3.5, its giving me this error:&quot; Could not download kotlin-gradle-plugin.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50): No cached version available for offline &quot;\r\nI cannot do anything as the gradle will not sync successfully, please does anyone know how to resolve this please??","title":"Error: Could not download kotlin-gradle-plugin.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50): No cached version available for offline","body":"<p>Please, I just created a new project with kotlin on android studio 3.5, its giving me this error:\" Could not download kotlin-gradle-plugin.jar (org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.50): No cached version available for offline \"\nI cannot do anything as the gradle will not sync successfully, please does anyone know how to resolve this please??</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636462252,"creation_date":1636408572,"answer_id":69890398,"question_id":69890139,"body_markdown":"If you have a `TableView&lt;Product&gt;`, then every column has to be a `TableColumn&lt;Product, T&gt;` for some `T`.\r\n\r\n`T` can be different for each column, but should always be a &quot;data type&quot;, never a &quot;UI type&quot; (i.e. it should never be a subclass of `Node`).\r\n\r\nHere you should have \r\n\r\n    @FXML\r\n    TableColumn &lt;Product, byte[]&gt; pictureColumn;\r\n\r\nbecause the *data* you are displaying in each cell in the column is a `byte[]`.\r\n\r\nYou can use a `cellFactory`, which in general describes *how* to display the cell&#39;s data, to create the `ImageView` to display in the cells in the column. If the image data are raw data, e.g. in rgb format, you might do:\r\n\r\n    private void intializeTableColumns() {\r\n    \r\n        // ...\r\n    \r\n        pictureColumn.setCellValueFactory(cellData -&gt; \r\n            new SimpleObjectProperty&lt;&gt;(cellData.getValue().getPicture()));\r\n    \r\n        // or\r\n        // pictureColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;picture&quot;));\r\n        // but the previous version is much better\r\n    \r\n        pictureColumn.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\r\n            private WritableImage image = new WritableImage(WIDTH, HEIGHT);\r\n            private ImageView imageView = new ImageView(image);\r\n    \r\n            @Override\r\n            protected void updateItem(byte[] imageData, boolean empty) {\r\n                super.updateItem(imageData, empty) ;\r\n                if (empty || imageData == null) {\r\n                    setGraphic(null);\r\n                } else {\r\n                    PixelWriter pw = image.getPixelWriter();\r\n                    // modify the following as needed if you have a different format\r\n                    PixelFormat&lt;ByteBuffer&gt; format = PixelFormat.getByteRgbInstance();\r\n                    pw.setPixels(0, 0, WIDTH, HEIGHT, format, imageData, 0, 3*WIDTH);\r\n                    setGraphic(imageView);\r\n                }\r\n            }\r\n        });\r\n    \r\n        // ...\r\n    }\r\n\r\nObviously you need to fill in some information here, such as the width and height of the images (which I&#39;ve just assumed are constant), and modify it depending on how the image is encoded in the `byte[]` array.\r\n\r\nIf the image data are in a recognized format, i.e. BMP, GIF, JPEG, or PNG, you can do:\r\n\r\n        pictureColumn.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\r\n            private ImageView imageView = new ImageView();\r\n    \r\n            @Override\r\n            protected void updateItem(byte[] imageData, boolean empty) {\r\n                super.updateItem(imageData, empty) ;\r\n                if (empty || imageData == null) {\r\n                    setGraphic(null);\r\n                } else {\r\n                    Image image = new Image(new ByteArrayInputStream(imageData));\r\n                    imageView.setImage(image);\r\n                    setGraphic(imageView);\r\n                }\r\n            }\r\n        });","title":"How to retreive image (byte type) from database to tableview (imageView)/ JavaFx","body":"<p>If you have a <code>TableView&lt;Product&gt;</code>, then every column has to be a <code>TableColumn&lt;Product, T&gt;</code> for some <code>T</code>.</p>\n<p><code>T</code> can be different for each column, but should always be a &quot;data type&quot;, never a &quot;UI type&quot; (i.e. it should never be a subclass of <code>Node</code>).</p>\n<p>Here you should have</p>\n<pre><code>@FXML\nTableColumn &lt;Product, byte[]&gt; pictureColumn;\n</code></pre>\n<p>because the <em>data</em> you are displaying in each cell in the column is a <code>byte[]</code>.</p>\n<p>You can use a <code>cellFactory</code>, which in general describes <em>how</em> to display the cell's data, to create the <code>ImageView</code> to display in the cells in the column. If the image data are raw data, e.g. in rgb format, you might do:</p>\n<pre><code>private void intializeTableColumns() {\n\n    // ...\n\n    pictureColumn.setCellValueFactory(cellData -&gt; \n        new SimpleObjectProperty&lt;&gt;(cellData.getValue().getPicture()));\n\n    // or\n    // pictureColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;picture&quot;));\n    // but the previous version is much better\n\n    pictureColumn.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\n        private WritableImage image = new WritableImage(WIDTH, HEIGHT);\n        private ImageView imageView = new ImageView(image);\n\n        @Override\n        protected void updateItem(byte[] imageData, boolean empty) {\n            super.updateItem(imageData, empty) ;\n            if (empty || imageData == null) {\n                setGraphic(null);\n            } else {\n                PixelWriter pw = image.getPixelWriter();\n                // modify the following as needed if you have a different format\n                PixelFormat&lt;ByteBuffer&gt; format = PixelFormat.getByteRgbInstance();\n                pw.setPixels(0, 0, WIDTH, HEIGHT, format, imageData, 0, 3*WIDTH);\n                setGraphic(imageView);\n            }\n        }\n    });\n\n    // ...\n}\n</code></pre>\n<p>Obviously you need to fill in some information here, such as the width and height of the images (which I've just assumed are constant), and modify it depending on how the image is encoded in the <code>byte[]</code> array.</p>\n<p>If the image data are in a recognized format, i.e. BMP, GIF, JPEG, or PNG, you can do:</p>\n<pre><code>    pictureColumn.setCellFactory(col -&gt; new TableCell&lt;&gt;() {\n        private ImageView imageView = new ImageView();\n\n        @Override\n        protected void updateItem(byte[] imageData, boolean empty) {\n            super.updateItem(imageData, empty) ;\n            if (empty || imageData == null) {\n                setGraphic(null);\n            } else {\n                Image image = new Image(new ByteArrayInputStream(imageData));\n                imageView.setImage(image);\n                setGraphic(imageView);\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":15254576,"reputation":56,"user_id":11006806,"display_name":"Nacira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636462252,"creation_date":1636406842,"question_id":69890139,"body_markdown":"I have two different types (byte to Model and imageView to View) so I had to use two classes \r\n &quot;ProductTableColumnModel&quot; (help class for the picture column ) &amp; Model &quot;Product&quot;\r\n\r\n    pictureColumn.setCellValueFactory(new PropertyValueFactory&lt;ProductTableColumnModel, ImageView&gt;(&quot;picture&quot;));\r\n\r\nbut other columns like this:\r\n\r\n    descColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;description&quot;));\r\n    \r\n\r\nProduct class:\r\n\r\n    public class Product {\r\n\t\r\n\t\r\n\tprivate byte[] picture;\r\n\t\r\n    @Column(name= &quot;picture&quot;)\r\n\tpublic byte[] getPicture() {\r\n\t\treturn this.picture;\r\n\t}\r\n\t\r\n\tpublic void setPicture(byte[] picture) {\r\n\t\t\r\n\t\tthis.picture = picture;\r\n\t}\r\n    }\r\n\r\nProductTableColumnModel class:\r\n\r\n    public class ProductTableColumnModel {\r\n\t\r\n\t\r\n\tprivate ImageView picture;\r\n\t\r\n\t\r\n\tpublic ImageView getPicture() {\r\n\t\treturn this.picture;\r\n\t}\r\n\t\r\n\tpublic void setPicture(ImageView picture) {\r\n\t\tthis.picture = picture;\r\n\t}\r\n\r\nin ProductViewController class: \r\n\r\n    @FXML\r\n\tTableView &lt;Product&gt; table_Products;\r\n\t\r\n\t@FXML\r\n\tTableColumn &lt;Product, String&gt; productName;\r\n\t\r\n\t@FXML\r\n\tTableColumn &lt;Product, String&gt; descColumn;\r\n\t\r\n\t@FXML\r\n\tTableColumn &lt;ProductTableColumnModel, ImageView&gt; pictureColumn;\r\n\r\n    .....\r\n\r\n    // show data in TableView\r\n    for(Product  p : getProducts() ) {\r\n    \t\t\r\n    \t\tProduct product = new Product();\r\n    \t\t\r\n    \t\tproduct.setProductName(String.valueOf(p.getProductName() ));\r\n    \t\tproduct.setDescription(String.valueOf(p.getDescription()));\r\n    \t\t\r\n    \t\tbyte[] pictureImageInByte = p.getPicture(); \r\n    \t\t\r\n    \t\tif(pictureImageInByte != null) {\r\n    \t\t\t\r\n    \t\t\tByteArrayInputStream imageDate = new ByteArrayInputStream(pictureImageInByte);\r\n    \t    \t\r\n        \t\tImage image = new Image(imageDate);\r\n        \t\t\r\n        \t\t/* ???????\r\n\r\n                */\r\n    \t\t}\r\n            tableData.addAll(product);\r\n    \t}\r\n        /* set table items */\r\n    \ttable_Products.setItems(tableData);\r\n    private void intializeTableColumns() {\r\n    \t\r\n    \t\r\n    \ttableData = FXCollections.observableArrayList();\r\n    \t\r\n    \tproductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n    \t\r\n    \tdescColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;description&quot;));\r\n    \t\r\n    \tpictureColumn.setCellValueFactory(new PropertyValueFactory&lt;ProductTableColumnModel, ImageView&gt;(&quot;picture&quot;));\r\n        \r\n}\r\n\r\nCan anyone help me to write the correct code after this? \r\n\r\n    if(pictureImageInByte != null) {\r\n\r\n            ByteArrayInputStream imageDate = new ByteArrayInputStream(pictureImageInByte);\r\n\r\n            Image image = new Image(imageDate);\r\n\r\n            /* ???????\r\n\r\n            */\r\n        }","title":"How to retreive image (byte type) from database to tableview (imageView)/ JavaFx","body":"<p>I have two different types (byte to Model and imageView to View) so I had to use two classes\n&quot;ProductTableColumnModel&quot; (help class for the picture column ) &amp; Model &quot;Product&quot;</p>\n<pre><code>pictureColumn.setCellValueFactory(new PropertyValueFactory&lt;ProductTableColumnModel, ImageView&gt;(&quot;picture&quot;));\n</code></pre>\n<p>but other columns like this:</p>\n<pre><code>descColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;description&quot;));\n</code></pre>\n<p>Product class:</p>\n<pre><code>public class Product {\n\n\nprivate byte[] picture;\n\n@Column(name= &quot;picture&quot;)\npublic byte[] getPicture() {\n    return this.picture;\n}\n\npublic void setPicture(byte[] picture) {\n    \n    this.picture = picture;\n}\n}\n</code></pre>\n<p>ProductTableColumnModel class:</p>\n<pre><code>public class ProductTableColumnModel {\n\n\nprivate ImageView picture;\n\n\npublic ImageView getPicture() {\n    return this.picture;\n}\n\npublic void setPicture(ImageView picture) {\n    this.picture = picture;\n}\n</code></pre>\n<p>in ProductViewController class:</p>\n<pre><code>@FXML\nTableView &lt;Product&gt; table_Products;\n\n@FXML\nTableColumn &lt;Product, String&gt; productName;\n\n@FXML\nTableColumn &lt;Product, String&gt; descColumn;\n\n@FXML\nTableColumn &lt;ProductTableColumnModel, ImageView&gt; pictureColumn;\n\n.....\n\n// show data in TableView\nfor(Product  p : getProducts() ) {\n        \n        Product product = new Product();\n        \n        product.setProductName(String.valueOf(p.getProductName() ));\n        product.setDescription(String.valueOf(p.getDescription()));\n        \n        byte[] pictureImageInByte = p.getPicture(); \n        \n        if(pictureImageInByte != null) {\n            \n            ByteArrayInputStream imageDate = new ByteArrayInputStream(pictureImageInByte);\n            \n            Image image = new Image(imageDate);\n            \n            /* ???????\n\n            */\n        }\n        tableData.addAll(product);\n    }\n    /* set table items */\n    table_Products.setItems(tableData);\nprivate void intializeTableColumns() {\n    \n    \n    tableData = FXCollections.observableArrayList();\n    \n    productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    descColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;description&quot;));\n    \n    pictureColumn.setCellValueFactory(new PropertyValueFactory&lt;ProductTableColumnModel, ImageView&gt;(&quot;picture&quot;));\n    \n</code></pre>\n<p>}</p>\n<p>Can anyone help me to write the correct code after this?</p>\n<pre><code>if(pictureImageInByte != null) {\n\n        ByteArrayInputStream imageDate = new ByteArrayInputStream(pictureImageInByte);\n\n        Image image = new Image(imageDate);\n\n        /* ???????\n\n        */\n    }\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":2098740,"reputation":2510,"user_id":1866939,"display_name":"Balint Bako"},"score":0,"creation_date":1374157002,"post_id":17725948,"comment_id":25837951,"body_markdown":"Is DOM giving you random attribute order if you add the input the same way (except for the values of course)? It might not give you the order you want, but it would be strange if it gave you a random order. I mean the order might not be specified, but there will be some logic in it...","body":"Is DOM giving you random attribute order if you add the input the same way (except for the values of course)? It might not give you the order you want, but it would be strange if it gave you a random order. I mean the order might not be specified, but there will be some logic in it..."},{"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"score":0,"creation_date":1374163842,"post_id":17725948,"comment_id":25842894,"body_markdown":"I think there is probably no library that tells you the order of the attributes in your source XML file. However, you might consider controlling the output, so you could create the written attributes always in the same defined order (for example sorted by name).","body":"I think there is probably no library that tells you the order of the attributes in your source XML file. However, you might consider controlling the output, so you could create the written attributes always in the same defined order (for example sorted by name)."},{"owner":{"account_id":104977,"reputation":12470,"user_id":280393,"accept_rate":66,"display_name":"David Portabella"},"score":0,"creation_date":1374176716,"post_id":17725948,"comment_id":25849788,"body_markdown":"@obecker, I do not have control on the input xml file, so the order of the attributes on the input xml are unknown, and I cannot force an order.","body":"@obecker, I do not have control on the input xml file, so the order of the attributes on the input xml are unknown, and I cannot force an order."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1457601747,"post_id":17725948,"comment_id":59483461,"body_markdown":"Would it be OK to canonicalize both documents before comparing them ? Just a thought...","body":"Would it be OK to canonicalize both documents before comparing them ? Just a thought..."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1584247560,"post_id":17725948,"comment_id":107376000,"body_markdown":"Underscore-java library preserves attribute order while loading xml.","body":"Underscore-java library preserves attribute order while loading xml."}],"answers":[{"tags":[],"owner":{"account_id":3067274,"reputation":143,"user_id":2598693,"display_name":"fla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624103569,"creation_date":1374225793,"answer_id":17742511,"question_id":17725948,"body_markdown":"You can&#39;t use the DOM, but you can use [SAX][1], or querying children using XPath.\r\n\r\nVisit the answer *https://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing/3728241#3728241*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Simple_API_for_XML\r\n\r\n\r\n\r\n","title":"Java XML library that preserves attribute order","body":"<p>You can't use the DOM, but you can use <a href=\"https://en.wikipedia.org/wiki/Simple_API_for_XML\" rel=\"nofollow noreferrer\">SAX</a>, or querying children using XPath.</p>\n<p>Visit the answer <em><a href=\"https://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing/3728241#3728241\">Order of XML attributes after DOM processing</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624103648,"creation_date":1374236609,"answer_id":17746011,"question_id":17725948,"body_markdown":"Do it twice:\r\n\r\nRead the document in using a DOM parser so you have references, a repository, if you will.\r\n\r\nThen read it again using SAX. At the point where you need to make the transformation, reference the DOM version to determine what you need, then output what you need in the middle of the SAX stream.\r\n","title":"Java XML library that preserves attribute order","body":"<p>Do it twice:</p>\n<p>Read the document in using a DOM parser so you have references, a repository, if you will.</p>\n<p>Then read it again using SAX. At the point where you need to make the transformation, reference the DOM version to determine what you need, then output what you need in the middle of the SAX stream.</p>\n"},{"tags":[],"owner":{"account_id":106901,"reputation":36958,"user_id":284538,"accept_rate":64,"display_name":"Mike Thomsen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1624103737,"creation_date":1374237263,"answer_id":17746198,"question_id":17725948,"body_markdown":"Your best bet would be to use [StAX][1] instead of DOM for generating the original document. StAX gives you a lot of fine control over these things and lets you stream output progressively to an output stream instead of holding it all in memory.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/StAX\r\n","title":"Java XML library that preserves attribute order","body":"<p>Your best bet would be to use <a href=\"https://en.wikipedia.org/wiki/StAX\" rel=\"nofollow noreferrer\">StAX</a> instead of DOM for generating the original document. StAX gives you a lot of fine control over these things and lets you stream output progressively to an output stream instead of holding it all in memory.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624103902,"creation_date":1457601591,"answer_id":35912187,"question_id":17725948,"body_markdown":"[Saxon][1] these days offers a serialization option&lt;sup&gt;\\[1\\]&lt;/sup&gt; to control the order in which attributes are output. It doesn&#39;t retain the input order (because Saxon doesn&#39;t know the input order), but it does allow you to control, for example, that the ID attribute always appears first.\r\n\r\nAnd this can be very useful if the XML is going to be hand-edited; XML in which the attributes appear in the &quot;wrong&quot; order can be very disorienting to a human reader or editor.\r\n\r\nIf you&#39;re using this as part of a diff process then you would want to put both files through a process that normalizes the attribute order before comparing them. However, for comparing files my preferred approach is to parse them both and use the XPath deep-equal() function; or to use a specialized tool like DeltaXML.\r\n\r\n&lt;sub&gt;\\[1\\] saxon:attribute-order - see http://www.saxonica.com/documentation/index.html#!extensions/output-extras/serialization-parameters&lt;/sub&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Saxon_XSLT\r\n\r\n\r\n","title":"Java XML library that preserves attribute order","body":"<p><a href=\"https://en.wikipedia.org/wiki/Saxon_XSLT\" rel=\"nofollow noreferrer\">Saxon</a> these days offers a serialization option<sup>[1]</sup> to control the order in which attributes are output. It doesn't retain the input order (because Saxon doesn't know the input order), but it does allow you to control, for example, that the ID attribute always appears first.</p>\n<p>And this can be very useful if the XML is going to be hand-edited; XML in which the attributes appear in the &quot;wrong&quot; order can be very disorienting to a human reader or editor.</p>\n<p>If you're using this as part of a diff process then you would want to put both files through a process that normalizes the attribute order before comparing them. However, for comparing files my preferred approach is to parse them both and use the XPath deep-equal() function; or to use a specialized tool like DeltaXML.</p>\n<p><sub>[1] saxon:attribute-order - see <a href=\"http://www.saxonica.com/documentation/index.html#!extensions/output-extras/serialization-parameters\" rel=\"nofollow noreferrer\">http://www.saxonica.com/documentation/index.html#!extensions/output-extras/serialization-parameters</a></sub></p>\n"},{"tags":[],"owner":{"account_id":1030287,"reputation":549,"user_id":1038733,"accept_rate":0,"display_name":"Erikson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624104173,"creation_date":1510769924,"answer_id":47314592,"question_id":17725948,"body_markdown":"We had similar requirements per [Dave&#39;s description][1]. A solution that worked was based on Java reflection.\r\n\r\nThe idea is to set the propOrder for the attributes at runtime. In our case there&#39;s APP_DATA element containing three attributes: *app*, *key*, and *value*. The generated AppData class includes &quot;content&quot; in propOrder and none of the other attributes:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;AppData&quot;, propOrder = {\r\n        &quot;content&quot;\r\n    })\r\n    public class AppData {\r\n\r\n        @XmlValue\r\n        protected String content;\r\n        @XmlAttribute(name = &quot;Value&quot;, required = true)\r\n        protected String value;\r\n        @XmlAttribute(name = &quot;Name&quot;, required = true)\r\n        protected String name;\r\n        @XmlAttribute(name = &quot;App&quot;, required = true)\r\n        protected String app;\r\n        ...\r\n    }\r\n\r\nSo Java reflection was used as follows to set the order at runtime:\r\n\r\n    final String[] propOrder = { &quot;app&quot;, &quot;name&quot;, &quot;value&quot; };\r\n    ReflectionUtil.changeAnnotationValue(\r\n            AppData.class.getAnnotation(XmlType.class),\r\n            &quot;propOrder&quot;, propOrder);\r\n\r\n    final JAXBContext jaxbContext = JAXBContext\r\n            .newInstance(ADI.class);\r\n    final Marshaller adimarshaller = jaxbContext.createMarshaller();\r\n    adimarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\r\n            true);\r\n\r\n    adimarshaller.marshal(new JAXBElement&lt;ADI&gt;(new QName(&quot;ADI&quot;),\r\n                                               ADI.class, adi),\r\n                          new StreamResult(fileOutputStream));\r\n\r\nThe changeAnnotationValue() was borrowed from this post:\r\n[Modify a class definition&#39;s annotation string parameter at runtime][2]\r\n\r\n\r\nHere&#39;s the method for your convenience (credit goes to @assylias and @Balder):\r\n\r\n    /**\r\n     * Changes the annotation value for the given key of the given annotation to newValue and returns\r\n     * the previous value.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static Object changeAnnotationValue(Annotation annotation, String key, Object newValue) {\r\n        Object handler = Proxy.getInvocationHandler(annotation);\r\n        Field f;\r\n        try {\r\n            f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\r\n        } catch (NoSuchFieldException | SecurityException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n        f.setAccessible(true);\r\n        Map&lt;String, Object&gt; memberValues;\r\n        try {\r\n            memberValues = (Map&lt;String, Object&gt;) f.get(handler);\r\n        } catch (IllegalArgumentException | IllegalAccessException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n        Object oldValue = memberValues.get(key);\r\n        if (oldValue == null || oldValue.getClass() != newValue.getClass()) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        memberValues.put(key, newValue);\r\n        return oldValue;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/17725948/java-xml-library-that-preserves-attribute-order/59157299#59157299\r\n  [2]: https://stackoverflow.com/questions/14268981/modify-a-class-definitions-annotation-string-parameter-at-runtime\r\n\r\n\r\n","title":"Java XML library that preserves attribute order","body":"<p>We had similar requirements per <a href=\"https://stackoverflow.com/questions/17725948/java-xml-library-that-preserves-attribute-order/59157299#59157299\">Dave's description</a>. A solution that worked was based on Java reflection.</p>\n<p>The idea is to set the propOrder for the attributes at runtime. In our case there's APP_DATA element containing three attributes: <em>app</em>, <em>key</em>, and <em>value</em>. The generated AppData class includes &quot;content&quot; in propOrder and none of the other attributes:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;AppData&quot;, propOrder = {\n    &quot;content&quot;\n})\npublic class AppData {\n\n    @XmlValue\n    protected String content;\n    @XmlAttribute(name = &quot;Value&quot;, required = true)\n    protected String value;\n    @XmlAttribute(name = &quot;Name&quot;, required = true)\n    protected String name;\n    @XmlAttribute(name = &quot;App&quot;, required = true)\n    protected String app;\n    ...\n}\n</code></pre>\n<p>So Java reflection was used as follows to set the order at runtime:</p>\n<pre><code>final String[] propOrder = { &quot;app&quot;, &quot;name&quot;, &quot;value&quot; };\nReflectionUtil.changeAnnotationValue(\n        AppData.class.getAnnotation(XmlType.class),\n        &quot;propOrder&quot;, propOrder);\n\nfinal JAXBContext jaxbContext = JAXBContext\n        .newInstance(ADI.class);\nfinal Marshaller adimarshaller = jaxbContext.createMarshaller();\nadimarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\n        true);\n\nadimarshaller.marshal(new JAXBElement&lt;ADI&gt;(new QName(&quot;ADI&quot;),\n                                           ADI.class, adi),\n                      new StreamResult(fileOutputStream));\n</code></pre>\n<p>The changeAnnotationValue() was borrowed from this post:\n<a href=\"https://stackoverflow.com/questions/14268981/modify-a-class-definitions-annotation-string-parameter-at-runtime\">Modify a class definition's annotation string parameter at runtime</a></p>\n<p>Here's the method for your convenience (credit goes to @assylias and @Balder):</p>\n<pre><code>/**\n * Changes the annotation value for the given key of the given annotation to newValue and returns\n * the previous value.\n */\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static Object changeAnnotationValue(Annotation annotation, String key, Object newValue) {\n    Object handler = Proxy.getInvocationHandler(annotation);\n    Field f;\n    try {\n        f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\n    } catch (NoSuchFieldException | SecurityException e) {\n        throw new IllegalStateException(e);\n    }\n    f.setAccessible(true);\n    Map&lt;String, Object&gt; memberValues;\n    try {\n        memberValues = (Map&lt;String, Object&gt;) f.get(handler);\n    } catch (IllegalArgumentException | IllegalAccessException e) {\n        throw new IllegalStateException(e);\n    }\n    Object oldValue = memberValues.get(key);\n    if (oldValue == null || oldValue.getClass() != newValue.getClass()) {\n        throw new IllegalArgumentException();\n    }\n    memberValues.put(key, newValue);\n    return oldValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133450,"reputation":2017,"user_id":1118996,"display_name":"IvanNik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624104509,"creation_date":1554833432,"answer_id":55598817,"question_id":17725948,"body_markdown":"You may override AttributeSortedMap and sort attributes as you need...\r\n\r\nThe main idea: load the document, recursively copy to elements that support sorted attributeMap and serialize using the existing XMLSerializer.\r\n\r\n### File *test.xml*\r\n\r\n    &lt;root&gt;\r\n        &lt;person first_name=&quot;john1&quot; last_name=&quot;lederrey1&quot;/&gt;\r\n        &lt;person first_name=&quot;john2&quot; last_name=&quot;lederrey2&quot;/&gt;\r\n        &lt;person first_name=&quot;john3&quot; last_name=&quot;lederrey3&quot;/&gt;\r\n        &lt;person first_name=&quot;john4&quot; last_name=&quot;lederrey4&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n### File *AttOrderSorter.java*\r\n\r\n    import com.sun.org.apache.xerces.internal.dom.AttrImpl;\r\n    import com.sun.org.apache.xerces.internal.dom.AttributeMap;\r\n    import com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl;\r\n    import com.sun.org.apache.xerces.internal.dom.ElementImpl;\r\n    import com.sun.org.apache.xml.internal.serialize.OutputFormat;\r\n    import com.sun.org.apache.xml.internal.serialize.XMLSerializer;\r\n    import org.w3c.dom.*;\r\n\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.Writer;\r\n    import java.util.List;\r\n\r\n    import static java.util.Arrays.asList;\r\n\r\n    public class AttOrderSorter {\r\n\r\n        private List&lt;String&gt; sortAtts = asList(&quot;last_name&quot;, &quot;first_name&quot;);\r\n\r\n        public void format(String inFile, String outFile) throws Exception {\r\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = dbFactory.newDocumentBuilder();\r\n            Document outDocument = builder.newDocument();\r\n            try (FileInputStream inputStream = new FileInputStream(inFile)) {\r\n                Document document = dbFactory.newDocumentBuilder().parse(inputStream);\r\n                Element sourceRoot = document.getDocumentElement();\r\n                Element outRoot = outDocument.createElementNS(sourceRoot.getNamespaceURI(), sourceRoot.getTagName());\r\n                outDocument.appendChild(outRoot);\r\n\r\n                copyAtts(sourceRoot.getAttributes(), outRoot);\r\n                copyElement(sourceRoot.getChildNodes(), outRoot, outDocument);\r\n            }\r\n\r\n            try (Writer outxml = new FileWriter(new File(outFile))) {\r\n\r\n                OutputFormat format = new OutputFormat();\r\n                format.setLineWidth(0);\r\n                format.setIndenting(false);\r\n                format.setIndent(2);\r\n\r\n                XMLSerializer serializer = new XMLSerializer(outxml, format);\r\n                serializer.serialize(outDocument);\r\n            }\r\n        }\r\n\r\n        private void copyElement(NodeList nodes, Element parent, Document document) {\r\n            for (int i = 0; i &lt; nodes.getLength(); i++) {\r\n                Node node = nodes.item(i);\r\n                if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n                    Element element = new ElementImpl((CoreDocumentImpl) document, node.getNodeName()) {\r\n                        @Override\r\n                        public NamedNodeMap getAttributes() {\r\n                            return new AttributeSortedMap(this, (AttributeMap) super.getAttributes());\r\n                        }\r\n                    };\r\n                    copyAtts(node.getAttributes(), element);\r\n                    copyElement(node.getChildNodes(), element, document);\r\n\r\n                    parent.appendChild(element);\r\n                }\r\n            }\r\n        }\r\n\r\n        private void copyAtts(NamedNodeMap attributes, Element target) {\r\n            for (int i = 0; i &lt; attributes.getLength(); i++) {\r\n                Node att = attributes.item(i);\r\n                target.setAttribute(att.getNodeName(), att.getNodeValue());\r\n            }\r\n        }\r\n\r\n        public class AttributeSortedMap extends AttributeMap {\r\n            AttributeSortedMap(ElementImpl element, AttributeMap attributes) {\r\n                super(element, attributes);\r\n                nodes.sort((o1, o2) -&gt; {\r\n                    AttrImpl att1 = (AttrImpl) o1;\r\n                    AttrImpl att2 = (AttrImpl) o2;\r\n\r\n                    Integer pos1 = sortAtts.indexOf(att1.getNodeName());\r\n                    Integer pos2 = sortAtts.indexOf(att2.getNodeName());\r\n                    if (pos1 &gt; -1 &amp;&amp; pos2 &gt; -1) {\r\n                        return pos1.compareTo(pos2);\r\n                    } else if (pos1 &gt; -1 || pos2 &gt; -1) {\r\n                        return pos1 == -1 ? 1 : -1;\r\n                    }\r\n                    return att1.getNodeName().compareTo(att2.getNodeName());\r\n                });\r\n            }\r\n        }\r\n\r\n        public void main(String[] args) throws Exception {\r\n            new AttOrderSorter().format(&quot;src/main/resources/test.xml&quot;, &quot;src/main/resources/output.xml&quot;);\r\n        }\r\n    }\r\n\r\n### Result - file *output.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n      &lt;person last_name=&quot;lederrey1&quot; first_name=&quot;john1&quot;/&gt;\r\n      &lt;person last_name=&quot;lederrey2&quot; first_name=&quot;john2&quot;/&gt;\r\n      &lt;person last_name=&quot;lederrey3&quot; first_name=&quot;john3&quot;/&gt;\r\n      &lt;person last_name=&quot;lederrey4&quot; first_name=&quot;john4&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java XML library that preserves attribute order","body":"<p>You may override AttributeSortedMap and sort attributes as you need...</p>\n<p>The main idea: load the document, recursively copy to elements that support sorted attributeMap and serialize using the existing XMLSerializer.</p>\n<h3>File <em>test.xml</em></h3>\n<pre><code>&lt;root&gt;\n    &lt;person first_name=&quot;john1&quot; last_name=&quot;lederrey1&quot;/&gt;\n    &lt;person first_name=&quot;john2&quot; last_name=&quot;lederrey2&quot;/&gt;\n    &lt;person first_name=&quot;john3&quot; last_name=&quot;lederrey3&quot;/&gt;\n    &lt;person first_name=&quot;john4&quot; last_name=&quot;lederrey4&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n<h3>File <em>AttOrderSorter.java</em></h3>\n<pre><code>import com.sun.org.apache.xerces.internal.dom.AttrImpl;\nimport com.sun.org.apache.xerces.internal.dom.AttributeMap;\nimport com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl;\nimport com.sun.org.apache.xerces.internal.dom.ElementImpl;\nimport com.sun.org.apache.xml.internal.serialize.OutputFormat;\nimport com.sun.org.apache.xml.internal.serialize.XMLSerializer;\nimport org.w3c.dom.*;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileWriter;\nimport java.io.Writer;\nimport java.util.List;\n\nimport static java.util.Arrays.asList;\n\npublic class AttOrderSorter {\n\n    private List&lt;String&gt; sortAtts = asList(&quot;last_name&quot;, &quot;first_name&quot;);\n\n    public void format(String inFile, String outFile) throws Exception {\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = dbFactory.newDocumentBuilder();\n        Document outDocument = builder.newDocument();\n        try (FileInputStream inputStream = new FileInputStream(inFile)) {\n            Document document = dbFactory.newDocumentBuilder().parse(inputStream);\n            Element sourceRoot = document.getDocumentElement();\n            Element outRoot = outDocument.createElementNS(sourceRoot.getNamespaceURI(), sourceRoot.getTagName());\n            outDocument.appendChild(outRoot);\n\n            copyAtts(sourceRoot.getAttributes(), outRoot);\n            copyElement(sourceRoot.getChildNodes(), outRoot, outDocument);\n        }\n\n        try (Writer outxml = new FileWriter(new File(outFile))) {\n\n            OutputFormat format = new OutputFormat();\n            format.setLineWidth(0);\n            format.setIndenting(false);\n            format.setIndent(2);\n\n            XMLSerializer serializer = new XMLSerializer(outxml, format);\n            serializer.serialize(outDocument);\n        }\n    }\n\n    private void copyElement(NodeList nodes, Element parent, Document document) {\n        for (int i = 0; i &lt; nodes.getLength(); i++) {\n            Node node = nodes.item(i);\n            if (node.getNodeType() == Node.ELEMENT_NODE) {\n                Element element = new ElementImpl((CoreDocumentImpl) document, node.getNodeName()) {\n                    @Override\n                    public NamedNodeMap getAttributes() {\n                        return new AttributeSortedMap(this, (AttributeMap) super.getAttributes());\n                    }\n                };\n                copyAtts(node.getAttributes(), element);\n                copyElement(node.getChildNodes(), element, document);\n\n                parent.appendChild(element);\n            }\n        }\n    }\n\n    private void copyAtts(NamedNodeMap attributes, Element target) {\n        for (int i = 0; i &lt; attributes.getLength(); i++) {\n            Node att = attributes.item(i);\n            target.setAttribute(att.getNodeName(), att.getNodeValue());\n        }\n    }\n\n    public class AttributeSortedMap extends AttributeMap {\n        AttributeSortedMap(ElementImpl element, AttributeMap attributes) {\n            super(element, attributes);\n            nodes.sort((o1, o2) -&gt; {\n                AttrImpl att1 = (AttrImpl) o1;\n                AttrImpl att2 = (AttrImpl) o2;\n\n                Integer pos1 = sortAtts.indexOf(att1.getNodeName());\n                Integer pos2 = sortAtts.indexOf(att2.getNodeName());\n                if (pos1 &gt; -1 &amp;&amp; pos2 &gt; -1) {\n                    return pos1.compareTo(pos2);\n                } else if (pos1 &gt; -1 || pos2 &gt; -1) {\n                    return pos1 == -1 ? 1 : -1;\n                }\n                return att1.getNodeName().compareTo(att2.getNodeName());\n            });\n        }\n    }\n\n    public void main(String[] args) throws Exception {\n        new AttOrderSorter().format(&quot;src/main/resources/test.xml&quot;, &quot;src/main/resources/output.xml&quot;);\n    }\n}\n</code></pre>\n<h3>Result - file <em>output.xml</em></h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n  &lt;person last_name=&quot;lederrey1&quot; first_name=&quot;john1&quot;/&gt;\n  &lt;person last_name=&quot;lederrey2&quot; first_name=&quot;john2&quot;/&gt;\n  &lt;person last_name=&quot;lederrey3&quot; first_name=&quot;john3&quot;/&gt;\n  &lt;person last_name=&quot;lederrey4&quot; first_name=&quot;john4&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636462213,"creation_date":1575376602,"answer_id":59157299,"question_id":17725948,"body_markdown":"You might also want to try [DecentXML][1], as it can preserve the attribute order, comments and even indentation.\r\n\r\nIt is very nice if you need to programmatically update an XML file that&#39;s also supposed to be human-editable. We use it for one of our configuration tools.\r\n\r\n  [1]: https://bitbucket.org/digulla/decentxml/src/default/\r\n\r\n-- edit --\r\n\r\nIt seems it is no longer available on its original location; try these ones: \r\n* https://github.com/cartermckinnon/decentxml\r\n* https://github.com/haroldo-ok/decentxml (unnoficial and unmaintained fork; kept here just in case the other forks disappear, too)\r\n* https://directory.fsf.org/wiki/DecentXML\r\n","title":"Java XML library that preserves attribute order","body":"<p>You might also want to try <a href=\"https://bitbucket.org/digulla/decentxml/src/default/\" rel=\"nofollow noreferrer\">DecentXML</a>, as it can preserve the attribute order, comments and even indentation.</p>\n<p>It is very nice if you need to programmatically update an XML file that's also supposed to be human-editable. We use it for one of our configuration tools.</p>\n<p>-- edit --</p>\n<p>It seems it is no longer available on its original location; try these ones:</p>\n<ul>\n<li><a href=\"https://github.com/cartermckinnon/decentxml\" rel=\"nofollow noreferrer\">https://github.com/cartermckinnon/decentxml</a></li>\n<li><a href=\"https://github.com/haroldo-ok/decentxml\" rel=\"nofollow noreferrer\">https://github.com/haroldo-ok/decentxml</a> (unnoficial and unmaintained fork; kept here just in case the other forks disappear, too)</li>\n<li><a href=\"https://directory.fsf.org/wiki/DecentXML\" rel=\"nofollow noreferrer\">https://directory.fsf.org/wiki/DecentXML</a></li>\n</ul>\n"}],"owner":{"account_id":104977,"reputation":12470,"user_id":280393,"accept_rate":66,"display_name":"David Portabella"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8751,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":59157299,"answer_count":7,"score":11,"last_activity_date":1636462213,"creation_date":1374156818,"question_id":17725948,"body_markdown":"I am writing a Java program that reads an XML file, makes some modifications, and writes back the XML.\r\n\r\nUsing the standard Java XML DOM API, the order of the attributes is not preserved.\r\n\r\nThat is, if I have an input file such as:\r\n\r\n    &lt;person first_name=&quot;john&quot; last_name=&quot;lederrey&quot;/&gt;\r\n\r\nI might get an output file as:\r\n\r\n    &lt;person last_name=&quot;lederrey&quot; first_name=&quot;john&quot;/&gt;\r\n\r\nThat&#39;s correct, because the XML specification says that order attribute is not significant.\r\n\r\nHowever, my program needs to preserve the order of the attributes, so that a person can easily compare the input and output document with a diff tool.\r\n\r\nOne solution for that is to process the document with SAX (instead of DOM):\r\n*https://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing/3728241#3728241*\r\n\r\nHowever, this does not work for my case,\r\nbecause the transformation I need to do in one node might depend on a [XPath][1] expression on the whole document.\r\n\r\nSo, the simplest thing would be to have a XML library very similar to the standard Java DOM library, with the exception that it preserves the attribute order.\r\n\r\nIs there such a library?\r\n\r\nPS: Please, avoid discussing whether I should the preserve attribute order or not. This is a very interesting discussion, but it is not the point of this question.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XPath\r\n\r\n\r\n","title":"Java XML library that preserves attribute order","body":"<p>I am writing a Java program that reads an XML file, makes some modifications, and writes back the XML.</p>\n<p>Using the standard Java XML DOM API, the order of the attributes is not preserved.</p>\n<p>That is, if I have an input file such as:</p>\n<pre><code>&lt;person first_name=&quot;john&quot; last_name=&quot;lederrey&quot;/&gt;\n</code></pre>\n<p>I might get an output file as:</p>\n<pre><code>&lt;person last_name=&quot;lederrey&quot; first_name=&quot;john&quot;/&gt;\n</code></pre>\n<p>That's correct, because the XML specification says that order attribute is not significant.</p>\n<p>However, my program needs to preserve the order of the attributes, so that a person can easily compare the input and output document with a diff tool.</p>\n<p>One solution for that is to process the document with SAX (instead of DOM):\n<em><a href=\"https://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing/3728241#3728241\">Order of XML attributes after DOM processing</a></em></p>\n<p>However, this does not work for my case,\nbecause the transformation I need to do in one node might depend on a <a href=\"https://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">XPath</a> expression on the whole document.</p>\n<p>So, the simplest thing would be to have a XML library very similar to the standard Java DOM library, with the exception that it preserves the attribute order.</p>\n<p>Is there such a library?</p>\n<p>PS: Please, avoid discussing whether I should the preserve attribute order or not. This is a very interesting discussion, but it is not the point of this question.</p>\n"},{"tags":["java","list","merge","iterator"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1476917414,"post_id":40142675,"comment_id":67555463,"body_markdown":"This won&#39;t work because of so many reasons.  For instance, you are calling `next()` twice for a given step.","body":"This won&#39;t work because of so many reasons.  For instance, you are calling <code>next()</code> twice for a given step."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1476917827,"post_id":40142675,"comment_id":67555576,"body_markdown":"Did you forget why you&#39;re using a `PushbackIterator`?","body":"Did you forget why you&#39;re using a <code>PushbackIterator</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476918293,"creation_date":1476918293,"answer_id":40142897,"question_id":40142675,"body_markdown":"In order to perform a merge, you need to peek at the next value, so see which next value to use.\r\n\r\nEventually, one of the lists will run out of values before the other, so you need to check for that.\r\n\r\nOne trick is to use `null` as an End-Of-Data marker, assuming that lists cannot contain `null` values, which is a fair assumption since they have to be sorted. In that case, code will be like this:\r\n\r\n\tpublic static &lt;E extends Comparable&lt;E&gt;&gt; List&lt;E&gt; mergeSortedLists(List&lt;E&gt; list1, List&lt;E&gt; list2) {\r\n\t\tList&lt;E&gt; merged = new ArrayList&lt;&gt;(list1.size() + list2.size());\r\n\t\t\r\n\t\t// Get list iterators and fetch first value from each, if available\r\n\t\tIterator&lt;E&gt; iter1 = list1.iterator();\r\n\t\tIterator&lt;E&gt; iter2 = list2.iterator();\r\n\t\tE value1 = (iter1.hasNext() ? iter1.next() : null);\r\n\t\tE value2 = (iter2.hasNext() ? iter2.next() : null);\r\n\t\t\r\n\t\t// Loop while values remain in either list\r\n\t\twhile (value1 != null || value2 != null) {\r\n\t\t\t\r\n\t\t\t// Choose list to pull value from\r\n\t\t\tif (value2 == null || (value1 != null &amp;&amp; value1.compareTo(value2) &lt;= 0)) {\r\n\t\t\t\t\r\n\t\t\t\t// Add list1 value to result and fetch next value, if available\r\n\t\t\t\tmerged.add(value1);\r\n\t\t\t\tvalue1 = (iter1.hasNext() ? iter1.next() : null);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\t// Add list2 value to result and fetch next value, if available\r\n\t\t\t\tmerged.add(value2);\r\n\t\t\t\tvalue2 = (iter2.hasNext() ? iter2.next() : null);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Return merged result\r\n\t\treturn merged;\r\n\t}\r\n\r\n*Test*\r\n\r\n\tSystem.out.println(mergeSortedLists(Arrays.asList(1, 4, 5),\r\n\t                                    Arrays.asList(2, 3, 6)));\r\n\r\n*Output*\r\n\r\n\t[1, 2, 3, 4, 5, 6]","title":"Merging Sorted Lists with Iterators in Java","body":"<p>In order to perform a merge, you need to peek at the next value, so see which next value to use.</p>\n\n<p>Eventually, one of the lists will run out of values before the other, so you need to check for that.</p>\n\n<p>One trick is to use <code>null</code> as an End-Of-Data marker, assuming that lists cannot contain <code>null</code> values, which is a fair assumption since they have to be sorted. In that case, code will be like this:</p>\n\n<pre><code>public static &lt;E extends Comparable&lt;E&gt;&gt; List&lt;E&gt; mergeSortedLists(List&lt;E&gt; list1, List&lt;E&gt; list2) {\n    List&lt;E&gt; merged = new ArrayList&lt;&gt;(list1.size() + list2.size());\n\n    // Get list iterators and fetch first value from each, if available\n    Iterator&lt;E&gt; iter1 = list1.iterator();\n    Iterator&lt;E&gt; iter2 = list2.iterator();\n    E value1 = (iter1.hasNext() ? iter1.next() : null);\n    E value2 = (iter2.hasNext() ? iter2.next() : null);\n\n    // Loop while values remain in either list\n    while (value1 != null || value2 != null) {\n\n        // Choose list to pull value from\n        if (value2 == null || (value1 != null &amp;&amp; value1.compareTo(value2) &lt;= 0)) {\n\n            // Add list1 value to result and fetch next value, if available\n            merged.add(value1);\n            value1 = (iter1.hasNext() ? iter1.next() : null);\n\n        } else {\n\n            // Add list2 value to result and fetch next value, if available\n            merged.add(value2);\n            value2 = (iter2.hasNext() ? iter2.next() : null);\n\n        }\n    }\n\n    // Return merged result\n    return merged;\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre><code>System.out.println(mergeSortedLists(Arrays.asList(1, 4, 5),\n                                    Arrays.asList(2, 3, 6)));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre><code>[1, 2, 3, 4, 5, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1476948432,"creation_date":1476918444,"answer_id":40142927,"question_id":40142675,"body_markdown":"I&#39;m going to assume you intended something like this with your use of `PushbackIterator`:\r\n\r\n    while (aIter.hasNext() &amp;&amp; bIter.hasNext()) {\r\n        E aElem = aIter.next();\r\n        E bElem = bIter.next();\r\n        if (aElem.compareTo(bElem) &lt;= 0) {\r\n            result.add(aElem);\r\n            bIter.pushback(bElem);\r\n        } else {\r\n            result.add(bElem);\r\n            aIter.pushback(aElem);\r\n        }\r\n    }","title":"Merging Sorted Lists with Iterators in Java","body":"<p>I'm going to assume you intended something like this with your use of <code>PushbackIterator</code>:</p>\n\n<pre><code>while (aIter.hasNext() &amp;&amp; bIter.hasNext()) {\n    E aElem = aIter.next();\n    E bElem = bIter.next();\n    if (aElem.compareTo(bElem) &lt;= 0) {\n        result.add(aElem);\n        bIter.pushback(bElem);\n    } else {\n        result.add(bElem);\n        aIter.pushback(aElem);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1262889,"reputation":81,"user_id":1220773,"display_name":"Manjeet Rulhania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513976257,"creation_date":1513976257,"answer_id":47947303,"question_id":40142675,"body_markdown":"Same approach of merging 2 arrays can also be used with iterators tweaking a little bit. you can use adding elements instead of printing if needed.\r\n\r\n\r\n\r\n    static void printItr(Iterator&lt;String&gt; it1, Iterator&lt;String&gt; it2) {\r\n\t\tString firstString=null,secondString = null;\r\n\t\tboolean moveAheadIt1 = true, moveAheadIt2 = true;\r\n\r\n\t\twhile(it1.hasNext() &amp;&amp; it2.hasNext()){\r\n\t\t\t firstString = moveAheadIt1 ? it1.next() : firstString ;\r\n\t\t\t secondString = moveAheadIt2 ? it2.next() : secondString;\r\n\r\n\t\t\t if(firstString.compareTo(secondString) &lt; 0){\r\n\t\t\t\tSystem.out.println(firstString);\r\n\t\t\t\tmoveAheadIt2 = false;\r\n\t\t\t\tmoveAheadIt1 = true;\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(secondString);\r\n\t\t\t\tmoveAheadIt1 = false;\r\n\t\t\t\tmoveAheadIt2 = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twhile(it1.hasNext()){\r\n\t\t\tSystem.out.println(it1.next());\r\n\t\t}\r\n\t\twhile(it2.hasNext()){\r\n\t\t\tSystem.out.println(it2.next());\r\n\t\t}\r\n\r\n\t}","title":"Merging Sorted Lists with Iterators in Java","body":"<p>Same approach of merging 2 arrays can also be used with iterators tweaking a little bit. you can use adding elements instead of printing if needed.</p>\n\n<pre><code>static void printItr(Iterator&lt;String&gt; it1, Iterator&lt;String&gt; it2) {\n    String firstString=null,secondString = null;\n    boolean moveAheadIt1 = true, moveAheadIt2 = true;\n\n    while(it1.hasNext() &amp;&amp; it2.hasNext()){\n         firstString = moveAheadIt1 ? it1.next() : firstString ;\n         secondString = moveAheadIt2 ? it2.next() : secondString;\n\n         if(firstString.compareTo(secondString) &lt; 0){\n            System.out.println(firstString);\n            moveAheadIt2 = false;\n            moveAheadIt1 = true;\n        }else {\n            System.out.println(secondString);\n            moveAheadIt1 = false;\n            moveAheadIt2 = true;\n        }\n    }\n\n    while(it1.hasNext()){\n        System.out.println(it1.next());\n    }\n    while(it2.hasNext()){\n        System.out.println(it2.next());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5940176,"reputation":81,"user_id":4671720,"display_name":"Tamas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636461861,"creation_date":1636461861,"answer_id":69898369,"question_id":40142675,"body_markdown":"If you are willing to use a library, the cleanest solution would be to use Collection-utils4 and *IteratorUtils.collatedIterator()*.\r\n\r\nYou need to provide a *Comparator* in order to pick the right element.","title":"Merging Sorted Lists with Iterators in Java","body":"<p>If you are willing to use a library, the cleanest solution would be to use Collection-utils4 and <em>IteratorUtils.collatedIterator()</em>.</p>\n<p>You need to provide a <em>Comparator</em> in order to pick the right element.</p>\n"}],"owner":{"account_id":7801668,"reputation":81,"user_id":5900887,"accept_rate":60,"display_name":"dj5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2706,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":40142927,"answer_count":4,"score":-3,"last_activity_date":1636461861,"creation_date":1476916905,"question_id":40142675,"body_markdown":"The method I am using takes two sorted lists and returns a single list containing all of the elements in the two original lists, in sorted order.\r\n\r\nFor example, if the original lists are (1, 4, 5) and (2, 3, 6) then the result list would be (1, 2, 3, 4, 5, 6). \r\n\r\nIs there something I am missing? \r\n\r\n    public static&lt;E extends Comparable&lt;E&gt;&gt; List&lt;E&gt; mergeSortedLists(List&lt;E&gt; a, List&lt;E&gt; b) {\r\n\t\tList&lt;E&gt; result = new ArrayList&lt;E&gt;();\r\n\t\t\r\n\t\tPushbackIterator&lt;E&gt; aIter = new PushbackIterator&lt;E&gt;(a.iterator());\r\n\t\tPushbackIterator&lt;E&gt; bIter = new PushbackIterator&lt;E&gt;(b.iterator());\r\n\t\t\r\n\t\twhile (aIter.hasNext() &amp;&amp; bIter.hasNext()) {\r\n\t        if (aIter.next().compareTo(bIter.next()) &lt; 0) {\r\n\t            result.add(aIter.next());\r\n\t        }  \r\n\t        if (bIter.next().compareTo(bIter.next()) &gt; 0){\r\n\t            result.add(bIter.next());\r\n\t        }\r\n\t    }\r\n\t    while (aIter.hasNext()) {\r\n\t        result.add(aIter.next());\r\n\t    }\r\n\t    while (bIter.hasNext()) {\r\n\t        result.add(bIter.next());\r\n\t    }\r\n\t    return result;\r\n\t}","title":"Merging Sorted Lists with Iterators in Java","body":"<p>The method I am using takes two sorted lists and returns a single list containing all of the elements in the two original lists, in sorted order.</p>\n\n<p>For example, if the original lists are (1, 4, 5) and (2, 3, 6) then the result list would be (1, 2, 3, 4, 5, 6). </p>\n\n<p>Is there something I am missing? </p>\n\n<pre><code>public static&lt;E extends Comparable&lt;E&gt;&gt; List&lt;E&gt; mergeSortedLists(List&lt;E&gt; a, List&lt;E&gt; b) {\n    List&lt;E&gt; result = new ArrayList&lt;E&gt;();\n\n    PushbackIterator&lt;E&gt; aIter = new PushbackIterator&lt;E&gt;(a.iterator());\n    PushbackIterator&lt;E&gt; bIter = new PushbackIterator&lt;E&gt;(b.iterator());\n\n    while (aIter.hasNext() &amp;&amp; bIter.hasNext()) {\n        if (aIter.next().compareTo(bIter.next()) &lt; 0) {\n            result.add(aIter.next());\n        }  \n        if (bIter.next().compareTo(bIter.next()) &gt; 0){\n            result.add(bIter.next());\n        }\n    }\n    while (aIter.hasNext()) {\n        result.add(aIter.next());\n    }\n    while (bIter.hasNext()) {\n        result.add(bIter.next());\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","wia","twain","morena"],"answers":[{"tags":[],"owner":{"account_id":1855196,"reputation":1882,"user_id":1680941,"accept_rate":80,"display_name":"MaKR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453825411,"creation_date":1453825411,"answer_id":35018687,"question_id":33995177,"body_markdown":"64-bit Java libraries *should* include 32-bit compatibility.  I can&#39;t tell you if WIA will solve this as I haven&#39;t used WIA or Morena 7.  Your Morena license will cover both 6 and 7, so you could definitely run a test application using it.  What I can tell you is that WIA is the &quot;user friendly&quot; dumbed down version that doesn&#39;t support as many nice features as TWAIN had.\r\n\r\nAs for the architecture issue and solving for Morena 6, I have successfully run in Chrome and Firefox (both 64-bit, before NPAPI [and therefore Java] support was dropped) using 64-bit Java on 32-bit TWAIN.  From what I gather though you&#39;re probably running an application, which theoretically should make this easier.  You&#39;ll just need to find out how to force your application to run in 32-bit mode.","title":"Morena version 6 vs 7","body":"<p>64-bit Java libraries <em>should</em> include 32-bit compatibility.  I can't tell you if WIA will solve this as I haven't used WIA or Morena 7.  Your Morena license will cover both 6 and 7, so you could definitely run a test application using it.  What I can tell you is that WIA is the \"user friendly\" dumbed down version that doesn't support as many nice features as TWAIN had.</p>\n\n<p>As for the architecture issue and solving for Morena 6, I have successfully run in Chrome and Firefox (both 64-bit, before NPAPI [and therefore Java] support was dropped) using 64-bit Java on 32-bit TWAIN.  From what I gather though you're probably running an application, which theoretically should make this easier.  You'll just need to find out how to force your application to run in 32-bit mode.</p>\n"},{"tags":[],"owner":{"account_id":5619373,"reputation":21,"user_id":4449734,"display_name":"Ajith Ath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488908700,"creation_date":1488908700,"answer_id":42654851,"question_id":33995177,"body_markdown":"I had not much Knowledge about morena7 Please find the documentation in the following link\r\n\r\nhttp://www.gnome.eu/Morena/doc/tutorial7.html\r\n\r\nhttp://gnome.sk/Morena/morena.html","title":"Morena version 6 vs 7","body":"<p>I had not much Knowledge about morena7 Please find the documentation in the following link</p>\n\n<p><a href=\"http://www.gnome.eu/Morena/doc/tutorial7.html\" rel=\"nofollow noreferrer\">http://www.gnome.eu/Morena/doc/tutorial7.html</a></p>\n\n<p><a href=\"http://gnome.sk/Morena/morena.html\" rel=\"nofollow noreferrer\">http://gnome.sk/Morena/morena.html</a></p>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636461611,"creation_date":1636461611,"answer_id":69898309,"question_id":33995177,"body_markdown":"In Morena 7.1.36, there is the ability to use 32bit Twain drivers in 64bit Java.\r\nIt internally uses some 64bit surrogate process and is partly coded in assembly.\r\n\r\nYou can use it like that:\r\n\r\n    Configuration.setMode(Configuration.MODE_TWAIN_ENABLED);\r\n\r\nor with native UI dialog:\r\n\r\n    Configuration.setMode(Configuration.MODE_NATIVE_UI | Configuration.MODE_TWAIN_ENABLED);","title":"Morena version 6 vs 7","body":"<p>In Morena 7.1.36, there is the ability to use 32bit Twain drivers in 64bit Java.\nIt internally uses some 64bit surrogate process and is partly coded in assembly.</p>\n<p>You can use it like that:</p>\n<pre><code>Configuration.setMode(Configuration.MODE_TWAIN_ENABLED);\n</code></pre>\n<p>or with native UI dialog:</p>\n<pre><code>Configuration.setMode(Configuration.MODE_NATIVE_UI | Configuration.MODE_TWAIN_ENABLED);\n</code></pre>\n"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1891,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1636461611,"creation_date":1448875497,"question_id":33995177,"body_markdown":"We are currently using the Morena 6 lib to scan images. Morena 6 internally uses the TWAIN protocol and we got a big issue. All our scanners install a 32 bit TWAIN driver, so we cannot use it when we start a 64 bit version of Java. We can now switch to Morena 7 which uses the WIA protocol. But I don&#39;t know whether it solves the above described problem. I think I&#39;m not the first who has such problems. Probably somebody can tell me whether this protocol change can solve my problem?","title":"Morena version 6 vs 7","body":"<p>We are currently using the Morena 6 lib to scan images. Morena 6 internally uses the TWAIN protocol and we got a big issue. All our scanners install a 32 bit TWAIN driver, so we cannot use it when we start a 64 bit version of Java. We can now switch to Morena 7 which uses the WIA protocol. But I don't know whether it solves the above described problem. I think I'm not the first who has such problems. Probably somebody can tell me whether this protocol change can solve my problem?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":19134381,"reputation":33,"user_id":13975634,"display_name":"Sibtain Shahbaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636461253,"creation_date":1636461253,"question_id":69898229,"body_markdown":"I am facing issue while subtracting my product, I am using three buttons to get the value of the selected one and then multiply these value for add more product or subtract . But when i click on subtract button it will minus the whole amount. So please help me in this. Below mention is my code. If you want some more info then please ask me.\r\n\r\n    public class ShowDetailActivity extends AppCompatActivity {\r\n    \r\n        private TextView addToCardBtn;\r\n        private TextView titleTxt, feeTxt, descriptionTxt, numberOrderTxt;\r\n        private ImageView plusBtn, minusBtn, picFood, priceBtn, mediumPriceBtn, largePriceBtn;\r\n        private ProductsDomain object;\r\n        private int numberOrder = 1;\r\n        private ManagementCart managementCart;\r\n        private LinearLayout cheese_ll;\r\n        private LinearLayout scale_ll;\r\n        private int itemPrice;\r\n        private CheckBox cheeseBoxyes;\r\n        private int price;\r\n        private int checkvalue;\r\n        private int uncheckValue;\r\n        private boolean cheeseBoolean = true;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_show_detail);\r\n    \r\n            managementCart = new ManagementCart(this);\r\n    \r\n            initView();\r\n            getBundle();\r\n    \r\n            //Button Code\r\n            price=object.getPrice();\r\n    \r\n            priceBtn.setOnClickListener(this::onClick);\r\n            mediumPriceBtn.setOnClickListener(this::onClick);\r\n            largePriceBtn.setOnClickListener(this::onClick);\r\n    \r\n            //check box code for extra cheese\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        private void onClick(View view) {\r\n        int id=view.getId();\r\n        switch (id){\r\n            case R.id.smallPriceBtn:\r\n                price=object.getPrice();\r\n                itemPrice=object.getPrice();\r\n                feeTxt.setText(Integer.toString(price*numberOrder));\r\n    \r\n                break;\r\n    \r\n            case R.id.mediumPriceBtn:\r\n                price = object.getMediumPrice();\r\n                feeTxt.setText(Integer.toString(price*numberOrder));\r\n                itemPrice=object.getMediumPrice();\r\n                break;\r\n            case R.id.largePriceBtn:\r\n                price = object.getLargePrice();\r\n                feeTxt.setText(Integer.toString(price*numberOrder));\r\n                itemPrice=object.getLargePrice();\r\n                break;\r\n        }\r\n    }\r\n    \r\n    \r\n        private void getBundle() {\r\n            object = (ProductsDomain) getIntent().getSerializableExtra(&quot;object&quot;);\r\n    \r\n            if (object.getWithCheese() == 1)//get cheese\r\n            {\r\n                cheese_ll.setVisibility(View.VISIBLE);\r\n                scale_ll.setVisibility(View.GONE);\r\n    \r\n            } else {\r\n                cheese_ll.setVisibility(View.GONE);\r\n                scale_ll.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n    \r\n            Glide.with(this).load(&quot;http://192.168.100.215/pizzaVill/Images/&quot; + object.getImage()).into(picFood);\r\n            titleTxt.setText(object.getName());\r\n            descriptionTxt.setText(object.getDescription());\r\n            numberOrderTxt.setText(Integer.toString(numberOrder));\r\n            feeTxt.setText(Integer.toString(object.getPrice()));\r\n    \r\n    \r\n            plusBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    numberOrder = numberOrder + 1;\r\n                    numberOrderTxt.setText(Integer.toString(numberOrder));\r\n                    feeTxt.setText(Integer.toString(numberOrder * price));\r\n    \r\n                    //Code if there is no size required\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n            minusBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (numberOrder &gt; 1) {\r\n                        numberOrder = numberOrder - 1;\r\n                    }\r\n                    numberOrderTxt.setText(Integer.toString(numberOrder));\r\n                    feeTxt.setText(Integer.toString(price - itemPrice));\r\n    \r\n                }\r\n            });\r\n    \r\n            addToCardBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    object.setNumberInCard(numberOrder);\r\n                    object.setFinalPrice(price);\r\n                    managementCart.insertFood(object);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void initView() {\r\n            addToCardBtn = findViewById(R.id.addToCardBtn);\r\n            titleTxt = findViewById(R.id.titleTxt);\r\n            feeTxt = findViewById(R.id.priceTxt);\r\n            descriptionTxt = findViewById(R.id.descriptionTxt);\r\n            numberOrderTxt = findViewById(R.id.numberOrderTxt);\r\n            plusBtn = findViewById(R.id.plusBtn);\r\n            minusBtn = findViewById(R.id.minusBtn);\r\n            picFood = findViewById(R.id.foodPic);\r\n            priceBtn = findViewById(R.id.smallPriceBtn);\r\n            mediumPriceBtn = findViewById(R.id.mediumPriceBtn);\r\n            largePriceBtn = findViewById(R.id.largePriceBtn);\r\n            cheese_ll = findViewById(R.id.cheese_ll);\r\n            scale_ll = findViewById(R.id.scale_ll);\r\n            cheeseBoxyes = findViewById(R.id.cheeseBoxyes);\r\n        }\r\n\r\n","title":"Product Subtract Button is not working perfectly in ecommerce app","body":"<p>I am facing issue while subtracting my product, I am using three buttons to get the value of the selected one and then multiply these value for add more product or subtract . But when i click on subtract button it will minus the whole amount. So please help me in this. Below mention is my code. If you want some more info then please ask me.</p>\n<pre><code>public class ShowDetailActivity extends AppCompatActivity {\n\n    private TextView addToCardBtn;\n    private TextView titleTxt, feeTxt, descriptionTxt, numberOrderTxt;\n    private ImageView plusBtn, minusBtn, picFood, priceBtn, mediumPriceBtn, largePriceBtn;\n    private ProductsDomain object;\n    private int numberOrder = 1;\n    private ManagementCart managementCart;\n    private LinearLayout cheese_ll;\n    private LinearLayout scale_ll;\n    private int itemPrice;\n    private CheckBox cheeseBoxyes;\n    private int price;\n    private int checkvalue;\n    private int uncheckValue;\n    private boolean cheeseBoolean = true;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_show_detail);\n\n        managementCart = new ManagementCart(this);\n\n        initView();\n        getBundle();\n\n        //Button Code\n        price=object.getPrice();\n\n        priceBtn.setOnClickListener(this::onClick);\n        mediumPriceBtn.setOnClickListener(this::onClick);\n        largePriceBtn.setOnClickListener(this::onClick);\n\n        //check box code for extra cheese\n\n\n\n    }\n\n\n\n    private void onClick(View view) {\n    int id=view.getId();\n    switch (id){\n        case R.id.smallPriceBtn:\n            price=object.getPrice();\n            itemPrice=object.getPrice();\n            feeTxt.setText(Integer.toString(price*numberOrder));\n\n            break;\n\n        case R.id.mediumPriceBtn:\n            price = object.getMediumPrice();\n            feeTxt.setText(Integer.toString(price*numberOrder));\n            itemPrice=object.getMediumPrice();\n            break;\n        case R.id.largePriceBtn:\n            price = object.getLargePrice();\n            feeTxt.setText(Integer.toString(price*numberOrder));\n            itemPrice=object.getLargePrice();\n            break;\n    }\n}\n\n\n    private void getBundle() {\n        object = (ProductsDomain) getIntent().getSerializableExtra(&quot;object&quot;);\n\n        if (object.getWithCheese() == 1)//get cheese\n        {\n            cheese_ll.setVisibility(View.VISIBLE);\n            scale_ll.setVisibility(View.GONE);\n\n        } else {\n            cheese_ll.setVisibility(View.GONE);\n            scale_ll.setVisibility(View.VISIBLE);\n        }\n\n\n        Glide.with(this).load(&quot;http://192.168.100.215/pizzaVill/Images/&quot; + object.getImage()).into(picFood);\n        titleTxt.setText(object.getName());\n        descriptionTxt.setText(object.getDescription());\n        numberOrderTxt.setText(Integer.toString(numberOrder));\n        feeTxt.setText(Integer.toString(object.getPrice()));\n\n\n        plusBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                numberOrder = numberOrder + 1;\n                numberOrderTxt.setText(Integer.toString(numberOrder));\n                feeTxt.setText(Integer.toString(numberOrder * price));\n\n                //Code if there is no size required\n\n\n            }\n        });\n\n        minusBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (numberOrder &gt; 1) {\n                    numberOrder = numberOrder - 1;\n                }\n                numberOrderTxt.setText(Integer.toString(numberOrder));\n                feeTxt.setText(Integer.toString(price - itemPrice));\n\n            }\n        });\n\n        addToCardBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                object.setNumberInCard(numberOrder);\n                object.setFinalPrice(price);\n                managementCart.insertFood(object);\n            }\n        });\n    }\n\n    private void initView() {\n        addToCardBtn = findViewById(R.id.addToCardBtn);\n        titleTxt = findViewById(R.id.titleTxt);\n        feeTxt = findViewById(R.id.priceTxt);\n        descriptionTxt = findViewById(R.id.descriptionTxt);\n        numberOrderTxt = findViewById(R.id.numberOrderTxt);\n        plusBtn = findViewById(R.id.plusBtn);\n        minusBtn = findViewById(R.id.minusBtn);\n        picFood = findViewById(R.id.foodPic);\n        priceBtn = findViewById(R.id.smallPriceBtn);\n        mediumPriceBtn = findViewById(R.id.mediumPriceBtn);\n        largePriceBtn = findViewById(R.id.largePriceBtn);\n        cheese_ll = findViewById(R.id.cheese_ll);\n        scale_ll = findViewById(R.id.scale_ll);\n        cheeseBoxyes = findViewById(R.id.cheeseBoxyes);\n    }\n</code></pre>\n"},{"tags":["java","arrays","date","mainclass"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1636379096,"post_id":69883387,"comment_id":123533279,"body_markdown":"Note: I suggest you use `LocalDate` instead of `Date`, as the latter is obsolete and [wrong](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api).","body":"Note: I suggest you use <code>LocalDate</code> instead of <code>Date</code>, as the latter is obsolete and <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">wrong</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1636380039,"post_id":69883387,"comment_id":123533689,"body_markdown":"Also, with what exactly are you stuck? You *&quot;can&#39;t get the date&quot;* – what happens, does it throw an exception? Does it output an incorrect date? Please provide more details.","body":"Also, with what exactly are you stuck? You <i>&quot;can&#39;t get the date&quot;</i> – what happens, does it throw an exception? Does it output an incorrect date? Please provide more details."},{"owner":{"account_id":21170285,"reputation":1,"user_id":15566755,"display_name":"HoLee"},"score":0,"creation_date":1636381820,"post_id":69883387,"comment_id":123534481,"body_markdown":"it says &quot;int cannot be a Date&quot; when it&#39;s clearly a date","body":"it says &quot;int cannot be a Date&quot; when it&#39;s clearly a date"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636392385,"post_id":69883387,"comment_id":123539026,"body_markdown":"Have you recompiled the whole thing? It looks like you&#39;re indeed passing a `Date`, but apparently, the runtime disagrees.","body":"Have you recompiled the whole thing? It looks like you&#39;re indeed passing a <code>Date</code>, but apparently, the runtime disagrees."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636448118,"post_id":69883387,"comment_id":123552957,"body_markdown":"That’s a large amount of code. Would it be possible that instead you [create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example), please?","body":"That’s a large amount of code. Would it be possible that instead you <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">create a Minimal, Reproducible Example</a>, please?"}],"answers":[{"tags":[],"owner":{"account_id":21170285,"reputation":1,"user_id":15566755,"display_name":"HoLee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636461253,"creation_date":1636461253,"answer_id":69898228,"question_id":69883387,"body_markdown":"i&#39;m here to learn but i had a time limit so with the case of using Local time, I don&#39;t want to use code that I still don&#39;t understand yet so I just continued with what I did, it kinda sucked how I had to make a new object for each time but it&#39;s wasn&#39;t too bad and I finished the main method.\r\n\r\nhere it is(of course this isn&#39;t the last version as i added many more variables and commands but i just wanted to give you the final draft before i finished it completely.\r\n\r\n    \r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class MainClass {\r\n        public static void main(String[] args) {\r\n            //    public Flight(int number, Date date, int maxPassengers, int minPassengers, String airline, String food) {\r\n        Date d = new Date(&quot;11/12/2020&quot;);\r\n            Pilot h = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\r\n            Pilot h1 = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\r\n            Pilot h2 = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\r\n    \r\n            Flight f = new Flight(1, d, 50, 5, &quot;saudi air&quot;, &quot;complimentary&quot;,h);\r\n            \r\n            Passenger one = new Passenger(&quot;23546785&quot;, &quot;ahmad&quot;, &quot;B+&quot;, &quot;adult&quot;);\r\n            Airport hq = new Airport();\r\n            hq.addFlight(f);\r\n            f.addPassenger(one);\r\n            f.addPassenger(one);\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n    \r\n           \r\n        }\r\n        \r\n    }","title":"how to get the date from a class to the test class","body":"<p>i'm here to learn but i had a time limit so with the case of using Local time, I don't want to use code that I still don't understand yet so I just continued with what I did, it kinda sucked how I had to make a new object for each time but it's wasn't too bad and I finished the main method.</p>\n<p>here it is(of course this isn't the last version as i added many more variables and commands but i just wanted to give you the final draft before i finished it completely.</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class MainClass {\n    public static void main(String[] args) {\n        //    public Flight(int number, Date date, int maxPassengers, int minPassengers, String airline, String food) {\n    Date d = new Date(&quot;11/12/2020&quot;);\n        Pilot h = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\n        Pilot h1 = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\n        Pilot h2 = new Pilot(&quot;qw2563&quot;, &quot;zaid&quot;, &quot;epxerianced&quot;, &quot;main pilot&quot;);\n\n        Flight f = new Flight(1, d, 50, 5, &quot;saudi air&quot;, &quot;complimentary&quot;,h);\n        \n        Passenger one = new Passenger(&quot;23546785&quot;, &quot;ahmad&quot;, &quot;B+&quot;, &quot;adult&quot;);\n        Airport hq = new Airport();\n        hq.addFlight(f);\n        f.addPassenger(one);\n        f.addPassenger(one);\n        \n        \n        \n        \n        \n        \n\n       \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":21170285,"reputation":1,"user_id":15566755,"display_name":"HoLee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636461253,"creation_date":1636374127,"question_id":69883387,"body_markdown":"   \r\n\r\nhere is what i have to do, and what I have already did\r\n\r\nAfter a quick meeting with the head of the company, you got the following information:\r\n\r\n* It is required to store the whole data in one collection\r\n\r\n* Each flight has a number, a pilot and a specific date. In addition, passengers could be added or removed within a given limit for the maximum number of passengers who could be in the same flight. Furthermore, there are other attributes (add at least 3 attributes from your choice). Of course, flight number is unique within the same date.\r\n\r\n* Each pilot has a unique ID, a name and other attributes (add at least 2 attributes from your choice).\r\n\r\n* Each passenger has a unique passport number, a name and other attributes (add at least 2 attributes from your choice but one of them should be common with pilots).\r\n\r\nMoreover, you have been informed that the following operations happen frequently:\r\n\r\n* Offering a new flight\r\n\r\n* Adding a passenger to a specified flight\r\n\r\n* Removing a passenger from a specified flight  Retrieving the average number of passengers per flight of a specified date\r\n\r\n* Displaying all available flights in a format similar to the following: date1: flightNo1 flightNo2 flightNo3 … date2: flightNo1 flightNo2 flightNo3 … … where dates and flights are sorted in ascending order\r\n\r\n* Saving all the data into a text file\r\n\r\n\r\n\r\nthis is what did\r\n\r\nI am starting the test class and when I started I for some reason couldn&#39;t get the date so I tried a shitty way and I don&#39;t think I am right\r\n\r\n \r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class Testclass {\r\n        public static void main(String[] args) {\r\n            Date date1 = new Date(&quot;11/12/2020&quot;);\r\n            Flights a = new Flight(1, date1, 50, 5, &quot;saudi air&quot;, &quot;complimentary&quot;);\r\n            \r\n    }\r\n     import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class Flight {\r\n    \r\n        final List&lt;Passenger&gt; passengers = new ArrayList&lt;&gt;();\r\n        int number;\r\n        Pilot pilot;\r\n        Date date;\r\n        int maxPassengers;\r\n        int minPassengers;\r\n        String airline;\r\n        String food;\r\n    \r\n        public Flight() {\r\n    \r\n        }\r\n    \r\n        public Flight(int number, Date date, int maxPassengers, int minPassengers, String airline, String food) {\r\n            this.number = number;\r\n            this.date = date;\r\n            this.maxPassengers = maxPassengers;\r\n            this.minPassengers = minPassengers;\r\n            this.airline = airline;\r\n            this.food = food;\r\n        }\r\n    \r\n        public List&lt;Passenger&gt; getPassengers() {\r\n            return passengers;\r\n        }\r\n    \r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public Pilot getPilot() {\r\n            return pilot;\r\n        }\r\n    \r\n        public void setPilot(Pilot pilot) {\r\n            if (!pilotExistance(pilot)) {\r\n                this.pilot = pilot;\r\n                System.out.println(&quot;Pilot has been added.&quot;);\r\n            }\r\n        }\r\n    \r\n        public Date getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(Date date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public int getMaxPassengers() {\r\n            return maxPassengers;\r\n        }\r\n    \r\n        public void setMaxPassengers(int maxPassengers) {\r\n            this.maxPassengers = maxPassengers;\r\n        }\r\n    \r\n        public int getMinPassengers() {\r\n            return minPassengers;\r\n        }\r\n    \r\n        public void setMinPassengers(int minPassengers) {\r\n            this.minPassengers = minPassengers;\r\n        }\r\n    \r\n        public String getAirline() {\r\n            return airline;\r\n        }\r\n    \r\n        public void setAirline(String airline) {\r\n            this.airline = airline;\r\n        }\r\n    \r\n        public String getFood() {\r\n            return food;\r\n        }\r\n    \r\n        public void setFood(String food) {\r\n            this.food = food;\r\n        }\r\n    \r\n        public boolean pilotExistance(Pilot newPilot) {\r\n            boolean pilotExist = false;\r\n            for (Flight flight : Airport.flights) {\r\n                if (flight.getPilot() != null &amp;&amp; flight.getPilot().getId().equals(newPilot.getId())) {\r\n                    pilotExist = true;\r\n                    System.out.println(&quot;Pilot id: &quot; + newPilot.getId() + &quot; pilots in plane of flight number: &quot; + flight.getNumber());\r\n                    break;\r\n                }\r\n            }\r\n            return pilotExist;\r\n        }\r\n    \r\n        public boolean passengerExistance(Passenger newPassenger) {\r\n            boolean passengerExist = false;\r\n            for (Flight flight : Airport.flights) {\r\n                final List&lt;Passenger&gt; passengers = flight.getPassengers();\r\n                for (Passenger passenger : passengers) {\r\n                    if (passenger.passportNumber.equals(newPassenger.passportNumber)) {\r\n                        passengerExist = true;\r\n                        System.out.println(&quot;Passenger with passport number: &quot; + newPassenger.getPassportNumber() + &quot; are on the flight with the flgit number: &quot; + flight.getNumber());\r\n                        break;\r\n                    }\r\n                }\r\n                if (passengerExist) {\r\n                    break;\r\n                }\r\n            }\r\n            return passengerExist;\r\n        }\r\n    \r\n        public void addPassenger(Passenger passenger) {\r\n            if (passengers.size() &lt; maxPassengers) {\r\n                if (!passengerExistance(passenger)) {\r\n                    passengers.add(passenger);\r\n                    System.out.println(&quot; Included.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;The Max number of passengers has already been reached.&quot;);\r\n            }\r\n        }\r\n    \r\n        public void removePassenger(Passenger passenger) {\r\n            if (passengers.size() &gt; minPassengers) {\r\n                if (passengerExistance(passenger)) {\r\n                    passengers.remove(passenger);\r\n                    System.out.println(&quot;Passnger has been taken out of flight.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Passnger with passport number: &quot; + passenger.getPassportNumber() + &quot; doesn&#39;t exist.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;The lowest amount of passengers have been reached.&quot;);\r\n            }\r\n        }\r\n    \r\n        public void passengersInformation() {\r\n            if (passengers.isEmpty()) {\r\n                System.out.println(&quot;There are no passengers.&quot;);\r\n            } else {\r\n                for (Passenger passenger : passengers) {\r\n                    System.out.println(passenger.toString());\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Number: &quot; + number + &quot;, Pilot: &quot; + pilot != null ? pilot.toString() : &quot;No pilot yet&quot; + &quot;, Date: &quot; + date + &quot;, airline: &quot; + airline + &quot;, food: &quot; + food + &quot;, Number of passengers: &quot; + passengers.size();\r\n        }\r\n    }\r\n    \r\n    public class Passenger {\r\n    \r\n        String passportNumber;\r\n        String name;\r\n        String bloodtype;\r\n        String agecatagory;\r\n    \r\n        public Passenger() {\r\n    \r\n        }\r\n    \r\n        public Passenger(String id, String name, String bloodtype, String agecatagory) {\r\n            this.passportNumber = id;\r\n            this.name = name;\r\n            this.bloodtype = bloodtype;\r\n            this.agecatagory = agecatagory;\r\n        }\r\n    \r\n        public String getPassportNumber() {\r\n            return passportNumber;\r\n        }\r\n    \r\n        public void setPassportNumber(String passportNumber) {\r\n            this.passportNumber = passportNumber;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getBloodtype() {\r\n            return bloodtype;\r\n        }\r\n    \r\n        public void setBloodtype(String bloodtype) {\r\n            this.bloodtype = bloodtype;\r\n        }\r\n    \r\n        public String getAgecatagory() {\r\n            return agecatagory;\r\n        }\r\n    \r\n        public void setAgecatagory(String agecatagory) {\r\n            this.agecatagory = agecatagory;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Passport Number: &quot; + passportNumber + &quot;, Name: &quot; + name + &quot;, Bloodtype: &quot; + bloodtype + &quot;, Age catagory: &quot; + agecatagory;\r\n        }\r\n    }\r\n    \r\n    public class Pilot {\r\n    \r\n        String id;\r\n        String name;\r\n        String experiancelevel;\r\n        String pilotcatagory;\r\n    \r\n        public Pilot() {\r\n    \r\n        }\r\n    \r\n        public Pilot(String id, String name, String experiancelevel, String pilotcatagory) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.experiancelevel = experiancelevel;\r\n            this.pilotcatagory = pilotcatagory;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        //This function to get pilot id\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getExperiancelevel() {\r\n            return experiancelevel;\r\n        }\r\n    \r\n        public void setExperiancelevel(String experiancelevel) {\r\n            this.experiancelevel = experiancelevel;\r\n        }\r\n    \r\n        public String getPilotcatagory() {\r\n            return pilotcatagory;\r\n        }\r\n    \r\n        public void setPilotcatagory(String pilotcatagory) {\r\n            this.pilotcatagory = pilotcatagory;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Id: &quot; + id + &quot;, Name: &quot; + name + &quot;, Experiance level: &quot; + experiancelevel + &quot;, Pilot catagory: &quot; + pilotcatagory;\r\n        }\r\n    }\r\n    \r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class Airport {\r\n    \r\n        public static final List&lt;Flight&gt; flights = new ArrayList&lt;&gt;();\r\n    \r\n        public Airport() {\r\n        }\r\n    \r\n        public List&lt;Flight&gt; getFlights() {\r\n            return flights;\r\n        }\r\n    \r\n        public boolean flightExistance(Flight newFlight) {\r\n            boolean flightExist = false;\r\n            if (!flights.isEmpty()) {\r\n                for (Flight flight : flights) {\r\n                    if (flight.date.equals(newFlight.date) &amp;&amp; flight.number == newFlight.number) {\r\n                        flightExist = true;\r\n                        break;\r\n                    }\r\n    \r\n                }\r\n            }\r\n            return flightExist;\r\n        }\r\n    \r\n        public void addFlight(Flight flight) {\r\n            if (!flightExistance(flight)) {\r\n                flights.add(flight);\r\n                System.out.println(&quot;Flight Included.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Number of flight: &quot; + flight.getNumber() + &quot; already in place.&quot;);\r\n            }\r\n        }\r\n    \r\n        public void averageNumberOfPassengersPerFlight(Date date) {\r\n            int passengersCount = 0;\r\n            int flightsCount = 0;\r\n            double average = 0.0;\r\n            for (Flight flight : flights) {\r\n                if (flight.getDate().equals(date)) {\r\n                    flightsCount++;\r\n                    passengersCount += flight.getPassengers().size();\r\n                }\r\n            }\r\n            System.out.println(&quot;Total number of passengers in the flight: &quot; + passengersCount);\r\n            if (passengersCount &gt; 0 &amp;&amp; flightsCount &gt; 0) {\r\n                average = passengersCount / flightsCount;\r\n                System.out.println(&quot;Average number of passengers per flight for the specific date(&quot; + date + &quot;): &quot; + average);\r\n            } else {\r\n                System.out.println(&quot;Average number of passengers per flight for the specific date(&quot; + date + &quot;): &quot; + 0.0);\r\n            }\r\n        }\r\n    \r\n        public void display() {\r\n            final List&lt;Date&gt; dates = new ArrayList&lt;&gt;();\r\n            for (Flight flight : flights) {\r\n                if (!dates.contains(flight.getDate())) {\r\n                    dates.add(flight.getDate());\r\n                }\r\n            }\r\n            Collections.sort(dates);\r\n            for (Date date : dates) {\r\n                System.out.print(date + &quot;: &quot;);\r\n                final List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n                for (Flight flight : flights) {\r\n                    if (flight.getDate().equals(date)) {\r\n                        numbers.add(flight.getNumber());\r\n                    }\r\n                }\r\n                Collections.sort(numbers);\r\n                for (int number : numbers) {\r\n                    System.out.print(&quot;flightNo.&quot; + number + &quot; &quot;);\r\n                }\r\n                System.out.println(&quot;---------&quot;);\r\n            }\r\n        }\r\n    \r\n        public void saveInTextFile(String filePath) {\r\n            try {\r\n                final FileWriter writer = new FileWriter(filePath);\r\n                for (Flight flight : flights) {\r\n                    writer.write(flight.toString());\r\n                    writer.write(&quot;\\n&quot;);\r\n                    writer.write(&quot;---------&quot;);\r\n                }\r\n                writer.close();\r\n                System.out.println(&quot;Saved successfully&quot;);\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Number of flights: &quot; + flights.size();\r\n        }\r\n    }","title":"how to get the date from a class to the test class","body":"<p>here is what i have to do, and what I have already did</p>\n<p>After a quick meeting with the head of the company, you got the following information:</p>\n<ul>\n<li><p>It is required to store the whole data in one collection</p>\n</li>\n<li><p>Each flight has a number, a pilot and a specific date. In addition, passengers could be added or removed within a given limit for the maximum number of passengers who could be in the same flight. Furthermore, there are other attributes (add at least 3 attributes from your choice). Of course, flight number is unique within the same date.</p>\n</li>\n<li><p>Each pilot has a unique ID, a name and other attributes (add at least 2 attributes from your choice).</p>\n</li>\n<li><p>Each passenger has a unique passport number, a name and other attributes (add at least 2 attributes from your choice but one of them should be common with pilots).</p>\n</li>\n</ul>\n<p>Moreover, you have been informed that the following operations happen frequently:</p>\n<ul>\n<li><p>Offering a new flight</p>\n</li>\n<li><p>Adding a passenger to a specified flight</p>\n</li>\n<li><p>Removing a passenger from a specified flight  Retrieving the average number of passengers per flight of a specified date</p>\n</li>\n<li><p>Displaying all available flights in a format similar to the following: date1: flightNo1 flightNo2 flightNo3 … date2: flightNo1 flightNo2 flightNo3 … … where dates and flights are sorted in ascending order</p>\n</li>\n<li><p>Saving all the data into a text file</p>\n</li>\n</ul>\n<p>this is what did</p>\n<p>I am starting the test class and when I started I for some reason couldn't get the date so I tried a shitty way and I don't think I am right</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Testclass {\n    public static void main(String[] args) {\n        Date date1 = new Date(&quot;11/12/2020&quot;);\n        Flights a = new Flight(1, date1, 50, 5, &quot;saudi air&quot;, &quot;complimentary&quot;);\n        \n}\n import java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Flight {\n\n    final List&lt;Passenger&gt; passengers = new ArrayList&lt;&gt;();\n    int number;\n    Pilot pilot;\n    Date date;\n    int maxPassengers;\n    int minPassengers;\n    String airline;\n    String food;\n\n    public Flight() {\n\n    }\n\n    public Flight(int number, Date date, int maxPassengers, int minPassengers, String airline, String food) {\n        this.number = number;\n        this.date = date;\n        this.maxPassengers = maxPassengers;\n        this.minPassengers = minPassengers;\n        this.airline = airline;\n        this.food = food;\n    }\n\n    public List&lt;Passenger&gt; getPassengers() {\n        return passengers;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    public Pilot getPilot() {\n        return pilot;\n    }\n\n    public void setPilot(Pilot pilot) {\n        if (!pilotExistance(pilot)) {\n            this.pilot = pilot;\n            System.out.println(&quot;Pilot has been added.&quot;);\n        }\n    }\n\n    public Date getDate() {\n        return date;\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n\n    public int getMaxPassengers() {\n        return maxPassengers;\n    }\n\n    public void setMaxPassengers(int maxPassengers) {\n        this.maxPassengers = maxPassengers;\n    }\n\n    public int getMinPassengers() {\n        return minPassengers;\n    }\n\n    public void setMinPassengers(int minPassengers) {\n        this.minPassengers = minPassengers;\n    }\n\n    public String getAirline() {\n        return airline;\n    }\n\n    public void setAirline(String airline) {\n        this.airline = airline;\n    }\n\n    public String getFood() {\n        return food;\n    }\n\n    public void setFood(String food) {\n        this.food = food;\n    }\n\n    public boolean pilotExistance(Pilot newPilot) {\n        boolean pilotExist = false;\n        for (Flight flight : Airport.flights) {\n            if (flight.getPilot() != null &amp;&amp; flight.getPilot().getId().equals(newPilot.getId())) {\n                pilotExist = true;\n                System.out.println(&quot;Pilot id: &quot; + newPilot.getId() + &quot; pilots in plane of flight number: &quot; + flight.getNumber());\n                break;\n            }\n        }\n        return pilotExist;\n    }\n\n    public boolean passengerExistance(Passenger newPassenger) {\n        boolean passengerExist = false;\n        for (Flight flight : Airport.flights) {\n            final List&lt;Passenger&gt; passengers = flight.getPassengers();\n            for (Passenger passenger : passengers) {\n                if (passenger.passportNumber.equals(newPassenger.passportNumber)) {\n                    passengerExist = true;\n                    System.out.println(&quot;Passenger with passport number: &quot; + newPassenger.getPassportNumber() + &quot; are on the flight with the flgit number: &quot; + flight.getNumber());\n                    break;\n                }\n            }\n            if (passengerExist) {\n                break;\n            }\n        }\n        return passengerExist;\n    }\n\n    public void addPassenger(Passenger passenger) {\n        if (passengers.size() &lt; maxPassengers) {\n            if (!passengerExistance(passenger)) {\n                passengers.add(passenger);\n                System.out.println(&quot; Included.&quot;);\n            }\n        } else {\n            System.out.println(&quot;The Max number of passengers has already been reached.&quot;);\n        }\n    }\n\n    public void removePassenger(Passenger passenger) {\n        if (passengers.size() &gt; minPassengers) {\n            if (passengerExistance(passenger)) {\n                passengers.remove(passenger);\n                System.out.println(&quot;Passnger has been taken out of flight.&quot;);\n            } else {\n                System.out.println(&quot;Passnger with passport number: &quot; + passenger.getPassportNumber() + &quot; doesn't exist.&quot;);\n            }\n        } else {\n            System.out.println(&quot;The lowest amount of passengers have been reached.&quot;);\n        }\n    }\n\n    public void passengersInformation() {\n        if (passengers.isEmpty()) {\n            System.out.println(&quot;There are no passengers.&quot;);\n        } else {\n            for (Passenger passenger : passengers) {\n                System.out.println(passenger.toString());\n            }\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Number: &quot; + number + &quot;, Pilot: &quot; + pilot != null ? pilot.toString() : &quot;No pilot yet&quot; + &quot;, Date: &quot; + date + &quot;, airline: &quot; + airline + &quot;, food: &quot; + food + &quot;, Number of passengers: &quot; + passengers.size();\n    }\n}\n\npublic class Passenger {\n\n    String passportNumber;\n    String name;\n    String bloodtype;\n    String agecatagory;\n\n    public Passenger() {\n\n    }\n\n    public Passenger(String id, String name, String bloodtype, String agecatagory) {\n        this.passportNumber = id;\n        this.name = name;\n        this.bloodtype = bloodtype;\n        this.agecatagory = agecatagory;\n    }\n\n    public String getPassportNumber() {\n        return passportNumber;\n    }\n\n    public void setPassportNumber(String passportNumber) {\n        this.passportNumber = passportNumber;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getBloodtype() {\n        return bloodtype;\n    }\n\n    public void setBloodtype(String bloodtype) {\n        this.bloodtype = bloodtype;\n    }\n\n    public String getAgecatagory() {\n        return agecatagory;\n    }\n\n    public void setAgecatagory(String agecatagory) {\n        this.agecatagory = agecatagory;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Passport Number: &quot; + passportNumber + &quot;, Name: &quot; + name + &quot;, Bloodtype: &quot; + bloodtype + &quot;, Age catagory: &quot; + agecatagory;\n    }\n}\n\npublic class Pilot {\n\n    String id;\n    String name;\n    String experiancelevel;\n    String pilotcatagory;\n\n    public Pilot() {\n\n    }\n\n    public Pilot(String id, String name, String experiancelevel, String pilotcatagory) {\n        this.id = id;\n        this.name = name;\n        this.experiancelevel = experiancelevel;\n        this.pilotcatagory = pilotcatagory;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    //This function to get pilot id\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getExperiancelevel() {\n        return experiancelevel;\n    }\n\n    public void setExperiancelevel(String experiancelevel) {\n        this.experiancelevel = experiancelevel;\n    }\n\n    public String getPilotcatagory() {\n        return pilotcatagory;\n    }\n\n    public void setPilotcatagory(String pilotcatagory) {\n        this.pilotcatagory = pilotcatagory;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Id: &quot; + id + &quot;, Name: &quot; + name + &quot;, Experiance level: &quot; + experiancelevel + &quot;, Pilot catagory: &quot; + pilotcatagory;\n    }\n}\n\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Airport {\n\n    public static final List&lt;Flight&gt; flights = new ArrayList&lt;&gt;();\n\n    public Airport() {\n    }\n\n    public List&lt;Flight&gt; getFlights() {\n        return flights;\n    }\n\n    public boolean flightExistance(Flight newFlight) {\n        boolean flightExist = false;\n        if (!flights.isEmpty()) {\n            for (Flight flight : flights) {\n                if (flight.date.equals(newFlight.date) &amp;&amp; flight.number == newFlight.number) {\n                    flightExist = true;\n                    break;\n                }\n\n            }\n        }\n        return flightExist;\n    }\n\n    public void addFlight(Flight flight) {\n        if (!flightExistance(flight)) {\n            flights.add(flight);\n            System.out.println(&quot;Flight Included.&quot;);\n        } else {\n            System.out.println(&quot;Number of flight: &quot; + flight.getNumber() + &quot; already in place.&quot;);\n        }\n    }\n\n    public void averageNumberOfPassengersPerFlight(Date date) {\n        int passengersCount = 0;\n        int flightsCount = 0;\n        double average = 0.0;\n        for (Flight flight : flights) {\n            if (flight.getDate().equals(date)) {\n                flightsCount++;\n                passengersCount += flight.getPassengers().size();\n            }\n        }\n        System.out.println(&quot;Total number of passengers in the flight: &quot; + passengersCount);\n        if (passengersCount &gt; 0 &amp;&amp; flightsCount &gt; 0) {\n            average = passengersCount / flightsCount;\n            System.out.println(&quot;Average number of passengers per flight for the specific date(&quot; + date + &quot;): &quot; + average);\n        } else {\n            System.out.println(&quot;Average number of passengers per flight for the specific date(&quot; + date + &quot;): &quot; + 0.0);\n        }\n    }\n\n    public void display() {\n        final List&lt;Date&gt; dates = new ArrayList&lt;&gt;();\n        for (Flight flight : flights) {\n            if (!dates.contains(flight.getDate())) {\n                dates.add(flight.getDate());\n            }\n        }\n        Collections.sort(dates);\n        for (Date date : dates) {\n            System.out.print(date + &quot;: &quot;);\n            final List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n            for (Flight flight : flights) {\n                if (flight.getDate().equals(date)) {\n                    numbers.add(flight.getNumber());\n                }\n            }\n            Collections.sort(numbers);\n            for (int number : numbers) {\n                System.out.print(&quot;flightNo.&quot; + number + &quot; &quot;);\n            }\n            System.out.println(&quot;---------&quot;);\n        }\n    }\n\n    public void saveInTextFile(String filePath) {\n        try {\n            final FileWriter writer = new FileWriter(filePath);\n            for (Flight flight : flights) {\n                writer.write(flight.toString());\n                writer.write(&quot;\\n&quot;);\n                writer.write(&quot;---------&quot;);\n            }\n            writer.close();\n            System.out.println(&quot;Saved successfully&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Number of flights: &quot; + flights.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","integer"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636461095,"creation_date":1636461095,"answer_id":69898195,"question_id":69893742,"body_markdown":"All the following variables have a scope that is method scope, which means they can only be accessed within the method they are declared: \r\n\r\n - `uno`: only available in `main` method\r\n - `b1`: only available in `man` method\r\n - `a1`: only available in `man` method\r\n - `b`: only available in `main` method\r\n\r\nWhy not putting all the code in a single method?\r\n```java\r\nclass HW {\r\n  public static void main(String[] args) {\r\n      int [] uno = {3, 5};\r\n      int a = (uno[0]);\r\n      int b = (uno[1]);\r\n\r\n      int [] dos = {7, 6};\r\n      int a1 = (dos[0]);\r\n      int b1 = (dos[1]);\r\n\r\n      int x = ((uno[0]) * b1);\r\n      int y = (a1 * b);\r\n      System.out.println(x + y);\r\n  }\r\n} \r\n```","title":"xxx cannot be resolved as a variable","body":"<p>All the following variables have a scope that is method scope, which means they can only be accessed within the method they are declared:</p>\n<ul>\n<li><code>uno</code>: only available in <code>main</code> method</li>\n<li><code>b1</code>: only available in <code>man</code> method</li>\n<li><code>a1</code>: only available in <code>man</code> method</li>\n<li><code>b</code>: only available in <code>main</code> method</li>\n</ul>\n<p>Why not putting all the code in a single method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class HW {\n  public static void main(String[] args) {\n      int [] uno = {3, 5};\n      int a = (uno[0]);\n      int b = (uno[1]);\n\n      int [] dos = {7, 6};\n      int a1 = (dos[0]);\n      int b1 = (dos[1]);\n\n      int x = ((uno[0]) * b1);\n      int y = (a1 * b);\n      System.out.println(x + y);\n  }\n} \n</code></pre>\n"}],"owner":{"account_id":23280937,"reputation":1,"user_id":17364400,"display_name":"torty turty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636461095,"creation_date":1636439781,"question_id":69893742,"body_markdown":"I&#39;m attempting to get 2 different values from 2 different variables from an array and multiply them, then add them together; but, as I try to use the code later, an error pops up.\r\n\r\nmy code:\r\n```java\r\nimport java.util.ArrayList;\r\nclass HW {\r\n    public static void main(String[] args) {\r\n      int [] uno = {3, 5};\r\n      ArrayList&lt;Integer&gt; obj1 = new ArrayList&lt;Integer&gt;();\r\n      int a = (uno[0]);\r\n      int b = (uno[1]);\r\n    }\r\n    public static void man(String[] args) {\r\n      ArrayList&lt;Integer&gt; obj2 = new ArrayList&lt;Integer&gt;();\r\n      int [] dos = {7, 6};\r\n      int a1 = (dos[0]);\r\n      int b1 = (dos[1]);\r\n    }    \r\n    public static void an(String[] args) {\r\n      int x = ((uno[0]) * b1);\r\n      int y = (a1 * b);\r\n      System.out.println(x + y);\r\n    }\r\n} \r\n```\r\n\r\n","title":"xxx cannot be resolved as a variable","body":"<p>I'm attempting to get 2 different values from 2 different variables from an array and multiply them, then add them together; but, as I try to use the code later, an error pops up.</p>\n<p>my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nclass HW {\n    public static void main(String[] args) {\n      int [] uno = {3, 5};\n      ArrayList&lt;Integer&gt; obj1 = new ArrayList&lt;Integer&gt;();\n      int a = (uno[0]);\n      int b = (uno[1]);\n    }\n    public static void man(String[] args) {\n      ArrayList&lt;Integer&gt; obj2 = new ArrayList&lt;Integer&gt;();\n      int [] dos = {7, 6};\n      int a1 = (dos[0]);\n      int b1 = (dos[1]);\n    }    \n    public static void an(String[] args) {\n      int x = ((uno[0]) * b1);\n      int y = (a1 * b);\n      System.out.println(x + y);\n    }\n} \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1463667905,"post_id":37326134,"comment_id":62171515,"body_markdown":"What is the exact problem? What have you tried so far? Please show some of your attempts.","body":"What is the exact problem? What have you tried so far? Please show some of your attempts."},{"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"score":2,"creation_date":1463667937,"post_id":37326134,"comment_id":62171542,"body_markdown":"You can [edit] your post to include some code you have tried so far and sample output. Format your code by selecting it and pressing Ctrl+K.","body":"You can <a href=\"https://stackoverflow.com/posts/37326134/edit\">edit</a> your post to include some code you have tried so far and sample output. Format your code by selecting it and pressing Ctrl+K."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1463668494,"post_id":37326134,"comment_id":62171966,"body_markdown":"In the current state, it is unclear what you are asking.","body":"In the current state, it is unclear what you are asking."}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636460931,"creation_date":1463668527,"answer_id":37326485,"question_id":37326134,"body_markdown":"You need to find the relationship between the corners of the cross/star. Take this star for example of size 5.\r\n\r\n      0 1 2 3 4\r\n    0 *       *\r\n    1   *   *\r\n    2     *\r\n    3   *   *\r\n    4 *       *\r\n\r\nIn a cross in the diagonal from (0,0) to (4,4), the indices are the same (in the code this means row == col).\r\n\r\nAlso, you can notice that in the diagonal from (0,4) to (4,0) indices always sum up to 4, which is size - 1 (in the code this is row + col == size - 1).\r\n\r\nTherefore in the code, you will need to loop through rows and then through columns. Each time you have to check if the above conditions are fulfilled.\r\n\r\n**Code:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            printCross(5); // Vertical size of cross\r\n        }\r\n    \r\n        public static void printCross(int size) {\r\n            for (int row = 0; row &lt; size; row++) {\r\n                for (int col = 0; col &lt; size; col++) {\r\n                    if (row == col || row + col == size - 1) {\r\n                        System.out.print(&#39;*&#39;);\r\n                    } else {\r\n                        System.out.print(&quot; &quot;);\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }","title":"Jaya create a star pattern","body":"<p>You need to find the relationship between the corners of the cross/star. Take this star for example of size 5.</p>\n<pre><code>  0 1 2 3 4\n0 *       *\n1   *   *\n2     *\n3   *   *\n4 *       *\n</code></pre>\n<p>In a cross in the diagonal from (0,0) to (4,4), the indices are the same (in the code this means row == col).</p>\n<p>Also, you can notice that in the diagonal from (0,4) to (4,0) indices always sum up to 4, which is size - 1 (in the code this is row + col == size - 1).</p>\n<p>Therefore in the code, you will need to loop through rows and then through columns. Each time you have to check if the above conditions are fulfilled.</p>\n<p><strong>Code:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        printCross(5); // Vertical size of cross\n    }\n\n    public static void printCross(int size) {\n        for (int row = 0; row &lt; size; row++) {\n            for (int col = 0; col &lt; size; col++) {\n                if (row == col || row + col == size - 1) {\n                    System.out.print('*');\n                } else {\n                    System.out.print(&quot; &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8475072,"reputation":13,"user_id":6356586,"display_name":"David Docina"},"comment_count":3,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":21,"up_vote_count":3,"closed_date":1463671513,"answer_count":1,"score":-18,"last_activity_date":1636460931,"creation_date":1463667754,"question_id":37326134,"body_markdown":"I tried to made a star pattern but I did not know how to do it, I know how to made start pattern when the start or the spaces are continuous, but when it is a start and spaces like the pattern that I show below, I do not how to do it.\r\n\r\n     *   *\r\n      * *\r\n       * \r\n      * *\r\n     *   *","title":"Jaya create a star pattern","body":"<p>I tried to made a star pattern but I did not know how to do it, I know how to made start pattern when the start or the spaces are continuous, but when it is a start and spaces like the pattern that I show below, I do not how to do it.</p>\n\n<pre><code> *   *\n  * *\n   * \n  * *\n *   *\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":19721,"reputation":41916,"user_id":46450,"accept_rate":78,"display_name":"Kim Stebel"},"score":2,"creation_date":1308135626,"post_id":6356465,"comment_id":7440281,"body_markdown":"possible duplicate of [Converting Java collection into Scala collection](http://stackoverflow.com/questions/674713/converting-java-collection-into-scala-collection)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/674713/converting-java-collection-into-scala-collection\">Converting Java collection into Scala collection</a>"},{"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"score":0,"creation_date":1308150490,"post_id":6356465,"comment_id":7445129,"body_markdown":"@Kim: I&#39;m not sure it&#39;s appropriate to close this as a duplicate of that particular question -- that particular question talks about Scala 2.7, and the scala.collection.jcl package doesn&#39;t exist anymore in Scala 2.8 and 2.9.","body":"@Kim: I&#39;m not sure it&#39;s appropriate to close this as a duplicate of that particular question -- that particular question talks about Scala 2.7, and the scala.collection.jcl package doesn&#39;t exist anymore in Scala 2.8 and 2.9."}],"answers":[{"tags":[],"owner":{"account_id":418253,"reputation":1126,"user_id":794702,"display_name":"montreal.eric"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1419168716,"creation_date":1308138297,"answer_id":6357189,"question_id":6356465,"body_markdown":"There&#39;s a handy Scala object just for this - [scala.collection.JavaConverters][1]\r\n\r\nYou can do the import and `asScala` afterwards as follows:\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    import scala.collection.JavaConverters._\r\n\r\n    val lst = node.getByXPath(xpath).asScala\r\n    lst.foreach{ node =&gt;   .... }\r\n\r\nThis should give you Scala&#39;s `Buffer` representation allowing you to accomplish `foreach`.\r\n\r\n  [1]: http://www.scala-lang.org/api/current/index.html#scala.collection.JavaConverters$","title":"How to get Scala List from Java List?","body":"<p>There's a handy Scala object just for this - <a href=\"http://www.scala-lang.org/api/current/index.html#scala.collection.JavaConverters$\" rel=\"noreferrer\">scala.collection.JavaConverters</a></p>\n\n<p>You can do the import and <code>asScala</code> afterwards as follows:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.JavaConverters._\n\nval lst = node.getByXPath(xpath).asScala\nlst.foreach{ node =&gt;   .... }\n</code></pre>\n\n<p>This should give you Scala's <code>Buffer</code> representation allowing you to accomplish <code>foreach</code>.</p>\n"},{"tags":[],"owner":{"account_id":279135,"reputation":11646,"user_id":574122,"accept_rate":64,"display_name":"ace"},"down_vote_count":4,"up_vote_count":191,"is_accepted":true,"score":187,"last_activity_date":1596739727,"creation_date":1308138961,"answer_id":6357299,"question_id":6356465,"body_markdown":"# EDIT: Note that this is deprecated since 2.12.0. Use `JavaConverters` instead. (comment by @Yaroslav)\r\n\r\nSince **Scala 2.8** this conversion is now built into the language using:\r\n\r\n    import scala.collection.JavaConversions._\r\n    \r\n    ...\r\n    \r\n    lst.toList.foreach{ node =&gt;   .... }\r\n\r\nworks. `asScala` did not work\r\n\r\nIn 2.12.x use `import scala.collection.JavaConverters._`\r\n\r\nIn 2.13.x use `import scala.jdk.CollectionConverters._`","title":"How to get Scala List from Java List?","body":"<h1>EDIT: Note that this is deprecated since 2.12.0. Use <code>JavaConverters</code> instead. (comment by @Yaroslav)</h1>\n<p>Since <strong>Scala 2.8</strong> this conversion is now built into the language using:</p>\n<pre><code>import scala.collection.JavaConversions._\n\n...\n\nlst.toList.foreach{ node =&gt;   .... }\n</code></pre>\n<p>works. <code>asScala</code> did not work</p>\n<p>In 2.12.x use <code>import scala.collection.JavaConverters._</code></p>\n<p>In 2.13.x use <code>import scala.jdk.CollectionConverters._</code></p>\n"},{"tags":[],"owner":{"account_id":347353,"reputation":1327,"user_id":681402,"accept_rate":100,"display_name":"Radix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437573270,"creation_date":1437573270,"answer_id":31565227,"question_id":6356465,"body_markdown":"I was looking for an answer written in Java and surprisingly couldn&#39;t find any clean solutions here. After a while I was able to figure it out so I decided to add it here in case someone else is looking for the Java implementation (I guess it also works in Scala?):\r\n\r\n    JavaConversions.asScalaBuffer(myJavaList).toList()","title":"How to get Scala List from Java List?","body":"<p>I was looking for an answer written in Java and surprisingly couldn't find any clean solutions here. After a while I was able to figure it out so I decided to add it here in case someone else is looking for the Java implementation (I guess it also works in Scala?):</p>\n\n<pre><code>JavaConversions.asScalaBuffer(myJavaList).toList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6238162,"reputation":111,"user_id":4852746,"display_name":"Leandro carrasco"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485975780,"creation_date":1440185382,"answer_id":32147991,"question_id":6356465,"body_markdown":"If you have to convert a Java `List&lt;ClassA&gt;` to a Scala `List[ClassB]`, then you must do the following:\r\n\r\n1) Add\r\n\r\n    import scala.collection.JavaConverters._\r\n\r\n2) Use methods `asScala`, `toList` and then `map`\r\n\r\n    List &lt;ClassA&gt; javaList = ...\r\n    var scalaList[ClassB] = javaList.asScala.toList.map(x =&gt; new ClassB(x))\r\n\r\n\r\n3) Add the following to the `ClassB` constructor that receives `ClassA` as a parameter:\r\n\r\n\r\n    case class ClassB () {\r\n    &#160;&#160; def this (classA: ClassA) {\r\n    &#160;&#160;&#160;&#160;&#160; this (new ClassB (classA.getAttr1, ..., classA.getAttrN))\r\n    &#160;&#160; }\r\n    }\r\n\r\n","title":"How to get Scala List from Java List?","body":"<p>If you have to convert a Java <code>List&lt;ClassA&gt;</code> to a Scala <code>List[ClassB]</code>, then you must do the following:</p>\n\n<p>1) Add</p>\n\n<pre><code>import scala.collection.JavaConverters._\n</code></pre>\n\n<p>2) Use methods <code>asScala</code>, <code>toList</code> and then <code>map</code></p>\n\n<pre><code>List &lt;ClassA&gt; javaList = ...\nvar scalaList[ClassB] = javaList.asScala.toList.map(x =&gt; new ClassB(x))\n</code></pre>\n\n<p>3) Add the following to the <code>ClassB</code> constructor that receives <code>ClassA</code> as a parameter:</p>\n\n<pre><code>case class ClassB () {\n   def this (classA: ClassA) {\n      this (new ClassB (classA.getAttr1, ..., classA.getAttrN))\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691489,"reputation":800,"user_id":1553728,"display_name":"user1553728"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534236419,"creation_date":1518494052,"answer_id":48759169,"question_id":6356465,"body_markdown":"Since scala 2.8.1 use `JavaConverters._`\r\nto convert scala and Java collections using asScala and asJava methods.\r\n\r\n`import scala.collection.JavaConverters._ `\r\n\r\n  `javalist.asScala `\r\n\r\n  `scalaSeq.asJava ` \r\n\r\nsee the Conversion relationship [scala doc site][1]\r\n \r\n\r\n  [1]: http://www.scala-lang.org/api/2.9.3/scala/collection/JavaConverters$.html","title":"How to get Scala List from Java List?","body":"<p>Since scala 2.8.1 use <code>JavaConverters._</code>\nto convert scala and Java collections using asScala and asJava methods.</p>\n\n<p><code>import scala.collection.JavaConverters._</code></p>\n\n<p><code>javalist.asScala</code></p>\n\n<p><code>scalaSeq.asJava</code> </p>\n\n<p>see the Conversion relationship <a href=\"http://www.scala-lang.org/api/2.9.3/scala/collection/JavaConverters$.html\" rel=\"nofollow noreferrer\">scala doc site</a></p>\n"},{"tags":[],"owner":{"account_id":3477538,"reputation":329,"user_id":2910384,"display_name":"Xing-Wei Lin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636460746,"creation_date":1574335309,"answer_id":58973799,"question_id":6356465,"body_markdown":"Shortcut to convert java list to scala list\r\n\r\n`import scala.jdk.CollectionConverters._`\r\n\r\n`myjavaList.asScala.toList`","title":"How to get Scala List from Java List?","body":"<p>Shortcut to convert java list to scala list</p>\n<p><code>import scala.jdk.CollectionConverters._</code></p>\n<p><code>myjavaList.asScala.toList</code></p>\n"}],"owner":{"account_id":279135,"reputation":11646,"user_id":574122,"accept_rate":64,"display_name":"ace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105771,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":6357299,"answer_count":6,"score":142,"last_activity_date":1636460746,"creation_date":1308134563,"question_id":6356465,"body_markdown":"I have a Java API that returns a List like:\r\n\r\n    public List&lt;?&gt; getByXPath(String xpathExpr)\r\n\r\nI am using the below scala code:\r\n\r\n    val lst = node.getByXPath(xpath)\r\n\r\nNow if I try scala syntax sugar like:\r\n\r\n    lst.foreach{ node =&gt; ... }\r\n\r\nit does not work. I get the error:\r\n\r\n    value foreach is not a member of java.util.List[?0]\r\n\r\nIt seems I need to convert Java List to Scala List. How to do that in above context?","title":"How to get Scala List from Java List?","body":"<p>I have a Java API that returns a List like:</p>\n\n<pre><code>public List&lt;?&gt; getByXPath(String xpathExpr)\n</code></pre>\n\n<p>I am using the below scala code:</p>\n\n<pre><code>val lst = node.getByXPath(xpath)\n</code></pre>\n\n<p>Now if I try scala syntax sugar like:</p>\n\n<pre><code>lst.foreach{ node =&gt; ... }\n</code></pre>\n\n<p>it does not work. I get the error:</p>\n\n<pre><code>value foreach is not a member of java.util.List[?0]\n</code></pre>\n\n<p>It seems I need to convert Java List to Scala List. How to do that in above context?</p>\n"},{"tags":["java","mongodb","apache-camel"],"owner":{"account_id":16816654,"reputation":234,"user_id":12158306,"display_name":"C C H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636460294,"creation_date":1636451716,"question_id":69896078,"body_markdown":"I am trying to use ChangeStreams in MongoDB 4.4 and Camel 3.12.0. According to the [Camel documents](https://camel.apache.org/components/3.12.x/mongodb-component.html), the Exchange body will contain the full document of any change. I am building my route as below:\r\n\r\n       from(&quot;mongodb:mongoClient?consumerType=changeStreams&amp;database=test&amp;collection=accounts&quot;)\r\n        .process(new MongoIdProcessor())\r\n        .to(&quot;solrCloud://minikube:8983/solr?zkHost=minikube:2181,minikube:2182,minikube:2183&amp;collection=accounts&amp;autoCommit=true&quot;)\r\n\r\nWhat I noticed is that if I issue an update (updateOne, updateMany) command on the &quot;accounts&quot; collection, there isn&#39;t any data in the Exchange object during processing. \r\n\r\n\r\n\t\tMessage message = exchange.getMessage(); // Null\r\n\t\tMessage in = exchange.getIn(); \r\n\t\tObjectId objectId = in.getHeader(&quot;_id&quot;, ObjectId.class); // Present\r\n\r\n\r\nDigging a little deeper, it seems that in MongoDbChangeStreamsThread.java, the collection being watched does not have the options set correctly.\r\n\r\n    @Override\r\n    protected MongoCursor initializeCursor() {\r\n        ChangeStreamIterable&lt;Document&gt; iterable = bsonFilter != null\r\n                ? dbCol.watch(bsonFilter)\r\n                : dbCol.watch();\r\n\r\nIt should be this instead\r\n\r\n    @Override\r\n    protected MongoCursor initializeCursor() {\r\n        ChangeStreamIterable&lt;Document&gt; iterable = bsonFilter != null\r\n                ? dbCol.watch(bsonFilter).fullDocument(FullDocument.UPDATE_LOOKUP)\r\n                : dbCol.watch().fullDocument(FullDocument.UPDATE_LOOKUP);\r\n    \r\n\r\nDo I really have to make the change in this class, or is there some configuration somewhere I can set? I&#39;m concerned about maintaining code for this modified class of the Camel library.","title":"Camel MongoDB empty body problem, how to configure FullDocument.UPDATE_LOOKUP","body":"<p>I am trying to use ChangeStreams in MongoDB 4.4 and Camel 3.12.0. According to the <a href=\"https://camel.apache.org/components/3.12.x/mongodb-component.html\" rel=\"nofollow noreferrer\">Camel documents</a>, the Exchange body will contain the full document of any change. I am building my route as below:</p>\n<pre><code>   from(&quot;mongodb:mongoClient?consumerType=changeStreams&amp;database=test&amp;collection=accounts&quot;)\n    .process(new MongoIdProcessor())\n    .to(&quot;solrCloud://minikube:8983/solr?zkHost=minikube:2181,minikube:2182,minikube:2183&amp;collection=accounts&amp;autoCommit=true&quot;)\n</code></pre>\n<p>What I noticed is that if I issue an update (updateOne, updateMany) command on the &quot;accounts&quot; collection, there isn't any data in the Exchange object during processing.</p>\n<pre><code>    Message message = exchange.getMessage(); // Null\n    Message in = exchange.getIn(); \n    ObjectId objectId = in.getHeader(&quot;_id&quot;, ObjectId.class); // Present\n</code></pre>\n<p>Digging a little deeper, it seems that in MongoDbChangeStreamsThread.java, the collection being watched does not have the options set correctly.</p>\n<pre><code>@Override\nprotected MongoCursor initializeCursor() {\n    ChangeStreamIterable&lt;Document&gt; iterable = bsonFilter != null\n            ? dbCol.watch(bsonFilter)\n            : dbCol.watch();\n</code></pre>\n<p>It should be this instead</p>\n<pre><code>@Override\nprotected MongoCursor initializeCursor() {\n    ChangeStreamIterable&lt;Document&gt; iterable = bsonFilter != null\n            ? dbCol.watch(bsonFilter).fullDocument(FullDocument.UPDATE_LOOKUP)\n            : dbCol.watch().fullDocument(FullDocument.UPDATE_LOOKUP);\n</code></pre>\n<p>Do I really have to make the change in this class, or is there some configuration somewhere I can set? I'm concerned about maintaining code for this modified class of the Camel library.</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636357848,"post_id":69880061,"comment_id":123525144,"body_markdown":"Does this help https://github.com/aws/aws-sdk-java-v2/issues/1491","body":"Does this help <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1491\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java-v2/issues/1491</a>"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1636377256,"post_id":69880061,"comment_id":123532456,"body_markdown":"How are you running it locally? Are you running with `java -jar` or something else? Do you have _anything_ that would add other V2 JARs onto the classpath? What is the output when you run `mvn dependency:tree`? Is there anything else in the error message that indicates _what_ class is missing?","body":"How are you running it locally? Are you running with <code>java -jar</code> or something else? Do you have <i>anything</i> that would add other V2 JARs onto the classpath? What is the output when you run <code>mvn dependency:tree</code>? Is there anything else in the error message that indicates <i>what</i> class is missing?"}],"answers":[{"tags":[],"owner":{"account_id":16682392,"reputation":574,"user_id":12057138,"display_name":"PloniStacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636459816,"creation_date":1636459816,"answer_id":69897902,"question_id":69880061,"body_markdown":"Thank you @Susan Mustafa for directing me to the solution and @Parsifal\r\nfor you assistant. \r\n\r\nAs Susan links suggested, I resolved the issue by adding a filter to my maven shade plugin as such:\r\n\r\n\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifact&gt;software.amazon.awssdk:sqs&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include&gt;**&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\r\n\r\n\r\n","title":"How to overcome AWS V1 + V2 mismatch while using Java SQS SDK","body":"<p>Thank you @Susan Mustafa for directing me to the solution and @Parsifal\nfor you assistant.</p>\n<p>As Susan links suggested, I resolved the issue by adding a filter to my maven shade plugin as such:</p>\n<pre><code>                        &lt;filter&gt;\n                            &lt;artifact&gt;software.amazon.awssdk:sqs&lt;/artifact&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/filter&gt;\n                \n</code></pre>\n"}],"owner":{"account_id":16682392,"reputation":574,"user_id":12057138,"display_name":"PloniStacker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636459816,"creation_date":1636357477,"question_id":69880061,"body_markdown":"I have the following code with the following maven import:\r\n\r\nFrom pom.xml:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqs&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nCode: (Note this is AWS V2)\r\n\r\n        SqsClient sqs = SqsClient.builder()\r\n                    .region(Region.US_EAST_1)\r\n                    .build();\r\n\r\nThe rest of my AWS code and imports are using V1. There are no issues when I run this code locally but when I execute it through Lambda --&gt; step function, I get the following exception:\r\n\r\n\r\n**Error\r\nsoftware.amazon.awssdk.core.exception.SdkClientException\r\nCause\r\n{\r\n  &quot;errorMessage&quot;: &quot;Unable to instantiate executor interceptor for client.&quot;,\r\n  &quot;errorType&quot;: &quot;software.amazon.awssdk.core.exception.SdkClientException&quot;,\r\n  &quot;stackTrace&quot;: [\r\n    &quot;software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)&quot;,\r\n    &quot;software.amazon.awssdk.core.interceptor.ClasspathInterceptorChainFactory.createExecutionInterceptor(ClasspathInterceptorChainFactory.java:140)&quot;,\r\n    &quot;software.amazon.awssdk.core.interceptor.ClasspathInterceptorChainFactory.createExecutionInterceptorFromResource(ClasspathInterceptorChainFactory.java:95)&quot;,\r\n    &quot;java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:269)&quot;,\r\n    &quot;java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)&quot;,\r\n    &quot;java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)&quot;,\r\n    &quot;java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)&quot;,\r\n    &quot;java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)&quot;,\r\n    &quot;java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)...\r\n  ],\r\n  &quot;cause&quot;: {\r\n    &quot;errorMessage&quot;: &quot;software.amazon.awssdk.services.sqs.internal.MessageMD5ChecksumInterceptor. Current classpath: file:/var/task/&quot;,\r\n    &quot;errorType&quot;: &quot;java.lang.ClassNotFoundException&quot;,\r\n    &quot;stackTrace&quot;: []\r\n  }\r\n}**\r\n\r\nI am using maven shaded plugin in order to reduce my JAR size, however, when I run this code locally it works without any issues. Any idea how to resolve this?","title":"How to overcome AWS V1 + V2 mismatch while using Java SQS SDK","body":"<p>I have the following code with the following maven import:</p>\n<p>From pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;sqs&lt;/artifactId&gt;\n        &lt;version&gt;2.14.23&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Code: (Note this is AWS V2)</p>\n<pre><code>    SqsClient sqs = SqsClient.builder()\n                .region(Region.US_EAST_1)\n                .build();\n</code></pre>\n<p>The rest of my AWS code and imports are using V1. There are no issues when I run this code locally but when I execute it through Lambda --&gt; step function, I get the following exception:</p>\n<p><strong>Error\nsoftware.amazon.awssdk.core.exception.SdkClientException\nCause\n{\n&quot;errorMessage&quot;: &quot;Unable to instantiate executor interceptor for client.&quot;,\n&quot;errorType&quot;: &quot;software.amazon.awssdk.core.exception.SdkClientException&quot;,\n&quot;stackTrace&quot;: [\n&quot;software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:98)&quot;,\n&quot;software.amazon.awssdk.core.interceptor.ClasspathInterceptorChainFactory.createExecutionInterceptor(ClasspathInterceptorChainFactory.java:140)&quot;,\n&quot;software.amazon.awssdk.core.interceptor.ClasspathInterceptorChainFactory.createExecutionInterceptorFromResource(ClasspathInterceptorChainFactory.java:95)&quot;,\n&quot;java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:269)&quot;,\n&quot;java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)&quot;,\n&quot;java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)&quot;,\n&quot;java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)&quot;,\n&quot;java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)&quot;,\n&quot;java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)...\n],\n&quot;cause&quot;: {\n&quot;errorMessage&quot;: &quot;software.amazon.awssdk.services.sqs.internal.MessageMD5ChecksumInterceptor. Current classpath: file:/var/task/&quot;,\n&quot;errorType&quot;: &quot;java.lang.ClassNotFoundException&quot;,\n&quot;stackTrace&quot;: []\n}\n}</strong></p>\n<p>I am using maven shaded plugin in order to reduce my JAR size, however, when I run this code locally it works without any issues. Any idea how to resolve this?</p>\n"},{"tags":["java","spring","spring-mvc","servlets","http-headers"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1636461931,"post_id":69897900,"comment_id":123558392,"body_markdown":"Allow header is sent to indicate the possible methods we can use for a specific resource, if you restrict it to GET and POST it indicates that even OPTIONS are not supported which is not the case. As for CORS, the Access-Control-Allow-Methods shows the desired methods (GET and POST)","body":"Allow header is sent to indicate the possible methods we can use for a specific resource, if you restrict it to GET and POST it indicates that even OPTIONS are not supported which is not the case. As for CORS, the Access-Control-Allow-Methods shows the desired methods (GET and POST)"},{"owner":{"account_id":22581954,"reputation":15,"user_id":16766481,"display_name":"Ritwik1711"},"score":0,"creation_date":1636476224,"post_id":69897900,"comment_id":123565009,"body_markdown":"That&#39;s exactly what I&#39;ve been asked to do. It&#39;s a vulnerability thing. So it has to be GET and POST","body":"That&#39;s exactly what I&#39;ve been asked to do. It&#39;s a vulnerability thing. So it has to be GET and POST"},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1636476483,"post_id":69897900,"comment_id":123565123,"body_markdown":"No it&#39;s not a vulnerability, this headers are there to just give information, some browsers don&#39;t implement them all or don&#39;t even care about it. Even if you use CORS, http clients other than browsers can call your endpoints without any problem.","body":"No it&#39;s not a vulnerability, this headers are there to just give information, some browsers don&#39;t implement them all or don&#39;t even care about it. Even if you use CORS, http clients other than browsers can call your endpoints without any problem."}],"owner":{"account_id":22581954,"reputation":15,"user_id":16766481,"display_name":"Ritwik1711"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636459810,"creation_date":1636459810,"question_id":69897900,"body_markdown":"So, this is in the CORS filter class.\r\n\r\n    // Authorize (allow) all domains to consume the content\r\n        ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Origin&quot;, values.isEmpty()?&quot;*&quot;:values);\r\n        ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET, POST&quot;);\r\n        ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Headers&quot;,&quot;*&quot;);\r\n    \r\n        HttpServletResponse resp = (HttpServletResponse) servletResponse;\r\n    \r\n        // For HTTP OPTIONS verb/method reply with ACCEPTED status code -- per CORS handshake\r\n        /*if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n            resp.setStatus(HttpServletResponse.SC_ACCEPTED);\r\n    \t\t            resp.setStatus(HttpServletResponse.SC_ACCEPTED);\r\n            return;\r\n        }*/\r\n    \r\n        resp.addHeader(&quot;X-XSS-Protection&quot;, &quot;1&quot;);\r\n        resp.addHeader(&quot;Strict-Transport-Security&quot;, &quot;max-age=31536000&quot;);\r\n        resp.addHeader(&quot;Content-Security-Policy&quot;, &quot;default-src &#39;self&#39;&quot;);\r\n        resp.addHeader(&quot;X-WebKit-CSP&quot;, &quot;default-src &#39;self&#39;&quot;);\r\n        resp.addHeader(&quot;X-Frame-Options&quot;, &quot;DENY&quot;);\r\n        resp.addHeader(&quot;Referrer-Policy&quot;, &quot;no-referrer&quot;);\r\n    \r\n        String origin = request.getHeader(&quot;origin&quot;);\r\n         if(origin!=null &amp;&amp; !values.isEmpty()) {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(values.split(&quot; , &quot;)));\r\n        if(!list.contains(origin)) {\r\n             ((HttpServletResponse) servletResponse).setStatus(HttpStatus.SC_UNAUTHORIZED);\r\n             System.out.println(&quot;Entered origin check&quot;);\r\n             return;\r\n        }\r\n         }\r\n\r\n\r\nWhen I change the request of an API to OPTIONS, the &#39;Allow&#39; header shows all these\r\n[options][1] i.e. GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\r\n\r\nI want it to be restricted to only GET, POST when sending an OPTIONS request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sYvob.jpg","title":"How to limit methods in &#39;Allow&#39; header when the request is of OPTIONS type?","body":"<p>So, this is in the CORS filter class.</p>\n<pre><code>// Authorize (allow) all domains to consume the content\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Origin&quot;, values.isEmpty()?&quot;*&quot;:values);\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET, POST&quot;);\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n    ((HttpServletResponse) servletResponse).addHeader(&quot;Access-Control-Allow-Headers&quot;,&quot;*&quot;);\n\n    HttpServletResponse resp = (HttpServletResponse) servletResponse;\n\n    // For HTTP OPTIONS verb/method reply with ACCEPTED status code -- per CORS handshake\n    /*if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\n        resp.setStatus(HttpServletResponse.SC_ACCEPTED);\n                    resp.setStatus(HttpServletResponse.SC_ACCEPTED);\n        return;\n    }*/\n\n    resp.addHeader(&quot;X-XSS-Protection&quot;, &quot;1&quot;);\n    resp.addHeader(&quot;Strict-Transport-Security&quot;, &quot;max-age=31536000&quot;);\n    resp.addHeader(&quot;Content-Security-Policy&quot;, &quot;default-src 'self'&quot;);\n    resp.addHeader(&quot;X-WebKit-CSP&quot;, &quot;default-src 'self'&quot;);\n    resp.addHeader(&quot;X-Frame-Options&quot;, &quot;DENY&quot;);\n    resp.addHeader(&quot;Referrer-Policy&quot;, &quot;no-referrer&quot;);\n\n    String origin = request.getHeader(&quot;origin&quot;);\n     if(origin!=null &amp;&amp; !values.isEmpty()) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(values.split(&quot; , &quot;)));\n    if(!list.contains(origin)) {\n         ((HttpServletResponse) servletResponse).setStatus(HttpStatus.SC_UNAUTHORIZED);\n         System.out.println(&quot;Entered origin check&quot;);\n         return;\n    }\n     }\n</code></pre>\n<p>When I change the request of an API to OPTIONS, the 'Allow' header shows all these\n<a href=\"https://i.stack.imgur.com/sYvob.jpg\" rel=\"nofollow noreferrer\">options</a> i.e. GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH</p>\n<p>I want it to be restricted to only GET, POST when sending an OPTIONS request.</p>\n"},{"tags":["java","spring-boot","spring-security","csrf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636460544,"post_id":69897892,"comment_id":123557862,"body_markdown":"Spring Security does already do CSRF why would you want a custom implementation?","body":"Spring Security does already do CSRF why would you want a custom implementation?"},{"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"score":0,"creation_date":1636464292,"post_id":69897892,"comment_id":123559365,"body_markdown":"Hey @M.Deinum,\n\nAs mentioned in question, we are planning to use Custom Implementation to support multi-instance support.\nAs default one uses Spring&#39;s Session","body":"Hey @M.Deinum,  As mentioned in question, we are planning to use Custom Implementation to support multi-instance support. As default one uses Spring&#39;s Session"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636464715,"post_id":69897892,"comment_id":123559573,"body_markdown":"You shouldn&#39;t need a custom implementation. Use the `CookieCsrfTokenRepository` so it gets stored in a cookie and send in a header.","body":"You shouldn&#39;t need a custom implementation. Use the <code>CookieCsrfTokenRepository</code> so it gets stored in a cookie and send in a header."},{"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"score":0,"creation_date":1636465239,"post_id":69897892,"comment_id":123559801,"body_markdown":"So, I guess my understanding is wrong.\nThen do we need to associate CSRF token with User&#39;s Identity ?","body":"So, I guess my understanding is wrong. Then do we need to associate CSRF token with User&#39;s Identity ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636465262,"post_id":69897892,"comment_id":123559809,"body_markdown":"No. Those things aren&#39;t related and serve different purposes.","body":"No. Those things aren&#39;t related and serve different purposes."},{"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"score":0,"creation_date":1636465316,"post_id":69897892,"comment_id":123559843,"body_markdown":"And how it is shared with multiple instances ?","body":"And how it is shared with multiple instances ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636468428,"post_id":69897892,"comment_id":123561401,"body_markdown":"It doesn&#39;t need to if it is in a cookie.","body":"It doesn&#39;t need to if it is in a cookie."},{"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"score":0,"creation_date":1636529278,"post_id":69897892,"comment_id":123578199,"body_markdown":"Will try this out, and post the status here","body":"Will try this out, and post the status here"}],"owner":{"account_id":14819652,"reputation":63,"user_id":10702431,"display_name":"Arvind Singh Rawat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636459766,"creation_date":1636459766,"question_id":69897892,"body_markdown":"I have a use case where I need to integrate the CSRF into a Springboot application.\r\nThe scenario is:\r\n\r\n - I have a Rest based Springboot application (Not MVC based)\r\n - User will login in that application using Username and password.\r\n - We need to provide the CSRF token to user using Spring&#39;s Security.\r\n - This application needs to be deployed into multiple different instances to support scalability.\r\n - We are using stateless (or self managed user&#39;s session in DB)\r\n\r\nBased on my research we need to make use of Custom CSRF Repository to support the CSRF Validation.\r\n\r\n\r\nBut I didn&#39;t get the few following scenarios:\r\n\r\n - So, Is this understanding right: Will Spring automatically calls the `saveToken()` (from Custom CSRF Repository) at the user&#39;s login attempt ?\r\n - If yes, is there any way to tell Spring which Rest API endpoint is\r\n   the Login Rest API like `/custom-login` ?\r\n - If no, what is the correct way to do it ?\r\n - When will `generateToken()` (from Custom CSRF repository) will be called and how it can be associated with User ?","title":"Implementing CSRF in Rest based Springboot Application","body":"<p>I have a use case where I need to integrate the CSRF into a Springboot application.\nThe scenario is:</p>\n<ul>\n<li>I have a Rest based Springboot application (Not MVC based)</li>\n<li>User will login in that application using Username and password.</li>\n<li>We need to provide the CSRF token to user using Spring's Security.</li>\n<li>This application needs to be deployed into multiple different instances to support scalability.</li>\n<li>We are using stateless (or self managed user's session in DB)</li>\n</ul>\n<p>Based on my research we need to make use of Custom CSRF Repository to support the CSRF Validation.</p>\n<p>But I didn't get the few following scenarios:</p>\n<ul>\n<li>So, Is this understanding right: Will Spring automatically calls the <code>saveToken()</code> (from Custom CSRF Repository) at the user's login attempt ?</li>\n<li>If yes, is there any way to tell Spring which Rest API endpoint is\nthe Login Rest API like <code>/custom-login</code> ?</li>\n<li>If no, what is the correct way to do it ?</li>\n<li>When will <code>generateToken()</code> (from Custom CSRF repository) will be called and how it can be associated with User ?</li>\n</ul>\n"},{"tags":["java","android","listview","android-alertdialog","android-listfragment"],"answers":[{"tags":[],"owner":{"account_id":318687,"reputation":315,"user_id":636031,"display_name":"seanAshmore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462399358,"creation_date":1462399358,"answer_id":37038856,"question_id":37038821,"body_markdown":"Just try Intent intent = null; instead of Intent intent; It&#39;s hard to tell but I think that should solve your issue –","title":"How to show alert dialog for certain list item","body":"<p>Just try Intent intent = null; instead of Intent intent; It's hard to tell but I think that should solve your issue –</p>\n"},{"tags":[],"owner":{"account_id":5874576,"reputation":37001,"user_id":4625829,"accept_rate":75,"display_name":"AL."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636459374,"creation_date":1462404226,"answer_id":37039752,"question_id":37038821,"body_markdown":"Not quite sure how your program works, but in your second `else if` statement, your `intent` is not initialized, yet `startActivity(intent)` is still called:\r\n\r\n    } else if (fruit.getFruit().equals(view.getResources().getString(R.string.tomato))) {\r\n                            AlertDialog ad = new AlertDialog.Builder(getContext())\r\n                                    .create();\r\n                            ad.setCancelable(false);\r\n                            ad.setTitle(&quot;Seeded Fruit&quot;);\r\n                            ad.setMessage(&quot;This fruit contains seeds.&quot;);\r\n                            ad.setButton(context.getString(R.string.ok_text), new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    dialog.dismiss();\r\n                                }\r\n                            });\r\n                            ad.show();\r\n                        } else {\r\n                            intent = new Intent(getActivity(), FruitAppleActivity.class);\r\n                        }\r\n    \r\n                        startActivity(intent);\r\n\r\nYou could do what @seanAshmore answered but it may still result to an NPE. I suggest simply adding a null checker for the intent before actually calling `startActivity()`, like so:\r\n\r\n    if (intent != null) {\r\n                            startActivity(intent);\r\n                        } else {\r\n                            Log.d(FragmentFruitChooser.class.getSimpleName(), &quot;Intent is null&quot;);\r\n                        }\r\n\r\nYou could just put separate `Intent intent = new Intent(...)` for each `if`/`elif`/`else` statement just to be sure. But tis your code, so do as you will.","title":"How to show alert dialog for certain list item","body":"<p>Not quite sure how your program works, but in your second <code>else if</code> statement, your <code>intent</code> is not initialized, yet <code>startActivity(intent)</code> is still called:</p>\n<pre><code>} else if (fruit.getFruit().equals(view.getResources().getString(R.string.tomato))) {\n                        AlertDialog ad = new AlertDialog.Builder(getContext())\n                                .create();\n                        ad.setCancelable(false);\n                        ad.setTitle(&quot;Seeded Fruit&quot;);\n                        ad.setMessage(&quot;This fruit contains seeds.&quot;);\n                        ad.setButton(context.getString(R.string.ok_text), new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n                                dialog.dismiss();\n                            }\n                        });\n                        ad.show();\n                    } else {\n                        intent = new Intent(getActivity(), FruitAppleActivity.class);\n                    }\n\n                    startActivity(intent);\n</code></pre>\n<p>You could do what @seanAshmore answered but it may still result to an NPE. I suggest simply adding a null checker for the intent before actually calling <code>startActivity()</code>, like so:</p>\n<pre><code>if (intent != null) {\n                        startActivity(intent);\n                    } else {\n                        Log.d(FragmentFruitChooser.class.getSimpleName(), &quot;Intent is null&quot;);\n                    }\n</code></pre>\n<p>You could just put separate <code>Intent intent = new Intent(...)</code> for each <code>if</code>/<code>elif</code>/<code>else</code> statement just to be sure. But tis your code, so do as you will.</p>\n"}],"owner":{"account_id":3996045,"reputation":8137,"user_id":3293579,"accept_rate":87,"display_name":"wbk727"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":37039752,"answer_count":2,"score":-2,"last_activity_date":1636459374,"creation_date":1462399195,"question_id":37038821,"body_markdown":"I&#39;m trying to show an alert dialog whenever I select a particular list item whereas the others would open a new fragment. However after inserting the alreat dialog code, an error is then returned. I don&#39;t understand why I&#39;m getting this error when &#39;intent&#39; has already been initialised. What can be done to resolve this problem?\r\n\r\n&gt; Variable &#39;intent&#39; might not have been initialized\r\n\r\n**FragmentFruitChooser**\r\n\r\n    public class FragmentFruitChooser extends ListFragment {\r\n    \r\n        public FragmentFruitChooser() {\r\n            // Required empty constructor\r\n        }\r\n    \r\n        /**\r\n         * Whether or not the activity is in two-pane mode, i.e. running on a tablet\r\n         * device.\r\n         */\r\n        public boolean mTwoPane;\r\n    \r\n        public static FragmentFruitChooser newInstance() {\r\n            return new FragmentFruitChooser();\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_fruit_chooser, container, false);\r\n            initialize();\r\n            return view;\r\n        }\r\n    \r\n        List&lt;Fruits&gt; list = new ArrayList&lt;&gt;();\r\n        private void initialize() {\r\n            String[] items = getActivity().getResources().getStringArray(R.array.fruit_names);\r\n            String[] itemDescriptions = getActivity().getResources().getStringArray(R.array.fruit_descriptions);\r\n            for (int n = 0; n &lt; items.length; n++){\r\n                Fruit fruit = new Fruit();\r\n                fruit.setID();\r\n                fruit.setName(items[n]);\r\n                fruit.setDescription(itemDescriptions[n]);\r\n                list.add(fruit);\r\n            }\r\n    \r\n            FruitListAdapter mAdapter = new FruitListAdapter(list, getActivity());\r\n            setListAdapter(mAdapter);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityCreated(Bundle savedInstanceState) {\r\n            View v = getView();\r\n    \r\n            mTwoPane = getActivity().findViewById(R.id.detail_container) != null;\r\n    \r\n            assert v != null;\r\n            ListView lv = (ListView)v.findViewById(android.R.id.list);\r\n            lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n    \r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    // get the adapter, then get the name from the adapter at that position\r\n                    FruitListAdapter adapter = (FruitListAdapter) parent.getAdapter();\r\n    \r\n                    //reverse the selected state in data model\r\n                    for (int i = 0; i &lt; adapter.getCount(); i++) {\r\n                        Fruit fruit = (Fruit)adapter.getItem(i);\r\n                        fruit.setSelected(i == position);\r\n                    }\r\n                    Fruit fruit = (Fruit)adapter.getItem(position);\r\n    \r\n                    if (!mTwoPane) {\r\n    \r\n                        Intent intent;\r\n                        if (fruit.getFruit().equals(view.getResources().getString(R.string.apple))) {\r\n                            intent = new Intent(getActivity(), FruitAppleActivity.class);\r\n                        } else if (fruit.getFruit().equals(view.getResources().getString(R.string.orange))) {\r\n                            intent = new Intent(getActivity(), FruitOrangeActivity.class);\r\n                        } else if (fruit.getFruit().equals(view.getResources().getString(R.string.tomato))) {\r\n     AlertDialog ad = new AlertDialog.Builder(getContext())\r\n                .create();\r\n        ad.setCancelable(false);\r\n        ad.setTitle(&quot;Seeded Fruit&quot;);\r\n        ad.setMessage(&quot;This fruit contains seeds.&quot;);\r\n        ad.setButton(context.getString(R.string.ok_text), new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n    ad.show();\r\n                        } else {\r\n                            intent = new Intent(getActivity(), FruitAppleActivity.class);\r\n                        }\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n\r\n            });\r\n    \r\n            super.onActivityCreated(savedInstanceState);\r\n        }\r\n    }","title":"How to show alert dialog for certain list item","body":"<p>I'm trying to show an alert dialog whenever I select a particular list item whereas the others would open a new fragment. However after inserting the alreat dialog code, an error is then returned. I don't understand why I'm getting this error when 'intent' has already been initialised. What can be done to resolve this problem?</p>\n\n<blockquote>\n  <p>Variable 'intent' might not have been initialized</p>\n</blockquote>\n\n<p><strong>FragmentFruitChooser</strong></p>\n\n<pre><code>public class FragmentFruitChooser extends ListFragment {\n\n    public FragmentFruitChooser() {\n        // Required empty constructor\n    }\n\n    /**\n     * Whether or not the activity is in two-pane mode, i.e. running on a tablet\n     * device.\n     */\n    public boolean mTwoPane;\n\n    public static FragmentFruitChooser newInstance() {\n        return new FragmentFruitChooser();\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_fruit_chooser, container, false);\n        initialize();\n        return view;\n    }\n\n    List&lt;Fruits&gt; list = new ArrayList&lt;&gt;();\n    private void initialize() {\n        String[] items = getActivity().getResources().getStringArray(R.array.fruit_names);\n        String[] itemDescriptions = getActivity().getResources().getStringArray(R.array.fruit_descriptions);\n        for (int n = 0; n &lt; items.length; n++){\n            Fruit fruit = new Fruit();\n            fruit.setID();\n            fruit.setName(items[n]);\n            fruit.setDescription(itemDescriptions[n]);\n            list.add(fruit);\n        }\n\n        FruitListAdapter mAdapter = new FruitListAdapter(list, getActivity());\n        setListAdapter(mAdapter);\n    }\n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState) {\n        View v = getView();\n\n        mTwoPane = getActivity().findViewById(R.id.detail_container) != null;\n\n        assert v != null;\n        ListView lv = (ListView)v.findViewById(android.R.id.list);\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                // get the adapter, then get the name from the adapter at that position\n                FruitListAdapter adapter = (FruitListAdapter) parent.getAdapter();\n\n                //reverse the selected state in data model\n                for (int i = 0; i &lt; adapter.getCount(); i++) {\n                    Fruit fruit = (Fruit)adapter.getItem(i);\n                    fruit.setSelected(i == position);\n                }\n                Fruit fruit = (Fruit)adapter.getItem(position);\n\n                if (!mTwoPane) {\n\n                    Intent intent;\n                    if (fruit.getFruit().equals(view.getResources().getString(R.string.apple))) {\n                        intent = new Intent(getActivity(), FruitAppleActivity.class);\n                    } else if (fruit.getFruit().equals(view.getResources().getString(R.string.orange))) {\n                        intent = new Intent(getActivity(), FruitOrangeActivity.class);\n                    } else if (fruit.getFruit().equals(view.getResources().getString(R.string.tomato))) {\n AlertDialog ad = new AlertDialog.Builder(getContext())\n            .create();\n    ad.setCancelable(false);\n    ad.setTitle(\"Seeded Fruit\");\n    ad.setMessage(\"This fruit contains seeds.\");\n    ad.setButton(context.getString(R.string.ok_text), new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int which) {\n            dialog.dismiss();\n        }\n    });\nad.show();\n                    } else {\n                        intent = new Intent(getActivity(), FruitAppleActivity.class);\n                    }\n                    startActivity(intent);\n                }\n            }\n\n        });\n\n        super.onActivityCreated(savedInstanceState);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","jenkins","testing","webdriver"],"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1636313082,"post_id":69874628,"comment_id":123517604,"body_markdown":"You&#39;re parameterised line has: `-Dbrowser=$(browser)`, the variable requires curly braces as the rest of your line. Correct it to: `-Dbrowser=${browser}`","body":"You&#39;re parameterised line has: <code>-Dbrowser=$(browser)</code>, the variable requires curly braces as the rest of your line. Correct it to: <code>-Dbrowser=${browser}</code>"},{"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"score":0,"creation_date":1636344809,"post_id":69874628,"comment_id":123522679,"body_markdown":"thanks a lot, corrected it, but it didn&#39;t solve the problem.","body":"thanks a lot, corrected it, but it didn&#39;t solve the problem."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1636361924,"post_id":69874628,"comment_id":123526461,"body_markdown":"So by the looks of it, your service.class is not getting back one or more of the test.data strings thus the NPE. Have you checked that all values required for service.class is available to your Jenkins agent ?","body":"So by the looks of it, your service.class is not getting back one or more of the test.data strings thus the NPE. Have you checked that all values required for service.class is available to your Jenkins agent ?"},{"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"score":0,"creation_date":1636367585,"post_id":69874628,"comment_id":123528644,"body_markdown":"Thank you very much kind person! Yes, you understood everything correctly, I do not receive data for processing keys from my dev.properties in the line &quot;private static final ResourceBundle resourceBundle = ResourceBundle.getBundle (System.getProperty (&quot; environment &quot;));&quot; I have added Jenkins skin shots to my question. Please save me otherwise I&#39;m close to going crazy :-)","body":"Thank you very much kind person! Yes, you understood everything correctly, I do not receive data for processing keys from my dev.properties in the line &quot;private static final ResourceBundle resourceBundle = ResourceBundle.getBundle (System.getProperty (&quot; environment &quot;));&quot; I have added Jenkins skin shots to my question. Please save me otherwise I&#39;m close to going crazy :-)"},{"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"score":0,"creation_date":1636368888,"post_id":69874628,"comment_id":123529144,"body_markdown":"P.S. \nadding the full path &quot;src / test / resources / dev.properties&quot; to the &quot;environment&quot; parameter yielded no results","body":"P.S.  adding the full path &quot;src / test / resources / dev.properties&quot; to the &quot;environment&quot; parameter yielded no results"},{"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"score":0,"creation_date":1636373999,"post_id":69874628,"comment_id":123531064,"body_markdown":"I think the whole problem is in the correctness of passing my parameters from Jenkins in the build section","body":"I think the whole problem is in the correctness of passing my parameters from Jenkins in the build section"},{"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"score":0,"creation_date":1636377260,"post_id":69874628,"comment_id":123532460,"body_markdown":"I think the whole problem is in the correctness of passing my parameters to Jenkins in the build section","body":"I think the whole problem is in the correctness of passing my parameters to Jenkins in the build section"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1636378316,"post_id":69874628,"comment_id":123532932,"body_markdown":"Added an answer below and have omitted the -P command for the moment, as you have not provided a &lt;profile&gt; tag in any of your configuration so far, this is usually in your settings.xml, or if you have declared it in a child pom.xml. Try the changes mentioned in the answer first and see how you go","body":"Added an answer below and have omitted the -P command for the moment, as you have not provided a &lt;profile&gt; tag in any of your configuration so far, this is usually in your settings.xml, or if you have declared it in a child pom.xml. Try the changes mentioned in the answer first and see how you go"}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636390633,"creation_date":1636378226,"answer_id":69884296,"question_id":69874628,"body_markdown":"From the screenshots above, you need to correct the following:\r\n\r\n&#39;**Trigger/call builds on other projects**&#39; section\r\n - File Name in Child Projects section you have ```mvn test -P -Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment} clean test``` - remove this, as this section is to declare files within sub-projects of your main project &quot;frameworklasttask&quot;, not the maven command\r\n\r\nNow on the next section, where you have declared the maven version &#39;3.8.1&#39;\r\n - Update ```clean test``` to ```clean test -Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment}.properties```\r\n\r\nFor the moment, I have discarded the -P part of the maven command as a &lt;profile&gt; tag is missing from the configuration you have provided so far.\r\n\r\n","title":"Selenium Webdriver Java test does not start in Jenkins. It works well from the command line (cmd)","body":"<p>From the screenshots above, you need to correct the following:</p>\n<p>'<strong>Trigger/call builds on other projects</strong>' section</p>\n<ul>\n<li>File Name in Child Projects section you have <code>mvn test -P -Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment} clean test</code> - remove this, as this section is to declare files within sub-projects of your main project &quot;frameworklasttask&quot;, not the maven command</li>\n</ul>\n<p>Now on the next section, where you have declared the maven version '3.8.1'</p>\n<ul>\n<li>Update <code>clean test</code> to <code>clean test -Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment}.properties</code></li>\n</ul>\n<p>For the moment, I have discarded the -P part of the maven command as a  tag is missing from the configuration you have provided so far.</p>\n"},{"tags":[],"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636449530,"creation_date":1636449530,"answer_id":69895542,"question_id":69874628,"body_markdown":"I only found a solution like this. Nothing else in this project build configuration works !!! Proven by 4 days of searching!\r\n\r\n\r\n----------\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5vA6q.jpg","title":"Selenium Webdriver Java test does not start in Jenkins. It works well from the command line (cmd)","body":"<p>I only found a solution like this. Nothing else in this project build configuration works !!! Proven by 4 days of searching!</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/5vA6q.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":23264254,"reputation":1,"user_id":17350641,"display_name":"w3oleg w3oleg"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636459053,"creation_date":1636304229,"question_id":69874628,"body_markdown":"I understand that it is not possible to get data from the resources.\r\nPermission in services for interacting with the desktop in services is given.\r\n\r\nsimple tests pass:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n----------\r\n[enter image description here][2]\r\n\r\n\r\n\r\n----------\r\n\r\n[enter image description here][4]\r\n----------\r\n\r\n[enter image description here][5]\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n[enter image description here][6]\r\n----------\r\n\r\n[enter image description here][7]\r\n----------\r\n[enter image description here][8]\r\n\r\n----------\r\n\r\n\r\nIn Jenkins I crawl the parameterized assembly line:\r\n\r\n\r\n    -Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment} clean test\r\n\r\n\r\n----------\r\nerror code\r\n\r\n----------\r\n\r\n        java.lang.ExceptionInInitializerError\r\n\tat service.InstanceCreator.getDataEstimateForm(InstanceCreator.java:24)\r\n\tat test.GoogleCloudTest.checkEmailEstimateCost(GoogleCloudTest.java:17)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n    Caused by: java.lang.NullPointerException\r\n\tat java.util.ResourceBundle$CacheKey.calculateHashCode(ResourceBundle.java:654)\r\n\tat java.util.ResourceBundle$CacheKey.&lt;init&gt;(ResourceBundle.java:584)\r\n\tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1333)\r\n\tat java.util.ResourceBundle.getBundle(ResourceBundle.java:782)\r\n\tat service.TestDataReader.&lt;clinit&gt;(TestDataReader.java:6)\r\n\t... 35 more\r\n... Removed 32 stack frames\r\n\r\n\r\n----------\r\n\r\n\r\nclass for reading keys\r\n----------\r\n\r\n    public class TestDataReader {\r\n    private static final ResourceBundle resourceBundle = ResourceBundle.getBundle(System.getProperty(&quot;environment&quot;));\r\n\r\n    public static String getTestData(String key) {\r\n        return resourceBundle.getString(key);\r\n    }\r\n}\r\n\r\n\r\n----------\r\n\r\nservice class\r\n----------\r\n\r\n    public class InstanceCreator {\r\n    private static final String NUMBER_OF_INSTANCES = &quot;testdata.instanceCreator.number&quot;;\r\n    private static final String OPERATION_SYSTEM = &quot;testdata.instanceCreator.os&quot;;\r\n    private static final String MACHINE_CLASS = &quot;testdata.instanceCreator.machine-class&quot;;\r\n    private static final String SERIES_ID = &quot;testdata.instanceCreator.series-id&quot;;\r\n    private static final String MACHINE_TYPE = &quot;testdata.instanceCreator.machine-type&quot;;\r\n    private static final String NUMBER_OF_GPUS = &quot;testdata.instanceCreator.number-of-gpus&quot;;\r\n    private static final String TYPE_GPU = &quot;testdata.instanceCreator.type-gpu&quot;;\r\n    private static final String LOCAL_SSD = &quot;testdata.instanceCreator.local-ssd&quot;;\r\n    private static final String DATA_CENTER_LOCATION = &quot;testdata.instanceCreator.datacenter&quot;;\r\n    private static final String COMMITTED_USAGE = &quot;testdata.instanceCreator.committed-sage&quot;;\r\n\r\n    public static InstanceForm getDataEstimateForm() {\r\n      return new InstanceForm(       \r\n              TestDataReader.getTestData(NUMBER_OF_INSTANCES),\r\n              TestDataReader.getTestData(OPERATION_SYSTEM),\r\n              TestDataReader.getTestData(MACHINE_CLASS),\r\n              TestDataReader.getTestData(SERIES_ID),\r\n              TestDataReader.getTestData(MACHINE_TYPE),\r\n              TestDataReader.getTestData(NUMBER_OF_GPUS),\r\n              TestDataReader.getTestData(TYPE_GPU),\r\n              TestDataReader.getTestData(LOCAL_SSD),\r\n              TestDataReader.getTestData(DATA_CENTER_LOCATION),\r\n              TestDataReader.getTestData(COMMITTED_USAGE));\r\n      }\r\n    }\r\n\r\n\r\n----------\r\n\r\ntest\r\n----------\r\n\r\n    \r\npublic class GoogleCloudTest extends CommonConditions {\r\n\r\n\r\n    @Test(description = &quot;get a letter with the results of processing the request&quot;)\r\n\r\n    public void checkEmailEstimateCost() {\r\n        new InstanceCreator();\r\n        InstanceForm instanceForm = InstanceCreator.getDataEstimateForm();\r\n        String verificationCalculationResultsReceivedEmail = new GoogleCloudHomePage(driver)\r\n                .openPage()\r\n                .fillSearchInput()\r\n                .openCalculator()\r\n                .activationComputeEngine()\r\n                .fillComputeEngineForm(instanceForm)\r\n                .pressAddToEstimate()\r\n                .saveResultEstimate()\r\n                .pressButtonEmailEstimate()\r\n                .openNewTab()\r\n                .openPage()\r\n                .copyEmailAddress()\r\n                .comeBackToCalculator()\r\n                .enterEmail()\r\n                .pressButtonSendEmail()\r\n                .returnToPageEmail()\r\n                .pressCheckMailButton()\r\n                .thisComparisonResultsReceivedEmailWithDataSite();\r\n        Assert.assertEquals(verificationCalculationResultsReceivedEmail, ProcessData.getCurrentPriceInCalculator()\r\n                , &quot;the data received by mail does not coincide with the data received in the calculator&quot;);\r\n    }\r\n\r\n\r\n\r\n----------\r\n\r\npom.xml\r\n----------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;frameworklasttask&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HnfRM.jpg\r\n  [2]: https://i.stack.imgur.com/7jLej.jpg\r\n  [3]: https://i.stack.imgur.com/z2LnK.jpg\r\n  [4]: https://i.stack.imgur.com/MNgTz.jpg\r\n  [5]: https://i.stack.imgur.com/fxFfG.jpg\r\n  [6]: https://i.stack.imgur.com/nUPW0.jpg\r\n  [7]: https://i.stack.imgur.com/xVm81.jpg\r\n  [8]: https://i.stack.imgur.com/HQktE.jpg","title":"Selenium Webdriver Java test does not start in Jenkins. It works well from the command line (cmd)","body":"<p>I understand that it is not possible to get data from the resources.\nPermission in services for interacting with the desktop in services is given.</p>\n<p>simple tests pass:</p>\n<p><a href=\"https://i.stack.imgur.com/HnfRM.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/7jLej.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<h2><a href=\"https://i.stack.imgur.com/MNgTz.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></h2>\n<h2><a href=\"https://i.stack.imgur.com/fxFfG.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></h2>\n<hr />\n<hr />\n<h2><a href=\"https://i.stack.imgur.com/nUPW0.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></h2>\n<h2><a href=\"https://i.stack.imgur.com/xVm81.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></h2>\n<p><a href=\"https://i.stack.imgur.com/HQktE.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>In Jenkins I crawl the parameterized assembly line:</p>\n<pre><code>-Dbrowser=${browser} -Dsurefire.suiteXmlFiles=${surefire.suiteXmlFiles} -Denvironment=${environment} clean test\n</code></pre>\n<hr />\n<p>error code</p>\n<hr />\n<pre><code>    java.lang.ExceptionInInitializerError\nat service.InstanceCreator.getDataEstimateForm(InstanceCreator.java:24)\nat test.GoogleCloudTest.checkEmailEstimateCost(GoogleCloudTest.java:17)\nat java.util.ArrayList.forEach(ArrayList.java:1259)\nCaused by: java.lang.NullPointerException\nat java.util.ResourceBundle$CacheKey.calculateHashCode(ResourceBundle.java:654)\nat java.util.ResourceBundle$CacheKey.&lt;init&gt;(ResourceBundle.java:584)\nat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1333)\nat java.util.ResourceBundle.getBundle(ResourceBundle.java:782)\nat service.TestDataReader.&lt;clinit&gt;(TestDataReader.java:6)\n... 35 more\n</code></pre>\n<p>... Removed 32 stack frames</p>\n<hr />\n<h2>class for reading keys</h2>\n<pre><code>public class TestDataReader {\nprivate static final ResourceBundle resourceBundle = ResourceBundle.getBundle(System.getProperty(&quot;environment&quot;));\n\npublic static String getTestData(String key) {\n    return resourceBundle.getString(key);\n}\n</code></pre>\n<p>}</p>\n<hr />\n<h2>service class</h2>\n<pre><code>public class InstanceCreator {\nprivate static final String NUMBER_OF_INSTANCES = &quot;testdata.instanceCreator.number&quot;;\nprivate static final String OPERATION_SYSTEM = &quot;testdata.instanceCreator.os&quot;;\nprivate static final String MACHINE_CLASS = &quot;testdata.instanceCreator.machine-class&quot;;\nprivate static final String SERIES_ID = &quot;testdata.instanceCreator.series-id&quot;;\nprivate static final String MACHINE_TYPE = &quot;testdata.instanceCreator.machine-type&quot;;\nprivate static final String NUMBER_OF_GPUS = &quot;testdata.instanceCreator.number-of-gpus&quot;;\nprivate static final String TYPE_GPU = &quot;testdata.instanceCreator.type-gpu&quot;;\nprivate static final String LOCAL_SSD = &quot;testdata.instanceCreator.local-ssd&quot;;\nprivate static final String DATA_CENTER_LOCATION = &quot;testdata.instanceCreator.datacenter&quot;;\nprivate static final String COMMITTED_USAGE = &quot;testdata.instanceCreator.committed-sage&quot;;\n\npublic static InstanceForm getDataEstimateForm() {\n  return new InstanceForm(       \n          TestDataReader.getTestData(NUMBER_OF_INSTANCES),\n          TestDataReader.getTestData(OPERATION_SYSTEM),\n          TestDataReader.getTestData(MACHINE_CLASS),\n          TestDataReader.getTestData(SERIES_ID),\n          TestDataReader.getTestData(MACHINE_TYPE),\n          TestDataReader.getTestData(NUMBER_OF_GPUS),\n          TestDataReader.getTestData(TYPE_GPU),\n          TestDataReader.getTestData(LOCAL_SSD),\n          TestDataReader.getTestData(DATA_CENTER_LOCATION),\n          TestDataReader.getTestData(COMMITTED_USAGE));\n  }\n}\n</code></pre>\n<hr />\n<h2>test</h2>\n<p>public class GoogleCloudTest extends CommonConditions {</p>\n<pre><code>@Test(description = &quot;get a letter with the results of processing the request&quot;)\n\npublic void checkEmailEstimateCost() {\n    new InstanceCreator();\n    InstanceForm instanceForm = InstanceCreator.getDataEstimateForm();\n    String verificationCalculationResultsReceivedEmail = new GoogleCloudHomePage(driver)\n            .openPage()\n            .fillSearchInput()\n            .openCalculator()\n            .activationComputeEngine()\n            .fillComputeEngineForm(instanceForm)\n            .pressAddToEstimate()\n            .saveResultEstimate()\n            .pressButtonEmailEstimate()\n            .openNewTab()\n            .openPage()\n            .copyEmailAddress()\n            .comeBackToCalculator()\n            .enterEmail()\n            .pressButtonSendEmail()\n            .returnToPageEmail()\n            .pressCheckMailButton()\n            .thisComparisonResultsReceivedEmailWithDataSite();\n    Assert.assertEquals(verificationCalculationResultsReceivedEmail, ProcessData.getCurrentPriceInCalculator()\n            , &quot;the data received by mail does not coincide with the data received in the calculator&quot;);\n}\n</code></pre>\n<hr />\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;frameworklasttask&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n        &lt;plugins&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","scope","static"],"comments":[{"owner":{"account_id":69612,"reputation":15420,"user_id":202431,"accept_rate":98,"display_name":"D.C."},"score":0,"creation_date":1263700900,"post_id":2079830,"comment_id":2010852,"body_markdown":"this is why Java needs closures (kidding).","body":"this is why Java needs closures (kidding)."},{"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"score":0,"creation_date":1263703663,"post_id":2079830,"comment_id":2010934,"body_markdown":"@darren : What do closures have to do with static locals?","body":"@darren : What do closures have to do with static locals?"},{"owner":{"account_id":69612,"reputation":15420,"user_id":202431,"accept_rate":98,"display_name":"D.C."},"score":13,"creation_date":1263705705,"post_id":2079830,"comment_id":2011001,"body_markdown":"he wanted static locals (in a C sense) to maintain state through multiple function calls.  In other words having locals exist after the function returns.  This is one use of closures.","body":"he wanted static locals (in a C sense) to maintain state through multiple function calls.  In other words having locals exist after the function returns.  This is one use of closures."},{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":2,"creation_date":1495202961,"post_id":2079830,"comment_id":75168471,"body_markdown":"TL;DR answer: you can&#39;t. Make a static member variable of the containing class.","body":"TL;DR answer: you can&#39;t. Make a static member variable of the containing class."},{"owner":{"account_id":359805,"reputation":14154,"user_id":701435,"accept_rate":100,"display_name":"Dan H"},"score":0,"creation_date":1534451485,"post_id":2079830,"comment_id":90721341,"body_markdown":"Part of the confusion on this thread is that the &quot;static&quot; keyword works differently in C and Java.  In C, if used inside a function, the state of that variable is preserved from one call to the next, but only has scope inside that function.  Java doesn&#39;t have an equivalent keyword, but some answers correctly describe how you can use an object to emulate this behavior.","body":"Part of the confusion on this thread is that the &quot;static&quot; keyword works differently in C and Java.  In C, if used inside a function, the state of that variable is preserved from one call to the next, but only has scope inside that function.  Java doesn&#39;t have an equivalent keyword, but some answers correctly describe how you can use an object to emulate this behavior."}],"answers":[{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1263698014,"creation_date":1263698014,"answer_id":2079841,"question_id":2079830,"body_markdown":"&gt; Should I resort to using instance\r\n&gt; variables?\r\n\r\nyes - after all, that is what instance variables are for. They store the state between invocations of the methods of the object. Having static class variables can sort of achieve the same result, but can make your program more coupled and harder to test/mock/maintain.","title":"How do I create a static local variable in Java?","body":"<blockquote>\n  <p>Should I resort to using instance\n  variables?</p>\n</blockquote>\n\n<p>yes - after all, that is what instance variables are for. They store the state between invocations of the methods of the object. Having static class variables can sort of achieve the same result, but can make your program more coupled and harder to test/mock/maintain.</p>\n"},{"tags":[],"owner":{"account_id":49937,"reputation":4143,"user_id":148865,"accept_rate":100,"display_name":"Ellie P."},"down_vote_count":3,"up_vote_count":43,"is_accepted":true,"score":40,"last_activity_date":1263698085,"creation_date":1263698085,"answer_id":2079843,"question_id":2079830,"body_markdown":"You can have a static class variable, which will be preserved across all instances of the class. If that&#39;s what you want. If not, use an instance variable, which will only be preserved across method calls on this object.\r\n\r\n    public class Foo {\r\n       static int bar;\r\n       //set bar somewhere\r\n    \r\n       public int baz() {\r\n          return 3 * bar;\r\n       }\r\n    } ","title":"How do I create a static local variable in Java?","body":"<p>You can have a static class variable, which will be preserved across all instances of the class. If that's what you want. If not, use an instance variable, which will only be preserved across method calls on this object.</p>\n\n<pre><code>public class Foo {\n   static int bar;\n   //set bar somewhere\n\n   public int baz() {\n      return 3 * bar;\n   }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":77173,"reputation":40223,"user_id":220447,"accept_rate":90,"display_name":"paradigmatic"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1263702871,"creation_date":1263702871,"answer_id":2079954,"question_id":2079830,"body_markdown":"If you want to reuse variable value between function calls and isolate this variable from other methods, you should encapsulate it in an object. First, define a class with only the &quot;static-like&quot; variables and the function you need:\r\n\r\n    class MyFunctionWithState {\r\n        private int myVar = 0;\r\n        public int call() {\r\n          myVar++;\r\n          return myVar;\r\n        }\r\n     }\r\n\r\nThen, from your client code:\r\n\r\n    class Foo {\r\n        private MyFunctionWithState func = new MyFunctionWithState();\r\n        public int bar() {\r\n          return func.call();\r\n        }\r\n     }\r\n\r\nNow if `func` relies on the internal state of `Foo` you can either pass the relevant data through `call()` or pass an instance of `Foo` and let the function call the appropriate getters:\r\n\r\n\r\n    class MyFunctionWithState {\r\n        private int myVar = 0;\r\n        public int call( Foo f ) {\r\n          myVar += f.getBaz();\r\n          return myVar;\r\n        }\r\n     }\r\n\r\n    class Foo {\r\n        private MyFunctionWithState func = new MyFunctionWithState();\r\n        public int bar() {\r\n          return func.call( this );\r\n        }\r\n        public int getBaz() {  /*...*/  }\r\n     }","title":"How do I create a static local variable in Java?","body":"<p>If you want to reuse variable value between function calls and isolate this variable from other methods, you should encapsulate it in an object. First, define a class with only the \"static-like\" variables and the function you need:</p>\n\n<pre><code>class MyFunctionWithState {\n    private int myVar = 0;\n    public int call() {\n      myVar++;\n      return myVar;\n    }\n }\n</code></pre>\n\n<p>Then, from your client code:</p>\n\n<pre><code>class Foo {\n    private MyFunctionWithState func = new MyFunctionWithState();\n    public int bar() {\n      return func.call();\n    }\n }\n</code></pre>\n\n<p>Now if <code>func</code> relies on the internal state of <code>Foo</code> you can either pass the relevant data through <code>call()</code> or pass an instance of <code>Foo</code> and let the function call the appropriate getters:</p>\n\n<pre><code>class MyFunctionWithState {\n    private int myVar = 0;\n    public int call( Foo f ) {\n      myVar += f.getBaz();\n      return myVar;\n    }\n }\n\nclass Foo {\n    private MyFunctionWithState func = new MyFunctionWithState();\n    public int bar() {\n      return func.call( this );\n    }\n    public int getBaz() {  /*...*/  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3102752,"reputation":1031,"user_id":2626445,"accept_rate":83,"display_name":"user2626445"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376953574,"creation_date":1376953574,"answer_id":18324512,"question_id":2079830,"body_markdown":"Local Variables are variables inside a method. Only method gets to access these variables. you cannot have a static local variable , but you can use instance variables or class variables.\r\n\r\nIf you have your method as static which by default creates a copy of this method to all the objects and cant be broken down any further as local variables limit their access only to the method in which they reside.","title":"How do I create a static local variable in Java?","body":"<p>Local Variables are variables inside a method. Only method gets to access these variables. you cannot have a static local variable , but you can use instance variables or class variables.</p>\n\n<p>If you have your method as static which by default creates a copy of this method to all the objects and cant be broken down any further as local variables limit their access only to the method in which they reside.</p>\n"},{"tags":[],"owner":{"account_id":4726057,"reputation":1,"user_id":3822659,"display_name":"valery"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1404957809,"creation_date":1404957809,"answer_id":24666370,"question_id":2079830,"body_markdown":"final int intVar = 1; // Will be inited only once. Behaves as C++ static local var in the method.\r\n","title":"How do I create a static local variable in Java?","body":"<p>final int intVar = 1; // Will be inited only once. Behaves as C++ static local var in the method.</p>\n"},{"tags":[],"owner":{"account_id":1359980,"reputation":17363,"user_id":1680919,"accept_rate":60,"display_name":"Levite"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1492096846,"creation_date":1418980421,"answer_id":27562793,"question_id":2079830,"body_markdown":"In the following example `count` behaves like a static *local* variable, that you might use in C:\r\n\r\n    public class Foo {\r\n\r\n       private int count = 0;\r\n    \r\n       public int getCount() {\r\n           return count++;               \r\n       }\r\n    } \r\n\r\nThere are no static **local** variables like other languages support. Since java is very &quot;class&quot;-oriented, it tries to bring it to that context. If you want to simulate that behavior, you use an instance variable, which is only used by this method. So this is static for different *method* calls, not for the class itself.","title":"How do I create a static local variable in Java?","body":"<p>In the following example <code>count</code> behaves like a static <em>local</em> variable, that you might use in C:</p>\n\n<pre><code>public class Foo {\n\n   private int count = 0;\n\n   public int getCount() {\n       return count++;               \n   }\n} \n</code></pre>\n\n<p>There are no static <strong>local</strong> variables like other languages support. Since java is very \"class\"-oriented, it tries to bring it to that context. If you want to simulate that behavior, you use an instance variable, which is only used by this method. So this is static for different <em>method</em> calls, not for the class itself.</p>\n"},{"tags":[],"owner":{"account_id":4115846,"reputation":1,"user_id":3377419,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453119691,"creation_date":1453119691,"answer_id":34854679,"question_id":2079830,"body_markdown":"Either you marked an answer correct that wasn&#39;t, or you actually wanted static class variables - but the right answer is basically Levit&#39;s, or technically a mixture of all the answers.\r\n\r\nFor people from a C background like me, truly wanting static function-local variables purely for the scope advantage over globals, it seems the answer is you can&#39;t in Java.  Not without doing something like @paradigmatic is going for with an instance of a class with a static global and getter() unique to the instance of the class you are running your function in.\r\n\r\nIf, as I suspect, you&#39;re running the class as a Singleton, or completely statically like the inately procedural programmer we all started as, @Ellie P&#39;s or @user2626445&#39;s answer would work fine since no other instance is going to screw up your global.  But to achieve what I think it is you want it should actually be just an instance variable, which is a global in C.  They persist across function calls but allow your function to be used in an OO way, so multiple instances can keep their own persistent variables for this particular function.\r\n\r\nPersonally, I get around this in jave the same way I get around Hi-Tech C not allowing function bit variables, by declaring the global in the file just above the function declaration.  That way me when I hack the code later is less likely to think it&#39;s a global and be tempted to mess with it - isn&#39;t that why we encapsulate things?","title":"How do I create a static local variable in Java?","body":"<p>Either you marked an answer correct that wasn't, or you actually wanted static class variables - but the right answer is basically Levit's, or technically a mixture of all the answers.</p>\n\n<p>For people from a C background like me, truly wanting static function-local variables purely for the scope advantage over globals, it seems the answer is you can't in Java.  Not without doing something like @paradigmatic is going for with an instance of a class with a static global and getter() unique to the instance of the class you are running your function in.</p>\n\n<p>If, as I suspect, you're running the class as a Singleton, or completely statically like the inately procedural programmer we all started as, @Ellie P's or @user2626445's answer would work fine since no other instance is going to screw up your global.  But to achieve what I think it is you want it should actually be just an instance variable, which is a global in C.  They persist across function calls but allow your function to be used in an OO way, so multiple instances can keep their own persistent variables for this particular function.</p>\n\n<p>Personally, I get around this in jave the same way I get around Hi-Tech C not allowing function bit variables, by declaring the global in the file just above the function declaration.  That way me when I hack the code later is less likely to think it's a global and be tempted to mess with it - isn't that why we encapsulate things?</p>\n"},{"tags":[],"owner":{"account_id":5243298,"reputation":35,"user_id":4189771,"display_name":"Matthias Ngeo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636458914,"creation_date":1636458914,"answer_id":69897696,"question_id":2079830,"body_markdown":"Disclaimer: *Just because you can, doesn&#39;t mean you should*\r\n\r\nAlthough Java doesn&#39;t support static local variables, it&#39;s fairly easy to emulate in recent versions of Java. From Java 16 onwards, it is possible to create a local class with a mutable static field in a method. Subsequently, you mutate the local class&#39;s static field just like you would in C/C++.\r\n```java\r\npublic class Main {\r\n\r\n    public void foo() {\r\n        class Local {\r\n            static int count = 0;\r\n        }\r\n        Local.count++;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nBefore Java 16, local classes may only contain static constants.","title":"How do I create a static local variable in Java?","body":"<p>Disclaimer: <em>Just because you can, doesn't mean you should</em></p>\n<p>Although Java doesn't support static local variables, it's fairly easy to emulate in recent versions of Java. From Java 16 onwards, it is possible to create a local class with a mutable static field in a method. Subsequently, you mutate the local class's static field just like you would in C/C++.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public void foo() {\n        class Local {\n            static int count = 0;\n        }\n        Local.count++;\n    }\n    \n}\n</code></pre>\n<p>Before Java 16, local classes may only contain static constants.</p>\n"}],"owner":{"account_id":43557,"reputation":11883,"user_id":127404,"accept_rate":86,"display_name":"gameover"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92566,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":2079843,"answer_count":8,"score":62,"last_activity_date":1636458914,"creation_date":1263697800,"question_id":2079830,"body_markdown":"I&#39;ve read Java does not support `static` local variables unlike C/C++. Now if I want to code a function with a local variable, whose value should persist between function calls, how do I do that?  \r\nShould I resort to using instance variables?","title":"How do I create a static local variable in Java?","body":"<p>I've read Java does not support <code>static</code> local variables unlike C/C++. Now if I want to code a function with a local variable, whose value should persist between function calls, how do I do that?<br>\nShould I resort to using instance variables?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","postman","sql-null"],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636454085,"creation_date":1636454085,"answer_id":69896592,"question_id":69896051,"body_markdown":"I have a lot to say about your code here, but let&#39;s see what&#39;s the main problem here. The problem is simple if you look at your `KittenBuilder` you create a Kitten using this builder but your Kitten constructor is empty.\r\n```\r\npublic Kitten(String name, LocalDate dateOfBirth, double weight, String breed, String firstVaccination, String secondVaccination) {\r\n    this.name = name;\r\n    this.dateOfBirth = dateOfBirth;\r\n    this.weight = weight;\r\n    this.breed = breed;\r\n    this.firstVaccination = firstVaccination;\r\n    this.secondVaccination = secondVaccination;\r\n}\r\n```\r\n\r\nThis will populate the Kitten object and you&#39;re ready to go.\r\n\r\n&lt;hr/&gt;\r\n\r\n**Some advices about your code**\r\n\r\nIf you wonder why it&#39;s saving the `null` values when you specified the `null` constraints is that recent version of `spring boot` don&#39;t include the validation starter in the web starter, you have to include it yourself.\r\n\r\nIn you `pom.xml` add the following dependecy:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd you have to include the annotation `@Transactional` to your services to make your operations atomic, for example in your create kitten method you want to persist the price and the kitten atomically.\r\n```\r\n@Service\r\n@Transactional\r\nclass KittenServiceImpl implementes ...\r\n```\r\n\r\nAnd one the best practices also, is to not use your entites directly in your controllers, use `DTO` (Data Transfer Object), so you map the properties you want from your entity to your DTO (this way you can include only your kitten properties and leave the price entity).\r\n\r\nAnd last bonus:\r\n```\r\npublic Kitten getKittenById(long id) {\r\n    if (!kittenRepository.existsById(id)) {\r\n       throw new RecordNotFoundException(&quot;&quot;);\r\n    }\r\n    return kittenRepository.findById(id).orElse(null);\r\n}\r\n```\r\nThis can be simplified to:\r\n```\r\npublic Kitten getKittenById(long id) {\r\n    return kittenRepository.findById(id).orElseThrow(() -&gt; new RecordNotFoundException());\r\n}\r\n```","title":"Output Spring Boot is reversed in Postman","body":"<p>I have a lot to say about your code here, but let's see what's the main problem here. The problem is simple if you look at your <code>KittenBuilder</code> you create a Kitten using this builder but your Kitten constructor is empty.</p>\n<pre><code>public Kitten(String name, LocalDate dateOfBirth, double weight, String breed, String firstVaccination, String secondVaccination) {\n    this.name = name;\n    this.dateOfBirth = dateOfBirth;\n    this.weight = weight;\n    this.breed = breed;\n    this.firstVaccination = firstVaccination;\n    this.secondVaccination = secondVaccination;\n}\n</code></pre>\n<p>This will populate the Kitten object and you're ready to go.</p>\n<hr/>\n<p><strong>Some advices about your code</strong></p>\n<p>If you wonder why it's saving the <code>null</code> values when you specified the <code>null</code> constraints is that recent version of <code>spring boot</code> don't include the validation starter in the web starter, you have to include it yourself.</p>\n<p>In you <code>pom.xml</code> add the following dependecy:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And you have to include the annotation <code>@Transactional</code> to your services to make your operations atomic, for example in your create kitten method you want to persist the price and the kitten atomically.</p>\n<pre><code>@Service\n@Transactional\nclass KittenServiceImpl implementes ...\n</code></pre>\n<p>And one the best practices also, is to not use your entites directly in your controllers, use <code>DTO</code> (Data Transfer Object), so you map the properties you want from your entity to your DTO (this way you can include only your kitten properties and leave the price entity).</p>\n<p>And last bonus:</p>\n<pre><code>public Kitten getKittenById(long id) {\n    if (!kittenRepository.existsById(id)) {\n       throw new RecordNotFoundException(&quot;&quot;);\n    }\n    return kittenRepository.findById(id).orElse(null);\n}\n</code></pre>\n<p>This can be simplified to:</p>\n<pre><code>public Kitten getKittenById(long id) {\n    return kittenRepository.findById(id).orElseThrow(() -&gt; new RecordNotFoundException());\n}\n</code></pre>\n"}],"owner":{"account_id":20048800,"reputation":293,"user_id":14697913,"display_name":"Danielle van den Akker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69896592,"answer_count":1,"score":0,"last_activity_date":1636458829,"creation_date":1636451554,"question_id":69896051,"body_markdown":"My problem: when I do an @Post in Postman I get data back from the prices, but not kitten data.\r\n\r\nI enter the following:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;Frizzle&quot;,\r\n    &quot;dateOfBirth&quot;: &quot;2019-07-27&quot;,\r\n    &quot;weight&quot;: 7.1,\r\n    &quot;breed&quot;: &quot;Birman&quot;,\r\n    &quot;firstVaccination&quot;: &quot;yes&quot;,\r\n    &quot;secondVaccination&quot;: &quot;yes&quot;,\r\n    &quot;breedPrice&quot;: 8000,\r\n    &quot;firstVaccinationPrice&quot;: 80.50,\r\n    &quot;secondVaccinationPrice&quot;: 80.10\r\n}\r\n```\r\n\r\nAnd this is what I get back in Postman:\r\n\r\n```json\r\n{\r\n        &quot;id&quot;: 3,\r\n        &quot;name&quot;: null,\r\n        &quot;dateOfBirth&quot;: null,\r\n        &quot;weight&quot;: 0.0,\r\n        &quot;breed&quot;: null,\r\n        &quot;firstVaccination&quot;: null,\r\n        &quot;secondVaccination&quot;: null,\r\n        &quot;fileUpload&quot;: null,\r\n        &quot;price&quot;: {\r\n            &quot;id&quot;: 3,\r\n            &quot;broadPrice&quot;: 8000.0,\r\n            &quot;firstVaccinationPrice&quot;: 80.5,\r\n            &quot;secondVaccinationPrice&quot;: 80.1,\r\n            &quot;totalPrice&quot;: 8160.6\r\n        }\r\n}\r\n```\r\n\r\nI&#39;ve tried changing the code in several places, but I can&#39;t figure out why it outputs the price part and not the kitten data part. I want it to output the kitten data. So basically what I want is for him to reverse it, return data of the kittens and give data of the prices that are null.\r\n\r\nMy files look like this.\r\n\r\nKitten.java\r\n\r\n```java\r\nimport com.sun.istack.NotNull;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;kittens&quot;)\r\npublic class Kitten {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotNull\r\n    private String name;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;date_of_birth&quot;)\r\n    private LocalDate dateOfBirth;\r\n\r\n    @NotNull\r\n    @Column\r\n    private double weight;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;breed&quot;)\r\n    private String breed;\r\n\r\n    @Column(name = &quot;first_vaccination&quot;)\r\n    private String firstVaccination;\r\n\r\n    @Column(name = &quot;second_vaccination&quot;)\r\n    private String secondVaccination;\r\n\r\n    @OneToOne(mappedBy = &quot;kitten&quot;)\r\n    private FileUpload fileUpload;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY,\r\n            mappedBy = &quot;kitten&quot;)\r\n    private Price price;\r\n\r\n    public Kitten(String name, LocalDate dateOfBirth, double weight, String breed, String firstVaccination, String secondVaccination) {\r\n    }\r\n\r\n    public Kitten() {\r\n\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getBreed() {\r\n        return breed;\r\n    }\r\n\r\n    public void setBreed(String breed) {\r\n        this.breed = breed;\r\n    }\r\n\r\n    public String getFirstVaccination() {\r\n        return firstVaccination;\r\n    }\r\n\r\n    public void setFirstVaccination(String firstVaccination) {\r\n        this.firstVaccination = firstVaccination;\r\n    }\r\n\r\n    public String getSecondVaccination() {\r\n        return secondVaccination;\r\n    }\r\n\r\n    public void setSecondVaccination(String secondVaccination) {\r\n        this.secondVaccination = secondVaccination;\r\n    }\r\n\r\n    public FileUpload getFileUpload() {\r\n        return fileUpload;\r\n    }\r\n\r\n    public void setFileUpload(FileUpload fileUpload) {\r\n        this.fileUpload = fileUpload;\r\n    }\r\n\r\n    public Price getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Price price) {\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\nPrice.java\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.sun.istack.NotNull;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;prices&quot;)\r\npublic class Price {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;breed_price&quot;)\r\n    private double breedPrice;\r\n\r\n    @Column(name = &quot;first_vaccination_price&quot;)\r\n    private double firstVaccinationPrice;\r\n\r\n    @Column(name = &quot;second_vaccination_price&quot;)\r\n    private double secondVaccinationPrice;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true)\r\n    @JoinColumn(name = &quot;kitten_id&quot;)\r\n    private Kitten kitten;\r\n\r\n    public Price() {\r\n\r\n    }\r\n\r\n    public Price(double breedPrice, double firstVaccinationPrice, double secondVaccinationPrice) {\r\n        this.breedPrice = breedPrice;\r\n        this.firstVaccinationPrice = firstVaccinationPrice;\r\n        this.secondVaccinationPrice = secondVaccinationPrice;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public double getBreedPrice() {\r\n        return breedPrice;\r\n    }\r\n\r\n    public void setBreedPrice(double breedPrice) {\r\n        this.breedPrice = breedPrice;\r\n    }\r\n\r\n    public double getFirstVaccinationPrice() {\r\n        return firstVaccinationPrice;\r\n    }\r\n\r\n    public void setFirstVaccinationPrice(double firstVaccinationPrice) {\r\n        this.firstVaccinationPrice = firstVaccinationPrice;\r\n    }\r\n\r\n    public double getSecondVaccinationPrice() {\r\n        return secondVaccinationPrice;\r\n    }\r\n\r\n    public void setSecondVaccinationPrice(double secondVaccinationPrice) {\r\n        this.secondVaccinationPrice = secondVaccinationPrice;\r\n    }\r\n\r\n    public Kitten getKitten() {\r\n        return kitten;\r\n    }\r\n\r\n    public void setKitten(Kitten kitten) {\r\n        this.kitten = kitten;\r\n    }\r\n\r\n    public Double getTotalPrice() {\r\n        return this.getBreedPrice() + this.getFirstVaccinationPrice() + this.getSecondVaccinationPrice();\r\n    }\r\n}\r\n```\r\n\r\nKittenBuilder.java\r\n\r\n```java\r\nimport nl.danielle.cattery.payload.KittenRequest;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class KittenBuilder {\r\n\r\n    //Kitten\t\r\n    private String name;\r\n    private LocalDate dateOfBirth;\r\n    private double weight;\r\n    private String breed;\r\n    private String firstVaccination;\r\n    private String secondVaccination;\r\n\r\n    //Price\r\n    private double breedPrice;\r\n    private double firstVaccinationPrice;\r\n    private double secondVaccinationPrice;\r\n\r\n    public KittenBuilder(KittenRequest kittenRequest) {\r\n        this.name = kittenRequest.getName();\r\n        this.dateOfBirth = kittenRequest.getDateOfBirth();\r\n        this.weight = kittenRequest.getWeight();\r\n        this.breed = kittenRequest.getBreed();\r\n        this.firstVaccination = kittenRequest.getFirstVaccination();\r\n        this.secondVaccination = kittenRequest.getSecondVaccination();\r\n        this.breedPrice = kittenRequest.getBreedPrice();\r\n        this.firstVaccinationPrice = kittenRequest.getFirstVaccinationPrice();\r\n        this.secondVaccinationPrice = kittenRequest.getSecondVaccinationPrice();\r\n    }\r\n\r\n    public Kitten buildKitten() {\r\n        return new Kitten(name, dateOfBirth, weight, breed, firstVaccination, secondVaccination);\r\n    }\r\n\r\n    public Price buildPrice() {\r\n        return new Price(breedPrice, firstVaccinationPrice, secondVaccinationPrice);\r\n    }\r\n}\r\n```\r\n\r\nKittenRequest.java\r\n\r\n```\r\nimport com.sun.istack.NotNull;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class KittenRequest {\r\n    //Kitten\r\n    @NotNull\r\n    private String name;\r\n    @NotNull\r\n    private LocalDate dateOfBirth;\r\n    @NotNull\r\n    private double weight;\r\n    @NotNull\r\n    private String breed;\r\n    private String firstVaccination;\r\n    private String secondVaccination;\r\n\r\n    //Price\r\n    @NotNull\r\n    private double breedPrice;\r\n    private double firstVaccinationPrice;\r\n    private double secondVaccinationPrice;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public double getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(double weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public String getBreed() {\r\n        return breed;\r\n    }\r\n\r\n    public void setBreed(String breed) {\r\n        this.breed = breed;\r\n    }\r\n\r\n    public String getFirstVaccination() {\r\n        return firstVaccination;\r\n    }\r\n\r\n    public void setFirstVaccination(String firstVaccination) {\r\n        this.firstVaccination = firstVaccination;\r\n    }\r\n\r\n    public String getSecondVaccination() {\r\n        return secondVaccination;\r\n    }\r\n\r\n    public void setSecondVaccination(String secondVaccination) {\r\n        this.secondVaccination = secondVaccination;\r\n    }\r\n\r\n    public double getBreedPrice() {\r\n        return breedPrice;\r\n    }\r\n\r\n    public void setBreedPrice(double breedPrice) {\r\n        this.breedPrice = breedPrice;\r\n    }\r\n\r\n    public double getFirstVaccinationPrice() {\r\n        return firstVaccinationPrice;\r\n    }\r\n\r\n    public void setFirstVaccinationPrice(double firstVaccinationPrice) {\r\n        this.firstVaccinationPrice = firstVaccinationPrice;\r\n    }\r\n\r\n    public double getSecondVaccinationPrice() {\r\n        return secondVaccinationPrice;\r\n    }\r\n\r\n    public void setSecondVaccinationPrice(double secondVaccinationPrice) {\r\n        this.secondVaccinationPrice = secondVaccinationPrice;\r\n    }\r\n}\r\n```\r\n\r\nKittenController.java\r\n\r\n```java\r\nimport nl.danielle.cattery.model.FileUpload;\r\nimport nl.danielle.cattery.payload.KittenRequest;\r\nimport nl.danielle.cattery.payload.ResponseMessage;\r\nimport nl.danielle.cattery.service.FileStorageServiceImpl;\r\nimport nl.danielle.cattery.service.KittenService;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\nimport java.net.URI;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/kittens&quot;)\r\npublic class KittenController {\r\n\r\n    final KittenService kittenService;\r\n\r\n    final FileStorageServiceImpl storageService;\r\n\r\n    public KittenController(KittenService kittenService, FileStorageServiceImpl storageService) {\r\n        this.kittenService = kittenService;\r\n        this.storageService = storageService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;&quot;)\r\n    public ResponseEntity&lt;Object&gt; getKittens() {\r\n        return ResponseEntity.ok().body(kittenService.getKittens());\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getKitten(@PathVariable(&quot;id&quot;) long id) {\r\n        return ResponseEntity.ok().body(kittenService.getKittenById(id));\r\n    }\r\n\r\n    @PostMapping(value = &quot;/add&quot;)\r\n    public ResponseEntity&lt;Object&gt; saveKitten(@RequestBody KittenRequest kitten) {\r\n        long newId = kittenService.saveKitten(kitten);\r\n\r\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;)\r\n                .buildAndExpand(newId).toUri();\r\n\r\n        return ResponseEntity.created(location).build();\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateKitten(@PathVariable(&quot;id&quot;) long id, @RequestBody KittenRequest kitten) {\r\n        kittenService.updateKitten(id, kitten);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}/price&quot;)\r\n    public ResponseEntity&lt;Object&gt; updatePrice(@PathVariable(&quot;id&quot;) long id, @RequestBody KittenRequest price) {\r\n        kittenService.updatePrice(id, price);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteKitten(@PathVariable(&quot;id&quot;) long id) {\r\n        kittenService.deleteKitten(id);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @PostMapping(&quot;/upload/kittenid/{id}&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@PathVariable long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n\r\n        try {\r\n            storageService.store(file, id);\r\n\r\n            String message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\r\n            return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n\r\n        } catch (Exception e) {\r\n            String message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\r\n            return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/download/{id}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getFileById(@PathVariable(&quot;id&quot;) String id) {\r\n        FileUpload fileUpload = storageService.getFileById(id);\r\n\r\n        return ResponseEntity.ok()\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileUpload.getName() + &quot;\\&quot;&quot;)\r\n                .body(fileUpload.getData());\r\n    }\r\n}\r\n```\r\n\r\nKittenService.java\r\n\r\n```java\r\npackage nl.danielle.cattery.service;\r\n\r\nimport nl.danielle.cattery.exceptions.DatabaseErrorException;\r\nimport nl.danielle.cattery.exceptions.RecordNotFoundException;\r\nimport nl.danielle.cattery.model.Kitten;\r\nimport nl.danielle.cattery.model.KittenBuilder;\r\nimport nl.danielle.cattery.model.Price;\r\nimport nl.danielle.cattery.payload.KittenRequest;\r\nimport nl.danielle.cattery.repository.KittenRepository;\r\nimport nl.danielle.cattery.repository.PriceRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Collection;\r\n\r\n@Service\r\npublic class KittenServiceImpl implements KittenService {\r\n\r\n    final KittenRepository kittenRepository;\r\n\r\n    final PriceRepository priceRepository;\r\n\r\n    public KittenServiceImpl(KittenRepository kittenRepository, PriceRepository priceRepository) {\r\n        this.kittenRepository = kittenRepository;\r\n        this.priceRepository = priceRepository;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;Kitten&gt; getKittens() {\r\n        return kittenRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Kitten getKittenById(long id) {\r\n        if (!kittenRepository.existsById(id)) {\r\n            throw new RecordNotFoundException();\r\n        }\r\n        return kittenRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public long saveKitten(KittenRequest kittenRequest) {\r\n\r\n        Kitten newKitten = new KittenBuilder(kittenRequest).buildKitten();\r\n        Price newPrice = new KittenBuilder(kittenRequest).buildPrice();\r\n\r\n        Price savedPrice = priceRepository.save(newPrice);\r\n        newKitten.setPrice(savedPrice);\r\n        newPrice.setKitten(newKitten);\r\n\r\n        return kittenRepository.save(newKitten).getId();\r\n    }\r\n\r\n    @Override\r\n    public void updateKitten(long id, KittenRequest kitten) {\r\n        if (kittenRepository.existsById(id)) {\r\n            try {\r\n                Kitten existingKitten = kittenRepository.findById(id).orElse(null);\r\n                existingKitten.setName(kitten.getName());\r\n                existingKitten.setDateOfBirth(kitten.getDateOfBirth());\r\n                existingKitten.setWeight(kitten.getWeight());\r\n                existingKitten.setBreed(kitten.getBreed());\r\n                existingKitten.setFirstVaccination(kitten.getFirstVaccination());\r\n                existingKitten.setSecondVaccination(kitten.getSecondVaccination());\r\n                kittenRepository.save(existingKitten);\r\n            } catch (Exception ex) {\r\n                throw new DatabaseErrorException();\r\n            }\r\n        } else {\r\n            throw new RecordNotFoundException();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void updatePrice(long id, KittenRequest price) {\r\n        if (priceRepository.existsById(id)) {\r\n            try {\r\n                Price existingPrice = priceRepository.findById(id).orElse(null);\r\n                existingPrice.setBreedPrice(price.getBreedPrice());\r\n                existingPrice.setFirstVaccinationPrice(price.getFirstVaccinationPrice());\r\n                existingPrice.setSecondVaccinationPrice(price.getSecondVaccinationPrice());\r\n                priceRepository.save(existingPrice);\r\n            } catch (Exception ex) {\r\n                throw new DatabaseErrorException();\r\n            }\r\n        } else {\r\n            throw new RecordNotFoundException();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void deleteKitten(long id) {\r\n        kittenRepository.deleteById(id);\r\n    }\r\n}\r\n```","title":"Output Spring Boot is reversed in Postman","body":"<p>My problem: when I do an @Post in Postman I get data back from the prices, but not kitten data.</p>\n<p>I enter the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;Frizzle&quot;,\n    &quot;dateOfBirth&quot;: &quot;2019-07-27&quot;,\n    &quot;weight&quot;: 7.1,\n    &quot;breed&quot;: &quot;Birman&quot;,\n    &quot;firstVaccination&quot;: &quot;yes&quot;,\n    &quot;secondVaccination&quot;: &quot;yes&quot;,\n    &quot;breedPrice&quot;: 8000,\n    &quot;firstVaccinationPrice&quot;: 80.50,\n    &quot;secondVaccinationPrice&quot;: 80.10\n}\n</code></pre>\n<p>And this is what I get back in Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n        &quot;id&quot;: 3,\n        &quot;name&quot;: null,\n        &quot;dateOfBirth&quot;: null,\n        &quot;weight&quot;: 0.0,\n        &quot;breed&quot;: null,\n        &quot;firstVaccination&quot;: null,\n        &quot;secondVaccination&quot;: null,\n        &quot;fileUpload&quot;: null,\n        &quot;price&quot;: {\n            &quot;id&quot;: 3,\n            &quot;broadPrice&quot;: 8000.0,\n            &quot;firstVaccinationPrice&quot;: 80.5,\n            &quot;secondVaccinationPrice&quot;: 80.1,\n            &quot;totalPrice&quot;: 8160.6\n        }\n}\n</code></pre>\n<p>I've tried changing the code in several places, but I can't figure out why it outputs the price part and not the kitten data part. I want it to output the kitten data. So basically what I want is for him to reverse it, return data of the kittens and give data of the prices that are null.</p>\n<p>My files look like this.</p>\n<p>Kitten.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.istack.NotNull;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;kittens&quot;)\npublic class Kitten {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    @Column(name = &quot;date_of_birth&quot;)\n    private LocalDate dateOfBirth;\n\n    @NotNull\n    @Column\n    private double weight;\n\n    @NotNull\n    @Column(name = &quot;breed&quot;)\n    private String breed;\n\n    @Column(name = &quot;first_vaccination&quot;)\n    private String firstVaccination;\n\n    @Column(name = &quot;second_vaccination&quot;)\n    private String secondVaccination;\n\n    @OneToOne(mappedBy = &quot;kitten&quot;)\n    private FileUpload fileUpload;\n\n    @OneToOne(fetch = FetchType.LAZY,\n            mappedBy = &quot;kitten&quot;)\n    private Price price;\n\n    public Kitten(String name, LocalDate dateOfBirth, double weight, String breed, String firstVaccination, String secondVaccination) {\n    }\n\n    public Kitten() {\n\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(LocalDate dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public String getBreed() {\n        return breed;\n    }\n\n    public void setBreed(String breed) {\n        this.breed = breed;\n    }\n\n    public String getFirstVaccination() {\n        return firstVaccination;\n    }\n\n    public void setFirstVaccination(String firstVaccination) {\n        this.firstVaccination = firstVaccination;\n    }\n\n    public String getSecondVaccination() {\n        return secondVaccination;\n    }\n\n    public void setSecondVaccination(String secondVaccination) {\n        this.secondVaccination = secondVaccination;\n    }\n\n    public FileUpload getFileUpload() {\n        return fileUpload;\n    }\n\n    public void setFileUpload(FileUpload fileUpload) {\n        this.fileUpload = fileUpload;\n    }\n\n    public Price getPrice() {\n        return price;\n    }\n\n    public void setPrice(Price price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<p>Price.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.sun.istack.NotNull;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;prices&quot;)\npublic class Price {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotNull\n    @Column(name = &quot;breed_price&quot;)\n    private double breedPrice;\n\n    @Column(name = &quot;first_vaccination_price&quot;)\n    private double firstVaccinationPrice;\n\n    @Column(name = &quot;second_vaccination_price&quot;)\n    private double secondVaccinationPrice;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    @JoinColumn(name = &quot;kitten_id&quot;)\n    private Kitten kitten;\n\n    public Price() {\n\n    }\n\n    public Price(double breedPrice, double firstVaccinationPrice, double secondVaccinationPrice) {\n        this.breedPrice = breedPrice;\n        this.firstVaccinationPrice = firstVaccinationPrice;\n        this.secondVaccinationPrice = secondVaccinationPrice;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public double getBreedPrice() {\n        return breedPrice;\n    }\n\n    public void setBreedPrice(double breedPrice) {\n        this.breedPrice = breedPrice;\n    }\n\n    public double getFirstVaccinationPrice() {\n        return firstVaccinationPrice;\n    }\n\n    public void setFirstVaccinationPrice(double firstVaccinationPrice) {\n        this.firstVaccinationPrice = firstVaccinationPrice;\n    }\n\n    public double getSecondVaccinationPrice() {\n        return secondVaccinationPrice;\n    }\n\n    public void setSecondVaccinationPrice(double secondVaccinationPrice) {\n        this.secondVaccinationPrice = secondVaccinationPrice;\n    }\n\n    public Kitten getKitten() {\n        return kitten;\n    }\n\n    public void setKitten(Kitten kitten) {\n        this.kitten = kitten;\n    }\n\n    public Double getTotalPrice() {\n        return this.getBreedPrice() + this.getFirstVaccinationPrice() + this.getSecondVaccinationPrice();\n    }\n}\n</code></pre>\n<p>KittenBuilder.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.danielle.cattery.payload.KittenRequest;\n\nimport java.time.LocalDate;\n\npublic class KittenBuilder {\n\n    //Kitten    \n    private String name;\n    private LocalDate dateOfBirth;\n    private double weight;\n    private String breed;\n    private String firstVaccination;\n    private String secondVaccination;\n\n    //Price\n    private double breedPrice;\n    private double firstVaccinationPrice;\n    private double secondVaccinationPrice;\n\n    public KittenBuilder(KittenRequest kittenRequest) {\n        this.name = kittenRequest.getName();\n        this.dateOfBirth = kittenRequest.getDateOfBirth();\n        this.weight = kittenRequest.getWeight();\n        this.breed = kittenRequest.getBreed();\n        this.firstVaccination = kittenRequest.getFirstVaccination();\n        this.secondVaccination = kittenRequest.getSecondVaccination();\n        this.breedPrice = kittenRequest.getBreedPrice();\n        this.firstVaccinationPrice = kittenRequest.getFirstVaccinationPrice();\n        this.secondVaccinationPrice = kittenRequest.getSecondVaccinationPrice();\n    }\n\n    public Kitten buildKitten() {\n        return new Kitten(name, dateOfBirth, weight, breed, firstVaccination, secondVaccination);\n    }\n\n    public Price buildPrice() {\n        return new Price(breedPrice, firstVaccinationPrice, secondVaccinationPrice);\n    }\n}\n</code></pre>\n<p>KittenRequest.java</p>\n<pre><code>import com.sun.istack.NotNull;\n\nimport java.time.LocalDate;\n\npublic class KittenRequest {\n    //Kitten\n    @NotNull\n    private String name;\n    @NotNull\n    private LocalDate dateOfBirth;\n    @NotNull\n    private double weight;\n    @NotNull\n    private String breed;\n    private String firstVaccination;\n    private String secondVaccination;\n\n    //Price\n    @NotNull\n    private double breedPrice;\n    private double firstVaccinationPrice;\n    private double secondVaccinationPrice;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(LocalDate dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n\n    public String getBreed() {\n        return breed;\n    }\n\n    public void setBreed(String breed) {\n        this.breed = breed;\n    }\n\n    public String getFirstVaccination() {\n        return firstVaccination;\n    }\n\n    public void setFirstVaccination(String firstVaccination) {\n        this.firstVaccination = firstVaccination;\n    }\n\n    public String getSecondVaccination() {\n        return secondVaccination;\n    }\n\n    public void setSecondVaccination(String secondVaccination) {\n        this.secondVaccination = secondVaccination;\n    }\n\n    public double getBreedPrice() {\n        return breedPrice;\n    }\n\n    public void setBreedPrice(double breedPrice) {\n        this.breedPrice = breedPrice;\n    }\n\n    public double getFirstVaccinationPrice() {\n        return firstVaccinationPrice;\n    }\n\n    public void setFirstVaccinationPrice(double firstVaccinationPrice) {\n        this.firstVaccinationPrice = firstVaccinationPrice;\n    }\n\n    public double getSecondVaccinationPrice() {\n        return secondVaccinationPrice;\n    }\n\n    public void setSecondVaccinationPrice(double secondVaccinationPrice) {\n        this.secondVaccinationPrice = secondVaccinationPrice;\n    }\n}\n</code></pre>\n<p>KittenController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.danielle.cattery.model.FileUpload;\nimport nl.danielle.cattery.payload.KittenRequest;\nimport nl.danielle.cattery.payload.ResponseMessage;\nimport nl.danielle.cattery.service.FileStorageServiceImpl;\nimport nl.danielle.cattery.service.KittenService;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport java.net.URI;\n\n@RestController\n@RequestMapping(value = &quot;/kittens&quot;)\npublic class KittenController {\n\n    final KittenService kittenService;\n\n    final FileStorageServiceImpl storageService;\n\n    public KittenController(KittenService kittenService, FileStorageServiceImpl storageService) {\n        this.kittenService = kittenService;\n        this.storageService = storageService;\n    }\n\n    @GetMapping(value = &quot;&quot;)\n    public ResponseEntity&lt;Object&gt; getKittens() {\n        return ResponseEntity.ok().body(kittenService.getKittens());\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getKitten(@PathVariable(&quot;id&quot;) long id) {\n        return ResponseEntity.ok().body(kittenService.getKittenById(id));\n    }\n\n    @PostMapping(value = &quot;/add&quot;)\n    public ResponseEntity&lt;Object&gt; saveKitten(@RequestBody KittenRequest kitten) {\n        long newId = kittenService.saveKitten(kitten);\n\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;)\n                .buildAndExpand(newId).toUri();\n\n        return ResponseEntity.created(location).build();\n    }\n\n    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateKitten(@PathVariable(&quot;id&quot;) long id, @RequestBody KittenRequest kitten) {\n        kittenService.updateKitten(id, kitten);\n        return ResponseEntity.noContent().build();\n    }\n\n    @PutMapping(value = &quot;/{id}/price&quot;)\n    public ResponseEntity&lt;Object&gt; updatePrice(@PathVariable(&quot;id&quot;) long id, @RequestBody KittenRequest price) {\n        kittenService.updatePrice(id, price);\n        return ResponseEntity.noContent().build();\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteKitten(@PathVariable(&quot;id&quot;) long id) {\n        kittenService.deleteKitten(id);\n        return ResponseEntity.noContent().build();\n    }\n\n    @PostMapping(&quot;/upload/kittenid/{id}&quot;)\n    public ResponseEntity&lt;ResponseMessage&gt; uploadFile(@PathVariable long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\n\n        try {\n            storageService.store(file, id);\n\n            String message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\n            return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n\n        } catch (Exception e) {\n            String message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\n            return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n        }\n    }\n\n    @GetMapping(&quot;/download/{id}&quot;)\n    public ResponseEntity&lt;byte[]&gt; getFileById(@PathVariable(&quot;id&quot;) String id) {\n        FileUpload fileUpload = storageService.getFileById(id);\n\n        return ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileUpload.getName() + &quot;\\&quot;&quot;)\n                .body(fileUpload.getData());\n    }\n}\n</code></pre>\n<p>KittenService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package nl.danielle.cattery.service;\n\nimport nl.danielle.cattery.exceptions.DatabaseErrorException;\nimport nl.danielle.cattery.exceptions.RecordNotFoundException;\nimport nl.danielle.cattery.model.Kitten;\nimport nl.danielle.cattery.model.KittenBuilder;\nimport nl.danielle.cattery.model.Price;\nimport nl.danielle.cattery.payload.KittenRequest;\nimport nl.danielle.cattery.repository.KittenRepository;\nimport nl.danielle.cattery.repository.PriceRepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Collection;\n\n@Service\npublic class KittenServiceImpl implements KittenService {\n\n    final KittenRepository kittenRepository;\n\n    final PriceRepository priceRepository;\n\n    public KittenServiceImpl(KittenRepository kittenRepository, PriceRepository priceRepository) {\n        this.kittenRepository = kittenRepository;\n        this.priceRepository = priceRepository;\n    }\n\n    @Override\n    public Collection&lt;Kitten&gt; getKittens() {\n        return kittenRepository.findAll();\n    }\n\n    @Override\n    public Kitten getKittenById(long id) {\n        if (!kittenRepository.existsById(id)) {\n            throw new RecordNotFoundException();\n        }\n        return kittenRepository.findById(id).orElse(null);\n    }\n\n    @Override\n    public long saveKitten(KittenRequest kittenRequest) {\n\n        Kitten newKitten = new KittenBuilder(kittenRequest).buildKitten();\n        Price newPrice = new KittenBuilder(kittenRequest).buildPrice();\n\n        Price savedPrice = priceRepository.save(newPrice);\n        newKitten.setPrice(savedPrice);\n        newPrice.setKitten(newKitten);\n\n        return kittenRepository.save(newKitten).getId();\n    }\n\n    @Override\n    public void updateKitten(long id, KittenRequest kitten) {\n        if (kittenRepository.existsById(id)) {\n            try {\n                Kitten existingKitten = kittenRepository.findById(id).orElse(null);\n                existingKitten.setName(kitten.getName());\n                existingKitten.setDateOfBirth(kitten.getDateOfBirth());\n                existingKitten.setWeight(kitten.getWeight());\n                existingKitten.setBreed(kitten.getBreed());\n                existingKitten.setFirstVaccination(kitten.getFirstVaccination());\n                existingKitten.setSecondVaccination(kitten.getSecondVaccination());\n                kittenRepository.save(existingKitten);\n            } catch (Exception ex) {\n                throw new DatabaseErrorException();\n            }\n        } else {\n            throw new RecordNotFoundException();\n        }\n    }\n\n    @Override\n    public void updatePrice(long id, KittenRequest price) {\n        if (priceRepository.existsById(id)) {\n            try {\n                Price existingPrice = priceRepository.findById(id).orElse(null);\n                existingPrice.setBreedPrice(price.getBreedPrice());\n                existingPrice.setFirstVaccinationPrice(price.getFirstVaccinationPrice());\n                existingPrice.setSecondVaccinationPrice(price.getSecondVaccinationPrice());\n                priceRepository.save(existingPrice);\n            } catch (Exception ex) {\n                throw new DatabaseErrorException();\n            }\n        } else {\n            throw new RecordNotFoundException();\n        }\n    }\n\n    @Override\n    public void deleteKitten(long id) {\n        kittenRepository.deleteById(id);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"owner":{"account_id":23276188,"reputation":11,"user_id":17360293,"display_name":"keanJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636458778,"creation_date":1636398406,"question_id":69888676,"body_markdown":"I implemented GSON in my program (Java (16), Maven). I encountered the &quot;InaccessibleObjectException&quot; and by research I found out I had to add &quot;add-opens ...&quot; to the vm command line. Eventually I got the program running and working by adding it. But now I have the issue, once I restart my program in my IDE (intelliJ) I get the error message `java: error: invalid flag: --add-opens java.base/java.time=ALL-UNNAMED`. \r\n\r\nWeird thing is, this doesn&#39;t even happen all the time, it feels like it is random because sometimes I can restart my program without any issues and I can fix it by deleting it, restarting, adding it, restarting again..\r\nI am absolutely clueless hence I made this account here. How can I fix this?\r\n\r\nMy pom build looks like this\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;jvm.options&gt;--add-opens java.base/java.time=ALL-UNNAMED&lt;/jvm.options&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;${jvm.options}&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.14.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceEncoding&gt;utf-8&lt;/sourceEncoding&gt;\r\n                    &lt;minimumTokens&gt;100&lt;/minimumTokens&gt;\r\n                    &lt;targetJdk&gt;1.9&lt;/targetJdk&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*Bean.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/generated/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;excludeRoots&gt;\r\n                        &lt;excludeRoot&gt;target/generated-sources/stubs&lt;/excludeRoot&gt;\r\n                    &lt;/excludeRoots&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"Java Maven Error Invalid Flag --add-opens","body":"<p>I implemented GSON in my program (Java (16), Maven). I encountered the &quot;InaccessibleObjectException&quot; and by research I found out I had to add &quot;add-opens ...&quot; to the vm command line. Eventually I got the program running and working by adding it. But now I have the issue, once I restart my program in my IDE (intelliJ) I get the error message <code>java: error: invalid flag: --add-opens java.base/java.time=ALL-UNNAMED</code>.</p>\n<p>Weird thing is, this doesn't even happen all the time, it feels like it is random because sometimes I can restart my program without any issues and I can fix it by deleting it, restarting, adding it, restarting again..\nI am absolutely clueless hence I made this account here. How can I fix this?</p>\n<p>My pom build looks like this</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;jvm.options&gt;--add-opens java.base/java.time=ALL-UNNAMED&lt;/jvm.options&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;${jvm.options}&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;sourceEncoding&gt;utf-8&lt;/sourceEncoding&gt;\n                    &lt;minimumTokens&gt;100&lt;/minimumTokens&gt;\n                    &lt;targetJdk&gt;1.9&lt;/targetJdk&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*Bean.java&lt;/exclude&gt;\n                        &lt;exclude&gt;**/generated/*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;excludeRoots&gt;\n                        &lt;excludeRoot&gt;target/generated-sources/stubs&lt;/excludeRoot&gt;\n                    &lt;/excludeRoots&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;${jvm.options}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","deployment"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1636433053,"post_id":69892775,"comment_id":123548974,"body_markdown":"See https://stackoverflow.com/a/45352560/8203759","body":"See <a href=\"https://stackoverflow.com/a/45352560/8203759\">stackoverflow.com/a/45352560/8203759</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636453135,"post_id":69892775,"comment_id":123554970,"body_markdown":"Does this answer your question? [repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter](https://stackoverflow.com/questions/27153024/repository-element-was-not-specified-in-the-pom-inside-distributionmanagement-el)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27153024/repository-element-was-not-specified-in-the-pom-inside-distributionmanagement-el\">repository element was not specified in the POM inside distributionManagement element or in -DaltDep loymentRepository=id::layout::url parameter</a>"}],"answers":[{"tags":[],"owner":{"account_id":6648295,"reputation":27,"user_id":5131494,"display_name":"Quang Minh "},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1636458369,"creation_date":1636448722,"answer_id":69895379,"question_id":69892775,"body_markdown":"`Maven &gt;&gt; ProjectName &gt;&gt; Lifecycle &gt;&gt; Install`.\r\n\r\nIt&#39;s worked for me.","title":"Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository","body":"<p><code>Maven &gt;&gt; ProjectName &gt;&gt; Lifecycle &gt;&gt; Install</code>.</p>\n<p>It's worked for me.</p>\n"}],"owner":{"account_id":6648295,"reputation":27,"user_id":5131494,"display_name":"Quang Minh "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69895379,"answer_count":1,"score":-1,"last_activity_date":1636458369,"creation_date":1636431457,"question_id":69892775,"body_markdown":"When I deploy in IntelliJ (Maven &gt;&gt; ProjectName &gt;&gt; Lifecycle &gt;&gt; deploy)\r\nI get this ERROR:\r\n\r\nI&#39;m new so hope your helps.\r\n\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project UserSegmentCounter: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;vcc.mlbigdata.intern&lt;/groupId&gt;\r\n    &lt;artifactId&gt;UserSegmentCounter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;UserSegmentCounter&lt;/name&gt;\r\n    &lt;description&gt;UserSegmentCounter&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20210307&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository","body":"<p>When I deploy in IntelliJ (Maven &gt;&gt; ProjectName &gt;&gt; Lifecycle &gt;&gt; deploy)\nI get this ERROR:</p>\n<p>I'm new so hope your helps.</p>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project UserSegmentCounter: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;vcc.mlbigdata.intern&lt;/groupId&gt;\n    &lt;artifactId&gt;UserSegmentCounter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;UserSegmentCounter&lt;/name&gt;\n    &lt;description&gt;UserSegmentCounter&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","linux","logging","log4j","nfs"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1636486216,"post_id":69897412,"comment_id":123568696,"body_markdown":"`logging.properties` is the name of the default `java.util.logging` configuration file. Log4j&#39;s (version 1.2) default configuration file is called `log4j.properties`.","body":"<code>logging.properties</code> is the name of the default <code>java.util.logging</code> configuration file. Log4j&#39;s (version 1.2) default configuration file is called <code>log4j.properties</code>."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636458271,"creation_date":1636458271,"answer_id":69897548,"question_id":69897412,"body_markdown":"&gt; log4j is printing logs in .nfsXXXX instead of .log files\r\n\r\nWhat you should use is the code below and substitue `myFileName.log` with your target file name.\r\n\r\n```\r\nlog4j.appender.X=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.X.fileName=myFileName.log\r\n\r\n```\r\n\r\nYou need to do this for all appenders that you declare in your `logging.properties` file","title":"log4j is printing logs in .nfsXXXX instead of .log files","body":"<blockquote>\n<p>log4j is printing logs in .nfsXXXX instead of .log files</p>\n</blockquote>\n<p>What you should use is the code below and substitue <code>myFileName.log</code> with your target file name.</p>\n<pre><code>log4j.appender.X=org.apache.log4j.RollingFileAppender\nlog4j.appender.X.fileName=myFileName.log\n\n</code></pre>\n<p>You need to do this for all appenders that you declare in your <code>logging.properties</code> file</p>\n"}],"owner":{"account_id":19073264,"reputation":1,"user_id":13926979,"display_name":"Dhiraj Navale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636458271,"creation_date":1636457663,"question_id":69897412,"body_markdown":"I&#39;m trying to create logs with log4j but instead .nfsXXXX files are getting generated in which the logs are printed. \r\nCan someone please guide me why these files are getting generated and how to prevent them.\r\nI&#39;m using linus\r\n\r\nlogging.properties content:\r\n```\r\nlog4j.logger.errorLogger=debug, E\r\nlog4j.additivity.errorLogger=false\r\nlog4j.appender.E=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.E.File=Error.log\r\nlog4j.appender.E.MaxBackupIndex=10\r\nlog4j.appender.E.MaxFileSize=10MB\r\nlog4j.appender.E.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.E.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\r\n\r\n\r\nlog4j.logger.consoleLogger=debug, C\r\nlog4j.additivity.consoleLogger=false\r\nlog4j.appender.C=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.C.File=Console.log\r\nlog4j.appender.C.MaxBackupIndex=10\r\nlog4j.appender.C.MaxFileSize=10MB\r\nlog4j.appender.C.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.C.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\r\n\r\nlog4j.logger.transactionLogger=debug, T\r\nlog4j.additivity.transactionLogger=false\r\nlog4j.appender.T=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.T.File=Transaction.log\r\nlog4j.appender.T.MaxBackupIndex=20\r\nlog4j.appender.T.MaxFileSize=10MB\r\nlog4j.appender.T.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.T.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n\r\n\r\n\r\nlog4j.logger.XMLLogger=debug, X\r\nlog4j.additivity.XMLLogger=false\r\nlog4j.appender.X=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.X.File=XML.log\r\nlog4j.appender.X.MaxBackupIndex=10\r\nlog4j.appender.X.MaxFileSize=10MB\r\nlog4j.appender.X.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.X.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\r\n```\r\n","title":"log4j is printing logs in .nfsXXXX instead of .log files","body":"<p>I'm trying to create logs with log4j but instead .nfsXXXX files are getting generated in which the logs are printed.\nCan someone please guide me why these files are getting generated and how to prevent them.\nI'm using linus</p>\n<p>logging.properties content:</p>\n<pre><code>log4j.logger.errorLogger=debug, E\nlog4j.additivity.errorLogger=false\nlog4j.appender.E=org.apache.log4j.RollingFileAppender\nlog4j.appender.E.File=Error.log\nlog4j.appender.E.MaxBackupIndex=10\nlog4j.appender.E.MaxFileSize=10MB\nlog4j.appender.E.layout=org.apache.log4j.PatternLayout\nlog4j.appender.E.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\n\n\nlog4j.logger.consoleLogger=debug, C\nlog4j.additivity.consoleLogger=false\nlog4j.appender.C=org.apache.log4j.RollingFileAppender\nlog4j.appender.C.File=Console.log\nlog4j.appender.C.MaxBackupIndex=10\nlog4j.appender.C.MaxFileSize=10MB\nlog4j.appender.C.layout=org.apache.log4j.PatternLayout\nlog4j.appender.C.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\n\nlog4j.logger.transactionLogger=debug, T\nlog4j.additivity.transactionLogger=false\nlog4j.appender.T=org.apache.log4j.RollingFileAppender\nlog4j.appender.T.File=Transaction.log\nlog4j.appender.T.MaxBackupIndex=20\nlog4j.appender.T.MaxFileSize=10MB\nlog4j.appender.T.layout=org.apache.log4j.PatternLayout\nlog4j.appender.T.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n\n\n\nlog4j.logger.XMLLogger=debug, X\nlog4j.additivity.XMLLogger=false\nlog4j.appender.X=org.apache.log4j.RollingFileAppender\nlog4j.appender.X.File=XML.log\nlog4j.appender.X.MaxBackupIndex=10\nlog4j.appender.X.MaxFileSize=10MB\nlog4j.appender.X.layout=org.apache.log4j.PatternLayout\nlog4j.appender.X.layout.ConversionPattern=[%d{dd MMM yyyy HH:mm:ss,SSS} : %-5p] - %m%n%n\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":18537394,"reputation":16,"user_id":13506741,"display_name":"umar Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636458271,"creation_date":1632938096,"answer_id":69381307,"question_id":69365942,"body_markdown":"This is a common problem people face when using URIs. URIs are temporary addresses to a image/file. They are similar to a link you click to open a website i.e.url. Once a session ends the URI to access a file/image expires and using it to access a file again crashes the app and gives a permission denial exception. This is the same in your case when you try to access the uri again it crashes.\r\n\r\n**Solution**\r\n\r\nonce you get the uri in screen_8 store the image in the app&#39;s internal storage using bitmap and then generate a new uri for the image stored in the inernal storage with Uri.fromFile(file);. Now use this new generated uri in any activity in the app. This should solve your problem.","title":"App Crashes on upload_image.setImageURI(im);","body":"<p>This is a common problem people face when using URIs. URIs are temporary addresses to a image/file. They are similar to a link you click to open a website i.e.url. Once a session ends the URI to access a file/image expires and using it to access a file again crashes the app and gives a permission denial exception. This is the same in your case when you try to access the uri again it crashes.</p>\n<p><strong>Solution</strong></p>\n<p>once you get the uri in screen_8 store the image in the app's internal storage using bitmap and then generate a new uri for the image stored in the inernal storage with Uri.fromFile(file);. Now use this new generated uri in any activity in the app. This should solve your problem.</p>\n"}],"owner":{"account_id":21995179,"reputation":3,"user_id":16267842,"display_name":"Hamza Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69381307,"answer_count":1,"score":0,"last_activity_date":1636458271,"creation_date":1632849207,"question_id":69365942,"body_markdown":"The problem is that I have 10 screen for my app. On screen 7 I use startActivityForResult to call screen 8 which input some data and images from gallery and send back the response to screen 7. The screen 7 use recycle view which display that entries. I have put a click listener on specific row which opens up screen 10 which displays the data and image but screen 10 shows other data but on setting image uri it crashes. I am using parecelable which has all the fields including image uri. I don&#39;t why it crashes on one screen but not the other\r\n```\r\n**Screen-7**\r\npackage com.hamza.i180502;\r\n\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Screen_7 extends AppCompatActivity implements MyAdapter.CallbackInterface{\r\n    List&lt;Ad&gt; ls;\r\n    Button add_data;\r\n    ImageView back;\r\n    RecyclerView rv;\r\n    MyAdapter adapter;\r\n    TextView dummy;\r\n    static int MY_REQUEST=1001;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_screen7);\r\n        add_data=findViewById(R.id.add_data);\r\n        back=findViewById(R.id.back);\r\n        rv=findViewById(R.id.rv);\r\n        dummy=findViewById(R.id.dummy);\r\n        ls=new ArrayList&lt;&gt;();\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n        add_data.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent myIntent = new Intent(Screen_7.this,Screen_8.class);\r\n                startActivityForResult(myIntent,1);\r\n                //startActivity(myIntent);\r\n            }\r\n        });\r\n        adapter=new MyAdapter(Screen_7.this,ls);\r\n        rv.setLayoutManager(new GridLayoutManager(Screen_7.this, 3));\r\n        rv.setAdapter(adapter);\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        switch (requestCode) {\r\n\r\n            case (1): {\r\n                if (resultCode == RESULT_OK) {\r\n                    Ad dene = data.getParcelableExtra(&quot;MyClass&quot;);\r\n                    ls.add(new Ad(dene.getImage(), dene.getName(), dene.getPrice(), dene.getLocation(), dene.getDesc(), dene.getTags()));\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n                if (resultCode == RESULT_CANCELED) {\r\n                    Toast.makeText(Screen_7.this, &quot;Nothing Entered&quot;, Toast.LENGTH_LONG);\r\n                }\r\n            }\r\n            break;\r\n\r\n            case (1001): {\r\n                if (resultCode == RESULT_OK) {\r\n                    Ad dene = data.getParcelableExtra(&quot;screen9&quot;);\r\n                    String position=data.getStringExtra(&quot;Position9&quot;);\r\n                    ls.remove(Integer.parseInt(position));\r\n                    ls.add(new Ad(dene.getImage(), dene.getName(), dene.getPrice(), dene.getLocation(), dene.getDesc(), dene.getTags()));\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n                if (resultCode == RESULT_CANCELED) {\r\n                    Toast.makeText(Screen_7.this, &quot;Nothing Entered&quot;, Toast.LENGTH_LONG);\r\n                }\r\n            }\r\n            break;\r\n\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onHandleSelection(int position, Ad text) {\r\n        Intent secondActivity = new Intent(Screen_7.this, Screen_9.class);\r\n        secondActivity.putExtra(&quot;viewClass1&quot;,text);\r\n        secondActivity.putExtra(&quot;Position&quot;, String.valueOf(position));\r\n        secondActivity.putExtra(&quot;image&quot;,String.valueOf(text.getImage()));\r\n        startActivityForResult(secondActivity, MY_REQUEST);\r\n\r\n    }\r\n}\r\n```\r\n```\r\n**Screen10**\r\npackage com.hamza.i180502;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\npublic class Screen_10 extends AppCompatActivity {\r\n    TextView name,price,tags,description,location;\r\n    ImageView upload_image;\r\n    ImageView back;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_screen10);\r\n        Ad ad = (Ad)getIntent().getParcelableExtra(&quot;viewClass&quot;);\r\n        upload_image=findViewById(R.id.image_10);\r\n        name=findViewById(R.id.name);\r\n        location=findViewById(R.id.location);\r\n        description=findViewById(R.id.description);\r\n        tags=findViewById(R.id.tags);\r\n        price=findViewById(R.id.price);\r\n        name.setText(ad.getName());\r\n        description.setText(ad.getDesc());\r\n        price.setText(ad.getPrice());\r\n        tags.setText(ad.getTags());\r\n        location.setText(ad.getLocation());\r\n        Uri im= (Uri)ad.getImage();\r\n        Log.d(&quot;Var&quot;, String.valueOf(im));\r\n        upload_image.setImageURI(im);\r\n        back=findViewById(R.id.back);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n```\r\n**MyAdapter**\r\npackage com.hamza.i180502;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    Context c;\r\n    List&lt;Ad&gt; values;\r\n\r\n    private CallbackInterface mCallback;\r\n\r\n\r\n    public interface CallbackInterface{\r\n        void onHandleSelection(int position, Ad text);\r\n    }\r\n\r\n    public MyAdapter(Context c, List&lt;Ad&gt; values) {\r\n        this.c = c;\r\n        this.values = values;\r\n        // .. Attach the interface\r\n        try{\r\n\r\n            mCallback = (CallbackInterface) c;\r\n        }catch(ClassCastException ex){\r\n            //.. should log the error or throw and exception\r\n            Log.e(&quot;MyAdapter&quot;,&quot;Must implement the CallbackInterface in the Activity&quot;, ex);\r\n        }\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View row= LayoutInflater.from(c).inflate(R.layout.ad, parent,false);\r\n        return new MyViewHolder(row);\r\n    }\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        holder.name.setText(values.get(position).getName());\r\n        holder.price.setText(values.get(position).getPrice());\r\n        holder.location.setText(values.get(position).getLocation());\r\n        holder.imageView.setImageURI(values.get(position).getImage());\r\n        values.get(position).setId(position);\r\n        holder.imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent myIntent=new Intent(c,Screen_10.class);\r\n                Ad ad=values.get(holder.getAdapterPosition());\r\n                myIntent.putExtra(&quot;viewClass&quot;,(Ad)ad);\r\n\r\n                c.startActivity(myIntent);\r\n            }\r\n        });\r\n        holder.imageView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View view) {\r\n                if(mCallback != null){\r\n                    mCallback.onHandleSelection(position, values.get(position));\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == 1) {\r\n            if (resultCode == 1) {\r\n                Ad dene= data.getParcelableExtra(&quot;screen9&quot;);\r\n                Log.d(&quot;Description&quot;,dene.getDesc());\r\n                values.remove(dene.getId());\r\n            }\r\n            if (resultCode == 0) {\r\n                Toast.makeText(((Activity) c),&quot;Nothing Entered&quot;,Toast.LENGTH_LONG);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return values.size();\r\n    }\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView name,price,location;\r\n        ImageView imageView;\r\n        public MyViewHolder(@NonNull View row) {\r\n            super(row);\r\n            imageView=row.findViewById(R.id.image);\r\n            name=row.findViewById(R.id.name);\r\n            location=row.findViewById(R.id.location);\r\n            price=row.findViewById(R.id.price);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n**Ad(Object)**\r\npackage com.hamza.i180502;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Parcel;\r\nimport android.os.Parcelable;\r\n\r\n\r\npublic class Ad implements Parcelable{\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id){\r\n        this.id=id;\r\n    }\r\n\r\n\r\n    public static Creator&lt;Ad&gt; getCREATOR() {\r\n        return CREATOR;\r\n    }\r\n\r\n    private int id;\r\n    public Ad(Uri image, String name, String price, String location, String desc,String tags) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.location = location;\r\n        this.desc = desc;\r\n        this.tags = tags;\r\n\r\n    }\r\n    public Ad(){\r\n\r\n    }\r\n\r\n    protected Ad(Parcel in) {\r\n        image = in.readParcelable(Uri.class.getClassLoader());\r\n        name = in.readString();\r\n        price = in.readString();\r\n        tags = in.readString();\r\n        location = in.readString();\r\n        desc = in.readString();\r\n    }\r\n\r\n    public static final Creator&lt;Ad&gt; CREATOR = new Creator&lt;Ad&gt;() {\r\n        @Override\r\n        public Ad createFromParcel(Parcel in) {\r\n            return new Ad(in);\r\n        }\r\n\r\n        @Override\r\n        public Ad[] newArray(int size) {\r\n            return new Ad[size];\r\n        }\r\n    };\r\n\r\n    public Uri getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    private Uri image;\r\n    private String name , price, tags,location,desc;\r\n\r\n\r\n    public String getTags() {\r\n        return tags;\r\n    }\r\n\r\n    public void setTags(String tags) {\r\n        this.tags = tags;\r\n    }\r\n\r\n\r\n\r\n    public void setImage(Uri image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeParcelable(image, i);\r\n        parcel.writeString(name);\r\n        parcel.writeString(price);\r\n        parcel.writeString(tags);\r\n        parcel.writeString(location);\r\n        parcel.writeString(desc);\r\n    }\r\n}\r\n```\r\n```\r\n**Manifest**\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.hamza.i180502&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.I180502&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_10&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_8&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_9&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_7&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_6&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_5&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_4&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_3&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Screen_2&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"App Crashes on upload_image.setImageURI(im);","body":"<p>The problem is that I have 10 screen for my app. On screen 7 I use startActivityForResult to call screen 8 which input some data and images from gallery and send back the response to screen 7. The screen 7 use recycle view which display that entries. I have put a click listener on specific row which opens up screen 10 which displays the data and image but screen 10 shows other data but on setting image uri it crashes. I am using parecelable which has all the fields including image uri. I don't why it crashes on one screen but not the other</p>\n<pre><code>**Screen-7**\npackage com.hamza.i180502;\n\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Screen_7 extends AppCompatActivity implements MyAdapter.CallbackInterface{\n    List&lt;Ad&gt; ls;\n    Button add_data;\n    ImageView back;\n    RecyclerView rv;\n    MyAdapter adapter;\n    TextView dummy;\n    static int MY_REQUEST=1001;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_screen7);\n        add_data=findViewById(R.id.add_data);\n        back=findViewById(R.id.back);\n        rv=findViewById(R.id.rv);\n        dummy=findViewById(R.id.dummy);\n        ls=new ArrayList&lt;&gt;();\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n        add_data.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent myIntent = new Intent(Screen_7.this,Screen_8.class);\n                startActivityForResult(myIntent,1);\n                //startActivity(myIntent);\n            }\n        });\n        adapter=new MyAdapter(Screen_7.this,ls);\n        rv.setLayoutManager(new GridLayoutManager(Screen_7.this, 3));\n        rv.setAdapter(adapter);\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        switch (requestCode) {\n\n            case (1): {\n                if (resultCode == RESULT_OK) {\n                    Ad dene = data.getParcelableExtra(&quot;MyClass&quot;);\n                    ls.add(new Ad(dene.getImage(), dene.getName(), dene.getPrice(), dene.getLocation(), dene.getDesc(), dene.getTags()));\n                    adapter.notifyDataSetChanged();\n                }\n                if (resultCode == RESULT_CANCELED) {\n                    Toast.makeText(Screen_7.this, &quot;Nothing Entered&quot;, Toast.LENGTH_LONG);\n                }\n            }\n            break;\n\n            case (1001): {\n                if (resultCode == RESULT_OK) {\n                    Ad dene = data.getParcelableExtra(&quot;screen9&quot;);\n                    String position=data.getStringExtra(&quot;Position9&quot;);\n                    ls.remove(Integer.parseInt(position));\n                    ls.add(new Ad(dene.getImage(), dene.getName(), dene.getPrice(), dene.getLocation(), dene.getDesc(), dene.getTags()));\n                    adapter.notifyDataSetChanged();\n                }\n                if (resultCode == RESULT_CANCELED) {\n                    Toast.makeText(Screen_7.this, &quot;Nothing Entered&quot;, Toast.LENGTH_LONG);\n                }\n            }\n            break;\n\n\n        }\n    }\n\n    @Override\n    public void onHandleSelection(int position, Ad text) {\n        Intent secondActivity = new Intent(Screen_7.this, Screen_9.class);\n        secondActivity.putExtra(&quot;viewClass1&quot;,text);\n        secondActivity.putExtra(&quot;Position&quot;, String.valueOf(position));\n        secondActivity.putExtra(&quot;image&quot;,String.valueOf(text.getImage()));\n        startActivityForResult(secondActivity, MY_REQUEST);\n\n    }\n}\n</code></pre>\n<pre><code>**Screen10**\npackage com.hamza.i180502;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class Screen_10 extends AppCompatActivity {\n    TextView name,price,tags,description,location;\n    ImageView upload_image;\n    ImageView back;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_screen10);\n        Ad ad = (Ad)getIntent().getParcelableExtra(&quot;viewClass&quot;);\n        upload_image=findViewById(R.id.image_10);\n        name=findViewById(R.id.name);\n        location=findViewById(R.id.location);\n        description=findViewById(R.id.description);\n        tags=findViewById(R.id.tags);\n        price=findViewById(R.id.price);\n        name.setText(ad.getName());\n        description.setText(ad.getDesc());\n        price.setText(ad.getPrice());\n        tags.setText(ad.getTags());\n        location.setText(ad.getLocation());\n        Uri im= (Uri)ad.getImage();\n        Log.d(&quot;Var&quot;, String.valueOf(im));\n        upload_image.setImageURI(im);\n        back=findViewById(R.id.back);\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>**MyAdapter**\npackage com.hamza.i180502;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\n\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n    Context c;\n    List&lt;Ad&gt; values;\n\n    private CallbackInterface mCallback;\n\n\n    public interface CallbackInterface{\n        void onHandleSelection(int position, Ad text);\n    }\n\n    public MyAdapter(Context c, List&lt;Ad&gt; values) {\n        this.c = c;\n        this.values = values;\n        // .. Attach the interface\n        try{\n\n            mCallback = (CallbackInterface) c;\n        }catch(ClassCastException ex){\n            //.. should log the error or throw and exception\n            Log.e(&quot;MyAdapter&quot;,&quot;Must implement the CallbackInterface in the Activity&quot;, ex);\n        }\n    }\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View row= LayoutInflater.from(c).inflate(R.layout.ad, parent,false);\n        return new MyViewHolder(row);\n    }\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        holder.name.setText(values.get(position).getName());\n        holder.price.setText(values.get(position).getPrice());\n        holder.location.setText(values.get(position).getLocation());\n        holder.imageView.setImageURI(values.get(position).getImage());\n        values.get(position).setId(position);\n        holder.imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent myIntent=new Intent(c,Screen_10.class);\n                Ad ad=values.get(holder.getAdapterPosition());\n                myIntent.putExtra(&quot;viewClass&quot;,(Ad)ad);\n\n                c.startActivity(myIntent);\n            }\n        });\n        holder.imageView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                if(mCallback != null){\n                    mCallback.onHandleSelection(position, values.get(position));\n                }\n                return false;\n            }\n        });\n    }\n\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (requestCode == 1) {\n            if (resultCode == 1) {\n                Ad dene= data.getParcelableExtra(&quot;screen9&quot;);\n                Log.d(&quot;Description&quot;,dene.getDesc());\n                values.remove(dene.getId());\n            }\n            if (resultCode == 0) {\n                Toast.makeText(((Activity) c),&quot;Nothing Entered&quot;,Toast.LENGTH_LONG);\n            }\n        }\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return values.size();\n    }\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView name,price,location;\n        ImageView imageView;\n        public MyViewHolder(@NonNull View row) {\n            super(row);\n            imageView=row.findViewById(R.id.image);\n            name=row.findViewById(R.id.name);\n            location=row.findViewById(R.id.location);\n            price=row.findViewById(R.id.price);\n\n        }\n    }\n}\n</code></pre>\n<pre><code>**Ad(Object)**\npackage com.hamza.i180502;\n\nimport android.net.Uri;\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\n\npublic class Ad implements Parcelable{\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id){\n        this.id=id;\n    }\n\n\n    public static Creator&lt;Ad&gt; getCREATOR() {\n        return CREATOR;\n    }\n\n    private int id;\n    public Ad(Uri image, String name, String price, String location, String desc,String tags) {\n        this.image = image;\n        this.name = name;\n        this.price = price;\n        this.location = location;\n        this.desc = desc;\n        this.tags = tags;\n\n    }\n    public Ad(){\n\n    }\n\n    protected Ad(Parcel in) {\n        image = in.readParcelable(Uri.class.getClassLoader());\n        name = in.readString();\n        price = in.readString();\n        tags = in.readString();\n        location = in.readString();\n        desc = in.readString();\n    }\n\n    public static final Creator&lt;Ad&gt; CREATOR = new Creator&lt;Ad&gt;() {\n        @Override\n        public Ad createFromParcel(Parcel in) {\n            return new Ad(in);\n        }\n\n        @Override\n        public Ad[] newArray(int size) {\n            return new Ad[size];\n        }\n    };\n\n    public Uri getImage() {\n        return image;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    private Uri image;\n    private String name , price, tags,location,desc;\n\n\n    public String getTags() {\n        return tags;\n    }\n\n    public void setTags(String tags) {\n        this.tags = tags;\n    }\n\n\n\n    public void setImage(Uri image) {\n        this.image = image;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel parcel, int i) {\n        parcel.writeParcelable(image, i);\n        parcel.writeString(name);\n        parcel.writeString(price);\n        parcel.writeString(tags);\n        parcel.writeString(location);\n        parcel.writeString(desc);\n    }\n}\n</code></pre>\n<pre><code>**Manifest**\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.hamza.i180502&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.I180502&quot;&gt;\n        &lt;activity\n            android:name=&quot;.Screen_10&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_8&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_9&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_7&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_6&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_5&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_4&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_3&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.Screen_2&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","android","mobile-application","aidl"],"answers":[{"tags":[],"owner":{"account_id":4210014,"reputation":3098,"user_id":3448003,"accept_rate":31,"display_name":"Bajrang Hudda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636458226,"creation_date":1636458226,"answer_id":69897535,"question_id":67156057,"body_markdown":"From Android 10 onwards it supports stable Android Interface Definition Language (AIDL), a new way to keep track of the application program interface (API)/application binary interface (ABI) provided by AIDL interfaces. Stable AIDL has the following key differences from AIDL:\r\n\r\n - Interfaces are defined in the build system with aidl_interfaces.\r\n - Interfaces can contain only structured data. Parcelables representing the desired types are automatically created based on their AIDL definition and are automatically marshaled and unmarshalled.\r\n - Interfaces can be declared as stable (backward-compatible). When this happens, their API is tracked and versioned in a file next to the AIDL interface.\r\n\r\nYou can go through here for more details - https://source.android.com/devices/architecture/aidl/stable-aidl#versioning-interfaces \r\n\r\nIf you are using old simple AIDL then you can update your AIDL interface with this Stable AIDL - https://source.android.com/devices/architecture/aidl/stable-aidl#dealing-with-older-interfaces","title":"How to make Android App backward compatible when AIDL interface gets updated","body":"<p>From Android 10 onwards it supports stable Android Interface Definition Language (AIDL), a new way to keep track of the application program interface (API)/application binary interface (ABI) provided by AIDL interfaces. Stable AIDL has the following key differences from AIDL:</p>\n<ul>\n<li>Interfaces are defined in the build system with aidl_interfaces.</li>\n<li>Interfaces can contain only structured data. Parcelables representing the desired types are automatically created based on their AIDL definition and are automatically marshaled and unmarshalled.</li>\n<li>Interfaces can be declared as stable (backward-compatible). When this happens, their API is tracked and versioned in a file next to the AIDL interface.</li>\n</ul>\n<p>You can go through here for more details - <a href=\"https://source.android.com/devices/architecture/aidl/stable-aidl#versioning-interfaces\" rel=\"nofollow noreferrer\">https://source.android.com/devices/architecture/aidl/stable-aidl#versioning-interfaces</a></p>\n<p>If you are using old simple AIDL then you can update your AIDL interface with this Stable AIDL - <a href=\"https://source.android.com/devices/architecture/aidl/stable-aidl#dealing-with-older-interfaces\" rel=\"nofollow noreferrer\">https://source.android.com/devices/architecture/aidl/stable-aidl#dealing-with-older-interfaces</a></p>\n"}],"owner":{"account_id":2916798,"reputation":361,"user_id":2499800,"accept_rate":25,"display_name":"ctk2021"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636458226,"creation_date":1618807314,"question_id":67156057,"body_markdown":"**How to make Android App backward compatible when AIDL interface gets updated?**\r\n\r\nFor example, if my app accesses an AIDL interface to complete IPC call: \r\n\r\n    interface SampleAidl {\r\n        int sampleMethod(int i);\r\n    }\r\n\r\n&lt;br/&gt;\r\nOn a different platform, the same AIDL updates to a new version which not only changes the arguments of original sampleMethod but also adds another method:\r\n\r\n    interface SampleAidl {\r\n        int sampleMethod(int i, byte[] ext);\r\n        void sampleMethodExtra();\r\n    }\r\n\r\nThe AIDL name and packages remain the same.\r\n\r\n&lt;br/&gt; I have a flag which could decide which version of AIDL to use. \r\n**The question is, if there is any solution/clue that my app could include both versions of AIDL in compile time, and then runtime pick up the right one just by the flag?**\r\n\r\nOr the only way is, my app needs to have separate versions to support different AIDLs? \r\n","title":"How to make Android App backward compatible when AIDL interface gets updated","body":"<p><strong>How to make Android App backward compatible when AIDL interface gets updated?</strong></p>\n<p>For example, if my app accesses an AIDL interface to complete IPC call:</p>\n<pre><code>interface SampleAidl {\n    int sampleMethod(int i);\n}\n</code></pre>\n<br/>\nOn a different platform, the same AIDL updates to a new version which not only changes the arguments of original sampleMethod but also adds another method:\n<pre><code>interface SampleAidl {\n    int sampleMethod(int i, byte[] ext);\n    void sampleMethodExtra();\n}\n</code></pre>\n<p>The AIDL name and packages remain the same.</p>\n<p><br/> I have a flag which could decide which version of AIDL to use.\n<strong>The question is, if there is any solution/clue that my app could include both versions of AIDL in compile time, and then runtime pick up the right one just by the flag?</strong></p>\n<p>Or the only way is, my app needs to have separate versions to support different AIDLs?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1636225399,"post_id":69866983,"comment_id":123501850,"body_markdown":"Follow the docs you linked to more closely, also read about the [Connection String URI Format](https://docs.mongodb.com/manual/reference/connection-string/). You specified `myFirstDatabase` as the auth database; you need to switch databases after connecting as described [here](https://mongodb.github.io/mongo-java-driver/4.3/driver/getting-started/quick-start/#access-a-database).  Typically you don&#39;t specify the auth database, the default `admin` is fine so leave that part off the connection string. `myFirstDatabase` would make a great test database for `myFirstCollection` however :)","body":"Follow the docs you linked to more closely, also read about the <a href=\"https://docs.mongodb.com/manual/reference/connection-string/\" rel=\"nofollow noreferrer\">Connection String URI Format</a>. You specified <code>myFirstDatabase</code> as the auth database; you need to switch databases after connecting as described <a href=\"https://mongodb.github.io/mongo-java-driver/4.3/driver/getting-started/quick-start/#access-a-database\" rel=\"nofollow noreferrer\">here</a>.  Typically you don&#39;t specify the auth database, the default <code>admin</code> is fine so leave that part off the connection string. <code>myFirstDatabase</code> would make a great test database for <code>myFirstCollection</code> however :)"},{"owner":{"account_id":18837416,"reputation":117,"user_id":13739749,"display_name":"NewUser2"},"score":1,"creation_date":1636232986,"post_id":69866983,"comment_id":123503571,"body_markdown":"Wow I can&#39;t believe I spent the whole day trying to do that...thank you very much. I think I got confused the connection string example MongoDB gave me when I cliclked on &quot;Connect&quot; there was &quot;MyFirstDatabase&quot; in the connection string I somehow thought that it was the database I was going to work on and not the auth database. Thank you again.","body":"Wow I can&#39;t believe I spent the whole day trying to do that...thank you very much. I think I got confused the connection string example MongoDB gave me when I cliclked on &quot;Connect&quot; there was &quot;MyFirstDatabase&quot; in the connection string I somehow thought that it was the database I was going to work on and not the auth database. Thank you again."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1636458454,"post_id":69866983,"comment_id":123557048,"body_markdown":"I&#39;ve made that mistake myself so it was very familiar to me...glad I was able to help.  I&#39;ve posted my comment as an answer for completeness; please accept if you see fit.","body":"I&#39;ve made that mistake myself so it was very familiar to me...glad I was able to help.  I&#39;ve posted my comment as an answer for completeness; please accept if you see fit."}],"answers":[{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636458194,"creation_date":1636458194,"answer_id":69897521,"question_id":69866983,"body_markdown":"You&#39;re specifying your database as the authentication database.  According to the [Connection String URI Format page][1] in the MongoDB reference the URI format is:\r\n\r\n```lang-none\r\nmongodb://[username:password@]host1[:port1][,...hostN[:portN]][/[defaultauthdb][?options]]\r\n```\r\n\r\nTypically `admin` is used as the authentication database so your `ConnectionString` would be:\r\n\r\n```lang-java\r\nConnectionString mongoConn = new ConnectionString(\r\n    &quot;mongodb+srv://user:password@cluster0.xdibk.mongodb.net/admin?retryWrites=true&amp;w=majority&quot;);\r\n```\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/connection-string/","title":"How do I successfully connect and test the connection using Mongo DB Sync Driver?","body":"<p>You're specifying your database as the authentication database.  According to the <a href=\"https://docs.mongodb.com/manual/reference/connection-string/\" rel=\"nofollow noreferrer\">Connection String URI Format page</a> in the MongoDB reference the URI format is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mongodb://[username:password@]host1[:port1][,...hostN[:portN]][/[defaultauthdb][?options]]\n</code></pre>\n<p>Typically <code>admin</code> is used as the authentication database so your <code>ConnectionString</code> would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionString mongoConn = new ConnectionString(\n    &quot;mongodb+srv://user:password@cluster0.xdibk.mongodb.net/admin?retryWrites=true&amp;w=majority&quot;);\n</code></pre>\n"}],"owner":{"account_id":18837416,"reputation":117,"user_id":13739749,"display_name":"NewUser2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69897521,"answer_count":1,"score":0,"last_activity_date":1636458194,"creation_date":1636224799,"question_id":69866983,"body_markdown":"I am having issues connecting to MongoDB Atlas. I am following along with the tutorials provided by MongoDB but I can&#39;t get it working.\r\n\r\n\r\nDriver: https://mongodb.github.io/mongo-java-driver/4.3/ (latest version)\r\n\r\nI am using the following piece of code to connect to MongoDB:\r\n\r\n    ConnectionString mongoConn = new ConnectionString(\r\n                    &quot;mongodb+srv://user:password@cluster0.xdibk.mongodb.net/myFirstDatabase?retry&quot; +\r\n                    &quot;Writes=true&amp;w=majority&quot;\r\n            );\r\n\r\n\r\n     MongoClient mongoClient = MongoClients.create(mongoConn);\r\n\r\n\r\n\r\nThe above code works but does nothing except for displaying some info in the console \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI didn&#39;t find that any useful so I turned it off using:\r\n\r\n    Logger.getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.WARNING);\r\n\r\n\r\nThen I decided to test the connection by trying to insert a collection and see if anything actually gets saved:\r\n\r\n    MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;test&quot;);\r\n    Document document = new Document(&quot;title&quot;, &quot;Test&quot;)\r\n                   .append(&quot;description&quot;, &quot;Mongo DB connection and insertion test&quot;);\r\n    \r\n     collection.insertOne(document);\r\n\r\nNo errors but doesn&#39;t insert anything either.\r\n\r\nI even tried putting all the code inside a `try-catch` but still no errors except when I remove the user or password it throws an exception telling me that password is required.\r\n\r\nApparently everything is working, my user and password are correct as well as the link to connect to MondoDB and I can&#39;t see what&#39;s wrong.\r\n\r\n\r\n\r\n**The problem:** Everything seems to be set correctly but it doesn&#39;t appear to be connected and I can&#39;t see why it&#39;s not working.\r\n\r\n**So my question is:**\r\n\r\nHow do I successfully connect to Mongo DB using MongoDB Driver Sync and how do I know it&#39;s connected as it doesn&#39;t give me any error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ES0go.jpg","title":"How do I successfully connect and test the connection using Mongo DB Sync Driver?","body":"<p>I am having issues connecting to MongoDB Atlas. I am following along with the tutorials provided by MongoDB but I can't get it working.</p>\n<p>Driver: <a href=\"https://mongodb.github.io/mongo-java-driver/4.3/\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/4.3/</a> (latest version)</p>\n<p>I am using the following piece of code to connect to MongoDB:</p>\n<pre><code>ConnectionString mongoConn = new ConnectionString(\n                &quot;mongodb+srv://user:password@cluster0.xdibk.mongodb.net/myFirstDatabase?retry&quot; +\n                &quot;Writes=true&amp;w=majority&quot;\n        );\n\n\n MongoClient mongoClient = MongoClients.create(mongoConn);\n</code></pre>\n<p>The above code works but does nothing except for displaying some info in the console</p>\n<p><a href=\"https://i.stack.imgur.com/ES0go.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ES0go.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I didn't find that any useful so I turned it off using:</p>\n<pre><code>Logger.getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.WARNING);\n</code></pre>\n<p>Then I decided to test the connection by trying to insert a collection and see if anything actually gets saved:</p>\n<pre><code>MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;test&quot;);\nDocument document = new Document(&quot;title&quot;, &quot;Test&quot;)\n               .append(&quot;description&quot;, &quot;Mongo DB connection and insertion test&quot;);\n\n collection.insertOne(document);\n</code></pre>\n<p>No errors but doesn't insert anything either.</p>\n<p>I even tried putting all the code inside a <code>try-catch</code> but still no errors except when I remove the user or password it throws an exception telling me that password is required.</p>\n<p>Apparently everything is working, my user and password are correct as well as the link to connect to MondoDB and I can't see what's wrong.</p>\n<p><strong>The problem:</strong> Everything seems to be set correctly but it doesn't appear to be connected and I can't see why it's not working.</p>\n<p><strong>So my question is:</strong></p>\n<p>How do I successfully connect to Mongo DB using MongoDB Driver Sync and how do I know it's connected as it doesn't give me any error?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4312808,"reputation":608,"user_id":3523471,"display_name":"BluesSolo"},"score":0,"creation_date":1424249534,"post_id":28579234,"comment_id":45467061,"body_markdown":"Search for free space management. That&#39;s a similar problem.","body":"Search for free space management. That&#39;s a similar problem."}],"answers":[{"tags":[],"owner":{"account_id":5801864,"reputation":178,"user_id":4575803,"display_name":"&#181;Theory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424280159,"creation_date":1424252101,"answer_id":28580147,"question_id":28579234,"body_markdown":"Si i would suggest you to : \r\n\r\ncreate a method `seat.isFree();`which will return `true`if the seat is free and `false`otherwise.\r\n\r\nThen iterate each line of seats of your class, and look for the first free `Seat`of your line. It would look like :\r\n    \r\n    Seat freeSeat = null;\r\n    int length = 0;\r\n    for( each line ){\r\n        for( each seat){\r\n            Seat seat = seat.get(indexInLine);\r\n            if(seat.isFree()){\r\n                if(freeSeat == null){\r\n                    freeSeat = seat;\r\n                    length = 1;\r\n                } else\r\n                    length++;\r\n            } else {\r\n                if(freeSeat != null){\r\n                    yourList.add(seat, length);\r\n                }\r\n                freeSeat = null;\r\n            }\r\n        }\r\n        if(freeSeat != null){//So if the last seat of the line is also free add it to the free seat list\r\n            yourList.add(seat, length);\r\n        }\r\n    }\r\nThe purpose of your `list` is to contain a list of `Seat` and `int` objects which would represent the first free `Seat` and the number of free seats in the line after it ( including the first one ).\r\n\r\nThen you will get every adjacents free seat in your list.\r\n\r\nYou just have to select the first element of the list whose (int value) length is important for all your group or if none, separate the group while you can&#39;t find adjacents seats for them.","title":"Finding adjacent seating for a train reservation","body":"<p>Si i would suggest you to : </p>\n\n<p>create a method <code>seat.isFree();</code>which will return <code>true</code>if the seat is free and <code>false</code>otherwise.</p>\n\n<p>Then iterate each line of seats of your class, and look for the first free <code>Seat</code>of your line. It would look like :</p>\n\n<pre><code>Seat freeSeat = null;\nint length = 0;\nfor( each line ){\n    for( each seat){\n        Seat seat = seat.get(indexInLine);\n        if(seat.isFree()){\n            if(freeSeat == null){\n                freeSeat = seat;\n                length = 1;\n            } else\n                length++;\n        } else {\n            if(freeSeat != null){\n                yourList.add(seat, length);\n            }\n            freeSeat = null;\n        }\n    }\n    if(freeSeat != null){//So if the last seat of the line is also free add it to the free seat list\n        yourList.add(seat, length);\n    }\n}\n</code></pre>\n\n<p>The purpose of your <code>list</code> is to contain a list of <code>Seat</code> and <code>int</code> objects which would represent the first free <code>Seat</code> and the number of free seats in the line after it ( including the first one ).</p>\n\n<p>Then you will get every adjacents free seat in your list.</p>\n\n<p>You just have to select the first element of the list whose (int value) length is important for all your group or if none, separate the group while you can't find adjacents seats for them.</p>\n"},{"tags":[],"owner":{"account_id":23215842,"reputation":1,"user_id":17308772,"display_name":"Daril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636458190,"creation_date":1636458190,"answer_id":69897520,"question_id":28579234,"body_markdown":"This might help you. I have a similar code\r\n\r\n\tScanner S=new Scanner(System.in);\r\n\r\n\tint count_seat1;\r\n\r\n\tcount_seat1=S.nextInt();\r\n\r\n\tint remainder;\r\n\r\n\tremainder=count_seat1%12;\r\n\r\n\tif(remainder==1)\r\n\t{\r\n\t\tSystem.out.println( count_seat1+11 +&quot; WS&quot;);\r\n\t}\r\n\telse if(remainder==2)\r\n\t{\r\n\t\tSystem.out.println( count_seat1+9  +&quot; MS&quot;);\r\n\t}\r\n\telse if(remainder==3)\r\n\t{\r\n\t\tSystem.out.println(count_seat1+7 +&quot; AS&quot;);\r\n\t}\r\n\telse if(remainder==4)\r\n\t{\r\n\t\tSystem.out.println(count_seat1+5  +&quot; AS&quot;);\r\n\t}\r\n\telse if(remainder==5)\r\n\t{\r\n\t\tSystem.out.println( count_seat1+3 +&quot; MS&quot;);\r\n\t}\r\n\telse if(remainder==6)\r\n\t{\r\n\t\tSystem.out.println( count_seat1+1 +&quot; WS&quot;);\r\n\t}\r\n\r\n\telse if(remainder==7)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-1 +&quot; WS&quot;);\r\n\t}\r\n\telse if(remainder==8)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-3+&quot; MS&quot;);\r\n\t}\r\n\telse if(remainder==9)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-5+&quot; AS&quot;);\r\n\t}\r\n\telse if(remainder==10)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-3+ &quot;AS&quot;);\r\n\t}\r\n\telse if(remainder==11)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-9+ &quot; MS&quot;);\r\n\t}\r\n\telse if(remainder==0)\r\n\t{\r\n\t\tSystem.out.println(count_seat1-11+&quot; WS&quot;);\r\n\t}\r\n\r\n\r\n","title":"Finding adjacent seating for a train reservation","body":"<p>This might help you. I have a similar code</p>\n<pre><code>Scanner S=new Scanner(System.in);\n\nint count_seat1;\n\ncount_seat1=S.nextInt();\n\nint remainder;\n\nremainder=count_seat1%12;\n\nif(remainder==1)\n{\n    System.out.println( count_seat1+11 +&quot; WS&quot;);\n}\nelse if(remainder==2)\n{\n    System.out.println( count_seat1+9  +&quot; MS&quot;);\n}\nelse if(remainder==3)\n{\n    System.out.println(count_seat1+7 +&quot; AS&quot;);\n}\nelse if(remainder==4)\n{\n    System.out.println(count_seat1+5  +&quot; AS&quot;);\n}\nelse if(remainder==5)\n{\n    System.out.println( count_seat1+3 +&quot; MS&quot;);\n}\nelse if(remainder==6)\n{\n    System.out.println( count_seat1+1 +&quot; WS&quot;);\n}\n\nelse if(remainder==7)\n{\n    System.out.println(count_seat1-1 +&quot; WS&quot;);\n}\nelse if(remainder==8)\n{\n    System.out.println(count_seat1-3+&quot; MS&quot;);\n}\nelse if(remainder==9)\n{\n    System.out.println(count_seat1-5+&quot; AS&quot;);\n}\nelse if(remainder==10)\n{\n    System.out.println(count_seat1-3+ &quot;AS&quot;);\n}\nelse if(remainder==11)\n{\n    System.out.println(count_seat1-9+ &quot; MS&quot;);\n}\nelse if(remainder==0)\n{\n    System.out.println(count_seat1-11+&quot; WS&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":2529289,"reputation":43,"user_id":2197917,"accept_rate":23,"display_name":"user2197917"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636458190,"creation_date":1424248850,"question_id":28579234,"body_markdown":"I have constructed an object train that holds `2 ArrayList&lt;Seating&gt;` for business class and economy class.\r\n\r\nMy Seating Object has an ArrayList of Seats \r\n\r\n    List&lt;Seating&gt; business_class = new ArrayList&lt;Seating&gt;();\r\n    List&lt;Seating&gt; economy_class = new ArrayList&lt;Seating&gt;();\r\n    int bCount = 1;\r\n    int eCount = 10;\r\n    for(int i = 0; i &lt; rowNumber; i++)\r\n    {\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;A&quot;));\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;B&quot;));\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;C&quot;));\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;D&quot;));\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;E&quot;));\r\n        business_class.get(i).addSeat(new Seats(Integer.toString(bCount), &quot;F&quot;));\r\n\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;A&quot;));\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;B&quot;));\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;C&quot;));\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;D&quot;));\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;E&quot;));\r\n        economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), &quot;F&quot;));\r\n        bCount++;\r\n        eCount++;\r\n    }\r\n&lt;br&gt;\r\n    `1A / 1B / 1C || 1D / 1E / 1F`&lt;br&gt;\r\n    `2A / 2B / 2C || 2D / 2E / 2F`&lt;br&gt;\r\n\r\nMy java program can add either a `single passenger or a group`. For my group reservations, I have to seek the largest amount of available `adjacent seating`. I am stuck on this method. I have coded it already, but it is a mixture and if and else if statements taking into account all the possible combinations of seating. The method has over 600 lines of if-else statements... I am asking for a simpler and more effective way to find adjacent seating for groups. &lt;br&gt;\r\n\r\nMore detail on adjacent seating &lt;br&gt;\r\nFor example, if all the seats were empty, then I&#39;d have 6 adjacent seats. In the case that I have 6 group members, I would fill the entire row. In the case that I have 7 group members. 1 would be placed in the row before if any available or after if any available starting at (seatNumber)A -&gt; (seatNumber)F &lt;br&gt;&lt;br&gt;\r\nIf there are passengers located at 1A and 1F than I&#39;d have 2 sets of 2 adjacent seats 1B / 1C and 1D / 1E.\r\n&lt;br&gt;\r\nIn the event that there is a group of 4, then those 4 will fill those seats. In the event that there is a group of 3, then 1B / 1C || 1D will be filled.\r\n\r\nThat is the logic of this particular adjacent seating method. Business and Economy class have no relationships in seating.","title":"Finding adjacent seating for a train reservation","body":"<p>I have constructed an object train that holds <code>2 ArrayList&lt;Seating&gt;</code> for business class and economy class.</p>\n\n<p>My Seating Object has an ArrayList of Seats </p>\n\n<pre><code>List&lt;Seating&gt; business_class = new ArrayList&lt;Seating&gt;();\nList&lt;Seating&gt; economy_class = new ArrayList&lt;Seating&gt;();\nint bCount = 1;\nint eCount = 10;\nfor(int i = 0; i &lt; rowNumber; i++)\n{\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"A\"));\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"B\"));\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"C\"));\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"D\"));\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"E\"));\n    business_class.get(i).addSeat(new Seats(Integer.toString(bCount), \"F\"));\n\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"A\"));\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"B\"));\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"C\"));\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"D\"));\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"E\"));\n    economy_class.get(i).addSeat(new Seats(Integer.toString(eCount), \"F\"));\n    bCount++;\n    eCount++;\n}\n</code></pre>\n\n<p><br>\n    <code>1A / 1B / 1C || 1D / 1E / 1F</code><br>\n    <code>2A / 2B / 2C || 2D / 2E / 2F</code><br></p>\n\n<p>My java program can add either a <code>single passenger or a group</code>. For my group reservations, I have to seek the largest amount of available <code>adjacent seating</code>. I am stuck on this method. I have coded it already, but it is a mixture and if and else if statements taking into account all the possible combinations of seating. The method has over 600 lines of if-else statements... I am asking for a simpler and more effective way to find adjacent seating for groups. <br></p>\n\n<p>More detail on adjacent seating <br>\nFor example, if all the seats were empty, then I'd have 6 adjacent seats. In the case that I have 6 group members, I would fill the entire row. In the case that I have 7 group members. 1 would be placed in the row before if any available or after if any available starting at (seatNumber)A -> (seatNumber)F <br><br>\nIf there are passengers located at 1A and 1F than I'd have 2 sets of 2 adjacent seats 1B / 1C and 1D / 1E.\n<br>\nIn the event that there is a group of 4, then those 4 will fill those seats. In the event that there is a group of 3, then 1B / 1C || 1D will be filled.</p>\n\n<p>That is the logic of this particular adjacent seating method. Business and Economy class have no relationships in seating.</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":5,"creation_date":1636455011,"post_id":69896773,"comment_id":123555699,"body_markdown":"*&quot;do i have to call toString for each StringBuilder object stored in array?&quot;* =&gt; pretty much, one way or another. And just a side note: you `.append` calls will raise `NullPointerException`s as is.","body":"<i>&quot;do i have to call toString for each StringBuilder object stored in array?&quot;</i> =&gt; pretty much, one way or another. And just a side note: you <code>.append</code> calls will raise <code>NullPointerException</code>s as is."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1636455013,"post_id":69896773,"comment_id":123555700,"body_markdown":"Yes, you have to call `toString()`. This means that you also won&#39;t be able to clear the data from memory and have to rely on the garbage collector to do the job instead. Note that theoretically you could modify (or override) `ConfigureMathOperations` to also accept `CharSequence` objects and avoid doing `toString()` to work around this.","body":"Yes, you have to call <code>toString()</code>. This means that you also won&#39;t be able to clear the data from memory and have to rely on the garbage collector to do the job instead. Note that theoretically you could modify (or override) <code>ConfigureMathOperations</code> to also accept <code>CharSequence</code> objects and avoid doing <code>toString()</code> to work around this."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1636455035,"post_id":69896773,"comment_id":123555708,"body_markdown":"&quot;_How to convert StringBuilder[] to String[]_&quot; and &quot;_I&#39;m trying to avoid String[] here_&quot; are contradicting.","body":"&quot;<i>How to convert StringBuilder[] to String[]</i>&quot; and &quot;<i>I&#39;m trying to avoid String[] here</i>&quot; are contradicting."},{"owner":{"account_id":11860752,"reputation":119,"user_id":8679501,"display_name":"RandomGuy"},"score":0,"creation_date":1636455789,"post_id":69896773,"comment_id":123556037,"body_markdown":"@ernest_k can you please help me how it throws NullPointerException, sorry I&#39;m new to Java.","body":"@ernest_k can you please help me how it throws NullPointerException, sorry I&#39;m new to Java."},{"owner":{"account_id":11860752,"reputation":119,"user_id":8679501,"display_name":"RandomGuy"},"score":0,"creation_date":1636455859,"post_id":69896773,"comment_id":123556067,"body_markdown":"@JoachimSauer unfortunately I can&#39;t override ConfigureMathOperations as it is a library function and it performs the ultimate tasks","body":"@JoachimSauer unfortunately I can&#39;t override ConfigureMathOperations as it is a library function and it performs the ultimate tasks"},{"owner":{"account_id":11860752,"reputation":119,"user_id":8679501,"display_name":"RandomGuy"},"score":0,"creation_date":1636456052,"post_id":69896773,"comment_id":123556147,"body_markdown":"@Ivar here are library functions which still uses String[] but I&#39;m just trying to avoid usage of String at the code I&#39;m writing.","body":"@Ivar here are library functions which still uses String[] but I&#39;m just trying to avoid usage of String at the code I&#39;m writing."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636458121,"creation_date":1636458121,"answer_id":69897508,"question_id":69896773,"body_markdown":"To answer the question directly, you can use streams to convert your StringBuilder[] to String[] easily enough:\r\n\r\n    String[] arr = Arrays.stream(sbCmd).map(StringBuilder::toString).toArray(String[]::new);\r\n\r\n...but:\r\n\r\n &gt; I&#39;m trying to avoid String[] here because it is immutable (I have some sensitive data which needs to be cleared after function call).\r\n\r\nYou can&#39;t avoid it. If you have a library function that takes a String array, then you have to provide a String array - and that obviously requires the use of Strings.\r\n\r\nYour only other option is to fork the library and remove the use of strings. Note that this is likely to be a time-consuming, and tedious operation however - it&#39;s not nearly as simple as just making sure no string *parameters* are passed in (as the library function could easily call `sb.toString()` and obtain a string.)\r\n\r\nThe much more pragmatic approach would be not to worry about strings being left in memory, instead running your code in a secure, isolated environment, and letting the environment do its job.","title":"How to convert StringBuilder[] to String[]","body":"<p>To answer the question directly, you can use streams to convert your StringBuilder[] to String[] easily enough:</p>\n<pre><code>String[] arr = Arrays.stream(sbCmd).map(StringBuilder::toString).toArray(String[]::new);\n</code></pre>\n<p>...but:</p>\n<blockquote>\n<p>I'm trying to avoid String[] here because it is immutable (I have some sensitive data which needs to be cleared after function call).</p>\n</blockquote>\n<p>You can't avoid it. If you have a library function that takes a String array, then you have to provide a String array - and that obviously requires the use of Strings.</p>\n<p>Your only other option is to fork the library and remove the use of strings. Note that this is likely to be a time-consuming, and tedious operation however - it's not nearly as simple as just making sure no string <em>parameters</em> are passed in (as the library function could easily call <code>sb.toString()</code> and obtain a string.)</p>\n<p>The much more pragmatic approach would be not to worry about strings being left in memory, instead running your code in a secure, isolated environment, and letting the environment do its job.</p>\n"}],"owner":{"account_id":11860752,"reputation":119,"user_id":8679501,"display_name":"RandomGuy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69897508,"answer_count":1,"score":1,"last_activity_date":1636458121,"creation_date":1636454891,"question_id":69896773,"body_markdown":"I have an array of StringBuilder objects as shown below.\r\n```\r\nStringBuilder[] sbCmd = new StringBuilder[5];\r\nint cntr = 0;\r\nsbCmd[cntr++].append(&quot;add&quot;);\r\nsbCmd[cntr++].append(&quot;sub&quot;);\r\nsbCmd[cntr++].append(&quot;mul&quot;);\r\nsbCmd[cntr++].append(&quot;div&quot;);\r\nsbCmd[cntr++].append(&quot;mod&quot;);\r\n```\r\n\r\nNow I have a function which takes an array of Strings as input as shown below.\r\n```\r\nConfigureMathOperation(String[] array)\r\n{\r\n  //Do some work\r\n}\r\n```\r\n\r\nHow can I call the same? I&#39;m trying to avoid String[] here because it is immutable (I have some sensitive data which needs to be cleared after function call).\r\n\r\nDo I have to call toString for each StringBuilder object stored in array? Sample code snippet would really help as I&#39;m new to Java.\r\n\r\nFor example i want to call as below, but its not working since i&#39;m not aware how to call for each StringBuilder object.\r\n\r\n```\r\nConfigureMathOperation(sbCmd.toString());\r\n```\r\n","title":"How to convert StringBuilder[] to String[]","body":"<p>I have an array of StringBuilder objects as shown below.</p>\n<pre><code>StringBuilder[] sbCmd = new StringBuilder[5];\nint cntr = 0;\nsbCmd[cntr++].append(&quot;add&quot;);\nsbCmd[cntr++].append(&quot;sub&quot;);\nsbCmd[cntr++].append(&quot;mul&quot;);\nsbCmd[cntr++].append(&quot;div&quot;);\nsbCmd[cntr++].append(&quot;mod&quot;);\n</code></pre>\n<p>Now I have a function which takes an array of Strings as input as shown below.</p>\n<pre><code>ConfigureMathOperation(String[] array)\n{\n  //Do some work\n}\n</code></pre>\n<p>How can I call the same? I'm trying to avoid String[] here because it is immutable (I have some sensitive data which needs to be cleared after function call).</p>\n<p>Do I have to call toString for each StringBuilder object stored in array? Sample code snippet would really help as I'm new to Java.</p>\n<p>For example i want to call as below, but its not working since i'm not aware how to call for each StringBuilder object.</p>\n<pre><code>ConfigureMathOperation(sbCmd.toString());\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","tomcat","graphql"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635844606,"post_id":69807452,"comment_id":123394755,"body_markdown":"You are providing the exception, however I dont see any code.  Resolver? Schema? Directory Structure?","body":"You are providing the exception, however I dont see any code.  Resolver? Schema? Directory Structure?"},{"owner":{"account_id":11419649,"reputation":380,"user_id":8371531,"display_name":"Mat G"},"score":0,"creation_date":1637919295,"post_id":69807452,"comment_id":123956505,"body_markdown":"Query class is implementing graphql.kickstart.tools.GraphQLQueryResolver and your application is expecting com.coxautodev.graphql.tools.GraphQLQueryResolver","body":"Query class is implementing graphql.kickstart.tools.GraphQLQueryResolver and your application is expecting com.coxautodev.graphql.tools.GraphQLQueryResolver"},{"owner":{"account_id":20735794,"reputation":51,"user_id":15226692,"display_name":"rishu rathaur"},"score":0,"creation_date":1638193900,"post_id":69807452,"comment_id":124015601,"body_markdown":"Thanks for the reply. I have tried this suggestion but still I am facing the issue.","body":"Thanks for the reply. I have tried this suggestion but still I am facing the issue."}],"owner":{"account_id":20735794,"reputation":51,"user_id":15226692,"display_name":"rishu rathaur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636457897,"creation_date":1635842386,"question_id":69807452,"body_markdown":"I am trying to save the data in the database[PostgresQL] using graphql with JPA, spring-boot. I have created the schema and created the resolver.\r\nI have created the Repository for the same.\r\nWhile running the main java class it shows the below error.\r\nIt shows the error in resolver like there is no root resolver for the query type query.\r\n    \r\n```org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.SchemaClassScannerError: No Root resolvers for query type &#39;Query&#39; found!  Provide one or more com.coxautodev.graphql.tools.GraphQLQueryResolver to the builder.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.3.jar:2.5.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.3.jar:2.5.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.3.jar:2.5.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.3.jar:2.5.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.3.jar:2.5.3]\r\n\tat com.example.demo.DemographqlApplication.main(DemographqlApplication.java:9) ~[main/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.SchemaClassScannerError: No Root resolvers for query type &#39;Query&#39; found!  Provide one or more com.coxautodev.graphql.tools.GraphQLQueryResolver to the builder.\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 18 common frames omitted\r\nCaused by: com.coxautodev.graphql.tools.SchemaClassScannerError: No Root resolvers for query type &#39;Query&#39; found!  Provide one or more com.coxautodev.graphql.tools.GraphQLQueryResolver to the builder.\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner$RootTypesHolder.createRootType(SchemaClassScanner.kt:424) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner$RootTypesHolder.&lt;init&gt;(SchemaClassScanner.kt:405) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:78) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:151) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:157) ~[graphql-java-tools-5.2.4.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:57) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319.CGLIB$schemaParser$2(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319$$FastClassBySpringCGLIB$$52dead8e.invoke(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319.schemaParser(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 19 common frames omitted```\r\n\r\n**Model/autor.java**\r\n\r\n    @Entity\r\npublic class Author { \r\n\t  @Id\r\n\t  @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t  private Long id;\r\n\r\n\t  @Column(name = &quot;name&quot;, nullable = false)\r\n\t  private String name;\r\n\r\n\t  @Column(name = &quot;age&quot;)\r\n\t  private Integer age;\r\n\r\n\t  public Author() {\r\n\t  }\r\n\r\n\t  public Author(Long id) {\r\n\t    this.id = id;\r\n\t  }\r\n\r\n\t  public Author(String name, Integer age) {\r\n\t    this.name = name;\r\n\t    this.age = age;\r\n\t  }\r\n\r\n\t  public Long getId() {\r\n\t    return id;\r\n\t  }\r\n\r\n\t  public String getName() {\r\n\t    return name;\r\n\t  }\r\n\t  \r\n\t  public void setName(String name) {\r\n\t\t this.name=name; \r\n\t  }\r\n\t  \r\n\t  public void setAge(Integer age) {\r\n\t\t  this.age=age;\r\n\t\t  \r\n\t  }\r\n\t  public Integer getAge() {\r\n\t\t    return age;\r\n\t\t  }\r\n\r\n\t  @Override\r\n\t  public String toString() {\r\n\t    return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n\t  }\r\n\r\n\r\n}\r\n\r\n**model/tutorial.java**\r\n\r\n    ```@Entity\r\npublic class Tutorial {\r\n\t@Id\r\n\t  @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t  private Long id;\r\n\r\n\t  @Column(name = &quot;title&quot;, nullable = false)\r\n\t  private String title;\r\n\r\n\t  @Column(name = &quot;description&quot;)\r\n\t  private String description;\r\n\r\n\t  @ManyToOne\r\n\t  @JoinColumn(name = &quot;author_id&quot;, nullable = false, updatable = false)\r\n\t  private Author author;\r\n\r\n\t  public Tutorial() {\r\n\t  }\r\n\r\n\t  public Tutorial(String title, String description, Author author) {\r\n\t    this.title = title;\r\n\t    this.description = description;\r\n\t    this.author = author;\r\n\t  }\r\n\r\n\t  public Long getId() {\r\n\t    return id;\r\n\t  }\r\n\r\n\t  public String getTitle() {\r\n\t    return title;\r\n\t  }\r\n\r\n\t  public void setTitle(String title) {\r\n\t    this.title = title;\r\n\t  }\r\n\r\n\t  public String getDescription() {\r\n\t    return description;\r\n\t  }\r\n\r\n\t  public void setDescription(String description) {\r\n\t    this.description = description;\r\n\t  }\r\n\r\n\t  public Author getAuthor() {\r\n\t    return author;\r\n\t  }\r\n\r\n\t  public void setAuthor(Author author) {\r\n\t    this.author = author;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public String toString() {\r\n\t    return &quot;Tutorial [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;, author=&quot; + author + &quot;]&quot;;\r\n\t  }\r\n\r\n}```\r\n\r\n**Author Repository**\r\n\r\n    ```import org.springframework.data.jpa.repository.*;\r\nimport com.example.demo.model.Author;\r\npublic interface AuthorRepository extends JpaRepository&lt;Author, Long&gt;{\r\n\r\n}```\r\n\r\n\r\n**Tutorial repository**\r\n\r\n    ```import com.example.demo.model.Tutorial;\r\nimport org.springframework.data.jpa.repository.*;\r\n\r\npublic interface TutorialRepository extends JpaRepository&lt;Tutorial, Long&gt; {}```\r\n\r\n**Mutation resolver**\r\n\r\n    ``` import java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.example.demo.model.Author;\r\nimport com.example.demo.model.Tutorial;\r\nimport com.example.demo.repository.AuthorRepository;\r\nimport com.example.demo.repository.TutorialRepository;\r\n\r\n//import graphql.kickstart.tools.GraphQLMutationResolver;\r\nimport javassist.NotFoundException;\r\nimport com.coxautodev.graphql.tools.GraphQLMutationResolver;\r\n\r\n@Component\r\npublic class Mutation implements GraphQLMutationResolver {\r\n\tprivate AuthorRepository authorRepository;\r\n\t  private TutorialRepository tutorialRepository;\r\n\r\n\t  @Autowired\r\n\t  public Mutation(AuthorRepository authorRepository, TutorialRepository tutorialRepository) {\r\n\t    this.authorRepository = authorRepository;\r\n\t    this.tutorialRepository = tutorialRepository;\r\n\t  }\r\n\r\n\t  public Author createAuthor(String name, Integer age) {\r\n\t    Author author = new Author();\r\n\t    author.setName(name);\r\n\t    author.setAge(age);\r\n\r\n\t    authorRepository.save(author);\r\n\r\n\t    return author;\r\n\t  }\r\n\r\n\t  public Tutorial createTutorial(String title, String description, Long authorId) {\r\n\t    Tutorial tutorial = new Tutorial();\r\n\t    tutorial.setAuthor(new Author(authorId));\r\n\t    tutorial.setTitle(title);\r\n\t    tutorial.setDescription(description);\r\n\r\n\t    tutorialRepository.save(tutorial);\r\n\r\n\t    return tutorial;\r\n\t  }\r\n\r\n\t  public boolean deleteTutorial(Long id) {\r\n\t    tutorialRepository.deleteById(id);\r\n\t    return true;\r\n\t  }\r\n\r\n\t  public Tutorial updateTutorial(Long id, String title, String description) throws NotFoundException {\r\n\t    Optional&lt;Tutorial&gt; optTutorial = tutorialRepository.findById(id);\r\n\r\n\t    if (optTutorial.isPresent()) {\r\n\t      Tutorial tutorial = optTutorial.get();\r\n\r\n\t      if (title != null)\r\n\t        tutorial.setTitle(title);\r\n\t      if (description != null)\r\n\t        tutorial.setDescription(description);\r\n\r\n\t      tutorialRepository.save(tutorial);\r\n\t      return tutorial;\r\n\t    }\r\n\r\n\t    throw new NotFoundException(&quot;Not found Tutorial to update!&quot;);\r\n\t  }\r\n\r\n}```\r\n\r\n**Query-resolver**\r\n\r\n    ```   import org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.example.demo.model.Author;\r\nimport com.example.demo.model.Tutorial;\r\nimport com.example.demo.repository.AuthorRepository;\r\nimport com.example.demo.repository.TutorialRepository;\r\n//import com.coxautodev.graphql.tools.GraphQLQueryResolver\r\n\r\nimport graphql.kickstart.tools.GraphQLQueryResolver;\r\n\r\n\r\n@Component\r\npublic class Query implements GraphQLQueryResolver {\r\n\r\n\t private AuthorRepository authorRepository;\r\n\t  private TutorialRepository tutorialRepository;\r\n\r\n\t  @Autowired\r\n\t  public Query(AuthorRepository authorRepository, TutorialRepository tutorialRepository) {\r\n\t    this.authorRepository = authorRepository;\r\n\t    this.tutorialRepository = tutorialRepository;\r\n\t  }\r\n\r\n\t  public Iterable&lt;Author&gt; findAllAuthors() {\r\n\t    return authorRepository.findAll();\r\n\t  }\r\n\r\n\t  public Iterable&lt;Tutorial&gt; findAllTutorials() {\r\n\t    return tutorialRepository.findAll();\r\n\t  }\r\n\r\n\t  public long countAuthors() {\r\n\t    return authorRepository.count();\r\n\t  }\r\n\r\n\t  public long countTutorials() {\r\n\t    return tutorialRepository.count();\r\n\t  }\r\n\r\n}```\r\n\r\n\r\n**Tutorial Resolver**\r\n\r\n    ```import org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.coxautodev.graphql.tools.GraphQLResolver;\r\nimport com.example.demo.model.Author;\r\nimport com.example.demo.model.Tutorial;\r\nimport com.example.demo.repository.AuthorRepository;\r\n\r\n@Component\r\npublic class TutorialResolver implements GraphQLResolver&lt;Tutorial&gt; {\r\n\r\n\t @Autowired\r\n\t  private AuthorRepository authorRepository;\r\n\r\n\t  public TutorialResolver(AuthorRepository authorRepository) {\r\n\t    this.authorRepository = authorRepository;\r\n\t  }\r\n\r\n\t  public Author getAuthor(Tutorial tutorial) {\r\n\t    return authorRepository.findById(tutorial.getAuthor().getId()).orElseThrow(null);\r\n\t  }\r\n}```\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/spgraphql_demo\r\nspring.datasource.username=login\r\nspring.datasource.password=admin@123\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.main.web-application-type=none\r\n\r\n\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39;","body":"<p>I am trying to save the data in the database[PostgresQL] using graphql with JPA, spring-boot. I have created the schema and created the resolver.\nI have created the Repository for the same.\nWhile running the main java class it shows the below error.\nIt shows the error in resolver like there is no root resolver for the query type query.</p>\n<pre><code>    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.3.jar:2.5.3]\n    at com.example.demo.DemographqlApplication.main(DemographqlApplication.java:9) ~[main/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.SchemaClassScannerError: No Root resolvers for query type 'Query' found!  Provide one or more com.coxautodev.graphql.tools.GraphQLQueryResolver to the builder.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 18 common frames omitted\nCaused by: com.coxautodev.graphql.tools.SchemaClassScannerError: No Root resolvers for query type 'Query' found!  Provide one or more com.coxautodev.graphql.tools.GraphQLQueryResolver to the builder.\n    at com.coxautodev.graphql.tools.SchemaClassScanner$RootTypesHolder.createRootType(SchemaClassScanner.kt:424) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner$RootTypesHolder.&lt;init&gt;(SchemaClassScanner.kt:405) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:78) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:151) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:157) ~[graphql-java-tools-5.2.4.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:57) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319.CGLIB$schemaParser$2(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319$$FastClassBySpringCGLIB$$52dead8e.invoke(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.9.jar:5.3.9]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$7201a319.schemaParser(&lt;generated&gt;) ~[graphql-spring-boot-autoconfigure-5.0.2.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 19 common frames omitted```\n\n**Model/autor.java**\n\n    @Entity\npublic class Author { \n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      private Long id;\n\n      @Column(name = &quot;name&quot;, nullable = false)\n      private String name;\n\n      @Column(name = &quot;age&quot;)\n      private Integer age;\n\n      public Author() {\n      }\n\n      public Author(Long id) {\n        this.id = id;\n      }\n\n      public Author(String name, Integer age) {\n        this.name = name;\n        this.age = age;\n      }\n\n      public Long getId() {\n        return id;\n      }\n\n      public String getName() {\n        return name;\n      }\n      \n      public void setName(String name) {\n         this.name=name; \n      }\n      \n      public void setAge(Integer age) {\n          this.age=age;\n          \n      }\n      public Integer getAge() {\n            return age;\n          }\n\n      @Override\n      public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\n      }\n\n\n}\n\n**model/tutorial.java**\n\n    ```@Entity\npublic class Tutorial {\n    @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      private Long id;\n\n      @Column(name = &quot;title&quot;, nullable = false)\n      private String title;\n\n      @Column(name = &quot;description&quot;)\n      private String description;\n\n      @ManyToOne\n      @JoinColumn(name = &quot;author_id&quot;, nullable = false, updatable = false)\n      private Author author;\n\n      public Tutorial() {\n      }\n\n      public Tutorial(String title, String description, Author author) {\n        this.title = title;\n        this.description = description;\n        this.author = author;\n      }\n\n      public Long getId() {\n        return id;\n      }\n\n      public String getTitle() {\n        return title;\n      }\n\n      public void setTitle(String title) {\n        this.title = title;\n      }\n\n      public String getDescription() {\n        return description;\n      }\n\n      public void setDescription(String description) {\n        this.description = description;\n      }\n\n      public Author getAuthor() {\n        return author;\n      }\n\n      public void setAuthor(Author author) {\n        this.author = author;\n      }\n\n      @Override\n      public String toString() {\n        return &quot;Tutorial [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;, author=&quot; + author + &quot;]&quot;;\n      }\n\n}```\n\n**Author Repository**\n\n    ```import org.springframework.data.jpa.repository.*;\nimport com.example.demo.model.Author;\npublic interface AuthorRepository extends JpaRepository&lt;Author, Long&gt;{\n\n}```\n\n\n**Tutorial repository**\n\n    ```import com.example.demo.model.Tutorial;\nimport org.springframework.data.jpa.repository.*;\n\npublic interface TutorialRepository extends JpaRepository&lt;Tutorial, Long&gt; {}```\n\n**Mutation resolver**\n\n    ``` import java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport com.example.demo.model.Author;\nimport com.example.demo.model.Tutorial;\nimport com.example.demo.repository.AuthorRepository;\nimport com.example.demo.repository.TutorialRepository;\n\n//import graphql.kickstart.tools.GraphQLMutationResolver;\nimport javassist.NotFoundException;\nimport com.coxautodev.graphql.tools.GraphQLMutationResolver;\n\n@Component\npublic class Mutation implements GraphQLMutationResolver {\n    private AuthorRepository authorRepository;\n      private TutorialRepository tutorialRepository;\n\n      @Autowired\n      public Mutation(AuthorRepository authorRepository, TutorialRepository tutorialRepository) {\n        this.authorRepository = authorRepository;\n        this.tutorialRepository = tutorialRepository;\n      }\n\n      public Author createAuthor(String name, Integer age) {\n        Author author = new Author();\n        author.setName(name);\n        author.setAge(age);\n\n        authorRepository.save(author);\n\n        return author;\n      }\n\n      public Tutorial createTutorial(String title, String description, Long authorId) {\n        Tutorial tutorial = new Tutorial();\n        tutorial.setAuthor(new Author(authorId));\n        tutorial.setTitle(title);\n        tutorial.setDescription(description);\n\n        tutorialRepository.save(tutorial);\n\n        return tutorial;\n      }\n\n      public boolean deleteTutorial(Long id) {\n        tutorialRepository.deleteById(id);\n        return true;\n      }\n\n      public Tutorial updateTutorial(Long id, String title, String description) throws NotFoundException {\n        Optional&lt;Tutorial&gt; optTutorial = tutorialRepository.findById(id);\n\n        if (optTutorial.isPresent()) {\n          Tutorial tutorial = optTutorial.get();\n\n          if (title != null)\n            tutorial.setTitle(title);\n          if (description != null)\n            tutorial.setDescription(description);\n\n          tutorialRepository.save(tutorial);\n          return tutorial;\n        }\n\n        throw new NotFoundException(&quot;Not found Tutorial to update!&quot;);\n      }\n\n}```\n\n**Query-resolver**\n\n    ```   import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport com.example.demo.model.Author;\nimport com.example.demo.model.Tutorial;\nimport com.example.demo.repository.AuthorRepository;\nimport com.example.demo.repository.TutorialRepository;\n//import com.coxautodev.graphql.tools.GraphQLQueryResolver\n\nimport graphql.kickstart.tools.GraphQLQueryResolver;\n\n\n@Component\npublic class Query implements GraphQLQueryResolver {\n\n     private AuthorRepository authorRepository;\n      private TutorialRepository tutorialRepository;\n\n      @Autowired\n      public Query(AuthorRepository authorRepository, TutorialRepository tutorialRepository) {\n        this.authorRepository = authorRepository;\n        this.tutorialRepository = tutorialRepository;\n      }\n\n      public Iterable&lt;Author&gt; findAllAuthors() {\n        return authorRepository.findAll();\n      }\n\n      public Iterable&lt;Tutorial&gt; findAllTutorials() {\n        return tutorialRepository.findAll();\n      }\n\n      public long countAuthors() {\n        return authorRepository.count();\n      }\n\n      public long countTutorials() {\n        return tutorialRepository.count();\n      }\n\n}```\n\n\n**Tutorial Resolver**\n\n    ```import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport com.coxautodev.graphql.tools.GraphQLResolver;\nimport com.example.demo.model.Author;\nimport com.example.demo.model.Tutorial;\nimport com.example.demo.repository.AuthorRepository;\n\n@Component\npublic class TutorialResolver implements GraphQLResolver&lt;Tutorial&gt; {\n\n     @Autowired\n      private AuthorRepository authorRepository;\n\n      public TutorialResolver(AuthorRepository authorRepository) {\n        this.authorRepository = authorRepository;\n      }\n\n      public Author getAuthor(Tutorial tutorial) {\n        return authorRepository.findById(tutorial.getAuthor().getId()).orElseThrow(null);\n      }\n}```\n\n**application.properties**\n\n    spring.datasource.url=jdbc:postgresql://localhost:5432/spgraphql_demo\nspring.datasource.username=login\nspring.datasource.password=admin@123\nspring.jpa.hibernate.ddl-auto=update\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\nspring.main.web-application-type=none\n\n\n</code></pre>\n"},{"tags":["java","xml","validation","struts2","dtd"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1402949752,"post_id":24251126,"comment_id":37460789,"body_markdown":"You have changed only file name with dtd but not a version of dtd.","body":"You have changed only file name with dtd but not a version of dtd."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1402996252,"post_id":24251126,"comment_id":37476117,"body_markdown":"Your server is proxied :)","body":"Your server is proxied :)"},{"owner":{"account_id":559451,"reputation":91,"user_id":921753,"accept_rate":83,"display_name":"Charles Carrington"},"score":0,"creation_date":1403031386,"post_id":24251126,"comment_id":37498198,"body_markdown":"How can you tell if the server is proxied?  Do you change it in the Administrative Console?","body":"How can you tell if the server is proxied?  Do you change it in the Administrative Console?"},{"owner":{"account_id":559451,"reputation":91,"user_id":921753,"accept_rate":83,"display_name":"Charles Carrington"},"score":0,"creation_date":1403276447,"post_id":24251126,"comment_id":37609691,"body_markdown":"@RomanC, I downloaded the struts-2.3.dtd file and put it in src folder with struts.xml. That with &quot;struts-2.3.dtd&quot; instead of &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot; inside struts.xml worked! The validation works if I do it this way. Why can&#39;t it work from Apache? I verified that &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot; works in my browser, but it doesn&#39;t work in struts.xml.","body":"@RomanC, I downloaded the struts-2.3.dtd file and put it in src folder with struts.xml. That with &quot;struts-2.3.dtd&quot; instead of &quot;<a href=\"http://struts.apache.org/dtds/struts-2.3.dtd\" rel=\"nofollow noreferrer\">struts.apache.org/dtds/struts-2.3.dtd</a>&quot; inside struts.xml worked! The validation works if I do it this way. Why can&#39;t it work from Apache? I verified that &quot;<a href=\"http://struts.apache.org/dtds/struts-2.3.dtd\" rel=\"nofollow noreferrer\">struts.apache.org/dtds/struts-2.3.dtd</a>&quot; works in my browser, but it doesn&#39;t work in struts.xml."},{"owner":{"account_id":559451,"reputation":91,"user_id":921753,"accept_rate":83,"display_name":"Charles Carrington"},"score":0,"creation_date":1403276762,"post_id":24251126,"comment_id":37609862,"body_markdown":"@RomanC, I did change &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot; to &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot; as you suggested.","body":"@RomanC, I did change &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot; to &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot; as you suggested."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1403279185,"creation_date":1403279185,"answer_id":24331089,"question_id":24251126,"body_markdown":"For some systems where connection to the outside world is restricted by firewall or the site is temporary unavailable you can modify the location of DTD in the DOCTYPE declaration. You can extract DTD from the one of the core jars and place it for example under `WEB-INF/dtds` and modify DOCTYPE declaration in the following way\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n    \t&quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\r\n    \t&quot;/WEB-INF/dtds/struts-2.3.dtd&quot;&gt;\r\n\r\n \r\n","title":"Can&#39;t get struts.xml to connect to struts-2.0.dtd","body":"<p>For some systems where connection to the outside world is restricted by firewall or the site is temporary unavailable you can modify the location of DTD in the DOCTYPE declaration. You can extract DTD from the one of the core jars and place it for example under <code>WEB-INF/dtds</code> and modify DOCTYPE declaration in the following way</p>\n\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    \"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN\"\n    \"/WEB-INF/dtds/struts-2.3.dtd\"&gt;\n</code></pre>\n"}],"owner":{"account_id":559451,"reputation":91,"user_id":921753,"accept_rate":83,"display_name":"Charles Carrington"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7327,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24331089,"answer_count":1,"score":3,"last_activity_date":1636457621,"creation_date":1402948291,"question_id":24251126,"body_markdown":"I am working with Struts 2 in Rational Application Developer (RAD) v 7.5.3.\r\n\r\nI keep getting the following warning in my `struts.xml` file:\r\n\r\nThe file cannot be validated as the XML Schema `http://struts.apache.org/dtds/struts-2.0.dtd` that is specified as describing the syntax of the file cannot be located.\r\n\r\nI have the `struts.xml` file in the `src` folder.\r\n\r\nThe Struts 2 jar file I&#39;m using is `struts2-core-2.3.16.3.jar`.\r\n\r\nI have the following in the `struts.xml` file:\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n\r\nI&#39;ve tried changing the `struts-2.0.dtd` to `struts-2.3.dtd`, so that it would look like this:\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;&gt;\r\n\r\n(When I first posted this question, I forgot to change the `&quot;DTD Struts Configuration 2.0&quot;` to `&quot;DTD Struts Configuration 2.3&quot;` in the second example above.  I corrected it but still encountered the problem afterwards.  \r\n\r\nThanks Roman C for pointing that out though.)\r\n\r\nBut it is still unable to connect for some reason.\r\n\r\nI put those Struts URLs in my browser to see if my browser could access them, and they could.  When you access the URLs in the browser, the browser prompts you to download the file.\r\n\r\nI can run my sample Struts 2 app, but this validation warning won&#39;t go away.  \r\n\r\nWhat might be causing it and how to get rid of the warning?\r\n\r\n\r\n\r\n&lt;b&gt;Update:&lt;/b&gt;\r\n\r\nI have tried\r\n\r\n    &lt;!DOCTYPE struts-config PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 1.1//EN&quot;\r\n        &quot;http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd&quot;&gt;\r\n\r\nAnd that worked.  Obviously, I got validation errors because my workspace is using Struts 2, not Struts 1.  But the URL worked.\r\n\r\nI have tried\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;&gt;\r\n\r\nAnd it didn&#39;t work.  I even tried\r\n\r\n    &lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\r\n        &quot;http://jakarta.apache.org/struts/dtds/struts-2.3.dtd&quot;&gt;\r\n\r\nAnd it still didn&#39;t work.\r\n\r\nI&#39;m using Struts 2 vs. 2.3.16.3.\r\n\r\nFor some reason, it doesn&#39;t like the first string in the &lt;b&gt;`!DOCTYPE`&lt;/b&gt; tag.\r\n\r\nIf the first string in the &lt;b&gt;`!DOCTYPE`&lt;/b&gt; tag is anything other than:\r\n\r\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 1.1//EN&quot;\r\n\r\nThan the URL in the second string in the &lt;b&gt;`!DOCTYPE`&lt;/b&gt; tag is inaccessible no matter what it is and cannot be read in RAD.\r\n\r\n\r\n\r\n","title":"Can&#39;t get struts.xml to connect to struts-2.0.dtd","body":"<p>I am working with Struts 2 in Rational Application Developer (RAD) v 7.5.3.</p>\n<p>I keep getting the following warning in my <code>struts.xml</code> file:</p>\n<p>The file cannot be validated as the XML Schema <code>http://struts.apache.org/dtds/struts-2.0.dtd</code> that is specified as describing the syntax of the file cannot be located.</p>\n<p>I have the <code>struts.xml</code> file in the <code>src</code> folder.</p>\n<p>The Struts 2 jar file I'm using is <code>struts2-core-2.3.16.3.jar</code>.</p>\n<p>I have the following in the <code>struts.xml</code> file:</p>\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n    &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n</code></pre>\n<p>I've tried changing the <code>struts-2.0.dtd</code> to <code>struts-2.3.dtd</code>, so that it would look like this:</p>\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\n    &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;&gt;\n</code></pre>\n<p>(When I first posted this question, I forgot to change the <code>&quot;DTD Struts Configuration 2.0&quot;</code> to <code>&quot;DTD Struts Configuration 2.3&quot;</code> in the second example above.  I corrected it but still encountered the problem afterwards.</p>\n<p>Thanks Roman C for pointing that out though.)</p>\n<p>But it is still unable to connect for some reason.</p>\n<p>I put those Struts URLs in my browser to see if my browser could access them, and they could.  When you access the URLs in the browser, the browser prompts you to download the file.</p>\n<p>I can run my sample Struts 2 app, but this validation warning won't go away.</p>\n<p>What might be causing it and how to get rid of the warning?</p>\n<p><b>Update:</b></p>\n<p>I have tried</p>\n<pre><code>&lt;!DOCTYPE struts-config PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 1.1//EN&quot;\n    &quot;http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd&quot;&gt;\n</code></pre>\n<p>And that worked.  Obviously, I got validation errors because my workspace is using Struts 2, not Struts 1.  But the URL worked.</p>\n<p>I have tried</p>\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\n    &quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;&gt;\n</code></pre>\n<p>And it didn't work.  I even tried</p>\n<pre><code>&lt;!DOCTYPE struts PUBLIC\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;\n    &quot;http://jakarta.apache.org/struts/dtds/struts-2.3.dtd&quot;&gt;\n</code></pre>\n<p>And it still didn't work.</p>\n<p>I'm using Struts 2 vs. 2.3.16.3.</p>\n<p>For some reason, it doesn't like the first string in the <b><code>!DOCTYPE</code></b> tag.</p>\n<p>If the first string in the <b><code>!DOCTYPE</code></b> tag is anything other than:</p>\n<pre><code>&quot;-//Apache Software Foundation//DTD Struts Configuration 1.1//EN&quot;\n</code></pre>\n<p>Than the URL in the second string in the <b><code>!DOCTYPE</code></b> tag is inaccessible no matter what it is and cannot be read in RAD.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636458691,"post_id":69897385,"comment_id":123557126,"body_markdown":"@ManyToMany(cascade = { CascadeType.MERGE }) what if you change to CascadeType.ALL ?","body":"@ManyToMany(cascade = { CascadeType.MERGE }) what if you change to CascadeType.ALL ?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636458808,"post_id":69897385,"comment_id":123557175,"body_markdown":"Like with this only the merge operation get propagated, but not save ... I think ...","body":"Like with this only the merge operation get propagated, but not save ... I think ..."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1636459146,"post_id":69897385,"comment_id":123557300,"body_markdown":"I think that CascadeType.ALL  it is not the solution because using this it will also write into the Operation table that is a typological table !!!","body":"I think that CascadeType.ALL  it is not the solution because using this it will also write into the Operation table that is a typological table !!!"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1636459517,"post_id":69897385,"comment_id":123557462,"body_markdown":"@ArthurKlezovich anyway I tried also to use the CascadeType.ALL but still not perform the INSERT query related to this second level ManyToMany relationship","body":"@ArthurKlezovich anyway I tried also to use the CascadeType.ALL but still not perform the INSERT query related to this second level ManyToMany relationship"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636460393,"post_id":69897385,"comment_id":123557809,"body_markdown":"Did you change it both on the User and UserType entities ?","body":"Did you change it both on the User and UserType entities ?"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1636461423,"post_id":69897385,"comment_id":123558195,"body_markdown":"@ArthurKlezovich I confirm you that I cannot use CascateType.ALL on the User because in this way it will add a new record in the typological. It is not the solution","body":"@ArthurKlezovich I confirm you that I cannot use CascateType.ALL on the User because in this way it will add a new record in the typological. It is not the solution"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636457574,"creation_date":1636457574,"question_id":69897385,"body_markdown":"I am working on a Spring Boot project using Spring Data JPA and I am finding the following problem trying to correctly map some pre-existing database tables on entity classes.\r\n\r\nIn particualr I am finding some difficulties trying to map a specific **Many To Many** relationship (It is strange because I was able to do a similar mapping in the same example).\r\n\r\nMy DB tables are something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R7raf.png\r\n\r\n**NOTE:** the  **user_type** and **operation** tables are typological and contains fixed values.\r\n\r\nMy problem is that the **Many To Many** relationship between **UserType** and **Operation** table is not working on my code.\r\n\r\nFollowing my classes (the table&#39;s name are slightly different on the DB):\r\n\r\n1) **User**: it represents a user on a portal:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;portal_user&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class User implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 5062673109048808267L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate int id;\r\n\t\t\r\n\t\t@Column(name = &quot;first_name&quot;)\r\n\t\tprivate String firstName;\r\n\t\t\r\n\t\t@Column(name = &quot;middle_name&quot;)\r\n\t\tprivate String middleName;\r\n\t\t\r\n\t\t@Column(name = &quot;surname&quot;)\r\n\t\tprivate String surname;\r\n\t\t\r\n\t\t@Column(name = &quot;sex&quot;)\r\n\t\tprivate char sex;\r\n\t\t\r\n\t\t@Column(name = &quot;birthdate&quot;)\r\n\t\tprivate Date birthdate;\r\n\t\t\r\n\t\t@Column(name = &quot;tex_code&quot;)\r\n\t\tprivate String taxCode;\r\n\t\t\r\n\t\t@Column(name = &quot;e_mail&quot;)\r\n\t\tprivate String eMail;\r\n\t\t\r\n\t\t@Column(name = &quot;contact_number&quot;)\r\n\t\tprivate String contactNumber;\r\n\t\t\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\t@Column(name = &quot;created_at&quot;)\r\n\t\tprivate Date createdAt;\r\n\t\t\r\n\t\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t\t@JsonManagedReference\r\n\t\tprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n\t\t@JoinTable(\r\n\t\t\tname = &quot;portal_user_user_type&quot;, \r\n\t\t\tjoinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n\t\t\tinverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n\t\t)\r\n\t\tSet&lt;UserType&gt; userTypes;\r\n\t\t\r\n\r\n\r\n\t\tpublic User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\r\n\t\t\t\tString eMail, String contactNumber, Date createdAt) {\r\n\t\t\tsuper();\r\n\t\t\tthis.firstName = firstName;\r\n\t\t\tthis.middleName = middleName;\r\n\t\t\tthis.surname = surname;\r\n\t\t\tthis.sex = sex;\r\n\t\t\tthis.birthdate = birthdate;\r\n\t\t\tthis.taxCode = taxCode;\r\n\t\t\tthis.eMail = eMail;\r\n\t\t\tthis.contactNumber = contactNumber;\r\n\t\t\tthis.createdAt = createdAt;\r\n\t\t}\r\n\t\t\t\r\n\r\n\t}\r\n\r\n**NOTE:** It contains this **Many To Many** relationship between the **portal_user** table (mapped by **User**) and the ** user_type** table (mapped by **UserType). It works fine, the problem is not here.\r\n\r\n\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n    @JoinTable(\r\n        name = &quot;portal_user_user_type&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n    )\r\n    Set&lt;UserType&gt; userTypes;\r\n\r\n\r\n2) **Address**: an user can have multiple addesses:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;address&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor \r\n\tpublic class Address implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 6956974379644960088L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate int id;\r\n\t\t\r\n\t\t@Column(name = &quot;country&quot;)\r\n\t\tprivate String country;\r\n\t\t\r\n\t\t@Column(name = &quot;province&quot;)\r\n\t\tprivate String province;\r\n\t\t\r\n\t\t@Column(name = &quot;zip_code&quot;)\r\n\t\tprivate String zipCode;\r\n\t\t\r\n\t\t@Column(name = &quot;street&quot;)\r\n\t\tprivate String street;\r\n\t\t\r\n\t\t@Column(name = &quot;notes&quot;)\r\n\t\tprivate String notes;\r\n\t\t\r\n\t\t\r\n\t\t@ManyToOne\r\n\t\t@EqualsAndHashCode.Exclude\t\t\t// Needed by Lombock in &quot;Many To One&quot; relathionship to avoid error\r\n\t\t@JoinColumn(name = &quot;fk_user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@JsonBackReference\r\n\t\tprivate User user;\r\n\r\n\t\tpublic Address(String country, String province, String zipCode, String street, String notes, User user) {\r\n\t\t\tsuper();\r\n\t\t\tthis.country = country;\r\n\t\t\tthis.province = province;\r\n\t\t\tthis.zipCode = zipCode;\r\n\t\t\tthis.street = street;\r\n\t\t\tthis.notes = notes;\r\n\t\t\tthis.user = user;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n3) **UserType**: it represents a type of user.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_type&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class UserType implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 6904959949570501298L;\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;type_name&quot;)\r\n    \tprivate String typeName;\r\n    \t\r\n    \t@Column(name = &quot;description&quot;)\r\n    \tprivate String description;\r\n    \r\n    \t@ManyToMany(cascade = { CascadeType.MERGE })\r\n        @JoinTable(\r\n            name = &quot;user_type_operation&quot;, \r\n            joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \r\n            inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\r\n        )\r\n        Set&lt;Operation&gt; operations;\r\n    \t\r\n    \r\n    \tpublic UserType() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t\r\n    \tpublic UserType(String typeName, String description) {\r\n    \t\tsuper();\r\n    \t\tthis.typeName = typeName;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    }\r\n\r\n**NOTE:** HERE IS WHEERE I FOUND A PROBLEM as you can see this contains this **Many To Many** relationship betwenn **user_type** table (mapped by **UserType) and the **operation** table (mapped by **Operation). This is a many to many relationship because a specific user type can have multiple possible operation and an operation can be related to multiple user types).\r\n\r\n\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n    @JoinTable(\r\n        name = &quot;user_type_operation&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\r\n    )\r\n    Set&lt;Operation&gt; operations;\r\n\r\nThe problem is that all the information are saved in my database except this last relationship.\r\n\r\nto test it I created this JUnit test method:\r\n\r\n\t@SpringBootTest()\r\n\t@ContextConfiguration(classes = GetUserWsApplication.class)\r\n\t@TestMethodOrder(OrderAnnotation.class)\r\n\tpublic class UserRepositoryTest {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate UsersRepository userRepository;\r\n\t\t\r\n\t\t@Autowired \r\n\t\tUserTypeRepository userTypeRepository;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tOperationRepository operationRepository;\r\n\t\t\r\n\t\t\r\n\t\t@Test\r\n\t\t@Order(1)\r\n\t\tpublic void testInserAdmintUser() {\r\n\t\t\t\r\n\t\t\t//System.out.println(10/0); \r\n\t\t\tUser user = new User(&quot;Luca&quot;, null, &quot;Verdi&quot;, &#39;M&#39;, new Date(), &quot;XXX&quot;, &quot;xxx@gmail.com&quot;, &quot;329123456&quot;, new Date());\r\n\t\t\t\r\n\t\t\tSet&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n\t\t\taddressesList.add(new Address(&quot;Italy&quot;, &quot;RM&quot;, &quot;00100&quot;, &quot;Via XXX 123&quot;, &quot;near YYY&quot;, user));\r\n\t\t\t\r\n\t\t\tuser.setAddressesList(addressesList);\r\n\t\t\t\r\n\t\t\tList&lt;UserType&gt; userTypesList = userTypeRepository.findAll();\r\n\t\t\t\r\n\t\t\tList&lt;Operation&gt; operationsList = operationRepository.findAll();\r\n\t\t\tSet&lt;Operation&gt; operationSet = new HashSet&lt;Operation&gt;();\r\n\t\t\toperationSet.add(operationsList.get(0));\t\t\t\t\t\t// Constains only ADMIN OPERATION\r\n\t\t\t\r\n\t\t\t//Set&lt;UserType&gt; userTypesSet = new HashSet&lt;UserType&gt;(userTypesList);\r\n\t\t\tSet&lt;UserType&gt; userTypesSet = new HashSet&lt;UserType&gt;();\r\n\t\t\t\r\n\t\t\tuserTypesList.get(0).setOperations(operationSet);\r\n\t\t\t\r\n\t\t\tuserTypesSet.add(userTypesList.get(0));\t\t\t\t\t\t// Contains only ADMIN user type\r\n\t\t\t\r\n\t\t\tuser.setUserTypes(userTypesSet);\t\r\n\t\t\t\r\n\t\t\tuserRepository.save(user);\r\n\t\t\tassertTrue(true);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIn this method I first set a list of addresses on the **User** instance that is the main object that must be persisted.\r\n\r\nThen I set a **UserType** list (at the moment only a specific type related to the **ADMIN** type) and I associate a specific operation to this user type.\r\n\r\nRunning this method, before persist the object with the **save()** method I inspected the **user** object to be saved with the debugger and I obtained this:\r\n\r\n    user\t(id=124)\t\r\n    \taddressesList\tHashSet&lt;E&gt;  (id=146)\t\r\n    \tbirthdate\tDate  (id=148)\t\r\n    \tcontactNumber\t329123456&quot; (id=151)\t\r\n    \tcreatedAt\tDate  (id=156)\t\r\n    \teMail\txxx@gmail.com&quot; (id=157)\t\r\n    \tfirstName\tLuca&quot; (id=158)\t\r\n    \tid\t0\t\r\n    \tmiddleName\tnull\t\r\n    \tsex\tM\t\r\n    \tsurname\tVerdi&quot; (id=159)\t\r\n    \ttaxCode\tXXX&quot; (id=160)\t\r\n    \tuserTypes\tHashSet&lt;E&gt;  (id=131)\t\r\n    \t\t[0]\tUserType  (id=143)\t\r\n    \t\t\tdescription\tAdmin user type !!!&quot; (id=164)\t\r\n    \t\t\tid\t7\t\r\n    \t\t\toperations\tHashSet&lt;E&gt;  (id=166)\t\r\n    \t\t\ttypeName\tADMIN&quot; (id=167)\t\r\n    Add new expression\t\r\n\r\nSo as you can see it contains all the information including:\r\n\r\n - The **userTypes** HashSet: this information will be correctly stored into my **portal_user_user_type** Many To Many relationship table.\r\n - The **userTypes --&gt; operations** HashSet: HERE MY PROBLEM. This information is not stored into **user_type_operation** Many To Many relationship table.\r\n\r\nMy unit test method doesn&#39;t fail. I have no exception. All the information are correctly stored into the DB except the information that represent this **Many To Many** relationship defined into the **UserType** entity class:\r\n\r\n\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n    @JoinTable(\r\n        name = &quot;user_type_operation&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\r\n    )\r\n    Set&lt;Operation&gt; operations;\r\n\r\nThis is the Hibernate output in my console:\r\n\r\n    USER: com.easydefi.users.entity.User@6e4bccc\r\n    Hibernate: \r\n        insert \r\n        into\r\n            portal_user\r\n            (birthdate, contact_number, created_at, e_mail, first_name, middle_name, sex, surname, tex_code) \r\n        values\r\n            (?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: \r\n        insert \r\n        into\r\n            address\r\n            (country, notes, province, street, fk_user_id, zip_code) \r\n        values\r\n            (?, ?, ?, ?, ?, ?)\r\n    Hibernate: \r\n        insert \r\n        into\r\n            portal_user_user_type\r\n            (portal_user_id_fk, user_type_id_fk) \r\n        values\r\n            (?, ?)\r\n\r\nAs you can see it seems that it is performing all the INSERT query except the one that have to insert into the **user_type_operation**\r\n\r\nWhy? What could be wrong? What am I missing? How can I try to fix this issue in order to fix this problem?\r\n\r\n\r\n\r\n\t\r\n\r\n","title":"Why this Hibernate mapping is inserting all the relationship except this &quot;second level&quot; Many To Many relationship?","body":"<p>I am working on a Spring Boot project using Spring Data JPA and I am finding the following problem trying to correctly map some pre-existing database tables on entity classes.</p>\n<p>In particualr I am finding some difficulties trying to map a specific <strong>Many To Many</strong> relationship (It is strange because I was able to do a similar mapping in the same example).</p>\n<p>My DB tables are something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/R7raf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7raf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>NOTE:</strong> the  <strong>user_type</strong> and <strong>operation</strong> tables are typological and contains fixed values.</p>\n<p>My problem is that the <strong>Many To Many</strong> relationship between <strong>UserType</strong> and <strong>Operation</strong> table is not working on my code.</p>\n<p>Following my classes (the table's name are slightly different on the DB):</p>\n<ol>\n<li><p><strong>User</strong>: it represents a user on a portal:</p>\n<p>@Entity\n@Table(name = &quot;portal_user&quot;)\n@Getter\n@Setter\npublic class User implements Serializable {</p>\n<pre><code> private static final long serialVersionUID = 5062673109048808267L;\n\n @Id\n @Column(name = &quot;id&quot;)\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private int id;\n\n @Column(name = &quot;first_name&quot;)\n private String firstName;\n\n @Column(name = &quot;middle_name&quot;)\n private String middleName;\n\n @Column(name = &quot;surname&quot;)\n private String surname;\n\n @Column(name = &quot;sex&quot;)\n private char sex;\n\n @Column(name = &quot;birthdate&quot;)\n private Date birthdate;\n\n @Column(name = &quot;tex_code&quot;)\n private String taxCode;\n\n @Column(name = &quot;e_mail&quot;)\n private String eMail;\n\n @Column(name = &quot;contact_number&quot;)\n private String contactNumber;\n\n @Temporal(TemporalType.DATE)\n @Column(name = &quot;created_at&quot;)\n private Date createdAt;\n\n @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n @JsonManagedReference\n private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n\n @ManyToMany(cascade = { CascadeType.MERGE })\n @JoinTable(\n     name = &quot;portal_user_user_type&quot;, \n     joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n     inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n )\n Set&lt;UserType&gt; userTypes;\n\n\n\n public User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\n         String eMail, String contactNumber, Date createdAt) {\n     super();\n     this.firstName = firstName;\n     this.middleName = middleName;\n     this.surname = surname;\n     this.sex = sex;\n     this.birthdate = birthdate;\n     this.taxCode = taxCode;\n     this.eMail = eMail;\n     this.contactNumber = contactNumber;\n     this.createdAt = createdAt;\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p><strong>NOTE:</strong> It contains this <strong>Many To Many</strong> relationship between the <strong>portal_user</strong> table (mapped by <strong>User</strong>) and the ** user_type** table (mapped by **UserType). It works fine, the problem is not here.</p>\n<pre><code>@ManyToMany(cascade = { CascadeType.MERGE })\n@JoinTable(\n    name = &quot;portal_user_user_type&quot;, \n    joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n    inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n)\nSet&lt;UserType&gt; userTypes;\n</code></pre>\n<ol start=\"2\">\n<li><p><strong>Address</strong>: an user can have multiple addesses:</p>\n<p>@Entity\n@Table(name = &quot;address&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address implements Serializable {</p>\n<pre><code> private static final long serialVersionUID = 6956974379644960088L;\n\n @Id\n @Column(name = &quot;id&quot;)\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private int id;\n\n @Column(name = &quot;country&quot;)\n private String country;\n\n @Column(name = &quot;province&quot;)\n private String province;\n\n @Column(name = &quot;zip_code&quot;)\n private String zipCode;\n\n @Column(name = &quot;street&quot;)\n private String street;\n\n @Column(name = &quot;notes&quot;)\n private String notes;\n\n\n @ManyToOne\n @EqualsAndHashCode.Exclude          // Needed by Lombock in &quot;Many To One&quot; relathionship to avoid error\n @JoinColumn(name = &quot;fk_user_id&quot;, referencedColumnName = &quot;id&quot;)\n @JsonBackReference\n private User user;\n\n public Address(String country, String province, String zipCode, String street, String notes, User user) {\n     super();\n     this.country = country;\n     this.province = province;\n     this.zipCode = zipCode;\n     this.street = street;\n     this.notes = notes;\n     this.user = user;\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p><strong>UserType</strong>: it represents a type of user.</p>\n<p>@Entity\n@Table(name = &quot;user_type&quot;)\n@Getter\n@Setter\npublic class UserType implements Serializable {</p>\n<pre><code> private static final long serialVersionUID = 6904959949570501298L;\n\n @Id\n @Column(name = &quot;id&quot;)\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private int id;\n\n @Column(name = &quot;type_name&quot;)\n private String typeName;\n\n @Column(name = &quot;description&quot;)\n private String description;\n\n @ManyToMany(cascade = { CascadeType.MERGE })\n @JoinTable(\n     name = &quot;user_type_operation&quot;, \n     joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \n     inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\n )\n Set&lt;Operation&gt; operations;\n\n\n public UserType() {\n     super();\n     // TODO Auto-generated constructor stub\n }\n\n public UserType(String typeName, String description) {\n     super();\n     this.typeName = typeName;\n     this.description = description;\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p><strong>NOTE:</strong> HERE IS WHEERE I FOUND A PROBLEM as you can see this contains this <strong>Many To Many</strong> relationship betwenn <strong>user_type</strong> table (mapped by **UserType) and the <strong>operation</strong> table (mapped by **Operation). This is a many to many relationship because a specific user type can have multiple possible operation and an operation can be related to multiple user types).</p>\n<pre><code>@ManyToMany(cascade = { CascadeType.MERGE })\n@JoinTable(\n    name = &quot;user_type_operation&quot;, \n    joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \n    inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\n)\nSet&lt;Operation&gt; operations;\n</code></pre>\n<p>The problem is that all the information are saved in my database except this last relationship.</p>\n<p>to test it I created this JUnit test method:</p>\n<pre><code>@SpringBootTest()\n@ContextConfiguration(classes = GetUserWsApplication.class)\n@TestMethodOrder(OrderAnnotation.class)\npublic class UserRepositoryTest {\n    \n    @Autowired\n    private UsersRepository userRepository;\n    \n    @Autowired \n    UserTypeRepository userTypeRepository;\n    \n    @Autowired\n    OperationRepository operationRepository;\n    \n    \n    @Test\n    @Order(1)\n    public void testInserAdmintUser() {\n        \n        //System.out.println(10/0); \n        User user = new User(&quot;Luca&quot;, null, &quot;Verdi&quot;, 'M', new Date(), &quot;XXX&quot;, &quot;xxx@gmail.com&quot;, &quot;329123456&quot;, new Date());\n        \n        Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n        addressesList.add(new Address(&quot;Italy&quot;, &quot;RM&quot;, &quot;00100&quot;, &quot;Via XXX 123&quot;, &quot;near YYY&quot;, user));\n        \n        user.setAddressesList(addressesList);\n        \n        List&lt;UserType&gt; userTypesList = userTypeRepository.findAll();\n        \n        List&lt;Operation&gt; operationsList = operationRepository.findAll();\n        Set&lt;Operation&gt; operationSet = new HashSet&lt;Operation&gt;();\n        operationSet.add(operationsList.get(0));                        // Constains only ADMIN OPERATION\n        \n        //Set&lt;UserType&gt; userTypesSet = new HashSet&lt;UserType&gt;(userTypesList);\n        Set&lt;UserType&gt; userTypesSet = new HashSet&lt;UserType&gt;();\n        \n        userTypesList.get(0).setOperations(operationSet);\n        \n        userTypesSet.add(userTypesList.get(0));                     // Contains only ADMIN user type\n        \n        user.setUserTypes(userTypesSet);    \n        \n        userRepository.save(user);\n        assertTrue(true);\n        \n    }\n    \n}\n</code></pre>\n<p>In this method I first set a list of addresses on the <strong>User</strong> instance that is the main object that must be persisted.</p>\n<p>Then I set a <strong>UserType</strong> list (at the moment only a specific type related to the <strong>ADMIN</strong> type) and I associate a specific operation to this user type.</p>\n<p>Running this method, before persist the object with the <strong>save()</strong> method I inspected the <strong>user</strong> object to be saved with the debugger and I obtained this:</p>\n<pre><code>user    (id=124)    \n    addressesList   HashSet&lt;E&gt;  (id=146)    \n    birthdate   Date  (id=148)  \n    contactNumber   329123456&quot; (id=151) \n    createdAt   Date  (id=156)  \n    eMail   xxx@gmail.com&quot; (id=157) \n    firstName   Luca&quot; (id=158)  \n    id  0   \n    middleName  null    \n    sex M   \n    surname Verdi&quot; (id=159) \n    taxCode XXX&quot; (id=160)   \n    userTypes   HashSet&lt;E&gt;  (id=131)    \n        [0] UserType  (id=143)  \n            description Admin user type !!!&quot; (id=164)   \n            id  7   \n            operations  HashSet&lt;E&gt;  (id=166)    \n            typeName    ADMIN&quot; (id=167) \nAdd new expression  \n</code></pre>\n<p>So as you can see it contains all the information including:</p>\n<ul>\n<li>The <strong>userTypes</strong> HashSet: this information will be correctly stored into my <strong>portal_user_user_type</strong> Many To Many relationship table.</li>\n<li>The <strong>userTypes --&gt; operations</strong> HashSet: HERE MY PROBLEM. This information is not stored into <strong>user_type_operation</strong> Many To Many relationship table.</li>\n</ul>\n<p>My unit test method doesn't fail. I have no exception. All the information are correctly stored into the DB except the information that represent this <strong>Many To Many</strong> relationship defined into the <strong>UserType</strong> entity class:</p>\n<pre><code>@ManyToMany(cascade = { CascadeType.MERGE })\n@JoinTable(\n    name = &quot;user_type_operation&quot;, \n    joinColumns = { @JoinColumn(name = &quot;fk_user_type_id&quot;) }, \n    inverseJoinColumns = { @JoinColumn(name = &quot;fk_operation_id&quot;) }\n)\nSet&lt;Operation&gt; operations;\n</code></pre>\n<p>This is the Hibernate output in my console:</p>\n<pre><code>USER: com.easydefi.users.entity.User@6e4bccc\nHibernate: \n    insert \n    into\n        portal_user\n        (birthdate, contact_number, created_at, e_mail, first_name, middle_name, sex, surname, tex_code) \n    values\n        (?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: \n    insert \n    into\n        address\n        (country, notes, province, street, fk_user_id, zip_code) \n    values\n        (?, ?, ?, ?, ?, ?)\nHibernate: \n    insert \n    into\n        portal_user_user_type\n        (portal_user_id_fk, user_type_id_fk) \n    values\n        (?, ?)\n</code></pre>\n<p>As you can see it seems that it is performing all the INSERT query except the one that have to insert into the <strong>user_type_operation</strong></p>\n<p>Why? What could be wrong? What am I missing? How can I try to fix this issue in order to fix this problem?</p>\n"},{"tags":["java","csv","arraylist"],"comments":[{"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"score":0,"creation_date":1510329835,"post_id":47226689,"comment_id":81403679,"body_markdown":"You Infact don&#39;t need two loops. In first case loop itself, add to set instead of list. If add returns false for a line, also add to a list of duplicate lines... And then print the duplicate list..","body":"You Infact don&#39;t need two loops. In first case loop itself, add to set instead of list. If add returns false for a line, also add to a list of duplicate lines... And then print the duplicate list.."},{"owner":{"account_id":312412,"reputation":1786,"user_id":626467,"accept_rate":94,"display_name":"Peter"},"score":0,"creation_date":1510332261,"post_id":47226689,"comment_id":81405166,"body_markdown":"thank you Optional, I adapted my code in the while-loop to `boolean add = validationFile.add(line);\n                if(!add){\n                    System.out.println(line);\n                }` and it works fine","body":"thank you Optional, I adapted my code in the while-loop to <code>boolean add = validationFile.add(line);                 if(!add){                     System.out.println(line);                 }</code> and it works fine"}],"answers":[{"tags":[],"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510331715,"creation_date":1510329938,"answer_id":47226834,"question_id":47226689,"body_markdown":"Create a `Set` while reading lines from the input csv file, anytime `add()` element to set returns false print the line as it is duplicate line.\r\n\r\nIf you want list of all duplicate lines then create a `List` which will have lines that returned `false` when tried `add()` to `Set`.\r\n\r\n**NOTE:** \r\n\r\n - I have simulated your file reading by using a static data. \r\n - Small note, if your data only contains numbers and no alphabets then you do not need case-insensitive comparison. \r\n - If your data contains alphabets then also you do not need a special Comparator as you can insert data into `Set` using `add(line.toLowerCase())` which will ensure that all lines are compared with lower case and then added to `Set`.\r\n\r\n----\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class ReadValidationFile {\r\n    \tstatic List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\r\n    \tstatic {\r\n    \t\tvalidationFile.add(&quot;2017-10-29 00:00:00.0,\\&quot;1005\\&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894&quot;);\r\n    \t\tvalidationFile.add(&quot;2017-10-29 00:00:00.0,\\&quot;1010\\&quot;,-125529,0,0,0,420743,0,0,256,420743,256,420743&quot;);\r\n    \t\tvalidationFile.add(&quot;2017-10-29 00:00:00.0,\\&quot;1005\\&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894&quot;);\r\n    \t\tvalidationFile.add(&quot;2017-10-29 00:00:00.0,\\&quot;1013\\&quot;,-10625,0,0,-687,599098,0,0,379,599098,379,599098&quot;);\r\n    \t\tvalidationFile.add(&quot;2017-10-29 00:00:00.0,\\&quot;1604\\&quot;,-1794.9,0,0,-3.99,4081.07,0,0,361,4081.07,361,4081.07&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Option 1 : unique lines only \r\n    \t\tSet&lt;String&gt; uniqueLinesOnly = new HashSet&lt;&gt;(validationFile);\r\n    \r\n    \t\t// Option 2 : unique lines and duplicate lines \r\n    \t\tSet&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\r\n    \t\tSet&lt;String&gt; duplicateLines = new HashSet&lt;&gt;();\r\n    \t\tfor (String line : validationFile) {\r\n    \t\t\tif (!uniqueLines.add(line.toLowerCase())) {\r\n    \t\t\t\tduplicateLines.add(line.toLowerCase());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Option 3 : unique lines and duplicate lines by Java Streams\r\n    \t\tSet&lt;String&gt; uniquesJava8 = new HashSet&lt;&gt;();\r\n    \t\tList&lt;String&gt; duplicatesJava8 = validationFile\r\n    \t\t\t\t\t\t\t\t\t.stream()\r\n    \t\t\t\t\t\t\t\t\t.filter(element -&gt; !uniquesJava8.add(element.toLowerCase()))\r\n    \t\t\t\t\t\t\t\t\t.map(element -&gt; element.toLowerCase())\r\n    \t\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n    \t}\r\n    }","title":"Java: check CSV file on duplicate lines using ArrayList","body":"<p>Create a <code>Set</code> while reading lines from the input csv file, anytime <code>add()</code> element to set returns false print the line as it is duplicate line.</p>\n\n<p>If you want list of all duplicate lines then create a <code>List</code> which will have lines that returned <code>false</code> when tried <code>add()</code> to <code>Set</code>.</p>\n\n<p><strong>NOTE:</strong> </p>\n\n<ul>\n<li>I have simulated your file reading by using a static data. </li>\n<li>Small note, if your data only contains numbers and no alphabets then you do not need case-insensitive comparison. </li>\n<li>If your data contains alphabets then also you do not need a special Comparator as you can insert data into <code>Set</code> using <code>add(line.toLowerCase())</code> which will ensure that all lines are compared with lower case and then added to <code>Set</code>.</li>\n</ul>\n\n<hr>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class ReadValidationFile {\n    static List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\n    static {\n        validationFile.add(\"2017-10-29 00:00:00.0,\\\"1005\\\",-10227,0,0,0,332894,0,0,222,332894,222,332894\");\n        validationFile.add(\"2017-10-29 00:00:00.0,\\\"1010\\\",-125529,0,0,0,420743,0,0,256,420743,256,420743\");\n        validationFile.add(\"2017-10-29 00:00:00.0,\\\"1005\\\",-10227,0,0,0,332894,0,0,222,332894,222,332894\");\n        validationFile.add(\"2017-10-29 00:00:00.0,\\\"1013\\\",-10625,0,0,-687,599098,0,0,379,599098,379,599098\");\n        validationFile.add(\"2017-10-29 00:00:00.0,\\\"1604\\\",-1794.9,0,0,-3.99,4081.07,0,0,361,4081.07,361,4081.07\");\n    }\n\n    public static void main(String[] args) {\n        // Option 1 : unique lines only \n        Set&lt;String&gt; uniqueLinesOnly = new HashSet&lt;&gt;(validationFile);\n\n        // Option 2 : unique lines and duplicate lines \n        Set&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\n        Set&lt;String&gt; duplicateLines = new HashSet&lt;&gt;();\n        for (String line : validationFile) {\n            if (!uniqueLines.add(line.toLowerCase())) {\n                duplicateLines.add(line.toLowerCase());\n            }\n        }\n\n        // Option 3 : unique lines and duplicate lines by Java Streams\n        Set&lt;String&gt; uniquesJava8 = new HashSet&lt;&gt;();\n        List&lt;String&gt; duplicatesJava8 = validationFile\n                                    .stream()\n                                    .filter(element -&gt; !uniquesJava8.add(element.toLowerCase()))\n                                    .map(element -&gt; element.toLowerCase())\n                                    .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510330866,"creation_date":1510330866,"answer_id":47227094,"question_id":47226689,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class ReadValidationFile {\r\n        public static void main(String[] args){       \r\n            List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\r\n            try(BufferedReader br = new BufferedReader(new FileReader(&quot;validation_small.csv&quot;));){\r\n                String line;\r\n                while((line = br.readLine())!= null){\r\n                    validationFile.add(line);\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                //e.printStackTrace();\r\n                System.out.println(&quot;file not found &quot; + e.getMessage());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Set&lt;String&gt; uniques = new HashSet&lt;&gt;();        \r\n            List&lt;String&gt; duplicates = validationFile.stream().filter(i-&gt;!uniques.add(i)).collect(Collectors.toList());\r\n            System.out.println(duplicates);\r\n        }\r\n    }\r\n","title":"Java: check CSV file on duplicate lines using ArrayList","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class ReadValidationFile {\n    public static void main(String[] args){       \n        List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\n        try(BufferedReader br = new BufferedReader(new FileReader(\"validation_small.csv\"));){\n            String line;\n            while((line = br.readLine())!= null){\n                validationFile.add(line);\n            }\n        } catch (FileNotFoundException e) {\n            //e.printStackTrace();\n            System.out.println(\"file not found \" + e.getMessage());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Set&lt;String&gt; uniques = new HashSet&lt;&gt;();        \n        List&lt;String&gt; duplicates = validationFile.stream().filter(i-&gt;!uniques.add(i)).collect(Collectors.toList());\n        System.out.println(duplicates);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510333870,"creation_date":1510331274,"answer_id":47227211,"question_id":47226689,"body_markdown":"The other answer(s) correctly state that you should be using Set instead of List. But for the sake of learning, let&#39;s have a look at your code and see where you went wrong.\r\n\r\n    \r\n    public class ReadValidationFile {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\r\n    \r\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;validation_small.csv&quot;));){\r\n\r\nSemicolon is unnecessary.\r\n    \r\n            String line;\r\n            while((line = br.readLine())!= null){\r\n                validationFile.add(line);\r\n            }\r\n\r\nThis can all be achieved in just one line:&lt;br/&gt; `List&lt;String&gt; validationFile = Files.readAllLines(Paths.get(&quot;validation_small.csv&quot;), &quot;utf-8&quot;);`\r\n\r\n        } catch (FileNotFoundException e) {\r\n            //e.printStackTrace();\r\n            System.out.println(&quot;file not found &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        List&lt;String&gt; validationFileCopy = Collections.unmodifiableList(validationFile);\r\n\r\nActually, this is not a copy. It is just an unmodifiable view of the same list.\r\n    \r\n        for(String line : validationFile){\r\n            int comp = Collections.binarySearch(validationFileCopy,line,new ComparatorLine());\r\n\r\nYou might as well just search `validationFile` itself. However, you are calling `binarySearch` which only works on sorted lists, but your list is not sorted. See [documentation](https://docs.oracle.com/javase/9/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-).\r\n\r\n            if (comp &lt;= 0){\r\n                System.out.println(line);\r\n            }\r\n\r\nYou are printing when it&#39;s *not* found (`comp &lt;= 0`). If the search succeeds, it will return a non-negative number (`comp &gt;= 0`). But another problem is that you are searching the whole list for each element, and the search will obviously always succeed (that is, if your list was sorted).\r\n\r\nSave yourself all the trouble and use a Set instead. And, using Java 8 streams, the whole program can be reduced to the following:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSet&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\r\n\t\tFiles.lines(Paths.get(&quot;&quot;, &quot;utf-8&quot;))\r\n\t\t\t\t.filter(line -&gt; !uniqueLines.add(line))\r\n\t\t\t\t.forEach(System.out::println);\r\n\t}\r\n\r\nIf you really need to ignore case when comparing strings (from your given data, it looks like it doesn&#39;t make any difference since it&#39;s just numbers), then store each unique line by first uppercasing and then lowercasing it. This apparently cumbersome technique is necessary because just lowercasing is not enough if dealing with non-English language text. The equalsIgnoreCase method also does this.\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSet&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\r\n\t\tFiles.lines(Paths.get(&quot;&quot;, &quot;utf-8&quot;))\r\n\t\t\t\t.filter(line -&gt; !uniqueLines.add(line.toUpperCase().toLowerCase()))\r\n\t\t\t\t.forEach(System.out::println);\r\n\t}\r\n","title":"Java: check CSV file on duplicate lines using ArrayList","body":"<p>The other answer(s) correctly state that you should be using Set instead of List. But for the sake of learning, let's have a look at your code and see where you went wrong.</p>\n\n<pre><code>public class ReadValidationFile {\n\npublic static void main(String[] args) {\n\n    List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\n\n    try(BufferedReader br = new BufferedReader(new FileReader(\"validation_small.csv\"));){\n</code></pre>\n\n<p>Semicolon is unnecessary.</p>\n\n<pre><code>        String line;\n        while((line = br.readLine())!= null){\n            validationFile.add(line);\n        }\n</code></pre>\n\n<p>This can all be achieved in just one line:<br/> <code>List&lt;String&gt; validationFile = Files.readAllLines(Paths.get(\"validation_small.csv\"), \"utf-8\");</code></p>\n\n<pre><code>    } catch (FileNotFoundException e) {\n        //e.printStackTrace();\n        System.out.println(\"file not found \" + e.getMessage());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    List&lt;String&gt; validationFileCopy = Collections.unmodifiableList(validationFile);\n</code></pre>\n\n<p>Actually, this is not a copy. It is just an unmodifiable view of the same list.</p>\n\n<pre><code>    for(String line : validationFile){\n        int comp = Collections.binarySearch(validationFileCopy,line,new ComparatorLine());\n</code></pre>\n\n<p>You might as well just search <code>validationFile</code> itself. However, you are calling <code>binarySearch</code> which only works on sorted lists, but your list is not sorted. See <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<pre><code>        if (comp &lt;= 0){\n            System.out.println(line);\n        }\n</code></pre>\n\n<p>You are printing when it's <em>not</em> found (<code>comp &lt;= 0</code>). If the search succeeds, it will return a non-negative number (<code>comp &gt;= 0</code>). But another problem is that you are searching the whole list for each element, and the search will obviously always succeed (that is, if your list was sorted).</p>\n\n<p>Save yourself all the trouble and use a Set instead. And, using Java 8 streams, the whole program can be reduced to the following:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Set&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\n    Files.lines(Paths.get(\"\", \"utf-8\"))\n            .filter(line -&gt; !uniqueLines.add(line))\n            .forEach(System.out::println);\n}\n</code></pre>\n\n<p>If you really need to ignore case when comparing strings (from your given data, it looks like it doesn't make any difference since it's just numbers), then store each unique line by first uppercasing and then lowercasing it. This apparently cumbersome technique is necessary because just lowercasing is not enough if dealing with non-English language text. The equalsIgnoreCase method also does this.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Set&lt;String&gt; uniqueLines = new HashSet&lt;&gt;();\n    Files.lines(Paths.get(\"\", \"utf-8\"))\n            .filter(line -&gt; !uniqueLines.add(line.toUpperCase().toLowerCase()))\n            .forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":312412,"reputation":1786,"user_id":626467,"accept_rate":94,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47227211,"answer_count":3,"score":0,"last_activity_date":1636457389,"creation_date":1510329445,"question_id":47226689,"body_markdown":"I have a CSV file with this content:\r\n\r\n`2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894\r\n2017-10-29 00:00:00.0,&quot;1010&quot;,-125529,0,0,0,420743,0,0,256,420743,256,420743\r\n2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894\r\n2017-10-29 00:00:00.0,&quot;1013&quot;,-10625,0,0,-687,599098,0,0,379,599098,379,599098\r\n2017-10-29 00:00:00.0,&quot;1604&quot;,-1794.9,0,0,-3.99,4081.07,0,0,361,4081.07,361,4081.07`\r\n\r\nSo lines 1 and 3 are duplicates.\r\nNow I want to read the file in and print out duplicate lines in the console.\r\n\r\nI set up this Java code reading the file in and throwing it line by line into an ArrayList. Then I create an immutable\r\ncopy, loop through the ArrayList and in the binarySearch I use the immutable copy of the ArrayList:\r\n\r\n    \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class ReadValidationFile {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\r\n\r\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;validation_small.csv&quot;));){\r\n\r\n            String line;\r\n            while((line = br.readLine())!= null){\r\n                validationFile.add(line);\r\n            }\r\n\r\n        } catch (FileNotFoundException e) {\r\n            //e.printStackTrace();\r\n            System.out.println(&quot;file not found &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        List&lt;String&gt; validationFileCopy = Collections.unmodifiableList(validationFile);\r\n\r\n        for(String line : validationFile){\r\n            int comp = Collections.binarySearch(validationFileCopy,line,new ComparatorLine());\r\n            if (comp &lt;= 0){\r\n                System.out.println(line);\r\n            }\r\n\r\n        }\r\n    }\r\n    }\r\n\r\nComparator Class:\r\n\r\n    \r\n    import java.util.Comparator;\r\n\r\n    public class ComparatorLine implements Comparator&lt;String&gt; {\r\n    @Override\r\n    public int compare(String s1, String s2) {\r\n        return s1.compareToIgnoreCase(s2);\r\n    }\r\n    }\r\n\r\n\r\nI expect this line to be printed:\r\n\r\n    \r\n    2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894\r\n\r\nBut the output I get is this:\r\n\r\n    \r\n    2017-10-29 00:00:00.0,&quot;1010&quot;,-125529,0,0,0,420743,0,0,256,420743,256,420743\r\n\r\nCan you help me please to see what I am doing wrong? My comparator I think is okay. What is wrong with my\r\nArrayLists?","title":"Java: check CSV file on duplicate lines using ArrayList","body":"<p>I have a CSV file with this content:</p>\n<p><code>2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894 2017-10-29 00:00:00.0,&quot;1010&quot;,-125529,0,0,0,420743,0,0,256,420743,256,420743 2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894 2017-10-29 00:00:00.0,&quot;1013&quot;,-10625,0,0,-687,599098,0,0,379,599098,379,599098 2017-10-29 00:00:00.0,&quot;1604&quot;,-1794.9,0,0,-3.99,4081.07,0,0,361,4081.07,361,4081.07</code></p>\n<p>So lines 1 and 3 are duplicates.\nNow I want to read the file in and print out duplicate lines in the console.</p>\n<p>I set up this Java code reading the file in and throwing it line by line into an ArrayList. Then I create an immutable\ncopy, loop through the ArrayList and in the binarySearch I use the immutable copy of the ArrayList:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ReadValidationFile {\n\npublic static void main(String[] args) {\n\n    List&lt;String&gt; validationFile = new ArrayList&lt;&gt;();\n\n    try(BufferedReader br = new BufferedReader(new FileReader(&quot;validation_small.csv&quot;));){\n\n        String line;\n        while((line = br.readLine())!= null){\n            validationFile.add(line);\n        }\n\n    } catch (FileNotFoundException e) {\n        //e.printStackTrace();\n        System.out.println(&quot;file not found &quot; + e.getMessage());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    List&lt;String&gt; validationFileCopy = Collections.unmodifiableList(validationFile);\n\n    for(String line : validationFile){\n        int comp = Collections.binarySearch(validationFileCopy,line,new ComparatorLine());\n        if (comp &lt;= 0){\n            System.out.println(line);\n        }\n\n    }\n}\n}\n</code></pre>\n<p>Comparator Class:</p>\n<pre><code>import java.util.Comparator;\n\npublic class ComparatorLine implements Comparator&lt;String&gt; {\n@Override\npublic int compare(String s1, String s2) {\n    return s1.compareToIgnoreCase(s2);\n}\n}\n</code></pre>\n<p>I expect this line to be printed:</p>\n<pre><code>2017-10-29 00:00:00.0,&quot;1005&quot;,-10227,0,0,0,332894,0,0,222,332894,222,332894\n</code></pre>\n<p>But the output I get is this:</p>\n<pre><code>2017-10-29 00:00:00.0,&quot;1010&quot;,-125529,0,0,0,420743,0,0,256,420743,256,420743\n</code></pre>\n<p>Can you help me please to see what I am doing wrong? My comparator I think is okay. What is wrong with my\nArrayLists?</p>\n"},{"tags":["java","xml","xsd","xml-parsing","jaxb"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636456934,"creation_date":1636456934,"answer_id":69897237,"question_id":69894938,"body_markdown":"It depends how much you know about the schema. If you know everything except the pattern then writing an XPath expression is very easy. \r\n\r\nIf all you know is the type name &quot;Text_FIN_16x_Type&quot; then it&#39;s rather more difficult (because, for example, the type might be defined as a union type, or as a restriction of some other global type, or as a restriction of a local anonymous type).\r\n\r\nI all you know is the element name &quot;code1&quot; then it&#39;s harder still, because there are any number of ways the type of an element can be defined - and it&#39;s not even guaranteed that there is only one declaration of &quot;code1&quot; in the schema (in your schema, it&#39;s a local element declaration and therefore doesn&#39;t have to have a globally unique name).\r\n\r\nGenerally you have a much better chance if you try to access a compiled schema that&#39;s already been processed by a schema processor. If you&#39;re in Java then you could consider:\r\n\r\n(a) the Xerces schema access API (https://www.w3.org/Submission/2004/SUBM-xmlschema-api-20040309/)\r\n\r\n(b) the Saxon SCM file format, which represents a compiled schema component model as an XML document.\r\n\r\n(c) the saxon:schema() extension function, which provides an XPath API to explore a compiled schema.\r\n\r\nThe advantage of going in at this level is that there are a lot of details you don&#39;t need to worry about, because they&#39;ve already been taken care of - xs:include and xs:import, named model groups and attribute groups, substitution groups, etc etc.","title":"Extraction of Restrictions from an XSD document using java","body":"<p>It depends how much you know about the schema. If you know everything except the pattern then writing an XPath expression is very easy.</p>\n<p>If all you know is the type name &quot;Text_FIN_16x_Type&quot; then it's rather more difficult (because, for example, the type might be defined as a union type, or as a restriction of some other global type, or as a restriction of a local anonymous type).</p>\n<p>I all you know is the element name &quot;code1&quot; then it's harder still, because there are any number of ways the type of an element can be defined - and it's not even guaranteed that there is only one declaration of &quot;code1&quot; in the schema (in your schema, it's a local element declaration and therefore doesn't have to have a globally unique name).</p>\n<p>Generally you have a much better chance if you try to access a compiled schema that's already been processed by a schema processor. If you're in Java then you could consider:</p>\n<p>(a) the Xerces schema access API (<a href=\"https://www.w3.org/Submission/2004/SUBM-xmlschema-api-20040309/\" rel=\"nofollow noreferrer\">https://www.w3.org/Submission/2004/SUBM-xmlschema-api-20040309/</a>)</p>\n<p>(b) the Saxon SCM file format, which represents a compiled schema component model as an XML document.</p>\n<p>(c) the saxon:schema() extension function, which provides an XPath API to explore a compiled schema.</p>\n<p>The advantage of going in at this level is that there are a lot of details you don't need to worry about, because they've already been taken care of - xs:include and xs:import, named model groups and attribute groups, substitution groups, etc etc.</p>\n"}],"owner":{"account_id":4081269,"reputation":393,"user_id":3351702,"accept_rate":82,"display_name":"wissem46"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69897237,"answer_count":1,"score":-1,"last_activity_date":1636456934,"creation_date":1636446579,"question_id":69894938,"body_markdown":"is it programmatically possible to get restrictions values applied on an XSD element in an XSD file using **java** ? \r\nin the XSD example below, **how can i extract the pattern value related to element with name &quot;code1&quot;** ?\r\n\r\n&#39;&#39;&#39;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\r\n    &lt;xs:element name=&quot;customer&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\r\n\t\t&lt;xs:element name=&quot;age&quot;  type=&quot;stringMaxSize2&quot;/&gt;\r\n\t\t&lt;xs:element name=&quot;code1&quot;  type=&quot;Text_FIN_16x_Type&quot;/&gt;\r\n\t\t&lt;xs:element name=&quot;code2&quot;  type=&quot;Identifier_FIN_4Ea_Type&quot;/&gt;\r\n                &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\r\n             &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n    &lt;xs:element name=&quot;phone-number&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n    &lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:maxLength value=&quot;5&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n    &lt;xs:simpleType name=&quot;stringMaxSize2&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:maxLength value=&quot;2&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n    &lt;xs:simpleType name=&quot;Text_FIN_16x_Type&quot;&gt;\r\n\t\t\r\n\t\t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n\t\t\t&lt;xs:minLength value=&quot;1&quot;/&gt;\r\n\t\t\t&lt;xs:maxLength value=&quot;16&quot;/&gt;\r\n\t\t\t&lt;xs:pattern value=&quot;[0-9a-zA-Z/\\-\\?:\\(\\)\\.,&amp;apos;\\+ ]{1,16}&quot;/&gt;\r\n\t\t&lt;/xs:restriction&gt;\r\n      &lt;/xs:simpleType&gt;\r\n\r\n     &lt;xs:simpleType name=&quot;Identifier_FIN_4Ea_Type&quot;&gt;\r\n\t\t\r\n\t\t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n\t\t\t&lt;xs:minLength value=&quot;4&quot;/&gt;\r\n\t\t\t&lt;xs:maxLength value=&quot;4&quot;/&gt;\r\n\t\t\t&lt;xs:pattern value=&quot;[A-Z]{4}&quot;/&gt;\r\n\t\t&lt;/xs:restriction&gt;\r\n\t&lt;/xs:simpleType&gt;\r\n\r\n&lt;/xs:schema&gt; &#39;&#39;&#39;","title":"Extraction of Restrictions from an XSD document using java","body":"<p>is it programmatically possible to get restrictions values applied on an XSD element in an XSD file using <strong>java</strong> ?\nin the XSD example below, <strong>how can i extract the pattern value related to element with name &quot;code1&quot;</strong> ?</p>\n<p>'''\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;</p>\n<pre><code>&lt;xs:element name=&quot;customer&quot;&gt;\n    &lt;xs:complexType&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;name&quot; type=&quot;stringMaxSize5&quot;/&gt;\n    &lt;xs:element name=&quot;age&quot;  type=&quot;stringMaxSize2&quot;/&gt;\n    &lt;xs:element name=&quot;code1&quot;  type=&quot;Text_FIN_16x_Type&quot;/&gt;\n    &lt;xs:element name=&quot;code2&quot;  type=&quot;Identifier_FIN_4Ea_Type&quot;/&gt;\n            &lt;xs:element ref=&quot;phone-number&quot; maxOccurs=&quot;2&quot;/&gt;\n         &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n\n&lt;xs:element name=&quot;phone-number&quot;&gt;\n    &lt;xs:complexType&gt;\n        &lt;xs:sequence/&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n\n&lt;xs:simpleType name=&quot;stringMaxSize5&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:maxLength value=&quot;5&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n&lt;xs:simpleType name=&quot;stringMaxSize2&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:maxLength value=&quot;2&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n&lt;xs:simpleType name=&quot;Text_FIN_16x_Type&quot;&gt;\n    \n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:minLength value=&quot;1&quot;/&gt;\n        &lt;xs:maxLength value=&quot;16&quot;/&gt;\n        &lt;xs:pattern value=&quot;[0-9a-zA-Z/\\-\\?:\\(\\)\\.,&amp;apos;\\+ ]{1,16}&quot;/&gt;\n    &lt;/xs:restriction&gt;\n  &lt;/xs:simpleType&gt;\n\n &lt;xs:simpleType name=&quot;Identifier_FIN_4Ea_Type&quot;&gt;\n    \n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:minLength value=&quot;4&quot;/&gt;\n        &lt;xs:maxLength value=&quot;4&quot;/&gt;\n        &lt;xs:pattern value=&quot;[A-Z]{4}&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n<p>&lt;/xs:schema&gt; '''</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-rest"],"comments":[{"owner":{"account_id":1428292,"reputation":607,"user_id":1351285,"accept_rate":38,"display_name":"Peters_"},"score":0,"creation_date":1636988006,"post_id":69825704,"comment_id":123697637,"body_markdown":"I have the same problem with @BasePathAwareController. Is there any solution other than modyfing paths for all methods?","body":"I have the same problem with @BasePathAwareController. Is there any solution other than modyfing paths for all methods?"},{"owner":{"account_id":7515409,"reputation":111,"user_id":5709025,"display_name":"Yves Galante"},"score":0,"creation_date":1637255741,"post_id":69825704,"comment_id":123783645,"body_markdown":"I open an issue on SpringDataRest : https://github.com/spring-projects/spring-data-rest/issues/2087","body":"I open an issue on SpringDataRest : <a href=\"https://github.com/spring-projects/spring-data-rest/issues/2087\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-rest/issues/2087</a>"}],"answers":[{"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635950298,"creation_date":1635950298,"answer_id":69826778,"question_id":69825704,"body_markdown":"Change `@RepositoryRestController` to `@RestController`:\r\n\r\n```\r\n@RestController @RequestMapping(&quot;/api/widgets&quot;) @RequiredArgsConstructor\r\npublic class WidgetController {\r\n    private final @NotNull WidgetHandler widgetHandler;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\r\n        return ResponseEntity.ok().body(widgetHandler./*...*/);\r\n    }\r\n\r\n    // ...\r\n}\r\n```","title":"Spring Data REST controller must not use @RequestMapping on class level as this would cause double registration with Spring MVC","body":"<p>Change <code>@RepositoryRestController</code> to <code>@RestController</code>:</p>\n<pre><code>@RestController @RequestMapping(&quot;/api/widgets&quot;) @RequiredArgsConstructor\npublic class WidgetController {\n    private final @NotNull WidgetHandler widgetHandler;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\n        return ResponseEntity.ok().body(widgetHandler./*...*/);\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23282722,"reputation":31,"user_id":17365971,"display_name":"Llednar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636456772,"creation_date":1636456772,"answer_id":69897207,"question_id":69825704,"body_markdown":"As from stacktrace, the exception is thrown by isHandler method from the BasePathAwareHandlerMapping class.\r\n\r\n2.5.5\r\n\r\n    \tprotected boolean isHandler(Class&lt;?&gt; beanType) {\r\n\t\t    Class&lt;?&gt; type = ProxyUtils.getUserClass(beanType);\r\n\t\t    return type.isAnnotationPresent(BasePathAwareController.class);\r\n\t    }\r\n\r\n2.5.6\r\n\r\n    \tprotected boolean isHandler(Class&lt;?&gt; beanType) {\r\n        ...\r\n\t\tif (AnnotatedElementUtils.hasAnnotation(type, RequestMapping.class)) {\r\n\t\t\tthrow new IllegalStateException(String.format(AT_REQUEST_MAPPING_ON_TYPE, beanType.getName()));\r\n\t\t}\r\n        ...\r\n\t}\r\n\r\nIf you need the functionalities of spring data rest and you want to use @RepositoryRestController, you can use @RequestMapping (or related @GetMapping, @PostMapping, ...) at method level with the full path.\r\n\r\n    @RepositoryRestController\r\n    @RequiredArgsConstructor\r\n    public class WidgetController {\r\n        private final @NotNull WidgetHandler widgetHandler;\r\n\r\n        @GetMapping(&quot;/api/widgets&quot;)\r\n        public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\r\n            return ResponseEntity.ok().body(widgetHandler./*...*/);\r\n        }\r\n\r\n    // ...\r\n}","title":"Spring Data REST controller must not use @RequestMapping on class level as this would cause double registration with Spring MVC","body":"<p>As from stacktrace, the exception is thrown by isHandler method from the BasePathAwareHandlerMapping class.</p>\n<p>2.5.5</p>\n<pre><code>    protected boolean isHandler(Class&lt;?&gt; beanType) {\n        Class&lt;?&gt; type = ProxyUtils.getUserClass(beanType);\n        return type.isAnnotationPresent(BasePathAwareController.class);\n    }\n</code></pre>\n<p>2.5.6</p>\n<pre><code>    protected boolean isHandler(Class&lt;?&gt; beanType) {\n    ...\n    if (AnnotatedElementUtils.hasAnnotation(type, RequestMapping.class)) {\n        throw new IllegalStateException(String.format(AT_REQUEST_MAPPING_ON_TYPE, beanType.getName()));\n    }\n    ...\n}\n</code></pre>\n<p>If you need the functionalities of spring data rest and you want to use @RepositoryRestController, you can use @RequestMapping (or related @GetMapping, @PostMapping, ...) at method level with the full path.</p>\n<pre><code>@RepositoryRestController\n@RequiredArgsConstructor\npublic class WidgetController {\n    private final @NotNull WidgetHandler widgetHandler;\n\n    @GetMapping(&quot;/api/widgets&quot;)\n    public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\n        return ResponseEntity.ok().body(widgetHandler./*...*/);\n    }\n\n// ...\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1636456772,"creation_date":1635946077,"question_id":69825704,"body_markdown":"Upgrading from Spring Boot 2.5.5 to 2.5.6 triggered errors of this type from my controller tests:\r\n\r\n&gt; Spring Data REST controller WidgetController$$EnhancerBySpringCGLIB$$9dfdd90c_3 must not use @RequestMapping on class level as this would cause double registration with Spring MVC!\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Spring Data REST controller WidgetController$$EnhancerBySpringCGLIB$$9dfdd90c_3 must not use @RequestMapping on class level as this would cause double registration with Spring MVC!\r\n\tat org.springframework.data.rest.webmvc.BasePathAwareHandlerMapping.isHandler(BasePathAwareHandlerMapping.java:165) ~[spring-data-rest-webmvc-3.5.6.jar:3.5.6]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:225) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:213) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:206) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.restHandlerMapping(RepositoryRestMvcConfiguration.java:690) ~[spring-data-rest-webmvc-3.5.6.jar:3.5.6]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\t... 88 common frames omitted\r\n```\r\n\r\nThe controllers follow this pattern:\r\n```\r\n@RepositoryRestController\r\n@RequestMapping(&quot;/api/widgets&quot;)\r\n@RequiredArgsConstructor\r\npublic class WidgetController {\r\n    private final @NotNull WidgetHandler widgetHandler;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\r\n        return ResponseEntity.ok().body(widgetHandler./*...*/);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n","title":"Spring Data REST controller must not use @RequestMapping on class level as this would cause double registration with Spring MVC","body":"<p>Upgrading from Spring Boot 2.5.5 to 2.5.6 triggered errors of this type from my controller tests:</p>\n<blockquote>\n<p>Spring Data REST controller WidgetController$$EnhancerBySpringCGLIB$$9dfdd90c_3 must not use @RequestMapping on class level as this would cause double registration with Spring MVC!</p>\n</blockquote>\n<pre><code>Caused by: java.lang.IllegalStateException: Spring Data REST controller WidgetController$$EnhancerBySpringCGLIB$$9dfdd90c_3 must not use @RequestMapping on class level as this would cause double registration with Spring MVC!\n    at org.springframework.data.rest.webmvc.BasePathAwareHandlerMapping.isHandler(BasePathAwareHandlerMapping.java:165) ~[spring-data-rest-webmvc-3.5.6.jar:3.5.6]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:225) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:213) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:206) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.restHandlerMapping(RepositoryRestMvcConfiguration.java:690) ~[spring-data-rest-webmvc-3.5.6.jar:3.5.6]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.12.jar:5.3.12]\n    ... 88 common frames omitted\n</code></pre>\n<p>The controllers follow this pattern:</p>\n<pre><code>@RepositoryRestController\n@RequestMapping(&quot;/api/widgets&quot;)\n@RequiredArgsConstructor\npublic class WidgetController {\n    private final @NotNull WidgetHandler widgetHandler;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Widget&gt;&gt; widgets() {\n        return ResponseEntity.ok().body(widgetHandler./*...*/);\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636456342,"creation_date":1636456342,"answer_id":69897114,"question_id":69896942,"body_markdown":"the fields in Elasticsearch seem all to have lower case names. Your properties have camel case. So you need to define the name:\r\n\r\n```java\r\n@Field(type = FieldType.Text, name =&quot;podname&quot;)\r\nprivate String podName ; \r\n```\r\n\r\nIf you do not define a `FieldType` or use `FieldType.Auto`, then no mapping is written and Elasticsearch will try to guess the type. You should define the correct type to make sure that the conversion is done as desired.\r\n\r\nEspecially for the `timestamp` field you should define a date format that matches what you have in the index.\r\n\r\nAs the index exists you should make sure that you use the same type in the entity definition that is already used in the index.\r\n","title":"Issues with Mapping Elastic Index fields with Java Fields","body":"<p>the fields in Elasticsearch seem all to have lower case names. Your properties have camel case. So you need to define the name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(type = FieldType.Text, name =&quot;podname&quot;)\nprivate String podName ; \n</code></pre>\n<p>If you do not define a <code>FieldType</code> or use <code>FieldType.Auto</code>, then no mapping is written and Elasticsearch will try to guess the type. You should define the correct type to make sure that the conversion is done as desired.</p>\n<p>Especially for the <code>timestamp</code> field you should define a date format that matches what you have in the index.</p>\n<p>As the index exists you should make sure that you use the same type in the entity definition that is already used in the index.</p>\n"}],"owner":{"account_id":1475375,"reputation":1118,"user_id":1385883,"accept_rate":43,"display_name":"vr3w3c9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69897114,"answer_count":1,"score":0,"last_activity_date":1636456342,"creation_date":1636455581,"question_id":69896942,"body_markdown":"Current Im working on a spring boot project to fetch the data from specific Elastic search index using Spring Data ElasticSearch (version 4.1.7). Im able to connect to elastic search and fetch all the data associated with a specific index. But there are some fields in the index which are returning null value.  Where as the actual value exist in the index in elastic search .  \r\nIm having issues in retriving the specific fields due to incorrect field types. I have created a Document Class which \r\n \r\n\r\n    @Document(indexName = &quot;netstat*&quot;)\r\n    @Setting(settingPath = &quot;static/es-settings.json&quot;)\r\n    public class NetworkStats {\r\n\t@Id\r\n\t@Field(type = FieldType.Keyword)\r\n\tprivate String id; \r\n\t\r\n\t@Field\r\n\tprivate String timeStamp ;\r\n\t\r\n\t@Field(type = FieldType.Text)\r\n\tprivate String podName ; \r\n\t\r\n\t@Field(type = FieldType.Text)\r\n\tprivate String iporHost ;\r\n\t\r\n\t@Field(type = FieldType.Auto)\r\n\tprivate String connectionCount ; \r\n\t\r\n\t@Field(type = FieldType.Text)\r\n\tprivate String command ;\t\r\n    }\r\n\r\nApart from the above I have getters &amp; setters for the field as well defined.Im unabel to retrieve the values for fields connectionCount, iporHost, podName, timeStamp. Though the fields have values in the elastic index.  \r\nSample data from ElasticSearch below \r\n\r\n    {\r\n                &quot;_index&quot;: &quot;netstat-2021.11.09&quot;,\r\n                &quot;_type&quot;: &quot;_doc&quot;,\r\n                &quot;_id&quot;: &quot;0sJmA30BW7LXXVrK0nCg&quot;,\r\n                &quot;_score&quot;: 1.0,\r\n                &quot;_source&quot;: {\r\n                    &quot;podname&quot;: &quot;logindeployment-5479f7-4f2qr&quot;,\r\n                    &quot;input&quot;: {\r\n                        &quot;type&quot;: &quot;log&quot;\r\n                    },\r\n                    &quot;iporhost&quot;: &quot;6200&quot;,\r\n                    &quot;tags&quot;: [],\r\n                    &quot;command&quot;: &quot;OUTESTAB&quot;,\r\n                    &quot;agent&quot;: {\r\n                        &quot;version&quot;: &quot;7.15.1&quot;,\r\n                        &quot;id&quot;: &quot;e8feeb4e-1f9e-41b2-bcba-38e507d176db&quot;,\r\n                        &quot;type&quot;: &quot;filebeat&quot;,\r\n                        &quot;hostname&quot;: &quot;BL1726L&quot;,\r\n                        &quot;name&quot;: &quot;BL1726L&quot;,\r\n                        &quot;ephemeral_id&quot;: &quot;c2859ece-3e95-4204-909d-af59322b9fa2&quot;\r\n                    },\r\n                    &quot;timestamp&quot;: &quot;05-10-21T13:17:25.014719626&quot;,\r\n                    &quot;ecs&quot;: {\r\n                        &quot;version&quot;: &quot;1.11.0&quot;\r\n                    },\r\n                    &quot;connectionscount&quot;: &quot;2&quot;,\r\n                    &quot;@timestamp&quot;: &quot;2021-11-09T06:31:29.104Z&quot;,\r\n                    &quot;log&quot;: {\r\n                        &quot;offset&quot;: 1002,\r\n                        &quot;file&quot;: {\r\n                            &quot;path&quot;: &quot;D:\\\\elastic_stack\\\\data\\\\log\\\\netStats.log&quot;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\nRequire help on how to retrieve the data for the above mentioned fields.I guess there is some issue with field mapping. Any help on this is much appreciated.","title":"Issues with Mapping Elastic Index fields with Java Fields","body":"<p>Current Im working on a spring boot project to fetch the data from specific Elastic search index using Spring Data ElasticSearch (version 4.1.7). Im able to connect to elastic search and fetch all the data associated with a specific index. But there are some fields in the index which are returning null value.  Where as the actual value exist in the index in elastic search .<br />\nIm having issues in retriving the specific fields due to incorrect field types. I have created a Document Class which</p>\n<pre><code>@Document(indexName = &quot;netstat*&quot;)\n@Setting(settingPath = &quot;static/es-settings.json&quot;)\npublic class NetworkStats {\n@Id\n@Field(type = FieldType.Keyword)\nprivate String id; \n\n@Field\nprivate String timeStamp ;\n\n@Field(type = FieldType.Text)\nprivate String podName ; \n\n@Field(type = FieldType.Text)\nprivate String iporHost ;\n\n@Field(type = FieldType.Auto)\nprivate String connectionCount ; \n\n@Field(type = FieldType.Text)\nprivate String command ;    \n}\n</code></pre>\n<p>Apart from the above I have getters &amp; setters for the field as well defined.Im unabel to retrieve the values for fields connectionCount, iporHost, podName, timeStamp. Though the fields have values in the elastic index.<br />\nSample data from ElasticSearch below</p>\n<pre><code>{\n            &quot;_index&quot;: &quot;netstat-2021.11.09&quot;,\n            &quot;_type&quot;: &quot;_doc&quot;,\n            &quot;_id&quot;: &quot;0sJmA30BW7LXXVrK0nCg&quot;,\n            &quot;_score&quot;: 1.0,\n            &quot;_source&quot;: {\n                &quot;podname&quot;: &quot;logindeployment-5479f7-4f2qr&quot;,\n                &quot;input&quot;: {\n                    &quot;type&quot;: &quot;log&quot;\n                },\n                &quot;iporhost&quot;: &quot;6200&quot;,\n                &quot;tags&quot;: [],\n                &quot;command&quot;: &quot;OUTESTAB&quot;,\n                &quot;agent&quot;: {\n                    &quot;version&quot;: &quot;7.15.1&quot;,\n                    &quot;id&quot;: &quot;e8feeb4e-1f9e-41b2-bcba-38e507d176db&quot;,\n                    &quot;type&quot;: &quot;filebeat&quot;,\n                    &quot;hostname&quot;: &quot;BL1726L&quot;,\n                    &quot;name&quot;: &quot;BL1726L&quot;,\n                    &quot;ephemeral_id&quot;: &quot;c2859ece-3e95-4204-909d-af59322b9fa2&quot;\n                },\n                &quot;timestamp&quot;: &quot;05-10-21T13:17:25.014719626&quot;,\n                &quot;ecs&quot;: {\n                    &quot;version&quot;: &quot;1.11.0&quot;\n                },\n                &quot;connectionscount&quot;: &quot;2&quot;,\n                &quot;@timestamp&quot;: &quot;2021-11-09T06:31:29.104Z&quot;,\n                &quot;log&quot;: {\n                    &quot;offset&quot;: 1002,\n                    &quot;file&quot;: {\n                        &quot;path&quot;: &quot;D:\\\\elastic_stack\\\\data\\\\log\\\\netStats.log&quot;\n                    }\n                }\n            }\n        },\n</code></pre>\n<p>Require help on how to retrieve the data for the above mentioned fields.I guess there is some issue with field mapping. Any help on this is much appreciated.</p>\n"},{"tags":["java","xml","xslt","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1636455427,"post_id":69896687,"comment_id":123555864,"body_markdown":"Why do you need `org.apache.xerces.jaxp.SAXParserFactoryImpl`? Can&#39;t you use the default SAX parser of the JRE/JDK? If you need Xerces, have you added it also as a dependency?","body":"Why do you need <code>org.apache.xerces.jaxp.SAXParserFactoryImpl</code>? Can&#39;t you use the default SAX parser of the JRE/JDK? If you need Xerces, have you added it also as a dependency?"},{"owner":{"account_id":22957737,"reputation":23,"user_id":17088081,"display_name":"shashi sharma"},"score":0,"creation_date":1636456014,"post_id":69896687,"comment_id":123556131,"body_markdown":"We need org.apache.xerces.jaxp.SAXParserFactoryImpl  Because the SAX parser(of jdk,jre ) was not working with our xsl-stylesheet. Then I added the  maven dependency for Saxon-Parsor.","body":"We need org.apache.xerces.jaxp.SAXParserFactoryImpl  Because the SAX parser(of jdk,jre ) was not working with our xsl-stylesheet. Then I added the  maven dependency for Saxon-Parsor."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1636826406,"post_id":69896687,"comment_id":123663070,"body_markdown":"If the JDK parser &quot;wasn&#39;t working&quot; then it might be better to work out what the problem was, rather than trying a different parser. What was the failure?","body":"If the JDK parser &quot;wasn&#39;t working&quot; then it might be better to work out what the problem was, rather than trying a different parser. What was the failure?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636456085,"creation_date":1636456085,"answer_id":69897048,"question_id":69896687,"body_markdown":"In this line\r\n\r\n    System.setProperty(&quot;javax.xml.parsers.SAXParserFactory&quot;,\r\n        &quot;org.apache.xerces.jaxp.SAXParserFactoryImpl&quot;);\r\n\r\nyou&#39;re saying that you want to use Apache Xerces as your XML parser, but it looks is if it&#39;s not available on the classpath.\r\n\r\n(Note that for most purposes these days, using the version of Xerces that&#39;s built into the JDK works perfectly well. There was a time when the JDK version had some nasty bugs, but that seems to have been fixed a while ago.)\r\n","title":"I am getting exception in XSLT saxon parser","body":"<p>In this line</p>\n<pre><code>System.setProperty(&quot;javax.xml.parsers.SAXParserFactory&quot;,\n    &quot;org.apache.xerces.jaxp.SAXParserFactoryImpl&quot;);\n</code></pre>\n<p>you're saying that you want to use Apache Xerces as your XML parser, but it looks is if it's not available on the classpath.</p>\n<p>(Note that for most purposes these days, using the version of Xerces that's built into the JDK works perfectly well. There was a time when the JDK version had some nasty bugs, but that seems to have been fixed a while ago.)</p>\n"}],"owner":{"account_id":22957737,"reputation":23,"user_id":17088081,"display_name":"shashi sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69897048,"answer_count":1,"score":1,"last_activity_date":1636456204,"creation_date":1636454518,"question_id":69896687,"body_markdown":"I have added a maven dependency for saxen parser, then sending the xml and xsl as a string parameter to the saxonTransform(String xml, String xsl). But getting some exception.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.saxon/Saxon-HE --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\r\n    &lt;version&gt;10.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nSAXON TRANSFORMER(XSLT) CODE:\r\n\r\n\r\n\r\n    public static String saxonTransform(String xml, String xsl) throws TransformerException, FileNotFoundException {\r\n    \r\n    String result = &quot;&quot;;\r\n    \r\n    System.setProperty(&quot;javax.xml.parsers.SAXParserFactory&quot;, &quot;org.apache.xerces.jaxp.SAXParserFactoryImpl&quot;);\r\n    \r\n    System.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;, &quot;net.sf.saxon.TransformerFactoryImpl&quot;);\r\n    \r\n    StringWriter out = new StringWriter();\r\n    \r\n    TransformerFactory tFactory = TransformerFactory.newInstance();\r\n    \r\n    tFactory.setAttribute(FeatureKeys.DTD_VALIDATION, false);\r\n    \r\n    StreamSource xmlSource = new StreamSource(new StringReader(xml));\r\n    \r\n    StreamSource xslSource = new StreamSource(new StringReader(xsl));\r\n    \r\n    StreamResult xmlResult = new StreamResult(out);\r\n    \r\n    Transformer transformer = tFactory.newTransformer(xslSource);\r\n    \r\n    transformer.transform(xmlSource, xmlResult);\r\n    \r\n    result = out.toString();\r\n    \r\n    return result;\r\n    \r\n    }\r\n\r\nBut, the given line is not able to transform the xml:\r\n\r\n\r\n\r\n    Transformer transformer = tFactory.newTransformer(xslSource);\r\n\r\n\r\n\r\nGiving the error like:\r\n\r\n\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n    [Handler dispatch failed; nested exception is javax.xml.parsers.FactoryConfigurationError:\r\n    Provider org.apache.xerces.jaxp.SAXParserFactoryImpl not found] with root cause\r\n\r\n","title":"I am getting exception in XSLT saxon parser","body":"<p>I have added a maven dependency for saxen parser, then sending the xml and xsl as a string parameter to the saxonTransform(String xml, String xsl). But getting some exception.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.sf.saxon/Saxon-HE --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n&lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\n&lt;version&gt;10.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>SAXON TRANSFORMER(XSLT) CODE:</p>\n<pre><code>public static String saxonTransform(String xml, String xsl) throws TransformerException, FileNotFoundException {\n\nString result = &quot;&quot;;\n\nSystem.setProperty(&quot;javax.xml.parsers.SAXParserFactory&quot;, &quot;org.apache.xerces.jaxp.SAXParserFactoryImpl&quot;);\n\nSystem.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;, &quot;net.sf.saxon.TransformerFactoryImpl&quot;);\n\nStringWriter out = new StringWriter();\n\nTransformerFactory tFactory = TransformerFactory.newInstance();\n\ntFactory.setAttribute(FeatureKeys.DTD_VALIDATION, false);\n\nStreamSource xmlSource = new StreamSource(new StringReader(xml));\n\nStreamSource xslSource = new StreamSource(new StringReader(xsl));\n\nStreamResult xmlResult = new StreamResult(out);\n\nTransformer transformer = tFactory.newTransformer(xslSource);\n\ntransformer.transform(xmlSource, xmlResult);\n\nresult = out.toString();\n\nreturn result;\n\n}\n</code></pre>\n<p>But, the given line is not able to transform the xml:</p>\n<pre><code>Transformer transformer = tFactory.newTransformer(xslSource);\n</code></pre>\n<p>Giving the error like:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n[Handler dispatch failed; nested exception is javax.xml.parsers.FactoryConfigurationError:\nProvider org.apache.xerces.jaxp.SAXParserFactoryImpl not found] with root cause\n</code></pre>\n"},{"tags":["java","maven","pom.xml","multi-module"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1636377557,"post_id":69883944,"comment_id":123532609,"body_markdown":"Hard to say from the picture, but if my guess is right, you are using IntelliJ.\n\nAs of now there is an open bug for this: https://youtrack.jetbrains.com/issue/IDEA-190202?_ga=2.85220953.193816217.1636377121-1527866683.1636377121\n\nSee this discussion also, https://stackoverflow.com/questions/29778262/what-is-maven-multimoduleprojectdirectory-used-for","body":"Hard to say from the picture, but if my guess is right, you are using IntelliJ.  As of now there is an open bug for this: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-190202?_ga=2.85220953.193816217.1636377121-1527866683.1636377121\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a>  See this discussion also, <a href=\"https://stackoverflow.com/questions/29778262/what-is-maven-multimoduleprojectdirectory-used-for\" title=\"what is maven multimoduleprojectdirectory used for\">stackoverflow.com/questions/29778262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636456153,"creation_date":1636456153,"answer_id":69897062,"question_id":69883944,"body_markdown":"No, no, no! This is a private property and not meant to be managed or read by the user at all. You should rather describe the problem you have.","title":"maven multiModuleProjectDirectory dependency","body":"<p>No, no, no! This is a private property and not meant to be managed or read by the user at all. You should rather describe the problem you have.</p>\n"}],"owner":{"account_id":10901000,"reputation":57,"user_id":8013261,"display_name":"Sanooj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636456153,"creation_date":1636376710,"question_id":69883944,"body_markdown":"I have added ${maven.multiModuleProjectDirectory} in my pom to mention the project as multimodule and show the path. \r\nIn my pom, it shows unresolved dependency. As it is an unresolved dependency, it is not breaking the build.\r\n\r\nMy questions are : \r\n\r\n1. Is this safe to use this structure inside pom? \r\n2. What can I do to resolve the dependency?\r\n\r\n[pom file screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jrvGK.png","title":"maven multiModuleProjectDirectory dependency","body":"<p>I have added ${maven.multiModuleProjectDirectory} in my pom to mention the project as multimodule and show the path.\nIn my pom, it shows unresolved dependency. As it is an unresolved dependency, it is not breaking the build.</p>\n<p>My questions are :</p>\n<ol>\n<li>Is this safe to use this structure inside pom?</li>\n<li>What can I do to resolve the dependency?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jrvGK.png\" rel=\"nofollow noreferrer\">pom file screenshot</a></p>\n"},{"tags":["java","performance","arraylist","hashmap"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636398271,"post_id":69888624,"comment_id":123541192,"body_markdown":"No. The original author should have used a list.","body":"No. The original author should have used a list."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1636398315,"post_id":69888624,"comment_id":123541210,"body_markdown":"The map approach (obviously) assumes a sparse matrix, in that not nearly all cells are filled. If all cells are filled then there&#39;s obvious overhead with using a map of maps.","body":"The map approach (obviously) assumes a sparse matrix, in that not nearly all cells are filled. If all cells are filled then there&#39;s obvious overhead with using a map of maps."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636398341,"post_id":69888624,"comment_id":123541220,"body_markdown":"@Kayaman You can achieve the same with null without throwing away iteration order","body":"@Kayaman You can achieve the same with null without throwing away iteration order"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636398607,"post_id":69888624,"comment_id":123541296,"body_markdown":"@Kayaman He said they were consecutive integers, which implies non-sparse. A map with keys 0,1,2,3,... is just a bad list.","body":"@Kayaman He said they were consecutive integers, which implies non-sparse. A map with keys 0,1,2,3,... is just a bad list."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1636398874,"post_id":69888624,"comment_id":123541377,"body_markdown":"@Michael then it looks like the verdict is in. Luckily developers have more memory than sense these days. They probably copy pasted the code from somewhere.","body":"@Michael then it looks like the verdict is in. Luckily developers have more memory than sense these days. They probably copy pasted the code from somewhere."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1636404352,"post_id":69888624,"comment_id":123543240,"body_markdown":"I would also prefer composite keys over nested maps in most cases. (See https://softwareengineering.stackexchange.com/questions/250124/nested-maps-vs-combined-keys)","body":"I would also prefer composite keys over nested maps in most cases. (See <a href=\"https://softwareengineering.stackexchange.com/questions/250124/nested-maps-vs-combined-keys\" title=\"nested maps vs combined keys\">softwareengineering.stackexchange.com/questions/250124/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":22047379,"reputation":41,"user_id":16312176,"display_name":"Ruan-Candido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636415864,"creation_date":1636415864,"answer_id":69891289,"question_id":69888624,"body_markdown":"Declare a Class with the atributes from the table, for example:\r\n\r\n    public class anyClass(){\r\n    int grossValue;\r\n    int netValue;\r\n    }\r\n\r\nSo you can store this data in a list\r\n\r\n    ArrayList&lt;AnyClass&gt;\r\n ","title":"HashMap with consecutive Integers as keys vs. ArrayList","body":"<p>Declare a Class with the atributes from the table, for example:</p>\n<pre><code>public class anyClass(){\nint grossValue;\nint netValue;\n}\n</code></pre>\n<p>So you can store this data in a list</p>\n<pre><code>ArrayList&lt;AnyClass&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075472,"reputation":1825,"user_id":1848953,"display_name":"AlanK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636455995,"creation_date":1636418977,"answer_id":69891579,"question_id":69888624,"body_markdown":"I feel to compelled to contribute an answer but credit should go to @Kayaman who saw the obvious and commented first.\r\n\r\nThe significant potential advantage you are looking for is *_speed, flexibility and space-saving in the general case_*.  \r\n\r\nConsider that you have a 3x3 range of 9 cells with top-left corner at cell A1 and then add a single new cell at ZZ49.  With any data structure that uses _linear allocation_ of memory you suddenly need to grow memory by several orders of magnitude (~30,000 new empty cells), possibly (depending on data structure) rearranging already-stored cells and initialising a large number of never-to-be-used nulls (language/library implementations will have varying implementation details but similar wasteful disadvantages). \r\n\r\nWould Excel itself keep arrays/arraylists sized to cover every cell in every worksheet/range?  Unlikely.  In your example the range of cells may not be sparsely populated but in principle and in general the number of cells that contain data in a spreadsheet is a tiny fraction of the maximum rectangular area allowed.  A hashmap (or &quot;multidimensional hashmapping&quot;) is therefore not an unreasonable choice of data structure in a general approach to such a map-to-Excel problem, although you might have good reason for a different choice in your specific application.","title":"HashMap with consecutive Integers as keys vs. ArrayList","body":"<p>I feel to compelled to contribute an answer but credit should go to @Kayaman who saw the obvious and commented first.</p>\n<p>The significant potential advantage you are looking for is <em><em>speed, flexibility and space-saving in the general case</em></em>.</p>\n<p>Consider that you have a 3x3 range of 9 cells with top-left corner at cell A1 and then add a single new cell at ZZ49.  With any data structure that uses <em>linear allocation</em> of memory you suddenly need to grow memory by several orders of magnitude (~30,000 new empty cells), possibly (depending on data structure) rearranging already-stored cells and initialising a large number of never-to-be-used nulls (language/library implementations will have varying implementation details but similar wasteful disadvantages).</p>\n<p>Would Excel itself keep arrays/arraylists sized to cover every cell in every worksheet/range?  Unlikely.  In your example the range of cells may not be sparsely populated but in principle and in general the number of cells that contain data in a spreadsheet is a tiny fraction of the maximum rectangular area allowed.  A hashmap (or &quot;multidimensional hashmapping&quot;) is therefore not an unreasonable choice of data structure in a general approach to such a map-to-Excel problem, although you might have good reason for a different choice in your specific application.</p>\n"}],"owner":{"account_id":7837113,"reputation":8165,"user_id":5924721,"accept_rate":100,"display_name":"Frank Puffer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69891579,"answer_count":2,"score":1,"last_activity_date":1636455995,"creation_date":1636398147,"question_id":69888624,"body_markdown":"I stumbled upon some code that uses `HashMap&lt;Integer,HashMap&lt;Integer, String&gt;&gt;` to store a large Excel table with typically &gt;100.000 rows and 10 columns. Both columns and rows are consecutive integers. I would have  definitely used something like a `ArrayList&lt;ArrayList&lt;String&gt;&gt;` instead. \r\n\r\nSo could there be any significant advantages of using the `HashMap`? Do you see any serious performance issues (both memory an runtime wise)?","title":"HashMap with consecutive Integers as keys vs. ArrayList","body":"<p>I stumbled upon some code that uses <code>HashMap&lt;Integer,HashMap&lt;Integer, String&gt;&gt;</code> to store a large Excel table with typically &gt;100.000 rows and 10 columns. Both columns and rows are consecutive integers. I would have  definitely used something like a <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code> instead.</p>\n<p>So could there be any significant advantages of using the <code>HashMap</code>? Do you see any serious performance issues (both memory an runtime wise)?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1636465374,"post_id":69897007,"comment_id":123559872,"body_markdown":"The information provided is not sufficient for us to help. Is `com.abc.interfaces` private project? What is different between 1.1 and 1.1.NEW? \nWhat I can suggest now is run `mvn dependency:tree` to see any suspicious dependency causing duplication.","body":"The information provided is not sufficient for us to help. Is <code>com.abc.interfaces</code> private project? What is different between 1.1 and 1.1.NEW?  What I can suggest now is run <code>mvn dependency:tree</code> to see any suspicious dependency causing duplication."}],"owner":{"account_id":14515008,"reputation":109,"user_id":10484399,"display_name":"Farhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636455912,"creation_date":1636455912,"question_id":69897007,"body_markdown":"&quot;Failed to execute goal org.basepom.maven:duplicate-finder-maven-plugin:1.4.0:check (default) on project user-test-common: Found duplicate classes/resources!&quot;\r\n\r\nI am getting above error message when I am trying to build a maven project locally by changing one of its dependency&#39;s version and leaving other dependencies version point to same version, as described below,\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Interface-1&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Interface-2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Interface-3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.NEW&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n\r\n\r\nPlease help me resolve this.","title":"How to fix - Failed to execute goal org.basepom.maven:duplicate-finder-maven-plugin:1.4.0:check (default)","body":"<p>&quot;Failed to execute goal org.basepom.maven:duplicate-finder-maven-plugin:1.4.0:check (default) on project user-test-common: Found duplicate classes/resources!&quot;</p>\n<p>I am getting above error message when I am trying to build a maven project locally by changing one of its dependency's version and leaving other dependencies version point to same version, as described below,</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\n        &lt;artifactId&gt;Interface-1&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n      &lt;/dependency&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\n        &lt;artifactId&gt;Interface-2&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n      &lt;/dependency&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;com.abc.interfaces&lt;/groupId&gt;\n        &lt;artifactId&gt;Interface-3&lt;/artifactId&gt;\n        &lt;version&gt;1.1.NEW&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Please help me resolve this.</p>\n"},{"tags":["java","mysql","linux","tomcat6"],"comments":[{"owner":{"account_id":114032,"reputation":3015,"user_id":300041,"accept_rate":90,"display_name":"JD."},"score":20,"creation_date":1411895891,"post_id":23709832,"comment_id":40870467,"body_markdown":"What was the solution?","body":"What was the solution?"}],"answers":[{"tags":[],"owner":{"account_id":4980340,"reputation":9,"user_id":4005526,"display_name":"Matias Colli"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1409774137,"creation_date":1409774137,"answer_id":25652637,"question_id":23709832,"body_markdown":"Perhaps, the problem is the network.\r\nFor example. If the IP of the webserver is 192.168.1.1 and the other webserver is 192.168.0.100, the servers are in a different subnet range.\r\n–\r\nMatias Colli\r\nConsultor IT","title":"ap_proxy_connect_backend disabling worker for (127.0.0.1)","body":"<p>Perhaps, the problem is the network.\nFor example. If the IP of the webserver is 192.168.1.1 and the other webserver is 192.168.0.100, the servers are in a different subnet range.\n–\nMatias Colli\nConsultor IT</p>\n"},{"tags":[],"owner":{"account_id":1836242,"reputation":141,"user_id":1666574,"display_name":"Tishan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1428519248,"creation_date":1428515381,"answer_id":29521797,"question_id":23709832,"body_markdown":"The solution to this is to add the &quot;retry=0&quot; parameter to your ProxyPass directives in your Apache HTTP server virtual host configurations so that it doesn&#39;t wait the default 60 seconds to retry. \r\n\r\nE.g. \r\n\r\n    ProxyPass / http://backendserver:8080/ retry=0","title":"ap_proxy_connect_backend disabling worker for (127.0.0.1)","body":"<p>The solution to this is to add the \"retry=0\" parameter to your ProxyPass directives in your Apache HTTP server virtual host configurations so that it doesn't wait the default 60 seconds to retry. </p>\n\n<p>E.g. </p>\n\n<pre><code>ProxyPass / http://backendserver:8080/ retry=0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5548039,"reputation":884,"user_id":4402095,"display_name":"Vikash Singh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1501565686,"creation_date":1501565686,"answer_id":45429673,"question_id":23709832,"body_markdown":"You can use \r\n    \r\n    setsebool -P httpd_can_network_connect on\r\n","title":"ap_proxy_connect_backend disabling worker for (127.0.0.1)","body":"<p>You can use </p>\n\n<pre><code>setsebool -P httpd_can_network_connect on\n</code></pre>\n"}],"owner":{"account_id":1538593,"reputation":930,"user_id":1433865,"accept_rate":0,"display_name":"Ranjeet Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41683,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":3,"score":5,"last_activity_date":1636455851,"creation_date":1400319736,"question_id":23709832,"body_markdown":"We have deployed a war file on tomcat6. We are facing a error\r\n\r\n    [Sat May 17 12:26:48 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\r\n    [Sat May 17 12:26:48 2014] [error] ap_proxy_connect_backend disabling worker for (127.0.0.1)\r\n    [Sat May 17 12:27:53 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\r\n    [Sat May 17 12:29:36 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\r\n\r\nDuring this problem I am not able to telnet 8090 on server too.\r\n\r\nThis problem get solved once I restart MySql.\r\n","title":"ap_proxy_connect_backend disabling worker for (127.0.0.1)","body":"<p>We have deployed a war file on tomcat6. We are facing a error</p>\n<pre><code>[Sat May 17 12:26:48 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\n[Sat May 17 12:26:48 2014] [error] ap_proxy_connect_backend disabling worker for (127.0.0.1)\n[Sat May 17 12:27:53 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\n[Sat May 17 12:29:36 2014] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 127.0.0.1:8090 (127.0.0.1) failed\n</code></pre>\n<p>During this problem I am not able to telnet 8090 on server too.</p>\n<p>This problem get solved once I restart MySql.</p>\n"},{"tags":["java","hibernate","javabeans"],"answers":[{"tags":[],"owner":{"account_id":6494677,"reputation":823,"user_id":5027640,"accept_rate":77,"display_name":"logi0517"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548943204,"creation_date":1548927205,"answer_id":54457383,"question_id":54457103,"body_markdown":"Since Hibernate also have their own validation annotations, for example [@NotBlank][1], I don&#39;t think it&#39;s a bad practice to use `javax.validation.constraint` here. As far as I know, Hibernate even tries to consider all of these annotations. \r\n\r\nSo for example a field annotated with `@NotNull` will not be nullable in the generated table (so adding `nullable = false` is redundant), a `String` field annotated with `@Size(max=2047)` will be a `varchar(2047)` in MySQL instead of the default `varchar(255)`. \r\n\r\nThis can be useful to read: http://hibernate.org/validator/\r\n\r\nThe whole reference docs for the project: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#preface\r\n\r\n**EDIT:** Based on Thorben Janssen&#39;s answer, the rest of my original answer below this can be discarded :)\r\n\r\n*I&#39;m unsure if some more complicated constraints (for example a regular expression for phone numbers) are automatically enforced at the data layer or not. For example if you have a `@Pattern` for your `phoneNumber` field, that will work when your input is deserialized into your object. But if your setter methods dont have the same validation constraints, you might have an object in memory from some source with an incorrectly formatted `phoneNumber` that could be saved to the database. The safest way to use these constraints would probably include using programmatic validation with [Validator.validate()][2] before your database saves and updates.*\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/validator/6.0/api/org/hibernate/validator/constraints/NotBlank.html\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_validating_constraints","title":"Using bean Validation in hibernate","body":"<p>Since Hibernate also have their own validation annotations, for example <a href=\"http://docs.jboss.org/hibernate/validator/6.0/api/org/hibernate/validator/constraints/NotBlank.html\" rel=\"nofollow noreferrer\">@NotBlank</a>, I don't think it's a bad practice to use <code>javax.validation.constraint</code> here. As far as I know, Hibernate even tries to consider all of these annotations. </p>\n\n<p>So for example a field annotated with <code>@NotNull</code> will not be nullable in the generated table (so adding <code>nullable = false</code> is redundant), a <code>String</code> field annotated with <code>@Size(max=2047)</code> will be a <code>varchar(2047)</code> in MySQL instead of the default <code>varchar(255)</code>. </p>\n\n<p>This can be useful to read: <a href=\"http://hibernate.org/validator/\" rel=\"nofollow noreferrer\">http://hibernate.org/validator/</a></p>\n\n<p>The whole reference docs for the project: <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#preface\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#preface</a></p>\n\n<p><strong>EDIT:</strong> Based on Thorben Janssen's answer, the rest of my original answer below this can be discarded :)</p>\n\n<p><em>I'm unsure if some more complicated constraints (for example a regular expression for phone numbers) are automatically enforced at the data layer or not. For example if you have a <code>@Pattern</code> for your <code>phoneNumber</code> field, that will work when your input is deserialized into your object. But if your setter methods dont have the same validation constraints, you might have an object in memory from some source with an incorrectly formatted <code>phoneNumber</code> that could be saved to the database. The safest way to use these constraints would probably include using programmatic validation with <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_validating_constraints\" rel=\"nofollow noreferrer\">Validator.validate()</a> before your database saves and updates.</em></p>\n"},{"tags":[],"owner":{"account_id":12327139,"reputation":3107,"user_id":8994385,"display_name":"Thorben Janssen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1548941331,"creation_date":1548941331,"answer_id":54461691,"question_id":54457103,"body_markdown":"The Bean Validation specification integrates with Hibernate and all other implementations of the JPA 2.x specification. I explained that in great detail in my article [How to automatically validate entities with Hibernate Validator][1]. \r\n\r\nLet me give a quick summary:\r\n\r\nIf you add an implementation of the Bean Validation specification, e.g., Hibernate Validator, to your project, Hibernate automatically triggers the validation before inserting and updating an entity. You can customize that and also trigger validation before removing an entity. I explained that in more details in my article.\r\n\r\nYou can use all features of the Bean Validation specification, including custom validation rules, to validate your entity attributes. I used that [here][2] to validate that the value of an entity attribute is within a defined range and [here][3] to check that only one out of 2 associations is set.\r\n\r\nThe example mapping that you posted in your question is a very good practice!\r\nThe `@Column(nullable = false)` part is not strictly necessary because the validation rule already ensures that the attribute can&#39;t be null. \r\n\r\n\r\n  [1]: https://thoughts-on-java.org/automatically-validate-entities-with-hibernate-validator/\r\n  [2]: https://thoughts-on-java.org/hibernate-tips-validate-entity-attribute-value-within-defined-range/\r\n  [3]: https://thoughts-on-java.org/hibernate-tips-validate-1-of-2-associations-not-null/","title":"Using bean Validation in hibernate","body":"<p>The Bean Validation specification integrates with Hibernate and all other implementations of the JPA 2.x specification. I explained that in great detail in my article <a href=\"https://thoughts-on-java.org/automatically-validate-entities-with-hibernate-validator/\" rel=\"noreferrer\">How to automatically validate entities with Hibernate Validator</a>. </p>\n\n<p>Let me give a quick summary:</p>\n\n<p>If you add an implementation of the Bean Validation specification, e.g., Hibernate Validator, to your project, Hibernate automatically triggers the validation before inserting and updating an entity. You can customize that and also trigger validation before removing an entity. I explained that in more details in my article.</p>\n\n<p>You can use all features of the Bean Validation specification, including custom validation rules, to validate your entity attributes. I used that <a href=\"https://thoughts-on-java.org/hibernate-tips-validate-entity-attribute-value-within-defined-range/\" rel=\"noreferrer\">here</a> to validate that the value of an entity attribute is within a defined range and <a href=\"https://thoughts-on-java.org/hibernate-tips-validate-1-of-2-associations-not-null/\" rel=\"noreferrer\">here</a> to check that only one out of 2 associations is set.</p>\n\n<p>The example mapping that you posted in your question is a very good practice!\nThe <code>@Column(nullable = false)</code> part is not strictly necessary because the validation rule already ensures that the attribute can't be null. </p>\n"},{"tags":[],"owner":{"account_id":22780973,"reputation":1,"user_id":16936917,"display_name":"Jashu Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636455820,"creation_date":1636448282,"answer_id":69895291,"question_id":54457103,"body_markdown":"Since Hibernate also have their own validation annotations, for example `@NotBlank`, I don&#39;t think it&#39;s a bad practice to use `javax.validation.constraint` here. As far as I know, Hibernate even tries to consider all of these annotations.\r\n\r\nSo, for example, a field annotated with `@NotNull` will not be nullable in the generated table (so adding `nullable = false` is redundant), a `String` field annotated with `@Size(max=2047)` will be a `varchar(2047)` in MySQL instead of the default `varchar(255)`.","title":"Using bean Validation in hibernate","body":"<p>Since Hibernate also have their own validation annotations, for example <code>@NotBlank</code>, I don't think it's a bad practice to use <code>javax.validation.constraint</code> here. As far as I know, Hibernate even tries to consider all of these annotations.</p>\n<p>So, for example, a field annotated with <code>@NotNull</code> will not be nullable in the generated table (so adding <code>nullable = false</code> is redundant), a <code>String</code> field annotated with <code>@Size(max=2047)</code> will be a <code>varchar(2047)</code> in MySQL instead of the default <code>varchar(255)</code>.</p>\n"}],"owner":{"account_id":13933919,"reputation":3197,"user_id":10061438,"display_name":"Kristoffer T&#248;lb&#248;ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54461691,"answer_count":3,"score":2,"last_activity_date":1636455820,"creation_date":1548926292,"question_id":54457103,"body_markdown":"I was wondering if it was possible to use Java Bean Validation in hibernate, and how they integrate with each other.\r\n\r\nI have a stack that consists of a Jax-rs API, and JPA in my data layer. \r\n\r\nI was wondering if I it could use Java Bean validation to validate my Hibernate Entities, without using Spring.\r\n\r\nCould I use the annotations from hibernate along with the ones from the `javax.validation.contraints` together \r\n\r\nfor example:\r\n\r\n\r\n    @Column(nullable = false)\r\n    @Size(min =8, max = 12)\r\n    @NotNull(message = &quot;Phone Number must be entered&quot;)\r\n    private String phoneNumber;\r\n\r\nhere I specify that I the column, can&#39;t be null through hibernate and the bean validation.\r\n\r\nIs this a good practice?\r\n\r\nOr is there an alternative to validating data in hibernate, without bean validation like such?\r\n","title":"Using bean Validation in hibernate","body":"<p>I was wondering if it was possible to use Java Bean Validation in hibernate, and how they integrate with each other.</p>\n\n<p>I have a stack that consists of a Jax-rs API, and JPA in my data layer. </p>\n\n<p>I was wondering if I it could use Java Bean validation to validate my Hibernate Entities, without using Spring.</p>\n\n<p>Could I use the annotations from hibernate along with the ones from the <code>javax.validation.contraints</code> together </p>\n\n<p>for example:</p>\n\n<pre><code>@Column(nullable = false)\n@Size(min =8, max = 12)\n@NotNull(message = \"Phone Number must be entered\")\nprivate String phoneNumber;\n</code></pre>\n\n<p>here I specify that I the column, can't be null through hibernate and the bean validation.</p>\n\n<p>Is this a good practice?</p>\n\n<p>Or is there an alternative to validating data in hibernate, without bean validation like such?</p>\n"},{"tags":["java","authentication","servlets","openid-connect","elytron"],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636141023,"creation_date":1636141023,"answer_id":69858406,"question_id":69816206,"body_markdown":"The reason your custom filter approach will not work is because the elytron security framework handles this well before your filter chain is invoked. You might try custom role mapper within elytron security as explained [here][1] (Section 3.2.9) and [here][2] to add some predefined roles. \r\n\r\n&gt; RoleMapper  - After the roles have been decoded for an identity further\r\n&gt; mapping can be applied, this could be as simple at normalising the\r\n&gt; format of the names through to adding or removing specific role names.\r\n\r\nYou would obviously need to configure the elytron subsystem to use your custom role mapper. You can take a look at an example configuration for regex-role-mapper [here][3] ( in your case you need a custom RoleMapper instead of regex-role-mapper)\r\n\r\n\r\n  [1]: https://docs.wildfly.org/19/WildFly_Elytron_Security.html#provided-components\r\n  [2]: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html/security_architecture/eap_security_out_of_the_box#role_mappers-1\r\n  [3]: https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/","title":"How can I trigger OAuth/OpenID authentication on a Java Servlet and add my own roles to the user?","body":"<p>The reason your custom filter approach will not work is because the elytron security framework handles this well before your filter chain is invoked. You might try custom role mapper within elytron security as explained <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#provided-components\" rel=\"nofollow noreferrer\">here</a> (Section 3.2.9) and <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html/security_architecture/eap_security_out_of_the_box#role_mappers-1\" rel=\"nofollow noreferrer\">here</a> to add some predefined roles.</p>\n<blockquote>\n<p>RoleMapper  - After the roles have been decoded for an identity further\nmapping can be applied, this could be as simple at normalising the\nformat of the names through to adding or removing specific role names.</p>\n</blockquote>\n<p>You would obviously need to configure the elytron subsystem to use your custom role mapper. You can take a look at an example configuration for regex-role-mapper <a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/\" rel=\"nofollow noreferrer\">here</a> ( in your case you need a custom RoleMapper instead of regex-role-mapper)</p>\n"},{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636455708,"creation_date":1636455708,"answer_id":69896960,"question_id":69816206,"body_markdown":"I believe elytrons role mapping is the way to go. You could configure a Regex mapper to map every role to one static role. Or use the group-decoder-mapper to convert group names into roles.\r\n\r\nSee for example: https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/","title":"How can I trigger OAuth/OpenID authentication on a Java Servlet and add my own roles to the user?","body":"<p>I believe elytrons role mapping is the way to go. You could configure a Regex mapper to map every role to one static role. Or use the group-decoder-mapper to convert group names into roles.</p>\n<p>See for example: <a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/\" rel=\"nofollow noreferrer\">https://wildfly-security.github.io/wildfly-elytron/blog/regex-role-mapper/</a></p>\n"}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69858406,"answer_count":2,"score":1,"last_activity_date":1636455708,"creation_date":1635882673,"question_id":69816206,"body_markdown":"On a local Wildfly server I have a simple Java servlet like below:\r\n\r\n```\r\nimport javax.servlet.annotation.HttpMethodConstraint;\r\nimport javax.servlet.annotation.ServletSecurity;\r\nimport javax.servlet.http.HttpServlet;\r\n\r\n@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, rolesAllowed = { &quot;debug&quot; })})\r\npublic class DebugServlet extends HttpServlet {\r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n        try ( PrintWriter out = response.getWriter()) {\r\n            /* TODO output your page here. You may use following sample code. */\r\n            ...\r\n            Principal user = request.getUserPrincipal();\r\n            out.println(&quot;&lt;p&gt;&quot; + (user != null ? user.getName() : &quot;No user&quot;) + &quot;&lt;/p&gt;&quot;);\r\n            ...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have set up authentication with Wildfly&#39;s Elytron v1.17.2 using OpenID Connect (OIDC) with a third party authentication server. If it matters, it is *not* a Keycloak server, and changing the auth server isn&#39;t an option; using this auth server is a strict business requirement. The auth server has a bunch of users which we want to give access to, but for my particular client_id none of the users have any roles associated with them, and we want to avoid adding roles through the auth server because the process is...tedious at best. Bureaucratic red tape, every time, for every user. Our end goal is to have our own roles in this server&#39;s database and we&#39;re only going to the 3rd party to handle the login and then verify the login is valid and which user it is.\r\n\r\nIf I include `rolesAllowed = { &quot;debug&quot; }` in the HttpMethodConstraint, authentication with the 3rd-party auth server gets triggered and works correctly. But because none of the users have roles associated with them, they don&#39;t have the required &quot;debug&quot; role. The `processRequest` method is never reached and the user gets a &quot;Forbidden&quot; error page.\r\n\r\nIf I remove or empty the `rolesAllowed` field of the constraint, authentication with the 3rd-party auth server is *not* triggered, and there&#39;s no `UserPrincipal` which we can use to identify the user.\r\n\r\nI&#39;ve tried putting a `javax.servlet.Filter` in to intercept the request before it gets to my Servlet, but if the &quot;debug&quot; role is required then the filter doesn&#39;t get reached either. I had hoped to intercept the request after the user authenticates and then add roles to the user, or a session variable, or something which my servlet would then check for permission to do various actions.\r\n\r\nI&#39;ve tried a few other combinations which have not triggered authentication:\r\n\r\n```\r\n@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, emptyRoleSemantic = ServletSecurity.EmptyRoleSemantic.PERMIT)})\r\n```\r\nand \r\n```\r\n@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, transportGuarantee = ServletSecurity.TransportGuarantee.CONFIDENTIAL)})\r\n```\r\nNo luck.\r\n\r\nIs there a way I can trigger 3rd-party authentication, and get a UserPrincipal with the authenticated user&#39;s username/user id, without requiring a specific role? -OR- Is there a way I can add roles to the authenticated user after authenticating but before being blocked by the HttpMethodConstraint?","title":"How can I trigger OAuth/OpenID authentication on a Java Servlet and add my own roles to the user?","body":"<p>On a local Wildfly server I have a simple Java servlet like below:</p>\n<pre><code>import javax.servlet.annotation.HttpMethodConstraint;\nimport javax.servlet.annotation.ServletSecurity;\nimport javax.servlet.http.HttpServlet;\n\n@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, rolesAllowed = { &quot;debug&quot; })})\npublic class DebugServlet extends HttpServlet {\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        try ( PrintWriter out = response.getWriter()) {\n            /* TODO output your page here. You may use following sample code. */\n            ...\n            Principal user = request.getUserPrincipal();\n            out.println(&quot;&lt;p&gt;&quot; + (user != null ? user.getName() : &quot;No user&quot;) + &quot;&lt;/p&gt;&quot;);\n            ...\n        }\n    }\n}\n</code></pre>\n<p>I have set up authentication with Wildfly's Elytron v1.17.2 using OpenID Connect (OIDC) with a third party authentication server. If it matters, it is <em>not</em> a Keycloak server, and changing the auth server isn't an option; using this auth server is a strict business requirement. The auth server has a bunch of users which we want to give access to, but for my particular client_id none of the users have any roles associated with them, and we want to avoid adding roles through the auth server because the process is...tedious at best. Bureaucratic red tape, every time, for every user. Our end goal is to have our own roles in this server's database and we're only going to the 3rd party to handle the login and then verify the login is valid and which user it is.</p>\n<p>If I include <code>rolesAllowed = { &quot;debug&quot; }</code> in the HttpMethodConstraint, authentication with the 3rd-party auth server gets triggered and works correctly. But because none of the users have roles associated with them, they don't have the required &quot;debug&quot; role. The <code>processRequest</code> method is never reached and the user gets a &quot;Forbidden&quot; error page.</p>\n<p>If I remove or empty the <code>rolesAllowed</code> field of the constraint, authentication with the 3rd-party auth server is <em>not</em> triggered, and there's no <code>UserPrincipal</code> which we can use to identify the user.</p>\n<p>I've tried putting a <code>javax.servlet.Filter</code> in to intercept the request before it gets to my Servlet, but if the &quot;debug&quot; role is required then the filter doesn't get reached either. I had hoped to intercept the request after the user authenticates and then add roles to the user, or a session variable, or something which my servlet would then check for permission to do various actions.</p>\n<p>I've tried a few other combinations which have not triggered authentication:</p>\n<pre><code>@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, emptyRoleSemantic = ServletSecurity.EmptyRoleSemantic.PERMIT)})\n</code></pre>\n<p>and</p>\n<pre><code>@ServletSecurity(httpMethodConstraints = { @HttpMethodConstraint(value = &quot;GET&quot;, transportGuarantee = ServletSecurity.TransportGuarantee.CONFIDENTIAL)})\n</code></pre>\n<p>No luck.</p>\n<p>Is there a way I can trigger 3rd-party authentication, and get a UserPrincipal with the authenticated user's username/user id, without requiring a specific role? -OR- Is there a way I can add roles to the authenticated user after authenticating but before being blocked by the HttpMethodConstraint?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1434846075,"post_id":30960103,"comment_id":49952903,"body_markdown":"Do you have Java configured as one of your SDKs in IntelliJ?  You don&#39;t explicitly require that JAVA_HOME be set if you do.","body":"Do you have Java configured as one of your SDKs in IntelliJ?  You don&#39;t explicitly require that JAVA_HOME be set if you do."}],"answers":[{"tags":[],"owner":{"account_id":2486043,"reputation":1592,"user_id":2164447,"display_name":"Harry.Chen"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1434846418,"creation_date":1434846418,"answer_id":30960158,"question_id":30960103,"body_markdown":"The problem is your &quot;Project SDK&quot; is none! Add a &quot;Project SDK&quot; by clicking &quot;New ...&quot; and choose the path of JDK. And then it should be OK.","title":"Intellij JAVA_HOME variable","body":"<p>The problem is your \"Project SDK\" is none! Add a \"Project SDK\" by clicking \"New ...\" and choose the path of JDK. And then it should be OK.</p>\n"},{"tags":[],"owner":{"account_id":3694801,"reputation":1147,"user_id":3076493,"display_name":"RMcGuigan"},"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1444237997,"creation_date":1444237997,"answer_id":32998437,"question_id":30960103,"body_markdown":"Bit counter-intuitive, but you must first setup a SDK for Java projects. On the bottom right of the IntelliJ welcome screen, select &#39;Configure &gt; Project Defaults &gt; Project Structure&#39;.\r\n\r\nThe Project tab on the left will show that you have no SDK selected:\r\n\r\nTherefore, you must click the &#39;New...&#39; button on the right hand side of the dropdown and point it to your JDK. After that, you can go back to the import screen and it should be populated with your JAVA_HOME variable, providing you have this set.\r\n","title":"Intellij JAVA_HOME variable","body":"<p>Bit counter-intuitive, but you must first setup a SDK for Java projects. On the bottom right of the IntelliJ welcome screen, select 'Configure > Project Defaults > Project Structure'.</p>\n\n<p>The Project tab on the left will show that you have no SDK selected:</p>\n\n<p>Therefore, you must click the 'New...' button on the right hand side of the dropdown and point it to your JDK. After that, you can go back to the import screen and it should be populated with your JAVA_HOME variable, providing you have this set.</p>\n"},{"tags":[],"owner":{"account_id":7252107,"reputation":491,"user_id":5531996,"display_name":"gk0"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1446783584,"creation_date":1446783584,"answer_id":33559424,"question_id":30960103,"body_markdown":"If you&#39;d like to have your JAVA_HOME recognised by intellij, you can do one of these:\r\n\r\n - Start your intellij from terminal /Applications/IntelliJ IDEA 14.app/Contents/MacOS (this will pick your bash env variables)\r\n - Add login env variable by executing:\r\n`launchctl setenv JAVA_HOME &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/Home&quot;`\r\n\r\nTo directly answer your question, you can add launchctl line in your ~/.bash_profile\r\n\r\nAs others have answered you can ignore JAVA_HOME by setting up SDK in project structure.","title":"Intellij JAVA_HOME variable","body":"<p>If you'd like to have your JAVA_HOME recognised by intellij, you can do one of these:</p>\n\n<ul>\n<li>Start your intellij from terminal /Applications/IntelliJ IDEA 14.app/Contents/MacOS (this will pick your bash env variables)</li>\n<li>Add login env variable by executing:\n<code>launchctl setenv JAVA_HOME \"/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/Home\"</code></li>\n</ul>\n\n<p>To directly answer your question, you can add launchctl line in your ~/.bash_profile</p>\n\n<p>As others have answered you can ignore JAVA_HOME by setting up SDK in project structure.</p>\n"},{"tags":[],"owner":{"account_id":241150,"reputation":11537,"user_id":511795,"accept_rate":72,"display_name":"Shanimal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453322514,"creation_date":1453322514,"answer_id":34910095,"question_id":30960103,"body_markdown":"In my case I needed a lower JRE, so I had to tell IntelliJ to use a different one in &quot;Platform Settings&quot;\r\n\r\n* Platform Settings &gt; SDKs ( &lt;kbd&gt;&amp;#8984;&lt;/kbd&gt;+&lt;kbd&gt;;&lt;/kbd&gt; )\r\n* Click the &lt;kbd&gt;+&lt;/kbd&gt; button to add a new SDK (or rename and load an existing one)\r\n* Choose the /Contents/Home directory from the appropriate SDK  \r\n(i.e. /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home)","title":"Intellij JAVA_HOME variable","body":"<p>In my case I needed a lower JRE, so I had to tell IntelliJ to use a different one in \"Platform Settings\"</p>\n\n<ul>\n<li>Platform Settings > SDKs ( <kbd>&#8984;</kbd>+<kbd>;</kbd> )</li>\n<li>Click the <kbd>+</kbd> button to add a new SDK (or rename and load an existing one)</li>\n<li>Choose the /Contents/Home directory from the appropriate SDK<br>\n(i.e. /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6652548,"reputation":1097,"user_id":5134084,"display_name":"ThomasR"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1502009718,"creation_date":1502009317,"answer_id":45530259,"question_id":30960103,"body_markdown":"&lt;!-- language-all: lang-bash --&gt;\r\n\r\nSo far, nobody has answered the actual question.\r\n&gt; Someone can figure what is happening ?\r\n\r\nThe problem here is that while the *value* of your `$JAVA_HOME` [is correct][1], you defined it *in the wrong place*.\r\n\r\n* When you open a terminal and launch a Bash session, it will read the `~/.bash_profile` file. Thus, when you enter `echo $JAVA_HOME`, it will return the value that has been set there.\r\n* When you launch IntelliJ directly, it will *not* read `~/.bash_profile` … why should it? So to IntelliJ, this variable is not set.\r\n\r\nThere are two possible solutions to this:\r\n\r\n* Launch IntelliJ from a Bash session: open a terminal and run `&quot;/Applications/IntelliJ IDEA.app/Contents/MacOS/idea&quot;`. The `idea` process will inherit any environment variables of Bash that have been `export`ed. (Since you did `export JAVA_HOME=…`, it works!), or, the sophisticated way:\r\n* Set global environment variables that apply to all programs, not only Bash sessions. This is more complicated than you might think, and is explained [here][2] and [here][3], for example. What you should do is run\r\n\r\n        /bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home)\r\n\r\n    However, this gets reset after a reboot. To make sure this gets run on every boot, execute\r\n\r\n        cat &lt;&lt; EOF &gt; ~/Library/LaunchAgents/setenv.JAVA_HOME.plist\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot;\r\n            &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n          &lt;plist version=&quot;1.0&quot;&gt;\r\n          &lt;dict&gt;\r\n            &lt;key&gt;Label&lt;/key&gt;\r\n            &lt;string&gt;setenv.JAVA_HOME&lt;/string&gt;\r\n            &lt;key&gt;ProgramArguments&lt;/key&gt;\r\n            &lt;array&gt;\r\n              &lt;string&gt;/bin/launchctl&lt;/string&gt;\r\n              &lt;string&gt;setenv&lt;/string&gt;\r\n              &lt;string&gt;JAVA_HOME&lt;/string&gt;\r\n              &lt;string&gt;$(/usr/libexec/java_home)&lt;/string&gt;\r\n            &lt;/array&gt;\r\n            &lt;key&gt;RunAtLoad&lt;/key&gt;\r\n            &lt;true/&gt;\r\n            &lt;key&gt;ServiceIPC&lt;/key&gt;\r\n            &lt;false/&gt;\r\n          &lt;/dict&gt;\r\n        &lt;/plist&gt;\r\n        EOF\r\n\r\n    Note that this also affects the Terminal process, so there is no need to put anything in your `~/.bash_profile`.\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx\r\n[2]: https://stackoverflow.com/questions/25385934/setting-environment-variables-via-launchd-conf-no-longer-works-in-os-x-yosemite\r\n[3]: http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-launchd-plist/\r\n","title":"Intellij JAVA_HOME variable","body":"\n\n<p>So far, nobody has answered the actual question.</p>\n\n<blockquote>\n  <p>Someone can figure what is happening ?</p>\n</blockquote>\n\n<p>The problem here is that while the <em>value</em> of your <code>$JAVA_HOME</code> <a href=\"https://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx\">is correct</a>, you defined it <em>in the wrong place</em>.</p>\n\n<ul>\n<li>When you open a terminal and launch a Bash session, it will read the <code>~/.bash_profile</code> file. Thus, when you enter <code>echo $JAVA_HOME</code>, it will return the value that has been set there.</li>\n<li>When you launch IntelliJ directly, it will <em>not</em> read <code>~/.bash_profile</code> … why should it? So to IntelliJ, this variable is not set.</li>\n</ul>\n\n<p>There are two possible solutions to this:</p>\n\n<ul>\n<li>Launch IntelliJ from a Bash session: open a terminal and run <code>\"/Applications/IntelliJ IDEA.app/Contents/MacOS/idea\"</code>. The <code>idea</code> process will inherit any environment variables of Bash that have been <code>export</code>ed. (Since you did <code>export JAVA_HOME=…</code>, it works!), or, the sophisticated way:</li>\n<li><p>Set global environment variables that apply to all programs, not only Bash sessions. This is more complicated than you might think, and is explained <a href=\"https://stackoverflow.com/questions/25385934/setting-environment-variables-via-launchd-conf-no-longer-works-in-os-x-yosemite\">here</a> and <a href=\"http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-launchd-plist/\" rel=\"noreferrer\">here</a>, for example. What you should do is run</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>/bin/launchctl setenv JAVA_HOME $(/usr/libexec/java_home)\n</code></pre>\n\n<p>However, this gets reset after a reboot. To make sure this gets run on every boot, execute</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>cat &lt;&lt; EOF &gt; ~/Library/LaunchAgents/setenv.JAVA_HOME.plist\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\"\n    \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n  &lt;plist version=\"1.0\"&gt;\n  &lt;dict&gt;\n    &lt;key&gt;Label&lt;/key&gt;\n    &lt;string&gt;setenv.JAVA_HOME&lt;/string&gt;\n    &lt;key&gt;ProgramArguments&lt;/key&gt;\n    &lt;array&gt;\n      &lt;string&gt;/bin/launchctl&lt;/string&gt;\n      &lt;string&gt;setenv&lt;/string&gt;\n      &lt;string&gt;JAVA_HOME&lt;/string&gt;\n      &lt;string&gt;$(/usr/libexec/java_home)&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;RunAtLoad&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;ServiceIPC&lt;/key&gt;\n    &lt;false/&gt;\n  &lt;/dict&gt;\n&lt;/plist&gt;\nEOF\n</code></pre>\n\n<p>Note that this also affects the Terminal process, so there is no need to put anything in your <code>~/.bash_profile</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8190521,"reputation":430,"user_id":6164893,"display_name":"Meghana Randad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614126748,"creation_date":1614126748,"answer_id":66342997,"question_id":30960103,"body_markdown":"Right Click On Project -&gt; Open Module Settings -&gt; Click SDK&#39;s\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hnVqO.png\r\n\r\nChoose Java Home Directory ","title":"Intellij JAVA_HOME variable","body":"<p>Right Click On Project -&gt; Open Module Settings -&gt; Click SDK's</p>\n<p><a href=\"https://i.stack.imgur.com/hnVqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hnVqO.png\" alt=\"enter image description here\" /></a></p>\n<p>Choose Java Home Directory</p>\n"},{"tags":[],"owner":{"account_id":4798752,"reputation":41,"user_id":3875903,"display_name":"Ascorti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636455508,"creation_date":1636455508,"answer_id":69896927,"question_id":30960103,"body_markdown":"In my case helped to uninstall Android plugin - Idea kept bugging me to set Android NDK and did not let me change Java default SDK - and since I don&#39;t develop for Android I could remove it.","title":"Intellij JAVA_HOME variable","body":"<p>In my case helped to uninstall Android plugin - Idea kept bugging me to set Android NDK and did not let me change Java default SDK - and since I don't develop for Android I could remove it.</p>\n"}],"owner":{"account_id":3029580,"reputation":917,"user_id":2568889,"display_name":"user2568889"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215941,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":30960158,"answer_count":7,"score":83,"last_activity_date":1636455508,"creation_date":1434845780,"question_id":30960103,"body_markdown":"I started using Gradle and Intellij but I am having problems to configure Gradle&#39;s JVM.\r\nWhen I start a new Gradle project I am not allowed to define JVM as my JAVA_HOME variable. The following screenshots show what is happening:\r\n\r\n![new gradle project][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Od69Z.png\r\n\r\nAs you can see Intellij says that my JAVA_HOME variable is not defined, however if I type `echo $JAVA_HOME` I can get my Java directory, in my case: `/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home`\r\n\r\nMy ./~bash_profile is configured as follow:\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nSomeone can figure what is happening ?\r\nThank you!","title":"Intellij JAVA_HOME variable","body":"<p>I started using Gradle and Intellij but I am having problems to configure Gradle's JVM.\nWhen I start a new Gradle project I am not allowed to define JVM as my JAVA_HOME variable. The following screenshots show what is happening:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Od69Z.png\" alt=\"new gradle project\"></p>\n\n<p>As you can see Intellij says that my JAVA_HOME variable is not defined, however if I type <code>echo $JAVA_HOME</code> I can get my Java directory, in my case: <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home</code></p>\n\n<p>My ./~bash_profile is configured as follow:\n<code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n\n<p>Someone can figure what is happening ?\nThank you!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636451286,"creation_date":1636451286,"answer_id":69895982,"question_id":69895856,"body_markdown":"You receive `String`s like `&quot;2021-11-9&quot;`, which are of the format `&quot;uuuu-MM-d&quot;` but when you try to parse them with `LocalDate date = LocalDate.parse(data.getText());` you are implicitly using the standard ISO format, which has the pattern `&quot;uuuu-MM-dd&quot;` and is, therefore, expecting a `String` like `&quot;2021-11-09&quot;` (two digits for day of month). Your ones are missing a digit, at least when the day of month is less than 10.\r\n\r\nYou can pass a formatter that handles the single-digit format:\r\n\r\n```lang-java\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-d&quot;);\r\n```\r\n\r\nand then parse the `String` using that formatter:\r\n\r\n```lang-java\r\nLocalDate date = LocalDate.parse(data.getText(), dtf);\r\n```","title":"Android Studio java.time.format.DateTimeParseException: Text could not be parsed when picking date from date picker","body":"<p>You receive <code>String</code>s like <code>&quot;2021-11-9&quot;</code>, which are of the format <code>&quot;uuuu-MM-d&quot;</code> but when you try to parse them with <code>LocalDate date = LocalDate.parse(data.getText());</code> you are implicitly using the standard ISO format, which has the pattern <code>&quot;uuuu-MM-dd&quot;</code> and is, therefore, expecting a <code>String</code> like <code>&quot;2021-11-09&quot;</code> (two digits for day of month). Your ones are missing a digit, at least when the day of month is less than 10.</p>\n<p>You can pass a formatter that handles the single-digit format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-d&quot;);\n</code></pre>\n<p>and then parse the <code>String</code> using that formatter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate date = LocalDate.parse(data.getText(), dtf);\n</code></pre>\n"}],"owner":{"account_id":23191387,"reputation":15,"user_id":17287716,"display_name":"Catalin Petraru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69895982,"answer_count":1,"score":1,"last_activity_date":1636455464,"creation_date":1636450795,"question_id":69895856,"body_markdown":"I am trying to make an app for university for registering invoices. I have an `Activity` with a vendor class where I register them (code, name, phone number) and one `Activity` for registering invoices (code, series, date, explanations and vendor)\r\n\r\nFor inputting the date I used a `TextView` that when tapped, another dialog `Activity` opens with a `DatePicker`.\r\n\r\nMy problem is that when I press &lt;kbp&gt;Submit&lt;/kbp&gt;, the app crashes and the following exception is triggered in the debug:\r\n```lang-none\r\njava.time.format.DateTimeParseException: Text &#39;2021-11-9&#39; could not be parsed at index 8\r\n```\r\nThis is the code for the date class, save button and calendar dialog fragment:\r\n```Java\r\nprivate LocalDate date;\r\n\r\npublic void setDate(LocalDate d) {\r\n    date = d;\r\n}\r\n\r\npublic LocalDate getDate() {\r\n    return date;\r\n}\r\n\r\npublic TextView date;\r\nprivate Invoice invoice;\r\n\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_invoice);\r\n    date = findViewById(R.id.idDate);\r\n\r\n    Button btnSave = findViewById(R.id.btnSaveInvoice);\r\n        \r\n    data.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            calendarDialog calendar = new calendarDialog();\r\n            calendar.show(getFragmentManager(),&quot;calendarDialog&quot;);\r\n        }\r\n    });\r\n\r\n    btnSave.setOnClickListener(new View.OnClickListener() {\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        public void onClick(View v) {\r\n            invoice = new Invoice();\r\n            LocalDate date = LocalDate.parse(data.getText());\r\n            invoice(date);\r\n        }\r\n    });\r\n}\r\n```\r\n```Java\r\npublic class calendarDialog extends DialogFragment {\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater,     @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view=inflater.inflate(layout.calendar_my_dialog,container,false);\r\n        CalendarView      calendarView=view.findViewById(id.calendarView);\r\n        calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n            @Override\r\n            public void onSelectedDayChange(@NonNull CalendarView view, int Year, int Month, int dayOfMonth) {\r\n              int month = Month+1;\r\n              String txtDate = Year+&quot;-&quot;+Month+&quot;-&quot;+dayOfMonth;\r\n                ((activity_invoice)getActivity()).date.setText(txtDate);\r\n                getDialog().dismiss();\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n}\r\n","title":"Android Studio java.time.format.DateTimeParseException: Text could not be parsed when picking date from date picker","body":"<p>I am trying to make an app for university for registering invoices. I have an <code>Activity</code> with a vendor class where I register them (code, name, phone number) and one <code>Activity</code> for registering invoices (code, series, date, explanations and vendor)</p>\n<p>For inputting the date I used a <code>TextView</code> that when tapped, another dialog <code>Activity</code> opens with a <code>DatePicker</code>.</p>\n<p>My problem is that when I press Submit, the app crashes and the following exception is triggered in the debug:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.time.format.DateTimeParseException: Text '2021-11-9' could not be parsed at index 8\n</code></pre>\n<p>This is the code for the date class, save button and calendar dialog fragment:</p>\n<pre><code>private LocalDate date;\n\npublic void setDate(LocalDate d) {\n    date = d;\n}\n\npublic LocalDate getDate() {\n    return date;\n}\n\npublic TextView date;\nprivate Invoice invoice;\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_invoice);\n    date = findViewById(R.id.idDate);\n\n    Button btnSave = findViewById(R.id.btnSaveInvoice);\n        \n    data.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            calendarDialog calendar = new calendarDialog();\n            calendar.show(getFragmentManager(),&quot;calendarDialog&quot;);\n        }\n    });\n\n    btnSave.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.O)\n        @Override\n        public void onClick(View v) {\n            invoice = new Invoice();\n            LocalDate date = LocalDate.parse(data.getText());\n            invoice(date);\n        }\n    });\n}\n</code></pre>\n<pre><code>public class calendarDialog extends DialogFragment {\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,     @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view=inflater.inflate(layout.calendar_my_dialog,container,false);\n        CalendarView      calendarView=view.findViewById(id.calendarView);\n        calendarView.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n            @Override\n            public void onSelectedDayChange(@NonNull CalendarView view, int Year, int Month, int dayOfMonth) {\n              int month = Month+1;\n              String txtDate = Year+&quot;-&quot;+Month+&quot;-&quot;+dayOfMonth;\n                ((activity_invoice)getActivity()).date.setText(txtDate);\n                getDialog().dismiss();\n            }\n        });\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1636454636,"post_id":69896670,"comment_id":123555543,"body_markdown":"This depends. As an example, `new FileInputStream(&quot;does not exist&quot;)` will immediately raise an exception. This is easy to interpret in the context of what your class is about; and you would know.","body":"This depends. As an example, <code>new FileInputStream(&quot;does not exist&quot;)</code> will immediately raise an exception. This is easy to interpret in the context of what your class is about; and you would know."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636455082,"creation_date":1636455082,"answer_id":69896830,"question_id":69896670,"body_markdown":"It depends, but in general, unless you know what you&#39;re doing, there is nothing wrong in it. It&#39;s actually more simpler to initialize in the constructor. This is what the caller of your code would expect anyway: an object accepting a file is expected to process it upon initialization. The caller would also avoid bugs where they forget to call the initialization method manually.\r\n\r\nI&#39;m pretty sure that if you look at third-party libraries (e.g. Spring), you will find occurrences of such constructors accepting files. For example, [`FileSystemXmlApplicationContext`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/FileSystemXmlApplicationContext.html) offers a parameter to do a &quot;refresh&quot; based on the input files, so that the user can have control over the refreshing of the context (either the constructor does it, or the refresh has to be done manually).","title":"Load file inside a constructor, bad practice?","body":"<p>It depends, but in general, unless you know what you're doing, there is nothing wrong in it. It's actually more simpler to initialize in the constructor. This is what the caller of your code would expect anyway: an object accepting a file is expected to process it upon initialization. The caller would also avoid bugs where they forget to call the initialization method manually.</p>\n<p>I'm pretty sure that if you look at third-party libraries (e.g. Spring), you will find occurrences of such constructors accepting files. For example, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/FileSystemXmlApplicationContext.html\" rel=\"nofollow noreferrer\"><code>FileSystemXmlApplicationContext</code></a> offers a parameter to do a &quot;refresh&quot; based on the input files, so that the user can have control over the refreshing of the context (either the constructor does it, or the refresh has to be done manually).</p>\n"}],"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1636455134,"answer_count":1,"score":2,"last_activity_date":1636455082,"creation_date":1636454452,"question_id":69896670,"body_markdown":"Is this a bad practice? \r\nI&#39;ve seen few peoples say that constructor should not do the real work.\r\n\r\n```java\r\nclass FooConfig {\r\n   public FooConfig(File file) {\r\n      loadFile(file);\r\n   }\r\n\r\n   private void loadFile(File file) {\r\n      // do something...\r\n   } \r\n}\r\n```\r\n\r\nOr I should do this instead?\r\n\r\n```java\r\nclass FooConfig {\r\n   private final File file;\r\n\r\n   public FooConfig(File file) {\r\n      this.file = file;\r\n   }\r\n\r\n   public void loadFile(File file) {\r\n      // do something...\r\n   }\r\n}\r\n```\r\n\r\n```java\r\nFooConfig config = new FooConfig(file);\r\nconfig.loadFile();\r\n```\r\n\r\nThank you.","title":"Load file inside a constructor, bad practice?","body":"<p>Is this a bad practice?\nI've seen few peoples say that constructor should not do the real work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooConfig {\n   public FooConfig(File file) {\n      loadFile(file);\n   }\n\n   private void loadFile(File file) {\n      // do something...\n   } \n}\n</code></pre>\n<p>Or I should do this instead?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooConfig {\n   private final File file;\n\n   public FooConfig(File file) {\n      this.file = file;\n   }\n\n   public void loadFile(File file) {\n      // do something...\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>FooConfig config = new FooConfig(file);\nconfig.loadFile();\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["javascript","java","windows","applet"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1635975242,"post_id":69825181,"comment_id":123438662,"body_markdown":"What&#39;s the link (and sure, redact any parts of it that can be redacted)? Because if it&#39;s `https://...` then it works in every browser, and if it&#39;s not, then it&#39;s not a regular URL and normal web browsers are not designed to load them.","body":"What&#39;s the link (and sure, redact any parts of it that can be redacted)? Because if it&#39;s <code>https:&#47;&#47;...</code> then it works in every browser, and if it&#39;s not, then it&#39;s not a regular URL and normal web browsers are not designed to load them."},{"owner":{"account_id":20286967,"reputation":15,"user_id":14879454,"display_name":"TheProgrammer"},"score":0,"creation_date":1636025558,"post_id":69825181,"comment_id":123450375,"body_markdown":"it&#39;s a http://... link. If regular web browsers are not designed to load them. How am I abel to do let them perform that?","body":"it&#39;s a http://... link. If regular web browsers are not designed to load them. How am I abel to do let them perform that?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1636036998,"post_id":69825181,"comment_id":123455264,"body_markdown":"if it&#39;s plain http, that&#39;s an insecure link, but most browsers will still load it (with warnings in their security notification area). However, So: is it an http link to a web page (i.e. written in HTML with CSS/JS as additional content)? Because it sounds like it&#39;s an http link to &quot;not actually web page&quot;.","body":"if it&#39;s plain http, that&#39;s an insecure link, but most browsers will still load it (with warnings in their security notification area). However, So: is it an http link to a web page (i.e. written in HTML with CSS/JS as additional content)? Because it sounds like it&#39;s an http link to &quot;not actually web page&quot;."},{"owner":{"account_id":20286967,"reputation":15,"user_id":14879454,"display_name":"TheProgrammer"},"score":0,"creation_date":1636041632,"post_id":69825181,"comment_id":123457311,"body_markdown":"It isn&#39;t an actual web page. I think it&#39;s (more like) a Java-applet. (I&#39;ve added some links to my question. I didn&#39;t have enough reputation to add an image.)","body":"It isn&#39;t an actual web page. I think it&#39;s (more like) a Java-applet. (I&#39;ve added some links to my question. I didn&#39;t have enough reputation to add an image.)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1636042996,"post_id":69825181,"comment_id":123457910,"body_markdown":"You don&#39;t need rep to add an image, but an image wouldn&#39;t have made sense here anyway: that link goes to a webpage with an image on it, so is that _the actualy http link_ that you get from the micro browser? Or is that a link you made to show off &quot;what it looks like in the micro browser&quot;, because the former is an important detail to your question, whereas the latter is not useful because it&#39;s not about what things look like, but whether the http:// link points to real web content on a normal domain, or to some kind of &quot;this isn&#39;t actually HTML at all&quot; at a device-only network location.","body":"You don&#39;t need rep to add an image, but an image wouldn&#39;t have made sense here anyway: that link goes to a webpage with an image on it, so is that <i>the actualy http link</i> that you get from the micro browser? Or is that a link you made to show off &quot;what it looks like in the micro browser&quot;, because the former is an important detail to your question, whereas the latter is not useful because it&#39;s not about what things look like, but whether the http:// link points to real web content on a normal domain, or to some kind of &quot;this isn&#39;t actually HTML at all&quot; at a device-only network location."},{"owner":{"account_id":20286967,"reputation":15,"user_id":14879454,"display_name":"TheProgrammer"},"score":0,"creation_date":1636108265,"post_id":69825181,"comment_id":123474299,"body_markdown":"In the new added link you can see what the content looks like.","body":"In the new added link you can see what the content looks like."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1636132198,"post_id":69825181,"comment_id":123483615,"body_markdown":"I don&#39;t think you understand what I was asking: you are trying to get a URL from a browser, to another browser: what is _that URL_, not &quot;can you show a picture of what it looks like&quot;. Also, have you contacted SBC Micro Browser&#39;s support? (they have an email address listed on their play store entry, so that would be a place to also ask, even if you&#39;ve posted to SO. The most qualified people to help here, is them)","body":"I don&#39;t think you understand what I was asking: you are trying to get a URL from a browser, to another browser: what is <i>that URL</i>, not &quot;can you show a picture of what it looks like&quot;. Also, have you contacted SBC Micro Browser&#39;s support? (they have an email address listed on their play store entry, so that would be a place to also ask, even if you&#39;ve posted to SO. The most qualified people to help here, is them)"},{"owner":{"account_id":20286967,"reputation":15,"user_id":14879454,"display_name":"TheProgrammer"},"score":0,"creation_date":1636455155,"post_id":69825181,"comment_id":123555764,"body_markdown":"My excuses for the late answer. I will send them sommeting. Thanks for the assistance","body":"My excuses for the late answer. I will send them sommeting. Thanks for the assistance"}],"owner":{"account_id":20286967,"reputation":15,"user_id":14879454,"display_name":"TheProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636455040,"creation_date":1635943928,"question_id":69825181,"body_markdown":"When I want to open a link from the [SBC micro browser](https://play.google.com/store/apps/details?id=com.saiaburgess.microbrowser&amp;hl=nl&amp;gl=US) in a &quot;normal&quot; browser I get the following error:\r\n\r\n&gt; The visualization runtime could not be started. The browser does not\r\n&gt; support Java, the Java plug-in is not installed or the Applet could\r\n&gt; not be loaded.\r\n\r\nIs there a way to open this link without installing any applications (as java). I want my website to be available for any browser (safari, chrome, ...). I was thinking about writing some code in JavaScript and/or PHP. Can someone help me?\r\n\r\nThe links looks like this: `https://play-lh.googleusercontent.com/4CLSLx_kBSeRt6X5b6tXwXoTLcmOQNIFq-oml6-eE_sMcZexPkJE9JAhp4UEl5pqJew=w1536-h754-rw`\r\n\r\nThe content of the &quot;webpage&quot; looks like this : `https://play-lh.googleusercontent.com/cAZsalgjRwG5PEjFaN_GGB0l3eRvJyUFSek3Uply-ja2Ad_83OtJ5qnzz3G2bqTZNDg=w1536-h754-rw`\r\n\r\nIt&#39;s a dashboard with changing values that represent Measurements.\r\n\r\nThe body of the html page looks like this\r\n```\r\n&lt;body&gt;\r\n  &lt;applet archive=&quot;IMasterSaia5_15_03.jar&quot; code=&quot;IMasterSaia5_15_03.class&quot; width=&quot;1024&quot; height=&quot;768&quot; class=&quot;teqruntime&quot;&gt;\r\n    &lt;param name=&quot;java_arguments&quot; value=&quot;-Xms256m -Xmx512m&quot;&gt;\r\n    &lt;param name=&quot;AppletName&quot; value=&quot;Webpanel Central&quot;&gt;\r\n\r\n    ...(a lot more &lt;param&gt; )\r\n    \r\n  &lt;/applet&gt;\r\n&lt;/body&gt;\r\n```","title":"Get SBC micro browser content in html website","body":"<p>When I want to open a link from the <a href=\"https://play.google.com/store/apps/details?id=com.saiaburgess.microbrowser&amp;hl=nl&amp;gl=US\" rel=\"nofollow noreferrer\">SBC micro browser</a> in a &quot;normal&quot; browser I get the following error:</p>\n<blockquote>\n<p>The visualization runtime could not be started. The browser does not\nsupport Java, the Java plug-in is not installed or the Applet could\nnot be loaded.</p>\n</blockquote>\n<p>Is there a way to open this link without installing any applications (as java). I want my website to be available for any browser (safari, chrome, ...). I was thinking about writing some code in JavaScript and/or PHP. Can someone help me?</p>\n<p>The links looks like this: <code>https://play-lh.googleusercontent.com/4CLSLx_kBSeRt6X5b6tXwXoTLcmOQNIFq-oml6-eE_sMcZexPkJE9JAhp4UEl5pqJew=w1536-h754-rw</code></p>\n<p>The content of the &quot;webpage&quot; looks like this : <code>https://play-lh.googleusercontent.com/cAZsalgjRwG5PEjFaN_GGB0l3eRvJyUFSek3Uply-ja2Ad_83OtJ5qnzz3G2bqTZNDg=w1536-h754-rw</code></p>\n<p>It's a dashboard with changing values that represent Measurements.</p>\n<p>The body of the html page looks like this</p>\n<pre><code>&lt;body&gt;\n  &lt;applet archive=&quot;IMasterSaia5_15_03.jar&quot; code=&quot;IMasterSaia5_15_03.class&quot; width=&quot;1024&quot; height=&quot;768&quot; class=&quot;teqruntime&quot;&gt;\n    &lt;param name=&quot;java_arguments&quot; value=&quot;-Xms256m -Xmx512m&quot;&gt;\n    &lt;param name=&quot;AppletName&quot; value=&quot;Webpanel Central&quot;&gt;\n\n    ...(a lot more &lt;param&gt; )\n    \n  &lt;/applet&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","c++","visual-c++","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636454961,"creation_date":1601219109,"answer_id":64089918,"question_id":64060787,"body_markdown":"There are specific preconditions that a java method needs to fulfill in order to run successfully from C or C++ in GraalVM.\r\nThese preconditions should be taken into account when designing the Java entry point methods that are going to be annotated with `@CEntryPoint`. The following preconditions are mentioned [in the CEntryPoint documentation][1].\r\n\r\n1. The Java entry point method is only allowed to include primitive Java types, word values and enums. Also in order to actually use an `Enum` the `enum class` must have a `CEnum` annotation.[In the CEntryPoint documentation][1]. \r\n2. The Java entry point method should be static.\r\n3. The Java entry point method should catch all exceptions, since it should NOT throw ANY exception. In case an exception is not caught, it is printed and then the process is terminated. However the `@CEntryPoint` documentation explicitly mention to catch all exceptions inside the java entry point methods. \r\n4. An `IsolateThread` parameter is required. More precisely \r\n\r\n&gt; An execution context must be passed as a parameter and can be either\r\n&gt; an IsolateThread that is specific to the current thread, or an Isolate\r\n&gt; for an isolate in which the current thread is attached. These pointers\r\n&gt; can be obtained via the methods of CurrentIsolate. When there is more\r\n&gt; than one parameter of these types, exactly one of the parameters must\r\n&gt; be annotated with CEntryPoint.IsolateThreadContext for IsolateThread,\r\n&gt; or CEntryPoint.IsolateContext for Isolate.\r\n\r\n\r\nThe sample in your question throws this error since the `myFunc` method signature includes objects, for instance the `String` parameters. Namely `x` and `y`. This is not allowed according to the precondition **1** from above. This is what the error description tries to say.\r\n\r\nThe solution is to use the functionality provided to convert between Java types and C types. In this case in order to pass text between `C` and `Java` we can use a [`CCharPointer`][2]. Since text is modeled differently in `C` and `Java`, a `Java String` must be converted to `C *char` and vice versa.\r\n\r\n**Creating and returning a Java String** \r\n\r\nThere is an example below that can be used when `byte[]` represents text.\r\n    \r\n    //These are the imports needed\r\n    import org.graalvm.nativeimage.c.type.CCharPointer;\r\n    import org.graalvm.nativeimage.c.type.CTypeConversion;\r\n\r\n    @CEntryPoint(name = &quot;myFunc&quot;)\r\n      public static CCharPointer myFunc(IsolateThread thread, CCharPointer x, CCharPointer y) {\r\n            //Convert C *char to Java String\r\n            final String xString= CTypeConversion.toJavaString(x);\r\n            final String yString= CTypeConversion.toJavaString(y);\r\n\r\n            //logic goes here\r\n\r\n            //Convert Java String to C *char\r\n            try(final CTypeConversion.CCharPointerHolder holder=CTypeConversion.toCString(&quot;Hello from Java&quot;)){\r\n            \r\n                    final CCharPointer result=holder.get();\r\n                    return result;\r\n             }\r\n            \r\n      }\r\n\r\n\r\n**Using and returning an array allocated in C** \r\n\r\nYou can also follow a C style and pass as an argument an array in C and then use this array to write the result byte values in Java. The method [CCharPointer.write(int,byte)][3] can write `Java byte` values to specific array indexes in the `*char` or `char[]`. The byte array can also be returned, if needed.\r\n\r\n    @CEntryPoint(name = &quot;myFunc2&quot;)\r\n      public static CCharPointer myFunc2(IsolateThread thread\r\n             , CCharPointer x, CCharPointer y                                                                                  \r\n             , CCharPointer resultArray, int resultArrayLength) {\r\n\r\n            //Convert C *char to Java String\r\n            final String xString= CTypeConversion.toJavaString(x);\r\n            final String yString= CTypeConversion.toJavaString(y);\r\n\r\n            //logic goes here\r\n\r\n            //Fill in the result array\r\n            final byte sampleByteValue=7;\r\n            for(int index =0; index&lt;resultArrayLength; index++){\r\n            resultArray.write(index, sampleByteValue);\r\n            }\r\n            return resultArray;\r\n      }\r\n\r\n**Using a [Java NIO ByteBuffer][4]** \r\n\r\nFor larger byte arrays you can check [CTypeConversion][5] that can create a [`Java NIO ByteBuffer`][4] with a specific capacity that refers to the native memory. Note that \r\n&gt; the caller is responsible for ensuring that the memory can be safely\r\n&gt; accessed while the ByteBuffer is used, and for freeing the memory\r\n&gt; afterwards.\r\n\r\n\r\n  [1]: https://www.graalvm.org/truffle/javadoc/org/graalvm/nativeimage/c/function/CEntryPoint.html\r\n  [2]: https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CCharPointer.html\r\n  [3]: https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CCharPointer.html#write-int-byte-\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [5]: https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CTypeConversion.html#asByteBuffer-org.graalvm.word.PointerBase-int-","title":"How to call a Java entrypoint method with non-primitive types as parameters from C++ using GraalVM","body":"<p>There are specific preconditions that a java method needs to fulfill in order to run successfully from C or C++ in GraalVM.\nThese preconditions should be taken into account when designing the Java entry point methods that are going to be annotated with <code>@CEntryPoint</code>. The following preconditions are mentioned <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/nativeimage/c/function/CEntryPoint.html\" rel=\"nofollow noreferrer\">in the CEntryPoint documentation</a>.</p>\n<ol>\n<li>The Java entry point method is only allowed to include primitive Java types, word values and enums. Also in order to actually use an <code>Enum</code> the <code>enum class</code> must have a <code>CEnum</code> annotation.<a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/nativeimage/c/function/CEntryPoint.html\" rel=\"nofollow noreferrer\">In the CEntryPoint documentation</a>.</li>\n<li>The Java entry point method should be static.</li>\n<li>The Java entry point method should catch all exceptions, since it should NOT throw ANY exception. In case an exception is not caught, it is printed and then the process is terminated. However the <code>@CEntryPoint</code> documentation explicitly mention to catch all exceptions inside the java entry point methods.</li>\n<li>An <code>IsolateThread</code> parameter is required. More precisely</li>\n</ol>\n<blockquote>\n<p>An execution context must be passed as a parameter and can be either\nan IsolateThread that is specific to the current thread, or an Isolate\nfor an isolate in which the current thread is attached. These pointers\ncan be obtained via the methods of CurrentIsolate. When there is more\nthan one parameter of these types, exactly one of the parameters must\nbe annotated with CEntryPoint.IsolateThreadContext for IsolateThread,\nor CEntryPoint.IsolateContext for Isolate.</p>\n</blockquote>\n<p>The sample in your question throws this error since the <code>myFunc</code> method signature includes objects, for instance the <code>String</code> parameters. Namely <code>x</code> and <code>y</code>. This is not allowed according to the precondition <strong>1</strong> from above. This is what the error description tries to say.</p>\n<p>The solution is to use the functionality provided to convert between Java types and C types. In this case in order to pass text between <code>C</code> and <code>Java</code> we can use a <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CCharPointer.html\" rel=\"nofollow noreferrer\"><code>CCharPointer</code></a>. Since text is modeled differently in <code>C</code> and <code>Java</code>, a <code>Java String</code> must be converted to <code>C *char</code> and vice versa.</p>\n<p><strong>Creating and returning a Java String</strong></p>\n<p>There is an example below that can be used when <code>byte[]</code> represents text.</p>\n<pre><code>//These are the imports needed\nimport org.graalvm.nativeimage.c.type.CCharPointer;\nimport org.graalvm.nativeimage.c.type.CTypeConversion;\n\n@CEntryPoint(name = &quot;myFunc&quot;)\n  public static CCharPointer myFunc(IsolateThread thread, CCharPointer x, CCharPointer y) {\n        //Convert C *char to Java String\n        final String xString= CTypeConversion.toJavaString(x);\n        final String yString= CTypeConversion.toJavaString(y);\n\n        //logic goes here\n\n        //Convert Java String to C *char\n        try(final CTypeConversion.CCharPointerHolder holder=CTypeConversion.toCString(&quot;Hello from Java&quot;)){\n        \n                final CCharPointer result=holder.get();\n                return result;\n         }\n        \n  }\n</code></pre>\n<p><strong>Using and returning an array allocated in C</strong></p>\n<p>You can also follow a C style and pass as an argument an array in C and then use this array to write the result byte values in Java. The method <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CCharPointer.html#write-int-byte-\" rel=\"nofollow noreferrer\">CCharPointer.write(int,byte)</a> can write <code>Java byte</code> values to specific array indexes in the <code>*char</code> or <code>char[]</code>. The byte array can also be returned, if needed.</p>\n<pre><code>@CEntryPoint(name = &quot;myFunc2&quot;)\n  public static CCharPointer myFunc2(IsolateThread thread\n         , CCharPointer x, CCharPointer y                                                                                  \n         , CCharPointer resultArray, int resultArrayLength) {\n\n        //Convert C *char to Java String\n        final String xString= CTypeConversion.toJavaString(x);\n        final String yString= CTypeConversion.toJavaString(y);\n\n        //logic goes here\n\n        //Fill in the result array\n        final byte sampleByteValue=7;\n        for(int index =0; index&lt;resultArrayLength; index++){\n        resultArray.write(index, sampleByteValue);\n        }\n        return resultArray;\n  }\n</code></pre>\n<p><strong>Using a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">Java NIO ByteBuffer</a></strong></p>\n<p>For larger byte arrays you can check <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/nativeimage/c/type/CTypeConversion.html#asByteBuffer-org.graalvm.word.PointerBase-int-\" rel=\"nofollow noreferrer\">CTypeConversion</a> that can create a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\"><code>Java NIO ByteBuffer</code></a> with a specific capacity that refers to the native memory. Note that</p>\n<blockquote>\n<p>the caller is responsible for ensuring that the memory can be safely\naccessed while the ByteBuffer is used, and for freeing the memory\nafterwards.</p>\n</blockquote>\n"}],"owner":{"account_id":16617426,"reputation":49,"user_id":12008654,"display_name":"Sahil Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64089918,"answer_count":1,"score":2,"last_activity_date":1636454961,"creation_date":1601023545,"question_id":64060787,"body_markdown":"I am trying to create a shared library(dll with header and lib files) of a java code using graalvm.\r\n\r\nthere will be one java method with 2 parameters of type String which I will call from c++.\r\n\r\nI am using a maven project, I am not able to create the dll out of my java code, I am using graalvm to convert my java code to dll.\r\n\r\nMy java code looks like this:\r\n\r\n    package demo;\r\n    \r\n    import org.graalvm.nativeimage.IsolateThread;\r\n    import org.graalvm.nativeimage.c.function.CEntryPoint;\r\n    \r\n    public class MyClass{\r\n    \t\r\n    \t@CEntryPoint (name = &quot;myFunc&quot;)\r\n        public static byte[] myfunc(IsolateThread thread, String x, String y) {\r\n    \r\n    \t\t// logic goes here\r\n\r\n            byte[] arr = &quot;byte array will contain actual bytes&quot;.getBytes();\r\n            \r\n            return arr;\r\n        }\r\nbut when I try to build the code into dll, I got this error\r\n\r\n&gt; Error: Entry point method parameter types are restricted to primitive types, word types and enumerations (@CEnum): demo.MyClass.myFunc(IsolateThread, String, String)\r\n\r\nI searched but didn&#39;t find suitable solutions to this problem.\r\ncan anyone here please tell me how to call java methods from c++ with non-primitive datatypes\r\nany suggestions of any kind will be a great help, thanks in advance ","title":"How to call a Java entrypoint method with non-primitive types as parameters from C++ using GraalVM","body":"<p>I am trying to create a shared library(dll with header and lib files) of a java code using graalvm.</p>\n<p>there will be one java method with 2 parameters of type String which I will call from c++.</p>\n<p>I am using a maven project, I am not able to create the dll out of my java code, I am using graalvm to convert my java code to dll.</p>\n<p>My java code looks like this:</p>\n<pre><code>package demo;\n\nimport org.graalvm.nativeimage.IsolateThread;\nimport org.graalvm.nativeimage.c.function.CEntryPoint;\n\npublic class MyClass{\n    \n    @CEntryPoint (name = &quot;myFunc&quot;)\n    public static byte[] myfunc(IsolateThread thread, String x, String y) {\n\n        // logic goes here\n\n        byte[] arr = &quot;byte array will contain actual bytes&quot;.getBytes();\n        \n        return arr;\n    }\n</code></pre>\n<p>but when I try to build the code into dll, I got this error</p>\n<blockquote>\n<p>Error: Entry point method parameter types are restricted to primitive types, word types and enumerations (@CEnum): demo.MyClass.myFunc(IsolateThread, String, String)</p>\n</blockquote>\n<p>I searched but didn't find suitable solutions to this problem.\ncan anyone here please tell me how to call java methods from c++ with non-primitive datatypes\nany suggestions of any kind will be a great help, thanks in advance</p>\n"},{"tags":["java","remote-debugging","jdwp"],"comments":[{"owner":{"account_id":8371327,"reputation":734,"user_id":6286358,"display_name":"SnowmanXL"},"score":0,"creation_date":1602150673,"post_id":64258390,"comment_id":113631801,"body_markdown":"Possible, perhaps.. You will have to be willing go some lengths to create this custom behavior. Don&#39;t you think its easier to be more thorough in closing debug connections and make some agreements about this with the other developers? I","body":"Possible, perhaps.. You will have to be willing go some lengths to create this custom behavior. Don&#39;t you think its easier to be more thorough in closing debug connections and make some agreements about this with the other developers? I"},{"owner":{"account_id":8577484,"reputation":154,"user_id":6547740,"display_name":"Sahil Agarwal"},"score":0,"creation_date":1602599480,"post_id":64258390,"comment_id":113767513,"body_markdown":"Ideally yes, we should close out the debug thread. I was hoping for some way to validate if someone is running remote debug, that&#39;s it","body":"Ideally yes, we should close out the debug thread. I was hoping for some way to validate if someone is running remote debug, that&#39;s it"},{"owner":{"account_id":1462845,"reputation":98,"user_id":1376640,"display_name":"Bageshwar Pratap Narain"},"score":0,"creation_date":1629354890,"post_id":64258390,"comment_id":121665668,"body_markdown":"Were you able to find an answer for this?","body":"Were you able to find an answer for this?"}],"answers":[{"tags":[],"owner":{"account_id":16026969,"reputation":36,"user_id":11566973,"display_name":"Dmytro Kopan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636454399,"creation_date":1636454221,"answer_id":69896629,"question_id":64258390,"body_markdown":"If you have app running on Linux \r\n- Go to terminal,\r\n- Run `ss -tn src :debugPort`\r\n- Under `Peer Address:Port` you will find the host connected to your app.\r\n- Then use `tcpkill ip host 192.168.1.2` to end the connection.","title":"How do check if someone is connected to debug port, or is actively debugging","body":"<p>If you have app running on Linux</p>\n<ul>\n<li>Go to terminal,</li>\n<li>Run <code>ss -tn src :debugPort</code></li>\n<li>Under <code>Peer Address:Port</code> you will find the host connected to your app.</li>\n<li>Then use <code>tcpkill ip host 192.168.1.2</code> to end the connection.</li>\n</ul>\n"}],"owner":{"account_id":8577484,"reputation":154,"user_id":6547740,"display_name":"Sahil Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69896629,"answer_count":1,"score":1,"last_activity_date":1636454399,"creation_date":1602144685,"question_id":64258390,"body_markdown":"We have a Tomcat7 Java 11 application on which a few developers work in parallel. This has some debug ports exposed in DEV stability. Sometimes, a user might connect to the debug port and end up forgetting to close the connection, and leaves the connection open, with some active debug points causing the application to pause all processing which involves that flow.\r\n\r\nI was wondering if the following options are possible: \r\n\r\n- Use JMX or even custom Java code which can be exposed restfully on Tomcat to check is someone is actively debugging (to be clear, I don&#39;t mean if debug options are enabled, but if someone is actually connected to that port)\r\n- Get username or some identification for the user. Maybe the machine from which connection request originated?\r\n- Automatically close debug connection after some fixed time?","title":"How do check if someone is connected to debug port, or is actively debugging","body":"<p>We have a Tomcat7 Java 11 application on which a few developers work in parallel. This has some debug ports exposed in DEV stability. Sometimes, a user might connect to the debug port and end up forgetting to close the connection, and leaves the connection open, with some active debug points causing the application to pause all processing which involves that flow.</p>\n<p>I was wondering if the following options are possible:</p>\n<ul>\n<li>Use JMX or even custom Java code which can be exposed restfully on Tomcat to check is someone is actively debugging (to be clear, I don't mean if debug options are enabled, but if someone is actually connected to that port)</li>\n<li>Get username or some identification for the user. Maybe the machine from which connection request originated?</li>\n<li>Automatically close debug connection after some fixed time?</li>\n</ul>\n"},{"tags":["java","garbage-collection","java-8"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1445245771,"creation_date":1445245771,"answer_id":33210606,"question_id":33206313,"body_markdown":"Selecting the default garbage collector (among other things) is what&#39;s called the [ergonomics](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/ergonomics.html#ergonomics) process of the JVM. This process depends on the class of your machine.\r\n\r\n - For server-class machine, defined as a machine with 2 or more physical processors and 2 or more GB of physical memory (regardless of the platform), the default garbage collector is the [parallel collector](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html) (also known as throughput collector).\r\n - For client-class machine, defined as a 32-bit platform on Windows or a single-processor machine, the default garbage collector is the serial collector.\r\n\r\nSince practically all machines have 2 or more CPU, a machine is practically always considered server-class by the JVM. That&#39;s why you will find a lot of references considering the parallel collector to be the default garbage collector.","title":"Default garbage collector for Java 8","body":"<p>Selecting the default garbage collector (among other things) is what's called the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/ergonomics.html#ergonomics\">ergonomics</a> process of the JVM. This process depends on the class of your machine.</p>\n\n<ul>\n<li>For server-class machine, defined as a machine with 2 or more physical processors and 2 or more GB of physical memory (regardless of the platform), the default garbage collector is the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html\">parallel collector</a> (also known as throughput collector).</li>\n<li>For client-class machine, defined as a 32-bit platform on Windows or a single-processor machine, the default garbage collector is the serial collector.</li>\n</ul>\n\n<p>Since practically all machines have 2 or more CPU, a machine is practically always considered server-class by the JVM. That's why you will find a lot of references considering the parallel collector to be the default garbage collector.</p>\n"},{"tags":[],"owner":{"account_id":481705,"reputation":2122,"user_id":895676,"display_name":"x4444"},"down_vote_count":1,"up_vote_count":164,"is_accepted":false,"score":163,"last_activity_date":1539602614,"creation_date":1492579296,"answer_id":43486993,"question_id":33206313,"body_markdown":"Default garbage collectors:\r\n\r\n- Java 7 - Parallel GC\r\n- Java 8 - Parallel GC\r\n- Java 9 - G1 GC\r\n- Java 10 - G1 GC","title":"Default garbage collector for Java 8","body":"<p>Default garbage collectors:</p>\n\n<ul>\n<li>Java 7 - Parallel GC</li>\n<li>Java 8 - Parallel GC</li>\n<li>Java 9 - G1 GC</li>\n<li>Java 10 - G1 GC</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4903139,"reputation":1535,"user_id":3950690,"display_name":"Brajesh"},"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1537615455,"creation_date":1532339171,"answer_id":51475858,"question_id":33206313,"body_markdown":"Java has four types of garbage collectors(Up to version 10),but after stable release of java 11 , it would be 5 types. These are:-\r\n\r\n1. Serial Garbage Collector- `S GC`\r\n2. Parallel Garbage Collector- `P GC`\r\n3. CMS Garbage Collector- `CMS GC`\r\n4. G1 Garbage Collector- `G1 GC`\r\n5. The Z Garbage Collector- `ZGC`\r\n\r\nDefault implementations of GC in java -\r\n\r\n     \r\n\r\n&gt; JVM GC \r\n\r\n&gt;      Java 7 - P GC       \r\n&gt;      Java 8 - P GC\r\n&gt;      Java 9 - G1 GC\r\n&gt;      Java 10- G1 GC\r\n&gt;      Java 11- Z GC(I am not sure but it would be default GC of java 11)\r\n\r\nMore details for ZGC,please visit\r\n\r\nhttp://openjdk.java.net/projects/zgc/\r\n\r\nhttps://www.opsian.com/blog/javas-new-zgc-is-very-exciting/\r\n\r\n**Note:** If you want to verify, which GC is currently being used by JVM,you can go for following command to show default GC:-\r\n\r\n  \r\n\r\n    $ java -XX:+PrintCommandLineFlags -version \r\n\r\nIf you want to set GC according to your need, you can do this by following command. Here I am going to set G1 GC as default GC.\r\n\r\n    $ java -XX:+UseG1GC -XX:+PrintCommandLineFlags -version \r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XHfx0.jpg\r\n\r\n  \r\n\r\n    For more details , please visit \r\n  https://javapapers.com/java/types-of-java-garbage-collectors/\r\n\r\n  https://alvinalexander.com/java/java-jvm-how-show-which-garbage-collector-running\r\n\r\n","title":"Default garbage collector for Java 8","body":"<p>Java has four types of garbage collectors(Up to version 10),but after stable release of java 11 , it would be 5 types. These are:-</p>\n\n<ol>\n<li>Serial Garbage Collector- <code>S GC</code></li>\n<li>Parallel Garbage Collector- <code>P GC</code></li>\n<li>CMS Garbage Collector- <code>CMS GC</code></li>\n<li>G1 Garbage Collector- <code>G1 GC</code></li>\n<li>The Z Garbage Collector- <code>ZGC</code></li>\n</ol>\n\n<p>Default implementations of GC in java -</p>\n\n<blockquote>\n  <p>JVM GC </p>\n\n<pre><code> Java 7 - P GC       \n Java 8 - P GC\n Java 9 - G1 GC\n Java 10- G1 GC\n Java 11- Z GC(I am not sure but it would be default GC of java 11)\n</code></pre>\n</blockquote>\n\n<p>More details for ZGC,please visit</p>\n\n<p><a href=\"http://openjdk.java.net/projects/zgc/\" rel=\"noreferrer\">http://openjdk.java.net/projects/zgc/</a></p>\n\n<p><a href=\"https://www.opsian.com/blog/javas-new-zgc-is-very-exciting/\" rel=\"noreferrer\">https://www.opsian.com/blog/javas-new-zgc-is-very-exciting/</a></p>\n\n<p><strong>Note:</strong> If you want to verify, which GC is currently being used by JVM,you can go for following command to show default GC:-</p>\n\n<pre><code>$ java -XX:+PrintCommandLineFlags -version \n</code></pre>\n\n<p>If you want to set GC according to your need, you can do this by following command. Here I am going to set G1 GC as default GC.</p>\n\n<pre><code>$ java -XX:+UseG1GC -XX:+PrintCommandLineFlags -version \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XHfx0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XHfx0.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>For more details , please visit \n</code></pre>\n\n<p><a href=\"https://javapapers.com/java/types-of-java-garbage-collectors/\" rel=\"noreferrer\">https://javapapers.com/java/types-of-java-garbage-collectors/</a></p>\n\n<p><a href=\"https://alvinalexander.com/java/java-jvm-how-show-which-garbage-collector-running\" rel=\"noreferrer\">https://alvinalexander.com/java/java-jvm-how-show-which-garbage-collector-running</a></p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1636454269,"creation_date":1600426007,"answer_id":63954277,"question_id":33206313,"body_markdown":"Since Java 9 until Java 15 the G1GC is the default even on Java 15 which adds two new generation Garbage collectors the one that Oracle develop ZGC and a red hat implementation which is Shenandoah both are production ready in Java 15 september of 2020. ZGC is available on OPEN JDK https://wiki.openjdk.java.net/display/zgc/Main","title":"Default garbage collector for Java 8","body":"<p>Since Java 9 until Java 15 the G1GC is the default even on Java 15 which adds two new generation Garbage collectors the one that Oracle develop ZGC and a red hat implementation which is Shenandoah both are production ready in Java 15 september of 2020. ZGC is available on OPEN JDK <a href=\"https://wiki.openjdk.java.net/display/zgc/Main\" rel=\"nofollow noreferrer\">https://wiki.openjdk.java.net/display/zgc/Main</a></p>\n"}],"owner":{"account_id":7111887,"reputation":1439,"user_id":5439439,"accept_rate":20,"display_name":"Code Junkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115115,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"answer_count":4,"score":118,"last_activity_date":1636454269,"creation_date":1445226290,"question_id":33206313,"body_markdown":"What is the default garbage collector for Java 8?\r\n\r\nWhen I check the JMX Beans, they reveal it to be the parallel collector for the new generation and the old serial collector for the old generation.","title":"Default garbage collector for Java 8","body":"<p>What is the default garbage collector for Java 8?</p>\n\n<p>When I check the JMX Beans, they reveal it to be the parallel collector for the new generation and the old serial collector for the old generation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user2711811"},"score":2,"creation_date":1636454860,"post_id":69896472,"comment_id":123555629,"body_markdown":"`while (fruits.size() &lt; size)` seems more readable, eliminates the need for `x` variable and also naturally handles the case of input not in `[a,o,m,g]` - i.e. keeps getting input.","body":"<code>while (fruits.size() &lt; size)</code> seems more readable, eliminates the need for <code>x</code> variable and also naturally handles the case of input not in <code>[a,o,m,g]</code> - i.e. keeps getting input."}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636454229,"creation_date":1636454229,"answer_id":69896631,"question_id":69896472,"body_markdown":"The issue here is your condition in your `do-while` loop. Your current condition is, that the loop shall only be repeated if `x == size`. \r\n\r\nYou start with a `x = 1` and you increment `x` inside the `do` block of your `do-while` loop. This means, the only way that the loop is repeated is if you input `size` to be `2`. Because then, your specified condition of `while(x == size)` is `true` at the time of the check. \r\n\r\nIn all other cases, the condition is `false` and your loop does not repeat.\r\n\r\nYou might want to change the loop condition as\r\n```java\r\nwhile(x &lt;= size)\r\n```\r\nto loop `size - 1` amount of times, which runs the `do` block a total of `size` times.","title":"Why if I input a number more than 2 I don&#39;t get the loop?","body":"<p>The issue here is your condition in your <code>do-while</code> loop. Your current condition is, that the loop shall only be repeated if <code>x == size</code>.</p>\n<p>You start with a <code>x = 1</code> and you increment <code>x</code> inside the <code>do</code> block of your <code>do-while</code> loop. This means, the only way that the loop is repeated is if you input <code>size</code> to be <code>2</code>. Because then, your specified condition of <code>while(x == size)</code> is <code>true</code> at the time of the check.</p>\n<p>In all other cases, the condition is <code>false</code> and your loop does not repeat.</p>\n<p>You might want to change the loop condition as</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(x &lt;= size)\n</code></pre>\n<p>to loop <code>size - 1</code> amount of times, which runs the <code>do</code> block a total of <code>size</code> times.</p>\n"}],"owner":{"account_id":23072726,"reputation":29,"user_id":17186130,"display_name":"Pablo Job"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636454229,"creation_date":1636453525,"question_id":69896472,"body_markdown":"So, my teacher gave us an activity. We need to make a program about a Fruit Basket using Stacks. So the problem is if I input to my question more than 2 &quot;How many fruits would you like to to catch?&quot;,  I&#39;m not able to input anything after the first attempt.\r\n\r\n```java\r\npublic class FruitBasket {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\tStack &lt;String&gt; fruits = new Stack &lt;String&gt;();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Catch and Eat any of these Fruits: (&#39;Apple&#39; , &#39;Orange&#39; , &#39;Mango&#39; , &#39; Guava &#39; ) &quot;);\r\n\t\tSystem.out.print(&quot;How many fruit would you like to catch?&quot;);\r\n\t\tint size = scan.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Choose a fruit to catch. Press A , O , M or G.&quot;);\r\n\t\tscan.nextLine();\r\n\t\t\r\n\t\tint x = 1;\r\n\t\t\r\n\t\tdo {\r\n\t\tString input = scan.nextLine();\r\n\t\tSystem.out.println(&quot;Fruit &quot; + x + &quot; of &quot; + size+ &quot;: &quot; + input);\r\n\t\tx++;\r\n\t\t\r\n\t\t\r\n\t\tswitch(input) {\r\n\t\t\r\n\t\tcase &quot;a&quot;:\r\n\t\t\tfruits.add(&quot;Apple&quot;);\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase &quot;o&quot;:\r\n\t\t\tfruits.add(&quot;Orange&quot;);\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\tcase &quot;m&quot;:\r\n\t\t\tfruits.add(&quot;Mango&quot;);\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\tcase &quot;g&quot;:\r\n\t\t\tfruits.add(&quot;Guava&quot;);\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t}while(x == size);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your basket now has: &quot;  + fruits);\r\n\t\tSystem.out.println(); //Spacing\r\n\t\t\r\n\t}\r\n}\r\n```","title":"Why if I input a number more than 2 I don&#39;t get the loop?","body":"<p>So, my teacher gave us an activity. We need to make a program about a Fruit Basket using Stacks. So the problem is if I input to my question more than 2 &quot;How many fruits would you like to to catch?&quot;,  I'm not able to input anything after the first attempt.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FruitBasket {\n\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n\n        Stack &lt;String&gt; fruits = new Stack &lt;String&gt;();\n        \n        System.out.println(&quot;Catch and Eat any of these Fruits: ('Apple' , 'Orange' , 'Mango' , ' Guava ' ) &quot;);\n        System.out.print(&quot;How many fruit would you like to catch?&quot;);\n        int size = scan.nextInt();\n        \n        \n        System.out.println(&quot;Choose a fruit to catch. Press A , O , M or G.&quot;);\n        scan.nextLine();\n        \n        int x = 1;\n        \n        do {\n        String input = scan.nextLine();\n        System.out.println(&quot;Fruit &quot; + x + &quot; of &quot; + size+ &quot;: &quot; + input);\n        x++;\n        \n        \n        switch(input) {\n        \n        case &quot;a&quot;:\n            fruits.add(&quot;Apple&quot;);\n            break;\n        \n        case &quot;o&quot;:\n            fruits.add(&quot;Orange&quot;);\n            break;\n            \n        case &quot;m&quot;:\n            fruits.add(&quot;Mango&quot;);\n            break;\n            \n        case &quot;g&quot;:\n            fruits.add(&quot;Guava&quot;);\n            break;\n            \n        }\n        \n        \n        }while(x == size);\n        \n        System.out.println(&quot;Your basket now has: &quot;  + fruits);\n        System.out.println(); //Spacing\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636464639,"post_id":69896630,"comment_id":123559535,"body_markdown":"`on the file:///uri to the saved attachment.` You have to use FIleProvider to serve your file now adays.","body":"<code>on the file:&#47;&#47;&#47;uri to the saved attachment.</code> You have to use FIleProvider to serve your file now adays."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636464709,"post_id":69896630,"comment_id":123559570,"body_markdown":"`This stopped working in Android Q with the new restrictions on storage access. ` No. That is coincidal. The point is that you now have to use FileProvider for the action you use.","body":"<code>This stopped working in Android Q with the new restrictions on storage access. </code> No. That is coincidal. The point is that you now have to use FileProvider for the action you use."},{"owner":{"account_id":3289804,"reputation":21,"user_id":2768379,"display_name":"Marian Kechlibar"},"score":0,"creation_date":1636467974,"post_id":69896630,"comment_id":123561185,"body_markdown":"So I declare FileProvider in my application manifest, name my own application as android:authorities and then I can allow other applications to access files that I own via intent? Will the apps let me know that they are finished with the file, so that I can delete it again?","body":"So I declare FileProvider in my application manifest, name my own application as android:authorities and then I can allow other applications to access files that I own via intent? Will the apps let me know that they are finished with the file, so that I can delete it again?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636468232,"post_id":69896630,"comment_id":123561306,"body_markdown":"`I can allow other applications to access files` I dont know what you mean by that. Better show your code. Also your manifest code for the provider. And no, you will not be informed when apps are finished.","body":"<code>I can allow other applications to access files</code> I dont know what you mean by that. Better show your code. Also your manifest code for the provider. And no, you will not be informed when apps are finished."}],"owner":{"account_id":3289804,"reputation":21,"user_id":2768379,"display_name":"Marian Kechlibar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636454228,"creation_date":1636454228,"question_id":69896630,"body_markdown":"I am maintaining a legacy Java / C++ application for Android which is backwards compatible to some API 18. It contains a rudimentary e-mail client.\r\n\r\nUsers receive e-mails with various attachments (HTML, PDF, JPG, MP3, MP4, XLS) and want to be able to open them in external applications. Prior to Android Q, I just saved the attachments to disk and invoked an intent with ACTION_VIEW on the file:///uri to the saved attachment.\r\n\r\nThis stopped working in Android Q with the new restrictions on storage access. Even if I save a HTML file to, say, Download/ directory, Chrome won&#39;t open it from an ACTION_VIEW intent: the error is ERR_ACCESS_DENIED.\r\n\r\nI don&#39;t know how to fix this problem with the new scoped storage. Is there even a unified way how to open file types as different as PDF, HTML, JPG, MP3, MP4, XLS in external applications using intents? Or do I have to branch my code according to the type of the media and use some different approaches and directories for images, sounds, video and documents?\r\n\r\nIs ACTION_VIEW still universally capable of opening files such as HTML, or has it been restricted to media files only? I would be happy to have an universal way of opening all temporarily saved attachments (smaller code to maintain is always better), but I am not sure if it is possible at all anymore.\r\n\r\nAny help is appreciated.","title":"Saving and opening an attachment in Android Q and later","body":"<p>I am maintaining a legacy Java / C++ application for Android which is backwards compatible to some API 18. It contains a rudimentary e-mail client.</p>\n<p>Users receive e-mails with various attachments (HTML, PDF, JPG, MP3, MP4, XLS) and want to be able to open them in external applications. Prior to Android Q, I just saved the attachments to disk and invoked an intent with ACTION_VIEW on the file:///uri to the saved attachment.</p>\n<p>This stopped working in Android Q with the new restrictions on storage access. Even if I save a HTML file to, say, Download/ directory, Chrome won't open it from an ACTION_VIEW intent: the error is ERR_ACCESS_DENIED.</p>\n<p>I don't know how to fix this problem with the new scoped storage. Is there even a unified way how to open file types as different as PDF, HTML, JPG, MP3, MP4, XLS in external applications using intents? Or do I have to branch my code according to the type of the media and use some different approaches and directories for images, sounds, video and documents?</p>\n<p>Is ACTION_VIEW still universally capable of opening files such as HTML, or has it been restricted to media files only? I would be happy to have an universal way of opening all temporarily saved attachments (smaller code to maintain is always better), but I am not sure if it is possible at all anymore.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","eclipse","uml"],"comments":[{"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"score":1,"creation_date":1636458664,"post_id":69896108,"comment_id":123557117,"body_markdown":"Finaly I solved the problem with InteliJ Idea. Somethin similar for eclipse I could not find. So please do not minus me and let this question be open for a while...","body":"Finaly I solved the problem with InteliJ Idea. Somethin similar for eclipse I could not find. So please do not minus me and let this question be open for a while..."}],"answers":[{"tags":[],"owner":{"display_name":"user15175462"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636453033,"creation_date":1636453033,"answer_id":69896368,"question_id":69896108,"body_markdown":"visit https://stackoverflow.com/questions/51786/how-to-generate-uml-diagrams-especially-sequence-diagrams-from-java-code\r\n\r\nTake a look at this one here (Your question is already answered)","title":"generate uml from existing source eclipse","body":"<p>visit <a href=\"https://stackoverflow.com/questions/51786/how-to-generate-uml-diagrams-especially-sequence-diagrams-from-java-code\">How to generate UML diagrams (especially sequence diagrams) from Java code?</a></p>\n<p>Take a look at this one here (Your question is already answered)</p>\n"}],"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4400,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1636454044,"creation_date":1636451860,"question_id":69896108,"body_markdown":"Just a quick question. I have a Spring boot crud application and need to generate a class diagram for it. Is that posible to generate one using eclipse. I tryed to research this topic but nothin found. Some are not maintained some simply don&#39;t work. I use latest 2021-09 eclipse for Java Enterprice. \r\nUPDATE: I tryed to use plant uml. It generates somethin, but one by one can I generate the diagram just in once for whole project. Like it is done in Visual Studio for example?","title":"generate uml from existing source eclipse","body":"<p>Just a quick question. I have a Spring boot crud application and need to generate a class diagram for it. Is that posible to generate one using eclipse. I tryed to research this topic but nothin found. Some are not maintained some simply don't work. I use latest 2021-09 eclipse for Java Enterprice.\nUPDATE: I tryed to use plant uml. It generates somethin, but one by one can I generate the diagram just in once for whole project. Like it is done in Visual Studio for example?</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1636458210,"post_id":69896581,"comment_id":123556939,"body_markdown":"SuppressWarnings is to suppress warnings during compilations.  In your case, you want them to be removed from your log file if I understand correctly.   RESTEasy is what is displaying these messages, so not Junit.  You will need to set your logging lib to log org.jboss.resteasy.plugins.providers package to INFO instead.  This will remove all WARN messages for this org.jboss.resteasy.plugins.providers package","body":"SuppressWarnings is to suppress warnings during compilations.  In your case, you want them to be removed from your log file if I understand correctly.   RESTEasy is what is displaying these messages, so not Junit.  You will need to set your logging lib to log org.jboss.resteasy.plugins.providers package to INFO instead.  This will remove all WARN messages for this org.jboss.resteasy.plugins.providers package"},{"owner":{"account_id":7843748,"reputation":3156,"user_id":5929425,"accept_rate":81,"display_name":"Carla"},"score":0,"creation_date":1636474159,"post_id":69896581,"comment_id":123564123,"body_markdown":"Thanks. I see. I thought the @SuppressWarnings were able to suppress also on the warnings generated by test execution. Seems I&#39;ve misunderstood it. Thanks","body":"Thanks. I see. I thought the @SuppressWarnings were able to suppress also on the warnings generated by test execution. Seems I&#39;ve misunderstood it. Thanks"}],"owner":{"account_id":7843748,"reputation":3156,"user_id":5929425,"accept_rate":81,"display_name":"Carla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636454010,"creation_date":1636454010,"question_id":69896581,"body_markdown":"I have a JUnit4 test executed with Maven which emits the following WARN Message:\r\n\r\n    WARN: RESTEASY002145: NoClassDefFoundError: Unable to load builtin provider org.jboss.resteasy.plugins.providers.DataSourceProvider from jar:file:/home/user/.m2/repository/org/jboss/resteasy/resteasy-core/4.7.2.Final/resteasy-core-4.7.2.Final.jar!/META-INF/services/javax.ws.rs.ext.Providers\r\n    java.lang.NoClassDefFoundError: javax/activation/DataSource\r\n\r\nUntil I find a proper fix for this WARN, I&#39;d like to suppress this message. I have tried varios combinations, such as:\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;RESTEASY002145&quot;)\r\n\r\nor\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;java.lang.NoClassDefFoundError&quot;)\r\n\r\nbut none worked for me. Any idea? Thanks","title":"Unable to suppress WARN message in JUnit Test","body":"<p>I have a JUnit4 test executed with Maven which emits the following WARN Message:</p>\n<pre><code>WARN: RESTEASY002145: NoClassDefFoundError: Unable to load builtin provider org.jboss.resteasy.plugins.providers.DataSourceProvider from jar:file:/home/user/.m2/repository/org/jboss/resteasy/resteasy-core/4.7.2.Final/resteasy-core-4.7.2.Final.jar!/META-INF/services/javax.ws.rs.ext.Providers\njava.lang.NoClassDefFoundError: javax/activation/DataSource\n</code></pre>\n<p>Until I find a proper fix for this WARN, I'd like to suppress this message. I have tried varios combinations, such as:</p>\n<pre><code>@Test\n@SuppressWarnings(&quot;RESTEASY002145&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@Test\n@SuppressWarnings(&quot;java.lang.NoClassDefFoundError&quot;)\n</code></pre>\n<p>but none worked for me. Any idea? Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1636015027,"post_id":69835868,"comment_id":123446319,"body_markdown":"What library &amp; version are you using for PDF creation?","body":"What library &amp; version are you using for PDF creation?"},{"owner":{"account_id":23235653,"reputation":1,"user_id":17325688,"display_name":"Sanele Cele"},"score":0,"creation_date":1636016861,"post_id":69835868,"comment_id":123447021,"body_markdown":"&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;kernel&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;7.1.9&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;kernel&lt;/artifactId&gt; \t\t\t&lt;version&gt;7.1.9&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":23235653,"reputation":1,"user_id":17325688,"display_name":"Sanele Cele"},"score":0,"creation_date":1636018555,"post_id":69835868,"comment_id":123447648,"body_markdown":"itextpdf kernel version 7.1.9","body":"itextpdf kernel version 7.1.9"}],"answers":[{"tags":[],"owner":{"account_id":23235653,"reputation":1,"user_id":17325688,"display_name":"Sanele Cele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636453912,"creation_date":1636445797,"answer_id":69894788,"question_id":69835868,"body_markdown":"thank you for your suggestion of breaking it down, creating an encrypt method helped in producing the protected file.\r\n```\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;)List&lt;MultipartFile&gt; multipartFiles) throws IOException, DocumentException {\r\n        List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\r\n        for (MultipartFile file : multipartFiles){\r\n            String filename = StringUtils.cleanPath(file.getOriginalFilename());\r\n            Path fileStorage = get(DIRECTORY, filename).toAbsolutePath().normalize();\r\n            copy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\r\n            encrypt(fileStorage, filename);\r\n            filenames.add(filename);\r\n\r\n        }\r\n        return ResponseEntity.ok().body(filenames);\r\n    }\r\n\r\n    public static void encrypt(Path src, String filename){\r\n            try {\r\n                FileInputStream fis = new FileInputStream(String.valueOf(src));\r\n                PdfReader pdfReader = new PdfReader(fis);\r\n                pdfReader.setUnethicalReading(true);\r\n                WriterProperties writerProperties = new WriterProperties();\r\n                writerProperties.setStandardEncryption(OWNER_PASSWORD.getBytes(),\r\n                        USER_PASSWORD.getBytes(), EncryptionConstants.ALLOW_PRINTING,\r\n                        EncryptionConstants.ENCRYPTION_AES_128);\r\n                PdfWriter pdfWriter = new PdfWriter(new FileOutputStream(filename), writerProperties);\r\n                PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter);\r\n                pdfDocument.close();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n```","title":"I&#39;m trying to write a program that&#39;ll password protect a pdf for a user. The user needs to be able to upload the pdf and download a protected one","body":"<p>thank you for your suggestion of breaking it down, creating an encrypt method helped in producing the protected file.</p>\n<pre><code>    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;)List&lt;MultipartFile&gt; multipartFiles) throws IOException, DocumentException {\n        List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\n        for (MultipartFile file : multipartFiles){\n            String filename = StringUtils.cleanPath(file.getOriginalFilename());\n            Path fileStorage = get(DIRECTORY, filename).toAbsolutePath().normalize();\n            copy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\n            encrypt(fileStorage, filename);\n            filenames.add(filename);\n\n        }\n        return ResponseEntity.ok().body(filenames);\n    }\n\n    public static void encrypt(Path src, String filename){\n            try {\n                FileInputStream fis = new FileInputStream(String.valueOf(src));\n                PdfReader pdfReader = new PdfReader(fis);\n                pdfReader.setUnethicalReading(true);\n                WriterProperties writerProperties = new WriterProperties();\n                writerProperties.setStandardEncryption(OWNER_PASSWORD.getBytes(),\n                        USER_PASSWORD.getBytes(), EncryptionConstants.ALLOW_PRINTING,\n                        EncryptionConstants.ENCRYPTION_AES_128);\n                PdfWriter pdfWriter = new PdfWriter(new FileOutputStream(filename), writerProperties);\n                PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter);\n                pdfDocument.close();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":23235653,"reputation":1,"user_id":17325688,"display_name":"Sanele Cele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636453912,"creation_date":1636012388,"question_id":69835868,"body_markdown":"in my attempts, i would either get a corrupt file or an unprotected pfd, here&#39;s the code im using:\r\n\r\n//upload files method\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;)List&lt;MultipartFile&gt; multipartFiles) throws IOException, DocumentException {\r\n        List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\r\n        for (MultipartFile file : multipartFiles){\r\n            String filename = StringUtils.cleanPath(file.getOriginalFilename());\r\n            Path fileStorage = get(DIRECTORY, filename).toAbsolutePath().normalize();\r\n            copy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\r\n\r\n            File f = new File(String.valueOf(fileStorage));\r\n            if(!f.exists() &amp;&amp; !f.isDirectory()) {\r\n                try {\r\n                    FileInputStream fis = new FileInputStream(f);\r\n                    PdfReader pdfReader = new PdfReader(fis);\r\n                    pdfReader.setUnethicalReading(true);\r\n                    WriterProperties writerProperties = new WriterProperties();\r\n                    writerProperties.setStandardEncryption(OWNER_PASSWORD.getBytes(),\r\n                            USER_PASSWORD.getBytes(), EncryptionConstants.ALLOW_PRINTING,\r\n                            EncryptionConstants.ENCRYPTION_AES_128);\r\n                    PdfWriter pdfWriter = new PdfWriter(new FileOutputStream(&quot;Protected_&quot;+DIRECTORY), writerProperties);\r\n                    PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter);\r\n                    pdfDocument.close();\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n            filenames.add(filename);\r\n\r\n        }\r\n        return ResponseEntity.ok().body(filenames);\r\n    }\r\n\r\n\r\nany help with this problem would be appreciated. because i need my users to upload a normal pdf file and be able download the same pdf file with password protection","title":"I&#39;m trying to write a program that&#39;ll password protect a pdf for a user. The user needs to be able to upload the pdf and download a protected one","body":"<p>in my attempts, i would either get a corrupt file or an unprotected pfd, here's the code im using:</p>\n<p>//upload files method</p>\n<pre><code>@RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;List&lt;String&gt;&gt; uploadFiles(@RequestParam(&quot;files&quot;)List&lt;MultipartFile&gt; multipartFiles) throws IOException, DocumentException {\n    List&lt;String&gt; filenames = new ArrayList&lt;&gt;();\n    for (MultipartFile file : multipartFiles){\n        String filename = StringUtils.cleanPath(file.getOriginalFilename());\n        Path fileStorage = get(DIRECTORY, filename).toAbsolutePath().normalize();\n        copy(file.getInputStream(), fileStorage, REPLACE_EXISTING);\n\n        File f = new File(String.valueOf(fileStorage));\n        if(!f.exists() &amp;&amp; !f.isDirectory()) {\n            try {\n                FileInputStream fis = new FileInputStream(f);\n                PdfReader pdfReader = new PdfReader(fis);\n                pdfReader.setUnethicalReading(true);\n                WriterProperties writerProperties = new WriterProperties();\n                writerProperties.setStandardEncryption(OWNER_PASSWORD.getBytes(),\n                        USER_PASSWORD.getBytes(), EncryptionConstants.ALLOW_PRINTING,\n                        EncryptionConstants.ENCRYPTION_AES_128);\n                PdfWriter pdfWriter = new PdfWriter(new FileOutputStream(&quot;Protected_&quot;+DIRECTORY), writerProperties);\n                PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter);\n                pdfDocument.close();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n        filenames.add(filename);\n\n    }\n    return ResponseEntity.ok().body(filenames);\n}\n</code></pre>\n<p>any help with this problem would be appreciated. because i need my users to upload a normal pdf file and be able download the same pdf file with password protection</p>\n"},{"tags":["java","json","string","formatting"],"answers":[{"tags":[],"owner":{"account_id":1014615,"reputation":81400,"user_id":1026459,"accept_rate":92,"display_name":"Travis J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324500811,"creation_date":1324500811,"answer_id":8596194,"question_id":8596161,"body_markdown":"The JSON string will have a leading &quot;[&quot; and a trailing &quot;]&quot;.  Remove these and then use the split method from String to separate the items into an array.  You can then iterate through your array and place the data into relevant areas.","title":"JSON String tidy/formatter for Java","body":"<p>The JSON string will have a leading \"[\" and a trailing \"]\".  Remove these and then use the split method from String to separate the items into an array.  You can then iterate through your array and place the data into relevant areas.</p>\n"},{"tags":[],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324501407,"creation_date":1324501407,"answer_id":8596313,"question_id":8596161,"body_markdown":"if your using CQ5 or any JCR based CMS as i guess :)\r\n\r\nyou can use java json parser to do the job. it has a JSONObject class and a toString() method to convert it to String. \r\n\r\nfor further reference refer\r\n\r\n[http://json.org/java/][1]\r\n\r\n\r\n  [1]: http://json.org/java/","title":"JSON String tidy/formatter for Java","body":"<p>if your using CQ5 or any JCR based CMS as i guess :)</p>\n\n<p>you can use java json parser to do the job. it has a JSONObject class and a toString() method to convert it to String. </p>\n\n<p>for further reference refer</p>\n\n<p><a href=\"http://json.org/java/\" rel=\"nofollow\">http://json.org/java/</a></p>\n"},{"tags":[],"owner":{"account_id":224115,"reputation":20659,"user_id":483728,"accept_rate":71,"display_name":"Ali Shakiba"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1466547424,"creation_date":1324502716,"answer_id":8596593,"question_id":8596161,"body_markdown":"With gson you can do:\r\n\r\n    JsonParser parser = new JsonParser();\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n    JsonElement el = parser.parse(jsonString);\r\n    jsonString = gson.toJson(el); // done\r\n","title":"JSON String tidy/formatter for Java","body":"<p>With gson you can do:</p>\n\n<pre><code>JsonParser parser = new JsonParser();\nGson gson = new GsonBuilder().setPrettyPrinting().create();\n\nJsonElement el = parser.parse(jsonString);\njsonString = gson.toJson(el); // done\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1324504080,"creation_date":1324504080,"answer_id":8596833,"question_id":8596161,"body_markdown":"You don&#39;t need an outside library.\r\n\r\nUse the built in pretty printer in Sling&#39;s JSONObject: http://sling.apache.org/apidocs/sling5/org/apache/sling/commons/json/JSONObject.html#toString(int)\r\n\r\n&gt; public java.lang.String toString(int indentFactor)\r\n&gt;                           throws JSONException \r\n&gt; \r\n&gt; Make a prettyprinted JSON text of this JSONObject. Warning: This method assumes that the\r\n&gt; data structure is acyclical.\r\n&gt; \r\n&gt; Parameters: \r\n&gt; \r\n&gt; indentFactor - The number of spaces to add to each level\r\n&gt; of indentation. \r\n&gt; \r\n&gt; Returns: a printable, displayable, portable,\r\n&gt; transmittable representation of the object, beginning with { (left\r\n&gt; brace) and ending with } (right brace). \r\n&gt; \r\n&gt; Throws: JSONException - If the\r\n&gt; object contains an invalid number.","title":"JSON String tidy/formatter for Java","body":"<p>You don't need an outside library.</p>\n\n<p>Use the built in pretty printer in Sling's JSONObject: <a href=\"http://sling.apache.org/apidocs/sling5/org/apache/sling/commons/json/JSONObject.html#toString(int\">http://sling.apache.org/apidocs/sling5/org/apache/sling/commons/json/JSONObject.html#toString(int</a>)</p>\n\n<blockquote>\n  <p>public java.lang.String toString(int indentFactor)\n                            throws JSONException </p>\n  \n  <p>Make a prettyprinted JSON text of this JSONObject. Warning: This method assumes that the\n  data structure is acyclical.</p>\n  \n  <p>Parameters: </p>\n  \n  <p>indentFactor - The number of spaces to add to each level\n  of indentation. </p>\n  \n  <p>Returns: a printable, displayable, portable,\n  transmittable representation of the object, beginning with { (left\n  brace) and ending with } (right brace). </p>\n  \n  <p>Throws: JSONException - If the\n  object contains an invalid number.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1324504232,"creation_date":1324504232,"answer_id":8596864,"question_id":8596161,"body_markdown":"+1 for JohnS&#39;s gson answer, but here&#39;s a way with the &quot;standard&quot; JSONObject library:\r\n\r\n\r\n    public class JsonFormatter{\r\n    \r\n        public static String format(final JSONObject object) throws JSONException{\r\n            final JsonVisitor visitor = new JsonVisitor(4, &#39; &#39;);\r\n            visitor.visit(object, 0);\r\n            return visitor.toString();\r\n        }\r\n\r\n        private static class JsonVisitor{\r\n    \r\n            private final StringBuilder builder = new StringBuilder();\r\n            private final int indentationSize;\r\n            private final char indentationChar;\r\n    \r\n            public JsonVisitor(final int indentationSize, final char indentationChar){\r\n                this.indentationSize = indentationSize;\r\n                this.indentationChar = indentationChar;\r\n            }\r\n    \r\n            private void visit(final JSONArray array, final int indent) throws JSONException{\r\n                final int length = array.length();\r\n                if(length == 0){\r\n                    write(&quot;[]&quot;, indent);\r\n                } else{\r\n                    write(&quot;[&quot;, indent);\r\n                    for(int i = 0; i &lt; length; i++){\r\n                        visit(array.get(i), indent + 1);\r\n                    }\r\n                    write(&quot;]&quot;, indent);\r\n                }\r\n    \r\n            }\r\n    \r\n            private void visit(final JSONObject obj, final int indent) throws JSONException{\r\n                final int length = obj.length();\r\n                if(length == 0){\r\n                    write(&quot;{}&quot;, indent);\r\n                } else{\r\n                    write(&quot;{&quot;, indent);\r\n                    final Iterator&lt;String&gt; keys = obj.keys();\r\n                    while(keys.hasNext()){\r\n                        final String key = keys.next();\r\n                        write(key + &quot; :&quot;, indent + 1);\r\n                        visit(obj.get(key), indent + 1);\r\n                        if(keys.hasNext()){\r\n                            write(&quot;,&quot;, indent + 1);\r\n                        }\r\n                    }\r\n                    write(&quot;}&quot;, indent);\r\n                }\r\n    \r\n            }\r\n    \r\n            private void visit(final Object object, final int indent) throws JSONException{\r\n                if(object instanceof JSONArray){\r\n                    visit((JSONArray) object, indent);\r\n                } else if(object instanceof JSONObject){\r\n                    visit((JSONObject) object, indent);\r\n                } else{\r\n                    if(object instanceof String){\r\n                        write(&quot;\\&quot;&quot; + (String) object + &quot;\\&quot;&quot;, indent);\r\n                    } else{\r\n                        write(String.valueOf(object), indent);\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            private void write(final String data, final int indent){\r\n                for(int i = 0; i &lt; (indent * indentationSize); i++){\r\n                    builder.append(indentationChar);\r\n                }\r\n                builder.append(data).append(&#39;\\n&#39;);\r\n            }\r\n    \r\n            @Override\r\n            public String toString(){\r\n                return builder.toString();\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n\r\n    public static void main(final String[] args) throws JSONException{\r\n        final JSONObject obj =\r\n                new JSONObject(&quot;{\\&quot;glossary\\&quot;:{\\&quot;title\\&quot;: \\&quot;example glossary\\&quot;, \\&quot;GlossDiv\\&quot;:{\\&quot;title\\&quot;: \\&quot;S\\&quot;, \\&quot;GlossList\\&quot;:{\\&quot;GlossEntry\\&quot;:{\\&quot;ID\\&quot;: \\&quot;SGML\\&quot;, \\&quot;SortAs\\&quot;: \\&quot;SGML\\&quot;, \\&quot;GlossTerm\\&quot;: \\&quot;Standard Generalized Markup Language\\&quot;, \\&quot;Acronym\\&quot;: \\&quot;SGML\\&quot;, \\&quot;Abbrev\\&quot;: \\&quot;ISO 8879:1986\\&quot;, \\&quot;GlossDef\\&quot;:{\\&quot;para\\&quot;: \\&quot;A meta-markup language, used to create markup languages such as DocBook.\\&quot;, \\&quot;GlossSeeAlso\\&quot;: [\\&quot;GML\\&quot;, \\&quot;XML\\&quot;]}, \\&quot;GlossSee\\&quot;: \\&quot;markup\\&quot;}}}}}&quot;);\r\n        System.out.println(JsonFormatter.format(obj));\r\n    }\r\n\r\nOutput:\r\n\r\n    {\r\n        glossary :\r\n        {\r\n            title :\r\n            &quot;example glossary&quot;\r\n            ,\r\n            GlossDiv :\r\n            {\r\n                GlossList :\r\n                {\r\n                    GlossEntry :\r\n                    {\r\n                        SortAs :\r\n                        &quot;SGML&quot;\r\n                        ,\r\n                        GlossDef :\r\n                        {\r\n                            GlossSeeAlso :\r\n                            [\r\n                                &quot;GML&quot;\r\n                                &quot;XML&quot;\r\n                            ]\r\n                            ,\r\n                            para :\r\n                            &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;\r\n                        }\r\n                        ,\r\n                        GlossSee :\r\n                        &quot;markup&quot;\r\n                        ,\r\n                        GlossTerm :\r\n                        &quot;Standard Generalized Markup Language&quot;\r\n                        ,\r\n                        ID :\r\n                        &quot;SGML&quot;\r\n                        ,\r\n                        Acronym :\r\n                        &quot;SGML&quot;\r\n                        ,\r\n                        Abbrev :\r\n                        &quot;ISO 8879:1986&quot;\r\n                    }\r\n                }\r\n                ,\r\n                title :\r\n                &quot;S&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"JSON String tidy/formatter for Java","body":"<p>+1 for JohnS's gson answer, but here's a way with the \"standard\" JSONObject library:</p>\n\n<pre><code>public class JsonFormatter{\n\n    public static String format(final JSONObject object) throws JSONException{\n        final JsonVisitor visitor = new JsonVisitor(4, ' ');\n        visitor.visit(object, 0);\n        return visitor.toString();\n    }\n\n    private static class JsonVisitor{\n\n        private final StringBuilder builder = new StringBuilder();\n        private final int indentationSize;\n        private final char indentationChar;\n\n        public JsonVisitor(final int indentationSize, final char indentationChar){\n            this.indentationSize = indentationSize;\n            this.indentationChar = indentationChar;\n        }\n\n        private void visit(final JSONArray array, final int indent) throws JSONException{\n            final int length = array.length();\n            if(length == 0){\n                write(\"[]\", indent);\n            } else{\n                write(\"[\", indent);\n                for(int i = 0; i &lt; length; i++){\n                    visit(array.get(i), indent + 1);\n                }\n                write(\"]\", indent);\n            }\n\n        }\n\n        private void visit(final JSONObject obj, final int indent) throws JSONException{\n            final int length = obj.length();\n            if(length == 0){\n                write(\"{}\", indent);\n            } else{\n                write(\"{\", indent);\n                final Iterator&lt;String&gt; keys = obj.keys();\n                while(keys.hasNext()){\n                    final String key = keys.next();\n                    write(key + \" :\", indent + 1);\n                    visit(obj.get(key), indent + 1);\n                    if(keys.hasNext()){\n                        write(\",\", indent + 1);\n                    }\n                }\n                write(\"}\", indent);\n            }\n\n        }\n\n        private void visit(final Object object, final int indent) throws JSONException{\n            if(object instanceof JSONArray){\n                visit((JSONArray) object, indent);\n            } else if(object instanceof JSONObject){\n                visit((JSONObject) object, indent);\n            } else{\n                if(object instanceof String){\n                    write(\"\\\"\" + (String) object + \"\\\"\", indent);\n                } else{\n                    write(String.valueOf(object), indent);\n                }\n            }\n\n        }\n\n        private void write(final String data, final int indent){\n            for(int i = 0; i &lt; (indent * indentationSize); i++){\n                builder.append(indentationChar);\n            }\n            builder.append(data).append('\\n');\n        }\n\n        @Override\n        public String toString(){\n            return builder.toString();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(final String[] args) throws JSONException{\n    final JSONObject obj =\n            new JSONObject(\"{\\\"glossary\\\":{\\\"title\\\": \\\"example glossary\\\", \\\"GlossDiv\\\":{\\\"title\\\": \\\"S\\\", \\\"GlossList\\\":{\\\"GlossEntry\\\":{\\\"ID\\\": \\\"SGML\\\", \\\"SortAs\\\": \\\"SGML\\\", \\\"GlossTerm\\\": \\\"Standard Generalized Markup Language\\\", \\\"Acronym\\\": \\\"SGML\\\", \\\"Abbrev\\\": \\\"ISO 8879:1986\\\", \\\"GlossDef\\\":{\\\"para\\\": \\\"A meta-markup language, used to create markup languages such as DocBook.\\\", \\\"GlossSeeAlso\\\": [\\\"GML\\\", \\\"XML\\\"]}, \\\"GlossSee\\\": \\\"markup\\\"}}}}}\");\n    System.out.println(JsonFormatter.format(obj));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n    glossary :\n    {\n        title :\n        \"example glossary\"\n        ,\n        GlossDiv :\n        {\n            GlossList :\n            {\n                GlossEntry :\n                {\n                    SortAs :\n                    \"SGML\"\n                    ,\n                    GlossDef :\n                    {\n                        GlossSeeAlso :\n                        [\n                            \"GML\"\n                            \"XML\"\n                        ]\n                        ,\n                        para :\n                        \"A meta-markup language, used to create markup languages such as DocBook.\"\n                    }\n                    ,\n                    GlossSee :\n                    \"markup\"\n                    ,\n                    GlossTerm :\n                    \"Standard Generalized Markup Language\"\n                    ,\n                    ID :\n                    \"SGML\"\n                    ,\n                    Acronym :\n                    \"SGML\"\n                    ,\n                    Abbrev :\n                    \"ISO 8879:1986\"\n                }\n            }\n            ,\n            title :\n            \"S\"\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365390,"reputation":28841,"user_id":710284,"display_name":"Oded Breiner"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1450084231,"creation_date":1419849962,"answer_id":27687377,"question_id":8596161,"body_markdown":"Many JSON libraries have a special `.toString(int indentation)` method\r\n\r\n\r\n    // if it&#39;s not already, convert to a JSON object\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    // To string method prints it with specified indentation\r\n    System.out.println(jsonObject.toString(4));","title":"JSON String tidy/formatter for Java","body":"<p>Many JSON libraries have a special <code>.toString(int indentation)</code> method</p>\n\n<pre><code>// if it's not already, convert to a JSON object\nJSONObject jsonObject = new JSONObject(jsonString);\n// To string method prints it with specified indentation\nSystem.out.println(jsonObject.toString(4));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11897462,"reputation":99,"user_id":8706413,"display_name":"Janardhan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1636453701,"creation_date":1506915111,"answer_id":46519130,"question_id":8596161,"body_markdown":"    public static String formatJSONStr(final String json_str, final int indent_width) {\r\n        final char[] chars = json_str.toCharArray();\r\n        final String newline = System.lineSeparator();\r\n\r\n        String ret = &quot;&quot;;\r\n        boolean begin_quotes = false;\r\n\r\n        for (int i = 0, indent = 0; i &lt; chars.length; i++) {\r\n            char c = chars[i];\r\n\r\n            if (c == &#39;\\&quot;&#39;) {\r\n                ret += c;\r\n                begin_quotes = !begin_quotes;\r\n                continue;\r\n            }\r\n\r\n            if (!begin_quotes) {\r\n                switch (c) {\r\n                case &#39;{&#39;:\r\n                case &#39;[&#39;:\r\n                    ret += c + newline + String.format(&quot;%&quot; + (indent += indent_width) + &quot;s&quot;, &quot;&quot;);\r\n                    continue;\r\n                case &#39;}&#39;:\r\n                case &#39;]&#39;:\r\n                    ret += newline + ((indent -= indent_width) &gt; 0 ? String.format(&quot;%&quot; + indent + &quot;s&quot;, &quot;&quot;) : &quot;&quot;) + c;\r\n                    continue;\r\n                case &#39;:&#39;:\r\n                    ret += c + &quot; &quot;;\r\n                    continue;\r\n                case &#39;,&#39;:\r\n                    ret += c + newline + (indent &gt; 0 ? String.format(&quot;%&quot; + indent + &quot;s&quot;, &quot;&quot;) : &quot;&quot;);\r\n                    continue;\r\n                default:\r\n                    if (Character.isWhitespace(c)) continue;\r\n                }\r\n            }\r\n\r\n            ret += c + (c == &#39;\\\\&#39; ? &quot;&quot; + chars[++i] : &quot;&quot;);\r\n        }\r\n\r\n        return ret;\r\n    }","title":"JSON String tidy/formatter for Java","body":"<pre><code>public static String formatJSONStr(final String json_str, final int indent_width) {\n    final char[] chars = json_str.toCharArray();\n    final String newline = System.lineSeparator();\n\n    String ret = &quot;&quot;;\n    boolean begin_quotes = false;\n\n    for (int i = 0, indent = 0; i &lt; chars.length; i++) {\n        char c = chars[i];\n\n        if (c == '\\&quot;') {\n            ret += c;\n            begin_quotes = !begin_quotes;\n            continue;\n        }\n\n        if (!begin_quotes) {\n            switch (c) {\n            case '{':\n            case '[':\n                ret += c + newline + String.format(&quot;%&quot; + (indent += indent_width) + &quot;s&quot;, &quot;&quot;);\n                continue;\n            case '}':\n            case ']':\n                ret += newline + ((indent -= indent_width) &gt; 0 ? String.format(&quot;%&quot; + indent + &quot;s&quot;, &quot;&quot;) : &quot;&quot;) + c;\n                continue;\n            case ':':\n                ret += c + &quot; &quot;;\n                continue;\n            case ',':\n                ret += c + newline + (indent &gt; 0 ? String.format(&quot;%&quot; + indent + &quot;s&quot;, &quot;&quot;) : &quot;&quot;);\n                continue;\n            default:\n                if (Character.isWhitespace(c)) continue;\n            }\n        }\n\n        ret += c + (c == '\\\\' ? &quot;&quot; + chars[++i] : &quot;&quot;);\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575883256,"creation_date":1562475258,"answer_id":56919443,"question_id":8596161,"body_markdown":"[Underscore-java][1] has statistic method `U.formatJson(json)`. I am the maintainer of the library.\r\n\r\n    U.formatJson(&quot;{\\&quot;a\\&quot;:{\\&quot;b\\&quot;:\\&quot;data\\&quot;}}&quot;);\r\n\r\n    // {\r\n    //    &quot;a&quot;: {\r\n    //      &quot;b&quot;: &quot;data&quot;\r\n    //    }\r\n    // }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"JSON String tidy/formatter for Java","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> has statistic method <code>U.formatJson(json)</code>. I am the maintainer of the library.</p>\n\n<pre><code>U.formatJson(\"{\\\"a\\\":{\\\"b\\\":\\\"data\\\"}}\");\n\n// {\n//    \"a\": {\n//      \"b\": \"data\"\n//    }\n// }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8734251,"reputation":106,"user_id":6533388,"display_name":"Thorsten Hilker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568488878,"creation_date":1568488878,"answer_id":57938563,"question_id":8596161,"body_markdown":"The jackson way:\r\n\r\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n    ...\r\n    OBJECT_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(node);","title":"JSON String tidy/formatter for Java","body":"<p>The jackson way:</p>\n\n<pre><code>private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n...\nOBJECT_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(node);\n</code></pre>\n"}],"owner":{"account_id":45443,"reputation":3769,"user_id":133936,"accept_rate":68,"display_name":"empire29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116143,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"closed_date":1582488865,"accepted_answer_id":8596833,"answer_count":9,"score":34,"last_activity_date":1636453701,"creation_date":1324500584,"question_id":8596161,"body_markdown":"I have a valid JSON String that I want to tidy/format such that each property/value pair is on its own line, etc. (it currently is on one line with no spaces/line breaks). \r\n\r\nI am using the Apache Sling `JSONObject` to model my JSON Object and turn it into a String, so if the Sling `JSONObject` can be set to output a tidy string (which I do not think it can) that would work too.\r\n\r\nIf I need a 3rd party lib I would prefer one with as few dependencies as possibles (such as Jackson which only requires the std JDK libs).","title":"JSON String tidy/formatter for Java","body":"<p>I have a valid JSON String that I want to tidy/format such that each property/value pair is on its own line, etc. (it currently is on one line with no spaces/line breaks).</p>\n<p>I am using the Apache Sling <code>JSONObject</code> to model my JSON Object and turn it into a String, so if the Sling <code>JSONObject</code> can be set to output a tidy string (which I do not think it can) that would work too.</p>\n<p>If I need a 3rd party lib I would prefer one with as few dependencies as possibles (such as Jackson which only requires the std JDK libs).</p>\n"},{"tags":["java","xslt","saxon"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636453133,"creation_date":1636453133,"answer_id":69896393,"question_id":69896343,"body_markdown":"I think you want `import net.sf.saxon.lib.FeatureKeys`, see https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/lib/FeatureKeys.html","title":"saxon.FeatureKeys importing error in java spring-boot project","body":"<p>I think you want <code>import net.sf.saxon.lib.FeatureKeys</code>, see <a href=\"https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/lib/FeatureKeys.html\" rel=\"nofollow noreferrer\">https://www.saxonica.com/html/documentation10/javadoc/net/sf/saxon/lib/FeatureKeys.html</a></p>\n"}],"owner":{"account_id":23009830,"reputation":7,"user_id":17132506,"display_name":"Kakashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69896393,"answer_count":1,"score":0,"last_activity_date":1636453133,"creation_date":1636452913,"question_id":69896343,"body_markdown":"I am getting the saxon-importing error like,  \r\n\r\n    The &quot;import net.sf.saxon.FeatureKeys&quot; cannot be resolved. \r\n\r\nHow can I add the dependency to resolve the &quot;net.sf.saxon.FeatureKeys&quot; error.\r\n\r\n\r\nI have already added the given dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.saxon/Saxon-HE --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\r\n    &lt;version&gt;10.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease help me out to resolve this issue.\r\n\r\n","title":"saxon.FeatureKeys importing error in java spring-boot project","body":"<p>I am getting the saxon-importing error like,</p>\n<pre><code>The &quot;import net.sf.saxon.FeatureKeys&quot; cannot be resolved. \n</code></pre>\n<p>How can I add the dependency to resolve the &quot;net.sf.saxon.FeatureKeys&quot; error.</p>\n<p>I have already added the given dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.sf.saxon/Saxon-HE --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n&lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\n&lt;version&gt;10.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please help me out to resolve this issue.</p>\n"},{"tags":["java","android","android-intent","android-recyclerview"],"comments":[{"owner":{"account_id":1900159,"reputation":2446,"user_id":1716170,"accept_rate":70,"display_name":"doubleA"},"score":0,"creation_date":1489428518,"post_id":42770404,"comment_id":72656544,"body_markdown":"Trying to get some context here. Are you attempting to inflate a recycler view into a viewholder that is already in a recycler view?   Essentially it looks like you are implementing a nested recycler view. Is that correct?","body":"Trying to get some context here. Are you attempting to inflate a recycler view into a viewholder that is already in a recycler view?   Essentially it looks like you are implementing a nested recycler view. Is that correct?"},{"owner":{"account_id":10029626,"reputation":409,"user_id":7416729,"display_name":"Bhupinder Singh"},"score":0,"creation_date":1489486392,"post_id":42770404,"comment_id":72680248,"body_markdown":"I am using nested recycler view as used in playstore i want to click on more button as it is in playstore .When we click on more button .How we move to next Fragment uniQuely thats the thing i cannot understand","body":"I am using nested recycler view as used in playstore i want to click on more button as it is in playstore .When we click on more button .How we move to next Fragment uniQuely thats the thing i cannot understand"}],"answers":[{"tags":[],"owner":{"account_id":1900159,"reputation":2446,"user_id":1716170,"accept_rate":70,"display_name":"doubleA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636447690,"creation_date":1489536301,"answer_id":42798824,"question_id":42770404,"body_markdown":"Looks like you are basing your first list off a \r\n`private ArrayList&lt;SectionDataModel&gt; dataList`\r\n\r\nYou can use your position in the list to determine where to go. Based off your code you are attempting to add the click listener to the parent recycler view items. Those items have a More button that you would like to launch another intent. \r\n\r\nIf you are attempting launch an activity based on the items in the child recycler view you need to add your click listener in the SectionListDataAdapter. \r\n\r\nEither way you can launch unique activities based on your position(CASE0). Or alternatively you can store the Class&lt;?&gt; definition of the intended Activity in your data model(CASE1).\r\n\r\n    itemRowHolder.btnMore.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(v.getContext(), &quot;Movies are Loading , &quot; + sectionName, Toast.LENGTH_SHORT).show();\r\n                    Intent moreIntent = new Intent();\r\n                    switch(i) {\r\n                        case 0:\r\n                            moreIntent.setClass(context, FirstActivity.class);\r\n                        break;\r\n                        case 1:\r\n                            moreIntent.setClass(context, dataList.get(i).getMoreClass());\r\n                        break;\r\n                    }\r\n                    startActivity(moreIntent);\r\n                }\r\n            });\r\nI think this is what you are looking for Let me know if this helps or if it is off base. Screen shots might clarify what you are attempting to do.","title":"How to click on Recycler View in Android and get Another dataActivity like playstore?","body":"<p>Looks like you are basing your first list off a\n<code>private ArrayList&lt;SectionDataModel&gt; dataList</code></p>\n<p>You can use your position in the list to determine where to go. Based off your code you are attempting to add the click listener to the parent recycler view items. Those items have a More button that you would like to launch another intent.</p>\n<p>If you are attempting launch an activity based on the items in the child recycler view you need to add your click listener in the SectionListDataAdapter.</p>\n<p>Either way you can launch unique activities based on your position(CASE0). Or alternatively you can store the Class&lt;?&gt; definition of the intended Activity in your data model(CASE1).</p>\n<pre><code>itemRowHolder.btnMore.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(v.getContext(), &quot;Movies are Loading , &quot; + sectionName, Toast.LENGTH_SHORT).show();\n                Intent moreIntent = new Intent();\n                switch(i) {\n                    case 0:\n                        moreIntent.setClass(context, FirstActivity.class);\n                    break;\n                    case 1:\n                        moreIntent.setClass(context, dataList.get(i).getMoreClass());\n                    break;\n                }\n                startActivity(moreIntent);\n            }\n        });\n</code></pre>\n<p>I think this is what you are looking for Let me know if this helps or if it is off base. Screen shots might clarify what you are attempting to do.</p>\n"},{"tags":[],"owner":{"account_id":15284082,"reputation":1,"user_id":11027593,"display_name":"Nicholas Anyanwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636453062,"creation_date":1636453062,"answer_id":69896375,"question_id":42770404,"body_markdown":"&gt; You achieve this by setting onClickListener to your adapter viewHolder, view code below. KOTLIN\r\n\r\n    holder.inventoryCard.setOnClickListener {\r\n            val intent = Intent(context, NextActivity::class.java)\r\n            intent.putExtra(&quot;data&quot;, details) // you can use this line to pass data to the next class\r\n            context.startActivity(intent)\r\n        }\r\n\r\n&gt; JAVA\r\n\r\n    holder.inventoryCard.setOnClickListener {\r\n            val intent = Intent(context, NextActivity.class)\r\n            intent.putExtra(&quot;data&quot;, details) // you can use this line to pass data to the next class\r\n            context.startActivity(intent)\r\n        }","title":"How to click on Recycler View in Android and get Another dataActivity like playstore?","body":"<blockquote>\n<p>You achieve this by setting onClickListener to your adapter viewHolder, view code below. KOTLIN</p>\n</blockquote>\n<pre><code>holder.inventoryCard.setOnClickListener {\n        val intent = Intent(context, NextActivity::class.java)\n        intent.putExtra(&quot;data&quot;, details) // you can use this line to pass data to the next class\n        context.startActivity(intent)\n    }\n</code></pre>\n<blockquote>\n<p>JAVA</p>\n</blockquote>\n<pre><code>holder.inventoryCard.setOnClickListener {\n        val intent = Intent(context, NextActivity.class)\n        intent.putExtra(&quot;data&quot;, details) // you can use this line to pass data to the next class\n        context.startActivity(intent)\n    }\n</code></pre>\n"}],"owner":{"account_id":10029626,"reputation":409,"user_id":7416729,"display_name":"Bhupinder Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636453062,"creation_date":1489428039,"question_id":42770404,"body_markdown":"\r\nI have try to implement on Bind() in Recycelr view.\r\nI am creating a vertical recycler view but i cant find on click handling on a particular section and cannot implimented intent to a uniue activity like playstore.\r\n\r\n    \r\npackage com.example.bhupi.anyfreemovie.MovieRecycleSession;\r\n    \r\n    \r\n    import android.content.Context;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.bhupi.anyfreemovie.R;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class RecyclerViewDataAdapter extends RecyclerView.Adapter&lt;RecyclerViewDataAdapter.ItemRowHolder&gt; {\r\n    \r\n        private ArrayList&lt;SectionDataModel&gt; dataList;\r\n        private Context mContext;\r\n    \r\n        public RecyclerViewDataAdapter(Context context, ArrayList&lt;SectionDataModel&gt; dataList) {\r\n            this.dataList = dataList;\r\n            this.mContext = context;\r\n        }\r\n    \r\n        @Override\r\n        public ItemRowHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\r\n            View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_item, null);\r\n            ItemRowHolder mh = new ItemRowHolder(v);\r\n            return mh;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(ItemRowHolder itemRowHolder, int i) {\r\n    \r\n            final String sectionName = dataList.get(i).getHeaderTitle();\r\n    \r\n            ArrayList singleSectionItems = dataList.get(i).getAllItemsInSection();\r\n    \r\n            itemRowHolder.itemTitle.setText(sectionName);\r\n    \r\n            SectionListDataAdapter itemListDataAdapter = new SectionListDataAdapter(mContext, singleSectionItems);\r\n    \r\n            itemRowHolder.recycler_view_list.setHasFixedSize(true);\r\n            itemRowHolder.recycler_view_list.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.HORIZONTAL, false));\r\n            itemRowHolder.recycler_view_list.setAdapter(itemListDataAdapter);\r\n    \r\n    \r\n            itemRowHolder.recycler_view_list.setNestedScrollingEnabled(false);\r\n    \r\n    \r\n           /*  itemRowHolder.recycler_view_list.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    int action = event.getAction();\r\n                    switch (action) {\r\n                        case MotionEvent.ACTION_DOWN:\r\n                            // Disallow ScrollView to intercept touch events.\r\n                            v.getParent().requestDisallowInterceptTouchEvent(true);\r\n                            break;\r\n                        case MotionEvent.ACTION_UP:\r\n                            //Allow ScrollView to intercept touch events once again.\r\n                            v.getParent().requestDisallowInterceptTouchEvent(false);\r\n                            break;\r\n                    }\r\n                    // Handle RecyclerView touch events.\r\n                    v.onTouchEvent(event);\r\n                    return true;\r\n                }\r\n            });*/\r\n    \r\n            itemRowHolder.btnMore.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n    \r\n                    Toast.makeText(v.getContext(), &quot;Movies are Loading , &quot; + sectionName, Toast.LENGTH_SHORT).show();\r\n                    Intent\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n           /* Glide.with(mContext)\r\n                    .load(feedItem.getImageURL())\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                    .centerCrop()\r\n                    .error(R.drawable.bg)\r\n                    .into(feedListRowHolder.thumbView);*/\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return (null != dataList ? dataList.size() : 0);\r\n        }\r\n    \r\n        public class ItemRowHolder extends RecyclerView.ViewHolder {\r\n    \r\n            protected TextView itemTitle;\r\n    \r\n            protected RecyclerView recycler_view_list;\r\n    \r\n            protected Button btnMore;\r\n    \r\n    \r\n            public ItemRowHolder(View view) {\r\n                super(view);\r\n    \r\n                this.itemTitle = (TextView) view.findViewById(R.id.itemTitle);\r\n                this.recycler_view_list = (RecyclerView) view.findViewById(R.id.recycler_view_list);\r\n                this.btnMore = (Button) view.findViewById(R.id.btnMore);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"How to click on Recycler View in Android and get Another dataActivity like playstore?","body":"<p>I have try to implement on Bind() in Recycelr view.\nI am creating a vertical recycler view but i cant find on click handling on a particular section and cannot implimented intent to a uniue activity like playstore.</p>\n\n<p>package com.example.bhupi.anyfreemovie.MovieRecycleSession;</p>\n\n<pre><code>import android.content.Context;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.bhupi.anyfreemovie.R;\n\nimport java.util.ArrayList;\n\npublic class RecyclerViewDataAdapter extends RecyclerView.Adapter&lt;RecyclerViewDataAdapter.ItemRowHolder&gt; {\n\n    private ArrayList&lt;SectionDataModel&gt; dataList;\n    private Context mContext;\n\n    public RecyclerViewDataAdapter(Context context, ArrayList&lt;SectionDataModel&gt; dataList) {\n        this.dataList = dataList;\n        this.mContext = context;\n    }\n\n    @Override\n    public ItemRowHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\n        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.list_item, null);\n        ItemRowHolder mh = new ItemRowHolder(v);\n        return mh;\n    }\n\n    @Override\n    public void onBindViewHolder(ItemRowHolder itemRowHolder, int i) {\n\n        final String sectionName = dataList.get(i).getHeaderTitle();\n\n        ArrayList singleSectionItems = dataList.get(i).getAllItemsInSection();\n\n        itemRowHolder.itemTitle.setText(sectionName);\n\n        SectionListDataAdapter itemListDataAdapter = new SectionListDataAdapter(mContext, singleSectionItems);\n\n        itemRowHolder.recycler_view_list.setHasFixedSize(true);\n        itemRowHolder.recycler_view_list.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.HORIZONTAL, false));\n        itemRowHolder.recycler_view_list.setAdapter(itemListDataAdapter);\n\n\n        itemRowHolder.recycler_view_list.setNestedScrollingEnabled(false);\n\n\n       /*  itemRowHolder.recycler_view_list.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                int action = event.getAction();\n                switch (action) {\n                    case MotionEvent.ACTION_DOWN:\n                        // Disallow ScrollView to intercept touch events.\n                        v.getParent().requestDisallowInterceptTouchEvent(true);\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        //Allow ScrollView to intercept touch events once again.\n                        v.getParent().requestDisallowInterceptTouchEvent(false);\n                        break;\n                }\n                // Handle RecyclerView touch events.\n                v.onTouchEvent(event);\n                return true;\n            }\n        });*/\n\n        itemRowHolder.btnMore.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                Toast.makeText(v.getContext(), \"Movies are Loading , \" + sectionName, Toast.LENGTH_SHORT).show();\n                Intent\n\n\n            }\n        });\n\n\n\n\n\n\n\n       /* Glide.with(mContext)\n                .load(feedItem.getImageURL())\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .centerCrop()\n                .error(R.drawable.bg)\n                .into(feedListRowHolder.thumbView);*/\n    }\n\n    @Override\n    public int getItemCount() {\n        return (null != dataList ? dataList.size() : 0);\n    }\n\n    public class ItemRowHolder extends RecyclerView.ViewHolder {\n\n        protected TextView itemTitle;\n\n        protected RecyclerView recycler_view_list;\n\n        protected Button btnMore;\n\n\n        public ItemRowHolder(View view) {\n            super(view);\n\n            this.itemTitle = (TextView) view.findViewById(R.id.itemTitle);\n            this.recycler_view_list = (RecyclerView) view.findViewById(R.id.recycler_view_list);\n            this.btnMore = (Button) view.findViewById(R.id.btnMore);\n\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":1,"creation_date":1552062587,"post_id":55067063,"comment_id":96882044,"body_markdown":"I personally see no reason to unit test a concrete class i did not code but i do implement integration testing for my repository layer to verify that query methods produce the expected results.","body":"I personally see no reason to unit test a concrete class i did not code but i do implement integration testing for my repository layer to verify that query methods produce the expected results."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636452687,"creation_date":1552062920,"answer_id":55067322,"question_id":55067063,"body_markdown":"For the integration test, there&#39;s the old saying &quot;Don&#39;t Mock What You Don&#39;t Own&quot;.\r\nSee e.g. https://markhneedham.com/blog/2009/12/13/tdd-only-mock-types-you-own/ and https://8thlight.com/blog/eric-smith/2011/10/27/thats-not-yours.html\r\n\r\nThe JUnit test you would write would mock the underlying EntityManger to test if spring was implemented correctly. That&#39;s a test that we hope the spring developers already have, so I wouldn&#39;t repeat it.\r\n\r\nFor the integration test, I guess you don&#39;t care how or if the repository uses an EntityManager underneath. You just want to see if it&#39;s behaviour is correct. So the second approach fits better.\r\n\r\n","title":"Should we write unit test and integration test for repository layer in Spring Boot?","body":"<p>For the integration test, there's the old saying &quot;Don't Mock What You Don't Own&quot;.\nSee e.g. <a href=\"https://markhneedham.com/blog/2009/12/13/tdd-only-mock-types-you-own/\" rel=\"nofollow noreferrer\">https://markhneedham.com/blog/2009/12/13/tdd-only-mock-types-you-own/</a> and <a href=\"https://8thlight.com/blog/eric-smith/2011/10/27/thats-not-yours.html\" rel=\"nofollow noreferrer\">https://8thlight.com/blog/eric-smith/2011/10/27/thats-not-yours.html</a></p>\n<p>The JUnit test you would write would mock the underlying EntityManger to test if spring was implemented correctly. That's a test that we hope the spring developers already have, so I wouldn't repeat it.</p>\n<p>For the integration test, I guess you don't care how or if the repository uses an EntityManager underneath. You just want to see if it's behaviour is correct. So the second approach fits better.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2966,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":55067322,"answer_count":1,"score":2,"last_activity_date":1636452687,"creation_date":1552061859,"question_id":55067063,"body_markdown":"I have a bunch of questions regarding `Spring Boot` repository layer.\r\n\r\nMy questions are:\r\n\r\n 1. Should we even write both unit test and integration test for a repository layer in `Spring Boot` that does not have any custom code or query?\r\n 2. What&#39;s the best approach to write an integration test for repository layer in `Spring Boot`? I have listed both the approaches below. Among both the approaches which one is better. Is there any best practice where I should be following one over the other?\r\n 3. If the answer to my above question #1 is yes, then how do I write a unit test for the repository layer in `Spring Boot`?\r\n\r\n\r\n**CurrencyRepository.java**\r\n\r\n    @Repository\r\n    public interface CurrencyRepository extends CrudRepository&lt;Currency, String&gt; {\r\n    \r\n    }\r\n\r\nSince this uses an embedded H2 DB it is an integration test and not a unit  test. Is my understanding correct?\r\n\r\n\r\n**CurrencyRepositoryIntegrationTest.java (Approach 1)**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class CurrencyRepositoryIntegrationTest {\r\n    \r\n        @Autowired\r\n        private TestEntityManager entityManager;\r\n        @Autowired\r\n        private CurrencyRepository repository;\r\n    \r\n        @Test\r\n        public void testFindByName() {\r\n            entityManager.persist(new Currency(&quot;USD&quot;, &quot;United States Dollar&quot;, 2L));\r\n            Optional&lt;Currency&gt; c = repository.findById(&quot;USD&quot;);\r\n            assertEquals(&quot;United States Dollar&quot;, c.get().getCcyNm());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**CurrencyRepositoryIntegrationTest2.java (Approach 2)**\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = DemoApplication.class)\r\n    public class CurrencyRepositoryIntegrationTest2 {\r\n    \r\n        @Autowired\r\n        private CurrencyRepository repository;\r\n    \r\n        @Test\r\n        public void testFindByName() {\r\n            repository.save(new Currency(&quot;USD&quot;, &quot;United States Dollar&quot;, 2L));\r\n            Optional&lt;Currency&gt; c = repository.findById(&quot;USD&quot;);\r\n            assertEquals(&quot;United States Dollar&quot;, c.get().getCcyNm());\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Should we write unit test and integration test for repository layer in Spring Boot?","body":"<p>I have a bunch of questions regarding <code>Spring Boot</code> repository layer.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Should we even write both unit test and integration test for a repository layer in <code>Spring Boot</code> that does not have any custom code or query?</li>\n<li>What's the best approach to write an integration test for repository layer in <code>Spring Boot</code>? I have listed both the approaches below. Among both the approaches which one is better. Is there any best practice where I should be following one over the other?</li>\n<li>If the answer to my above question #1 is yes, then how do I write a unit test for the repository layer in <code>Spring Boot</code>?</li>\n</ol>\n\n<p><strong>CurrencyRepository.java</strong></p>\n\n<pre><code>@Repository\npublic interface CurrencyRepository extends CrudRepository&lt;Currency, String&gt; {\n\n}\n</code></pre>\n\n<p>Since this uses an embedded H2 DB it is an integration test and not a unit  test. Is my understanding correct?</p>\n\n<p><strong>CurrencyRepositoryIntegrationTest.java (Approach 1)</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class CurrencyRepositoryIntegrationTest {\n\n    @Autowired\n    private TestEntityManager entityManager;\n    @Autowired\n    private CurrencyRepository repository;\n\n    @Test\n    public void testFindByName() {\n        entityManager.persist(new Currency(\"USD\", \"United States Dollar\", 2L));\n        Optional&lt;Currency&gt; c = repository.findById(\"USD\");\n        assertEquals(\"United States Dollar\", c.get().getCcyNm());\n    }\n\n}\n</code></pre>\n\n<p><strong>CurrencyRepositoryIntegrationTest2.java (Approach 2)</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = DemoApplication.class)\npublic class CurrencyRepositoryIntegrationTest2 {\n\n    @Autowired\n    private CurrencyRepository repository;\n\n    @Test\n    public void testFindByName() {\n        repository.save(new Currency(\"USD\", \"United States Dollar\", 2L));\n        Optional&lt;Currency&gt; c = repository.findById(\"USD\");\n        assertEquals(\"United States Dollar\", c.get().getCcyNm());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1636444611,"post_id":69894558,"comment_id":123551753,"body_markdown":"Doesn&#39;t `Author.class.getDeclaredFields()` work? Or are you looking for a solution that doesn&#39;t involve knowing the type of `author` inside `Book`?","body":"Doesn&#39;t <code>Author.class.getDeclaredFields()</code> work? Or are you looking for a solution that doesn&#39;t involve knowing the type of <code>author</code> inside <code>Book</code>?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1636444642,"post_id":69894558,"comment_id":123551767,"body_markdown":"Excatly, we don&#39;t know the type of author in most cases.","body":"Excatly, we don&#39;t know the type of author in most cases."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1636445229,"post_id":69894558,"comment_id":123551957,"body_markdown":"never use &#39;int&#39; or &#39;Integer&#39; age. Just store the birthdate. Unlike the age, that doesn&#39;t change every year, and you can perfectly find the age based on it.\nname and age are not part of Book, so why would it return it? Since the type of author isn&#39;t fixed, how would the process be able to tell?","body":"never use &#39;int&#39; or &#39;Integer&#39; age. Just store the birthdate. Unlike the age, that doesn&#39;t change every year, and you can perfectly find the age based on it. name and age are not part of Book, so why would it return it? Since the type of author isn&#39;t fixed, how would the process be able to tell?"},{"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"score":2,"creation_date":1636445390,"post_id":69894558,"comment_id":123552010,"body_markdown":"@bob You can check if a `Field` is a primitive type or not using `field.getType().isPrimitive()`. If it is not primitive you again call `field.getType().getDeclaredFields()`. This may have to be done recursively for every subtype.","body":"@bob You can check if a <code>Field</code> is a primitive type or not using <code>field.getType().isPrimitive()</code>. If it is not primitive you again call <code>field.getType().getDeclaredFields()</code>. This may have to be done recursively for every subtype."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1636445390,"post_id":69894558,"comment_id":123552011,"body_markdown":"I see, I think it would make sense to create a separate csv for Author","body":"I see, I think it would make sense to create a separate csv for Author"},{"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"score":1,"creation_date":1636446293,"post_id":69894558,"comment_id":123552286,"body_markdown":"@bob `isPrimitive()` would return false for strings. So you may have to do: `var type = field.getType(); if(type.isPrimitive() || type.isAssignableFrom(String.class)) {...}` to also check if it is a string. To also cover wrapper classes, see [this post](https://stackoverflow.com/a/25039320/11455105).","body":"@bob <code>isPrimitive()</code> would return false for strings. So you may have to do: <code>var type = field.getType(); if(type.isPrimitive() || type.isAssignableFrom(String.class)) {...}</code> to also check if it is a string. To also cover wrapper classes, see <a href=\"https://stackoverflow.com/a/25039320/11455105\">this post</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1636448336,"post_id":69894558,"comment_id":123553030,"body_markdown":"@AmalK `type.isAssignableFrom(String.class)` would be `true` if `type` is `Object`. Perhaps, you simply want `type == String.class`.","body":"@AmalK <code>type.isAssignableFrom(String.class)</code> would be <code>true</code> if <code>type</code> is <code>Object</code>. Perhaps, you simply want <code>type == String.class</code>."}],"answers":[{"tags":[],"owner":{"account_id":14878826,"reputation":61,"user_id":10744129,"display_name":"Martin Mondino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636452659,"creation_date":1636452659,"answer_id":69896295,"question_id":69894558,"body_markdown":"Notes: \r\n* It is far from optimal.\r\n* Circular reference problem is not considered.\r\n\r\nGiven your model it would return a list with this elements:\r\n\r\n* title\r\n* author.name\r\n* author.age\r\n\r\nUsage:\r\n\r\n```\r\nClassMetadataService cms = new ClassMetadataService();\r\nList&lt;String&gt; properties = cms.getProperties(Book.class);\r\n```\r\n\r\nClass definition:\r\n\r\n```\r\npackage io.metadata;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.math.BigDecimal;\r\nimport java.math.BigInteger;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ClassMetadataService {\r\n\r\n    public List&lt;String&gt; getProperties(Class clazz) {\r\n        List&lt;String&gt; properties = new ArrayList&lt;&gt;();\r\n        this.collectProperties(new ArrayList&lt;&gt;(), clazz, properties);\r\n\r\n        return properties;\r\n    }\r\n\r\n    private void collectProperties(List&lt;String&gt; pathNodes, Class clazz, List&lt;String&gt; properties) {\r\n        for (Field field : clazz.getDeclaredFields()) {\r\n            List&lt;String&gt; localPathNodes = new ArrayList&lt;&gt;(pathNodes);\r\n            localPathNodes.add(field.getName());\r\n\r\n            if (clazz.isPrimitive() || isJavaClass(field.getType())) {\r\n                properties.add(localPathNodes.stream().collect(Collectors.joining(&quot;.&quot;)));\r\n            } else {\r\n                collectProperties(localPathNodes, field.getType(), properties);\r\n            }\r\n        }\r\n    }\r\n\r\n    private Boolean isJavaClass(Class clazz) {\r\n        List&lt;Class&gt; javaClass = Arrays.asList(\r\n                // ....\r\n                Boolean.class,\r\n                Byte.class,\r\n                Short.class,\r\n                Integer.class,\r\n                Long.class,\r\n                Float.class,\r\n                Double.class,\r\n                BigDecimal.class,\r\n                BigInteger.class,\r\n                Character.class,\r\n                String.class,\r\n                LocalDate.class,\r\n                LocalDateTime.class\r\n                // ....\r\n        );\r\n\r\n        return javaClass.stream().anyMatch(jc -&gt; jc.equals(clazz));\r\n    }\r\n}\r\n\r\n\r\n```","title":"How to get fields names of a class inside another class?","body":"<p>Notes:</p>\n<ul>\n<li>It is far from optimal.</li>\n<li>Circular reference problem is not considered.</li>\n</ul>\n<p>Given your model it would return a list with this elements:</p>\n<ul>\n<li>title</li>\n<li>author.name</li>\n<li>author.age</li>\n</ul>\n<p>Usage:</p>\n<pre><code>ClassMetadataService cms = new ClassMetadataService();\nList&lt;String&gt; properties = cms.getProperties(Book.class);\n</code></pre>\n<p>Class definition:</p>\n<pre><code>package io.metadata;\n\nimport java.lang.reflect.Field;\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class ClassMetadataService {\n\n    public List&lt;String&gt; getProperties(Class clazz) {\n        List&lt;String&gt; properties = new ArrayList&lt;&gt;();\n        this.collectProperties(new ArrayList&lt;&gt;(), clazz, properties);\n\n        return properties;\n    }\n\n    private void collectProperties(List&lt;String&gt; pathNodes, Class clazz, List&lt;String&gt; properties) {\n        for (Field field : clazz.getDeclaredFields()) {\n            List&lt;String&gt; localPathNodes = new ArrayList&lt;&gt;(pathNodes);\n            localPathNodes.add(field.getName());\n\n            if (clazz.isPrimitive() || isJavaClass(field.getType())) {\n                properties.add(localPathNodes.stream().collect(Collectors.joining(&quot;.&quot;)));\n            } else {\n                collectProperties(localPathNodes, field.getType(), properties);\n            }\n        }\n    }\n\n    private Boolean isJavaClass(Class clazz) {\n        List&lt;Class&gt; javaClass = Arrays.asList(\n                // ....\n                Boolean.class,\n                Byte.class,\n                Short.class,\n                Integer.class,\n                Long.class,\n                Float.class,\n                Double.class,\n                BigDecimal.class,\n                BigInteger.class,\n                Character.class,\n                String.class,\n                LocalDate.class,\n                LocalDateTime.class\n                // ....\n        );\n\n        return javaClass.stream().anyMatch(jc -&gt; jc.equals(clazz));\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636452659,"creation_date":1636444362,"question_id":69894558,"body_markdown":"We are creating CSV files from DTO classes, using reflection to get the names of all the column names. `ClassName.class.getDeclaredFields()` gives us array of all column names.\r\n\r\nWe have a use case where, we have classes with composition relation, like below:\r\n\r\n    public class Book {\r\n      private String title;\r\n    \r\n      private Author author;\r\n    }\r\n    \r\n    public class Author {\r\n      private String name;\r\n    \r\n      private Integer age:\r\n    }\r\n\r\n\r\nHere Book is the root class, i.e., final CSV will be named books.csv\r\n\r\nWith `Book.class.getDeclaredFields()`, we only get field names title and author, but we also want field names from Author class (name and age), is there a way to get those?","title":"How to get fields names of a class inside another class?","body":"<p>We are creating CSV files from DTO classes, using reflection to get the names of all the column names. <code>ClassName.class.getDeclaredFields()</code> gives us array of all column names.</p>\n<p>We have a use case where, we have classes with composition relation, like below:</p>\n<pre><code>public class Book {\n  private String title;\n\n  private Author author;\n}\n\npublic class Author {\n  private String name;\n\n  private Integer age:\n}\n</code></pre>\n<p>Here Book is the root class, i.e., final CSV will be named books.csv</p>\n<p>With <code>Book.class.getDeclaredFields()</code>, we only get field names title and author, but we also want field names from Author class (name and age), is there a way to get those?</p>\n"},{"tags":["java","netty","java-websocket"],"owner":{"account_id":1079969,"reputation":31,"user_id":1077202,"display_name":"Rani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636452486,"creation_date":1636452486,"question_id":69896253,"body_markdown":"I am trying to write a simple server which receives an http request, and upgrade it to websocket connection. For some reason I cannot find any implementation where the server is the one sending the message to the client.\r\nThe handshake returning ChannelFuture is only completed when the first message is received from the client but that never happens, cause my flow is that the server will send something to the client first.\r\nIn golang I can write this in 2 seconds, for some reason I cannot find any java netty websocket implementation that does that.\r\n\r\nAny help ?\r\n\r\nRegards,\r\nRani","title":"Java netty websocket implementation","body":"<p>I am trying to write a simple server which receives an http request, and upgrade it to websocket connection. For some reason I cannot find any implementation where the server is the one sending the message to the client.\nThe handshake returning ChannelFuture is only completed when the first message is received from the client but that never happens, cause my flow is that the server will send something to the client first.\nIn golang I can write this in 2 seconds, for some reason I cannot find any java netty websocket implementation that does that.</p>\n<p>Any help ?</p>\n<p>Regards,\nRani</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":1212827,"reputation":3344,"user_id":1181050,"accept_rate":55,"display_name":"Dodd10x"},"score":0,"creation_date":1379598098,"post_id":18896262,"comment_id":27891694,"body_markdown":"You are drawing your rectangle at (25, 25).  What exactly are you trying to do?","body":"You are drawing your rectangle at (25, 25).  What exactly are you trying to do?"},{"owner":{"account_id":1419241,"reputation":567,"user_id":1344221,"display_name":"Phil Applegate"},"score":0,"creation_date":1379598147,"post_id":18896262,"comment_id":27891724,"body_markdown":"Do you require the rectangle to be drawn with the top left edge at the point you specify or centered around the point? In addition, is the x co-ordinate supposed to be -60? As far as I am aware the top left of the screen/view where you are drawing is 0,0 therefore -60 does not make sense. Unless you require the rectangle to be partially drawn off screen?","body":"Do you require the rectangle to be drawn with the top left edge at the point you specify or centered around the point? In addition, is the x co-ordinate supposed to be -60? As far as I am aware the top left of the screen/view where you are drawing is 0,0 therefore -60 does not make sense. Unless you require the rectangle to be partially drawn off screen?"},{"owner":{"account_id":3319064,"reputation":229,"user_id":2790668,"accept_rate":67,"display_name":"chikito1990"},"score":0,"creation_date":1379598336,"post_id":18896262,"comment_id":27891846,"body_markdown":"Well the basic thing I want is to insert a rectangle on(-50, 120) but I am still super new in android so I decided to get some help. I know that it should be easy but still I cannot do it :(","body":"Well the basic thing I want is to insert a rectangle on(-50, 120) but I am still super new in android so I decided to get some help. I know that it should be easy but still I cannot do it :("},{"owner":{"account_id":1115019,"reputation":1399,"user_id":1104582,"display_name":"Alexey A."},"score":0,"creation_date":1379598345,"post_id":18896262,"comment_id":27891854,"body_markdown":"do you have any canvas calls before, `like canvas.translate()`?","body":"do you have any canvas calls before, <code>like canvas.translate()</code>?"},{"owner":{"account_id":3319064,"reputation":229,"user_id":2790668,"accept_rate":67,"display_name":"chikito1990"},"score":0,"creation_date":1379598426,"post_id":18896262,"comment_id":27891905,"body_markdown":"I will edit my answer with the code","body":"I will edit my answer with the code"},{"owner":{"account_id":1419241,"reputation":567,"user_id":1344221,"display_name":"Phil Applegate"},"score":0,"creation_date":1379598972,"post_id":18896262,"comment_id":27892294,"body_markdown":"Could this be to do with the margin on the ImageView being set to 50dp?","body":"Could this be to do with the margin on the ImageView being set to 50dp?"}],"answers":[{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636452413,"creation_date":1636452413,"answer_id":69896239,"question_id":18896262,"body_markdown":"Use this method to draw rectangle at X &amp; Y coordinate with width and height params\r\n\r\n\r\n  \r\n\r\n    fun drawRectangle(left: Int, top: Int, right: Int, bottom: Int, canvas: Canvas, paint: Paint?) {\r\n            var right = right\r\n            var bottom = bottom\r\n            right = left + right // width is the distance from left to right\r\n            bottom = top + bottom // height is the distance from top to bottom\r\n            canvas.drawRect(left.toFloat(), top.toFloat(), right.toFloat(), bottom.toFloat(), paint!!)\r\n        }\r\n\r\n**Usage**\r\n\r\n //drawing rectangle on x coordinate which is posX and y coordinate which is posY\r\n\r\n            drawRectangle(posX, posY, 60, 40, canvas, paint)","title":"Draw rectangle with exact X and Y coordinates","body":"<p>Use this method to draw rectangle at X &amp; Y coordinate with width and height params</p>\n<pre><code>fun drawRectangle(left: Int, top: Int, right: Int, bottom: Int, canvas: Canvas, paint: Paint?) {\n        var right = right\n        var bottom = bottom\n        right = left + right // width is the distance from left to right\n        bottom = top + bottom // height is the distance from top to bottom\n        canvas.drawRect(left.toFloat(), top.toFloat(), right.toFloat(), bottom.toFloat(), paint!!)\n    }\n</code></pre>\n<p><strong>Usage</strong></p>\n<p>//drawing rectangle on x coordinate which is posX and y coordinate which is posY</p>\n<pre><code>        drawRectangle(posX, posY, 60, 40, canvas, paint)\n</code></pre>\n"}],"owner":{"account_id":3319064,"reputation":229,"user_id":2790668,"accept_rate":67,"display_name":"chikito1990"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636452413,"creation_date":1379597980,"question_id":18896262,"body_markdown":"I am developing an Android app which will insert rectangles dynamically. Th problem that occurred is that I have no idea how to insert a rectangle with specific X Y coordinates.\r\n\r\nHere is the code so far: \r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\tDrawRectangle drawView;\r\n\tImageView DrawingImage;\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t    super.onCreate(savedInstanceState);\r\n\t    setContentView(R.layout.activity_main);\r\n\r\n\t    ImageView DrawingImage = (ImageView) this.findViewById(R.id.image2);\r\n\r\n\t    Bitmap bitmap2 = Bitmap.createBitmap((int) getWindowManager()\r\n\t        .getDefaultDisplay().getWidth(), (int) getWindowManager()\r\n\t        .getDefaultDisplay().getHeight(), Bitmap.Config.ARGB_8888);\r\n\r\n\t    Canvas canvas = new Canvas(bitmap2);\r\n\t    DrawingImage.setImageBitmap(bitmap2);\r\n\r\n\t    // Draw Rectangle\r\n\r\n\t    Paint paint = new Paint();\r\n\t    paint.setColor(Color.GREEN);\r\n\t    paint.setStyle(Paint.Style.FILL);\r\n\r\n\t    int left = 25;\r\n\t    int top = 25;\r\n\t    int right = 60;\r\n\t    int bottom = 50;\r\n\t    \r\n\t    Point insertRec=new Point(0, 120);\r\n\t    Rect rec = new Rect(insertRec.x, insertRec.y, insertRec.x+30, insertRec.y+25);\r\n\t    canvas.drawRect(rec,paint);\r\n\t    ImageView image = (ImageView) findViewById(R.id.image);\r\n\t    Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.test);\r\n\t    image.setImageBitmap(bitmap);\r\n\t}\r\n    \r\nXML:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_marginTop=&quot;50dp&quot;\r\n            android:src=&quot;@drawable/test&quot; /&gt;\r\n        \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_marginTop=&quot;50dp&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nI tried to put a new variable `Point myPoint=new Point(x,y);` but still I cannot insert it where I want because the insertion point is at (-60,120) and when I create that point it is not iserting there.\r\n\r\nAny sugestion?\r\n\r\nThank you in advance!\r\n\r\n**EDIT**\r\n\r\nWhen I do it like that the rectangle does not appear at (0,120) because it is like 3-4cm inside of the screen.\r\n\r\nBest regards, Dimitar Georgiev","title":"Draw rectangle with exact X and Y coordinates","body":"<p>I am developing an Android app which will insert rectangles dynamically. Th problem that occurred is that I have no idea how to insert a rectangle with specific X Y coordinates.</p>\n\n<p>Here is the code so far: </p>\n\n<pre><code>public class MainActivity extends Activity {\n\nDrawRectangle drawView;\nImageView DrawingImage;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ImageView DrawingImage = (ImageView) this.findViewById(R.id.image2);\n\n    Bitmap bitmap2 = Bitmap.createBitmap((int) getWindowManager()\n        .getDefaultDisplay().getWidth(), (int) getWindowManager()\n        .getDefaultDisplay().getHeight(), Bitmap.Config.ARGB_8888);\n\n    Canvas canvas = new Canvas(bitmap2);\n    DrawingImage.setImageBitmap(bitmap2);\n\n    // Draw Rectangle\n\n    Paint paint = new Paint();\n    paint.setColor(Color.GREEN);\n    paint.setStyle(Paint.Style.FILL);\n\n    int left = 25;\n    int top = 25;\n    int right = 60;\n    int bottom = 50;\n\n    Point insertRec=new Point(0, 120);\n    Rect rec = new Rect(insertRec.x, insertRec.y, insertRec.x+30, insertRec.y+25);\n    canvas.drawRect(rec,paint);\n    ImageView image = (ImageView) findViewById(R.id.image);\n    Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.test);\n    image.setImageBitmap(bitmap);\n}\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/image\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:layout_marginTop=\"50dp\"\n        android:src=\"@drawable/test\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/image2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:layout_marginTop=\"50dp\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>I tried to put a new variable <code>Point myPoint=new Point(x,y);</code> but still I cannot insert it where I want because the insertion point is at (-60,120) and when I create that point it is not iserting there.</p>\n\n<p>Any sugestion?</p>\n\n<p>Thank you in advance!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>When I do it like that the rectangle does not appear at (0,120) because it is like 3-4cm inside of the screen.</p>\n\n<p>Best regards, Dimitar Georgiev</p>\n"},{"tags":["java","unit-testing","maven","junit","resourcebundle"],"comments":[{"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"score":2,"creation_date":1336660379,"post_id":10536183,"comment_id":13630257,"body_markdown":"`It seems as though the files from src/test/resources are not getting copied into target/test-classes` Did you actually verify that?","body":"<code>It seems as though the files from src&#47;test&#47;resources are not getting copied into target&#47;test-classes</code> Did you actually verify that?"},{"owner":{"account_id":229668,"reputation":3265,"user_id":987687,"accept_rate":72,"display_name":"Alex Averbuch"},"score":2,"creation_date":1336660701,"post_id":10536183,"comment_id":13630419,"body_markdown":"No, I am an idiot... sorry. I just checked and I can confirm that they ARE actually copied there. Maybe it&#39;s due to the &quot;%20&quot; in the path?","body":"No, I am an idiot... sorry. I just checked and I can confirm that they ARE actually copied there. Maybe it&#39;s due to the &quot;%20&quot; in the path?"},{"owner":{"account_id":330208,"reputation":10995,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":0,"creation_date":1336661241,"post_id":10536183,"comment_id":13630685,"body_markdown":"Are you trying to open an input stream from that file?  If so, you may use the following directly to do this (instead of using URL): .class.getClassLoader().getResourceAsStream(fileName)","body":"Are you trying to open an input stream from that file?  If so, you may use the following directly to do this (instead of using URL): .class.getClassLoader().getResourceAsStream(fileName)"},{"owner":{"account_id":229668,"reputation":3265,"user_id":987687,"accept_rate":72,"display_name":"Alex Averbuch"},"score":0,"creation_date":1336661929,"post_id":10536183,"comment_id":13631038,"body_markdown":"I&#39;m trying to open it as a File. My solution is now: org.apache.commons.io.FileUtils.toFile(myClass().getResource(&quot;resourceFile.txt&quot;));","body":"I&#39;m trying to open it as a File. My solution is now: org.apache.commons.io.FileUtils.toFile(myClass().getResource&zwnj;&#8203;(&quot;resourceFile.txt&quot;)&zwnj;&#8203;);"},{"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"score":1,"creation_date":1336663073,"post_id":10536183,"comment_id":13631623,"body_markdown":"It certainly might be the space (%20) in the path, that can lead to any kinds of trouble ;)","body":"It certainly might be the space (%20) in the path, that can lead to any kinds of trouble ;)"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1336675994,"creation_date":1336675994,"answer_id":10540457,"question_id":10536183,"body_markdown":"You know that Maven is based on the *Convention over Configuration* pardigm? so you shouldn&#39;t configure things which are the defaults.\r\n\r\nAll that stuff represents the default in Maven. So best practice is don&#39;t define it it&#39;s already done.\r\n\r\n        &lt;directory&gt;target&lt;/directory&gt;\r\n        &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\r\n        &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n","title":"Resource files not found from JUnit test cases","body":"<p>You know that Maven is based on the <em>Convention over Configuration</em> pardigm? so you shouldn't configure things which are the defaults.</p>\n\n<p>All that stuff represents the default in Maven. So best practice is don't define it it's already done.</p>\n\n<pre><code>    &lt;directory&gt;target&lt;/directory&gt;\n    &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229668,"reputation":3265,"user_id":987687,"accept_rate":72,"display_name":"Alex Averbuch"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1336985233,"creation_date":1336726141,"answer_id":10548255,"question_id":10536183,"body_markdown":"My mistake, the resource files WERE actually copied to `target/test-classes`. **The problem seemed to be due to spaces in my project name**, e.g. `Project%20Name`.\r\n\r\nI&#39;m now loading the file as follows and it works:\r\n\r\n    org.apache.commons.io.FileUtils.toFile(myClass().getResource(&quot;resourceFile.txt&quot;)‌​);\r\n\r\nOr, (taken from [https://stackoverflow.com/questions/2166039/java-how-to-get-a-file-from-an-escaped-url][1]) this may be better (no dependency on Apache Commons):\r\n\r\n    myClass().getResource(&quot;resourceFile.txt&quot;)‌​.toURI();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2166039/java-how-to-get-a-file-from-an-escaped-url","title":"Resource files not found from JUnit test cases","body":"<p>My mistake, the resource files WERE actually copied to <code>target/test-classes</code>. <strong>The problem seemed to be due to spaces in my project name</strong>, e.g. <code>Project%20Name</code>.</p>\n\n<p>I'm now loading the file as follows and it works:</p>\n\n<pre><code>org.apache.commons.io.FileUtils.toFile(myClass().getResource(\"resourceFile.txt\")‌​);\n</code></pre>\n\n<p>Or, (taken from <a href=\"https://stackoverflow.com/questions/2166039/java-how-to-get-a-file-from-an-escaped-url\">Java: how to get a File from an escaped URL?</a>) this may be better (no dependency on Apache Commons):</p>\n\n<pre><code>myClass().getResource(\"resourceFile.txt\")‌​.toURI();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297644,"reputation":911,"user_id":2018737,"accept_rate":80,"display_name":"theyCallMeJun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510199973,"creation_date":1510199973,"answer_id":47193676,"question_id":10536183,"body_markdown":"This is actually redundant except in cases where you want to override the defaults. All of these settings are implied defaults.\r\n\r\nYou can verify that by checking your effective POM using this command \r\n\r\n`mvn help:effective-pom`\r\n\r\n        &lt;finalName&gt;name&lt;/finalName&gt;\r\n        &lt;directory&gt;target&lt;/directory&gt;\r\n        &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\r\n        &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n\r\nFor example, if i want to point to a different test resource path or resource path you should use this otherwise you don&#39;t.\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;/home/josh/desktop/app_resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;/home/josh/desktop/test_resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n\r\n","title":"Resource files not found from JUnit test cases","body":"<p>This is actually redundant except in cases where you want to override the defaults. All of these settings are implied defaults.</p>\n\n<p>You can verify that by checking your effective POM using this command </p>\n\n<p><code>mvn help:effective-pom</code></p>\n\n<pre><code>    &lt;finalName&gt;name&lt;/finalName&gt;\n    &lt;directory&gt;target&lt;/directory&gt;\n    &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n</code></pre>\n\n<p>For example, if i want to point to a different test resource path or resource path you should use this otherwise you don't.</p>\n\n<pre><code>    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;/home/josh/desktop/app_resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;/home/josh/desktop/test_resources&lt;/directory&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386527,"reputation":11,"user_id":4290221,"display_name":"G R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562342296,"creation_date":1562342296,"answer_id":56906202,"question_id":10536183,"body_markdown":"Main classes should be under src/main/java &lt;br&gt;\r\nand  &lt;br&gt;\r\ntest classes should be under src/test/java &lt;br&gt; &lt;br&gt;\r\nIf all in the correct places and still main classes are not accessible then&lt;br&gt;\r\nRight click project =&gt; Maven =&gt; Update Project &lt;br&gt;\r\nHope so this will resolve the issue","title":"Resource files not found from JUnit test cases","body":"<p>Main classes should be under src/main/java <br>\nand  <br>\ntest classes should be under src/test/java <br> <br>\nIf all in the correct places and still main classes are not accessible then<br>\nRight click project => Maven => Update Project <br>\nHope so this will resolve the issue</p>\n"},{"tags":[],"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580829716,"creation_date":1580829716,"answer_id":60060478,"question_id":10536183,"body_markdown":"The test Resource files(src/test/resources) are loaded to target/test-classes sub folder. So we can use the below code to load the test resource files.\r\n\r\n    String resource = &quot;sample.txt&quot;;\r\n    File file = new File(getClass().getClassLoader().getResource(resource).getFile());\r\n    \t\t\r\n    System.out.println(file.getAbsolutePath());\r\n\r\n&lt;b&gt;Note : &lt;/b&gt; Here the sample.txt file should be placed under src/test/resources folder.\r\n\r\nFor more details refer [options_to_load_test_resources][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-src-test-resources-directory-path","title":"Resource files not found from JUnit test cases","body":"<p>The test Resource files(src/test/resources) are loaded to target/test-classes sub folder. So we can use the below code to load the test resource files.</p>\n\n<pre><code>String resource = \"sample.txt\";\nFile file = new File(getClass().getClassLoader().getResource(resource).getFile());\n\nSystem.out.println(file.getAbsolutePath());\n</code></pre>\n\n<p><b>Note : </b> Here the sample.txt file should be placed under src/test/resources folder.</p>\n\n<p>For more details refer <a href=\"https://www.baeldung.com/junit-src-test-resources-directory-path\" rel=\"nofollow noreferrer\">options_to_load_test_resources</a></p>\n"},{"tags":[],"owner":{"account_id":19806909,"reputation":1,"user_id":14506669,"display_name":"user14506669"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603457725,"creation_date":1603457725,"answer_id":64500448,"question_id":10536183,"body_markdown":"Make &#39;maven.test.skip&#39; as false in pom file, while building project test reource will come under test-classes.\r\n\r\n&lt;maven.test.skip&gt;false&lt;/maven.test.skip&gt;","title":"Resource files not found from JUnit test cases","body":"<p>Make 'maven.test.skip' as false in pom file, while building project test reource will come under test-classes.</p>\n<p>&lt;maven.test.skip&gt;false&lt;/maven.test.skip&gt;</p>\n"},{"tags":[],"owner":{"account_id":2296250,"reputation":460,"user_id":2017611,"display_name":"Nicolas Dupouy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636452284,"creation_date":1636452284,"answer_id":69896208,"question_id":10536183,"body_markdown":"You may have defined:\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nIf you did this, the resources won&#39;t be present in the target directory when you will launch your tests. And `mvn package` won&#39;t create it either.\r\n\r\nAt the contrary, if you define:\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\nOr nothing as the default value is `jar`. As Maven is based on *Convention over Configuration*. You will end up with:\r\n\r\n - src/main/resources =&gt; target/classes\r\n - src/test/resources =&gt; target/test-classes\r\n\r\n","title":"Resource files not found from JUnit test cases","body":"<p>You may have defined:</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>If you did this, the resources won't be present in the target directory when you will launch your tests. And <code>mvn package</code> won't create it either.</p>\n<p>At the contrary, if you define:</p>\n<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n<p>Or nothing as the default value is <code>jar</code>. As Maven is based on <em>Convention over Configuration</em>. You will end up with:</p>\n<ul>\n<li>src/main/resources =&gt; target/classes</li>\n<li>src/test/resources =&gt; target/test-classes</li>\n</ul>\n"}],"owner":{"account_id":229668,"reputation":3265,"user_id":987687,"accept_rate":72,"display_name":"Alex Averbuch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131226,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":10548255,"answer_count":7,"score":70,"last_activity_date":1636452284,"creation_date":1336660097,"question_id":10536183,"body_markdown":"**Summary**\r\n\r\nMy JUnit tests are not finding the files they require during execution.\r\nI&#39;m using Maven for dependency management and compilation.\r\n\r\n**Details**\r\n\r\nAll files required by the test cases are located in: `src/test/resources`.\r\n\r\nFor example, `src/test/resources/resourceFile.txt`.\r\n\r\nTo access a resource I use the following code:\r\n\r\n    URL url = getClass().getResource(&quot;/resourceFile.txt&quot;).getFile();\r\n    File file = new File(url);\r\n\r\nBut then `file.exists()` returns `false`. And the error I get is:\r\n\r\n    Tests in error: \r\n      myJUnitTestCase(tests.MyJUnitTestClass): /home/me/workspace/Project%20Name/target/test-classes/resourceFile.txt (No such file or directory)\r\n\r\nNote, the following gives the same error (notice the removed `/` prefix):\r\n\r\n    URL url = getClass().getClassLoader().getResource(&quot;resourceFile.txt&quot;).getFile();\r\n    File file = new File(url);\r\n\r\nIt seems as though the files from `src/test/resources` are not getting copied into `target/test-classes`.\r\n\r\nAny ideas?\r\n\r\n**The following questions did not help**\r\n\r\n[https://stackoverflow.com/questions/7613359/why-cant-i-access-src-test-resources-in-junit-test-run-with-maven][1]\r\n\r\n[https://stackoverflow.com/questions/9983426/loading-properties-file-in-junit-beforeclass][2]\r\n\r\n[https://stackoverflow.com/questions/2948861/how-to-deal-with-the-test-data-in-junit][3]\r\n\r\n**Software Versions**\r\n\r\nUbuntu 12.04 \r\n\r\nApache Maven 2.2.1\r\n\r\nJava 1.7.0\r\n\r\nEclipse (Java EE IDE for Web Developers) Indigo Service Release 2\r\n\r\n**(truncated) Maven POM**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.groupId&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;name&lt;/name&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;name&lt;/finalName&gt;\r\n    \t\t&lt;directory&gt;target&lt;/directory&gt;\r\n    \t\t&lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\r\n    \t\t&lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\r\n    \t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n    \t\t&lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;testResources&gt;\r\n    \t\t\t&lt;testResource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/testResource&gt;\r\n    \t\t&lt;/testResources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/7613359/why-cant-i-access-src-test-resources-in-junit-test-run-with-maven\r\n  [2]: https://stackoverflow.com/questions/9983426/loading-properties-file-in-junit-beforeclass\r\n  [3]: https://stackoverflow.com/questions/2948861/how-to-deal-with-the-test-data-in-junit","title":"Resource files not found from JUnit test cases","body":"<p><strong>Summary</strong></p>\n\n<p>My JUnit tests are not finding the files they require during execution.\nI'm using Maven for dependency management and compilation.</p>\n\n<p><strong>Details</strong></p>\n\n<p>All files required by the test cases are located in: <code>src/test/resources</code>.</p>\n\n<p>For example, <code>src/test/resources/resourceFile.txt</code>.</p>\n\n<p>To access a resource I use the following code:</p>\n\n<pre><code>URL url = getClass().getResource(\"/resourceFile.txt\").getFile();\nFile file = new File(url);\n</code></pre>\n\n<p>But then <code>file.exists()</code> returns <code>false</code>. And the error I get is:</p>\n\n<pre><code>Tests in error: \n  myJUnitTestCase(tests.MyJUnitTestClass): /home/me/workspace/Project%20Name/target/test-classes/resourceFile.txt (No such file or directory)\n</code></pre>\n\n<p>Note, the following gives the same error (notice the removed <code>/</code> prefix):</p>\n\n<pre><code>URL url = getClass().getClassLoader().getResource(\"resourceFile.txt\").getFile();\nFile file = new File(url);\n</code></pre>\n\n<p>It seems as though the files from <code>src/test/resources</code> are not getting copied into <code>target/test-classes</code>.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>The following questions did not help</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7613359/why-cant-i-access-src-test-resources-in-junit-test-run-with-maven\">Why Can&#39;t I access src/test/resources in Junit test run with Maven?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9983426/loading-properties-file-in-junit-beforeclass\">Loading Properties File In JUnit @BeforeClass</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/2948861/how-to-deal-with-the-test-data-in-junit\">How to deal with the test data in Junit?</a></p>\n\n<p><strong>Software Versions</strong></p>\n\n<p>Ubuntu 12.04 </p>\n\n<p>Apache Maven 2.2.1</p>\n\n<p>Java 1.7.0</p>\n\n<p>Eclipse (Java EE IDE for Web Developers) Indigo Service Release 2</p>\n\n<p><strong>(truncated) Maven POM</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;name&lt;/name&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;name&lt;/finalName&gt;\n        &lt;directory&gt;target&lt;/directory&gt;\n        &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;\n        &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1636449241,"post_id":69895376,"comment_id":123553393,"body_markdown":"Maybe you should start by providing a db model, build your entities...","body":"Maybe you should start by providing a db model, build your entities..."},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1636449318,"post_id":69895376,"comment_id":123553412,"body_markdown":"You can use `LocalDate#getDayOfWeek`, get day name and then lookup in the database for a worker who works on this day. If availability days are stored as string, you can use `LIKE` query with `%day%` matcher","body":"You can use <code>LocalDate#getDayOfWeek</code>, get day name and then lookup in the database for a worker who works on this day. If availability days are stored as string, you can use <code>LIKE</code> query with <code>%day%</code> matcher"},{"owner":{"account_id":21415023,"reputation":27,"user_id":15774401,"display_name":"jenny"},"score":0,"creation_date":1636449790,"post_id":69895376,"comment_id":123553590,"body_markdown":"Hi guys! I made enum type for data from Worker, and I understand getDayOfWeek! but what if a worker has multiple the available days, how can i make logics??","body":"Hi guys! I made enum type for data from Worker, and I understand getDayOfWeek! but what if a worker has multiple the available days, how can i make logics??"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636451104,"creation_date":1636451104,"answer_id":69895932,"question_id":69895376,"body_markdown":"&quot;...when they are available as String&quot; - I wouldn&#39;t do that but rather use the day of week field (i.e. 1-7) or an enum. \r\n\r\nThat being said there are many ways to approach this, like maintaining an actual list. Let&#39;s assume you&#39;ve done this and your entities look like this:\r\n\r\n    @Entity\r\n    class Worker {\r\n      @Id\r\n      private String id;\r\n\r\n      @ElementCollection\r\n      @CollectionTable(\r\n        name=&quot;AVAILABILITY&quot;,\r\n        joinColumns=@JoinColumn(name=&quot;WORKER_ID&quot;)\r\n      )\r\n      @Column(name=&quot;WEEKDAY&quot;)\r\n      private Set&lt;DayOfWeek&gt; availableAt;\r\n\r\n      ...\r\n    }\r\n\r\nThen you could use a query like this:\r\n\r\n    SELECT worker FROM Worker worker JOIN worker.availableAt av WHERE av = :selectedDayOfWeek\r\n\r\nIf you&#39;re using Hibernate (and if I remember correctly Spring Boot does so by default) you could also use [HQL](https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#hql-collection-expressions) and thus expressions like these:\r\n\r\n    SELECT worker FROM Worker worker WHERE :selectedDayOfWeek member of worker.availableAt\r\n\r\n    SELECT worker FROM Worker worker WHERE :selectedDayOfWeek in elements(worker.availableAt)\r\n\r\n    SELECT worker FROM Worker worker WHERE :selectedDayOfWeek = some  elements(worker.availableAt)\r\n\r\nDisclaimer: I haven&#39;t used JPA and Hibernate directly in a while so there may be some errors in the code above. The approach should still be valid tough.","title":"How can I extract this List with JPA?","body":"<p>&quot;...when they are available as String&quot; - I wouldn't do that but rather use the day of week field (i.e. 1-7) or an enum.</p>\n<p>That being said there are many ways to approach this, like maintaining an actual list. Let's assume you've done this and your entities look like this:</p>\n<pre><code>@Entity\nclass Worker {\n  @Id\n  private String id;\n\n  @ElementCollection\n  @CollectionTable(\n    name=&quot;AVAILABILITY&quot;,\n    joinColumns=@JoinColumn(name=&quot;WORKER_ID&quot;)\n  )\n  @Column(name=&quot;WEEKDAY&quot;)\n  private Set&lt;DayOfWeek&gt; availableAt;\n\n  ...\n}\n</code></pre>\n<p>Then you could use a query like this:</p>\n<pre><code>SELECT worker FROM Worker worker JOIN worker.availableAt av WHERE av = :selectedDayOfWeek\n</code></pre>\n<p>If you're using Hibernate (and if I remember correctly Spring Boot does so by default) you could also use <a href=\"https://docs.jboss.org/hibernate/stable/orm/userguide/html_single/Hibernate_User_Guide.html#hql-collection-expressions\" rel=\"nofollow noreferrer\">HQL</a> and thus expressions like these:</p>\n<pre><code>SELECT worker FROM Worker worker WHERE :selectedDayOfWeek member of worker.availableAt\n\nSELECT worker FROM Worker worker WHERE :selectedDayOfWeek in elements(worker.availableAt)\n\nSELECT worker FROM Worker worker WHERE :selectedDayOfWeek = some  elements(worker.availableAt)\n</code></pre>\n<p>Disclaimer: I haven't used JPA and Hibernate directly in a while so there may be some errors in the code above. The approach should still be valid tough.</p>\n"}],"owner":{"account_id":21415023,"reputation":27,"user_id":15774401,"display_name":"jenny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69895932,"answer_count":1,"score":-1,"last_activity_date":1636451104,"creation_date":1636448711,"question_id":69895376,"body_markdown":"I am making web service to connect order with worker who would make furnitures.\r\n\r\n- Worker(name of Entity) can set up when they are available as String (ex: SUNDAY, MONDAY, ... SATURDAY).\r\n- Order(name of Entity) can get visitDate when customer wants as LocalDate.\r\n\r\nI&#39;d like to make business logic to show customer page who are available for this order.\r\nI was about to extract List about available Workers. But Idk how to extract because Some workers are available more than one day. Let&#39;s say A is available monday, tuesday, and friday, and if customer wants a worker to visit on 9th nov, How can i extract Lists? \r\n\r\nAlso, i&#39;d like to use DTO, not Entity. ","title":"How can I extract this List with JPA?","body":"<p>I am making web service to connect order with worker who would make furnitures.</p>\n<ul>\n<li>Worker(name of Entity) can set up when they are available as String (ex: SUNDAY, MONDAY, ... SATURDAY).</li>\n<li>Order(name of Entity) can get visitDate when customer wants as LocalDate.</li>\n</ul>\n<p>I'd like to make business logic to show customer page who are available for this order.\nI was about to extract List about available Workers. But Idk how to extract because Some workers are available more than one day. Let's say A is available monday, tuesday, and friday, and if customer wants a worker to visit on 9th nov, How can i extract Lists?</p>\n<p>Also, i'd like to use DTO, not Entity.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1636357442,"post_id":69880009,"comment_id":123525022,"body_markdown":"Does this answer your question? [Why doesn&#39;t RecyclerView have onItemClickListener()?](https://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener\">Why doesn&#39;t RecyclerView have onItemClickListener()?</a>"},{"owner":{"account_id":19712912,"reputation":37,"user_id":14432982,"display_name":"tankian vei"},"score":0,"creation_date":1636358444,"post_id":69880009,"comment_id":123525301,"body_markdown":"yes, it was, but I didn&#39;t understand how to implement it, :&#39;)","body":"yes, it was, but I didn&#39;t understand how to implement it, :&#39;)"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1636360382,"post_id":69880009,"comment_id":123525898,"body_markdown":"Recycler view doesn&#39;t have it&#39;s own click listener . You need to set click listener on it&#39;s view. Set click listener on layout used in  it&#39;s adapter `list_item_layout` , might be some button or parent layout","body":"Recycler view doesn&#39;t have it&#39;s own click listener . You need to set click listener on it&#39;s view. Set click listener on layout used in  it&#39;s adapter <code>list_item_layout</code> , might be some button or parent layout"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1636361656,"post_id":69880009,"comment_id":123526368,"body_markdown":"I have written the answer using your code ,hope it helps you understand how it&#39;s implement","body":"I have written the answer using your code ,hope it helps you understand how it&#39;s implement"}],"answers":[{"tags":[],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636451092,"creation_date":1636361590,"answer_id":69880804,"question_id":69880009,"body_markdown":"You can send the callback from your Adapter class to your fragment/activity. \r\n\r\n1) First create a interface class\r\n\r\n       public interface OnItemClickListener {\r\n            void onItemClick(WorldDataModel item,int position);\r\n        }\r\n2) Next modify your Adapter class , in your case `RecycleViewWorldAdapter`\r\n\r\n      **i)** Send listener as a parameter in your constructor  \r\n \r\n\r\n       private final OnItemClickListener listener;\r\n       public RecycleViewWorldAdapter(ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList,  OnItemClickListener listener) {\r\n                this.worldDataModelArrayList = worldDataModelArrayList;\r\n                this.listener = listener;\r\n            }\r\n\r\n\r\n\r\n      **ii)** Set onCLick listener on some view in your ViewHolder class\r\n\r\n       public MyViewHolder(View itemView) {\r\n                super(itemView);\r\n                textViewLocationName = (TextView) itemView.findViewById(R.id.location_name);\r\n                textViewPlacesName = (TextView) itemView.findViewById(R.id.places_name);\r\n                imageOnCard = (ImageView) itemView.findViewById(R.id.image_on_cardview);\r\n                // change your listener on any other view if you want\r\n                imageOnCard..setOnClickListener(new View.OnClickListener() {\r\n                        @Override public void onClick(View v) {\r\n                              listener.onItemClick(worldDataModelArrayList.get(getAdapterPosition()),getAdapterPosition());\r\n                        }\r\n               });\r\n    \r\n            }\r\n\r\n3) Now modify your Activity/Fragment class to listen to your interface callback , in your case `MountainFragment` in `onCreateView`\r\n\r\n\r\n        // using simple recycle view\r\n        RecyclerView recyclerView = (RecyclerView) rootView.findViewById(R.id.word_list_activity);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n        RecycleViewWorldAdapter adapter = new RecycleViewWorldAdapter(mountainArrays,new RecycleViewWorldAdapter.OnItemClickListener() {\r\n            @Override public void onItemClick(WorldDataModel item, int position) {\r\n               // implement click listener as per your requirement\r\n            WorldDataModel worldDataModel = item;\r\n            Intent intent = new Intent(getActivity(), DetailsActivity.class);\r\n            intent.putExtra(&quot;category&quot;, LOCATION_TYPE);\r\n            intent.putExtra(&quot;location&quot;, position + 1);\r\n            getActivity().startActivity(intent);\r\n   \r\n            });\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n","title":"struggling with Fragment and RecycleView implement OnItemClick","body":"<p>You can send the callback from your Adapter class to your fragment/activity.</p>\n<ol>\n<li><p>First create a interface class</p>\n<pre><code>public interface OnItemClickListener {\n     void onItemClick(WorldDataModel item,int position);\n }\n</code></pre>\n</li>\n<li><p>Next modify your Adapter class , in your case <code>RecycleViewWorldAdapter</code></p>\n<p><strong>i)</strong> Send listener as a parameter in your constructor</p>\n<pre><code>private final OnItemClickListener listener;\npublic RecycleViewWorldAdapter(ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList,  OnItemClickListener listener) {\n         this.worldDataModelArrayList = worldDataModelArrayList;\n         this.listener = listener;\n     }\n</code></pre>\n<p><strong>ii)</strong> Set onCLick listener on some view in your ViewHolder class</p>\n<pre><code>public MyViewHolder(View itemView) {\n         super(itemView);\n         textViewLocationName = (TextView) itemView.findViewById(R.id.location_name);\n         textViewPlacesName = (TextView) itemView.findViewById(R.id.places_name);\n         imageOnCard = (ImageView) itemView.findViewById(R.id.image_on_cardview);\n         // change your listener on any other view if you want\n         imageOnCard..setOnClickListener(new View.OnClickListener() {\n                 @Override public void onClick(View v) {\n                       listener.onItemClick(worldDataModelArrayList.get(getAdapterPosition()),getAdapterPosition());\n                 }\n        });\n\n     }\n</code></pre>\n</li>\n<li><p>Now modify your Activity/Fragment class to listen to your interface callback , in your case <code>MountainFragment</code> in <code>onCreateView</code></p>\n<pre><code> // using simple recycle view\n RecyclerView recyclerView = (RecyclerView) rootView.findViewById(R.id.word_list_activity);\n recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\n RecycleViewWorldAdapter adapter = new RecycleViewWorldAdapter(mountainArrays,new RecycleViewWorldAdapter.OnItemClickListener() {\n     @Override public void onItemClick(WorldDataModel item, int position) {\n        // implement click listener as per your requirement\n     WorldDataModel worldDataModel = item;\n     Intent intent = new Intent(getActivity(), DetailsActivity.class);\n     intent.putExtra(&quot;category&quot;, LOCATION_TYPE);\n     intent.putExtra(&quot;location&quot;, position + 1);\n     getActivity().startActivity(intent);\n\n     });\n recyclerView.setAdapter(adapter);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19712912,"reputation":37,"user_id":14432982,"display_name":"tankian vei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69880804,"answer_count":1,"score":1,"last_activity_date":1636451092,"creation_date":1636357204,"question_id":69880009,"body_markdown":"I tried to implement OnItemClickListener in Fragment with RecycleView Adapter, but my code seems not to work well, OnItemClickListener keeps turning red when I try to change it to getContext(). \r\nI&#39;ve tried to find many ways to get it done, but that makes me find another error in my code. \r\n.\r\nyour help will make my day brighter, \r\n\r\n    public class MountainFragment extends Fragment {\r\n\r\n    private final int LOCATION_SIZE = 10;\r\n    private final int LOCATION_TYPE = 1;\r\n\r\n    public MountainFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View rootView = inflater.inflate(R.layout.word_list_activity, container, false);\r\n\r\n        String name, imageName, address;\r\n        Drawable image;\r\n        int resourceId, imageId;\r\n\r\n        final ArrayList&lt;WorldDataModel&gt; mountainArrays = new ArrayList&lt;WorldDataModel&gt;();\r\n        for (int n = 1; n &lt;= LOCATION_SIZE; n++) {\r\n            //get Location Name\r\n            resourceId = getResources().getIdentifier(&quot;location_name_&quot; + LOCATION_TYPE\r\n                    + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\r\n            name = getResources().getString(resourceId);\r\n\r\n            //get address\r\n            resourceId = getResources().getIdentifier(&quot;location_address_&quot; + LOCATION_TYPE\r\n                    + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\r\n            address = getResources().getString(resourceId);\r\n\r\n            //get image thumbnail\r\n            resourceId = getResources().getIdentifier(&quot;location_thumbnail_&quot; + LOCATION_TYPE\r\n                    + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\r\n            imageName = getResources().getString(resourceId);\r\n            imageId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getActivity().getPackageName());\r\n            image = getResources().getDrawable(imageId);\r\n\r\n            //add new data to list\r\n            mountainArrays.add(new WorldDataModel(name, address, image));\r\n        }\r\n\r\n        // using simple recycle view\r\n        RecyclerView recyclerView = (RecyclerView) rootView.findViewById(R.id.word_list_activity);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n        RecycleViewWorldAdapter adapter = new RecycleViewWorldAdapter(mountainArrays);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        //on list item click\r\n        recyclerView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                WorldDataModel worldDataModel = mountainArrays.get(position);\r\n                Intent intent = new Intent(getActivity(), DetailsActivity.class);\r\n                intent.putExtra(&quot;category&quot;, LOCATION_TYPE);\r\n                intent.putExtra(&quot;location&quot;, position + 1);\r\n                getActivity().startActivity(intent);\r\n            }\r\n        });\r\n\r\n        // Inflate the layout for this fragment\r\n        return rootView;\r\n    }\r\n\r\nand here&#39;s my adapter class\r\n\r\n``` \r\npackage com.example.mytourguideapp;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecycleViewWorldAdapter extends RecyclerView.Adapter&lt;RecycleViewWorldAdapter.MyViewHolder&gt; {\r\n\r\n    private ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList;\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView textViewLocationName, textViewPlacesName;\r\n        public ImageView imageOnCard;\r\n\r\n        public MyViewHolder(View itemView) {\r\n            super(itemView);\r\n            textViewLocationName = (TextView) itemView.findViewById(R.id.location_name);\r\n            textViewPlacesName = (TextView) itemView.findViewById(R.id.places_name);\r\n            imageOnCard = (ImageView) itemView.findViewById(R.id.image_on_cardview);\r\n\r\n        }\r\n    }\r\n\r\n    public RecycleViewWorldAdapter(ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList) {\r\n        this.worldDataModelArrayList = worldDataModelArrayList;\r\n    }\r\n\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.list_item_layout, parent, false);\r\n\r\n        return new MyViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(RecycleViewWorldAdapter.MyViewHolder holder, int position) {\r\n        WorldDataModel worldDataModel = worldDataModelArrayList.get(position);\r\n        holder.textViewPlacesName.setText(worldDataModel.getName());\r\n        holder.textViewLocationName.setText(worldDataModel.getAddress());\r\n        holder.imageOnCard.setImageDrawable(worldDataModel.getImageThumbnail());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return worldDataModelArrayList.size();\r\n    }\r\n\r\n}\r\n```","title":"struggling with Fragment and RecycleView implement OnItemClick","body":"<p>I tried to implement OnItemClickListener in Fragment with RecycleView Adapter, but my code seems not to work well, OnItemClickListener keeps turning red when I try to change it to getContext().\nI've tried to find many ways to get it done, but that makes me find another error in my code.\n.\nyour help will make my day brighter,</p>\n<pre><code>public class MountainFragment extends Fragment {\n\nprivate final int LOCATION_SIZE = 10;\nprivate final int LOCATION_TYPE = 1;\n\npublic MountainFragment() {\n    // Required empty public constructor\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    View rootView = inflater.inflate(R.layout.word_list_activity, container, false);\n\n    String name, imageName, address;\n    Drawable image;\n    int resourceId, imageId;\n\n    final ArrayList&lt;WorldDataModel&gt; mountainArrays = new ArrayList&lt;WorldDataModel&gt;();\n    for (int n = 1; n &lt;= LOCATION_SIZE; n++) {\n        //get Location Name\n        resourceId = getResources().getIdentifier(&quot;location_name_&quot; + LOCATION_TYPE\n                + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\n        name = getResources().getString(resourceId);\n\n        //get address\n        resourceId = getResources().getIdentifier(&quot;location_address_&quot; + LOCATION_TYPE\n                + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\n        address = getResources().getString(resourceId);\n\n        //get image thumbnail\n        resourceId = getResources().getIdentifier(&quot;location_thumbnail_&quot; + LOCATION_TYPE\n                + &quot;_&quot; + n, &quot;string&quot;, getActivity().getPackageName());\n        imageName = getResources().getString(resourceId);\n        imageId = getResources().getIdentifier(imageName, &quot;drawable&quot;, getActivity().getPackageName());\n        image = getResources().getDrawable(imageId);\n\n        //add new data to list\n        mountainArrays.add(new WorldDataModel(name, address, image));\n    }\n\n    // using simple recycle view\n    RecyclerView recyclerView = (RecyclerView) rootView.findViewById(R.id.word_list_activity);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\n    RecycleViewWorldAdapter adapter = new RecycleViewWorldAdapter(mountainArrays);\n    recyclerView.setAdapter(adapter);\n\n    //on list item click\n    recyclerView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            WorldDataModel worldDataModel = mountainArrays.get(position);\n            Intent intent = new Intent(getActivity(), DetailsActivity.class);\n            intent.putExtra(&quot;category&quot;, LOCATION_TYPE);\n            intent.putExtra(&quot;location&quot;, position + 1);\n            getActivity().startActivity(intent);\n        }\n    });\n\n    // Inflate the layout for this fragment\n    return rootView;\n}\n</code></pre>\n<p>and here's my adapter class</p>\n<pre><code>package com.example.mytourguideapp;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.ArrayList;\n\npublic class RecycleViewWorldAdapter extends RecyclerView.Adapter&lt;RecycleViewWorldAdapter.MyViewHolder&gt; {\n\n    private ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList;\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView textViewLocationName, textViewPlacesName;\n        public ImageView imageOnCard;\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n            textViewLocationName = (TextView) itemView.findViewById(R.id.location_name);\n            textViewPlacesName = (TextView) itemView.findViewById(R.id.places_name);\n            imageOnCard = (ImageView) itemView.findViewById(R.id.image_on_cardview);\n\n        }\n    }\n\n    public RecycleViewWorldAdapter(ArrayList&lt;WorldDataModel&gt; worldDataModelArrayList) {\n        this.worldDataModelArrayList = worldDataModelArrayList;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.list_item_layout, parent, false);\n\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(RecycleViewWorldAdapter.MyViewHolder holder, int position) {\n        WorldDataModel worldDataModel = worldDataModelArrayList.get(position);\n        holder.textViewPlacesName.setText(worldDataModel.getName());\n        holder.textViewLocationName.setText(worldDataModel.getAddress());\n        holder.imageOnCard.setImageDrawable(worldDataModel.getImageThumbnail());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return worldDataModelArrayList.size();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","php","codenameone"],"comments":[{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1496208291,"post_id":44265304,"comment_id":75559758,"body_markdown":"That&#39;s not a URL, that&#39;s a local file on your machine a URL should be an HTTP or HTTPS URL. To get this working your server needs to deliver that image when asked for it","body":"That&#39;s not a URL, that&#39;s a local file on your machine a URL should be an HTTP or HTTPS URL. To get this working your server needs to deliver that image when asked for it"},{"owner":{"account_id":11008761,"reputation":21,"user_id":8086887,"display_name":"nirdesh kulhar"},"score":0,"creation_date":1496368045,"post_id":44265304,"comment_id":75644571,"body_markdown":"And how do I do that I don&#39;t know that after I sent the data via a multipart request to HTTPS://udrafter2017.azurewebsites.net/php/postjob.php  how to handle it with php script. And save it on server","body":"And how do I do that I don&#39;t know that after I sent the data via a multipart request to <a href=\"HTTPS://udrafter2017.azurewebsites.net/php/postjob.php\" rel=\"nofollow noreferrer\">HTTPS://udrafter2017.azurewebsites.net/php/postjob.php</a>  how to handle it with php script. And save it on server"},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1496376397,"post_id":44265304,"comment_id":75646287,"body_markdown":"In the PHP code you need to write code that provides access to that file over http. Unfortunately, I can&#39;t help you with PHP as I don&#39;t use it. Notice that this has nothing to do with Codename One and would be a problem with a web UI or any other type of UI as a client cant reach a file physically located on the server without an access API","body":"In the PHP code you need to write code that provides access to that file over http. Unfortunately, I can&#39;t help you with PHP as I don&#39;t use it. Notice that this has nothing to do with Codename One and would be a problem with a web UI or any other type of UI as a client cant reach a file physically located on the server without an access API"}],"owner":{"account_id":11008761,"reputation":21,"user_id":8086887,"display_name":"nirdesh kulhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636450893,"creation_date":1496155220,"question_id":44265304,"body_markdown":"hi i am trying to upload an image from device using codenameone and upload it to php server and storing the image Url in mysql database and then wanna retrive that image back  to show on device but its not working properly \r\nBelow is my java code\r\n\r\n    jobIcon.addActionListener((ActionEvent en) -&gt; {\r\n               if(Dialog.show(&quot;Camera or Gallery&quot;, &quot;Would you like to use the camera or the gallery for the picture?&quot;, &quot;Camera&quot;, &quot;Gallery&quot;)) {\r\n                 jobPic = Capture.capturePhoto();\r\n                if(jobPic != null) \r\n                    try{\r\n              Image img = Image.createImage(jobPic);\r\n                 ImageIO imgIO= ImageIO.getImageIO();\r\n                 ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                 imgIO.save(img, out,ImageIO.FORMAT_JPEG, 1);\r\n               bytesdata = out.toByteArray();\r\n                 jobIcon.setIcon(img);\r\n                \r\n                }catch(IOException err) {\r\n                            ToastBar.showErrorMessage(&quot;An error occured while loading the image: &quot; + err);\r\n                            Log.e(err);\r\n                        }\r\n            } else {\r\n                Display.getInstance().openGallery(ee -&gt; {\r\n                    if(ee.getSource() != null) {\r\n                        try {\r\n                            jobPic =(String)ee.getSource();\r\n                          Image img = Image.createImage((String)ee.getSource());\r\n                          ImageIO imgIO= ImageIO.getImageIO();\r\n                          ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                          imgIO.save(img, out,ImageIO.FORMAT_JPEG, 1);\r\n                          bytesdata = out.toByteArray();\r\n                          jobIcon.setIcon(img);\r\n                       \r\n                        } catch(IOException err) {\r\n                            ToastBar.showErrorMessage(&quot;An error occured while loading the image: &quot; + err);\r\n                            Log.e(err);\r\n                        }\r\n                    }\r\n                },Display.GALLERY_IMAGE); \r\n\r\nI don&#39;t want to display the image right after that and if I remove Display.GALLERY_IMAGE it shows error,\r\nand then  I am sending the  data via a multipart request\r\n\r\n\r\n      if (jobPic !=null)\r\n                 {\r\n                   r.addData(&quot;jobPic&quot;,bytesdata,&quot;image/jpeg&quot; );  \r\n                 }\r\n\r\n\r\nthen handeling the data with php script below \r\n\r\n    if (isset ($_FILES[&quot;jobPic&quot;])) {\r\n    $image = $_FILES[&#39;jobPic&#39;][&#39;name&#39;];\r\n    $target_path = &quot;/uploads/&quot;;\r\n    $dir = sys_get_temp_dir();\r\n    $uid = uniqid();\r\n    $file = $uid .$image.&quot;.jpeg&quot; ;\r\n    move_uploaded_file($_FILES[&quot;jobPic&quot;][&quot;tmp_name&quot;],$target_path . $file);\r\n\r\n    $jobPic =$dir. $target_path . $file;\r\n    }else {\r\n        $jobPic = &quot;&quot;;\r\n\r\nand then the Url stored in database looks like this \r\n\r\n    D:localTemp/uploads/592caa9de79fdjobPic.jpeg\r\n\r\nand I am unable to create an image with this url in codename one after getting url from server","title":"How can I upload an image to server in codenameone and retrieve back?","body":"<p>hi i am trying to upload an image from device using codenameone and upload it to php server and storing the image Url in mysql database and then wanna retrive that image back  to show on device but its not working properly\nBelow is my java code</p>\n<pre><code>jobIcon.addActionListener((ActionEvent en) -&gt; {\n           if(Dialog.show(&quot;Camera or Gallery&quot;, &quot;Would you like to use the camera or the gallery for the picture?&quot;, &quot;Camera&quot;, &quot;Gallery&quot;)) {\n             jobPic = Capture.capturePhoto();\n            if(jobPic != null) \n                try{\n          Image img = Image.createImage(jobPic);\n             ImageIO imgIO= ImageIO.getImageIO();\n             ByteArrayOutputStream out = new ByteArrayOutputStream();\n             imgIO.save(img, out,ImageIO.FORMAT_JPEG, 1);\n           bytesdata = out.toByteArray();\n             jobIcon.setIcon(img);\n            \n            }catch(IOException err) {\n                        ToastBar.showErrorMessage(&quot;An error occured while loading the image: &quot; + err);\n                        Log.e(err);\n                    }\n        } else {\n            Display.getInstance().openGallery(ee -&gt; {\n                if(ee.getSource() != null) {\n                    try {\n                        jobPic =(String)ee.getSource();\n                      Image img = Image.createImage((String)ee.getSource());\n                      ImageIO imgIO= ImageIO.getImageIO();\n                      ByteArrayOutputStream out = new ByteArrayOutputStream();\n                      imgIO.save(img, out,ImageIO.FORMAT_JPEG, 1);\n                      bytesdata = out.toByteArray();\n                      jobIcon.setIcon(img);\n                   \n                    } catch(IOException err) {\n                        ToastBar.showErrorMessage(&quot;An error occured while loading the image: &quot; + err);\n                        Log.e(err);\n                    }\n                }\n            },Display.GALLERY_IMAGE); \n</code></pre>\n<p>I don't want to display the image right after that and if I remove Display.GALLERY_IMAGE it shows error,\nand then  I am sending the  data via a multipart request</p>\n<pre><code>  if (jobPic !=null)\n             {\n               r.addData(&quot;jobPic&quot;,bytesdata,&quot;image/jpeg&quot; );  \n             }\n</code></pre>\n<p>then handeling the data with php script below</p>\n<pre><code>if (isset ($_FILES[&quot;jobPic&quot;])) {\n$image = $_FILES['jobPic']['name'];\n$target_path = &quot;/uploads/&quot;;\n$dir = sys_get_temp_dir();\n$uid = uniqid();\n$file = $uid .$image.&quot;.jpeg&quot; ;\nmove_uploaded_file($_FILES[&quot;jobPic&quot;][&quot;tmp_name&quot;],$target_path . $file);\n\n$jobPic =$dir. $target_path . $file;\n}else {\n    $jobPic = &quot;&quot;;\n</code></pre>\n<p>and then the Url stored in database looks like this</p>\n<pre><code>D:localTemp/uploads/592caa9de79fdjobPic.jpeg\n</code></pre>\n<p>and I am unable to create an image with this url in codename one after getting url from server</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636451219,"post_id":69895876,"comment_id":123554173,"body_markdown":"You&#39;re calling `mac.doFinal` in parallel on a single instance. That sounds like a bad idea to me. Do you get inconsistent results if you just use a regular `for` loop and create the macs in sequence?","body":"You&#39;re calling <code>mac.doFinal</code> in parallel on a single instance. That sounds like a bad idea to me. Do you get inconsistent results if you just use a regular <code>for</code> loop and create the macs in sequence?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636451257,"post_id":69895876,"comment_id":123554190,"body_markdown":"(If you need to perform the operations in parallel, then create a new `Mac` instance in the loop.)","body":"(If you need to perform the operations in parallel, then create a new <code>Mac</code> instance in the loop.)"},{"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"score":0,"creation_date":1636451495,"post_id":69895876,"comment_id":123554293,"body_markdown":"Sequence loop is fine but there is a real scenario like I have a bean of mac and I have generated a digest of headers using a mac.doFinal() these are the concurrent request on gateway application. Now there is an underlying application that again generates digest for the same data then and compares both digests so that time it will create a problem.","body":"Sequence loop is fine but there is a real scenario like I have a bean of mac and I have generated a digest of headers using a mac.doFinal() these are the concurrent request on gateway application. Now there is an underlying application that again generates digest for the same data then and compares both digests so that time it will create a problem."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636451883,"post_id":69895876,"comment_id":123554446,"body_markdown":"Concurrent requests should be fine: so long as each one uses a new `Mac` instance. So as I said, for your test code, move the `Mac` creation into the body of the `forEach` lambda. Fundamentally the problem is that you&#39;re modifying shared state concurrently - you can&#39;t do that and expect the results to be valid.","body":"Concurrent requests should be fine: so long as each one uses a new <code>Mac</code> instance. So as I said, for your test code, move the <code>Mac</code> creation into the body of the <code>forEach</code> lambda. Fundamentally the problem is that you&#39;re modifying shared state concurrently - you can&#39;t do that and expect the results to be valid."},{"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"score":0,"creation_date":1636452122,"post_id":69895876,"comment_id":123554552,"body_markdown":"Creating a Mac instance every time in a gateway application is an expensive task. I have moved the Mac instance inside forEach it is working fine now but I am not sure the actual reason why mac.doFinal does not generate the same digest for the same data?","body":"Creating a Mac instance every time in a gateway application is an expensive task. I have moved the Mac instance inside forEach it is working fine now but I am not sure the actual reason why mac.doFinal does not generate the same digest for the same data?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636453042,"post_id":69895876,"comment_id":123554941,"body_markdown":"Because you&#39;re computing the data for two different values at the same time, so they&#39;re interfering with each other. Fundamentally `Mac` isn&#39;t designed to be used by this. You may be able to get away with a `ThreadLocal` so you have one `Mac` per thread, reused across threads... but you need to start by accepting that you *can&#39;t* use a single `Mac` across multiple threads at the same time.","body":"Because you&#39;re computing the data for two different values at the same time, so they&#39;re interfering with each other. Fundamentally <code>Mac</code> isn&#39;t designed to be used by this. You may be able to get away with a <code>ThreadLocal</code> so you have one <code>Mac</code> per thread, reused across threads... but you need to start by accepting that you <i>can&#39;t</i> use a single <code>Mac</code> across multiple threads at the same time."},{"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"score":0,"creation_date":1636453549,"post_id":69895876,"comment_id":123555138,"body_markdown":"Is there any alternative other then `Mac`","body":"Is there any alternative other then <code>Mac</code>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636453623,"post_id":69895876,"comment_id":123555172,"body_markdown":"No, it&#39;s doing exactly what it&#39;s designed to do, and that&#39;s the way to do it. I&#39;ve already suggested the solution here: use a ThreadLocal if you want to be able to effectively use a &quot;pool&quot; of shared Mac instances, but only one per thread.","body":"No, it&#39;s doing exactly what it&#39;s designed to do, and that&#39;s the way to do it. I&#39;ve already suggested the solution here: use a ThreadLocal if you want to be able to effectively use a &quot;pool&quot; of shared Mac instances, but only one per thread."}],"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636450879,"creation_date":1636450879,"question_id":69895876,"body_markdown":"I am facing an issue with the following code\r\n\r\n   \r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException {\r\n\t\tString key = &quot;test&quot;;\r\n\t\tSecretKeySpec secretKeySpec = new \r\n          SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA512&quot;);\r\n\t\tMac mac = Mac.getInstance(&quot;HmacSHA512&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (null != mac) {\r\n\t\t\t\tmac.init(secretKeySpec);\r\n\t\t\t}\r\n\t\t} catch (InvalidKeyException e) {\r\n\t\t\r\n\t\t}\r\n\r\n\t\tIntStream.range(1, 12).parallel().forEach(d-&gt;{\r\n\t\t\tfinal byte[] bytes = &quot;somestring&quot;.getBytes(StandardCharsets.UTF_8);\r\n\t\t\tfinal byte[]  doFinal= mac.doFinal(bytes);\r\n\t\t\tString digest = Base64.getEncoder().encodeToString(doFinal);\r\n\t\t\tLOGGER.info(&quot;digest -- {} &quot;, digest);\r\n\t\t});\r\n\t}\r\n\r\nEven the string is the same but digests generated using a mac.doFinal is different. This is just a showcase of the issue. I have used the same code in my spring reactive application where mac is a bean and digest generated every time when user make a request which is a concurrent request where also i have seen these weird behavior.","title":"MAC doFinal gives different value for same data","body":"<p>I am facing an issue with the following code</p>\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException {\n    String key = &quot;test&quot;;\n    SecretKeySpec secretKeySpec = new \n      SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), &quot;HmacSHA512&quot;);\n    Mac mac = Mac.getInstance(&quot;HmacSHA512&quot;);\n    \n    try {\n        if (null != mac) {\n            mac.init(secretKeySpec);\n        }\n    } catch (InvalidKeyException e) {\n    \n    }\n\n    IntStream.range(1, 12).parallel().forEach(d-&gt;{\n        final byte[] bytes = &quot;somestring&quot;.getBytes(StandardCharsets.UTF_8);\n        final byte[]  doFinal= mac.doFinal(bytes);\n        String digest = Base64.getEncoder().encodeToString(doFinal);\n        LOGGER.info(&quot;digest -- {} &quot;, digest);\n    });\n}\n</code></pre>\n<p>Even the string is the same but digests generated using a mac.doFinal is different. This is just a showcase of the issue. I have used the same code in my spring reactive application where mac is a bean and digest generated every time when user make a request which is a concurrent request where also i have seen these weird behavior.</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1636420852,"post_id":69891707,"comment_id":123547119,"body_markdown":"Going forward, the best way to do this is to have a specific log class that you pass your parameters/error into, and let it manage the details like your method above (Rather than typing it out hundreds of times), for example `Log.add(&quot;message&quot;, e, level);` or `Log.warn(&quot;message&quot;, e);` etc. The advantage of a log class is that you can also change the way it works at any stage without modifying any other code.","body":"Going forward, the best way to do this is to have a specific log class that you pass your parameters/error into, and let it manage the details like your method above (Rather than typing it out hundreds of times), for example <code>Log.add(&quot;message&quot;, e, level);</code> or <code>Log.warn(&quot;message&quot;, e);</code> etc. The advantage of a log class is that you can also change the way it works at any stage without modifying any other code."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636450874,"creation_date":1636450874,"answer_id":69895875,"question_id":69891707,"body_markdown":"There is a simpler one line equivalent to your own:\r\n\r\n    logger.warn(&quot;ERR Occurs&quot;, logger.isDebugEnabled() ? e : null);\r\n\r\nYou might consider packaging the ternary operator as a simple static method `logEx(e)` if not wanting to override the logging class.\r\n\r\nHowever: hiding exceptions is a bad idea - especially when not in debug mode, so you are better off with addressing the conditions causing the exception and leaving the logging as:\r\n\r\n    logger.warn(&quot;ERR Occurs&quot;, e);\r\n","title":"Java log throwable only in debug mode","body":"<p>There is a simpler one line equivalent to your own:</p>\n<pre><code>logger.warn(&quot;ERR Occurs&quot;, logger.isDebugEnabled() ? e : null);\n</code></pre>\n<p>You might consider packaging the ternary operator as a simple static method <code>logEx(e)</code> if not wanting to override the logging class.</p>\n<p>However: hiding exceptions is a bad idea - especially when not in debug mode, so you are better off with addressing the conditions causing the exception and leaving the logging as:</p>\n<pre><code>logger.warn(&quot;ERR Occurs&quot;, e);\n</code></pre>\n"}],"owner":{"account_id":23278127,"reputation":3,"user_id":17361953,"display_name":"KM H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69895875,"answer_count":1,"score":0,"last_activity_date":1636450874,"creation_date":1636420424,"question_id":69891707,"body_markdown":"I want make log with throwable only when log-level is under debug mode.\r\n\r\nMy way is\r\n\r\n    try {\r\n        // ...\r\n    } catch (Exception e){\r\n        if(logger.isDebugEnabled()){\r\n            logger.warn(&quot;ERR Occurs&quot;, e);\r\n        } else {\r\n            logger.warn(&quot;ERR Occurs&quot;);\r\n        }\r\n    }\r\n\r\n\r\nBut it is hard to change all my code and It is difficult to see the code at a glance\r\n\r\nIs there any alternatives?\r\n","title":"Java log throwable only in debug mode","body":"<p>I want make log with throwable only when log-level is under debug mode.</p>\n<p>My way is</p>\n<pre><code>try {\n    // ...\n} catch (Exception e){\n    if(logger.isDebugEnabled()){\n        logger.warn(&quot;ERR Occurs&quot;, e);\n    } else {\n        logger.warn(&quot;ERR Occurs&quot;);\n    }\n}\n</code></pre>\n<p>But it is hard to change all my code and It is difficult to see the code at a glance</p>\n<p>Is there any alternatives?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8124,"page":1868,"page_size":100}
