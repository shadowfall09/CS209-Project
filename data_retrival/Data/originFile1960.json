{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1633608935,"post_id":69480937,"comment_id":122808500,"body_markdown":"Access by what?","body":"Access by what?"},{"owner":{"account_id":13774968,"reputation":87,"user_id":9941525,"display_name":"Praphul S Sreedhar"},"score":0,"creation_date":1633609767,"post_id":69480937,"comment_id":122808868,"body_markdown":"@meriton for jasper report i am temporary saving pdf , that file i need to read","body":"@meriton for jasper report i am temporary saving pdf , that file i need to read"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1633610685,"post_id":69480937,"comment_id":122809342,"body_markdown":"It&#39;s unclear what you want. 1. Is the file already present during build (i.e. it should be included in your resources)? 2. Do you need to *write* to the file as well?","body":"It&#39;s unclear what you want. 1. Is the file already present during build (i.e. it should be included in your resources)? 2. Do you need to <i>write</i> to the file as well?"}],"answers":[{"tags":[],"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633609059,"creation_date":1633609059,"answer_id":69480998,"question_id":69480937,"body_markdown":"You can define your destination yourself:\r\n\r\n**One possible option:**\r\n\r\n            FileOutputStream out;\r\n            String filePath = &quot;your destination&quot;;\r\n            try {\r\n                out = new FileOutputStream(filePath);\r\n                out.write(someFile.getBytes());\r\n                out.close();\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nAnd later access it by path","title":"In spring boot which location we are saving a file","body":"<p>You can define your destination yourself:</p>\n<p><strong>One possible option:</strong></p>\n<pre><code>        FileOutputStream out;\n        String filePath = &quot;your destination&quot;;\n        try {\n            out = new FileOutputStream(filePath);\n            out.write(someFile.getBytes());\n            out.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>And later access it by path</p>\n"},{"tags":[],"owner":{"account_id":17623291,"reputation":19,"user_id":12788765,"display_name":"Souradeep Banerjee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633630124,"creation_date":1633630124,"answer_id":69485893,"question_id":69480937,"body_markdown":"You can store a file anywhere in Spring Boot like the previous answer indicated. \r\nHowever to make it easily accessible in production, it is recommended to save it in the src/main/resources folder since that will copy it into the target folder after the build is completed and you can access it just by mentioning it&#39;s relative path in your code, rather than using it&#39;s entire file path.","title":"In spring boot which location we are saving a file","body":"<p>You can store a file anywhere in Spring Boot like the previous answer indicated.\nHowever to make it easily accessible in production, it is recommended to save it in the src/main/resources folder since that will copy it into the target folder after the build is completed and you can access it just by mentioning it's relative path in your code, rather than using it's entire file path.</p>\n"}],"owner":{"account_id":13774968,"reputation":87,"user_id":9941525,"display_name":"Praphul S Sreedhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2058,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633706127,"creation_date":1633608772,"question_id":69480937,"body_markdown":"I need to save a file in spring boot and i can access it in production build also. So where i can store that file?\r\n\r\nWhat is code for getting path , Now i am creating file in pom.xml file location","title":"In spring boot which location we are saving a file","body":"<p>I need to save a file in spring boot and i can access it in production build also. So where i can store that file?</p>\n<p>What is code for getting path , Now i am creating file in pom.xml file location</p>\n"},{"tags":["java","spring-boot","xss","checkmarx","stringescapeutils"],"comments":[{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1632489302,"post_id":69310538,"comment_id":122513459,"body_markdown":"XSS is an output issue, not an input issue. Is that method returning JSON or HTML?","body":"XSS is an output issue, not an input issue. Is that method returning JSON or HTML?"},{"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"score":0,"creation_date":1634172811,"post_id":69310538,"comment_id":122957040,"body_markdown":"@DujSn28 you will have to use Checkmarx CxAudit to create a custom Checkmarx query (overriding the base Reflected XSS Checkmarx query) to recognize your checkCSS method as a valid sanitizer","body":"@DujSn28 you will have to use Checkmarx CxAudit to create a custom Checkmarx query (overriding the base Reflected XSS Checkmarx query) to recognize your checkCSS method as a valid sanitizer"}],"answers":[{"tags":[],"owner":{"account_id":6229011,"reputation":207,"user_id":4846413,"accept_rate":33,"display_name":"mosab"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633705226,"creation_date":1633705226,"answer_id":69497944,"question_id":69310538,"body_markdown":"try this:\r\n\r\n    ESAPI.encoder().encodeForHTML(clientFirstName);\r\n\r\nand do it for all your query params.","title":"How to prevent Put API in your controller from XSS attacks reflected in CheckMarx scans?","body":"<p>try this:</p>\n<pre><code>ESAPI.encoder().encodeForHTML(clientFirstName);\n</code></pre>\n<p>and do it for all your query params.</p>\n"}],"owner":{"account_id":17068554,"reputation":13,"user_id":12349958,"display_name":"DujSn28"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633705226,"creation_date":1632465216,"question_id":69310538,"body_markdown":"I ran a CheckMarx Scan on my repository and it gave quite many potential Reflected XSS attack results. Here is the code for my controller :\r\n\r\n```\r\n@PutMapping(&quot;/calculate&quot;)\r\n    public UpdatedResponse calculateModel(\r\n            @RequestBody ModelDocument modelDocument, @RequestParam String clientFirstName,\r\n            @PathVariable String clientId, @PathVariable String clientLastName\r\n ) {\r\n\r\n        // Sanitize the parameters\r\n\r\n        modelDocument = checkForCSS(modelDocument); // NOT ACCEPTING THIS\r\n        clientId = StringEscapeUtils.escapeHtml4(clientId);\r\n        clientFirstName = StringEscapeUtils.escapeHtml4(clientFirstName);\r\n        clientLastName = StringEscapeUtils.escapeHtml4(clientLastName);\r\n.....\r\n}\r\n```\r\nWhile I was able to resolve the warnings for ```clientId, clientFirstName and clientLastName``` since they were all string variables. But how do I do it for ```modelDocument``` since it is a user defined variable in itself and further has various strings, maps etc. defined inside of it.\r\n\r\nThe method checkForCSS is defined as below but is not being recognized by the scan:\r\n\r\n```\r\npublic static &lt;T&gt; T checkForCSS(T t) {\r\n        Gson gson = new GsonBuilder().serializeSpecialFloatingPointValues().create();\r\n        String agendaModelStr = sanitize(gson.toJson(t));\r\n        return gson.fromJson(agendaModelStr, (Type) t.getClass());\r\n    }\r\n\r\npublic static String sanitize(String string) {\r\n        return Jsoup.clean(string, &quot;&quot;, Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\r\n```\r\n\r\nAny help would be appreciated. Thanks!","title":"How to prevent Put API in your controller from XSS attacks reflected in CheckMarx scans?","body":"<p>I ran a CheckMarx Scan on my repository and it gave quite many potential Reflected XSS attack results. Here is the code for my controller :</p>\n<pre><code>@PutMapping(&quot;/calculate&quot;)\n    public UpdatedResponse calculateModel(\n            @RequestBody ModelDocument modelDocument, @RequestParam String clientFirstName,\n            @PathVariable String clientId, @PathVariable String clientLastName\n ) {\n\n        // Sanitize the parameters\n\n        modelDocument = checkForCSS(modelDocument); // NOT ACCEPTING THIS\n        clientId = StringEscapeUtils.escapeHtml4(clientId);\n        clientFirstName = StringEscapeUtils.escapeHtml4(clientFirstName);\n        clientLastName = StringEscapeUtils.escapeHtml4(clientLastName);\n.....\n}\n</code></pre>\n<p>While I was able to resolve the warnings for <code>clientId, clientFirstName and clientLastName</code> since they were all string variables. But how do I do it for <code>modelDocument</code> since it is a user defined variable in itself and further has various strings, maps etc. defined inside of it.</p>\n<p>The method checkForCSS is defined as below but is not being recognized by the scan:</p>\n<pre><code>public static &lt;T&gt; T checkForCSS(T t) {\n        Gson gson = new GsonBuilder().serializeSpecialFloatingPointValues().create();\n        String agendaModelStr = sanitize(gson.toJson(t));\n        return gson.fromJson(agendaModelStr, (Type) t.getClass());\n    }\n\npublic static String sanitize(String string) {\n        return Jsoup.clean(string, &quot;&quot;, Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\n</code></pre>\n<p>Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","command-line-interface","runtime"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1633718643,"post_id":69497930,"comment_id":122843759,"body_markdown":"Each time you call `Runtime.getRuntime().exec(...)` you create a new process. Instead of that you want to create a single process and pipe your commands into its input stream. Have a look at https://stackoverflow.com/questions/3643939/java-process-with-input-output-stream for how this works.","body":"Each time you call <code>Runtime.getRuntime().exec(...)</code> you create a new process. Instead of that you want to create a single process and pipe your commands into its input stream. Have a look at <a href=\"https://stackoverflow.com/questions/3643939/java-process-with-input-output-stream\" title=\"java process with input output stream\">stackoverflow.com/questions/3643939/&hellip;</a> for how this works."},{"owner":{"account_id":5338090,"reputation":709,"user_id":4256313,"accept_rate":69,"display_name":"Zorak"},"score":0,"creation_date":1633779314,"post_id":69497930,"comment_id":122854436,"body_markdown":"That makes sense. I have briefly visited your linked question and it seems to be the way to go. Thank you very much for your help, sir!","body":"That makes sense. I have briefly visited your linked question and it seems to be the way to go. Thank you very much for your help, sir!"}],"owner":{"account_id":5338090,"reputation":709,"user_id":4256313,"accept_rate":69,"display_name":"Zorak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633705139,"creation_date":1633705139,"question_id":69497930,"body_markdown":"I am working on a solution that retrieves data from an external system. This system is on the remote server and for connection, it uses a locally installed CLI.\r\n\r\nthe CLI exe itself doesn&#39;t seem to accept all the parameters during the initial call, so I cannot perform the initial call with all parameters I need to put there.\r\n\r\nWhen CLI is called on the machine manually, it jumps into its own environment and accepts its own inputs.\r\n\r\nSo when called manually, it looks something like this:\r\n\r\n    PS C:\\Program Files (x86)\\SW&gt; Cli.exe\r\n    CLI&gt; config -s thisIsMyServer\r\n    Server: thisIsMyServer\r\n    \r\n    CLI&gt; config -f thisIsMyFile\r\n    Server:  thisIsMyServer\r\n    File:   thisIsMyFile\r\n    \r\n    CLI&gt;\r\n\r\nI need to perform this from Java application, that calls the CLI.\r\n\r\nThe original code I came to was:\r\n\r\n    Configuration configuration = Configuration.getInstance();\r\n    Process process = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; config -s &quot; + configuration.getPlatformURL());\r\n    process.waitFor();\r\n    process = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; config -f &quot; + configuration.getPlatfomFile());\r\n    process.waitFor();\r\n    process = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; login &quot; + configuration.getUsername() + &quot; &quot; + configuration.getPass());\r\n    process.waitFor();\r\n\r\nMany things are hidden behind the methods, but I know for sure that:\r\n1) the data in the config file ARE correct and if the data is used manually through CMD, in the end, the CLI throws back successful login and all I need.\r\n2) The methods are returning the data correctly (tried all the logs) so it is down to how the Java is calling it.\r\n3) This example throws out incorrect login, my suspicion is, the parameters are not propagated correctly.\r\n\r\nAlso - and this I don&#39;t know, it is weird, that after each wait, when we want to write to open process, the configuration.getCLICommand() is called every time. This method returns the path to the CLI executable. That suggests (for me) that we are trying to execute new instance of the executable with completely invalid parameters.\r\n\r\nSo I tried to alter the code to:\r\n\r\n    Configuration configuration = Configuration.getInstance();\r\n    Process process = Runtime.getRuntime().exec(configuration.getCLICommand());\r\n    process.waitFor();\r\n    process = Runtime.getRuntime().exec(&quot;config -s &quot; + configuration.getPlatformURL());\r\n    process.waitFor();\r\n    process = Runtime.getRuntime().exec(&quot;config -f &quot; + configuration.getPlatfomFile());\r\n    process.waitFor();\r\n    process = Runtime.getRuntime().exec(&quot;login &quot; + configuration.getUsername() + &quot; &quot; + configuration.getPass());\r\n    process.waitFor();\r\n\r\nWhere the naive idea would be to pass the command, wait for the response, and then send the follow-up command to the process that is somewhere waiting for us running.\r\n\r\nThis is even worse, from invalid login, I get directly into a timeout, where the program just &quot;does nothing&quot; and seems to be hanging somewhere in between the commands. (logs are also problematic, this runs inside a larger java server, but at least there were no java runtime errors).\r\n\r\nAny idea then, how to successfuly pipe additional commands to the running executable?\r\n\r\nThank you!\r\n","title":"Java Runtime exec send followup command","body":"<p>I am working on a solution that retrieves data from an external system. This system is on the remote server and for connection, it uses a locally installed CLI.</p>\n<p>the CLI exe itself doesn't seem to accept all the parameters during the initial call, so I cannot perform the initial call with all parameters I need to put there.</p>\n<p>When CLI is called on the machine manually, it jumps into its own environment and accepts its own inputs.</p>\n<p>So when called manually, it looks something like this:</p>\n<pre><code>PS C:\\Program Files (x86)\\SW&gt; Cli.exe\nCLI&gt; config -s thisIsMyServer\nServer: thisIsMyServer\n\nCLI&gt; config -f thisIsMyFile\nServer:  thisIsMyServer\nFile:   thisIsMyFile\n\nCLI&gt;\n</code></pre>\n<p>I need to perform this from Java application, that calls the CLI.</p>\n<p>The original code I came to was:</p>\n<pre><code>Configuration configuration = Configuration.getInstance();\nProcess process = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; config -s &quot; + configuration.getPlatformURL());\nprocess.waitFor();\nprocess = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; config -f &quot; + configuration.getPlatfomFile());\nprocess.waitFor();\nprocess = Runtime.getRuntime().exec(configuration.getCLICommand() + &quot; login &quot; + configuration.getUsername() + &quot; &quot; + configuration.getPass());\nprocess.waitFor();\n</code></pre>\n<p>Many things are hidden behind the methods, but I know for sure that:</p>\n<ol>\n<li>the data in the config file ARE correct and if the data is used manually through CMD, in the end, the CLI throws back successful login and all I need.</li>\n<li>The methods are returning the data correctly (tried all the logs) so it is down to how the Java is calling it.</li>\n<li>This example throws out incorrect login, my suspicion is, the parameters are not propagated correctly.</li>\n</ol>\n<p>Also - and this I don't know, it is weird, that after each wait, when we want to write to open process, the configuration.getCLICommand() is called every time. This method returns the path to the CLI executable. That suggests (for me) that we are trying to execute new instance of the executable with completely invalid parameters.</p>\n<p>So I tried to alter the code to:</p>\n<pre><code>Configuration configuration = Configuration.getInstance();\nProcess process = Runtime.getRuntime().exec(configuration.getCLICommand());\nprocess.waitFor();\nprocess = Runtime.getRuntime().exec(&quot;config -s &quot; + configuration.getPlatformURL());\nprocess.waitFor();\nprocess = Runtime.getRuntime().exec(&quot;config -f &quot; + configuration.getPlatfomFile());\nprocess.waitFor();\nprocess = Runtime.getRuntime().exec(&quot;login &quot; + configuration.getUsername() + &quot; &quot; + configuration.getPass());\nprocess.waitFor();\n</code></pre>\n<p>Where the naive idea would be to pass the command, wait for the response, and then send the follow-up command to the process that is somewhere waiting for us running.</p>\n<p>This is even worse, from invalid login, I get directly into a timeout, where the program just &quot;does nothing&quot; and seems to be hanging somewhere in between the commands. (logs are also problematic, this runs inside a larger java server, but at least there were no java runtime errors).</p>\n<p>Any idea then, how to successfuly pipe additional commands to the running executable?</p>\n<p>Thank you!</p>\n"},{"tags":["java","jconsole"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1305133681,"post_id":5967281,"comment_id":6884995,"body_markdown":"are both machines running the same version of java 1.6?  i have a vague recollection of there being some bugs related to this stuff in some of the jdk 1.6 releases.","body":"are both machines running the same version of java 1.6?  i have a vague recollection of there being some bugs related to this stuff in some of the jdk 1.6 releases."},{"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"score":0,"creation_date":1305135209,"post_id":5967281,"comment_id":6885348,"body_markdown":"I ran one of processes and the jconsole using the exact same JDK, from that same directory.  Still that process shows gray.","body":"I ran one of processes and the jconsole using the exact same JDK, from that same directory.  Still that process shows gray."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1305139448,"post_id":5967281,"comment_id":6886463,"body_markdown":"right, i&#39;m asking if the 2 different boxes are using the same version of the jdk.","body":"right, i&#39;m asking if the 2 different boxes are using the same version of the jdk."},{"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"score":0,"creation_date":1305140888,"post_id":5967281,"comment_id":6886866,"body_markdown":"i tried uninstalling and re-installing a new version of the JDK, and it still didn&#39;t work.  But i noticed that there was a system classpath with some reference to a java library for quicktime.  i wish i had copied it.  but i un-installed quicktime and now everything works.","body":"i tried uninstalling and re-installing a new version of the JDK, and it still didn&#39;t work.  But i noticed that there was a system classpath with some reference to a java library for quicktime.  i wish i had copied it.  but i un-installed quicktime and now everything works."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305139558,"creation_date":1305130781,"answer_id":5967470,"question_id":5967281,"body_markdown":"if the processes are running as a different user (e.g. if you start them as services), then you won&#39;t be able to connect to them.  also, if they are running under an older jvm, you most likely won&#39;t be able to talk to them either.\r\n\r\nin some cases, the local jmx communication mechanism uses the local filesystem and may have issues if permissions are not defined correctly.  are you possibly running any of these processes on networked filesystems (nfs, samba)?","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>if the processes are running as a different user (e.g. if you start them as services), then you won't be able to connect to them.  also, if they are running under an older jvm, you most likely won't be able to talk to them either.</p>\n\n<p>in some cases, the local jmx communication mechanism uses the local filesystem and may have issues if permissions are not defined correctly.  are you possibly running any of these processes on networked filesystems (nfs, samba)?</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565450084,"creation_date":1305131217,"answer_id":5967559,"question_id":5967281,"body_markdown":"From http://download.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html:\n\n&gt; Applications that are not attachable, with the management agent disabled. These include applications started on a J2SE 1.4.2 platform or started on a J2SE 5.0 platform without the `-Dcom.sun.management.jmxremote` or `com.sun.management.jmxremote.port` options. **These applications appear grayed-out** in the table and JConsole cannot connect to them. In the example connection dialog shown in Figure 3-1, the Anagrams application was started with a J2SE 5.0 platform VM without any of the management properties to enable the JMX agent, and consequently shows up in gray and cannot be selected.\n\n[![Figure 3-1 Creating a Connection to a Local Process][1]][1]  \n&lt;sub&gt;(source: [oracle.com](http://download.oracle.com/javase/6/docs/technotes/guides/management/figures/connect.gif))&lt;/sub&gt;  \n\n\nDespite what&#39;s being written in the documentation, most likely your process is running under a different user. You can run `jconsole` as an administrator and try then.\n\n [1]: https://i.stack.imgur.com/kpynp.gif","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>From <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html</a>:</p>\n<blockquote>\n<p>Applications that are not attachable, with the management agent disabled. These include applications started on a J2SE 1.4.2 platform or started on a J2SE 5.0 platform without the <code>-Dcom.sun.management.jmxremote</code> or <code>com.sun.management.jmxremote.port</code> options. <strong>These applications appear grayed-out</strong> in the table and JConsole cannot connect to them. In the example connection dialog shown in Figure 3-1, the Anagrams application was started with a J2SE 5.0 platform VM without any of the management properties to enable the JMX agent, and consequently shows up in gray and cannot be selected.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/kpynp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kpynp.gif\" alt=\"Figure 3-1 Creating a Connection to a Local Process\" /></a><br />\n<sub>(source: <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/management/figures/connect.gif\" rel=\"nofollow noreferrer\">oracle.com</a>)</sub></p>\n<p>Despite what's being written in the documentation, most likely your process is running under a different user. You can run <code>jconsole</code> as an administrator and try then.</p>\n"},{"tags":[],"owner":{"account_id":1421515,"reputation":383,"user_id":1346023,"display_name":"RegRog"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1447061548,"creation_date":1334911367,"answer_id":10242936,"question_id":5967281,"body_markdown":"I&#39;m fighting with this issue right now and I found out a work around:\r\n\r\nYou can change the local user&#39;s temp dir to something that they can definitely access (e.g. D:\\temp). Make sure to do this for the process you&#39;re trying to monitor and the jconsole process.\r\n\r\nAnother thing that can apparently cause issues are usernames with uppercase letters in them. The directory will always be created with all lowercase letters, but simply renaming it to exactly how it&#39;s being shown in the Task Manager made all the issues go away: http://planeofthought.com/wp/?p=75","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>I'm fighting with this issue right now and I found out a work around:</p>\n\n<p>You can change the local user's temp dir to something that they can definitely access (e.g. D:\\temp). Make sure to do this for the process you're trying to monitor and the jconsole process.</p>\n\n<p>Another thing that can apparently cause issues are usernames with uppercase letters in them. The directory will always be created with all lowercase letters, but simply renaming it to exactly how it's being shown in the Task Manager made all the issues go away: <a href=\"http://planeofthought.com/wp/?p=75\" rel=\"noreferrer\">http://planeofthought.com/wp/?p=75</a></p>\n"},{"tags":[],"owner":{"account_id":2331029,"reputation":41,"user_id":2044465,"display_name":"Ayodeji Babaniyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372283006,"creation_date":1372281681,"answer_id":17330685,"question_id":5967281,"body_markdown":"Here is what worked for me. I changed my `%TEMP%` and `%TMP%` environment variables to point to a folder I created in my `%HOME%` location (like `C:\\Users\\[YOUR_NAME]\\Temp`). Once I did this, all problems vanished. ","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>Here is what worked for me. I changed my <code>%TEMP%</code> and <code>%TMP%</code> environment variables to point to a folder I created in my <code>%HOME%</code> location (like <code>C:\\Users\\[YOUR_NAME]\\Temp</code>). Once I did this, all problems vanished. </p>\n"},{"tags":[],"owner":{"account_id":123688,"reputation":1109,"user_id":318295,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415670587,"creation_date":1415670587,"answer_id":26856195,"question_id":5967281,"body_markdown":"Say your windows user name you use to start your java application seen in task manager is YOUR_USER_NAME.\r\nPlease check a folder whose name looks like hsperfdata_XXXXX (XXXXX should be your user name) in your temp folder and make sure YOUR_USER_NAME and XXXXX are exactly the same (be careful about the upper and lower case).","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>Say your windows user name you use to start your java application seen in task manager is YOUR_USER_NAME.\nPlease check a folder whose name looks like hsperfdata_XXXXX (XXXXX should be your user name) in your temp folder and make sure YOUR_USER_NAME and XXXXX are exactly the same (be careful about the upper and lower case).</p>\n"},{"tags":[],"owner":{"account_id":6221014,"reputation":1,"user_id":4840653,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430202734,"creation_date":1430202734,"answer_id":29911939,"question_id":5967281,"body_markdown":"Change your TEMP paths in Environment Variables to something like D:\\temp as it could be a permission issue. Fixed this issue for me","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>Change your TEMP paths in Environment Variables to something like D:\\temp as it could be a permission issue. Fixed this issue for me</p>\n"},{"tags":[],"owner":{"account_id":1002349,"reputation":1401,"user_id":1016937,"accept_rate":67,"display_name":"evgeny9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550071134,"creation_date":1550071134,"answer_id":54673572,"question_id":5967281,"body_markdown":"I had the problem as described earlier, but was advised a simpler solution: just close all programs using Java (&quot;IntelliJ IDEA&quot;, &quot;SoapUI&quot;, etc. - to unlock the temporary folder) and then delete `%TMP%\\hsperfdata_&lt;user.name&gt;` folder. Then, after opening any Java program, this folder will be recreated but this time with correct name (most likely `%TMP%\\hsperfdata_&lt;User.Name&gt;`). And after that, local Java processes can be monitored through &quot;JConsole&quot; or &quot;VisualVM&quot; (now runs without starting error with a link to [VisualVM: Troubleshooting Guide](https://visualvm.github.io/troubleshooting.html#jpswin2)) again.","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>I had the problem as described earlier, but was advised a simpler solution: just close all programs using Java (\"IntelliJ IDEA\", \"SoapUI\", etc. - to unlock the temporary folder) and then delete <code>%TMP%\\hsperfdata_&lt;user.name&gt;</code> folder. Then, after opening any Java program, this folder will be recreated but this time with correct name (most likely <code>%TMP%\\hsperfdata_&lt;User.Name&gt;</code>). And after that, local Java processes can be monitored through \"JConsole\" or \"VisualVM\" (now runs without starting error with a link to <a href=\"https://visualvm.github.io/troubleshooting.html#jpswin2\" rel=\"nofollow noreferrer\">VisualVM: Troubleshooting Guide</a>) again.</p>\n"},{"tags":[],"owner":{"account_id":12658146,"reputation":27,"user_id":9200005,"display_name":"Pranjal Gohain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550734193,"creation_date":1550734193,"answer_id":54801489,"question_id":5967281,"body_markdown":"instead of this steps you can just goto the CMD and then type in jconsole.exe (PID)\r\n\r\nRemember to go to the path where jconsole is present and then run the executable file.","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>instead of this steps you can just goto the CMD and then type in jconsole.exe (PID)</p>\n\n<p>Remember to go to the path where jconsole is present and then run the executable file.</p>\n"},{"tags":[],"owner":{"account_id":12605596,"reputation":31,"user_id":9166627,"display_name":"Marcelino Galarza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577721464,"creation_date":1577721464,"answer_id":59533538,"question_id":5967281,"body_markdown":"Change the name of the hsperfdata folder which for me was found at C:\\Users\\pmimgg0\\AppData\\Local\\Temp\\hsperfdata_pmimgg0 to match the User name found on task manager. Once I changed hsperfdata_pmimgg0 to hsperfdata_PMIMGG0 my local process was no longer greyed out on jconsole.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K4RD3.png","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>Change the name of the hsperfdata folder which for me was found at C:\\Users\\pmimgg0\\AppData\\Local\\Temp\\hsperfdata_pmimgg0 to match the User name found on task manager. Once I changed hsperfdata_pmimgg0 to hsperfdata_PMIMGG0 my local process was no longer greyed out on jconsole.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/K4RD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K4RD3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11074523,"reputation":384,"user_id":8131676,"display_name":"Archit Puri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633704828,"creation_date":1633704828,"answer_id":69497844,"question_id":5967281,"body_markdown":"The best way is to run **local process like a remote process**.\r\n\r\nAdd these conditions in runtime arguments -\r\n\r\n    -Dcom.sun.management.jmxremote=true\r\n    -Dcom.sun.management.jmxremote.port=6001\r\n    -Dcom.sun.management.jmxremote.authenticate=false\r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n    -Djava.rmi.server.hostname=localhost\r\n    -Dcom.sun.management.jmxremote.rmi.port=6001\r\n\r\nThen select Remote Process and point to localhost:6001 as shown\r\n\r\n[![JConsole New Connection][1]][1]\r\n\r\nClick Connect and Jconsole is connected successfully.\r\n\r\nFor me this fixed as I had some admin constraints.\r\n\r\n  [1]: https://i.stack.imgur.com/pgKbj.png","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>The best way is to run <strong>local process like a remote process</strong>.</p>\n<p>Add these conditions in runtime arguments -</p>\n<pre><code>-Dcom.sun.management.jmxremote=true\n-Dcom.sun.management.jmxremote.port=6001\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n-Djava.rmi.server.hostname=localhost\n-Dcom.sun.management.jmxremote.rmi.port=6001\n</code></pre>\n<p>Then select Remote Process and point to localhost:6001 as shown</p>\n<p><a href=\"https://i.stack.imgur.com/pgKbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgKbj.png\" alt=\"JConsole New Connection\" /></a></p>\n<p>Click Connect and Jconsole is connected successfully.</p>\n<p>For me this fixed as I had some admin constraints.</p>\n"}],"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15789,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":10,"score":9,"last_activity_date":1633704828,"creation_date":1305129858,"question_id":5967281,"body_markdown":"I&#39;m running a number of java processes on a windows XP professional machine.  When i attempt to connect to these processes via a local JConsole the processes are grayed out.  \r\n\r\nHowever i can run the same processes on another machine and connect via a local JConsole on that machine.\r\n\r\nBoth machines are running java 1.6 version for the processes and jconsole.\r\n\r\nAny ideas why these processes are grayed out?","title":"Local java processes are grayed when trying to connect via JMX","body":"<p>I'm running a number of java processes on a windows XP professional machine.  When i attempt to connect to these processes via a local JConsole the processes are grayed out.  </p>\n\n<p>However i can run the same processes on another machine and connect via a local JConsole on that machine.</p>\n\n<p>Both machines are running java 1.6 version for the processes and jconsole.</p>\n\n<p>Any ideas why these processes are grayed out?</p>\n"},{"tags":["java","spring","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":3796711,"reputation":260,"user_id":3151553,"accept_rate":75,"display_name":"stefanos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1508322678,"creation_date":1508322678,"answer_id":46808110,"question_id":46808109,"body_markdown":"I have managed to solve this by removing the `produces` from `@RequestMapping` and specifying with `ResponseEntity` the type I want to return\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;String&gt; throwException(\r\n        @RequestParam(value = &quot;flag&quot;, defaultValue = &quot;false&quot;) Boolean flag\r\n    ) throws Exception {\r\n        if (flag) {\r\n            throw new Exception();\r\n        } else {\r\n            ResponseEntity response = ResponseEntity.ok().\r\n                contentType(MediaType.APPLICATION_XML).\r\n                body(&quot;&lt;xml&gt;hello&lt;/xml&gt;&quot;);\r\n            return response;\r\n        }\r\n    }\r\n\r\nThe problem with that solution is that all of the methods have an `@annotation` with the type they produce and this doesn&#39;t, breaking uniformity.","title":"Spring rest controller @ExceptionHandler return xml content and json errors","body":"<p>I have managed to solve this by removing the <code>produces</code> from <code>@RequestMapping</code> and specifying with <code>ResponseEntity</code> the type I want to return</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\npublic ResponseEntity&lt;String&gt; throwException(\n    @RequestParam(value = \"flag\", defaultValue = \"false\") Boolean flag\n) throws Exception {\n    if (flag) {\n        throw new Exception();\n    } else {\n        ResponseEntity response = ResponseEntity.ok().\n            contentType(MediaType.APPLICATION_XML).\n            body(\"&lt;xml&gt;hello&lt;/xml&gt;\");\n        return response;\n    }\n}\n</code></pre>\n\n<p>The problem with that solution is that all of the methods have an <code>@annotation</code> with the type they produce and this doesn't, breaking uniformity.</p>\n"},{"tags":[],"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508337832,"creation_date":1508337832,"answer_id":46812944,"question_id":46808109,"body_markdown":"You need to add below dependency in your pom.xml and it will work with your code with produces = MediaType.APPLICATION_XML_VALUE,\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;","title":"Spring rest controller @ExceptionHandler return xml content and json errors","body":"<p>You need to add below dependency in your pom.xml and it will work with your code with produces = MediaType.APPLICATION_XML_VALUE,</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16303290,"reputation":131,"user_id":11773824,"display_name":"silk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562915570,"creation_date":1562915570,"answer_id":57001896,"question_id":46808109,"body_markdown":"One option is to add content type to ResponseEntity explicitly in ExceptionHandler.\r\n\r\n**Controller**: \r\n\r\n    @GetMapping(&quot;/path&quot;, produces = [MediaType.TEXT_XML_VALUE])\r\n\r\n**ControllerAdvice**:\r\n\r\n    @ExceptionHandler(org.springframework.validation.BindException::class)\r\n        fun handleBindException(\r\n            e: org.springframework.validation.BindException\r\n        ): ResponseEntity&lt;ErrorResponse&gt; {    \r\n            return ResponseEntity\r\n                .status(HttpStatus.BAD_REQUEST)\r\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                .body(ErrorResponse(e.message))\r\n        }\r\n\r\n**ErrorResponse**\r\n\r\n    data class ErrorResponse(val message: String?)\r\n\r\nTested on Spring Boot 2.1.3.RELEASE with Kotlin","title":"Spring rest controller @ExceptionHandler return xml content and json errors","body":"<p>One option is to add content type to ResponseEntity explicitly in ExceptionHandler.</p>\n\n<p><strong>Controller</strong>: </p>\n\n<pre><code>@GetMapping(\"/path\", produces = [MediaType.TEXT_XML_VALUE])\n</code></pre>\n\n<p><strong>ControllerAdvice</strong>:</p>\n\n<pre><code>@ExceptionHandler(org.springframework.validation.BindException::class)\n    fun handleBindException(\n        e: org.springframework.validation.BindException\n    ): ResponseEntity&lt;ErrorResponse&gt; {    \n        return ResponseEntity\n            .status(HttpStatus.BAD_REQUEST)\n            .contentType(MediaType.APPLICATION_JSON_UTF8)\n            .body(ErrorResponse(e.message))\n    }\n</code></pre>\n\n<p><strong>ErrorResponse</strong></p>\n\n<pre><code>data class ErrorResponse(val message: String?)\n</code></pre>\n\n<p>Tested on Spring Boot 2.1.3.RELEASE with Kotlin</p>\n"},{"tags":[],"owner":{"account_id":7425507,"reputation":621,"user_id":5648134,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633704777,"creation_date":1633704777,"answer_id":69497829,"question_id":46808109,"body_markdown":"In order to make ExceptionHandler return XML format(by default it returns JSON format), there two steps need to do:\r\n\r\n1. import the maven dependency:\r\n\r\n&gt;      &lt;dependency&gt;\r\n&gt;          &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n&gt;          &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n&gt;      &lt;/dependency&gt;\r\n\r\n2. use ResposneEntity&#39;s static method `internalServerError()`:\r\n`ResponseEntity.internalServerError().header(&quot;MyHeader&quot;,&quot;MyValue&quot;).contentType(MediaType.APPLICATION_XML).body(ex);`\r\n\r\ninside the contentType, specify `MediaType.APPLICATION_XML`. ","title":"Spring rest controller @ExceptionHandler return xml content and json errors","body":"<p>In order to make ExceptionHandler return XML format(by default it returns JSON format), there two steps need to do:</p>\n<ol>\n<li>import the maven dependency:</li>\n</ol>\n<blockquote>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>use ResposneEntity's static method <code>internalServerError()</code>:\n<code>ResponseEntity.internalServerError().header(&quot;MyHeader&quot;,&quot;MyValue&quot;).contentType(MediaType.APPLICATION_XML).body(ex);</code></li>\n</ol>\n<p>inside the contentType, specify <code>MediaType.APPLICATION_XML</code>.</p>\n"}],"owner":{"account_id":3796711,"reputation":260,"user_id":3151553,"accept_rate":75,"display_name":"stefanos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46808110,"answer_count":4,"score":2,"last_activity_date":1633704777,"creation_date":1508322678,"question_id":46808109,"body_markdown":"So I have a @RestController and I want to return and validate XML based on a schema for a front-end application in order to display them in an editor. I want the errors to be in json format in order to handle and display them with js.\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    @RestController\r\n    public class UserController {\r\n\r\n        @RequestMapping(value = &quot;/test&quot;,\r\n            method = RequestMethod.GET,\r\n            produces = MediaType.APPLICATION_XML_VALUE)\r\n        public ResponseEntity&lt;String&gt; throwException(\r\n            @RequestParam(value = &quot;flag&quot;, defaultValue = &quot;false&quot;) Boolean flag\r\n        ) throws Exception {\r\n            if (flag) {\r\n                throw new Exception();\r\n            } else {\r\n                return ResponseEntity.ok(&quot;&lt;xml&gt;hello&lt;/xml&gt;&quot;);\r\n            }\r\n        }\r\n\r\n\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseBody\r\n        ServerError exceptionHandler(HttpServletRequest req, Exception ex) {\r\n            return new ServerError(req.getRequestURL().toString(),ex);\r\n        }\r\n\r\n    }\r\n\r\nThe ServerError I want to return in JSON format :\r\n\r\n    public class ServerError {\r\n\r\n        public final String url;\r\n        public final String error;\r\n \r\n        public ServerError(String url, Exception ex) {\r\n            this.url = url;\r\n            this.error = ex.getMessage();\r\n        }\r\n\r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n\r\n        public String getError() {\r\n            return error;\r\n        }\r\n    }\r\n\r\nSo the `&lt;xml&gt;hello&lt;/xml&gt;` is returned just fine but when I set the flag to `true` I get\r\n    \r\n    ERROR   2017-10-18 12:56:53,189 [http-nio-0.0.0.0-8080-exec-2] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver  - Failed to invoke @ExceptionHandler method: eu.openminted.registry.core.exception.ServerError eu.openminted.registry.service.UserController.malformedExeption(javax.servlet.http.HttpServletRequest,java.lang.Exception)\r\n    org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation\r\n\r\nAlso, setting the `produces` to both XML and JSON yields the same result\r\n\r\n    @RequestMapping(value = &quot;/test&quot;,\r\n            method = RequestMethod.GET,\r\n            produces = {MediaType.APPLICATION_XML_VALUE,MediaType.APPLICATION_JSON_UTF8_VALUE})\r\n\r\n","title":"Spring rest controller @ExceptionHandler return xml content and json errors","body":"<p>So I have a @RestController and I want to return and validate XML based on a schema for a front-end application in order to display them in an editor. I want the errors to be in json format in order to handle and display them with js.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class UserController {\n\n    @RequestMapping(value = \"/test\",\n        method = RequestMethod.GET,\n        produces = MediaType.APPLICATION_XML_VALUE)\n    public ResponseEntity&lt;String&gt; throwException(\n        @RequestParam(value = \"flag\", defaultValue = \"false\") Boolean flag\n    ) throws Exception {\n        if (flag) {\n            throw new Exception();\n        } else {\n            return ResponseEntity.ok(\"&lt;xml&gt;hello&lt;/xml&gt;\");\n        }\n    }\n\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(Exception.class)\n    @ResponseBody\n    ServerError exceptionHandler(HttpServletRequest req, Exception ex) {\n        return new ServerError(req.getRequestURL().toString(),ex);\n    }\n\n}\n</code></pre>\n\n<p>The ServerError I want to return in JSON format :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerError {\n\n    public final String url;\n    public final String error;\n\n    public ServerError(String url, Exception ex) {\n        this.url = url;\n        this.error = ex.getMessage();\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public String getError() {\n        return error;\n    }\n}\n</code></pre>\n\n<p>So the <code>&lt;xml&gt;hello&lt;/xml&gt;</code> is returned just fine but when I set the flag to <code>true</code> I get</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ERROR   2017-10-18 12:56:53,189 [http-nio-0.0.0.0-8080-exec-2] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver  - Failed to invoke @ExceptionHandler method: eu.openminted.registry.core.exception.ServerError eu.openminted.registry.service.UserController.malformedExeption(javax.servlet.http.HttpServletRequest,java.lang.Exception)\norg.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation\n</code></pre>\n\n<p>Also, setting the <code>produces</code> to both XML and JSON yields the same result</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = \"/test\",\n        method = RequestMethod.GET,\n        produces = {MediaType.APPLICATION_XML_VALUE,MediaType.APPLICATION_JSON_UTF8_VALUE})\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633704574,"creation_date":1633704574,"answer_id":69497784,"question_id":69497069,"body_markdown":"Use `@PropertySources`. Annotate either a config class that holds the attributes of the files, or your `Main` class.\r\n\r\n\r\ne.g.:\r\n```\r\n@PropertySources(\r\n\t\t{\r\n\t\t@PropertySource(&quot;classpath:messages.properties&quot;),\r\n\t\t@PropertySource(&quot;classpath:handle.properties&quot;)\r\n\t\t}\r\n)\r\n```","title":"Config multiple message properties","body":"<p>Use <code>@PropertySources</code>. Annotate either a config class that holds the attributes of the files, or your <code>Main</code> class.</p>\n<p>e.g.:</p>\n<pre><code>@PropertySources(\n        {\n        @PropertySource(&quot;classpath:messages.properties&quot;),\n        @PropertySource(&quot;classpath:handle.properties&quot;)\n        }\n)\n</code></pre>\n"}],"owner":{"account_id":8279759,"reputation":118,"user_id":6242303,"display_name":"Ikaro Sales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69497784,"answer_count":1,"score":0,"last_activity_date":1633704574,"creation_date":1633701494,"question_id":69497069,"body_markdown":"I have properties files and I need to set them both to be loaded, but I have no idea how to do this with multiple properties\r\n```\r\nresources\r\n`-- messages.properties\r\n`-- handle.properties\r\n```","title":"Config multiple message properties","body":"<p>I have properties files and I need to set them both to be loaded, but I have no idea how to do this with multiple properties</p>\n<pre><code>resources\n`-- messages.properties\n`-- handle.properties\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":1,"creation_date":1633701136,"post_id":69494672,"comment_id":122837133,"body_markdown":"Looks like this [answer](https://stackoverflow.com/a/40818540/8370915) is related to your question. Also, please, take a look at this [article](https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html).","body":"Looks like this <a href=\"https://stackoverflow.com/a/40818540/8370915\">answer</a> is related to your question. Also, please, take a look at this <a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html\" rel=\"nofollow noreferrer\">article</a>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1633705026,"post_id":69494672,"comment_id":122838812,"body_markdown":"You did a great job at censoring your screenshot, except now it really doesn&#39;t show us what it is you want to be displayed, does it now?","body":"You did a great job at censoring your screenshot, except now it really doesn&#39;t show us what it is you want to be displayed, does it now?"},{"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"score":1,"creation_date":1633800801,"post_id":69494672,"comment_id":122859530,"body_markdown":"@invzbl3 Your reference worked! that is the answer , add your post as answer and I will mark for upvote! Thanks","body":"@invzbl3 Your reference worked! that is the answer , add your post as answer and I will mark for upvote! Thanks"},{"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"score":0,"creation_date":1633800926,"post_id":69494672,"comment_id":122859557,"body_markdown":"@Joachim Sauer as invzbl3 wrote, to see the projects, that all","body":"@Joachim Sauer as invzbl3 wrote, to see the projects, that all"}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633704564,"creation_date":1633704564,"answer_id":69497774,"question_id":69494672,"body_markdown":"To see al packages in the project, switch to **Packages** view in Project tool window and enable **Flatten Packages** [viewing mode](https://www.jetbrains.com/help/idea/ide-viewing-modes.html):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee also [Migrate from Eclipse to IntelliJ IDEA﻿](https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html) for more tips.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O1Xw6.png","title":"Is there way in intellij to see all packages?","body":"<p>To see al packages in the project, switch to <strong>Packages</strong> view in Project tool window and enable <strong>Flatten Packages</strong> <a href=\"https://www.jetbrains.com/help/idea/ide-viewing-modes.html\" rel=\"nofollow noreferrer\">viewing mode</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/O1Xw6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1Xw6.png\" alt=\"enter image description here\" /></a></p>\n<p>See also <a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html\" rel=\"nofollow noreferrer\">Migrate from Eclipse to IntelliJ IDEA﻿</a> for more tips.</p>\n"}],"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633801072,"answer_count":1,"score":1,"last_activity_date":1633704564,"creation_date":1633690197,"question_id":69494672,"body_markdown":"is there way to see all packages that are in folder like in eclipse, but in intellij?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iG7jg.jpg","title":"Is there way in intellij to see all packages?","body":"<p>is there way to see all packages that are in folder like in eclipse, but in intellij?\n<a href=\"https://i.stack.imgur.com/iG7jg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iG7jg.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","gradle","compilation","warnings"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1511345184,"post_id":47430694,"comment_id":81817909,"body_markdown":"Question of style &quot;why isn&#39;t this code working&quot; are offtopic on SO, please read log files and attach a debugger to find out why your code is misbehaving. More info also at http://stackoverflow.com/help/how-to-ask. The warning just means that you use stuff that you shouldn&#39;t use anymore and that will be removed in some later version, it should not cause the crash. Actually Android Studio should also show you those usages by striking through the deprecated usage.","body":"Question of style &quot;why isn&#39;t this code working&quot; are offtopic on SO, please read log files and attach a debugger to find out why your code is misbehaving. More info also at <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. The warning just means that you use stuff that you shouldn&#39;t use anymore and that will be removed in some later version, it should not cause the crash. Actually Android Studio should also show you those usages by striking through the deprecated usage."},{"owner":{"account_id":11253358,"reputation":641,"user_id":8253888,"accept_rate":50,"display_name":"55SK55"},"score":0,"creation_date":1511345256,"post_id":47430694,"comment_id":81817954,"body_markdown":"How to Recompile with -Xlint:deprecation?","body":"How to Recompile with -Xlint:deprecation?"},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":6,"creation_date":1511346406,"post_id":47430694,"comment_id":81818724,"body_markdown":"To enable it in all java compilation tasks in all projects do in the root build file `allprojects { tasks.withType(JavaCompile) { options.deprecation = true } }`, or just set the option on selected tasks.","body":"To enable it in all java compilation tasks in all projects do in the root build file <code>allprojects { tasks.withType(JavaCompile) { options.deprecation = true } }</code>, or just set the option on selected tasks."},{"owner":{"account_id":11253358,"reputation":641,"user_id":8253888,"accept_rate":50,"display_name":"55SK55"},"score":0,"creation_date":1511348707,"post_id":47430694,"comment_id":81820345,"body_markdown":"In whcih file i need to set this?","body":"In whcih file i need to set this?"},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1511353381,"post_id":47430694,"comment_id":81823342,"body_markdown":"As I said, in the root build script","body":"As I said, in the root build script"},{"owner":{"account_id":470838,"reputation":3168,"user_id":878244,"accept_rate":35,"display_name":"Yehonatan"},"score":0,"creation_date":1533557118,"post_id":47430694,"comment_id":90375138,"body_markdown":"build.gradle of the app module","body":"build.gradle of the app module"}],"answers":[{"tags":[],"owner":{"account_id":5690652,"reputation":3912,"user_id":4498813,"display_name":"Mitul Varmora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633704428,"creation_date":1633702570,"answer_id":69497323,"question_id":47430694,"body_markdown":"    Html.fromHtml(&quot;&amp;#8226;&quot;) //It is deprecated.\r\n\r\nRefrance: https://developer.android.com/reference/android/text/Html#fromHtml(java.lang.String) \r\n\r\nSolution:\r\n\r\n    HtmlCompat.fromHtml(&quot;&amp;#8226;&quot;, HtmlCompat.FROM_HTML_MODE_LEGACY);","title":".java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details","body":"<pre><code>Html.fromHtml(&quot;&amp;#8226;&quot;) //It is deprecated.\n</code></pre>\n<p>Refrance: <a href=\"https://developer.android.com/reference/android/text/Html#fromHtml(java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/Html#fromHtml(java.lang.String)</a></p>\n<p>Solution:</p>\n<pre><code>HtmlCompat.fromHtml(&quot;&amp;#8226;&quot;, HtmlCompat.FROM_HTML_MODE_LEGACY);\n</code></pre>\n"}],"owner":{"account_id":11253358,"reputation":641,"user_id":8253888,"accept_rate":50,"display_name":"55SK55"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4461,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633704428,"creation_date":1511341928,"question_id":47430694,"body_markdown":"I am new to Android. I started a new Project and implemented a Intro Navigation and App Drawer Screens. When I published &quot;APK&quot;, intro sliders are working fine and &quot;Side Bar Menu&quot; app drawer is not working and app crashes,.\r\n\r\nGradle console has a warning message:\r\n\r\n&gt; Note:\r\n&gt; E:\\AndroidApps\\GoTogether\\app\\src\\main\\java\\com\\softvision\\gotogether\\app\\WelcomeActivity.java\r\n&gt; uses or overrides a deprecated API. Note: Recompile with\r\n&gt; -Xlint:deprecation for details.\r\n\r\nHow to Recompile with -Xlint:deprecation in Android Studio?\r\n\r\nHere&#39;s my code:\r\n\r\n    package com.softvision.gotogether.app;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.os.Build;\r\n    import android.support.v4.view.PagerAdapter;\r\n    import android.support.v4.view.ViewPager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.text.Html;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    /**\r\n     * Created by Shreekumar S [shreekumar.s@softvision.com] on 20-11-2017.\r\n     */\r\n\r\n    public class WelcomeActivity extends AppCompatActivity {\r\n    \r\n        private PreferenceManager _preferences;\r\n        private ViewPager _viewPager;\r\n        private LinearLayout _linearDotsLayout;\r\n        private Button _btnSkip, _btnNext;\r\n        private int[] _slideLayouts;\r\n        private TextView[] _textViewDots;\r\n    \r\n        private WelcomeViewPagerAdapter _welcomeViewPagerAdapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            // Checking for first time launch - before calling setContentView()\r\n            _preferences = new PreferenceManager(this);\r\n            if (!_preferences.IsFirstTimeLaunch()) {\r\n                LaunchHomeScreen();\r\n                finish();\r\n            }\r\n    \r\n            // Making notification bar transparent\r\n            if (Build.VERSION.SDK_INT &gt;= 21) {\r\n                getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\r\n            }\r\n            setContentView(R.layout.activity_welcome);\r\n    \r\n            // get controls of Welcome screen\r\n            _viewPager = (ViewPager)findViewById(R.id.welcomeViewPager);\r\n            _linearDotsLayout = (LinearLayout) findViewById(R.id.welcomeLinearLayout);\r\n            _btnSkip = (Button) findViewById(R.id.btnSkip);\r\n            _btnNext = (Button) findViewById(R.id.btnNext);\r\n    \r\n            // layouts of all welcome sliders\r\n            // add few more layouts if you want\r\n            _slideLayouts = new int[]{\r\n                    R.layout.intro_slide_1,\r\n                    R.layout.intro_slide_2,\r\n                    R.layout.intro_slide_3,\r\n                    R.layout.intro_slide_4};\r\n    \r\n            // adding bottom dots\r\n            AddBottomDots(0);\r\n    \r\n            // making notification bar transparent\r\n            ChangeStatusBarColor();\r\n    \r\n            _welcomeViewPagerAdapter = new WelcomeViewPagerAdapter();\r\n            _viewPager.setAdapter(_welcomeViewPagerAdapter);\r\n            _viewPager.addOnPageChangeListener(onPageChangeListener);\r\n    \r\n            // On Skip button Click\r\n            _btnSkip.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    LaunchHomeScreen();\r\n                }\r\n            });\r\n    \r\n            // On Next button Click\r\n            _btnNext.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // checking for last page\r\n                    // if last page home screen will be launched\r\n                    int current = GetItem(+1);\r\n                    if (current &lt; _slideLayouts.length) {\r\n                        // move to next screen\r\n                        _viewPager.setCurrentItem(current);\r\n                    } else {\r\n                        LaunchHomeScreen();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void LaunchHomeScreen() {\r\n            _preferences.SetFirstTimeLaunch(false);\r\n    \r\n            // Move from Welcome Activity to Main Activity\r\n            startActivity(new Intent(WelcomeActivity.this, MainActivity.class));\r\n    \r\n            finish();\r\n        }\r\n    \r\n        private void AddBottomDots(int currentPage) {\r\n            _textViewDots = new TextView[_slideLayouts.length];\r\n    \r\n            int[] colorsActive = getResources().getIntArray(R.array.array_dot_active);\r\n            int[] colorsInactive = getResources().getIntArray(R.array.array_dot_inactive);\r\n    \r\n            _linearDotsLayout.removeAllViews();\r\n            \r\n            for (int i = 0; i &lt; _textViewDots.length; i++) {\r\n                _textViewDots[i] = new TextView(this);\r\n                _textViewDots[i].setText(Html.fromHtml(&quot;&amp;#8226;&quot;));\r\n                _textViewDots[i].setTextSize(35);\r\n                _textViewDots[i].setTextColor(colorsInactive[currentPage]);\r\n                _linearDotsLayout.addView(_textViewDots[i]);\r\n            }\r\n    \r\n            if (_textViewDots.length &gt; 0)\r\n                _textViewDots[currentPage].setTextColor(colorsActive[currentPage]);\r\n        }\r\n    \r\n        // Making notification bar transparent\r\n        private void ChangeStatusBarColor() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                Window window = getWindow();\r\n                window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n                window.setStatusBarColor(Color.TRANSPARENT);\r\n            }\r\n        }\r\n    \r\n        private int GetItem(int i) {\r\n            return _viewPager.getCurrentItem() + i;\r\n        }\r\n    \r\n        // View pager adapter\r\n        public class WelcomeViewPagerAdapter extends PagerAdapter {\r\n            private LayoutInflater layoutInflater;\r\n    \r\n            public WelcomeViewPagerAdapter() {\r\n            }\r\n    \r\n            @Override\r\n            public Object instantiateItem(ViewGroup container, int position) {\r\n                layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \r\n                View view = layoutInflater.inflate(_slideLayouts[position], container, false);\r\n                container.addView(view);\r\n    \r\n                return view;\r\n            }\r\n    \r\n            @Override\r\n            public int getCount() {\r\n                return _slideLayouts.length;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isViewFromObject(View view, Object obj) {\r\n                return view == obj;\r\n            }\r\n    \r\n            @Override\r\n            public void destroyItem(ViewGroup container, int position, Object object) {\r\n                View view = (View) object;\r\n                container.removeView(view);\r\n            }\r\n        }\r\n    \r\n        //  ViewPager change listener\r\n        ViewPager.OnPageChangeListener onPageChangeListener = new ViewPager.OnPageChangeListener() {\r\n    \r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                AddBottomDots(position);\r\n    \r\n                // changing the next button text &#39;NEXT&#39; / &#39;GOT IT&#39;\r\n                if (position == _slideLayouts.length - 1) {\r\n                    // last page. make button text to GOT IT\r\n                    _btnNext.setText(getString(R.string.start));\r\n                    _btnSkip.setVisibility(View.GONE);\r\n                } else {\r\n                    // still pages are left\r\n                    _btnNext.setText(getString(R.string.next));\r\n                    _btnSkip.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onPageScrolled(int arg0, float arg1, int arg2) {\r\n            }\r\n    \r\n            @Override\r\n            public void onPageScrollStateChanged(int arg0) {\r\n            }\r\n        };\r\n    }","title":".java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details","body":"<p>I am new to Android. I started a new Project and implemented a Intro Navigation and App Drawer Screens. When I published \"APK\", intro sliders are working fine and \"Side Bar Menu\" app drawer is not working and app crashes,.</p>\n\n<p>Gradle console has a warning message:</p>\n\n<blockquote>\n  <p>Note:\n  E:\\AndroidApps\\GoTogether\\app\\src\\main\\java\\com\\softvision\\gotogether\\app\\WelcomeActivity.java\n  uses or overrides a deprecated API. Note: Recompile with\n  -Xlint:deprecation for details.</p>\n</blockquote>\n\n<p>How to Recompile with -Xlint:deprecation in Android Studio?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>package com.softvision.gotogether.app;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Build;\nimport android.support.v4.view.PagerAdapter;\nimport android.support.v4.view.ViewPager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\n/**\n * Created by Shreekumar S [shreekumar.s@softvision.com] on 20-11-2017.\n */\n\npublic class WelcomeActivity extends AppCompatActivity {\n\n    private PreferenceManager _preferences;\n    private ViewPager _viewPager;\n    private LinearLayout _linearDotsLayout;\n    private Button _btnSkip, _btnNext;\n    private int[] _slideLayouts;\n    private TextView[] _textViewDots;\n\n    private WelcomeViewPagerAdapter _welcomeViewPagerAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Checking for first time launch - before calling setContentView()\n        _preferences = new PreferenceManager(this);\n        if (!_preferences.IsFirstTimeLaunch()) {\n            LaunchHomeScreen();\n            finish();\n        }\n\n        // Making notification bar transparent\n        if (Build.VERSION.SDK_INT &gt;= 21) {\n            getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\n        }\n        setContentView(R.layout.activity_welcome);\n\n        // get controls of Welcome screen\n        _viewPager = (ViewPager)findViewById(R.id.welcomeViewPager);\n        _linearDotsLayout = (LinearLayout) findViewById(R.id.welcomeLinearLayout);\n        _btnSkip = (Button) findViewById(R.id.btnSkip);\n        _btnNext = (Button) findViewById(R.id.btnNext);\n\n        // layouts of all welcome sliders\n        // add few more layouts if you want\n        _slideLayouts = new int[]{\n                R.layout.intro_slide_1,\n                R.layout.intro_slide_2,\n                R.layout.intro_slide_3,\n                R.layout.intro_slide_4};\n\n        // adding bottom dots\n        AddBottomDots(0);\n\n        // making notification bar transparent\n        ChangeStatusBarColor();\n\n        _welcomeViewPagerAdapter = new WelcomeViewPagerAdapter();\n        _viewPager.setAdapter(_welcomeViewPagerAdapter);\n        _viewPager.addOnPageChangeListener(onPageChangeListener);\n\n        // On Skip button Click\n        _btnSkip.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                LaunchHomeScreen();\n            }\n        });\n\n        // On Next button Click\n        _btnNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // checking for last page\n                // if last page home screen will be launched\n                int current = GetItem(+1);\n                if (current &lt; _slideLayouts.length) {\n                    // move to next screen\n                    _viewPager.setCurrentItem(current);\n                } else {\n                    LaunchHomeScreen();\n                }\n            }\n        });\n    }\n\n    private void LaunchHomeScreen() {\n        _preferences.SetFirstTimeLaunch(false);\n\n        // Move from Welcome Activity to Main Activity\n        startActivity(new Intent(WelcomeActivity.this, MainActivity.class));\n\n        finish();\n    }\n\n    private void AddBottomDots(int currentPage) {\n        _textViewDots = new TextView[_slideLayouts.length];\n\n        int[] colorsActive = getResources().getIntArray(R.array.array_dot_active);\n        int[] colorsInactive = getResources().getIntArray(R.array.array_dot_inactive);\n\n        _linearDotsLayout.removeAllViews();\n\n        for (int i = 0; i &lt; _textViewDots.length; i++) {\n            _textViewDots[i] = new TextView(this);\n            _textViewDots[i].setText(Html.fromHtml(\"&amp;#8226;\"));\n            _textViewDots[i].setTextSize(35);\n            _textViewDots[i].setTextColor(colorsInactive[currentPage]);\n            _linearDotsLayout.addView(_textViewDots[i]);\n        }\n\n        if (_textViewDots.length &gt; 0)\n            _textViewDots[currentPage].setTextColor(colorsActive[currentPage]);\n    }\n\n    // Making notification bar transparent\n    private void ChangeStatusBarColor() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            Window window = getWindow();\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n            window.setStatusBarColor(Color.TRANSPARENT);\n        }\n    }\n\n    private int GetItem(int i) {\n        return _viewPager.getCurrentItem() + i;\n    }\n\n    // View pager adapter\n    public class WelcomeViewPagerAdapter extends PagerAdapter {\n        private LayoutInflater layoutInflater;\n\n        public WelcomeViewPagerAdapter() {\n        }\n\n        @Override\n        public Object instantiateItem(ViewGroup container, int position) {\n            layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n            View view = layoutInflater.inflate(_slideLayouts[position], container, false);\n            container.addView(view);\n\n            return view;\n        }\n\n        @Override\n        public int getCount() {\n            return _slideLayouts.length;\n        }\n\n        @Override\n        public boolean isViewFromObject(View view, Object obj) {\n            return view == obj;\n        }\n\n        @Override\n        public void destroyItem(ViewGroup container, int position, Object object) {\n            View view = (View) object;\n            container.removeView(view);\n        }\n    }\n\n    //  ViewPager change listener\n    ViewPager.OnPageChangeListener onPageChangeListener = new ViewPager.OnPageChangeListener() {\n\n        @Override\n        public void onPageSelected(int position) {\n            AddBottomDots(position);\n\n            // changing the next button text 'NEXT' / 'GOT IT'\n            if (position == _slideLayouts.length - 1) {\n                // last page. make button text to GOT IT\n                _btnNext.setText(getString(R.string.start));\n                _btnSkip.setVisibility(View.GONE);\n            } else {\n                // still pages are left\n                _btnNext.setText(getString(R.string.next));\n                _btnSkip.setVisibility(View.VISIBLE);\n            }\n        }\n\n        @Override\n        public void onPageScrolled(int arg0, float arg1, int arg2) {\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int arg0) {\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","hadoop","hbase"],"answers":[{"tags":[],"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633703622,"creation_date":1633703622,"answer_id":69497569,"question_id":69495515,"body_markdown":"This info is available from [`RegionMetrics.getStoreFileSize()`][1], along with all other region stats in `RegionMetrics`.&lt;br&gt;\r\nYou can go through a long chain of calls like this to get there:\r\n`Connection` &gt; `getAdmin()` &gt; `getClusterMetrics()` &gt; `getLiveServerMetrics()` &gt; `getRegionMetrics()`. \r\n\r\n\r\n  [1]: https://hbase.apache.org/2.1/apidocs/org/apache/hadoop/hbase/RegionMetrics.html#getStoreFileSize--","title":"How to check region size in hbase via java code","body":"<p>This info is available from <a href=\"https://hbase.apache.org/2.1/apidocs/org/apache/hadoop/hbase/RegionMetrics.html#getStoreFileSize--\" rel=\"nofollow noreferrer\"><code>RegionMetrics.getStoreFileSize()</code></a>, along with all other region stats in <code>RegionMetrics</code>.<br>\nYou can go through a long chain of calls like this to get there:\n<code>Connection</code> &gt; <code>getAdmin()</code> &gt; <code>getClusterMetrics()</code> &gt; <code>getLiveServerMetrics()</code> &gt; <code>getRegionMetrics()</code>.</p>\n"}],"owner":{"account_id":1082351,"reputation":79,"user_id":1078988,"accept_rate":78,"display_name":"smitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633703742,"creation_date":1633694466,"question_id":69495515,"body_markdown":"My HBase table is split into 10 different regions. I want to check via Java code if a region contains any data, or what is the size of each region.\r\n\r\nI see `HRegionLocation`, `HRegionInfo` doesn&#39;t have such direct function to get the size of a region.\r\n\r\nHas anyone come across such requirement?\r\n ","title":"How to check region size in hbase via java code","body":"<p>My HBase table is split into 10 different regions. I want to check via Java code if a region contains any data, or what is the size of each region.</p>\n<p>I see <code>HRegionLocation</code>, <code>HRegionInfo</code> doesn't have such direct function to get the size of a region.</p>\n<p>Has anyone come across such requirement?</p>\n"},{"tags":["java","spring-boot","stackdriver","spring-cloud-sleuth","spring-cloud-gcp"],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1534095189,"creation_date":1534095189,"answer_id":51811243,"question_id":51809171,"body_markdown":"I actually found the answer by looking at the [source](https://github.com/spring-cloud/spring-cloud-gcp/blob/master/spring-cloud-gcp-autoconfigure/src/main/java/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.java) for the [StackdriverTraceAutoConfiguration](https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.html) class. The way to solve it if using GCP is to set `spring.cloud.gcp.trace.enabled=false`. This disables tracing for all integration points.","title":"Disable Spring Cloud Sleuth when running Integration Tests?","body":"<p>I actually found the answer by looking at the <a href=\"https://github.com/spring-cloud/spring-cloud-gcp/blob/master/spring-cloud-gcp-autoconfigure/src/main/java/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.java\" rel=\"nofollow noreferrer\">source</a> for the <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.html\" rel=\"nofollow noreferrer\">StackdriverTraceAutoConfiguration</a> class. The way to solve it if using GCP is to set <code>spring.cloud.gcp.trace.enabled=false</code>. This disables tracing for all integration points.</p>\n"},{"tags":[],"owner":{"account_id":5227218,"reputation":229,"user_id":4178889,"display_name":"Elie Nehm&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578856299,"creation_date":1578856299,"answer_id":59707247,"question_id":51809171,"body_markdown":"You can disable tracing, logging and set a fake project id as follow:\r\n\r\n```\r\nspring.cloud.gcp.project-id=fake-project-id\r\nspring.cloud.gcp.logging.enabled=false\r\nspring.cloud.gcp.trace.enabled=false\r\n```\r\n","title":"Disable Spring Cloud Sleuth when running Integration Tests?","body":"<p>You can disable tracing, logging and set a fake project id as follow:</p>\n\n<pre><code>spring.cloud.gcp.project-id=fake-project-id\nspring.cloud.gcp.logging.enabled=false\nspring.cloud.gcp.trace.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1589916,"reputation":2586,"user_id":1473481,"accept_rate":100,"display_name":"etech"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633703640,"creation_date":1633703640,"answer_id":69497573,"question_id":51809171,"body_markdown":"**HowTo: Disable all tests for a Webflux Sleuth implementation with Zipkin**\r\n\r\nIf, you have these dependencies:\r\n\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-sleuth-zipkin&#39;\r\n\r\nThen, fully disable Sleuth/Zipkin for your integration tests by adding an application.yml to your test/resources folder with:\r\n\r\n    spring:\r\n      sleuth: # All sleuth features disabled for integration tests\r\n        enabled: false\r\n        reactor:\r\n          enabled: false\r\n        web:\r\n          enabled: false\r\n        async:\r\n          enabled: false\r\n          client:\r\n            template:\r\n              enabled: false\r\n      zipkin: # All zipkin features disabled for integration tests\r\n        enabled: false","title":"Disable Spring Cloud Sleuth when running Integration Tests?","body":"<p><strong>HowTo: Disable all tests for a Webflux Sleuth implementation with Zipkin</strong></p>\n<p>If, you have these dependencies:</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\nimplementation 'org.springframework.cloud:spring-cloud-sleuth-zipkin'\n</code></pre>\n<p>Then, fully disable Sleuth/Zipkin for your integration tests by adding an application.yml to your test/resources folder with:</p>\n<pre><code>spring:\n  sleuth: # All sleuth features disabled for integration tests\n    enabled: false\n    reactor:\n      enabled: false\n    web:\n      enabled: false\n    async:\n      enabled: false\n      client:\n        template:\n          enabled: false\n  zipkin: # All zipkin features disabled for integration tests\n    enabled: false\n</code></pre>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51811243,"answer_count":3,"score":2,"last_activity_date":1633703640,"creation_date":1534079766,"question_id":51809171,"body_markdown":"When using `org.springframework.cloud:spring-cloud-gcp-starter-trace:1.0.0.RELEASE` and running my integration tests locally I get this error message:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;stackdriverSender&#39; defined in class path\r\n&gt; resource\r\n&gt; [org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [zipkin2.reporter.Sender]: Factory method\r\n&gt; &#39;stackdriverSender&#39; threw exception; nested exception is\r\n&gt; java.io.IOException: The Application Default Credentials are not\r\n&gt; available. They are available if running in Google Compute Engine.\r\n&gt; Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS\r\n&gt; must be defined pointing to a file defining the credentials. See\r\n&gt; https://developers.google.com/accounts/docs/application-default-credentials\r\n&gt; for more information.\r\n\r\nThis is totally understandable since this environment variable is not present locally and I don&#39;t want to use Sleuth/Stackdriver tracing when running the tests. I&#39;ve looked in the [reference documentation][1] but I can only seem to find information on how to disable Sleuth for specific integration points such as RxJava, RestTemplate etc. But how can I disable Sleuth entirely? \r\n\r\nI&#39;ve tried setting `spring.sleuth.enabled=false` but this doesn&#39;t seem to make any difference.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/reference/htmlsingle","title":"Disable Spring Cloud Sleuth when running Integration Tests?","body":"<p>When using <code>org.springframework.cloud:spring-cloud-gcp-starter-trace:1.0.0.RELEASE</code> and running my integration tests locally I get this error message:</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error\n  creating bean with name 'stackdriverSender' defined in class path\n  resource\n  [org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.class]:\n  Bean instantiation via factory method failed; nested exception is\n  org.springframework.beans.BeanInstantiationException: Failed to\n  instantiate [zipkin2.reporter.Sender]: Factory method\n  'stackdriverSender' threw exception; nested exception is\n  java.io.IOException: The Application Default Credentials are not\n  available. They are available if running in Google Compute Engine.\n  Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS\n  must be defined pointing to a file defining the credentials. See\n  <a href=\"https://developers.google.com/accounts/docs/application-default-credentials\" rel=\"nofollow noreferrer\">https://developers.google.com/accounts/docs/application-default-credentials</a>\n  for more information.</p>\n</blockquote>\n\n<p>This is totally understandable since this environment variable is not present locally and I don't want to use Sleuth/Stackdriver tracing when running the tests. I've looked in the <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/reference/htmlsingle\" rel=\"nofollow noreferrer\">reference documentation</a> but I can only seem to find information on how to disable Sleuth for specific integration points such as RxJava, RestTemplate etc. But how can I disable Sleuth entirely? </p>\n\n<p>I've tried setting <code>spring.sleuth.enabled=false</code> but this doesn't seem to make any difference.</p>\n"},{"tags":["java","firebase-realtime-database","google-cloud-platform","google-cloud-firestore","protobuf-java"],"comments":[{"owner":{"account_id":7548443,"reputation":361,"user_id":5730724,"accept_rate":50,"display_name":"Dmitriy S"},"score":0,"creation_date":1568644810,"post_id":57954994,"comment_id":102330207,"body_markdown":"Try to add: &lt;dependency&gt;\n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;","body":"Try to add: &lt;dependency&gt;     &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;     &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;     &lt;version&gt;3.4.0&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":948320,"reputation":5144,"user_id":975074,"accept_rate":40,"display_name":"suztomo"},"score":1,"creation_date":1568923152,"post_id":57954994,"comment_id":102439921,"body_markdown":"I checked your dependencies with `mvn dependency:copy-dependencies` and found `com.google.protobuf.GeneratedMessageV3` is included in protobuf-java-3.9.1.jar. Strange. Would you create a dummy GitHub project to reproduce the error?","body":"I checked your dependencies with <code>mvn dependency:copy-dependencies</code> and found <code>com.google.protobuf.GeneratedMessageV3</code> is included in protobuf-java-3.9.1.jar. Strange. Would you create a dummy GitHub project to reproduce the error?"}],"owner":{"account_id":709982,"reputation":852,"user_id":622644,"accept_rate":55,"display_name":"priya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633703385,"creation_date":1568629948,"question_id":57954994,"body_markdown":"I am using firestore in my application and On the call of method\r\n\r\n     Firestore firstoreDB = FirestoreClient.getFirestore(FirebaseApp.getInstance(env)); \r\ngetting exception : \r\n\r\n    at java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n    \tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.access$100(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat com.google.cloud.firestore.v1beta1.stub.GrpcFirestoreStub.&lt;clinit&gt;(GrpcFirestoreStub.java:73)\r\n    \tat com.google.cloud.firestore.spi.v1beta1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:133)\r\n    \tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\r\n    \tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:72)\r\n    \tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:512)\r\n    \tat com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:315)\r\n    \tat com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:76)\r\n    \tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:63)\r\n    \tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:56)\r\n    \tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:499)\r\n    \tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:47)\r\n    \tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:27)\r\n    \tat com.google.firebase.cloud.FirestoreClient$FirestoreClientService.&lt;init&gt;(FirestoreClient.java:87)\r\n    \tat com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:77)\r\n    \tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:70)\r\n    \tat com.mmt.app.firebase.ConnectToAgent.sendMessage(ConnectToAgent.java:94)\r\n    \tat com.mmt.app.firebase.TestFB.connectToAgent(TestFB.java:37)\r\n    \tat com.mmt.app.firebase.TestFB.main(TestFB.java:19)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.protobuf.GeneratedMessageV3\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\r\nI know is dependency mismatch and gave tried every permutation of firebase admin and firestore + guava version but no luck .\r\n\r\nMy current POM is : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    &lt;version&gt;6.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;24.1.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\r\n    &lt;version&gt;1.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Firestore client throws dependency mismatch even when it&#39;s imported","body":"<p>I am using firestore in my application and On the call of method</p>\n\n<pre><code> Firestore firstoreDB = FirestoreClient.getFirestore(FirebaseApp.getInstance(env)); \n</code></pre>\n\n<p>getting exception : </p>\n\n<pre><code>at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at com.google.cloud.firestore.v1beta1.stub.GrpcFirestoreStub.&lt;clinit&gt;(GrpcFirestoreStub.java:73)\n    at com.google.cloud.firestore.spi.v1beta1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:133)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:72)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:512)\n    at com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:315)\n    at com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:76)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:63)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:56)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:499)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:47)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:27)\n    at com.google.firebase.cloud.FirestoreClient$FirestoreClientService.&lt;init&gt;(FirestoreClient.java:87)\n    at com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:77)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:70)\n    at com.mmt.app.firebase.ConnectToAgent.sendMessage(ConnectToAgent.java:94)\n    at com.mmt.app.firebase.TestFB.connectToAgent(TestFB.java:37)\n    at com.mmt.app.firebase.TestFB.main(TestFB.java:19)\nCaused by: java.lang.ClassNotFoundException: com.google.protobuf.GeneratedMessageV3\n    at java.net.URLClassLoader.findClass(Unknown Source)\n</code></pre>\n\n<p>I know is dependency mismatch and gave tried every permutation of firebase admin and firestore + guava version but no luck .</p>\n\n<p>My current POM is : </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;6.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;24.1.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\n    &lt;version&gt;1.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","parameters","overloading","overriding"],"comments":[{"owner":{"account_id":2200754,"reputation":2067,"user_id":1945220,"accept_rate":93,"display_name":"Unknown"},"score":0,"creation_date":1468263110,"post_id":38313980,"comment_id":64044704,"body_markdown":"First of all your syntax is wrong. Secondly Class can extends Another class and not the interface and Class actually implement the interface.","body":"First of all your syntax is wrong. Secondly Class can extends Another class and not the interface and Class actually implement the interface."},{"owner":{"account_id":5240280,"reputation":3071,"user_id":4518455,"accept_rate":72,"display_name":"L1ghtk3ira"},"score":0,"creation_date":1468263257,"post_id":38313980,"comment_id":64044786,"body_markdown":"It is just a general similarity to my project.","body":"It is just a general similarity to my project."},{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":1,"creation_date":1468263664,"post_id":38313980,"comment_id":64044991,"body_markdown":"This is technically impossible, as `checkThis(Document, String)` does not and cannot override `checkThis()`. However, if you tell us what you&#39;re trying to accomplish with this, we might be able to figure out a workaround.","body":"This is technically impossible, as <code>checkThis(Document, String)</code> does not and cannot override <code>checkThis()</code>. However, if you tell us what you&#39;re trying to accomplish with this, we might be able to figure out a workaround."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1468264008,"post_id":38313980,"comment_id":64045170,"body_markdown":"as @Zircon mentioned, it is not possible to &quot;override&quot; a method when changing the parameters (since they are part of the method&#39;s signature; note that in the Java language the return value is not part of the signature, in the JVM, however, it is). This smells like an [XY-problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem), so please describe what you want to achieve rather than showing your approach.","body":"as @Zircon mentioned, it is not possible to &quot;override&quot; a method when changing the parameters (since they are part of the method&#39;s signature; note that in the Java language the return value is not part of the signature, in the JVM, however, it is). This smells like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY-problem</a>, so please describe what you want to achieve rather than showing your approach."}],"answers":[{"tags":[],"owner":{"account_id":4087237,"reputation":71,"user_id":3356238,"display_name":"Renan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468263264,"creation_date":1468263264,"answer_id":38314177,"question_id":38313980,"body_markdown":"In this case you don&#39;t need any interface, it&#39;s not possible to do what you want, you need to understand the concept of interfaces before use it.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/concepts/interface.html","title":"Java create method in Interface and change the parameter type","body":"<p>In this case you don't need any interface, it's not possible to do what you want, you need to understand the concept of interfaces before use it.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/concepts/interface.html</a></p>\n"},{"tags":[],"owner":{"account_id":5240280,"reputation":3071,"user_id":4518455,"accept_rate":72,"display_name":"L1ghtk3ira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468268263,"creation_date":1468267850,"answer_id":38315396,"question_id":38313980,"body_markdown":"The implementation I was looking for turned out to not exist however there is a better way to be able to do what I was looking for using Input and Output.\r\n\r\n    public interface MyInterface&lt;Input, Output&gt; {\r\n       void checkThis(Input input, Output output) throws Exception;\r\n\r\n       Output Show(Input input, String url) throws Exception;\r\n    }\r\n\r\n    public class HeadLevel extends MyInterface&lt;HtmlPage,String&gt;{\r\n       Output scrape(HtmlPage page, String url) throws Exception;\r\n    }\r\n\r\n    public class MyClass implements HeadLevel&lt;Output&gt;{\r\n       @Override \r\n       public void checkThis(Document page, String url){\r\n\r\n       }\r\n    }\r\n\r\nIt seems the answer was actually under my nose. I misunderstood what Input/Output types are and how you can use them. Input and Output can be of any time that you expect to come in or go out of an application sort of speak.\r\n\r\n&gt; Input is any information that is needed by your program to complete\r\n&gt; its execution.There are many forms that program input may take\r\n\r\nInput can take the form of many different types such as HtmlPage, Document, and String. Using input you can Override your method and have your desired types.\r\n\r\nYou can read more about Input and Output [here][1]\r\n\r\n\r\n  [1]: http://pages.cs.wisc.edu/~cs368-1/JavaTutorial/NOTES/JavaIO_Scanner.html","title":"Java create method in Interface and change the parameter type","body":"<p>The implementation I was looking for turned out to not exist however there is a better way to be able to do what I was looking for using Input and Output.</p>\n\n<pre><code>public interface MyInterface&lt;Input, Output&gt; {\n   void checkThis(Input input, Output output) throws Exception;\n\n   Output Show(Input input, String url) throws Exception;\n}\n\npublic class HeadLevel extends MyInterface&lt;HtmlPage,String&gt;{\n   Output scrape(HtmlPage page, String url) throws Exception;\n}\n\npublic class MyClass implements HeadLevel&lt;Output&gt;{\n   @Override \n   public void checkThis(Document page, String url){\n\n   }\n}\n</code></pre>\n\n<p>It seems the answer was actually under my nose. I misunderstood what Input/Output types are and how you can use them. Input and Output can be of any time that you expect to come in or go out of an application sort of speak.</p>\n\n<blockquote>\n  <p>Input is any information that is needed by your program to complete\n  its execution.There are many forms that program input may take</p>\n</blockquote>\n\n<p>Input can take the form of many different types such as HtmlPage, Document, and String. Using input you can Override your method and have your desired types.</p>\n\n<p>You can read more about Input and Output <a href=\"http://pages.cs.wisc.edu/~cs368-1/JavaTutorial/NOTES/JavaIO_Scanner.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2407356,"reputation":1444,"user_id":2103431,"display_name":"Konstantin Grigorov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633703187,"creation_date":1633703187,"answer_id":69497479,"question_id":38313980,"body_markdown":"It feels that you are trying to force the code to solve a problem that you don&#39;t understand clearly. I like to step back and think about the connections between components and improve my design in such situations.\r\n\r\nMaybe think along the lines that an HtmlPage is a Document. So, if you\r\nextend an HtmlPage with a Document (`public class HtmlPage extends Document`). When an Interface method accepts Document, it will take HtmlPage. Assuming that you have control over the relationship between Document and HtmlPage, in other words, you are not using a third-party library. Once that is done, a method won&#39;t need to operate on two unrelated concepts.\r\n\r\nI&#39; am not clear about the definition of your problem, better naming might have helped, either way, a potential solution might look like this:\r\n\r\n    interface MyInterface{\r\n    \t&lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception;\r\n    \r\n    \tOutput Show(Input input, String url) throws Exception;\r\n    }\r\n    \r\n    class HeadLevel implements MyInterface{\r\n    \tpublic &lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception\r\n    \t{\r\n    \t\t// Do something\r\n    \t}\r\n    \r\n    \tpublic Output Show(Input input, String url) throws Exception{\r\n    \t\treturn new Output();\r\n    \t}\r\n    \r\n    \tpublic &lt;K extends Document&gt; Output scrape(K htmlPage, String url) throws Exception\r\n    \t{\r\n    \t\treturn new Output();\r\n    \t}\r\n    }\r\n    \r\n    class MyClass extends HeadLevel{\r\n    \r\n    \tpublic MyClass() throws Exception\r\n    \t{\r\n    \t\tcheckThis(new HtmlPage());\r\n    \t\tcheckThis(new Document());\r\n    \t}\r\n    \r\n    \tpublic &lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception\r\n    \t{\r\n    \t\tsuper.checkThis(htmlPage);\r\n    \t}\r\n    }\r\n    \r\n    class Document{\r\n    \r\n    }\r\n    \r\n    class HtmlPage extends Document\r\n    {\r\n    \r\n    }\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/generics/types.html","title":"Java create method in Interface and change the parameter type","body":"<p>It feels that you are trying to force the code to solve a problem that you don't understand clearly. I like to step back and think about the connections between components and improve my design in such situations.</p>\n<p>Maybe think along the lines that an HtmlPage is a Document. So, if you\nextend an HtmlPage with a Document (<code>public class HtmlPage extends Document</code>). When an Interface method accepts Document, it will take HtmlPage. Assuming that you have control over the relationship between Document and HtmlPage, in other words, you are not using a third-party library. Once that is done, a method won't need to operate on two unrelated concepts.</p>\n<p>I' am not clear about the definition of your problem, better naming might have helped, either way, a potential solution might look like this:</p>\n<pre><code>interface MyInterface{\n    &lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception;\n\n    Output Show(Input input, String url) throws Exception;\n}\n\nclass HeadLevel implements MyInterface{\n    public &lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception\n    {\n        // Do something\n    }\n\n    public Output Show(Input input, String url) throws Exception{\n        return new Output();\n    }\n\n    public &lt;K extends Document&gt; Output scrape(K htmlPage, String url) throws Exception\n    {\n        return new Output();\n    }\n}\n\nclass MyClass extends HeadLevel{\n\n    public MyClass() throws Exception\n    {\n        checkThis(new HtmlPage());\n        checkThis(new Document());\n    }\n\n    public &lt;K extends Document&gt; void checkThis(K htmlPage) throws Exception\n    {\n        super.checkThis(htmlPage);\n    }\n}\n\nclass Document{\n\n}\n\nclass HtmlPage extends Document\n{\n\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/types.html</a></p>\n"}],"owner":{"account_id":5240280,"reputation":3071,"user_id":4518455,"accept_rate":72,"display_name":"L1ghtk3ira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69497479,"answer_count":3,"score":0,"last_activity_date":1633703187,"creation_date":1468262525,"question_id":38313980,"body_markdown":"How do I create an interface that when Overridden can have different types? Sometimes I would like the method to accept an item of type &#39;HtmlPage&#39; and other times I would like it to take the type &#39;Document&#39;. Later these could change to even more types.\r\n\r\n**Example:**\r\n\r\n    public interface MyInterface{\r\n       void checkThis() throws Exception;\r\n  \r\n       Output Show(Input input, String url) throws Exception;\r\n    }\r\n\r\n    public class HeadLevel extends MyInterface&lt;HtmlPage,String&gt;{\r\n       Output scrape(HtmlPage page, String url) throws Exception;\r\n    }\r\n\r\n    public class MyClass implements HeadLevel&lt;Output&gt;{\r\n       @Override \r\n       public void checkThis(Document page, String url){\r\n\r\n       }\r\n    }\r\n\r\nI am thinking something like this should be achievable. I have tried looking around using keywords &#39;Overload&#39; and &#39;Override&#39; in my searches but cannot find something that can work like this. As you can see &#39;MyClass&#39; has Overridden the method and has defined the parameters being used.\r\n","title":"Java create method in Interface and change the parameter type","body":"<p>How do I create an interface that when Overridden can have different types? Sometimes I would like the method to accept an item of type 'HtmlPage' and other times I would like it to take the type 'Document'. Later these could change to even more types.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public interface MyInterface{\n   void checkThis() throws Exception;\n\n   Output Show(Input input, String url) throws Exception;\n}\n\npublic class HeadLevel extends MyInterface&lt;HtmlPage,String&gt;{\n   Output scrape(HtmlPage page, String url) throws Exception;\n}\n\npublic class MyClass implements HeadLevel&lt;Output&gt;{\n   @Override \n   public void checkThis(Document page, String url){\n\n   }\n}\n</code></pre>\n\n<p>I am thinking something like this should be achievable. I have tried looking around using keywords 'Overload' and 'Override' in my searches but cannot find something that can work like this. As you can see 'MyClass' has Overridden the method and has defined the parameters being used.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"score":1,"creation_date":1562675265,"post_id":56952524,"comment_id":100443560,"body_markdown":"As a side note (irrelevant to your question), there are easier ways to put a value into the list if absent using the newer methods `Map.computeIfAbsent` etc. (https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-)","body":"As a side note (irrelevant to your question), there are easier ways to put a value into the list if absent using the newer methods <code>Map.computeIfAbsent</code> etc. (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>)"},{"owner":{"account_id":5877752,"reputation":1515,"user_id":4628136,"accept_rate":56,"display_name":"krakig"},"score":0,"creation_date":1562675411,"post_id":56952524,"comment_id":100443666,"body_markdown":"True ! But that&#39;s an old code that I just took from a java 6 app!","body":"True ! But that&#39;s an old code that I just took from a java 6 app!"},{"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"score":1,"creation_date":1562675738,"post_id":56952524,"comment_id":100443880,"body_markdown":"Since every item eventually ends up as two keys, `toMap` and `groupingBy` won&#39;t work. I assume writing your own collector is the best way to go. Alternatively, duplicating every item with the firstname/lastname as key (as in Samuels answer) works too.","body":"Since every item eventually ends up as two keys, <code>toMap</code> and <code>groupingBy</code> won&#39;t work. I assume writing your own collector is the best way to go. Alternatively, duplicating every item with the firstname/lastname as key (as in Samuels answer) works too."},{"owner":{"account_id":8646314,"reputation":2159,"user_id":6473398,"display_name":"sfiss"},"score":1,"creation_date":1562675839,"post_id":56952524,"comment_id":100443931,"body_markdown":"Also should the title be changed to &quot;map one item with multiple fields to multiple keys&quot;?","body":"Also should the title be changed to &quot;map one item with multiple fields to multiple keys&quot;?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1562680548,"post_id":56952524,"comment_id":100446761,"body_markdown":"[@sfiss’ comment](https://stackoverflow.com/questions/56952524/java-stream-collect-map-one-item-with-multiple-fields-to-multiple-keys#comment100443560_56952524) is valuable as rewriting the loop to use `computeIfAbsent` may end up at simpler code than the Stream solution.","body":"<a href=\"https://stackoverflow.com/questions/56952524/java-stream-collect-map-one-item-with-multiple-fields-to-multiple-keys#comment100443560_56952524\">@sfiss’ comment</a> is valuable as rewriting the loop to use <code>computeIfAbsent</code> may end up at simpler code than the Stream solution."}],"answers":[{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1633703117,"creation_date":1562675666,"answer_id":56952713,"question_id":56952524,"body_markdown":"You can use `Stream.flatMap()` and `Collectors.groupingBy()` with `Collectors.mapping()`:\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; result = personList.stream()\r\n            .flatMap(p -&gt; Stream.of(p.getFirstName(), p.getLastName()).map(n -&gt; new AbstractMap.SimpleEntry&lt;&gt;(n, p)))\r\n            .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n\r\nThis uses `flatMap` to expand all names (first and last) to their `Person` object and collects it afterwards.\r\n\r\nAlternatively using Java 9 or above you could use `Collectors.flatMapping()`:\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; result = personList.stream()\r\n            .collect(Collectors.flatMapping(\r\n                    p -&gt; Stream.of(p.getFirstName(), p.getLastName()).map(n -&gt; new AbstractMap.SimpleEntry&lt;&gt;(n, p)), \r\n                    Collectors.groupingBy(Map.Entry::getKey, \r\n                            Collectors.mapping(Map.Entry::getValue, Collectors.toList()))));\r\n\r\nBut I don&#39;t think that this is more readable.","title":"Java stream/collect: map one item with multiple fields to multiple keys","body":"<p>You can use <code>Stream.flatMap()</code> and <code>Collectors.groupingBy()</code> with <code>Collectors.mapping()</code>:</p>\n<pre><code>Map&lt;String, List&lt;Person&gt;&gt; result = personList.stream()\n        .flatMap(p -&gt; Stream.of(p.getFirstName(), p.getLastName()).map(n -&gt; new AbstractMap.SimpleEntry&lt;&gt;(n, p)))\n        .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n<p>This uses <code>flatMap</code> to expand all names (first and last) to their <code>Person</code> object and collects it afterwards.</p>\n<p>Alternatively using Java 9 or above you could use <code>Collectors.flatMapping()</code>:</p>\n<pre><code>Map&lt;String, List&lt;Person&gt;&gt; result = personList.stream()\n        .collect(Collectors.flatMapping(\n                p -&gt; Stream.of(p.getFirstName(), p.getLastName()).map(n -&gt; new AbstractMap.SimpleEntry&lt;&gt;(n, p)), \n                Collectors.groupingBy(Map.Entry::getKey, \n                        Collectors.mapping(Map.Entry::getValue, Collectors.toList()))));\n</code></pre>\n<p>But I don't think that this is more readable.</p>\n"}],"owner":{"account_id":5877752,"reputation":1515,"user_id":4628136,"accept_rate":56,"display_name":"krakig"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10923,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":56952713,"answer_count":1,"score":9,"last_activity_date":1633703117,"creation_date":1562675038,"question_id":56952524,"body_markdown":"I have the following code that I&#39;d like to try to write using the java collectors.\r\n\r\nGiven 2 attributes (firstname and lastname) of a person, I&#39;d like to get a map containing the unique firstname or lastname as a key, and the list of the corresponding persons.\r\n\r\nHere&#39;s a set of data :\r\n\r\n    Person person1 = new Person();\r\n    person1.setFirstName(&quot;john&quot;);\r\n    person1.setLastName(&quot;doe&quot;);\r\n    person1.setUserId(&quot;user1&quot;);\r\n\r\n    Person person2 = new Person();\r\n    person2.setFirstName(&quot;doe&quot;);\r\n    person2.setLastName(&quot;frank&quot;);\r\n    person2.setUserId(&quot;user2&quot;);\r\n\r\n    Person person3 = new Person();\r\n    person3.setFirstName(&quot;john&quot;);\r\n    person3.setLastName(&quot;wayne&quot;);\r\n    person3.setUserId(&quot;user3&quot;);\r\n\r\n    List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n    personList.add(person1);\r\n    personList.add(person2);\r\n    personList.add(person3);\r\n\r\nOutput (as expected) is the following : \r\n\r\n    frank=[Person{userId=&#39;user2&#39;, firstName=&#39;doe&#39;, lastName=&#39;frank&#39;}], \r\n    \r\n    john=[Person{userId=&#39;user1&#39;, firstName=&#39;john&#39;, lastName=&#39;doe&#39;}, Person{userId=&#39;user3&#39;, firstName=&#39;john&#39;, lastName=&#39;wayne&#39;}], \r\n    \r\n    doe=[Person{userId=&#39;user1&#39;, firstName=&#39;john&#39;, lastName=&#39;doe&#39;}, Person{userId=&#39;user2&#39;, firstName=&#39;doe&#39;, lastName=&#39;frank&#39;}], \r\n    \r\n    wayne=[Person{userId=&#39;user3&#39;, firstName=&#39;john&#39;, lastName=&#39;wayne&#39;}]\r\n\r\nAnd the code to populate the map :\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; mapPersons = new HashMap&lt;String, List&lt;Person&gt;&gt;();\r\n    List&lt;Person&gt; listPersons;\r\n\r\n    for (Person p: personList) {\r\n        if (mapPersons.get(p.getFirstName()) == null) {\r\n            listPersons = new ArrayList&lt;Person&gt;();\r\n            listPersons.add(p);\r\n            mapPersons.put(p.getFirstName(), listPersons);\r\n        } else {\r\n            mapPersons.get(p.getFirstName()).add(p);\r\n        }\r\n        if (mapPersons.get(p.getLastName()) == null) {\r\n            listPersons = new ArrayList&lt;Person&gt;();\r\n            listPersons.add(p);\r\n            mapPersons.put(p.getLastName(), listPersons);\r\n        } else {\r\n            mapPersons.get(p.getLastName()).add(p);\r\n        }\r\n    }\r\n\r\nI can&#39;t figure out how I can get either the firstname or the lastname as a key (not like in https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8). Do I have to write my own collector?","title":"Java stream/collect: map one item with multiple fields to multiple keys","body":"<p>I have the following code that I'd like to try to write using the java collectors.</p>\n\n<p>Given 2 attributes (firstname and lastname) of a person, I'd like to get a map containing the unique firstname or lastname as a key, and the list of the corresponding persons.</p>\n\n<p>Here's a set of data :</p>\n\n<pre><code>Person person1 = new Person();\nperson1.setFirstName(\"john\");\nperson1.setLastName(\"doe\");\nperson1.setUserId(\"user1\");\n\nPerson person2 = new Person();\nperson2.setFirstName(\"doe\");\nperson2.setLastName(\"frank\");\nperson2.setUserId(\"user2\");\n\nPerson person3 = new Person();\nperson3.setFirstName(\"john\");\nperson3.setLastName(\"wayne\");\nperson3.setUserId(\"user3\");\n\nList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\npersonList.add(person1);\npersonList.add(person2);\npersonList.add(person3);\n</code></pre>\n\n<p>Output (as expected) is the following : </p>\n\n<pre><code>frank=[Person{userId='user2', firstName='doe', lastName='frank'}], \n\njohn=[Person{userId='user1', firstName='john', lastName='doe'}, Person{userId='user3', firstName='john', lastName='wayne'}], \n\ndoe=[Person{userId='user1', firstName='john', lastName='doe'}, Person{userId='user2', firstName='doe', lastName='frank'}], \n\nwayne=[Person{userId='user3', firstName='john', lastName='wayne'}]\n</code></pre>\n\n<p>And the code to populate the map :</p>\n\n<pre><code>Map&lt;String, List&lt;Person&gt;&gt; mapPersons = new HashMap&lt;String, List&lt;Person&gt;&gt;();\nList&lt;Person&gt; listPersons;\n\nfor (Person p: personList) {\n    if (mapPersons.get(p.getFirstName()) == null) {\n        listPersons = new ArrayList&lt;Person&gt;();\n        listPersons.add(p);\n        mapPersons.put(p.getFirstName(), listPersons);\n    } else {\n        mapPersons.get(p.getFirstName()).add(p);\n    }\n    if (mapPersons.get(p.getLastName()) == null) {\n        listPersons = new ArrayList&lt;Person&gt;();\n        listPersons.add(p);\n        mapPersons.put(p.getLastName(), listPersons);\n    } else {\n        mapPersons.get(p.getLastName()).add(p);\n    }\n}\n</code></pre>\n\n<p>I can't figure out how I can get either the firstname or the lastname as a key (not like in <a href=\"https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8\">Group by multiple field names in java 8</a>). Do I have to write my own collector?</p>\n"},{"tags":["java","collections","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1578519286,"post_id":59654115,"comment_id":105469425,"body_markdown":"a series of two `flatMap`, it seems.","body":"a series of two <code>flatMap</code>, it seems."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1578521118,"post_id":59654115,"comment_id":105470059,"body_markdown":"Show us your attempt - aside of giving an answer, we can also *help* you based on your attempt :)","body":"Show us your attempt - aside of giving an answer, we can also <i>help</i> you based on your attempt :)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1578533465,"post_id":59654115,"comment_id":105472963,"body_markdown":"`Elegant` does not necessarily mean `best`.","body":"<code>Elegant</code> does not necessarily mean <code>best</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1578534628,"post_id":59654115,"comment_id":105473185,"body_markdown":"Shouldn&#39;t the `level2List` in the `Level2` class definition really be `level3List`?","body":"Shouldn&#39;t the <code>level2List</code> in the <code>Level2</code> class definition really be <code>level3List</code>?"},{"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"score":0,"creation_date":1578610095,"post_id":59654115,"comment_id":105505072,"body_markdown":"@WJS yes you are right,  it should be  `level3List`","body":"@WJS yes you are right,  it should be  <code>level3List</code>"},{"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"score":0,"creation_date":1578610671,"post_id":59654115,"comment_id":105505239,"body_markdown":"@WJS what according to you is the best solution ? I want to leanr the best solution as well.","body":"@WJS what according to you is the best solution ? I want to leanr the best solution as well."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1578610945,"post_id":59654115,"comment_id":105505321,"body_markdown":"It depends on your requirement.  But it would not be appropriate for me to pick one.  Any solution which meets your requirement would be a good choice.","body":"It depends on your requirement.  But it would not be appropriate for me to pick one.  Any solution which meets your requirement would be a good choice."}],"answers":[{"tags":[],"owner":{"account_id":13889637,"reputation":1582,"user_id":10027960,"display_name":"Maxdola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578520251,"creation_date":1578520251,"answer_id":59654299,"question_id":59654115,"body_markdown":"I have this which is valid but I have no data to test it so pls test it and give me feedback :).\r\n\r\n    Map&lt;Integer, List&lt;String&gt;&gt; map = \r\n            initialList.stream()\r\n                    .collect(Collectors.toMap(f -&gt; f.idLevel1,\r\n                    f -&gt; f.level2list.stream()\r\n                    .flatMap(f2 -&gt; f2.level2list.stream())\r\n                    .collect(Collectors.toList()).stream()\r\n                    .filter(f3 -&gt; f3.idLevel3 == f.idLevel1)\r\n                    .map(f3 -&gt; f3.name).collect(Collectors.toList())));","title":"Creating a map from nested lists","body":"<p>I have this which is valid but I have no data to test it so pls test it and give me feedback :).</p>\n\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; map = \n        initialList.stream()\n                .collect(Collectors.toMap(f -&gt; f.idLevel1,\n                f -&gt; f.level2list.stream()\n                .flatMap(f2 -&gt; f2.level2list.stream())\n                .collect(Collectors.toList()).stream()\n                .filter(f3 -&gt; f3.idLevel3 == f.idLevel1)\n                .map(f3 -&gt; f3.name).collect(Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578538454,"creation_date":1578538454,"answer_id":59656594,"question_id":59654115,"body_markdown":"By corresponding to `idLevel1` I made the assumption that you wanted a list of all `idlevel3` that were in the `chain` for the a particular `idLevel1`\r\n\r\nSo there could be a list of `level3 ids` for some `level1 id` and a different list of `level3 ids` for a different `level1 id`.\r\n\r\nBased on that, this is what I came up with.\r\n```\r\n\t\tMap&lt;Integer, List&lt;Integer&gt;&gt; map = initialList\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors\r\n\t\t\t\t\t\t.toMap(lv1 -&gt; lv1.idLevel1,\r\n\t\t\t\t\t\t\t\tlv1 -&gt; lv1.level2list\r\n\t\t\t\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t.flatMap(lv2 -&gt; lv2.level3list\r\n\t\t\t\t\t\t\t\t.stream())\r\n\t\t\t\t\t\t.map(lv3 -&gt; lv3.idLevel3)\r\n\t\t\t\t\t\t.collect(Collectors.toList())));","title":"Creating a map from nested lists","body":"<p>By corresponding to <code>idLevel1</code> I made the assumption that you wanted a list of all <code>idlevel3</code> that were in the <code>chain</code> for the a particular <code>idLevel1</code></p>\n\n<p>So there could be a list of <code>level3 ids</code> for some <code>level1 id</code> and a different list of <code>level3 ids</code> for a different <code>level1 id</code>.</p>\n\n<p>Based on that, this is what I came up with.</p>\n\n<pre><code>        Map&lt;Integer, List&lt;Integer&gt;&gt; map = initialList\n                .stream()\n                .collect(Collectors\n                        .toMap(lv1 -&gt; lv1.idLevel1,\n                                lv1 -&gt; lv1.level2list\n                                        .stream()\n                        .flatMap(lv2 -&gt; lv2.level3list\n                                .stream())\n                        .map(lv3 -&gt; lv3.idLevel3)\n                        .collect(Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578576027,"creation_date":1578576027,"answer_id":59664903,"question_id":59654115,"body_markdown":"Similar approach to others:\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; map = initialList.stream()\r\n        .collect(Collectors.toMap(Level1::getIdLevel1,\r\n                lv1 -&gt; lv1.getLevel2list().stream()\r\n                        .flatMap(lv2 -&gt; lv2.getLevel3list().stream().map(Level3::getIdLevel3))\r\n                        .collect(Collectors.toList())));\r\n```\r\nI added getters in yout classes and change one name from `List&lt;Level3&gt; level2list; ` to `List&lt;Level3&gt; level3list; `:\r\n```java\r\nclass Level1 {\r\n    int idLevel1;\r\n    List&lt;Level2&gt; level2list;\r\n\r\n    public int getIdLevel1() {\r\n        return idLevel1;\r\n    }\r\n\r\n    public List&lt;Level2&gt; getLevel2list() {\r\n        return level2list;\r\n    }\r\n}\r\n\r\nclass Level2 {\r\n    int idLevel2;\r\n    List&lt;Level3&gt; level3list;\r\n\r\n    public List&lt;Level3&gt; getLevel3list(){\r\n        return level3list;\r\n    }\r\n}\r\n\r\nclass Level3 {\r\n    int idLevel3;\r\n    String name;\r\n\r\n    public int getIdLevel3() {\r\n        return idLevel3;\r\n    }\r\n}\r\n```","title":"Creating a map from nested lists","body":"<p>Similar approach to others:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; map = initialList.stream()\n        .collect(Collectors.toMap(Level1::getIdLevel1,\n                lv1 -&gt; lv1.getLevel2list().stream()\n                        .flatMap(lv2 -&gt; lv2.getLevel3list().stream().map(Level3::getIdLevel3))\n                        .collect(Collectors.toList())));\n</code></pre>\n\n<p>I added getters in yout classes and change one name from <code>List&lt;Level3&gt; level2list;</code> to <code>List&lt;Level3&gt; level3list;</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Level1 {\n    int idLevel1;\n    List&lt;Level2&gt; level2list;\n\n    public int getIdLevel1() {\n        return idLevel1;\n    }\n\n    public List&lt;Level2&gt; getLevel2list() {\n        return level2list;\n    }\n}\n\nclass Level2 {\n    int idLevel2;\n    List&lt;Level3&gt; level3list;\n\n    public List&lt;Level3&gt; getLevel3list(){\n        return level3list;\n    }\n}\n\nclass Level3 {\n    int idLevel3;\n    String name;\n\n    public int getIdLevel3() {\n        return idLevel3;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59656594,"answer_count":3,"score":0,"last_activity_date":1633701936,"creation_date":1578519134,"question_id":59654115,"body_markdown":"Suppose there are 3 classes:\r\n\r\n    class Level1 {\r\n    \tint idLevel1;\r\n    \tList&lt;Level2&gt; level2list;\t\r\n    }\r\n    \r\n    class Level2 {\r\n    \tint idLevel2;\r\n    \tList&lt;Level3&gt; level3list;\t\r\n    }\t\r\n    \r\n    class Level3 {\t\r\n    \tint idLevel3;\r\n    \tString name;\r\n    }\t\r\n\r\nSuppose there is a List of Level1 objects called initial state\r\n\r\n    List&lt;Level1&gt; initialList = new ArrayList&lt;&gt;();\r\n\r\n I want to create a map from initialList where:\r\n\r\n     - Key: is idLevel1\r\n     - Value: is list of all idLevel3 , corresponding to idLevel1\r\n\r\nI am able to achieve this using for loops, but I want to achieve this in a more elegant way using Java 8 features (streams and the functions).\r\nI tried using Collectors.toMap() also tried grouping but I am unable to get the desired map.\r\n","title":"Creating a map from nested lists","body":"<p>Suppose there are 3 classes:</p>\n<pre><code>class Level1 {\n    int idLevel1;\n    List&lt;Level2&gt; level2list;    \n}\n\nclass Level2 {\n    int idLevel2;\n    List&lt;Level3&gt; level3list;    \n}   \n\nclass Level3 {  \n    int idLevel3;\n    String name;\n}   \n</code></pre>\n<p>Suppose there is a List of Level1 objects called initial state</p>\n<pre><code>List&lt;Level1&gt; initialList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I want to create a map from initialList where:</p>\n<pre><code> - Key: is idLevel1\n - Value: is list of all idLevel3 , corresponding to idLevel1\n</code></pre>\n<p>I am able to achieve this using for loops, but I want to achieve this in a more elegant way using Java 8 features (streams and the functions).\nI tried using Collectors.toMap() also tried grouping but I am unable to get the desired map.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4400136,"reputation":660,"user_id":3586084,"display_name":"alierdogan7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633699580,"creation_date":1633699580,"answer_id":69496620,"question_id":69496333,"body_markdown":"You need to run these lines in UI thread not in a separate thread. [Like this answer.][1]\r\n\r\n```\r\n new Handler().postDelayed(new Runnable() {\r\n    activity.runOnUiThread(new Runnable() {\r\n        public void run() {\r\n            if (NotificationReceiverSoundPlay.mPlayer != null)\r\n                NotificationReceiverSoundPlay.mPlayer.stop();\r\n        }\r\n    });\r\n }, 2000);\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/3134720/3586084","title":"ANdroid lang runtime exception error, how to resolve it?","body":"<p>You need to run these lines in UI thread not in a separate thread. <a href=\"https://stackoverflow.com/a/3134720/3586084\">Like this answer.</a></p>\n<pre><code> new Handler().postDelayed(new Runnable() {\n    activity.runOnUiThread(new Runnable() {\n        public void run() {\n            if (NotificationReceiverSoundPlay.mPlayer != null)\n                NotificationReceiverSoundPlay.mPlayer.stop();\n        }\n    });\n }, 2000);\n</code></pre>\n"}],"owner":{"account_id":20910620,"reputation":1,"user_id":15361605,"display_name":"Carwahan Your car partner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633701225,"creation_date":1633698378,"question_id":69496333,"body_markdown":"I am getting the following error in my android studio. Is there any way I can solve this issue. Its causing a lot of crashes in my app.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: Firebase-Messaging-Intent-Handle\r\n        Process: com.cnlcabs.cnldrivers, PID: 19224\r\n        java.lang.RuntimeException: Can&#39;t create handler inside thread Thread[Firebase-Messaging-Intent-Handle,5,main] that has not called Looper.prepare()\r\n            at android.os.Handler.&lt;init&gt;(Handler.java:227)\r\n            at android.os.Handler.&lt;init&gt;(Handler.java:129)\r\n            at com.cnlcabs.cnldrivers.data.MyFirebaseMessagingService.stopPlayer(MyFirebaseMessagingService.java:264)\r\n            at com.cnlcabs.cnldrivers.data.MyFirebaseMessagingService.onMessageReceived(MyFirebaseMessagingService.java:233)\r\n            at com.google.firebase.messaging.FirebaseMessagingService.dispatchMessage(com.google.firebase:firebase-messaging@@21.1.0:13)\r\n            at com.google.firebase.messaging.FirebaseMessagingService.passMessageIntentToSdk(com.google.firebase:firebase-messaging@@21.1.0:8)\r\n            at com.google.firebase.messaging.FirebaseMessagingService.handleMessageIntent(com.google.firebase:firebase-messaging@@21.1.0:3)\r\n            at com.google.firebase.messaging.FirebaseMessagingService.handleIntent(com.google.firebase:firebase-messaging@@21.1.0:3)\r\n            at com.google.firebase.messaging.EnhancedIntentService.lambda$processIntent$0$EnhancedIntentService(com.google.firebase:firebase-messaging@@21.1.0:1)\r\n            at com.google.firebase.messaging.EnhancedIntentService$$Lambda$0.run(Unknown Source:6)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n            at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@17.5.0:6)\r\n            at java.lang.Thread.run(Thread.java:923)\r\n\r\nmy code for myfirebasemessagingservice line 264 is \r\n\r\n    private void stopPlayer() {\r\n        try {\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (NotificationReceiverSoundPlay.mPlayer != null)\r\n    \r\n                        NotificationReceiverSoundPlay.mPlayer.stop();\r\n    \r\n    \r\n                }\r\n            }, 2000);\r\n        } catch (IllegalStateException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n","title":"ANdroid lang runtime exception error, how to resolve it?","body":"<p>I am getting the following error in my android studio. Is there any way I can solve this issue. Its causing a lot of crashes in my app.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Firebase-Messaging-Intent-Handle\n    Process: com.cnlcabs.cnldrivers, PID: 19224\n    java.lang.RuntimeException: Can't create handler inside thread Thread[Firebase-Messaging-Intent-Handle,5,main] that has not called Looper.prepare()\n        at android.os.Handler.&lt;init&gt;(Handler.java:227)\n        at android.os.Handler.&lt;init&gt;(Handler.java:129)\n        at com.cnlcabs.cnldrivers.data.MyFirebaseMessagingService.stopPlayer(MyFirebaseMessagingService.java:264)\n        at com.cnlcabs.cnldrivers.data.MyFirebaseMessagingService.onMessageReceived(MyFirebaseMessagingService.java:233)\n        at com.google.firebase.messaging.FirebaseMessagingService.dispatchMessage(com.google.firebase:firebase-messaging@@21.1.0:13)\n        at com.google.firebase.messaging.FirebaseMessagingService.passMessageIntentToSdk(com.google.firebase:firebase-messaging@@21.1.0:8)\n        at com.google.firebase.messaging.FirebaseMessagingService.handleMessageIntent(com.google.firebase:firebase-messaging@@21.1.0:3)\n        at com.google.firebase.messaging.FirebaseMessagingService.handleIntent(com.google.firebase:firebase-messaging@@21.1.0:3)\n        at com.google.firebase.messaging.EnhancedIntentService.lambda$processIntent$0$EnhancedIntentService(com.google.firebase:firebase-messaging@@21.1.0:1)\n        at com.google.firebase.messaging.EnhancedIntentService$$Lambda$0.run(Unknown Source:6)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@17.5.0:6)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>my code for myfirebasemessagingservice line 264 is</p>\n<pre><code>private void stopPlayer() {\n    try {\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                if (NotificationReceiverSoundPlay.mPlayer != null)\n\n                    NotificationReceiverSoundPlay.mPlayer.stop();\n\n\n            }\n        }, 2000);\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","wmctrl"],"comments":[{"owner":{"account_id":3961427,"reputation":7215,"user_id":3268303,"accept_rate":71,"display_name":"dazza5000"},"score":0,"creation_date":1556848010,"post_id":44475990,"comment_id":98575852,"body_markdown":"Did you figure it out?","body":"Did you figure it out?"}],"answers":[{"tags":[],"owner":{"account_id":16746677,"reputation":1,"user_id":12104701,"display_name":"question_guy_1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633700969,"creation_date":1633641599,"answer_id":69487990,"question_id":44475990,"body_markdown":"I have found that using the ProcessBuilder class rather than Runtime.exec() works to run the wmctrl command you described.\r\nSo rather than:\r\n````\r\nString bashCommand = &quot;wmctrl -r \\&quot;Calculator\\&quot; -e 0,100,100,500,500&quot;;\r\nProcess p = Runtime.getRuntime().exec(bashCommand);\r\n````\r\nYou can try:\r\n````\r\nString bashCommand = &quot;wmctrl -r \\&quot;Calculator\\&quot; -e 0,100,100,500,500&quot;;\r\nProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, bashCommand);\r\nProcess p = pb.start();\r\n````\r\n\r\n[Here is a link](https://stackoverflow.com/a/6856659/12104701) to another post explaining the different between Runtime.exec() and using ProcessBuilder.","title":"java and wmctrl to resize windows","body":"<p>I have found that using the ProcessBuilder class rather than Runtime.exec() works to run the wmctrl command you described.\nSo rather than:</p>\n<pre><code>String bashCommand = &quot;wmctrl -r \\&quot;Calculator\\&quot; -e 0,100,100,500,500&quot;;\nProcess p = Runtime.getRuntime().exec(bashCommand);\n</code></pre>\n<p>You can try:</p>\n<pre><code>String bashCommand = &quot;wmctrl -r \\&quot;Calculator\\&quot; -e 0,100,100,500,500&quot;;\nProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, bashCommand);\nProcess p = pb.start();\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/6856659/12104701\">Here is a link</a> to another post explaining the different between Runtime.exec() and using ProcessBuilder.</p>\n"}],"owner":{"account_id":1173719,"reputation":1107,"user_id":1150241,"accept_rate":41,"display_name":"Simon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633700969,"creation_date":1497114862,"question_id":44475990,"body_markdown":"I&#39;m writing a library to cover WMctrl shell program. I have problem with resizing windows:\r\n\r\n    String command = &quot;wmctrl -r \\&quot;Calculator\\&quot; -e 0,100,100,500,500&quot;;\r\n\r\n    System.out.println(command);\r\n    String output = this.bashCommandExecutor.execute(command);\r\n    System.out.println(output);\r\n\r\nThis doesn&#39;t work - _output_ variable is empty. But when I copy-paste _wmctrl -r &quot;Calculator&quot; -e 0,100,100,500,500_ to the Terminal it works properly. \r\n\r\nOther commands like &quot;_wmctrl -d_&quot; and &quot;_wmctrl -l_&quot; work in _this.bashCommandExecutor.execute()_ method.\r\n\r\nThis method looks like this:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class BashCommandExecutor\r\n    {\r\n        String execute(String bashCommand)\r\n        {\r\n            Process p = null;\r\n            try {\r\n                p = Runtime.getRuntime().exec(bashCommand);\r\n                p.waitFor();\r\n            }\r\n            catch (InterruptedException | IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(p.getInputStream())\r\n            );\r\n    \r\n            String line = &quot;&quot;;\r\n            StringBuilder sb = new StringBuilder();\r\n            try {\r\n                while ((line = reader.readLine())!= null) {\r\n                    sb.append(line + &quot;\\n&quot;);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nWhy does resizing work in command line, but doesn&#39;t work in Java app?","title":"java and wmctrl to resize windows","body":"<p>I'm writing a library to cover WMctrl shell program. I have problem with resizing windows:</p>\n\n<pre><code>String command = \"wmctrl -r \\\"Calculator\\\" -e 0,100,100,500,500\";\n\nSystem.out.println(command);\nString output = this.bashCommandExecutor.execute(command);\nSystem.out.println(output);\n</code></pre>\n\n<p>This doesn't work - <em>output</em> variable is empty. But when I copy-paste <em>wmctrl -r \"Calculator\" -e 0,100,100,500,500</em> to the Terminal it works properly. </p>\n\n<p>Other commands like \"<em>wmctrl -d</em>\" and \"<em>wmctrl -l</em>\" work in <em>this.bashCommandExecutor.execute()</em> method.</p>\n\n<p>This method looks like this:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class BashCommandExecutor\n{\n    String execute(String bashCommand)\n    {\n        Process p = null;\n        try {\n            p = Runtime.getRuntime().exec(bashCommand);\n            p.waitFor();\n        }\n        catch (InterruptedException | IOException e) {\n            e.printStackTrace();\n        }\n\n        BufferedReader reader = new BufferedReader(\n            new InputStreamReader(p.getInputStream())\n        );\n\n        String line = \"\";\n        StringBuilder sb = new StringBuilder();\n        try {\n            while ((line = reader.readLine())!= null) {\n                sb.append(line + \"\\n\");\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>Why does resizing work in command line, but doesn't work in Java app?</p>\n"},{"tags":["java","discord4j"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633700124,"creation_date":1633700124,"answer_id":69496725,"question_id":69396617,"body_markdown":"This is because you receive a `MessageCreateEvent` for all messages you send with the bot as well. Since your message is `createMessage(&quot;test!&quot;)`, you will also receive a message where `getContent()` returns `&quot;test!&quot;`. This will obviously result in `&quot;test!&quot;.contains(&quot;test&quot;)` but not `&quot;test!&quot;.equals(&quot;test&quot;)`.\r\n\r\nThis can be prevented by checking if the message author is a bot. \r\n\r\n```java\r\nfilter(message -&gt; !message.getAuthor().map(User::isBot).orElse(true))\r\n```","title":"Discord4J issue: sending messages in a loop instead","body":"<p>This is because you receive a <code>MessageCreateEvent</code> for all messages you send with the bot as well. Since your message is <code>createMessage(&quot;test!&quot;)</code>, you will also receive a message where <code>getContent()</code> returns <code>&quot;test!&quot;</code>. This will obviously result in <code>&quot;test!&quot;.contains(&quot;test&quot;)</code> but not <code>&quot;test!&quot;.equals(&quot;test&quot;)</code>.</p>\n<p>This can be prevented by checking if the message author is a bot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>filter(message -&gt; !message.getAuthor().map(User::isBot).orElse(true))\n</code></pre>\n"}],"owner":{"account_id":22225212,"reputation":73,"user_id":16462274,"display_name":"MichaPehlivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69496725,"answer_count":1,"score":0,"last_activity_date":1633700124,"creation_date":1633023292,"question_id":69396617,"body_markdown":"Below is the code I used for a test command in Discord4J\r\n\r\n    gateway.on(MessageCreateEvent.class)\r\n                .map(MessageCreateEvent::getMessage)\r\n                .filter(message -&gt; message.getContent().contains(&quot;test&quot;))\r\n                .flatMap(Message::getChannel)\r\n                .flatMap(channel -&gt; channel.createMessage(&quot;test!&quot;))\r\n                .subscribe();\r\n\r\nbut now if you type &quot;test&quot; in discord, it keeps sending messages, instead of a single message like I would expect. What&#39;s the issue here? It does work with equals() and equalsignorecase(), but with all other String checking methods it goes into a loop.\r\n","title":"Discord4J issue: sending messages in a loop instead","body":"<p>Below is the code I used for a test command in Discord4J</p>\n<pre><code>gateway.on(MessageCreateEvent.class)\n            .map(MessageCreateEvent::getMessage)\n            .filter(message -&gt; message.getContent().contains(&quot;test&quot;))\n            .flatMap(Message::getChannel)\n            .flatMap(channel -&gt; channel.createMessage(&quot;test!&quot;))\n            .subscribe();\n</code></pre>\n<p>but now if you type &quot;test&quot; in discord, it keeps sending messages, instead of a single message like I would expect. What's the issue here? It does work with equals() and equalsignorecase(), but with all other String checking methods it goes into a loop.</p>\n"},{"tags":["java","inputmismatchexception"],"comments":[{"owner":{"account_id":9585350,"reputation":3325,"user_id":7118342,"display_name":"Harmandeep Singh Kalsi"},"score":0,"creation_date":1582224784,"post_id":60326657,"comment_id":106713433,"body_markdown":",could you try using scanner.nextLine instead od scanner.next() , as I can see in your toolName there is space . Please refer this for difference between next and nextLine . https://stackoverflow.com/questions/22458575/whats-the-difference-between-next-and-nextline-methods-from-scanner-class","body":",could you try using scanner.nextLine instead od scanner.next() , as I can see in your toolName there is space . Please refer this for difference between next and nextLine . <a href=\"https://stackoverflow.com/questions/22458575/whats-the-difference-between-next-and-nextline-methods-from-scanner-class\" title=\"whats the difference between next and nextline methods from scanner class\">stackoverflow.com/questions/22458575/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582225232,"creation_date":1582224814,"answer_id":60326757,"question_id":60326657,"body_markdown":"The issue here is that your lines are not ending with a comma and there are newlines. \r\n\r\nThis is what your program is interpreting the first two lines of your input as:\r\n\r\n    Makita BHP452RFWX,RD2001, 12 ,false,14995,1800\\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200\r\n\r\nNotice how there is no comma after 1800? There is a `\\n` which denotes a newline.\r\n\r\nEdit: I&#39;m also noticing spaces after some commas, so that would likely be messing with things also. Try out Eng.Fouad&#39;s answer as it addresses my concerns.","title":"why is it giving me an java.util.InputMismatchException when i run this code when I use a text file with the text (shown underneath)","body":"<p>The issue here is that your lines are not ending with a comma and there are newlines. </p>\n\n<p>This is what your program is interpreting the first two lines of your input as:</p>\n\n<pre><code>Makita BHP452RFWX,RD2001, 12 ,false,14995,1800\\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200\n</code></pre>\n\n<p>Notice how there is no comma after 1800? There is a <code>\\n</code> which denotes a newline.</p>\n\n<p>Edit: I'm also noticing spaces after some commas, so that would likely be messing with things also. Try out Eng.Fouad's answer as it addresses my concerns.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1582225140,"creation_date":1582225140,"answer_id":60326832,"question_id":60326657,"body_markdown":"You should change the delimiter to include optional spaces around commas, and the new line characters as well. Something like this:\r\n\r\n    scanner.useDelimiter(&quot;(\\\\s*,\\\\s*)|(\\r\\n)|(\\n)&quot;);","title":"why is it giving me an java.util.InputMismatchException when i run this code when I use a text file with the text (shown underneath)","body":"<p>You should change the delimiter to include optional spaces around commas, and the new line characters as well. Something like this:</p>\n\n<pre><code>scanner.useDelimiter(\"(\\\\s*,\\\\s*)|(\\r\\n)|(\\n)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434783,"reputation":1779,"user_id":2124961,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582225925,"creation_date":1582225550,"answer_id":60326936,"question_id":60326657,"body_markdown":"You get the InputMismatchException in ```int timesBorrowed = scanner.nextInt()``` for the first line of the input file. The error is caused by the spaces around the comma.\r\n\r\nChange the delimiter to ``` *, *``` then any number of spaces around the comma become part of the delimiter and thus get removed. Instead of the spaces you may also use ```\\\\s``` which covers all whitespaces (space and tabs).\r\n\r\nThen you get the exception in line ```int weight = scanner.nextInt()``` again for the first line of the input file, because the ```1800``` is followed by a line break. So what you need is a delimiter which also matches the line breaks: ```( *, *)|[\\r\\n]+```\r\n\r\nThe regular expression means: Either a comma surrounded by any number of spaces or at least one consecutive line break. Note that Unix files have usually only ```\\n``` while Windows file have usually both characters ```\\r\\n``` in each line break. So that expression covers both file formats and also skips empty lines.\r\n\r\nHere is a full example which works:\r\n```\r\npublic class Main\r\n{\r\n\r\n    public static void readToolData(String fileName) throws FileNotFoundException\r\n    {\r\n        File dataFile = new File(fileName);\r\n        Scanner scanner = new Scanner(dataFile);\r\n        scanner.useDelimiter(&quot;( *, *)|[\\r\\n]+&quot;);\r\n        while (scanner.hasNext())\r\n        {\r\n            String toolName = scanner.next();\r\n            String itemCode = scanner.next();\r\n            int timesBorrowed = scanner.nextInt();\r\n            boolean onLoan = scanner.nextBoolean();\r\n            int cost = scanner.nextInt();\r\n            int weight = scanner.nextInt();\r\n            System.out.println(&quot;toolName=&quot; + toolName + &quot;, weight=&quot; + weight);\r\n        }\r\n        scanner.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws FileNotFoundException\r\n    {\r\n        readToolData(&quot;/home/stefan/Programmierung/PC-Java/test/src/test.txt&quot;);\r\n    }\r\n}\r\n```\r\n","title":"why is it giving me an java.util.InputMismatchException when i run this code when I use a text file with the text (shown underneath)","body":"<p>You get the InputMismatchException in <code>int timesBorrowed = scanner.nextInt()</code> for the first line of the input file. The error is caused by the spaces around the comma.</p>\n\n<p>Change the delimiter to <code>*, *</code> then any number of spaces around the comma become part of the delimiter and thus get removed. Instead of the spaces you may also use <code>\\\\s</code> which covers all whitespaces (space and tabs).</p>\n\n<p>Then you get the exception in line <code>int weight = scanner.nextInt()</code> again for the first line of the input file, because the <code>1800</code> is followed by a line break. So what you need is a delimiter which also matches the line breaks: <code>( *, *)|[\\r\\n]+</code></p>\n\n<p>The regular expression means: Either a comma surrounded by any number of spaces or at least one consecutive line break. Note that Unix files have usually only <code>\\n</code> while Windows file have usually both characters <code>\\r\\n</code> in each line break. So that expression covers both file formats and also skips empty lines.</p>\n\n<p>Here is a full example which works:</p>\n\n<pre><code>public class Main\n{\n\n    public static void readToolData(String fileName) throws FileNotFoundException\n    {\n        File dataFile = new File(fileName);\n        Scanner scanner = new Scanner(dataFile);\n        scanner.useDelimiter(\"( *, *)|[\\r\\n]+\");\n        while (scanner.hasNext())\n        {\n            String toolName = scanner.next();\n            String itemCode = scanner.next();\n            int timesBorrowed = scanner.nextInt();\n            boolean onLoan = scanner.nextBoolean();\n            int cost = scanner.nextInt();\n            int weight = scanner.nextInt();\n            System.out.println(\"toolName=\" + toolName + \", weight=\" + weight);\n        }\n        scanner.close();\n    }\n\n    public static void main(String[] args) throws FileNotFoundException\n    {\n        readToolData(\"/home/stefan/Programmierung/PC-Java/test/src/test.txt\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434783,"reputation":1779,"user_id":2124961,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582308047,"creation_date":1582308047,"answer_id":60344044,"question_id":60326657,"body_markdown":"If you read the file line by line you can add additional checks, e.g. filter out comments (lines starting with &quot;//&quot; in this case):\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n\r\n    public static void readToolData(String fileName) throws FileNotFoundException\r\n    {\r\n        File dataFile = new File(fileName);\r\n        Scanner scanner = new Scanner(dataFile);\r\n        while (scanner.hasNext())\r\n        {\r\n            String line = scanner.nextLine().trim();\r\n            if (line.isEmpty() || line.startsWith(&quot;//&quot;))\r\n            {\r\n                // skip this line\r\n                continue;\r\n            }\r\n\r\n            // Split the line\r\n            String[] parts = line.split(&quot; *, *&quot;);\r\n\r\n            String toolName = parts[0];\r\n            String itemCode = parts[1];\r\n            int timesBorrowed = Integer.parseInt(parts[2]);\r\n            boolean onLoan = Boolean.parseBoolean(parts[3]);\r\n            int cost = Integer.parseInt(parts[4]);\r\n            int weight = Integer.parseInt(parts[5]);\r\n\r\n            System.out.println(&quot;toolName=&quot; + toolName + &quot;, weight=&quot; + weight);\r\n        }\r\n        scanner.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws FileNotFoundException\r\n    {\r\n        readToolData(&quot;/home/stefan/Programmierung/PC-Java/test/src/test.txt&quot;);\r\n    }\r\n}\r\n```","title":"why is it giving me an java.util.InputMismatchException when i run this code when I use a text file with the text (shown underneath)","body":"<p>If you read the file line by line you can add additional checks, e.g. filter out comments (lines starting with \"//\" in this case):</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Main\n{\n\n    public static void readToolData(String fileName) throws FileNotFoundException\n    {\n        File dataFile = new File(fileName);\n        Scanner scanner = new Scanner(dataFile);\n        while (scanner.hasNext())\n        {\n            String line = scanner.nextLine().trim();\n            if (line.isEmpty() || line.startsWith(\"//\"))\n            {\n                // skip this line\n                continue;\n            }\n\n            // Split the line\n            String[] parts = line.split(\" *, *\");\n\n            String toolName = parts[0];\n            String itemCode = parts[1];\n            int timesBorrowed = Integer.parseInt(parts[2]);\n            boolean onLoan = Boolean.parseBoolean(parts[3]);\n            int cost = Integer.parseInt(parts[4]);\n            int weight = Integer.parseInt(parts[5]);\n\n            System.out.println(\"toolName=\" + toolName + \", weight=\" + weight);\n        }\n        scanner.close();\n    }\n\n    public static void main(String[] args) throws FileNotFoundException\n    {\n        readToolData(\"/home/stefan/Programmierung/PC-Java/test/src/test.txt\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17809376,"reputation":21,"user_id":12934362,"display_name":"azzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":60326832,"answer_count":4,"score":1,"last_activity_date":1633699286,"creation_date":1582224386,"question_id":60326657,"body_markdown":"    import java.util.*;\r\n    \r\n    public void readToolData(String fileName) throws FileNotFoundException\r\n    {\r\n        File dataFile = new File(fileName);\r\n        Scanner scanner = new Scanner(dataFile);\r\n        scanner.useDelimiter(&quot;,&quot;);\r\n        \r\n        while( scanner.hasNext() )\r\n        {\r\n            String toolName = scanner.next();\r\n            String itemCode = scanner.next();\r\n            int timesBorrowed = scanner.nextInt();\r\n            boolean onLoan = scanner.nextBoolean();\r\n            int cost = scanner.nextInt();\r\n            int weight = scanner.nextInt();\r\n            storeTool(new Tool(toolName, itemCode, timesBorrowed, onLoan, cost, weight));\r\n        }\r\n        \r\n        scanner.close();\r\n    }\r\n\r\n\r\nFile:\r\n    \r\n    Makita BHP452RFWX,RD2001, 12 ,false,14995,1800\r\n    Flex Impact Screwdriver FIS439,RD2834,14,true,13499,1200\r\n    DeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400\r\n    Milwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000\r\n    Bosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820\r\n    Bosch GSB19-2REA Percussion Drill,RD8654,85,false,19999,4567\r\n    Flex Impact Screwdriver FIS439, RD2835,14,false,13499,1200\r\n    DeWalt DW936 Circular Saw,RD4352,18,false,19999,3300\r\n    Sparky FK652 Wall Chaser,RD7625,15,false,29994,8400\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n","title":"why is it giving me an java.util.InputMismatchException when i run this code when I use a text file with the text (shown underneath)","body":"<pre><code>import java.util.*;\n\npublic void readToolData(String fileName) throws FileNotFoundException\n{\n    File dataFile = new File(fileName);\n    Scanner scanner = new Scanner(dataFile);\n    scanner.useDelimiter(\",\");\n\n    while( scanner.hasNext() )\n    {\n        String toolName = scanner.next();\n        String itemCode = scanner.next();\n        int timesBorrowed = scanner.nextInt();\n        boolean onLoan = scanner.nextBoolean();\n        int cost = scanner.nextInt();\n        int weight = scanner.nextInt();\n        storeTool(new Tool(toolName, itemCode, timesBorrowed, onLoan, cost, weight));\n    }\n\n    scanner.close();\n}\n</code></pre>\n\n<p>File:</p>\n\n<pre><code>Makita BHP452RFWX,RD2001, 12 ,false,14995,1800\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200\nDeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400\nMilwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000\nBosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820\nBosch GSB19-2REA Percussion Drill,RD8654,85,false,19999,4567\nFlex Impact Screwdriver FIS439, RD2835,14,false,13499,1200\nDeWalt DW936 Circular Saw,RD4352,18,false,19999,3300\nSparky FK652 Wall Chaser,RD7625,15,false,29994,8400\n</code></pre>\n"},{"tags":["java","sockets","cmd","apache-zookeeper","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":22972076,"reputation":76,"user_id":17100275,"display_name":"Rahul Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633699090,"creation_date":1633699090,"answer_id":69496493,"question_id":69493978,"body_markdown":"In order to start kafka\r\n1) start zookeeper\r\n2) start kafka server\r\n\r\nKafka server depends on zookeeper.\r\nIn order to learn the flow go through the below mentioned site,\r\nhttps://www.javainuse.com/misc/apache-kafka-hello-world","title":"kafka dont work for me using for first time Connection refused .ZooKeeperClient","body":"<p>In order to start kafka</p>\n<ol>\n<li>start zookeeper</li>\n<li>start kafka server</li>\n</ol>\n<p>Kafka server depends on zookeeper.\nIn order to learn the flow go through the below mentioned site,\n<a href=\"https://www.javainuse.com/misc/apache-kafka-hello-world\" rel=\"nofollow noreferrer\">https://www.javainuse.com/misc/apache-kafka-hello-world</a></p>\n"}],"owner":{"account_id":13267097,"reputation":1,"user_id":9673625,"display_name":"Akrimi Zoulfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633699090,"creation_date":1633686913,"question_id":69493978,"body_markdown":"i Install kafka for first time.\r\ni want to start it . \r\nwhen i run  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties \r\ni get this result \r\n```\r\n[2021-10-08 10:03:43,563] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:44,693] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:46,743] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:47,873] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:49,928] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:51,043] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:53,093] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:54,233] INFO Opening socket connection to server localhost/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:56,283] INFO Socket error occurred: localhost/127.0.0.1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:57,403] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:59,443] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:59,523] INFO [ZooKeeperClient Kafka server] Closing. (kafka.zookeeper.ZooKeeperClient)\r\n[2021-10-08 10:03:59,683] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\r\n[2021-10-08 10:03:59,693] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\r\n[2021-10-08 10:03:59,708] INFO [ZooKeeperClient Kafka server] Closed. (kafka.zookeeper.ZooKeeperClient)\r\n[2021-10-08 10:03:59,713] ERROR Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\r\nkafka.zookeeper.ZooKeeperClientTimeoutException: Timed out waiting for connection while in state: CONNECTING\r\n        at kafka.zookeeper.ZooKeeperClient.waitUntilConnected(ZooKeeperClient.scala:271)\r\n        at kafka.zookeeper.ZooKeeperClient.&lt;init&gt;(ZooKeeperClient.scala:125)\r\n        at kafka.zk.KafkaZkClient$.apply(KafkaZkClient.scala:1948)\r\n        at kafka.server.KafkaServer.createZkClient$1(KafkaServer.scala:431)\r\n        at kafka.server.KafkaServer.initZkClient(KafkaServer.scala:456)\r\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:191)\r\n        at kafka.Kafka$.main(Kafka.scala:109)\r\n        at kafka.Kafka.main(Kafka.scala)\r\n[2021-10-08 10:03:59,723] INFO shutting down (kafka.server.KafkaServer)\r\n[2021-10-08 10:03:59,743] INFO App info kafka.server for 0 unregistered (org.apache.kafka.common.utils.AppInfoParser)\r\n[2021-10-08 10:03:59,743] INFO shut down completed (kafka.server.KafkaServer)\r\n[2021-10-08 10:03:59,743] ERROR Exiting Kafka. (kafka.Kafka$)\r\n[2021-10-08 10:03:59,752] INFO shutting down (kafka.server.KafkaServer)\r\n```\r\n","title":"kafka dont work for me using for first time Connection refused .ZooKeeperClient","body":"<p>i Install kafka for first time.\ni want to start it .\nwhen i run  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\ni get this result</p>\n<pre><code>[2021-10-08 10:03:43,563] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:44,693] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:46,743] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:47,873] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:49,928] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:51,043] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:53,093] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:54,233] INFO Opening socket connection to server localhost/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:56,283] INFO Socket error occurred: localhost/127.0.0.1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:57,403] INFO Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:59,443] INFO Socket error occurred: localhost/0:0:0:0:0:0:0:1:2181: Connection refused: no further information (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:59,523] INFO [ZooKeeperClient Kafka server] Closing. (kafka.zookeeper.ZooKeeperClient)\n[2021-10-08 10:03:59,683] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\n[2021-10-08 10:03:59,693] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\n[2021-10-08 10:03:59,708] INFO [ZooKeeperClient Kafka server] Closed. (kafka.zookeeper.ZooKeeperClient)\n[2021-10-08 10:03:59,713] ERROR Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\nkafka.zookeeper.ZooKeeperClientTimeoutException: Timed out waiting for connection while in state: CONNECTING\n        at kafka.zookeeper.ZooKeeperClient.waitUntilConnected(ZooKeeperClient.scala:271)\n        at kafka.zookeeper.ZooKeeperClient.&lt;init&gt;(ZooKeeperClient.scala:125)\n        at kafka.zk.KafkaZkClient$.apply(KafkaZkClient.scala:1948)\n        at kafka.server.KafkaServer.createZkClient$1(KafkaServer.scala:431)\n        at kafka.server.KafkaServer.initZkClient(KafkaServer.scala:456)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:191)\n        at kafka.Kafka$.main(Kafka.scala:109)\n        at kafka.Kafka.main(Kafka.scala)\n[2021-10-08 10:03:59,723] INFO shutting down (kafka.server.KafkaServer)\n[2021-10-08 10:03:59,743] INFO App info kafka.server for 0 unregistered (org.apache.kafka.common.utils.AppInfoParser)\n[2021-10-08 10:03:59,743] INFO shut down completed (kafka.server.KafkaServer)\n[2021-10-08 10:03:59,743] ERROR Exiting Kafka. (kafka.Kafka$)\n[2021-10-08 10:03:59,752] INFO shutting down (kafka.server.KafkaServer)\n</code></pre>\n"},{"tags":["java","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633698835,"creation_date":1633698835,"answer_id":69496430,"question_id":69487418,"body_markdown":"The `DataUtilities` class provides a [`defaultValues(SimpleFeatureType )`][1] method that you can call to get the value defined in the `PropertyDescriptor` (though by default this is null). You can define the default value for any or all of your attributes in your `SimpleFeatureType`. \r\n\r\nI would use some code like:\r\n\r\n    SimpleFeatureTypeBuilder sftb = new SimpleFeatureTypeBuilder();\r\n    sftb.setName(&quot;test&quot;);\r\n    sftb.add(&quot;id&quot;, Integer.class);\r\n    sftb.defaultValue(&quot;String&quot;);\r\n    sftb.add(&quot;desc&quot;, String.class);\r\n    SimpleFeatureType schema = sftb.buildFeatureType();\r\n    SimpleFeatureBuilder sfb = new SimpleFeatureBuilder(schema);\r\n    sfb.addAll(DataUtilities.defaultValues(schema));\r\n    sfb.set(&quot;id&quot;, 23);\r\n    SimpleFeature f = sfb.buildFeature(&quot;test.1&quot;);\r\n    System.out.println(f);\r\n\r\nWhich produces a feature like:\r\n\r\n    SimpleFeatureImpl:test=[SimpleFeatureImpl.Attribute: id&lt;id id=test.1&gt;=23,\r\n     SimpleFeatureImpl.Attribute: desc&lt;desc id=test.1&gt;=String]\r\n\r\n  [1]: https://github.com/geotools/geotools/blob/de6f05cd4ef69523e6ff14e4658d3db92e740b10/modules/library/main/src/main/java/org/geotools/data/DataUtilities.java#L784","title":"geotools - Is it possible to skip columns when inserting new SimpleFeature using JDBCDataStore","body":"<p>The <code>DataUtilities</code> class provides a <a href=\"https://github.com/geotools/geotools/blob/de6f05cd4ef69523e6ff14e4658d3db92e740b10/modules/library/main/src/main/java/org/geotools/data/DataUtilities.java#L784\" rel=\"nofollow noreferrer\"><code>defaultValues(SimpleFeatureType )</code></a> method that you can call to get the value defined in the <code>PropertyDescriptor</code> (though by default this is null). You can define the default value for any or all of your attributes in your <code>SimpleFeatureType</code>.</p>\n<p>I would use some code like:</p>\n<pre><code>SimpleFeatureTypeBuilder sftb = new SimpleFeatureTypeBuilder();\nsftb.setName(&quot;test&quot;);\nsftb.add(&quot;id&quot;, Integer.class);\nsftb.defaultValue(&quot;String&quot;);\nsftb.add(&quot;desc&quot;, String.class);\nSimpleFeatureType schema = sftb.buildFeatureType();\nSimpleFeatureBuilder sfb = new SimpleFeatureBuilder(schema);\nsfb.addAll(DataUtilities.defaultValues(schema));\nsfb.set(&quot;id&quot;, 23);\nSimpleFeature f = sfb.buildFeature(&quot;test.1&quot;);\nSystem.out.println(f);\n</code></pre>\n<p>Which produces a feature like:</p>\n<pre><code>SimpleFeatureImpl:test=[SimpleFeatureImpl.Attribute: id&lt;id id=test.1&gt;=23,\n SimpleFeatureImpl.Attribute: desc&lt;desc id=test.1&gt;=String]\n</code></pre>\n"}],"owner":{"account_id":195078,"reputation":209,"user_id":437774,"display_name":"Geert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69496430,"answer_count":1,"score":0,"last_activity_date":1633698835,"creation_date":1633638206,"question_id":69487418,"body_markdown":"In our application (Java, Geotools 25, PostGIS) we have forms where the user can input some data which will be used to create a new features. In the database (PostGIS) there are more columns than there are fields so some columns will be empty. For some of these &#39;empty&#39; columns there are default values defined in the database. Geotools however seems to always insert null for these columns.\r\n\r\nIn code I have a ```SimpleFeatureStore``` and I create a ```SimpleFeature``` based on the user input. When I&#39;m inserting new Features (```store.addFeatures()```) the final SQL that is created by Geotools is an ```INSERT INTO``` statement which contains ```null``` values for all the columns which are not &#39;in the form&#39;, but again some of these have default values in the DB. Since Geotools explicitly sets the value to ```null``` the default value is never used.\r\n\r\nIs there a fix or workaround I can try to resolve this issue so I can just let the DB insert default values when no value is supplied?","title":"geotools - Is it possible to skip columns when inserting new SimpleFeature using JDBCDataStore","body":"<p>In our application (Java, Geotools 25, PostGIS) we have forms where the user can input some data which will be used to create a new features. In the database (PostGIS) there are more columns than there are fields so some columns will be empty. For some of these 'empty' columns there are default values defined in the database. Geotools however seems to always insert null for these columns.</p>\n<p>In code I have a <code>SimpleFeatureStore</code> and I create a <code>SimpleFeature</code> based on the user input. When I'm inserting new Features (<code>store.addFeatures()</code>) the final SQL that is created by Geotools is an <code>INSERT INTO</code> statement which contains <code>null</code> values for all the columns which are not 'in the form', but again some of these have default values in the DB. Since Geotools explicitly sets the value to <code>null</code> the default value is never used.</p>\n<p>Is there a fix or workaround I can try to resolve this issue so I can just let the DB insert default values when no value is supplied?</p>\n"},{"tags":["java","inputstream","nio","bytearrayinputstream","gzipoutputstream"],"comments":[{"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"score":0,"creation_date":1633682336,"post_id":69492870,"comment_id":122829887,"body_markdown":"Can you add the exception stacktrace as well?","body":"Can you add the exception stacktrace as well?"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":1,"creation_date":1633682482,"post_id":69492870,"comment_id":122829944,"body_markdown":"You are writing the complete zip-file to memory, so your heap has to be larger than your maximum zip-file-size - and when used in parallel larger than the sum of all maximum zip-file-sizes...","body":"You are writing the complete zip-file to memory, so your heap has to be larger than your maximum zip-file-size - and when used in parallel larger than the sum of all maximum zip-file-sizes..."},{"owner":{"account_id":4066772,"reputation":945,"user_id":3341400,"accept_rate":67,"display_name":"mwKART"},"score":0,"creation_date":1633683785,"post_id":69492870,"comment_id":122830412,"body_markdown":"As mentioned in the edit I am writing the same to a remote folder","body":"As mentioned in the edit I am writing the same to a remote folder"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1633683885,"post_id":69492870,"comment_id":122830439,"body_markdown":"@mwKART: yes, but **before** you do that, you write it all to an `ByteArrayOutputStream`. So instead of streaming directly to your remote folder, you have to hold everything in memory. You should 1. get an `OutputStream` to write to for the remote filesystem and then 2. create the `ZipOutputStream` by directly wrapping that instead of a `ByteArrayOutputStream`.","body":"@mwKART: yes, but <b>before</b> you do that, you write it all to an <code>ByteArrayOutputStream</code>. So instead of streaming directly to your remote folder, you have to hold everything in memory. You should 1. get an <code>OutputStream</code> to write to for the remote filesystem and then 2. create the <code>ZipOutputStream</code> by directly wrapping that instead of a <code>ByteArrayOutputStream</code>."},{"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"score":0,"creation_date":1633684676,"post_id":69492870,"comment_id":122830720,"body_markdown":"as per the code and this line  `return new ByteArrayInputStream(byteArrayOutputStream.toByteArray());` everything is still in the memory. `ByteArrayOutputStream` will keep everything in memory until everything is written and flushed. So if the data is larger than your heap size you are eventually going to run into an OME.","body":"as per the code and this line  <code>return new ByteArrayInputStream(byteArrayOutputStream.toByteArray());</code> everything is still in the memory. <code>ByteArrayOutputStream</code> will keep everything in memory until everything is written and flushed. So if the data is larger than your heap size you are eventually going to run into an OME."},{"owner":{"account_id":4066772,"reputation":945,"user_id":3341400,"accept_rate":67,"display_name":"mwKART"},"score":0,"creation_date":1633698190,"post_id":69492870,"comment_id":122835871,"body_markdown":"Thanks, All. the issue was `ByteArrayOutputStream`. More detail in the answer.","body":"Thanks, All. the issue was <code>ByteArrayOutputStream</code>. More detail in the answer."}],"answers":[{"tags":[],"owner":{"account_id":4066772,"reputation":945,"user_id":3341400,"accept_rate":67,"display_name":"mwKART"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633698833,"creation_date":1633698833,"answer_id":69496429,"question_id":69492870,"body_markdown":"Changed the implementation to write the file into a file in local path and then send that file to sftp and then delete the temp zip file. \r\n\r\n    public void compressToZip(String s3folderName, Set&lt;Path&gt; distinctPaths, String efsPathWithFileName) throws Exception {\r\n\t\ttry(FileOutputStream fos = new FileOutputStream(efsPathWithFileName);\r\n\t\t\tZipOutputStream zos = new ZipOutputStream(fos)) {\r\n\t\t\tdistinctPaths.forEach(path -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tzos.putNextEntry(new ZipEntry(path.getFileName().toString()));\r\n\t\t\t\t\tfinal FileInputStream fis = new FileInputStream(path.toFile());\r\n\t\t\t\t\tIOUtils.copy(fis, zos);\r\n\t\t\t\t\tzos.closeEntry();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (Exception e) {\r\n\t\t\t...\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n    \r\ncalling method:\r\n\r\n    InputStream zippedIpStream = new FileInputStream(tempCompressedFilePath);\r\n\tsession.write(zippedIpStream, deliveryLocation.getLocation().getFolder() + &quot;/&quot; + fileNameToWrite);\r\n\t...\r\n    ...\t\t\t\t\t\t\r\n\tzippedIpStream.close();\r\n    ...\r\n    ...\r\n\tFiles.deleteIfExists(Paths.get(tempCompressedFilePath));","title":"Java heap out of memory issue while zipping list of nio paths","body":"<p>Changed the implementation to write the file into a file in local path and then send that file to sftp and then delete the temp zip file.</p>\n<pre><code>public void compressToZip(String s3folderName, Set&lt;Path&gt; distinctPaths, String efsPathWithFileName) throws Exception {\n    try(FileOutputStream fos = new FileOutputStream(efsPathWithFileName);\n        ZipOutputStream zos = new ZipOutputStream(fos)) {\n        distinctPaths.forEach(path -&gt; {\n            try {\n                zos.putNextEntry(new ZipEntry(path.getFileName().toString()));\n                final FileInputStream fis = new FileInputStream(path.toFile());\n                IOUtils.copy(fis, zos);\n                zos.closeEntry();\n            } catch (IOException e) {\n                ...\n            }\n        });\n    } catch (Exception e) {\n        ...\n        throw e;\n    }\n}\n</code></pre>\n<p>calling method:</p>\n<pre><code>InputStream zippedIpStream = new FileInputStream(tempCompressedFilePath);\nsession.write(zippedIpStream, deliveryLocation.getLocation().getFolder() + &quot;/&quot; + fileNameToWrite);\n...\n...                     \nzippedIpStream.close();\n...\n...\nFiles.deleteIfExists(Paths.get(tempCompressedFilePath));\n</code></pre>\n"}],"owner":{"account_id":4066772,"reputation":945,"user_id":3341400,"accept_rate":67,"display_name":"mwKART"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69496429,"answer_count":1,"score":-1,"last_activity_date":1633698833,"creation_date":1633682062,"question_id":69492870,"body_markdown":"I am asynchronously running the below method to zip the given set of nio paths. When there are multiple tasks running, java heap out of memory exception is encountered. \r\n\r\n    public InputStream compressToZip(String s3folderName, Set&lt;Path&gt; paths) throws Exception {\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\tZipOutputStream zos = new ZipOutputStream(byteArrayOutputStream);\r\n\t\t\tpaths.forEach(path -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.println(&quot;Zipping &quot; + path.getFileName());\r\n\t\t\t\t\tzos.putNextEntry(new ZipEntry(path.getFileName().toString()));\r\n\t\t\t\t\tFileInputStream ObjectInputStream = new FileInputStream(path.toFile());\r\n\t\t\t\t\tIOUtils.copy(ObjectInputStream, zos);\r\n\t\t\t\t\tzos.closeEntry();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tzos.close();\r\n\t\t\treturn new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\r\n\t\t} catch (Exception e) {\r\n\t\t\t...\r\n\t\t}\r\n\t}\r\n\r\nThe input stream returned from this file will be written on sftp location.\r\n\r\n\r\n    org.springframework.integration.file.remote.session.Session session = this.createSession(deliveryType, deliveryLocation);    \r\n    zippedIpStream = fileCompressionSvc.compressToZip(s3folderName, fileDir);\r\n\tsession.write(zippedIpStream, deliveryLocation.getLocation().getFolder() + &quot;/&quot;\r\n\t\t\t\t\t\t\t\t\t+ getfileNameFormat(fileNameFormat, masterId) + &quot;.zip&quot;);\r\n\r\nI am not sure what went wrong to occur java heap issue. Could you please assist me.","title":"Java heap out of memory issue while zipping list of nio paths","body":"<p>I am asynchronously running the below method to zip the given set of nio paths. When there are multiple tasks running, java heap out of memory exception is encountered.</p>\n<pre><code>public InputStream compressToZip(String s3folderName, Set&lt;Path&gt; paths) throws Exception {\n    try {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(byteArrayOutputStream);\n        paths.forEach(path -&gt; {\n            try {\n                System.out.println(&quot;Zipping &quot; + path.getFileName());\n                zos.putNextEntry(new ZipEntry(path.getFileName().toString()));\n                FileInputStream ObjectInputStream = new FileInputStream(path.toFile());\n                IOUtils.copy(ObjectInputStream, zos);\n                zos.closeEntry();\n            } catch (Exception e) {\n                ...\n            }\n        });\n        zos.close();\n        return new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\n    } catch (Exception e) {\n        ...\n    }\n}\n</code></pre>\n<p>The input stream returned from this file will be written on sftp location.</p>\n<pre><code>org.springframework.integration.file.remote.session.Session session = this.createSession(deliveryType, deliveryLocation);    \nzippedIpStream = fileCompressionSvc.compressToZip(s3folderName, fileDir);\nsession.write(zippedIpStream, deliveryLocation.getLocation().getFolder() + &quot;/&quot;\n                                + getfileNameFormat(fileNameFormat, masterId) + &quot;.zip&quot;);\n</code></pre>\n<p>I am not sure what went wrong to occur java heap issue. Could you please assist me.</p>\n"},{"tags":["java","maven","dependencies","httpclient"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633689177,"post_id":69494394,"comment_id":122832501,"body_markdown":"Please don&#39;t use different versions for related dependencies. That is asking for trouble.","body":"Please don&#39;t use different versions for related dependencies. That is asking for trouble."},{"owner":{"account_id":17572094,"reputation":33,"user_id":12747654,"display_name":"oxicod"},"score":0,"creation_date":1633690251,"post_id":69494394,"comment_id":122832902,"body_markdown":"@Jo&#227;oDias I changed both dependencies to 4.4, Now I got the same error on a different class\nCaused by: java.lang.ClassNotFoundException: org.apache.http.HttpRequest from [Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]","body":"@Jo&#227;oDias I changed both dependencies to 4.4, Now I got the same error on a different class Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpRequest from [Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]"}],"answers":[{"tags":[],"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633698782,"creation_date":1633691099,"answer_id":69494843,"question_id":69494394,"body_markdown":"This is probably caused by a faulty maven local repository. Try looking for your maven local repository (It&#39;s generally a hidden folder like named`.m2\\repository`), delete the folder `org\\apache\\httpcomponents` then clean compile your project.\r\n\r\n---\r\n**Edit:**\r\nAfter further explanation of the problem, it seems that this is a deployment issue not a build one.\r\n\r\nIf it&#39;s the first time that you use this package in your build, then this package&#39;s jar must be defined somewhere in the deployment server, it seems that you are deploying in an Adobe environment which seems to be based on JBoss because of that line of log that you provided \r\n```\r\n[Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]\r\n```\r\n\r\nMake sure to read the documentation of that environment on how to configure and define external modules.","title":"ClassNotFoundException on Maven Dependency Class org.apache.http.client","body":"<p>This is probably caused by a faulty maven local repository. Try looking for your maven local repository (It's generally a hidden folder like named<code>.m2\\repository</code>), delete the folder <code>org\\apache\\httpcomponents</code> then clean compile your project.</p>\n<hr />\n<p><strong>Edit:</strong>\nAfter further explanation of the problem, it seems that this is a deployment issue not a build one.</p>\n<p>If it's the first time that you use this package in your build, then this package's jar must be defined somewhere in the deployment server, it seems that you are deploying in an Adobe environment which seems to be based on JBoss because of that line of log that you provided</p>\n<pre><code>[Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]\n</code></pre>\n<p>Make sure to read the documentation of that environment on how to configure and define external modules.</p>\n"}],"owner":{"account_id":17572094,"reputation":33,"user_id":12747654,"display_name":"oxicod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633698782,"creation_date":1633688915,"question_id":69494394,"body_markdown":"I&#39;m trying to build a simple API client, which uses `org.apache.http`for connecting to the API server. Locally everything works fine. I&#39;m successfully connecting to the server and receive the data I want.\r\n\r\nBut, when I deploy my application to the server. I&#39;m getting following exception:\r\n`Caused by: java.lang.ClassNotFoundException: org.apache.http.client.ClientProtocolException from [Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]`\r\n\r\nI tried multiple different variants of versions of my depencies. Right now im using the following:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.4.3&lt;/version&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n    \t\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBoth of the JARs appear in my Java Build Path, also the class which is &quot;missing&quot; is found in there.\r\nEven when I build the project and search the JAR files libs folder, I can find the class...\r\n\r\nI know there are some solutions to find online but none of them helped me.","title":"ClassNotFoundException on Maven Dependency Class org.apache.http.client","body":"<p>I'm trying to build a simple API client, which uses <code>org.apache.http</code>for connecting to the API server. Locally everything works fine. I'm successfully connecting to the server and receive the data I want.</p>\n<p>But, when I deploy my application to the server. I'm getting following exception:\n<code>Caused by: java.lang.ClassNotFoundException: org.apache.http.client.ClientProtocolException from [Module &quot;deployment.adobe-livecycle-jboss.ear:main&quot; from Service Module Loader]</code></p>\n<p>I tried multiple different variants of versions of my depencies. Right now im using the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;version&gt;4.4.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.1&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Both of the JARs appear in my Java Build Path, also the class which is &quot;missing&quot; is found in there.\nEven when I build the project and search the JAR files libs folder, I can find the class...</p>\n<p>I know there are some solutions to find online but none of them helped me.</p>\n"},{"tags":["java","spring-boot","jackson","apache-camel"],"comments":[{"owner":{"account_id":1526071,"reputation":878,"user_id":1424488,"display_name":"fkurth"},"score":0,"creation_date":1600153168,"post_id":45490796,"comment_id":112989971,"body_markdown":"Do you have an answer yet?","body":"Do you have an answer yet?"}],"owner":{"account_id":11117547,"reputation":51,"user_id":8161438,"display_name":"marusia.ua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1633698714,"creation_date":1501780705,"question_id":45490796,"body_markdown":"I have a SpringBoot application, using Camel for routing.\r\nFor configuring jackson xmlMapper, I have the following spring bean:\r\n\r\n    @Bean\r\n    public XmlMapper xmlMapper() {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        return xmlMapper;\r\n    }\r\nAnd I want Camel to use this mapper when unmarshalling received POJOs as following:\r\n\r\n    from(&quot;direct:myRoute&quot;)\r\n         .marshal().jacksonxml()\r\n         .inOnly(&quot;activemq:outputQueue&quot;);\r\n\r\nBut it doesn&#39;t work this way: null fields are present in marshalled xml.\r\nCamel documentation offers to use JacksonXMLDataFormat as following:\r\n\r\n    JacksonXMLDataFormat format = new JacksonXMLDataFormat();\r\n    format.setInclude(&quot;NON_NULL&quot;);\r\n    from(&quot;direct:myRoute&quot;)\r\n         .marshal(format)\r\n         .inOnly(&quot;activemq:outputQueue&quot;);\r\nIt works, but I have to specify dataFormat each time I marshal something, and it gets trickier with unmarshalling.\r\n\r\nIs there a unified way to configure Camel&#39;s xmlMapper?\r\n\r\n","title":"How to configure Camel&#39;s jackson XmlMapper?","body":"<p>I have a SpringBoot application, using Camel for routing.\nFor configuring jackson xmlMapper, I have the following spring bean:</p>\n\n<pre><code>@Bean\npublic XmlMapper xmlMapper() {\n    XmlMapper xmlMapper = new XmlMapper();\n    xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n    return xmlMapper;\n}\n</code></pre>\n\n<p>And I want Camel to use this mapper when unmarshalling received POJOs as following:</p>\n\n<pre><code>from(\"direct:myRoute\")\n     .marshal().jacksonxml()\n     .inOnly(\"activemq:outputQueue\");\n</code></pre>\n\n<p>But it doesn't work this way: null fields are present in marshalled xml.\nCamel documentation offers to use JacksonXMLDataFormat as following:</p>\n\n<pre><code>JacksonXMLDataFormat format = new JacksonXMLDataFormat();\nformat.setInclude(\"NON_NULL\");\nfrom(\"direct:myRoute\")\n     .marshal(format)\n     .inOnly(\"activemq:outputQueue\");\n</code></pre>\n\n<p>It works, but I have to specify dataFormat each time I marshal something, and it gets trickier with unmarshalling.</p>\n\n<p>Is there a unified way to configure Camel's xmlMapper?</p>\n"},{"tags":["java","substring"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1633697183,"post_id":69496013,"comment_id":122835460,"body_markdown":"Look into `String.split`","body":"Look into <code>String.split</code>"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633697664,"creation_date":1633697664,"answer_id":69496182,"question_id":69496013,"body_markdown":"You can use substring with lastIndexOf and split like this:\r\n\r\n    times.substring(time.lastIndexOf(&quot;,&quot;)).split(&quot;:&quot;)[1]\r\n\r\n**Demo**\r\n\r\n    String[] times = {&quot;6:10000:first,12:12000:second,18:15000:third&quot;,\r\n            &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth&quot;,\r\n            &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth&quot;\r\n    };\r\n    for (String time : times) {\r\n        System.out.println(\r\n                time.substring(time.lastIndexOf(&quot;,&quot;)).split(&quot;:&quot;)[1]\r\n        );\r\n    }\r\n\r\n**Outputs**\r\n\r\n    15000\r\n    20000\r\n    30000","title":"Obtaining a substring value for a delimited String of unknown length","body":"<p>You can use substring with lastIndexOf and split like this:</p>\n<pre><code>times.substring(time.lastIndexOf(&quot;,&quot;)).split(&quot;:&quot;)[1]\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre><code>String[] times = {&quot;6:10000:first,12:12000:second,18:15000:third&quot;,\n        &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth&quot;,\n        &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth&quot;\n};\nfor (String time : times) {\n    System.out.println(\n            time.substring(time.lastIndexOf(&quot;,&quot;)).split(&quot;:&quot;)[1]\n    );\n}\n</code></pre>\n<p><strong>Outputs</strong></p>\n<pre><code>15000\n20000\n30000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633698168,"creation_date":1633698168,"answer_id":69496280,"question_id":69496013,"body_markdown":"You can use [regular expression][1].\r\n```java\r\nString times = &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth&quot;;\r\njava.util.regex.Pattern pttrn = java.util.regex.Pattern.compile(&quot;(\\\\d+):[a-z]+$&quot;);\r\njava.util.regex.Matcher mtchr = pttrn.matcher(times);\r\nif (mtchr.find()) {\r\n    System.out.println(mtchr.group(1));\r\n}\r\nelse {\r\n    System.out.println(&quot;Nothing found.&quot;);\r\n}\r\n```\r\nExplanation of the pattern\r\n* `(\\\\d+)` a string of one or more digits.\r\n* `:` the colon character\r\n* `[a-z]+` one or more lowercase letters\r\n* `$` the end of the input string\r\n\r\nSo the pattern looks for digits followed by a colon followed by lowercase letters at the end of the input string. It also groups the digits.\r\n\r\nIt works for every sample string in your question.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Obtaining a substring value for a delimited String of unknown length","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String times = &quot;6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth&quot;;\njava.util.regex.Pattern pttrn = java.util.regex.Pattern.compile(&quot;(\\\\d+):[a-z]+$&quot;);\njava.util.regex.Matcher mtchr = pttrn.matcher(times);\nif (mtchr.find()) {\n    System.out.println(mtchr.group(1));\n}\nelse {\n    System.out.println(&quot;Nothing found.&quot;);\n}\n</code></pre>\n<p>Explanation of the pattern</p>\n<ul>\n<li><code>(\\\\d+)</code> a string of one or more digits.</li>\n<li><code>:</code> the colon character</li>\n<li><code>[a-z]+</code> one or more lowercase letters</li>\n<li><code>$</code> the end of the input string</li>\n</ul>\n<p>So the pattern looks for digits followed by a colon followed by lowercase letters at the end of the input string. It also groups the digits.</p>\n<p>It works for every sample string in your question.</p>\n"}],"owner":{"account_id":1574741,"reputation":1753,"user_id":1461517,"accept_rate":47,"display_name":"Steerpike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69496182,"answer_count":2,"score":1,"last_activity_date":1633698321,"creation_date":1633696885,"question_id":69496013,"body_markdown":"Given the String data, delimited by `:` and comma separated\r\n\r\n    String times =  6:10000:first,12:12000:second,18:15000:third\r\n\r\nI need to get the third value from the last comma separated list, in this above case `15000` \r\n\r\nOr `20000` in the below case\r\n\r\n    String times =  6:10000:first,12:12000:second,18:15000:third,24:20000:fourth\r\n\r\nOr `30000` in the below case\r\n\r\n    String times =  \r\n             6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth\r\n\r\nSomething like:\r\n\r\n    public String getLastTimeFromCommaSeparatedList() {\r\n        return times.substring(mileages.lastIndexOf(&#39;:&#39;) + 2);\r\n    }\r\n\r\nI&#39;m unclear how I can get the value I need, given the comma separated list is of an unknown length.","title":"Obtaining a substring value for a delimited String of unknown length","body":"<p>Given the String data, delimited by <code>:</code> and comma separated</p>\n<pre><code>String times =  6:10000:first,12:12000:second,18:15000:third\n</code></pre>\n<p>I need to get the third value from the last comma separated list, in this above case <code>15000</code></p>\n<p>Or <code>20000</code> in the below case</p>\n<pre><code>String times =  6:10000:first,12:12000:second,18:15000:third,24:20000:fourth\n</code></pre>\n<p>Or <code>30000</code> in the below case</p>\n<pre><code>String times =  \n         6:10000:first,12:12000:second,18:15000:third,24:20000:fourth,30:30000:fourth\n</code></pre>\n<p>Something like:</p>\n<pre><code>public String getLastTimeFromCommaSeparatedList() {\n    return times.substring(mileages.lastIndexOf(':') + 2);\n}\n</code></pre>\n<p>I'm unclear how I can get the value I need, given the comma separated list is of an unknown length.</p>\n"},{"tags":["java","udp"],"answers":[{"tags":[],"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633698257,"creation_date":1633698257,"answer_id":69496302,"question_id":69496021,"body_markdown":"Do you have separate objects for each tank? It doesn&#39;t appear so.  It looks to me like you have one `run` loop to read messages for all 4 tanks, and all tanks are sharing the same class object fields.  If that is the case, then you are probably constantly overwriting the member fields when another packet arrives.\r\n\r\nYou should probably consider creating a separate Tank class.\r\n\r\nEG.,\r\n\r\n    class Tank\r\n    {\r\n        int x;\r\n        int y;\r\n        int direction;\r\n    }\r\n\r\nThen, create an array, list, or map of tanks.\r\n\r\n    Tank[] tanks = new Tank[4];\r\n    for(int i=0;i&lt;tanks.length;i++)\r\n    {\r\n        tanks[i] = new Tank();\r\n    }\r\n\r\nWhen you receive a message, you would have to choose what tank to update. Here is an example using an array.  \r\n\r\n    String[] msg= messagereceived.split(&quot;,&quot;);    \r\n    if(msg[0].equalsIgnoreCase(&quot;playtank&quot;)) {\r\n        tankno=Integer.parseInt(msg[1]);\r\n        // Choose which tank to update\r\n        Tank tank = tanks[tankno];\r\n        tank.x=Integer.parseInt(msg[2]);\r\n        etc...\r\n\r\nBy creating a separate object for each tank, you will keep each tank&#39;s data isolated from the others, and won&#39;t have a problem with data being overwritten.\r\n    ","title":"parsing and processing the received messages properly in java udp","body":"<p>Do you have separate objects for each tank? It doesn't appear so.  It looks to me like you have one <code>run</code> loop to read messages for all 4 tanks, and all tanks are sharing the same class object fields.  If that is the case, then you are probably constantly overwriting the member fields when another packet arrives.</p>\n<p>You should probably consider creating a separate Tank class.</p>\n<p>EG.,</p>\n<pre><code>class Tank\n{\n    int x;\n    int y;\n    int direction;\n}\n</code></pre>\n<p>Then, create an array, list, or map of tanks.</p>\n<pre><code>Tank[] tanks = new Tank[4];\nfor(int i=0;i&lt;tanks.length;i++)\n{\n    tanks[i] = new Tank();\n}\n</code></pre>\n<p>When you receive a message, you would have to choose what tank to update. Here is an example using an array.</p>\n<pre><code>String[] msg= messagereceived.split(&quot;,&quot;);    \nif(msg[0].equalsIgnoreCase(&quot;playtank&quot;)) {\n    tankno=Integer.parseInt(msg[1]);\n    // Choose which tank to update\n    Tank tank = tanks[tankno];\n    tank.x=Integer.parseInt(msg[2]);\n    etc...\n</code></pre>\n<p>By creating a separate object for each tank, you will keep each tank's data isolated from the others, and won't have a problem with data being overwritten.</p>\n"}],"owner":{"account_id":15416464,"reputation":11,"user_id":11121785,"display_name":"Recai Furfur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633698257,"creation_date":1633696917,"question_id":69496021,"body_markdown":"my multiplayer tank game has an issue. the client side tanks are not drew properly. the last one senden from server is good. but the others are blinking. i found the problem in client. when parsing the messages it gets the tanks x, y coordinates and direction with right queue. but when i send them to draw method it gets the last one. when i write the x,y coordinates in draw method the vast majority of x and y&#39;s are belong to last tank. so the last tank doesnt blink but the others are blinking. here is my code;\r\n\r\n     public void run() {\r\n    \tbyte[] data= new byte[1024];\r\n    \twhile(true) {\r\n    \ttry { \r\n    \t\t DatagramPacket packetreceived = new DatagramPacket(data, data.length);\r\n    \tsoket.receive(packetreceived); \r\n    \tmessagereceived=new String(packetreceived.getData(),0,packetreceived.getLength());\r\n    \t\r\n    \tsetmesaj(messagereceived);\r\n    \t\r\n    \tparsemessage(messagereceived);\r\n    \t\r\n    \t\r\n    \t\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t//soket.close();\r\n    }}\r\n    public String incomingmessage() {\r\n    \treturn messagereceived;\r\n    }\r\n    public void setmesaj(String messagereceived) {\r\n    \tthis.messagereceived=messagereceived;\r\n    }\r\n    \r\n    public void senddata(byte[] data) {\r\n    \t\r\n    \ttry {DatagramPacket packet = new DatagramPacket(data, data.length,host,port );\r\n    \t\tsoket.send(packet);\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public void parsemessage(String messagereceived) {\r\n    \t\r\n    \tString[] msg= messagereceived.split(&quot;,&quot;);\t \r\n    \tif(msg[0].equalsIgnoreCase(&quot;playtank&quot;)) {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\ttankno=Integer.parseInt(msg[1]);\r\n    \t\tsetTankno(Integer.parseInt(msg[1]));\r\n    \t\tswitch(tankno) {\r\n    \t\tdefault:\r\n    \t\tx=Integer.parseInt(msg[2]);\r\n    \t\ty=Integer.parseInt(msg[3]);\r\n    \t\tdirection=Integer.parseInt(msg[4]);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \tif(msg[0].equalsIgnoreCase(&quot;addnewtanks&quot;)) {\r\n    \t\tthis.tankno=Integer.parseInt(msg[1]);\r\n    \t\tthis.x=Integer.parseInt(msg[2]);\r\n    \t\tthis.y=Integer.parseInt(msg[3]);\r\n    \t\tthis.direction=Integer.parseInt(msg[4]);\r\n    \t\tthis.health=Integer.parseInt(msg[5]);\r\n    \t\tthis.say=Integer.parseInt(msg[6]);\r\n    \t\tthis.tip=Integer.parseInt(msg[7]);\r\n    \t}\r\n    \tSystem.out.println(this.x+&quot;     &quot;+this.y+&quot;     &quot;+this.tankno);\r\n    ** when i write these values, it is written properly to console everything is ok**\r\n    }\r\n    \r\n    public int getX() {\r\n    \treturn x;\r\n    }\r\n    \r\n    public void setX(int x) {\r\n    \tthis.x = x;\r\n    }\r\n    \r\n    public int getY() {\r\n    \treturn y;\r\n    }\r\n    \r\n    public void setY(int y) {\r\n    \tthis.y = y;\r\n    }\r\n    \r\n    public int getdir() {\r\n    \treturn direction;\r\n    }\r\n    \r\n    public void setdir(int direction) {\r\n    \tthis.direction = direction;\r\n    }\r\n    \r\n    public int getTankno() {\r\n    \treturn tankno;\r\n    }\r\n    \r\n    public void setTankno(int tankno) {\r\n    \tthis.tankno = tankno;\r\n    }\r\n    \r\n    public void draw(Graphics g,Bufferedimagex bf1) {\r\n    \t//System.out.println(this.x+&quot;  &quot;+this.y+&quot;   &quot;+this.tankno);\r\n    **when the values are written here most of the written value on the console is the third one (there are 0,1,2,3 tanks).**\r\n    \tg.drawImage(bf1.sprite(this.getdir()*32-32, this.tip*16), this.getX(), this.getY(), 48, 48,null); \r\n    \t\r\n    }","title":"parsing and processing the received messages properly in java udp","body":"<p>my multiplayer tank game has an issue. the client side tanks are not drew properly. the last one senden from server is good. but the others are blinking. i found the problem in client. when parsing the messages it gets the tanks x, y coordinates and direction with right queue. but when i send them to draw method it gets the last one. when i write the x,y coordinates in draw method the vast majority of x and y's are belong to last tank. so the last tank doesnt blink but the others are blinking. here is my code;</p>\n<pre><code> public void run() {\n    byte[] data= new byte[1024];\n    while(true) {\n    try { \n         DatagramPacket packetreceived = new DatagramPacket(data, data.length);\n    soket.receive(packetreceived); \n    messagereceived=new String(packetreceived.getData(),0,packetreceived.getLength());\n    \n    setmesaj(messagereceived);\n    \n    parsemessage(messagereceived);\n    \n    \n    \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    //soket.close();\n}}\npublic String incomingmessage() {\n    return messagereceived;\n}\npublic void setmesaj(String messagereceived) {\n    this.messagereceived=messagereceived;\n}\n\npublic void senddata(byte[] data) {\n    \n    try {DatagramPacket packet = new DatagramPacket(data, data.length,host,port );\n        soket.send(packet);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\n\npublic void parsemessage(String messagereceived) {\n    \n    String[] msg= messagereceived.split(&quot;,&quot;);    \n    if(msg[0].equalsIgnoreCase(&quot;playtank&quot;)) {\n        \n        \n        \n        tankno=Integer.parseInt(msg[1]);\n        setTankno(Integer.parseInt(msg[1]));\n        switch(tankno) {\n        default:\n        x=Integer.parseInt(msg[2]);\n        y=Integer.parseInt(msg[3]);\n        direction=Integer.parseInt(msg[4]);\n        }\n        \n    }\n    if(msg[0].equalsIgnoreCase(&quot;addnewtanks&quot;)) {\n        this.tankno=Integer.parseInt(msg[1]);\n        this.x=Integer.parseInt(msg[2]);\n        this.y=Integer.parseInt(msg[3]);\n        this.direction=Integer.parseInt(msg[4]);\n        this.health=Integer.parseInt(msg[5]);\n        this.say=Integer.parseInt(msg[6]);\n        this.tip=Integer.parseInt(msg[7]);\n    }\n    System.out.println(this.x+&quot;     &quot;+this.y+&quot;     &quot;+this.tankno);\n** when i write these values, it is written properly to console everything is ok**\n}\n\npublic int getX() {\n    return x;\n}\n\npublic void setX(int x) {\n    this.x = x;\n}\n\npublic int getY() {\n    return y;\n}\n\npublic void setY(int y) {\n    this.y = y;\n}\n\npublic int getdir() {\n    return direction;\n}\n\npublic void setdir(int direction) {\n    this.direction = direction;\n}\n\npublic int getTankno() {\n    return tankno;\n}\n\npublic void setTankno(int tankno) {\n    this.tankno = tankno;\n}\n\npublic void draw(Graphics g,Bufferedimagex bf1) {\n    //System.out.println(this.x+&quot;  &quot;+this.y+&quot;   &quot;+this.tankno);\n**when the values are written here most of the written value on the console is the third one (there are 0,1,2,3 tanks).**\n    g.drawImage(bf1.sprite(this.getdir()*32-32, this.tip*16), this.getX(), this.getY(), 48, 48,null); \n    \n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633698236,"creation_date":1633695714,"answer_id":69495772,"question_id":69495598,"body_markdown":"You can match both lines and use 2 capture groups using a negated character class `[^&quot;]` as `\\S` does not match the spaces between the double quotes. \r\n\r\nThen concat the 2 capture groups with a `/`\r\n\r\n    cwd=&quot;([^&quot;]*)&quot;.*\\R.*?name=&quot;([^&quot;]*)&quot;\r\n\r\n- `cwd=&quot;([^&quot;]*)&quot;` Capture the content between double quotes after `cwd=&quot;` in group 1\r\n- `.*\\R` Match the rest of the line and a newline\r\n- `.*?name=&quot;([^&quot;]*)&quot;` Match as least as possible chars, match `name=&quot;` and capture the contents between the double quotes in group 2\r\n\r\n[Java demo](https://ideone.com/dyeKtG) | [Regex demo](https://regex101.com/r/0vrOMs/1)\r\n\r\n    String regex = &quot;cwd=\\&quot;([^\\&quot;]*)\\&quot;.*\\\\R.*?name=\\&quot;([^\\&quot;]*)\\&quot;&quot;;\r\n    String string = &quot;type=CWD&lt;some text&gt;cwd=\\&quot;something within double quotes\\&quot;&lt;some text&gt;&lt;enter&gt;\\n&quot;\r\n        + &quot;type=PATH&lt;some text&gt;name=\\&quot;something within double quotes\\&quot;&lt;some text&gt;&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    if (matcher.find()) {\r\n        System.out.println(matcher.group(1) + &quot;/&quot; + matcher.group(2));\r\n    }\r\n\r\nOutput\r\n\r\n    something within double quotes/something within double quotes\r\n\r\n&lt;hr&gt;\r\n\r\nFor the values on a single line, and the second part can optionally start with `/`, you can optionally match the forward slash outside of the second group so that it would not be there when concatenating group 1 and group 2 having double `//`\r\n\r\n    String regex = &quot;\\\\\\&quot;(\\\\S*)\\\\\\&quot;.*?\\\\\\&quot;/?(\\\\S*)\\\\\\&quot;&quot;;\r\n    String string = &quot;cwd=\\&quot;/root\\&quot; name=\\&quot;/msv_backup/archives/auditlogs\\&quot;&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    if (matcher.find()) {\r\n        System.out.println(matcher.group(1) + &quot;/&quot; + matcher.group(2));\r\n    }\r\n\r\nOutput\r\n\r\n    /root/msv_backup/archives/auditlogs\r\n\r\n[Java demo](https://ideone.com/bK5nXA) | [REgex demo](https://regex101.com/r/Cfb8Sy/1)","title":"Java Regex expression to append two strings","body":"<p>You can match both lines and use 2 capture groups using a negated character class <code>[^&quot;]</code> as <code>\\S</code> does not match the spaces between the double quotes.</p>\n<p>Then concat the 2 capture groups with a <code>/</code></p>\n<pre><code>cwd=&quot;([^&quot;]*)&quot;.*\\R.*?name=&quot;([^&quot;]*)&quot;\n</code></pre>\n<ul>\n<li><code>cwd=&quot;([^&quot;]*)&quot;</code> Capture the content between double quotes after <code>cwd=&quot;</code> in group 1</li>\n<li><code>.*\\R</code> Match the rest of the line and a newline</li>\n<li><code>.*?name=&quot;([^&quot;]*)&quot;</code> Match as least as possible chars, match <code>name=&quot;</code> and capture the contents between the double quotes in group 2</li>\n</ul>\n<p><a href=\"https://ideone.com/dyeKtG\" rel=\"nofollow noreferrer\">Java demo</a> | <a href=\"https://regex101.com/r/0vrOMs/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<pre><code>String regex = &quot;cwd=\\&quot;([^\\&quot;]*)\\&quot;.*\\\\R.*?name=\\&quot;([^\\&quot;]*)\\&quot;&quot;;\nString string = &quot;type=CWD&lt;some text&gt;cwd=\\&quot;something within double quotes\\&quot;&lt;some text&gt;&lt;enter&gt;\\n&quot;\n    + &quot;type=PATH&lt;some text&gt;name=\\&quot;something within double quotes\\&quot;&lt;some text&gt;&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nif (matcher.find()) {\n    System.out.println(matcher.group(1) + &quot;/&quot; + matcher.group(2));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>something within double quotes/something within double quotes\n</code></pre>\n<hr>\n<p>For the values on a single line, and the second part can optionally start with <code>/</code>, you can optionally match the forward slash outside of the second group so that it would not be there when concatenating group 1 and group 2 having double <code>//</code></p>\n<pre><code>String regex = &quot;\\\\\\&quot;(\\\\S*)\\\\\\&quot;.*?\\\\\\&quot;/?(\\\\S*)\\\\\\&quot;&quot;;\nString string = &quot;cwd=\\&quot;/root\\&quot; name=\\&quot;/msv_backup/archives/auditlogs\\&quot;&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nif (matcher.find()) {\n    System.out.println(matcher.group(1) + &quot;/&quot; + matcher.group(2));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>/root/msv_backup/archives/auditlogs\n</code></pre>\n<p><a href=\"https://ideone.com/bK5nXA\" rel=\"nofollow noreferrer\">Java demo</a> | <a href=\"https://regex101.com/r/Cfb8Sy/1\" rel=\"nofollow noreferrer\">REgex demo</a></p>\n"}],"owner":{"account_id":15221211,"reputation":1,"user_id":10983042,"display_name":"hitesh adabala "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633698236,"creation_date":1633694851,"question_id":69495598,"body_markdown":"I need to monitor a log file which will give me lines in the following way...\r\n\r\n    type=CWD&lt;some text&gt;cwd=&quot;something within double quotes&quot;&lt;some text&gt;&lt;enter&gt;\r\n    type=PATH&lt;some text&gt;name=&quot;something within double quotes&quot;&lt;some text&gt;\r\n\r\nNow I need a regex expression which will take those two variables in double quotes and append them to form a single string with a &#39;/&#39; in between \r\nEg: I need `&lt;cwd_vale&gt;/&lt;name_value&gt;`\r\n\r\n`(\\&quot;\\S*\\&quot;)(\\&quot;\\S*\\&quot;)` will give two strings within double quotes to two groups\r\nI want the way to append these strings. Help is so very welcomed!","title":"Java Regex expression to append two strings","body":"<p>I need to monitor a log file which will give me lines in the following way...</p>\n<pre><code>type=CWD&lt;some text&gt;cwd=&quot;something within double quotes&quot;&lt;some text&gt;&lt;enter&gt;\ntype=PATH&lt;some text&gt;name=&quot;something within double quotes&quot;&lt;some text&gt;\n</code></pre>\n<p>Now I need a regex expression which will take those two variables in double quotes and append them to form a single string with a '/' in between\nEg: I need <code>&lt;cwd_vale&gt;/&lt;name_value&gt;</code></p>\n<p><code>(\\&quot;\\S*\\&quot;)(\\&quot;\\S*\\&quot;)</code> will give two strings within double quotes to two groups\nI want the way to append these strings. Help is so very welcomed!</p>\n"},{"tags":["java","arrays","loops","for-loop","pseudocode"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1633611998,"post_id":69481709,"comment_id":122809972,"body_markdown":"Look at the code after the loop. Also think about what `size` and `maxSize`represent. You are on the right track on the loop condition not being correct but for the wrong reason. Think about what would happen for `i == size` when `size == maxSize` and you want to access the original array.","body":"Look at the code after the loop. Also think about what <code>size</code> and <code>maxSize</code>represent. You are on the right track on the loop condition not being correct but for the wrong reason. Think about what would happen for <code>i == size</code> when <code>size == maxSize</code> and you want to access the original array."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1633612357,"post_id":69481709,"comment_id":122810155,"body_markdown":"Ideally just play the code through in your head and think about how each of the changes would change the code. As an example: if `size == maxsize ` wouldn&#39;t `for (i = 0; i &lt;= size ; i++)` and `or (i = 0 ; i &lt;= maxsize ; i++)` be essentially be the same?","body":"Ideally just play the code through in your head and think about how each of the changes would change the code. As an example: if <code>size == maxsize </code> wouldn&#39;t <code>for (i = 0; i &lt;= size ; i++)</code> and <code>or (i = 0 ; i &lt;= maxsize ; i++)</code> be essentially be the same?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1633612449,"post_id":69481709,"comment_id":122810199,"body_markdown":"I actually see 1 bug and 1 potential but in the code but none of the solutions would address any of those...","body":"I actually see 1 bug and 1 potential but in the code but none of the solutions would address any of those..."},{"owner":{"account_id":22960637,"reputation":1,"user_id":17090565,"display_name":"compsci9298233"},"score":0,"creation_date":1633614002,"post_id":69481709,"comment_id":122810940,"body_markdown":"But arr[size++] = val; means size increments and so when it&#39;s 16 if will enter the if statement. Also those were the options i was given.","body":"But arr[size++] = val; means size increments and so when it&#39;s 16 if will enter the if statement. Also those were the options i was given."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1633614351,"post_id":69481709,"comment_id":122811100,"body_markdown":"What happens in the loop when the `size == 16`, the length of array `arr` is 16 and you try to get an element `arr[16]`?","body":"What happens in the loop when the <code>size == 16</code>, the length of array <code>arr</code> is 16 and you try to get an element <code>arr[16]</code>?"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":1,"creation_date":1633614447,"post_id":69481709,"comment_id":122811130,"body_markdown":"`size` is used as index of array in here, so it&#39;ll begin from 0, incrementing each time. So, when it becomes 16, it means 16 elements are there in array and last index is 15, ie, arr[15]. As @Thomas pointed out, when `i==size` meaning arr[16] which will result in `ArrayIndexOutOfBoundsException`. Instead of `for(i=0; i &lt;= size ;i++)`, it should be `for(i=0; i &lt; size ;i++)` but it&#39;s not there in the options.","body":"<code>size</code> is used as index of array in here, so it&#39;ll begin from 0, incrementing each time. So, when it becomes 16, it means 16 elements are there in array and last index is 15, ie, arr[15]. As @Thomas pointed out, when <code>i==size</code> meaning arr[16] which will result in <code>ArrayIndexOutOfBoundsException</code>. Instead of <code>for(i=0; i &lt;= size ;i++)</code>, it should be <code>for(i=0; i &lt; size ;i++)</code> but it&#39;s not there in the options."},{"owner":{"account_id":22960637,"reputation":1,"user_id":17090565,"display_name":"compsci9298233"},"score":0,"creation_date":1633616173,"post_id":69481709,"comment_id":122811923,"body_markdown":"This is pseudocode so it doesn&#39;t have to be exact. Now im thinking Line 13 should come before line 10, as max size being multiplied by 2 shouldn&#39;t happen inside a loop","body":"This is pseudocode so it doesn&#39;t have to be exact. Now im thinking Line 13 should come before line 10, as max size being multiplied by 2 shouldn&#39;t happen inside a loop"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1633617363,"post_id":69481709,"comment_id":122812506,"body_markdown":"`maxsize = maxsize*2;` isn&#39;t part of the loop, only `newArr[i] = arr[i];` is (if there are no braces only the first statement is inside the loop - to avoid confusion I advocate using braces all the time).","body":"<code>maxsize = maxsize*2;</code> isn&#39;t part of the loop, only <code>newArr[i] = arr[i];</code> is (if there are no braces only the first statement is inside the loop - to avoid confusion I advocate using braces all the time)."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1633617719,"post_id":69481709,"comment_id":122812664,"body_markdown":"@compsci9298233 I&#39;m not talking about syntactical error, it&#39;s logical error.","body":"@compsci9298233 I&#39;m not talking about syntactical error, it&#39;s logical error."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1633618602,"post_id":69481709,"comment_id":122813026,"body_markdown":"Depending on how you&#39;ve been given the options and how you are meant to respond they might try to throw you off (i.e. you shouldn&#39;t rely on multiple choice) and expect you to answer &quot;none of these options fixes the bug&quot; - that&#39;s what I would do to interns and students ;)","body":"Depending on how you&#39;ve been given the options and how you are meant to respond they might try to throw you off (i.e. you shouldn&#39;t rely on multiple choice) and expect you to answer &quot;none of these options fixes the bug&quot; - that&#39;s what I would do to interns and students ;)"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1633619825,"post_id":69481709,"comment_id":122813613,"body_markdown":"Downvoted because this is the same question as https://stackoverflow.com/questions/69472849/coding-a-loop-inside-of-an-array-in-pseudocode from the same OP","body":"Downvoted because this is the same question as <a href=\"https://stackoverflow.com/questions/69472849/coding-a-loop-inside-of-an-array-in-pseudocode\" title=\"coding a loop inside of an array in pseudocode\">stackoverflow.com/questions/69472849/&hellip;</a> from the same OP"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633698234,"creation_date":1633617769,"answer_id":69483143,"question_id":69481709,"body_markdown":"Ok, let&#39;s analyze the pseudo code a litte. Given this is pseudo code we&#39;ll not focus syntax errors but on logical ones (or design problems).\r\n\r\nFirst, this looks like an implementation for an arraylist, i.e. internally it keeps an array and doubles it if more space is needed. It also keeps the current size of the list as `size`.\r\n\r\n    //this is ok since at tehe beginning there are no elements in the array\r\n    private int size = 0; \r\n\r\n    //initial capacity of the array, ok too\r\n    private int maxsize = 16; \r\n\r\n    //an array of elements with value 0, ok too\r\n    private int[] arr = new int[maxsize]; \r\n\r\n    //ok but a potential bug: what is list used for?\r\n    public void append(val, list) \r\n    {\r\n        //if the size of the list hits the capacity, we need to increase space, so this is ok\r\n       if (size == maxsize)\r\n       {\r\n          //we create a new array with 2x the previous size, ok as well\r\n          int[] newArr = new int[maxsize * 2]; \r\n\r\n          //we&#39;re looping and copying the elements from the old array to the new one\r\n          //bug: for i == size it would try to access arr[size] which is out of bounds\r\n          //fix: use i &lt; size or even i &lt; maxsize if you have to\r\n          for (i = 0; i &lt;= size ; i++) \r\n            newArr[i] = arr[i];\r\n\r\n          //move the references to &quot;point&quot; to the new array - ok\r\n          arr = newArr;\r\n  \r\n          //double capacity - could have been better but ok here\r\n          maxsize = maxsize*2;\r\n       }\r\n \r\n       //add a new element at the index right after the last (i.e. size) and increase size by 1\r\n       arr[size++] = val;\r\n    }\r\n\r\nNow the options:\r\n\r\n&gt; Line 1 should read: `private int size = 16;`\r\n\r\nThis would cause the array to be doubled when the first element is added and would cause the first 16 elements to be &quot;empty&quot; (0). And it would not fix the bug.\r\n\r\n&gt; Line 7 should read: `if (size &gt; maxsize)`\r\n\r\nThis should never be true because `arr[size++]` would throw an exception when `size == maxsize`. It would also not fix the bug.\r\n\r\n&gt; Line 10 should read: `for (i = 0 ; i &lt;= maxsize ; i++)`\r\n\r\nThis is essentially the same as `for (i = 0 ; i &lt;= size ; i++)` because it is only executed if `size == maxsize`. It contains the same bug and does not fix it.\r\n\r\n&gt; Line 13 should come before line 10\r\n\r\nThis wouldn&#39;t change much if I identified the lines correctly the code would be come:\r\n\r\n    int[] newArr = new int[maxsize * 2];\r\n    maxsize = maxsize*2;\r\n    for (i = 0; i &lt;= size ; i++)\r\n        newArr[i] = arr[i];\r\n    arr = newArr;\r\n\r\nIf you&#39;d change the code you could get rid of one calculation though:\r\n\r\n    maxsize = maxsize*2;\r\n    int[] newArr = new int[maxsize];\r\n\r\nTo improve understandability it should better bet:\r\n    \r\n    int newMaxSize = maxsize * 2;\r\n    int[] newArr = new int[newMaxSize];\r\n\r\n    for (i = 0; i &lt;= size ; i++)\r\n        newArr[i] = arr[i];\r\n    arr = newArr;\r\n    //could be before the loop as well but it&#39;s safer to set it here, e.g. someone could change the loop to &quot;for (i = 0; i &lt; maxsize ; i++)&quot; ;)\r\n\r\n    maxsize = newMaxSize;\r\n\r\n&gt; Line 15 should read: `arr[++size] = val;`\r\n\r\nThis would leave the first element (at index 0) &quot;empty&quot; (0) and would break for `size == maxsize-1`. Does not fix the bug.","title":"Copying elements from arrays","body":"<p>Ok, let's analyze the pseudo code a litte. Given this is pseudo code we'll not focus syntax errors but on logical ones (or design problems).</p>\n<p>First, this looks like an implementation for an arraylist, i.e. internally it keeps an array and doubles it if more space is needed. It also keeps the current size of the list as <code>size</code>.</p>\n<pre><code>//this is ok since at tehe beginning there are no elements in the array\nprivate int size = 0; \n\n//initial capacity of the array, ok too\nprivate int maxsize = 16; \n\n//an array of elements with value 0, ok too\nprivate int[] arr = new int[maxsize]; \n\n//ok but a potential bug: what is list used for?\npublic void append(val, list) \n{\n    //if the size of the list hits the capacity, we need to increase space, so this is ok\n   if (size == maxsize)\n   {\n      //we create a new array with 2x the previous size, ok as well\n      int[] newArr = new int[maxsize * 2]; \n\n      //we're looping and copying the elements from the old array to the new one\n      //bug: for i == size it would try to access arr[size] which is out of bounds\n      //fix: use i &lt; size or even i &lt; maxsize if you have to\n      for (i = 0; i &lt;= size ; i++) \n        newArr[i] = arr[i];\n\n      //move the references to &quot;point&quot; to the new array - ok\n      arr = newArr;\n\n      //double capacity - could have been better but ok here\n      maxsize = maxsize*2;\n   }\n\n   //add a new element at the index right after the last (i.e. size) and increase size by 1\n   arr[size++] = val;\n}\n</code></pre>\n<p>Now the options:</p>\n<blockquote>\n<p>Line 1 should read: <code>private int size = 16;</code></p>\n</blockquote>\n<p>This would cause the array to be doubled when the first element is added and would cause the first 16 elements to be &quot;empty&quot; (0). And it would not fix the bug.</p>\n<blockquote>\n<p>Line 7 should read: <code>if (size &gt; maxsize)</code></p>\n</blockquote>\n<p>This should never be true because <code>arr[size++]</code> would throw an exception when <code>size == maxsize</code>. It would also not fix the bug.</p>\n<blockquote>\n<p>Line 10 should read: <code>for (i = 0 ; i &lt;= maxsize ; i++)</code></p>\n</blockquote>\n<p>This is essentially the same as <code>for (i = 0 ; i &lt;= size ; i++)</code> because it is only executed if <code>size == maxsize</code>. It contains the same bug and does not fix it.</p>\n<blockquote>\n<p>Line 13 should come before line 10</p>\n</blockquote>\n<p>This wouldn't change much if I identified the lines correctly the code would be come:</p>\n<pre><code>int[] newArr = new int[maxsize * 2];\nmaxsize = maxsize*2;\nfor (i = 0; i &lt;= size ; i++)\n    newArr[i] = arr[i];\narr = newArr;\n</code></pre>\n<p>If you'd change the code you could get rid of one calculation though:</p>\n<pre><code>maxsize = maxsize*2;\nint[] newArr = new int[maxsize];\n</code></pre>\n<p>To improve understandability it should better bet:</p>\n<pre><code>int newMaxSize = maxsize * 2;\nint[] newArr = new int[newMaxSize];\n\nfor (i = 0; i &lt;= size ; i++)\n    newArr[i] = arr[i];\narr = newArr;\n//could be before the loop as well but it's safer to set it here, e.g. someone could change the loop to &quot;for (i = 0; i &lt; maxsize ; i++)&quot; ;)\n\nmaxsize = newMaxSize;\n</code></pre>\n<blockquote>\n<p>Line 15 should read: <code>arr[++size] = val;</code></p>\n</blockquote>\n<p>This would leave the first element (at index 0) &quot;empty&quot; (0) and would break for <code>size == maxsize-1</code>. Does not fix the bug.</p>\n"}],"owner":{"account_id":22960637,"reputation":1,"user_id":17090565,"display_name":"compsci9298233"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633620630,"answer_count":1,"score":-3,"last_activity_date":1633698234,"creation_date":1633611812,"question_id":69481709,"body_markdown":"I&#39;m new to computer science. I&#39;ve been told there is only 1 bug in the following Java type pseudo-code but i&#39;m unable to figure it out. Isn&#39;t there more then 1? First the if statement means it won&#39;t loop as size doesn&#39;t equal max size, but i think the loop is also incorrect as rather then i&lt;=size shouldn&#39;t it be i&lt;=maxsize? \r\n\r\n    private int size = 0;\r\n    private int maxsize = 16;\r\n    private int[] arr = new int[maxsize];\r\n\r\n    public void append(val, list)\r\n    {\r\n        if (size == maxsize)\r\n        {\r\n            int[] newArr = new int[maxsize * 2];\r\n            for (i = 0; i &lt;= size ; i++)\r\n                newArr[i] = arr[i];\r\n            arr = newArr;\r\n            maxsize = maxsize*2;\r\n        }\r\n        arr[size++] = val;\r\n    }\r\n\r\nOut of these options, which one is correct? \r\n* Line 1 should read: `private int size = 16;`\r\n* Line 7 should read: `if (size &gt; maxsize)`\r\n* Line 10 should read: `for (i = 0 ; i &lt;= maxsize ; i++)`\r\n* Line 13 should come before line 10\r\n* Line 15 should read: `arr[++size] = val;`","title":"Copying elements from arrays","body":"<p>I'm new to computer science. I've been told there is only 1 bug in the following Java type pseudo-code but i'm unable to figure it out. Isn't there more then 1? First the if statement means it won't loop as size doesn't equal max size, but i think the loop is also incorrect as rather then i&lt;=size shouldn't it be i&lt;=maxsize?</p>\n<pre><code>private int size = 0;\nprivate int maxsize = 16;\nprivate int[] arr = new int[maxsize];\n\npublic void append(val, list)\n{\n    if (size == maxsize)\n    {\n        int[] newArr = new int[maxsize * 2];\n        for (i = 0; i &lt;= size ; i++)\n            newArr[i] = arr[i];\n        arr = newArr;\n        maxsize = maxsize*2;\n    }\n    arr[size++] = val;\n}\n</code></pre>\n<p>Out of these options, which one is correct?</p>\n<ul>\n<li>Line 1 should read: <code>private int size = 16;</code></li>\n<li>Line 7 should read: <code>if (size &gt; maxsize)</code></li>\n<li>Line 10 should read: <code>for (i = 0 ; i &lt;= maxsize ; i++)</code></li>\n<li>Line 13 should come before line 10</li>\n<li>Line 15 should read: <code>arr[++size] = val;</code></li>\n</ul>\n"},{"tags":["java","jsp","tomcat","jakarta-ee"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1633700787,"post_id":69496289,"comment_id":122836994,"body_markdown":"Check permission on that file.","body":"Check permission on that file."},{"owner":{"account_id":17845206,"reputation":1,"user_id":12962208,"display_name":"Arkait"},"score":0,"creation_date":1633701154,"post_id":69496289,"comment_id":122837138,"body_markdown":"It&#39;s 770, so that souldn&#39;t be a problem, right ?","body":"It&#39;s 770, so that souldn&#39;t be a problem, right ?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1634044761,"post_id":69496289,"comment_id":122916520,"body_markdown":"770 allow for access to owner and group. Ultimate access for all is 777. Try it if it helps, then tomcat runs under wrong user, or doesn&#39;t have proper group.","body":"770 allow for access to owner and group. Ultimate access for all is 777. Try it if it helps, then tomcat runs under wrong user, or doesn&#39;t have proper group."}],"owner":{"account_id":17845206,"reputation":1,"user_id":12962208,"display_name":"Arkait"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633698199,"creation_date":1633698199,"question_id":69496289,"body_markdown":"I use Eclipse 2020-03(4.15.0), Tomcat v9.0.53 with java 11.0.11 on ubuntu.\r\n\r\nWhen I create a Dynamic Web Project everything works fine. When I try to use a JSP file, I got this error 500 (on every JSP files): \r\n\r\nHere I try to access to `http://localhost:8080/TP4/form.jsp`\r\n```\r\nSEVERE: Servlet.service() for servlet [jsp] in context with path [/TP4] threw exception [Unable to set last modified date for file [/data/Documents/S3/JEE/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/TP4/org/apache/jsp/form_jsp.java]] with root cause\r\norg.apache.jasper.JasperException: Unable to set last modified date for file [/data/Documents/S3/JEE/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/TP4/org/apache/jsp/form_jsp.java]\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:394)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\r\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:605)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nAnd if I spam F5 on the same page I got this error :\r\n\r\n```\r\nSEVERE: Servlet.service() for servlet [jsp] in context with path [/TP4] threw exception [org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.form_jsp] with root cause\r\njava.lang.ClassNotFoundException: org.apache.jsp.form_jsp\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:129)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:58)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:158)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:192)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:413)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nI tried to re-install Tomcat, but I still got the error. I also check in the temporary files of the server, and it succeed to update the date of the files.\r\n\r\nDo you have any clue about how can I fix this ?","title":"Can&#39;t run JSP files on Tomcat 9 : Unable to set last modified date for file","body":"<p>I use Eclipse 2020-03(4.15.0), Tomcat v9.0.53 with java 11.0.11 on ubuntu.</p>\n<p>When I create a Dynamic Web Project everything works fine. When I try to use a JSP file, I got this error 500 (on every JSP files):</p>\n<p>Here I try to access to <code>http://localhost:8080/TP4/form.jsp</code></p>\n<pre><code>SEVERE: Servlet.service() for servlet [jsp] in context with path [/TP4] threw exception [Unable to set last modified date for file [/data/Documents/S3/JEE/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/TP4/org/apache/jsp/form_jsp.java]] with root cause\norg.apache.jasper.JasperException: Unable to set last modified date for file [/data/Documents/S3/JEE/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/TP4/org/apache/jsp/form_jsp.java]\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:394)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\n    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:605)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>And if I spam F5 on the same page I got this error :</p>\n<pre><code>SEVERE: Servlet.service() for servlet [jsp] in context with path [/TP4] threw exception [org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.form_jsp] with root cause\njava.lang.ClassNotFoundException: org.apache.jsp.form_jsp\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:129)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:58)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:158)\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:192)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:413)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>I tried to re-install Tomcat, but I still got the error. I also check in the temporary files of the server, and it succeed to update the date of the files.</p>\n<p>Do you have any clue about how can I fix this ?</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1457824686,"post_id":35964492,"comment_id":59583972,"body_markdown":"Please post your stack trace as text in the question, not a link to an off-site image.","body":"Please post your stack trace as text in the question, not a link to an off-site image."},{"owner":{"account_id":2386595,"reputation":10486,"user_id":2087463,"accept_rate":100,"display_name":"tmthydvnprt"},"score":0,"creation_date":1457824987,"post_id":35964492,"comment_id":59584034,"body_markdown":"Try to narrow it down to a question about a few specific lines first.","body":"Try to narrow it down to a question about a few specific lines first."}],"answers":[{"tags":[],"owner":{"account_id":8030016,"reputation":55,"user_id":6055401,"display_name":"mia ich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457829196,"creation_date":1457829196,"answer_id":35965112,"question_id":35964492,"body_markdown":"I know the reason. need to package .class files outside the directory to package jar. Thanks for all the help. I also leant how to edit post here. ","title":"Exception in thread &quot;main&quot; java.lang.ClassNotFoundException, mapreduce","body":"<p>I know the reason. need to package .class files outside the directory to package jar. Thanks for all the help. I also leant how to edit post here. </p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457880377,"creation_date":1457880377,"answer_id":35971660,"question_id":35964492,"body_markdown":"To execute a map reduce program you have to perform the below steps -\r\n\r\n1. Create jar file of your map reduce program(You have already done).\r\n2. Place the input file to HDFS/file system.\r\n\r\nand finally execute the below command.\r\n\r\n    hadoop jar [jar file name with fully qualified] [driver class name with fully qualified] /[input path] /[output path]\r\n\r\nHere is the very simple and basic [Hello World in Map Reduce step by step guide][1].\r\n\r\n\r\n  [1]: http://www.javamakeuse.com/2016/01/hadoop-mapreduce-wordcount-tutorial.html","title":"Exception in thread &quot;main&quot; java.lang.ClassNotFoundException, mapreduce","body":"<p>To execute a map reduce program you have to perform the below steps -</p>\n\n<ol>\n<li>Create jar file of your map reduce program(You have already done).</li>\n<li>Place the input file to HDFS/file system.</li>\n</ol>\n\n<p>and finally execute the below command.</p>\n\n<pre><code>hadoop jar [jar file name with fully qualified] [driver class name with fully qualified] /[input path] /[output path]\n</code></pre>\n\n<p>Here is the very simple and basic <a href=\"http://www.javamakeuse.com/2016/01/hadoop-mapreduce-wordcount-tutorial.html\" rel=\"nofollow\">Hello World in Map Reduce step by step guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":16940439,"reputation":1,"user_id":12252415,"display_name":"Vladyslav Frolov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633698126,"creation_date":1633698126,"answer_id":69496268,"question_id":35964492,"body_markdown":"You must use the full qualified name, but without specifying the extension like &#39;.class&#39; or &#39;.java&#39;","title":"Exception in thread &quot;main&quot; java.lang.ClassNotFoundException, mapreduce","body":"<p>You must use the full qualified name, but without specifying the extension like '.class' or '.java'</p>\n"}],"owner":{"account_id":8030016,"reputation":55,"user_id":6055401,"display_name":"mia ich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633698126,"creation_date":1457824621,"question_id":35964492,"body_markdown":"I&#39;m new to both java and hadoop. Thank you for any help. I try to do a join operations on two tables. ValueWrapper is a customized type using Writable interface, I also put it in the stdRepartition package.I use command line to run it. The process and result showed below:\r\n\r\nResults:\r\n\r\n    javac StdRepartition.java ValueWrapper.java\r\n    jar -cvf StdRepartition.jar ./*.class\r\n    added manifest\r\n    adding:StdRepartition\r\n    adding:StdRepartition$DataMapper.class\r\n    adding:StdRepartition$StdReducer.class\r\n    adding:ValueWrapper.class\r\n    \r\n    hadoop jar StdRepartition.jar stdRepartition.StdRepartition input output\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: stdRepartition.StdRepartition\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:270)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:205)\r\n    \r\nCode:\r\n    \r\n        package stdRepartition;\r\n        \r\n        import java.io.IOException;\r\n        import java.util.ArrayList;\r\n        \r\n        import org.apache.hadoop.conf.Configuration;\r\n        import org.apache.hadoop.fs.Path;\r\n        import org.apache.hadoop.io.IntWritable;\r\n        import org.apache.hadoop.io.NullWritable;\r\n        import org.apache.hadoop.io.Text;\r\n        import org.apache.hadoop.mapred.FileSplit;\r\n        import org.apache.hadoop.mapreduce.Job;\r\n        import org.apache.hadoop.mapreduce.Mapper;\r\n        import org.apache.hadoop.mapreduce.Reducer;\r\n        import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\n        // import org.apache.hadoop.mapreduce.lib.input.MultipleInputs;\r\n        import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n               \r\n        public class StdRepartition {\r\n        \t\r\n        \tpublic static class DataMapper extends Mapper&lt;Object, Text, IntWritable, ValueWrapper&gt; {\r\n        \t\tprivate Text flag = new Text();\r\n        \t\tprivate Text content = new Text();\r\n        \t\tprivate ValueWrapper valueWrapper = new ValueWrapper();\r\n        \t\tpublic void map(Object key, Text value, Context context) throws IOException, InterruptedException{\r\n        \t\t\tFileSplit fileSplit = (FileSplit)context.getInputSplit();\r\n        \t\t\tString filename = fileSplit.getPath().getName();\r\n        \t\t\tint ID;\r\n        \t\t\tif(filename.endsWith(&quot;data.txt&quot;)) {\r\n        \t\t\t\tString[] parts = value.toString().split(&quot;s+&quot;);\r\n        \t\t\t\tID = Integer.parseInt(parts[0]);\r\n        \t\t\t\tflag = new Text(&quot;data&quot;);\r\n        \t\t\t\tcontent = value;\r\n        \t\t\t}\r\n        \t\t\telse {\r\n        \t\t\t\tString[] parts = value.toString().split(&quot;\\\\|&quot;);\r\n        \t\t\t\tID = Integer.parseInt(parts[0]);\r\n        \t\t\t\tflag = new Text(&quot;user&quot;);\r\n        \t\t\t\tcontent = new Text(parts[2]);\r\n        \t\t\t}\r\n        \t\t\tvalueWrapper.setFlag(flag);\r\n        \t\t\tvalueWrapper.setContent(content);\r\n        \t\t\tcontext.write(new IntWritable(ID), valueWrapper);\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tpublic static class StdReducer extends Reducer&lt;IntWritable, ValueWrapper, NullWritable, Text&gt; {\r\n        \t\tprivate ArrayList&lt;Text&gt; ratings = new ArrayList&lt;Text&gt;();\r\n        \t\tprivate Text age = new Text();\r\n        \t\tpublic void reduce(IntWritable key, Iterable&lt;ValueWrapper&gt; value, Context context) throws IOException, InterruptedException {\r\n        \t\t\tfor(ValueWrapper val: value) {\r\n        \t\t\t\tText flag = val.getFlag();\r\n        \t\t\t\tif(flag.toString().equals(&quot;user&quot;)) {\r\n        \t\t\t\t\tage = val.getContent();\r\n        \t\t\t\t}\r\n        \t\t\t\telse {\r\n        \t\t\t\t\tratings.add(val.getContent());\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\tString curAge = age.toString();\r\n        \t\t\tfor(Text r: ratings) {\r\n        \t\t\t\tString curR = r.toString();\r\n        \t\t\t\tcurR = curR + &quot;    &quot; + curAge;\r\n        \t\t\t\tcontext.write(NullWritable.get(), new Text(curR));\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \t@SuppressWarnings(&quot;deprecation&quot;)\r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \t\tConfiguration conf = new Configuration();\r\n        \t\tJob job = new Job(conf, &quot;StdRepartition&quot;);\r\n        \t\tjob.setJarByClass(StdRepartition.class);\r\n        \t    \r\n        \t\tjob.setMapperClass(DataMapper.class);\r\n        \t\tjob.setMapOutputKeyClass(IntWritable.class);\r\n        \t\tjob.setMapOutputValueClass(ValueWrapper.class);\r\n        \t\tjob.setReducerClass(StdReducer.class);\r\n        \t\tjob.setOutputKeyClass(NullWritable.class);\r\n        \t\tjob.setOutputValueClass(Text.class);\r\n        \t\t// MultipleInputs.addInputPath(job, new Path(args[0]), TextInputFormat.class, DataMapper.class);\r\n        \t\t// MultipleInputs.addInputPath(job, new Path(args[1]), TextInputFormat.class, DataMapper.class);\r\n        \t\t\r\n        \t\t// Set the input path to be a directory\r\n        \t\tFileInputFormat.setInputPaths(job, args[0]);\r\n        \t\tFileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        \t\t\r\n        \t\tSystem.exit(job.waitForCompletion(true)? 0:1);\r\n        \t}\r\n        }\r\n\r\n  [1]: http://i.stack.imgur.com/wLXp6.png\r\n  ","title":"Exception in thread &quot;main&quot; java.lang.ClassNotFoundException, mapreduce","body":"<p>I'm new to both java and hadoop. Thank you for any help. I try to do a join operations on two tables. ValueWrapper is a customized type using Writable interface, I also put it in the stdRepartition package.I use command line to run it. The process and result showed below:</p>\n\n<p>Results:</p>\n\n<pre><code>javac StdRepartition.java ValueWrapper.java\njar -cvf StdRepartition.jar ./*.class\nadded manifest\nadding:StdRepartition\nadding:StdRepartition$DataMapper.class\nadding:StdRepartition$StdReducer.class\nadding:ValueWrapper.class\n\nhadoop jar StdRepartition.jar stdRepartition.StdRepartition input output\nException in thread \"main\" java.lang.ClassNotFoundException: stdRepartition.StdRepartition\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:270)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:205)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    package stdRepartition;\n\n    import java.io.IOException;\n    import java.util.ArrayList;\n\n    import org.apache.hadoop.conf.Configuration;\n    import org.apache.hadoop.fs.Path;\n    import org.apache.hadoop.io.IntWritable;\n    import org.apache.hadoop.io.NullWritable;\n    import org.apache.hadoop.io.Text;\n    import org.apache.hadoop.mapred.FileSplit;\n    import org.apache.hadoop.mapreduce.Job;\n    import org.apache.hadoop.mapreduce.Mapper;\n    import org.apache.hadoop.mapreduce.Reducer;\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\n    // import org.apache.hadoop.mapreduce.lib.input.MultipleInputs;\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\n    public class StdRepartition {\n\n        public static class DataMapper extends Mapper&lt;Object, Text, IntWritable, ValueWrapper&gt; {\n            private Text flag = new Text();\n            private Text content = new Text();\n            private ValueWrapper valueWrapper = new ValueWrapper();\n            public void map(Object key, Text value, Context context) throws IOException, InterruptedException{\n                FileSplit fileSplit = (FileSplit)context.getInputSplit();\n                String filename = fileSplit.getPath().getName();\n                int ID;\n                if(filename.endsWith(\"data.txt\")) {\n                    String[] parts = value.toString().split(\"s+\");\n                    ID = Integer.parseInt(parts[0]);\n                    flag = new Text(\"data\");\n                    content = value;\n                }\n                else {\n                    String[] parts = value.toString().split(\"\\\\|\");\n                    ID = Integer.parseInt(parts[0]);\n                    flag = new Text(\"user\");\n                    content = new Text(parts[2]);\n                }\n                valueWrapper.setFlag(flag);\n                valueWrapper.setContent(content);\n                context.write(new IntWritable(ID), valueWrapper);\n            }\n        }\n\n        public static class StdReducer extends Reducer&lt;IntWritable, ValueWrapper, NullWritable, Text&gt; {\n            private ArrayList&lt;Text&gt; ratings = new ArrayList&lt;Text&gt;();\n            private Text age = new Text();\n            public void reduce(IntWritable key, Iterable&lt;ValueWrapper&gt; value, Context context) throws IOException, InterruptedException {\n                for(ValueWrapper val: value) {\n                    Text flag = val.getFlag();\n                    if(flag.toString().equals(\"user\")) {\n                        age = val.getContent();\n                    }\n                    else {\n                        ratings.add(val.getContent());\n                    }\n                }\n\n                String curAge = age.toString();\n                for(Text r: ratings) {\n                    String curR = r.toString();\n                    curR = curR + \"    \" + curAge;\n                    context.write(NullWritable.get(), new Text(curR));\n                }\n            }\n        }\n\n        @SuppressWarnings(\"deprecation\")\n        public static void main(String[] args) throws Exception {\n            Configuration conf = new Configuration();\n            Job job = new Job(conf, \"StdRepartition\");\n            job.setJarByClass(StdRepartition.class);\n\n            job.setMapperClass(DataMapper.class);\n            job.setMapOutputKeyClass(IntWritable.class);\n            job.setMapOutputValueClass(ValueWrapper.class);\n            job.setReducerClass(StdReducer.class);\n            job.setOutputKeyClass(NullWritable.class);\n            job.setOutputValueClass(Text.class);\n            // MultipleInputs.addInputPath(job, new Path(args[0]), TextInputFormat.class, DataMapper.class);\n            // MultipleInputs.addInputPath(job, new Path(args[1]), TextInputFormat.class, DataMapper.class);\n\n            // Set the input path to be a directory\n            FileInputFormat.setInputPaths(job, args[0]);\n            FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n            System.exit(job.waitForCompletion(true)? 0:1);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":21002319,"reputation":1,"user_id":15432863,"display_name":"Barazanthul"},"score":0,"creation_date":1633631797,"post_id":69485166,"comment_id":122818213,"body_markdown":"It seems the problem was caused by properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);. I changed that to auto and now the problem did not appear again.","body":"It seems the problem was caused by properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);. I changed that to auto and now the problem did not appear again."}],"answers":[{"tags":[],"owner":{"account_id":21002319,"reputation":1,"user_id":15432863,"display_name":"Barazanthul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633697554,"creation_date":1633697554,"answer_id":69496170,"question_id":69485166,"body_markdown":"It seems the problem was caused by properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);. I changed that to auto and now the problem did not appear again. ","title":"unable to obtain isolated JDBC connection Spring Boot + JPA","body":"<p>It seems the problem was caused by properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);. I changed that to auto and now the problem did not appear again.</p>\n"}],"owner":{"account_id":21002319,"reputation":1,"user_id":15432863,"display_name":"Barazanthul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633697554,"creation_date":1633626237,"question_id":69485166,"body_markdown":"I am getting the above error when i try to do something with my database, which is not flyway or a simple select.\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nunable to obtain isolated JDBC connection; nested exception is org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection\r\norg.springframework.dao.DataAccessResourceFailureException: unable to obtain isolated JDBC connection; nested exception is org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy91.saveAll(Unknown Source)\r\n```\r\n\r\nPOMDependecies\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0-2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.5.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.servlet.multipart.max-file-size=20MB\r\nspring.servlet.multipart.max-request-size=20MB\r\nspring.datasource.hikari.maximum-pool-size=10\r\nspring.datasource.hikari.connectionTimeout=30000   \r\nspring.datasource.hikari.idleTimeout=600000          \r\nspring.datasource.hikari.maxLifetime=1800000  \r\nhibernate.c3p0.min_size=5\r\nhibernate.c3p0.max_size=20\r\nhibernate.c3p0.timeout=300\r\nhibernate.c3p0.max_statements=50\r\nhibernate.c3p0.idle_test_period=3000\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\nlogging.level.com.zaxxer.hikari=TRACE\r\n```\r\n\r\nIn addition i sometimes get \r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [de/ak/mkm/config/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:localhost, port:3306. Address already in use: no further information\r\nCaused by: java.net.BindException: Address already in use: no further information\r\n```\r\non the startup of the application.\r\n\r\nAnd when i shutdown the app it throws an error, because it somehow tries to create an entityManager.\r\n\r\n```\r\npackage de.test.config;\r\n\r\n\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.Properties;\r\n\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableCaching\r\npublic class PersistenceJPAConfig{\r\n\r\n    @Bean\r\n    public DataSource dataSource(){\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/DB?autoReconnect=true&quot;);\r\n        dataSource.setUsername( &quot;XXXX&quot; );\r\n        dataSource.setPassword( &quot;XXXXXXXX&quot; );\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource());\r\n        em.setPackagesToScan(&quot;de.test.jpa.model&quot;);\r\n\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        em.setJpaProperties(additionalProperties());\r\n\r\n        return em;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager() {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\r\n        return transactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n        return new PersistenceExceptionTranslationPostProcessor();\r\n    }\r\n\r\n    public Properties additionalProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n        properties.setProperty(&quot;spring.datasource.hikari.maximum-pool-size&quot;, &quot;10&quot;);\r\n        properties.setProperty(&quot;spring.datasource.hikari.connectionTimeout&quot;, &quot;30000&quot;);\r\n        properties.setProperty(&quot;spring.datasource.hikari.idleTimeout&quot;, &quot;600000&quot;);\r\n        properties.setProperty(&quot;spring.datasource.hikari.maxLifetime&quot;, &quot;1800000&quot;);\r\n        properties.setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;5&quot;);\r\n        properties.setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;20&quot;);\r\n        properties.setProperty(&quot;hibernate.c3p0.timeout&quot;, &quot;300&quot;);\r\n        properties.setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;50&quot;);\r\n        properties.setProperty(&quot;hibernate.c3p0.idle_test_period&quot;, &quot;3000&quot;);\r\n        return properties;\r\n    }\r\n}\r\n\r\n```\r\nI don&#39;t think the config is working.","title":"unable to obtain isolated JDBC connection Spring Boot + JPA","body":"<p>I am getting the above error when i try to do something with my database, which is not flyway or a simple select.</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nunable to obtain isolated JDBC connection; nested exception is org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection\norg.springframework.dao.DataAccessResourceFailureException: unable to obtain isolated JDBC connection; nested exception is org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy3/jdk.proxy3.$Proxy91.saveAll(Unknown Source)\n</code></pre>\n<p>POMDependecies</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.servlet.multipart.max-file-size=20MB\nspring.servlet.multipart.max-request-size=20MB\nspring.datasource.hikari.maximum-pool-size=10\nspring.datasource.hikari.connectionTimeout=30000   \nspring.datasource.hikari.idleTimeout=600000          \nspring.datasource.hikari.maxLifetime=1800000  \nhibernate.c3p0.min_size=5\nhibernate.c3p0.max_size=20\nhibernate.c3p0.timeout=300\nhibernate.c3p0.max_statements=50\nhibernate.c3p0.idle_test_period=3000\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n</code></pre>\n<p>In addition i sometimes get</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [de/ak/mkm/config/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:localhost, port:3306. Address already in use: no further information\nCaused by: java.net.BindException: Address already in use: no further information\n</code></pre>\n<p>on the startup of the application.</p>\n<p>And when i shutdown the app it throws an error, because it somehow tries to create an entityManager.</p>\n<pre><code>package de.test.config;\n\n\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n\n@Configuration\n@EnableTransactionManagement\n@EnableCaching\npublic class PersistenceJPAConfig{\n\n    @Bean\n    public DataSource dataSource(){\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(&quot;org.mariadb.jdbc.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/DB?autoReconnect=true&quot;);\n        dataSource.setUsername( &quot;XXXX&quot; );\n        dataSource.setPassword( &quot;XXXXXXXX&quot; );\n        return dataSource;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource());\n        em.setPackagesToScan(&quot;de.test.jpa.model&quot;);\n\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n\n        return em;\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n\n        return transactionManager;\n    }\n\n    @Bean\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n\n    public Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\n        properties.setProperty(&quot;spring.datasource.hikari.maximum-pool-size&quot;, &quot;10&quot;);\n        properties.setProperty(&quot;spring.datasource.hikari.connectionTimeout&quot;, &quot;30000&quot;);\n        properties.setProperty(&quot;spring.datasource.hikari.idleTimeout&quot;, &quot;600000&quot;);\n        properties.setProperty(&quot;spring.datasource.hikari.maxLifetime&quot;, &quot;1800000&quot;);\n        properties.setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;5&quot;);\n        properties.setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;20&quot;);\n        properties.setProperty(&quot;hibernate.c3p0.timeout&quot;, &quot;300&quot;);\n        properties.setProperty(&quot;hibernate.c3p0.max_statements&quot;, &quot;50&quot;);\n        properties.setProperty(&quot;hibernate.c3p0.idle_test_period&quot;, &quot;3000&quot;);\n        return properties;\n    }\n}\n\n</code></pre>\n<p>I don't think the config is working.</p>\n"},{"tags":["java","android","memory-management","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":1852482,"reputation":7664,"user_id":1678729,"accept_rate":75,"display_name":"Danail Alexiev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454455338,"creation_date":1454455338,"answer_id":35165730,"question_id":35165532,"body_markdown":"A few things to point out here:\r\n\r\n - Every fragment has a unique view hierarchy. If you want all four fragments to have a recycler view, you should declare it in each fragment. Even if you reuse the save XML defined view between the fragments, a different instance of the recycler view will still be created for each fragment.\r\n - There is no such thing as an XML recycler view. XML is just used as a markup language to specify you view hierarchy. In the end, all the views are Java objects.\r\n - Files are not allocated on the heap. Objects are. ","title":"Does it save more memory and is it more efficient to reuse recyclerviews?","body":"<p>A few things to point out here:</p>\n\n<ul>\n<li>Every fragment has a unique view hierarchy. If you want all four fragments to have a recycler view, you should declare it in each fragment. Even if you reuse the save XML defined view between the fragments, a different instance of the recycler view will still be created for each fragment.</li>\n<li>There is no such thing as an XML recycler view. XML is just used as a markup language to specify you view hierarchy. In the end, all the views are Java objects.</li>\n<li>Files are not allocated on the heap. Objects are. </li>\n</ul>\n"}],"owner":{"account_id":7527623,"reputation":837,"user_id":6151039,"accept_rate":53,"display_name":"Eli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633697203,"creation_date":1454454353,"question_id":35165532,"body_markdown":"I have a total of 4 recyclerviews, each with currently has its own xml recyclerview, is it better on the memory usage to have all 4 fragments use 1 xml recyclerview or each have its own recyclerview? If I change this will it have a substantial effect on the amount of allocated files in my heap?\r\n","title":"Does it save more memory and is it more efficient to reuse recyclerviews?","body":"<p>I have a total of 4 recyclerviews, each with currently has its own xml recyclerview, is it better on the memory usage to have all 4 fragments use 1 xml recyclerview or each have its own recyclerview? If I change this will it have a substantial effect on the amount of allocated files in my heap?</p>\n"},{"tags":["java","android","jvm","heap-memory","dalvik"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1462845371,"post_id":37127912,"comment_id":61796499,"body_markdown":"It is *not* possible to migrate them *without* losing whatever differences there may be. For example, Object Serialization will serialize them in a standard format defined in the Protocol appendix of the Object Serialization Specification. XML and JSON serialization use an intermediate text format which is also standardized. Your question is without point.","body":"It is <i>not</i> possible to migrate them <i>without</i> losing whatever differences there may be. For example, Object Serialization will serialize them in a standard format defined in the Protocol appendix of the Object Serialization Specification. XML and JSON serialization use an intermediate text format which is also standardized. Your question is without point."},{"owner":{"account_id":281069,"reputation":3228,"user_id":577165,"accept_rate":65,"display_name":"Infinite"},"score":0,"creation_date":1462847542,"post_id":37127912,"comment_id":61797019,"body_markdown":"@EJP Thanks. But by dumping the heap and converting it to a standard .hprof file, the heap objects indeed can be understood by standard JVM memory analyzer. For example, [link](https://www.novoda.com/blog/debugging-memory-leaks-on-android-for-beginners-programmatic-heap-dumping-part-1/) So I think it might be doable.","body":"@EJP Thanks. But by dumping the heap and converting it to a standard .hprof file, the heap objects indeed can be understood by standard JVM memory analyzer. For example, <a href=\"https://www.novoda.com/blog/debugging-memory-leaks-on-android-for-beginners-programmatic-heap-dumping-part-1/\" rel=\"nofollow noreferrer\">link</a> So I think it might be doable."},{"owner":{"account_id":111374,"reputation":51666,"user_id":294248,"display_name":"fadden"},"score":0,"creation_date":1462908050,"post_id":37127912,"comment_id":61832385,"body_markdown":"Possibly of interest: http://stackoverflow.com/questions/10824677/is-dalvik-even-more-memory-hungry-than-hotspot-in-terms-of-object-sizes/","body":"Possibly of interest: <a href=\"http://stackoverflow.com/questions/10824677/is-dalvik-even-more-memory-hungry-than-hotspot-in-terms-of-object-sizes/\" title=\"is dalvik even more memory hungry than hotspot in terms of object sizes\">stackoverflow.com/questions/10824677/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":252759,"reputation":19874,"user_id":531021,"display_name":"JesusFreke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462860889,"creation_date":1462860889,"answer_id":37130572,"question_id":37127912,"body_markdown":"No. The in-memory representation will be totally different than that of other VMs. The in-memory representation will vary by version of Android, whether it&#39;s running art or dalvik, and potentially even be different for different devices running the same version of Android.\r\n\r\nAnything you try to do at that level is *extremely* brittle, and would likely only work on a single device, or small set of devices.","title":"Heap object (i.e. class instance) representation difference between Dalvik and JVM","body":"<p>No. The in-memory representation will be totally different than that of other VMs. The in-memory representation will vary by version of Android, whether it's running art or dalvik, and potentially even be different for different devices running the same version of Android.</p>\n\n<p>Anything you try to do at that level is <em>extremely</em> brittle, and would likely only work on a single device, or small set of devices.</p>\n"}],"owner":{"account_id":281069,"reputation":3228,"user_id":577165,"accept_rate":65,"display_name":"Infinite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633697172,"creation_date":1462843985,"question_id":37127912,"body_markdown":"How are objects in heap represented in Dalvik VM and JVM, respectively, in terms of the object size and field order. Are they the same (like mirror)?\r\n\r\nIs it possible to migrate the heap objects in DVM to JVM? For example, for each object in DVM heap, allocate an object of the same type in JVM, and then copy the content byte by byte (or, field by field).\r\n\r\n","title":"Heap object (i.e. class instance) representation difference between Dalvik and JVM","body":"<p>How are objects in heap represented in Dalvik VM and JVM, respectively, in terms of the object size and field order. Are they the same (like mirror)?</p>\n\n<p>Is it possible to migrate the heap objects in DVM to JVM? For example, for each object in DVM heap, allocate an object of the same type in JVM, and then copy the content byte by byte (or, field by field).</p>\n"},{"tags":["java","android","xamarin","heap-memory","xamarin.uitest"],"comments":[{"owner":{"account_id":3481745,"reputation":6028,"user_id":2913599,"display_name":"jgoldberger - MSFT"},"score":0,"creation_date":1476403194,"post_id":40032651,"comment_id":67342799,"body_markdown":"That&#39;s weird. Are you sure that is from the build for the UITest project? When building the UITest project, the Android app project it references should build as well so maybe that is still the Android project build output? Can&#39;t tell from what is posted.","body":"That&#39;s weird. Are you sure that is from the build for the UITest project? When building the UITest project, the Android app project it references should build as well so maybe that is still the Android project build output? Can&#39;t tell from what is posted."},{"owner":{"account_id":60902,"reputation":41415,"user_id":181771,"accept_rate":83,"display_name":"DaveDev"},"score":0,"creation_date":1476404162,"post_id":40032651,"comment_id":67343046,"body_markdown":"Yeah, i think it&#39;s the Droid.csproj that&#39;s failing, as it&#39;s triggered by the UITest project. When the Droid project builds on its own it&#39;s fine, but fails when the UITest triggers it. Whatever the case, we&#39;ve removed the UITest from the build steps. Hopefully that works","body":"Yeah, i think it&#39;s the Droid.csproj that&#39;s failing, as it&#39;s triggered by the UITest project. When the Droid project builds on its own it&#39;s fine, but fails when the UITest triggers it. Whatever the case, we&#39;ve removed the UITest from the build steps. Hopefully that works"},{"owner":{"account_id":4099182,"reputation":2149,"user_id":3365178,"display_name":"JimBobBennett"},"score":0,"creation_date":1476413035,"post_id":40032651,"comment_id":67345076,"body_markdown":"What build configurations are you using? IIRC you need to set the java heap size for each build configuration, so if you only set it for release and the UITest is building the debug version then you&#39;ll get the error","body":"What build configurations are you using? IIRC you need to set the java heap size for each build configuration, so if you only set it for release and the UITest is building the debug version then you&#39;ll get the error"}],"owner":{"account_id":60902,"reputation":41415,"user_id":181771,"accept_rate":83,"display_name":"DaveDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633697118,"creation_date":1476401345,"question_id":40032651,"body_markdown":"\r\nWe&#39;re developing an Android app using Xamarin. \r\nWe&#39;re using Visual Studio Team Services as our CI service. \r\n\r\nThe project consist of (among other things)\r\n\r\n* Droid.csproj (android project)\r\n* UITest.csproj (C# assembly for UI tests)\r\n\r\nRecently the Droid.csproj failed the build because of a `java.lang.OutOfMemoryError: Java heap space` error. We changed the configuration of the server to run as x64, and increased the Java Max Heap Size to 2G. I can see in VSTS that the project is now successfully building.\r\n\r\nHowever, the UITest.csproj is failing, with the following:\r\n\r\n\t2016-10-13T22:58:49.2048732Z ##[error]COMPILETODALVIK(0,0): Error : \r\n\t2016-10-13T22:58:49.2048732Z COMPILETODALVIK : UNEXPECTED TOP-LEVEL error :  [C:\\a\\1\\s\\Droid\\Mobile.Droid.csproj]\r\n\t2016-10-13T22:58:49.2048732Z   java.lang.OutOfMemoryError: Java heap space\r\n\t2016-10-13T22:58:49.2048732Z   \tat java.lang.Object.clone(Native Method)\r\n\t2016-10-13T22:58:49.2048732Z   \tat java.util.Arrays.sort(Arrays.java:1206)\r\n\t2016-10-13T22:58:49.2048732Z   \tat java.util.Collections.sort(Collections.java:157)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.dex.file.MixedItemSection.placeItems(MixedItemSection.java:301)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.dex.file.DexFile.toDex0(DexFile.java:541)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.dex.file.DexFile.toDex(DexFile.java:214)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.command.dexer.Main.writeDex(Main.java:856)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.command.dexer.Main.runMonoDex(Main.java:323)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.command.dexer.Main.run(Main.java:277)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.command.dexer.Main.main(Main.java:245)\r\n\t2016-10-13T22:58:49.2048732Z   \tat com.android.dx.command.Main.main(Main.java:106)\t\t\t\r\n\r\nIt seems the UITest is dependent on the Droid, which makes sense because it&#39;s testing the Droids UI components. Do I need to configure something in the UITest project for this to work?\r\n\r\nFor reference, this is the project configuration screen for the UITest project: (as you can see, it&#39;s an ordinary C# project so there&#39;s no option to increase Heap Size)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there something else I need to specify in VSTS for this UITest project to build?\r\n\r\n  [1]: https://i.stack.imgur.com/lC57E.png","title":"Why do I get a Java OutOfMemory exception when building a UITest project, even when building in x64 with 2G heap?","body":"<p>We're developing an Android app using Xamarin. \nWe're using Visual Studio Team Services as our CI service. </p>\n\n<p>The project consist of (among other things)</p>\n\n<ul>\n<li>Droid.csproj (android project)</li>\n<li>UITest.csproj (C# assembly for UI tests)</li>\n</ul>\n\n<p>Recently the Droid.csproj failed the build because of a <code>java.lang.OutOfMemoryError: Java heap space</code> error. We changed the configuration of the server to run as x64, and increased the Java Max Heap Size to 2G. I can see in VSTS that the project is now successfully building.</p>\n\n<p>However, the UITest.csproj is failing, with the following:</p>\n\n<pre><code>2016-10-13T22:58:49.2048732Z ##[error]COMPILETODALVIK(0,0): Error : \n2016-10-13T22:58:49.2048732Z COMPILETODALVIK : UNEXPECTED TOP-LEVEL error :  [C:\\a\\1\\s\\Droid\\Mobile.Droid.csproj]\n2016-10-13T22:58:49.2048732Z   java.lang.OutOfMemoryError: Java heap space\n2016-10-13T22:58:49.2048732Z    at java.lang.Object.clone(Native Method)\n2016-10-13T22:58:49.2048732Z    at java.util.Arrays.sort(Arrays.java:1206)\n2016-10-13T22:58:49.2048732Z    at java.util.Collections.sort(Collections.java:157)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.dex.file.MixedItemSection.placeItems(MixedItemSection.java:301)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.dex.file.DexFile.toDex0(DexFile.java:541)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.dex.file.DexFile.toDex(DexFile.java:214)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.command.dexer.Main.writeDex(Main.java:856)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.command.dexer.Main.runMonoDex(Main.java:323)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.command.dexer.Main.run(Main.java:277)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.command.dexer.Main.main(Main.java:245)\n2016-10-13T22:58:49.2048732Z    at com.android.dx.command.Main.main(Main.java:106)          \n</code></pre>\n\n<p>It seems the UITest is dependent on the Droid, which makes sense because it's testing the Droids UI components. Do I need to configure something in the UITest project for this to work?</p>\n\n<p>For reference, this is the project configuration screen for the UITest project: (as you can see, it's an ordinary C# project so there's no option to increase Heap Size)</p>\n\n<p><a href=\"https://i.stack.imgur.com/lC57E.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/lC57E.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there something else I need to specify in VSTS for this UITest project to build?</p>\n"},{"tags":["java","android","android-studio","heap-memory"],"comments":[{"owner":{"account_id":7534572,"reputation":1659,"user_id":5721385,"display_name":"DZDomi"},"score":0,"creation_date":1515359243,"post_id":48141536,"comment_id":83260964,"body_markdown":"looks like you ran out of memory, can you check the ram usage of your pc, or the java max ram settings?","body":"looks like you ran out of memory, can you check the ram usage of your pc, or the java max ram settings?"},{"owner":{"account_id":12531000,"reputation":1353,"user_id":9119277,"display_name":"Napster"},"score":0,"creation_date":1515359321,"post_id":48141536,"comment_id":83260981,"body_markdown":"This might help you [How to fix Java heap space](https://stackoverflow.com/questions/41645747/android-studio-gradle-build-failing-java-heap-space)","body":"This might help you <a href=\"https://stackoverflow.com/questions/41645747/android-studio-gradle-build-failing-java-heap-space\">How to fix Java heap space</a>"},{"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"score":0,"creation_date":1515359473,"post_id":48141536,"comment_id":83261016,"body_markdown":"I already tried adding `org.gradle.jvmargs=-XX\\:MaxHeapSize\\=256m -Xmx256m` to my gradle.properties but it didn&#39;t work","body":"I already tried adding <code>org.gradle.jvmargs=-XX\\:MaxHeapSize\\=256m -Xmx256m</code> to my gradle.properties but it didn&#39;t work"},{"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"score":0,"creation_date":1515359725,"post_id":48141536,"comment_id":83261096,"body_markdown":"Ram usage on my PC is at 50% so I don&#39;t think that&#39;s the problem","body":"Ram usage on my PC is at 50% so I don&#39;t think that&#39;s the problem"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1515360709,"post_id":48141536,"comment_id":83261370,"body_markdown":"`256m` is probably lower than what you started with. Set it higher, such as `1024m`. &quot;Ram usage on my PC is at 50% so I don&#39;t think that&#39;s the problem&quot; -- that means nothing in this case.","body":"<code>256m</code> is probably lower than what you started with. Set it higher, such as <code>1024m</code>. &quot;Ram usage on my PC is at 50% so I don&#39;t think that&#39;s the problem&quot; -- that means nothing in this case."},{"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"score":0,"creation_date":1515363540,"post_id":48141536,"comment_id":83262141,"body_markdown":"Not working, I tried even with 2048","body":"Not working, I tried even with 2048"},{"owner":{"account_id":3491211,"reputation":1083,"user_id":2920861,"accept_rate":88,"display_name":"Crigges"},"score":0,"creation_date":1515369718,"post_id":48141536,"comment_id":83263542,"body_markdown":"Possible duplicate see https://stackoverflow.com/questions/39547100/error-in-build-gradle-in-android-studio for more solutions","body":"Possible duplicate see <a href=\"https://stackoverflow.com/questions/39547100/error-in-build-gradle-in-android-studio\" title=\"error in build gradle in android studio\">stackoverflow.com/questions/39547100/&hellip;</a> for more solutions"}],"answers":[{"tags":[],"owner":{"account_id":14242572,"reputation":134,"user_id":10288513,"display_name":"Gourav Samre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553931898,"creation_date":1553931898,"answer_id":55429299,"question_id":48141536,"body_markdown":"I have tried many solutions but finally, this helped me to solve this problem : -\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.1-all.zip\r\n\r\nuse this line in your &quot;gradle-wrapper.properties&quot;. hope it helps others too.","title":"Android Studio error &quot;Java heap space&quot;","body":"<p>I have tried many solutions but finally, this helped me to solve this problem : -</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.1-all.zip\n</code></pre>\n\n<p>use this line in your \"gradle-wrapper.properties\". hope it helps others too.</p>\n"}],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633697054,"creation_date":1515359130,"question_id":48141536,"body_markdown":"I&#39;m developing an Android app in Android Studio and today suddenly it doesn&#39;t compile when I press the &quot;Run&quot; button. The error is this: \r\n\r\n&gt; Error:Execution failed for task\r\n&gt; &#39;:app:packageInstantRunResourcesDebug&#39;.\r\n&gt; Java heap space\r\n\r\nI&#39;ve tried cleaning the project and rebuilding it but it didn&#39;t work.","title":"Android Studio error &quot;Java heap space&quot;","body":"<p>I'm developing an Android app in Android Studio and today suddenly it doesn't compile when I press the \"Run\" button. The error is this: </p>\n\n<blockquote>\n  <p>Error:Execution failed for task\n  ':app:packageInstantRunResourcesDebug'.\n  Java heap space</p>\n</blockquote>\n\n<p>I've tried cleaning the project and rebuilding it but it didn't work.</p>\n"},{"tags":["java","json","key-value"],"comments":[{"owner":{"account_id":9899777,"reputation":1892,"user_id":9255006,"display_name":"Zankrut Parmar"},"score":0,"creation_date":1633677587,"post_id":69491802,"comment_id":122828225,"body_markdown":"What have you done so far? Add some code of what you have tried.","body":"What have you done so far? Add some code of what you have tried."}],"answers":[{"tags":[],"owner":{"account_id":22331593,"reputation":1,"user_id":16552784,"display_name":"Peter Leung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633696692,"creation_date":1633677434,"answer_id":69491956,"question_id":69491802,"body_markdown":"You can just concatenate the key with value, so getting value is enough, also parse the JSON into object first. \r\n\r\n```\r\n// do something to get value (not sure if this is syntax for java)\r\nvalue = jsonObject[0].id\r\n// then just concat value\r\nansString = &quot;id :&quot;+ value\r\n```","title":"I want both key and value from JSON object","body":"<p>You can just concatenate the key with value, so getting value is enough, also parse the JSON into object first.</p>\n<pre><code>// do something to get value (not sure if this is syntax for java)\nvalue = jsonObject[0].id\n// then just concat value\nansString = &quot;id :&quot;+ value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7274275,"reputation":861,"user_id":5546244,"accept_rate":31,"display_name":"koa73"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633678973,"creation_date":1633678973,"answer_id":69492249,"question_id":69491802,"body_markdown":"    &lt;script&gt;\r\n        var js1 = {&quot;Stores create/update&quot;: [\r\n          {\r\n            &quot;id&quot;: 780,\r\n            &quot;callback&quot;: &quot;Stores create/update&quot;,\r\n            &quot;date&quot;: &quot;2021-10-07&quot;\r\n    \r\n          }]};\r\n        console.log(JSON.stringify(js1).replace(/.*:\\s?(\\d{1,}).*/, &#39;&quot;id :$1&quot;&#39;));\r\n      &lt;/script&gt;","title":"I want both key and value from JSON object","body":"<pre><code>&lt;script&gt;\n    var js1 = {&quot;Stores create/update&quot;: [\n      {\n        &quot;id&quot;: 780,\n        &quot;callback&quot;: &quot;Stores create/update&quot;,\n        &quot;date&quot;: &quot;2021-10-07&quot;\n\n      }]};\n    console.log(JSON.stringify(js1).replace(/.*:\\s?(\\d{1,}).*/, '&quot;id :$1&quot;'));\n  &lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":12399591,"reputation":1,"user_id":9037453,"display_name":"Mounika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633696692,"creation_date":1633676661,"question_id":69491802,"body_markdown":"The JSON object\r\n\r\n    &quot;Stores create/update&quot;: [\r\n      {\r\n        &quot;id&quot;: 780,\r\n        &quot;callback&quot;: &quot;Stores create/update&quot;,\r\n        &quot;date&quot;: &quot;2021-10-07&quot;\r\n        \r\n      }]\r\n\r\nI want string `&quot;id :780&quot;`- without using  `jsonobject.get(&quot;id&quot;);`","title":"I want both key and value from JSON object","body":"<p>The JSON object</p>\n<pre><code>&quot;Stores create/update&quot;: [\n  {\n    &quot;id&quot;: 780,\n    &quot;callback&quot;: &quot;Stores create/update&quot;,\n    &quot;date&quot;: &quot;2021-10-07&quot;\n    \n  }]\n</code></pre>\n<p>I want string <code>&quot;id :780&quot;</code>- without using  <code>jsonobject.get(&quot;id&quot;);</code></p>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1633689504,"post_id":69494393,"comment_id":122832602,"body_markdown":"Show us what is `webelemt` and which locator you&#39;ve defined  ?","body":"Show us what is <code>webelemt</code> and which locator you&#39;ve defined  ?"},{"owner":{"account_id":13738069,"reputation":3,"user_id":9913877,"display_name":"shashank shekhar"},"score":0,"creation_date":1633689972,"post_id":69494393,"comment_id":122832781,"body_markdown":"@cruisepandey - I am using xpath [//span[@title=&#39;fieldItem&#39;]//preceding-sibling::input]","body":"@cruisepandey - I am using xpath [//span[@title=&#39;fieldItem&#39;]//preceding-sibling::input]"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1633691637,"post_id":69494393,"comment_id":122833374,"body_markdown":"See below for illustration.","body":"See below for illustration."}],"answers":[{"tags":[],"owner":{"account_id":20967255,"reputation":526,"user_id":15405179,"display_name":"Krupal Vaghasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633689532,"creation_date":1633689532,"answer_id":69494525,"question_id":69494393,"body_markdown":"You can use....\r\n\r\n    ele = driver.find_element_by_class_name(&#39;checkbox_one&#39;)\r\n\r\n    if ele.is_selected():\r\n        // do something\r\n    else:\r\n        // do something","title":"How to get that check box is enable or disable status using Selenium webdriver?","body":"<p>You can use....</p>\n<pre><code>ele = driver.find_element_by_class_name('checkbox_one')\n\nif ele.is_selected():\n    // do something\nelse:\n    // do something\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633691590,"creation_date":1633691590,"answer_id":69494947,"question_id":69494393,"body_markdown":"You can call `.getAttribute` method to have a condition where it will check for it&#39;s content and if that is not empty, assert should be pass, if empty assert should be fail. \r\n\r\n**Code :**\r\n\r\n\t\tWebElement webelemt = driver.findElement(By.xpath(&quot;//span[@title=&#39;fieldItem&#39;]//preceding-sibling::input&quot;));\r\n        String checkBoxStatus = &quot;&quot;;\r\n\t\tif (!webelemt.getAttribute(&quot;disabled&quot;).isEmpty() &amp;&amp; webelemt.getAttribute(&quot;disabled&quot;).contains(&quot;disabled&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Disabled must be present&quot;);\r\n\t\t\tcheckBoxStatus = &quot;disabled&quot;;\r\n\t\t\tAssert.assertTrue(true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Should not it be enabled  ?  or do we need if-else to handle that part as well.&quot;);\r\n\t\t\tAssert.assertTrue(false);\r\n\t\t}","title":"How to get that check box is enable or disable status using Selenium webdriver?","body":"<p>You can call <code>.getAttribute</code> method to have a condition where it will check for it's content and if that is not empty, assert should be pass, if empty assert should be fail.</p>\n<p><strong>Code :</strong></p>\n<pre><code>    WebElement webelemt = driver.findElement(By.xpath(&quot;//span[@title='fieldItem']//preceding-sibling::input&quot;));\n    String checkBoxStatus = &quot;&quot;;\n    if (!webelemt.getAttribute(&quot;disabled&quot;).isEmpty() &amp;&amp; webelemt.getAttribute(&quot;disabled&quot;).contains(&quot;disabled&quot;)) {\n        System.out.println(&quot;Disabled must be present&quot;);\n        checkBoxStatus = &quot;disabled&quot;;\n        Assert.assertTrue(true);\n    }\n    else {\n        System.out.println(&quot;Should not it be enabled  ?  or do we need if-else to handle that part as well.&quot;);\n        Assert.assertTrue(false);\n    }\n</code></pre>\n"}],"owner":{"account_id":13738069,"reputation":3,"user_id":9913877,"display_name":"shashank shekhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69494947,"answer_count":2,"score":0,"last_activity_date":1633696552,"creation_date":1633688909,"question_id":69494393,"body_markdown":"**html code :**\r\n\r\n    input type=&quot;checkbox&quot; class=&quot;checkbox_one&quot; disabled\r\n\r\nif checkbox is not disable text is not coming.\r\n\r\n\r\n    Assert.assertTrue(webelemt.getAttribute(&quot;innerHTML&quot;).contains(&quot;disabled&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c683B.png","title":"How to get that check box is enable or disable status using Selenium webdriver?","body":"<p><strong>html code :</strong></p>\n<pre><code>input type=&quot;checkbox&quot; class=&quot;checkbox_one&quot; disabled\n</code></pre>\n<p>if checkbox is not disable text is not coming.</p>\n<pre><code>Assert.assertTrue(webelemt.getAttribute(&quot;innerHTML&quot;).contains(&quot;disabled&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633694887,"creation_date":1633694887,"answer_id":69495607,"question_id":69495566,"body_markdown":"&gt; Is there any other authorisation mechanism that allow access to only\r\n&gt; single container &quot;test1&quot; ?\r\n\r\nYes. Simplest would be to create a Shared Access Signature (SAS) token for &quot;test1&quot; blob container. You will only be able to perform operations on this blob container only.\r\n\r\nTo learn more about Shared Access Signature, please see this link: https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview.\r\n\r\n","title":"Granting access to only specific azure storage container","body":"<blockquote>\n<p>Is there any other authorisation mechanism that allow access to only\nsingle container &quot;test1&quot; ?</p>\n</blockquote>\n<p>Yes. Simplest would be to create a Shared Access Signature (SAS) token for &quot;test1&quot; blob container. You will only be able to perform operations on this blob container only.</p>\n<p>To learn more about Shared Access Signature, please see this link: <a href=\"https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview</a>.</p>\n"}],"owner":{"account_id":11393789,"reputation":1,"user_id":8352878,"display_name":"Yogendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633695920,"creation_date":1633694661,"question_id":69495566,"body_markdown":"I am trying to upload data to azure blob storage under a specific container (suppose container &quot;test1&quot;). But access key(connection string) grant the access to other available containers( conatiner &quot;test2&quot;, &quot;test3&quot;) too.\r\n\r\nIs there any other authorisation mechanism that allow access to only single container &quot;test1&quot; ?\r\n\r\nNote : Using spring-boot application for file upload as blob, where access key(connection string) goes in environment file.","title":"Granting access to only specific azure storage container","body":"<p>I am trying to upload data to azure blob storage under a specific container (suppose container &quot;test1&quot;). But access key(connection string) grant the access to other available containers( conatiner &quot;test2&quot;, &quot;test3&quot;) too.</p>\n<p>Is there any other authorisation mechanism that allow access to only single container &quot;test1&quot; ?</p>\n<p>Note : Using spring-boot application for file upload as blob, where access key(connection string) goes in environment file.</p>\n"},{"tags":["java","str-replace"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1633677302,"post_id":69491918,"comment_id":122828107,"body_markdown":"Please read [mcve] and enhance your question accordingly. Dont ask us to think through what exactly your code is doing, to then think up examples where it might go wrong. Show us the example data you used, with actual vs expected output please.","body":"Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. Dont ask us to think through what exactly your code is doing, to then think up examples where it might go wrong. Show us the example data you used, with actual vs expected output please."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1633677350,"post_id":69491918,"comment_id":122828122,"body_markdown":"And unrelated: Learn about java naming conventions. Class name go UpperCamelCase, always. And you never use &quot;_&quot; in names (unless SOME_CONSTANT). And: use meaningful names for your variables. c, d, a ... all of that means nothing to a human reader!","body":"And unrelated: Learn about java naming conventions. Class name go UpperCamelCase, always. And you never use &quot;_&quot; in names (unless SOME_CONSTANT). And: use meaningful names for your variables. c, d, a ... all of that means nothing to a human reader!"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1633677414,"post_id":69491918,"comment_id":122828152,"body_markdown":"&quot;_result of string.replace(),is ignored_&quot;, yes, this is a helpful warning for you. `String#replace()` returns a `String`, which you ignore. It does not alter the `String` it was called on, because strings are immutable.","body":"&quot;<i>result of string.replace(),is ignored</i>&quot;, yes, this is a helpful warning for you. <code>String#replace()</code> returns a <code>String</code>, which you ignore. It does not alter the <code>String</code> it was called on, because strings are immutable."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1633677418,"post_id":69491918,"comment_id":122828157,"body_markdown":"Unrelated 2: dont forget to test your code with a string that ENDS with a space. You got another bug sitting in your code, waiting for that scenario ...","body":"Unrelated 2: dont forget to test your code with a string that ENDS with a space. You got another bug sitting in your code, waiting for that scenario ..."},{"owner":{"account_id":7975266,"reputation":1848,"user_id":6018655,"accept_rate":100,"display_name":"Cristian Ramon-Cortes"},"score":1,"creation_date":1633677455,"post_id":69491918,"comment_id":122828173,"body_markdown":"There are some issues with the code as others pointed out but try assigning the results of `replace`so that it is not ignored: `a = a.replace(...)`","body":"There are some issues with the code as others pointed out but try assigning the results of <code>replace</code>so that it is not ignored: <code>a = a.replace(...)</code>"},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1633677836,"post_id":69491918,"comment_id":122828321,"body_markdown":"Does this answer your question? [String.replace result is ignored?](https://stackoverflow.com/questions/36024703/string-replace-result-is-ignored)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36024703/string-replace-result-is-ignored\">String.replace result is ignored?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1955366,"reputation":4747,"user_id":1758461,"accept_rate":33,"display_name":"Josh Wulf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633695833,"creation_date":1633677563,"answer_id":69491983,"question_id":69491918,"body_markdown":"Java&#39;s `String.replace` method does not make a mutation of the string, it returns a new string with the performed replacement.\r\n\r\nSee [here](https://www.javatpoint.com/java-string-replace).\r\n\r\nYou will need to rethink your design. One approach is to copy the string, then scan through the original while progressively replacing the copy.\r\n\r\nSomething like this:\r\n\r\n```Java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class uppercase_1srchar_of_string {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;enter the string :&quot;);\r\n        String a = sc.nextLine();\r\n\r\n        String b = a;\r\n        for (int i = 0; i &lt; a.length(); i++) {\r\n            if (a.charAt(i) == &#39; &#39;) {\r\n                char c = a.charAt((i + 1));\r\n                char d = Character.toUpperCase(c);\r\n                \r\n                b = b.replace(a.charAt(i + 1), d);\r\n            }\r\n        }\r\n\r\n        System.out.println(a);\r\n    }\r\n}\r\n```\r\n\r\nYou might even be able to just replace `a`, like this:\r\n\r\n```Java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class uppercase_1srchar_of_string {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;enter the string :&quot;);\r\n        String a = sc.nextLine();\r\n\r\n        for (int i = 0; i &lt; a.length(); i++) {\r\n            if (a.charAt(i) == &#39; &#39;) {\r\n                char c = a.charAt((i + 1));\r\n                char d = Character.toUpperCase(c);\r\n\r\n                a = a.replace(a.charAt(i + 1), d);\r\n            }\r\n        }\r\n\r\n        System.out.println(a);\r\n    }\r\n}\r\n```","title":"Write a Java program to capitalize the first letter of each word in a sentence","body":"<p>Java's <code>String.replace</code> method does not make a mutation of the string, it returns a new string with the performed replacement.</p>\n<p>See <a href=\"https://www.javatpoint.com/java-string-replace\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You will need to rethink your design. One approach is to copy the string, then scan through the original while progressively replacing the copy.</p>\n<p>Something like this:</p>\n<pre><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class uppercase_1srchar_of_string {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;enter the string :&quot;);\n        String a = sc.nextLine();\n\n        String b = a;\n        for (int i = 0; i &lt; a.length(); i++) {\n            if (a.charAt(i) == ' ') {\n                char c = a.charAt((i + 1));\n                char d = Character.toUpperCase(c);\n                \n                b = b.replace(a.charAt(i + 1), d);\n            }\n        }\n\n        System.out.println(a);\n    }\n}\n</code></pre>\n<p>You might even be able to just replace <code>a</code>, like this:</p>\n<pre><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class uppercase_1srchar_of_string {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;enter the string :&quot;);\n        String a = sc.nextLine();\n\n        for (int i = 0; i &lt; a.length(); i++) {\n            if (a.charAt(i) == ' ') {\n                char c = a.charAt((i + 1));\n                char d = Character.toUpperCase(c);\n\n                a = a.replace(a.charAt(i + 1), d);\n            }\n        }\n\n        System.out.println(a);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633678218,"creation_date":1633678218,"answer_id":69492110,"question_id":69491918,"body_markdown":"Use `replaceAll`\r\n\r\n    String a = &quot;Write a Java program to capitalize the first letter of each word in a sentence.&quot;;\r\n\r\n    String b = Pattern\r\n            .compile(&quot;([^a-zA-Z]*)([a-zA-Z]+)&quot;)\r\n            .matcher(a)\r\n            .replaceAll(w -&gt;\r\n                    w.group(1) + w.group(2).substring(0, 1).toUpperCase() + w.group(2).substring(1));\r\n\r\n    System.out.println(b);\r\n\r\nwith output\r\n\r\n    Write A Java Program To Capitalize The First Letter Of Each Word In A Sentence.\r\n\r\n*(Note: the word definition is not clear at all, change it according to your needs see e.g. https://www.jrebel.com/blog/java-regular-expressions-cheat-sheet )*","title":"Write a Java program to capitalize the first letter of each word in a sentence","body":"<p>Use <code>replaceAll</code></p>\n<pre><code>String a = &quot;Write a Java program to capitalize the first letter of each word in a sentence.&quot;;\n\nString b = Pattern\n        .compile(&quot;([^a-zA-Z]*)([a-zA-Z]+)&quot;)\n        .matcher(a)\n        .replaceAll(w -&gt;\n                w.group(1) + w.group(2).substring(0, 1).toUpperCase() + w.group(2).substring(1));\n\nSystem.out.println(b);\n</code></pre>\n<p>with output</p>\n<pre><code>Write A Java Program To Capitalize The First Letter Of Each Word In A Sentence.\n</code></pre>\n<p><em>(Note: the word definition is not clear at all, change it according to your needs see e.g. <a href=\"https://www.jrebel.com/blog/java-regular-expressions-cheat-sheet\" rel=\"nofollow noreferrer\">https://www.jrebel.com/blog/java-regular-expressions-cheat-sheet</a> )</em></p>\n"},{"tags":[],"owner":{"account_id":1554925,"reputation":426,"user_id":1446358,"display_name":"Krushnat Khavale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633682487,"creation_date":1633682128,"answer_id":69492883,"question_id":69491918,"body_markdown":"Here is Java&#39;s streamy code to do the same without using replace method at all,\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class HelloWorld{\r\n    \r\n         public static void main(String []args){\r\n            String data = &quot;Hello world is my 1st program, wow i am amazed&quot;;\r\n            String output = Arrays.stream(data.split(&quot; &quot;))\r\n                                  .map(word -&gt; Character.toUpperCase(word.charAt(0)) + word.substring(1))\r\n                                  .collect(Collectors.joining(&quot; &quot;));\r\n                                  \r\n            System.out.println(&quot;Output: &quot; + output);\r\n         }\r\n    }\r\n\r\nwhich outputs following,\r\n\r\n``` Output: Hello World Is My 1st Program, Wow I Am Amazed ```\r\n\r\nYou can play around above solution online at https://www.tutorialspoint.com/compile_java8_online.php","title":"Write a Java program to capitalize the first letter of each word in a sentence","body":"<p>Here is Java's streamy code to do the same without using replace method at all,</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class HelloWorld{\n\n     public static void main(String []args){\n        String data = &quot;Hello world is my 1st program, wow i am amazed&quot;;\n        String output = Arrays.stream(data.split(&quot; &quot;))\n                              .map(word -&gt; Character.toUpperCase(word.charAt(0)) + word.substring(1))\n                              .collect(Collectors.joining(&quot; &quot;));\n                              \n        System.out.println(&quot;Output: &quot; + output);\n     }\n}\n</code></pre>\n<p>which outputs following,</p>\n<p><code>Output: Hello World Is My 1st Program, Wow I Am Amazed</code></p>\n<p>You can play around above solution online at <a href=\"https://www.tutorialspoint.com/compile_java8_online.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/compile_java8_online.php</a></p>\n"}],"owner":{"account_id":22970636,"reputation":1,"user_id":17099063,"display_name":"Vishu&#39;s study point"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633682652,"accepted_answer_id":69491983,"answer_count":3,"score":-2,"last_activity_date":1633695833,"creation_date":1633677211,"question_id":69491918,"body_markdown":"&gt;Write a Java program to capitalize the first letter of each word in a sentence.\r\n\r\nFor this, I have written a java program but it is throwing an error\r\n\r\n&gt;&quot;result of string.replace(),is ignored&quot;;\r\n\r\nmy code\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class uppercase_1srchar_of_string {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;enter the string :&quot;);\r\n        String a = sc.nextLine();\r\n\r\n        for(int i = 0; i &lt; a.length(); i++) {\r\n            if(a.charAt(i) == &#39; &#39;) {\r\n                char c;\r\n                char d;\r\n                c = a.charAt((i + 1));\r\n                d = Character.toUpperCase(c);\r\n                a.replace(a.charAt((i + 1)),d);\r\n            }\r\n        }\r\n\r\n        System.out.println(a);\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t know where I did make a mistake.\r\n","title":"Write a Java program to capitalize the first letter of each word in a sentence","body":"<blockquote>\n<p>Write a Java program to capitalize the first letter of each word in a sentence.</p>\n</blockquote>\n<p>For this, I have written a java program but it is throwing an error</p>\n<blockquote>\n<p>&quot;result of string.replace(),is ignored&quot;;</p>\n</blockquote>\n<p>my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class uppercase_1srchar_of_string {\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;enter the string :&quot;);\n        String a = sc.nextLine();\n\n        for(int i = 0; i &lt; a.length(); i++) {\n            if(a.charAt(i) == ' ') {\n                char c;\n                char d;\n                c = a.charAt((i + 1));\n                d = Character.toUpperCase(c);\n                a.replace(a.charAt((i + 1)),d);\n            }\n        }\n\n        System.out.println(a);\n    }\n}\n</code></pre>\n<p>I don't know where I did make a mistake.</p>\n"},{"tags":["java","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633694592,"creation_date":1633694592,"answer_id":69495547,"question_id":69495456,"body_markdown":"You&#39;re probably already done. Jar the files and run `java -cp &lt;jarfile&gt; package1.class1` or `java -cp &lt;jarfile&gt; package1.class2` or `java -cp &lt;jarfile&gt; package1.class3`\r\n\r\nThe `-cp` specifies the classpath; in this case you want your jar file. And then you name the class you want to use as an entrypoint.","title":"one runnable jar file for more runnable classes","body":"<p>You're probably already done. Jar the files and run <code>java -cp &lt;jarfile&gt; package1.class1</code> or <code>java -cp &lt;jarfile&gt; package1.class2</code> or <code>java -cp &lt;jarfile&gt; package1.class3</code></p>\n<p>The <code>-cp</code> specifies the classpath; in this case you want your jar file. And then you name the class you want to use as an entrypoint.</p>\n"}],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633694813,"creation_date":1633694158,"question_id":69495456,"body_markdown":"I have maven project with structure like this:\r\n\r\n    ┌─package1\r\n    │ class1\r\n    │\t├─public static void main\r\n    │ class2\r\n    │\t├─public static void main\r\n    │ class3\r\n    │\t└──public static void main\r\n    │\r\n    ├─package2\r\n    │\t└──some classes\r\n    ├─package3\r\n    │\t└──some classes\r\n    └─packageN\r\n    \t└──some classes\r\n\r\nTo be able to run class1 or class2 or class3 I&#39;ve exported each class to runnable jar file.\r\n\r\nHow can I achieve a single jar file where I choose class (from package1) using argument?","title":"one runnable jar file for more runnable classes","body":"<p>I have maven project with structure like this:</p>\n<pre><code>┌─package1\n│ class1\n│   ├─public static void main\n│ class2\n│   ├─public static void main\n│ class3\n│   └──public static void main\n│\n├─package2\n│   └──some classes\n├─package3\n│   └──some classes\n└─packageN\n    └──some classes\n</code></pre>\n<p>To be able to run class1 or class2 or class3 I've exported each class to runnable jar file.</p>\n<p>How can I achieve a single jar file where I choose class (from package1) using argument?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1579687560,"post_id":59857110,"comment_id":105846163,"body_markdown":"why not store your files in a DB and have your code get/store it (from) there?","body":"why not store your files in a DB and have your code get/store it (from) there?"},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":0,"creation_date":1579689085,"post_id":59857110,"comment_id":105847127,"body_markdown":"I don&#39;t quite understand, why you have to save the files to disk? If you want to deliver files to a user on keypress, you could do it on the fly, right?","body":"I don&#39;t quite understand, why you have to save the files to disk? If you want to deliver files to a user on keypress, you could do it on the fly, right?"},{"owner":{"account_id":10870828,"reputation":69,"user_id":7992801,"display_name":"Marcin Frąckiewicz"},"score":0,"creation_date":1579689381,"post_id":59857110,"comment_id":105847281,"body_markdown":"This is a solution. I would have to store it as a String. Then the user could have access to the text, but I don&#39;t know how to convert the text to a file that would be automatically downloaded.","body":"This is a solution. I would have to store it as a String. Then the user could have access to the text, but I don&#39;t know how to convert the text to a file that would be automatically downloaded."},{"owner":{"account_id":10870828,"reputation":69,"user_id":7992801,"display_name":"Marcin Frąckiewicz"},"score":0,"creation_date":1579689820,"post_id":59857110,"comment_id":105847510,"body_markdown":"@Frischling I could do it on the fly. However, I would prefer to save it.","body":"@Frischling I could do it on the fly. However, I would prefer to save it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1579690741,"post_id":59857110,"comment_id":105848053,"body_markdown":"You cannot save files to the classpath (at least NOT inside the WAR/JAR). You can save it to an outside accessible path like a temp folder or specifically assigned folder for that.","body":"You cannot save files to the classpath (at least NOT inside the WAR/JAR). You can save it to an outside accessible path like a temp folder or specifically assigned folder for that."},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":0,"creation_date":1579703078,"post_id":59857110,"comment_id":105855076,"body_markdown":"@MarcinFrąckiewicz then you have to save the stuff to an external folder, dedicated for this.  Database I find a bad idea somehow.  But really, if there are no concrete performance reasons or similar - creation on the fly is the way to go...  You also have to manage the directory, make the test-cases work + do a different file resolution in prod, and in the end have more effort, so asking _for what_ does have its justification.","body":"@MarcinFrąckiewicz then you have to save the stuff to an external folder, dedicated for this.  Database I find a bad idea somehow.  But really, if there are no concrete performance reasons or similar - creation on the fly is the way to go...  You also have to manage the directory, make the test-cases work + do a different file resolution in prod, and in the end have more effort, so asking <i>for what</i> does have its justification."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1579693076,"creation_date":1579693076,"answer_id":59858917,"question_id":59857110,"body_markdown":"In general, you do not want to upload anything into your application&#39;s files - it opens you to many security problems if someone figures out how to overwrite parts of the application, and in most application servers, it is simply not writable.\r\n\r\nA much better approach is to have a designated server folder where you can write things. For example, you could have the following in your configuration:\r\n\r\n    myapp.base-folder = /any/server/folder/you/want\r\n\r\nAnd then, in the code, you would find that folder as follows:\r\n\r\n    // env is an @AutoWired private Environment\r\n    File baseFolder = new File(env.getProperty(&quot;myapp.base-folder&quot;));\r\n\r\nI find this better than using a database (as @Stultuske suggested in comments), because databases are great for relations, but mostly overkill for actual files. Files can be accessed externally without firing up the database with minimal hassle, and having them separate keeps your database much easier to backup.\r\n\r\nTo generate links to the file, simply create a link as you would to any other type of request \r\n\r\n    &lt;a th:href=&quot;@{/file/${fileId}|}&quot;&gt;Download file&lt;/a&gt;\r\n\r\n-- and to handle it in the server, but returning the contents of the file:\r\n\r\n    @GetMapping(value=&quot;/file/{id}&quot;)\r\n\tpublic StreamingResponseBody getFile(@PathVariable long id) throws IOException {\t\t\r\n\t\tFile f = new File(baseFolder, &quot;&quot;+id); // numerical id prevents filesytem traversal\r\n\t\tInputStream in;\r\n\t\tif (f.exists()) {\r\n\t\t\tin = new BufferedInputStream(new FileInputStream(f));\r\n\t\t} else {\r\n            // you could also signal error by returning a 404\r\n\t\t\tin = new BufferedInputStream(getClass().getClassLoader()\r\n\t\t\t\t\t.getResourceAsStream(&quot;static/img/unknown-id.jpg&quot;));\r\n\t\t}\r\n\t\treturn new StreamingResponseBody() {\r\n\t\t\t@Override\r\n\t\t\tpublic void writeTo(OutputStream os) throws IOException {\r\n\t\t\t\tFileCopyUtils.copy(in, os);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nI prefer numerical IDs to avoid [hassles with path traversal](https://owasp.org/www-community/attacks/Path_Traversal) - but you can easily use string filenames instead, and deal with security issues by carefully checking that the canonical path of the requested file starts with the canonical path of your `baseFolder`","title":"How to write and read file in spring boot","body":"<p>In general, you do not want to upload anything into your application's files - it opens you to many security problems if someone figures out how to overwrite parts of the application, and in most application servers, it is simply not writable.</p>\n\n<p>A much better approach is to have a designated server folder where you can write things. For example, you could have the following in your configuration:</p>\n\n<pre><code>myapp.base-folder = /any/server/folder/you/want\n</code></pre>\n\n<p>And then, in the code, you would find that folder as follows:</p>\n\n<pre><code>// env is an @AutoWired private Environment\nFile baseFolder = new File(env.getProperty(\"myapp.base-folder\"));\n</code></pre>\n\n<p>I find this better than using a database (as @Stultuske suggested in comments), because databases are great for relations, but mostly overkill for actual files. Files can be accessed externally without firing up the database with minimal hassle, and having them separate keeps your database much easier to backup.</p>\n\n<p>To generate links to the file, simply create a link as you would to any other type of request </p>\n\n<pre><code>&lt;a th:href=\"@{/file/${fileId}|}\"&gt;Download file&lt;/a&gt;\n</code></pre>\n\n<p>-- and to handle it in the server, but returning the contents of the file:</p>\n\n<pre><code>@GetMapping(value=\"/file/{id}\")\npublic StreamingResponseBody getFile(@PathVariable long id) throws IOException {        \n    File f = new File(baseFolder, \"\"+id); // numerical id prevents filesytem traversal\n    InputStream in;\n    if (f.exists()) {\n        in = new BufferedInputStream(new FileInputStream(f));\n    } else {\n        // you could also signal error by returning a 404\n        in = new BufferedInputStream(getClass().getClassLoader()\n                .getResourceAsStream(\"static/img/unknown-id.jpg\"));\n    }\n    return new StreamingResponseBody() {\n        @Override\n        public void writeTo(OutputStream os) throws IOException {\n            FileCopyUtils.copy(in, os);\n        }\n    };\n}\n</code></pre>\n\n<p>I prefer numerical IDs to avoid <a href=\"https://owasp.org/www-community/attacks/Path_Traversal\" rel=\"nofollow noreferrer\">hassles with path traversal</a> - but you can easily use string filenames instead, and deal with security issues by carefully checking that the canonical path of the requested file starts with the canonical path of your <code>baseFolder</code></p>\n"}],"owner":{"account_id":10870828,"reputation":69,"user_id":7992801,"display_name":"Marcin Frąckiewicz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18175,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1633694770,"creation_date":1579687483,"question_id":59857110,"body_markdown":"I have a problem with saving files and then downloading them after generating a .war file.\r\nI need to handle the generation of many files after pressing the button by admin in the application. The files are generated using part of the code that was sent using the POST method and second part is from the database.\r\nThe files are hundreds / thousands and it is impossible to do it manually. Admin generates files from time to time. The user should be able to download these files from the application.\r\nWhen I run the application in IntelliJ, app has access to the folders on the disk, so the following code works:\r\n(part of backend class, responfible for saving files in path)\r\n```\r\n    private void saveTextToFile(String text, String fileName) {\r\n        String filePathAndName = &quot;/static/myFiles/&quot; + fileName+ &quot;.txt&quot;;\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        File file = new File(classLoader.getResource(&quot;.&quot;).getFile() + filePathAndName );\r\n        FileWriter fileWriter = null;\r\n        try {\r\n            fileWriter = new FileWriter(file);\r\n            PrintWriter printWriter = new PrintWriter(fileWriter);\r\n            printWriter.print(text);\r\n            printWriter.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe file was saved in folder:\r\n*C:\\Users\\...\\myProject\\target\\classes\\static*.\r\n(and this is link to generated file in thymeleaf)\r\n\r\n```&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;a th:href=&quot;@{|/myFiles/${thisIsMyFileName}|}&quot;&gt;Download file&lt;/a&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nUnfortunately, when I generate the .war file and run it, the files are not saved in the application&#39;s &quot;resources&quot; folder. As a result, the user cannot download this file via the link generated by thymeleaf.\r\n","title":"How to write and read file in spring boot","body":"<p>I have a problem with saving files and then downloading them after generating a .war file.\nI need to handle the generation of many files after pressing the button by admin in the application. The files are generated using part of the code that was sent using the POST method and second part is from the database.\nThe files are hundreds / thousands and it is impossible to do it manually. Admin generates files from time to time. The user should be able to download these files from the application.\nWhen I run the application in IntelliJ, app has access to the folders on the disk, so the following code works:\n(part of backend class, responfible for saving files in path)</p>\n\n<pre><code>    private void saveTextToFile(String text, String fileName) {\n        String filePathAndName = \"/static/myFiles/\" + fileName+ \".txt\";\n        ClassLoader classLoader = getClass().getClassLoader();\n        File file = new File(classLoader.getResource(\".\").getFile() + filePathAndName );\n        FileWriter fileWriter = null;\n        try {\n            fileWriter = new FileWriter(file);\n            PrintWriter printWriter = new PrintWriter(fileWriter);\n            printWriter.print(text);\n            printWriter.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>The file was saved in folder:\n<em>C:\\Users...\\myProject\\target\\classes\\static</em>.\n(and this is link to generated file in thymeleaf)</p>\n\n<pre><code>&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n\n&lt;a th:href=\"@{|/myFiles/${thisIsMyFileName}|}\"&gt;Download file&lt;/a&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Unfortunately, when I generate the .war file and run it, the files are not saved in the application's \"resources\" folder. As a result, the user cannot download this file via the link generated by thymeleaf.</p>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1526718905,"post_id":50423348,"comment_id":87861510,"body_markdown":"Step through both programs with a debugger, work out the value at which the result diverges.","body":"Step through both programs with a debugger, work out the value at which the result diverges."},{"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"score":0,"creation_date":1526718977,"post_id":50423348,"comment_id":87861535,"body_markdown":"@AndyTurner The algorithm completely different for both programs..I want to know is my way correct?","body":"@AndyTurner The algorithm completely different for both programs..I want to know is my way correct?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1526719190,"post_id":50423348,"comment_id":87861591,"body_markdown":"and yet they purport to solve the same problem. You should work out how the two solutions relate. For example, you could look at the answers for N=0, N=1, N=2 etc. Note that this doesn&#39;t tell you if either is *correct*; for that, you&#39;d actually have to think about whether the result is what you expect mathematically.","body":"and yet they purport to solve the same problem. You should work out how the two solutions relate. For example, you could look at the answers for N=0, N=1, N=2 etc. Note that this doesn&#39;t tell you if either is <i>correct</i>; for that, you&#39;d actually have to think about whether the result is what you expect mathematically."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1526720143,"post_id":50423348,"comment_id":87861804,"body_markdown":"The correct answer is probably 1 since it is unusual that only female cows would reproduce ...","body":"The correct answer is probably 1 since it is unusual that only female cows would reproduce ..."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1526725478,"post_id":50423348,"comment_id":87863328,"body_markdown":"For what input the program return wrong value (not as expected) ?","body":"For what input the program return wrong value (not as expected) ?"},{"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"score":0,"creation_date":1526726173,"post_id":50423348,"comment_id":87863515,"body_markdown":"@cOder for input value 100 output for both programs different but for 4,5,6,7,8,15,30 output of both programs same","body":"@cOder for input value 100 output for both programs different but for 4,5,6,7,8,15,30 output of both programs same"},{"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"score":0,"creation_date":1526726262,"post_id":50423348,"comment_id":87863538,"body_markdown":"@Henry yOU mean for all inputs output should be 1","body":"@Henry yOU mean for all inputs output should be 1"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1526728404,"post_id":50423348,"comment_id":87864092,"body_markdown":"How come that in your algo one test case depends on previous ones ? Why keep long array of values when you only need the sum  ? Also you are requested to have one argument (number of years) but you have two (number of cases) . To debug you need to input a value that yields wrong output and step through the code using debugger.","body":"How come that in your algo one test case depends on previous ones ? Why keep long array of values when you only need the sum  ? Also you are requested to have one argument (number of years) but you have two (number of cases) . To debug you need to input a value that yields wrong output and step through the code using debugger."},{"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"score":0,"creation_date":1526729046,"post_id":50423348,"comment_id":87864226,"body_markdown":"@c0der &quot;One test case depends on previous one..&quot;no..it doesn&#39;t...t is number of test cases and i started a for loop and for each test case i run the algorithm..&quot; you are requested to have one argument &quot;..no..as per ques we have to input number of test case and then each value of test case.","body":"@c0der &quot;One test case depends on previous one..&quot;no..it doesn&#39;t...t is number of test cases and i started a for loop and for each test case i run the algorithm..&quot; you are requested to have one argument &quot;..no..as per ques we have to input number of test case and then each value of test case."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1526732258,"post_id":50423348,"comment_id":87865096,"body_markdown":"My guess is that for &quot;very large numbers&quot; you get an integer overflow somewhere in between. But how would we know without a [MCVE](http://stackoverflow.com/help/mcve).","body":"My guess is that for &quot;very large numbers&quot; you get an integer overflow somewhere in between. But how would we know without a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"score":0,"creation_date":1526734860,"post_id":50423348,"comment_id":87865806,"body_markdown":"@lexicore I tried changing int  to long..but still output not matches for large numbers...i am checking using [this](https://www.tutorialspoint.com/compile_java_online.php)","body":"@lexicore I tried changing int  to long..but still output not matches for large numbers...i am checking using <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":16699027,"reputation":602,"user_id":12069305,"display_name":"edusanketdk"},"score":0,"creation_date":1633673803,"post_id":50423348,"comment_id":122827056,"body_markdown":"In most of the questions, N is of the order 10^18, so the fibonacci for such large number becomes overflowed in C++ like languages. So they ask you to compute the answer modulo 10^9+7. You did not do so, and probably the solutions online did it, that&#39;s why for answers larger that 10e9+7, it&#39;s showing different output.","body":"In most of the questions, N is of the order 10^18, so the fibonacci for such large number becomes overflowed in C++ like languages. So they ask you to compute the answer modulo 10^9+7. You did not do so, and probably the solutions online did it, that&#39;s why for answers larger that 10e9+7, it&#39;s showing different output."}],"answers":[{"tags":[],"owner":{"account_id":9224669,"reputation":169,"user_id":6852846,"display_name":"Sheth Nisarg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633694525,"creation_date":1633694525,"answer_id":69495530,"question_id":50423348,"body_markdown":"Your Solution won&#39;t work if the expected time complexity is `O(log N).`\r\nYou can convert the recursive equation in the form of matrix and solve it using matrix exponentiation.\r\n\r\nFor a more generalized version solve this problem https://www.spoj.com/problems/SEQ/\r\n","title":"Cows in the FooLand city","body":"<p>Your Solution won't work if the expected time complexity is <code>O(log N).</code>\nYou can convert the recursive equation in the form of matrix and solve it using matrix exponentiation.</p>\n<p>For a more generalized version solve this problem <a href=\"https://www.spoj.com/problems/SEQ/\" rel=\"nofollow noreferrer\">https://www.spoj.com/problems/SEQ/</a></p>\n"}],"owner":{"account_id":13469065,"reputation":432,"user_id":9718277,"display_name":"varmashrivastava"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633694525,"creation_date":1526718714,"question_id":50423348,"body_markdown":"I was going through this problem-\r\n\r\n&gt; Cows in the FooLand city are interesting animals. One of their\r\n&gt; specialties is related to producing offsprings. A cow in FooLand\r\n&gt; produces its first calve (female calf) at the age of two years and\r\n&gt; proceeds to produce other calves (one female calf a year).\r\n&gt; \r\n&gt; Now the farmer Harold wants to know how many animals would he have at\r\n&gt; the end of N years, if we assume that none of the calves die, given\r\n&gt; that initially, he has only one female calf?\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; Input:\r\n&gt; \r\n&gt; The first line contains a single integer T denoting the number of test\r\n&gt; cases. Each line of the test case contains a single integer N as\r\n&gt; described in the problem.  \r\n&gt; \r\n&gt; Output:\r\n&gt; \r\n&gt; For each test case print in new line the number of animals expected at\r\n&gt; the end of N years\r\n\r\nI solved this by below code-\r\n\r\n    public static void main (String[] args)\r\n    {\r\n        Scanner ab=new Scanner(System.in);\r\n        int t=ab.nextInt();  //number of test cases\r\n     \r\n        for (int i=0;i&lt;t;i++)\r\n        {\r\n            int n=ab.nextInt(); //years\r\n            int arr[]=new int[n];\r\n            arr[0]=1;\r\n            arr[1]=2;\r\n            if(n&gt;2)\r\n            {\r\n                for(i=2;i&lt;n;i++)\r\n                {\r\n                    arr[i]=arr[i-1]+arr[i-2];\r\n                }\r\n            }\r\n            System.out.println(arr[arr.length-1]);\r\n    \r\n         \r\n         }\r\n    }\r\n\r\nBut when i searched on net they have given a much complex solution at net-\r\n\r\nhttps://hackerranksolutionc.blogspot.in/2017/10/cows-of-fooland.html\r\n\r\nI tried matching the output and found the result is same for small numbers but is different for very large number.\r\n\r\nI want to know that is there anything wrong in my solution?","title":"Cows in the FooLand city","body":"<p>I was going through this problem-</p>\n\n<blockquote>\n  <p>Cows in the FooLand city are interesting animals. One of their\n  specialties is related to producing offsprings. A cow in FooLand\n  produces its first calve (female calf) at the age of two years and\n  proceeds to produce other calves (one female calf a year).</p>\n  \n  <p>Now the farmer Harold wants to know how many animals would he have at\n  the end of N years, if we assume that none of the calves die, given\n  that initially, he has only one female calf?</p>\n  \n  <p>Input:</p>\n  \n  <p>The first line contains a single integer T denoting the number of test\n  cases. Each line of the test case contains a single integer N as\n  described in the problem.  </p>\n  \n  <p>Output:</p>\n  \n  <p>For each test case print in new line the number of animals expected at\n  the end of N years</p>\n</blockquote>\n\n<p>I solved this by below code-</p>\n\n<pre><code>public static void main (String[] args)\n{\n    Scanner ab=new Scanner(System.in);\n    int t=ab.nextInt();  //number of test cases\n\n    for (int i=0;i&lt;t;i++)\n    {\n        int n=ab.nextInt(); //years\n        int arr[]=new int[n];\n        arr[0]=1;\n        arr[1]=2;\n        if(n&gt;2)\n        {\n            for(i=2;i&lt;n;i++)\n            {\n                arr[i]=arr[i-1]+arr[i-2];\n            }\n        }\n        System.out.println(arr[arr.length-1]);\n\n\n     }\n}\n</code></pre>\n\n<p>But when i searched on net they have given a much complex solution at net-</p>\n\n<p><a href=\"https://hackerranksolutionc.blogspot.in/2017/10/cows-of-fooland.html\" rel=\"nofollow noreferrer\">https://hackerranksolutionc.blogspot.in/2017/10/cows-of-fooland.html</a></p>\n\n<p>I tried matching the output and found the result is same for small numbers but is different for very large number.</p>\n\n<p>I want to know that is there anything wrong in my solution?</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633694487,"creation_date":1633694487,"answer_id":69495523,"question_id":69495366,"body_markdown":"Try to use `setWebViewClient`:\r\n\r\n    mWebView = (WebView)findViewById(R.id.wvPortal);\r\n    mWebView.setWebViewClient(new WebViewClient());\r\n    mWebView.loadUrl(&quot;www.domain.com/path/to/index.html&quot;);\r\n\r\n","title":"get content html page with web view in android","body":"<p>Try to use <code>setWebViewClient</code>:</p>\n<pre><code>mWebView = (WebView)findViewById(R.id.wvPortal);\nmWebView.setWebViewClient(new WebViewClient());\nmWebView.loadUrl(&quot;www.domain.com/path/to/index.html&quot;);\n</code></pre>\n"}],"owner":{"account_id":22978042,"reputation":15,"user_id":17105410,"display_name":"Dark Web"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69495523,"answer_count":1,"score":1,"last_activity_date":1633694487,"creation_date":1633693720,"question_id":69495366,"body_markdown":"I am working on an Android project in which I am loading an HTML page from the internet, not locally and then displaying it in WebView. It works fine, but unfortunately, when I click on any of the element in WebView, it opens the link in Browser.\r\n\r\nWhat changes do I need to make so that any links clicked within the web-view will be opened by Web-view itself. Thank you.\r\n\r\n    public class ContainerActivity extends Activity {\r\n        private WebView mWebView;\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.contain);\r\n    \r\n            mWebView = (WebView)findViewById(R.id.wvPortal);\r\n            mWebView.loadUrl(&quot;www.domain.com/path/to/index.html&quot;);\r\n            WebSettings mWebSettings = mWebView.getSettings();\r\n            mWebSettings.setJavaScriptEnabled(true);\r\n        }\r\n    }","title":"get content html page with web view in android","body":"<p>I am working on an Android project in which I am loading an HTML page from the internet, not locally and then displaying it in WebView. It works fine, but unfortunately, when I click on any of the element in WebView, it opens the link in Browser.</p>\n<p>What changes do I need to make so that any links clicked within the web-view will be opened by Web-view itself. Thank you.</p>\n<pre><code>public class ContainerActivity extends Activity {\n    private WebView mWebView;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.contain);\n\n        mWebView = (WebView)findViewById(R.id.wvPortal);\n        mWebView.loadUrl(&quot;www.domain.com/path/to/index.html&quot;);\n        WebSettings mWebSettings = mWebView.getSettings();\n        mWebSettings.setJavaScriptEnabled(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","intellij-13","system-properties"],"answers":[{"tags":[],"owner":{"account_id":218314,"reputation":5220,"user_id":474569,"accept_rate":60,"display_name":"Mzf"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1428216055,"creation_date":1428216055,"answer_id":29454841,"question_id":29454494,"body_markdown":"In InteliJ goto &quot;Run&quot;-&gt;&quot;Edit Configurations&quot;\r\nIn the new window, right panel, open the Junit and click on your test.\r\nNow, in the middle click on the &quot;Configuration&quot; tab and update the &quot;VM options&quot;\r\n\r\nNote that you will need to do this for every test class, but you can remove all the test from the junit in the right panel and update it in the &quot;Defaults&quot; ","title":"Set java system properties in IntelliJ or Eclipse","body":"<p>In InteliJ goto \"Run\"->\"Edit Configurations\"\nIn the new window, right panel, open the Junit and click on your test.\nNow, in the middle click on the \"Configuration\" tab and update the \"VM options\"</p>\n\n<p>Note that you will need to do this for every test class, but you can remove all the test from the junit in the right panel and update it in the \"Defaults\" </p>\n"},{"tags":[],"owner":{"account_id":118521,"reputation":799,"user_id":309592,"display_name":"sanimalp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523912834,"creation_date":1523912834,"answer_id":49866241,"question_id":29454494,"body_markdown":"If you are like me, and showed up here trying to run tests that use the -P syntax instead of -D syntax, you can simply follow the instructions from MZF, but use the -D **in place of the** -P.\r\n\r\nFor example, my test on the command line executed as: \r\n\r\n./gradlew -Penvironment=qa project:test\r\n\r\nUsing the -P in intellij on the VM line got rejected. Changing the -P to a -D ended up working, however. ","title":"Set java system properties in IntelliJ or Eclipse","body":"<p>If you are like me, and showed up here trying to run tests that use the -P syntax instead of -D syntax, you can simply follow the instructions from MZF, but use the -D <strong>in place of the</strong> -P.</p>\n\n<p>For example, my test on the command line executed as: </p>\n\n<p>./gradlew -Penvironment=qa project:test</p>\n\n<p>Using the -P in intellij on the VM line got rejected. Changing the -P to a -D ended up working, however. </p>\n"},{"tags":[],"owner":{"account_id":2704150,"reputation":1168,"user_id":2334114,"display_name":"ShadowGames"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1540473185,"creation_date":1528384975,"answer_id":50744937,"question_id":29454494,"body_markdown":"In IntelliJ it works as follows:\r\nGo to configurations -&gt; VM options and add the parameter/value pair:\r\n\r\n    -DmyParameter=value\r\n\r\nMake sure you add a &quot;D&quot; after the &quot;-&quot;!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dkQFg.png","title":"Set java system properties in IntelliJ or Eclipse","body":"<p>In IntelliJ it works as follows:\nGo to configurations -> VM options and add the parameter/value pair:</p>\n\n<pre><code>-DmyParameter=value\n</code></pre>\n\n<p>Make sure you add a \"D\" after the \"-\"!</p>\n\n<p><a href=\"https://i.stack.imgur.com/dkQFg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dkQFg.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1633694441,"creation_date":1633694441,"answer_id":69495511,"question_id":29454494,"body_markdown":"Run -&gt; Edit Configurations -&gt; Modify Options (a blue link in the top right corner) -&gt; [v] Add Vm Options -&gt; fill in the extra input line &#39;VM options&#39; ","title":"Set java system properties in IntelliJ or Eclipse","body":"<p>Run -&gt; Edit Configurations -&gt; Modify Options (a blue link in the top right corner) -&gt; [v] Add Vm Options -&gt; fill in the extra input line 'VM options'</p>\n"}],"owner":{"account_id":3721875,"reputation":1815,"user_id":3096733,"accept_rate":77,"display_name":"diegomontoyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110872,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"answer_count":4,"score":62,"last_activity_date":1633694441,"creation_date":1428212585,"question_id":29454494,"body_markdown":"I have a project which runs correctly under the terminal command \r\n\r\n    mvn package exec:java -Dplatform.dependencies -Dexec.mainClass=Demo\r\n\r\nNow, I need to debug it correctly (not terminal) with IntelliJ or Eclipse on Mac (preferably IntelliJ) but I have tried setting VM options in various places and nothing seems to work.\r\n\r\nWhere is the correct place to put these options: -Dplatform.dependencies -Dexec.mainClass=Demo? ","title":"Set java system properties in IntelliJ or Eclipse","body":"<p>I have a project which runs correctly under the terminal command </p>\n\n<pre><code>mvn package exec:java -Dplatform.dependencies -Dexec.mainClass=Demo\n</code></pre>\n\n<p>Now, I need to debug it correctly (not terminal) with IntelliJ or Eclipse on Mac (preferably IntelliJ) but I have tried setting VM options in various places and nothing seems to work.</p>\n\n<p>Where is the correct place to put these options: -Dplatform.dependencies -Dexec.mainClass=Demo? </p>\n"},{"tags":["java","datetime","timestamp","timestamp-with-timezone","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1633625838,"post_id":69475269,"comment_id":122816172,"body_markdown":"After [your previous question](https://stackoverflow.com/questions/69451932/how-to-convert-a-2021-09-29t170431-0000-0530-to-2021-09-29-170431-0000000) I am tempted to ask whether you just want to save the UTC offset (+02:00) or you need to save a time zone (like for instance Europe/Paris)?","body":"After <a href=\"https://stackoverflow.com/questions/69451932/how-to-convert-a-2021-09-29t170431-0000-0530-to-2021-09-29-170431-0000000\">your previous question</a> I am tempted to ask whether you just want to save the UTC offset (+02:00) or you need to save a time zone (like for instance Europe/Paris)?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633608661,"creation_date":1633608661,"answer_id":69480908,"question_id":69475269,"body_markdown":"*java.time*\r\n---\r\n\r\nThe [following table](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) depicts the mapping of ANSI SQL types with `java.time` types:\r\n\r\nANSI SQL|Java SE 8\r\n-|-\r\nDATE|LocalDate\r\nTIME|LocalTime\r\nTIMESTAMP|LocalDateTime\r\nTIME WITH TIMEZONE|OffsetTime\r\nTIMESTAMP WITH TIMEZONE|OffsetDateTime\r\n\r\nParse the given Date-Time string into `OffsetDateTime` as shown below:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS XXX&quot;, Locale.ENGLISH);\r\n    \t\tString strDateTime = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(strDateTime, dtf);\r\n    \t\tSystem.out.println(odt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-10-28T02:36:08+02:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nNow, you can store this `OffsetDateTime` into the database as shown below:\r\n\r\n    PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO mytable (columnfoo) VALUES (?)&quot;);\r\n    st.setObject(1, odt);\r\n    st.executeUpdate();\r\n    st.close();\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/iSNqiX\r\n","title":"How to store ZonedDateTime of java in TIMESTAMPTZ in oracle?","body":"<h2><em>java.time</em></h2>\n<p>The <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">following table</a> depicts the mapping of ANSI SQL types with <code>java.time</code> types:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ANSI SQL</th>\n<th>Java SE 8</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>DATE</td>\n<td>LocalDate</td>\n</tr>\n<tr>\n<td>TIME</td>\n<td>LocalTime</td>\n</tr>\n<tr>\n<td>TIMESTAMP</td>\n<td>LocalDateTime</td>\n</tr>\n<tr>\n<td>TIME WITH TIMEZONE</td>\n<td>OffsetTime</td>\n</tr>\n<tr>\n<td>TIMESTAMP WITH TIMEZONE</td>\n<td>OffsetDateTime</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Parse the given Date-Time string into <code>OffsetDateTime</code> as shown below:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS XXX&quot;, Locale.ENGLISH);\n        String strDateTime = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\n        OffsetDateTime odt = OffsetDateTime.parse(strDateTime, dtf);\n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-10-28T02:36:08+02:00\n</code></pre>\n<p><a href=\"https://ideone.com/iSNqiX\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Now, you can store this <code>OffsetDateTime</code> into the database as shown below:</p>\n<pre><code>PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO mytable (columnfoo) VALUES (?)&quot;);\nst.setObject(1, odt);\nst.executeUpdate();\nst.close();\n</code></pre>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633694349,"creation_date":1633635877,"answer_id":69486994,"question_id":69475269,"body_markdown":"## The three-arg TIMESTAMPTZ(Connection, Timestamp, ZoneId) constructor\r\n\r\nAccording to the documentation of the Oracle `TIMESTAMPTZ` class (link at the bottom) it has a constructor that in addition to the connection takes a `java.sql.Timestamp` and a `java.time.ZoneId` as arguments (a funny mixture of an outdated and a modern Java class). Since we can extract a `ZoneOffset` from your string and `ZoneOffset` is a subclass of `ZoneId`, we can use this constructor for your purpose:\r\n\r\n\t\tString d = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\r\n\t\tOffsetDateTime odt = OffsetDateTime.parse(d, PARSER);\r\n\t\tInstant inst = odt.toInstant();\r\n\t\tZoneId offsetAsZoneId = odt.getOffset(); \r\n\t\tTIMESTAMPTZ t = new TIMESTAMPTZ(con, Timestamp.from(inst), offsetAsZoneId);\r\n\r\nI used this formatter for parsing:\r\n\r\n\tprivate static final DateTimeFormatter PARSER = new DateTimeFormatterBuilder()\r\n\t\t\t.append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n\t\t\t.appendLiteral(&#39; &#39;)\r\n\t\t\t.append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n\t\t\t.appendLiteral(&#39; &#39;)\r\n\t\t\t.appendOffsetId()\r\n\t\t\t.toFormatter(Locale.ROOT);\r\n\r\n## You may also save a time zone to Oracle\r\n\r\nThat the constructor I used accepts a `ZoneId` opens the additional possibility that we may store a real time zone ID like Europe/Paris or Asia/Kolkata to the database rather than just a naked UTC offset. At least the way I read the Oracle database documentation, its `timestamp with time zone` data type can hold a time zone ID. The example given in the documentation is America/Los_Angeles.\r\n\r\nFor a simple example of converting a `ZonedDateTime` to a `TIMESTAMPTZ`:\r\n\r\n\t\tZonedDateTime zdt = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n\t\tInstant inst = zdt.toInstant();\r\n\t\tZoneId zid = zdt.getZone(); \r\n\t\tTIMESTAMPTZ t = new TIMESTAMPTZ(con , Timestamp.from(inst), zid);\r\n\r\n## Links\r\n\r\n - [Documentation of `TIMESTAMPTZ`](https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jajdb/oracle/sql/TIMESTAMPTZ.html) and its [`TIMESTAMPTZ(Connection, Timestamp, ZoneId`)](https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jajdb/oracle/sql/TIMESTAMPTZ.html#TIMESTAMPTZ-java.sql.Connection-java.sql.Timestamp-java.time.ZoneId-) constructor.\r\n - Oracle database *Datetime Data Types and Time Zone Support* help, section [Datetime and Interval Data Types](https://docs.oracle.com/cd/E11882_01/server.112/e10729/ch4datetime.htm#i1005946). Scroll down to *TIMESTAMP WITH TIME ZONE Data Type*.\r\n","title":"How to store ZonedDateTime of java in TIMESTAMPTZ in oracle?","body":"<h2>The three-arg TIMESTAMPTZ(Connection, Timestamp, ZoneId) constructor</h2>\n<p>According to the documentation of the Oracle <code>TIMESTAMPTZ</code> class (link at the bottom) it has a constructor that in addition to the connection takes a <code>java.sql.Timestamp</code> and a <code>java.time.ZoneId</code> as arguments (a funny mixture of an outdated and a modern Java class). Since we can extract a <code>ZoneOffset</code> from your string and <code>ZoneOffset</code> is a subclass of <code>ZoneId</code>, we can use this constructor for your purpose:</p>\n<pre><code>    String d = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\n    OffsetDateTime odt = OffsetDateTime.parse(d, PARSER);\n    Instant inst = odt.toInstant();\n    ZoneId offsetAsZoneId = odt.getOffset(); \n    TIMESTAMPTZ t = new TIMESTAMPTZ(con, Timestamp.from(inst), offsetAsZoneId);\n</code></pre>\n<p>I used this formatter for parsing:</p>\n<pre><code>private static final DateTimeFormatter PARSER = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .appendLiteral(' ')\n        .appendOffsetId()\n        .toFormatter(Locale.ROOT);\n</code></pre>\n<h2>You may also save a time zone to Oracle</h2>\n<p>That the constructor I used accepts a <code>ZoneId</code> opens the additional possibility that we may store a real time zone ID like Europe/Paris or Asia/Kolkata to the database rather than just a naked UTC offset. At least the way I read the Oracle database documentation, its <code>timestamp with time zone</code> data type can hold a time zone ID. The example given in the documentation is America/Los_Angeles.</p>\n<p>For a simple example of converting a <code>ZonedDateTime</code> to a <code>TIMESTAMPTZ</code>:</p>\n<pre><code>    ZonedDateTime zdt = ZonedDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;));\n    Instant inst = zdt.toInstant();\n    ZoneId zid = zdt.getZone(); \n    TIMESTAMPTZ t = new TIMESTAMPTZ(con , Timestamp.from(inst), zid);\n</code></pre>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jajdb/oracle/sql/TIMESTAMPTZ.html\" rel=\"nofollow noreferrer\">Documentation of <code>TIMESTAMPTZ</code></a> and its <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jajdb/oracle/sql/TIMESTAMPTZ.html#TIMESTAMPTZ-java.sql.Connection-java.sql.Timestamp-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>TIMESTAMPTZ(Connection, Timestamp, ZoneId</code>)</a> constructor.</li>\n<li>Oracle database <em>Datetime Data Types and Time Zone Support</em> help, section <a href=\"https://docs.oracle.com/cd/E11882_01/server.112/e10729/ch4datetime.htm#i1005946\" rel=\"nofollow noreferrer\">Datetime and Interval Data Types</a>. Scroll down to <em>TIMESTAMP WITH TIME ZONE Data Type</em>.</li>\n</ul>\n"}],"owner":{"account_id":10493626,"reputation":181,"user_id":7734623,"display_name":"Pravin Mangalam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69486994,"answer_count":2,"score":1,"last_activity_date":1633694349,"creation_date":1633578961,"question_id":69475269,"body_markdown":"I want to store the ZonedDateTime in TIMESTAMP WITH TIME ZONE datatype in oracle.\r\nIf I am trying to store string directly as a String it throws not a valid month.\r\nthen I found that I can convert it to the TIMESTAMPTZ in java then store because we need to convert the string to TIMESTAMPTZ and its throwing error.\r\n\r\n```\r\nString d = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\r\nTIMESTAMPTZ t = new TIMESTAMPTZ(con, d);\r\nPreparedStatement ps = con.prepareStatement(query);\r\nps.setObject(1,t);\r\n```\r\n\r\nError/stack trace:\r\n\r\n&gt;     Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff]\r\n&gt;     \tat java.sql.Timestamp.valueOf(Timestamp.java:251)\r\n&gt;      \tat oracle.sql.TIMESTAMPTZ.toBytes(TIMESTAMPTZ.java:1919)\r\n&gt;      \tat oracle.sql.TIMESTAMPTZ.&lt;init&gt;(TIMESTAMPTZ.java:253)\r\n&gt;      \tat OracleSelectQuery.main(OracleSelectQuery.java:21)\r\n\r\n\r\n\r\nSomeone please look into this.\r\n","title":"How to store ZonedDateTime of java in TIMESTAMPTZ in oracle?","body":"<p>I want to store the ZonedDateTime in TIMESTAMP WITH TIME ZONE datatype in oracle.\nIf I am trying to store string directly as a String it throws not a valid month.\nthen I found that I can convert it to the TIMESTAMPTZ in java then store because we need to convert the string to TIMESTAMPTZ and its throwing error.</p>\n<pre><code>String d = &quot;2021-10-28 02:36:08.000000 +02:00&quot;;\nTIMESTAMPTZ t = new TIMESTAMPTZ(con, d);\nPreparedStatement ps = con.prepareStatement(query);\nps.setObject(1,t);\n</code></pre>\n<p>Error/stack trace:</p>\n<blockquote>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff]\n  at java.sql.Timestamp.valueOf(Timestamp.java:251)\n  at oracle.sql.TIMESTAMPTZ.toBytes(TIMESTAMPTZ.java:1919)\n  at oracle.sql.TIMESTAMPTZ.&lt;init&gt;(TIMESTAMPTZ.java:253)\n  at OracleSelectQuery.main(OracleSelectQuery.java:21)\n</code></pre>\n</blockquote>\n<p>Someone please look into this.</p>\n"},{"tags":["base64","java"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1304673642,"post_id":5908574,"comment_id":6802570,"body_markdown":"you should stay await from sun.misc, it&#39;s sort of kinky, it rarely changes but when it does it&#39;s quite rapid.","body":"you should stay await from sun.misc, it&#39;s sort of kinky, it rarely changes but when it does it&#39;s quite rapid."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1304674711,"creation_date":1304669542,"answer_id":5908599,"question_id":5908574,"body_markdown":"No, the situation didn&#39;t change between Java 5 and Java 6.\r\n\r\n&lt;strike&gt;Unfortunately there is no official Base64 implementation in the Java SE platform.&lt;/strike&gt; @bestsss has shown that there **is** in fact a (well-hidden) Base64 implementation in Java SE 6 (see his answer for more detail).\r\n\r\nThe Sun JDK ships with this class (`sun.misc.Base64Decoder`), but it&#39;s not specified and [should not be used][1] (especially as it&#39;s not required to exist in other implementations or even versions).\r\n\r\nIf you absolutely need to avoid third party libraries ([Apache Commons Codec][2] would be the traditional provider of [a Base64 implementation][3]), then you might want to copy a BSD (or similarly) licensed version into your project. There is a [public domain implementation][4] and that&#39;s about as painless as it gets, when it comes to licenses.\r\n\r\n\r\n  [1]: http://java.sun.com/products/jdk/faq/faq-sun-packages.html\r\n  [2]: http://commons.apache.org/codec/\r\n  [3]: http://commons.apache.org/codec/api-release/org/apache/commons/codec/binary/Base64.html\r\n  [4]: http://www.iharder.net/current/java/base64/","title":"Base64 decoding using JDK6 only","body":"<p>No, the situation didn't change between Java 5 and Java 6.</p>\n\n<p><strike>Unfortunately there is no official Base64 implementation in the Java SE platform.</strike> @bestsss has shown that there <strong>is</strong> in fact a (well-hidden) Base64 implementation in Java SE 6 (see his answer for more detail).</p>\n\n<p>The Sun JDK ships with this class (<code>sun.misc.Base64Decoder</code>), but it's not specified and <a href=\"http://java.sun.com/products/jdk/faq/faq-sun-packages.html\" rel=\"noreferrer\">should not be used</a> (especially as it's not required to exist in other implementations or even versions).</p>\n\n<p>If you absolutely need to avoid third party libraries (<a href=\"http://commons.apache.org/codec/\" rel=\"noreferrer\">Apache Commons Codec</a> would be the traditional provider of <a href=\"http://commons.apache.org/codec/api-release/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\">a Base64 implementation</a>), then you might want to copy a BSD (or similarly) licensed version into your project. There is a <a href=\"http://www.iharder.net/current/java/base64/\" rel=\"noreferrer\">public domain implementation</a> and that's about as painless as it gets, when it comes to licenses.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1304675931,"creation_date":1304673499,"answer_id":5909289,"question_id":5908574,"body_markdown":"There are official (non `sun.misc`) implementations in Java, but it&#39;s not where anyone suppose to be.  \r\n\r\n`java.util.prefs.AbstractPreferences` is the one that has the necessary methods to do so. You have to override `put` method.\r\n\r\n\r\nAnd one more which is much easier to use:\r\n\r\n[`javax.xml.bind.DatatypeConverter`][1] it has 2 methods of interest:\r\n\r\n - [`public static byte[] parseBase64Binary( String lexicalXSDBase64Binary )`][2]\r\n - [`public static String printBase64Binary( byte[] val )`][3]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary%28java.lang.String%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\r\n\r\n---\r\nclarification the base64 nature of AbstractPreferences:\r\njava.util.prefs.Preferences\r\n&lt;pre&gt;\r\n    /**\r\n     * Associates a string representing the specified byte array with the\r\n     * specified key in this preference node.  The associated string is\r\n     * the &lt;i&gt;Base64&lt;/i&gt; encoding of the byte array, as defined in &lt;a\r\n     * href=http://www.ietf.org/rfc/rfc2045.txt&gt;RFC 2045&lt;/a&gt;, Section 6.8,\r\n     * with one minor change: the string will consist solely of characters\r\n     * from the &lt;i&gt;Base64 Alphabet&lt;/i&gt;; it will not contain any newline\r\n     * characters.  Note that the maximum length of the byte array is limited\r\n     * to three quarters of &lt;tt&gt;MAX_VALUE_LENGTH&lt;/tt&gt; so that the length\r\n     * of the Base64 encoded String does not exceed &lt;tt&gt;MAX_VALUE_LENGTH&lt;/tt&gt;.\r\n     * This method is intended for use in conjunction with\r\n     * {@link #getByteArray}.\r\n     */\r\n    public abstract void putByteArray(String key, byte[] value);\r\n&lt;/pre&gt;","title":"Base64 decoding using JDK6 only","body":"<p>There are official (non <code>sun.misc</code>) implementations in Java, but it's not where anyone suppose to be.  </p>\n\n<p><code>java.util.prefs.AbstractPreferences</code> is the one that has the necessary methods to do so. You have to override <code>put</code> method.</p>\n\n<p>And one more which is much easier to use:</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html\" rel=\"noreferrer\"><code>javax.xml.bind.DatatypeConverter</code></a> it has 2 methods of interest:</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary%28java.lang.String%29\" rel=\"noreferrer\"><code>public static byte[] parseBase64Binary( String lexicalXSDBase64Binary )</code></a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\" rel=\"noreferrer\"><code>public static String printBase64Binary( byte[] val )</code></a></li>\n</ul>\n\n<hr>\n\n<p>clarification the base64 nature of AbstractPreferences:\njava.util.prefs.Preferences</p>\n\n<pre>\n    /**\n     * Associates a string representing the specified byte array with the\n     * specified key in this preference node.  The associated string is\n     * the <i>Base64</i> encoding of the byte array, as defined in RFC 2045, Section 6.8,\n     * with one minor change: the string will consist solely of characters\n     * from the <i>Base64 Alphabet</i>; it will not contain any newline\n     * characters.  Note that the maximum length of the byte array is limited\n     * to three quarters of MAX_VALUE_LENGTH so that the length\n     * of the Base64 encoded String does not exceed MAX_VALUE_LENGTH.\n     * This method is intended for use in conjunction with\n     * {@link #getByteArray}.\n     */\n    public abstract void putByteArray(String key, byte[] value);\n</pre>\n"},{"tags":[],"owner":{"account_id":1888683,"reputation":2445,"user_id":1707348,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1467897966,"creation_date":1467897966,"answer_id":38246728,"question_id":5908574,"body_markdown":"Just like Joachim Sauer said in a previous comment JDK1.6 already comes bundled with it&#39;s own Base64 implementation (sun.misc.*), here&#39;s an example:\r\n\r\n    String toEncode = &quot;Encoding and Decoding in Base64 Test&quot;;\r\n    //Encoding in b64\r\n    String encoded = new BASE64Encoder().encode(toEncode.getBytes());\r\n    System.out.println(encoded);\r\n    //Decoding in b64\r\n    byte[] decodeResult = new BASE64Decoder().decodeBuffer(encoded);\r\n    System.out.println(new String(decodeResult));","title":"Base64 decoding using JDK6 only","body":"<p>Just like Joachim Sauer said in a previous comment JDK1.6 already comes bundled with it's own Base64 implementation (sun.misc.*), here's an example:</p>\n\n<pre><code>String toEncode = \"Encoding and Decoding in Base64 Test\";\n//Encoding in b64\nString encoded = new BASE64Encoder().encode(toEncode.getBytes());\nSystem.out.println(encoded);\n//Decoding in b64\nbyte[] decodeResult = new BASE64Decoder().decodeBuffer(encoded);\nSystem.out.println(new String(decodeResult));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213131,"reputation":4400,"user_id":466363,"display_name":"Shimon Doodkin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561417631,"creation_date":1561417631,"answer_id":56744974,"question_id":5908574,"body_markdown":"i used  `byte[] decodedValue = DatatypeConverter.parseBase64Binary(value);`\r\n\r\nthis website explains well:\r\nhttps://www.rgagnon.com/javadetails/java-0598.html\r\n\r\nexcerpt from it:\r\n\r\n       public static String encode(String value) throws Exception {\r\n          return  DatatypeConverter.printBase64Binary\r\n              (value.getBytes(StandardCharsets.UTF_8)); // use &quot;utf-8&quot; if java 6\r\n       }\r\n    \r\n       public static String decode(String value) throws Exception {\r\n          byte[] decodedValue = DatatypeConverter.parseBase64Binary(value);\r\n          return new String(decodedValue, StandardCharsets.UTF_8); // use &quot;utf-8&quot; if java 6\r\n       }\r\n\r\n","title":"Base64 decoding using JDK6 only","body":"<p>i used  <code>byte[] decodedValue = DatatypeConverter.parseBase64Binary(value);</code></p>\n\n<p>this website explains well:\n<a href=\"https://www.rgagnon.com/javadetails/java-0598.html\" rel=\"nofollow noreferrer\">https://www.rgagnon.com/javadetails/java-0598.html</a></p>\n\n<p>excerpt from it:</p>\n\n<pre><code>   public static String encode(String value) throws Exception {\n      return  DatatypeConverter.printBase64Binary\n          (value.getBytes(StandardCharsets.UTF_8)); // use \"utf-8\" if java 6\n   }\n\n   public static String decode(String value) throws Exception {\n      byte[] decodedValue = DatatypeConverter.parseBase64Binary(value);\n      return new String(decodedValue, StandardCharsets.UTF_8); // use \"utf-8\" if java 6\n   }\n</code></pre>\n"}],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60741,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":5908599,"answer_count":4,"score":25,"last_activity_date":1633694088,"creation_date":1304669422,"question_id":5908574,"body_markdown":"[This question with regard to JDK 5](https://stackoverflow.com/questions/917604/decode-base64-string-java-5) says, there is no implementation provided with JDK 5, but JDK 6 is supposed to have a `sun.misc.Base64Decoder`.\r\n\r\nAs far as I can tell though, this class is not provided with the JDK and I was not able to find any other similar classes in it&lt;br&gt;&lt;br&gt;So, what is the situation like with JDK6?&lt;br&gt;&lt;br&gt;I am aware of numerous implementations out there like the Commons and the JBoss ones, but we have a restrictive 3rd party lib policy, so I am trying to avoid reinventing the wheel.","title":"Base64 decoding using JDK6 only","body":"<p><a href=\"https://stackoverflow.com/questions/917604/decode-base64-string-java-5\">This question with regard to JDK 5</a> says, there is no implementation provided with JDK 5, but JDK 6 is supposed to have a <code>sun.misc.Base64Decoder</code>.</p>\n\n<p>As far as I can tell though, this class is not provided with the JDK and I was not able to find any other similar classes in it<br><br>So, what is the situation like with JDK6?<br><br>I am aware of numerous implementations out there like the Commons and the JBoss ones, but we have a restrictive 3rd party lib policy, so I am trying to avoid reinventing the wheel.</p>\n"},{"tags":["java","arrays","constants"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1633635210,"post_id":69486825,"comment_id":122819421,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question. It is unclear what you are asking as you do want to use constants, but don&#39;t want to use constants and fill an array with values to use it as constants, but create them dynamically at runtime. Please [edit] your question to include a more detailed description of what you are trying to do and what you have tried so far.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. It is unclear what you are asking as you do want to use constants, but don&#39;t want to use constants and fill an array with values to use it as constants, but create them dynamically at runtime. Please <a href=\"https://stackoverflow.com/posts/69486825/edit\">edit</a> your question to include a more detailed description of what you are trying to do and what you have tried so far."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1633635654,"post_id":69486825,"comment_id":122819573,"body_markdown":"What are the fields that make up a Note instance?  You can create a String array with the note names (A, A# B C, etc.)  and use a double for loop for octave numbers.  You might be able to calculate the note frequencies.","body":"What are the fields that make up a Note instance?  You can create a String array with the note names (A, A# B C, etc.)  and use a double for loop for octave numbers.  You might be able to calculate the note frequencies."},{"owner":{"account_id":22971410,"reputation":11,"user_id":17099711,"display_name":"George Yeatman"},"score":0,"creation_date":1633636050,"post_id":69486825,"comment_id":122819731,"body_markdown":"I probably should have included that tbf, the Note class takes the noteName, which is an enum containing the 12 notes in western music, and the octave of the note, which is just an int. I guess I could just create a function that generates the note that would be in a certain index position whenever I need it, but this doesn&#39;t seem too effecient. Mostly interested as it would be good to know the best way to do this going forwards","body":"I probably should have included that tbf, the Note class takes the noteName, which is an enum containing the 12 notes in western music, and the octave of the note, which is just an int. I guess I could just create a function that generates the note that would be in a certain index position whenever I need it, but this doesn&#39;t seem too effecient. Mostly interested as it would be good to know the best way to do this going forwards"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1633636427,"post_id":69486825,"comment_id":122819859,"body_markdown":"I don&#39;t see anything wrong with your current approach.  If you set each index to an instance of `Note`, like you do in the for loop, then you do not have an array of nulls.  You&#39;ll need to review what makes you think the array is full of nulls.  Remember that you&#39;ll have to create an instance of `Constants` to get that initializer block to run.  Or you could stick the static keyword in front of it to make it run when the class is loaded.  My guess is that you&#39;re not running the code block, and once you fix that, you won&#39;t need to do anything else because your for loop is fine.","body":"I don&#39;t see anything wrong with your current approach.  If you set each index to an instance of <code>Note</code>, like you do in the for loop, then you do not have an array of nulls.  You&#39;ll need to review what makes you think the array is full of nulls.  Remember that you&#39;ll have to create an instance of <code>Constants</code> to get that initializer block to run.  Or you could stick the static keyword in front of it to make it run when the class is loaded.  My guess is that you&#39;re not running the code block, and once you fix that, you won&#39;t need to do anything else because your for loop is fine."},{"owner":{"account_id":22971410,"reputation":11,"user_id":17099711,"display_name":"George Yeatman"},"score":0,"creation_date":1633640443,"post_id":69486825,"comment_id":122821203,"body_markdown":"Oh amazing, I didn&#39;t know that you could put static in front of that code block to get it to run when the static class is initialised. This solved my problem thanks - feel free to make an answer detailing this so I can award it with an accepted answer :)","body":"Oh amazing, I didn&#39;t know that you could put static in front of that code block to get it to run when the static class is initialised. This solved my problem thanks - feel free to make an answer detailing this so I can award it with an accepted answer :)"}],"answers":[{"tags":[],"owner":{"account_id":9232561,"reputation":531,"user_id":6858195,"display_name":"Benjamin Berman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633636075,"creation_date":1633636075,"answer_id":69487025,"question_id":69486825,"body_markdown":"You could use an immutable list--see https://www.baeldung.com/java-immutable-list for instance.\r\n\r\nYou could also write a little script to generate the source code, and then copy that in. This might actually be better than an immutable list, because then you don&#39;t have to worry about runtime errors, and you can get all the nice code completion stuff in your IDE.","title":"Easiest way to generate an array of constants in Java","body":"<p>You could use an immutable list--see <a href=\"https://www.baeldung.com/java-immutable-list\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-immutable-list</a> for instance.</p>\n<p>You could also write a little script to generate the source code, and then copy that in. This might actually be better than an immutable list, because then you don't have to worry about runtime errors, and you can get all the nice code completion stuff in your IDE.</p>\n"}],"owner":{"account_id":22971410,"reputation":11,"user_id":17099711,"display_name":"George Yeatman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633694034,"answer_count":1,"score":1,"last_activity_date":1633693915,"creation_date":1633634972,"question_id":69486825,"body_markdown":"I&#39;m making an application in which I need to have a constant array of my class Note. For sake of code readability, I&#39;d ideally generate the 108 note values for the array (octaves 0-8, 12 notes an octave) at runtime rather than having it hard-coded. This is how I&#39;m trying to do it currently:\r\n```\r\npublic class Note{\r\n   ...\r\n\r\n   public static class Constants{\r\n\r\n        public static final int lowestOctave=0;\r\n        public static final int highestOctave=8;\r\n        public static final int numOfOctaves=highestOctave+1;\r\n        public static final int numOfNotes=numOfOctaves*12;\r\n\r\n        private static Note[]allNotesArray=new Note[numOfNotes];\r\n        {\r\n          for(int i=0; i&lt;numOfNotes; i++){\r\n             allNotesArray[i]=new Note(/*Note params*/);\r\n          {\r\n        }\r\n   }\r\n}\r\n```\r\n\r\nCurrently, this results in an array full of nulls. I have populated arrays in the same way in final classes, but I&#39;m not sure how to go about doing it for static classes. I know when you create a static/static final array the array itself and the array length are unchangeable, but the elements inside the array are changeable. As such, I can populate the allNotesArray in the main Note class, but this defeats the purpose of having a constants class. If anyone has any ideas on how to get it working this way that would be great, equally if anyone has any better methods on how to create the array as a constant that would be great too! ","title":"Easiest way to generate an array of constants in Java","body":"<p>I'm making an application in which I need to have a constant array of my class Note. For sake of code readability, I'd ideally generate the 108 note values for the array (octaves 0-8, 12 notes an octave) at runtime rather than having it hard-coded. This is how I'm trying to do it currently:</p>\n<pre><code>public class Note{\n   ...\n\n   public static class Constants{\n\n        public static final int lowestOctave=0;\n        public static final int highestOctave=8;\n        public static final int numOfOctaves=highestOctave+1;\n        public static final int numOfNotes=numOfOctaves*12;\n\n        private static Note[]allNotesArray=new Note[numOfNotes];\n        {\n          for(int i=0; i&lt;numOfNotes; i++){\n             allNotesArray[i]=new Note(/*Note params*/);\n          {\n        }\n   }\n}\n</code></pre>\n<p>Currently, this results in an array full of nulls. I have populated arrays in the same way in final classes, but I'm not sure how to go about doing it for static classes. I know when you create a static/static final array the array itself and the array length are unchangeable, but the elements inside the array are changeable. As such, I can populate the allNotesArray in the main Note class, but this defeats the purpose of having a constants class. If anyone has any ideas on how to get it working this way that would be great, equally if anyone has any better methods on how to create the array as a constant that would be great too!</p>\n"},{"tags":["java","android","firebase-in-app-messaging"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1599345655,"post_id":63759019,"comment_id":112747629,"body_markdown":"If `this` does not work, then your code snippet is not a method in a `Service`. I recommend that you post the entire service class, not just one method from one nested object inside of it.","body":"If <code>this</code> does not work, then your code snippet is not a method in a <code>Service</code>. I recommend that you post the entire service class, not just one method from one nested object inside of it."},{"owner":{"account_id":12038787,"reputation":51,"user_id":8806441,"display_name":"Maris S."},"score":0,"creation_date":1599346053,"post_id":63759019,"comment_id":112747699,"body_markdown":"@CommonsWare Oh, sorry, i updated the post with the full code from service class.","body":"@CommonsWare Oh, sorry, i updated the post with the full code from service class."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1599347427,"post_id":63759019,"comment_id":112747886,"body_markdown":"You should be able to just use `this`, in terms of your apparent compile error. At runtime, though, this will not work on Android 10+. Please display a notification!","body":"You should be able to just use <code>this</code>, in terms of your apparent compile error. At runtime, though, this will not work on Android 10+. Please display a notification!"}],"answers":[{"tags":[],"owner":{"account_id":1860280,"reputation":17276,"user_id":1684977,"accept_rate":79,"display_name":"Ravindra Bagale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599344972,"creation_date":1599344972,"answer_id":63759074,"question_id":63759019,"body_markdown":"Try below code , it will work.. \r\n\r\nyou have to add FLAG- `FLAG_ACTIVITY_NEW_TASK`\r\n\r\n\r\n    Intent myIntent = new Intent(this, webview_base.class);\r\n    myIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(myIntent);","title":"Start Activity from Service in Android 10","body":"<p>Try below code , it will work..</p>\n<p>you have to add FLAG- <code>FLAG_ACTIVITY_NEW_TASK</code></p>\n<pre><code>Intent myIntent = new Intent(this, webview_base.class);\nmyIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(myIntent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6399701,"reputation":2116,"user_id":4962858,"display_name":"francis duvivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599350442,"creation_date":1599350442,"answer_id":63759546,"question_id":63759019,"body_markdown":"If your app is not visible and has not been visible for a while and you don&#39;t want to use a notification, it will not be allowed in Android 10, except if\r\n\r\n&gt;The app has been granted the [SYSTEM_ALERT_WINDOW][1] permission by the user.\r\n\r\n(From the [restrictions][2] page mentioned in the question)\r\n\r\nSo that&#39;s an option for Android 10.\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW\r\n  [2]: https://developer.android.com/guide/components/activities/background-starts","title":"Start Activity from Service in Android 10","body":"<p>If your app is not visible and has not been visible for a while and you don't want to use a notification, it will not be allowed in Android 10, except if</p>\n<blockquote>\n<p>The app has been granted the <a href=\"https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW\" rel=\"nofollow noreferrer\">SYSTEM_ALERT_WINDOW</a> permission by the user.</p>\n</blockquote>\n<p>(From the <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">restrictions</a> page mentioned in the question)</p>\n<p>So that's an option for Android 10.</p>\n"},{"tags":[],"owner":{"account_id":3267685,"reputation":648,"user_id":2751848,"display_name":"V&#225;clav Hodek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601116400,"creation_date":1601116400,"answer_id":64076577,"question_id":63759019,"body_markdown":"It&#39;s not enough to list the **SYSTEM_ALERT_WINDOW** in AndroidManifest.xml. You also need user to give the app &quot;Draw over other apps&quot; permission. [Check here how to do that easily][1].\r\n\r\n\r\n  [1]: https://localazy.com/blog/floating-windows-on-android-3-permissions","title":"Start Activity from Service in Android 10","body":"<p>It's not enough to list the <strong>SYSTEM_ALERT_WINDOW</strong> in AndroidManifest.xml. You also need user to give the app &quot;Draw over other apps&quot; permission. <a href=\"https://localazy.com/blog/floating-windows-on-android-3-permissions\" rel=\"nofollow noreferrer\">Check here how to do that easily</a>.</p>\n"}],"owner":{"account_id":12038787,"reputation":51,"user_id":8806441,"display_name":"Maris S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633693602,"creation_date":1599344438,"question_id":63759019,"body_markdown":"please note that problem might be related to Android 10 \r\n\r\nIm trying to start a new Activity from myInAppMessagingService, but i got null pointer exception un startActivitys context parameter every time.\r\n\r\nSo here is my Service code : \r\n\r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.os.IBinder;\r\n    import android.util.Log;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    \r\n    import com.google.firebase.inappmessaging.FirebaseInAppMessagingClickListener;\r\n    import com.google.firebase.inappmessaging.model.Action;\r\n    import com.google.firebase.inappmessaging.model.CampaignMetadata;\r\n    import com.google.firebase.inappmessaging.model.InAppMessage;\r\n    \r\n    import viaapp_v2.systems.webview_activity.webview_base;\r\n    \r\n    public class MyFirebaseInAppMessaging extends Service implements FirebaseInAppMessagingClickListener {\r\n    \r\n        String TAG = &quot;MyFirebaseInAppMessaging&quot;;\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void messageClicked(@NonNull InAppMessage inAppMessage, @NonNull Action action) {\r\n            // Determine which URL the user clicked\r\n            String url = action.getActionUrl();\r\n            Log.d(TAG, &quot;Popup URL :&quot;+url);\r\n    \r\n            // Get general information about the campaign\r\n            CampaignMetadata metadata = inAppMessage.getCampaignMetadata();\r\n            Log.d(TAG, &quot;metadata :&quot;+metadata);\r\n    \r\n            try{\r\n                startActivity(\r\n                        new Intent(MyFirebaseInAppMessaging.this, webview_base.class)\r\n                                .putExtra(&quot;web_url&quot;, url)\r\n                );\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI got error in &quot;startActivity(..)&quot; line because of 1st parameter, context. I tried everything - getApplicationContext(), MyFirebaseInAppMessaging.this or just simply &quot;this&quot; but nothing works.\r\n\r\nI read a [restrictions][1] provided by Android Developers, but i couldnt figure out anything new.\r\n\r\n\r\nOtherwise the app works perfectly - webview_base class works as it should, so does everything else, including myInAppMesaging Services listener. Its just that one context in startActivity() which stops me.\r\n\r\nThanks for any help.\r\n\r\n--Update on Sep 7\r\n\r\nAfter playing around with permissions, flags ect. i noticed that nothing works. Newer Android OS opens an web overly over the app, but older Android OS just crashes without any specific crash report. Thats weird. \r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/background-starts","title":"Start Activity from Service in Android 10","body":"<p>please note that problem might be related to Android 10</p>\n<p>Im trying to start a new Activity from myInAppMessagingService, but i got null pointer exception un startActivitys context parameter every time.</p>\n<p>So here is my Service code :</p>\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.firebase.inappmessaging.FirebaseInAppMessagingClickListener;\nimport com.google.firebase.inappmessaging.model.Action;\nimport com.google.firebase.inappmessaging.model.CampaignMetadata;\nimport com.google.firebase.inappmessaging.model.InAppMessage;\n\nimport viaapp_v2.systems.webview_activity.webview_base;\n\npublic class MyFirebaseInAppMessaging extends Service implements FirebaseInAppMessagingClickListener {\n\n    String TAG = &quot;MyFirebaseInAppMessaging&quot;;\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n    }\n\n    @Override\n    public void messageClicked(@NonNull InAppMessage inAppMessage, @NonNull Action action) {\n        // Determine which URL the user clicked\n        String url = action.getActionUrl();\n        Log.d(TAG, &quot;Popup URL :&quot;+url);\n\n        // Get general information about the campaign\n        CampaignMetadata metadata = inAppMessage.getCampaignMetadata();\n        Log.d(TAG, &quot;metadata :&quot;+metadata);\n\n        try{\n            startActivity(\n                    new Intent(MyFirebaseInAppMessaging.this, webview_base.class)\n                            .putExtra(&quot;web_url&quot;, url)\n            );\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I got error in &quot;startActivity(..)&quot; line because of 1st parameter, context. I tried everything - getApplicationContext(), MyFirebaseInAppMessaging.this or just simply &quot;this&quot; but nothing works.</p>\n<p>I read a <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">restrictions</a> provided by Android Developers, but i couldnt figure out anything new.</p>\n<p>Otherwise the app works perfectly - webview_base class works as it should, so does everything else, including myInAppMesaging Services listener. Its just that one context in startActivity() which stops me.</p>\n<p>Thanks for any help.</p>\n<p>--Update on Sep 7</p>\n<p>After playing around with permissions, flags ect. i noticed that nothing works. Newer Android OS opens an web overly over the app, but older Android OS just crashes without any specific crash report. Thats weird.</p>\n"},{"tags":["java","c++","svg","cad"],"comments":[{"owner":{"account_id":2166051,"reputation":127422,"user_id":1919155,"display_name":"Mats Petersson"},"score":1,"creation_date":1356491221,"post_id":14035557,"comment_id":19389463,"body_markdown":"Any chance you have already looked at some of the ones that google fines when you type &quot;linux convert dxf to svg&quot; - admittedly none of them appear to be JAVA - but I&#39;m not sure how strong a requirement that is, or if it&#39;s OK to fork a process and run some external tool if that is helpful?","body":"Any chance you have already looked at some of the ones that google fines when you type &quot;linux convert dxf to svg&quot; - admittedly none of them appear to be JAVA - but I&#39;m not sure how strong a requirement that is, or if it&#39;s OK to fork a process and run some external tool if that is helpful?"},{"owner":{"account_id":276737,"reputation":21678,"user_id":570339,"accept_rate":88,"display_name":"Ramy Al Zuhouri"},"score":0,"creation_date":1356493049,"post_id":14035557,"comment_id":19389743,"body_markdown":"I think he got a point: I don&#39;t find it on Google.","body":"I think he got a point: I don&#39;t find it on Google."}],"answers":[{"tags":[],"owner":{"account_id":2171021,"reputation":1934,"user_id":1923010,"display_name":"Jirilmon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1633693505,"creation_date":1356493849,"answer_id":14035806,"question_id":14035557,"body_markdown":"Try these tools.\r\n\r\n1) http://etc.nkadesign.com/Download/Cad2svg\r\n\r\ncad2svg is a simple Linux command-line utility that automatically converts AutoCAD files (both dwg and dxf) to SVG\r\n\r\n*This link is not working anymore:*\r\n\r\n*2) http://davinder.in/blog/how-install-libredwg-ubuntu*\r\n\r\nGNU LibreDWG is a free C library to handle DWG files.\r\n\r\n\r\n3) http://kabeja.sourceforge.net/\r\n\r\nKabeja is a Java library for parsing, processing and converting Autodesk&#39;s DXF format\r\n\r\n\r\n4) http://sourceforge.net/projects/dxf-svg-convert\r\n\r\nA dxf to svg converter. &lt;br /&gt;\r\nCan be used to create pure svg files or Inkscape svg files with extra information like layers.\r\n","title":"Is there any library to Convert CAD to SVG?","body":"<p>Try these tools.</p>\n<ol>\n<li><a href=\"http://etc.nkadesign.com/Download/Cad2svg\" rel=\"nofollow noreferrer\">http://etc.nkadesign.com/Download/Cad2svg</a></li>\n</ol>\n<p>cad2svg is a simple Linux command-line utility that automatically converts AutoCAD files (both dwg and dxf) to SVG</p>\n<p><em>This link is not working anymore:</em></p>\n<p><em>2) <a href=\"http://davinder.in/blog/how-install-libredwg-ubuntu\" rel=\"nofollow noreferrer\">http://davinder.in/blog/how-install-libredwg-ubuntu</a></em></p>\n<p>GNU LibreDWG is a free C library to handle DWG files.</p>\n<ol start=\"3\">\n<li><a href=\"http://kabeja.sourceforge.net/\" rel=\"nofollow noreferrer\">http://kabeja.sourceforge.net/</a></li>\n</ol>\n<p>Kabeja is a Java library for parsing, processing and converting Autodesk's DXF format</p>\n<ol start=\"4\">\n<li><a href=\"http://sourceforge.net/projects/dxf-svg-convert\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/dxf-svg-convert</a></li>\n</ol>\n<p>A dxf to svg converter. <br />\nCan be used to create pure svg files or Inkscape svg files with extra information like layers.</p>\n"},{"tags":[],"owner":{"account_id":51898,"reputation":79386,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1552932787,"creation_date":1407331029,"answer_id":25161480,"question_id":14035557,"body_markdown":"The [OpenDesignAlliance ][1] currently provides the only useful implementation of such a thing.&lt;br /&gt;\r\nYou want [Theiga][2] and [Theiga for .NET and Java ][3]. \r\n\r\n\r\n\r\n\r\n&gt; In 2013, ODA used the Java support provided by SWIG to create &quot;Teigha\r\n&gt; for Java&quot;.  \r\nTeigha for Java includes the following:\r\n\r\n - Java access to the full Teigha API for both .dwg and .dgn files.\r\n - Support for Windows, Linux and Mac platforms. API very similar to Teigha.NET, simplifying the transition between languages.\r\n\r\n\r\n\r\nAlso, if you&#39;re using **C#**, [**WoutWare** CadLib][4] would be a very good **fully managed** commercial option for converting DWG/DXF to SVG (while preserving layers). And it also works on Linux and Mac with .NET-Core (no native binaries required).\r\n\r\n\r\n  [1]: https://www.opendesign.com\r\n  [2]: https://www.opendesign.com/the_oda_platform/Teigha\r\n  [3]: https://www.opendesign.com/the_oda_platform/teigha_dot_net\r\n  [4]: https://www.woutware.com/","title":"Is there any library to Convert CAD to SVG?","body":"<p>The <a href=\"https://www.opendesign.com\" rel=\"nofollow noreferrer\">OpenDesignAlliance </a> currently provides the only useful implementation of such a thing.<br />\nYou want <a href=\"https://www.opendesign.com/the_oda_platform/Teigha\" rel=\"nofollow noreferrer\">Theiga</a> and <a href=\"https://www.opendesign.com/the_oda_platform/teigha_dot_net\" rel=\"nofollow noreferrer\">Theiga for .NET and Java </a>. </p>\n\n<blockquote>\n  <p>In 2013, ODA used the Java support provided by SWIG to create \"Teigha\n  for Java\".<br>\n  Teigha for Java includes the following:</p>\n</blockquote>\n\n<ul>\n<li>Java access to the full Teigha API for both .dwg and .dgn files.</li>\n<li>Support for Windows, Linux and Mac platforms. API very similar to Teigha.NET, simplifying the transition between languages.</li>\n</ul>\n\n<p>Also, if you're using <strong>C#</strong>, <a href=\"https://www.woutware.com/\" rel=\"nofollow noreferrer\"><strong>WoutWare</strong> CadLib</a> would be a very good <strong>fully managed</strong> commercial option for converting DWG/DXF to SVG (while preserving layers). And it also works on Linux and Mac with .NET-Core (no native binaries required).</p>\n"}],"owner":{"account_id":182438,"reputation":1754,"user_id":417145,"accept_rate":48,"display_name":"Joe SHI"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20171,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"closed_date":1407342561,"accepted_answer_id":14035806,"answer_count":2,"score":21,"last_activity_date":1633693505,"creation_date":1356490849,"question_id":14035557,"body_markdown":"I am looking for a library, which can convert CAD files(DWG, DXF) into SVG format. The library should be able to run on Linux platform. Can anyone tell me which library can do this?\r\n\r\n","title":"Is there any library to Convert CAD to SVG?","body":"<p>I am looking for a library, which can convert CAD files(DWG, DXF) into SVG format. The library should be able to run on Linux platform. Can anyone tell me which library can do this?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565190953,"creation_date":1565190953,"answer_id":57397578,"question_id":57396630,"body_markdown":"It&#39;s [explained in the documentation](https://docs.spring.io/spring-kafka/reference/html/#error-handling-deserializer).\r\n\r\nYou set the deserializer to the error handling deserializer and its delegate via the custom Spring property.\r\n\r\n&gt;You can use the DefaultKafkaConsumerFactory constructor that takes key and value Deserializer objects and wire in appropriate ErrorHandlingDeserializer2 instances that you have configured with the proper delegates. Alternatively, you can use consumer configuration properties (which are used by the ErrorHandlingDeserializer) to instantiate the delegates. The property names are ErrorHandlingDeserializer2.KEY_DESERIALIZER_CLASS and ErrorHandlingDeserializer2.VALUE_DESERIALIZER_CLASS. The property value can be a class or class name. The following example shows how to set these properties:\r\n\r\n    ... // other props\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\r\n    props.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, JsonDeserializer.class);\r\n    props.put(JsonDeserializer.KEY_DEFAULT_TYPE, &quot;com.example.MyKey&quot;)\r\n    props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\r\n    props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.example.MyValue&quot;)\r\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;com.example&quot;)\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);","title":"How Spring Kafka Consumer skips from Avro Deserializer exception","body":"<p>It's <a href=\"https://docs.spring.io/spring-kafka/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">explained in the documentation</a>.</p>\n\n<p>You set the deserializer to the error handling deserializer and its delegate via the custom Spring property.</p>\n\n<blockquote>\n  <p>You can use the DefaultKafkaConsumerFactory constructor that takes key and value Deserializer objects and wire in appropriate ErrorHandlingDeserializer2 instances that you have configured with the proper delegates. Alternatively, you can use consumer configuration properties (which are used by the ErrorHandlingDeserializer) to instantiate the delegates. The property names are ErrorHandlingDeserializer2.KEY_DESERIALIZER_CLASS and ErrorHandlingDeserializer2.VALUE_DESERIALIZER_CLASS. The property value can be a class or class name. The following example shows how to set these properties:</p>\n</blockquote>\n\n<pre><code>... // other props\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer2.class);\nprops.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, JsonDeserializer.class);\nprops.put(JsonDeserializer.KEY_DEFAULT_TYPE, \"com.example.MyKey\")\nprops.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class.getName());\nprops.put(JsonDeserializer.VALUE_DEFAULT_TYPE, \"com.example.MyValue\")\nprops.put(JsonDeserializer.TRUSTED_PACKAGES, \"com.example\")\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3556889,"reputation":2353,"user_id":2970422,"display_name":"Joker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633693189,"creation_date":1633693189,"answer_id":69495248,"question_id":57396630,"body_markdown":"You need to set your current value + key deserializer both to ErrorHandlingDeserializer.class and the the current value + key deserializer to the ErrorHandlingDeserializer Key/Value deserializer properties\r\n\r\nThis will look similar to something like that:\r\n```java\r\n... // other props\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\nprops.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\r\nprops.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, StringDeserializer.class);\r\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n```","title":"How Spring Kafka Consumer skips from Avro Deserializer exception","body":"<p>You need to set your current value + key deserializer both to ErrorHandlingDeserializer.class and the the current value + key deserializer to the ErrorHandlingDeserializer Key/Value deserializer properties</p>\n<p>This will look similar to something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... // other props\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\nprops.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, KafkaAvroDeserializer.class);\nprops.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, StringDeserializer.class);\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\n</code></pre>\n"}],"owner":{"account_id":996986,"reputation":3954,"user_id":1012689,"accept_rate":65,"display_name":"ttt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3489,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1633693189,"creation_date":1565187813,"question_id":57396630,"body_markdown":"I am using Spring Kafka consumer and Avro schema to build my application. \r\n\r\nHowever, if the message can&#39;t be deserializer to the specified Avro specific record I build, the consumer will keep retrying to consumer same message over and over again (infinite retry).\r\n\r\nFor this case, how can I configure the consumer application to skip the current message and move to the next offset if there is deserializer exception occurs for my consumer.\r\n\r\nI have looked at Spring Kafka error handle which can only handle exceptions in the listener not during the deserialization stage.\r\n\r\nMy consumer application is very simple:\r\n\r\n    @KafkaListener(id = &quot;demo-consumer-stream-group&quot;, topics = &quot;customer-output-&quot;)\r\n      public void process(ConsumerRecord&lt;String, Customer&gt; record) {\r\n        LOGGER.info(&quot;Customer key: {} and value: {}&quot;, record.key(), record.value());\r\n        LOGGER.info(&quot;topic: {}, partition: {}, offset: {}&quot;, record.topic(), record.partition(), record.offset());\r\n      }\r\n\r\nBase on this code, sometimes the received message may not deserialized to the correct `Customer` object.\r\n\r\n\r\nAlso, I saw a recent solution is using `ErrorHandlingDeserializer2` of Spring Kafka to handle this, but since I am using `KafkaAvroDeserializer` how can I work out those configs? My current config is:\r\n\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);","title":"How Spring Kafka Consumer skips from Avro Deserializer exception","body":"<p>I am using Spring Kafka consumer and Avro schema to build my application. </p>\n\n<p>However, if the message can't be deserializer to the specified Avro specific record I build, the consumer will keep retrying to consumer same message over and over again (infinite retry).</p>\n\n<p>For this case, how can I configure the consumer application to skip the current message and move to the next offset if there is deserializer exception occurs for my consumer.</p>\n\n<p>I have looked at Spring Kafka error handle which can only handle exceptions in the listener not during the deserialization stage.</p>\n\n<p>My consumer application is very simple:</p>\n\n<pre><code>@KafkaListener(id = \"demo-consumer-stream-group\", topics = \"customer-output-\")\n  public void process(ConsumerRecord&lt;String, Customer&gt; record) {\n    LOGGER.info(\"Customer key: {} and value: {}\", record.key(), record.value());\n    LOGGER.info(\"topic: {}, partition: {}, offset: {}\", record.topic(), record.partition(), record.offset());\n  }\n</code></pre>\n\n<p>Base on this code, sometimes the received message may not deserialized to the correct <code>Customer</code> object.</p>\n\n<p>Also, I saw a recent solution is using <code>ErrorHandlingDeserializer2</code> of Spring Kafka to handle this, but since I am using <code>KafkaAvroDeserializer</code> how can I work out those configs? My current config is:</p>\n\n<pre><code>props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);\n</code></pre>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633688747,"post_id":69494309,"comment_id":122832331,"body_markdown":"Is this Guava `Maps.difference`?","body":"Is this Guava <code>Maps.difference</code>?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1633689583,"post_id":69494309,"comment_id":122832634,"body_markdown":"Why not just call Maps.difference, then call remove(&quot;uid&quot;) on the result?","body":"Why not just call Maps.difference, then call remove(&quot;uid&quot;) on the result?"},{"owner":{"account_id":12219045,"reputation":23,"user_id":8918586,"display_name":"R. Del"},"score":0,"creation_date":1633690689,"post_id":69494309,"comment_id":122833062,"body_markdown":"@AndyTurner yes it is.","body":"@AndyTurner yes it is."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633689241,"creation_date":1633688915,"answer_id":69494395,"question_id":69494309,"body_markdown":"Assuming you mean Guava&#39;s `Maps.difference`: yes, use the [`difference(left, right, valueEquivalence)` overload](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Maps.html#difference-java.util.Map-java.util.Map-com.google.common.base.Equivalence-):\r\n\r\n```\r\nMaps.difference(left, right, new Equivalence&lt;String&gt;() {\r\n  @Override public boolean doEquivalent(String a, String b) {\r\n    return &quot;*&quot;.equals(a) || &quot;*&quot;.equals(b) || Objects.equals(a, b);\r\n  }\r\n\r\n  // You have to hash all strings to the same thing because you\r\n  // don&#39;t know if the current item is a &quot;*&quot;, or its corresponding\r\n  // item is a &quot;*&quot;. But actually it doesn&#39;t matter, because I don&#39;t\r\n  // think it&#39;s invoked in difference.\r\n  @Override public int doHash(String s) { return 0; }\r\n});\r\n```","title":"Guava Maps.difference with wildcard","body":"<p>Assuming you mean Guava's <code>Maps.difference</code>: yes, use the <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Maps.html#difference-java.util.Map-java.util.Map-com.google.common.base.Equivalence-\" rel=\"nofollow noreferrer\"><code>difference(left, right, valueEquivalence)</code> overload</a>:</p>\n<pre><code>Maps.difference(left, right, new Equivalence&lt;String&gt;() {\n  @Override public boolean doEquivalent(String a, String b) {\n    return &quot;*&quot;.equals(a) || &quot;*&quot;.equals(b) || Objects.equals(a, b);\n  }\n\n  // You have to hash all strings to the same thing because you\n  // don't know if the current item is a &quot;*&quot;, or its corresponding\n  // item is a &quot;*&quot;. But actually it doesn't matter, because I don't\n  // think it's invoked in difference.\n  @Override public int doHash(String s) { return 0; }\n});\n</code></pre>\n"}],"owner":{"account_id":12219045,"reputation":23,"user_id":8918586,"display_name":"R. Del"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69494395,"answer_count":1,"score":1,"last_activity_date":1633693184,"creation_date":1633688535,"question_id":69494309,"body_markdown":"I want to use Guava&#39;s `Maps.difference` in java 11 to verify data from Json String which I mapped into a Map.\r\n\r\nWhat I have after a call (with different uid each time) :\r\n\r\n    {&quot;uid&quot;:&quot;31a340bc-e5ed-440c-8726-34c54dea902a&quot;,&quot;name&quot;:&quot;Jean&quot;}\r\n\r\nI want to verify that uid is correctly generated and name is &quot;Jean&quot; using a pattern like this : \r\n\r\n    {&quot;uid&quot;:&quot;*&quot;,&quot;name&quot;:&quot;Jean&quot;}\r\n\r\nOf course `Maps.difference` returns a difference in uid value...\r\n\r\nIs it possible to specify a wildcard in my verifying pattern so that `Maps.difference` returns no differences ?\r\n\r\nThanks in advance.","title":"Guava Maps.difference with wildcard","body":"<p>I want to use Guava's <code>Maps.difference</code> in java 11 to verify data from Json String which I mapped into a Map.</p>\n<p>What I have after a call (with different uid each time) :</p>\n<pre><code>{&quot;uid&quot;:&quot;31a340bc-e5ed-440c-8726-34c54dea902a&quot;,&quot;name&quot;:&quot;Jean&quot;}\n</code></pre>\n<p>I want to verify that uid is correctly generated and name is &quot;Jean&quot; using a pattern like this :</p>\n<pre><code>{&quot;uid&quot;:&quot;*&quot;,&quot;name&quot;:&quot;Jean&quot;}\n</code></pre>\n<p>Of course <code>Maps.difference</code> returns a difference in uid value...</p>\n<p>Is it possible to specify a wildcard in my verifying pattern so that <code>Maps.difference</code> returns no differences ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sql","postgresql","java-time"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633676185,"post_id":69491714,"comment_id":122827736,"body_markdown":"Which version of the PostgreSQL JDBC driver are you using?","body":"Which version of the PostgreSQL JDBC driver are you using?"},{"owner":{"account_id":21022519,"reputation":85,"user_id":15448513,"display_name":"Ilyas Saitov"},"score":0,"creation_date":1633676273,"post_id":69491714,"comment_id":122827765,"body_markdown":"Version from POM dependency: 42.2.24.jre7","body":"Version from POM dependency: 42.2.24.jre7"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633681460,"creation_date":1633676391,"answer_id":69491755,"question_id":69491714,"body_markdown":"`java.time.LocalDate` has been available since Java-8 whereas your JDBC driver is based on Java-7, and hence the problem. Upgrade the JDBC driver to the latest one (following) or at least to the one supporting minimum Java-8.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;42.2.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Note:** The `java.util` Date-Time API and its children are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n","title":"Inject Date or LocalDate into SQL query via jdbcTemplate.query?","body":"<p><code>java.time.LocalDate</code> has been available since Java-8 whereas your JDBC driver is based on Java-7, and hence the problem. Upgrade the JDBC driver to the latest one (following) or at least to the one supporting minimum Java-8.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Note:</strong> The <code>java.util</code> Date-Time API and its children are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":21022519,"reputation":85,"user_id":15448513,"display_name":"Ilyas Saitov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69491755,"answer_count":1,"score":1,"last_activity_date":1633693100,"creation_date":1633676106,"question_id":69491714,"body_markdown":"I had a simple query like:\r\n```sql\r\nselect * from sometable where date = ?\r\n```\r\nI injected a LocalDate into query:\r\n```java\r\njdbcTemplate.query(QUERY, date);\r\n```\r\nEverything worked fine. After I moved my project with IDE to another PC, without any alterations, it started to throw exception:\r\n```none\r\nnested exception is org.postgresql.util.PSQLException: \r\nCan&#39;t infer the SQL type to use for an instance of java.time.LocalDate. \r\nUse setObject() with an explicit Types value to specify the type to use.\r\n```\r\nI can use a workaround via converting LocalDate to Date:\r\n```java\r\njdbcTemplate.query(QUERY, java.sql.Date.valueOf(date));\r\n```\r\nbut it does not seem right to me: I want to know the reason.\r\nWhat I checked so far:\r\n1) PostgreSQL version is the same (BTW tried upgrading to 14)\r\n2) JDK version is the same\r\n3) POM dependency for PostgreSQL is the same.","title":"Inject Date or LocalDate into SQL query via jdbcTemplate.query?","body":"<p>I had a simple query like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from sometable where date = ?\n</code></pre>\n<p>I injected a LocalDate into query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbcTemplate.query(QUERY, date);\n</code></pre>\n<p>Everything worked fine. After I moved my project with IDE to another PC, without any alterations, it started to throw exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>nested exception is org.postgresql.util.PSQLException: \nCan't infer the SQL type to use for an instance of java.time.LocalDate. \nUse setObject() with an explicit Types value to specify the type to use.\n</code></pre>\n<p>I can use a workaround via converting LocalDate to Date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbcTemplate.query(QUERY, java.sql.Date.valueOf(date));\n</code></pre>\n<p>but it does not seem right to me: I want to know the reason.\nWhat I checked so far:</p>\n<ol>\n<li>PostgreSQL version is the same (BTW tried upgrading to 14)</li>\n<li>JDK version is the same</li>\n<li>POM dependency for PostgreSQL is the same.</li>\n</ol>\n"},{"tags":["java","maven","maven-3","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1498982301,"post_id":44866507,"comment_id":76716248,"body_markdown":"Go to Maven 3 cause Maven 2 is long time end of life...","body":"Go to Maven 3 cause Maven 2 is long time end of life..."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498975249,"creation_date":1498974903,"answer_id":44867865,"question_id":44866507,"body_markdown":"Without modifying your pom.xml, you can simply install and use mvn 3.x instead of mvn 2.x\r\n\r\nFollow &quot;[Installing Apache Maven][1]&quot;, and make sure your PATH reference that new version.  \r\nFor instance, on Linux: \r\n\r\n    export PATH=/opt/apache-maven-3.5.0/bin:$PATH\r\n\r\nIf `mvn --version` does return the right version, try again your `mvn clean package -DskipTests` command.\r\n\r\nWith that approach (download and unzip an  archive) you don&#39;t even need `sudo apt-get install` that [you tried yesterday][2]. Just download [`apache-maven-3.5.0-bin.zip`][3].\r\n\r\n\r\n  [1]: https://maven.apache.org/install.html\r\n  [2]: https://stackoverflow.com/q/44850105/6309\r\n  [3]: https://fossies.org/linux/misc/apache-maven-3.5.0-bin.tar.gz","title":"Plugin requires Maven version 3.0","body":"<p>Without modifying your pom.xml, you can simply install and use mvn 3.x instead of mvn 2.x</p>\n\n<p>Follow \"<a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">Installing Apache Maven</a>\", and make sure your PATH reference that new version.<br>\nFor instance, on Linux: </p>\n\n<pre><code>export PATH=/opt/apache-maven-3.5.0/bin:$PATH\n</code></pre>\n\n<p>If <code>mvn --version</code> does return the right version, try again your <code>mvn clean package -DskipTests</code> command.</p>\n\n<p>With that approach (download and unzip an  archive) you don't even need <code>sudo apt-get install</code> that <a href=\"https://stackoverflow.com/q/44850105/6309\">you tried yesterday</a>. Just download <a href=\"https://fossies.org/linux/misc/apache-maven-3.5.0-bin.tar.gz\" rel=\"nofollow noreferrer\"><code>apache-maven-3.5.0-bin.zip</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":206638,"reputation":3543,"user_id":456046,"display_name":"Jacob Nordfalk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572422597,"creation_date":1572422597,"answer_id":58620879,"question_id":44866507,"body_markdown":"If you are using Ubuntu it is enough to uninstall maven2 and install maven (which is version 3 currently):\r\n\r\n    sudo apt remove maven2\r\n    \r\n    sudo apt install maven\r\n\r\nCheck your version with\r\n\r\n    mvn --version\r\n\r\n","title":"Plugin requires Maven version 3.0","body":"<p>If you are using Ubuntu it is enough to uninstall maven2 and install maven (which is version 3 currently):</p>\n\n<pre><code>sudo apt remove maven2\n\nsudo apt install maven\n</code></pre>\n\n<p>Check your version with</p>\n\n<pre><code>mvn --version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4672174,"reputation":11,"user_id":7625927,"display_name":"Bernt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633693060,"creation_date":1633693060,"answer_id":69495224,"question_id":44866507,"body_markdown":"Package &#39;maven2&#39; is not installed, so not removed","title":"Plugin requires Maven version 3.0","body":"<p>Package 'maven2' is not installed, so not removed</p>\n"}],"owner":{"account_id":4753429,"reputation":1216,"user_id":3842845,"accept_rate":57,"display_name":"Java"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633693060,"creation_date":1498955435,"question_id":44866507,"body_markdown":"I am trying to run following command line \r\n\r\n    mvn clean package -DskipTests\r\n\r\nReference: https://github.com/forcedotcom/dataloader/\r\n\r\nI am getting this error message:\r\n    \r\n    BUILD ERROR\r\n    Error resolving version for &#39;org.apache.maven.plugins:maven-shade-plugin&#39;: \r\n    Plugin requires Maven version 3.0\r\n\r\nHow do I install Maven version 3.0  or is there way to modify file like POM.XML?\r\n\r\n\r\n","title":"Plugin requires Maven version 3.0","body":"<p>I am trying to run following command line </p>\n\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n\n<p>Reference: <a href=\"https://github.com/forcedotcom/dataloader/\" rel=\"nofollow noreferrer\">https://github.com/forcedotcom/dataloader/</a></p>\n\n<p>I am getting this error message:</p>\n\n<pre><code>BUILD ERROR\nError resolving version for 'org.apache.maven.plugins:maven-shade-plugin': \nPlugin requires Maven version 3.0\n</code></pre>\n\n<p>How do I install Maven version 3.0  or is there way to modify file like POM.XML?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633691309,"post_id":69494830,"comment_id":122833239,"body_markdown":"how do you reach the last else?","body":"how do you reach the last else?"},{"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"score":0,"creation_date":1633691319,"post_id":69494830,"comment_id":122833242,"body_markdown":"the last else is not needed, since you care ==1 with the previous check!","body":"the last else is not needed, since you care ==1 with the previous check!"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633691379,"post_id":69494830,"comment_id":122833269,"body_markdown":"I deleted  it but it gave an error...","body":"I deleted  it but it gave an error..."},{"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"score":0,"creation_date":1633691428,"post_id":69494830,"comment_id":122833286,"body_markdown":"Which error? execution or build error?","body":"Which error? execution or build error?"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633691482,"post_id":69494830,"comment_id":122833308,"body_markdown":"Main.java:38: error: missing return statement\n    }\n    ^\n1 error","body":"Main.java:38: error: missing return statement     }     ^ 1 error"},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633691578,"post_id":69494830,"comment_id":122833349,"body_markdown":"@user16320675 you don&#39;t  *need* to do that. That might speed things up, but it is not a requirement","body":"@user16320675 you don&#39;t  <i>need</i> to do that. That might speed things up, but it is not a requirement"},{"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"score":0,"creation_date":1633691688,"post_id":69494830,"comment_id":122833395,"body_markdown":"What happens if you add a &#39;return false;&#39; at the end without the else? Maybe the compiler expects a return in all execution paths!?","body":"What happens if you add a &#39;return false;&#39; at the end without the else? Maybe the compiler expects a return in all execution paths!?"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633691817,"post_id":69494830,"comment_id":122833448,"body_markdown":"I did that, I tested it and I got 36 out of 40 points. Not quite yet but close.","body":"I did that, I tested it and I got 36 out of 40 points. Not quite yet but close."},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633691983,"post_id":69494830,"comment_id":122833499,"body_markdown":"yes, that you will need  :)","body":"yes, that you will need  :)"},{"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"score":0,"creation_date":1633692205,"post_id":69494830,"comment_id":122833590,"body_markdown":"You don&#39;t have to do a check with your last else.  ==4 is checked already, same with ==1. All others do not need to be checked anymore. Maybe that&#39;s what your teacher means?","body":"You don&#39;t have to do a check with your last else.  ==4 is checked already, same with ==1. All others do not need to be checked anymore. Maybe that&#39;s what your teacher means?"},{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1633692386,"post_id":69494830,"comment_id":122833660,"body_markdown":"Is there anything related to Integer range or long range of numbers?","body":"Is there anything related to Integer range or long range of numbers?"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633692720,"post_id":69494830,"comment_id":122833794,"body_markdown":"Good question. There is supposed to be a range of  between 1 and 10000","body":"Good question. There is supposed to be a range of  between 1 and 10000"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633692787,"post_id":69494830,"comment_id":122833821,"body_markdown":"@user16320675 the range is between 1 and 10000. Im not sure what you mean with &#39;how is the range defined&#39;.","body":"@user16320675 the range is between 1 and 10000. Im not sure what you mean with &#39;how is the range defined&#39;."},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633693046,"post_id":69494830,"comment_id":122833904,"body_markdown":"OOOOOOOOOOH, he did it. Thank you my man. I have got the full 40 points. May the lord bless you.","body":"OOOOOOOOOOH, he did it. Thank you my man. I have got the full 40 points. May the lord bless you."},{"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"score":0,"creation_date":1633693153,"post_id":69494830,"comment_id":122833948,"body_markdown":"what was the needed change? I&#39;m just curious....","body":"what was the needed change? I&#39;m just curious...."},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633693614,"post_id":69494830,"comment_id":122834115,"body_markdown":"I changed &quot;&lt; max&quot; to &quot;&lt;=max&quot; because the max also counted","body":"I changed &quot;&lt; max&quot; to &quot;&lt;=max&quot; because the max also counted"},{"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"score":0,"creation_date":1633695614,"post_id":69494830,"comment_id":122834895,"body_markdown":"I guess there are multiple ways to do it. He did say that but maybe he was right even though this was an easier solution.","body":"I guess there are multiple ways to do it. He did say that but maybe he was right even though this was an easier solution."},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":0,"creation_date":1634779872,"post_id":69494830,"comment_id":123119934,"body_markdown":"You need to accept answers.","body":"You need to accept answers."}],"answers":[{"tags":[],"owner":{"account_id":19541139,"reputation":268,"user_id":14298859,"display_name":"MiniMik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633692919,"creation_date":1633692356,"answer_id":69495077,"question_id":69494830,"body_markdown":"    if (sum == 4)\r\n      return false;\r\n    else\r\n      if(sum == 1)\r\n        return true;\r\n      else \r\n        return isHappy(sum);\r\n\r\nAlternative:\r\n\r\n    switch ( sum ): {\r\n      case 4: return false; break;\r\n      case 1: return true; break;\r\n      default: return isHappy(sum); break;\r\n    }\r\n\r\nThe break isn&#39;t needed, since the return in all control paths.","title":"Give amount of happy numbers in a given (input) range","body":"<pre><code>if (sum == 4)\n  return false;\nelse\n  if(sum == 1)\n    return true;\n  else \n    return isHappy(sum);\n</code></pre>\n<p>Alternative:</p>\n<pre><code>switch ( sum ): {\n  case 4: return false; break;\n  case 1: return true; break;\n  default: return isHappy(sum); break;\n}\n</code></pre>\n<p>The break isn't needed, since the return in all control paths.</p>\n"},{"tags":[],"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633692521,"creation_date":1633692521,"answer_id":69495119,"question_id":69494830,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n\r\n    public class HappyNumbersMain {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Lower limit (&gt;0): &quot;);\r\n            String st1 = scan.nextLine().trim();\r\n            System.out.print(&quot;Upper limit: &quot;);\r\n            String st2 = scan.nextLine().trim();\r\n\r\n            int min = Integer.parseInt(st1);\r\n            int max = Integer.parseInt(st2);\r\n\r\n            Set&lt;Integer&gt; happyNumbers = getHappyNumbers(min, max);\r\n            System.out.println(&quot;Happy numbers between &quot; + min + &quot; and &quot; + max + &quot;:&quot; + happyNumbers);\r\n        }\r\n\r\n        public static Set&lt;Integer&gt; getHappyNumbers(int min, int max) {\r\n            Set&lt;Integer&gt; out = new TreeSet&lt;&gt;();\r\n            for (int i = min; i &lt;= max; i++) {\r\n                if (isHappy(i)) {\r\n                    out.add(i);\r\n                }\r\n            }\r\n            return out;\r\n        }\r\n\r\n        private static boolean isHappy(int i) {\r\n            // Stopping conditions\r\n            if (i == 4) {\r\n                return false;\r\n            } else if (i == 1) {\r\n                return true;\r\n            }\r\n\r\n            int sum = 0;\r\n            while (i &gt; 0) {\r\n                sum += Math.pow((i % 10), 2);\r\n                i /= 10;\r\n            }\r\n\r\n            return isHappy(sum);\r\n        }\r\n    }\r\n\r\n\r\nAbove works as expected, some notes:\r\n\r\n1. When doing recursive functions, put stopping conditions as the first thing it checks\r\n2. Adding some feedback to the user helps in understanding how to use your program\r\n3. TreeSet will sort values, HashSet does not, better for display purposes\r\n4. You should always verify user input (I did not do that, but you should)","title":"Give amount of happy numbers in a given (input) range","body":"<pre><code>import java.util.Scanner;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class HappyNumbersMain {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Lower limit (&gt;0): &quot;);\n        String st1 = scan.nextLine().trim();\n        System.out.print(&quot;Upper limit: &quot;);\n        String st2 = scan.nextLine().trim();\n\n        int min = Integer.parseInt(st1);\n        int max = Integer.parseInt(st2);\n\n        Set&lt;Integer&gt; happyNumbers = getHappyNumbers(min, max);\n        System.out.println(&quot;Happy numbers between &quot; + min + &quot; and &quot; + max + &quot;:&quot; + happyNumbers);\n    }\n\n    public static Set&lt;Integer&gt; getHappyNumbers(int min, int max) {\n        Set&lt;Integer&gt; out = new TreeSet&lt;&gt;();\n        for (int i = min; i &lt;= max; i++) {\n            if (isHappy(i)) {\n                out.add(i);\n            }\n        }\n        return out;\n    }\n\n    private static boolean isHappy(int i) {\n        // Stopping conditions\n        if (i == 4) {\n            return false;\n        } else if (i == 1) {\n            return true;\n        }\n\n        int sum = 0;\n        while (i &gt; 0) {\n            sum += Math.pow((i % 10), 2);\n            i /= 10;\n        }\n\n        return isHappy(sum);\n    }\n}\n</code></pre>\n<p>Above works as expected, some notes:</p>\n<ol>\n<li>When doing recursive functions, put stopping conditions as the first thing it checks</li>\n<li>Adding some feedback to the user helps in understanding how to use your program</li>\n<li>TreeSet will sort values, HashSet does not, better for display purposes</li>\n<li>You should always verify user input (I did not do that, but you should)</li>\n</ol>\n"}],"owner":{"account_id":22932027,"reputation":19,"user_id":17066140,"display_name":"Sjoerd van Bussem"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633692919,"creation_date":1633691016,"question_id":69494830,"body_markdown":"As an exercise I need to make a code that will give the amount of happy numbers* in a given range. As a test I need to insert the code in a program that checks 10 different outcomes, for every good outcome you get 4 points. I want the full 40 points and my teacher said that I need to change only a little bit in my code. So far I have this:\r\n\r\n*A happy number is a number which eventually reaches 1 when replaced by the sum of the square of each digit. For instance, 13 is a happy number because 1^2 + 3^2 = 10 and 1^2 + 0^2 = 1\r\n\r\nImportant to know: When you end up with a 4, it is definitely not a happy number.\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String st1 = scan.nextLine().trim();\r\n        String st2 = scan.nextLine().trim();\r\n\r\n        int min = Integer.parseInt(st1);\r\n        int max = Integer.parseInt(st2);\r\n\r\n        Set&lt;Integer&gt; happyNumbers = getHappyNumbers(min, max);\r\n        System.out.println(happyNumbers.size());\r\n\r\n    }\r\n\r\n    public static Set&lt;Integer&gt; getHappyNumbers(int min, int max) {\r\n        Set&lt;Integer&gt; out = new HashSet&lt;&gt;();\r\n        for (int i = min; i &lt; max; i++) {\r\n            if (isHappy(i)) {\r\n                out.add(i);\r\n            }\r\n        }\r\n        return out;\r\n    }\r\n\r\n    private static boolean isHappy(int i) {\r\n        int sum = 0;\r\n        while (i != 0) {\r\n            sum += Math.pow((i % 10), 2);\r\n            i /= 10;\r\n        }\r\n        if (sum == 4) return false;\r\n        else if(sum == 1) return true;\r\n        else if (sum !=1) {return isHappy(sum);}\r\n        else return true;\r\n    }\r\n}\r\n```\r\nMy teacher also said the mistake is in the  following part:\r\n```\r\nif (sum == 4) return false;\r\n        else if(sum == 1) return true;\r\n        else if (sum !=1) {return isHappy(sum);}\r\n        else return true;\r\n```\r\nPlease help :)","title":"Give amount of happy numbers in a given (input) range","body":"<p>As an exercise I need to make a code that will give the amount of happy numbers* in a given range. As a test I need to insert the code in a program that checks 10 different outcomes, for every good outcome you get 4 points. I want the full 40 points and my teacher said that I need to change only a little bit in my code. So far I have this:</p>\n<p>*A happy number is a number which eventually reaches 1 when replaced by the sum of the square of each digit. For instance, 13 is a happy number because 1^2 + 3^2 = 10 and 1^2 + 0^2 = 1</p>\n<p>Important to know: When you end up with a 4, it is definitely not a happy number.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String st1 = scan.nextLine().trim();\n        String st2 = scan.nextLine().trim();\n\n        int min = Integer.parseInt(st1);\n        int max = Integer.parseInt(st2);\n\n        Set&lt;Integer&gt; happyNumbers = getHappyNumbers(min, max);\n        System.out.println(happyNumbers.size());\n\n    }\n\n    public static Set&lt;Integer&gt; getHappyNumbers(int min, int max) {\n        Set&lt;Integer&gt; out = new HashSet&lt;&gt;();\n        for (int i = min; i &lt; max; i++) {\n            if (isHappy(i)) {\n                out.add(i);\n            }\n        }\n        return out;\n    }\n\n    private static boolean isHappy(int i) {\n        int sum = 0;\n        while (i != 0) {\n            sum += Math.pow((i % 10), 2);\n            i /= 10;\n        }\n        if (sum == 4) return false;\n        else if(sum == 1) return true;\n        else if (sum !=1) {return isHappy(sum);}\n        else return true;\n    }\n}\n</code></pre>\n<p>My teacher also said the mistake is in the  following part:</p>\n<pre><code>if (sum == 4) return false;\n        else if(sum == 1) return true;\n        else if (sum !=1) {return isHappy(sum);}\n        else return true;\n</code></pre>\n<p>Please help :)</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1633634034,"post_id":69484612,"comment_id":122818998,"body_markdown":"Please add the code you have tried and how it failed (e.g. errors,\nstacktraces, logs, ...) so we can improve on it.","body":"Please add the code you have tried and how it failed (e.g. errors, stacktraces, logs, ...) so we can improve on it."},{"owner":{"account_id":5067985,"reputation":44,"user_id":4067586,"display_name":"devopsinka"},"score":1,"creation_date":1633678459,"post_id":69484612,"comment_id":122828519,"body_markdown":"I have added the necessary information to my question","body":"I have added the necessary information to my question"}],"answers":[{"tags":[],"owner":{"account_id":12922445,"reputation":699,"user_id":9344362,"display_name":"Jeremy Hunt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633692790,"creation_date":1633688370,"answer_id":69494267,"question_id":69484612,"body_markdown":"Your code is using an external dependency. You can use `Grape` to `@Grab` the dependency when you run a script on your own machine (but be aware that web consoles normally do not allow Grape to download files).\r\n\r\n```java\r\n@Grab(group=&#39;org.json&#39;, module=&#39;json&#39;, version=&#39;20210307&#39;)\r\nimport org.json.XML\r\n\r\nString xml = &#39;&#39;&#39;\\\r\n&lt;path&gt;\r\n    &lt;testdata&gt;\r\n        &lt;item&gt;\r\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\r\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\r\n            &lt;text&gt;version&lt;/text&gt;\r\n            &lt;leaf&gt;false&lt;/leaf&gt;\r\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\r\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\r\n        &lt;/item&gt;\r\n    &lt;/testdata&gt;\r\n&lt;/path&gt;&#39;&#39;&#39;;\r\n\r\nprintln XML.toJSONObject(xml).toString(4)\r\n```\r\n\r\nThe output will be\r\n```javascript\r\n{&quot;path&quot;: {&quot;testdata&quot;: {&quot;item&quot;: {\r\n    &quot;relativePath&quot;: &quot;/test/folder/version/&quot;,\r\n    &quot;resourceURI&quot;: &quot;https://localhost/version/&quot;,\r\n    &quot;text&quot;: &quot;version&quot;,\r\n    &quot;leaf&quot;: false,\r\n    &quot;sizeOnDisk&quot;: -1,\r\n    &quot;lastModifiedtest&quot;: &quot;2021-07-03&quot;\r\n}}}}\r\n```\r\n_(`JsonSlurper` and `JsonSlurperClassic` are not used as they are meant for reading JSON, and not for reading XML nor writing JSON)_","title":"How to convert XML to json with jsonSlurperClassic in Groovy?","body":"<p>Your code is using an external dependency. You can use <code>Grape</code> to <code>@Grab</code> the dependency when you run a script on your own machine (but be aware that web consoles normally do not allow Grape to download files).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Grab(group='org.json', module='json', version='20210307')\nimport org.json.XML\n\nString xml = '''\\\n&lt;path&gt;\n    &lt;testdata&gt;\n        &lt;item&gt;\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\n            &lt;text&gt;version&lt;/text&gt;\n            &lt;leaf&gt;false&lt;/leaf&gt;\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\n        &lt;/item&gt;\n    &lt;/testdata&gt;\n&lt;/path&gt;''';\n\nprintln XML.toJSONObject(xml).toString(4)\n</code></pre>\n<p>The output will be</p>\n<pre class=\"lang-js prettyprint-override\"><code>{&quot;path&quot;: {&quot;testdata&quot;: {&quot;item&quot;: {\n    &quot;relativePath&quot;: &quot;/test/folder/version/&quot;,\n    &quot;resourceURI&quot;: &quot;https://localhost/version/&quot;,\n    &quot;text&quot;: &quot;version&quot;,\n    &quot;leaf&quot;: false,\n    &quot;sizeOnDisk&quot;: -1,\n    &quot;lastModifiedtest&quot;: &quot;2021-07-03&quot;\n}}}}\n</code></pre>\n<p><em>(<code>JsonSlurper</code> and <code>JsonSlurperClassic</code> are not used as they are meant for reading JSON, and not for reading XML nor writing JSON)</em></p>\n"}],"owner":{"account_id":5067985,"reputation":44,"user_id":4067586,"display_name":"devopsinka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69494267,"answer_count":1,"score":0,"last_activity_date":1633692790,"creation_date":1633623630,"question_id":69484612,"body_markdown":"I have XML with my code\r\n\r\n```\r\ndef xml = \r\n&#39;&#39;&#39;\r\n&lt;path&gt;\r\n    &lt;testdata&gt;\r\n        &lt;item&gt;\r\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\r\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\r\n            &lt;text&gt;version&lt;/text&gt;\r\n            &lt;leaf&gt;false&lt;/leaf&gt;\r\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\r\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\r\n        &lt;/item&gt;\r\n    &lt;/testdata&gt;\r\n&lt;/path&gt;\r\n&#39;&#39;&#39;\r\n```\r\nHow to convert this xml to json with jsonSlurperClassic?\r\nI understand that you need to use the toJsonObject method, then call toString() from it and get a json string and pass it to jsonSlurperClassic.\r\nI tried this with Groovy Web Console\r\n```\r\nimport groovy.json.JsonSlurperClassic\r\ndef xml = \r\n&#39;&#39;&#39;\r\n&lt;path&gt;\r\n    &lt;testdata&gt;\r\n        &lt;item&gt;\r\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\r\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\r\n            &lt;text&gt;version&lt;/text&gt;\r\n            &lt;leaf&gt;false&lt;/leaf&gt;\r\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\r\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\r\n        &lt;/item&gt;\r\n    &lt;/testdata&gt;\r\n&lt;/path&gt;\r\n&#39;&#39;&#39;\r\nJSONObject json = XML.toJSONObject(xml);\r\nString jsonPrettyPrintString = json.toString(4);\r\nSystem.out.println(jsonPrettyPrintString);\r\n```\r\nBut I get an error: unable to resolve class JSONObject \r\nWhat am I doing wrong?\r\nLink: https://groovyconsole.appspot.com/script/5119690196123648 ","title":"How to convert XML to json with jsonSlurperClassic in Groovy?","body":"<p>I have XML with my code</p>\n<pre><code>def xml = \n'''\n&lt;path&gt;\n    &lt;testdata&gt;\n        &lt;item&gt;\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\n            &lt;text&gt;version&lt;/text&gt;\n            &lt;leaf&gt;false&lt;/leaf&gt;\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\n        &lt;/item&gt;\n    &lt;/testdata&gt;\n&lt;/path&gt;\n'''\n</code></pre>\n<p>How to convert this xml to json with jsonSlurperClassic?\nI understand that you need to use the toJsonObject method, then call toString() from it and get a json string and pass it to jsonSlurperClassic.\nI tried this with Groovy Web Console</p>\n<pre><code>import groovy.json.JsonSlurperClassic\ndef xml = \n'''\n&lt;path&gt;\n    &lt;testdata&gt;\n        &lt;item&gt;\n            &lt;resourceURI&gt;https://localhost/version/&lt;/resourceURI&gt;\n            &lt;relativePath&gt;/test/folder/version/&lt;/relativePath&gt;\n            &lt;text&gt;version&lt;/text&gt;\n            &lt;leaf&gt;false&lt;/leaf&gt;\n            &lt;lastModifiedtest&gt;2021-07-03&lt;/lastModifiedtest&gt;\n            &lt;sizeOnDisk&gt;-1&lt;/sizeOnDisk&gt;\n        &lt;/item&gt;\n    &lt;/testdata&gt;\n&lt;/path&gt;\n'''\nJSONObject json = XML.toJSONObject(xml);\nString jsonPrettyPrintString = json.toString(4);\nSystem.out.println(jsonPrettyPrintString);\n</code></pre>\n<p>But I get an error: unable to resolve class JSONObject\nWhat am I doing wrong?\nLink: <a href=\"https://groovyconsole.appspot.com/script/5119690196123648\" rel=\"nofollow noreferrer\">https://groovyconsole.appspot.com/script/5119690196123648</a></p>\n"},{"tags":["java","objective-c","swift","java-native-interface"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1419675267,"post_id":27628385,"comment_id":43747461,"body_markdown":"I&#39;m pretty sure the guys at [RoboVM](http://www.robovm.com/) are going to do something about that...","body":"I&#39;m pretty sure the guys at <a href=\"http://www.robovm.com/\" rel=\"nofollow noreferrer\">RoboVM</a> are going to do something about that..."},{"owner":{"account_id":1126637,"reputation":24248,"user_id":1113772,"accept_rate":100,"display_name":"Paul Sweatte"},"score":0,"creation_date":1487591118,"post_id":27628385,"comment_id":71838707,"body_markdown":"Possible duplicate of [Using Swift to share core code between iOS and Android](http://stackoverflow.com/questions/24073963/using-swift-to-share-core-code-between-ios-and-android)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/24073963/using-swift-to-share-core-code-between-ios-and-android\">Using Swift to share core code between iOS and Android</a>"}],"answers":[{"tags":[],"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633692346,"creation_date":1589392113,"answer_id":61781420,"question_id":27628385,"body_markdown":"Well, roughly 5&#189; years later, it turned out, it wasn&#39;t the future... No JVMs on iOS. \r\n\r\nBut you can definitely do it, i.e., call Swift APIs from Java. That said, it&#39;s quite cumbersome, because AFAIK, you have to take a detour via C/C++.\r\n\r\nHere&#39;s the deal:\r\n\r\n- As you know, you can use JNI to call C code.\r\n- From C you can call Swift.\r\n\r\nThe following relies heavily on [this question](https://stackoverflow.com/q/53137790/942774).\r\n\r\n\r\n## Code\r\n\r\nYour Java code is in `helloworld/SwiftHelloWorld.java`:\r\n\r\n```\r\npackage helloworld;\r\n\r\npublic class SwiftHelloWorld {\r\n\r\n    static {\r\n        System.loadLibrary(&quot;SwiftHelloWorld&quot;);\r\n    }\r\n\r\n    public static native void printHelloWorldImpl();\r\n\r\n    public static void main(final String[] args) {\r\n        printHelloWorldImpl();\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow write the native C code (file `helloworld_SwiftHelloWorld.c`):\r\n\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;stdio.h&gt;\r\n#include &quot;helloworld_SwiftHelloWorld.h&quot;\r\n#include &quot;helloworld_SwiftHelloWorld_swift.h&quot;\r\n\r\nJNIEXPORT void JNICALL Java_helloworld_SwiftHelloWorld_printHelloWorldImpl\r\n  (JNIEnv *env, jclass clazz) {\r\n\r\n    int result = swiftHelloWorld(42);\r\n    printf(&quot;%s%i%s&quot;, &quot;Hello World from JNI! &quot;, result, &quot;\\n&quot;);\r\n\r\n}\r\n```\r\n\r\nWhich uses a header file named `helloworld_SwiftHelloWorld_swift.h` for our (yet to be written) Swift code:\r\n\r\n```\r\nint swiftHelloWorld(int);\r\n```\r\n\r\nFinally, our Swift code resides in `SwiftCode.swift`:\r\n\r\n```\r\nimport Foundation\r\n\r\n// force the function to have a name callable by the c code\r\n@_silgen_name(&quot;swiftHelloWorld&quot;)\r\npublic func swiftHelloWorld(number: Int) -&gt; Int {\r\n    print(&quot;Hello world from Swift: \\(number)&quot;)\r\n    return 69\r\n}\r\n```\r\n\r\n## Building\r\n\r\nTo build all this, we first have to compile the Swift code to a dynamic library:\r\n\r\n```\r\nswiftc SwiftCode.swift -emit-library -o libSwiftCode.dylib -Xlinker -install_name -Xlinker libSwiftCode.dylib\r\n```\r\n\r\nWe use the `-Xlinker` directives to ensure that the dylib&#39;s location is relative.\r\n\r\nBefore we can create the C dylib, we first have to generate the Java headers:\r\n\r\n```\r\njavac -h . helloworld/SwiftHelloWorld.java\r\n```\r\n\r\n\r\nNow that we have the Java headers and the Swift dylib, we can compile the C dylib, which links against the Swift dylib:\r\n\r\n```\r\ngcc -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/darwin/&quot; -o libSwiftHelloWorld.dylib -dynamiclib helloworld_SwiftHelloWorld.c libSwiftCode.dylib\r\n```\r\n\r\nNow that everything is in place, we must make sure that both dylibs are in the same directory and that that directory can be found by Java, i.e., you may need to set `-Djava.library.path=&lt;dir of your dylibs&gt;`.\r\n\r\nEt voil&#224;!\r\n\r\nSwift called from Java!","title":"Write &amp; call Swift code using Java’s JNI","body":"<p>Well, roughly 5½ years later, it turned out, it wasn't the future... No JVMs on iOS.</p>\n<p>But you can definitely do it, i.e., call Swift APIs from Java. That said, it's quite cumbersome, because AFAIK, you have to take a detour via C/C++.</p>\n<p>Here's the deal:</p>\n<ul>\n<li>As you know, you can use JNI to call C code.</li>\n<li>From C you can call Swift.</li>\n</ul>\n<p>The following relies heavily on <a href=\"https://stackoverflow.com/q/53137790/942774\">this question</a>.</p>\n<h2>Code</h2>\n<p>Your Java code is in <code>helloworld/SwiftHelloWorld.java</code>:</p>\n<pre><code>package helloworld;\n\npublic class SwiftHelloWorld {\n\n    static {\n        System.loadLibrary(&quot;SwiftHelloWorld&quot;);\n    }\n\n    public static native void printHelloWorldImpl();\n\n    public static void main(final String[] args) {\n        printHelloWorldImpl();\n    }\n\n}\n</code></pre>\n<p>Now write the native C code (file <code>helloworld_SwiftHelloWorld.c</code>):</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n#include &quot;helloworld_SwiftHelloWorld.h&quot;\n#include &quot;helloworld_SwiftHelloWorld_swift.h&quot;\n\nJNIEXPORT void JNICALL Java_helloworld_SwiftHelloWorld_printHelloWorldImpl\n  (JNIEnv *env, jclass clazz) {\n\n    int result = swiftHelloWorld(42);\n    printf(&quot;%s%i%s&quot;, &quot;Hello World from JNI! &quot;, result, &quot;\\n&quot;);\n\n}\n</code></pre>\n<p>Which uses a header file named <code>helloworld_SwiftHelloWorld_swift.h</code> for our (yet to be written) Swift code:</p>\n<pre><code>int swiftHelloWorld(int);\n</code></pre>\n<p>Finally, our Swift code resides in <code>SwiftCode.swift</code>:</p>\n<pre><code>import Foundation\n\n// force the function to have a name callable by the c code\n@_silgen_name(&quot;swiftHelloWorld&quot;)\npublic func swiftHelloWorld(number: Int) -&gt; Int {\n    print(&quot;Hello world from Swift: \\(number)&quot;)\n    return 69\n}\n</code></pre>\n<h2>Building</h2>\n<p>To build all this, we first have to compile the Swift code to a dynamic library:</p>\n<pre><code>swiftc SwiftCode.swift -emit-library -o libSwiftCode.dylib -Xlinker -install_name -Xlinker libSwiftCode.dylib\n</code></pre>\n<p>We use the <code>-Xlinker</code> directives to ensure that the dylib's location is relative.</p>\n<p>Before we can create the C dylib, we first have to generate the Java headers:</p>\n<pre><code>javac -h . helloworld/SwiftHelloWorld.java\n</code></pre>\n<p>Now that we have the Java headers and the Swift dylib, we can compile the C dylib, which links against the Swift dylib:</p>\n<pre><code>gcc -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/darwin/&quot; -o libSwiftHelloWorld.dylib -dynamiclib helloworld_SwiftHelloWorld.c libSwiftCode.dylib\n</code></pre>\n<p>Now that everything is in place, we must make sure that both dylibs are in the same directory and that that directory can be found by Java, i.e., you may need to set <code>-Djava.library.path=&lt;dir of your dylibs&gt;</code>.</p>\n<p>Et voilà!</p>\n<p>Swift called from Java!</p>\n"}],"owner":{"account_id":53428,"reputation":8315,"user_id":159679,"accept_rate":64,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1633692346,"creation_date":1419370693,"question_id":27628385,"body_markdown":"As you [see here][1] one can perform native C/C++ method calls from Java code, thanks to JVM’s JNI. **But how about performing calls of [Swift][2] methods?** Is this possible or going to be possible (can be implemented in a reasonable time frame) as Swift becomes more popular?\r\n\r\nI want to access Apple’s native API that is only accessible when one writes apps in either Objective-C or Swift. As the JVM is just being ported to ARMv8 (64-bit), I could also imagine the JVM as an alternative runtime for iOS apps in the future. But this **might be** the future... The present is: The JVM runs on Mac OS X and one can write apps for Mac OS X in Swift that can access some APIs that might be not accessible to Java apps in the same way.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Native_Interface\r\n  [2]: https://developer.apple.com/swift/","title":"Write &amp; call Swift code using Java’s JNI","body":"<p>As you <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"noreferrer\">see here</a> one can perform native C/C++ method calls from Java code, thanks to JVM’s JNI. <strong>But how about performing calls of <a href=\"https://developer.apple.com/swift/\" rel=\"noreferrer\">Swift</a> methods?</strong> Is this possible or going to be possible (can be implemented in a reasonable time frame) as Swift becomes more popular?</p>\n\n<p>I want to access Apple’s native API that is only accessible when one writes apps in either Objective-C or Swift. As the JVM is just being ported to ARMv8 (64-bit), I could also imagine the JVM as an alternative runtime for iOS apps in the future. But this <strong>might be</strong> the future... The present is: The JVM runs on Mac OS X and one can write apps for Mac OS X in Swift that can access some APIs that might be not accessible to Java apps in the same way.</p>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1625650471,"post_id":68283242,"comment_id":120681082,"body_markdown":"We didn&#39;t use log4j for this and I&#39;m not sure it actually will be able to compress and delete older log files as this would require a separate process. What we&#39;ve been using is the `logrotate` tool on Linux machines to achieve what you&#39;re asking for.","body":"We didn&#39;t use log4j for this and I&#39;m not sure it actually will be able to compress and delete older log files as this would require a separate process. What we&#39;ve been using is the <code>logrotate</code> tool on Linux machines to achieve what you&#39;re asking for."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1625651460,"post_id":68283242,"comment_id":120681495,"body_markdown":"The above (logrotate) makes sense, even *if* the app in question is running as a daemon, since this kind of housekeeping is a job for the OS.","body":"The above (logrotate) makes sense, even <i>if</i> the app in question is running as a daemon, since this kind of housekeeping is a job for the OS."}],"owner":{"account_id":17968777,"reputation":49,"user_id":13058091,"display_name":"Akif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633691884,"creation_date":1625649348,"question_id":68283242,"body_markdown":"Currently, my logs are generating 1 file per day.\r\nBut I want to compress the log files older than 5 days and delete them after 10 days.\r\n\r\nhow can I achieve this?\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;debug&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/server.log&quot;\r\n                     filePattern=&quot;logs/server_%d{date:yyyy-MM-dd}.log&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n            &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n          &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\r\n          &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Compress log files which are older than 5 days using log4j2","body":"<p>Currently, my logs are generating 1 file per day.\nBut I want to compress the log files older than 5 days and delete them after 10 days.</p>\n<p>how can I achieve this?</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;debug&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/server.log&quot;\n                 filePattern=&quot;logs/server_%d{date:yyyy-MM-dd}.log&quot;&gt;\n      &lt;PatternLayout&gt;\n        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\n      &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","tostring","lombok"],"comments":[{"owner":{"account_id":218514,"reputation":3038,"user_id":474868,"accept_rate":71,"display_name":"onnoweb"},"score":1,"creation_date":1526505320,"post_id":50379937,"comment_id":87776226,"body_markdown":"Seems easiest to write your own toString() method.","body":"Seems easiest to write your own toString() method."},{"owner":{"account_id":1678249,"reputation":518,"user_id":1543244,"accept_rate":100,"display_name":"Antariksh"},"score":1,"creation_date":1526505342,"post_id":50379937,"comment_id":87776234,"body_markdown":"I don&#39;t think Lombok supports overriding the behavior of the toString method. Though if you would like something that then you might probably choose to override toString method for the class.","body":"I don&#39;t think Lombok supports overriding the behavior of the toString method. Though if you would like something that then you might probably choose to override toString method for the class."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1526584570,"post_id":50379937,"comment_id":87813738,"body_markdown":"I would challenge whether it is even a good idea to pretty-print on multiple lines with `toString()`. Most people consider it a debugging tools, and it will show up in logs, and multi-line log entries are a bad idea in many environments. Note also that your need for display may vary in different parts of the program as well.","body":"I would challenge whether it is even a good idea to pretty-print on multiple lines with <code>toString()</code>. Most people consider it a debugging tools, and it will show up in logs, and multi-line log entries are a bad idea in many environments. Note also that your need for display may vary in different parts of the program as well."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1633691859,"creation_date":1526505808,"answer_id":50380081,"question_id":50379937,"body_markdown":"There is no way to change the format of the text which is printed. See [the documentation](https://projectlombok.org/features/ToString).\r\n\r\nThe main goal of that annotation is to give you a quick and easy way to generate a method that you can use for logging etc. It&#39;s not designed to be all-purpose. \r\n\r\nIf you wanted to implement your own functionality across multiple classes, you could use aspect-oriented programming to accomplish that.\r\n\r\nThere&#39;s [an open ticket](https://github.com/projectlombok/lombok/issues/1297) to provide more control over the format but it&#39;s been open for a while and that doesn&#39;t seem likely to change any time soon. I think the desire to implement that feature is there but writing an implementation which works for everyone is tricky so they&#39;re proceeding with caution.","title":"How to change the output of the method generated by Lombok&#39;s @ToString?","body":"<p>There is no way to change the format of the text which is printed. See <a href=\"https://projectlombok.org/features/ToString\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>The main goal of that annotation is to give you a quick and easy way to generate a method that you can use for logging etc. It's not designed to be all-purpose.</p>\n<p>If you wanted to implement your own functionality across multiple classes, you could use aspect-oriented programming to accomplish that.</p>\n<p>There's <a href=\"https://github.com/projectlombok/lombok/issues/1297\" rel=\"nofollow noreferrer\">an open ticket</a> to provide more control over the format but it's been open for a while and that doesn't seem likely to change any time soon. I think the desire to implement that feature is there but writing an implementation which works for everyone is tricky so they're proceeding with caution.</p>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1590250018,"creation_date":1590250018,"answer_id":61974891,"question_id":50379937,"body_markdown":"Unfurttenly lombok doesn&#39;t come with that feature, however, is possible achieve it by using other libraries like **commons-lang3**.\r\n\r\n***Decoupled solution***, class and serializer are not tied.\r\n\r\n    System.out.println(ToStringBuilder.reflectionToString(test, ToStringStyle.MULTI_LINE_STYLE));\r\n\r\n***Coupled solution***\r\n\r\n    class Test {\r\n        private final int a;\r\n        private final int b;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return ToStringBuilder.reflectionToString(this, ToStringStyle.MULTI_LINE_STYLE);\r\n        }\r\n    }\r\n\r\ncall serializer:\r\n\r\n    System.out.println(test.toString());\r\n\r\n\r\nBe aware that if you use this solution, could be conflict with @Data on ToString method, so to avoid that must use underhood(@Getter, @Setter, @RequiredArgsConstructor, ...) annotations instead os @Data.","title":"How to change the output of the method generated by Lombok&#39;s @ToString?","body":"<p>Unfurttenly lombok doesn't come with that feature, however, is possible achieve it by using other libraries like <strong>commons-lang3</strong>.</p>\n\n<p><strong><em>Decoupled solution</em></strong>, class and serializer are not tied.</p>\n\n<pre><code>System.out.println(ToStringBuilder.reflectionToString(test, ToStringStyle.MULTI_LINE_STYLE));\n</code></pre>\n\n<p><strong><em>Coupled solution</em></strong></p>\n\n<pre><code>class Test {\n    private final int a;\n    private final int b;\n\n    @Override\n    public String toString() {\n        return ToStringBuilder.reflectionToString(this, ToStringStyle.MULTI_LINE_STYLE);\n    }\n}\n</code></pre>\n\n<p>call serializer:</p>\n\n<pre><code>System.out.println(test.toString());\n</code></pre>\n\n<p>Be aware that if you use this solution, could be conflict with @Data on ToString method, so to avoid that must use underhood(@Getter, @Setter, @RequiredArgsConstructor, ...) annotations instead os @Data.</p>\n"}],"owner":{"account_id":1010343,"reputation":8959,"user_id":1023045,"accept_rate":54,"display_name":"jaeyong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16027,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1633691859,"creation_date":1526505026,"question_id":50379937,"body_markdown":"If we use Lombok&#39;s `@ToString`, for example as part of `@Data`, the output format is hard to read:\r\n\r\n    @Data\r\n    class Test {\r\n        int a;\r\n        int b;\r\n    }\r\n\r\n    Test test = new Test(1, 2);\r\n    System.out.println(test.toString());\r\n\r\nThis results in the following output:\r\n\r\n    a=1, b=2\r\n\r\nWould it be possible to print it like this instead? If the structure of class is highly nested with maps and lists, it is really hard to read it.\r\n\r\n    a=1,\r\n    b=2","title":"How to change the output of the method generated by Lombok&#39;s @ToString?","body":"<p>If we use Lombok's <code>@ToString</code>, for example as part of <code>@Data</code>, the output format is hard to read:</p>\n\n<pre><code>@Data\nclass Test {\n    int a;\n    int b;\n}\n\nTest test = new Test(1, 2);\nSystem.out.println(test.toString());\n</code></pre>\n\n<p>This results in the following output:</p>\n\n<pre><code>a=1, b=2\n</code></pre>\n\n<p>Would it be possible to print it like this instead? If the structure of class is highly nested with maps and lists, it is really hard to read it.</p>\n\n<pre><code>a=1,\nb=2\n</code></pre>\n"},{"tags":["java","junit","microbenchmark","jmh"],"owner":{"account_id":22976721,"reputation":37,"user_id":17104228,"display_name":"pradeep3009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633691710,"creation_date":1633676908,"question_id":69491857,"body_markdown":"Unable to add test cases in the following class\r\n```\r\nimport org.junit.Test;//Line 7\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\nimport org.openjdk.jmh.runner.Runner;\r\nimport org.openjdk.jmh.runner.options.*;\r\n\r\npublic class MyBenchmark \r\n{\r\n      @Test // Line 17\r\n      public void launchBenchmark() throws Exception {\r\n\r\n            Options opt = new OptionsBuilder()\r\n                .include(this.getClass().getName() + &quot;.*&quot;)\r\n                .mode (Mode.AverageTime)\r\n                .timeUnit(TimeUnit.MICROSECONDS)\r\n                .warmupTime(TimeValue.seconds(1))\r\n                .warmupIterations(2)\r\n                .measurementTime(TimeValue.seconds(1))\r\n                .measurementIterations(2)\r\n                .threads(2)\r\n                .forks(1)\r\n                .shouldFailOnError(true)\r\n                .shouldDoGC(true)\r\n                .build();\r\n\r\n            new Runner(opt).run();\r\n        }\r\n\r\n      @Benchmark\r\n      public void benchmark1 () {\r\n            int a = 5;\r\n            int b = 10;\r\n            int sum = a + b;\r\n        }\r\n}\r\n```\r\n\r\n\r\nWhile building the JAR file, it is showing the following compilation errors\r\n\r\n[ERROR] /C:/benchmark/src/main/java/com/example/MyBenchmark.java:[7,17] package org.junit does not exist\r\n[ERROR] /C:/benchmark/src/main/java/com/example/MyBenchmark.java:[17,8] cannot find symbol\r\n[ERROR]   symbol:   class Test\r\n[ERROR]   location: class com.example.MyBenchmark\r\n\r\nI am using dependencies like jmh-core,jmh-generator-annprocess and junit-4.13.1\r\n\r\nAny help is highly appreciated","title":"Unable to implement Junits using JMH","body":"<p>Unable to add test cases in the following class</p>\n<pre><code>import org.junit.Test;//Line 7\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.options.*;\n\npublic class MyBenchmark \n{\n      @Test // Line 17\n      public void launchBenchmark() throws Exception {\n\n            Options opt = new OptionsBuilder()\n                .include(this.getClass().getName() + &quot;.*&quot;)\n                .mode (Mode.AverageTime)\n                .timeUnit(TimeUnit.MICROSECONDS)\n                .warmupTime(TimeValue.seconds(1))\n                .warmupIterations(2)\n                .measurementTime(TimeValue.seconds(1))\n                .measurementIterations(2)\n                .threads(2)\n                .forks(1)\n                .shouldFailOnError(true)\n                .shouldDoGC(true)\n                .build();\n\n            new Runner(opt).run();\n        }\n\n      @Benchmark\n      public void benchmark1 () {\n            int a = 5;\n            int b = 10;\n            int sum = a + b;\n        }\n}\n</code></pre>\n<p>While building the JAR file, it is showing the following compilation errors</p>\n<p>[ERROR] /C:/benchmark/src/main/java/com/example/MyBenchmark.java:[7,17] package org.junit does not exist\n[ERROR] /C:/benchmark/src/main/java/com/example/MyBenchmark.java:[17,8] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class com.example.MyBenchmark</p>\n<p>I am using dependencies like jmh-core,jmh-generator-annprocess and junit-4.13.1</p>\n<p>Any help is highly appreciated</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":0,"creation_date":1364672793,"post_id":15722763,"comment_id":22334382,"body_markdown":"You can parse exception message string to get only those pieces you want","body":"You can parse exception message string to get only those pieces you want"},{"owner":{"account_id":1372349,"reputation":3201,"user_id":1307094,"accept_rate":60,"display_name":"Kakalokia"},"score":2,"creation_date":1364673034,"post_id":15722763,"comment_id":22334457,"body_markdown":"How about just using println with the message you want to output without the getMessage method?","body":"How about just using println with the message you want to output without the getMessage method?"},{"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"score":0,"creation_date":1364673044,"post_id":15722763,"comment_id":22334461,"body_markdown":"You use `getCause()` to get the inner-most exception and `getMessage()` on that, but I wouldn&#39;t guarantee that the line number won&#39;t be there. It&#39;s a rather unusual usecase, can you tell what you want to do? If you just want to output a user-friendly message for a front-end, you&#39;re just gonna have to customize it, if it&#39;s meant for devs anyway -- the whole thing is much friendlier.","body":"You use <code>getCause()</code> to get the inner-most exception and <code>getMessage()</code> on that, but I wouldn&#39;t guarantee that the line number won&#39;t be there. It&#39;s a rather unusual usecase, can you tell what you want to do? If you just want to output a user-friendly message for a front-end, you&#39;re just gonna have to customize it, if it&#39;s meant for devs anyway -- the whole thing is much friendlier."}],"answers":[{"tags":[],"owner":{"display_name":"user2127251"},"down_vote_count":12,"up_vote_count":1,"is_accepted":false,"score":-11,"last_activity_date":1364673130,"creation_date":1364673130,"answer_id":15722830,"question_id":15722763,"body_markdown":"    try {\r\n    } catch (javax.script.ScriptException ex) {\r\n    // System.out.println(ex.getMessage());\r\n    }","title":"Printing Exception Message in java","body":"<pre><code>try {\n} catch (javax.script.ScriptException ex) {\n// System.out.println(ex.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1442531538,"creation_date":1364673501,"answer_id":15722885,"question_id":15722763,"body_markdown":"The output looks correct to me:\r\n\r\n    Invalid JavaScript code: sun.org.mozilla.javascript.internal.EvaluatorException: missing } after property list (&lt;Unknown source&gt;) in &lt;Unknown source&gt;; at line number 1\r\n\r\nI think `Invalid Javascript code: ..` is the start of the exception message. \r\n\r\nNormally the stacktrace isn&#39;t returned with the message:\r\n\r\n    try {\r\n    \tthrow new RuntimeException(&quot;hu?\\ntrace-line1\\ntrace-line2&quot;);\r\n    } catch (Exception e) {\r\n    \tSystem.out.println(e.getMessage()); // prints &quot;hu?&quot;\r\n    }\r\n\r\nSo maybe the code you are calling catches an exception and rethrows a `ScriptException`. In this case maybe `e.getCause().getMessage()` can help you.","title":"Printing Exception Message in java","body":"<p>The output looks correct to me:</p>\n\n<pre><code>Invalid JavaScript code: sun.org.mozilla.javascript.internal.EvaluatorException: missing } after property list (&lt;Unknown source&gt;) in &lt;Unknown source&gt;; at line number 1\n</code></pre>\n\n<p>I think <code>Invalid Javascript code: ..</code> is the start of the exception message. </p>\n\n<p>Normally the stacktrace isn't returned with the message:</p>\n\n<pre><code>try {\n    throw new RuntimeException(\"hu?\\ntrace-line1\\ntrace-line2\");\n} catch (Exception e) {\n    System.out.println(e.getMessage()); // prints \"hu?\"\n}\n</code></pre>\n\n<p>So maybe the code you are calling catches an exception and rethrows a <code>ScriptException</code>. In this case maybe <code>e.getCause().getMessage()</code> can help you.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633691699,"creation_date":1633691699,"answer_id":69494970,"question_id":15722763,"body_markdown":"&gt; In Java, there are three methods to print an exception information.\r\n\r\n***1. java.lang.Throwable.printStackTrace() method***\r\n\r\n    e.printStackTrace();\r\n\r\n***2.toString() method :***\r\n\r\n    catch (Exception e)\r\n            {\r\n                System.out.println(e.toString());\r\n            }\r\n\r\n***3. java.lang.Throwable.getMessage() method***\r\n\r\n    catch (Exception e)\r\n            {\r\n                System.out.println(e.getMessage());\r\n                  \r\n            }","title":"Printing Exception Message in java","body":"<blockquote>\n<p>In Java, there are three methods to print an exception information.</p>\n</blockquote>\n<p><em><strong>1. java.lang.Throwable.printStackTrace() method</strong></em></p>\n<pre><code>e.printStackTrace();\n</code></pre>\n<p><em><strong>2.toString() method :</strong></em></p>\n<pre><code>catch (Exception e)\n        {\n            System.out.println(e.toString());\n        }\n</code></pre>\n<p><em><strong>3. java.lang.Throwable.getMessage() method</strong></em></p>\n<pre><code>catch (Exception e)\n        {\n            System.out.println(e.getMessage());\n              \n        }\n</code></pre>\n"}],"owner":{"account_id":144573,"reputation":1567,"user_id":353721,"accept_rate":73,"display_name":"sony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132037,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1633691699,"creation_date":1364672662,"question_id":15722763,"body_markdown":"Is there a way to print an exception message in Java without the exception?\r\n\r\nWhen I try the following piece of code: \r\n\r\n    try {\r\n        // statements\r\n    } catch (javax.script.ScriptException ex) {\r\n        System.out.println(ex.getMessage());\r\n    }\r\n\r\nThe output is:\r\n\r\n    Invalid JavaScript code: sun.org.mozilla.javascript.internal.EvaluatorException:\r\n    missing } after property list (&lt;Unknown source&gt;) in &lt;Unknown source&gt;; \r\n    at line number 1\r\n\r\nIs there a way to print the message without the exception information, source and line number information. In other words, the message I would like to print in the output is:\r\n\r\n    missing } after property list\r\n","title":"Printing Exception Message in java","body":"<p>Is there a way to print an exception message in Java without the exception?</p>\n\n<p>When I try the following piece of code: </p>\n\n<pre><code>try {\n    // statements\n} catch (javax.script.ScriptException ex) {\n    System.out.println(ex.getMessage());\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Invalid JavaScript code: sun.org.mozilla.javascript.internal.EvaluatorException:\nmissing } after property list (&lt;Unknown source&gt;) in &lt;Unknown source&gt;; \nat line number 1\n</code></pre>\n\n<p>Is there a way to print the message without the exception information, source and line number information. In other words, the message I would like to print in the output is:</p>\n\n<pre><code>missing } after property list\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1633680045,"post_id":69492402,"comment_id":122829078,"body_markdown":"What about an empty array?","body":"What about an empty array?"},{"owner":{"account_id":22046518,"reputation":3,"user_id":16311438,"display_name":"xiaomiao gao"},"score":0,"creation_date":1633680521,"post_id":69492402,"comment_id":122829248,"body_markdown":"Empty arrays also count","body":"Empty arrays also count"},{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1633681103,"post_id":69492402,"comment_id":122829451,"body_markdown":"What have you tried yet? Share some code perhaps!","body":"What have you tried yet? Share some code perhaps!"},{"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"score":1,"creation_date":1633681622,"post_id":69492402,"comment_id":122829630,"body_markdown":"Can the randomized array contain duplicate elements, can it&#39;s size be bigger than the source:\nEx: [a,b] -&gt; [a,a,b,b] is it okay?","body":"Can the randomized array contain duplicate elements, can it&#39;s size be bigger than the source: Ex: [a,b] -&gt; [a,a,b,b] is it okay?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633691539,"creation_date":1633681288,"answer_id":69492700,"question_id":69492402,"body_markdown":"You can just randomly choose if a String is used in the result or not for every String in the array:\r\n```java\r\nString[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};\r\nRandom rand=new Random();\r\nList&lt;String&gt; sList=new ArrayList&lt;&gt;();\r\nfor(String elem:s){\r\n    if(rand.nextBoolean()){\r\n        sList.add(elem);\r\n    }\r\n}\r\nString[] result=sList.toArray(new String[0]);\r\n```\r\nOr using streams:\r\n```java\r\nString[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};\r\nRandom rand=new Random();\r\nString[] result=Arrays.stream(s).filter(unused-&gt;rand.nextBoolean()).toArray(String[]::new);\r\n```","title":"how to get a random array from a array?","body":"<p>You can just randomly choose if a String is used in the result or not for every String in the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};\nRandom rand=new Random();\nList&lt;String&gt; sList=new ArrayList&lt;&gt;();\nfor(String elem:s){\n    if(rand.nextBoolean()){\n        sList.add(elem);\n    }\n}\nString[] result=sList.toArray(new String[0]);\n</code></pre>\n<p>Or using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};\nRandom rand=new Random();\nString[] result=Arrays.stream(s).filter(unused-&gt;rand.nextBoolean()).toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":22046518,"reputation":3,"user_id":16311438,"display_name":"xiaomiao gao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633874176,"accepted_answer_id":69492700,"answer_count":1,"score":0,"last_activity_date":1633691539,"creation_date":1633679768,"question_id":69492402,"body_markdown":"    String[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};//[&#39;a&#39;],[&#39;b&#39;],[&#39;c&#39;],[&#39;d&#39;],[&#39;a&#39;,&#39;b&#39;],[&#39;a &#39;,&#39;c&#39;],[&#39;a&#39;,&#39;d&#39;],[&#39;b&#39;,&#39;c&#39;],[&#39;b&#39;,&#39;d&#39;],[&#39;c&#39;,&#39;d&#39;],[&#39;a &#39;,&#39;b&#39;,&#39;c&#39;]...[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;]\r\n\r\n\r\nI want a result like this. Relying on this array, I want to get a random value among them.\r\n","title":"how to get a random array from a array?","body":"<pre><code>String[] s={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;};//['a'],['b'],['c'],['d'],['a','b'],['a ','c'],['a','d'],['b','c'],['b','d'],['c','d'],['a ','b','c']...['a','b','c','d']\n</code></pre>\n<p>I want a result like this. Relying on this array, I want to get a random value among them.</p>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1588688080,"post_id":61615058,"comment_id":108990350,"body_markdown":"&quot;*why can&#39;t we design the original class with those access mechanisms*&quot; A proxy can work with any class, including those that you didn&#39;t write","body":"&quot;<i>why can&#39;t we design the original class with those access mechanisms</i>&quot; A proxy can work with any class, including those that you didn&#39;t write"},{"owner":{"account_id":18496767,"reputation":195,"user_id":13475014,"display_name":"Clarke"},"score":0,"creation_date":1588688196,"post_id":61615058,"comment_id":108990426,"body_markdown":"@Michael Can it produce a whole new class, like generating codes itself?","body":"@Michael Can it produce a whole new class, like generating codes itself?"},{"owner":{"account_id":464646,"reputation":541,"user_id":868297,"display_name":"Jaybird"},"score":0,"creation_date":1589271460,"post_id":61615058,"comment_id":109219202,"body_markdown":"It&#39;s not a tool for code generation. It allows you to handle all method calls on the interface(s) in a single method. You could not do this yourself without writing an implementation of these interfaces that had the same code in each method, which could be pretty repetitive.","body":"It&#39;s not a tool for code generation. It allows you to handle all method calls on the interface(s) in a single method. You could not do this yourself without writing an implementation of these interfaces that had the same code in each method, which could be pretty repetitive."},{"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"score":1,"creation_date":1616512802,"post_id":61615058,"comment_id":118022315,"body_markdown":"@Clarke, Cay S. Horstman Core Java I guess :)","body":"@Clarke, Cay S. Horstman Core Java I guess :)"},{"owner":{"account_id":18496767,"reputation":195,"user_id":13475014,"display_name":"Clarke"},"score":0,"creation_date":1616602972,"post_id":61615058,"comment_id":118056060,"body_markdown":"@jwpol you are right I worship that book!","body":"@jwpol you are right I worship that book!"}],"answers":[{"tags":[],"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1589036793,"creation_date":1589036793,"answer_id":61698887,"question_id":61615058,"body_markdown":"Let&#39;s remove all the hocus-pocus of nomenclatures and just understand it in the real world using an example-\r\n\r\n 1. Bob and his 10,000 friends go to watch a soccer match.\r\n 2. Due to security reasons, it is mandatory for the guards at the entry gates to check tickets of all the people and then let them enter.\r\n 3. There are also pizza and beer stalls inside the stadium but you can only buy them if you have a valid ticket.\r\n 4. Now since we know that the guards did there duty right and no one without a valid ticket could enter the stadium, the pizza and beer vendors don&#39;t have to check tickets of every person themselves.\r\n\r\nNow let&#39;s see-\r\n\r\n 1. The guards are acting as a proxy layer between the stadium stalls and the rest of the world.\r\n 2. If the guards were not there, the pizza and beer vendors would all need to write the ticket checking code or at least make a call to that piece of code themselves. This might cause problems in the future because what if a new stall opens in the stadium and they forget to call the piece of code which checks tickets of the people.\r\n\r\nAdvantages-\r\n\r\n 1. Proxies allow you to do something with the object, using the object that you are using while allowing you to write a cleaner, SOLID code with ease. \r\n 2. Had this been a real-world scenario, neither would have I told the guards about the stalls in the stadium nor would have I told the vendors about the whole ticketing system of the stadium. These 2 operations could grow independently on their own. \r\n\r\nThese 2 articles give a good intro about proxies- \r\n\r\n - https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch08s06.html\r\n - https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring\r\n\r\n","title":"What is the actual purpose of designing a proxy class?","body":"<p>Let's remove all the hocus-pocus of nomenclatures and just understand it in the real world using an example-</p>\n\n<ol>\n<li>Bob and his 10,000 friends go to watch a soccer match.</li>\n<li>Due to security reasons, it is mandatory for the guards at the entry gates to check tickets of all the people and then let them enter.</li>\n<li>There are also pizza and beer stalls inside the stadium but you can only buy them if you have a valid ticket.</li>\n<li>Now since we know that the guards did there duty right and no one without a valid ticket could enter the stadium, the pizza and beer vendors don't have to check tickets of every person themselves.</li>\n</ol>\n\n<p>Now let's see-</p>\n\n<ol>\n<li>The guards are acting as a proxy layer between the stadium stalls and the rest of the world.</li>\n<li>If the guards were not there, the pizza and beer vendors would all need to write the ticket checking code or at least make a call to that piece of code themselves. This might cause problems in the future because what if a new stall opens in the stadium and they forget to call the piece of code which checks tickets of the people.</li>\n</ol>\n\n<p>Advantages-</p>\n\n<ol>\n<li>Proxies allow you to do something with the object, using the object that you are using while allowing you to write a cleaner, SOLID code with ease. </li>\n<li>Had this been a real-world scenario, neither would have I told the guards about the stalls in the stadium nor would have I told the vendors about the whole ticketing system of the stadium. These 2 operations could grow independently on their own. </li>\n</ol>\n\n<p>These 2 articles give a good intro about proxies- </p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch08s06.html</a></li>\n<li><a href=\"https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring\" rel=\"nofollow noreferrer\">https://spring.io/blog/2012/05/23/transactions-caching-and-aop-understanding-proxy-usage-in-spring</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633691361,"creation_date":1589044719,"answer_id":61700785,"question_id":61615058,"body_markdown":"Proxy classes are extremely useful when you are dealing with code from other teams or third parties and can be used for all sorts of diagnostics or enhanced operations.\r\n\r\nI&#39;ve used them with database vendor JDBC Connection jars and fault tolerant Remote server calls where the proxy could deal with failover for errors or re-connections such that the application logic is cleaner in all client calling code. \r\n\r\nYour TraceHandler could be a self contained class by adding the method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T create(final T impl, final Class&lt;?&gt;... interfaces)\r\n    {\r\n        final Class&lt;?&gt; cls = impl.getClass();\r\n\r\n        return (T)Proxy.newProxyInstance(cls.getClassLoader(), interfaces, new TraceHandler(impl));\r\n    }\r\n\r\nThen you could use to TraceHandler to monitor / log ANY interface used by your application: \r\n\r\n\tSomeObject x = TraceHandler.create(x, SomeObject.class);\r\n    FileVisitor myvisitor = TraceHandler.create(visitor, FileVisitor.class)\r\n\r\nHopefully it will then be clearer how proxy classes can be helpful, and an example as follows:\r\n\r\n    public class ProxyTest\r\n    {\r\n        public static void main(String[] args) {\r\n    \r\n            var elements = new Integer[1000];\r\n    \r\n            for (int i = 0; i &lt; elements.length; i++) {\r\n                elements[i] = Integer.valueOf(i);\r\n            }\r\n    \r\n            // construct a random integer\r\n            Integer key = new Random().nextInt(elements.length) + 1;\r\n    \r\n            Comparator&lt;Integer&gt; comparator = Integer::compare;\r\n            Comparator&lt;Integer&gt; comparator2 = TraceHandler.create(comparator, Comparator.class);\r\n    \r\n            // search for the key without proxy\r\n            System.out.println(&quot;Search for &quot;+key+&quot; without proxy:&quot;);\r\n            int result = Arrays.binarySearch(elements, key, comparator);\r\n    \r\n            // print match\r\n            System.out.println(&quot;Found result=&quot;+result);\r\n    \r\n            // search for the key with proxy prints debug info per call\r\n            System.out.println(&quot;Search &quot;+key+&quot; with proxy:&quot;);\r\n            int result2 = Arrays.binarySearch(elements, key, comparator2);\r\n            System.out.println(&quot;Found result2=&quot;+result2);\r\n         }\r\n    }\r\n\r\nExample output from the above run shows that the proxy class can print details of each compare call.\r\n\r\n\tSearch for 486 without proxy:\r\n\tFound result at 486\r\n\tSearch 486 with proxy:\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(499, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(249, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(374, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(436, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(467, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(483, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(491, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(487, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(485, 486)\r\n\tstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(486, 486)\r\n\tFound result at 486\r\n","title":"What is the actual purpose of designing a proxy class?","body":"<p>Proxy classes are extremely useful when you are dealing with code from other teams or third parties and can be used for all sorts of diagnostics or enhanced operations.</p>\n<p>I've used them with database vendor JDBC Connection jars and fault tolerant Remote server calls where the proxy could deal with failover for errors or re-connections such that the application logic is cleaner in all client calling code.</p>\n<p>Your TraceHandler could be a self contained class by adding the method:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; T create(final T impl, final Class&lt;?&gt;... interfaces)\n{\n    final Class&lt;?&gt; cls = impl.getClass();\n\n    return (T)Proxy.newProxyInstance(cls.getClassLoader(), interfaces, new TraceHandler(impl));\n}\n</code></pre>\n<p>Then you could use to TraceHandler to monitor / log ANY interface used by your application:</p>\n<pre><code>SomeObject x = TraceHandler.create(x, SomeObject.class);\nFileVisitor myvisitor = TraceHandler.create(visitor, FileVisitor.class)\n</code></pre>\n<p>Hopefully it will then be clearer how proxy classes can be helpful, and an example as follows:</p>\n<pre><code>public class ProxyTest\n{\n    public static void main(String[] args) {\n\n        var elements = new Integer[1000];\n\n        for (int i = 0; i &lt; elements.length; i++) {\n            elements[i] = Integer.valueOf(i);\n        }\n\n        // construct a random integer\n        Integer key = new Random().nextInt(elements.length) + 1;\n\n        Comparator&lt;Integer&gt; comparator = Integer::compare;\n        Comparator&lt;Integer&gt; comparator2 = TraceHandler.create(comparator, Comparator.class);\n\n        // search for the key without proxy\n        System.out.println(&quot;Search for &quot;+key+&quot; without proxy:&quot;);\n        int result = Arrays.binarySearch(elements, key, comparator);\n\n        // print match\n        System.out.println(&quot;Found result=&quot;+result);\n\n        // search for the key with proxy prints debug info per call\n        System.out.println(&quot;Search &quot;+key+&quot; with proxy:&quot;);\n        int result2 = Arrays.binarySearch(elements, key, comparator2);\n        System.out.println(&quot;Found result2=&quot;+result2);\n     }\n}\n</code></pre>\n<p>Example output from the above run shows that the proxy class can print details of each compare call.</p>\n<pre><code>Search for 486 without proxy:\nFound result at 486\nSearch 486 with proxy:\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(499, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(249, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(374, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(436, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(467, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(483, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(491, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(487, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(485, 486)\nstackoverflow.proxy.ProxyTest$$Lambda$1/0x0000000800c00a00@15aeb7ab.compare(486, 486)\nFound result at 486\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589064544,"creation_date":1589063949,"answer_id":61704732,"question_id":61615058,"body_markdown":"Very wide question:\r\n\r\nthere are several different options around this:\r\n\r\n- Proxy pattern - a way of manipulation of one object by another thought third one\r\n- also lazy loading could also be part of that discussion\r\n- finally most popular - dynamic proxies and code enhancement after compilation. A lot of top famous frameworks work that way (e.g. spring, hibernate, selenium). That allows achieve more readable code and increase its quality (less bugs). Dynamic proxies bring dynamic lazy init possibility, code enhancements, more declarative code\r\n\r\nE.g. spring transactional annotation in work\r\n\r\n```\r\nclass UsersDao {\r\n@Transactional\r\n  public void method() {\r\n    // DO SOME STUFF\r\n  }\r\n}\r\n```\r\n\r\nSpring is creating dynamic proxy that &quot;extends&quot; UsersDao but realy does redirect all method invocations to a specific object that implement InvocationHandler interface\r\n\r\nexample of InvocationHandler \r\n\r\n```\r\npublic interface InvocationHandler {\r\n\r\n    /**\r\n     * Processes a method invocation on a proxy instance and returns\r\n     * the result.  This method will be invoked on an invocation handler\r\n     * when a method is invoked on a proxy instance that it is\r\n     * associated with.\r\n     */\r\n    public Object invoke(Object proxy, Method method, Object[] args)\r\n        throws Throwable;\r\n}\r\n```\r\n\r\nInside &quot;invoke&quot; spring is doing something like that:\r\n\r\n```\r\nTransaction tx = TransactionManager.createTransaction()\r\ntry {\r\n    // execute method\r\n    method.invoke();\r\n    tx.commit()\r\n\r\n}\r\ncatch (Exception e) {\r\n   // execute callback \r\n    tx.rollback()\r\n}\r\nfinally () {\r\n   // do clean up\r\n   // tx.flush()\r\n}\r\n```\r\n\r\nThat is achieved by a magic of dynamic proxies\r\n\r\n\r\nTools for dynamic proxying:\r\n\r\nhttps://github.com/cglib/cglib/wiki\r\n\r\nhttps://www.javassist.org/\r\n\r\nhttps://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html","title":"What is the actual purpose of designing a proxy class?","body":"<p>Very wide question:</p>\n\n<p>there are several different options around this:</p>\n\n<ul>\n<li>Proxy pattern - a way of manipulation of one object by another thought third one</li>\n<li>also lazy loading could also be part of that discussion</li>\n<li>finally most popular - dynamic proxies and code enhancement after compilation. A lot of top famous frameworks work that way (e.g. spring, hibernate, selenium). That allows achieve more readable code and increase its quality (less bugs). Dynamic proxies bring dynamic lazy init possibility, code enhancements, more declarative code</li>\n</ul>\n\n<p>E.g. spring transactional annotation in work</p>\n\n<pre><code>class UsersDao {\n@Transactional\n  public void method() {\n    // DO SOME STUFF\n  }\n}\n</code></pre>\n\n<p>Spring is creating dynamic proxy that \"extends\" UsersDao but realy does redirect all method invocations to a specific object that implement InvocationHandler interface</p>\n\n<p>example of InvocationHandler </p>\n\n<pre><code>public interface InvocationHandler {\n\n    /**\n     * Processes a method invocation on a proxy instance and returns\n     * the result.  This method will be invoked on an invocation handler\n     * when a method is invoked on a proxy instance that it is\n     * associated with.\n     */\n    public Object invoke(Object proxy, Method method, Object[] args)\n        throws Throwable;\n}\n</code></pre>\n\n<p>Inside \"invoke\" spring is doing something like that:</p>\n\n<pre><code>Transaction tx = TransactionManager.createTransaction()\ntry {\n    // execute method\n    method.invoke();\n    tx.commit()\n\n}\ncatch (Exception e) {\n   // execute callback \n    tx.rollback()\n}\nfinally () {\n   // do clean up\n   // tx.flush()\n}\n</code></pre>\n\n<p>That is achieved by a magic of dynamic proxies</p>\n\n<p>Tools for dynamic proxying:</p>\n\n<p><a href=\"https://github.com/cglib/cglib/wiki\" rel=\"nofollow noreferrer\">https://github.com/cglib/cglib/wiki</a></p>\n\n<p><a href=\"https://www.javassist.org/\" rel=\"nofollow noreferrer\">https://www.javassist.org/</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Proxy.html</a></p>\n"},{"tags":[],"owner":{"account_id":12205295,"reputation":28,"user_id":13550128,"display_name":"Alessandro Nerla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589560934,"creation_date":1589560934,"answer_id":61824289,"question_id":61615058,"body_markdown":"Proxy classes act as an interface to access an object, usually adding additional functionality.\r\n\r\nThey are somewhat similar to Wrapper classes but they don&#39;t contain the object that they interface with and they are needed when you have to add additional behaviour to a class which you can&#39;t change the code of.\r\n\r\n","title":"What is the actual purpose of designing a proxy class?","body":"<p>Proxy classes act as an interface to access an object, usually adding additional functionality.</p>\n\n<p>They are somewhat similar to Wrapper classes but they don't contain the object that they interface with and they are needed when you have to add additional behaviour to a class which you can't change the code of.</p>\n"}],"owner":{"account_id":18496767,"reputation":195,"user_id":13475014,"display_name":"Clarke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3008,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61704732,"answer_count":4,"score":9,"last_activity_date":1633691361,"creation_date":1588687640,"question_id":61615058,"body_markdown":"I&#39;ve been studying the proxy classes and I don&#39;t get the whole idea of designing it. \r\n\r\nFrom what I learned so far it is a wrapper object that can control access to the original object. But if we want to control it why can&#39;t we design the original class with those access mechanisms.\r\n\r\nI read that these proxy objects are useful for tracing method calls, routing method calls to remote servers. \r\n\r\nBut I searched for a question that would explain this to me in java but I didn&#39;t find any.\r\n\r\nI&#39;ll illustrate the code for a method tracing program which was in the book that I was referring. \r\n\r\n````\r\npublic class ProxyTest {\r\n\r\n  public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n     var elements = new Object[1000];\r\n\r\n     // fill elements with proxies for the integers 1 . . . 1000\r\n     for (int i = 0; i &lt; elements.length; i++) {\r\n       Integer value = i + 1;\r\n       var handler = new TraceHandler(value);\r\n       Object proxy = Proxy.newProxyInstance(ClassLoader.getSystemClassLoader(), new Class[]{Comparable.class}, handler);\r\n       elements[i] = proxy;\r\n     }\r\n\r\n     // construct a random integer\r\n     Integer key = new Random().nextInt(elements.length) + 1;\r\n\r\n     // search for the key\r\n     int result = Arrays.binarySearch(elements, key);\r\n\r\n     // print match if found\r\n     if (result &gt;= 0)\r\n        System.out.println(elements[result]);\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * An invocation handler that prints out the method name and parameters, then\r\n * invokes the original method\r\n **/\r\n\r\nclass TraceHandler implements InvocationHandler{\r\n\r\n  private Object target;\r\n\r\n  /**\r\n   * Constructs a TraceHandler\r\n   * @param t the implicit parameter of the method call\r\n   **/\r\n\r\n  public TraceHandler(Object t){\r\n    target = t;\r\n  }\r\n\r\n  public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\r\n\r\n     // print implicit argument\r\n     System.out.print(target);\r\n\r\n     // print method name\r\n     System.out.print(&quot;.&quot; + m.getName() + &quot;(&quot;);\r\n\r\n     // print explicit arguments\r\n     if (args != null){\r\n       for (int i = 0; i &lt; args.length; i++){\r\n         System.out.print(args[i]);\r\n         if (i &lt; args.length - 1)\r\n           System.out.print(&quot;, &quot;);\r\n       }\r\n     }\r\n\r\n     System.out.println(&quot;)&quot;);\r\n\r\n     // invoke actual method\r\n     return m.invoke(target, args);\r\n\r\n  }\r\n\r\n}\r\n````\r\nCan someone please point out to me what is going on with this proxy design pattern, what does it do in this particular program and its advantages?","title":"What is the actual purpose of designing a proxy class?","body":"<p>I've been studying the proxy classes and I don't get the whole idea of designing it. </p>\n\n<p>From what I learned so far it is a wrapper object that can control access to the original object. But if we want to control it why can't we design the original class with those access mechanisms.</p>\n\n<p>I read that these proxy objects are useful for tracing method calls, routing method calls to remote servers. </p>\n\n<p>But I searched for a question that would explain this to me in java but I didn't find any.</p>\n\n<p>I'll illustrate the code for a method tracing program which was in the book that I was referring. </p>\n\n<pre><code>public class ProxyTest {\n\n  public static void main(String[] args) throws ClassNotFoundException {\n\n     var elements = new Object[1000];\n\n     // fill elements with proxies for the integers 1 . . . 1000\n     for (int i = 0; i &lt; elements.length; i++) {\n       Integer value = i + 1;\n       var handler = new TraceHandler(value);\n       Object proxy = Proxy.newProxyInstance(ClassLoader.getSystemClassLoader(), new Class[]{Comparable.class}, handler);\n       elements[i] = proxy;\n     }\n\n     // construct a random integer\n     Integer key = new Random().nextInt(elements.length) + 1;\n\n     // search for the key\n     int result = Arrays.binarySearch(elements, key);\n\n     // print match if found\n     if (result &gt;= 0)\n        System.out.println(elements[result]);\n\n  }\n\n}\n\n/**\n * An invocation handler that prints out the method name and parameters, then\n * invokes the original method\n **/\n\nclass TraceHandler implements InvocationHandler{\n\n  private Object target;\n\n  /**\n   * Constructs a TraceHandler\n   * @param t the implicit parameter of the method call\n   **/\n\n  public TraceHandler(Object t){\n    target = t;\n  }\n\n  public Object invoke(Object proxy, Method m, Object[] args) throws Throwable {\n\n     // print implicit argument\n     System.out.print(target);\n\n     // print method name\n     System.out.print(\".\" + m.getName() + \"(\");\n\n     // print explicit arguments\n     if (args != null){\n       for (int i = 0; i &lt; args.length; i++){\n         System.out.print(args[i]);\n         if (i &lt; args.length - 1)\n           System.out.print(\", \");\n       }\n     }\n\n     System.out.println(\")\");\n\n     // invoke actual method\n     return m.invoke(target, args);\n\n  }\n\n}\n</code></pre>\n\n<p>Can someone please point out to me what is going on with this proxy design pattern, what does it do in this particular program and its advantages?</p>\n"},{"tags":["java","android","callable"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633691489,"post_id":69494881,"comment_id":122833311,"body_markdown":"In your code, you do not need the `Context`. The result of `getExternalFilesDir(null)` is what you need, which is just a `File`. If you are sure that you need a `Context`, call `getApplication()` on some other `Context` to get the `Application` singleton for your process, as `Application` is a `Context`, and as a singleton it cannot be leaked further by your code.","body":"In your code, you do not need the <code>Context</code>. The result of <code>getExternalFilesDir(null)</code> is what you need, which is just a <code>File</code>. If you are sure that you need a <code>Context</code>, call <code>getApplication()</code> on some other <code>Context</code> to get the <code>Application</code> singleton for your process, as <code>Application</code> is a <code>Context</code>, and as a singleton it cannot be leaked further by your code."},{"owner":{"display_name":"user16579421"},"score":0,"creation_date":1633691855,"post_id":69494881,"comment_id":122833456,"body_markdown":"@CommonsWare Hi. Without context, can&#39;t get access to getExternalFilesDir(null) - Cannot resolve method","body":"@CommonsWare Hi. Without context, can&#39;t get access to getExternalFilesDir(null) - Cannot resolve method"},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1633692683,"post_id":69494881,"comment_id":122833776,"body_markdown":"If you know a number of files, you can create files and pass a list of files. You can delete any of them later. This class can cause memory leak if called from a short-living object like Fragment.","body":"If you know a number of files, you can create files and pass a list of files. You can delete any of them later. This class can cause memory leak if called from a short-living object like Fragment."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633693090,"post_id":69494881,"comment_id":122833922,"body_markdown":"&quot;Without context, can&#39;t get access to getExternalFilesDir(null)&quot; -- you would call that *outside* of `DownloadImage` and pass the result into the `DownloadImage` constructor, the way that you are passing in `url`.","body":"&quot;Without context, can&#39;t get access to getExternalFilesDir(null)&quot; -- you would call that <i>outside</i> of <code>DownloadImage</code> and pass the result into the <code>DownloadImage</code> constructor, the way that you are passing in <code>url</code>."},{"owner":{"display_name":"user16579421"},"score":0,"creation_date":1633693261,"post_id":69494881,"comment_id":122833989,"body_markdown":"@CoolMind You are right. I call this class from a fragment, which is what prompted me to ask","body":"@CoolMind You are right. I call this class from a fragment, which is what prompted me to ask"},{"owner":{"display_name":"user16579421"},"score":0,"creation_date":1633693383,"post_id":69494881,"comment_id":122834030,"body_markdown":"@CommonsWare I got it, do you think there will be a memory leak ?  because I&#39;m calling it from fragment","body":"@CommonsWare I got it, do you think there will be a memory leak ?  because I&#39;m calling it from fragment"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633693404,"post_id":69494881,"comment_id":122834037,"body_markdown":"`File` will not leak memory.","body":"<code>File</code> will not leak memory."}],"owner":{"display_name":"user16579421"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633691262,"creation_date":1633691262,"question_id":69494881,"body_markdown":"I am creating several tasks to download some files from the internet and I want to access the context in MyTasks.class . What is the best way?\r\n\r\n    public class MyTasks {\r\n    \r\n        public Callable&lt;File&gt; DownloadImage(String url) {\r\n    \r\n            return new Callable&lt;File&gt;() {\r\n                @Override\r\n                public File call() throws Exception {\r\n    \r\n                    File imageFile = new File(- context here - .getExternalFilesDir(null) , &quot;example.png&quot;);\r\n    \r\n    \r\n                    // download task here\r\n    \r\n    \r\n                    return imageFile;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nIf I pass context via constructor will it cause memory leak or any other problems ?\r\n\r\n","title":"pass context to callable","body":"<p>I am creating several tasks to download some files from the internet and I want to access the context in MyTasks.class . What is the best way?</p>\n<pre><code>public class MyTasks {\n\n    public Callable&lt;File&gt; DownloadImage(String url) {\n\n        return new Callable&lt;File&gt;() {\n            @Override\n            public File call() throws Exception {\n\n                File imageFile = new File(- context here - .getExternalFilesDir(null) , &quot;example.png&quot;);\n\n\n                // download task here\n\n\n                return imageFile;\n            }\n        };\n    }\n}\n</code></pre>\n<p>If I pass context via constructor will it cause memory leak or any other problems ?</p>\n"},{"tags":["java","amazon-s3","avro","parquet"],"answers":[{"tags":[],"owner":{"account_id":22978803,"reputation":41,"user_id":17106074,"display_name":"Aiden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633691216,"creation_date":1633691216,"answer_id":69494871,"question_id":67733019,"body_markdown":"There isn&#39;t any way to merge them at least for now and that is how avro works for a union datatype.","title":"how to make avro union multiple types only show ONE type (the one not null)","body":"<p>There isn't any way to merge them at least for now and that is how avro works for a union datatype.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69494871,"answer_count":1,"score":1,"last_activity_date":1633691216,"creation_date":1622176790,"question_id":67733019,"body_markdown":"I have the following avro schema \r\n\r\n```lang-json\r\n{\r\n  &quot;type&quot; : &quot;record&quot;,\r\n  &quot;namespace&quot; : &quot;com.test.avro&quot;,\r\n  &quot;name&quot; : &quot;MultiTypeObject&quot;,\r\n  &quot;fields&quot; : [\r\n    {\r\n      &quot;name&quot; : &quot;id&quot;,\r\n      &quot;type&quot; : &quot;int&quot;\r\n    },\r\n    {\r\n      &quot;name&quot; : &quot;value&quot;,\r\n      &quot;type&quot; : [&quot;null&quot;, &quot;double&quot;, &quot;int&quot;, &quot;boolean&quot;],\r\n      &quot;default&quot; : null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nHowever, when I write the data into S3 using AvroParquet and query in Json format, I got this \r\n\r\n```lang-json\r\n&quot;myObject&quot;: {\r\n  &quot;id&quot;: 1,\r\n  &quot;value&quot;: {\r\n    &quot;member2&quot;: null,\r\n    &quot;member0&quot;: 24.439999999999998,\r\n    &quot;member1&quot;: null\r\n  }\r\n}\r\n```\r\n\r\nQuestion is how can I make this value field just have one value being printed out as below? \r\n\r\n```lang-json\r\n&quot;myObject&quot;: {\r\n  &quot;id&quot;: 1,\r\n  &quot;value&quot;: 24.439999999999998\r\n}\r\n```\r\n\r\nMany thanks.","title":"how to make avro union multiple types only show ONE type (the one not null)","body":"<p>I have the following avro schema</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;namespace&quot; : &quot;com.test.avro&quot;,\n  &quot;name&quot; : &quot;MultiTypeObject&quot;,\n  &quot;fields&quot; : [\n    {\n      &quot;name&quot; : &quot;id&quot;,\n      &quot;type&quot; : &quot;int&quot;\n    },\n    {\n      &quot;name&quot; : &quot;value&quot;,\n      &quot;type&quot; : [&quot;null&quot;, &quot;double&quot;, &quot;int&quot;, &quot;boolean&quot;],\n      &quot;default&quot; : null\n    }\n  ]\n}\n</code></pre>\n<p>However, when I write the data into S3 using AvroParquet and query in Json format, I got this</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;myObject&quot;: {\n  &quot;id&quot;: 1,\n  &quot;value&quot;: {\n    &quot;member2&quot;: null,\n    &quot;member0&quot;: 24.439999999999998,\n    &quot;member1&quot;: null\n  }\n}\n</code></pre>\n<p>Question is how can I make this value field just have one value being printed out as below?</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;myObject&quot;: {\n  &quot;id&quot;: 1,\n  &quot;value&quot;: 24.439999999999998\n}\n</code></pre>\n<p>Many thanks.</p>\n"},{"tags":["java","android","file","android-studio","assets"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1463498377,"post_id":37280121,"comment_id":62085748,"body_markdown":"Look inside the APK itself and see if the assets are there. An APK is just a ZIP-style archive, so there are plenty of tools that will let you examine what is inside.","body":"Look inside the APK itself and see if the assets are there. An APK is just a ZIP-style archive, so there are plenty of tools that will let you examine what is inside."},{"owner":{"account_id":2571980,"reputation":2034,"user_id":2245304,"accept_rate":88,"display_name":"AJJ"},"score":0,"creation_date":1463498736,"post_id":37280121,"comment_id":62086024,"body_markdown":"@CommonsWare No, those assets are not in the APK, but this was predictable because they&#39;re not being found for some reason in the first place","body":"@CommonsWare No, those assets are not in the APK, but this was predictable because they&#39;re not being found for some reason in the first place"},{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":0,"creation_date":1463498795,"post_id":37280121,"comment_id":62086073,"body_markdown":"Do you have sub-folders in assets?","body":"Do you have sub-folders in assets?"},{"owner":{"account_id":2571980,"reputation":2034,"user_id":2245304,"accept_rate":88,"display_name":"AJJ"},"score":0,"creation_date":1463498844,"post_id":37280121,"comment_id":62086117,"body_markdown":"No, all in the same folder. All assets are lumped together in `AndroidStudioProjects/MyAppName/app/src/main/assets/`","body":"No, all in the same folder. All assets are lumped together in <code>AndroidStudioProjects&#47;MyAppName&#47;app&#47;src&#47;main&#47;assets&#47;</code>"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1463498909,"post_id":37280121,"comment_id":62086166,"body_markdown":"&quot;this was predictable&quot; -- not necessarily. The APK might have the assets, but `AssetManager` was not allowing access to them for some reason. But, since the assets are missing, the problem is in your build process. That will be difficult to debug without a [mcve]. You might consider posting a screenshot of your `assets/` contents somewhere, link to it from your question, and give us a roster of what is and is not actually in the APK.","body":"&quot;this was predictable&quot; -- not necessarily. The APK might have the assets, but <code>AssetManager</code> was not allowing access to them for some reason. But, since the assets are missing, the problem is in your build process. That will be difficult to debug without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You might consider posting a screenshot of your <code>assets&#47;</code> contents somewhere, link to it from your question, and give us a roster of what is and is not actually in the APK."},{"owner":{"account_id":2571980,"reputation":2034,"user_id":2245304,"accept_rate":88,"display_name":"AJJ"},"score":0,"creation_date":1463500745,"post_id":37280121,"comment_id":62087511,"body_markdown":"And now it&#39;s working after I closed/reopened my main project. :( color me confused.","body":"And now it&#39;s working after I closed/reopened my main project. :( color me confused."}],"answers":[{"tags":[],"owner":{"account_id":8004019,"reputation":62,"user_id":6037835,"display_name":"Angel Moreira"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1463498505,"creation_date":1463498505,"answer_id":37280271,"question_id":37280121,"body_markdown":"Make sure that the names of your variables correspond to the name of your files, they are case sensitive. That could be why some file are not being read.","title":"File not found when loading from assets?","body":"<p>Make sure that the names of your variables correspond to the name of your files, they are case sensitive. That could be why some file are not being read.</p>\n"},{"tags":[],"owner":{"account_id":2571980,"reputation":2034,"user_id":2245304,"accept_rate":88,"display_name":"AJJ"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1463500811,"creation_date":1463500811,"answer_id":37281197,"question_id":37280121,"body_markdown":"Apparently closing / reopening the project in Android Studio was enough to get it to work correctly. No idea why it wasn&#39;t noticing all the assets in the first place, but now it does after restarting.","title":"File not found when loading from assets?","body":"<p>Apparently closing / reopening the project in Android Studio was enough to get it to work correctly. No idea why it wasn't noticing all the assets in the first place, but now it does after restarting.</p>\n"},{"tags":[],"owner":{"account_id":41171,"reputation":20882,"user_id":119592,"accept_rate":75,"display_name":"Hamy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590760460,"creation_date":1590760460,"answer_id":62087588,"question_id":37280121,"body_markdown":"If you are running into this during an Android Instrumentation Test, the issue can be fixed by changing this: \r\n\r\n```\r\nApplicationProvider.getApplicationContext().getAssets().open(YOUR_FILE)\r\n```\r\n\r\nto this: \r\n\r\n```\r\nInputStream inputStream = InstrumentationRegistry.getInstrumentation().\r\n     getContext().getAssets().open(YOUR_FILE);\r\n```\r\n\r\nThe application provider knows to redirect resource requests to your instrumentation resources and then fallback to the application under test, but it does not have the same intelligence for assets ","title":"File not found when loading from assets?","body":"<p>If you are running into this during an Android Instrumentation Test, the issue can be fixed by changing this: </p>\n\n<pre><code>ApplicationProvider.getApplicationContext().getAssets().open(YOUR_FILE)\n</code></pre>\n\n<p>to this: </p>\n\n<pre><code>InputStream inputStream = InstrumentationRegistry.getInstrumentation().\n     getContext().getAssets().open(YOUR_FILE);\n</code></pre>\n\n<p>The application provider knows to redirect resource requests to your instrumentation resources and then fallback to the application under test, but it does not have the same intelligence for assets </p>\n"}],"owner":{"account_id":2571980,"reputation":2034,"user_id":2245304,"accept_rate":88,"display_name":"AJJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16070,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":37281197,"answer_count":3,"score":11,"last_activity_date":1633691154,"creation_date":1463498145,"question_id":37280121,"body_markdown":"I included several pre-made .png files in my assets folder, but only some of them are getting through without error:\r\n\r\n    AssetManager assetManager = context.getAssets();\r\n    Inputstream in = assetManager.open(assetName);\r\n\r\nwhere `assetName` is a `String` containing something like &quot;myPic.png&quot;.\r\n\r\nIt seems to work for some of the files, but for others it throws `java.io.FileNotFoundException: myPic.png` even though I see it right there in the Assets folder alongside plenty of other files that seem to be making the cut.\r\n\r\n","title":"File not found when loading from assets?","body":"<p>I included several pre-made .png files in my assets folder, but only some of them are getting through without error:</p>\n\n<pre><code>AssetManager assetManager = context.getAssets();\nInputstream in = assetManager.open(assetName);\n</code></pre>\n\n<p>where <code>assetName</code> is a <code>String</code> containing something like \"myPic.png\".</p>\n\n<p>It seems to work for some of the files, but for others it throws <code>java.io.FileNotFoundException: myPic.png</code> even though I see it right there in the Assets folder alongside plenty of other files that seem to be making the cut.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633676789,"post_id":69491777,"comment_id":122827921,"body_markdown":"Hi, what is your java version? Could this help -&gt; https://stackoverflow.com/questions/66974846/java-lang-exceptionininitializererror-with-java-16-j-l-classformaterror-access ?","body":"Hi, what is your java version? Could this help -&gt; <a href=\"https://stackoverflow.com/questions/66974846/java-lang-exceptionininitializererror-with-java-16-j-l-classformaterror-access\" title=\"java lang exceptionininitializererror with java 16 j l classformaterror access\">stackoverflow.com/questions/66974846/&hellip;</a> ?"},{"owner":{"account_id":22976876,"reputation":32,"user_id":17104367,"display_name":"devxpe"},"score":0,"creation_date":1633685088,"post_id":69491777,"comment_id":122830889,"body_markdown":"16.0.2...........","body":"16.0.2..........."}],"answers":[{"tags":[],"owner":{"account_id":22976876,"reputation":32,"user_id":17104367,"display_name":"devxpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633691070,"creation_date":1633680775,"answer_id":69492576,"question_id":69491777,"body_markdown":"[Solution pic][1]\r\n\r\nI got solution. When I changed the Springboot version to 2.1.1 its done!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VXPU2.png","title":"Cannot run java the code sample on Springboot","body":"<p><a href=\"https://i.stack.imgur.com/VXPU2.png\" rel=\"nofollow noreferrer\">Solution pic</a></p>\n<p>I got solution. When I changed the Springboot version to 2.1.1 its done!</p>\n"}],"owner":{"account_id":22976876,"reputation":32,"user_id":17104367,"display_name":"devxpe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1633691070,"creation_date":1633676532,"question_id":69491777,"body_markdown":"I cannot run the code sample on Springboot java does anyone has solution ?\r\nWhat can I do i dont have no idea im just started to this...\r\n\r\n09:57:28.372 [main] DEBUG org.springframework.boot.devtools.settings.DevToolsSettings - Included patterns for restart : []\r\n    09:57:28.374 [main] DEBUG org.springframework.boot.devtools.settings.DevToolsSettings - Excluded patterns for restart : [/spring-boot-starter-[\\w-]+/, /spring-boot/target/classes/, /spring-boot-starter/target/classes/, /spring-boot-devtools/target/classes/, /spring-boot-actuator/target/classes/, /spring-boot-autoconfigure/target/classes/]\r\n    09:57:28.374 [main] DEBUG org.springframework.boot.devtools.restart.ChangeableUrls - Matching URLs for reloading : [file:/D:/Java/workspace/petclinic/target/classes/]\r\n\r\n\r\n    \r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n    \u001B[32m :: Spring Boot :: \u001B[39m      \u001B[2m (v2.0.0.RELEASE)\u001B[0;39m\r\n    \r\n    \u001B[2m2021-10-08 09:57:28.541\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m564\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mc.j.petclinic.PetClinicApplication      \u001B[0;39m \u001B[2m:\u001B[0;39m Starting PetClinicApplication on DESKTOP-BCNBHLN with PID 564 (D:\\Java\\workspace\\petclinic\\target\\classes started by PcOne in D:\\Java\\workspace\\petclinic)\r\n    \u001B[2m2021-10-08 09:57:28.542\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m564\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mc.j.petclinic.PetClinicApplication      \u001B[0;39m \u001B[2m:\u001B[0;39m No active profile set, falling back to default profiles: default\r\n    \u001B[2m2021-10-08 09:57:28.575\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m564\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mConfigServletWebServerApplicationContext\u001B[0;39m \u001B[2m:\u001B[0;39m Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43586274: startup date [Fri Oct 08 09:57:28 TRT 2021]; root of context hierarchy\r\n    \u001B[2m2021-10-08 09:57:29.088\u001B[0;39m \u001B[31mERROR\u001B[0;39m \u001B[35m564\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mo.s.boot.SpringApplication              \u001B[0;39m \u001B[2m:\u001B[0;39m Application run failed\r\n    \r\n    java.lang.IllegalStateException: Cannot load configuration class: com.javaegitimleri.petclinic.PetClinicApplication\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:416) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:693) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    \tat com.javaegitimleri.petclinic.PetClinicApplication.main(PetClinicApplication.java:11) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:405) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \t... 17 common frames omitted\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @55a147cc\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \t... 20 common frames omitted\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @55a147cc\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\r\n    \tat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:554) ~[na:na]\r\n    \tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \t... 32 common frames omitted\r\n    \r\n    \u001B[2m2021-10-08 09:57:29.089\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m564\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[  restartedMain]\u001B[0;39m \u001B[36mConfigServletWebServerApplicationContext\u001B[0;39m \u001B[2m:\u001B[0;39m Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43586274: startup date [Fri Oct 08 09:57:28 TRT 2021]; root of context hierarchy\r\n\r\n","title":"Cannot run java the code sample on Springboot","body":"<p>I cannot run the code sample on Springboot java does anyone has solution ?\nWhat can I do i dont have no idea im just started to this...</p>\n<p>09:57:28.372 [main] DEBUG org.springframework.boot.devtools.settings.DevToolsSettings - Included patterns for restart : []\n09:57:28.374 [main] DEBUG org.springframework.boot.devtools.settings.DevToolsSettings - Excluded patterns for restart : [/spring-boot-starter-[\\w-]+/, /spring-boot/target/classes/, /spring-boot-starter/target/classes/, /spring-boot-devtools/target/classes/, /spring-boot-actuator/target/classes/, /spring-boot-autoconfigure/target/classes/]\n09:57:28.374 [main] DEBUG org.springframework.boot.devtools.restart.ChangeableUrls - Matching URLs for reloading : [file:/D:/Java/workspace/petclinic/target/classes/]</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m      [2m (v2.0.0.RELEASE)[0;39m\n\n[2m2021-10-08 09:57:28.541[0;39m [32m INFO[0;39m [35m564[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mc.j.petclinic.PetClinicApplication      [0;39m [2m:[0;39m Starting PetClinicApplication on DESKTOP-BCNBHLN with PID 564 (D:\\Java\\workspace\\petclinic\\target\\classes started by PcOne in D:\\Java\\workspace\\petclinic)\n[2m2021-10-08 09:57:28.542[0;39m [32m INFO[0;39m [35m564[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mc.j.petclinic.PetClinicApplication      [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\n[2m2021-10-08 09:57:28.575[0;39m [32m INFO[0;39m [35m564[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43586274: startup date [Fri Oct 08 09:57:28 TRT 2021]; root of context hierarchy\n[2m2021-10-08 09:57:29.088[0;39m [31mERROR[0;39m [35m564[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\njava.lang.IllegalStateException: Cannot load configuration class: com.javaegitimleri.petclinic.PetClinicApplication\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:416) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:693) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    at com.javaegitimleri.petclinic.PetClinicApplication.main(PetClinicApplication.java:11) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:405) ~[spring-context-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    ... 17 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @55a147cc\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    ... 20 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @55a147cc\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:554) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    ... 32 common frames omitted\n\n[2m2021-10-08 09:57:29.089[0;39m [32m INFO[0;39m [35m564[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43586274: startup date [Fri Oct 08 09:57:28 TRT 2021]; root of context hierarchy\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1633677150,"post_id":69490953,"comment_id":122828048,"body_markdown":"Why don&#39;t you simply rollback the transaction?","body":"Why don&#39;t you simply rollback the transaction?"}],"answers":[{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633690939,"creation_date":1633690939,"answer_id":69494817,"question_id":69490953,"body_markdown":"[`EntityManager.clear()`](https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EntityManager.html#clear--) will detach all entities within a persistence context, throwing away the changes made to them in the transaction so far.\r\n\r\n[`detach`](https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EntityManager.html#detach-java.lang.Object-) should ignore all the changes that have not been flushed to the DB already. So either there is a flush happening somewhere or it may be a bug in the persistence provider implementation.\r\n\r\nAs Simon points out in the comment, doing a rollback seems like a more natural solution (and `clear` will do pretty much the same w.r.t. the pending changes).\r\n","title":"Should I use JPA EntityManager.clear() over EntityManager.detach()","body":"<p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EntityManager.html#clear--\" rel=\"nofollow noreferrer\"><code>EntityManager.clear()</code></a> will detach all entities within a persistence context, throwing away the changes made to them in the transaction so far.</p>\n<p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EntityManager.html#detach-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>detach</code></a> should ignore all the changes that have not been flushed to the DB already. So either there is a flush happening somewhere or it may be a bug in the persistence provider implementation.</p>\n<p>As Simon points out in the comment, doing a rollback seems like a more natural solution (and <code>clear</code> will do pretty much the same w.r.t. the pending changes).</p>\n"}],"owner":{"account_id":7765141,"reputation":125,"user_id":5876549,"display_name":"John Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633690939,"creation_date":1633671426,"question_id":69490953,"body_markdown":"I have an app running on Hibernate with JPA. And in my spring service classes (`@Service`), I put the `@Transactional` annotation.\r\n\r\nI have some scenarios where the I need to halt or revert changes to a record. While JPA by default will auto-persist the changes at end of transaction, though I do not explicitly trigger the repository&#39;s `save()` command.\r\n\r\nI prefer to use `EntityManager.detach(Object entity)` to revert / halt the changes. To my understanding, this detach method shall only revert the changes on the given entity / DTO object. However at times, this detach method seems doesn&#39;t work as expected, the changes are still persisted into DB.\r\n\r\nI have then found some suggestion about using the EntityManager.clear()` method. I tested it, and it could revert / halt the changes. \r\n\r\nHowever, my concern is, does this `EntityManager.clear()` method impact other entities as well. Let&#39;s say we have concurrent transactions happening, will `clear()` detach all those other entities unintentionally? If it really does impact other entities, what&#39;s the workaround I could have?\r\n\r\nPlease advise.","title":"Should I use JPA EntityManager.clear() over EntityManager.detach()","body":"<p>I have an app running on Hibernate with JPA. And in my spring service classes (<code>@Service</code>), I put the <code>@Transactional</code> annotation.</p>\n<p>I have some scenarios where the I need to halt or revert changes to a record. While JPA by default will auto-persist the changes at end of transaction, though I do not explicitly trigger the repository's <code>save()</code> command.</p>\n<p>I prefer to use <code>EntityManager.detach(Object entity)</code> to revert / halt the changes. To my understanding, this detach method shall only revert the changes on the given entity / DTO object. However at times, this detach method seems doesn't work as expected, the changes are still persisted into DB.</p>\n<p>I have then found some suggestion about using the EntityManager.clear()` method. I tested it, and it could revert / halt the changes.</p>\n<p>However, my concern is, does this <code>EntityManager.clear()</code> method impact other entities as well. Let's say we have concurrent transactions happening, will <code>clear()</code> detach all those other entities unintentionally? If it really does impact other entities, what's the workaround I could have?</p>\n<p>Please advise.</p>\n"},{"tags":["java","spring","maven","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4075023,"reputation":71,"user_id":3346937,"display_name":"Visel_chak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573132467,"creation_date":1573132467,"answer_id":58749556,"question_id":58749384,"body_markdown":"this is self explanatory: Reason: Canonical names should be kebab-case\r\nPay attention, that @ConfigurationProperties should not be in camel-case.\r\nSo you should fix prefix on @ConfigurationProperties for your target bean.","title":"Spring boot application fails to run because of bean naming violation","body":"<p>this is self explanatory: Reason: Canonical names should be kebab-case\nPay attention, that @ConfigurationProperties should not be in camel-case.\nSo you should fix prefix on @ConfigurationProperties for your target bean.</p>\n"},{"tags":[],"owner":{"account_id":3059711,"reputation":172,"user_id":3220051,"display_name":"lakhansoren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573191038,"creation_date":1573191038,"answer_id":58760921,"question_id":58749384,"body_markdown":"I figured it out. For a long time I thought the problem was with ```paymentCheckoutRequestBuilder```. The real problem was with ```appConfig.baseVersion``` which is defined as prefix in one of ```@ConfigurationProperties``` annotated class. I changed the name and it worked. ","title":"Spring boot application fails to run because of bean naming violation","body":"<p>I figured it out. For a long time I thought the problem was with <code>paymentCheckoutRequestBuilder</code>. The real problem was with <code>appConfig.baseVersion</code> which is defined as prefix in one of <code>@ConfigurationProperties</code> annotated class. I changed the name and it worked. </p>\n"},{"tags":[],"owner":{"account_id":1128860,"reputation":354,"user_id":1115422,"display_name":"recursion"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633690910,"creation_date":1621927201,"answer_id":67683393,"question_id":58749384,"body_markdown":"property appConfig.baseVersion is in camel case so you should use use prefix in configuration as shown below\r\n\r\n         mqConfig:\r\n             enable: false\r\n         \r\n\r\n   then your Configuration file must have `@ConfigurationProperties(prefix = &quot;mq-config&quot;)`\r\n\r\nFor current example the application.yaml should be\r\n\r\n    appConfig:\r\n       baseVersion: 1\r\n\r\nAnd java class should be \r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;app-config&quot;)\r\n    public class TestConfig {\r\n      int baseVersion;\r\n     }\r\n And the \r\n    \r\n\r\n\r\n","title":"Spring boot application fails to run because of bean naming violation","body":"<p>property appConfig.baseVersion is in camel case so you should use use prefix in configuration as shown below</p>\n<pre><code>     mqConfig:\n         enable: false\n     \n</code></pre>\n<p>then your Configuration file must have <code>@ConfigurationProperties(prefix = &quot;mq-config&quot;)</code></p>\n<p>For current example the application.yaml should be</p>\n<pre><code>appConfig:\n   baseVersion: 1\n</code></pre>\n<p>And java class should be</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;app-config&quot;)\npublic class TestConfig {\n  int baseVersion;\n }\n</code></pre>\n<p>And the</p>\n"}],"owner":{"account_id":3059711,"reputation":172,"user_id":3220051,"display_name":"lakhansoren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11452,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1633690910,"creation_date":1573131850,"question_id":58749384,"body_markdown":"I am getting this error :\r\n\r\n```***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nConfiguration property name &#39;appConfig.baseVersion&#39; is not valid:\r\n\r\n    Invalid characters: &#39;C&#39;\r\n    Bean: paymentCheckoutRequestBuilder\r\n    Reason: Canonical names should be kebab-case (&#39;-&#39; separated), lowercase alpha-numeric characters and must start with a letter\r\n\r\nAction:\r\n\r\nModify &#39;appConfig.baseVersion&#39; so that it conforms to the canonical names requirements.\r\n\r\n```\r\n\r\npaymentCheckoutRequestBuilder is a bean of class PaymentCheckoutRequestBuilder. How am I supposed to fix this , you cannot name a class in kebab-case.\r\n\r\nAlso, this error occurred after I tried upgrading my spring-boot to 2.2.0.\r\n\r\nAnd what is this appConfig.baseVersion , not able to find anything online. ","title":"Spring boot application fails to run because of bean naming violation","body":"<p>I am getting this error :</p>\n\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nConfiguration property name 'appConfig.baseVersion' is not valid:\n\n    Invalid characters: 'C'\n    Bean: paymentCheckoutRequestBuilder\n    Reason: Canonical names should be kebab-case ('-' separated), lowercase alpha-numeric characters and must start with a letter\n\nAction:\n\nModify 'appConfig.baseVersion' so that it conforms to the canonical names requirements.\n\n</code></pre>\n\n<p>paymentCheckoutRequestBuilder is a bean of class PaymentCheckoutRequestBuilder. How am I supposed to fix this , you cannot name a class in kebab-case.</p>\n\n<p>Also, this error occurred after I tried upgrading my spring-boot to 2.2.0.</p>\n\n<p>And what is this appConfig.baseVersion , not able to find anything online. </p>\n"},{"tags":["java","spring","spring-boot","jsp","web"],"comments":[{"owner":{"account_id":4969978,"reputation":103,"user_id":3998125,"display_name":"JorgeB"},"score":0,"creation_date":1633417246,"post_id":69439282,"comment_id":122746865,"body_markdown":"Welcome to SO. You might find reading the site [help section](https://stackoverflow.com/help), useful when it comes to [asking a good question](https://stackoverflow.com/help/how-to-ask), and this [question checklist](https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). Code that you&#39;ve worked on to solve the problem should include a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), and be included in your question.","body":"Welcome to SO. You might find reading the site <a href=\"https://stackoverflow.com/help\">help section</a>, useful when it comes to <a href=\"https://stackoverflow.com/help/how-to-ask\">asking a good question</a>, and this <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">question checklist</a>. Code that you&#39;ve worked on to solve the problem should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and be included in your question."}],"answers":[{"tags":[],"owner":{"account_id":22950468,"reputation":1,"user_id":17081826,"display_name":"Andrade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633455545,"creation_date":1633455545,"answer_id":69454987,"question_id":69439282,"body_markdown":"If you are using ST4 you need to install &quot;Eclipse Enterprise Java and Web Developer Tools&quot; from the Eclipse Marketplace.","title":"Cannot create a .jsp file in Spring inspite if having all dependancies?","body":"<p>If you are using ST4 you need to install &quot;Eclipse Enterprise Java and Web Developer Tools&quot; from the Eclipse Marketplace.</p>\n"},{"tags":[],"owner":{"account_id":18730596,"reputation":1,"user_id":13656083,"display_name":"Aniruddha Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633690495,"creation_date":1633690495,"answer_id":69494736,"question_id":69439282,"body_markdown":"To write jsp files in spring we need add jsp or jstl dependency in pom.xml\r\nRefer: https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api\r\n\r\nadd appropriate dependency version and try running the application.","title":"Cannot create a .jsp file in Spring inspite if having all dependancies?","body":"<p>To write jsp files in spring we need add jsp or jstl dependency in pom.xml\nRefer: <a href=\"https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api</a></p>\n<p>add appropriate dependency version and try running the application.</p>\n"}],"owner":{"account_id":22763804,"reputation":1,"user_id":16922184,"display_name":"Whipalash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633690495,"creation_date":1633364372,"question_id":69439282,"body_markdown":"Been trying this since a while now, already have the Spring web, H2 and JDBC dependencies.","title":"Cannot create a .jsp file in Spring inspite if having all dependancies?","body":"<p>Been trying this since a while now, already have the Spring web, H2 and JDBC dependencies.</p>\n"},{"tags":["java","spring","jackson","deserialization","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633690372,"creation_date":1633690372,"answer_id":69494709,"question_id":69485941,"body_markdown":"### I was using two ``@configuration`` annotated classes.\r\n\r\nFixed by adding the first config (`WebConfig.class`) into `SpringConfig.class` and registering it as a Bean;\r\n\r\n```Java\r\n@Configuration\r\npublic class SpringConfig {\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n\r\n    @Bean\r\n    public WebConfig webConfig() {\r\n        return new WebConfig();\r\n    }\r\n\r\n    @Bean\r\n    public Module polygonDeserializer() {\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(Polygon.class, new PolygonDeserializer());\r\n        return module;\r\n    }\r\n}\r\n```\r\n\r\n### Second config before change;\r\n\r\n```Java\r\n@EnableWebMvc\r\n@Configuration //&lt;---- **Issue**\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    ...\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n    ...\r\n    }\r\n}\r\n```\r\n\r\n**Spring calls only one of the two config classes and does not register the custom deserializer.**","title":"Spring Boot register custom jackson (polygon) deserializer after Spring Boot upgrade 2.4-&gt;2.5","body":"<h3>I was using two <code>@configuration</code> annotated classes.</h3>\n<p>Fixed by adding the first config (<code>WebConfig.class</code>) into <code>SpringConfig.class</code> and registering it as a Bean;</p>\n<pre><code>@Configuration\npublic class SpringConfig {\n\n    @Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n\n    @Bean\n    public WebConfig webConfig() {\n        return new WebConfig();\n    }\n\n    @Bean\n    public Module polygonDeserializer() {\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(Polygon.class, new PolygonDeserializer());\n        return module;\n    }\n}\n</code></pre>\n<h3>Second config before change;</h3>\n<pre><code>@EnableWebMvc\n@Configuration //&lt;---- **Issue**\npublic class WebConfig implements WebMvcConfigurer {\n\n    ...\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n    ...\n    }\n}\n</code></pre>\n<p><strong>Spring calls only one of the two config classes and does not register the custom deserializer.</strong></p>\n"}],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69494709,"answer_count":1,"score":0,"last_activity_date":1633690372,"creation_date":1633630360,"question_id":69485941,"body_markdown":"*TLDR; How can I tell spring to use my custom deserializer? (Yes, I checked but it&#39;s fubar)*\r\n\r\nI have a **PostMapping equipped with a Polygon as RequestBody param**;\r\nIt takes a array of arrays (containing points) and should convert them to a ``org.elasticsearch.geometry.Polygon``\r\n\r\n```Java\r\n@PostMapping(value = &quot;/search&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;List&lt;SearchDTO&gt;&gt; findSpatialResults(@RequestBody Polygon polygon) {...}\r\n```\r\n\r\nAs this need a **custom deserializer**, this is it;\r\n```Java\r\npublic class PolygonDeserializer extends StdDeserializer&lt;Polygon&gt; {\r\n\r\n    public PolygonDeserializer() {\r\n        super(Polygon.class);\r\n    }\r\n\r\n    @Override\r\n    public Polygon deserialize(JsonParser jp, DeserializationContext context)\r\n            throws IOException {\r\n        ObjectCodec oc = jp.getCodec();\r\n        JsonNode node = oc.readTree(jp);\r\n      ...\r\n    }\r\n}\r\n```\r\n\r\nWhich is **registered in a ``@Configuration`` annotated SpringConfig class**;\r\n\r\n```Java\r\n@Configuration\r\npublic class SpringConfig {\r\n\r\n    @Bean\r\n    public Module polygonDeserializer() {\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(Polygon.class, new PolygonDeserializer());\r\n        return module;\r\n    }\r\n}\r\n```\r\n\r\nBefore updating Spring this worked, now I get a ``JSON parse error: Cannot deserialize instance of `org.elasticsearch.geometry.Polygon` out of START_ARRAY token`` and can&#39;t figure out why.","title":"Spring Boot register custom jackson (polygon) deserializer after Spring Boot upgrade 2.4-&gt;2.5","body":"<p><em>TLDR; How can I tell spring to use my custom deserializer? (Yes, I checked but it's fubar)</em></p>\n<p>I have a <strong>PostMapping equipped with a Polygon as RequestBody param</strong>;\nIt takes a array of arrays (containing points) and should convert them to a <code>org.elasticsearch.geometry.Polygon</code></p>\n<pre><code>@PostMapping(value = &quot;/search&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;List&lt;SearchDTO&gt;&gt; findSpatialResults(@RequestBody Polygon polygon) {...}\n</code></pre>\n<p>As this need a <strong>custom deserializer</strong>, this is it;</p>\n<pre><code>public class PolygonDeserializer extends StdDeserializer&lt;Polygon&gt; {\n\n    public PolygonDeserializer() {\n        super(Polygon.class);\n    }\n\n    @Override\n    public Polygon deserialize(JsonParser jp, DeserializationContext context)\n            throws IOException {\n        ObjectCodec oc = jp.getCodec();\n        JsonNode node = oc.readTree(jp);\n      ...\n    }\n}\n</code></pre>\n<p>Which is <strong>registered in a <code>@Configuration</code> annotated SpringConfig class</strong>;</p>\n<pre><code>@Configuration\npublic class SpringConfig {\n\n    @Bean\n    public Module polygonDeserializer() {\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(Polygon.class, new PolygonDeserializer());\n        return module;\n    }\n}\n</code></pre>\n<p>Before updating Spring this worked, now I get a <code>JSON parse error: Cannot deserialize instance of `org.elasticsearch.geometry.Polygon` out of START_ARRAY token</code> and can't figure out why.</p>\n"},{"tags":["javascript","java","truffle","graalvm"],"answers":[{"tags":[],"owner":{"display_name":"user17034580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633690233,"creation_date":1633690233,"answer_id":69494679,"question_id":69493047,"body_markdown":"I found the solution.\r\n\r\n    public static class JavaMethods {\r\n        public void printWidthOf(Object size) throws Exception {\r\n            Field f = size.getClass().getDeclaredField(&quot;guestObject&quot;);\r\n            f.setAccessible(true);\r\n            JSOrdinaryObject obj = (JSOrdinaryObject) f.get(size);\r\n            System.out.println(obj.getValue(&quot;width&quot;));\r\n        }\r\n    }","title":"How to get fields and invoke methods of js objects, from java, in Graal-JS?","body":"<p>I found the solution.</p>\n<pre><code>public static class JavaMethods {\n    public void printWidthOf(Object size) throws Exception {\n        Field f = size.getClass().getDeclaredField(&quot;guestObject&quot;);\n        f.setAccessible(true);\n        JSOrdinaryObject obj = (JSOrdinaryObject) f.get(size);\n        System.out.println(obj.getValue(&quot;width&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17034580"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633690233,"creation_date":1633682851,"question_id":69493047,"body_markdown":"I have been using GraalVM to execute Javascript from java.\r\nBut i have a problem: I don&#39;t know how to get fields or invoke methods of a js object from java.\r\nThis is my code, java:\r\n\r\n    public static class JavaMethods {\r\n        public void printWidthOf(Object size) {\r\n            System.out.println(&quot;printWidthOf started&quot;);\r\n            System.out.println(&quot;size class is &quot; + size.getClass().getName()); // prints PolyglotMap\r\n            Map map = (Map) size; // PolyglotMap implements Map so i tried that\r\n            System.out.println(&quot;size width is &quot; + map.get(&quot;size&quot;)); // doesn&#39;t work, prints null instaed of 40\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        GraalJSEngineFactory factory = new GraalJSEngineFactory();\r\n        GraalJSScriptEngine engine = factory.getScriptEngine();\r\n\r\n        Bindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\r\n        bindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\r\n        bindings.put(&quot;JavaMethods&quot;, new JavaMethods());\r\n\r\n        engine.eval(new FileReader(&quot;MyScript.js&quot;));\r\n        engine.invokeFunction(&quot;start&quot;);\r\n    }\r\njavascript:\r\n\r\n    class Size {\r\n        #width;\r\n        #height;\r\n\r\n        constructor(w, h) {\r\n            this.#width = w;\r\n            this.#height = h;\r\n        }\r\n\r\n        getWidth() {\r\n            return this.#width;\r\n        }\r\n\r\n        getHeight() {\r\n            return this.#height;\r\n        }\r\n    }\r\n\r\n    function start() {\r\n        var mySize = new Size(40, 60);\r\n        JavaMethods.printWidthOf(mySize);\r\n    }\r\n\r\nOutput:\r\n\r\n    printWidthOf started \r\n    size class is com.oracle.truffle.polyglot.PolyglotMap\r\n    size width is null\r\n\r\nThen how can i get a field of a PolyglotMap (js object) from java?","title":"How to get fields and invoke methods of js objects, from java, in Graal-JS?","body":"<p>I have been using GraalVM to execute Javascript from java.\nBut i have a problem: I don't know how to get fields or invoke methods of a js object from java.\nThis is my code, java:</p>\n<pre><code>public static class JavaMethods {\n    public void printWidthOf(Object size) {\n        System.out.println(&quot;printWidthOf started&quot;);\n        System.out.println(&quot;size class is &quot; + size.getClass().getName()); // prints PolyglotMap\n        Map map = (Map) size; // PolyglotMap implements Map so i tried that\n        System.out.println(&quot;size width is &quot; + map.get(&quot;size&quot;)); // doesn't work, prints null instaed of 40\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    GraalJSEngineFactory factory = new GraalJSEngineFactory();\n    GraalJSScriptEngine engine = factory.getScriptEngine();\n\n    Bindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\n    bindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\n    bindings.put(&quot;JavaMethods&quot;, new JavaMethods());\n\n    engine.eval(new FileReader(&quot;MyScript.js&quot;));\n    engine.invokeFunction(&quot;start&quot;);\n}\n</code></pre>\n<p>javascript:</p>\n<pre><code>class Size {\n    #width;\n    #height;\n\n    constructor(w, h) {\n        this.#width = w;\n        this.#height = h;\n    }\n\n    getWidth() {\n        return this.#width;\n    }\n\n    getHeight() {\n        return this.#height;\n    }\n}\n\nfunction start() {\n    var mySize = new Size(40, 60);\n    JavaMethods.printWidthOf(mySize);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>printWidthOf started \nsize class is com.oracle.truffle.polyglot.PolyglotMap\nsize width is null\n</code></pre>\n<p>Then how can i get a field of a PolyglotMap (js object) from java?</p>\n"},{"tags":["java","json","xml","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633690052,"creation_date":1633689605,"answer_id":69494539,"question_id":69492316,"body_markdown":"It is possible to solve your issue with a custom serializer, so if you have a `Person` class like below :\r\n\r\n~~~\r\n@JacksonXmlRootElement(localName = &quot;root&quot;)\r\n@JsonSerialize(using = PersonSerializer.class)\r\npublic class Person {\r\n\r\n    private String name;\r\n\r\n    private List&lt;Address&gt; address = new ArrayList&lt;&gt;();\r\n\r\n}\r\n~~~\r\n\r\nYou can build a custom `PersonSerializer` serializer class extending the [`JsonSerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html) class like below :\r\n\r\n~~~\r\npublic class PersonSerializer extends JsonSerializer&lt;Person&gt; {\r\n\r\n    @Override\r\n    public void serialize(Person t, JsonGenerator jg, SerializerProvider sp) throws IOException {\r\n        String streetName = &quot;streetName&quot;;\r\n        String city = &quot;city&quot;;\r\n        int nStreet = 1;\r\n        int nCity = 1;\r\n        jg.writeStartObject();\r\n        jg.writeStringField(&quot;name&quot;, t.getName());\r\n        for (Address address : t.getAddress()) {\r\n\r\n            jg.writeStringField(streetName + String.valueOf(nStreet++), address.getStreetName());\r\n            jg.writeStringField(city + String.valueOf(nCity++), address.getCity());\r\n\r\n        }\r\n        jg.writeEndObject();\r\n    }\r\n\r\n}\r\n~~~\r\n\r\nThen you can serialize your `Person` object like below obtaining the xml result you expect :\r\n\r\n~~~\r\nXmlMapper xmlMapper = new XmlMapper();\r\nxmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n//you already have your person object to serialize\r\nString result = xmlMapper.writeValueAsString(person);\r\n~~~","title":"Spring &amp; Jackson - JSON list to custom XML","body":"<p>It is possible to solve your issue with a custom serializer, so if you have a <code>Person</code> class like below :</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;root&quot;)\n@JsonSerialize(using = PersonSerializer.class)\npublic class Person {\n\n    private String name;\n\n    private List&lt;Address&gt; address = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>You can build a custom <code>PersonSerializer</code> serializer class extending the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> class like below :</p>\n<pre><code>public class PersonSerializer extends JsonSerializer&lt;Person&gt; {\n\n    @Override\n    public void serialize(Person t, JsonGenerator jg, SerializerProvider sp) throws IOException {\n        String streetName = &quot;streetName&quot;;\n        String city = &quot;city&quot;;\n        int nStreet = 1;\n        int nCity = 1;\n        jg.writeStartObject();\n        jg.writeStringField(&quot;name&quot;, t.getName());\n        for (Address address : t.getAddress()) {\n\n            jg.writeStringField(streetName + String.valueOf(nStreet++), address.getStreetName());\n            jg.writeStringField(city + String.valueOf(nCity++), address.getCity());\n\n        }\n        jg.writeEndObject();\n    }\n\n}\n</code></pre>\n<p>Then you can serialize your <code>Person</code> object like below obtaining the xml result you expect :</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\n//you already have your person object to serialize\nString result = xmlMapper.writeValueAsString(person);\n</code></pre>\n"}],"owner":{"account_id":17113091,"reputation":511,"user_id":12383362,"display_name":"ROBlackSnail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69494539,"answer_count":1,"score":0,"last_activity_date":1633690052,"creation_date":1633679365,"question_id":69492316,"body_markdown":"I have the following input in JSON format (the address list can be longer) :\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Edward&quot;,\r\n        &quot;address&quot;: [\r\n            {\r\n                &quot;streetName&quot;: &quot;value1&quot;,\r\n                &quot;city&quot;: &quot;value2&quot;\r\n            },\r\n            {\r\n                &quot;streetName&quot;: &quot;value3&quot;,\r\n                &quot;city&quot;: &quot;value4&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nI need to convert it to XML like this :\r\n\r\n    &lt;root&gt;\r\n        &lt;name&gt;Edward&lt;/name&gt;\r\n        &lt;streetName1&gt;value1&lt;/streetName1&gt;\r\n        &lt;city1&gt;value2&lt;/city1&gt;\r\n        &lt;streetName2&gt;value3&lt;/streetName2&gt;\r\n        &lt;city2&gt;value4&lt;/city2&gt;\r\n    &lt;/root&gt;\r\n\r\nI tried doing this:\r\n\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Address&gt; address = new ArrayList&lt;&gt;();\r\n\r\nBut what I got was :\r\n\r\n    &lt;root&gt;\r\n        &lt;name&gt;Edward&lt;/name&gt;\r\n        &lt;address&gt;\r\n            &lt;streetName&gt;value1&lt;/streetName&gt;\r\n            &lt;city&gt;value2&lt;/city&gt;\r\n        &lt;/address&gt;\r\n        &lt;address&gt;\r\n            &lt;streetName&gt;value3&lt;/streetName&gt;\r\n            &lt;city&gt;value4&lt;/city&gt;\r\n        &lt;/address&gt;\r\n    &lt;/root&gt;\r\n\r\nPlease assist me in getting to the desired format ! Any help would be much appreciated ! Thanks!","title":"Spring &amp; Jackson - JSON list to custom XML","body":"<p>I have the following input in JSON format (the address list can be longer) :</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Edward&quot;,\n    &quot;address&quot;: [\n        {\n            &quot;streetName&quot;: &quot;value1&quot;,\n            &quot;city&quot;: &quot;value2&quot;\n        },\n        {\n            &quot;streetName&quot;: &quot;value3&quot;,\n            &quot;city&quot;: &quot;value4&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I need to convert it to XML like this :</p>\n<pre><code>&lt;root&gt;\n    &lt;name&gt;Edward&lt;/name&gt;\n    &lt;streetName1&gt;value1&lt;/streetName1&gt;\n    &lt;city1&gt;value2&lt;/city1&gt;\n    &lt;streetName2&gt;value3&lt;/streetName2&gt;\n    &lt;city2&gt;value4&lt;/city2&gt;\n&lt;/root&gt;\n</code></pre>\n<p>I tried doing this:</p>\n<pre><code>@JacksonXmlElementWrapper(useWrapping = false)\nprivate List&lt;Address&gt; address = new ArrayList&lt;&gt;();\n</code></pre>\n<p>But what I got was :</p>\n<pre><code>&lt;root&gt;\n    &lt;name&gt;Edward&lt;/name&gt;\n    &lt;address&gt;\n        &lt;streetName&gt;value1&lt;/streetName&gt;\n        &lt;city&gt;value2&lt;/city&gt;\n    &lt;/address&gt;\n    &lt;address&gt;\n        &lt;streetName&gt;value3&lt;/streetName&gt;\n        &lt;city&gt;value4&lt;/city&gt;\n    &lt;/address&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Please assist me in getting to the desired format ! Any help would be much appreciated ! Thanks!</p>\n"},{"tags":["java","android","gallery"],"answers":[{"tags":[],"owner":{"account_id":18606790,"reputation":47,"user_id":13560223,"display_name":"Aftab Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633689279,"creation_date":1633689279,"answer_id":69494468,"question_id":69492714,"body_markdown":"You can use Github Library it will help you.\r\n\r\nHere is the [Link][1].\r\n\r\n\r\n \r\n\r\n    ImagePicker.Companion.with(this)\r\n                    .crop()                    //Crop image(Optional), Check Customization for more option\r\n                    .compress(1024)            //Final image size will be less than 1 MB(Optional)\r\n                    .maxResultSize(1080, 1080)\r\n                    .start();//Final image resolution will be less than 1080 x 1080(Optional)\r\n\r\nOn Activity Result.\r\n\r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (resultCode == Activity.RESULT_OK) {\r\n    \r\n                if (data != null) {\r\n                    selectedFileURI = data.getData();\r\n    \r\n                    if (selectedFileURI != null &amp;&amp; !Objects.requireNonNull(selectedFileURI.getPath()).isEmpty()) {\r\n    \r\n                        btnUpdate.setVisibility(View.GONE);\r\n                        civUser.setImageURI(selectedFileURI);\r\n                        Glide.with(context).load(selectedFileURI).into(civUser);\r\n                        btnUploadDp.setVisibility(View.VISIBLE);\r\n    \r\n                    } else {\r\n    \r\n                        Functions.showSnackBar(context, &quot;Cannot Get this Image&quot;);\r\n    \r\n                    }\r\n                }\r\n    \r\n            }\r\n        }\r\n\r\nRefernce [Link][2].\r\n\r\n\r\n  [1]: https://github.com/Dhaval2404/ImagePicker\r\n  [2]: https://stackoverflow.com/a/69358590/13560223","title":"Issue swapping image","body":"<p>You can use Github Library it will help you.</p>\n<p>Here is the <a href=\"https://github.com/Dhaval2404/ImagePicker\" rel=\"nofollow noreferrer\">Link</a>.</p>\n<pre><code>ImagePicker.Companion.with(this)\n                .crop()                    //Crop image(Optional), Check Customization for more option\n                .compress(1024)            //Final image size will be less than 1 MB(Optional)\n                .maxResultSize(1080, 1080)\n                .start();//Final image resolution will be less than 1080 x 1080(Optional)\n</code></pre>\n<p>On Activity Result.</p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == Activity.RESULT_OK) {\n\n            if (data != null) {\n                selectedFileURI = data.getData();\n\n                if (selectedFileURI != null &amp;&amp; !Objects.requireNonNull(selectedFileURI.getPath()).isEmpty()) {\n\n                    btnUpdate.setVisibility(View.GONE);\n                    civUser.setImageURI(selectedFileURI);\n                    Glide.with(context).load(selectedFileURI).into(civUser);\n                    btnUploadDp.setVisibility(View.VISIBLE);\n\n                } else {\n\n                    Functions.showSnackBar(context, &quot;Cannot Get this Image&quot;);\n\n                }\n            }\n\n        }\n    }\n</code></pre>\n<p>Refernce <a href=\"https://stackoverflow.com/a/69358590/13560223\">Link</a>.</p>\n"}],"owner":{"account_id":20957153,"reputation":197,"user_id":15605043,"display_name":"chen abien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633689279,"creation_date":1633681361,"question_id":69492714,"body_markdown":"\r\nI have a ProfileActivity:\r\n\r\n    public class ProfileActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        final ImageView exampleImage = (ImageView) this.findViewById(R.id.exampleImageView);\r\n        exampleImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // [TODO] Implement application behavior when the user clicks the profile picture\r\n                //Toast.makeText(ProfileActivity.this, &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(ProfileActivity.this, GalleryActivity.class));\r\n            }\r\n        });\r\n    }\r\n\r\nand I have a second activity called &#39;GalleryActivity&#39;. the concept is to let the user choose a image from the gallery and then use it to replace the original Profile image.\r\n\r\n    public class GalleryActivity extends AppCompatActivity {\r\n        ImageView imageView;\r\n        private static final int PICK_IMAGE = 100;\r\n        Uri imageUri;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n                startActivityForResult(gallery, PICK_IMAGE);\r\n        }\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n                super.onActivityResult(requestCode, resultCode, data);\r\n                if (resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\r\n                        imageUri = data.getData();\r\n                        imageView.setImageURI(imageUri);\r\n                }\r\n        }\r\n}\r\n\r\nhowever, when I click on a image of the gallery, instead of taking it as new profile image, it take me back to the original image.\r\nwhat is happening and how I can solve it? \r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~","title":"Issue swapping image","body":"<p>I have a ProfileActivity:</p>\n<pre><code>public class ProfileActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    final ImageView exampleImage = (ImageView) this.findViewById(R.id.exampleImageView);\n    exampleImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // [TODO] Implement application behavior when the user clicks the profile picture\n            //Toast.makeText(ProfileActivity.this, &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\n            startActivity(new Intent(ProfileActivity.this, GalleryActivity.class));\n        }\n    });\n}\n</code></pre>\n<p>and I have a second activity called 'GalleryActivity'. the concept is to let the user choose a image from the gallery and then use it to replace the original Profile image.</p>\n<pre><code>public class GalleryActivity extends AppCompatActivity {\n    ImageView imageView;\n    private static final int PICK_IMAGE = 100;\n    Uri imageUri;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n            startActivityForResult(gallery, PICK_IMAGE);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n            super.onActivityResult(requestCode, resultCode, data);\n            if (resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\n                    imageUri = data.getData();\n                    imageView.setImageURI(imageUri);\n            }\n    }\n</code></pre>\n<p>}</p>\n<p>however, when I click on a image of the gallery, instead of taking it as new profile image, it take me back to the original image.\nwhat is happening and how I can solve it?</p>\n<pre><code></code></pre>\n"},{"tags":["java","android","kotlin","user-interface","testing"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633690646,"post_id":69494368,"comment_id":122833042,"body_markdown":"Are you testing on Android 11 or higher? If so, did you add a `&lt;queries&gt;` element to your manifest, to satisfy package visibility rules?","body":"Are you testing on Android 11 or higher? If so, did you add a <code>&lt;queries&gt;</code> element to your manifest, to satisfy package visibility rules?"},{"owner":{"account_id":15380359,"reputation":1,"user_id":11419359,"display_name":"Alex"},"score":0,"creation_date":1633695677,"post_id":69494368,"comment_id":122834916,"body_markdown":"@CommonsWare Yep i&#39;m testing on Android 11 and i added the\n\n```&lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n        &lt;/intent&gt;\n &lt;/queries&gt;```\n\nbut it did not change anything. By the way the test file is under the test directory and not AndroidTest","body":"@CommonsWare Yep i&#39;m testing on Android 11 and i added the  <code>&lt;queries&gt;         &lt;intent&gt;             &lt;action android:name=&quot;android.intent.action.DIAL&quot; &#47;&gt;         &lt;&#47;intent&gt;  &lt;&#47;queries&gt;</code>  but it did not change anything. By the way the test file is under the test directory and not AndroidTest"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633696032,"post_id":69494368,"comment_id":122835049,"body_markdown":"Then I would not expect `queryIntentActivities()` to do much of anything. You are using some fake `Context` and fake `PackageManager` in a unit test, as it is not running on Android. I would move this to be an instrumented test, under `androidTest/`.","body":"Then I would not expect <code>queryIntentActivities()</code> to do much of anything. You are using some fake <code>Context</code> and fake <code>PackageManager</code> in a unit test, as it is not running on Android. I would move this to be an instrumented test, under <code>androidTest&#47;</code>."},{"owner":{"account_id":15380359,"reputation":1,"user_id":11419359,"display_name":"Alex"},"score":0,"creation_date":1633696120,"post_id":69494368,"comment_id":122835079,"body_markdown":"Aaaaah yes ok, i&#39;ll try that ! Thanks for your answer !","body":"Aaaaah yes ok, i&#39;ll try that ! Thanks for your answer !"}],"owner":{"account_id":15380359,"reputation":1,"user_id":11419359,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633688811,"creation_date":1633688811,"question_id":69494368,"body_markdown":"so i&#39;m working on a UI test class, the problem i&#39;m facing is that the function triggered by my UI test contains a check with `queryIntentActivities()` and this function is returning me an empty list and i can&#39;t figure why. Any idea ?\r\n\r\nThe test class : \r\n\r\n```kotlin\r\n@RunWith(AndroidJUnit4::class)\r\nclass TestMyActivity {\r\n\r\n    private lateinit var scenario: ActivityScenario&lt;MyActivity&gt;\r\n\r\n\r\n    @Before\r\n    fun setUp() {\r\n        scenario = ActivityScenario.launch(MyActivity::class.java)\r\n\r\n    }\r\n\r\n    @Test\r\n    fun testMybutton() {\r\n        scenario.onActivity {\r\n\r\n            onView(withId(R.id.my_recyclerview))\r\n                .perform(\r\n                    RecyclerViewActions.actionOnItem&lt;ViewHolder&gt;(\r\n                        hasDescendant(withText(&quot;text that match&quot;)),\r\n                        click()\r\n                    )\r\n                )\r\n\r\n\r\n            intended(hasAction(Intent.ACTION_DIAL))\r\n         }\r\n     }\r\n```\r\n\r\nThe function called on click : \r\n```java\r\npublic static void startCall(Context context, String phoneNumber) {\r\n        try {\r\n            Uri phoneUri = Uri.parse(&quot;tel:&quot; + phoneNumber);\r\n            Intent intent = new Intent(Intent.ACTION_DIAL);\r\n            intent.setData(phoneUri);\r\n\r\n            // Check if some app in device can handle this intent ( = check if\r\n            // device\r\n            // can use\r\n            // dial feature, example : tablet can&#39;t)\r\n            PackageManager manager = context.getPackageManager();\r\n            List&lt;ResolveInfo&gt; infos = manager.queryIntentActivities(intent, 0);\r\n            if (infos.size() &gt; 0) {\r\n                context.startActivity(intent);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nThanks","title":"Android Test - function with queryIntentActivities return empty list","body":"<p>so i'm working on a UI test class, the problem i'm facing is that the function triggered by my UI test contains a check with <code>queryIntentActivities()</code> and this function is returning me an empty list and i can't figure why. Any idea ?</p>\n<p>The test class :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RunWith(AndroidJUnit4::class)\nclass TestMyActivity {\n\n    private lateinit var scenario: ActivityScenario&lt;MyActivity&gt;\n\n\n    @Before\n    fun setUp() {\n        scenario = ActivityScenario.launch(MyActivity::class.java)\n\n    }\n\n    @Test\n    fun testMybutton() {\n        scenario.onActivity {\n\n            onView(withId(R.id.my_recyclerview))\n                .perform(\n                    RecyclerViewActions.actionOnItem&lt;ViewHolder&gt;(\n                        hasDescendant(withText(&quot;text that match&quot;)),\n                        click()\n                    )\n                )\n\n\n            intended(hasAction(Intent.ACTION_DIAL))\n         }\n     }\n</code></pre>\n<p>The function called on click :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void startCall(Context context, String phoneNumber) {\n        try {\n            Uri phoneUri = Uri.parse(&quot;tel:&quot; + phoneNumber);\n            Intent intent = new Intent(Intent.ACTION_DIAL);\n            intent.setData(phoneUri);\n\n            // Check if some app in device can handle this intent ( = check if\n            // device\n            // can use\n            // dial feature, example : tablet can't)\n            PackageManager manager = context.getPackageManager();\n            List&lt;ResolveInfo&gt; infos = manager.queryIntentActivities(intent, 0);\n            if (infos.size() &gt; 0) {\n                context.startActivity(intent);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","arraylist","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":4089654,"reputation":5242,"user_id":3358029,"accept_rate":83,"display_name":"Erik Lumme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633671223,"creation_date":1633671223,"answer_id":69490926,"question_id":69490857,"body_markdown":"This line is the problem\r\n\r\n`ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();`\r\n\r\nInstead of assigning a value to the `height` member field, you create a new `height` variable that only exists inside the constructor.\r\n\r\nYou should instead do `height = new ArrayList&lt;Integer&gt;();`, similar to how you do with `readFile`.\r\n\r\nP.S: Having a local variable with the same name as a member field is called &quot;variable shadowing&quot;. Depending on what IDE you are using, it might warn you about it, as it&#39;s not an uncommon mistake.","title":"Returning Integer Array List from another class returns null pointer exceptions when getting specific value","body":"<p>This line is the problem</p>\n<p><code>ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();</code></p>\n<p>Instead of assigning a value to the <code>height</code> member field, you create a new <code>height</code> variable that only exists inside the constructor.</p>\n<p>You should instead do <code>height = new ArrayList&lt;Integer&gt;();</code>, similar to how you do with <code>readFile</code>.</p>\n<p>P.S: Having a local variable with the same name as a member field is called &quot;variable shadowing&quot;. Depending on what IDE you are using, it might warn you about it, as it's not an uncommon mistake.</p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633671511,"creation_date":1633671511,"answer_id":69490962,"question_id":69490857,"body_markdown":"Please change this line `ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();` to `height = new ArrayList&lt;Integer&gt;();` inside the constructor of `ReadFile`. What happens is both the `height` references are different.\r\n\r\nIn this code\r\n\r\n    public ReadFile() {\r\n\r\n        ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\r\n    \r\n        for(int x = 0; x &lt;= 3; x++) {\r\n            height.add(x);\r\n        }\r\n    }\r\n\r\nThe `height` is local to the Constructor `ReadFile()`, so only that is initialized and the `private ArrayList&lt;Integer&gt; height;` remains null and that&#39;s what causes the Exception.","title":"Returning Integer Array List from another class returns null pointer exceptions when getting specific value","body":"<p>Please change this line <code>ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();</code> to <code>height = new ArrayList&lt;Integer&gt;();</code> inside the constructor of <code>ReadFile</code>. What happens is both the <code>height</code> references are different.</p>\n<p>In this code</p>\n<pre><code>public ReadFile() {\n\n    ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\n\n    for(int x = 0; x &lt;= 3; x++) {\n        height.add(x);\n    }\n}\n</code></pre>\n<p>The <code>height</code> is local to the Constructor <code>ReadFile()</code>, so only that is initialized and the <code>private ArrayList&lt;Integer&gt; height;</code> remains null and that's what causes the Exception.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633671755,"creation_date":1633671755,"answer_id":69490997,"question_id":69490857,"body_markdown":"You&#39;re declaring a field named `height`:\r\n\r\n    private ArrayList&lt;Integer&gt; height;\r\n\r\nand then you&#39;re d&#233;claring a local variable also named `height`:\r\n\r\n    public ReadFile()\r\n    {\r\n        ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\r\n\r\neverything you do with `height` in the constructor is done on the local variable, and nothing is done on the field.\r\n","title":"Returning Integer Array List from another class returns null pointer exceptions when getting specific value","body":"<p>You're declaring a field named <code>height</code>:</p>\n<pre><code>private ArrayList&lt;Integer&gt; height;\n</code></pre>\n<p>and then you're déclaring a local variable also named <code>height</code>:</p>\n<pre><code>public ReadFile()\n{\n    ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>everything you do with <code>height</code> in the constructor is done on the local variable, and nothing is done on the field.</p>\n"}],"owner":{"account_id":22976302,"reputation":1,"user_id":17103860,"display_name":"dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1633688202,"creation_date":1633670684,"question_id":69490857,"body_markdown":"new to java and need some pointers\r\n\r\nI am trying to create an array list in one class then return it and iterate through its values in a separate main class. However when i use the get method to return a specific value in the array it produce a null pointer exception. What am I doing Wrong ?\r\n\r\n \r\n    import java.util.*\r\n    public class ReadFile \r\n    {\r\n     \r\n        private ArrayList&lt;Integer&gt; height;\r\n\r\n        public ReadFile()\r\n        {\r\n            ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\r\n\r\n\t        for(int x = 0; x &lt;= 3; x++)\r\n            {\r\n\t\t        height.add(x);\r\n            }\r\n        }\r\n\r\n        public ArrayList&lt;Integer&gt; getHeights()\r\n        {\r\n            return height;\r\n        }\r\n    }\r\n\r\nMain Class\r\n    \r\n    import java.util.*\r\n        \r\n    public class Jumper\r\n    {\r\n    \r\n        private ReadFile readFile;\r\n    \r\n        public Jumper()\r\n        {\r\n            readFile = new ReadFile();\r\n        }\r\n    \r\n        public static void main(String[] arg)\r\n        {\r\n            Jumper game = new Jumper();\r\n            System.out.println(game.readFile.getHeights().get(1));\r\n        }\r\n    }","title":"Returning Integer Array List from another class returns null pointer exceptions when getting specific value","body":"<p>new to java and need some pointers</p>\n<p>I am trying to create an array list in one class then return it and iterate through its values in a separate main class. However when i use the get method to return a specific value in the array it produce a null pointer exception. What am I doing Wrong ?</p>\n<pre><code>import java.util.*\npublic class ReadFile \n{\n \n    private ArrayList&lt;Integer&gt; height;\n\n    public ReadFile()\n    {\n        ArrayList&lt;Integer&gt; height = new ArrayList&lt;Integer&gt;();\n\n        for(int x = 0; x &lt;= 3; x++)\n        {\n            height.add(x);\n        }\n    }\n\n    public ArrayList&lt;Integer&gt; getHeights()\n    {\n        return height;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>import java.util.*\n    \npublic class Jumper\n{\n\n    private ReadFile readFile;\n\n    public Jumper()\n    {\n        readFile = new ReadFile();\n    }\n\n    public static void main(String[] arg)\n    {\n        Jumper game = new Jumper();\n        System.out.println(game.readFile.getHeights().get(1));\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","indexoutofboundsexception"],"comments":[{"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"score":0,"creation_date":1633641321,"post_id":69487866,"comment_id":122821412,"body_markdown":"Minor tip, always name Classes in uppercase and no underscores, just convention. (i.e class library -&gt; class Library). Same for your second class - should be renamed to LibraryManagement. Methods should be named in camelcase (i.e registrationdetails -&gt; registrationDetails)","body":"Minor tip, always name Classes in uppercase and no underscores, just convention. (i.e class library -&gt; class Library). Same for your second class - should be renamed to LibraryManagement. Methods should be named in camelcase (i.e registrationdetails -&gt; registrationDetails)"}],"answers":[{"tags":[],"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633641663,"creation_date":1633641663,"answer_id":69487995,"question_id":69487866,"body_markdown":"The issue is in your indexing in library.registrationdetails()\r\n\r\n    \r\n```\r\nSystem.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i),this.phone_no.get(this.i));\r\n```\r\nwhen you are doing `this.name.get(this.i)` `this.i` equals to 1. Arrays in Java start at 0, so the index 1 actually refers to the *second** element. At this point in time you only have 1 element in your list so the program fails - you are trying to get the 2nd element in a list with 1 element!\r\n\r\nTo fix this simply subtract one from the index: (i.e replace the above line with this one in your code)\r\n\r\n    System.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i-1),this.phone_no.get(this.i-1));\r\n\r\n\r\n","title":"I am facing an awkward ArrayList index out bounds exception in java","body":"<p>The issue is in your indexing in library.registrationdetails()</p>\n<pre><code>System.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i),this.phone_no.get(this.i));\n</code></pre>\n<p>when you are doing <code>this.name.get(this.i)</code> <code>this.i</code> equals to 1. Arrays in Java start at 0, so the index 1 actually refers to the <em>second</em>* element. At this point in time you only have 1 element in your list so the program fails - you are trying to get the 2nd element in a list with 1 element!</p>\n<p>To fix this simply subtract one from the index: (i.e replace the above line with this one in your code)</p>\n<pre><code>System.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i-1),this.phone_no.get(this.i-1));\n</code></pre>\n"}],"owner":{"account_id":22862734,"reputation":3,"user_id":17006547,"display_name":"CODER rookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69487995,"answer_count":1,"score":0,"last_activity_date":1633688171,"creation_date":1633640823,"question_id":69487866,"body_markdown":"I am attempting to code a library management program in Java. I am facing a problem with ArrayList here. It seems like there is a problem with the integer `i` that I want to use as a variable index, but I don&#39;t understand the problem. I have provided the code below.\r\n\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    // Create a library management system which is capable of issuing books to the students.\r\n    // Book should have info like:\r\n    // 1. Book name\r\n    // 2. Book Author\r\n    // 3. Issued to\r\n    // 4. Issued on\r\n    // User should be able to add books, return issued books, issue books.\r\n    // Assume that all the users are registered with their names in the central database.\r\n    \r\n    class library{\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Long&gt; phone_no = new ArrayList&lt;&gt;();\r\n        \r\n        int i = 0;\r\n        public void registration(){\r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            this.name.add(this.i,sc.next());\r\n            \r\n            System.out.print(&quot;Enter your phone no.: &quot;);\r\n            this.phone_no.add(this.i,sc.nextLong());\r\n            \r\n            this.i++;\r\n        }\r\n    \r\n        \r\n    \r\n        public void registrationdetails(){\r\n            System.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i),this.phone_no.get(this.i));\r\n        }\r\n    \r\n        // public void issuebook() {\r\n        //     System.out.println(&quot;Enter the name of the book: &quot;);\r\n        //     String bookname = sc.next();\r\n        //     System.out.println(&quot;Enter the name of the book: &quot;);\r\n        //     String bookauthor = sc.next();\r\n        //     System.out.println(&quot;Enter the name of the book: &quot;);\r\n        //     String issuedto = sc.next();\r\n        //     System.out.println(&quot;Enter the name of the book: &quot;);\r\n        //     LocalDate issuedon = LocalDate.parse(sc.next());\r\n        // }\r\n    \r\n    \r\n        \r\n    }\r\n    \r\n    public class Library_management {\r\n        public static void main(String[] args) {\r\n            \r\n            library Anish = new library();\r\n            Anish.registration();\r\n            Anish.registrationdetails();\r\n    \r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n    Enter your name: ijfwoa\r\n    Enter your phone no.: 456\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n            at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n            at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n            at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n            at java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n            at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n            at library.registrationdetails(Library_management.java:34)\r\n            at Library_management.main(Library_management.java:57)\r\n\r\n\r\nI can&#39;t understand what the problem is. Please help me.","title":"I am facing an awkward ArrayList index out bounds exception in java","body":"<p>I am attempting to code a library management program in Java. I am facing a problem with ArrayList here. It seems like there is a problem with the integer <code>i</code> that I want to use as a variable index, but I don't understand the problem. I have provided the code below.</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n// Create a library management system which is capable of issuing books to the students.\n// Book should have info like:\n// 1. Book name\n// 2. Book Author\n// 3. Issued to\n// 4. Issued on\n// User should be able to add books, return issued books, issue books.\n// Assume that all the users are registered with their names in the central database.\n\nclass library{\n    Scanner sc = new Scanner(System.in);\n\n    ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\n    ArrayList&lt;Long&gt; phone_no = new ArrayList&lt;&gt;();\n    \n    int i = 0;\n    public void registration(){\n        System.out.print(&quot;Enter your name: &quot;);\n        this.name.add(this.i,sc.next());\n        \n        System.out.print(&quot;Enter your phone no.: &quot;);\n        this.phone_no.add(this.i,sc.nextLong());\n        \n        this.i++;\n    }\n\n    \n\n    public void registrationdetails(){\n        System.out.printf(&quot;Your name: %s\\nYour phone no.: %ld&quot;,this.name.get(this.i),this.phone_no.get(this.i));\n    }\n\n    // public void issuebook() {\n    //     System.out.println(&quot;Enter the name of the book: &quot;);\n    //     String bookname = sc.next();\n    //     System.out.println(&quot;Enter the name of the book: &quot;);\n    //     String bookauthor = sc.next();\n    //     System.out.println(&quot;Enter the name of the book: &quot;);\n    //     String issuedto = sc.next();\n    //     System.out.println(&quot;Enter the name of the book: &quot;);\n    //     LocalDate issuedon = LocalDate.parse(sc.next());\n    // }\n\n\n    \n}\n\npublic class Library_management {\n    public static void main(String[] args) {\n        \n        library Anish = new library();\n        Anish.registration();\n        Anish.registrationdetails();\n\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Enter your name: ijfwoa\nEnter your phone no.: 456\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n        at java.base/java.util.Objects.checkIndex(Objects.java:359)\n        at java.base/java.util.ArrayList.get(ArrayList.java:427)\n        at library.registrationdetails(Library_management.java:34)\n        at Library_management.main(Library_management.java:57)\n</code></pre>\n<p>I can't understand what the problem is. Please help me.</p>\n"},{"tags":["java","multithreading","synchronization","jvm"],"answers":[{"tags":[],"owner":{"account_id":3175071,"reputation":20715,"user_id":2683146,"accept_rate":85,"display_name":"Jean-Fran&#231;ois Savard"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411219099,"creation_date":1411219099,"answer_id":25949212,"question_id":25949145,"body_markdown":"&gt; To coordinate shared data access among multiple threads, the Java virtual machine associates a lock with each object and class. A lock is like a privilege that only one thread can &quot;possess&quot; at any one time. If a thread wants to lock a particular object or class, it asks the JVM. At some point after the thread asks the JVM for a lock -- maybe very soon, maybe later, possibly never -- the JVM gives the lock to the thread. When the thread no longer needs the lock, it returns it to the JVM. If another thread has requested the same lock, the JVM passes the lock to that thread.\r\n\r\nCheck out the entire article for more information : http://www.javaworld.com/article/2076971/java-concurrency/how-the-java-virtual-machine-performs-thread-synchronization.html","title":"Synchronized keyword internal implementation","body":"<blockquote>\n  <p>To coordinate shared data access among multiple threads, the Java virtual machine associates a lock with each object and class. A lock is like a privilege that only one thread can \"possess\" at any one time. If a thread wants to lock a particular object or class, it asks the JVM. At some point after the thread asks the JVM for a lock -- maybe very soon, maybe later, possibly never -- the JVM gives the lock to the thread. When the thread no longer needs the lock, it returns it to the JVM. If another thread has requested the same lock, the JVM passes the lock to that thread.</p>\n</blockquote>\n\n<p>Check out the entire article for more information : <a href=\"http://www.javaworld.com/article/2076971/java-concurrency/how-the-java-virtual-machine-performs-thread-synchronization.html\" rel=\"noreferrer\">http://www.javaworld.com/article/2076971/java-concurrency/how-the-java-virtual-machine-performs-thread-synchronization.html</a></p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1633687693,"creation_date":1411223322,"answer_id":25949789,"question_id":25949145,"body_markdown":"Broad question:\r\n\r\n&gt; How does the JVM make sure...?\r\n\r\nThe &quot;VM&quot; in &quot;JVM&quot; stands for &quot;virtual machine.&quot;  Your code doesn&#39;t do anything by itself.  When we say, &quot;your code runs&quot;, what we really mean is, the JVM _executes_ your instructions.  And it does so in accordance with the rules that are laid out in the JVM specification.  One of the rules says that a JVM must never execute a synchronized block for two different threads on the same object at the same time.\r\n\r\nBut there are many layers to the onion:  A typical JVM uses _native threads_ (i.e., threads provided by the operating system) to implement Java threads, and it typically relies on mutex objects provided by the OS to synchronize the threads.\r\n\r\nGoing deeper still, neither the JVM nor the operating system really does anything by itself:  It&#39;s the computer hardware _executing_ the instructions of the OS and the JVM that really makes things happen.\r\n\r\nThe complete answer to &quot;how does synchronization work?&quot; is a couple of chapters from a book about operating system design, plus a couple of chapters from a book on computer architecture, plus a shot of computer science on the side.  To fully understand it all, you&#39;ll at least need to know about:\r\n\r\n - &quot;user-mode instructions&quot; vs. &quot;privileged mode instructions&quot;,\r\n - How system calls work,\r\n - How an operating system &quot;scheduler&quot; performs &quot;Context Switches&quot;\r\n - hardware synchronization primitives like &quot;Compare and Swap (CAS)&quot;, &quot;Test and Set (TAS)&quot;, &quot;load-link/store-conditional (LL/SC)&quot;\r\n\r\nThey&#39;re all subjects that you can look up on Wikipedia, but IMO, books are better for learning a subject of that depth.","title":"Synchronized keyword internal implementation","body":"<p>Broad question:</p>\n<blockquote>\n<p>How does the JVM make sure...?</p>\n</blockquote>\n<p>The &quot;VM&quot; in &quot;JVM&quot; stands for &quot;virtual machine.&quot;  Your code doesn't do anything by itself.  When we say, &quot;your code runs&quot;, what we really mean is, the JVM <em>executes</em> your instructions.  And it does so in accordance with the rules that are laid out in the JVM specification.  One of the rules says that a JVM must never execute a synchronized block for two different threads on the same object at the same time.</p>\n<p>But there are many layers to the onion:  A typical JVM uses <em>native threads</em> (i.e., threads provided by the operating system) to implement Java threads, and it typically relies on mutex objects provided by the OS to synchronize the threads.</p>\n<p>Going deeper still, neither the JVM nor the operating system really does anything by itself:  It's the computer hardware <em>executing</em> the instructions of the OS and the JVM that really makes things happen.</p>\n<p>The complete answer to &quot;how does synchronization work?&quot; is a couple of chapters from a book about operating system design, plus a couple of chapters from a book on computer architecture, plus a shot of computer science on the side.  To fully understand it all, you'll at least need to know about:</p>\n<ul>\n<li>&quot;user-mode instructions&quot; vs. &quot;privileged mode instructions&quot;,</li>\n<li>How system calls work,</li>\n<li>How an operating system &quot;scheduler&quot; performs &quot;Context Switches&quot;</li>\n<li>hardware synchronization primitives like &quot;Compare and Swap (CAS)&quot;, &quot;Test and Set (TAS)&quot;, &quot;load-link/store-conditional (LL/SC)&quot;</li>\n</ul>\n<p>They're all subjects that you can look up on Wikipedia, but IMO, books are better for learning a subject of that depth.</p>\n"},{"tags":[],"owner":{"account_id":12972203,"reputation":469,"user_id":9377527,"display_name":"mwdev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1543578804,"creation_date":1543345716,"answer_id":53506540,"question_id":25949145,"body_markdown":"There are whole books written on the subject of low level implementations and concurrent features.\r\n\r\nBut for those looking for basic understanding of how it&#39;s all wired up and what&#39;s the logic behind it:\r\nJVM implements &quot;synchronised&quot; feature using intrinsic lock provided by Java Built-in Monitor Objects. \r\nOn the lower level Java built-in monitor object synchronizers can be implemented w/POSIX-like synchronizers, that&#39;s system level C libraries.\r\n\r\nI highly recommend going through these two youtube courses which explain the basics in very nice way so you can quickly get a good grasp of it and learn its semantics:\r\n\r\nJava Built-in Monitor Objects: Overview and Motivating Example \r\n\r\nhttps://www.youtube.com/watch?v=vHAWxXCB9Bg&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=49\r\n\r\nJava Built-in Monitor Objects: Coordination\r\n\r\nhttps://www.youtube.com/watch?v=QNi1BH9JcJE&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=51","title":"Synchronized keyword internal implementation","body":"<p>There are whole books written on the subject of low level implementations and concurrent features.</p>\n\n<p>But for those looking for basic understanding of how it's all wired up and what's the logic behind it:\nJVM implements \"synchronised\" feature using intrinsic lock provided by Java Built-in Monitor Objects. \nOn the lower level Java built-in monitor object synchronizers can be implemented w/POSIX-like synchronizers, that's system level C libraries.</p>\n\n<p>I highly recommend going through these two youtube courses which explain the basics in very nice way so you can quickly get a good grasp of it and learn its semantics:</p>\n\n<p>Java Built-in Monitor Objects: Overview and Motivating Example </p>\n\n<p><a href=\"https://www.youtube.com/watch?v=vHAWxXCB9Bg&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=49\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vHAWxXCB9Bg&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=49</a></p>\n\n<p>Java Built-in Monitor Objects: Coordination</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=QNi1BH9JcJE&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=51\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=QNi1BH9JcJE&amp;list=PLZ9NgFYEMxp4UHEwQCltQciArqXDyn6Ms&amp;index=51</a></p>\n"}],"owner":{"account_id":2367090,"reputation":1128,"user_id":2072589,"accept_rate":31,"display_name":"Arijeet Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8620,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1633687693,"creation_date":1411218650,"question_id":25949145,"body_markdown":"How does JVM make sure threads acquire a lock after entering synchronized method of an object?","title":"Synchronized keyword internal implementation","body":"<p>How does JVM make sure threads acquire a lock after entering synchronized method of an object?</p>\n"},{"tags":["java","string","memory-leaks"],"comments":[{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":2,"creation_date":1357317388,"post_id":14161050,"comment_id":19617214,"body_markdown":"This is not technically a memory leak at all, since the character array is still referenced and could be collected later when all strings that reference it are collected. Part of the character array might not be used anymore, but that does not make it a leak.","body":"This is not technically a memory leak at all, since the character array is still referenced and could be collected later when all strings that reference it are collected. Part of the character array might not be used anymore, but that does not make it a leak."},{"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"score":1,"creation_date":1357317592,"post_id":14161050,"comment_id":19617312,"body_markdown":"if you have a 100 large string each 100MB and you have a substring(0,1) you are technically holding that value[] used in String class and never in your application huge strings are eligible for garbage collection","body":"if you have a 100 large string each 100MB and you have a substring(0,1) you are technically holding that value[] used in String class and never in your application huge strings are eligible for garbage collection"},{"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"score":1,"creation_date":1437647647,"post_id":14161050,"comment_id":51121886,"body_markdown":"best link http://javarevisited.blogspot.com/2012/03/why-character-array-is-better-than.html","body":"best link <a href=\"http://javarevisited.blogspot.com/2012/03/why-character-array-is-better-than.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2012/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1633687661,"creation_date":1357317383,"answer_id":14161077,"question_id":14161050,"body_markdown":"There *is* a potential for a memory leak, if you take a substring of a sizable string and not make a copy (usually via the `String(String)` constructor). \r\n\r\nNote that this has changed since [Java 7u6][1]. \r\nSee https://bugs.openjdk.java.net/browse/JDK-7197183.\r\n\r\nThe original assumptions around the `String` object implementing a [flyweight pattern][2] are no longer regarded as valid.\r\n\r\nSee [this answer][3] for more info.\r\n\r\n\r\n  [1]: http://www.transylvania-jug.org/archives/5530\r\n  [2]: http://en.wikipedia.org/wiki/Flyweight_pattern\r\n  [3]: https://stackoverflow.com/questions/2147783/why-does-appending-to-a-string-save-memory/2147803#2147803","title":"Java String.substring method potential memory leak?","body":"<p>There <em>is</em> a potential for a memory leak, if you take a substring of a sizable string and not make a copy (usually via the <code>String(String)</code> constructor).</p>\n<p>Note that this has changed since <a href=\"http://www.transylvania-jug.org/archives/5530\" rel=\"nofollow noreferrer\">Java 7u6</a>.\nSee <a href=\"https://bugs.openjdk.java.net/browse/JDK-7197183\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-7197183</a>.</p>\n<p>The original assumptions around the <code>String</code> object implementing a <a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\">flyweight pattern</a> are no longer regarded as valid.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2147783/why-does-appending-to-a-string-save-memory/2147803#2147803\">this answer</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357317786,"creation_date":1357317786,"answer_id":14161188,"question_id":14161050,"body_markdown":"1. It was the case until Java 7u6 - you would generally deal with the issue by doing:\r\n\r\n        String sub = new String(s.substring(...)); // create a new string\r\n\r\n   That effectively removes the dependency and the original string is now available for GC. This is by the way one of the only scenarios where using the string constructor makes sense.\r\n\r\n2. Since [Java 7u6][1], a new String is created and there is no memory issue any longer.\r\n\r\n [1]: http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-May/010257.html","title":"Java String.substring method potential memory leak?","body":"<ol>\n<li><p>It was the case until Java 7u6 - you would generally deal with the issue by doing:</p>\n\n<pre><code>String sub = new String(s.substring(...)); // create a new string\n</code></pre>\n\n<p>That effectively removes the dependency and the original string is now available for GC. This is by the way one of the only scenarios where using the string constructor makes sense.</p></li>\n<li><p>Since <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-May/010257.html\" rel=\"nofollow\">Java 7u6</a>, a new String is created and there is no memory issue any longer.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6152327,"reputation":1439,"user_id":4796407,"accept_rate":43,"display_name":"Ankush soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444391659,"creation_date":1444391659,"answer_id":33037628,"question_id":14161050,"body_markdown":"In Java 7, String&#39;s subString is modified to :\r\n\r\n   \r\n\r\n    /**\r\n         * Returns a new string that is a substring of this string. The\r\n         * substring begins with the character at the specified index and\r\n         * extends to the end of this string. &lt;p&gt;\r\n         * Examples:\r\n         * &lt;blockquote&gt;&lt;pre&gt;\r\n         * &quot;unhappy&quot;.substring(2) returns &quot;happy&quot;\r\n         * &quot;Harbison&quot;.substring(3) returns &quot;bison&quot;\r\n         * &quot;emptiness&quot;.substring(9) returns &quot;&quot; (an empty string)\r\n         * &lt;/pre&gt;&lt;/blockquote&gt;\r\n         *\r\n         * @param      beginIndex   the beginning index, inclusive.\r\n         * @return     the specified substring.\r\n         * @exception  IndexOutOfBoundsException  if\r\n         *             &lt;code&gt;beginIndex&lt;/code&gt; is negative or larger than the\r\n         *             length of this &lt;code&gt;String&lt;/code&gt; object.\r\n         */\r\n        public String substring(int beginIndex) {\r\n            if (beginIndex &lt; 0) {\r\n                throw new StringIndexOutOfBoundsException(beginIndex);\r\n            }\r\n            int subLen = value.length - beginIndex;\r\n            if (subLen &lt; 0) {\r\n                throw new StringIndexOutOfBoundsException(subLen);\r\n            }\r\n            return (beginIndex == 0) ? this : new String(value, beginIndex, subLen);\r\n        }\r\n\r\nHence, everytime you do subString with beginIndex NOT equal to 0, we have new String Object.","title":"Java String.substring method potential memory leak?","body":"<p>In Java 7, String's subString is modified to :</p>\n\n<pre><code>/**\n     * Returns a new string that is a substring of this string. The\n     * substring begins with the character at the specified index and\n     * extends to the end of this string. &lt;p&gt;\n     * Examples:\n     * &lt;blockquote&gt;&lt;pre&gt;\n     * \"unhappy\".substring(2) returns \"happy\"\n     * \"Harbison\".substring(3) returns \"bison\"\n     * \"emptiness\".substring(9) returns \"\" (an empty string)\n     * &lt;/pre&gt;&lt;/blockquote&gt;\n     *\n     * @param      beginIndex   the beginning index, inclusive.\n     * @return     the specified substring.\n     * @exception  IndexOutOfBoundsException  if\n     *             &lt;code&gt;beginIndex&lt;/code&gt; is negative or larger than the\n     *             length of this &lt;code&gt;String&lt;/code&gt; object.\n     */\n    public String substring(int beginIndex) {\n        if (beginIndex &lt; 0) {\n            throw new StringIndexOutOfBoundsException(beginIndex);\n        }\n        int subLen = value.length - beginIndex;\n        if (subLen &lt; 0) {\n            throw new StringIndexOutOfBoundsException(subLen);\n        }\n        return (beginIndex == 0) ? this : new String(value, beginIndex, subLen);\n    }\n</code></pre>\n\n<p>Hence, everytime you do subString with beginIndex NOT equal to 0, we have new String Object.</p>\n"}],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8777,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":14161077,"answer_count":3,"score":16,"last_activity_date":1633687661,"creation_date":1357317295,"question_id":14161050,"body_markdown":"I was going through the String class API and looks like there is a potential memory leak caused by substring method as it shares same character array as original String. \r\n\r\nIf original string is huge then small string returned by substring can prevent original string(backed up by large array) from garbage collection in Java.\r\n\r\nAny thoughts or did I read the API wrong.\r\n","title":"Java String.substring method potential memory leak?","body":"<p>I was going through the String class API and looks like there is a potential memory leak caused by substring method as it shares same character array as original String. </p>\n\n<p>If original string is huge then small string returned by substring can prevent original string(backed up by large array) from garbage collection in Java.</p>\n\n<p>Any thoughts or did I read the API wrong.</p>\n"},{"tags":["java","concurrency","locking","semaphore","busy-waiting"],"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1633635391,"post_id":69486861,"comment_id":122819485,"body_markdown":"Does this answer your question? [Synchronized keyword internal implementation](https://stackoverflow.com/questions/25949145/synchronized-keyword-internal-implementation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25949145/synchronized-keyword-internal-implementation\">Synchronized keyword internal implementation</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1633635456,"post_id":69486861,"comment_id":122819511,"body_markdown":"This isn&#39;t specified in the language, but it&#39;s well known that Java will optimize its locks according to how they are used.  Locks that have little contention will use busy waiting (so called spin-lock) and locks with frequent contention will block to avoid using too much CPU.","body":"This isn&#39;t specified in the language, but it&#39;s well known that Java will optimize its locks according to how they are used.  Locks that have little contention will use busy waiting (so called spin-lock) and locks with frequent contention will block to avoid using too much CPU."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1633635641,"post_id":69486861,"comment_id":122819566,"body_markdown":"There&#39;s other stuff going on behind the scenes too, like &quot;biased locks&quot; that are &quot;owned&quot; by and biased towards one particular thread.  I know a lot less about how that implementation works, and what other optimizations the JVM might perform.","body":"There&#39;s other stuff going on behind the scenes too, like &quot;biased locks&quot; that are &quot;owned&quot; by and biased towards one particular thread.  I know a lot less about how that implementation works, and what other optimizations the JVM might perform."},{"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"score":0,"creation_date":1633635705,"post_id":69486861,"comment_id":122819596,"body_markdown":"@markspace so, i can use synchronised keyword without worrying about busy waiting?","body":"@markspace so, i can use synchronised keyword without worrying about busy waiting?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1633635761,"post_id":69486861,"comment_id":122819613,"body_markdown":"Yup, the JVM will figure it out and use the best implementation for you.  Virtual Machines are handy like that, you aren&#39;t stuck with one static code implementation determined at compile time.","body":"Yup, the JVM will figure it out and use the best implementation for you.  Virtual Machines are handy like that, you aren&#39;t stuck with one static code implementation determined at compile time."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633642505,"creation_date":1633642505,"answer_id":69488110,"question_id":69486861,"body_markdown":"&gt; how do other thread(s)get notified,\r\n\r\nVirtually all practical JVMs let the operating system do the real work. workstations, servers, and mobile devices all run [preemptive, multi-tasking operating systems](https://en.wikipedia.org/wiki/Computer_multitasking#Preemptive_multitasking) these days, and it&#39;s the operating system that provides the primitive functions upon which threads, mutexes, semaphores, etc. are all built.\r\n\r\nThe most important thing that the OS can do that programs can&#39;t do for themselves is called a [_context switch_](https://en.wikipedia.org/wiki/Context_switch). That&#39;s where the OS suspends one thread, saves its state in a special &quot;context record,&quot; and then restores the context of some other thread, allowing the second thread to start using the same CPU that the first thread previously was using.\r\n\r\nWhenever a thread waits to lock a mutex, waits for I/O, for `some_object.notify()`, or for pretty much anything else, the OS &quot;switches out&quot; its context, places it in a queue of things that are awaiting that event, and we say that the thread is _blocked on the event._ When the event happens (e.g., when somebody releases a mutex) the OS moves the thread&#39;s context into a queue of threads that are _RUNNABLE_, and eventually, when a CPU becomes available, it &quot;switches in&quot; the context, and the thread gets to run again.\r\n\r\n&gt; do they implement semaphores under the hood?\r\n\r\n`Semaphore` is a very old idea:  It originally was meant to be a low-level primitive operation--one that could be implemented in an arcane way, without any hardware support--upon which other things like mutual exclusion, queues, barriers, etc. could be built.\r\n\r\nThese days, _mutexes_ are the lowest level--implemented using special hardware instructions--and a semaphore is a higher level object that is built on top of a mutex. One of the main reasons we still have `Semaphore` is just that so much of the existing literature talks about semaphores, and so much existing code still uses semaphores.","title":"Are Java synchronised method/statements and locks (e.g. re-entrant lock) busy waiting mechanisms?","body":"<blockquote>\n<p>how do other thread(s)get notified,</p>\n</blockquote>\n<p>Virtually all practical JVMs let the operating system do the real work. workstations, servers, and mobile devices all run <a href=\"https://en.wikipedia.org/wiki/Computer_multitasking#Preemptive_multitasking\" rel=\"nofollow noreferrer\">preemptive, multi-tasking operating systems</a> these days, and it's the operating system that provides the primitive functions upon which threads, mutexes, semaphores, etc. are all built.</p>\n<p>The most important thing that the OS can do that programs can't do for themselves is called a <a href=\"https://en.wikipedia.org/wiki/Context_switch\" rel=\"nofollow noreferrer\"><em>context switch</em></a>. That's where the OS suspends one thread, saves its state in a special &quot;context record,&quot; and then restores the context of some other thread, allowing the second thread to start using the same CPU that the first thread previously was using.</p>\n<p>Whenever a thread waits to lock a mutex, waits for I/O, for <code>some_object.notify()</code>, or for pretty much anything else, the OS &quot;switches out&quot; its context, places it in a queue of things that are awaiting that event, and we say that the thread is <em>blocked on the event.</em> When the event happens (e.g., when somebody releases a mutex) the OS moves the thread's context into a queue of threads that are <em>RUNNABLE</em>, and eventually, when a CPU becomes available, it &quot;switches in&quot; the context, and the thread gets to run again.</p>\n<blockquote>\n<p>do they implement semaphores under the hood?</p>\n</blockquote>\n<p><code>Semaphore</code> is a very old idea:  It originally was meant to be a low-level primitive operation--one that could be implemented in an arcane way, without any hardware support--upon which other things like mutual exclusion, queues, barriers, etc. could be built.</p>\n<p>These days, <em>mutexes</em> are the lowest level--implemented using special hardware instructions--and a semaphore is a higher level object that is built on top of a mutex. One of the main reasons we still have <code>Semaphore</code> is just that so much of the existing literature talks about semaphores, and so much existing code still uses semaphores.</p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633687398,"creation_date":1633635183,"question_id":69486861,"body_markdown":"I am learning concurrency in Java, and came to know about semaphores, which can be used for synchronisation without busy waiting.\r\n\r\nNow, I&#39;m wondering if Java synchronised method/statements and locks (e.g. re-entrant lock) are busy waiting mechanisms?\r\n\r\nIf not, how do other thread(s) get notified, do they implement semaphores under the hood?\r\n\r\n```\r\nsynchronised method()\r\nsynchronised(object){}\r\nreeantrant.lock()\r\n```","title":"Are Java synchronised method/statements and locks (e.g. re-entrant lock) busy waiting mechanisms?","body":"<p>I am learning concurrency in Java, and came to know about semaphores, which can be used for synchronisation without busy waiting.</p>\n<p>Now, I'm wondering if Java synchronised method/statements and locks (e.g. re-entrant lock) are busy waiting mechanisms?</p>\n<p>If not, how do other thread(s) get notified, do they implement semaphores under the hood?</p>\n<pre><code>synchronised method()\nsynchronised(object){}\nreeantrant.lock()\n</code></pre>\n"},{"tags":["java","android","kotlin","bitmap","android-bitmap"],"comments":[{"owner":{"account_id":22710188,"reputation":126,"user_id":16876259,"display_name":"Damian Piszka"},"score":0,"creation_date":1633685646,"post_id":69493580,"comment_id":122831113,"body_markdown":"`Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, oldWidth, oldHeight, matrix, true);` Shouldn&#39;t you instead of `oldWidth` and `oldHeight` just use `width` and `height`? You are just recreating a bitmap of the same width and height like it was before.","body":"<code>Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, oldWidth, oldHeight, matrix, true);</code> Shouldn&#39;t you instead of <code>oldWidth</code> and <code>oldHeight</code> just use <code>width</code> and <code>height</code>? You are just recreating a bitmap of the same width and height like it was before."},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633685853,"post_id":69493580,"comment_id":122831183,"body_markdown":"when i put width and height instead of oldwidth and height I got this error\njava.lang.IllegalArgumentException: x + width must be &lt;= bitmap.width()","body":"when i put width and height instead of oldwidth and height I got this error java.lang.IllegalArgumentException: x + width must be &lt;= bitmap.width()"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633686021,"post_id":69493580,"comment_id":122831244,"body_markdown":",Please show with which parameter values you call your function. And also tell the resolution of original bitmap.","body":",Please show with which parameter values you call your function. And also tell the resolution of original bitmap."},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633686114,"post_id":69493580,"comment_id":122831273,"body_markdown":"update the code please check","body":"update the code please check"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633686323,"post_id":69493580,"comment_id":122831365,"body_markdown":"In captureBitmapFromYuvFrame() i call the resizeToWidthRatio() fun\nby        return resizeToWidthRatio(bitmap,1000);","body":"In captureBitmapFromYuvFrame() i call the resizeToWidthRatio() fun by        return resizeToWidthRatio(bitmap,1000);"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633686423,"post_id":69493580,"comment_id":122831411,"body_markdown":"Please refresh the page something it&#39;s not showing updated code","body":"Please refresh the page something it&#39;s not showing updated code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633686696,"post_id":69493580,"comment_id":122831536,"body_markdown":"Resolution of original bitmap?","body":"Resolution of original bitmap?"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633686791,"post_id":69493580,"comment_id":122831563,"body_markdown":"480 x 720 dimension","body":"480 x 720 dimension"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633686813,"post_id":69493580,"comment_id":122831575,"body_markdown":"Please add Log.d statements everywhere to log the value of variables. In that way you can follow the calculation. Post the log lines so we know it too.","body":"Please add Log.d statements everywhere to log the value of variables. In that way you can follow the calculation. Post the log lines so we know it too."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633686879,"post_id":69493580,"comment_id":122831602,"body_markdown":"`480 x 720 dimension` You should put that on the first line of your post. And then tell that you wanna ENLARGE it. Write a good post please.","body":"<code>480 x 720 dimension</code> You should put that on the first line of your post. And then tell that you wanna ENLARGE it. Write a good post please."},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633686927,"post_id":69493580,"comment_id":122831613,"body_markdown":"I log the value in rezise()\nwidth = 750 height =1000 scale width = 1.5625 scale height =1.5625","body":"I log the value in rezise() width = 750 height =1000 scale width = 1.5625 scale height =1.5625"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633687214,"post_id":69493580,"comment_id":122831728,"body_markdown":"Have you ever checked what 720*1.5625 would be?","body":"Have you ever checked what 720*1.5625 would be?"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633687821,"post_id":69493580,"comment_id":122831976,"body_markdown":"i just want to resize bitmap height for any bitmap","body":"i just want to resize bitmap height for any bitmap"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633688266,"post_id":69493580,"comment_id":122832123,"body_markdown":"Yes. But let us handle this one first. `Have you ever checked what 720*1.5625 would be?` You got what you asked for.","body":"Yes. But let us handle this one first. <code>Have you ever checked what 720*1.5625 would be?</code> You got what you asked for."},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633688450,"post_id":69493580,"comment_id":122832205,"body_markdown":"yeah that height what i get after resize","body":"yeah that height what i get after resize"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633688530,"post_id":69493580,"comment_id":122832241,"body_markdown":"And did you ever use a calculator to calculate the scale? Well tell us... Where do things go wrong? What is it that you calculate wrong?","body":"And did you ever use a calculator to calculate the scale? Well tell us... Where do things go wrong? What is it that you calculate wrong?"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633688585,"post_id":69493580,"comment_id":122832265,"body_markdown":"yesh it&#39;s 0.72 for height if i want 1000 height","body":"yesh it&#39;s 0.72 for height if i want 1000 height"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633688635,"post_id":69493580,"comment_id":122832284,"body_markdown":"0.72 will NOT enlarge. 1.5625 enlarged too much.","body":"0.72 will NOT enlarge. 1.5625 enlarged too much."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633688714,"post_id":69493580,"comment_id":122832319,"body_markdown":"What is 1125/720? And what is 1000/720?","body":"What is 1125/720? And what is 1000/720?"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633688785,"post_id":69493580,"comment_id":122832357,"body_markdown":"1.5 and 1.3 for those two","body":"1.5 and 1.3 for those two"},{"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"score":0,"creation_date":1633688996,"post_id":69493580,"comment_id":122832433,"body_markdown":"thanks buddy i got your points thanks for helping me I&#39;m frasher at android","body":"thanks buddy i got your points thanks for helping me I&#39;m frasher at android"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633689203,"post_id":69493580,"comment_id":122832516,"body_markdown":"Your scale calculation goes wrong where you mix float and integer. Thats all. Just cast all to float first. And log, log and log, so you see. Check all with a calculator at hand.","body":"Your scale calculation goes wrong where you mix float and integer. Thats all. Just cast all to float first. And log, log and log, so you see. Check all with a calculator at hand."}],"owner":{"account_id":12712853,"reputation":446,"user_id":9235923,"display_name":"mayur.pancholi"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633687304,"creation_date":1633685270,"question_id":69493580,"body_markdown":"I know this question is asked before but when I try that solution they give me bitmap of dimension 750 x 1125 when I set a particular height of 1000\r\n\r\nThis is my code to resize bitmap height 1000\r\n````\r\npublic Bitmap captureBitmapFromYuvFrame(VideoFrame i420Frame) {\r\n\r\n        VideoFrame.I420Buffer i420Buffer = i420Frame.getBuffer().toI420();\r\n        ByteBuffer[] yuvPlanes = { i420Buffer.getDataY(), i420Buffer.getDataU(), i420Buffer.getDataV() };\r\n        int[] yuvStrides = { i420Buffer.getStrideY(), i420Buffer.getStrideU(), i420Buffer.getStrideV() };\r\n        YuvImage yuvImage = i420ToYuvImage(yuvPlanes, yuvStrides,\r\n                i420Frame.getBuffer().getWidth(),\r\n                i420Frame.getBuffer().getHeight());\r\n\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        Rect rect = new Rect(0, 0, yuvImage.getWidth(), yuvImage.getHeight());\r\n\r\n        // Compress YuvImage to jpeg\r\n        yuvImage.compressToJpeg(rect, 100, stream);\r\n\r\n        // Convert jpeg to Bitmap\r\n        byte[] imageBytes = stream.toByteArray();\r\n        Bitmap bitmap = null;\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P){\r\n            ByteBuffer buffer = ByteBuffer.wrap(imageBytes);\r\n            ImageDecoder.Source src = ImageDecoder.createSource(buffer);\r\n            try {\r\n                bitmap = ImageDecoder.decodeBitmap(src);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        } else {\r\n            bitmap = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\r\n        }\r\n\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(i420Frame.getRotation()); // Apply any needed rotation\r\n        bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix,\r\n                true);\r\n\r\n        return resizeToWidthRatio(bitmap,1000);\r\n    }\r\n\r\n\r\n public static Bitmap resizeToWidthRatio(Bitmap bm, int height)\r\n    {\r\n        float ratio = (float)bm.getWidth() / (float)bm.getHeight();\r\n        int width = (int)(height * ratio);\r\n        return resize(bm, width, height);\r\n    }\r\n\r\n    public static Bitmap resize(Bitmap bm, int width, int height)\r\n    {\r\n        int oldWidth = bm.getWidth();\r\n        int oldHeight = bm.getHeight();\r\n\r\n        // calculate the scale - in this case = 0.4f\r\n        float scaleWidth = ((float)width) / oldWidth;\r\n        float scaleHeight = ((float)height) / oldHeight;\r\n\r\n        Matrix matrix = new Matrix();\r\n        matrix.postScale(scaleWidth, scaleHeight);\r\n\r\n        // recreate the new Bitmap\r\n        Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, oldWidth, oldHeight, matrix, true);\r\n        return resizedBitmap;\r\n    }\r\n````\r\n\r\nI try this but the result bitmap dimension is 750x1125, I want a height of 1000, not 1125 so can you please suggest the way that I can achieve the  &quot;any widthx1000&quot; this dimension.","title":"Resize bitmap to the particular height in android","body":"<p>I know this question is asked before but when I try that solution they give me bitmap of dimension 750 x 1125 when I set a particular height of 1000</p>\n<p>This is my code to resize bitmap height 1000</p>\n<pre><code>public Bitmap captureBitmapFromYuvFrame(VideoFrame i420Frame) {\n\n        VideoFrame.I420Buffer i420Buffer = i420Frame.getBuffer().toI420();\n        ByteBuffer[] yuvPlanes = { i420Buffer.getDataY(), i420Buffer.getDataU(), i420Buffer.getDataV() };\n        int[] yuvStrides = { i420Buffer.getStrideY(), i420Buffer.getStrideU(), i420Buffer.getStrideV() };\n        YuvImage yuvImage = i420ToYuvImage(yuvPlanes, yuvStrides,\n                i420Frame.getBuffer().getWidth(),\n                i420Frame.getBuffer().getHeight());\n\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        Rect rect = new Rect(0, 0, yuvImage.getWidth(), yuvImage.getHeight());\n\n        // Compress YuvImage to jpeg\n        yuvImage.compressToJpeg(rect, 100, stream);\n\n        // Convert jpeg to Bitmap\n        byte[] imageBytes = stream.toByteArray();\n        Bitmap bitmap = null;\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P){\n            ByteBuffer buffer = ByteBuffer.wrap(imageBytes);\n            ImageDecoder.Source src = ImageDecoder.createSource(buffer);\n            try {\n                bitmap = ImageDecoder.decodeBitmap(src);\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n        } else {\n            bitmap = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);\n        }\n\n        Matrix matrix = new Matrix();\n        matrix.postRotate(i420Frame.getRotation()); // Apply any needed rotation\n        bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix,\n                true);\n\n        return resizeToWidthRatio(bitmap,1000);\n    }\n\n\n public static Bitmap resizeToWidthRatio(Bitmap bm, int height)\n    {\n        float ratio = (float)bm.getWidth() / (float)bm.getHeight();\n        int width = (int)(height * ratio);\n        return resize(bm, width, height);\n    }\n\n    public static Bitmap resize(Bitmap bm, int width, int height)\n    {\n        int oldWidth = bm.getWidth();\n        int oldHeight = bm.getHeight();\n\n        // calculate the scale - in this case = 0.4f\n        float scaleWidth = ((float)width) / oldWidth;\n        float scaleHeight = ((float)height) / oldHeight;\n\n        Matrix matrix = new Matrix();\n        matrix.postScale(scaleWidth, scaleHeight);\n\n        // recreate the new Bitmap\n        Bitmap resizedBitmap = Bitmap.createBitmap(bm, 0, 0, oldWidth, oldHeight, matrix, true);\n        return resizedBitmap;\n    }\n</code></pre>\n<p>I try this but the result bitmap dimension is 750x1125, I want a height of 1000, not 1125 so can you please suggest the way that I can achieve the  &quot;any widthx1000&quot; this dimension.</p>\n"},{"tags":["java","amazon-web-services","ssl","lets-encrypt"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":1,"creation_date":1633633682,"post_id":69434723,"comment_id":122818879,"body_markdown":"The answer is actually right. Using the AWS Beanstalk you decided to offload a lot of maintenance details to aws, e. g. the load balancer, ssl,... and  now you are trying to force something out of box(a letsencrypt certificate). The easiest way (and included in pruce of the LB) is using the SSL of the load balancer https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-elb.html","body":"The answer is actually right. Using the AWS Beanstalk you decided to offload a lot of maintenance details to aws, e. g. the load balancer, ssl,... and  now you are trying to force something out of box(a letsencrypt certificate). The easiest way (and included in pruce of the LB) is using the SSL of the load balancer <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https-elb.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/&hellip;</a>"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1633636822,"post_id":69434723,"comment_id":122819992,"body_markdown":"ok thats makes sense, but when i get to the select certifcate the ones listed do not match the domain","body":"ok thats makes sense, but when i get to the select certifcate the ones listed do not match the domain"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1633636961,"post_id":69434723,"comment_id":122820027,"body_markdown":"Then request a certificate that is matching the  domain in the Certificate Management","body":"Then request a certificate that is matching the  domain in the Certificate Management"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1633683521,"post_id":69434723,"comment_id":122830299,"body_markdown":"okay got it working, thanks","body":"okay got it working, thanks"}],"answers":[{"tags":[],"owner":{"account_id":10260822,"reputation":1951,"user_id":7572539,"display_name":"Binh Nguyen"},"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1633687145,"creation_date":1633352960,"answer_id":69436520,"question_id":69434723,"body_markdown":"From AWS recommendation, using **ElasticBeanstalk**, the easiest way to handle the SSL is over **AWS Load Balancer**.\r\n\r\nReference: https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https.html\r\n\r\nFrom AWS, you can easily get yourself a free SSL certificate which is issued by AWS, or import your self-signed certificate into AWS ACM.\r\n\r\n - How to issue your own public SSL certificate?\r\n   https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-request-public.html\r\n - How to import your SSL certificate?\r\n   https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html\r\n\r\nIf we choose ElasticBeanstalk, AWS recommends us going with Load Balancer &amp; Auto-Scaling to leverage all of good features that provided by ElasticBeanstalk such as Blue-Green deployment model.\r\n\r\n&gt; Amazon Lightsail is a choice\r\n\r\nIf you manage your application with just a single EC2 instance under ElasticBeanstalk, I recommend using **Amazon Lightsail** which cost is much more better.\r\n\r\nReference: https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-using-lets-encrypt-certificates-with-nginx\r\n\r\n&gt; How to install SSL on a standalone EC2 instance\r\n\r\nHere is a very old post but you can see the overview of steps on doing it on a single EC2 instance.\r\nhttps://www.freecodecamp.org/news/going-https-on-amazon-ec2-ubuntu-14-04-with-lets-encrypt-certbot-on-nginx-696770649e76/","title":"How do I install LetsEncrypt SSL onto AWS Elastic Beanstalk application running Tomcat 8 with Java 8 Platform","body":"<p>From AWS recommendation, using <strong>ElasticBeanstalk</strong>, the easiest way to handle the SSL is over <strong>AWS Load Balancer</strong>.</p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/configuring-https.html</a></p>\n<p>From AWS, you can easily get yourself a free SSL certificate which is issued by AWS, or import your self-signed certificate into AWS ACM.</p>\n<ul>\n<li>How to issue your own public SSL certificate?\n<a href=\"https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-request-public.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-request-public.html</a></li>\n<li>How to import your SSL certificate?\n<a href=\"https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html</a></li>\n</ul>\n<p>If we choose ElasticBeanstalk, AWS recommends us going with Load Balancer &amp; Auto-Scaling to leverage all of good features that provided by ElasticBeanstalk such as Blue-Green deployment model.</p>\n<blockquote>\n<p>Amazon Lightsail is a choice</p>\n</blockquote>\n<p>If you manage your application with just a single EC2 instance under ElasticBeanstalk, I recommend using <strong>Amazon Lightsail</strong> which cost is much more better.</p>\n<p>Reference: <a href=\"https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-using-lets-encrypt-certificates-with-nginx\" rel=\"noreferrer\">https://lightsail.aws.amazon.com/ls/docs/en_us/articles/amazon-lightsail-using-lets-encrypt-certificates-with-nginx</a></p>\n<blockquote>\n<p>How to install SSL on a standalone EC2 instance</p>\n</blockquote>\n<p>Here is a very old post but you can see the overview of steps on doing it on a single EC2 instance.\n<a href=\"https://www.freecodecamp.org/news/going-https-on-amazon-ec2-ubuntu-14-04-with-lets-encrypt-certbot-on-nginx-696770649e76/\" rel=\"noreferrer\">https://www.freecodecamp.org/news/going-https-on-amazon-ec2-ubuntu-14-04-with-lets-encrypt-certbot-on-nginx-696770649e76/</a></p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2804,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69436520,"answer_count":1,"score":2,"last_activity_date":1633687145,"creation_date":1633344591,"question_id":69434723,"body_markdown":"I would like this website www.albunack.net to support SSL\r\n\r\nIt is installed as a Java WAR file onto AWS Elastic Beanstalk at albunack.elasticbeanstalk.com, dns (as single instance) configuration is under Route 53 control.\r\n\r\nI don&#39;t have much system admin knowledge, what is the easiest way to enable SSL for this \r\n\r\nThis is a very specific request, so I&#39;m hoping for a series of specific steps to achieve this rather than general advice.","title":"How do I install LetsEncrypt SSL onto AWS Elastic Beanstalk application running Tomcat 8 with Java 8 Platform","body":"<p>I would like this website <a href=\"http://www.albunack.net\" rel=\"nofollow noreferrer\">www.albunack.net</a> to support SSL</p>\n<p>It is installed as a Java WAR file onto AWS Elastic Beanstalk at albunack.elasticbeanstalk.com, dns (as single instance) configuration is under Route 53 control.</p>\n<p>I don't have much system admin knowledge, what is the easiest way to enable SSL for this</p>\n<p>This is a very specific request, so I'm hoping for a series of specific steps to achieve this rather than general advice.</p>\n"},{"tags":["java","gradle","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633685649,"creation_date":1633685649,"answer_id":69493682,"question_id":69493329,"body_markdown":"There&#39;s two JVM&#39;s to consider here\r\n1. Gradle&#39;s JVM\r\n2. The Application&#39;s JVM\r\n\r\nWhen you pass a &quot;-D&quot; parameter to Gradle you are setting a system property in Gradle&#39;s JVM which is not the same JVM that runs your application\r\n\r\nYou haven&#39;t said how you are running your application yet. \r\n- Are you running the application in a test case?\r\n- Are you running it via the &quot;run&quot; task from the [application plugin](https://docs.gradle.org/current/userguide/application_plugin.html)?\r\n\r\nIf you wanted to set the property during tests you&#39;d do something like\r\n```\r\ntest {\r\n   systemProperty &#39;testProfile&#39;, &#39;dockerTest&#39;\r\n}\r\n```\r\n\r\nIf you wanted to set the system property when running your application via the &quot;application&quot; plugin you&#39;d do\r\n```\r\napply plugin: &#39;application&#39;\r\n\r\nrun {\r\n   systemProperty &#39;testProfile&#39;, &#39;dockerTest&#39;\r\n}\r\n```","title":"How to get VM options in application when running gradle?","body":"<p>There's two JVM's to consider here</p>\n<ol>\n<li>Gradle's JVM</li>\n<li>The Application's JVM</li>\n</ol>\n<p>When you pass a &quot;-D&quot; parameter to Gradle you are setting a system property in Gradle's JVM which is not the same JVM that runs your application</p>\n<p>You haven't said how you are running your application yet.</p>\n<ul>\n<li>Are you running the application in a test case?</li>\n<li>Are you running it via the &quot;run&quot; task from the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">application plugin</a>?</li>\n</ul>\n<p>If you wanted to set the property during tests you'd do something like</p>\n<pre><code>test {\n   systemProperty 'testProfile', 'dockerTest'\n}\n</code></pre>\n<p>If you wanted to set the system property when running your application via the &quot;application&quot; plugin you'd do</p>\n<pre><code>apply plugin: 'application'\n\nrun {\n   systemProperty 'testProfile', 'dockerTest'\n}\n</code></pre>\n"}],"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69493682,"answer_count":1,"score":1,"last_activity_date":1633686531,"creation_date":1633684201,"question_id":69493329,"body_markdown":"I run gradle task:\r\n\r\n    gradle test -DtestProfile=dockerTest\r\n\r\nWhen I trying to get this variable from application:\r\n\r\n    System.getProperty(&quot;testProfile&quot;)\r\n\r\nI get null.\r\n\r\nHow to correctly get VM options in application?\r\n\r\nSome explains.\r\n\r\nI have some profiles for running tests in different environments. And different properties for each profile, looking like:\r\n\r\n    application-local.yml\r\n    application-test.yml\r\n    application-dockerTest.yml\r\n    ...\r\n\r\nEach environment should start their own tests depends of its profile. Than, I wrote resolver:\r\n\r\n    class TestActiveProfilesResolver : ActiveProfilesResolver {\r\n    \r\n        override fun resolve(testClass: Class&lt;*&gt;): Array&lt;String&gt; =\r\n            System.getProperty(&quot;testProfile&quot;)\r\n    }\r\n\r\nto use it here:\r\n\r\n    @ActiveProfiles(resolver = TestActiveProfilesResolver::class)\r\n\r\nAnd I want to send &#39;testProfile&#39; variable when gradle test starts, with VM variable `-DtestProfile=dockerTest`, for example.\r\n\r\nBut `System.getProperty(&quot;testProfile&quot;)` == null.","title":"How to get VM options in application when running gradle?","body":"<p>I run gradle task:</p>\n<pre><code>gradle test -DtestProfile=dockerTest\n</code></pre>\n<p>When I trying to get this variable from application:</p>\n<pre><code>System.getProperty(&quot;testProfile&quot;)\n</code></pre>\n<p>I get null.</p>\n<p>How to correctly get VM options in application?</p>\n<p>Some explains.</p>\n<p>I have some profiles for running tests in different environments. And different properties for each profile, looking like:</p>\n<pre><code>application-local.yml\napplication-test.yml\napplication-dockerTest.yml\n...\n</code></pre>\n<p>Each environment should start their own tests depends of its profile. Than, I wrote resolver:</p>\n<pre><code>class TestActiveProfilesResolver : ActiveProfilesResolver {\n\n    override fun resolve(testClass: Class&lt;*&gt;): Array&lt;String&gt; =\n        System.getProperty(&quot;testProfile&quot;)\n}\n</code></pre>\n<p>to use it here:</p>\n<pre><code>@ActiveProfiles(resolver = TestActiveProfilesResolver::class)\n</code></pre>\n<p>And I want to send 'testProfile' variable when gradle test starts, with VM variable <code>-DtestProfile=dockerTest</code>, for example.</p>\n<p>But <code>System.getProperty(&quot;testProfile&quot;)</code> == null.</p>\n"},{"tags":["java","api","maven","kotlin","pokeapi"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633686411,"creation_date":1633686411,"answer_id":69493861,"question_id":69489326,"body_markdown":"The artifact is located at Spring Plugins repository (https://repo.spring.io/plugins-release/) so you need to add it to your pom.xml as follows:\r\n```xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spring-plugins-release&lt;/id&gt;\r\n        &lt;name&gt;Spring Plugins&lt;/name&gt;\r\n        &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"Dependency &#39;me.sargunvohra.lib:pokekotlin:2.3.0&#39; not found","body":"<p>The artifact is located at Spring Plugins repository (<a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>) so you need to add it to your pom.xml as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-plugins-release&lt;/id&gt;\n        &lt;name&gt;Spring Plugins&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":22974854,"reputation":1,"user_id":17102644,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633686411,"creation_date":1633654682,"question_id":69489326,"body_markdown":"I&#39;m trying to use the PokeAPI for a Java Project. It should work, however, when I try to add the dependancy to my pom.xml, it doesn&#39;t recognise it. I have the files downloaded from the github, and have the following code in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;me.sargunvohra.lib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pokekotlin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n[files][1]\r\n\r\nBut I keep getting this error: \r\n\r\n&gt; Could not find artifact me.sargunvohra.lib:pokekotlin:pom:2.3.0 in\r\n&gt; central (https://repo.maven.apache.org/maven2)\r\n\r\n\r\nDoes anyone know how to properly add this dependency? The code below does not work when I try to use it.\r\n\r\n    PokeApi pokedex = new PokeApiClient ();\r\n    \t\t\t\tPokemonSpecies pokemon = pokedex.getPokemonSpecies (1);\r\n    \t\t\t\tSystem.out.println(pokemon);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LbKcc.png\r\n\r\nP.S. I have tried to invalidate cache and restart, that does not work either.","title":"Dependency &#39;me.sargunvohra.lib:pokekotlin:2.3.0&#39; not found","body":"<p>I'm trying to use the PokeAPI for a Java Project. It should work, however, when I try to add the dependancy to my pom.xml, it doesn't recognise it. I have the files downloaded from the github, and have the following code in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;me.sargunvohra.lib&lt;/groupId&gt;\n            &lt;artifactId&gt;pokekotlin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LbKcc.png\" rel=\"nofollow noreferrer\">files</a></p>\n<p>But I keep getting this error:</p>\n<blockquote>\n<p>Could not find artifact me.sargunvohra.lib:pokekotlin:pom:2.3.0 in\ncentral (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</blockquote>\n<p>Does anyone know how to properly add this dependency? The code below does not work when I try to use it.</p>\n<pre><code>PokeApi pokedex = new PokeApiClient ();\n                PokemonSpecies pokemon = pokedex.getPokemonSpecies (1);\n                System.out.println(pokemon);\n</code></pre>\n<p>P.S. I have tried to invalidate cache and restart, that does not work either.</p>\n"},{"tags":["javascript","java","json","spring"],"comments":[{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":1,"creation_date":1633685198,"post_id":69493476,"comment_id":122830934,"body_markdown":"What, in particular, is not working about the code you&#39;ve posted?","body":"What, in particular, is not working about the code you&#39;ve posted?"},{"owner":{"account_id":21667992,"reputation":41,"user_id":15986048,"display_name":"Daniel"},"score":0,"creation_date":1633685338,"post_id":69493476,"comment_id":122830994,"body_markdown":"When I receive in the client the date from the Json, when i try to work with it or format it, it is `Undefined`","body":"When I receive in the client the date from the Json, when i try to work with it or format it, it is <code>Undefined</code>"},{"owner":{"account_id":9921068,"reputation":12327,"user_id":7344164,"display_name":"DevLoverUmar"},"score":1,"creation_date":1633815453,"post_id":69493476,"comment_id":122862568,"body_markdown":"Hi Daniel, you can accept my answer by ticking the green Done icon if it solved your issue. Thanks","body":"Hi Daniel, you can accept my answer by ticking the green Done icon if it solved your issue. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":17235184,"reputation":99,"user_id":12478809,"display_name":"B_Joker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633685674,"creation_date":1633685674,"answer_id":69493687,"question_id":69493476,"body_markdown":"        // parse JSON to JS object, get startDate and endDate fields via object destructuring   \r\n        const {startDate, endDATE} = JSON.parse(`{\r\n            &quot;id&quot;: 151,\r\n            &quot;company&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;companyName5&quot;\r\n            },\r\n            &quot;category&quot;: &quot;Automotive&quot;,\r\n            &quot;title&quot;: &quot;Automotive&quot;,\r\n            &quot;description&quot;: &quot;Automotive&quot;,\r\n            &quot;startDate&quot;: &quot;2021-06-30&quot;,\r\n            &quot;endDate&quot;: &quot;2022-09-30&quot;,\r\n            &quot;amount&quot;: 50,\r\n            &quot;price&quot;: 50,\r\n            &quot;image&quot;: &quot;imgPath&quot;\r\n        }`);\r\n        \r\n        // instantiate Date js objects with startDate and endDate provided to Date constructor\r\n        const jsObjStartDate = new Date(startDate);\r\n        const jsObjEndDate = new Date(endDate);","title":"How to format java.sql.date to JavaScript Date received in JSON?","body":"<pre><code>    // parse JSON to JS object, get startDate and endDate fields via object destructuring   \n    const {startDate, endDATE} = JSON.parse(`{\n        &quot;id&quot;: 151,\n        &quot;company&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;companyName5&quot;\n        },\n        &quot;category&quot;: &quot;Automotive&quot;,\n        &quot;title&quot;: &quot;Automotive&quot;,\n        &quot;description&quot;: &quot;Automotive&quot;,\n        &quot;startDate&quot;: &quot;2021-06-30&quot;,\n        &quot;endDate&quot;: &quot;2022-09-30&quot;,\n        &quot;amount&quot;: 50,\n        &quot;price&quot;: 50,\n        &quot;image&quot;: &quot;imgPath&quot;\n    }`);\n    \n    // instantiate Date js objects with startDate and endDate provided to Date constructor\n    const jsObjStartDate = new Date(startDate);\n    const jsObjEndDate = new Date(endDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9921068,"reputation":12327,"user_id":7344164,"display_name":"DevLoverUmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633686373,"creation_date":1633686373,"answer_id":69493851,"question_id":69493476,"body_markdown":"You can do like this\r\n```\r\nconst startDate=&quot;2021-06-30&quot;;\r\nconst jsObjStartDate = new Date(startDate);\r\nconsole.log(jsObjStartDate);\r\nconsole.log(jsObjStartDate.toISOString().slice(0, 10)) // YYYY-MM-DD\r\nconsole.log(jsObjStartDate.toLocaleDateString(&#39;en-US&#39;)) // M/D/YYYY\r\nconsole.log(jsObjStartDate.toLocaleDateString(&#39;de-DE&#39;)) // D.M.YYYY\r\nconsole.log(jsObjStartDate.toLocaleDateString(&#39;pt-PT&#39;)) // DD/MM/YYYY\r\n```\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60609524/7344164","title":"How to format java.sql.date to JavaScript Date received in JSON?","body":"<p>You can do like this</p>\n<pre><code>const startDate=&quot;2021-06-30&quot;;\nconst jsObjStartDate = new Date(startDate);\nconsole.log(jsObjStartDate);\nconsole.log(jsObjStartDate.toISOString().slice(0, 10)) // YYYY-MM-DD\nconsole.log(jsObjStartDate.toLocaleDateString('en-US')) // M/D/YYYY\nconsole.log(jsObjStartDate.toLocaleDateString('de-DE')) // D.M.YYYY\nconsole.log(jsObjStartDate.toLocaleDateString('pt-PT')) // DD/MM/YYYY\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/60609524/7344164\">Reference</a></p>\n"}],"owner":{"account_id":21667992,"reputation":41,"user_id":15986048,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1633687853,"accepted_answer_id":69493851,"answer_count":2,"score":0,"last_activity_date":1633686373,"creation_date":1633684810,"question_id":69493476,"body_markdown":"I have this simple entity managed by spring.\r\nI would like to work with the `endDate` and `startDate` fields that I receive them in JSON format in JavaScript \r\n\r\nreceived JSON- \r\n```\r\n{\r\n    &quot;id&quot;: 151,\r\n    &quot;company&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;companyName5&quot;\r\n    },\r\n    &quot;category&quot;: &quot;Automotive&quot;,\r\n    &quot;title&quot;: &quot;Automotive&quot;,\r\n    &quot;description&quot;: &quot;Automotive&quot;,\r\n    &quot;startDate&quot;: &quot;2021-06-30&quot;,\r\n    &quot;endDate&quot;: &quot;2022-09-30&quot;,\r\n    &quot;amount&quot;: 50,\r\n    &quot;price&quot;: 50,\r\n    &quot;image&quot;: &quot;imgPath&quot;\r\n}\r\n\r\n```\r\n\r\nJava entity - \r\n```\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.JsonIdentityReference;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.*;\r\nimport javax.persistence.*;\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\n@Table(name = &quot;coupon&quot;)\r\npublic class Coupon {\r\n\r\n    // FIELDS\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;  \r\n\r\n    @ManyToOne()\r\n    @ToString.Exclude\r\n    @JsonIdentityReference(alwaysAsId = true)\r\n    @JsonIgnoreProperties({&quot;email&quot;,&quot;password&quot;,&quot;coupons&quot;})\r\n    private Company company; \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Category category; \r\n\r\n    private String title;\r\n    private String description; \r\n    private Date startDate; \r\n    private Date endDate; \r\n    private int amount; \r\n    private double price; \r\n    private String image; \r\n}\r\n```\r\nCoupon Model in JavaScript (TypeScript) \r\n\r\n```\r\nclass Coupon {\r\n    public id: number = 0; \r\n    public comapnyId:number = 0;\r\n    public category:string = &quot;&quot;;\r\n    public title:string = &quot;&quot;;\r\n    public description: string = &quot;&quot;;\r\n    public startDate: string;\r\n    public endDate: string;\r\n    public amount:number = 0;\r\n    public price:number = 0;\r\n    public image:string = &quot;&quot;;\r\n}\r\n\r\n```","title":"How to format java.sql.date to JavaScript Date received in JSON?","body":"<p>I have this simple entity managed by spring.\nI would like to work with the <code>endDate</code> and <code>startDate</code> fields that I receive them in JSON format in JavaScript</p>\n<p>received JSON-</p>\n<pre><code>{\n    &quot;id&quot;: 151,\n    &quot;company&quot;: {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;companyName5&quot;\n    },\n    &quot;category&quot;: &quot;Automotive&quot;,\n    &quot;title&quot;: &quot;Automotive&quot;,\n    &quot;description&quot;: &quot;Automotive&quot;,\n    &quot;startDate&quot;: &quot;2021-06-30&quot;,\n    &quot;endDate&quot;: &quot;2022-09-30&quot;,\n    &quot;amount&quot;: 50,\n    &quot;price&quot;: 50,\n    &quot;image&quot;: &quot;imgPath&quot;\n}\n\n</code></pre>\n<p>Java entity -</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonIdentityReference;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.*;\nimport javax.persistence.*;\nimport java.sql.Date;\n\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\n@Table(name = &quot;coupon&quot;)\npublic class Coupon {\n\n    // FIELDS\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;  \n\n    @ManyToOne()\n    @ToString.Exclude\n    @JsonIdentityReference(alwaysAsId = true)\n    @JsonIgnoreProperties({&quot;email&quot;,&quot;password&quot;,&quot;coupons&quot;})\n    private Company company; \n\n    @Enumerated(EnumType.STRING)\n    private Category category; \n\n    private String title;\n    private String description; \n    private Date startDate; \n    private Date endDate; \n    private int amount; \n    private double price; \n    private String image; \n}\n</code></pre>\n<p>Coupon Model in JavaScript (TypeScript)</p>\n<pre><code>class Coupon {\n    public id: number = 0; \n    public comapnyId:number = 0;\n    public category:string = &quot;&quot;;\n    public title:string = &quot;&quot;;\n    public description: string = &quot;&quot;;\n    public startDate: string;\n    public endDate: string;\n    public amount:number = 0;\n    public price:number = 0;\n    public image:string = &quot;&quot;;\n}\n\n</code></pre>\n"},{"tags":["java","string","constructor","calculator"],"answers":[{"tags":[],"owner":{"account_id":16057365,"reputation":65,"user_id":11589278,"display_name":"Naveed Khan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633593469,"creation_date":1633593469,"answer_id":69477421,"question_id":69476637,"body_markdown":"Are you looking for this?\r\n\r\n```\r\npublic class Calculator {\r\n\r\n    private String operation;\r\n    private float[] values;\r\n    private float answer;\r\n\r\n    /**\r\n     * Public constructor of the calculator.\r\n     */\r\n    public Calculator() {\r\n\r\n    }\r\n\r\n    /**\r\n     * Clean the internal state of the calculator\r\n     */\r\n    public void cleanOperations() {\r\n         operation = null;\r\n         values = null;\r\n         answer = 0;\r\n    }\r\n\r\n    /**\r\n     * Add a new operation to the internal state of the calculator.\r\n     * It is worth mentioning that the calculator behaves in an accumulative way ,\r\n     * thus only first operation has two operands.\r\n     * The rest of computations work with the accumulated value and only an extra\r\n     * new operand. Second input value must be ignored if the operation does not\r\n     * correspond to the first one.\r\n     *\r\n     * @param operation operation to add , as string , &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;.\r\n     * @param values    Operands of the new operation (one or two operands ).\r\n     *                  Uses the varargs feature.\r\n     *                  https :// docs.oracle.com/javase /8/ docs/technotes/guides/language/varargs.html\r\n     * @throws IllegalArgumentException If the operation does not exist.\r\n     */\r\n    public void addOperation(String operation, float... values) {\r\n        if (!(operation.equals(&quot;+&quot;) || operation.equals(&quot;-&quot;) || operation.equals(&quot;*&quot;) || operation.equals(&quot;/&quot;))) {\r\n            throw new IllegalArgumentException(operation + &quot; is not a valid operator. ( &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;)&quot;);\r\n        }\r\n        this.operation = operation;\r\n        this.values = values;\r\n    }\r\n\r\n    /**\r\n     * Execute the set of operations of the internal state of the calculator.\r\n     * Once execution is finished , internal state (operands and operations)\r\n     * is restored (EVEN if exception occurs ).\r\n     * This calculator works with &quot;Batches&quot; of operations.\r\n     *\r\n     * @return result of the execution\r\n     * @throws ArithmeticException If the operation returns an invalid value\r\n     *                             (division by zero)\r\n     */\r\n    public float executeOperations() {\r\n        switch (operation) {\r\n            case &quot;+&quot;:\r\n                if (values.length == 1) {\r\n                    answer += values[0];\r\n                } else {\r\n                    for (float value : values) {\r\n                        answer += value;\r\n                    }\r\n                }\r\n                break;\r\n            case &quot;-&quot;:\r\n                if (values.length == 1) {\r\n                    answer -= values[0];\r\n                } else if (values.length != 0) {\r\n                    answer = values[0];\r\n                    for (int i = 1; i &lt; values.length; i++) {\r\n                        answer -= values[i];\r\n                    }\r\n                }\r\n                break;\r\n            case &quot;*&quot;:\r\n                if (values.length == 1) {\r\n                    answer *= values[0];\r\n                } else if (values.length != 0) {\r\n                    answer = values[0];\r\n                    for (int i = 1; i &lt; values.length; i++) {\r\n                        answer *= values[i];\r\n                    }\r\n                }\r\n                break;\r\n            case &quot;/&quot;:\r\n                if (values.length == 1) {\r\n                    if (values[0] == 0) {\r\n                        throw new ArithmeticException(&quot;Can not divide &quot; + answer + &quot; with &quot; + values[0]);\r\n                    }\r\n                    answer /= values[0];\r\n                } else if (values.length != 0) {\r\n                    answer = values[0];\r\n                    for (int i = 1; i &lt; values.length; i++) {\r\n                        if (values[i] == 0) {\r\n                            throw new ArithmeticException(&quot;Can not divide &quot; + answer + &quot; with &quot; + values[i]);\r\n                        }\r\n                        answer /= values[i];\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return answer;\r\n    }\r\n\r\n    /**\r\n     * Current internal state of calculator is printed\r\n     * FORMAT:\r\n     * &quot;[{+/ -/&quot;/&quot;/*}] value1_value2 [{+/ -/&quot;/&quot;/*}] value1 [{+/ -/&quot;/&quot;/*}] value1 {...}&quot;\r\n     *\r\n     * @return String of the internal state of the calculator\r\n     */\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder string = new StringBuilder(&quot;values: [&quot;);\r\n        for (float value: values) {\r\n            string.append(value)\r\n                    .append(&quot; &quot;)\r\n                    .append(operation)\r\n                    .append(&quot; &quot;);\r\n        }\r\n        string.append(&quot;] answer = &quot;).append(answer);\r\n        return string.toString();\r\n    }\r\n}\r\n```","title":"Calculator with batches of operations in java","body":"<p>Are you looking for this?</p>\n<pre><code>public class Calculator {\n\n    private String operation;\n    private float[] values;\n    private float answer;\n\n    /**\n     * Public constructor of the calculator.\n     */\n    public Calculator() {\n\n    }\n\n    /**\n     * Clean the internal state of the calculator\n     */\n    public void cleanOperations() {\n         operation = null;\n         values = null;\n         answer = 0;\n    }\n\n    /**\n     * Add a new operation to the internal state of the calculator.\n     * It is worth mentioning that the calculator behaves in an accumulative way ,\n     * thus only first operation has two operands.\n     * The rest of computations work with the accumulated value and only an extra\n     * new operand. Second input value must be ignored if the operation does not\n     * correspond to the first one.\n     *\n     * @param operation operation to add , as string , &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;.\n     * @param values    Operands of the new operation (one or two operands ).\n     *                  Uses the varargs feature.\n     *                  https :// docs.oracle.com/javase /8/ docs/technotes/guides/language/varargs.html\n     * @throws IllegalArgumentException If the operation does not exist.\n     */\n    public void addOperation(String operation, float... values) {\n        if (!(operation.equals(&quot;+&quot;) || operation.equals(&quot;-&quot;) || operation.equals(&quot;*&quot;) || operation.equals(&quot;/&quot;))) {\n            throw new IllegalArgumentException(operation + &quot; is not a valid operator. ( '+', '-', '*', '/')&quot;);\n        }\n        this.operation = operation;\n        this.values = values;\n    }\n\n    /**\n     * Execute the set of operations of the internal state of the calculator.\n     * Once execution is finished , internal state (operands and operations)\n     * is restored (EVEN if exception occurs ).\n     * This calculator works with &quot;Batches&quot; of operations.\n     *\n     * @return result of the execution\n     * @throws ArithmeticException If the operation returns an invalid value\n     *                             (division by zero)\n     */\n    public float executeOperations() {\n        switch (operation) {\n            case &quot;+&quot;:\n                if (values.length == 1) {\n                    answer += values[0];\n                } else {\n                    for (float value : values) {\n                        answer += value;\n                    }\n                }\n                break;\n            case &quot;-&quot;:\n                if (values.length == 1) {\n                    answer -= values[0];\n                } else if (values.length != 0) {\n                    answer = values[0];\n                    for (int i = 1; i &lt; values.length; i++) {\n                        answer -= values[i];\n                    }\n                }\n                break;\n            case &quot;*&quot;:\n                if (values.length == 1) {\n                    answer *= values[0];\n                } else if (values.length != 0) {\n                    answer = values[0];\n                    for (int i = 1; i &lt; values.length; i++) {\n                        answer *= values[i];\n                    }\n                }\n                break;\n            case &quot;/&quot;:\n                if (values.length == 1) {\n                    if (values[0] == 0) {\n                        throw new ArithmeticException(&quot;Can not divide &quot; + answer + &quot; with &quot; + values[0]);\n                    }\n                    answer /= values[0];\n                } else if (values.length != 0) {\n                    answer = values[0];\n                    for (int i = 1; i &lt; values.length; i++) {\n                        if (values[i] == 0) {\n                            throw new ArithmeticException(&quot;Can not divide &quot; + answer + &quot; with &quot; + values[i]);\n                        }\n                        answer /= values[i];\n                    }\n                }\n                break;\n        }\n        return answer;\n    }\n\n    /**\n     * Current internal state of calculator is printed\n     * FORMAT:\n     * &quot;[{+/ -/&quot;/&quot;/*}] value1_value2 [{+/ -/&quot;/&quot;/*}] value1 [{+/ -/&quot;/&quot;/*}] value1 {...}&quot;\n     *\n     * @return String of the internal state of the calculator\n     */\n    @Override\n    public String toString() {\n        StringBuilder string = new StringBuilder(&quot;values: [&quot;);\n        for (float value: values) {\n            string.append(value)\n                    .append(&quot; &quot;)\n                    .append(operation)\n                    .append(&quot; &quot;);\n        }\n        string.append(&quot;] answer = &quot;).append(answer);\n        return string.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22876999,"reputation":56,"user_id":17033898,"display_name":"rascadux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1633685818,"creation_date":1633589621,"question_id":69476637,"body_markdown":"Need to do a java calculator which works with batches. It must take an operation and then, for the  next ones, just use the result of the previous operation as the first value of its new operation.\r\n\r\n        public class Calculator {\r\n    /**\r\n    * Public constructor of the calculator.\r\n    */\r\n    \r\n        **public Calculator () {/*...*/}**\r\n     \r\n    /**\r\n    * Clean the internal state of the calculator\r\n    */\r\n    \r\n        **public void cleanOperations () { /*...*/ }**\r\n    \r\n    /**\r\n    * Add a new operation to the internal state of the calculator.\r\n    * It is worth mentioning that the calculator behaves in an accumulative way ,\r\n    * thus only first operation has two operands.\r\n    * The rest of computations work with the accumulated value and only an extra\r\n    * new operand. Second input value must be ignored if the operation does not\r\n    * correspond to the first one.\r\n    *\r\n    * @param operation operation to add , as string , &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;.\r\n    * @param values Operands of the new operation (one or two operands ).\r\n    * Uses the varargs feature.\r\n    * https :// docs.oracle.com/javase /8/ docs/technotes/guides/language/varargs.html\r\n    * @throws IllegalArgumentException If the operation does not exist.\r\n    */\r\n    \r\n        **public void addOperation(String operation , float ... values) { /*...*/ }**\r\n    /**\r\n    \r\n    * Execute the set of operations of the internal state of the calculator.\r\n    * Once execution is finished , internal state (operands and operations)\r\n    * is restored (EVEN if exception occurs ).\r\n    * This calculator works with &quot;Batches&quot; of operations.\r\n    * @return result of the execution\r\n    * @throws ArithmeticException If the operation returns an invalid value\r\n    * (division by zero)\r\n    */\r\n    \r\n        **public float executeOperations () { /*...*/ }**\r\n    \r\n    /**\r\n    * Current internal state of calculator is printed\r\n    * FORMAT:\r\n    * &quot;[{+/ -/&quot;/&quot;/*}] value1_value2 [{+/ -/&quot;/&quot;/*}] value1 [{+/ -/&quot;/&quot;/*}] value1 {...}&quot;\r\n    * @return String of the internal state of the calculator\r\n    */\r\n    @Override\r\n    public String toString () { /* ... */ }\r\n    }\r\n\r\nSOME TEST IT SHOULD PASS:\r\n\r\n    // Add operations, calculate internal state representation (string pattern) and execute them as a single batch\r\n        calculator.addOperation(&quot;+&quot;, 4.5f, 6.8f);\r\n        calculator.addOperation(&quot;-&quot;, 3.1f);\r\n        calculator.addOperation(&quot;/&quot;, 6f);\r\n        assertEquals(&quot;[STATE:[+]4.5_6.8[-]3.1[/]6.0]&quot;, calculator.toString());\r\n        result = calculator.executeOperations();\r\n        assertEquals(&quot;[STATE:]&quot;, calculator.toString()); // state is restored\r\n        assertEquals(1.366f, result, EPSILON);//EPSILON = 0.01f\r\n\r\nAs you can see it must work by doing the first operation with 2 values but the next ones using the value stores from the one before and then execute with the operator and the value, the new operation.","title":"Calculator with batches of operations in java","body":"<p>Need to do a java calculator which works with batches. It must take an operation and then, for the  next ones, just use the result of the previous operation as the first value of its new operation.</p>\n<pre><code>    public class Calculator {\n/**\n* Public constructor of the calculator.\n*/\n\n    **public Calculator () {/*...*/}**\n \n/**\n* Clean the internal state of the calculator\n*/\n\n    **public void cleanOperations () { /*...*/ }**\n\n/**\n* Add a new operation to the internal state of the calculator.\n* It is worth mentioning that the calculator behaves in an accumulative way ,\n* thus only first operation has two operands.\n* The rest of computations work with the accumulated value and only an extra\n* new operand. Second input value must be ignored if the operation does not\n* correspond to the first one.\n*\n* @param operation operation to add , as string , &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;.\n* @param values Operands of the new operation (one or two operands ).\n* Uses the varargs feature.\n* https :// docs.oracle.com/javase /8/ docs/technotes/guides/language/varargs.html\n* @throws IllegalArgumentException If the operation does not exist.\n*/\n\n    **public void addOperation(String operation , float ... values) { /*...*/ }**\n/**\n\n* Execute the set of operations of the internal state of the calculator.\n* Once execution is finished , internal state (operands and operations)\n* is restored (EVEN if exception occurs ).\n* This calculator works with &quot;Batches&quot; of operations.\n* @return result of the execution\n* @throws ArithmeticException If the operation returns an invalid value\n* (division by zero)\n*/\n\n    **public float executeOperations () { /*...*/ }**\n\n/**\n* Current internal state of calculator is printed\n* FORMAT:\n* &quot;[{+/ -/&quot;/&quot;/*}] value1_value2 [{+/ -/&quot;/&quot;/*}] value1 [{+/ -/&quot;/&quot;/*}] value1 {...}&quot;\n* @return String of the internal state of the calculator\n*/\n@Override\npublic String toString () { /* ... */ }\n}\n</code></pre>\n<p>SOME TEST IT SHOULD PASS:</p>\n<pre><code>// Add operations, calculate internal state representation (string pattern) and execute them as a single batch\n    calculator.addOperation(&quot;+&quot;, 4.5f, 6.8f);\n    calculator.addOperation(&quot;-&quot;, 3.1f);\n    calculator.addOperation(&quot;/&quot;, 6f);\n    assertEquals(&quot;[STATE:[+]4.5_6.8[-]3.1[/]6.0]&quot;, calculator.toString());\n    result = calculator.executeOperations();\n    assertEquals(&quot;[STATE:]&quot;, calculator.toString()); // state is restored\n    assertEquals(1.366f, result, EPSILON);//EPSILON = 0.01f\n</code></pre>\n<p>As you can see it must work by doing the first operation with 2 values but the next ones using the value stores from the one before and then execute with the operator and the value, the new operation.</p>\n"},{"tags":["java","arrays","json","objectmapper"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1633684546,"post_id":69493121,"comment_id":122830663,"body_markdown":"Does this help? [How to search/find In JSON with java](https://stackoverflow.com/questions/28982412/how-to-search-find-in-json-with-java)","body":"Does this help? <a href=\"https://stackoverflow.com/questions/28982412/how-to-search-find-in-json-with-java\">How to search/find In JSON with java</a>"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633685580,"creation_date":1633685580,"answer_id":69493659,"question_id":69493121,"body_markdown":"This is pretty straightforward\r\n\r\nUse a [JSON][1] library and parse the response using the library. Then get only the values and attributes that you need...\r\n\r\nExample relevant to your case: \r\n\r\n```java\r\n// Get your Json and transform it into a JSONObject\r\n\r\nJSONObject mainObject = new JSONObject(yourJsonString); // Here is your JSON...\r\n\r\n// Get your &quot;information&quot; array\r\n\r\nJSONArray infoArray = mainObject.getJSONArray(&quot;information&quot;); // Here you have the array\r\n\r\n// Now you can go through each item of the array till you find the one you need\r\n\r\nfor(int i = 0 ; i &lt; infoArray.length(); i++)\r\n{\r\n\tJSONObject item = participantsArray.getJSONObject(i);\r\n\r\n\tfinal String type = item.getString(&quot;type&quot;);\r\n\tfinal String url = item.getString(&quot;url&quot;);\r\n\r\n\tif(type.equals(&quot;orange&quot;))\r\n\t{\r\n\t\t// DO WHATEVER YOU NEED\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json","title":"What is the best way to extract a value without having a Java Object class","body":"<p>This is pretty straightforward</p>\n<p>Use a <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">JSON</a> library and parse the response using the library. Then get only the values and attributes that you need...</p>\n<p>Example relevant to your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get your Json and transform it into a JSONObject\n\nJSONObject mainObject = new JSONObject(yourJsonString); // Here is your JSON...\n\n// Get your &quot;information&quot; array\n\nJSONArray infoArray = mainObject.getJSONArray(&quot;information&quot;); // Here you have the array\n\n// Now you can go through each item of the array till you find the one you need\n\nfor(int i = 0 ; i &lt; infoArray.length(); i++)\n{\n    JSONObject item = participantsArray.getJSONObject(i);\n\n    final String type = item.getString(&quot;type&quot;);\n    final String url = item.getString(&quot;url&quot;);\n\n    if(type.equals(&quot;orange&quot;))\n    {\n        // DO WHATEVER YOU NEED\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10919474,"reputation":319,"user_id":8026274,"accept_rate":80,"display_name":"Mikasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69493659,"answer_count":1,"score":-1,"last_activity_date":1633685580,"creation_date":1633683153,"question_id":69493121,"body_markdown":"I have a string like below\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;abc&quot;,\r\n    &quot;title&quot;: &quot;123.png&quot;,\r\n    &quot;description&quot;: &quot;fruits&quot;,\r\n    &quot;information&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;apple&quot;,\r\n            &quot;url&quot;: &quot;https://apple.com&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;orange&quot;,\r\n            &quot;url&quot;: &quot;https://orange.com&quot;\r\n        }\r\n    ],\r\n    &quot;versions&quot;: 0\r\n}\r\n```\r\n\r\nI want to get the value of `url` where `type: orange`. The list in `information` may not always be in same order as appearing in the data above. I know I could do it easily in python with `json.loads` and `json.dump`. \r\n\r\nI am trying to do it java using `JsonNode` and `objectMapper.readTree.at(&quot;/information&quot;)` but I am unable to get past this point in a clever neat way to get the list and fetch the url where type = orange.","title":"What is the best way to extract a value without having a Java Object class","body":"<p>I have a string like below</p>\n<pre><code>{\n    &quot;id&quot;: &quot;abc&quot;,\n    &quot;title&quot;: &quot;123.png&quot;,\n    &quot;description&quot;: &quot;fruits&quot;,\n    &quot;information&quot;: [\n        {\n            &quot;type&quot;: &quot;apple&quot;,\n            &quot;url&quot;: &quot;https://apple.com&quot;\n        },\n        {\n            &quot;type&quot;: &quot;orange&quot;,\n            &quot;url&quot;: &quot;https://orange.com&quot;\n        }\n    ],\n    &quot;versions&quot;: 0\n}\n</code></pre>\n<p>I want to get the value of <code>url</code> where <code>type: orange</code>. The list in <code>information</code> may not always be in same order as appearing in the data above. I know I could do it easily in python with <code>json.loads</code> and <code>json.dump</code>.</p>\n<p>I am trying to do it java using <code>JsonNode</code> and <code>objectMapper.readTree.at(&quot;/information&quot;)</code> but I am unable to get past this point in a clever neat way to get the list and fetch the url where type = orange.</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633684130,"creation_date":1633683739,"answer_id":69493245,"question_id":69493132,"body_markdown":"### TLDR:\r\nTomcat will load its own version of the servlet API, because this is required by the JavaEE specification.\r\n\r\n### The long answer\r\nJavaEE defines how classes are loaded and resolved. \r\n\r\nUsually class-loaders are *parent-first* - i.e. trying to load classes from the parent class-loader and only if that fails, they try to load the class themselves.\r\n\r\nBut web apps have a *self-first* class-loader which loads classes from itself and only if it fails then they try to load from the parent. But there are a few exceptions:\r\n* those self-first class-loaders cannot override JRE classes \r\n* and they always do &quot;parent-first&quot; loading of JavaEE classes\r\n\r\nYou can read about that in more details on the [Apache Tomcat&#39;s docs][1]\r\n\r\n\r\nAs long as the servlet api versions match there should not be any problems. But if your servlets are compiled against a different api version, for instance they are compiled using Servlet v4, but you try to use them in a Servlet v3  environment you will get runtime errors\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html","title":"How does Tomcat know which jar to choose for running a servlet?","body":"<h3>TLDR:</h3>\n<p>Tomcat will load its own version of the servlet API, because this is required by the JavaEE specification.</p>\n<h3>The long answer</h3>\n<p>JavaEE defines how classes are loaded and resolved.</p>\n<p>Usually class-loaders are <em>parent-first</em> - i.e. trying to load classes from the parent class-loader and only if that fails, they try to load the class themselves.</p>\n<p>But web apps have a <em>self-first</em> class-loader which loads classes from itself and only if it fails then they try to load from the parent. But there are a few exceptions:</p>\n<ul>\n<li>those self-first class-loaders cannot override JRE classes</li>\n<li>and they always do &quot;parent-first&quot; loading of JavaEE classes</li>\n</ul>\n<p>You can read about that in more details on the <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Apache Tomcat's docs</a></p>\n<p>As long as the servlet api versions match there should not be any problems. But if your servlets are compiled against a different api version, for instance they are compiled using Servlet v4, but you try to use them in a Servlet v3  environment you will get runtime errors</p>\n"}],"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69493245,"answer_count":1,"score":0,"last_activity_date":1633685312,"creation_date":1633683182,"question_id":69493132,"body_markdown":"In my project, **Apache Tomcat 8.5 context.xml** is configured as follows. \r\n\r\n`&lt;Context path=&quot;/helloWorld&quot;  docBase=&quot;C:\\projects\\helloWorld\\app&quot; crossContext=&quot;false&quot; debug=&quot;0&quot; reloadable=&quot;false&quot;/&gt;`\r\n\r\nC:\\projects\\helloWorld\\app has a web-inf\\lib folder which contains a **servlet.jar** along with the rest of the jars that the application needs. \r\n\r\nThis application is deployed to a Tomcat 8.5 web server and %TOMCAT_HOME%\\lib folder also contains a **servlet-api.jar**. \r\n\r\nThe application is working as expected. \r\n\r\nI have checked the two jars and servlet.jar contains the regular servlet api classes whereas tomcat&#39;s servlet-api.jar contains these regular servlet api classes along with many other servlet functionality related classes. \r\n\r\n**Query:**\r\nSince there are two jars for running a servlet viz, servlet.jar and servlet-api.jar, how does Tomcat know which jar to pick up when running a servlet? \r\n","title":"How does Tomcat know which jar to choose for running a servlet?","body":"<p>In my project, <strong>Apache Tomcat 8.5 context.xml</strong> is configured as follows.</p>\n<p><code>&lt;Context path=&quot;/helloWorld&quot;  docBase=&quot;C:\\projects\\helloWorld\\app&quot; crossContext=&quot;false&quot; debug=&quot;0&quot; reloadable=&quot;false&quot;/&gt;</code></p>\n<p>C:\\projects\\helloWorld\\app has a web-inf\\lib folder which contains a <strong>servlet.jar</strong> along with the rest of the jars that the application needs.</p>\n<p>This application is deployed to a Tomcat 8.5 web server and %TOMCAT_HOME%\\lib folder also contains a <strong>servlet-api.jar</strong>.</p>\n<p>The application is working as expected.</p>\n<p>I have checked the two jars and servlet.jar contains the regular servlet api classes whereas tomcat's servlet-api.jar contains these regular servlet api classes along with many other servlet functionality related classes.</p>\n<p><strong>Query:</strong>\nSince there are two jars for running a servlet viz, servlet.jar and servlet-api.jar, how does Tomcat know which jar to pick up when running a servlet?</p>\n"},{"tags":["java","jax-rs","undertow","jboss-weld","undertowjaxrsserver"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1633648183,"post_id":69463489,"comment_id":122822847,"body_markdown":"What version of RESTEasy are you using?","body":"What version of RESTEasy are you using?"},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1633684965,"post_id":69463489,"comment_id":122830844,"body_markdown":"I am using RestEasy 3.12.1.Final - I will edit my question","body":"I am using RestEasy 3.12.1.Final - I will edit my question"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1633708232,"post_id":69463489,"comment_id":122840148,"body_markdown":"That definitely seems odd. 3.12 will likely not see any more releases at this point. The latest release will be 5.0.0, currently at Beta1 with final coming out very soon. Is there any chance of being able to upgrade?","body":"That definitely seems odd. 3.12 will likely not see any more releases at this point. The latest release will be 5.0.0, currently at Beta1 with final coming out very soon. Is there any chance of being able to upgrade?"},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1633799889,"post_id":69463489,"comment_id":122859284,"body_markdown":"I have tried upgrading to restEasy 4.7.2.Final, but I have the same issue.. Could it come from Weld ? I tried upgrading it also (to 4.0.2.Final) , but hen when I run my test I get an exception : Receiver class org.jboss.weld.environment.undertow.WeldServletExtension does not define or inherit an implementation of the resolved method &#39;abstract void handleDeployment(io.undertow.servlet.api.DeploymentInfo, javax.servlet.ServletContext)&#39; of interface io.undertow.servlet.ServletExtension","body":"I have tried upgrading to restEasy 4.7.2.Final, but I have the same issue.. Could it come from Weld ? I tried upgrading it also (to 4.0.2.Final) , but hen when I run my test I get an exception : Receiver class org.jboss.weld.environment.undertow.WeldServletExtension does not define or inherit an implementation of the resolved method &#39;abstract void handleDeployment(io.undertow.servlet.api.DeploymentInfo, javax.servlet.ServletContext)&#39; of interface io.undertow.servlet.ServletExtension"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1633975508,"post_id":69463489,"comment_id":122897809,"body_markdown":"It definitely could be coming from Weld. It&#39;s hard to tell really.","body":"It definitely could be coming from Weld. It&#39;s hard to tell really."}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633685144,"creation_date":1633514036,"question_id":69463489,"body_markdown":"I have an JAX-RS integration test that works locally, both in IntelliJ (using Gradle to run the test) and Gradle command line .\r\n\r\nBut when I run the test in Jenkins, the test fails, with some issue during the Undertow deployment.\r\n\r\nThis is how I start the container : \r\n\r\n    public static void startContainer() throws ServletException {\r\n      System.setProperty(&quot;org.jboss.resteasy.port&quot;, &quot;8085&quot;);\r\n      server = new UndertowJaxrsServer().start();\r\n\r\n      ResteasyDeployment deployment = new ResteasyDeployment();\r\n      deployment.setInjectorFactoryClass(&quot;org.jboss.resteasy.cdi.CdiInjectorFactory&quot;);\r\n      deployment.setApplicationClass(MyApp.class.getName());\r\n      DeploymentInfo di = server.undertowDeployment(deployment);\r\n      di.setClassLoader(Server.class.getClassLoader());\r\n      di.setResourceManager(new ClassPathResourceManager(Server.class.getClassLoader()));\r\n      di.setContextPath(&quot;/vincent-service&quot;);\r\n      di.setDeploymentName(&quot;DI&quot;);\r\n      di.addListeners(Servlets.listener(org.jboss.weld.environment.servlet.Listener.class));\r\n      server.deploy(di);\r\n    }\r\n\r\nWhen the test runs in Jenkins, I get a NullPointerException : \r\n\r\n&gt; java.lang.RuntimeException: java.lang.NullPointerException \tat\r\n&gt; io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:254)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.plugins.server.undertow.UndertowJaxrsServer.deploy(UndertowJaxrsServer.java:266)\r\n\r\n...\r\n&gt; Caused by: java.lang.NullPointerException \tat\r\n&gt; org.jboss.weld.module.web.servlet.WeldInitialListener.contextInitialized(WeldInitialListener.java:94)\r\n&gt; \tat\r\n&gt; org.jboss.weld.servlet.api.helpers.ForwardingServletListener.contextInitialized(ForwardingServletListener.java:34)\r\n&gt; \tat\r\n&gt; org.jboss.weld.environment.servlet.Listener.contextInitialized(Listener.java:121)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:217)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:186)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)\r\n\r\nLooking in Weld source code (in weld-web-3.1.2.Final), it seems the exception is thrown from the last line here : \r\n\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        final ServletContext ctx = sce.getServletContext();\r\n        // First try to use the context id obtained from the servlet context (OSGi, Servlet containers, etc.)\r\n        if (beanManager == null) {\r\n            String contextId = ctx.getInitParameter(Container.CONTEXT_ID_KEY);\r\n            if (contextId != null) {\r\n                List&lt;BeanManagerImpl&gt; managers = new ArrayList&lt;BeanManagerImpl&gt;(Container.instance(contextId).beanDeploymentArchives().values());\r\n                Collections.sort(managers, BeanManagers.ID_COMPARATOR);\r\n                beanManager = managers.get(0);\r\n            }\r\n        }\r\n        // servlet containers may not be able to inject fields in a servlet listener\r\n        if (beanManager == null) {\r\n            beanManager = BeanManagerProxy.unwrap(CDI.current().getBeanManager());\r\n        }\r\n\r\nPart of the test is running though, as I can see these logs : \r\n\r\n&gt; [2021-10-06T08:44:16.016Z] [io.undertow.Undertow] [Test worker] [117]\r\n&gt; [INFO ] starting server: Undertow - 2.1.3.Final\r\n&gt; \r\n&gt; [2021-10-06T08:44:16.016Z] [org.xnio.Xnio] [Test worker] [95] [INFO ]\r\n&gt; XNIO version 3.8.0.Final\r\n&gt; \r\n&gt; [2021-10-06T08:44:16.016Z] [org.xnio.nio.NioXnio] [Test worker] [59]\r\n&gt; [INFO ] XNIO NIO Implementation Version 3.8.0.Final\r\n&gt;\r\n&gt; [2021-10-06T08:44:16.016Z] [org.jboss.threads.Version] [Test worker]\r\n&gt; [52] [INFO ] JBoss Threads version 3.1.0.Final\r\n&gt;\r\n&gt; [2021-10-06T08:44:17.017Z]\r\n&gt; [org.jboss.weld.environment.servlet.Listener] [Test worker] [115]\r\n&gt; [INFO ] WELD-ENV-001007: Initialize Weld using ServletContextListener\r\n&gt;\r\n&gt; [2021-10-06T08:44:17.017Z] [org.jboss.weld.bootstrap.WeldStartup] [Test worker] [231] [INFO ]  WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\r\n&gt;\r\n&gt; [2021-10-06T08:44:17.017Z] [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\r\n&gt; [INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\r\n&gt; org.apache.deltaspike.core.impl.exclude.extension.ExcludeExtension.vetoBeans(@Observes\r\n&gt; ProcessAnnotatedType, BeanManager) receives events for all annotated\r\n&gt; types. Consider restricting events using @WithAnnotations or a generic\r\n&gt; type with bounds. \r\n\r\n&gt; [2021-10-06T08:44:17.017Z] [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\r\n&gt; [INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] public org.apache.deltaspike.core.impl.interceptor.interdyn.InterDynExtension.processAnnotatedType(@Observes\r\n&gt; ProcessAnnotatedType) receives events for all annotated types.\r\n&gt; Consider restricting events using @WithAnnotations or a generic type\r\n&gt; with bounds.\r\n\r\n&gt; [2021-10-06T08:44:17.017Z]\r\n&gt; [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\r\n&gt; [INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\r\n&gt; org.apache.deltaspike.core.impl.message.MessageBundleExtension.detectInterfaces(@Observes\r\n&gt; ProcessAnnotatedType) receives events for all annotated types.\r\n&gt; Consider restricting events using @WithAnnotations or a generic type\r\n&gt; with bounds. \r\n\r\n&gt; [2021-10-06T08:44:17.017Z]\r\n&gt; [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\r\n&gt; [INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\r\n&gt; org.apache.deltaspike.core.impl.interceptor.GlobalInterceptorExtension.promoteInterceptors(@Observes\r\n&gt; ProcessAnnotatedType) receives events for all annotated types.\r\n&gt; Consider restricting events using @WithAnnotations or a generic type\r\n&gt; with bounds. \r\n\r\n&gt; [2021-10-06T08:44:17.017Z]\r\n&gt; [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\r\n&gt; [INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] public\r\n&gt; org.apache.deltaspike.core.impl.config.ConfigurationExtension.findDynamicConfigurationBeans(@Observes\r\n&gt; ProcessAnnotatedType&lt;?&gt;) receives events for all annotated types.\r\n&gt; Consider restricting events using @WithAnnotations or a generic type\r\n&gt; with bounds. \r\n\r\n&gt; [2021-10-06T08:44:18.018Z]\r\n&gt; [org.jboss.weld.logging.ValidatorLogger] [Test worker] [59] [WARN ]\r\n&gt; WELD-001478: Interceptor class\r\n&gt; org.apache.deltaspike.core.impl.throttling.ThrottledInterceptor is\r\n&gt; enabled for the application and for the bean archive\r\n&gt; /tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\r\n&gt; It will only be invoked in the @Priority part of the chain.\r\n&gt; \r\n&gt; [2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\r\n&gt; [Test worker] [59] [WARN ] WELD-001478: Interceptor class\r\n&gt; org.apache.deltaspike.core.impl.lock.LockedInterceptor is enabled for\r\n&gt; the application and for the bean archive\r\n&gt; /tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\r\n&gt; It will only be invoked in the @Priority part of the chain.\r\n&gt; \r\n&gt; [2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\r\n&gt; [Test worker] [59] [WARN ] WELD-001478: Interceptor class\r\n&gt; org.apache.deltaspike.core.impl.future.FutureableInterceptor is\r\n&gt; enabled for the application and for the bean archive\r\n&gt; /tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\r\n&gt; It will only be invoked in the @Priority part of the chain.\r\n&gt; \r\n&gt; [2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\r\n&gt; [Test worker] [59] [WARN ] WELD-001478: Interceptor class\r\n&gt; org.apache.deltaspike.core.impl.monitoring.InvocationMonitorInterceptor\r\n&gt; is enabled for the application and for the bean archive\r\n&gt; /tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\r\n&gt; It will only be invoked in the @Priority part of the chain.\r\n&gt; \r\n&gt; [2021-10-06T08:44:18.018Z]\r\n&gt; [org.jboss.weld.environment.undertow.UndertowContainer] [Test worker]\r\n&gt; [39] [INFO ] WELD-ENV-001302: Undertow detected, CDI injection will be\r\n&gt; available in Servlets, Filters and Listeners.\r\n&gt;\r\n&gt; [2021-10-06T08:44:19.019Z] [org.jboss.weld.bootstrap.Validator]\r\n&gt; [weld-worker-1] [200] [WARN ] WELD-001473:\r\n&gt; javax.enterprise.inject.spi.Bean implementation\r\n&gt; liquibase.integration.cdi.CDIBootstrap$1@7c73f99b declared a normal\r\n&gt; scope but does not implement\r\n&gt; javax.enterprise.inject.spi.PassivationCapable. It won&#39;t be possible\r\n&gt; to inject this bean into a bean with a passivating scope\r\n&gt; (@SessionScoped, @ConversationScoped). This can be fixed by assigning\r\n&gt; the Bean implementation a unique id by implementing the\r\n&gt; PassivationCapable interface. \r\n\r\n&gt; [2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\r\n&gt; Booting Liquibase 3.6.2 \r\n&gt; [2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT\r\n&gt; COUNT(*) FROM PUBLIC.DATABASECHANGELOGLOCK \r\n&gt; [2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT COUNT(*) FROM PUBLIC.DATABASECHANGELOGLOCK \r\n&gt;\r\n&gt;[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT\r\n&gt; LOCKED FROM PUBLIC.DATABASECHANGELOGLOCK WHERE ID=1\r\n&gt; \r\n&gt; [2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] Successfully acquired change log lock\r\n&gt; \r\n&gt; [2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT MD5SUM FROM PUBLIC.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL \r\n&gt; \r\n&gt; [2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT COUNT(*) FROM PUBLIC.DATABASECHANGELOG \r\n&gt; \r\n&gt; [2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\r\n&gt; Reading from PUBLIC.DATABASECHANGELOG \r\n&gt;\r\n&gt; [2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT * FROM PUBLIC.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC \r\n&gt;\r\n&gt; [2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\r\n&gt; Successfully released change log lock \r\n&gt;\r\n&gt; [2021-10-06T08:44:21.021Z] [io.undertow.Undertow] [Test worker] [252] [INFO ] stopping server:\r\n&gt; Undertow - 2.1.3.Final\r\n\r\nBut at some point, the exception is thrown.. \r\n\r\nAny idea of what I could check to understand why this fails only in my Jenkins environment ? \r\n \r\nI am using org.jboss.resteasy 3.12.1.Final libraries. ","title":"JAX-RS integration test with Undertow failing in Jenkins but working locally","body":"<p>I have an JAX-RS integration test that works locally, both in IntelliJ (using Gradle to run the test) and Gradle command line .</p>\n<p>But when I run the test in Jenkins, the test fails, with some issue during the Undertow deployment.</p>\n<p>This is how I start the container :</p>\n<pre><code>public static void startContainer() throws ServletException {\n  System.setProperty(&quot;org.jboss.resteasy.port&quot;, &quot;8085&quot;);\n  server = new UndertowJaxrsServer().start();\n\n  ResteasyDeployment deployment = new ResteasyDeployment();\n  deployment.setInjectorFactoryClass(&quot;org.jboss.resteasy.cdi.CdiInjectorFactory&quot;);\n  deployment.setApplicationClass(MyApp.class.getName());\n  DeploymentInfo di = server.undertowDeployment(deployment);\n  di.setClassLoader(Server.class.getClassLoader());\n  di.setResourceManager(new ClassPathResourceManager(Server.class.getClassLoader()));\n  di.setContextPath(&quot;/vincent-service&quot;);\n  di.setDeploymentName(&quot;DI&quot;);\n  di.addListeners(Servlets.listener(org.jboss.weld.environment.servlet.Listener.class));\n  server.deploy(di);\n}\n</code></pre>\n<p>When the test runs in Jenkins, I get a NullPointerException :</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.lang.NullPointerException    at\nio.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:254)\nat\norg.jboss.resteasy.plugins.server.undertow.UndertowJaxrsServer.deploy(UndertowJaxrsServer.java:266)</p>\n</blockquote>\n<p>...</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException     at\norg.jboss.weld.module.web.servlet.WeldInitialListener.contextInitialized(WeldInitialListener.java:94)\nat\norg.jboss.weld.servlet.api.helpers.ForwardingServletListener.contextInitialized(ForwardingServletListener.java:34)\nat\norg.jboss.weld.environment.servlet.Listener.contextInitialized(Listener.java:121)\nat\nio.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\nat\nio.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:217)\nat\nio.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:186)\nat\nio.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\nat\nio.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat\nio.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)</p>\n</blockquote>\n<p>Looking in Weld source code (in weld-web-3.1.2.Final), it seems the exception is thrown from the last line here :</p>\n<pre><code>@Override\npublic void contextInitialized(ServletContextEvent sce) {\n    final ServletContext ctx = sce.getServletContext();\n    // First try to use the context id obtained from the servlet context (OSGi, Servlet containers, etc.)\n    if (beanManager == null) {\n        String contextId = ctx.getInitParameter(Container.CONTEXT_ID_KEY);\n        if (contextId != null) {\n            List&lt;BeanManagerImpl&gt; managers = new ArrayList&lt;BeanManagerImpl&gt;(Container.instance(contextId).beanDeploymentArchives().values());\n            Collections.sort(managers, BeanManagers.ID_COMPARATOR);\n            beanManager = managers.get(0);\n        }\n    }\n    // servlet containers may not be able to inject fields in a servlet listener\n    if (beanManager == null) {\n        beanManager = BeanManagerProxy.unwrap(CDI.current().getBeanManager());\n    }\n</code></pre>\n<p>Part of the test is running though, as I can see these logs :</p>\n<blockquote>\n<p>[2021-10-06T08:44:16.016Z] [io.undertow.Undertow] [Test worker] [117]\n[INFO ] starting server: Undertow - 2.1.3.Final</p>\n<p>[2021-10-06T08:44:16.016Z] [org.xnio.Xnio] [Test worker] [95] [INFO ]\nXNIO version 3.8.0.Final</p>\n<p>[2021-10-06T08:44:16.016Z] [org.xnio.nio.NioXnio] [Test worker] [59]\n[INFO ] XNIO NIO Implementation Version 3.8.0.Final</p>\n<p>[2021-10-06T08:44:16.016Z] [org.jboss.threads.Version] [Test worker]\n[52] [INFO ] JBoss Threads version 3.1.0.Final</p>\n<p>[2021-10-06T08:44:17.017Z]\n[org.jboss.weld.environment.servlet.Listener] [Test worker] [115]\n[INFO ] WELD-ENV-001007: Initialize Weld using ServletContextListener</p>\n<p>[2021-10-06T08:44:17.017Z] [org.jboss.weld.bootstrap.WeldStartup] [Test worker] [231] [INFO ]  WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.</p>\n<p>[2021-10-06T08:44:17.017Z] [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\n[INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\norg.apache.deltaspike.core.impl.exclude.extension.ExcludeExtension.vetoBeans(@Observes\nProcessAnnotatedType, BeanManager) receives events for all annotated\ntypes. Consider restricting events using @WithAnnotations or a generic\ntype with bounds.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:17.017Z] [org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\n[INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] public org.apache.deltaspike.core.impl.interceptor.interdyn.InterDynExtension.processAnnotatedType(@Observes\nProcessAnnotatedType) receives events for all annotated types.\nConsider restricting events using @WithAnnotations or a generic type\nwith bounds.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:17.017Z]\n[org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\n[INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\norg.apache.deltaspike.core.impl.message.MessageBundleExtension.detectInterfaces(@Observes\nProcessAnnotatedType) receives events for all annotated types.\nConsider restricting events using @WithAnnotations or a generic type\nwith bounds.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:17.017Z]\n[org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\n[INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] protected\norg.apache.deltaspike.core.impl.interceptor.GlobalInterceptorExtension.promoteInterceptors(@Observes\nProcessAnnotatedType) receives events for all annotated types.\nConsider restricting events using @WithAnnotations or a generic type\nwith bounds.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:17.017Z]\n[org.jboss.weld.event.ExtensionObserverMethodImpl] [Test worker] [86]\n[INFO ] WELD-000411: Observer method [BackedAnnotatedMethod] public\norg.apache.deltaspike.core.impl.config.ConfigurationExtension.findDynamicConfigurationBeans(@Observes\nProcessAnnotatedType&lt;?&gt;) receives events for all annotated types.\nConsider restricting events using @WithAnnotations or a generic type\nwith bounds.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:18.018Z]\n[org.jboss.weld.logging.ValidatorLogger] [Test worker] [59] [WARN ]\nWELD-001478: Interceptor class\norg.apache.deltaspike.core.impl.throttling.ThrottledInterceptor is\nenabled for the application and for the bean archive\n/tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\nIt will only be invoked in the @Priority part of the chain.</p>\n<p>[2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\n[Test worker] [59] [WARN ] WELD-001478: Interceptor class\norg.apache.deltaspike.core.impl.lock.LockedInterceptor is enabled for\nthe application and for the bean archive\n/tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\nIt will only be invoked in the @Priority part of the chain.</p>\n<p>[2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\n[Test worker] [59] [WARN ] WELD-001478: Interceptor class\norg.apache.deltaspike.core.impl.future.FutureableInterceptor is\nenabled for the application and for the bean archive\n/tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\nIt will only be invoked in the @Priority part of the chain.</p>\n<p>[2021-10-06T08:44:18.018Z] [org.jboss.weld.logging.ValidatorLogger]\n[Test worker] [59] [WARN ] WELD-001478: Interceptor class\norg.apache.deltaspike.core.impl.monitoring.InvocationMonitorInterceptor\nis enabled for the application and for the bean archive\n/tankkarte-service_/var/jenkins_home/.gradle/caches/modules-2/files-2.1/org.apache.deltaspike.core/deltaspike-core-impl/1.9.4/709e0b27bb80e52fcd6a886a216ca3f9c2b8c28/deltaspike-core-impl-1.9.4.jar.\nIt will only be invoked in the @Priority part of the chain.</p>\n<p>[2021-10-06T08:44:18.018Z]\n[org.jboss.weld.environment.undertow.UndertowContainer] [Test worker]\n[39] [INFO ] WELD-ENV-001302: Undertow detected, CDI injection will be\navailable in Servlets, Filters and Listeners.</p>\n<p>[2021-10-06T08:44:19.019Z] [org.jboss.weld.bootstrap.Validator]\n[weld-worker-1] [200] [WARN ] WELD-001473:\njavax.enterprise.inject.spi.Bean implementation\nliquibase.integration.cdi.CDIBootstrap$1@7c73f99b declared a normal\nscope but does not implement\njavax.enterprise.inject.spi.PassivationCapable. It won't be possible\nto inject this bean into a bean with a passivating scope\n(@SessionScoped, @ConversationScoped). This can be fixed by assigning\nthe Bean implementation a unique id by implementing the\nPassivationCapable interface.</p>\n</blockquote>\n<blockquote>\n<p>[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\nBooting Liquibase 3.6.2\n[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT\nCOUNT(<em>) FROM PUBLIC.DATABASECHANGELOGLOCK\n[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT COUNT(</em>) FROM PUBLIC.DATABASECHANGELOGLOCK</p>\n<p>[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT\nLOCKED FROM PUBLIC.DATABASECHANGELOGLOCK WHERE ID=1</p>\n<p>[2021-10-06T08:44:20.020Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] Successfully acquired change log lock</p>\n<p>[2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT MD5SUM FROM PUBLIC.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL</p>\n<p>[2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT COUNT(*) FROM PUBLIC.DATABASECHANGELOG</p>\n<p>[2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\nReading from PUBLIC.DATABASECHANGELOG</p>\n<p>[2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ] SELECT * FROM PUBLIC.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC</p>\n<p>[2021-10-06T08:44:21.021Z] [liquibase.logging.core.Slf4jLogger] [Test worker] [42] [INFO ]\nSuccessfully released change log lock</p>\n<p>[2021-10-06T08:44:21.021Z] [io.undertow.Undertow] [Test worker] [252] [INFO ] stopping server:\nUndertow - 2.1.3.Final</p>\n</blockquote>\n<p>But at some point, the exception is thrown..</p>\n<p>Any idea of what I could check to understand why this fails only in my Jenkins environment ?</p>\n<p>I am using org.jboss.resteasy 3.12.1.Final libraries.</p>\n"},{"tags":["java","maven","build","interop","kotlin"],"comments":[{"owner":{"account_id":6179462,"reputation":112,"user_id":4815429,"display_name":"ThrowingSpoon"},"score":1,"creation_date":1494852986,"post_id":43980110,"comment_id":74989184,"body_markdown":"Please show us `MyClassLinkingKotlin.java` particularly line 100 (I think its [line,col])","body":"Please show us <code>MyClassLinkingKotlin.java</code> particularly line 100 (I think its [line,col])"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1494853106,"post_id":43980110,"comment_id":74989278,"body_markdown":"Added to the question.","body":"Added to the question."},{"owner":{"account_id":465230,"reputation":22171,"user_id":869184,"accept_rate":40,"display_name":"Ilya"},"score":0,"creation_date":1494889444,"post_id":43980110,"comment_id":75009226,"body_markdown":"Possible duplicate of [Error trying to instantiate a Kotlin class from Java](http://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java\">Error trying to instantiate a Kotlin class from Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1494858275,"creation_date":1494858275,"answer_id":43981979,"question_id":43980110,"body_markdown":"Your Maven configuration adds the Kotlin compiler plugin, but doesn&#39;t adjust the Java compiler plugin execution so that the Java compiler runs after the Kotlin compiler. Therefore, the Java compiler runs before Kotlin, and doesn&#39;t see Kotlin-compiled classes.\r\n\r\nHere&#39;s a snippet showing the correct configuration for a mixed-language project (taken from [the documentation](http://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources)):\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Using Kotlin class in Java: Cannot find symbol","body":"<p>Your Maven configuration adds the Kotlin compiler plugin, but doesn't adjust the Java compiler plugin execution so that the Java compiler runs after the Kotlin compiler. Therefore, the Java compiler runs before Kotlin, and doesn't see Kotlin-compiled classes.</p>\n\n<p>Here's a snippet showing the correct configuration for a mixed-language project (taken from <a href=\"http://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"noreferrer\">the documentation</a>):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497041319,"creation_date":1497041319,"answer_id":44466470,"question_id":43980110,"body_markdown":"I ran into this same error, but had the correct pom setup. My issue was that I had just converted a Java class to a Kotlin class with Intellij, which left that Kotlin file in `src/main/java`.\r\n\r\nThe solution for me was to create a `src/main/kotlin` and move my Kotlin class there, and leave my Java files in `src/main/java`. But you do definitely need the maven setup that @yole&#39;s answer shows.","title":"Using Kotlin class in Java: Cannot find symbol","body":"<p>I ran into this same error, but had the correct pom setup. My issue was that I had just converted a Java class to a Kotlin class with Intellij, which left that Kotlin file in <code>src/main/java</code>.</p>\n\n<p>The solution for me was to create a <code>src/main/kotlin</code> and move my Kotlin class there, and leave my Java files in <code>src/main/java</code>. But you do definitely need the maven setup that @yole's answer shows.</p>\n"},{"tags":[],"owner":{"account_id":3569155,"reputation":3306,"user_id":2979955,"display_name":"Chris Sprague"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1586382340,"creation_date":1586382340,"answer_id":61110556,"question_id":43980110,"body_markdown":"If you are using Android Studio and have already added the Kotlin plugins via Settings -&gt; Plugins -&gt; Kotlin, then it could be that you haven&#39;t setup the rest of Gradle to use Kotlin. Here&#39;s a snippet from https://medium.com/@elye.project/setup-kotlin-for-android-studio-1bffdf1362e8:\r\n\r\nStep 1: Setup the Kotlin Plugin in Android Studio\r\n\r\n&gt; Android Studio → Preferences… →Plugins → Browse Repository → type\r\n&gt; “Kotlin” in search box → install\r\n\r\nStep 2:  Add Kotlin classpath to project Build.Gradle\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &quot;1.1.1&quot;\r\n        ext.supportLibVersion = &quot;25.3.0&quot;\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.3.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version&quot;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\nStep 3: Add Kotlin library and apply Kotlin Plugins in your module Build.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    \r\n    android {\r\n        // ... various gradle setup\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &quot;com.android.support:appcompat-v7:$supportLibVersion&quot;\r\n        compile &quot;com.android.support:recyclerview-v7:$supportLibVersion&quot;\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    }","title":"Using Kotlin class in Java: Cannot find symbol","body":"<p>If you are using Android Studio and have already added the Kotlin plugins via Settings -> Plugins -> Kotlin, then it could be that you haven't setup the rest of Gradle to use Kotlin. Here's a snippet from <a href=\"https://medium.com/@elye.project/setup-kotlin-for-android-studio-1bffdf1362e8\" rel=\"noreferrer\">https://medium.com/@elye.project/setup-kotlin-for-android-studio-1bffdf1362e8</a>:</p>\n\n<p>Step 1: Setup the Kotlin Plugin in Android Studio</p>\n\n<blockquote>\n  <p>Android Studio → Preferences… →Plugins → Browse Repository → type\n  “Kotlin” in search box → install</p>\n</blockquote>\n\n<p>Step 2:  Add Kotlin classpath to project Build.Gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = \"1.1.1\"\n    ext.supportLibVersion = \"25.3.0\"\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n\n<p>Step 3: Add Kotlin library and apply Kotlin Plugins in your module Build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    // ... various gradle setup\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile \"com.android.support:appcompat-v7:$supportLibVersion\"\n    compile \"com.android.support:recyclerview-v7:$supportLibVersion\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633684443,"creation_date":1633684443,"answer_id":69493372,"question_id":43980110,"body_markdown":"If anyone is using Plain Java project with `Gradle` instead of `Maven` then change your module gradle file as follows:\r\n\r\nSay you have following plugin in your module:\r\n\r\n    apply plugin: &#39;java-library&#39;\r\n\r\nIf you wanna have kotlin plugin then add kotlin plugin before java plugin:\r\n\r\n    apply plugin: &#39;kotlin&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n\r\nReasson is \r\n\r\n&gt; Your configuration adds the Kotlin compiler plugin, but doesn&#39;t adjust\r\n&gt; the Java compiler plugin execution so that the Java compiler runs\r\n&gt; after the Kotlin compiler. Therefore, the Java compiler runs before\r\n&gt; Kotlin, and doesn&#39;t see Kotlin-compiled classes.\r\n\r\nas explained by [@yole][1] in answers\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43981979/5636313","title":"Using Kotlin class in Java: Cannot find symbol","body":"<p>If anyone is using Plain Java project with <code>Gradle</code> instead of <code>Maven</code> then change your module gradle file as follows:</p>\n<p>Say you have following plugin in your module:</p>\n<pre><code>apply plugin: 'java-library'\n</code></pre>\n<p>If you wanna have kotlin plugin then add kotlin plugin before java plugin:</p>\n<pre><code>apply plugin: 'kotlin'\napply plugin: 'java-library'\n</code></pre>\n<p>Reasson is</p>\n<blockquote>\n<p>Your configuration adds the Kotlin compiler plugin, but doesn't adjust\nthe Java compiler plugin execution so that the Java compiler runs\nafter the Kotlin compiler. Therefore, the Java compiler runs before\nKotlin, and doesn't see Kotlin-compiled classes.</p>\n</blockquote>\n<p>as explained by <a href=\"https://stackoverflow.com/a/43981979/5636313\">@yole</a> in answers</p>\n"}],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43822,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":43981979,"answer_count":4,"score":72,"last_activity_date":1633684443,"creation_date":1494852845,"question_id":43980110,"body_markdown":"I have found [this][1] similar question regarding Android, but I am using plain Java with Maven as build tool. I think it is better to post a new question.\r\n\r\nI have created a Kotlin class to which I am trying to refer from Java class as `MyKotlinClass.class`. The Maven build fails, whereas compilation in IntelliJ Idea works fine. I have already added Kotlin plugin to maven:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nHowever that does not help:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project app: Compilation failure\r\n    [ERROR] MyClassLinkingKotlin.java:[100,40] error: cannot find symbol\r\n\r\n\r\nThe line/column exactly refers to symbol `MyKotlinClass.class`. It will fail even when using like this:\r\n\r\n    System.err.println(MyKotlinClass.class)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37946305/how-to-solve-error-cannot-find-symbol-class-after-converting-java-class","title":"Using Kotlin class in Java: Cannot find symbol","body":"<p>I have found <a href=\"https://stackoverflow.com/questions/37946305/how-to-solve-error-cannot-find-symbol-class-after-converting-java-class\">this</a> similar question regarding Android, but I am using plain Java with Maven as build tool. I think it is better to post a new question.</p>\n\n<p>I have created a Kotlin class to which I am trying to refer from Java class as <code>MyKotlinClass.class</code>. The Maven build fails, whereas compilation in IntelliJ Idea works fine. I have already added Kotlin plugin to maven:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>However that does not help:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project app: Compilation failure\n[ERROR] MyClassLinkingKotlin.java:[100,40] error: cannot find symbol\n</code></pre>\n\n<p>The line/column exactly refers to symbol <code>MyKotlinClass.class</code>. It will fail even when using like this:</p>\n\n<pre><code>System.err.println(MyKotlinClass.class)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633606556,"post_id":69480412,"comment_id":122807585,"body_markdown":"don&#39;t store &#39;age&#39;, store a birth date and calculate age. If you do store age, store it as an int, not a String. guestList[j] will result in something like {&quot;value 1&quot;, &quot;5&quot;}, how do you think of converting that to an int?","body":"don&#39;t store &#39;age&#39;, store a birth date and calculate age. If you do store age, store it as an int, not a String. guestList[j] will result in something like {&quot;value 1&quot;, &quot;5&quot;}, how do you think of converting that to an int?"},{"owner":{"account_id":21863404,"reputation":13,"user_id":16153930,"display_name":"toxette"},"score":0,"creation_date":1633606923,"post_id":69480412,"comment_id":122807704,"body_markdown":"@Stultuske I can&#39;t change the way the array is listed. I&#39;m following a structure.","body":"@Stultuske I can&#39;t change the way the array is listed. I&#39;m following a structure."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633606958,"post_id":69480412,"comment_id":122807718,"body_markdown":"then you still need to access the data correctly, which currently, you&#39;re not doing.","body":"then you still need to access the data correctly, which currently, you&#39;re not doing."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633607201,"creation_date":1633607201,"answer_id":69480587,"question_id":69480412,"body_markdown":"You do not need inner loop. You have fixed structure where the age is always at index `1` of your inner array.\r\n\r\nSo you need to iterate over the outer array and sum up elements of each inner array at the index `1`.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\r\n            {&quot;Berta Bson&quot;, &quot;70&quot;},\r\n            {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\r\n    int adultGuests = 0;\r\n    int childGuests = 0;\r\n\r\n    for (int i = 0; i &lt; guestList.length; i++)\r\n    {\r\n        if (Integer.valueOf(guestList[i][1]) &lt;= 18){\r\n            childGuests += 1;\r\n        }\r\n        else {\r\n            adultGuests += 1;\r\n        }\r\n\r\n    }\r\n```","title":"Comparing a string element in a 2d array to an int","body":"<p>You do not need inner loop. You have fixed structure where the age is always at index <code>1</code> of your inner array.</p>\n<p>So you need to iterate over the outer array and sum up elements of each inner array at the index <code>1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\n            {&quot;Berta Bson&quot;, &quot;70&quot;},\n            {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\n    int adultGuests = 0;\n    int childGuests = 0;\n\n    for (int i = 0; i &lt; guestList.length; i++)\n    {\n        if (Integer.valueOf(guestList[i][1]) &lt;= 18){\n            childGuests += 1;\n        }\n        else {\n            adultGuests += 1;\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633607230,"creation_date":1633607230,"answer_id":69480594,"question_id":69480412,"body_markdown":"You have a 2 dimensional array, i.e. an array of arrays, each inner array representing a guest. You don&#39;t need a nested loop to calculate the count of adults and non adults but check for each inner array the integer value of the second element (at index 1):\r\n\r\n    int tempAge;\r\n    int adultGuests = 0;\r\n    int childGuests = 0;\r\n\r\n    for (int i = 0; i &lt; guestList.length; i++)\r\n    {\r\n        tempAge = Integer.parseInt(String.valueOf(guestList[i][1]));\r\n        if (tempAge &lt;= 18)\r\n        {\r\n            childGuests += 1;\r\n        }\r\n        else\r\n        {\r\n            adultGuests += 1;\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Adult guests: &quot; + adultGuests);\r\n    System.out.println(&quot;Children guests: &quot; + childGuests);","title":"Comparing a string element in a 2d array to an int","body":"<p>You have a 2 dimensional array, i.e. an array of arrays, each inner array representing a guest. You don't need a nested loop to calculate the count of adults and non adults but check for each inner array the integer value of the second element (at index 1):</p>\n<pre><code>int tempAge;\nint adultGuests = 0;\nint childGuests = 0;\n\nfor (int i = 0; i &lt; guestList.length; i++)\n{\n    tempAge = Integer.parseInt(String.valueOf(guestList[i][1]));\n    if (tempAge &lt;= 18)\n    {\n        childGuests += 1;\n    }\n    else\n    {\n        adultGuests += 1;\n    }\n}\n\nSystem.out.println(&quot;Adult guests: &quot; + adultGuests);\nSystem.out.println(&quot;Children guests: &quot; + childGuests);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633607343,"creation_date":1633607343,"answer_id":69480620,"question_id":69480412,"body_markdown":"    String[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\r\n                    {&quot;Berta Bson&quot;, &quot;70&quot;},\r\n                    {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\r\n\r\nThis is your data. If you execute: \r\n\r\n    guestList[0];\r\n\r\nThe data that is returned is \r\n\r\n    {&quot;Adam Ason&quot;, &quot;35&quot;}\r\n\r\nand it is data like this you are trying to convert to an int, which is impossible.\r\n\r\nThis is your current code, with one important remark.\r\n\r\n    int tempAge;\r\n    int adultGuests = 0;\r\n    int childGuests = 0;\r\n    \r\n    for (int i = 0; i &lt; guestList.length; i++) {\r\n         for (int j = 0; j &lt; guestList.length; j++)  { // there is no need for this inner loop.\r\n             tempAge = Integer.parseInt(String.valueOf(guestList[j]));\r\n             if (tempAge &lt;= 18) {\r\n                 childGuests += 1;\r\n             } else {\r\n                 adultGuests += 1;\r\n             }\r\n         }\r\n    }\r\n    \r\n    System.out.println(&quot;Adult guests: &quot; + adultGuests);\r\n    System.out.println(&quot;Children guests: &quot; + childGuests);\r\n\r\nSimplifying your code like this, and using proper indices for a 2D array, should do the trick\r\n\r\n    int tempAge;\r\n    int adultGuests = 0;\r\n    int childGuests = 0;\r\n    \r\n    for (int i = 0; i &lt; guestList.length; i++) {\r\n     tempAge = Integer.parseInt(String.valueOf(guestList[i][1])); // the age is always at index 1\r\n             if (tempAge &lt;= 18) { childGuests += 1; }\r\n             else { adultGuests += 1; }\r\n         \r\n    }\r\n    \r\n    System.out.println(&quot;Adult guests: &quot; + adultGuests);\r\n    System.out.println(&quot;Children guests: &quot; + childGuests);","title":"Comparing a string element in a 2d array to an int","body":"<pre><code>String[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\n                {&quot;Berta Bson&quot;, &quot;70&quot;},\n                {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\n</code></pre>\n<p>This is your data. If you execute:</p>\n<pre><code>guestList[0];\n</code></pre>\n<p>The data that is returned is</p>\n<pre><code>{&quot;Adam Ason&quot;, &quot;35&quot;}\n</code></pre>\n<p>and it is data like this you are trying to convert to an int, which is impossible.</p>\n<p>This is your current code, with one important remark.</p>\n<pre><code>int tempAge;\nint adultGuests = 0;\nint childGuests = 0;\n\nfor (int i = 0; i &lt; guestList.length; i++) {\n     for (int j = 0; j &lt; guestList.length; j++)  { // there is no need for this inner loop.\n         tempAge = Integer.parseInt(String.valueOf(guestList[j]));\n         if (tempAge &lt;= 18) {\n             childGuests += 1;\n         } else {\n             adultGuests += 1;\n         }\n     }\n}\n\nSystem.out.println(&quot;Adult guests: &quot; + adultGuests);\nSystem.out.println(&quot;Children guests: &quot; + childGuests);\n</code></pre>\n<p>Simplifying your code like this, and using proper indices for a 2D array, should do the trick</p>\n<pre><code>int tempAge;\nint adultGuests = 0;\nint childGuests = 0;\n\nfor (int i = 0; i &lt; guestList.length; i++) {\n tempAge = Integer.parseInt(String.valueOf(guestList[i][1])); // the age is always at index 1\n         if (tempAge &lt;= 18) { childGuests += 1; }\n         else { adultGuests += 1; }\n     \n}\n\nSystem.out.println(&quot;Adult guests: &quot; + adultGuests);\nSystem.out.println(&quot;Children guests: &quot; + childGuests);\n</code></pre>\n"}],"owner":{"account_id":21863404,"reputation":13,"user_id":16153930,"display_name":"toxette"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633684174,"creation_date":1633606444,"question_id":69480412,"body_markdown":"I&#39;m having trouble navigating 2d arrays. Let&#39;s say I&#39;m using this string array:\r\n\r\n```\r\nString[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\r\n                {&quot;Berta Bson&quot;, &quot;70&quot;},\r\n                {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\r\n```\r\nand I want to compare the age of each guest to 18 to determine if they are an adult or not, and print it, how would I go about it? So far I&#39;ve tried:\r\n\r\n```\r\nint tempAge;\r\nint adultGuests = 0;\r\nint childGuests = 0;\r\n\r\nfor (int i = 0; i &lt; guestList.length; i++)\r\n{\r\n     for (int j = 0; j &lt; guestList.length; j++)\r\n     {\r\n         tempAge = Integer.parseInt(String.valueOf(guestList[j]));\r\n         if (tempAge &lt;= 18)\r\n         {\r\n             childGuests += 1;\r\n         }\r\n         else\r\n         {\r\n             adultGuests += 1;\r\n         }\r\n     }\r\n}\r\n\r\nSystem.out.println(&quot;Adult guests: &quot; + adultGuests);\r\nSystem.out.println(&quot;Children guests: &quot; + childGuests);\r\n  \r\n```\r\nIntellij tells me to wrap the ((guestList[j])) in String.*valueOf* but regardless if I do or not, I get the following result:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;[Ljava.lang.String;@5d22bbb7&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n        at test2.main(test2.java:20)\r\n```","title":"Comparing a string element in a 2d array to an int","body":"<p>I'm having trouble navigating 2d arrays. Let's say I'm using this string array:</p>\n<pre><code>String[][] guestList = {{&quot;Adam Ason&quot;, &quot;35&quot;},\n                {&quot;Berta Bson&quot;, &quot;70&quot;},\n                {&quot;Ceasar Cson&quot;, &quot;12&quot;}};\n</code></pre>\n<p>and I want to compare the age of each guest to 18 to determine if they are an adult or not, and print it, how would I go about it? So far I've tried:</p>\n<pre><code>int tempAge;\nint adultGuests = 0;\nint childGuests = 0;\n\nfor (int i = 0; i &lt; guestList.length; i++)\n{\n     for (int j = 0; j &lt; guestList.length; j++)\n     {\n         tempAge = Integer.parseInt(String.valueOf(guestList[j]));\n         if (tempAge &lt;= 18)\n         {\n             childGuests += 1;\n         }\n         else\n         {\n             adultGuests += 1;\n         }\n     }\n}\n\nSystem.out.println(&quot;Adult guests: &quot; + adultGuests);\nSystem.out.println(&quot;Children guests: &quot; + childGuests);\n  \n</code></pre>\n<p>Intellij tells me to wrap the ((guestList[j])) in String.<em>valueOf</em> but regardless if I do or not, I get the following result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;[Ljava.lang.String;@5d22bbb7&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at test2.main(test2.java:20)\n</code></pre>\n"},{"tags":["java","arrays","eclipse","java.util.scanner"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633627100,"post_id":69484876,"comment_id":122816612,"body_markdown":"You might want to look at the source of `java.util.ArrayList` - particularly the `remove()` method.","body":"You might want to look at the source of <code>java.util.ArrayList</code> - particularly the <code>remove()</code> method."},{"owner":{"display_name":"user16854661"},"score":0,"creation_date":1633627245,"post_id":69484876,"comment_id":122816656,"body_markdown":"I&#39;m not allowed to use an Array List the project is about Partially Filled Arrays.","body":"I&#39;m not allowed to use an Array List the project is about Partially Filled Arrays."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633629234,"post_id":69484876,"comment_id":122817334,"body_markdown":"Yes, but you can read the source code to see how things are done.","body":"Yes, but you can read the source code to see how things are done."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633648744,"creation_date":1633626276,"answer_id":69485174,"question_id":69484876,"body_markdown":"With the line `bag[i] = bag[--capacity];` you are basically getting the last item in your array and place it in the location of the deleted one.\r\n\r\nGiven that you are using `int[]` (instead of `Integer[]`) we can&#39;t assign an index of the array as `null`. The best we can do is assigning it `-1` or create a new array.\r\n\r\nI decided to create a new array from scratch. The following will do the trick.\r\n\r\n```java\r\npublic class IntBag2 {\r\n    private static final int INITIAL_SIZE = 20;\r\n    private static int[] bag;\r\n    private int capacity;\r\n\r\n    public IntBag2() {\r\n        bag = new int[INITIAL_SIZE];\r\n    }\r\n\r\n    public IntBag2(int capacity) {\r\n        bag = new int[capacity];\r\n    }\r\n\r\n    public boolean add(int item) {\r\n        if (capacity == bag.length)\r\n            return false;\r\n\r\n        bag[capacity++] = item;\r\n\r\n        return true;\r\n    }\r\n\r\n    public boolean delete(int item) {\r\n        int[] newBag = new int[capacity];\r\n        int newCapacity = capacity;\r\n        boolean deleted = false;\r\n        for (int i = 0, j = 0; i &lt; capacity; i++) {\r\n            if (bag[i] == item &amp;&amp; !deleted) {\r\n                deleted = true;\r\n                newCapacity = capacity - 1;\r\n            } else {\r\n                newBag[j++] = bag[i];\r\n            }\r\n        }\r\n\r\n        bag = newBag;\r\n        capacity = newCapacity;\r\n        return deleted;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String result = &quot;Bag: &quot;;\r\n        for (int i = 0; i &lt; capacity; i++)\r\n            result += bag[i] + &quot; &quot;;\r\n        return result;\r\n    }\r\n}\r\n```","title":"How to delete an item in the array and keeping the order the same?","body":"<p>With the line <code>bag[i] = bag[--capacity];</code> you are basically getting the last item in your array and place it in the location of the deleted one.</p>\n<p>Given that you are using <code>int[]</code> (instead of <code>Integer[]</code>) we can't assign an index of the array as <code>null</code>. The best we can do is assigning it <code>-1</code> or create a new array.</p>\n<p>I decided to create a new array from scratch. The following will do the trick.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntBag2 {\n    private static final int INITIAL_SIZE = 20;\n    private static int[] bag;\n    private int capacity;\n\n    public IntBag2() {\n        bag = new int[INITIAL_SIZE];\n    }\n\n    public IntBag2(int capacity) {\n        bag = new int[capacity];\n    }\n\n    public boolean add(int item) {\n        if (capacity == bag.length)\n            return false;\n\n        bag[capacity++] = item;\n\n        return true;\n    }\n\n    public boolean delete(int item) {\n        int[] newBag = new int[capacity];\n        int newCapacity = capacity;\n        boolean deleted = false;\n        for (int i = 0, j = 0; i &lt; capacity; i++) {\n            if (bag[i] == item &amp;&amp; !deleted) {\n                deleted = true;\n                newCapacity = capacity - 1;\n            } else {\n                newBag[j++] = bag[i];\n            }\n        }\n\n        bag = newBag;\n        capacity = newCapacity;\n        return deleted;\n    }\n\n    @Override\n    public String toString() {\n        String result = &quot;Bag: &quot;;\n        for (int i = 0; i &lt; capacity; i++)\n            result += bag[i] + &quot; &quot;;\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633684141,"creation_date":1633644013,"answer_id":69488319,"question_id":69484876,"body_markdown":"A simpler implementation of `delete` is possible allowing to &quot;delete&quot; _all_ entries in the array equal to the given `item` and shift the remaining ones to the front efficiently:\r\n```java\r\npublic boolean delete(int item) {\r\n    System.out.println(&quot;deleting &quot; + item); // for debug purposes\r\n    int oldCapacity = capacity;\r\n    for (int i = 0, j = 0; i &lt; oldCapacity; i++) {\r\n        if (bag[i] != item) {\r\n            bag[j++] = bag[i];\r\n        } else {\r\n            capacity--;\r\n        }\r\n    }\r\n    System.out.println(&quot;new capacity = &quot; + capacity); // for debug\r\n\r\n    // or use Arrays.fill(bag, capacity, oldCapacity, -1); instead of the loop\r\n    for (int i = capacity; i &lt; oldCapacity; i++) {\r\n        bag[i] = -1; // mark free entries with -1 in the tail\r\n    }\r\n\r\n    return oldCapacity == capacity;\r\n}\r\n```\r\nAlso, method `toString` should use `StringBuilder` if multiple concatenation are used in loop, or for brevity the following method `print` using utility methods from `Arrays` may be implemented:\r\n```java\r\npublic void print() {\r\n    System.out.println(Arrays.toString(Arrays.copyOf(bag, capacity)));\r\n}\r\n```\r\nTest:\r\n```java\r\nIntBag ibag = new IntBag(10);\r\nibag.add(1);\r\nibag.add(3);\r\nibag.add(3);\r\nibag.add(2);\r\nibag.add(1);\r\nibag.print();\r\nibag.delete(2);\r\nibag.print();\r\nibag.delete(1);\r\nibag.print();\r\n```\r\nOutput:\r\n```\r\n[1, 3, 3, 2, 1]\r\ndeleting 2\r\nnew capacity = 4\r\n[1, 3, 3, 1]\r\ndeleting 1\r\nnew capacity = 2\r\n[3, 3]\r\n```\r\n----\r\n**Update**\r\n\r\n&quot;Deletion&quot; of only the first entry without creation of new array may be implemented as follows:\r\n* skip all elements until `item` is detected or end of `bag` is reached\r\n* if `item` found, shift the remaining elements by 1, write -1 to the last element, return `true`\r\n* return `false` otherwise\r\n```java\r\npublic boolean deleteFirst(int item) {\r\n    System.out.println(&quot;deleting first &quot; + item);\r\n    int id = 0;\r\n    while (id &lt; capacity &amp;&amp; bag[id] != item) id++;\r\n    if (id &lt; capacity &amp;&amp; bag[id] == item) {\r\n        while (++id &lt; capacity) {\r\n            bag[id - 1] = bag[id];\r\n        }\r\n        bag[--capacity] = -1;\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\nTest:\r\n```java\r\nIntBag ibag = new IntBag(10);\r\nibag.add(1); ibag.add(3); ibag.add(1); ibag.add(2); ibag.add(1);\r\nibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\n```\r\nOutput:\r\n```\r\n[1, 3, 1, 2, 1]\r\ndeleting first 1\r\n[3, 1, 2, 1]\r\ndeleting first 1\r\n[3, 2, 1]\r\ndeleting first 1\r\n[3, 2]\r\n```","title":"How to delete an item in the array and keeping the order the same?","body":"<p>A simpler implementation of <code>delete</code> is possible allowing to &quot;delete&quot; <em>all</em> entries in the array equal to the given <code>item</code> and shift the remaining ones to the front efficiently:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean delete(int item) {\n    System.out.println(&quot;deleting &quot; + item); // for debug purposes\n    int oldCapacity = capacity;\n    for (int i = 0, j = 0; i &lt; oldCapacity; i++) {\n        if (bag[i] != item) {\n            bag[j++] = bag[i];\n        } else {\n            capacity--;\n        }\n    }\n    System.out.println(&quot;new capacity = &quot; + capacity); // for debug\n\n    // or use Arrays.fill(bag, capacity, oldCapacity, -1); instead of the loop\n    for (int i = capacity; i &lt; oldCapacity; i++) {\n        bag[i] = -1; // mark free entries with -1 in the tail\n    }\n\n    return oldCapacity == capacity;\n}\n</code></pre>\n<p>Also, method <code>toString</code> should use <code>StringBuilder</code> if multiple concatenation are used in loop, or for brevity the following method <code>print</code> using utility methods from <code>Arrays</code> may be implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void print() {\n    System.out.println(Arrays.toString(Arrays.copyOf(bag, capacity)));\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBag ibag = new IntBag(10);\nibag.add(1);\nibag.add(3);\nibag.add(3);\nibag.add(2);\nibag.add(1);\nibag.print();\nibag.delete(2);\nibag.print();\nibag.delete(1);\nibag.print();\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 3, 3, 2, 1]\ndeleting 2\nnew capacity = 4\n[1, 3, 3, 1]\ndeleting 1\nnew capacity = 2\n[3, 3]\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>&quot;Deletion&quot; of only the first entry without creation of new array may be implemented as follows:</p>\n<ul>\n<li>skip all elements until <code>item</code> is detected or end of <code>bag</code> is reached</li>\n<li>if <code>item</code> found, shift the remaining elements by 1, write -1 to the last element, return <code>true</code></li>\n<li>return <code>false</code> otherwise</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean deleteFirst(int item) {\n    System.out.println(&quot;deleting first &quot; + item);\n    int id = 0;\n    while (id &lt; capacity &amp;&amp; bag[id] != item) id++;\n    if (id &lt; capacity &amp;&amp; bag[id] == item) {\n        while (++id &lt; capacity) {\n            bag[id - 1] = bag[id];\n        }\n        bag[--capacity] = -1;\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBag ibag = new IntBag(10);\nibag.add(1); ibag.add(3); ibag.add(1); ibag.add(2); ibag.add(1);\nibag.print();\nibag.deleteFirst(1); ibag.print();\nibag.deleteFirst(1); ibag.print();\nibag.deleteFirst(1); ibag.print();\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 3, 1, 2, 1]\ndeleting first 1\n[3, 1, 2, 1]\ndeleting first 1\n[3, 2, 1]\ndeleting first 1\n[3, 2]\n</code></pre>\n"}],"owner":{"display_name":"user16854661"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69488319,"answer_count":2,"score":1,"last_activity_date":1633684141,"creation_date":1633624942,"question_id":69484876,"body_markdown":"I&#39;m working on this project that allows me to add and delete elements In the array. When I delete elements in the array there would be a zero in that space and the code should shift the values after the deleted value to take its place. For Example: In the Array {1, 2, 3, 4, 5}. I choose to delete 3. My output should be {1, 2, 4, 5}. Instead my output is {1, 2, 5, 4}. Could someone help me figure out why it would do that? And how to rectify it?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class IntBag2 {\r\n\tprivate static final int INITIAL_SIZE = 20;\r\n\tprivate static int[] bag;\r\n\tprivate int capacity;\r\n\r\n\tpublic IntBag2() {\r\n\t\tbag = new int[INITIAL_SIZE];\r\n\t}\r\n\r\n\tpublic IntBag2(int capacity) {\r\n\t\tbag = new int[capacity];\r\n\t}\r\n\r\n\tpublic boolean add(int item) {\r\n\t\tif (capacity == bag.length)\r\n\t\t\treturn false;\r\n\r\n\t\tbag[capacity++] = item;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic boolean delete(int item) {\r\n\t\tfor (int i = 0; i &lt; capacity; i++) {\r\n\t\t\tif (bag[i] == item) {\r\n\t\t\t\tbag[i] = bag[--capacity];\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\tString result = &quot;Bag: &quot;;\r\n\t\tfor (int i = 0; i &lt; capacity; i++)\r\n\t\t\tresult += bag[i] + &quot; &quot;;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tIntBag2 intBag = new IntBag2();\r\n\t\tboolean done = false;\r\n\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;1. Add an Item to the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Delete an item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;3. toString&quot;);\r\n\t\t\tswitch (input.nextInt()) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Add an Item to the Array&quot;);\r\n\t\t\t\tSystem.out.println(intBag.add(input.nextInt()));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Delete Item of Array&quot;);\r\n\t\t\t\tSystem.out.println(intBag.delete(input.nextInt()));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;toString&quot;);\r\n\t\t\t\tSystem.out.println(intBag.toString());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n","title":"How to delete an item in the array and keeping the order the same?","body":"<p>I'm working on this project that allows me to add and delete elements In the array. When I delete elements in the array there would be a zero in that space and the code should shift the values after the deleted value to take its place. For Example: In the Array {1, 2, 3, 4, 5}. I choose to delete 3. My output should be {1, 2, 4, 5}. Instead my output is {1, 2, 5, 4}. Could someone help me figure out why it would do that? And how to rectify it?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class IntBag2 {\n    private static final int INITIAL_SIZE = 20;\n    private static int[] bag;\n    private int capacity;\n\n    public IntBag2() {\n        bag = new int[INITIAL_SIZE];\n    }\n\n    public IntBag2(int capacity) {\n        bag = new int[capacity];\n    }\n\n    public boolean add(int item) {\n        if (capacity == bag.length)\n            return false;\n\n        bag[capacity++] = item;\n\n        return true;\n    }\n\n    public boolean delete(int item) {\n        for (int i = 0; i &lt; capacity; i++) {\n            if (bag[i] == item) {\n                bag[i] = bag[--capacity];\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        String result = &quot;Bag: &quot;;\n        for (int i = 0; i &lt; capacity; i++)\n            result += bag[i] + &quot; &quot;;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        IntBag2 intBag = new IntBag2();\n        boolean done = false;\n\n        while (!done) {\n            System.out.println(&quot;1. Add an Item to the Array&quot;);\n            System.out.println(&quot;2. Delete an item in the Array&quot;);\n            System.out.println(&quot;3. toString&quot;);\n            switch (input.nextInt()) {\n            case 1:\n                System.out.println(&quot;Add an Item to the Array&quot;);\n                System.out.println(intBag.add(input.nextInt()));\n                break;\n            case 2:\n                System.out.println(&quot;Delete Item of Array&quot;);\n                System.out.println(intBag.delete(input.nextInt()));\n                break;\n            case 3:\n                System.out.println(&quot;toString&quot;);\n                System.out.println(intBag.toString());\n                break;\n            }\n        }\n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1633677596,"post_id":69491242,"comment_id":122828227,"body_markdown":"Please add a failing test-case the expected output, the actual output and debug-information.","body":"Please add a failing test-case the expected output, the actual output and debug-information."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633683546,"creation_date":1633683546,"answer_id":69493201,"question_id":69491242,"body_markdown":"Here is a solution that uses a stack of StringBuilders and a current StringBuilder.\r\n\r\nWhen a `(` is read, the current StringBuilder is pushed onto the stack and a new StringBuilder is created.\r\n\r\nWhen a `)` is read, the multiplier `mul` is extracted, and the value of the current StringBuilder is appended `mul` times to the StringBuilder popped from the stack.\r\n\r\nOtherwhise, append the char to the current StringBuilder.\r\n\r\n``` lang-java\r\nimport java.util.Stack;\r\n\r\npublic class Expand\r\n{\r\n\tpublic static String expand(String pattern)\r\n\t{\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tStack&lt;StringBuilder&gt; stack = new Stack&lt;StringBuilder&gt;();\r\n\t\tint len = pattern.length();\r\n\t\tint i = 0;\r\n\t\twhile(i&lt;len)\r\n\t\t{\r\n\t\t\tchar c = pattern.charAt(i);\r\n\t\t\tif(c==&#39;(&#39;)\r\n\t\t\t{\r\n\t\t\t\tstack.push(sb);\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t}\r\n\t\t\telse if(c==&#39;)&#39;)\r\n\t\t\t{\r\n\t\t\t\tString s = sb.toString();\r\n\t\t\t\tint k = pattern.indexOf(&#39;}&#39;, i);\r\n\t\t\t\tint mul = Integer.parseInt(pattern.substring(i+2, k));\r\n\t\t\t\tsb = stack.pop();\r\n\t\t\t\tfor(int j=0;j&lt;mul;j++)\r\n\t\t\t\t\tsb.append(s);\r\n\t\t\t\ti = k;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tsb.append(c);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tSystem.out.println(expand(&quot;(ab(d){3}){2}&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nabdddabddd\r\n```\r\n","title":"Expand string broken up into repeated, nested components","body":"<p>Here is a solution that uses a stack of StringBuilders and a current StringBuilder.</p>\n<p>When a <code>(</code> is read, the current StringBuilder is pushed onto the stack and a new StringBuilder is created.</p>\n<p>When a <code>)</code> is read, the multiplier <code>mul</code> is extracted, and the value of the current StringBuilder is appended <code>mul</code> times to the StringBuilder popped from the stack.</p>\n<p>Otherwhise, append the char to the current StringBuilder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Stack;\n\npublic class Expand\n{\n    public static String expand(String pattern)\n    {\n        StringBuilder sb = new StringBuilder();\n        Stack&lt;StringBuilder&gt; stack = new Stack&lt;StringBuilder&gt;();\n        int len = pattern.length();\n        int i = 0;\n        while(i&lt;len)\n        {\n            char c = pattern.charAt(i);\n            if(c=='(')\n            {\n                stack.push(sb);\n                sb = new StringBuilder();\n            }\n            else if(c==')')\n            {\n                String s = sb.toString();\n                int k = pattern.indexOf('}', i);\n                int mul = Integer.parseInt(pattern.substring(i+2, k));\n                sb = stack.pop();\n                for(int j=0;j&lt;mul;j++)\n                    sb.append(s);\n                i = k;\n            }\n            else\n                sb.append(c);\n            i++;\n        }\n        return sb.toString();\n    }\n\n    public static void main(String[] args) \n    {\n        System.out.println(expand(&quot;(ab(d){3}){2}&quot;));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abdddabddd\n</code></pre>\n"}],"owner":{"account_id":17675249,"reputation":155,"user_id":12830338,"display_name":"anon comp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633687452,"accepted_answer_id":69493201,"answer_count":1,"score":-1,"last_activity_date":1633684039,"creation_date":1633673444,"question_id":69491242,"body_markdown":"I&#39;m working on a problem, where given a string with substrings in paranthesis followed by values in curly brackets, the string expands by repeating the substring that number of times. So if you had (ab(d){3}){2} you&#39;d get abdddabddd. \r\n\r\nI feel like Im on the right track but that 1. this is pretty inefficient and 2. the tests seem to not return. Would love some help! \r\n\r\n    public class ExpandedString {\r\n        public static String expandedString(String inputStr) {\r\n            while (inputStr.contains(&quot;(&quot;)) {\r\n                for (int i = 0; i &lt; inputStr.length(); i++) {\r\n                    //check if there&#39;s something to repeat\r\n                    if (inputStr.charAt(i) == &#39;{&#39;) {\r\n                        int temp = i;\r\n                        //find what you need to repeat\r\n                        while (inputStr.charAt(temp) != &#39;(&#39;) {\r\n                            temp--;\r\n                        }\r\n                        String inputStr2 = inputStr.substring(i);\r\n                        int numTimes = i + inputStr.indexOf(&quot;}&quot;);\r\n                        //replace (blah) with blah times repeated numTimes\r\n                        StringBuilder repeated = new StringBuilder(); \r\n                        for(int j = 0; j&lt;numTimes;j++) {\r\n                        \trepeated.append(inputStr.substring(temp + 1, i - 1));\r\n                        }\r\n                        inputStr.replace(inputStr.substring(temp, i), repeated.toString());\r\n                        //start again\r\n                        i = 0;\r\n                    }\r\n                }\r\n            }\r\n            return inputStr;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n    \r\n            // input for inputStr\r\n            String inputStr = in .nextLine();\r\n    \r\n            String result = expandedString(inputStr);\r\n            System.out.print(result);\r\n    \r\n        }\r\n    }","title":"Expand string broken up into repeated, nested components","body":"<p>I'm working on a problem, where given a string with substrings in paranthesis followed by values in curly brackets, the string expands by repeating the substring that number of times. So if you had (ab(d){3}){2} you'd get abdddabddd.</p>\n<p>I feel like Im on the right track but that 1. this is pretty inefficient and 2. the tests seem to not return. Would love some help!</p>\n<pre><code>public class ExpandedString {\n    public static String expandedString(String inputStr) {\n        while (inputStr.contains(&quot;(&quot;)) {\n            for (int i = 0; i &lt; inputStr.length(); i++) {\n                //check if there's something to repeat\n                if (inputStr.charAt(i) == '{') {\n                    int temp = i;\n                    //find what you need to repeat\n                    while (inputStr.charAt(temp) != '(') {\n                        temp--;\n                    }\n                    String inputStr2 = inputStr.substring(i);\n                    int numTimes = i + inputStr.indexOf(&quot;}&quot;);\n                    //replace (blah) with blah times repeated numTimes\n                    StringBuilder repeated = new StringBuilder(); \n                    for(int j = 0; j&lt;numTimes;j++) {\n                        repeated.append(inputStr.substring(temp + 1, i - 1));\n                    }\n                    inputStr.replace(inputStr.substring(temp, i), repeated.toString());\n                    //start again\n                    i = 0;\n                }\n            }\n        }\n        return inputStr;\n    }\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        // input for inputStr\n        String inputStr = in .nextLine();\n\n        String result = expandedString(inputStr);\n        System.out.print(result);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","ibm-midrange","jtopen"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634011106,"post_id":69493165,"comment_id":122905245,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3766501,"reputation":9,"user_id":3129894,"display_name":"ALFelix"},"score":0,"creation_date":1634109662,"post_id":69493165,"comment_id":122934619,"body_markdown":"I dont have any code... I cant figure out how to do this... In a normal situation i use putty or a command line to create the connection and tinnels and the just execute an ACS 5250 session... I want to do the same with Java but the application does not seam to be able to use the connection and tunnels i created... In this case i cant find any info on how to do this... Sorry... Thanks....","body":"I dont have any code... I cant figure out how to do this... In a normal situation i use putty or a command line to create the connection and tinnels and the just execute an ACS 5250 session... I want to do the same with Java but the application does not seam to be able to use the connection and tunnels i created... In this case i cant find any info on how to do this... Sorry... Thanks...."}],"owner":{"account_id":3766501,"reputation":9,"user_id":3129894,"display_name":"ALFelix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1633683346,"creation_date":1633683346,"question_id":69493165,"body_markdown":"I work with several IBM i systems. One of them needs me to set an SSH connection before opening an 5250 session. I use the command: ssh -i Keys_rsa L 50023:localhost:23 USER@HOST and after open a 5250 session pointing to IP 127.0.0.1 and it works... But i have a java program that gets some data from the server that cant connect. I need an example of connecting and setting ports. I use JTOpen/JT400 **AS400** object but i think i need to move to a **SecureAS400** object... Can anyone help?","title":"How to connect with SecureAS400 using SSL/SSH working example","body":"<p>I work with several IBM i systems. One of them needs me to set an SSH connection before opening an 5250 session. I use the command: ssh -i Keys_rsa L 50023:localhost:23 USER@HOST and after open a 5250 session pointing to IP 127.0.0.1 and it works... But i have a java program that gets some data from the server that cant connect. I need an example of connecting and setting ports. I use JTOpen/JT400 <strong>AS400</strong> object but i think i need to move to a <strong>SecureAS400</strong> object... Can anyone help?</p>\n"},{"tags":["java","android","text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":19386688,"reputation":23,"user_id":14176266,"display_name":"user14176266"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633683341,"creation_date":1633683341,"answer_id":69493163,"question_id":69490780,"body_markdown":"I think tts.speak() act faster than tts.onInitListener  \r\nSo I add handler.postDelay. Now It&#39;s working !! ","title":"TTS engine : speak failed: TTS engine connection not fully set up","body":"<p>I think tts.speak() act faster than tts.onInitListener<br />\nSo I add handler.postDelay. Now It's working !!</p>\n"}],"owner":{"account_id":19386688,"reputation":23,"user_id":14176266,"display_name":"user14176266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633683341,"creation_date":1633669843,"question_id":69490780,"body_markdown":"I&#39;m trying to use android google tts . And it worked really fine when it was first page to start but when I changed it to second page. The tts is not working and I don&#39;t know how \r\nI&#39;ve already done\r\n```\r\n&lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.TTS_SERVICE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n``` \r\nadding this in the manifest and all the other permission\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\nThis is my OnInitListener \r\n```\r\n    private TextToSpeech.OnInitListener ttsInitListener = new TextToSpeech.OnInitListener() //시작할떄 사용되는 listnenr\r\n    {\r\n        @Override\r\n        public void onInit(int status)\r\n        {\r\n            if (status == TextToSpeech.SUCCESS) {\r\n                _tts.setOnUtteranceProgressListener(completedListener);\r\n            }\r\n            else{\r\n                return;\r\n            }\r\n\r\n\r\n        }\r\n    };\r\n```\r\n\r\nI don&#39;t know what&#39;s wrong with my code!!! TT\r\n\r\n++ add)\r\nIs it because of the AsyncTask?\r\nI change MainActivity to other activity \r\nThat&#39;s why tts is not bound? ","title":"TTS engine : speak failed: TTS engine connection not fully set up","body":"<p>I'm trying to use android google tts . And it worked really fine when it was first page to start but when I changed it to second page. The tts is not working and I don't know how\nI've already done</p>\n<pre><code>&lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.TTS_SERVICE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n</code></pre>\n<p>adding this in the manifest and all the other permission</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>This is my OnInitListener</p>\n<pre><code>    private TextToSpeech.OnInitListener ttsInitListener = new TextToSpeech.OnInitListener() //시작할떄 사용되는 listnenr\n    {\n        @Override\n        public void onInit(int status)\n        {\n            if (status == TextToSpeech.SUCCESS) {\n                _tts.setOnUtteranceProgressListener(completedListener);\n            }\n            else{\n                return;\n            }\n\n\n        }\n    };\n</code></pre>\n<p>I don't know what's wrong with my code!!! TT</p>\n<p>++ add)\nIs it because of the AsyncTask?\nI change MainActivity to other activity\nThat's why tts is not bound?</p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1633620004,"post_id":69483474,"comment_id":122813691,"body_markdown":"Related: https://stackoverflow.com/questions/63399831, https://stackoverflow.com/questions/34211080","body":"Related: <a href=\"https://stackoverflow.com/questions/63399831\">stackoverflow.com/questions/63399831</a>, <a href=\"https://stackoverflow.com/questions/34211080\">stackoverflow.com/questions/34211080</a>"}],"answers":[{"tags":[],"owner":{"account_id":13404321,"reputation":438,"user_id":9672799,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633622954,"creation_date":1633622954,"answer_id":69484451,"question_id":69483474,"body_markdown":"You can create a varargs method with your try/catch that loops through each CompletableFuture and invokes completeExceptionally().\r\n\r\n```\r\nstatic void completeFutures(CompletableFuture&lt;?&gt;... completableFutures) throws ExecutionException {\r\n\t\ttry {\r\n\t\t\tCompletableFuture.allOf(completableFutures).get(1, TimeUnit.MILLISECONDS);\r\n\t\t} catch (final InterruptedException e) {\r\n\t\t\tThread.currentThread().interrupt();\r\n\t\t} catch (final TimeoutException e) {\r\n\t\t\tfor (CompletableFuture&lt;?&gt; cf : completableFutures) {\r\n\t\t\t\tcf.completeExceptionally(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"How to safely cancel all pending futures after timing out on allOf()","body":"<p>You can create a varargs method with your try/catch that loops through each CompletableFuture and invokes completeExceptionally().</p>\n<pre><code>static void completeFutures(CompletableFuture&lt;?&gt;... completableFutures) throws ExecutionException {\n        try {\n            CompletableFuture.allOf(completableFutures).get(1, TimeUnit.MILLISECONDS);\n        } catch (final InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } catch (final TimeoutException e) {\n            for (CompletableFuture&lt;?&gt; cf : completableFutures) {\n                cf.completeExceptionally(e);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69484451,"answer_count":1,"score":0,"last_activity_date":1633682893,"creation_date":1633619136,"question_id":69483474,"body_markdown":"I am trying to refactor code that sequentially waits on multiple futures to complete, to instead jointly wait for completion.\r\n\r\nSo I try to wait on multiple futures with a single timeout by using\r\n\r\n```\r\n// Example outcomes\r\nfinal CompletableFuture&lt;String&gt; completedFuture\r\n    = CompletableFuture.completedFuture(&quot;hello&quot;);\r\nfinal CompletableFuture&lt;String&gt; failedFuture\r\n    = new CompletableFuture&lt;&gt;();\r\nfailedFuture.completeExceptionally(new RuntimeException(&quot;Test Stub Exception&quot;));\r\nfinal CompletableFuture&lt;String&gt; incompleteFuture\r\n    = new CompletableFuture&lt;&gt;();\r\n\r\nfinal AtomicBoolean timeoutHandled = new AtomicBoolean(false);\r\nfinal CompletableFuture&lt;String&gt; checkedFuture\r\n    = incompleteFuture.whenComplete(\r\n         (x, e) -&gt; timeoutHandled.set(e instanceof TimeoutException));\r\n\r\n// this example timeouts after 1ms\r\ntry {\r\n    CompletableFuture\r\n        .allOf(completedFuture, checkedFuture, failedFuture)\r\n        .get(1, TimeUnit.MILLISECONDS);\r\n} catch (final InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n} catch (final TimeoutException e) {\r\n    // probably do something here?\r\n}\r\n\r\n// but the incomplete future is still pending\r\nassertTrue(checkedFuture.isCompletedExceptionally());\r\n// this still fails even if checkedFuture.completeExceptionally(e) is called\r\nassertTrue(timeoutHandled.get());\r\n```\r\n\r\nHowever the assert above fails because while the collective future timed out, the individual future did not time out yet. I would like to cancel such individual futures the same way as if they had run into timeouts individually, because they might have individual whenComplete() handlers handling TimeoutExceptions:\r\n```\r\nExpecting\r\n  &lt;CompletableFuture[Incomplete]&gt;\r\nto be completed exceptionally.\r\n```\r\n\r\nIs there a useful/safe pattern by which I can loop over all exceptions and invoke completeExceptionally() to simulate a timeout in each of the futures, and make sure all &quot;exception handlers&quot; have been invoked before moving on?\r\n","title":"How to safely cancel all pending futures after timing out on allOf()","body":"<p>I am trying to refactor code that sequentially waits on multiple futures to complete, to instead jointly wait for completion.</p>\n<p>So I try to wait on multiple futures with a single timeout by using</p>\n<pre><code>// Example outcomes\nfinal CompletableFuture&lt;String&gt; completedFuture\n    = CompletableFuture.completedFuture(&quot;hello&quot;);\nfinal CompletableFuture&lt;String&gt; failedFuture\n    = new CompletableFuture&lt;&gt;();\nfailedFuture.completeExceptionally(new RuntimeException(&quot;Test Stub Exception&quot;));\nfinal CompletableFuture&lt;String&gt; incompleteFuture\n    = new CompletableFuture&lt;&gt;();\n\nfinal AtomicBoolean timeoutHandled = new AtomicBoolean(false);\nfinal CompletableFuture&lt;String&gt; checkedFuture\n    = incompleteFuture.whenComplete(\n         (x, e) -&gt; timeoutHandled.set(e instanceof TimeoutException));\n\n// this example timeouts after 1ms\ntry {\n    CompletableFuture\n        .allOf(completedFuture, checkedFuture, failedFuture)\n        .get(1, TimeUnit.MILLISECONDS);\n} catch (final InterruptedException e) {\n    Thread.currentThread().interrupt();\n} catch (final TimeoutException e) {\n    // probably do something here?\n}\n\n// but the incomplete future is still pending\nassertTrue(checkedFuture.isCompletedExceptionally());\n// this still fails even if checkedFuture.completeExceptionally(e) is called\nassertTrue(timeoutHandled.get());\n</code></pre>\n<p>However the assert above fails because while the collective future timed out, the individual future did not time out yet. I would like to cancel such individual futures the same way as if they had run into timeouts individually, because they might have individual whenComplete() handlers handling TimeoutExceptions:</p>\n<pre><code>Expecting\n  &lt;CompletableFuture[Incomplete]&gt;\nto be completed exceptionally.\n</code></pre>\n<p>Is there a useful/safe pattern by which I can loop over all exceptions and invoke completeExceptionally() to simulate a timeout in each of the futures, and make sure all &quot;exception handlers&quot; have been invoked before moving on?</p>\n"},{"tags":["java","arrays","json","jsonparser"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1633650765,"post_id":69488861,"comment_id":122823244,"body_markdown":"You’re using Gson? Can you switch to Jackson?","body":"You’re using Gson? Can you switch to Jackson?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1633650898,"post_id":69488861,"comment_id":122823272,"body_markdown":"In fact, please edit your question to provide a [mcve].","body":"In fact, please edit your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633682758,"creation_date":1633649940,"answer_id":69488911,"question_id":69488861,"body_markdown":"The correct way to fix this is to change the service that returns such a JSON. It makes no sense to either return a `List` or a single object for the attribute `family`. This is complexifying what should be simple.\r\nWhy not returning always a `List`, that may happen to include a single object? \r\n\r\nIf this is not possible, then you will need all sorts of Jackson deserialization features to make this work. And why? Simply because the service that you are consuming is badly designed. ","title":"Check whether json attribute is a list or an object in java","body":"<p>The correct way to fix this is to change the service that returns such a JSON. It makes no sense to either return a <code>List</code> or a single object for the attribute <code>family</code>. This is complexifying what should be simple.\nWhy not returning always a <code>List</code>, that may happen to include a single object?</p>\n<p>If this is not possible, then you will need all sorts of Jackson deserialization features to make this work. And why? Simply because the service that you are consuming is badly designed.</p>\n"},{"tags":[],"owner":{"account_id":2380555,"reputation":63040,"user_id":2082673,"display_name":"dave"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633651224,"creation_date":1633650852,"answer_id":69489000,"question_id":69488861,"body_markdown":"Assuming you are using Jackson, you can use [ACCEPT_SINGLE_VALUE_AS_ARRAY](http://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n\r\n    final ObjectMapper mapper = new ObjectMapper()\r\n        .enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n\r\nIf using GSON, something like\r\n\r\n    JSONObject response=new JSONObject(res);\r\n    if(res.get(&quot;family&quot;) instanceOf JSONObject) {\r\n        // code for JSONObject\r\n    } else if(res.get(&quot;family&quot;) instanceOf JSONArray) {\r\n        // code for JSONOArray\r\n    }","title":"Check whether json attribute is a list or an object in java","body":"<p>Assuming you are using Jackson, you can use <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\">ACCEPT_SINGLE_VALUE_AS_ARRAY</a></p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper()\n    .enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n</code></pre>\n<p>If using GSON, something like</p>\n<pre><code>JSONObject response=new JSONObject(res);\nif(res.get(&quot;family&quot;) instanceOf JSONObject) {\n    // code for JSONObject\n} else if(res.get(&quot;family&quot;) instanceOf JSONArray) {\n    // code for JSONOArray\n}\n</code></pre>\n"}],"owner":{"account_id":15960002,"reputation":11,"user_id":13622063,"display_name":"Romeu Carvalho Antunes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1633682758,"creation_date":1633649493,"question_id":69488861,"body_markdown":"I want to convert JSON returned from a service into a java object class. However, I get two types in the same JSON attribute and with that I get the following error `Expected begin array but it was begin object`. How to test before parsing JSON for my java class? Example of a JSON below:\r\n\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;ROMEU&quot;,\r\n  &quot;age&quot;: &quot;24&quot;,\r\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\r\n  &quot;family&quot;: [\r\n    {\r\n      &quot;kinship&quot;: &quot;brother&quot;,\r\n      &quot;age&quot;: &quot;20&quot;\r\n    },\r\n    {\r\n      &quot;kinship&quot;: &quot;sister&quot;,\r\n      &quot;age&quot;: &quot;25&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;ROMEU&quot;,\r\n  &quot;age&quot;: &quot;24&quot;,\r\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\r\n  &quot;family&quot;: {\r\n    &quot;kinship&quot;: &quot;mother&quot;,\r\n    &quot;age&quot;: &quot;20&quot;\r\n  }\r\n} \r\n```","title":"Check whether json attribute is a list or an object in java","body":"<p>I want to convert JSON returned from a service into a java object class. However, I get two types in the same JSON attribute and with that I get the following error <code>Expected begin array but it was begin object</code>. How to test before parsing JSON for my java class? Example of a JSON below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;ROMEU&quot;,\n  &quot;age&quot;: &quot;24&quot;,\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\n  &quot;family&quot;: [\n    {\n      &quot;kinship&quot;: &quot;brother&quot;,\n      &quot;age&quot;: &quot;20&quot;\n    },\n    {\n      &quot;kinship&quot;: &quot;sister&quot;,\n      &quot;age&quot;: &quot;25&quot;\n    }\n  ]\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;ROMEU&quot;,\n  &quot;age&quot;: &quot;24&quot;,\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\n  &quot;family&quot;: {\n    &quot;kinship&quot;: &quot;mother&quot;,\n    &quot;age&quot;: &quot;20&quot;\n  }\n} \n</code></pre>\n"},{"tags":["java","spring","spring-test","spring-profiles"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1633681672,"post_id":69492601,"comment_id":122829659,"body_markdown":"and you dont want to use application.properties for different profiles?","body":"and you dont want to use application.properties for different profiles?"},{"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"score":0,"creation_date":1633681866,"post_id":69492601,"comment_id":122829729,"body_markdown":"how to do it? what do you mean?","body":"how to do it? what do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633682593,"creation_date":1633682143,"answer_id":69492887,"question_id":69492601,"body_markdown":"You can probably use ActiveProfilesResolver\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html\r\n\r\nSee example below:\r\n\r\n    public class MyActiveProfilesResolver  implements ActiveProfilesResolver{\r\n      @Override\r\n      public String[] resolve(Class&lt;?&gt; testClass) {\r\n          String os = System.getProperty(&quot;os.name&quot;);\r\n          String profile = (os.toLowerCase().startsWith(&quot;windows&quot;)) ? &quot;windows&quot; : &quot;other&quot;;\r\n          return new String[]{profile};\r\n      }\r\n    }\r\n    \r\n    \r\n    @ActiveProfiles(resolver = MyActiveProfilesResolver.class)\r\n    public class MyServiceTests {\r\n    \r\n    }","title":"Spring Test @ActiveProfiles alternative?","body":"<p>You can probably use ActiveProfilesResolver</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html</a></p>\n<p>See example below:</p>\n<pre><code>public class MyActiveProfilesResolver  implements ActiveProfilesResolver{\n  @Override\n  public String[] resolve(Class&lt;?&gt; testClass) {\n      String os = System.getProperty(&quot;os.name&quot;);\n      String profile = (os.toLowerCase().startsWith(&quot;windows&quot;)) ? &quot;windows&quot; : &quot;other&quot;;\n      return new String[]{profile};\n  }\n}\n\n\n@ActiveProfiles(resolver = MyActiveProfilesResolver.class)\npublic class MyServiceTests {\n\n}\n</code></pre>\n"}],"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69492887,"answer_count":1,"score":1,"last_activity_date":1633682593,"creation_date":1633680890,"question_id":69492601,"body_markdown":"I want to set active profiles for tests with outside variables - for example, VM options. Have I any variations to do it?\r\n\r\nVariant 1: set `@ActiveProfiles` with variable, like `@ActiveProfile(&quot;${testProfile:test}&quot;)` - not working or I don&#39;t know how.\r\n\r\nVariant 2: with any context settings, something like `WebContextInitializer` (not working for tests).\r\n\r\nHave any ideas?\r\n","title":"Spring Test @ActiveProfiles alternative?","body":"<p>I want to set active profiles for tests with outside variables - for example, VM options. Have I any variations to do it?</p>\n<p>Variant 1: set <code>@ActiveProfiles</code> with variable, like <code>@ActiveProfile(&quot;${testProfile:test}&quot;)</code> - not working or I don't know how.</p>\n<p>Variant 2: with any context settings, something like <code>WebContextInitializer</code> (not working for tests).</p>\n<p>Have any ideas?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633687578,"post_id":69492635,"comment_id":122831853,"body_markdown":"I bet they have different package names? Have you checked that?","body":"I bet they have different package names? Have you checked that?"},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1633697365,"post_id":69492635,"comment_id":122835544,"body_markdown":"they have the same package names","body":"they have the same package names"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633698219,"post_id":69492635,"comment_id":122835883,"body_markdown":"Can you tell where they are coming from because they not in central... self created ?   Apart from that if they have the same package name there is really something wrong!!","body":"Can you tell where they are coming from because they not in central... self created ?   Apart from that if they have the same package name there is really something wrong!!"},{"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"score":0,"creation_date":1633732266,"post_id":69492635,"comment_id":122847340,"body_markdown":"Please add the output of the `mvn dependency:tree`","body":"Please add the output of the <code>mvn dependency:tree</code>"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633682482,"creation_date":1633681033,"question_id":69492635,"body_markdown":"In my J2EE (jdk1.8) application I am using :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am using also an API (Javadocx)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.javadocx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javadocx&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n which makes a call to DocumentBuilder.parse() method :\r\n\r\n     DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\r\n     baseDocument = dBuilder.parse(baseTemplateDocumentTStream);\r\n\r\n\r\n\r\nThe problem is that, when packaged with maven, the application uses DocumentBuilder from Jdk 1.8, not the one from xml-apis.1.4.01  \r\nSo how can I make my app to use DocumentBuilder from xml-apis instead of Jdk 1.8?","title":"J2EE application uses wrong class from library","body":"<p>In my J2EE (jdk1.8) application I am using :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n    &lt;version&gt;1.4.01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using also an API (Javadocx)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.javadocx&lt;/groupId&gt;\n    &lt;artifactId&gt;javadocx&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>which makes a call to DocumentBuilder.parse() method :</p>\n<pre><code> DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\n baseDocument = dBuilder.parse(baseTemplateDocumentTStream);\n</code></pre>\n<p>The problem is that, when packaged with maven, the application uses DocumentBuilder from Jdk 1.8, not the one from xml-apis.1.4.01<br />\nSo how can I make my app to use DocumentBuilder from xml-apis instead of Jdk 1.8?</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1633674360,"post_id":69491312,"comment_id":122827219,"body_markdown":"please add the new tab screenshot","body":"please add the new tab screenshot"},{"owner":{"account_id":22972500,"reputation":11,"user_id":17100633,"display_name":"ananya"},"score":0,"creation_date":1633674820,"post_id":69491312,"comment_id":122827365,"body_markdown":"added my new tab image","body":"added my new tab image"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633677584,"creation_date":1633675085,"answer_id":69491535,"question_id":69491312,"body_markdown":"Actually login window is opening in another tab so you need to switch focus to another window. following code is working for me.\r\n\r\n    Set&lt;String&gt; windowslist = driver.getWindowHandles();\r\n    String lastwindow = null;\r\n    for(String eachWindow : windowslist){\r\n         lastwindow = eachWindow;\r\n    }\r\n    driver.switchTo().window(lastwindow);\r\n\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(emailBox));\r\n    driver.findElement(emailBox).sendKeys(&quot;jayanthbala1993@gmail.com&quot;);\r\n\r\n","title":"Login ajio.com by Google/Facebook account using selenium web driver in java","body":"<p>Actually login window is opening in another tab so you need to switch focus to another window. following code is working for me.</p>\n<pre><code>Set&lt;String&gt; windowslist = driver.getWindowHandles();\nString lastwindow = null;\nfor(String eachWindow : windowslist){\n     lastwindow = eachWindow;\n}\ndriver.switchTo().window(lastwindow);\n\n\nwait.until(ExpectedConditions.visibilityOfElementLocated(emailBox));\ndriver.findElement(emailBox).sendKeys(&quot;jayanthbala1993@gmail.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":22972500,"reputation":11,"user_id":17100633,"display_name":"ananya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69491535,"answer_count":1,"score":-1,"last_activity_date":1633682150,"creation_date":1633673813,"question_id":69491312,"body_markdown":"I am new to selenium  ad I can&#39;t able to login ajio [\r\ncoding][1] using google or my facebook account i even tries windows handling concept but it is having single window id but new tab appears and i tries using some key concepts like(\\t) &amp;(t) also but still i cannot pass my mail id in google account tab not only that no others buttons working on that new page pls clear my doubt.. suggest idea to make it work [new tab(which is not allowed to automate)][2][Exception][3]\r\n\r\n    \r\n\r\nNote: I&#39;m using java with selenium 3.141.59 &amp; Chrome version 93.0.4577.82 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SiNCf.png\r\n  [2]: https://i.stack.imgur.com/HRvBs.png\r\n  [3]: https://i.stack.imgur.com/eo6qY.png","title":"Login ajio.com by Google/Facebook account using selenium web driver in java","body":"<p>I am new to selenium  ad I can't able to login ajio <a href=\"https://i.stack.imgur.com/SiNCf.png\" rel=\"nofollow noreferrer\">\ncoding</a> using google or my facebook account i even tries windows handling concept but it is having single window id but new tab appears and i tries using some key concepts like(\\t) &amp;(t) also but still i cannot pass my mail id in google account tab not only that no others buttons working on that new page pls clear my doubt.. suggest idea to make it work <a href=\"https://i.stack.imgur.com/HRvBs.png\" rel=\"nofollow noreferrer\">new tab(which is not allowed to automate)</a><a href=\"https://i.stack.imgur.com/eo6qY.png\" rel=\"nofollow noreferrer\">Exception</a></p>\n<p>Note: I'm using java with selenium 3.141.59 &amp; Chrome version 93.0.4577.82</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18533,"reputation":3393,"user_id":42540,"accept_rate":78,"display_name":"Santosh Gokak"},"score":1,"creation_date":1353011896,"post_id":13405775,"comment_id":18315620,"body_markdown":"Have a look at http://docs.oracle.com/javase/7/docs/technotes/guides/intl/enhancements.7.html","body":"Have a look at <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/intl/enhancements.7.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/intl/&hellip;</a>"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1353012546,"post_id":13405775,"comment_id":18315915,"body_markdown":"Some more context would be helpful. How exactly are you compiling? `javac`? Or Eclipse? Which character exactly was troublesome? The `&#211;`? Which error exactly? How about the other diacritic and &quot;special&quot; characters like `&#196;` and so on? What character encoding are the source files saved in? This problem can hardly have influence in processing files, as long as you explicitly mention the character encoding everywhere instead of relying on platform default one, e.g. by using `InputStreamReader` and `OutputStreamWriter` instead of `FileReader` and `FileWriter`.","body":"Some more context would be helpful. How exactly are you compiling? <code>javac</code>? Or Eclipse? Which character exactly was troublesome? The <code>&#211;</code>? Which error exactly? How about the other diacritic and &quot;special&quot; characters like <code>&#196;</code> and so on? What character encoding are the source files saved in? This problem can hardly have influence in processing files, as long as you explicitly mention the character encoding everywhere instead of relying on platform default one, e.g. by using <code>InputStreamReader</code> and <code>OutputStreamWriter</code> instead of <code>FileReader</code> and <code>FileWriter</code>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1353012726,"post_id":13405775,"comment_id":18315984,"body_markdown":"Remove that character and forget.","body":"Remove that character and forget."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1353012897,"post_id":13405775,"comment_id":18316054,"body_markdown":"@RomanC: Please stop italicizing API/library/framework/product names in suggested edits.","body":"@RomanC: Please stop italicizing API/library/framework/product names in suggested edits."},{"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"score":0,"creation_date":1353012946,"post_id":13405775,"comment_id":18316073,"body_markdown":"compiling using javac and ant (note, in case it helps, this is Oracle&#39;s 1.7)","body":"compiling using javac and ant (note, in case it helps, this is Oracle&#39;s 1.7)"},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1353014488,"post_id":13405775,"comment_id":18316733,"body_markdown":"@BalusC Did you mean to remove BestPractices&#39; edit?","body":"@BalusC Did you mean to remove BestPractices&#39; edit?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1353014945,"post_id":13405775,"comment_id":18316920,"body_markdown":"@AHungerArtist: no, the suggested edit of RomanC which was rejected twice, but then silently approved by BestPractices because he wanted to edit his own question. See also the edit history.","body":"@AHungerArtist: no, the suggested edit of RomanC which was rejected twice, but then silently approved by BestPractices because he wanted to edit his own question. See also the edit history."},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1353015466,"post_id":13405775,"comment_id":18317145,"body_markdown":"@BalusC Ah, I see the information he added was moved elsewhere. That was my only concern.","body":"@BalusC Ah, I see the information he added was moved elsewhere. That was my only concern."},{"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"score":0,"creation_date":1353070846,"post_id":13405775,"comment_id":18334105,"body_markdown":"Can someone please clarify-- is there a difference between how Java handles character encoding in source code versus character encoding of data it might process e.g. in a running java application?","body":"Can someone please clarify-- is there a difference between how Java handles character encoding in source code versus character encoding of data it might process e.g. in a running java application?"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353012725,"creation_date":1353012725,"answer_id":13405998,"question_id":13405775,"body_markdown":"The error occurs because you&#39;ve told the Java compiler that your source is UTF-8 encoded, but it still contains some ISO-8859-1 extended characters.  I recently had to fix similar errors in a codebase that was migrated from 1.5 to 1.6.  I believe that Java 7 is much stricter about UTF-8 encoding than previous versions and will issue errors where previously the incorrect encodings were silently accepted.\r\n\r\nYou will need to make sure that your source code is &quot;Unicode-clean&quot;, that is, you must replace any extended ISO-8859-1 characters with their Unicode equivalents.","title":"Does Java 1.7 use a different character encoding?","body":"<p>The error occurs because you've told the Java compiler that your source is UTF-8 encoded, but it still contains some ISO-8859-1 extended characters.  I recently had to fix similar errors in a codebase that was migrated from 1.5 to 1.6.  I believe that Java 7 is much stricter about UTF-8 encoding than previous versions and will issue errors where previously the incorrect encodings were silently accepted.</p>\n\n<p>You will need to make sure that your source code is \"Unicode-clean\", that is, you must replace any extended ISO-8859-1 characters with their Unicode equivalents.</p>\n"},{"tags":[],"owner":{"account_id":2590799,"reputation":1,"user_id":2245553,"display_name":"user2245553"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365090145,"creation_date":1365088827,"answer_id":15815287,"question_id":13405775,"body_markdown":"I ran into this problem on Windows and discovered that the default encoding for 1.7 was `CP-1252`. I was able to get clean compiles by setting to following environment variable...\r\n\r\n    JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8","title":"Does Java 1.7 use a different character encoding?","body":"<p>I ran into this problem on Windows and discovered that the default encoding for 1.7 was <code>CP-1252</code>. I was able to get clean compiles by setting to following environment variable...</p>\n\n<pre><code>JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8\n</code></pre>\n"}],"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1633681811,"creation_date":1353011816,"question_id":13405775,"body_markdown":"We are migrating our application from Java 1.6 to Java 1.7. We recompiled the code using Java 1.7 and received an error while compiling which was due to a character (an `&#211;`). \r\n\r\nWas there a change in Java 1.7 related to characters? Our application does a lot of processing of incoming files to then load them into a database and I want to ensure that when we upgrade to Java 1.7 that the reading of a file from java and the writing to the database of that content wont result in some odd character conversions. \r\n\r\nDo I need to be concerned at all when upgrading to 1.7? If so, how to I get the same encoding that we had in Java 1.6?","title":"Does Java 1.7 use a different character encoding?","body":"<p>We are migrating our application from Java 1.6 to Java 1.7. We recompiled the code using Java 1.7 and received an error while compiling which was due to a character (an <code>Ó</code>). </p>\n\n<p>Was there a change in Java 1.7 related to characters? Our application does a lot of processing of incoming files to then load them into a database and I want to ensure that when we upgrade to Java 1.7 that the reading of a file from java and the writing to the database of that content wont result in some odd character conversions. </p>\n\n<p>Do I need to be concerned at all when upgrading to 1.7? If so, how to I get the same encoding that we had in Java 1.6?</p>\n"},{"tags":["java","windows","java-17","microsoft-openjdk"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633686578,"post_id":69492709,"comment_id":122831480,"body_markdown":"It is also possible to use `\\u2660` etc in source code, to prevent these encoding issues","body":"It is also possible to use <code>\\u2660</code> etc in source code, to prevent these encoding issues"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1633681367,"creation_date":1633681367,"answer_id":69492715,"question_id":69492709,"body_markdown":"While upgrading to the Java 17 version using the OpenJDK built by Microsoft, I also ran into problems because the Java source files were now encoded using the default Windows encoding, instead of UTF-8.\r\n\r\nTo fix the problem, set the `file.encoding` property to `UTF-8`.\r\n\r\nThe easiest way to do it is to set the `MAVEN_OPTS` environment variable:\r\n\r\n    MAVEN_OPTS=-Dfile.encoding=UTF-8\r\n\r\nAnother option is to pass it to the Maven Surefire plugin:\r\n\r\n````\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n````\r\n\r\nAnd, if you want to start a Java program, then pass the `-Dfile.encoding=UTF8` property.","title":"Java encoding issues after upgrading to Java 17 using the Microsoft OpenJDK","body":"<p>While upgrading to the Java 17 version using the OpenJDK built by Microsoft, I also ran into problems because the Java source files were now encoded using the default Windows encoding, instead of UTF-8.</p>\n<p>To fix the problem, set the <code>file.encoding</code> property to <code>UTF-8</code>.</p>\n<p>The easiest way to do it is to set the <code>MAVEN_OPTS</code> environment variable:</p>\n<pre><code>MAVEN_OPTS=-Dfile.encoding=UTF-8\n</code></pre>\n<p>Another option is to pass it to the Maven Surefire plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And, if you want to start a Java program, then pass the <code>-Dfile.encoding=UTF8</code> property.</p>\n"}],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3651,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69492715,"answer_count":1,"score":3,"last_activity_date":1633681546,"creation_date":1633681348,"question_id":69492709,"body_markdown":"After I upgraded to Java 17 using the [Microsoft OpenJDK](https://learn.microsoft.com/en-us/java/openjdk/download), all the tests that use non-ASCII characters are failing due to encoding failure issues.\r\n\r\nFor instance, one of my tests uses the following Unicode characters (e.g., U+2660 to U+2663):\r\n\r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Club&quot;)\r\n    \t.setSymbol(&quot;♣&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Diamond&quot;)\r\n    \t.setSymbol(&quot;♦&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Heart&quot;)\r\n    \t.setSymbol(&quot;♥&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Spade&quot;)\r\n    \t.setSymbol(&quot;♠&quot;)\r\n    );\r\n\r\nHow to fix it?","title":"Java encoding issues after upgrading to Java 17 using the Microsoft OpenJDK","body":"<p>After I upgraded to Java 17 using the <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">Microsoft OpenJDK</a>, all the tests that use non-ASCII characters are failing due to encoding failure issues.</p>\n<p>For instance, one of my tests uses the following Unicode characters (e.g., U+2660 to U+2663):</p>\n<pre><code>entityManager.persist(\n    new Suit()\n    .setName(&quot;Club&quot;)\n    .setSymbol(&quot;♣&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Diamond&quot;)\n    .setSymbol(&quot;♦&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Heart&quot;)\n    .setSymbol(&quot;♥&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Spade&quot;)\n    .setSymbol(&quot;♠&quot;)\n);\n</code></pre>\n<p>How to fix it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8032,"page":1960,"page_size":100}
