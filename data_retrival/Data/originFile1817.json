{"items":[{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1637887016,"post_id":70117274,"comment_id":123950156,"body_markdown":"Study the oracle tutorial: [4 Creating a Custom Control with FXML](https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm).  It tells you exactly what you need to do.  Also see the section [custom components](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#fxmlloader) or the fxml intro doc.  The key is using `fx:root`.","body":"Study the oracle tutorial: <a href=\"https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm\" rel=\"nofollow noreferrer\">4 Creating a Custom Control with FXML</a>.  It tells you exactly what you need to do.  Also see the section <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#fxmlloader\" rel=\"nofollow noreferrer\">custom components</a> or the fxml intro doc.  The key is using <code>fx:root</code>."}],"answers":[{"tags":[],"owner":{"account_id":2939664,"reputation":3002,"user_id":2517849,"accept_rate":80,"display_name":"Naveed"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637875799,"creation_date":1637875453,"answer_id":70117389,"question_id":70117274,"body_markdown":"[new][1] keyword creates a new instance of an object in java.\r\n\r\nEach call to `new MovieView(....)` will create a new instance of it.  So if you need 5 instances, you would create it 5 times.  \r\n\r\nFor example, you can do something like this to create 5 movie views and add them to a list\r\n\r\n     List&lt;MovieView&gt; movieViews = new ArrayList&lt;&gt;();\r\n     for (int i = 0; i &lt; 5; i++) {\r\n         // Creates a new instance on each iteration\r\n         MovieView movieView = new MovieView(...);\r\n         movieViews.add(movieView)\r\n     }\r\n\r\nDepending on your use case you&#39;ll have to pass in appropriate arguments and potentially create new instances of `Image` for each movie.  Also, 5 could be any number here depending on how many instances you need.  You can pass it as an argument to your method.  This example should give you a starting point on how to implement your solution.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/new-keyword-in-java#:~:text=The%20Java%20new%20keyword%20is,to%20create%20the%20array%20object.","title":"Multiple instances of object based on one FXML","body":"<p><a href=\"https://www.javatpoint.com/new-keyword-in-java#:%7E:text=The%20Java%20new%20keyword%20is,to%20create%20the%20array%20object.\" rel=\"nofollow noreferrer\">new</a> keyword creates a new instance of an object in java.</p>\n<p>Each call to <code>new MovieView(....)</code> will create a new instance of it.  So if you need 5 instances, you would create it 5 times.</p>\n<p>For example, you can do something like this to create 5 movie views and add them to a list</p>\n<pre><code> List&lt;MovieView&gt; movieViews = new ArrayList&lt;&gt;();\n for (int i = 0; i &lt; 5; i++) {\n     // Creates a new instance on each iteration\n     MovieView movieView = new MovieView(...);\n     movieViews.add(movieView)\n }\n</code></pre>\n<p>Depending on your use case you'll have to pass in appropriate arguments and potentially create new instances of <code>Image</code> for each movie.  Also, 5 could be any number here depending on how many instances you need.  You can pass it as an argument to your method.  This example should give you a starting point on how to implement your solution.</p>\n"}],"owner":{"account_id":9859905,"reputation":128,"user_id":7303261,"accept_rate":80,"display_name":"user7303261"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1637887215,"answer_count":1,"score":-2,"last_activity_date":1637875799,"creation_date":1637874654,"question_id":70117274,"body_markdown":"I&#39;m still pretty new to this so I did quite a reseach but couldn&#39;t found any suitable solution on SO or on the interet. How can I create multiple instances of object (you can call it a factory) based on one `.fxml` file. \r\nThis particular `.fxml` file represents one record of movie information. And the result looks similar to this (I won&#39;t post here the fxml code, because it&#39;s not relevant):\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nalJg.png\r\n\r\nSo this is one record. As you can see I need sort of template. Let&#39;s say I got to display information about 5 movies, so I wish I could do :\r\n\r\n\r\n        MovieView movieView = new MovieView(name, imageUrl, year, List&lt;String&gt; directors, \r\n        List&lt;String&gt; actors, Integer boxOffice, reviews);\r\n        movieView.setImage(new Image(...));  // image change\r\n        vbox.getChildren().add(movieView); // append to main panel \r\nfive times and fill the VBox with five instances of the same class MovieView. How can this be done?","title":"Multiple instances of object based on one FXML","body":"<p>I'm still pretty new to this so I did quite a reseach but couldn't found any suitable solution on SO or on the interet. How can I create multiple instances of object (you can call it a factory) based on one <code>.fxml</code> file.\nThis particular <code>.fxml</code> file represents one record of movie information. And the result looks similar to this (I won't post here the fxml code, because it's not relevant):\n<a href=\"https://i.stack.imgur.com/nalJg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nalJg.png\" alt=\"enter image description here\" /></a></p>\n<p>So this is one record. As you can see I need sort of template. Let's say I got to display information about 5 movies, so I wish I could do :</p>\n<pre><code>    MovieView movieView = new MovieView(name, imageUrl, year, List&lt;String&gt; directors, \n    List&lt;String&gt; actors, Integer boxOffice, reviews);\n    movieView.setImage(new Image(...));  // image change\n    vbox.getChildren().add(movieView); // append to main panel \n</code></pre>\n<p>five times and fill the VBox with five instances of the same class MovieView. How can this be done?</p>\n"},{"tags":["java","apache-spark","hadoop-yarn","amazon-emr"],"comments":[{"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"score":0,"creation_date":1637564635,"post_id":70060184,"comment_id":123850370,"body_markdown":"EMR checks job status from the yarn itself so there must be some lag. Can you please tell me the exact lag you are facing and what is the accepted lag from your side?","body":"EMR checks job status from the yarn itself so there must be some lag. Can you please tell me the exact lag you are facing and what is the accepted lag from your side?"},{"owner":{"account_id":23413750,"reputation":11,"user_id":17474996,"display_name":"Srav"},"score":0,"creation_date":1637598089,"post_id":70060184,"comment_id":123863015,"body_markdown":"@ankushsingh10000 We are not expecting any lag between yarn,EMR checks job status…as soon as yarn completed,we are expecting EMR job status should be in completed status(in the Aws console)…earlier it was working fine, recently we upgraded spring boot,spark core ,spark sql and Hadoop versions….not sure what causes this lag","body":"@ankushsingh10000 We are not expecting any lag between yarn,EMR checks job status…as soon as yarn completed,we are expecting EMR job status should be in completed status(in the Aws console)…earlier it was working fine, recently we upgraded spring boot,spark core ,spark sql and Hadoop versions….not sure what causes this lag"}],"owner":{"account_id":23413750,"reputation":11,"user_id":17474996,"display_name":"Srav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637875451,"creation_date":1637546754,"question_id":70060184,"body_markdown":"After a spark job completion(spark job is able to upload the files to S3 successfully), Yarn shows the job is completed in Yarn UI, but the EMR shows the step is still running (in AWS EMR console) and it is running like \r\nforever. \r\n\r\nThis happening intermittently: sometimes as soon as the job completes Yarn and EMR both show the job is completed.\r\n\r\nAny thoughts on this ?\r\n\r\nI am using: \r\n- spring-boot: 2.4.9\r\n- spark-core_2.12: 3.1.2\r\n- spark-sql_2.12: 3.1.2\r\n- Hadoop-client: 3.2.0","title":"EMR UI shows the job is still running but Yarn shows the job is completed and this happening intermittently","body":"<p>After a spark job completion(spark job is able to upload the files to S3 successfully), Yarn shows the job is completed in Yarn UI, but the EMR shows the step is still running (in AWS EMR console) and it is running like\nforever.</p>\n<p>This happening intermittently: sometimes as soon as the job completes Yarn and EMR both show the job is completed.</p>\n<p>Any thoughts on this ?</p>\n<p>I am using:</p>\n<ul>\n<li>spring-boot: 2.4.9</li>\n<li>spark-core_2.12: 3.1.2</li>\n<li>spark-sql_2.12: 3.1.2</li>\n<li>Hadoop-client: 3.2.0</li>\n</ul>\n"},{"tags":["java","multithreading","iterator"],"answers":[{"tags":[],"owner":{"account_id":7101261,"reputation":666,"user_id":5432699,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637875345,"creation_date":1633772420,"answer_id":69505519,"question_id":69504733,"body_markdown":"&gt; When both the threads have completed sorting and acquired iterator&#39;s respectively, the underlying iterators are not going to change. Why does this leads to exception at this stage?\r\n\r\nThis assumption that since list is already sorted and second sort will not invalidate the iterator is not true. If thread-1 sort the list after thread-0 has initialized the iterator, iterator acquired by thread-0 will be become invalid and throw ConcurrentModificationException when accessed. \r\n\r\nI can think of one sequence of operation to explain messages/errors. Assume thread-0 sorted the list, created a iterator and printed say 80 odd numbers and then context switch happened. Thread-1 will resort the array and print 100 times. Now when thread-0 gets rescheduled its iterator will no longer be valid and will throw exception.  \r\n\r\nTo test it myself I wrote this simple code and it throws ConcurrentModificationException. \r\n\r\n    List&lt;Integer&gt; list =\r\n            IntStream.generate(() -&gt; java.util.concurrent.ThreadLocalRandom.current().nextInt(10))\r\n                .limit(10)\r\n                .boxed()\r\n                .collect(Collectors.toList());\r\n        Collections.sort(list, Integer::compareTo);\r\n        Iterator&lt;Integer&gt; itr = list.iterator();\r\n        Collections.sort(list, Integer::compareTo);\r\n    \r\n        while (itr.hasNext()) {\r\n          System.out.println(itr.next());\r\n        }\r\n\r\nInteresting part is this is only true for type of list Collectors.toList() return. I dont see same behavior if just use ArrayList.","title":"concurrent modification exception happens at an expected time","body":"<blockquote>\n<p>When both the threads have completed sorting and acquired iterator's respectively, the underlying iterators are not going to change. Why does this leads to exception at this stage?</p>\n</blockquote>\n<p>This assumption that since list is already sorted and second sort will not invalidate the iterator is not true. If thread-1 sort the list after thread-0 has initialized the iterator, iterator acquired by thread-0 will be become invalid and throw ConcurrentModificationException when accessed.</p>\n<p>I can think of one sequence of operation to explain messages/errors. Assume thread-0 sorted the list, created a iterator and printed say 80 odd numbers and then context switch happened. Thread-1 will resort the array and print 100 times. Now when thread-0 gets rescheduled its iterator will no longer be valid and will throw exception.</p>\n<p>To test it myself I wrote this simple code and it throws ConcurrentModificationException.</p>\n<pre><code>List&lt;Integer&gt; list =\n        IntStream.generate(() -&gt; java.util.concurrent.ThreadLocalRandom.current().nextInt(10))\n            .limit(10)\n            .boxed()\n            .collect(Collectors.toList());\n    Collections.sort(list, Integer::compareTo);\n    Iterator&lt;Integer&gt; itr = list.iterator();\n    Collections.sort(list, Integer::compareTo);\n\n    while (itr.hasNext()) {\n      System.out.println(itr.next());\n    }\n</code></pre>\n<p>Interesting part is this is only true for type of list Collectors.toList() return. I dont see same behavior if just use ArrayList.</p>\n"}],"owner":{"account_id":2622752,"reputation":4429,"user_id":2270563,"accept_rate":81,"display_name":"RamValli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637875345,"creation_date":1633765411,"question_id":69504733,"body_markdown":"There is a list which is being sorted and iterated by two threads at the same time. As expected, it leads to `ConcurrentModificationException`. What is unclear is the timing of the error.\r\n\r\n```java \r\nimport java.util.stream.*;\r\nimport java.util.*;\r\n\r\npublic class Confusionist {\r\n    static List&lt;Integer&gt; numbers;\r\n    public static void main(String args[]) {\r\n      numbers = IntStream.generate(() -&gt; java.util.concurrent.ThreadLocalRandom.current().nextInt()).limit(100).boxed().collect(Collectors.toList());\r\n      new Thread(new Accessor()).start();\r\n      new Thread(new Accessor()).start();\r\n    }\r\n    \r\n    static class Accessor implements Runnable{\r\n        public void run(){\r\n            String threadName = Thread.currentThread().getName();\r\n            char threadDenoter = threadName.charAt(threadName.length()-1);\r\n            System.out.printf(&quot;Thread: %s, Going to sort\\n&quot;, threadName);\r\n            Collections.sort(numbers, Integer::compareTo);\r\n            Iterator&lt;Integer&gt; iterator = numbers.iterator();\r\n            System.out.printf(&quot;Thread: %s, Going to iterate\\n&quot;, threadName);\r\n            while(iterator.hasNext()){\r\n                iterator.next();\r\n                System.out.printf(&quot;%c&quot;, threadDenoter);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n Output: (Which occurs few times)\r\n```\r\nThread: Thread-0, Going to sort\r\nThread: Thread-1, Going to sort\r\nThread: Thread-0, Going to iterate\r\n0000000000000000000000000000000000000000000000000000000000000000000000000000000Exception in thread &quot;Thread-0&quot; java.util.ConcurrentModificationException\r\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n    at HelloCodiva$Accessor.run(HelloCodiva.java:21)\r\n    at java.base/java.lang.Thread.run(Thread.java:831)\r\n000000Thread: Thread-1, Going to iterate\r\n1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\nCompleted with exit code: 0\r\n```\r\n\r\nBoth the threads have sorted the same list, they have acquired an iterator and they have started with the iteration. (prints 0 and 1).\r\n\r\nWhen one of the threads completes the iteration (here thread 1 completes iteration has it has printed 100 1&#39;s), the other iteration fails.\r\n\r\n1) Why is the other thread&#39;s iteration fail when the first thread completes?\r\n2) When both the threads have completed sorting and acquired iterator&#39;s respectively, the underlying iterators are not going to change. Why does this leads to exception at this stage? ","title":"concurrent modification exception happens at an expected time","body":"<p>There is a list which is being sorted and iterated by two threads at the same time. As expected, it leads to <code>ConcurrentModificationException</code>. What is unclear is the timing of the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.*;\nimport java.util.*;\n\npublic class Confusionist {\n    static List&lt;Integer&gt; numbers;\n    public static void main(String args[]) {\n      numbers = IntStream.generate(() -&gt; java.util.concurrent.ThreadLocalRandom.current().nextInt()).limit(100).boxed().collect(Collectors.toList());\n      new Thread(new Accessor()).start();\n      new Thread(new Accessor()).start();\n    }\n    \n    static class Accessor implements Runnable{\n        public void run(){\n            String threadName = Thread.currentThread().getName();\n            char threadDenoter = threadName.charAt(threadName.length()-1);\n            System.out.printf(&quot;Thread: %s, Going to sort\\n&quot;, threadName);\n            Collections.sort(numbers, Integer::compareTo);\n            Iterator&lt;Integer&gt; iterator = numbers.iterator();\n            System.out.printf(&quot;Thread: %s, Going to iterate\\n&quot;, threadName);\n            while(iterator.hasNext()){\n                iterator.next();\n                System.out.printf(&quot;%c&quot;, threadDenoter);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output: (Which occurs few times)</p>\n<pre><code>Thread: Thread-0, Going to sort\nThread: Thread-1, Going to sort\nThread: Thread-0, Going to iterate\n0000000000000000000000000000000000000000000000000000000000000000000000000000000Exception in thread &quot;Thread-0&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at HelloCodiva$Accessor.run(HelloCodiva.java:21)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n000000Thread: Thread-1, Going to iterate\n1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\nCompleted with exit code: 0\n</code></pre>\n<p>Both the threads have sorted the same list, they have acquired an iterator and they have started with the iteration. (prints 0 and 1).</p>\n<p>When one of the threads completes the iteration (here thread 1 completes iteration has it has printed 100 1's), the other iteration fails.</p>\n<ol>\n<li>Why is the other thread's iteration fail when the first thread completes?</li>\n<li>When both the threads have completed sorting and acquired iterator's respectively, the underlying iterators are not going to change. Why does this leads to exception at this stage?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1633770951,"post_id":69505337,"comment_id":122852696,"body_markdown":"As I mentioned, I debugged and tried to understand the code before I posted here but the debugger doesn&#39;t give me any information.","body":"As I mentioned, I debugged and tried to understand the code before I posted here but the debugger doesn&#39;t give me any information."}],"answers":[{"tags":[],"owner":{"account_id":7101261,"reputation":666,"user_id":5432699,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637875287,"creation_date":1633771227,"answer_id":69505376,"question_id":69505337,"body_markdown":"    arr[str.charAt(i)-&#39;a&#39;]++; -- what are we doing here? \r\n\r\nJust mapping char &#39;a&#39; to &#39;z&#39; to index 0 to 26 in arr and incrementing its count. So a string like &#39;aaab&#39; will translate to &#39;arr[0] = 3 and arr[1]=1&#39;\r\n\r\n    String ns = new String(arr); -- what does ns actually have?\r\n\r\nConverting arr of char to string. words which are anagram will have same values of count in arr and will result in same string ns. ","title":"Java group anagrams without sorting array","body":"<pre><code>arr[str.charAt(i)-'a']++; -- what are we doing here? \n</code></pre>\n<p>Just mapping char 'a' to 'z' to index 0 to 26 in arr and incrementing its count. So a string like 'aaab' will translate to 'arr[0] = 3 and arr[1]=1'</p>\n<pre><code>String ns = new String(arr); -- what does ns actually have?\n</code></pre>\n<p>Converting arr of char to string. words which are anagram will have same values of count in arr and will result in same string ns.</p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69505376,"answer_count":1,"score":0,"last_activity_date":1637875287,"creation_date":1633770915,"question_id":69505337,"body_markdown":"I see the below solution to a popular question to group anagrams. I want to achieve it without sorting. I ran through the solution in my IDE to debug and understand step by step but I just can&#39;t seem to figure out what we are doing in the lines I have mentioned below on what we are doing in the algorithm. The IDE just shows a bunch of commas.\r\n\r\nWhat can I try next?\r\n\r\n        public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n        List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n     \r\n        HashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n        for(String str: strs){\r\n            char[] arr = new char[26];\r\n            for(int i=0; i&lt;str.length(); i++){\r\n                arr[str.charAt(i)-&#39;a&#39;]++; -- what are we doing here?\r\n            }\r\n            String ns = new String(arr); -- what does ns actually have?\r\n     \r\n            if(map.containsKey(ns)){\r\n                map.get(ns).add(str);\r\n            }else{\r\n                ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;();\r\n                al.add(str);\r\n                map.put(ns, al);\r\n            }\r\n        }\r\n     \r\n        result.addAll(map.values());\r\n     \r\n        return result;\r\n    }","title":"Java group anagrams without sorting array","body":"<p>I see the below solution to a popular question to group anagrams. I want to achieve it without sorting. I ran through the solution in my IDE to debug and understand step by step but I just can't seem to figure out what we are doing in the lines I have mentioned below on what we are doing in the algorithm. The IDE just shows a bunch of commas.</p>\n<p>What can I try next?</p>\n<pre><code>    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n    List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;List&lt;String&gt;&gt;();\n \n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    for(String str: strs){\n        char[] arr = new char[26];\n        for(int i=0; i&lt;str.length(); i++){\n            arr[str.charAt(i)-'a']++; -- what are we doing here?\n        }\n        String ns = new String(arr); -- what does ns actually have?\n \n        if(map.containsKey(ns)){\n            map.get(ns).add(str);\n        }else{\n            ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;();\n            al.add(str);\n            map.put(ns, al);\n        }\n    }\n \n    result.addAll(map.values());\n \n    return result;\n}\n</code></pre>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1637874988,"post_id":70117313,"comment_id":123947964,"body_markdown":"Need to keep track of visited nodes.","body":"Need to keep track of visited nodes."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1637875199,"post_id":70117313,"comment_id":123948009,"body_markdown":"@DaveNewton I thought Java serialisation did that for you already?","body":"@DaveNewton I thought Java serialisation did that for you already?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1637875526,"post_id":70117313,"comment_id":123948091,"body_markdown":"Oh I thought the OP was implementing their own recursive functionality.","body":"Oh I thought the OP was implementing their own recursive functionality."},{"owner":{"account_id":18906224,"reputation":9,"user_id":13793303,"display_name":"david davidson"},"score":0,"creation_date":1637875564,"post_id":70117313,"comment_id":123948098,"body_markdown":"@DaveNewton what do you mean?\nshould i do it in a loop? \nwouldnt it still be uneffective(it would still be calling the serializer recursivley)","body":"@DaveNewton what do you mean? should i do it in a loop?  wouldnt it still be uneffective(it would still be calling the serializer recursivley)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637877648,"post_id":70117313,"comment_id":123948525,"body_markdown":"Yes, Java serialization (that is, ObjectOutputStream) already tracks this in a safe manner.  No special precautions are needed.  If you are talking about something like XML serialization or JSON serialization, that might be a different matter.","body":"Yes, Java serialization (that is, ObjectOutputStream) already tracks this in a safe manner.  No special precautions are needed.  If you are talking about something like XML serialization or JSON serialization, that might be a different matter."},{"owner":{"account_id":2463651,"reputation":7805,"user_id":2147218,"display_name":"bazza"},"score":0,"creation_date":1637883379,"post_id":70117313,"comment_id":123949632,"body_markdown":"@VGR I guess the key line from the manual on ObjectOutputStream is, &quot;Multiple references to a single object are encoded using a reference sharing mechanism so that graphs of objects can be restored to the same shape as when the original was written.&quot; I take that to mean that, if there is circularity in the object such that it refers back to itself, that&#39;s just fine.","body":"@VGR I guess the key line from the manual on ObjectOutputStream is, &quot;Multiple references to a single object are encoded using a reference sharing mechanism so that graphs of objects can be restored to the same shape as when the original was written.&quot; I take that to mean that, if there is circularity in the object such that it refers back to itself, that&#39;s just fine."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1637885545,"post_id":70117313,"comment_id":123949953,"body_markdown":"@bazza Exactly correct.","body":"@bazza Exactly correct."}],"owner":{"account_id":18906224,"reputation":9,"user_id":13793303,"display_name":"david davidson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637874978,"creation_date":1637874885,"question_id":70117313,"body_markdown":"how can I de/serialize a class in java that contains a list of that exact class as a member? this is an example:\r\n\r\n```\r\npublic class Target implements Serializable {\r\n    private final String name;\r\n    private List&lt;Target&gt; dependsOnList = new ArrayList&lt;&gt;();\r\n    private List&lt;Target&gt; requiredFor = new ArrayList&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\nIs it even possible? it fills like an endless recursion and i just cant figure it out\r\n\r\nthanks in advance","title":"serializing and deserializing object that contains a list of himself","body":"<p>how can I de/serialize a class in java that contains a list of that exact class as a member? this is an example:</p>\n<pre><code>public class Target implements Serializable {\n    private final String name;\n    private List&lt;Target&gt; dependsOnList = new ArrayList&lt;&gt;();\n    private List&lt;Target&gt; requiredFor = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<p>Is it even possible? it fills like an endless recursion and i just cant figure it out</p>\n<p>thanks in advance</p>\n"},{"tags":["java","android","json","https","jsonobjectrequest"],"comments":[{"owner":{"account_id":9239948,"reputation":279,"user_id":6863495,"display_name":"Urvashi Soni"},"score":0,"creation_date":1637829663,"post_id":70107674,"comment_id":123931643,"body_markdown":"There is something missing in the code, like, from where are you getting the value of `limit`? As `limit` decides your `length` , if `length` is 0, the for loop will be skipped. try printing the values of `limit` and `length`","body":"There is something missing in the code, like, from where are you getting the value of <code>limit</code>? As <code>limit</code> decides your <code>length</code> , if <code>length</code> is 0, the for loop will be skipped. try printing the values of <code>limit</code> and <code>length</code>"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1637834777,"post_id":70107674,"comment_id":123933666,"body_markdown":"To me it looks like the request is not executed because no listener fires. How do you initialize the mQueue?","body":"To me it looks like the request is not executed because no listener fires. How do you initialize the mQueue?"},{"owner":{"account_id":17697370,"reputation":1,"user_id":12847794,"display_name":"LikeWater"},"score":0,"creation_date":1637871862,"post_id":70107674,"comment_id":123947200,"body_markdown":"Limit is set in another method but is instantiated at 20. My code isn&#39;t even reaching the try/catch to get to the loop. As for mQueue, it is instantiated in my onCreate() method, here is the line:\n\n`mQueue = Volley.newRequestQueue(this);`\n@DrHopfen","body":"Limit is set in another method but is instantiated at 20. My code isn&#39;t even reaching the try/catch to get to the loop. As for mQueue, it is instantiated in my onCreate() method, here is the line:  <code>mQueue = Volley.newRequestQueue(this);</code> @DrHopfen"}],"owner":{"account_id":17697370,"reputation":1,"user_id":12847794,"display_name":"LikeWater"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637874733,"creation_date":1637827664,"question_id":70107674,"body_markdown":"**FIXED: ** Android Studio does not seem to sync new permissions from AndroidManifest when app is recompiled and run. I updated the manifest with:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\nThen uninstalled my app from the emulator. This fixed the error. Cheers to those who replied!\r\n\r\nI&#39;m sure I&#39;m missing something obvious here. This is my first attempt at using JsonObjectRequest for a Uni project and am having some trouble. I am trying to use the OpenSea API to get a list of the 20 most recently minted NFTs (this is just practice with calling an API for an Android app), and I cannot figure out why the request is not completing. \r\n\r\nSee code:\r\n```\r\nprivate void getFirstNFTList()\r\n    {\r\n        Log.d(&quot;Personal&quot;, &quot;Reached get method&quot;);\r\n        String url = &quot;https://api.opensea.io/api/v1/assets?format=json&amp;limit=20&amp;offset=0&amp;order_direction=desc&quot;;\r\n\r\n        final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url,null,new Response.Listener&lt;JSONObject&gt;()\r\n        {\r\n            @Override\r\n            public void onResponse(JSONObject response)\r\n            {\r\n                Log.d(&quot;Personal&quot;, &quot;Reached onResponse&quot;);\r\n                try\r\n                {\r\n                    JSONArray jsonArray = response.getJSONArray(&quot;assets&quot;);\r\n                    int length = limit;\r\n\r\n                    Log.d(&quot;Personal&quot;, &quot;Reached try&quot;);\r\n\r\n                    for (int i = 0; i &lt; length; i++)\r\n                    {\r\n                        Log.d(&quot;Personal&quot;, &quot;Reached For&quot;);\r\n                        JSONObject a = jsonArray.getJSONObject(i);\r\n                        String test = a.getString(&quot;image_url&quot;);\r\n                        Log.d(&quot;Personal&quot;, test);\r\n                    }\r\n                    Log.e(&quot;Personal&quot;, String.valueOf(response));\r\n\r\n                } catch (JSONException e)\r\n                {\r\n                    Log.d(&quot;Personal&quot;, &quot;Reached Had JSON Error&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                // TODO: Handle error\r\n                Log.d(&quot;Personal&quot;, String.valueOf(error));\r\n            }\r\n        });\r\n        Log.d(&quot;Personal&quot;, &quot;Reached mQueue&quot;);\r\n        mQueue.add(request);\r\n    }\r\n```\r\nHere&#39;s where my problem is. In Logcat, the only &quot;Personal&quot; logs made are &quot;You got here&quot;, &quot;Reached get method&quot;, and &quot;Reached mQueue&quot;. There are no other lines between these three (in Logcat) in Android Studio either. It seems that my JsonObjectRequest is failing but my try/catch isn&#39;t producing any errors. For reference, I&#39;m expecting a log-word-vomit of image urls from the first 20 NFT assets provided.\r\n\r\nI don&#39;t think this is where my problems are coming from, but here&#39;s a quick link to OpenSea&#39;s API reference anyways for your convenience: https://docs.opensea.io/reference/getting-assets\r\n\r\nAny idea where I&#39;m making my mistake? I can provide more of my code/logs if needed.","title":"Method with JsonObjectRequest Failing without any Errors","body":"<p>**FIXED: ** Android Studio does not seem to sync new permissions from AndroidManifest when app is recompiled and run. I updated the manifest with:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>Then uninstalled my app from the emulator. This fixed the error. Cheers to those who replied!</p>\n<p>I'm sure I'm missing something obvious here. This is my first attempt at using JsonObjectRequest for a Uni project and am having some trouble. I am trying to use the OpenSea API to get a list of the 20 most recently minted NFTs (this is just practice with calling an API for an Android app), and I cannot figure out why the request is not completing.</p>\n<p>See code:</p>\n<pre><code>private void getFirstNFTList()\n    {\n        Log.d(&quot;Personal&quot;, &quot;Reached get method&quot;);\n        String url = &quot;https://api.opensea.io/api/v1/assets?format=json&amp;limit=20&amp;offset=0&amp;order_direction=desc&quot;;\n\n        final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url,null,new Response.Listener&lt;JSONObject&gt;()\n        {\n            @Override\n            public void onResponse(JSONObject response)\n            {\n                Log.d(&quot;Personal&quot;, &quot;Reached onResponse&quot;);\n                try\n                {\n                    JSONArray jsonArray = response.getJSONArray(&quot;assets&quot;);\n                    int length = limit;\n\n                    Log.d(&quot;Personal&quot;, &quot;Reached try&quot;);\n\n                    for (int i = 0; i &lt; length; i++)\n                    {\n                        Log.d(&quot;Personal&quot;, &quot;Reached For&quot;);\n                        JSONObject a = jsonArray.getJSONObject(i);\n                        String test = a.getString(&quot;image_url&quot;);\n                        Log.d(&quot;Personal&quot;, test);\n                    }\n                    Log.e(&quot;Personal&quot;, String.valueOf(response));\n\n                } catch (JSONException e)\n                {\n                    Log.d(&quot;Personal&quot;, &quot;Reached Had JSON Error&quot;);\n                    e.printStackTrace();\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                // TODO: Handle error\n                Log.d(&quot;Personal&quot;, String.valueOf(error));\n            }\n        });\n        Log.d(&quot;Personal&quot;, &quot;Reached mQueue&quot;);\n        mQueue.add(request);\n    }\n</code></pre>\n<p>Here's where my problem is. In Logcat, the only &quot;Personal&quot; logs made are &quot;You got here&quot;, &quot;Reached get method&quot;, and &quot;Reached mQueue&quot;. There are no other lines between these three (in Logcat) in Android Studio either. It seems that my JsonObjectRequest is failing but my try/catch isn't producing any errors. For reference, I'm expecting a log-word-vomit of image urls from the first 20 NFT assets provided.</p>\n<p>I don't think this is where my problems are coming from, but here's a quick link to OpenSea's API reference anyways for your convenience: <a href=\"https://docs.opensea.io/reference/getting-assets\" rel=\"nofollow noreferrer\">https://docs.opensea.io/reference/getting-assets</a></p>\n<p>Any idea where I'm making my mistake? I can provide more of my code/logs if needed.</p>\n"},{"tags":["java","android","arrays","android-studio"],"comments":[{"owner":{"account_id":2939664,"reputation":3002,"user_id":2517849,"accept_rate":80,"display_name":"Naveed"},"score":0,"creation_date":1637876303,"post_id":70117290,"comment_id":123948262,"body_markdown":"BuildConfigs are generated at build time, what you want is something similar to remote configs.  As an example, you can look at firebase remote config.  https://firebase.google.com/docs/remote-config","body":"BuildConfigs are generated at build time, what you want is something similar to remote configs.  As an example, you can look at firebase remote config.  <a href=\"https://firebase.google.com/docs/remote-config\" rel=\"nofollow noreferrer\">firebase.google.com/docs/remote-config</a>"},{"owner":{"account_id":23455615,"reputation":1,"user_id":17511153,"display_name":"Markbobja"},"score":0,"creation_date":1637901418,"post_id":70117290,"comment_id":123952147,"body_markdown":"Can I randomize it? Can i add for example 1_gameID , 2_gameid, 3_gameId, so it randomly picks one of these 3 without remote config?","body":"Can I randomize it? Can i add for example 1_gameID , 2_gameid, 3_gameId, so it randomly picks one of these 3 without remote config?"}],"owner":{"account_id":23455615,"reputation":1,"user_id":17511153,"display_name":"Markbobja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637874711,"creation_date":1637874711,"question_id":70117290,"body_markdown":"So, I&#39;m not experienced in Android App&#39;s as i&#39;m trying to learn.\r\n\r\nOn build.graddle app module I have this string I need to change every week, the issue is that to change that String I need to roll out an app update every week.\r\nThis is the code in USe\r\n\r\n        buildConfigField &quot;String&quot;, &quot;GAMEID_1&quot;, &quot;\\&quot;1_gameID\\&quot;&quot; \r\n\r\nIs it possible to have  \\&quot;1_gameID\\ be loaded from a remote URL where I can replace it with another ID?","title":"Load buildConfigField String from remote TXT file ( Android APP Java)","body":"<p>So, I'm not experienced in Android App's as i'm trying to learn.</p>\n<p>On build.graddle app module I have this string I need to change every week, the issue is that to change that String I need to roll out an app update every week.\nThis is the code in USe</p>\n<pre><code>    buildConfigField &quot;String&quot;, &quot;GAMEID_1&quot;, &quot;\\&quot;1_gameID\\&quot;&quot; \n</code></pre>\n<p>Is it possible to have  &quot;1_gameID\\ be loaded from a remote URL where I can replace it with another ID?</p>\n"},{"tags":["java","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637874532,"creation_date":1637874532,"answer_id":70117261,"question_id":70115935,"body_markdown":"It is not possible to change the log level. All messages are logged, their severity is displayed as [INFO] or [ERROR], but there is no filter.","title":"install4j log file i4j_log - Change log level","body":"<p>It is not possible to change the log level. All messages are logged, their severity is displayed as [INFO] or [ERROR], but there is no filter.</p>\n"}],"owner":{"account_id":23454661,"reputation":115,"user_id":17510341,"display_name":"Naveen Neelayyagari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70117261,"answer_count":1,"score":1,"last_activity_date":1637874532,"creation_date":1637865615,"question_id":70115935,"body_markdown":"In our install4j Auto updater we are facing some problems and we are trying to find out more information from the log file i4j_log_xxx from the Users/Temp folder.\r\n\r\nThe contents inside this file start with the follwing log level [INFO]....\r\n\r\n[INFO] logger started at Thu Nov 25 19:34:10 CET 2021\r\n\r\nThe question for me is how to change the log level from INFO to DEBUG?. Or is this even possible via arguments?. From the install4j documentation, I was not able to find any information on the log level changes.\r\n\r\n","title":"install4j log file i4j_log - Change log level","body":"<p>In our install4j Auto updater we are facing some problems and we are trying to find out more information from the log file i4j_log_xxx from the Users/Temp folder.</p>\n<p>The contents inside this file start with the follwing log level [INFO]....</p>\n<p>[INFO] logger started at Thu Nov 25 19:34:10 CET 2021</p>\n<p>The question for me is how to change the log level from INFO to DEBUG?. Or is this even possible via arguments?. From the install4j documentation, I was not able to find any information on the log level changes.</p>\n"},{"tags":["java","sql-server","jdbc","sql-server-2012"],"comments":[{"owner":{"account_id":244332,"reputation":1654,"user_id":517060,"accept_rate":84,"display_name":"Ganesh"},"score":0,"creation_date":1482912657,"post_id":38356460,"comment_id":69917305,"body_markdown":"Do you have a answer for this? We are also experiencing this problem","body":"Do you have a answer for this? We are also experiencing this problem"},{"owner":{"account_id":7235808,"reputation":863,"user_id":5521136,"display_name":"AValenti"},"score":0,"creation_date":1558471261,"post_id":38356460,"comment_id":99110536,"body_markdown":"Did you ever figure out how to get it to work properly?","body":"Did you ever figure out how to get it to work properly?"}],"answers":[{"tags":[],"owner":{"account_id":2548875,"reputation":364,"user_id":2213081,"display_name":"Vahid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599906185,"creation_date":1599906185,"answer_id":63859313,"question_id":38356460,"body_markdown":"You should connect to availability group listener (AGL) address(es). you can use below query to find availability group listener addresses:\r\n\r\n    select * from sys.availability_group_listener_ip_addresses \r\n\r\nafter you find the AGL address your jdbc connection string should be :\r\n\r\n    jdbc:sqlserver://[AGL-ADDRESS]:1433;databaseName=[DB_NAME];user=[username];password=[password];applicationIntent=ReadOnly\r\n\r\n","title":"SQL Server &quot;Application Intent=readonly&quot; not working JDBC","body":"<p>You should connect to availability group listener (AGL) address(es). you can use below query to find availability group listener addresses:</p>\n<pre><code>select * from sys.availability_group_listener_ip_addresses \n</code></pre>\n<p>after you find the AGL address your jdbc connection string should be :</p>\n<pre><code>jdbc:sqlserver://[AGL-ADDRESS]:1433;databaseName=[DB_NAME];user=[username];password=[password];applicationIntent=ReadOnly\n</code></pre>\n"}],"owner":{"account_id":389277,"reputation":10038,"user_id":748656,"accept_rate":79,"display_name":"Doc Holiday"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6215,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1637874229,"creation_date":1468425253,"question_id":38356460,"body_markdown":"Im am trying to hit the secondary node on a sql server 2012 DB using `&quot;ApplicationIntent=readonly&quot;` in the connection string.\r\n\r\nIt is still hitting the primary node, not sure why.\r\n\r\nI&#39;m using `sqljdbc4-4.0` jar\r\n\r\njava JDBC call:\r\n\r\n    ResultSet results = null;\r\n\tPreparedStatement preparedStatement = null;\r\n    Connection conn = null;\r\n    \r\n    String SQL_SERVER_DRIVER = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    Class.forName(SQL_SERVER_DRIVER);\r\n\r\n    String dbString = &quot;jdbc:sqlserver://*****;applicationIntent=ReadOnly;databaseName=****;user=*****;password=****;&quot;;\r\n\t    \r\n\tconn = DriverManager.getConnection(dbString);\r\n\tpreparedStatement = conn.prepareStatement(&quot;some_sql&quot;);\r\n\t\r\n\tresults = preparedStatement.executeQuery(); \r\n\r\n","title":"SQL Server &quot;Application Intent=readonly&quot; not working JDBC","body":"<p>Im am trying to hit the secondary node on a sql server 2012 DB using <code>&quot;ApplicationIntent=readonly&quot;</code> in the connection string.</p>\n<p>It is still hitting the primary node, not sure why.</p>\n<p>I'm using <code>sqljdbc4-4.0</code> jar</p>\n<p>java JDBC call:</p>\n<pre><code>ResultSet results = null;\nPreparedStatement preparedStatement = null;\nConnection conn = null;\n\nString SQL_SERVER_DRIVER = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\nClass.forName(SQL_SERVER_DRIVER);\n\nString dbString = &quot;jdbc:sqlserver://*****;applicationIntent=ReadOnly;databaseName=****;user=*****;password=****;&quot;;\n    \nconn = DriverManager.getConnection(dbString);\npreparedStatement = conn.prepareStatement(&quot;some_sql&quot;);\n\nresults = preparedStatement.executeQuery(); \n</code></pre>\n"},{"tags":["java","stack","abstract-class","return-value","abstract"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1637787905,"post_id":70102813,"comment_id":123922535,"body_markdown":"The problem isn&#39;t in anything you pasted; it is in where you declared `snickersStack`. Edit your question and include this part of your code. Preferably, you should paste self-contained code. For this exercise, it seems trivial to do so.","body":"The problem isn&#39;t in anything you pasted; it is in where you declared <code>snickersStack</code>. Edit your question and include this part of your code. Preferably, you should paste self-contained code. For this exercise, it seems trivial to do so."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637788911,"post_id":70102813,"comment_id":123922817,"body_markdown":"What are you trying to do with `snickersStack.top().super().getName()`? What do you think this should do?","body":"What are you trying to do with <code>snickersStack.top().super().getName()</code>? What do you think this should do?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637789292,"post_id":70102813,"comment_id":123922965,"body_markdown":"Side note: When you get an error in a long expression such as `snickersStack.top().super().getName()` you can debug it by breaking it down into smaller parts and assign each part to a variable. This will show you more precisely where the problem is.","body":"Side note: When you get an error in a long expression such as <code>snickersStack.top().super().getName()</code> you can debug it by breaking it down into smaller parts and assign each part to a variable. This will show you more precisely where the problem is."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637789844,"post_id":70102813,"comment_id":123923140,"body_markdown":"Another note: indenting the first line of your code is not sufficient. Each line must be indented an additional four spaces. If you don&#39;t, then the first four spaces are treated as &quot;here is a line of code&quot; rather than the indentation to actually format your code. Alternatively you can add three backticks above and below each code block for formatting.","body":"Another note: indenting the first line of your code is not sufficient. Each line must be indented an additional four spaces. If you don&#39;t, then the first four spaces are treated as &quot;here is a line of code&quot; rather than the indentation to actually format your code. Alternatively you can add three backticks above and below each code block for formatting."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637788968,"creation_date":1637788824,"answer_id":70103088,"question_id":70102813,"body_markdown":"`snickersStack.top().super().getName()` is an incorrect use of the keyword `super()`. `super()` can only be called as the first line in a constructor. In fact, you use it correctly here:\r\n\r\n```\r\npublic class Snickers extends Item {\r\n    public Snickers(boolean pHaltbar) { \r\n        super(1.2f, &quot;Snickers&quot;, pHaltbar);\r\n    }\r\n}\r\n```\r\n\r\nFor more details, [check out this documentation about super](https://docs.oracle.com/javase/tutorial/java/IandI/super.html).","title":"why can I not use methods of my extended class correctly?","body":"<p><code>snickersStack.top().super().getName()</code> is an incorrect use of the keyword <code>super()</code>. <code>super()</code> can only be called as the first line in a constructor. In fact, you use it correctly here:</p>\n<pre><code>public class Snickers extends Item {\n    public Snickers(boolean pHaltbar) { \n        super(1.2f, &quot;Snickers&quot;, pHaltbar);\n    }\n}\n</code></pre>\n<p>For more details, <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">check out this documentation about super</a>.</p>\n"},{"tags":[],"owner":{"account_id":20647599,"reputation":155,"user_id":15158714,"display_name":"wand555"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637788981,"creation_date":1637788981,"answer_id":70103114,"question_id":70102813,"body_markdown":"The code `snickersStack.top().super().getName()` has two things wrong.\r\nYou need to use `peek()` to look at the top element of the stack.\r\nAnd `super()` is not a thing either.\r\nIf you want to &quot;reach&quot; the `getName()` method you can do so by just using it on the object you get from `peek()`. The method is inherited from the base class.\r\n","title":"why can I not use methods of my extended class correctly?","body":"<p>The code <code>snickersStack.top().super().getName()</code> has two things wrong.\nYou need to use <code>peek()</code> to look at the top element of the stack.\nAnd <code>super()</code> is not a thing either.\nIf you want to &quot;reach&quot; the <code>getName()</code> method you can do so by just using it on the object you get from <code>peek()</code>. The method is inherited from the base class.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637790543,"creation_date":1637790543,"answer_id":70103351,"question_id":70102813,"body_markdown":"You declared `snickersStack` as raw type: \r\n\r\n    public class Automat {\r\n        public Stack snickersStack;\r\n    }\r\n\r\nThat means for the java compiler that it can contain any kind of object. And since `Object` doesn&#39;t have a `getName()` method you cannot call `getName()` on the result of `snickersStack.top()`.\r\n\r\nTo fix this you must declare the snickersStack as a `Stack&lt;Snickers&gt;`:\r\n\r\n    public class Automat {\r\n        public Stack&lt;Snickers&gt; snickersStack;\r\n    }\r\n","title":"why can I not use methods of my extended class correctly?","body":"<p>You declared <code>snickersStack</code> as raw type:</p>\n<pre><code>public class Automat {\n    public Stack snickersStack;\n}\n</code></pre>\n<p>That means for the java compiler that it can contain any kind of object. And since <code>Object</code> doesn't have a <code>getName()</code> method you cannot call <code>getName()</code> on the result of <code>snickersStack.top()</code>.</p>\n<p>To fix this you must declare the snickersStack as a <code>Stack&lt;Snickers&gt;</code>:</p>\n<pre><code>public class Automat {\n    public Stack&lt;Snickers&gt; snickersStack;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23445156,"reputation":1,"user_id":17502082,"display_name":"davinci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637873986,"creation_date":1637849246,"answer_id":70112506,"question_id":70102813,"body_markdown":"I agree with Thomas Kl&#228;ger, you need to declare the type of your Stack:\r\n\r\n    public class Automat {\r\n    /** In your code you forgot the type of the Stack\r\n     * you need to specify the type, for example: Stack&lt;Snickers&gt;, Stack&lt;Item&gt; */\r\n    public Stack&lt;Snickers&gt; snickersStack;\r\n    public Stack&lt;Mars&gt; marsStack;\r\n    public MyStack&lt;Item&gt; itemsStack; // **Using your Stack class, I named it MyStack**\r\n    \r\n    public Automat() {\r\n        /** In Java 8 and newer versions you can omit the type here\r\n         * instead of\r\n         * snickersStack = new Stack&lt;Snickers&gt;();\r\n         * you can write &quot;snickersStack = new Stack&lt;&gt;();&quot; */\r\n        snickersStack = new Stack&lt;&gt;();\r\n        marsStack = new Stack&lt;&gt;();\r\n        itemsStack = new MyStack&lt;&gt;();\r\n    }\r\n\r\nI think you need to understand the use of Polymorphism here and that is why you are confused about using the super() keyword, so I wrote some code so you can see a better use of Polymorphism with abstract classes and OOP:\r\n\r\n**Automat.java**\r\n\r\n    import java.util.Random;\r\n    import java.util.Stack;\r\n        \r\n    public class Automat {\r\n        // In your code you forgot the type of the Stack\r\n        // you need to specify the type, for example: Stack&lt;Snickers&gt;, Stack&lt;Item&gt; \r\n        public Stack&lt;Snickers&gt; snickersStack;\r\n        public Stack&lt;Mars&gt; marsStack;\r\n        public MyStack&lt;Item&gt; itemsStack; // **Using your Stack class, I named it MyStack**\r\n        \r\n        public Automat() {\r\n            /** In Java 8 and newer versions you can omit the type here\r\n             * instead of\r\n             * snickersStack = new Stack&lt;Snickers&gt;();\r\n             * you can write &quot;snickersStack = new Stack&lt;&gt;();&quot;\r\n             */\r\n             snickersStack = new Stack&lt;&gt;();\r\n             marsStack = new Stack&lt;&gt;();\r\n             itemsStack = new MyStack&lt;&gt;();\r\n         }\r\n         public void fuelleStacks() {\r\n             Random random = new Random();\r\n             //random int 0 - 7\r\n             int randomInt = random.nextInt(8);\r\n             boolean randomBool = false;\r\n        \r\n             //fuelle snickersStack\r\n             while(randomInt != 0) {\r\n                 randomBool = random.nextBoolean();\r\n                 Snickers snickers = new Snickers(randomBool);\r\n                 snickersStack.push(snickers);\r\n                 randomInt--;\r\n             }\r\n        \r\n             //fuelle marsStack\r\n             randomInt = random.nextInt(8);\r\n             while(randomInt != 0) {\r\n                 randomBool = random.nextBoolean();\r\n                 Mars mars = new Mars(randomBool);\r\n                 marsStack.push(mars);\r\n                 randomInt--;\r\n             }\r\n        \r\n             //fuelle items Stack with Snickers and Mars\r\n             // See the benefit of using Polymorphism here, which I assume is what you\r\n             //      wanted to do in your code.\r\n             // &quot;You want to create an items Stack, with any item Snickers or Mars&quot;\r\n             // This is how I would do it.\r\n             randomInt = random.nextInt(8);\r\n             while(randomInt != 0) {\r\n                 randomBool = random.nextBoolean();\r\n                 Item itemMars = new Mars(randomBool);\r\n                Item itemSnickers = new Snickers(randomBool);\r\n        \r\n                 if (randomInt % 2 != 0) {\r\n                     itemsStack.push(itemMars);\r\n                 }\r\n                 if (randomInt % 2 == 0) {\r\n                     itemsStack.push(itemSnickers);\r\n                 }\r\n                 randomInt = random.nextInt(8);\r\n             }\r\n             // let&#39;s check the stacks\r\n             if (!snickersStack.isEmpty()) {\r\n                 System.out.println(&quot;snickersStack: &quot;);\r\n                 System.out.println(snickersStack.peek().getName());\r\n                 snickersStack.peek().printMyName(); // see the use of super in printMyName()\r\n             } else {\r\n                 System.out.println(&quot;** Empty Snickers Stack **&quot;);\r\n             }\r\n             if (!marsStack.isEmpty()) {\r\n                 System.out.println(&quot;marsStack: &quot;);\r\n                 System.out.println(marsStack.peek().getName());\r\n                 marsStack.peek().printMyName(); // see the use of super in printMyName()\r\n             } else {\r\n                 System.out.println(&quot;** Empty Mars Stack **&quot;);\r\n             }\r\n        \r\n             // This is the best part, you have a Stack with items (Snickers, Mars, etc) that you can do operations on it\r\n             // Here you can see the item Stack\r\n             // You do not use super() here, you call super() &quot;within the context of&quot; the Derived class\r\n             //      to refer to a method from the Base class\r\n             // I am using your Stack class here\r\n             if (!itemsStack.isEmpty()) {\r\n                 // let&#39;s print the items names from the Stack\r\n                 System.out.println();\r\n                 System.out.println(&quot;First item on itemsStack : &quot; + itemsStack.top().getName());\r\n        \r\n                 System.out.println(&quot;Let&#39;s see the items Stack :&quot;);\r\n                 while (!itemsStack.isEmpty()) {\r\n                     System.out.println(&quot;top item: &quot; + itemsStack.top().getName());\r\n                     itemsStack.top().printMyName();// see the use of super in printMyName()\r\n                     itemsStack.pop();\r\n                 }\r\n             } else {\r\n                 System.out.println(&quot;** Empty Items Stack **&quot;);\r\n             }\r\n         }\r\n    }\r\n\r\n**Item.java**\r\n\r\n    public abstract class Item {\r\n        private float preis;\r\n        private String name;\r\n        private boolean haltbar;\r\n    \r\n        public Item(float pPreis, String pName, boolean pHaltbar)\r\n        {\r\n            preis = pPreis;\r\n            name = pName;\r\n            haltbar = pHaltbar;\r\n        }\r\n    \r\n        public float getPreis() {\r\n            return preis;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public boolean getHaltbar() {\r\n            return haltbar;\r\n        }\r\n    \r\n        public void setPreis(float pPreis) {\r\n            preis = pPreis;\r\n        }\r\n    \r\n        public void setName(String pName) {\r\n            name = pName;\r\n        }\r\n    \r\n        public void setHaltbar(boolean pHaltbar) {\r\n            haltbar = pHaltbar;\r\n        }\r\n    \r\n        public void printMyName() {\r\n            System.out.println(&quot;call printMyName() in Base class Item : &quot; + name);\r\n        }\r\n    }\r\n\r\n\r\n**Mars.java**\r\n\r\n    public class Mars extends Item {\r\n        public Mars(boolean pHaltbar) {\r\n            super(2.2f, &quot;Mars&quot;, pHaltbar); // you used super() correctly here\r\n        }\r\n    \r\n        @Override\r\n        public void printMyName() {\r\n            super.printMyName(); // See another way to use super() from Derived class\r\n            System.out.println(&quot;call printMyName() in Derived class Mars : &quot; + getName());\r\n        }\r\n    }\r\n\r\n**Snickers.java**\r\n\r\n    public class Snickers extends Item {\r\n        public Snickers(boolean pHaltbar) {\r\n            super(1.2f, &quot;Snickers&quot;, pHaltbar); // you used super() correctly here\r\n        }\r\n    \r\n        @Override\r\n        public void printMyName() {\r\n            super.printMyName(); // See another way to use super() from Derived class\r\n            System.out.println(&quot;call printMyName() in Derived class Snickers : &quot; + getName());\r\n        }\r\n    }\r\n\r\n**Demo.java**\r\n\r\n    public class Demo {\r\n        public static void main(String args[]){\r\n            Automat automat = new Automat();\r\n            automat.fuelleStacks();\r\n        }\r\n    }","title":"why can I not use methods of my extended class correctly?","body":"<p>I agree with Thomas Kläger, you need to declare the type of your Stack:</p>\n<pre><code>public class Automat {\n/** In your code you forgot the type of the Stack\n * you need to specify the type, for example: Stack&lt;Snickers&gt;, Stack&lt;Item&gt; */\npublic Stack&lt;Snickers&gt; snickersStack;\npublic Stack&lt;Mars&gt; marsStack;\npublic MyStack&lt;Item&gt; itemsStack; // **Using your Stack class, I named it MyStack**\n\npublic Automat() {\n    /** In Java 8 and newer versions you can omit the type here\n     * instead of\n     * snickersStack = new Stack&lt;Snickers&gt;();\n     * you can write &quot;snickersStack = new Stack&lt;&gt;();&quot; */\n    snickersStack = new Stack&lt;&gt;();\n    marsStack = new Stack&lt;&gt;();\n    itemsStack = new MyStack&lt;&gt;();\n}\n</code></pre>\n<p>I think you need to understand the use of Polymorphism here and that is why you are confused about using the super() keyword, so I wrote some code so you can see a better use of Polymorphism with abstract classes and OOP:</p>\n<p><strong>Automat.java</strong></p>\n<pre><code>import java.util.Random;\nimport java.util.Stack;\n    \npublic class Automat {\n    // In your code you forgot the type of the Stack\n    // you need to specify the type, for example: Stack&lt;Snickers&gt;, Stack&lt;Item&gt; \n    public Stack&lt;Snickers&gt; snickersStack;\n    public Stack&lt;Mars&gt; marsStack;\n    public MyStack&lt;Item&gt; itemsStack; // **Using your Stack class, I named it MyStack**\n    \n    public Automat() {\n        /** In Java 8 and newer versions you can omit the type here\n         * instead of\n         * snickersStack = new Stack&lt;Snickers&gt;();\n         * you can write &quot;snickersStack = new Stack&lt;&gt;();&quot;\n         */\n         snickersStack = new Stack&lt;&gt;();\n         marsStack = new Stack&lt;&gt;();\n         itemsStack = new MyStack&lt;&gt;();\n     }\n     public void fuelleStacks() {\n         Random random = new Random();\n         //random int 0 - 7\n         int randomInt = random.nextInt(8);\n         boolean randomBool = false;\n    \n         //fuelle snickersStack\n         while(randomInt != 0) {\n             randomBool = random.nextBoolean();\n             Snickers snickers = new Snickers(randomBool);\n             snickersStack.push(snickers);\n             randomInt--;\n         }\n    \n         //fuelle marsStack\n         randomInt = random.nextInt(8);\n         while(randomInt != 0) {\n             randomBool = random.nextBoolean();\n             Mars mars = new Mars(randomBool);\n             marsStack.push(mars);\n             randomInt--;\n         }\n    \n         //fuelle items Stack with Snickers and Mars\n         // See the benefit of using Polymorphism here, which I assume is what you\n         //      wanted to do in your code.\n         // &quot;You want to create an items Stack, with any item Snickers or Mars&quot;\n         // This is how I would do it.\n         randomInt = random.nextInt(8);\n         while(randomInt != 0) {\n             randomBool = random.nextBoolean();\n             Item itemMars = new Mars(randomBool);\n            Item itemSnickers = new Snickers(randomBool);\n    \n             if (randomInt % 2 != 0) {\n                 itemsStack.push(itemMars);\n             }\n             if (randomInt % 2 == 0) {\n                 itemsStack.push(itemSnickers);\n             }\n             randomInt = random.nextInt(8);\n         }\n         // let's check the stacks\n         if (!snickersStack.isEmpty()) {\n             System.out.println(&quot;snickersStack: &quot;);\n             System.out.println(snickersStack.peek().getName());\n             snickersStack.peek().printMyName(); // see the use of super in printMyName()\n         } else {\n             System.out.println(&quot;** Empty Snickers Stack **&quot;);\n         }\n         if (!marsStack.isEmpty()) {\n             System.out.println(&quot;marsStack: &quot;);\n             System.out.println(marsStack.peek().getName());\n             marsStack.peek().printMyName(); // see the use of super in printMyName()\n         } else {\n             System.out.println(&quot;** Empty Mars Stack **&quot;);\n         }\n    \n         // This is the best part, you have a Stack with items (Snickers, Mars, etc) that you can do operations on it\n         // Here you can see the item Stack\n         // You do not use super() here, you call super() &quot;within the context of&quot; the Derived class\n         //      to refer to a method from the Base class\n         // I am using your Stack class here\n         if (!itemsStack.isEmpty()) {\n             // let's print the items names from the Stack\n             System.out.println();\n             System.out.println(&quot;First item on itemsStack : &quot; + itemsStack.top().getName());\n    \n             System.out.println(&quot;Let's see the items Stack :&quot;);\n             while (!itemsStack.isEmpty()) {\n                 System.out.println(&quot;top item: &quot; + itemsStack.top().getName());\n                 itemsStack.top().printMyName();// see the use of super in printMyName()\n                 itemsStack.pop();\n             }\n         } else {\n             System.out.println(&quot;** Empty Items Stack **&quot;);\n         }\n     }\n}\n</code></pre>\n<p><strong>Item.java</strong></p>\n<pre><code>public abstract class Item {\n    private float preis;\n    private String name;\n    private boolean haltbar;\n\n    public Item(float pPreis, String pName, boolean pHaltbar)\n    {\n        preis = pPreis;\n        name = pName;\n        haltbar = pHaltbar;\n    }\n\n    public float getPreis() {\n        return preis;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public boolean getHaltbar() {\n        return haltbar;\n    }\n\n    public void setPreis(float pPreis) {\n        preis = pPreis;\n    }\n\n    public void setName(String pName) {\n        name = pName;\n    }\n\n    public void setHaltbar(boolean pHaltbar) {\n        haltbar = pHaltbar;\n    }\n\n    public void printMyName() {\n        System.out.println(&quot;call printMyName() in Base class Item : &quot; + name);\n    }\n}\n</code></pre>\n<p><strong>Mars.java</strong></p>\n<pre><code>public class Mars extends Item {\n    public Mars(boolean pHaltbar) {\n        super(2.2f, &quot;Mars&quot;, pHaltbar); // you used super() correctly here\n    }\n\n    @Override\n    public void printMyName() {\n        super.printMyName(); // See another way to use super() from Derived class\n        System.out.println(&quot;call printMyName() in Derived class Mars : &quot; + getName());\n    }\n}\n</code></pre>\n<p><strong>Snickers.java</strong></p>\n<pre><code>public class Snickers extends Item {\n    public Snickers(boolean pHaltbar) {\n        super(1.2f, &quot;Snickers&quot;, pHaltbar); // you used super() correctly here\n    }\n\n    @Override\n    public void printMyName() {\n        super.printMyName(); // See another way to use super() from Derived class\n        System.out.println(&quot;call printMyName() in Derived class Snickers : &quot; + getName());\n    }\n}\n</code></pre>\n<p><strong>Demo.java</strong></p>\n<pre><code>public class Demo {\n    public static void main(String args[]){\n        Automat automat = new Automat();\n        automat.fuelleStacks();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21945152,"reputation":13,"user_id":16225124,"display_name":"gone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70103088,"answer_count":4,"score":0,"last_activity_date":1637873986,"creation_date":1637787324,"question_id":70102813,"body_markdown":"I am working on a project that uses abstract classes. I have mad the class Item, and  then I made a &quot;Snickers&quot; and a &quot;Mars&quot; class that both extend the Item class.\r\n\r\nI am using it in stacks, and after I fill these stacks, I am trying to print out the name of the top, in this case, Snickers. I tried calling the getName() method directly, but it tells me that it is undeclared. When I try to use it using the super keyword like `System.out.println(snickersStack.top().super().getName())` there is an error that says &quot;void cannot be derefferenced&quot;, which I can&#39;t really understand because the method I am trying to use, is a method that returns a String.\r\n\r\nThis is the Item class:\r\n\r\n    public abstract class Item {\r\n        private float preis;\r\n        private String name;\r\n        private boolean haltbar;\r\n        \r\n        public Item(float pPreis, String pName, boolean pHaltbar)\r\n        {\r\n            preis = pPreis;\r\n            name = pName;\r\n            haltbar = pHaltbar;\r\n        }\r\n        \r\n        public float getPreis() {\r\n            return preis;\r\n        }\r\n        \r\n        public String getName() {\r\n            return name;\r\n        }\r\n        \r\n        public boolean getHaltbar() {\r\n            return haltbar;\r\n        }\r\n        \r\n        public void setPreis(float pPreis) {\r\n            preis = pPreis;\r\n        }\r\n        \r\n        public void setName(String pName) {\r\n            name = pName;\r\n        }\r\n        \r\n        public void setHaltbar(boolean pHaltbar) {\r\n            haltbar = pHaltbar;\r\n        }\r\n    }\r\nwhich clearly has the getName() method, this is the Snickers method, which just refferences the Item class: \r\n\r\n    public class Snickers extends Item {\r\n        public Snickers(boolean pHaltbar) { \r\n            super(1.2f, &quot;Snickers&quot;, pHaltbar);\r\n        }\r\n    }\r\n\r\nand this is the way I fill different amounts of Items into the stack, at the bottom there is the line with my problem.\r\n\r\n    public void fuelleStacks() {\r\n        //random int 0 - 7\r\n        randomInt = random.nextInt(8);\r\n        \r\n        //fuelle snickersStack\r\n        while(randomInt != 0) {\r\n            randomBool = random.nextBoolean();\r\n            Snickers snickers = new Snickers(randomBool);\r\n            \r\n            snickersStack.push(snickers);\r\n            randomInt--;\r\n        }\r\n        \r\n        //fuelle marsStack\r\n        randomInt = random.nextInt(8);\r\n        while(randomInt != 0) {\r\n            randomBool = random.nextBoolean();\r\n            Mars mars = new Mars(randomBool);\r\n            \r\n            marsStack.push(mars);\r\n            randomInt--;\r\n        }\r\n        System.out.println(snickersStack.top().super().getName());\r\n    }\r\n\r\nI have declared and initialized the stack itself in the same class, like so:\r\n```\r\npublic class Automat {\r\n    public Stack snickersStack;\r\n    \r\n    public Automat() {\r\n        snickersStack = new Stack&lt;Snickers&gt;();\r\n        marsStack = new Stack&lt;Mars&gt;();\r\n    }\r\n}\r\n```\r\n\r\nI did not import a Stack class, instead I have another class called Stack that contains this code (that&#39;s why I used top(), not peek() like you do with the normal Stack class):\r\n\r\n```\r\npublic class Stack&lt;ContentType&gt; {\r\n\r\n  private class StackNode {\r\n\r\n    private ContentType content = null;\r\n    private StackNode nextNode = null;\r\n\r\n    public StackNode(ContentType pContent) {\r\n      content = pContent;\r\n      nextNode = null;\r\n    }\r\n\r\n    public void setNext(StackNode pNext) {\r\n      nextNode = pNext;\r\n    }\r\n\r\n    public StackNode getNext() {\r\n      return nextNode;\r\n    }\r\n\r\n    /**\r\n     * @return das Inhaltsobjekt vom Typ ContentType\r\n     */\r\n    public ContentType getContent() {\r\n      return content;\r\n    }\r\n  }\r\n\r\n  private StackNode head;\r\n  private int anzahl;\r\n\r\n  public Stack() {\r\n    head = null;\r\n    anzahl = 0;\r\n  }\r\n\r\n  public boolean isEmpty() {\r\n    return (head == null);\r\n  }\r\n\r\n  public void push(ContentType pContent) {\r\n    if (pContent != null) {\r\n      StackNode node = new StackNode(pContent);\r\n      node.setNext(head);\r\n      head = node;\r\n      anzahl++;\r\n    }\r\n  }\r\n\r\n  public void pop() {\r\n    if (!isEmpty()) {\r\n      head = head.getNext();\r\n      anzahl--;\r\n    }\r\n  }\r\n  \r\n  public ContentType top() {\r\n    if (!this.isEmpty()) {\r\n      return head.getContent();\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  public int getAnzahl() {\r\n      return anzahl;\r\n    }\r\n}\r\n```","title":"why can I not use methods of my extended class correctly?","body":"<p>I am working on a project that uses abstract classes. I have mad the class Item, and  then I made a &quot;Snickers&quot; and a &quot;Mars&quot; class that both extend the Item class.</p>\n<p>I am using it in stacks, and after I fill these stacks, I am trying to print out the name of the top, in this case, Snickers. I tried calling the getName() method directly, but it tells me that it is undeclared. When I try to use it using the super keyword like <code>System.out.println(snickersStack.top().super().getName())</code> there is an error that says &quot;void cannot be derefferenced&quot;, which I can't really understand because the method I am trying to use, is a method that returns a String.</p>\n<p>This is the Item class:</p>\n<pre><code>public abstract class Item {\n    private float preis;\n    private String name;\n    private boolean haltbar;\n    \n    public Item(float pPreis, String pName, boolean pHaltbar)\n    {\n        preis = pPreis;\n        name = pName;\n        haltbar = pHaltbar;\n    }\n    \n    public float getPreis() {\n        return preis;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public boolean getHaltbar() {\n        return haltbar;\n    }\n    \n    public void setPreis(float pPreis) {\n        preis = pPreis;\n    }\n    \n    public void setName(String pName) {\n        name = pName;\n    }\n    \n    public void setHaltbar(boolean pHaltbar) {\n        haltbar = pHaltbar;\n    }\n}\n</code></pre>\n<p>which clearly has the getName() method, this is the Snickers method, which just refferences the Item class:</p>\n<pre><code>public class Snickers extends Item {\n    public Snickers(boolean pHaltbar) { \n        super(1.2f, &quot;Snickers&quot;, pHaltbar);\n    }\n}\n</code></pre>\n<p>and this is the way I fill different amounts of Items into the stack, at the bottom there is the line with my problem.</p>\n<pre><code>public void fuelleStacks() {\n    //random int 0 - 7\n    randomInt = random.nextInt(8);\n    \n    //fuelle snickersStack\n    while(randomInt != 0) {\n        randomBool = random.nextBoolean();\n        Snickers snickers = new Snickers(randomBool);\n        \n        snickersStack.push(snickers);\n        randomInt--;\n    }\n    \n    //fuelle marsStack\n    randomInt = random.nextInt(8);\n    while(randomInt != 0) {\n        randomBool = random.nextBoolean();\n        Mars mars = new Mars(randomBool);\n        \n        marsStack.push(mars);\n        randomInt--;\n    }\n    System.out.println(snickersStack.top().super().getName());\n}\n</code></pre>\n<p>I have declared and initialized the stack itself in the same class, like so:</p>\n<pre><code>public class Automat {\n    public Stack snickersStack;\n    \n    public Automat() {\n        snickersStack = new Stack&lt;Snickers&gt;();\n        marsStack = new Stack&lt;Mars&gt;();\n    }\n}\n</code></pre>\n<p>I did not import a Stack class, instead I have another class called Stack that contains this code (that's why I used top(), not peek() like you do with the normal Stack class):</p>\n<pre><code>public class Stack&lt;ContentType&gt; {\n\n  private class StackNode {\n\n    private ContentType content = null;\n    private StackNode nextNode = null;\n\n    public StackNode(ContentType pContent) {\n      content = pContent;\n      nextNode = null;\n    }\n\n    public void setNext(StackNode pNext) {\n      nextNode = pNext;\n    }\n\n    public StackNode getNext() {\n      return nextNode;\n    }\n\n    /**\n     * @return das Inhaltsobjekt vom Typ ContentType\n     */\n    public ContentType getContent() {\n      return content;\n    }\n  }\n\n  private StackNode head;\n  private int anzahl;\n\n  public Stack() {\n    head = null;\n    anzahl = 0;\n  }\n\n  public boolean isEmpty() {\n    return (head == null);\n  }\n\n  public void push(ContentType pContent) {\n    if (pContent != null) {\n      StackNode node = new StackNode(pContent);\n      node.setNext(head);\n      head = node;\n      anzahl++;\n    }\n  }\n\n  public void pop() {\n    if (!isEmpty()) {\n      head = head.getNext();\n      anzahl--;\n    }\n  }\n  \n  public ContentType top() {\n    if (!this.isEmpty()) {\n      return head.getContent();\n    } else {\n      return null;\n    }\n  }\n  \n  public int getAnzahl() {\n      return anzahl;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":19692117,"reputation":82,"user_id":14416830,"display_name":"David Almeida"},"score":0,"creation_date":1637842773,"post_id":70108612,"comment_id":123936821,"body_markdown":"Maybe this may help: https://stackoverflow.com/questions/43621987/setting-swing-combobox-tiptool-to-selected-item","body":"Maybe this may help: <a href=\"https://stackoverflow.com/questions/43621987/setting-swing-combobox-tiptool-to-selected-item\" title=\"setting swing combobox tiptool to selected item\">stackoverflow.com/questions/43621987/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637852833,"creation_date":1637852833,"answer_id":70113405,"question_id":70108612,"body_markdown":"The popup of the combo box uses a `JList` to display the items.\r\n\r\nYou can configure the `JList` to use horizontal wrapping:\r\n\r\n\tBasicComboPopup popup = (BasicComboPopup)comboBox.getAccessibleContext().getAccessibleChild(0);\r\n\tJScrollPane scrollPane = (JScrollPane)popup.getComponent(0);\r\n\tJList list = (JList) scrollPane.getViewport().getView();\r\n\tlist.setLayoutOrientation(JList.HORIZONTAL_WRAP);\r\n\tlist.setVisibleRowCount(2);\r\n\r\nRead the section from the Swing tutorial on [Initializing a List](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#init) for more information.\r\n\r\n","title":"Grid selection popup for combo box","body":"<p>The popup of the combo box uses a <code>JList</code> to display the items.</p>\n<p>You can configure the <code>JList</code> to use horizontal wrapping:</p>\n<pre><code>BasicComboPopup popup = (BasicComboPopup)comboBox.getAccessibleContext().getAccessibleChild(0);\nJScrollPane scrollPane = (JScrollPane)popup.getComponent(0);\nJList list = (JList) scrollPane.getViewport().getView();\nlist.setLayoutOrientation(JList.HORIZONTAL_WRAP);\nlist.setVisibleRowCount(2);\n</code></pre>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#init\" rel=\"nofollow noreferrer\">Initializing a List</a> for more information.</p>\n"}],"owner":{"account_id":18117008,"reputation":3,"user_id":13173540,"display_name":"ADudeCalledLeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70113405,"answer_count":1,"score":0,"last_activity_date":1637873063,"creation_date":1637832391,"question_id":70108612,"body_markdown":"I have a `JComboBox` that lets you select a profile image - a gallery of sorts.\r\n\r\nAn image of my current combo box:\r\n\r\n[![https://i.stack.imgur.com/hgfGr.png][1]][1]\r\n\r\nYou can already see how unwieldy this would be, should I add more images.\r\n\r\nEssentially, I would like to &quot;replace&quot; the popup with a grid-based one, to allow for easier selection of an image.  \r\nI would like to keep the appearance of the combo box itself, however - showing details about the currently selected image.\r\n\r\nThe only way I can currently see to do this is to use a custom Look and Feel UI class, which AFAIK would make the combo box look out-of-place due to the rest of my app using the system L&amp;F.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hgfGr.png","title":"Grid selection popup for combo box","body":"<p>I have a <code>JComboBox</code> that lets you select a profile image - a gallery of sorts.</p>\n<p>An image of my current combo box:</p>\n<p><a href=\"https://i.stack.imgur.com/hgfGr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hgfGr.png\" alt=\"https://i.stack.imgur.com/hgfGr.png\" /></a></p>\n<p>You can already see how unwieldy this would be, should I add more images.</p>\n<p>Essentially, I would like to &quot;replace&quot; the popup with a grid-based one, to allow for easier selection of an image.<br />\nI would like to keep the appearance of the combo box itself, however - showing details about the currently selected image.</p>\n<p>The only way I can currently see to do this is to use a custom Look and Feel UI class, which AFAIK would make the combo box look out-of-place due to the rest of my app using the system L&amp;F.</p>\n"},{"tags":["java","html","spring","email","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637877047,"post_id":70117003,"comment_id":123948413,"body_markdown":"For clarification: (1) What does `${headershopgo}` evaluate to? I would expect it to be the string `headershopgo`, since that needs to exactly match `addInline(&quot;headershopgo&quot;...`. (2) Does `new ClassPathResource(&quot;static/img/headershopgo.png&quot;)` evaluate correctly to the image file?","body":"For clarification: (1) What does <code>${headershopgo}</code> evaluate to? I would expect it to be the string <code>headershopgo</code>, since that needs to exactly match <code>addInline(&quot;headershopgo&quot;...</code>. (2) Does <code>new ClassPathResource(&quot;static&#47;img&#47;headershopgo.png&quot;)</code> evaluate correctly to the image file?"},{"owner":{"account_id":21092243,"reputation":21,"user_id":15503896,"display_name":"reastador"},"score":0,"creation_date":1638017481,"post_id":70117003,"comment_id":123978289,"body_markdown":"hi. I resolve my issue when I remove th:src=&quot;|cid:${headershopgo}|, change &lt;img src=&quot;img/headershopgo.png&quot; to img src =&quot;cid:headershoplogo&quot; and when configured mail agent to recive it not on spam folder. But I get another problem, maybe you knov how solve. After add inline file I lost opportunity to get attach file","body":"hi. I resolve my issue when I remove th:src=&quot;|cid:${headershopgo}|, change &lt;img src=&quot;img/headershopgo.png&quot; to img src =&quot;cid:headershoplogo&quot; and when configured mail agent to recive it not on spam folder. But I get another problem, maybe you knov how solve. After add inline file I lost opportunity to get attach file"},{"owner":{"account_id":21092243,"reputation":21,"user_id":15503896,"display_name":"reastador"},"score":0,"creation_date":1638033418,"post_id":70117003,"comment_id":123981924,"body_markdown":"ok. ty. I&#39;ll create new question","body":"ok. ty. I&#39;ll create new question"}],"owner":{"account_id":21092243,"reputation":21,"user_id":15503896,"display_name":"reastador"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637872743,"creation_date":1637872743,"question_id":70117003,"body_markdown":"I trying to send mail using Thymeleaf. Html template parsed and look good, but images show only alt text. In image text I used that code: \r\n\r\n    &lt;img src=&quot;img/headershopgo.png&quot;  class=&quot;img-fluid &quot; alt=&quot;header image with Aldi logo&quot;  \r\n    th:src=&quot;|cid:${headershopgo}|&quot; /&gt; (I put here also &lt;img src=&quot;/static/img/headershopgo.png&quot;)\r\n\r\nThat is my code part:\r\n\r\n    Context context = new Context();\r\n    context.setVariable(&quot;name&quot;, &quot;Volodymyr&quot;);\r\n    String process = templateEngine.process(&quot;bonnetjeEN&quot;, context);\r\n\r\n    helper.setText(process, true);\r\n    helper.addInline(&quot;headershopgo&quot;,new \r\n    ClassPathResource(&quot;static/img/headershopgo.png&quot;),&quot;image/png&quot;);\r\n\r\nbut on my mail i receive temaplte without images and addInline() method pin images below(showes on Image [template on received mail][1])\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMm4m.png","title":"Images in tags don&#39;t show on mail when send template using Thymeleaf","body":"<p>I trying to send mail using Thymeleaf. Html template parsed and look good, but images show only alt text. In image text I used that code:</p>\n<pre><code>&lt;img src=&quot;img/headershopgo.png&quot;  class=&quot;img-fluid &quot; alt=&quot;header image with Aldi logo&quot;  \nth:src=&quot;|cid:${headershopgo}|&quot; /&gt; (I put here also &lt;img src=&quot;/static/img/headershopgo.png&quot;)\n</code></pre>\n<p>That is my code part:</p>\n<pre><code>Context context = new Context();\ncontext.setVariable(&quot;name&quot;, &quot;Volodymyr&quot;);\nString process = templateEngine.process(&quot;bonnetjeEN&quot;, context);\n\nhelper.setText(process, true);\nhelper.addInline(&quot;headershopgo&quot;,new \nClassPathResource(&quot;static/img/headershopgo.png&quot;),&quot;image/png&quot;);\n</code></pre>\n<p>but on my mail i receive temaplte without images and addInline() method pin images below(showes on Image <a href=\"https://i.stack.imgur.com/HMm4m.png\" rel=\"nofollow noreferrer\">template on received mail</a>)</p>\n"},{"tags":["java","compilation","execution"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1637872142,"post_id":70116878,"comment_id":123947276,"body_markdown":"You probably have a different class with a `main` method configured as the &quot;main entry point&quot;.  1. Check the other classes in the project; 2. Check project properties &quot;Build/Run/Main Class&quot;","body":"You probably have a different class with a <code>main</code> method configured as the &quot;main entry point&quot;.  1. Check the other classes in the project; 2. Check project properties &quot;Build/Run/Main Class&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1637872307,"post_id":70116878,"comment_id":123947319,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637872563,"creation_date":1637872563,"answer_id":70116982,"question_id":70116878,"body_markdown":"You probably have another class with a `main` method which is configured to run as the &quot;main class&quot;\r\n\r\n# Option #1\r\n\r\nMake sure the source file is selected in the editor and use  &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F6&lt;/kbd&gt; to &quot;Run file&quot;\r\n\r\n# Option #2\r\n\r\nRight click on the project node and select &quot;Properties&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNavigate to &quot;Build&quot; &gt; &quot;Run&quot; and verify the &quot;Main Class&quot; property\r\n\r\n[![enter image description here][2]][2]\r\n\r\nClick &quot;Browse&quot; (next to &quot;Main Class&quot;) and select the class you want to act as the &quot;Main Class&quot;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pKhow.png\r\n  [2]: https://i.stack.imgur.com/8WSQT.png\r\n  [3]: https://i.stack.imgur.com/psoDh.png","title":"Small problem to run any source code in Java","body":"<p>You probably have another class with a <code>main</code> method which is configured to run as the &quot;main class&quot;</p>\n<h1>Option #1</h1>\n<p>Make sure the source file is selected in the editor and use  <kbd>Shift</kbd>+<kbd>F6</kbd> to &quot;Run file&quot;</p>\n<h1>Option #2</h1>\n<p>Right click on the project node and select &quot;Properties&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/pKhow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pKhow.png\" alt=\"enter image description here\" /></a></p>\n<p>Navigate to &quot;Build&quot; &gt; &quot;Run&quot; and verify the &quot;Main Class&quot; property</p>\n<p><a href=\"https://i.stack.imgur.com/8WSQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8WSQT.png\" alt=\"enter image description here\" /></a></p>\n<p>Click &quot;Browse&quot; (next to &quot;Main Class&quot;) and select the class you want to act as the &quot;Main Class&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/psoDh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psoDh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22774881,"reputation":53,"user_id":16931734,"display_name":"Jack Stuart"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637873229,"accepted_answer_id":70116982,"answer_count":1,"score":0,"last_activity_date":1637872563,"creation_date":1637871971,"question_id":70116878,"body_markdown":"When creating any source code, as in the example below, and after clicking the button to execute, the result of the code execution does not appear, and instead always appears the phrase: &quot;Built Successfully&quot;.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNot even clicking on F6 or Shift + F6 works.\r\nPlease, how do you go about showing the code result on the screen?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVcVB.png","title":"Small problem to run any source code in Java","body":"<p>When creating any source code, as in the example below, and after clicking the button to execute, the result of the code execution does not appear, and instead always appears the phrase: &quot;Built Successfully&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/FVcVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FVcVB.png\" alt=\"enter image description here\" /></a></p>\n<p>Not even clicking on F6 or Shift + F6 works.\nPlease, how do you go about showing the code result on the screen?</p>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1637779322,"post_id":70100916,"comment_id":123919686,"body_markdown":"Can you please include the code you&#39;ve attempted and kind of difficulty you&#39;re having? Please take a moment and review [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve)","body":"Can you please include the code you&#39;ve attempted and kind of difficulty you&#39;re having? Please take a moment and review <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"},{"owner":{"account_id":23140265,"reputation":111,"user_id":17243845,"display_name":"Developer Sam"},"score":0,"creation_date":1637872373,"post_id":70100916,"comment_id":123947339,"body_markdown":"Kindly check, I have editted my question...","body":"Kindly check, I have editted my question..."}],"owner":{"account_id":23140265,"reputation":111,"user_id":17243845,"display_name":"Developer Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637872334,"creation_date":1637776873,"question_id":70100916,"body_markdown":"I have two firebase references, the Events reference for storing posted events and another one is the Ads reference for ads created by people on premium. I want to display one Advert from Ads reference every after 3 events in my recycler view, and am wondering how this can be achieved. So far I can display all events by the help of firebase recycler adapter and I don&#39;t know how i can include Adverts as well on the same page/activity.\r\nBelow is the code I have managed to write so far to display the events and it works fine.\r\n```\r\nprotected void onStart() {\r\n        super.onStart();\r\n        FirebaseRecyclerOptions&lt;EventModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;EventModel&gt;()\r\n                .setQuery(event_reference,EventModel.class).build();\r\n\r\n        FirebaseRecyclerAdapter&lt;EventModel, EventViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;EventModel, EventViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull EventViewHolder eventViewHolder, int i, @NonNull final EventModel events) {\r\n                StringBuilder date_time = new StringBuilder()\r\n                        .append(events.getEventDate())\r\n                        .append(&quot;: &quot;)\r\n                        .append(events.getEventTime());\r\n                eventViewHolder.eventName.setText(events.getEventName());\r\n                eventViewHolder.eventDate.setText(date_time);\r\n                eventViewHolder.eventVenue.setText(events.getEventVenue());\r\n                Glide.with(HomeActivity.this)\r\n                        .load(events.getEventPoster())\r\n                        .into(eventViewHolder.eventPoster);\r\n                user_reference.child(events.getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if(snapshot.child(&quot;avatar&quot;).exists()){\r\n                            Glide.with(HomeActivity.this)\r\n                                    .load(snapshot.child(&quot;avatar&quot;).getValue())\r\n                                    .into(eventViewHolder.eventOwnerAvatar);\r\n                        }else{\r\n                            Glide.with(HomeActivity.this)\r\n                                    .load(R.drawable.avatar)\r\n                                    .into(eventViewHolder.eventOwnerAvatar);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n                Log.d(&quot;name&quot;, events.getEventName());\r\n                Log.d(&quot;date&quot;, events.getEventDate());\r\n                Log.d(&quot;venue&quot;, events.getEventVenue());\r\n\r\n                eventViewHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n\r\n                            Intent i = new Intent(HomeActivity.this, EventDetailsActivity.class);\r\n                            i.putExtra(&quot;eventRandomKey&quot;,events.getEventRandomKey());\r\n                            startActivity(i);\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onDataChanged(){\r\n//                if(mProgress_bar!=null){\r\n//                    mProgress_bar.setVisibility(View.INVISIBLE);\r\n//                }\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n                public EventViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.event_cards,parent,false);\r\n                EventViewHolder holder = new EventViewHolder(view);\r\n                return holder;\r\n            }\r\n        };\r\n        mRecyclerView.setAdapter(adapter);\r\n        adapter.startListening();\r\n    }\r\n```\r\nBut I failed to display one Advert from Ads reference every after 3 events that come from the Events reference in my recycler view or same page/activity.\r\n Your help will save me a lot. Thanks","title":"How to alternate between children/data of two firebase references in the same recyclerview","body":"<p>I have two firebase references, the Events reference for storing posted events and another one is the Ads reference for ads created by people on premium. I want to display one Advert from Ads reference every after 3 events in my recycler view, and am wondering how this can be achieved. So far I can display all events by the help of firebase recycler adapter and I don't know how i can include Adverts as well on the same page/activity.\nBelow is the code I have managed to write so far to display the events and it works fine.</p>\n<pre><code>protected void onStart() {\n        super.onStart();\n        FirebaseRecyclerOptions&lt;EventModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;EventModel&gt;()\n                .setQuery(event_reference,EventModel.class).build();\n\n        FirebaseRecyclerAdapter&lt;EventModel, EventViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;EventModel, EventViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull EventViewHolder eventViewHolder, int i, @NonNull final EventModel events) {\n                StringBuilder date_time = new StringBuilder()\n                        .append(events.getEventDate())\n                        .append(&quot;: &quot;)\n                        .append(events.getEventTime());\n                eventViewHolder.eventName.setText(events.getEventName());\n                eventViewHolder.eventDate.setText(date_time);\n                eventViewHolder.eventVenue.setText(events.getEventVenue());\n                Glide.with(HomeActivity.this)\n                        .load(events.getEventPoster())\n                        .into(eventViewHolder.eventPoster);\n                user_reference.child(events.getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if(snapshot.child(&quot;avatar&quot;).exists()){\n                            Glide.with(HomeActivity.this)\n                                    .load(snapshot.child(&quot;avatar&quot;).getValue())\n                                    .into(eventViewHolder.eventOwnerAvatar);\n                        }else{\n                            Glide.with(HomeActivity.this)\n                                    .load(R.drawable.avatar)\n                                    .into(eventViewHolder.eventOwnerAvatar);\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n                Log.d(&quot;name&quot;, events.getEventName());\n                Log.d(&quot;date&quot;, events.getEventDate());\n                Log.d(&quot;venue&quot;, events.getEventVenue());\n\n                eventViewHolder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n\n                            Intent i = new Intent(HomeActivity.this, EventDetailsActivity.class);\n                            i.putExtra(&quot;eventRandomKey&quot;,events.getEventRandomKey());\n                            startActivity(i);\n\n                    }\n                });\n\n\n            }\n\n            @Override\n            public void onDataChanged(){\n//                if(mProgress_bar!=null){\n//                    mProgress_bar.setVisibility(View.INVISIBLE);\n//                }\n            }\n\n            @NonNull\n            @Override\n                public EventViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.event_cards,parent,false);\n                EventViewHolder holder = new EventViewHolder(view);\n                return holder;\n            }\n        };\n        mRecyclerView.setAdapter(adapter);\n        adapter.startListening();\n    }\n</code></pre>\n<p>But I failed to display one Advert from Ads reference every after 3 events that come from the Events reference in my recycler view or same page/activity.\nYour help will save me a lot. Thanks</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":19877960,"reputation":108,"user_id":14562555,"display_name":"Kaushik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637872293,"creation_date":1637872293,"answer_id":70116935,"question_id":70116742,"body_markdown":"In your unit test you can simply add the then clause twice. Like this - \r\n\r\n    @Test\r\n    public void yourUnitTest(){\r\n        when(nameManager.getName(anyString())\r\n            .thenReturn(null)\r\n            .thenReturn(someValue);\r\n        // your test\r\n    }\r\n\r\nThis will only return value when called second time and it will return null first time around.","title":"Mockito return value only when method is called for second time","body":"<p>In your unit test you can simply add the then clause twice. Like this -</p>\n<pre><code>@Test\npublic void yourUnitTest(){\n    when(nameManager.getName(anyString())\n        .thenReturn(null)\n        .thenReturn(someValue);\n    // your test\n}\n</code></pre>\n<p>This will only return value when called second time and it will return null first time around.</p>\n"}],"owner":{"account_id":1050987,"reputation":8285,"user_id":1054937,"accept_rate":88,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70116935,"answer_count":1,"score":0,"last_activity_date":1637872293,"creation_date":1637871086,"question_id":70116742,"body_markdown":"In my simple example below, I am wondering how I can get `nameManager` to return a name only after `nameManager.getName()` is called for the second time with Mockito? (I know there are other things I can do, such as mocking what `saveName()` does)\r\n\r\nI thought about using `doAnswer()`, but I don&#39;t know how to determine when `nameManager.getName()` has been called twice.\r\n\r\n```\r\npublic void saveName(String name) {\r\n  boolean doesNameExist = nameManager.getName(name).isPresent();\r\n  if (!doesNameExist) {\r\n    saveName(name);\r\n    if (!nameManager.getName(name).isPresent()) {\r\n      throw new Exception(&quot;Cannot verify name has been saved&quot;);\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"Mockito return value only when method is called for second time","body":"<p>In my simple example below, I am wondering how I can get <code>nameManager</code> to return a name only after <code>nameManager.getName()</code> is called for the second time with Mockito? (I know there are other things I can do, such as mocking what <code>saveName()</code> does)</p>\n<p>I thought about using <code>doAnswer()</code>, but I don't know how to determine when <code>nameManager.getName()</code> has been called twice.</p>\n<pre><code>public void saveName(String name) {\n  boolean doesNameExist = nameManager.getName(name).isPresent();\n  if (!doesNameExist) {\n    saveName(name);\n    if (!nameManager.getName(name).isPresent()) {\n      throw new Exception(&quot;Cannot verify name has been saved&quot;);\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":["java","oop","inheritance","constructor","access-specifier"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1637870472,"post_id":70116621,"comment_id":123946844,"body_markdown":"Your IDE knows that `LandVehicle` cannot be constructed until a constructor from `Vehicle` is called. Now, `Vehicle` does not have a no-arg constructor, and that means that `LandVehicle` must call the non-default constructor in `Vehicle`. This can only work if it creates a constructor in `LandVehicle` with all parameters of the superclass&#39;s constructor, which it uses to call `super(...)`","body":"Your IDE knows that <code>LandVehicle</code> cannot be constructed until a constructor from <code>Vehicle</code> is called. Now, <code>Vehicle</code> does not have a no-arg constructor, and that means that <code>LandVehicle</code> must call the non-default constructor in <code>Vehicle</code>. This can only work if it creates a constructor in <code>LandVehicle</code> with all parameters of the superclass&#39;s constructor, which it uses to call <code>super(...)</code>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1637872683,"post_id":70116621,"comment_id":123947419,"body_markdown":"_it is also using superclasses private variables_ Where is it using the superclass&#39; fields?","body":"<i>it is also using superclasses private variables</i> Where is it using the superclass&#39; fields?"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637870701,"creation_date":1637870701,"answer_id":70116691,"question_id":70116621,"body_markdown":"You cannot access vehicleName from LandVehicle. You just pass some string parameter to super constructor, and the super constructor sets the vehicleName. For example, you can&#39;t initialize this field inside LandVehicle class as `this.vehicleName = vehicleName`.","title":"Why subclasses inherit private fields?","body":"<p>You cannot access vehicleName from LandVehicle. You just pass some string parameter to super constructor, and the super constructor sets the vehicleName. For example, you can't initialize this field inside LandVehicle class as <code>this.vehicleName = vehicleName</code>.</p>\n"},{"tags":[],"owner":{"account_id":6905781,"reputation":125,"user_id":5303718,"display_name":"davidrhp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637872283,"creation_date":1637872283,"answer_id":70116931,"question_id":70116621,"body_markdown":"Generally, a class has a default constructor, taking no arguments, IF no constructor has been provided by you.\r\n\r\nWhen you subclass `Vehicle` with your `LandVehicle`, your `LandVehicle` is a type of `Vehicle`. This means that it inherits methods and field from its superclass, even if they are private. For the class `LandVehicle` these members are just not visible, but they are still present - otherwise it couldn&#39;t function properly. The private keyword is an access modifier, that changes visibility to the caller.\r\n\r\nAs a result, to instantiate a `LandVehicle`, you also must provide the required attributes of its superclass `Vehicle` (since there is no default, no-arg constructor in `Vehicle`). In your example, a `LandVehicle` without a name (from `Vehicle`) wouldn&#39;t make sense, since a `LandVehicle` is a `Vehicle`, which requires a name.","title":"Why subclasses inherit private fields?","body":"<p>Generally, a class has a default constructor, taking no arguments, IF no constructor has been provided by you.</p>\n<p>When you subclass <code>Vehicle</code> with your <code>LandVehicle</code>, your <code>LandVehicle</code> is a type of <code>Vehicle</code>. This means that it inherits methods and field from its superclass, even if they are private. For the class <code>LandVehicle</code> these members are just not visible, but they are still present - otherwise it couldn't function properly. The private keyword is an access modifier, that changes visibility to the caller.</p>\n<p>As a result, to instantiate a <code>LandVehicle</code>, you also must provide the required attributes of its superclass <code>Vehicle</code> (since there is no default, no-arg constructor in <code>Vehicle</code>). In your example, a <code>LandVehicle</code> without a name (from <code>Vehicle</code>) wouldn't make sense, since a <code>LandVehicle</code> is a <code>Vehicle</code>, which requires a name.</p>\n"}],"owner":{"display_name":"user13561105"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70116931,"answer_count":2,"score":0,"last_activity_date":1637872283,"creation_date":1637870232,"question_id":70116621,"body_markdown":"I&#39;m creating a new class which is vehicle. I&#39;m expecting the only protected variables inherit to subclasses. But when I try to create Constructor with IDE, it is also using superclasses private variables? -Which is private String vehicleName- I&#39;m not clearly understanding this situation. Shouldn&#39;t I use auto Concstructor?\r\n\r\n\tpublic class Vehicle {\r\n\t\tprotected int capacityOfPassengers;\r\n\t\tprotected String mapOfRoute;\r\n\t\tprivate String vehicleName;\r\n\t\r\n\t\tpublic Vehicle(int capacityOfPassengers, String mapOfRoute, \r\n                       String vehicleName) {\r\n\r\n\t\t\tthis.capacityOfPassengers = capacityOfPassengers;\r\n\t\t\tthis.mapOfRoute = mapOfRoute;\r\n\t\t\tthis.vehicleName = vehicleName;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class LandVehicle extends Vehicle {\r\n\t\tprivate String brand;\r\n\t\tprivate int priceModel;\r\n\t\r\n\t\tpublic LandVehicle(int capacityOfPassengers, String mapOfRoute, \r\n                           String vehicleName, String brand, int priceModel) {\r\n\r\n\t\t\tsuper(capacityOfPassengers, mapOfRoute, vehicleName);\r\n\t\t\tthis.brand = brand;\r\n\t\t\tthis.priceModel = priceModel;\r\n\t\t}\r\n\t}","title":"Why subclasses inherit private fields?","body":"<p>I'm creating a new class which is vehicle. I'm expecting the only protected variables inherit to subclasses. But when I try to create Constructor with IDE, it is also using superclasses private variables? -Which is private String vehicleName- I'm not clearly understanding this situation. Shouldn't I use auto Concstructor?</p>\n<pre><code>public class Vehicle {\n    protected int capacityOfPassengers;\n    protected String mapOfRoute;\n    private String vehicleName;\n\n    public Vehicle(int capacityOfPassengers, String mapOfRoute, \n                   String vehicleName) {\n\n        this.capacityOfPassengers = capacityOfPassengers;\n        this.mapOfRoute = mapOfRoute;\n        this.vehicleName = vehicleName;\n    }\n}\n\npublic class LandVehicle extends Vehicle {\n    private String brand;\n    private int priceModel;\n\n    public LandVehicle(int capacityOfPassengers, String mapOfRoute, \n                       String vehicleName, String brand, int priceModel) {\n\n        super(capacityOfPassengers, mapOfRoute, vehicleName);\n        this.brand = brand;\n        this.priceModel = priceModel;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1637794462,"post_id":70103839,"comment_id":123924404,"body_markdown":"Pixel perfect layouts are an illusion, too many factors go into determine how best a component should be sized and positioned.  Take the time to learn and understand how to make use of the available layout managers - see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).  Remember, you&#39;re not stuck to a single container/layout, you can compound these together to produce very complex UIs","body":"Pixel perfect layouts are an illusion, too many factors go into determine how best a component should be sized and positioned.  Take the time to learn and understand how to make use of the available layout managers - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>.  Remember, you&#39;re not stuck to a single container/layout, you can compound these together to produce very complex UIs"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637872024,"creation_date":1637795583,"answer_id":70104024,"question_id":70103839,"body_markdown":"Pixel perfect layouts are an illusion, too many factors go into determining how best a component should be sized and positioned.  \r\n\r\nTake the time to learn and understand how to make use of the available layout managers - see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).  Remember, you&#39;re not stuck to a single container/layout, you can compound these together to produce very complex UIs\r\n\r\nFor example, this is what your UI produces (when I fix the core issue)\r\n\r\n[![Original layout][1]][1]\r\n\r\nBut if I make use of an appropriate layout managers I can produce...\r\n\r\n# `GridBagLayout`\r\n\r\n[![GridBagLayout][2]][2]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n\r\n                gbc.ipadx = 8;\r\n                gbc.ipady = 8;\r\n\r\n                JLabel title = new JLabel(&quot;Choose a Program&quot;);\r\n                title.setHorizontalAlignment(JLabel.CENTER);\r\n                add(title, gbc);\r\n\r\n                JButton TempConverter = new JButton();\r\n                TempConverter.setText(&quot;Temperature Converter&quot;);\r\n                add(TempConverter, gbc);\r\n\r\n                JButton CurrentTime = new JButton();\r\n                CurrentTime.setText(&quot;Current Time&quot;);\r\n                add(CurrentTime, gbc);\r\n\r\n                JButton RussianRoulette = new JButton();\r\n                RussianRoulette.setText(&quot;Russian Roulette&quot;);\r\n                add(RussianRoulette, gbc);\r\n\r\n                JButton DaysSinceLastTrinket = new JButton();\r\n                DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\r\n                add(DaysSinceLastTrinket, gbc);\r\n\r\n                JButton SimpleCalculator = new JButton();\r\n                SimpleCalculator.setText(&quot;Simple Calculator&quot;);\r\n                add(SimpleCalculator, gbc);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nBut, I appreciate that `GridBagLayout` is one of the most complex (and flexible) layout managers, but, we can try...\r\n\r\n# &quot;Compound&quot; layout\r\n\r\nWe can isolate functionality to individual components, which can make use of their own layout managers, allowing us to focus on the individual components needs and then build up much more complex layouts...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                setLayout(new BorderLayout());\r\n\r\n                JLabel title = new JLabel(&quot;Choose a Program&quot;);\r\n                title.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                title.setHorizontalAlignment(JLabel.CENTER);\r\n                add(title, BorderLayout.NORTH);\r\n\r\n                JPanel optionsPane = new JPanel(new GridLayout(-1, 1));\r\n                optionsPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n\r\n                JButton TempConverter = new JButton();\r\n                TempConverter.setMargin(new Insets(8, 8, 8, 8));\r\n                TempConverter.setText(&quot;Temperature Converter&quot;);\r\n                optionsPane.add(TempConverter);\r\n\r\n                JButton CurrentTime = new JButton();\r\n                CurrentTime.setText(&quot;Current Time&quot;);\r\n                CurrentTime.setMargin(new Insets(8, 8, 8, 8));\r\n                optionsPane.add(CurrentTime);\r\n\r\n                JButton RussianRoulette = new JButton();\r\n                RussianRoulette.setText(&quot;Russian Roulette&quot;);\r\n                RussianRoulette.setMargin(new Insets(8, 8, 8, 8));\r\n                optionsPane.add(RussianRoulette);\r\n\r\n                JButton DaysSinceLastTrinket = new JButton();\r\n                DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\r\n                DaysSinceLastTrinket.setMargin(new Insets(8, 8, 8, 8));\r\n                optionsPane.add(DaysSinceLastTrinket);\r\n\r\n                JButton SimpleCalculator = new JButton();\r\n                SimpleCalculator.setText(&quot;Simple Calculator&quot;);\r\n                SimpleCalculator.setMargin(new Insets(8, 8, 8, 8));\r\n                optionsPane.add(SimpleCalculator);\r\n\r\n                add(optionsPane);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hSgPm.png\r\n  [2]: https://i.stack.imgur.com/L2GFS.png\r\n  [3]: https://i.stack.imgur.com/OO8KP.png\r\n\r\n*nb: If you want to change the order of the buttons, then change the order in which they are added &#128521;*","title":"Java ignoring setBounds","body":"<p>Pixel perfect layouts are an illusion, too many factors go into determining how best a component should be sized and positioned.</p>\n<p>Take the time to learn and understand how to make use of the available layout managers - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>.  Remember, you're not stuck to a single container/layout, you can compound these together to produce very complex UIs</p>\n<p>For example, this is what your UI produces (when I fix the core issue)</p>\n<p><a href=\"https://i.stack.imgur.com/hSgPm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSgPm.png\" alt=\"Original layout\" /></a></p>\n<p>But if I make use of an appropriate layout managers I can produce...</p>\n<h1><code>GridBagLayout</code></h1>\n<p><a href=\"https://i.stack.imgur.com/L2GFS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2GFS.png\" alt=\"GridBagLayout\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.fill = gbc.HORIZONTAL;\n\n            gbc.ipadx = 8;\n            gbc.ipady = 8;\n\n            JLabel title = new JLabel(&quot;Choose a Program&quot;);\n            title.setHorizontalAlignment(JLabel.CENTER);\n            add(title, gbc);\n\n            JButton TempConverter = new JButton();\n            TempConverter.setText(&quot;Temperature Converter&quot;);\n            add(TempConverter, gbc);\n\n            JButton CurrentTime = new JButton();\n            CurrentTime.setText(&quot;Current Time&quot;);\n            add(CurrentTime, gbc);\n\n            JButton RussianRoulette = new JButton();\n            RussianRoulette.setText(&quot;Russian Roulette&quot;);\n            add(RussianRoulette, gbc);\n\n            JButton DaysSinceLastTrinket = new JButton();\n            DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\n            add(DaysSinceLastTrinket, gbc);\n\n            JButton SimpleCalculator = new JButton();\n            SimpleCalculator.setText(&quot;Simple Calculator&quot;);\n            add(SimpleCalculator, gbc);\n        }\n\n    }\n}\n</code></pre>\n<p>But, I appreciate that <code>GridBagLayout</code> is one of the most complex (and flexible) layout managers, but, we can try...</p>\n<h1>&quot;Compound&quot; layout</h1>\n<p>We can isolate functionality to individual components, which can make use of their own layout managers, allowing us to focus on the individual components needs and then build up much more complex layouts...</p>\n<p><a href=\"https://i.stack.imgur.com/OO8KP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OO8KP.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setLayout(new BorderLayout());\n\n            JLabel title = new JLabel(&quot;Choose a Program&quot;);\n            title.setBorder(new EmptyBorder(8, 8, 8, 8));\n            title.setHorizontalAlignment(JLabel.CENTER);\n            add(title, BorderLayout.NORTH);\n\n            JPanel optionsPane = new JPanel(new GridLayout(-1, 1));\n            optionsPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n\n            JButton TempConverter = new JButton();\n            TempConverter.setMargin(new Insets(8, 8, 8, 8));\n            TempConverter.setText(&quot;Temperature Converter&quot;);\n            optionsPane.add(TempConverter);\n\n            JButton CurrentTime = new JButton();\n            CurrentTime.setText(&quot;Current Time&quot;);\n            CurrentTime.setMargin(new Insets(8, 8, 8, 8));\n            optionsPane.add(CurrentTime);\n\n            JButton RussianRoulette = new JButton();\n            RussianRoulette.setText(&quot;Russian Roulette&quot;);\n            RussianRoulette.setMargin(new Insets(8, 8, 8, 8));\n            optionsPane.add(RussianRoulette);\n\n            JButton DaysSinceLastTrinket = new JButton();\n            DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\n            DaysSinceLastTrinket.setMargin(new Insets(8, 8, 8, 8));\n            optionsPane.add(DaysSinceLastTrinket);\n\n            JButton SimpleCalculator = new JButton();\n            SimpleCalculator.setText(&quot;Simple Calculator&quot;);\n            SimpleCalculator.setMargin(new Insets(8, 8, 8, 8));\n            optionsPane.add(SimpleCalculator);\n\n            add(optionsPane);\n        }\n\n    }\n}\n</code></pre>\n<p><em>nb: If you want to change the order of the buttons, then change the order in which they are added 😉</em></p>\n"}],"owner":{"account_id":23445723,"reputation":29,"user_id":17502575,"display_name":"Andrew Dawson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637872024,"creation_date":1637794190,"question_id":70103839,"body_markdown":"I am a student learning java ahead of my comp sci class, and my teacher knows nothing about JFrames or JButtons, so I&#39;m reaching out here. This is my overarching program to learn about JFrames, the first menu it opens up just fine, sometimes it will set the bounds of buttons correctly, but sometimes it ignores it and fills the frame, sometimes one button, sometimes its different buttons, I couldn&#39;t find any other threads on here with the same situation, so I figured I would ask.\r\n```import javax.swing.*;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.*; \r\nimport java.util.Random;\r\npublic class programToEndAllPrograms {\r\n    public static void main(String[] args){\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(400,400);\r\n        JLabel title = new JLabel(&quot;Choose a Program&quot;);\r\n        JButton TempConverter = new JButton();\r\n        TempConverter.setText(&quot;Temperature Converter&quot;);\r\n        TempConverter.setBounds(50,155,200,50);\r\n        TempConverter.setLayout(null);\r\n        frame.add(TempConverter);\r\n        JButton CurrentTime = new JButton();\r\n        CurrentTime.setText(&quot;Current Time&quot;);\r\n        CurrentTime.setBounds(50,105,200,50);\r\n        CurrentTime.setLayout(null);\r\n        frame.add(CurrentTime);\r\n        JButton RussianRoulette = new JButton();\r\n        RussianRoulette.setText(&quot;Russian Roulette&quot;);\r\n        RussianRoulette.setBounds(50,55,200,50);\r\n        RussianRoulette.setLayout(null);\r\n        frame.add(RussianRoulette);\r\n        JButton DaysSinceLastTrinket = new JButton();\r\n        DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\r\n        DaysSinceLastTrinket.setBounds(50,15,200,50);\r\n        DaysSinceLastTrinket.setLayout(null);\r\n        frame.add(DaysSinceLastTrinket);\r\n        frame.add(title);\r\n        JButton SimpleCalculator = new JButton();\r\n        SimpleCalculator.setText(&quot;Simple Calculator&quot;);\r\n        SimpleCalculator.setBounds(50,205,200,50);\r\n        SimpleCalculator.setLayout(null);\r\n        frame.add(SimpleCalculator);\r\n        \r\n        TempConverter.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                tempConverter();\r\n            }\r\n        });\r\n        SimpleCalculator.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                simpleCalculator();\r\n            }\r\n        });\r\n        CurrentTime.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                currentTime();\r\n            }\r\n        });\r\n        RussianRoulette.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                russianRoulette();\r\n            }\r\n        });\r\n        DaysSinceLastTrinket.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                daysSinceLastTrinket();\r\n            }\r\n        });\r\n        JOptionPane.showMessageDialog(frame, &quot;Choose a program from the list:&quot;);\r\n        frame.setLayout(null);\r\n        frame.setVisible(true);\r\n\r\n    }```","title":"Java ignoring setBounds","body":"<p>I am a student learning java ahead of my comp sci class, and my teacher knows nothing about JFrames or JButtons, so I'm reaching out here. This is my overarching program to learn about JFrames, the first menu it opens up just fine, sometimes it will set the bounds of buttons correctly, but sometimes it ignores it and fills the frame, sometimes one button, sometimes its different buttons, I couldn't find any other threads on here with the same situation, so I figured I would ask.</p>\n<pre><code>import javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.*; \nimport java.util.Random;\npublic class programToEndAllPrograms {\n    public static void main(String[] args){\n        JFrame frame = new JFrame();\n        frame.setSize(400,400);\n        JLabel title = new JLabel(&quot;Choose a Program&quot;);\n        JButton TempConverter = new JButton();\n        TempConverter.setText(&quot;Temperature Converter&quot;);\n        TempConverter.setBounds(50,155,200,50);\n        TempConverter.setLayout(null);\n        frame.add(TempConverter);\n        JButton CurrentTime = new JButton();\n        CurrentTime.setText(&quot;Current Time&quot;);\n        CurrentTime.setBounds(50,105,200,50);\n        CurrentTime.setLayout(null);\n        frame.add(CurrentTime);\n        JButton RussianRoulette = new JButton();\n        RussianRoulette.setText(&quot;Russian Roulette&quot;);\n        RussianRoulette.setBounds(50,55,200,50);\n        RussianRoulette.setLayout(null);\n        frame.add(RussianRoulette);\n        JButton DaysSinceLastTrinket = new JButton();\n        DaysSinceLastTrinket.setText(&quot;Days Since Last Trinket&quot;);\n        DaysSinceLastTrinket.setBounds(50,15,200,50);\n        DaysSinceLastTrinket.setLayout(null);\n        frame.add(DaysSinceLastTrinket);\n        frame.add(title);\n        JButton SimpleCalculator = new JButton();\n        SimpleCalculator.setText(&quot;Simple Calculator&quot;);\n        SimpleCalculator.setBounds(50,205,200,50);\n        SimpleCalculator.setLayout(null);\n        frame.add(SimpleCalculator);\n        \n        TempConverter.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                tempConverter();\n            }\n        });\n        SimpleCalculator.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                simpleCalculator();\n            }\n        });\n        CurrentTime.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                currentTime();\n            }\n        });\n        RussianRoulette.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                russianRoulette();\n            }\n        });\n        DaysSinceLastTrinket.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                daysSinceLastTrinket();\n            }\n        });\n        JOptionPane.showMessageDialog(frame, &quot;Choose a program from the list:&quot;);\n        frame.setLayout(null);\n        frame.setVisible(true);\n\n    }```\n</code></pre>\n"},{"tags":["java","macos","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637867120,"post_id":70112033,"comment_id":123945986,"body_markdown":"&quot;Is this caused by incorrect scaling, or something else?&quot; -&gt; most likely, something else.  It is impossible to know what without a [mcve].","body":"&quot;Is this caused by incorrect scaling, or something else?&quot; -&gt; most likely, something else.  It is impossible to know what without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1637867436,"post_id":70112033,"comment_id":123946081,"body_markdown":"You can set the max/min size for a stage if you want.  But, from your screenshot, you also have other issues with your layout, so fixing the stage size alone, won&#39;t fix your issue.  Also, scene size is different from stage size and you specially talk only about scene size.  So, you could set the scene&#39;s initial size in its constructor, then set the max/min size of the stage to the current stage size after the stage is shown, this will ensure a scene of your required size, but fixing the layout inside your scene is another matter.","body":"You can set the max/min size for a stage if you want.  But, from your screenshot, you also have other issues with your layout, so fixing the stage size alone, won&#39;t fix your issue.  Also, scene size is different from stage size and you specially talk only about scene size.  So, you could set the scene&#39;s initial size in its constructor, then set the max/min size of the stage to the current stage size after the stage is shown, this will ensure a scene of your required size, but fixing the layout inside your scene is another matter."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637868316,"post_id":70112033,"comment_id":123946320,"body_markdown":"I don&#39;t think from your description that you want your &quot;scene to have the screen resolution&quot;. You appear to want a scene of a fixed pixel size, regardless of the [graphics display resolution](https://en.wikipedia.org/wiki/Graphics_display_resolution).  Perhaps you should edit the question to add more clarity about what you want and remove anything which is potentially misleading.","body":"I don&#39;t think from your description that you want your &quot;scene to have the screen resolution&quot;. You appear to want a scene of a fixed pixel size, regardless of the <a href=\"https://en.wikipedia.org/wiki/Graphics_display_resolution\" rel=\"nofollow noreferrer\">graphics display resolution</a>.  Perhaps you should edit the question to add more clarity about what you want and remove anything which is potentially misleading."}],"answers":[{"tags":[],"owner":{"account_id":10198491,"reputation":29,"user_id":7529600,"display_name":"Sush_TechZZZZZ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637850300,"creation_date":1637850300,"answer_id":70112747,"question_id":70112033,"body_markdown":"Try Adding the below piece of code in your main class. This will maximize the window to fit your screen resolution\r\n\r\n**Note:** However the size of the icons which are shown on your app screen may not change.\r\n\r\n    stage.setMaximized(true);","title":"How to make a Javafx app use the screen resolution that&#39;s passed into it in Scene Builder?","body":"<p>Try Adding the below piece of code in your main class. This will maximize the window to fit your screen resolution</p>\n<p><strong>Note:</strong> However the size of the icons which are shown on your app screen may not change.</p>\n<pre><code>stage.setMaximized(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17166147,"reputation":94,"user_id":12424449,"display_name":"safir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637871812,"creation_date":1637871812,"answer_id":70116855,"question_id":70112033,"body_markdown":"this ?   \r\n        \r\n\r\n    double height=  Screen.getPrimary().getBounds().getHeight();   \r\n    double width= \tScreen.getPrimary().getBounds().getWidth();  \r\n    scene = new Scene(root,width , height);  \r\n    \t\t  \r\ntho your title is asking for something that&#39;s done by default as size infos are registered in the xml used to create your views.","title":"How to make a Javafx app use the screen resolution that&#39;s passed into it in Scene Builder?","body":"<p>this ?</p>\n<pre><code>double height=  Screen.getPrimary().getBounds().getHeight();   \ndouble width=   Screen.getPrimary().getBounds().getWidth();  \nscene = new Scene(root,width , height);  \n          \n</code></pre>\n<p>tho your title is asking for something that's done by default as size infos are registered in the xml used to create your views.</p>\n"}],"owner":{"account_id":12587726,"reputation":71,"user_id":9155862,"display_name":"mkip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1055,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1637871812,"creation_date":1637847197,"question_id":70112033,"body_markdown":"I have the following JavaFx application and use Scene builder. \r\nI want my scene to have the screen resolution **1920*1080**:\r\n[![Parameters for set screen resolution][1]][1]\r\n\r\n\r\nMy display has following resolution:\r\n\r\n[![Image showing screen resolution as 2880 by 1800 pixels][2]][2]\r\n\r\n\r\nBut after running code I have the application that can&#39;t even fit into my window. Is this caused by incorrect scaling, or something else?\r\n\r\n[![Desktop showing application not fitting in window][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W78On.png\r\n  [2]: https://i.stack.imgur.com/pJm8f.png\r\n  [3]: https://i.stack.imgur.com/xB403.jpg","title":"How to make a Javafx app use the screen resolution that&#39;s passed into it in Scene Builder?","body":"<p>I have the following JavaFx application and use Scene builder.\nI want my scene to have the screen resolution <strong>1920*1080</strong>:\n<a href=\"https://i.stack.imgur.com/W78On.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W78On.png\" alt=\"Parameters for set screen resolution\" /></a></p>\n<p>My display has following resolution:</p>\n<p><a href=\"https://i.stack.imgur.com/pJm8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJm8f.png\" alt=\"Image showing screen resolution as 2880 by 1800 pixels\" /></a></p>\n<p>But after running code I have the application that can't even fit into my window. Is this caused by incorrect scaling, or something else?</p>\n<p><a href=\"https://i.stack.imgur.com/xB403.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xB403.jpg\" alt=\"Desktop showing application not fitting in window\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","testing"],"answers":[{"tags":[],"owner":{"account_id":23348762,"reputation":31,"user_id":17422620,"display_name":"Richard Smith-Uchotski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637871751,"creation_date":1637851549,"answer_id":70113090,"question_id":70103388,"body_markdown":"    @Test\r\n    void post_A_User_ErrorCheck2() throws  Exception {\r\n\r\n        objectMapper.disable(MapperFeature.USE_ANNOTATIONS);\r\n\r\n        User newUser = new User(&quot;testName&quot;, &quot;TestEmail@email.com&quot;, &quot;password$DO_NOT_MATCH123&quot;,&quot;password$123&quot;, true);\r\n\r\n        // *  Building the request\r\n        RequestBuilder postAnUser = MockMvcRequestBuilders\r\n                .post(&quot;/users&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .header(&quot;authorization&quot;, &quot;Bearer &quot; + accessToken)\r\n                .content(objectMapper.writeValueAsString(newUser));\r\n\r\n        // * Performing the Request\r\n        ResultActions postingAnUser = mockMvc.perform(postAnUser);\r\n\r\n        // * Analysing the results\r\n        MvcResult testResult = postingAnUser\r\n                .andExpect(status().isNotFound())\r\n                .andReturn();\r\n    }\r\n\r\nSo, it turned out that the JSON ignore property  `@JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;password&quot;)` that annotates the entity prevents the serialization of the data. This occurs on the object mapper object that is present in the test. The `@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)` is needed to prevent the passwords from getting returned in the response, but in this case, we use `objectMapper.disable(MapperFeature.USE_ANNOTATIONS)`, to allow them to be written. Furthermore, the test in the `@Test` has an error `isBadrequest()` that does not match the `HttpStatus.NOT_FOUND` error in the user service.","title":"java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt; Expected :400 Actual :200","body":"<pre><code>@Test\nvoid post_A_User_ErrorCheck2() throws  Exception {\n\n    objectMapper.disable(MapperFeature.USE_ANNOTATIONS);\n\n    User newUser = new User(&quot;testName&quot;, &quot;TestEmail@email.com&quot;, &quot;password$DO_NOT_MATCH123&quot;,&quot;password$123&quot;, true);\n\n    // *  Building the request\n    RequestBuilder postAnUser = MockMvcRequestBuilders\n            .post(&quot;/users&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .header(&quot;authorization&quot;, &quot;Bearer &quot; + accessToken)\n            .content(objectMapper.writeValueAsString(newUser));\n\n    // * Performing the Request\n    ResultActions postingAnUser = mockMvc.perform(postAnUser);\n\n    // * Analysing the results\n    MvcResult testResult = postingAnUser\n            .andExpect(status().isNotFound())\n            .andReturn();\n}\n</code></pre>\n<p>So, it turned out that the JSON ignore property  <code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;password&quot;)</code> that annotates the entity prevents the serialization of the data. This occurs on the object mapper object that is present in the test. The <code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)</code> is needed to prevent the passwords from getting returned in the response, but in this case, we use <code>objectMapper.disable(MapperFeature.USE_ANNOTATIONS)</code>, to allow them to be written. Furthermore, the test in the <code>@Test</code> has an error <code>isBadrequest()</code> that does not match the <code>HttpStatus.NOT_FOUND</code> error in the user service.</p>\n"}],"owner":{"account_id":23348762,"reputation":31,"user_id":17422620,"display_name":"Richard Smith-Uchotski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637871751,"creation_date":1637790773,"question_id":70103388,"body_markdown":"So, I have been testing a springboot MVC today, and when I run a test, I can not get the error to activate through using the test: \r\n\r\n```\r\n\r\n  @Test\r\n    void post_A_User_passwords_do_notMatch() throws  Exception {\r\n\r\n         User newUser = new User(&quot;TestName&quot;, &quot;TestEmail@email.com&quot;, &quot;NOT_THE_SAME&quot;,&quot;password123&quot;, true);\r\n\r\n        // * Building the request\r\n        RequestBuilder postAUser = MockMvcRequestBuilders.post(&quot;/users&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .header(&quot;authorization&quot;, &quot;Bearer &quot; + accessToken)\r\n                .content(objectMapper.writeValueAsString(newUser));\r\n\r\n        // * Sending the request\r\n        ResultActions posting = mockMvc.perform(postAUser);\r\n\r\n        // * Analysing the result\r\n        MvcResult mvcResult = posting\r\n                .andExpect(status().isBadRequest())\r\n                .andReturn();\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\nThe error never gets hit, even though I pass data through the mock post in JSON form. All I get is:\r\n\r\njava.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt;\r\nExpected :400\r\nActual   :200\r\n&lt;Click to see difference&gt;\r\n\r\nSo, I changed the actual original entity so that the instance fields had matching passwords and then not matching passwords, and hey presto the error was hit when the entity has non-matching passwords in the instance fields. So, this led me to the conclusion that when the mapping is called, a blank user entity template is passed into the service (Well one that is the same as it is set in the user model), then it runs through the business service, then the JSON data is saved into the repo after this occurs, then a response is sent in JSON that can be accessed.\r\n\r\nIdeally, I want to be able to hit the error through the JSON Data when, such that if two passwords do not match on the incoming data then the error is activated, through the user service. \r\n\r\nSo, I have questions, regarding the test, trying to hit the error and the output:\r\n \r\n\r\n 1. whether I have made the correct conclusion about the entity\r\n    getting passed in without the JSON data.\r\n 2. if any data gets saved in the as JAVA in JAVA end (IntelliJ) and it is not just persisted in the database and returned as a JSON response.\r\n 3. How would one hit the error? \r\n\r\nThe entity and then the relevant parts of the user controller and user service are posted below. I am just extending a CRUD  repository for the user repo. I have set the spring security to permit all paths.\r\n\r\n```\r\npackage bookapp.backend.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter @Setter\r\npublic class User {\r\n    @Id // Change to UUID later after testing\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column\r\n    private Integer id;\r\n\r\n    @Column\r\n    @JsonProperty(&quot;userName&quot;)\r\n    private String userName;\r\n\r\n    @Column\r\n    private String email;\r\n\r\n    @Column\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;password&quot;)\r\n    private String password = &quot;&quot;;\r\n\r\n    @Transient\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    @Column\r\n    private String passwordConfirmation = &quot;&quot;;\r\n\r\n    @Column\r\n    private Boolean isAdmin;\r\n\r\n    // Relationships\r\n\r\n    // reviews\r\n    @OneToMany\r\n    private List&lt;Review&gt;reviewList;\r\n\r\n    // Not sure how the relationship between myLibrary and myReadBooks with books will work\r\n    // Leaving this as it is for now, but might have to change annotations etc\r\n\r\n    @OneToMany\r\n    private List&lt;Book&gt; myLibrary;\r\n\r\n    @OneToMany\r\n    private List&lt;Book&gt; myReadBooks;\r\n\r\n    // * Constructors Added for Testing\r\n    public User() {\r\n    }\r\n\r\n    public User(String userName, String email, String password, String passwordConfirmation, Boolean isAdmin) {\r\n        this.userName = userName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.passwordConfirmation = passwordConfirmation;\r\n        this.isAdmin = isAdmin;\r\n    }\r\n\r\n    // * ToString Added for Testing\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, passwordConfirmation=&#39;&quot; + passwordConfirmation + &#39;\\&#39;&#39; +\r\n                &quot;, isAdmin=&quot; + isAdmin +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nThis controller method in the controller\r\n\r\n```\r\n // ! Create a new user\r\n    @PostMapping(&quot;/users&quot;)\r\n    public User postUser(@RequestBody @Valid User user) { return userService.createUser(user); }\r\n\r\n\r\n```\r\n\r\nIt also has this method in the service: \r\n\r\n```\r\n    // ! This method creates a new user in the UserRepo\r\n    public User createUser(User user) {\r\n        // ! Check if password matches the passwordConfirmation\r\n\r\n        if (!user.getPassword().equals(user.getPasswordConfirmation())) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Password does not match password confirmation&quot;);\r\n        }\r\n\r\n        // ! Check if the user already exists in the UserRepo\r\n//        Optional&lt;User&gt; existingUser = userRepo.findByUsername(user.getUserName());\r\n//        if (existingUser.isPresent()) {\r\n//            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;A user with that username already exists&quot;);\r\n//        }\r\n\r\n        // ! Encrypt password with bCrypt\r\n        String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n\r\n        return userRepo.save(user);\r\n    }\r\n```\r\n","title":"java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt; Expected :400 Actual :200","body":"<p>So, I have been testing a springboot MVC today, and when I run a test, I can not get the error to activate through using the test:</p>\n<pre><code>\n  @Test\n    void post_A_User_passwords_do_notMatch() throws  Exception {\n\n         User newUser = new User(&quot;TestName&quot;, &quot;TestEmail@email.com&quot;, &quot;NOT_THE_SAME&quot;,&quot;password123&quot;, true);\n\n        // * Building the request\n        RequestBuilder postAUser = MockMvcRequestBuilders.post(&quot;/users&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .header(&quot;authorization&quot;, &quot;Bearer &quot; + accessToken)\n                .content(objectMapper.writeValueAsString(newUser));\n\n        // * Sending the request\n        ResultActions posting = mockMvc.perform(postAUser);\n\n        // * Analysing the result\n        MvcResult mvcResult = posting\n                .andExpect(status().isBadRequest())\n                .andReturn();\n\n\n    }\n\n</code></pre>\n<p>The error never gets hit, even though I pass data through the mock post in JSON form. All I get is:</p>\n<p>java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt;\nExpected :400\nActual   :200\n</p>\n<p>So, I changed the actual original entity so that the instance fields had matching passwords and then not matching passwords, and hey presto the error was hit when the entity has non-matching passwords in the instance fields. So, this led me to the conclusion that when the mapping is called, a blank user entity template is passed into the service (Well one that is the same as it is set in the user model), then it runs through the business service, then the JSON data is saved into the repo after this occurs, then a response is sent in JSON that can be accessed.</p>\n<p>Ideally, I want to be able to hit the error through the JSON Data when, such that if two passwords do not match on the incoming data then the error is activated, through the user service.</p>\n<p>So, I have questions, regarding the test, trying to hit the error and the output:</p>\n<ol>\n<li>whether I have made the correct conclusion about the entity\ngetting passed in without the JSON data.</li>\n<li>if any data gets saved in the as JAVA in JAVA end (IntelliJ) and it is not just persisted in the database and returned as a JSON response.</li>\n<li>How would one hit the error?</li>\n</ol>\n<p>The entity and then the relevant parts of the user controller and user service are posted below. I am just extending a CRUD  repository for the user repo. I have set the spring security to permit all paths.</p>\n<pre><code>package bookapp.backend.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@Getter @Setter\npublic class User {\n    @Id // Change to UUID later after testing\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column\n    private Integer id;\n\n    @Column\n    @JsonProperty(&quot;userName&quot;)\n    private String userName;\n\n    @Column\n    private String email;\n\n    @Column\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY, value = &quot;password&quot;)\n    private String password = &quot;&quot;;\n\n    @Transient\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Column\n    private String passwordConfirmation = &quot;&quot;;\n\n    @Column\n    private Boolean isAdmin;\n\n    // Relationships\n\n    // reviews\n    @OneToMany\n    private List&lt;Review&gt;reviewList;\n\n    // Not sure how the relationship between myLibrary and myReadBooks with books will work\n    // Leaving this as it is for now, but might have to change annotations etc\n\n    @OneToMany\n    private List&lt;Book&gt; myLibrary;\n\n    @OneToMany\n    private List&lt;Book&gt; myReadBooks;\n\n    // * Constructors Added for Testing\n    public User() {\n    }\n\n    public User(String userName, String email, String password, String passwordConfirmation, Boolean isAdmin) {\n        this.userName = userName;\n        this.email = email;\n        this.password = password;\n        this.passwordConfirmation = passwordConfirmation;\n        this.isAdmin = isAdmin;\n    }\n\n    // * ToString Added for Testing\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, userName='&quot; + userName + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                &quot;, passwordConfirmation='&quot; + passwordConfirmation + '\\'' +\n                &quot;, isAdmin=&quot; + isAdmin +\n                '}';\n    }\n}\n\n</code></pre>\n<p>This controller method in the controller</p>\n<pre><code> // ! Create a new user\n    @PostMapping(&quot;/users&quot;)\n    public User postUser(@RequestBody @Valid User user) { return userService.createUser(user); }\n\n\n</code></pre>\n<p>It also has this method in the service:</p>\n<pre><code>    // ! This method creates a new user in the UserRepo\n    public User createUser(User user) {\n        // ! Check if password matches the passwordConfirmation\n\n        if (!user.getPassword().equals(user.getPasswordConfirmation())) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Password does not match password confirmation&quot;);\n        }\n\n        // ! Check if the user already exists in the UserRepo\n//        Optional&lt;User&gt; existingUser = userRepo.findByUsername(user.getUserName());\n//        if (existingUser.isPresent()) {\n//            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;A user with that username already exists&quot;);\n//        }\n\n        // ! Encrypt password with bCrypt\n        String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n\n        return userRepo.save(user);\n    }\n</code></pre>\n"},{"tags":["java","set","comparison"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1637868762,"post_id":70116351,"comment_id":123946424,"body_markdown":"you might just adapt the equals method of your Capability class. For now it should include the name property. If you are adding other fields to that class, just include them in the equals method. You won&#39;t even need the nested loops with the count variable - you can simply operate with Set&#39;s methods.","body":"you might just adapt the equals method of your Capability class. For now it should include the name property. If you are adding other fields to that class, just include them in the equals method. You won&#39;t even need the nested loops with the count variable - you can simply operate with Set&#39;s methods."},{"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"score":0,"creation_date":1637868895,"post_id":70116351,"comment_id":123946457,"body_markdown":"@juwil i wanted to avoid the for loops entirely and just do something like containsAll(). If it&#39;s not possible, well...","body":"@juwil i wanted to avoid the for loops entirely and just do something like containsAll(). If it&#39;s not possible, well..."},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1637869006,"post_id":70116351,"comment_id":123946489,"body_markdown":"it is possible- but you have to implement the equals (and hashcode btw.) for the members of your Set.","body":"it is possible- but you have to implement the equals (and hashcode btw.) for the members of your Set."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1637869039,"post_id":70116351,"comment_id":123946497,"body_markdown":"very confusing: title says *&quot;without comparing the content&quot;*, but in question *&quot;compare the sets content wise&quot;*  ?!?","body":"very confusing: title says <i>&quot;without comparing the content&quot;</i>, but in question <i>&quot;compare the sets content wise&quot;</i>  ?!?"},{"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"score":0,"creation_date":1637870218,"post_id":70116351,"comment_id":123946782,"body_markdown":"@user16320675 Yes sorry, my question is how to implement something akin to         `return this.getPrimitive().getCapabilities().containsAll(this.getReqCapabilities());` without checking the content manually, if possible. If not, what methods should I overwrite","body":"@user16320675 Yes sorry, my question is how to implement something akin to         <code>return this.getPrimitive().getCapabilities().containsAll(this.getRe&zwnj;&#8203;qCapabilities());</code> without checking the content manually, if possible. If not, what methods should I overwrite"}],"answers":[{"tags":[],"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637871461,"creation_date":1637871461,"answer_id":70116801,"question_id":70116351,"body_markdown":"So I just replaced the equals() and hashCode() methods in Capability after adding an id field.\r\n\r\n    @Override\r\n        public boolean equals(Object obj){\r\n            if(this == obj)\r\n                return true;\r\n            \r\n            if(obj == null || obj.getClass() != this.getClass())\r\n                return false;\r\n                \r\n            Capability cap = (Capability) obj;\r\n            return (cap.getName().equals(this.getName()) &amp;&amp; cap.getId() == this.getId());    \r\n        }\r\n    \r\n        @Override\r\n        public int hashCode()\r\n        {\r\n            return (int) this.id;\r\n        }\r\n\r\nWith this, I can use the solution that I&#39;d originally planned for the comparison\r\n\r\n    public boolean allCapabilitiesMet(){\r\n            return this.getPrimitive().getCapabilities().containsAll(this.getReqCapabilities());\r\n        }\r\nIs there any issue with this implementation? Sadly, I&#39;ll have to add a term to the if statement everytime I want to add a field to Capability. Is there any other way?","title":"How to compare sets without comparing the content","body":"<p>So I just replaced the equals() and hashCode() methods in Capability after adding an id field.</p>\n<pre><code>@Override\n    public boolean equals(Object obj){\n        if(this == obj)\n            return true;\n        \n        if(obj == null || obj.getClass() != this.getClass())\n            return false;\n            \n        Capability cap = (Capability) obj;\n        return (cap.getName().equals(this.getName()) &amp;&amp; cap.getId() == this.getId());    \n    }\n\n    @Override\n    public int hashCode()\n    {\n        return (int) this.id;\n    }\n</code></pre>\n<p>With this, I can use the solution that I'd originally planned for the comparison</p>\n<pre><code>public boolean allCapabilitiesMet(){\n        return this.getPrimitive().getCapabilities().containsAll(this.getReqCapabilities());\n    }\n</code></pre>\n<p>Is there any issue with this implementation? Sadly, I'll have to add a term to the if statement everytime I want to add a field to Capability. Is there any other way?</p>\n"}],"owner":{"account_id":2586186,"reputation":123,"user_id":2241851,"display_name":"Andr&#233; Rocha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637871461,"creation_date":1637868349,"question_id":70116351,"body_markdown":"So, I have two Sets with elements of my class Capability. \r\n\r\n    public class Capability {\r\n        private String name;\r\n    \r\n        public Capability(){\r\n            //\r\n        }\r\n    \r\n        public Capability(String name){\r\n            this.name = name;\r\n            //this.id = count.getAndIncrement();\r\n        }\r\n    \r\n        public String getName(){\r\n            return name;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString(){\r\n            return &quot;Capability: &quot;+name+&quot;.&quot;;\r\n        }\r\n    }\r\n\r\nPlease disregard the value of this class over a String, this is for future expansion.\r\n\r\nI&#39;m trying to compare two sets that I&#39;ve gotten from importing a json file, so they are not the same object, nor contain the same object, just have the same content.\r\n\r\n    public boolean allCapabilitiesMet(){\r\n            int count = 0;\r\n            for(Capability taskCap : this.getReqCapabilities()){\r\n                for(Capability primCap : this.getPrimitive().getCapabilities())\r\n                {\r\n                    System.out.println(taskCap.equals(primCap));\r\n                    System.out.println(taskCap.getName().equals(primCap.getName()));\r\n                    if(taskCap.equals(primCap)){\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            return count == this.getReqCapabilities().size();\r\n            //return this.getPrimitive().getCapabilities().containsAll(this.getReqCapabilities());\r\n        }\r\n\r\nThe goal is to see if one set is a subset of the other, which I could do with the commented return before I switched to importing from the json file.\r\n\r\nThe thing is, I could fix this right now by simply changing the if clause to the string comparison, because that does indeed work. This would be terrible once I start adding other fields to the main class.\r\n\r\nIs there anything I can do to compare the sets content without manually checking their content?","title":"How to compare sets without comparing the content","body":"<p>So, I have two Sets with elements of my class Capability.</p>\n<pre><code>public class Capability {\n    private String name;\n\n    public Capability(){\n        //\n    }\n\n    public Capability(String name){\n        this.name = name;\n        //this.id = count.getAndIncrement();\n    }\n\n    public String getName(){\n        return name;\n    }\n\n\n    @Override\n    public String toString(){\n        return &quot;Capability: &quot;+name+&quot;.&quot;;\n    }\n}\n</code></pre>\n<p>Please disregard the value of this class over a String, this is for future expansion.</p>\n<p>I'm trying to compare two sets that I've gotten from importing a json file, so they are not the same object, nor contain the same object, just have the same content.</p>\n<pre><code>public boolean allCapabilitiesMet(){\n        int count = 0;\n        for(Capability taskCap : this.getReqCapabilities()){\n            for(Capability primCap : this.getPrimitive().getCapabilities())\n            {\n                System.out.println(taskCap.equals(primCap));\n                System.out.println(taskCap.getName().equals(primCap.getName()));\n                if(taskCap.equals(primCap)){\n                    count++;\n                }\n            }\n        }\n        return count == this.getReqCapabilities().size();\n        //return this.getPrimitive().getCapabilities().containsAll(this.getReqCapabilities());\n    }\n</code></pre>\n<p>The goal is to see if one set is a subset of the other, which I could do with the commented return before I switched to importing from the json file.</p>\n<p>The thing is, I could fix this right now by simply changing the if clause to the string comparison, because that does indeed work. This would be terrible once I start adding other fields to the main class.</p>\n<p>Is there anything I can do to compare the sets content without manually checking their content?</p>\n"},{"tags":["java","vaadin","session-variables","vaadin7","shiro"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":3,"creation_date":1637835069,"post_id":70108729,"comment_id":123933773,"body_markdown":"There is an article about that topic: https://vaadin.com/blog/session-replication-in-the-world-of-vaadin","body":"There is an article about that topic: <a href=\"https://vaadin.com/blog/session-replication-in-the-world-of-vaadin\" rel=\"nofollow noreferrer\">vaadin.com/blog/session-replication-in-the-world-of-vaadin</a>"},{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1646654805,"post_id":70108729,"comment_id":126169174,"body_markdown":"Hi Anna, please update Apache Shiro as fast as possible. We had a few vulnerabilities you might want to patch! https://shiro.apache.org/security-reports.html - Ben","body":"Hi Anna, please update Apache Shiro as fast as possible. We had a few vulnerabilities you might want to patch! <a href=\"https://shiro.apache.org/security-reports.html\" rel=\"nofollow noreferrer\">shiro.apache.org/security-reports.html</a> - Ben"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637836405,"creation_date":1637834798,"answer_id":70109189,"question_id":70108729,"body_markdown":"&gt; Inside the VaadinSession are some fields that are not Serializable, for example a Lock and the wrapped http session inside is also marked as transient.\r\n\r\nThe wrapped http session is not part of Vaadin session, it is the the http session. Thus it is transient. The same can be said about Lock, whose instance is stored in the http session.\r\n\r\nIn order to implement session serialization correctly, you need to hook into serialization events and update the transients when session is being deserialized. `VaadinSession` should be loaded with `VaadinService#loadSession`, which calls `VaadinSession#refreshTransients`.\r\n\r\n&gt; Everything inside a VaadinSession should be serializable to ensure compatibility with schemes using serialization for persisting the session data.\r\n\r\nThis statement does not imply that you can serialize your application out of the box. It just means, that in case your application is serializable as well, with careful engineering you can serialize the whole thing.\r\n\r\nFor example Vaadin is not updating the session attribute in each possible occasion for performance reasons. There is method `VaadinService#storeSession` for that. So you need to either override right method or setup request filter. E.g. you could do this at `VaadinService#endRequest`. \r\n\r\nNote, you need to **use sticky sessions** in order to get this to work with moderate amount of effort. If your session is de-serialized in different machine, the re-entrant lock instances wont be valid. If you would like to be able to de-serialize the session in different machine, it would require that your infrastructure can offer distributed lock that you can use instead of re-entrant Lock of Java and override Vaadin&#39;s `getSessionLock` and `setSessionLock` methods to use that.\r\n\r\nValuable sources of further info:\r\n\r\nGeneric notes from Vaadin&#39;s CTO\r\n\r\nhttps://vaadin.com/blog/session-replication-in-the-world-of-vaadin\r\n\r\nTestimonial from developer who did it with one stack\r\n\r\nhttps://vaadin.com/learn/tutorials/hazelcast\r\n\r\nThoughts from another senior developer\r\n\r\nhttps://mvysny.github.io/vaadin-14-session-replication/\r\n","title":"Session replication with VaadinSession not working","body":"<blockquote>\n<p>Inside the VaadinSession are some fields that are not Serializable, for example a Lock and the wrapped http session inside is also marked as transient.</p>\n</blockquote>\n<p>The wrapped http session is not part of Vaadin session, it is the the http session. Thus it is transient. The same can be said about Lock, whose instance is stored in the http session.</p>\n<p>In order to implement session serialization correctly, you need to hook into serialization events and update the transients when session is being deserialized. <code>VaadinSession</code> should be loaded with <code>VaadinService#loadSession</code>, which calls <code>VaadinSession#refreshTransients</code>.</p>\n<blockquote>\n<p>Everything inside a VaadinSession should be serializable to ensure compatibility with schemes using serialization for persisting the session data.</p>\n</blockquote>\n<p>This statement does not imply that you can serialize your application out of the box. It just means, that in case your application is serializable as well, with careful engineering you can serialize the whole thing.</p>\n<p>For example Vaadin is not updating the session attribute in each possible occasion for performance reasons. There is method <code>VaadinService#storeSession</code> for that. So you need to either override right method or setup request filter. E.g. you could do this at <code>VaadinService#endRequest</code>.</p>\n<p>Note, you need to <strong>use sticky sessions</strong> in order to get this to work with moderate amount of effort. If your session is de-serialized in different machine, the re-entrant lock instances wont be valid. If you would like to be able to de-serialize the session in different machine, it would require that your infrastructure can offer distributed lock that you can use instead of re-entrant Lock of Java and override Vaadin's <code>getSessionLock</code> and <code>setSessionLock</code> methods to use that.</p>\n<p>Valuable sources of further info:</p>\n<p>Generic notes from Vaadin's CTO</p>\n<p><a href=\"https://vaadin.com/blog/session-replication-in-the-world-of-vaadin\" rel=\"nofollow noreferrer\">https://vaadin.com/blog/session-replication-in-the-world-of-vaadin</a></p>\n<p>Testimonial from developer who did it with one stack</p>\n<p><a href=\"https://vaadin.com/learn/tutorials/hazelcast\" rel=\"nofollow noreferrer\">https://vaadin.com/learn/tutorials/hazelcast</a></p>\n<p>Thoughts from another senior developer</p>\n<p><a href=\"https://mvysny.github.io/vaadin-14-session-replication/\" rel=\"nofollow noreferrer\">https://mvysny.github.io/vaadin-14-session-replication/</a></p>\n"}],"owner":{"account_id":5184544,"reputation":35,"user_id":4149285,"display_name":"user4149285"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70109189,"answer_count":1,"score":0,"last_activity_date":1637871173,"creation_date":1637832860,"question_id":70108729,"body_markdown":"We have a web application that is using Spring Boot (1.5) with Vaadin (7.7), and is using Apache Shiro (1.4.0) for security.\r\n\r\nThe application is configured to use `DefaultWebSessionManager` to let Shiro handle the session management instead of the servlet container.\r\n\r\nWe are using the official Vaadin Spring integration (1.2.0), and after some configuration it all works as intended. The `VaadinSession` contains a wrapped `ShiroHttpSession` internally.\r\n\r\nWe want to achieve session replication, by configuring Shiro to use a `SessionDAO` that is backed by an external `Cache`, which means the sessions get (de)serialized.\r\n\r\nAs soon as we start using this `SessionDAO`, Vaadin will crash and stop working. When replace the external cache by an in memory `Map` for the sake of debugging, it works again.\r\n\r\nIt seems this is caused by the `SpringVaadinServlet`, as it stores the `VaadinSession` as a session attribute. `VaadinSession` is `Serializable` and the Javadoc shows:\r\n\r\n&gt; Everything inside a VaadinSession should be serializable to ensure\r\n&gt; compatibility with schemes using serialization for persisting the\r\n&gt; session data.\r\n\r\nInside the `VaadinSession` are some fields that are not `Serializable`, for example a `Lock` and the wrapped http session inside is also marked as transient.\r\n\r\nBecause of this, the session that Vaadin uses will be broken as soon as it is distributed, resulting in a lot of crashes.\r\n\r\nSo it turns out the `VaadinSession` is **not** actually usable in session replication? Why is this and how can we work around this?\r\n\r\n**Note:** we also have a version of the application that is using Vaadin 8, and here the same thing happens. It seems that the issue is caused by the Vaadin Spring integration.","title":"Session replication with VaadinSession not working","body":"<p>We have a web application that is using Spring Boot (1.5) with Vaadin (7.7), and is using Apache Shiro (1.4.0) for security.</p>\n<p>The application is configured to use <code>DefaultWebSessionManager</code> to let Shiro handle the session management instead of the servlet container.</p>\n<p>We are using the official Vaadin Spring integration (1.2.0), and after some configuration it all works as intended. The <code>VaadinSession</code> contains a wrapped <code>ShiroHttpSession</code> internally.</p>\n<p>We want to achieve session replication, by configuring Shiro to use a <code>SessionDAO</code> that is backed by an external <code>Cache</code>, which means the sessions get (de)serialized.</p>\n<p>As soon as we start using this <code>SessionDAO</code>, Vaadin will crash and stop working. When replace the external cache by an in memory <code>Map</code> for the sake of debugging, it works again.</p>\n<p>It seems this is caused by the <code>SpringVaadinServlet</code>, as it stores the <code>VaadinSession</code> as a session attribute. <code>VaadinSession</code> is <code>Serializable</code> and the Javadoc shows:</p>\n<blockquote>\n<p>Everything inside a VaadinSession should be serializable to ensure\ncompatibility with schemes using serialization for persisting the\nsession data.</p>\n</blockquote>\n<p>Inside the <code>VaadinSession</code> are some fields that are not <code>Serializable</code>, for example a <code>Lock</code> and the wrapped http session inside is also marked as transient.</p>\n<p>Because of this, the session that Vaadin uses will be broken as soon as it is distributed, resulting in a lot of crashes.</p>\n<p>So it turns out the <code>VaadinSession</code> is <strong>not</strong> actually usable in session replication? Why is this and how can we work around this?</p>\n<p><strong>Note:</strong> we also have a version of the application that is using Vaadin 8, and here the same thing happens. It seems that the issue is caused by the Vaadin Spring integration.</p>\n"},{"tags":["java","mysql","numberformatexception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1637818777,"post_id":70106215,"comment_id":123928543,"body_markdown":"396.00 is a Double not an int value. So try Double.valueOf(cx).intValue()","body":"396.00 is a Double not an int value. So try Double.valueOf(cx).intValue()"},{"owner":{"account_id":20819160,"reputation":11,"user_id":15291271,"display_name":"ahad nadeem"},"score":0,"creation_date":1637820249,"post_id":70106215,"comment_id":123928817,"body_markdown":"pay.setDouble(7,Double.valueOf(c)) \nstill save error","body":"pay.setDouble(7,Double.valueOf(c))  still save error"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1637823084,"post_id":70106215,"comment_id":123929518,"body_markdown":"same for: ` int k=Integer.parseInt(jTextField5.getText());`","body":"same for: ` int k=Integer.parseInt(jTextField5.getText());`"}],"answers":[{"tags":[],"owner":{"account_id":6542152,"reputation":9,"user_id":5059257,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637821459,"creation_date":1637819940,"answer_id":70106428,"question_id":70106215,"body_markdown":"As Jens mentioned. You&#39;re attempting to cast a double/float value to int. So depending on what you&#39;re trying to do.\r\n\r\n1. If you&#39;re accepting decimal points, then it&#39;s better to change your DB schema to accept decimal and use `Double.valueOf(cx)`.\r\n\r\n2. If you&#39;re accepting Integer only, then you have to parse the input and either truncate or round off the decimal points. `(int) Math.round(Double.valueOf(cx))`\r\n   - Some people multiply the amount by 100 to include cents as a way to bypass dealing with doubles\r\n\r\nEdit:\r\nCan you post the stacktrace? Looking more closely at the code, `cx` is already an integer and you&#39;re doing `Integer.valueOf(cx)` which does nothing. Also isn&#39;t `cx` always `0` since you&#39;re doing `k-k`? Are you sure the IDs are string values? That part looks weird to me.","title":"How to solve java.lang.NumberFormatException: For input string: &quot;396.00&quot;","body":"<p>As Jens mentioned. You're attempting to cast a double/float value to int. So depending on what you're trying to do.</p>\n<ol>\n<li><p>If you're accepting decimal points, then it's better to change your DB schema to accept decimal and use <code>Double.valueOf(cx)</code>.</p>\n</li>\n<li><p>If you're accepting Integer only, then you have to parse the input and either truncate or round off the decimal points. <code>(int) Math.round(Double.valueOf(cx))</code></p>\n<ul>\n<li>Some people multiply the amount by 100 to include cents as a way to bypass dealing with doubles</li>\n</ul>\n</li>\n</ol>\n<p>Edit:\nCan you post the stacktrace? Looking more closely at the code, <code>cx</code> is already an integer and you're doing <code>Integer.valueOf(cx)</code> which does nothing. Also isn't <code>cx</code> always <code>0</code> since you're doing <code>k-k</code>? Are you sure the IDs are string values? That part looks weird to me.</p>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637823198,"creation_date":1637823198,"answer_id":70106911,"question_id":70106215,"body_markdown":"396.00 is a Double not an int value. \r\nSo you have to parse it as a double:\r\n\r\n    Double.valueOf(cx).intValue() \r\n\r\nSo your code looks like:\r\n\r\n    if(jCheckBox1.isSelected())\r\n          {\r\n              String bx=&quot;Insert into supplierpaymenttable(Supplier_ID,SupplierInvoice_ID,User_ID,InvoiceNo,TotalAmount,PaymentAmount,RemainingBalance) VALUES (?,?,?,?,?,?,?)&quot;;\r\n              \r\n            \r\n      \r\n               PreparedStatement pay=conn.prepareStatement(bx);\r\n                 int k=Double.valueOf(jTextField5.getText()).intValue();\r\n                   int cx=k-k;\r\n            \r\n\r\n           pay.setString(1,String.valueOf(supplier));\r\n           pay.setString(2,String.valueOf(det));\r\n           pay.setString(3,&quot;1&quot;);\r\n           pay.setString(4, String.valueOf(invoie));\r\n           pay.setInt(5, Integer.valueOf(jTextField5.getText()));\r\n           pay.setInt(6, Integer.valueOf(jTextField5.getText()));\r\n         \r\n           pay.setInt(7,Double.valueOf(cx).intValue());\r\n             int rsdets= pay.executeUpdate();\r\n          }\r\n","title":"How to solve java.lang.NumberFormatException: For input string: &quot;396.00&quot;","body":"<p>396.00 is a Double not an int value.\nSo you have to parse it as a double:</p>\n<pre><code>Double.valueOf(cx).intValue() \n</code></pre>\n<p>So your code looks like:</p>\n<pre><code>if(jCheckBox1.isSelected())\n      {\n          String bx=&quot;Insert into supplierpaymenttable(Supplier_ID,SupplierInvoice_ID,User_ID,InvoiceNo,TotalAmount,PaymentAmount,RemainingBalance) VALUES (?,?,?,?,?,?,?)&quot;;\n          \n        \n  \n           PreparedStatement pay=conn.prepareStatement(bx);\n             int k=Double.valueOf(jTextField5.getText()).intValue();\n               int cx=k-k;\n        \n\n       pay.setString(1,String.valueOf(supplier));\n       pay.setString(2,String.valueOf(det));\n       pay.setString(3,&quot;1&quot;);\n       pay.setString(4, String.valueOf(invoie));\n       pay.setInt(5, Integer.valueOf(jTextField5.getText()));\n       pay.setInt(6, Integer.valueOf(jTextField5.getText()));\n     \n       pay.setInt(7,Double.valueOf(cx).intValue());\n         int rsdets= pay.executeUpdate();\n      }\n</code></pre>\n"}],"owner":{"account_id":20819160,"reputation":11,"user_id":15291271,"display_name":"ahad nadeem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637869588,"creation_date":1637818335,"question_id":70106215,"body_markdown":"I have made a small application in java. I want to insert supplier payment in mysql database.Now the issue is when i try to subtract total balance with total payment and enter in balance column. so it give me error like **java.lang.NumberFormatException: For input string: &quot;396.00&quot;**. \r\nSo how can I solve it\r\n        \r\n\r\n    if(jCheckBox1.isSelected())\r\n    {\r\n        String bx=&quot;Insert into supplierpaymenttable(Supplier_ID,SupplierInvoice_ID,User_ID,InvoiceNo,TotalAmount,PaymentAmount,RemainingBalance) VALUES (?,?,?,?,?,?,?)&quot;;\r\n          \r\n        PreparedStatement pay=conn.prepareStatement(bx);\r\n        int k=Integer.parseInt(jTextField5.getText());\r\n        int cx=k-k;\r\n                    \r\n        pay.setString(1,String.valueOf(supplier));\r\n        pay.setString(2,String.valueOf(det));\r\n        pay.setString(3,&quot;1&quot;);\r\n        pay.setString(4, String.valueOf(invoie));\r\n        pay.setInt(5, Integer.valueOf(jTextField5.getText()));\r\n        pay.setInt(6, Integer.valueOf(jTextField5.getText()));\r\n             \r\n        pay.setInt(7,Integer.valueOf(cx));\r\n        int rsdets= pay.executeUpdate();\r\n    }\r\n\r\n","title":"How to solve java.lang.NumberFormatException: For input string: &quot;396.00&quot;","body":"<p>I have made a small application in java. I want to insert supplier payment in mysql database.Now the issue is when i try to subtract total balance with total payment and enter in balance column. so it give me error like <strong>java.lang.NumberFormatException: For input string: &quot;396.00&quot;</strong>.\nSo how can I solve it</p>\n<pre><code>if(jCheckBox1.isSelected())\n{\n    String bx=&quot;Insert into supplierpaymenttable(Supplier_ID,SupplierInvoice_ID,User_ID,InvoiceNo,TotalAmount,PaymentAmount,RemainingBalance) VALUES (?,?,?,?,?,?,?)&quot;;\n      \n    PreparedStatement pay=conn.prepareStatement(bx);\n    int k=Integer.parseInt(jTextField5.getText());\n    int cx=k-k;\n                \n    pay.setString(1,String.valueOf(supplier));\n    pay.setString(2,String.valueOf(det));\n    pay.setString(3,&quot;1&quot;);\n    pay.setString(4, String.valueOf(invoie));\n    pay.setInt(5, Integer.valueOf(jTextField5.getText()));\n    pay.setInt(6, Integer.valueOf(jTextField5.getText()));\n         \n    pay.setInt(7,Integer.valueOf(cx));\n    int rsdets= pay.executeUpdate();\n}\n</code></pre>\n"},{"tags":["java","apache-poi","xls"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1637925805,"post_id":70116172,"comment_id":123959018,"body_markdown":"As no complete example is given only guessing is possible. But it exactly looks like you are creating a cell style for each cell and so exceeds the limit of possible cell style count. Then after that cells only have numeric (date) cell values without style. Do creating the cell style only once on workbook level and then set that one cell style to all date cells.","body":"As no complete example is given only guessing is possible. But it exactly looks like you are creating a cell style for each cell and so exceeds the limit of possible cell style count. Then after that cells only have numeric (date) cell values without style. Do creating the cell style only once on workbook level and then set that one cell style to all date cells."}],"answers":[{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637867925,"creation_date":1637867925,"answer_id":70116287,"question_id":70116172,"body_markdown":"POI has a setCellValue(LocalDateTime) on the Cell interface (inherited by HSSFCell for xls support) -- https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDateTime-\r\n\r\nYou may need to upgrade POI to get this.","title":"Apache POI sometime renders LocalDateTime as double","body":"<p>POI has a setCellValue(LocalDateTime) on the Cell interface (inherited by HSSFCell for xls support) -- <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDateTime-\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html#setCellValue-java.time.LocalDateTime-</a></p>\n<p>You may need to upgrade POI to get this.</p>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637867925,"creation_date":1637867124,"question_id":70116172,"body_markdown":"I have this code snippet for exporting data into XLS:\r\n\r\n\r\n    final Cell newCell = dataRow.createCell(cellNo);\r\n        \r\n    final CellStyle cellStyleDateDt = workbook.createCellStyle();\r\n    final CreationHelper creationHelperDt = workbook.getCreationHelper();\r\n    cellStyleDateDt.setDataFormat(creationHelperDt.createDataFormat().getFormat(&quot;dd.mm.yyyy HH:mm&quot;));\r\n        \r\n    newCell.setCellValue(DateUtil.getExcelDate((LocalDateTime) cell.getValue()));\r\n    newCell.setCellStyle(cellStyleDateDt);\r\n\r\n\r\nSometime final XLS file is rendered like this - some `LocalDateTime` values are rendered as `double`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have Microsoft Excel for Mac, version 16.55.\r\n\r\n**Q:** Is there a way how to render XLS as requested format `dd.mm.yyyy HH:mm`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ty0qn.png","title":"Apache POI sometime renders LocalDateTime as double","body":"<p>I have this code snippet for exporting data into XLS:</p>\n<pre><code>final Cell newCell = dataRow.createCell(cellNo);\n    \nfinal CellStyle cellStyleDateDt = workbook.createCellStyle();\nfinal CreationHelper creationHelperDt = workbook.getCreationHelper();\ncellStyleDateDt.setDataFormat(creationHelperDt.createDataFormat().getFormat(&quot;dd.mm.yyyy HH:mm&quot;));\n    \nnewCell.setCellValue(DateUtil.getExcelDate((LocalDateTime) cell.getValue()));\nnewCell.setCellStyle(cellStyleDateDt);\n</code></pre>\n<p>Sometime final XLS file is rendered like this - some <code>LocalDateTime</code> values are rendered as <code>double</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/Ty0qn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ty0qn.png\" alt=\"enter image description here\" /></a></p>\n<p>I have Microsoft Excel for Mac, version 16.55.</p>\n<p><strong>Q:</strong> Is there a way how to render XLS as requested format <code>dd.mm.yyyy HH:mm</code>?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","redis","redis-cache"],"comments":[{"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"score":1,"creation_date":1637865899,"post_id":70115868,"comment_id":123945636,"body_markdown":"Start with https://github.com/redis/jedis","body":"Start with <a href=\"https://github.com/redis/jedis\" rel=\"nofollow noreferrer\">github.com/redis/jedis</a>"}],"answers":[{"tags":[],"owner":{"account_id":1763693,"reputation":1132,"user_id":1827567,"accept_rate":86,"display_name":"shrm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637867755,"creation_date":1637866184,"answer_id":70116024,"question_id":70115868,"body_markdown":"You can use `spring-data-redis` by including following dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;    \r\n    &lt;/dependency&gt;\r\n\r\nThen specify properties as below:\r\n\r\n    spring.redis.database=0\r\n    spring.redis.host=&quot;Specify URL&quot;\r\n    spring.redis.port=6379\r\n    spring.redis.password=mypass\r\n    spring.redis.timeout=60000\r\n\r\nThen using `RedisTemplate`\r\n\r\n    @Autowired\r\n    private RedisTemplate&lt;Long, Book&gt; redisTemplate;\r\n\r\n    public void save(Book book) {\r\n        redisTemplate.opsForValue().set(book.getId(), book);\r\n    }\r\n\r\n    public Book findById(Long id) {\r\n        return redisTemplate.opsForValue().get(id);\r\n    }","title":"How to use Redis Cache to store the data in java spring boot application?","body":"<p>You can use <code>spring-data-redis</code> by including following dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n<p>Then specify properties as below:</p>\n<pre><code>spring.redis.database=0\nspring.redis.host=&quot;Specify URL&quot;\nspring.redis.port=6379\nspring.redis.password=mypass\nspring.redis.timeout=60000\n</code></pre>\n<p>Then using <code>RedisTemplate</code></p>\n<pre><code>@Autowired\nprivate RedisTemplate&lt;Long, Book&gt; redisTemplate;\n\npublic void save(Book book) {\n    redisTemplate.opsForValue().set(book.getId(), book);\n}\n\npublic Book findById(Long id) {\n    return redisTemplate.opsForValue().get(id);\n}\n</code></pre>\n"}],"owner":{"account_id":23009830,"reputation":7,"user_id":17132506,"display_name":"Kakashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70116024,"answer_count":1,"score":0,"last_activity_date":1637867755,"creation_date":1637865238,"question_id":70115868,"body_markdown":"I have already a running instance of Redis Cache in AWS Account. \r\nHow can I use the redis instance using the redis instance Endpoint in my java code to store the data. \r\n\r\nI don&#39;t have any idea how to start with Redis Cache in java.\r\nPlease help me out to resolve this.","title":"How to use Redis Cache to store the data in java spring boot application?","body":"<p>I have already a running instance of Redis Cache in AWS Account.\nHow can I use the redis instance using the redis instance Endpoint in my java code to store the data.</p>\n<p>I don't have any idea how to start with Redis Cache in java.\nPlease help me out to resolve this.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":3,"creation_date":1637867456,"post_id":70116203,"comment_id":123946085,"body_markdown":"Your `paintComponent` method override does not appear to be calling the super&#39;s method, and this will break the painting chain. You really should call `super.paintComponent(g);` within your own override method, often as the first call of the method, so that Swing can do its own house-keeping painting, including removing &quot;dirty&quot; pixels from the window.","body":"Your <code>paintComponent</code> method override does not appear to be calling the super&#39;s method, and this will break the painting chain. You really should call <code>super.paintComponent(g);</code> within your own override method, often as the first call of the method, so that Swing can do its own house-keeping painting, including removing &quot;dirty&quot; pixels from the window."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1637867628,"post_id":70116203,"comment_id":123946121,"body_markdown":"Please look at the detailed answer provided by MadProgrammer in [this similar question and answer](https://stackoverflow.com/a/13281121/7210739) to see more about this issue.","body":"Please look at the detailed answer provided by MadProgrammer in <a href=\"https://stackoverflow.com/a/13281121/7210739\">this similar question and answer</a> to see more about this issue."},{"owner":{"account_id":22810399,"reputation":55,"user_id":16961801,"display_name":"Mr. Goose"},"score":0,"creation_date":1637867932,"post_id":70116203,"comment_id":123946204,"body_markdown":"Thanks, that&#39;s exactly what I needed.","body":"Thanks, that&#39;s exactly what I needed."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1637868006,"post_id":70116203,"comment_id":123946222,"body_markdown":"Yay! Glad that you&#39;ve got it working!","body":"Yay! Glad that you&#39;ve got it working!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637869235,"post_id":70116203,"comment_id":123946543,"body_markdown":"the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)) of `paintComonent` says *&quot;if you do not invoke super&#39;s implementation you must honor the opaque property, that is if this component is opaque, you must completely fill in the background in an opaque color. If you do not honor the opaque property you will likely see visual artifacts.&quot;*","body":"the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">documentation</a> of <code>paintComonent</code> says <i>&quot;if you do not invoke super&#39;s implementation you must honor the opaque property, that is if this component is opaque, you must completely fill in the background in an opaque color. If you do not honor the opaque property you will likely see visual artifacts.&quot;</i>"}],"owner":{"account_id":22810399,"reputation":55,"user_id":16961801,"display_name":"Mr. Goose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637867804,"answer_count":0,"score":0,"last_activity_date":1637867321,"creation_date":1637867321,"question_id":70116203,"body_markdown":"I am having a problem with my code where the left menu bar is being duplicated whenever I draw something in my program. When a shape gets created, it repaints the panel but is also painting the left menu bar into the panel, as you can paint over it with a new shape and it gets covered and isn&#39;t functional. I&#39;m not sure what is causing this, but the painting panel should also have it&#39;s background color set to Cyan which isn&#39;t happening.\r\n\r\n[![Upon opening][1]][1]\r\n\r\n\r\n[![After drawing][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zpv6r.png\r\n  [2]: https://i.stack.imgur.com/LdeDD.png\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Main extends JFrame implements ActionListener {\r\n\tDrawPanel centerPanel;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMain main = new Main();\r\n\t\tmain.setSize(500,500);\r\n\t\tmain.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tmain.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic Main() {\r\n\t\tsuper(&quot;My Paint App&quot;);\r\n\t\t// South\r\n\t\tJPanel southPanel = new JPanel();\r\n\t\tsouthPanel.setBackground(Color.BLACK);\r\n\t\tJButton b1 = new JButton(&quot;Undo&quot;);\r\n\t\tJButton b2 = new JButton(&quot;Erase&quot;);\r\n\t\tsouthPanel.add(b1);\r\n\t\tsouthPanel.add(b2);\r\n\t\t// West\r\n\t\tJPanel westPanel = new JPanel();\r\n\t\twestPanel.setBackground(Color.BLACK);\r\n\t\tString[] colors = {&quot;Black&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Yellow&quot;, &quot;Orange&quot;, &quot;Pink&quot;};\r\n\t\tJComboBox&lt;String&gt; list = new JComboBox&lt;String&gt;(colors);\r\n\t\tJRadioButton rectangle = new JRadioButton(&quot;Rectangle&quot;);\r\n\t\tJRadioButton circle = new JRadioButton(&quot;Circle&quot;);\r\n\t\tJRadioButton arc = new JRadioButton(&quot;Arc&quot;);\r\n\t\trectangle.setSelected(true);\r\n\t\tButtonGroup group = new ButtonGroup();\r\n\t\tgroup.add(rectangle);\r\n\t\tgroup.add(circle);\r\n\t\tgroup.add(arc);\r\n\t\tGridLayout grid = new GridLayout(7,1);\r\n\t\twestPanel.setLayout(grid);\r\n\t\twestPanel.add(list);\r\n\t\twestPanel.add(rectangle);\r\n\t\twestPanel.add(circle);\r\n\t\twestPanel.add(arc);\r\n\t\t// Center\r\n\t\tcenterPanel = new DrawPanel();\r\n\t\tcenterPanel.setBackground(Color.CYAN);\r\n\t\t// Frame\r\n\t\tBorderLayout layout = new BorderLayout();\r\n\t\tsetLayout(layout);\r\n\t\tadd(southPanel, BorderLayout.SOUTH);\r\n\t\tadd(westPanel, BorderLayout.WEST);\r\n\t\tadd(centerPanel, BorderLayout.CENTER);\r\n\t\t// Listeners\r\n\t\tlist.addActionListener(this);\r\n\t\trectangle.addActionListener(this);\r\n\t\tcircle.addActionListener(this);\r\n\t\tarc.addActionListener(this);\r\n\t\tb1.addActionListener(this);\r\n\t\tb2.addActionListener(this);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tSystem.out.println(e.getActionCommand());\r\n\t\t//** If color combo box is changed, updates what color to draw with\r\n\t\tif (e.getActionCommand().equals(&quot;comboBoxChanged&quot;)) {\r\n\t\t\tJComboBox tmp = (JComboBox) e.getSource();\r\n\t\t\tObject selection = tmp.getSelectedItem();\r\n\t\t\tSystem.out.println(selection);\r\n\t\t\tif (selection.equals(&quot;Black&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.BLACK);\r\n\t\t\telse if (selection.equals(&quot;Red&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.RED);\r\n\t\t\telse if (selection.equals(&quot;Blue&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.BLUE);\r\n\t\t\telse if (selection.equals(&quot;Green&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.GREEN);\r\n\t\t\telse if (selection.equals(&quot;Yellow&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.YELLOW);\r\n\t\t\telse if (selection.equals(&quot;Orange&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.ORANGE);\r\n\t\t\telse if (selection.equals(&quot;Pink&quot;))\r\n\t\t\t\tcenterPanel.setColor(Color.PINK);\r\n\t\t}\r\n\t\t//** If shape radio buttons are changed, updates what shape to draw\r\n\t\tif (e.getActionCommand().equals(&quot;Rectangle&quot;))\r\n\t\t\tcenterPanel.setShape(&quot;rectangle&quot;);\r\n\t\telse if (e.getActionCommand().equals(&quot;Circle&quot;))\r\n\t\t\tcenterPanel.setShape(&quot;circle&quot;);\r\n\t\telse if (e.getActionCommand().equals(&quot;Arc&quot;))\r\n\t\t\tcenterPanel.setShape(&quot;arc&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\npublic class DrawPanel extends JPanel implements MouseListener, MouseMotionListener {\r\n\tint x1, y1, x2, y2;\r\n\tColor color = Color.BLACK;\r\n\tString shape = &quot;rectangle&quot;;\r\n\t\r\n\tpublic DrawPanel() {\r\n\t\taddMouseListener(this);\r\n\t\taddMouseMotionListener(this);\r\n\t}\r\n\t\r\n\tpublic void paintComponent (Graphics g) {\r\n\t\tg.setColor(color);\r\n\t\tif (shape.equals(&quot;rectangle&quot;))\r\n\t\t\tg.fillRect(x1, y1, x2-x1, y2-y1);\r\n\t\telse if (shape.equals(&quot;circle&quot;))\r\n\t\t\tg.fillOval(x1, y1, x2-x1, y2-y1);\r\n\t\telse if (shape.equals(&quot;arc&quot;))\r\n\t\t\tg.fillArc(x1, y1, y2, y1, x2, x1);\r\n\t}\r\n\t\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\tx1 = e.getX();\r\n\t\ty1 = e.getY();\r\n\t}\r\n\t\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\tx2 = e.getX();\r\n\t\ty2 = e.getY();\r\n\t\tSystem.out.println(x1 + &quot;, &quot; + y1 + &quot;, &quot; + x2 + &quot;, &quot; + y2);\r\n\t\trepaint();\r\n\t}\r\n\t\r\n\tpublic void setColor(Color color) {\r\n\t\tthis.color = color;\r\n\t}\r\n\t\r\n\tpublic void setShape(String shape) {\r\n\t\tthis.shape = shape;\r\n\t}\r\n\t\r\n\tpublic void mouseClicked(MouseEvent e) {}\r\n\tpublic void mouseEntered(MouseEvent e) {}\r\n\tpublic void mouseExited(MouseEvent e) {}\r\n\tpublic void mouseDragged(MouseEvent e) {}\r\n\tpublic void mouseMoved(MouseEvent e) {}\r\n}\r\n```","title":"Java swing repaint() is painting an unrelated panel onto the panel that is being repainted?","body":"<p>I am having a problem with my code where the left menu bar is being duplicated whenever I draw something in my program. When a shape gets created, it repaints the panel but is also painting the left menu bar into the panel, as you can paint over it with a new shape and it gets covered and isn't functional. I'm not sure what is causing this, but the painting panel should also have it's background color set to Cyan which isn't happening.</p>\n<p><a href=\"https://i.stack.imgur.com/Zpv6r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zpv6r.png\" alt=\"Upon opening\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LdeDD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LdeDD.png\" alt=\"After drawing\" /></a></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Main extends JFrame implements ActionListener {\n    DrawPanel centerPanel;\n    \n    public static void main(String[] args) {\n        Main main = new Main();\n        main.setSize(500,500);\n        main.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        main.setVisible(true);\n    }\n    \n    public Main() {\n        super(&quot;My Paint App&quot;);\n        // South\n        JPanel southPanel = new JPanel();\n        southPanel.setBackground(Color.BLACK);\n        JButton b1 = new JButton(&quot;Undo&quot;);\n        JButton b2 = new JButton(&quot;Erase&quot;);\n        southPanel.add(b1);\n        southPanel.add(b2);\n        // West\n        JPanel westPanel = new JPanel();\n        westPanel.setBackground(Color.BLACK);\n        String[] colors = {&quot;Black&quot;, &quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;, &quot;Yellow&quot;, &quot;Orange&quot;, &quot;Pink&quot;};\n        JComboBox&lt;String&gt; list = new JComboBox&lt;String&gt;(colors);\n        JRadioButton rectangle = new JRadioButton(&quot;Rectangle&quot;);\n        JRadioButton circle = new JRadioButton(&quot;Circle&quot;);\n        JRadioButton arc = new JRadioButton(&quot;Arc&quot;);\n        rectangle.setSelected(true);\n        ButtonGroup group = new ButtonGroup();\n        group.add(rectangle);\n        group.add(circle);\n        group.add(arc);\n        GridLayout grid = new GridLayout(7,1);\n        westPanel.setLayout(grid);\n        westPanel.add(list);\n        westPanel.add(rectangle);\n        westPanel.add(circle);\n        westPanel.add(arc);\n        // Center\n        centerPanel = new DrawPanel();\n        centerPanel.setBackground(Color.CYAN);\n        // Frame\n        BorderLayout layout = new BorderLayout();\n        setLayout(layout);\n        add(southPanel, BorderLayout.SOUTH);\n        add(westPanel, BorderLayout.WEST);\n        add(centerPanel, BorderLayout.CENTER);\n        // Listeners\n        list.addActionListener(this);\n        rectangle.addActionListener(this);\n        circle.addActionListener(this);\n        arc.addActionListener(this);\n        b1.addActionListener(this);\n        b2.addActionListener(this);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(e.getActionCommand());\n        //** If color combo box is changed, updates what color to draw with\n        if (e.getActionCommand().equals(&quot;comboBoxChanged&quot;)) {\n            JComboBox tmp = (JComboBox) e.getSource();\n            Object selection = tmp.getSelectedItem();\n            System.out.println(selection);\n            if (selection.equals(&quot;Black&quot;))\n                centerPanel.setColor(Color.BLACK);\n            else if (selection.equals(&quot;Red&quot;))\n                centerPanel.setColor(Color.RED);\n            else if (selection.equals(&quot;Blue&quot;))\n                centerPanel.setColor(Color.BLUE);\n            else if (selection.equals(&quot;Green&quot;))\n                centerPanel.setColor(Color.GREEN);\n            else if (selection.equals(&quot;Yellow&quot;))\n                centerPanel.setColor(Color.YELLOW);\n            else if (selection.equals(&quot;Orange&quot;))\n                centerPanel.setColor(Color.ORANGE);\n            else if (selection.equals(&quot;Pink&quot;))\n                centerPanel.setColor(Color.PINK);\n        }\n        //** If shape radio buttons are changed, updates what shape to draw\n        if (e.getActionCommand().equals(&quot;Rectangle&quot;))\n            centerPanel.setShape(&quot;rectangle&quot;);\n        else if (e.getActionCommand().equals(&quot;Circle&quot;))\n            centerPanel.setShape(&quot;circle&quot;);\n        else if (e.getActionCommand().equals(&quot;Arc&quot;))\n            centerPanel.setShape(&quot;arc&quot;);\n    }\n\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\npublic class DrawPanel extends JPanel implements MouseListener, MouseMotionListener {\n    int x1, y1, x2, y2;\n    Color color = Color.BLACK;\n    String shape = &quot;rectangle&quot;;\n    \n    public DrawPanel() {\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    \n    public void paintComponent (Graphics g) {\n        g.setColor(color);\n        if (shape.equals(&quot;rectangle&quot;))\n            g.fillRect(x1, y1, x2-x1, y2-y1);\n        else if (shape.equals(&quot;circle&quot;))\n            g.fillOval(x1, y1, x2-x1, y2-y1);\n        else if (shape.equals(&quot;arc&quot;))\n            g.fillArc(x1, y1, y2, y1, x2, x1);\n    }\n    \n    public void mousePressed(MouseEvent e) {\n        x1 = e.getX();\n        y1 = e.getY();\n    }\n    \n    public void mouseReleased(MouseEvent e) {\n        x2 = e.getX();\n        y2 = e.getY();\n        System.out.println(x1 + &quot;, &quot; + y1 + &quot;, &quot; + x2 + &quot;, &quot; + y2);\n        repaint();\n    }\n    \n    public void setColor(Color color) {\n        this.color = color;\n    }\n    \n    public void setShape(String shape) {\n        this.shape = shape;\n    }\n    \n    public void mouseClicked(MouseEvent e) {}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e) {}\n    public void mouseDragged(MouseEvent e) {}\n    public void mouseMoved(MouseEvent e) {}\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486025814,"creation_date":1486025814,"answer_id":41997877,"question_id":41997829,"body_markdown":"It is strange but it happened in my case, sometimes my firefoxdriver wrote in wrong field even if all fields were unique and successfully found. Small time span between two sendKeys() calls solved the issue. I wasn&#39;t using sleeps (you could try with `Thread.sleep(5000)` just for test to ensure this is it), simple verification if correct text was written in the field between these 2 calls was enough time so that next sendKeys() writes in correct field.","title":"Selenium sendKeys to the wrong input","body":"<p>It is strange but it happened in my case, sometimes my firefoxdriver wrote in wrong field even if all fields were unique and successfully found. Small time span between two sendKeys() calls solved the issue. I wasn't using sleeps (you could try with <code>Thread.sleep(5000)</code> just for test to ensure this is it), simple verification if correct text was written in the field between these 2 calls was enough time so that next sendKeys() writes in correct field.</p>\n"},{"tags":[],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486026605,"creation_date":1486026605,"answer_id":41998136,"question_id":41997829,"body_markdown":"Encountered this, for my case sometimes my clear seemed to be failed and my sendKeys append the previous value. So I need to put Thread.sleep(1000) between e.clear() and e.sendKeys(). \r\n\r\nHowever based on your description it seems your issue is more to not able to point to the correct textfield. You should try to put the sleep after the sendKeys() like @acikojevic said.","title":"Selenium sendKeys to the wrong input","body":"<p>Encountered this, for my case sometimes my clear seemed to be failed and my sendKeys append the previous value. So I need to put Thread.sleep(1000) between e.clear() and e.sendKeys(). </p>\n\n<p>However based on your description it seems your issue is more to not able to point to the correct textfield. You should try to put the sleep after the sendKeys() like @acikojevic said.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599790634,"creation_date":1599790634,"answer_id":63839918,"question_id":41997829,"body_markdown":"Try *click*ing the input field first before clearing it. Without a click sometimes the field is not ready for clearing/input. So:\r\n```\r\n    e.click();\r\n    e.clear();\r\n    e.sendKeys(&quot;pouet&quot;);\r\n```","title":"Selenium sendKeys to the wrong input","body":"<p>Try <em>click</em>ing the input field first before clearing it. Without a click sometimes the field is not ready for clearing/input. So:</p>\n<pre><code>    e.click();\n    e.clear();\n    e.sendKeys(&quot;pouet&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834114,"reputation":418,"user_id":1664811,"display_name":"AlenL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637866850,"creation_date":1637866850,"answer_id":70116132,"question_id":41997829,"body_markdown":"I had a case where this exact thing happened. And adding the `element.click()` call didn&#39;t help!\r\n\r\nIt turned out the culprit is not selenium. There was a script on the page that ised `HTMLElement.focus()` to focus a particular element in the form depending on a condition. \r\n\r\nSo Selenium was actually racing with the JavaScript on the page for focus, and that caused this issue.","title":"Selenium sendKeys to the wrong input","body":"<p>I had a case where this exact thing happened. And adding the <code>element.click()</code> call didn't help!</p>\n<p>It turned out the culprit is not selenium. There was a script on the page that ised <code>HTMLElement.focus()</code> to focus a particular element in the form depending on a condition.</p>\n<p>So Selenium was actually racing with the JavaScript on the page for focus, and that caused this issue.</p>\n"}],"owner":{"account_id":7569456,"reputation":33,"user_id":5743862,"display_name":"Christian Shou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637866850,"creation_date":1486025631,"question_id":41997829,"body_markdown":"I&#39;m facing a strange issue with the sendKeys method on my Selenium test.\r\nIn my webapp I have a lot of inputs with default values, I get those inputs with a findElements() and then I try to fill them, very simple.\r\nTo simplify, I have something like that:\r\n\r\n    List&lt;WebElement&gt; allInputs = driver().findElements(By.className(&quot;pouet&quot;));\r\n    for (WebElement e : allInputs) {\r\n        e.clear();\r\n        e.sendKeys(&quot;pouet&quot;);\r\n    }\r\n\r\nAnd it can fail because sometimes the sendKeys() fills the wrong input whereas the clear() has been correctly executed on the right input.\r\n\r\nDoes anyone has already faced this kind of issue?\r\n\r\nThanks a lot :)","title":"Selenium sendKeys to the wrong input","body":"<p>I'm facing a strange issue with the sendKeys method on my Selenium test.\nIn my webapp I have a lot of inputs with default values, I get those inputs with a findElements() and then I try to fill them, very simple.\nTo simplify, I have something like that:</p>\n\n<pre><code>List&lt;WebElement&gt; allInputs = driver().findElements(By.className(\"pouet\"));\nfor (WebElement e : allInputs) {\n    e.clear();\n    e.sendKeys(\"pouet\");\n}\n</code></pre>\n\n<p>And it can fail because sometimes the sendKeys() fills the wrong input whereas the clear() has been correctly executed on the right input.</p>\n\n<p>Does anyone has already faced this kind of issue?</p>\n\n<p>Thanks a lot :)</p>\n"},{"tags":["java","swing","user-interface","tableview","javafx"],"answers":[{"tags":[],"owner":{"account_id":252690,"reputation":8808,"user_id":986387,"accept_rate":72,"display_name":"invariant"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1352683619,"creation_date":1352665980,"answer_id":13335161,"question_id":13332212,"body_markdown":"use [DataFX][1],which will make your job easier :) \r\n\r\nExample Code  : \r\n\r\n    DataSourceReader dsr1 = new FileSource(&quot;your csv file path&quot;);\r\n    String[] columnsArray // create array of column names you want to display \r\n    CSVDataSource ds1 = new CSVDataSource(dsr1,columnsArray);\r\n    TableView tableView = new TableView();\r\n    tableView.setItems(ds1.getData());\r\n    tableView.getColumns().addAll(ds1.getColumns());\r\n\r\nReference :  [Introduction to DataFX][2]\r\n             \r\n\r\n**Edit :**\r\n  **Standard JavaFX Way** \r\n\r\nreplace your code : \r\n\r\n    for(List&lt;String&gt; dataList : data) {\r\n        table1.setItems(dataList); // Requires an ObservableList!\r\n    }\r\n\r\nwith \r\n\r\n      //  which will make your table view dynamic \r\n     ObservableList&lt;ObservableList&gt; csvData = FXCollections.observableArrayList(); \r\n    \r\n     for(List&lt;String&gt; dataList : data) {\r\n         ObservableList&lt;String&gt; row = FXCollections.observableArrayList();\r\n        for( String rowData : dataList) {\r\n          row.add(rowData); \r\n      }\r\n       cvsData.add(row); // add each row to cvsData\r\n    }\r\n    \r\n    table1.setItems(cvsData); // finally add data to tableview\r\n\r\n\r\n\r\n  [1]: http://www.javafxdata.org/\r\n  [2]: http://fxexperience.com/2011/10/introduction-to-datafx/","title":"JavaFX TableView dynamic column and data values","body":"<p>use <a href=\"http://www.javafxdata.org/\" rel=\"noreferrer\">DataFX</a>,which will make your job easier :) </p>\n\n<p>Example Code  : </p>\n\n<pre><code>DataSourceReader dsr1 = new FileSource(\"your csv file path\");\nString[] columnsArray // create array of column names you want to display \nCSVDataSource ds1 = new CSVDataSource(dsr1,columnsArray);\nTableView tableView = new TableView();\ntableView.setItems(ds1.getData());\ntableView.getColumns().addAll(ds1.getColumns());\n</code></pre>\n\n<p>Reference :  <a href=\"http://fxexperience.com/2011/10/introduction-to-datafx/\" rel=\"noreferrer\">Introduction to DataFX</a></p>\n\n<p><strong>Edit :</strong>\n  <strong>Standard JavaFX Way</strong> </p>\n\n<p>replace your code : </p>\n\n<pre><code>for(List&lt;String&gt; dataList : data) {\n    table1.setItems(dataList); // Requires an ObservableList!\n}\n</code></pre>\n\n<p>with </p>\n\n<pre><code>  //  which will make your table view dynamic \n ObservableList&lt;ObservableList&gt; csvData = FXCollections.observableArrayList(); \n\n for(List&lt;String&gt; dataList : data) {\n     ObservableList&lt;String&gt; row = FXCollections.observableArrayList();\n    for( String rowData : dataList) {\n      row.add(rowData); \n  }\n   cvsData.add(row); // add each row to cvsData\n}\n\ntable1.setItems(cvsData); // finally add data to tableview\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637866802,"creation_date":1637866802,"answer_id":70116123,"question_id":13332212,"body_markdown":"I didn&#39;t follow the way described by the answer by @invariant.\r\n\r\nI had an excel file with several columns and a lot of rows. I used a `HashMap` to keep track of what value belongs to what column. This way:\r\n\r\n```java\r\nint i = 0;\r\nHashMap&lt;String, Integer&gt; columnNameIndexMap = new HashMap&lt;&gt;();\r\n\r\nfor (String header : excelFileData.getHeaders())\r\n{\r\n    TableColumn&lt;List&lt;String&gt;, String&gt; column = new TableColumn&lt;&gt;(header);\r\n    columnNameIndexMap.put(header, i++); // Adding the connecting index to our map with key, name of column\r\n\r\n    column.setCellValueFactory(data -&gt;\r\n            {\r\n                String columnName = data.getTableColumn().getText();\r\n                int currentIndex = columnNameIndexMap.get(columnName);\r\n                String currentValue = data.getValue().get(currentIndex);\r\n\r\n                return new SimpleStringProperty(currentValue);\r\n            });\r\n    tableView.getColumns().add(column);\r\n}\r\n\r\nfor (List&lt;String&gt; row : excelFileData.getRows())\r\n{\r\n    tableView.getItems().add(row);\r\n}\r\n```\r\n\r\nP.S: You can also use `excelFileData.getHeaders().indexOf(columnName)` to get the index without a `HashMap`.\r\n\r\nDo not pay attention to `excelFileData.getHeaders()` returns a list with strings and `excelFileData.getRows()` returns a list with lists of strings (`List&lt;List&lt;String&gt;&gt;`).","title":"JavaFX TableView dynamic column and data values","body":"<p>I didn't follow the way described by the answer by @invariant.</p>\n<p>I had an excel file with several columns and a lot of rows. I used a <code>HashMap</code> to keep track of what value belongs to what column. This way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nHashMap&lt;String, Integer&gt; columnNameIndexMap = new HashMap&lt;&gt;();\n\nfor (String header : excelFileData.getHeaders())\n{\n    TableColumn&lt;List&lt;String&gt;, String&gt; column = new TableColumn&lt;&gt;(header);\n    columnNameIndexMap.put(header, i++); // Adding the connecting index to our map with key, name of column\n\n    column.setCellValueFactory(data -&gt;\n            {\n                String columnName = data.getTableColumn().getText();\n                int currentIndex = columnNameIndexMap.get(columnName);\n                String currentValue = data.getValue().get(currentIndex);\n\n                return new SimpleStringProperty(currentValue);\n            });\n    tableView.getColumns().add(column);\n}\n\nfor (List&lt;String&gt; row : excelFileData.getRows())\n{\n    tableView.getItems().add(row);\n}\n</code></pre>\n<p>P.S: You can also use <code>excelFileData.getHeaders().indexOf(columnName)</code> to get the index without a <code>HashMap</code>.</p>\n<p>Do not pay attention to <code>excelFileData.getHeaders()</code> returns a list with strings and <code>excelFileData.getRows()</code> returns a list with lists of strings (<code>List&lt;List&lt;String&gt;&gt;</code>).</p>\n"}],"owner":{"account_id":981918,"reputation":748,"user_id":1001436,"accept_rate":50,"display_name":"AlenBer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26256,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13335161,"answer_count":2,"score":9,"last_activity_date":1637866802,"creation_date":1352645370,"question_id":13332212,"body_markdown":"I&#39;m testing myself with a simple CSV Viewer using JavaFX and I&#39;m stuck at populating the table data. I do create the columns dynamically, but the data values are a no-go. I searched the web and found a few ways but all ways include a ObservableList with a custom class (including get/set), which in a CSV Viewer must be dynamically (The CSV can have any number of columns, and that means any number of data values).\r\n\r\nExample:\r\n\r\n\r\n\r\n    List&lt;String&gt; columns;\r\n    List&lt;List&lt;String&gt;&gt; data;\r\n    \r\n    /* Fills &#39;columns&#39; and &#39;data&#39; */\r\n    parseCSV(&quot;C:/list.csv&quot;);\r\n    \r\n    int columnIndex = 0;\r\n    TableColumn [] tableColumns = new TableColumn[columns.size()];        \r\n    for(String columName : columns) {\r\n        tableColumns[columnIndex++] = new TableColumn(columName);\r\n    }\r\n    table1.getColumns().addAll(tableColumns);\r\n    \r\n    for(List&lt;String&gt; dataList : data) {\r\n        table1.setItems(dataList); // Requires an ObservableList!\r\n    }\r\n\r\n \r\n\r\n \r\n\r\n","title":"JavaFX TableView dynamic column and data values","body":"<p>I'm testing myself with a simple CSV Viewer using JavaFX and I'm stuck at populating the table data. I do create the columns dynamically, but the data values are a no-go. I searched the web and found a few ways but all ways include a ObservableList with a custom class (including get/set), which in a CSV Viewer must be dynamically (The CSV can have any number of columns, and that means any number of data values).</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;String&gt; columns;\nList&lt;List&lt;String&gt;&gt; data;\n\n/* Fills 'columns' and 'data' */\nparseCSV(\"C:/list.csv\");\n\nint columnIndex = 0;\nTableColumn [] tableColumns = new TableColumn[columns.size()];        \nfor(String columName : columns) {\n    tableColumns[columnIndex++] = new TableColumn(columName);\n}\ntable1.getColumns().addAll(tableColumns);\n\nfor(List&lt;String&gt; dataList : data) {\n    table1.setItems(dataList); // Requires an ObservableList!\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1637865183,"post_id":70115842,"comment_id":123945409,"body_markdown":"is FooInterface class or interface? If interface it should C implements FooInterface.","body":"is FooInterface class or interface? If interface it should C implements FooInterface."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1637865288,"post_id":70115842,"comment_id":123945447,"body_markdown":"It&#39;s poker night, &#39;cos you&#39;re going to learn about [wildcards](https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html).","body":"It&#39;s poker night, &#39;cos you&#39;re going to learn about <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">wildcards</a>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1637865307,"post_id":70115842,"comment_id":123945456,"body_markdown":"This is perfectly normal.  It&#39;s probably simplest to change `testMethod` to accept a `List&lt;? extends FooInterface&gt;`.","body":"This is perfectly normal.  It&#39;s probably simplest to change <code>testMethod</code> to accept a <code>List&lt;? extends FooInterface&gt;</code>."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1637865446,"post_id":70115842,"comment_id":123945506,"body_markdown":"@LouisWasserman this also does not work: Required typ as ? extends FooInterface, but provided is &quot;List&lt;C&gt;&quot;","body":"@LouisWasserman this also does not work: Required typ as ? extends FooInterface, but provided is &quot;List&lt;C&gt;&quot;"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637866047,"post_id":70115842,"comment_id":123945690,"body_markdown":"Post your complete code as a new question.","body":"Post your complete code as a new question."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1637866432,"post_id":70115842,"comment_id":123945797,"body_markdown":"the provided answer which flags my question as duplicate answered my question. Its just not possible.","body":"the provided answer which flags my question as duplicate answered my question. Its just not possible."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637870179,"post_id":70115842,"comment_id":123946772,"body_markdown":"This is almost certainly a solvable problem, depending on what exactly `testMethod` does.","body":"This is almost certainly a solvable problem, depending on what exactly <code>testMethod</code> does."}],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637865275,"answer_count":0,"score":0,"last_activity_date":1637865692,"creation_date":1637865083,"question_id":70115842,"body_markdown":"In short, I have a method which takes a list of an interface, but when I provide such a list via generic constraint `&lt;C extends FooInterface&gt;`, it doesn&#39;t work:\r\n\r\n    public class Utils {\r\n        public void testMethod(List&lt;FooInterface&gt; list){}\r\n    }\r\n\r\n    public class TestClass&lt;C extends FooInterface&gt; {\r\n        public final List&lt;C&gt; lists;\r\n        public TestClass(){\r\n            Utils.testMethod(lists); //&lt;&lt; this does not work because &quot;C&quot; is not &quot;FooInterface&quot;\r\n        }\r\n    }\r\n\r\n\r\nI think this should work as I defined `C` as `implements FooInterface`.\r\n","title":"Method has interface type as parameter, but doesn&#39;t take objects which implement this interface?","body":"<p>In short, I have a method which takes a list of an interface, but when I provide such a list via generic constraint <code>&lt;C extends FooInterface&gt;</code>, it doesn't work:</p>\n<pre><code>public class Utils {\n    public void testMethod(List&lt;FooInterface&gt; list){}\n}\n\npublic class TestClass&lt;C extends FooInterface&gt; {\n    public final List&lt;C&gt; lists;\n    public TestClass(){\n        Utils.testMethod(lists); //&lt;&lt; this does not work because &quot;C&quot; is not &quot;FooInterface&quot;\n    }\n}\n</code></pre>\n<p>I think this should work as I defined <code>C</code> as <code>implements FooInterface</code>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1568191402,"post_id":57885284,"comment_id":102192991,"body_markdown":"Please notice that Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. See: How to create a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please notice that Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. See: How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16561348,"reputation":11,"user_id":11967202,"display_name":"harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568192414,"creation_date":1568192414,"answer_id":57885607,"question_id":57885284,"body_markdown":"If you want to share image from your app first of all it must be store in your device and then you can share it. \r\n\r\nSecond use file provider for sharing items\r\n\r\nCreate a empty FileProvider class as mention\r\n\r\n    public class GenericFileProvider extends FileProvider {\r\n    }\r\n\r\nMention entry in android manifest as below inside application tag\r\n\r\n        &lt;provider\r\n            android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nNow create an xml file and name it as mention in manifest file &quot;provider_paths&quot; under res folder and create &quot;xml&quot; directory inside res folder and make provider_paths.xml inside it.\r\n\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\nAnd Finally paste below code to your share button!\r\n   \r\n    \r\n    File file = new File(getApplicationContext().getExternalCacheDir(),&quot;wallyfy.png&quot;);\r\n                            FileOutputStream fOut = new FileOutputStream(file);\r\n                            bitmap.compress(Bitmap.CompressFormat.JPEG,100,fOut);\r\n                            fOut.flush();\r\n                            fOut.close();\r\n                            file.setReadable(true,false);\r\n                            final Intent intent = new Intent(Intent.ACTION_SEND);\r\n                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                            intent.putExtra(Intent.EXTRA_TEXT,share);\r\n                            intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(ItemDescription.this,\r\n                                    BuildConfig.APPLICATION_ID +&quot;.provider&quot;,\r\n                                    file));\r\n                            intent.setType(&quot;image/jpg&quot;);\r\n                            startActivity(Intent.createChooser(intent,&quot;Share image via&quot;));","title":"how to share image and text in android","body":"<p>If you want to share image from your app first of all it must be store in your device and then you can share it. </p>\n\n<p>Second use file provider for sharing items</p>\n\n<p>Create a empty FileProvider class as mention</p>\n\n<pre><code>public class GenericFileProvider extends FileProvider {\n}\n</code></pre>\n\n<p>Mention entry in android manifest as below inside application tag</p>\n\n<pre><code>    &lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"${applicationId}.provider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/provider_paths\" /&gt;\n    &lt;/provider&gt;\n</code></pre>\n\n<p>Now create an xml file and name it as mention in manifest file \"provider_paths\" under res folder and create \"xml\" directory inside res folder and make provider_paths.xml inside it.</p>\n\n<pre><code>&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;external-path name=\"external_files\" path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>And Finally paste below code to your share button!</p>\n\n<pre><code>File file = new File(getApplicationContext().getExternalCacheDir(),\"wallyfy.png\");\n                        FileOutputStream fOut = new FileOutputStream(file);\n                        bitmap.compress(Bitmap.CompressFormat.JPEG,100,fOut);\n                        fOut.flush();\n                        fOut.close();\n                        file.setReadable(true,false);\n                        final Intent intent = new Intent(Intent.ACTION_SEND);\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                        intent.putExtra(Intent.EXTRA_TEXT,share);\n                        intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(ItemDescription.this,\n                                BuildConfig.APPLICATION_ID +\".provider\",\n                                file));\n                        intent.setType(\"image/jpg\");\n                        startActivity(Intent.createChooser(intent,\"Share image via\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14567778,"reputation":320,"user_id":10521937,"display_name":"Rahul Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568199217,"creation_date":1568199217,"answer_id":57887550,"question_id":57885284,"body_markdown":"    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n               sharingIntent.setType(&quot;text/plain&quot;);\r\n               sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, &quot;Title&quot;);\r\n               sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, &quot;I challenge you to beat my score at Reveal.io. Get the app now and show your skills. https://play.google.com/store/apps/details?id=com.terasoltechnologies.revealio&quot;);\r\n               startActivity(Intent.createChooser(sharingIntent, &quot;Share via&quot;));","title":"how to share image and text in android","body":"<pre><code>Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n           sharingIntent.setType(\"text/plain\");\n           sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, \"Title\");\n           sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, \"I challenge you to beat my score at Reveal.io. Get the app now and show your skills. https://play.google.com/store/apps/details?id=com.terasoltechnologies.revealio\");\n           startActivity(Intent.createChooser(sharingIntent, \"Share via\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637865473,"creation_date":1637865473,"answer_id":70115906,"question_id":57885284,"body_markdown":"As @harsh mentioned in **Java**, we can use same way in **Kotlin**:\r\n\r\n    1- Add provider in Manifest file\r\n    2- Add filepaths in XML\r\n    3- Save Image , and Path of file\r\n    4- Share File\r\n\r\n************** **SHARE** ***************\r\n\r\n    val imagePath = File(this.cacheDir, &quot;images&quot;)\r\n    val newFile = File(imagePath, imageName)\r\n    val contentUri = FileProvider.getUriForFile(this, &quot;com.src.noveinway.fileprovider&quot;, newFile)\r\n    if (contentUri != null) {\r\n        val shareIntent = Intent()\r\n        shareIntent.action = Intent.ACTION_SEND\r\n        shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION) \r\n        shareIntent.type =&quot;image/jpeg&quot; \r\n        shareIntent.putExtra(Intent.EXTRA_STREAM, contentUri)\r\n        shareIntent.putExtra(Intent.EXTRA_TEXT, &quot;This is a file for share&quot;)\r\n        startActivity(Intent.createChooser(shareIntent, &quot;Choose app&quot;))","title":"how to share image and text in android","body":"<p>As @harsh mentioned in <strong>Java</strong>, we can use same way in <strong>Kotlin</strong>:</p>\n<pre><code>1- Add provider in Manifest file\n2- Add filepaths in XML\n3- Save Image , and Path of file\n4- Share File\n</code></pre>\n<p>************** <strong>SHARE</strong> ***************</p>\n<pre><code>val imagePath = File(this.cacheDir, &quot;images&quot;)\nval newFile = File(imagePath, imageName)\nval contentUri = FileProvider.getUriForFile(this, &quot;com.src.noveinway.fileprovider&quot;, newFile)\nif (contentUri != null) {\n    val shareIntent = Intent()\n    shareIntent.action = Intent.ACTION_SEND\n    shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION) \n    shareIntent.type =&quot;image/jpeg&quot; \n    shareIntent.putExtra(Intent.EXTRA_STREAM, contentUri)\n    shareIntent.putExtra(Intent.EXTRA_TEXT, &quot;This is a file for share&quot;)\n    startActivity(Intent.createChooser(shareIntent, &quot;Choose app&quot;))\n</code></pre>\n"}],"owner":{"account_id":10795122,"reputation":11,"user_id":7941174,"display_name":"Raj Salunkhe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1920,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1637865473,"creation_date":1568191162,"question_id":57885284,"body_markdown":"im created socail site and i want to share users post to external app\r\n\r\n\r\n \r\n                        Intent sendIntent = new Intent();\r\n                                        sendIntent.setAction(Intent.ACTION_SEND);\r\n                                        sendIntent.setType(&quot;text/plain&quot;);\r\n                                        sendIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Knackbe&quot;);\r\n                                       // sendIntent.putExtra(Intent.EXTRA_STREAM, imageUri);\r\n                                        sendIntent.putExtra(Intent.EXTRA_TEXT, AppPreferences.KEY_GET_APP_SHARE_TEXT + &quot; &quot; + &quot;LInk&quot; + mPostList.get(position));\r\n                                        mContext.startActivity(Intent.createChooser(sendIntent, &quot;Share via&quot;));\r\n\r\n","title":"how to share image and text in android","body":"<p>im created socail site and i want to share users post to external app</p>\n\n<pre><code>                    Intent sendIntent = new Intent();\n                                    sendIntent.setAction(Intent.ACTION_SEND);\n                                    sendIntent.setType(\"text/plain\");\n                                    sendIntent.putExtra(Intent.EXTRA_SUBJECT, \"Knackbe\");\n                                   // sendIntent.putExtra(Intent.EXTRA_STREAM, imageUri);\n                                    sendIntent.putExtra(Intent.EXTRA_TEXT, AppPreferences.KEY_GET_APP_SHARE_TEXT + \" \" + \"LInk\" + mPostList.get(position));\n                                    mContext.startActivity(Intent.createChooser(sendIntent, \"Share via\"));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1540394367,"post_id":52972337,"comment_id":92851544,"body_markdown":"Add specific name for your bean an then use `@Qualifier(name)` to make sure that your bean has been injected.","body":"Add specific name for your bean an then use <code>@Qualifier(name)</code> to make sure that your bean has been injected."},{"owner":{"account_id":13951013,"reputation":569,"user_id":10074518,"display_name":"Ray S"},"score":0,"creation_date":1540403303,"post_id":52972337,"comment_id":92856719,"body_markdown":"There is just one bean of each type. so no need of qualifier here.","body":"There is just one bean of each type. so no need of qualifier here."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1540454442,"post_id":52972337,"comment_id":92874155,"body_markdown":"Watching the NIO threads might not be the way to go since they can serve many sockets simultaneously. When your test is running, use `netstat -n` to see how many concurrent TCP connections are being maintained to your target host. (-n is faster because it doesn&#39;t have to resolve host names)","body":"Watching the NIO threads might not be the way to go since they can serve many sockets simultaneously. When your test is running, use <code>netstat -n</code> to see how many concurrent TCP connections are being maintained to your target host. (-n is faster because it doesn&#39;t have to resolve host names)"},{"owner":{"account_id":13951013,"reputation":569,"user_id":10074518,"display_name":"Ray S"},"score":0,"creation_date":1540577317,"post_id":52972337,"comment_id":92931814,"body_markdown":"Target host is out of my domain. Its a third party service. I just want to see what happens at my end","body":"Target host is out of my domain. Its a third party service. I just want to see what happens at my end"}],"answers":[{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637864993,"creation_date":1637864993,"answer_id":70115822,"question_id":52972337,"body_markdown":"In my case I&#39;m using http component as soap client library and I use a class implementing WebServiceGatewaySupport.\r\nOn this i do as follows:\r\n\r\n    httpComponentsRequestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    httpComponentsRequestFactory.setReadTimeout(readTimeout);\r\n    httpComponentsRequestFactory.setConnectTimeout(connectionTimeout);\r\n    httpComponentsRequestFactory.setHttpClient(createHttpClient(createConnectionManager(), createRequestConfig()));\r\n    client.setMessageSender(new ClientHttpRequestMessageSender(httpComponentsRequestFactory));\r\n\r\nand enabling logging to level DEBUG for org.apache.http I see now:\r\n\r\n    Connection released: [id: 0][route: {}-&gt;http://host:8080][total available: 1; route allocated: 1 of 100; total allocated: 1 of 100]\r\n\r\nso I manged to rise the default to 100 connections.","title":"PoolingHttpClientConnectionManager setMaxTotal or setDefaultMaxPerRoute don&#39;t seem to work","body":"<p>In my case I'm using http component as soap client library and I use a class implementing WebServiceGatewaySupport.\nOn this i do as follows:</p>\n<pre><code>httpComponentsRequestFactory = new HttpComponentsClientHttpRequestFactory();\nhttpComponentsRequestFactory.setReadTimeout(readTimeout);\nhttpComponentsRequestFactory.setConnectTimeout(connectionTimeout);\nhttpComponentsRequestFactory.setHttpClient(createHttpClient(createConnectionManager(), createRequestConfig()));\nclient.setMessageSender(new ClientHttpRequestMessageSender(httpComponentsRequestFactory));\n</code></pre>\n<p>and enabling logging to level DEBUG for org.apache.http I see now:</p>\n<pre><code>Connection released: [id: 0][route: {}-&gt;http://host:8080][total available: 1; route allocated: 1 of 100; total allocated: 1 of 100]\n</code></pre>\n<p>so I manged to rise the default to 100 connections.</p>\n"}],"owner":{"account_id":13951013,"reputation":569,"user_id":10074518,"display_name":"Ray S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1637864993,"creation_date":1540393564,"question_id":52972337,"body_markdown":"In a spring boot application, I am creating a connection pool using PoolingHttpClientConnectonManager as follows:\r\n\r\n          @Bean\r\n    \t  public PoolingHttpClientConnectionManager createCM() {\r\n    \t    PoolingHttpClientConnectionManager pcm = new PoolingHttpClientConnectionManager();\r\n    \t    poolingHttpClientConnectionManager.setMaxTotal(100);\r\n    \t    poolingHttpClientConnectionManager.setDefaultMaxPerRoute(100);\r\n    \t    return pcm;\r\n    \t  }\r\n\r\nSince I have only one route, I keep the values of setMaxTotal and setDefaultMaxPerRoute same.\r\n\r\nThe underlying httpClient configuration is as follows:\r\n\r\n \r\n\r\n          @Bean\r\n    \t  public CloseableHttpClient createHttpClient(PoolingHttpClientConnectionManager pcm, RequestConfig rc) {\r\n    \t\t  \r\n    \t\t  CloseableHttpClient httpClient = HttpClientBuilder\r\n    \t      .create()\r\n    \t      .setConnectionManager(pcm)\r\n    \t      .setDefaultRequestConfig(rc)\r\n    \t      .build();\r\n    \t    return httpClient;\r\n    \t  }\r\n\r\nNow the problem is that when I stress test my application under very heavy loads to see how my connection pool would behave, I don&#39;t see the expected. \r\nI monitor the threads of the application using jConsole and every single time I see only 2 connection pool threads in runnable state namely https-jsse-nio-80-ClientPoller-1 and https-jsse-nio-80-ClientPoller-2.\r\n\r\nI presume under heavy loads of the order of 1500 requests per second, it should have done it by more than 2 (default) connections in the pool. wondering what&#39;s going wrong or if my configuration is not correct.","title":"PoolingHttpClientConnectionManager setMaxTotal or setDefaultMaxPerRoute don&#39;t seem to work","body":"<p>In a spring boot application, I am creating a connection pool using PoolingHttpClientConnectonManager as follows:</p>\n\n<pre><code>      @Bean\n      public PoolingHttpClientConnectionManager createCM() {\n        PoolingHttpClientConnectionManager pcm = new PoolingHttpClientConnectionManager();\n        poolingHttpClientConnectionManager.setMaxTotal(100);\n        poolingHttpClientConnectionManager.setDefaultMaxPerRoute(100);\n        return pcm;\n      }\n</code></pre>\n\n<p>Since I have only one route, I keep the values of setMaxTotal and setDefaultMaxPerRoute same.</p>\n\n<p>The underlying httpClient configuration is as follows:</p>\n\n<pre><code>      @Bean\n      public CloseableHttpClient createHttpClient(PoolingHttpClientConnectionManager pcm, RequestConfig rc) {\n\n          CloseableHttpClient httpClient = HttpClientBuilder\n          .create()\n          .setConnectionManager(pcm)\n          .setDefaultRequestConfig(rc)\n          .build();\n        return httpClient;\n      }\n</code></pre>\n\n<p>Now the problem is that when I stress test my application under very heavy loads to see how my connection pool would behave, I don't see the expected. \nI monitor the threads of the application using jConsole and every single time I see only 2 connection pool threads in runnable state namely https-jsse-nio-80-ClientPoller-1 and https-jsse-nio-80-ClientPoller-2.</p>\n\n<p>I presume under heavy loads of the order of 1500 requests per second, it should have done it by more than 2 (default) connections in the pool. wondering what's going wrong or if my configuration is not correct.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637858428,"post_id":70114419,"comment_id":123943207,"body_markdown":"For better help sooner, [edit] to add a [mre].","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/70114419/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637861720,"post_id":70114419,"comment_id":123944330,"body_markdown":"What are `Cell` and `GridPanel`?","body":"What are <code>Cell</code> and <code>GridPanel</code>?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637861936,"post_id":70114419,"comment_id":123944405,"body_markdown":"`rects.add(rect);` This will add all rectangles to a list every time `paintComponent()` is called. You should only initialize the list once on creation instead.","body":"<code>rects.add(rect);</code> This will add all rectangles to a list every time <code>paintComponent()</code> is called. You should only initialize the list once on creation instead."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637864525,"post_id":70114419,"comment_id":123945228,"body_markdown":"You should have one drawing `JPanel` that&#39;s responsible for all drawings.  You maintain the state of the board with a logical model consisting of one or more Java getter/setter classes.  The drawing `JPanel` reads the game state from the logical model and draws the game board accordingly.  You have to draw everything in each and every frame of your game.","body":"You should have one drawing <code>JPanel</code> that&#39;s responsible for all drawings.  You maintain the state of the board with a logical model consisting of one or more Java getter/setter classes.  The drawing <code>JPanel</code> reads the game state from the logical model and draws the game board accordingly.  You have to draw everything in each and every frame of your game."}],"answers":[{"tags":[],"owner":{"account_id":23449393,"reputation":1,"user_id":17505761,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637861030,"creation_date":1637861030,"answer_id":70115164,"question_id":70114419,"body_markdown":"It is not clear what you try to achive.\r\nWhat is the reason for RectCell? Why not paint the shapes direct in the RectGridPanel?\r\nThe nested loop in the paintComponent it not a good idea. Be aware that the paintComponent is called very often and every time you in crease the rects list with new objects. The former painted rectangles get lost (qraphicaly) and new rectangles with the same parameters are blowing the list.\r\n","title":"PaintComponent disrupting grid drawing","body":"<p>It is not clear what you try to achive.\nWhat is the reason for RectCell? Why not paint the shapes direct in the RectGridPanel?\nThe nested loop in the paintComponent it not a good idea. Be aware that the paintComponent is called very often and every time you in crease the rects list with new objects. The former painted rectangles get lost (qraphicaly) and new rectangles with the same parameters are blowing the list.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637864823,"creation_date":1637864823,"answer_id":70115796,"question_id":70114419,"body_markdown":"```\r\npublic class RectCell extends Cell\r\n{\r\n    Rectangle shape;\r\n    \r\n    public RectCell(int x, int y, Simulator sim)\r\n    {\r\n        super(x, y, sim);\r\n        shape = new Rectangle(x, y, CELL_SIZE, CELL_SIZE);\r\n    }\r\n    \r\n    @Override\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setPaint(Color.BLACK);\r\n        g2.fill(shape);\r\n    }\r\n}\r\n```\r\n\r\nThe `Graphics` object that is passed to this `paintComponent()` function defines the screen space where the current `RectCell` can draw. The coordinate sysetem is relative to the upper left corner of the `RectCell`, so drawing the background should always start at `x = 0` and `y = 0` or some other meaningful value. The coordinates here are not relative to the parent component as you seem to assume.\r\n\r\nBetter yet, set the background color and let Swing take care of painting it rather than painting a rectangle yourself.","title":"PaintComponent disrupting grid drawing","body":"<pre><code>public class RectCell extends Cell\n{\n    Rectangle shape;\n    \n    public RectCell(int x, int y, Simulator sim)\n    {\n        super(x, y, sim);\n        shape = new Rectangle(x, y, CELL_SIZE, CELL_SIZE);\n    }\n    \n    @Override\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setPaint(Color.BLACK);\n        g2.fill(shape);\n    }\n}\n</code></pre>\n<p>The <code>Graphics</code> object that is passed to this <code>paintComponent()</code> function defines the screen space where the current <code>RectCell</code> can draw. The coordinate sysetem is relative to the upper left corner of the <code>RectCell</code>, so drawing the background should always start at <code>x = 0</code> and <code>y = 0</code> or some other meaningful value. The coordinates here are not relative to the parent component as you seem to assume.</p>\n<p>Better yet, set the background color and let Swing take care of painting it rather than painting a rectangle yourself.</p>\n"}],"owner":{"account_id":20082547,"reputation":11,"user_id":14724864,"display_name":"HairyGnome"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115796,"answer_count":2,"score":0,"last_activity_date":1637864823,"creation_date":1637857486,"question_id":70114419,"body_markdown":"I&#39;m new to Java as well as user interfaces, and I have a problem with Java Graphics. What I&#39;m trying to achieve is drawing a grid on a JPanel, and then paint custom components into the grid.\r\n\r\nHere is the class I want to draw the grid on (its base extends JPanel).\r\n```\r\npublic class RectGridPanel extends GridPanel\r\n{\r\n\r\n\tList&lt;Rectangle&gt; rects;\t\r\n\t\r\n\tpublic RectGridPanel(Simulator sim)\r\n\t{\r\n\t\tsuper(sim);\r\n\t\t\r\n\t\tthis.rects = new ArrayList&lt;Rectangle&gt;();\t\t\r\n\t\t\r\n\t\tthis.setLayout(new GridLayout(20,20));\r\n\t\t\r\n\t\tfor(int x = 1; x &lt; 801; x += 40)\r\n\t\t{\r\n\t\t\tfor(int y = 2; y &lt; 801; y += 40)\r\n\t\t\t{\r\n\t\t\t\tCell newCell = new RectCell(x, y, sim);\r\n\t\t\t\tthis.add(newCell);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g)\r\n\t{\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n        g2.setPaint(Color.BLACK);\r\n\t\tfor(int x = 1; x &lt; 801; x += 40)\r\n\t\t{\r\n\t\t\tfor(int y = 2; y &lt; 801; y += 40)\r\n\t\t\t{\r\n\t\t\t\tRectangle rect = new Rectangle(x, y, 40, 40);\r\n\t\t\t\tg2.draw(rect);\r\n\t\t\t\trects.add(rect);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHere are the cells I want to draw inside the grid:\r\n```\r\npublic class RectCell extends Cell\r\n{\r\n\tRectangle shape;\r\n\t\r\n\tpublic RectCell(int x, int y, Simulator sim)\r\n\t{\r\n\t\tsuper(x, y, sim);\r\n\t\tshape = new Rectangle(x, y, CELL_SIZE, CELL_SIZE);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g)\r\n\t{\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tg2.setPaint(Color.BLACK);\r\n        g2.fill(shape);\r\n\t}\r\n}\r\n```\r\nSo the grid on its own draws out fine, but as soon as I try to create cells inside it it gets disrupted like that: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rnt7h.png","title":"PaintComponent disrupting grid drawing","body":"<p>I'm new to Java as well as user interfaces, and I have a problem with Java Graphics. What I'm trying to achieve is drawing a grid on a JPanel, and then paint custom components into the grid.</p>\n<p>Here is the class I want to draw the grid on (its base extends JPanel).</p>\n<pre><code>public class RectGridPanel extends GridPanel\n{\n\n    List&lt;Rectangle&gt; rects;  \n    \n    public RectGridPanel(Simulator sim)\n    {\n        super(sim);\n        \n        this.rects = new ArrayList&lt;Rectangle&gt;();        \n        \n        this.setLayout(new GridLayout(20,20));\n        \n        for(int x = 1; x &lt; 801; x += 40)\n        {\n            for(int y = 2; y &lt; 801; y += 40)\n            {\n                Cell newCell = new RectCell(x, y, sim);\n                this.add(newCell);\n            }\n        }\n        \n    }\n    \n    @Override\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setPaint(Color.BLACK);\n        for(int x = 1; x &lt; 801; x += 40)\n        {\n            for(int y = 2; y &lt; 801; y += 40)\n            {\n                Rectangle rect = new Rectangle(x, y, 40, 40);\n                g2.draw(rect);\n                rects.add(rect);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here are the cells I want to draw inside the grid:</p>\n<pre><code>public class RectCell extends Cell\n{\n    Rectangle shape;\n    \n    public RectCell(int x, int y, Simulator sim)\n    {\n        super(x, y, sim);\n        shape = new Rectangle(x, y, CELL_SIZE, CELL_SIZE);\n    }\n    \n    @Override\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setPaint(Color.BLACK);\n        g2.fill(shape);\n    }\n}\n</code></pre>\n<p>So the grid on its own draws out fine, but as soon as I try to create cells inside it it gets disrupted like that: <a href=\"https://i.stack.imgur.com/Rnt7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rnt7h.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-contentresolver","android-recyclerview","android-sharing"],"answers":[{"tags":[],"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457843622,"creation_date":1457843622,"answer_id":35966511,"question_id":35966487,"body_markdown":"try with \r\n\r\n     share.setType(&quot;image/*&quot;);","title":"How to share image to social media with bitmap?","body":"<p>try with </p>\n\n<pre><code> share.setType(\"image/*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637864210,"creation_date":1637864210,"answer_id":70115698,"question_id":35966487,"body_markdown":"In **Kotlin**, if your SDK below 29:\r\n*where you need give the address of your file!*\r\n\r\n    val share = Intent(Intent.ACTION_SEND)\r\n              share.type = &quot;image/jpeg&quot;\r\n              share.putExtra(Intent.EXTRA_STREAM,Uri.parse(file.path) ) // or Uri.fromFile(file)\r\n              share.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n              share.flags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\n              startActivity(Intent.createChooser(share, &quot;Share Image&quot;))\r\n\r\nBut if you want cover all **SDK** , it&#39;s better use **FileProvider**","title":"How to share image to social media with bitmap?","body":"<p>In <strong>Kotlin</strong>, if your SDK below 29:\n<em>where you need give the address of your file!</em></p>\n<pre><code>val share = Intent(Intent.ACTION_SEND)\n          share.type = &quot;image/jpeg&quot;\n          share.putExtra(Intent.EXTRA_STREAM,Uri.parse(file.path) ) // or Uri.fromFile(file)\n          share.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n          share.flags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n          startActivity(Intent.createChooser(share, &quot;Share Image&quot;))\n</code></pre>\n<p>But if you want cover all <strong>SDK</strong> , it's better use <strong>FileProvider</strong></p>\n"}],"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5662,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35966511,"answer_count":2,"score":3,"last_activity_date":1637864210,"creation_date":1457843378,"question_id":35966487,"body_markdown":"I need to share an image from my RecyclerAdapter because the image does not initially exist, i.e. is loaded within the Activity making use of the adapter. How can I share the bitmap to social media? Every time I click share in my app it says &quot;No apps can perform this action&quot;.\r\n\r\n    feedItemView.setFeedSocialShareClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // Share to Social Media\r\n    \r\n                    ImageView imageView = (ImageView) feedItemView.findViewById(R.id.image);\r\n                    Drawable mDrawable = imageView.getDrawable();\r\n                    Bitmap mBitmap = ((BitmapDrawable)mDrawable).getBitmap();\r\n    \r\n                    String path = MediaStore.Images.Media.insertImage(context.getContentResolver(),\r\n                            mBitmap, &quot;Design&quot;, null);\r\n    \r\n                    Uri uri = Uri.parse(path);\r\n    \r\n                    Intent share = new Intent(Intent.ACTION_SEND);\r\n                    share.setType(&quot;image&quot;);\r\n                    share.putExtra(Intent.EXTRA_STREAM, uri);\r\n                    share.putExtra(Intent.EXTRA_TEXT, &quot;I found something cool!&quot;);\r\n                    context.startActivity(Intent.createChooser(share, &quot;Share Your Design!&quot;));\r\n                }\r\n            });","title":"How to share image to social media with bitmap?","body":"<p>I need to share an image from my RecyclerAdapter because the image does not initially exist, i.e. is loaded within the Activity making use of the adapter. How can I share the bitmap to social media? Every time I click share in my app it says \"No apps can perform this action\".</p>\n\n<pre><code>feedItemView.setFeedSocialShareClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Share to Social Media\n\n                ImageView imageView = (ImageView) feedItemView.findViewById(R.id.image);\n                Drawable mDrawable = imageView.getDrawable();\n                Bitmap mBitmap = ((BitmapDrawable)mDrawable).getBitmap();\n\n                String path = MediaStore.Images.Media.insertImage(context.getContentResolver(),\n                        mBitmap, \"Design\", null);\n\n                Uri uri = Uri.parse(path);\n\n                Intent share = new Intent(Intent.ACTION_SEND);\n                share.setType(\"image\");\n                share.putExtra(Intent.EXTRA_STREAM, uri);\n                share.putExtra(Intent.EXTRA_TEXT, \"I found something cool!\");\n                context.startActivity(Intent.createChooser(share, \"Share Your Design!\"));\n            }\n        });\n</code></pre>\n"},{"tags":["java","stack-dump"],"answers":[{"tags":[],"owner":{"account_id":48820,"reputation":39370,"user_id":145185,"display_name":"OverZealous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313471053,"creation_date":1313471053,"answer_id":7073798,"question_id":7071643,"body_markdown":"Well, my guess is that it is unstable, or the JVM maintainers (Sun-now-Oracle) simply don&#39;t want to maintain it as a supported feature.  You can tell this simply by the `-XX:` prefix:\r\n\r\n&gt; Options that are specified with -XX are not stable and are not recommended for casual use. These options are subject to change without notice.\r\n\r\n*- from [Java HotSpot VM Options](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html)*\r\n\r\nAlso from that page, that option can be dynamically enabled or disabled via the JDK management interface, so you can enable it via an MXBean if you need.\r\n\r\n&gt; Flags marked as manageable are dynamically writeable through the JDK management interface (com.sun.management.HotSpotDiagnosticMXBean API) and also through JConsole. In Monitoring and Managing Java SE 6 Platform Applications, Figure 3 shows an example. The manageable flags can also be set through jinfo -flag.\r\n\r\nFinally, the [jstack](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html) Stack Trace tool can perform the same functionality at any time without requiring it enabled all the time.","title":"Why is this Hotspot JVM option not the default? -XX:+PrintConcurrentLocks","body":"<p>Well, my guess is that it is unstable, or the JVM maintainers (Sun-now-Oracle) simply don't want to maintain it as a supported feature.  You can tell this simply by the <code>-XX:</code> prefix:</p>\n\n<blockquote>\n  <p>Options that are specified with -XX are not stable and are not recommended for casual use. These options are subject to change without notice.</p>\n</blockquote>\n\n<p><em>- from <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">Java HotSpot VM Options</a></em></p>\n\n<p>Also from that page, that option can be dynamically enabled or disabled via the JDK management interface, so you can enable it via an MXBean if you need.</p>\n\n<blockquote>\n  <p>Flags marked as manageable are dynamically writeable through the JDK management interface (com.sun.management.HotSpotDiagnosticMXBean API) and also through JConsole. In Monitoring and Managing Java SE 6 Platform Applications, Figure 3 shows an example. The manageable flags can also be set through jinfo -flag.</p>\n</blockquote>\n\n<p>Finally, the <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">jstack</a> Stack Trace tool can perform the same functionality at any time without requiring it enabled all the time.</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1314902419,"creation_date":1314902419,"answer_id":7274900,"question_id":7071643,"body_markdown":"I asked Oracle (my employer has a support contact) and the answer is basically that the option is safe to use and that many purely-diagnostic features are disabled by default and this is one of those options.  IMO, if a diagnostic feature is safe and stable and doesn&#39;t introduce a performance penalty, then it should be on by default.  It appears that this is not the view at (then) Sun and (now) Oracle.\r\n","title":"Why is this Hotspot JVM option not the default? -XX:+PrintConcurrentLocks","body":"<p>I asked Oracle (my employer has a support contact) and the answer is basically that the option is safe to use and that many purely-diagnostic features are disabled by default and this is one of those options.  IMO, if a diagnostic feature is safe and stable and doesn't introduce a performance penalty, then it should be on by default.  It appears that this is not the view at (then) Sun and (now) Oracle.</p>\n"},{"tags":[],"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637864158,"creation_date":1504825064,"answer_id":46106284,"question_id":7071643,"body_markdown":"Because only ReentrantLocks know which threads they are related to. To get this information on Runtime a realization of this method should go over the heap to find all locks and their threads.","title":"Why is this Hotspot JVM option not the default? -XX:+PrintConcurrentLocks","body":"<p>Because only ReentrantLocks know which threads they are related to. To get this information on Runtime a realization of this method should go over the heap to find all locks and their threads.</p>\n"}],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2701,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7274900,"answer_count":3,"score":7,"last_activity_date":1637864158,"creation_date":1313448037,"question_id":7071643,"body_markdown":"By default, with Hotspot, a CTRL-Break thread dump will not list what threads are holding `java.lang.concurrent` locks.  And I understand that with these locks, Hotspot cannot have information about at which stack frame a lock was acquired.  If you add the JVM option `-XX:+PrintConcurrentLocks`, then a CTRL-Break stack dump will list (after a thread&#39;s stack trace) any concurrent locks held by that frame.  For example:\r\n\r\n    &quot;D-Java-5-Lock&quot; prio=6 tid=0x00000000069a1800 nid=0x196c runnable [0x000000000770f000]\r\n       java.lang.Thread.State: RUNNABLE\r\n          at com.Tester.longDelay(Tester.java:41)\r\n          at com.Tester$D.run(Tester.java:88)\r\n\r\n       Locked ownable synchronizers:\r\n          - &lt;0x00000007d6030898&gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\r\nWithout this option, it isn&#39;t possible to figure out what thread is holding this lock in a post-mortem.  Why is this option not the default?  Is there some non-obvious performance or stability penalty?  When I search to find discussion of this, nothing comes up.\r\n","title":"Why is this Hotspot JVM option not the default? -XX:+PrintConcurrentLocks","body":"<p>By default, with Hotspot, a CTRL-Break thread dump will not list what threads are holding <code>java.lang.concurrent</code> locks.  And I understand that with these locks, Hotspot cannot have information about at which stack frame a lock was acquired.  If you add the JVM option <code>-XX:+PrintConcurrentLocks</code>, then a CTRL-Break stack dump will list (after a thread's stack trace) any concurrent locks held by that frame.  For example:</p>\n\n<pre><code>\"D-Java-5-Lock\" prio=6 tid=0x00000000069a1800 nid=0x196c runnable [0x000000000770f000]\n   java.lang.Thread.State: RUNNABLE\n      at com.Tester.longDelay(Tester.java:41)\n      at com.Tester$D.run(Tester.java:88)\n\n   Locked ownable synchronizers:\n      - &lt;0x00000007d6030898&gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\n</code></pre>\n\n<p>Without this option, it isn't possible to figure out what thread is holding this lock in a post-mortem.  Why is this option not the default?  Is there some non-obvious performance or stability penalty?  When I search to find discussion of this, nothing comes up.</p>\n"},{"tags":["java","scala","maven","apache-spark","intellij-idea"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1478425267,"post_id":40447836,"comment_id":68141671,"body_markdown":"It&#39;s looking for a class whose *fully-qualified name* is `text.DefaultSource`. The directory you showed as screenshot of was for the package `org.apache.spark.sql.execution.datasources.text`.","body":"It&#39;s looking for a class whose <i>fully-qualified name</i> is <code>text.DefaultSource</code>. The directory you showed as screenshot of was for the package <code>org.apache.spark.sql.execution.datasources.text</code>."},{"owner":{"account_id":9589140,"reputation":21,"user_id":7120710,"display_name":"nastia klochkova"},"score":0,"creation_date":1478434284,"post_id":40447836,"comment_id":68143892,"body_markdown":"thank you for comment! where should I add it?","body":"thank you for comment! where should I add it?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1478434661,"post_id":40447836,"comment_id":68143972,"body_markdown":"Add what? I&#39;m not sure what you&#39;re asking - nor do I know the solution, I just thought it would help you diagnose it.","body":"Add what? I&#39;m not sure what you&#39;re asking - nor do I know the solution, I just thought it would help you diagnose it."},{"owner":{"account_id":415333,"reputation":9319,"user_id":790075,"accept_rate":50,"display_name":"turtlemonvh"},"score":0,"creation_date":1524180953,"post_id":40447836,"comment_id":86879221,"body_markdown":"This was very helpful for me.  I ran into an issue where I was getting this log line `Caused by: java.lang.ClassNotFoundException: .DefaultSource`.  This led me to notice that there was a bug in our code setting the string name for output type to `&quot;&quot;`.","body":"This was very helpful for me.  I ran into an issue where I was getting this log line <code>Caused by: java.lang.ClassNotFoundException: .DefaultSource</code>.  This led me to notice that there was a bug in our code setting the string name for output type to <code>&quot;&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":244340,"reputation":8860,"user_id":517073,"accept_rate":87,"display_name":"Stepan Yakovenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541318969,"creation_date":1541318969,"answer_id":53138889,"question_id":40447836,"body_markdown":"I had look-alike problem, for me this element in maven was missing:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"java.lang.ClassNotFoundException: text.DefaultSource","body":"<p>I had look-alike problem, for me this element in maven was missing:</p>\n\n<p><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></p>\n"},{"tags":[],"owner":{"account_id":18017293,"reputation":1,"user_id":13095488,"display_name":"fierev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584718985,"creation_date":1584718985,"answer_id":60777291,"question_id":40447836,"body_markdown":"This issue could be easily sorted out only if you try to run the same jar using by spark-submit to run jar instead of java -jar in terminal.\r\n","title":"java.lang.ClassNotFoundException: text.DefaultSource","body":"<p>This issue could be easily sorted out only if you try to run the same jar using by spark-submit to run jar instead of java -jar in terminal.</p>\n"},{"tags":[],"owner":{"account_id":1831862,"reputation":930,"user_id":1663094,"accept_rate":0,"display_name":"Oleksandr Tsurika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637864034,"creation_date":1637861594,"answer_id":70115269,"question_id":40447836,"body_markdown":"The reason of the error is that `Spark` uses `Service Locator` pattern.\r\nIn `spark-sql_2.10` `META-INF/services` there is file `org.apache.spark.sql.sources.DataSourceRegister` which registers datasources:\r\n\r\n    org.apache.spark.sql.execution.datasources.csv.CSVFileFormat\r\n    org.apache.spark.sql.execution.datasources.jdbc.JdbcRelationProvider\r\n    org.apache.spark.sql.execution.datasources.json.JsonFileFormat\r\n    org.apache.spark.sql.execution.datasources.orc.OrcFileFormat\r\n    org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat\r\n    org.apache.spark.sql.execution.datasources.text.TextFileFormat\r\n    org.apache.spark.sql.execution.streaming.ConsoleSinkProvider\r\n    org.apache.spark.sql.execution.streaming.sources.RateStreamProvider\r\n    org.apache.spark.sql.execution.streaming.sources.TextSocketSourceProvider\r\n\r\nThe same file is in `spark-mllib_2.11` `META-INF/services`.\r\nMaven `assembly` plugin takes one file (the first in dependencies, with the same name) from the jars without merging it. So required classes are included in the uber jar. But service locator configuration file `org.apache.spark.sql.sources.DataSourceRegister` is not merged from two files. Thus only datasources from `spark-mllib_2.11` are registered:\r\n\r\n    org.apache.spark.ml.source.libsvm.LibSVMFileFormat\r\n\r\nTo fix the issue use shade plugin and add transformer to merge service locator configuration:\r\n\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                            ...\r\n                            &lt;/transformers&gt; \r\n                            ...\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"java.lang.ClassNotFoundException: text.DefaultSource","body":"<p>The reason of the error is that <code>Spark</code> uses <code>Service Locator</code> pattern.\nIn <code>spark-sql_2.10</code> <code>META-INF/services</code> there is file <code>org.apache.spark.sql.sources.DataSourceRegister</code> which registers datasources:</p>\n<pre><code>org.apache.spark.sql.execution.datasources.csv.CSVFileFormat\norg.apache.spark.sql.execution.datasources.jdbc.JdbcRelationProvider\norg.apache.spark.sql.execution.datasources.json.JsonFileFormat\norg.apache.spark.sql.execution.datasources.orc.OrcFileFormat\norg.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat\norg.apache.spark.sql.execution.datasources.text.TextFileFormat\norg.apache.spark.sql.execution.streaming.ConsoleSinkProvider\norg.apache.spark.sql.execution.streaming.sources.RateStreamProvider\norg.apache.spark.sql.execution.streaming.sources.TextSocketSourceProvider\n</code></pre>\n<p>The same file is in <code>spark-mllib_2.11</code> <code>META-INF/services</code>.\nMaven <code>assembly</code> plugin takes one file (the first in dependencies, with the same name) from the jars without merging it. So required classes are included in the uber jar. But service locator configuration file <code>org.apache.spark.sql.sources.DataSourceRegister</code> is not merged from two files. Thus only datasources from <code>spark-mllib_2.11</code> are registered:</p>\n<pre><code>org.apache.spark.ml.source.libsvm.LibSVMFileFormat\n</code></pre>\n<p>To fix the issue use shade plugin and add transformer to merge service locator configuration:</p>\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                        ...\n                        &lt;/transformers&gt; \n                        ...\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":9589140,"reputation":21,"user_id":7120710,"display_name":"nastia klochkova"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1637864034,"creation_date":1478424675,"question_id":40447836,"body_markdown":"I have a scala maven application with spark. I use Intellij Idea. I did an executable-jar from it but when I try to launch it via windows console there is an error about lack of some class. I can&#39;t figure out there is a problem because I&#39;ve added it in &lt;dependency&gt; block in my .pom file. Also when I look inside .jar I see that library with that class:\r\n\r\n*needed library in .jar:*\r\n![needed library in .jar][1]\r\n\r\nI tried to use both plugins: maven-shade-plugin and maven-assembly-plugin and result is the same. And I tried to set this library explicitly in classpath through project structure-&gt;libraries in Intellij:\r\n\r\n*classpath in IDEA:*\r\n![classpath in idea][2].\r\n\r\nAny help would be greatly appreciated!\r\nHere is my code: \r\n\r\n    import org.apache.spark.broadcast.Broadcast\r\n    import org.apache.spark.ml.recommendation.{ALS, ALSModel}\r\n    import org.apache.spark.sql.functions._\r\n    import org.apache.spark.sql.{DataFrame, Dataset, SparkSession}\r\n    import scala.collection.{Map, Set}\r\n    import scala.collection.mutable.ArrayBuffer\r\n    import scala.util.Random\r\n    object RunRecommender {\r\n    \r\n      def main(args: Array[String]): Unit = {\r\n        val spark: SparkSession =SparkSession.builder()\r\n          .master(&quot;local&quot;)\r\n          .appName(&quot;Recommender Engines with Audioscrobbler data&quot;)\r\n          .config(&quot;spark.sql.warehouse.dir&quot;, &quot;spark-warehouse&quot;)\r\n          .getOrCreate()\r\n    \r\n        val rawUserArtistData: Dataset[String] = spark.read.textFile(&quot;user_artist_data.txt&quot;)\r\n        val rawArtistData: Dataset[String] = spark.read.textFile(&quot;artist_data.txt&quot;)\r\n        val rawArtistAlias: Dataset[String] = spark.read.textFile(&quot;artist_alias.txt&quot;)\r\n    \r\n        val runRecommender: RunRecommender = new RunRecommender(spark)\r\n        runRecommender.preparation(rawUserArtistData, rawArtistData, rawArtistAlias)\r\n        runRecommender.model(rawUserArtistData, rawArtistData, rawArtistAlias)\r\n        runRecommender.evaluate(rawUserArtistData, rawArtistAlias)\r\n        runRecommender.recommend(rawUserArtistData, rawArtistData, rawArtistAlias)\r\n      }\r\n    \r\n    }\r\n\r\nand here is my .pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;recommends&lt;/groupId&gt;\r\n        &lt;artifactId&gt;recommends&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;Recommender Engine with Audioscrobbler data&lt;/name&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;mavencentral&lt;/id&gt;\r\n            &lt;name&gt;Maven Central&lt;/name&gt;\r\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.0.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;RunRecommender&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;scala-compile-first&lt;/id&gt;\r\n                                &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;add-source&lt;/goal&gt;\r\n                                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;scala-test-compile&lt;/id&gt;\r\n                                &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;RunRecommender&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-mllib_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_2.10&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand here is stack-trace when I try to run jar:\r\n\r\n    16/11/06 11:56:40 WARN SparkContext: Use an existing SparkContext, some configuration may not take effect.\r\n    16/11/06 11:56:40 INFO SharedState: Warehouse path is &#39;spark-warehouse&#39;.\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: Failed to find data source: text. Please find packages at http://spark-packages.org\r\n            at org.apache.spark.sql.execution.datasources.DataSource.lookupDataSource(DataSource.scala:145)\r\n            at org.apache.spark.sql.execution.datasources.DataSource.providingClass$lzycompute(DataSource.scala:78)\r\n            at org.apache.spark.sql.execution.datasources.DataSource.providingClass(DataSource.scala:78)\r\n            at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:310)\r\n            at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\r\n            at org.apache.spark.sql.DataFrameReader.text(DataFrameReader.scala:492)\r\n            at org.apache.spark.sql.DataFrameReader.textFile(DataFrameReader.scala:528)\r\n            at org.apache.spark.sql.DataFrameReader.textFile(DataFrameReader.scala:501)\r\n            at RunRecommender$.main(RunRecommender.scala:20)\r\n            at RunRecommender.main(RunRecommender.scala)\r\n    Caused by: java.lang.ClassNotFoundException: text.DefaultSource\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5$$anonfun$apply$1.apply(DataSource.scala:130)\r\n            at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5$$anonfun$apply$1.apply(DataSource.scala:130)\r\n            at scala.util.Try$.apply(Try.scala:192)\r\n            at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5.apply(DataSource.scala:130)\r\n            at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5.apply(DataSource.scala:130)\r\n            at scala.util.Try.orElse(Try.scala:84)\r\n            at org.apache.spark.sql.execution.datasources.DataSource.lookupDataSource(DataSource.scala:130)\r\n            ... 9 more\r\n    16/11/06 11:56:40 INFO SparkContext: Invoking stop() from shutdown hook\r\n    1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lxVuR.png\r\n  [2]: https://i.stack.imgur.com/Xjx0A.png","title":"java.lang.ClassNotFoundException: text.DefaultSource","body":"<p>I have a scala maven application with spark. I use Intellij Idea. I did an executable-jar from it but when I try to launch it via windows console there is an error about lack of some class. I can't figure out there is a problem because I've added it in  block in my .pom file. Also when I look inside .jar I see that library with that class:</p>\n\n<p><em>needed library in .jar:</em>\n<img src=\"https://i.stack.imgur.com/lxVuR.png\" alt=\"needed library in .jar\"></p>\n\n<p>I tried to use both plugins: maven-shade-plugin and maven-assembly-plugin and result is the same. And I tried to set this library explicitly in classpath through project structure->libraries in Intellij:</p>\n\n<p><em>classpath in IDEA:</em>\n<img src=\"https://i.stack.imgur.com/Xjx0A.png\" alt=\"classpath in idea\">.</p>\n\n<p>Any help would be greatly appreciated!\nHere is my code: </p>\n\n<pre><code>import org.apache.spark.broadcast.Broadcast\nimport org.apache.spark.ml.recommendation.{ALS, ALSModel}\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.{DataFrame, Dataset, SparkSession}\nimport scala.collection.{Map, Set}\nimport scala.collection.mutable.ArrayBuffer\nimport scala.util.Random\nobject RunRecommender {\n\n  def main(args: Array[String]): Unit = {\n    val spark: SparkSession =SparkSession.builder()\n      .master(\"local\")\n      .appName(\"Recommender Engines with Audioscrobbler data\")\n      .config(\"spark.sql.warehouse.dir\", \"spark-warehouse\")\n      .getOrCreate()\n\n    val rawUserArtistData: Dataset[String] = spark.read.textFile(\"user_artist_data.txt\")\n    val rawArtistData: Dataset[String] = spark.read.textFile(\"artist_data.txt\")\n    val rawArtistAlias: Dataset[String] = spark.read.textFile(\"artist_alias.txt\")\n\n    val runRecommender: RunRecommender = new RunRecommender(spark)\n    runRecommender.preparation(rawUserArtistData, rawArtistData, rawArtistAlias)\n    runRecommender.model(rawUserArtistData, rawArtistData, rawArtistAlias)\n    runRecommender.evaluate(rawUserArtistData, rawArtistAlias)\n    runRecommender.recommend(rawUserArtistData, rawArtistData, rawArtistAlias)\n  }\n\n}\n</code></pre>\n\n<p>and here is my .pom file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;recommends&lt;/groupId&gt;\n    &lt;artifactId&gt;recommends&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Recommender Engine with Audioscrobbler data&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;mavencentral&lt;/id&gt;\n        &lt;name&gt;Maven Central&lt;/name&gt;\n        &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;RunRecommender&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;scala-compile-first&lt;/id&gt;\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;add-source&lt;/goal&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;scala-test-compile&lt;/id&gt;\n                            &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;testCompile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;mainClass&gt;RunRecommender&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-mllib_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.10&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and here is stack-trace when I try to run jar:</p>\n\n<pre><code>16/11/06 11:56:40 WARN SparkContext: Use an existing SparkContext, some configuration may not take effect.\n16/11/06 11:56:40 INFO SharedState: Warehouse path is 'spark-warehouse'.\nException in thread \"main\" java.lang.ClassNotFoundException: Failed to find data source: text. Please find packages at http://spark-packages.org\n        at org.apache.spark.sql.execution.datasources.DataSource.lookupDataSource(DataSource.scala:145)\n        at org.apache.spark.sql.execution.datasources.DataSource.providingClass$lzycompute(DataSource.scala:78)\n        at org.apache.spark.sql.execution.datasources.DataSource.providingClass(DataSource.scala:78)\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:310)\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\n        at org.apache.spark.sql.DataFrameReader.text(DataFrameReader.scala:492)\n        at org.apache.spark.sql.DataFrameReader.textFile(DataFrameReader.scala:528)\n        at org.apache.spark.sql.DataFrameReader.textFile(DataFrameReader.scala:501)\n        at RunRecommender$.main(RunRecommender.scala:20)\n        at RunRecommender.main(RunRecommender.scala)\nCaused by: java.lang.ClassNotFoundException: text.DefaultSource\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5$$anonfun$apply$1.apply(DataSource.scala:130)\n        at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5$$anonfun$apply$1.apply(DataSource.scala:130)\n        at scala.util.Try$.apply(Try.scala:192)\n        at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5.apply(DataSource.scala:130)\n        at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$5.apply(DataSource.scala:130)\n        at scala.util.Try.orElse(Try.scala:84)\n        at org.apache.spark.sql.execution.datasources.DataSource.lookupDataSource(DataSource.scala:130)\n        ... 9 more\n16/11/06 11:56:40 INFO SparkContext: Invoking stop() from shutdown hook\n1\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","macos-monterey"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1637782658,"post_id":70101952,"comment_id":123920880,"body_markdown":"you don&#39;t need to &quot;install&quot; it. Just copy the file somewhere and add it to the classpath of your Java application.","body":"you don&#39;t need to &quot;install&quot; it. Just copy the file somewhere and add it to the classpath of your Java application."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1637783584,"post_id":70101952,"comment_id":123921182,"body_markdown":"Do you have `Java(JDK)` installed? That seems to be a work in progress for the `M1` chip. See [Java/JDK for the Apple M1 chip](https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip).","body":"Do you have <code>Java(JDK)</code> installed? That seems to be a work in progress for the <code>M1</code> chip. See <a href=\"https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip\">Java/JDK for the Apple M1 chip</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637796644,"post_id":70101952,"comment_id":123924884,"body_markdown":"@AdrianKlaver No, not a work-in-progress, not any more so than any other implementation of Java. Apple is an active and official member of the OpenJDK project. Mac computers with M1 chip are one of the several platforms supported fully on the OpenJDK project as of Java 17. See [*JEP 391: macOS/AArch64 Port*](https://openjdk.java.net/jeps/391). And previous versions of Java for macOS/AArch64 are provided by multiple vendors such as Azul Systems.","body":"@AdrianKlaver No, not a work-in-progress, not any more so than any other implementation of Java. Apple is an active and official member of the OpenJDK project. Mac computers with M1 chip are one of the several platforms supported fully on the OpenJDK project as of Java 17. See <a href=\"https://openjdk.java.net/jeps/391\" rel=\"nofollow noreferrer\"><i>JEP 391: macOS/AArch64 Port</i></a>. And previous versions of Java for macOS/AArch64 are provided by multiple vendors such as Azul Systems."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637796831,"post_id":70101952,"comment_id":123924932,"body_markdown":"Why is Safari involved? You do not use a web browser to operate a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver).","body":"Why is Safari involved? You do not use a web browser to operate a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637863849,"creation_date":1637797131,"answer_id":70104216,"question_id":70101952,"body_markdown":"Merely include the JDBC driver’s [JAR file][1] as a dependency within your Java app as you would any other library. \r\n\r\n - If using a dependency management tool (highly recommended) such as Maven or Gradle, add a configuration entry for the JDBC driver. The tool will locate, download, and place the JDBC driver’s JAR file into your project.\r\n - If manually managing your dependencies, download the driver and place within the correct folder for your project. \r\n\r\nAt deployment time, the JDBC driver is automatically registered with the [JVM][2] via the [SPI][3] facility in Java. This works as long as the driver appears on the Java [Classpath][4].\r\n\r\nOne exception is for web-app servers such as Apache Tomcat. In such a case, you may need to install the JDBC driver manually into a special location for that server rather than within your app. This has been covered many times on Stack Overflow, so search to learn more.\r\n\r\nThe driver *PostgreSQL JDBC Driver 42.3.1* from [here](https://jdbc.postgresql.org/) is a [Type 4 driver][5]. This means it is written entirely in Java. So that driver will run on any machine capable of running a JVM. A [Mac][6] computer with an [Apple M1][7] chip is nothing special in this regard, and is quite capable of making JDBC connections to a Postgres server. \r\n\r\nThe fact that you report an error message from Safari is quite confusing. The Safari web browser has nothing to do with running Java apps nor JDBC drivers.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.wikipedia.org/wiki/Service_provider_interface\r\n  [4]: https://en.wikipedia.org/wiki/Classpath\r\n  [5]: https://en.wikipedia.org/wiki/JDBC_driver#Type_4_driver_%E2%80%93_Database-Protocol_driver/Thin_Driver(Pure_Java_driver)\r\n  [6]: https://en.wikipedia.org/wiki/Macintosh\r\n  [7]: https://en.wikipedia.org/wiki/Apple_M1","title":"I can&#39;t install JDBC driver for PostgreSQL on my macbook air m1","body":"<p>Merely include the JDBC driver’s <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR file</a> as a dependency within your Java app as you would any other library.</p>\n<ul>\n<li>If using a dependency management tool (highly recommended) such as Maven or Gradle, add a configuration entry for the JDBC driver. The tool will locate, download, and place the JDBC driver’s JAR file into your project.</li>\n<li>If manually managing your dependencies, download the driver and place within the correct folder for your project.</li>\n</ul>\n<p>At deployment time, the JDBC driver is automatically registered with the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> via the <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">SPI</a> facility in Java. This works as long as the driver appears on the Java <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">Classpath</a>.</p>\n<p>One exception is for web-app servers such as Apache Tomcat. In such a case, you may need to install the JDBC driver manually into a special location for that server rather than within your app. This has been covered many times on Stack Overflow, so search to learn more.</p>\n<p>The driver <em>PostgreSQL JDBC Driver 42.3.1</em> from <a href=\"https://jdbc.postgresql.org/\" rel=\"nofollow noreferrer\">here</a> is a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver#Type_4_driver_%E2%80%93_Database-Protocol_driver/Thin_Driver(Pure_Java_driver)\" rel=\"nofollow noreferrer\">Type 4 driver</a>. This means it is written entirely in Java. So that driver will run on any machine capable of running a JVM. A <a href=\"https://en.wikipedia.org/wiki/Macintosh\" rel=\"nofollow noreferrer\">Mac</a> computer with an <a href=\"https://en.wikipedia.org/wiki/Apple_M1\" rel=\"nofollow noreferrer\">Apple M1</a> chip is nothing special in this regard, and is quite capable of making JDBC connections to a Postgres server.</p>\n<p>The fact that you report an error message from Safari is quite confusing. The Safari web browser has nothing to do with running Java apps nor JDBC drivers.</p>\n"}],"owner":{"account_id":23444455,"reputation":143,"user_id":17501483,"display_name":"ADITYA RAJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2886,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637863849,"creation_date":1637782475,"question_id":70101952,"body_markdown":"I tried to install JDBC driver for PostgreSQL on my Macbook Air M1 but it didn&#39;t installed. It says &quot;Safari can’t open the file “postgresql-42.3.1.jar” because no available application can open it.&quot; How can i run it on my mac.\r\n[JDBC installation error on mac m1][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n8Jie.png","title":"I can&#39;t install JDBC driver for PostgreSQL on my macbook air m1","body":"<p>I tried to install JDBC driver for PostgreSQL on my Macbook Air M1 but it didn't installed. It says &quot;Safari can’t open the file “postgresql-42.3.1.jar” because no available application can open it.&quot; How can i run it on my mac.\n<a href=\"https://i.stack.imgur.com/n8Jie.png\" rel=\"nofollow noreferrer\">JDBC installation error on mac m1</a></p>\n"},{"tags":["java","swing","game-physics","angle","java-threads"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1637863255,"post_id":70115417,"comment_id":123944898,"body_markdown":"The way your trajectory is created: one point is calculated for every step value of `x`; and is always takes the same time (`Thread.sleep(5)`) between one point to the next. So, the speed will depend on the distance between one point and the next. According to Pythagoras&#39; theorem, that distance is `sqrt(1 + (newY - y)**2)`. If the trajectory is mostly horizontal, `(newY - y)` is small, so the bullet travels a small distance during `Thread.sleep(5)`. If the trajectory is mostly vertical, then `(newY - y)` is large, so the bullet travels a large distance during `Thread.sleep(5)`.","body":"The way your trajectory is created: one point is calculated for every step value of <code>x</code>; and is always takes the same time (<code>Thread.sleep(5)</code>) between one point to the next. So, the speed will depend on the distance between one point and the next. According to Pythagoras&#39; theorem, that distance is <code>sqrt(1 + (newY - y)**2)</code>. If the trajectory is mostly horizontal, <code>(newY - y)</code> is small, so the bullet travels a small distance during <code>Thread.sleep(5)</code>. If the trajectory is mostly vertical, then <code>(newY - y)</code> is large, so the bullet travels a large distance during <code>Thread.sleep(5)</code>."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1637863347,"post_id":70115417,"comment_id":123944917,"body_markdown":"In order to get a constant speed, you need to either renormalize the time, or renormalize the distance between a point and the next.","body":"In order to get a constant speed, you need to either renormalize the time, or renormalize the distance between a point and the next."}],"answers":[{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637863823,"creation_date":1637863823,"answer_id":70115635,"question_id":70115417,"body_markdown":"You&#39;re stepping x in time by fixed increments of one.  So when the bullet lines are near vertical, the slope m is a big number, and they&#39;re covering m pixels per step in y.  The closer to vertical, the faster they go.\r\n\r\nInstead you need to step in fixed increments of distance along the line segment the bullet is following.  If the endpoints are (x0,y0) and (x1,y1), then varying t from 0 to 1 in the equations x = t*(x1-x0)+x0;  and y=t*(y1-y0)+y0 will sweep the line segment. To sweep by units of 1 pixel, you need to know how many pixels there are along the line. That&#39;s L = sqrt(sqr(x1-x0) + sqr(y1-y0)), so the values of t are i / L for i = 0 to L.\r\n\r\nYou&#39;ll need to do these computations with floating point numbers. \r\n\r\nAnother note is that you&#39;ll probably eventually have trouble using Sleep as you are. This prevents the Swing event handling loop from doing any work while it&#39;s waiting.","title":"Bullets become super fast as the angle gets closer 90","body":"<p>You're stepping x in time by fixed increments of one.  So when the bullet lines are near vertical, the slope m is a big number, and they're covering m pixels per step in y.  The closer to vertical, the faster they go.</p>\n<p>Instead you need to step in fixed increments of distance along the line segment the bullet is following.  If the endpoints are (x0,y0) and (x1,y1), then varying t from 0 to 1 in the equations x = t*(x1-x0)+x0;  and y=t*(y1-y0)+y0 will sweep the line segment. To sweep by units of 1 pixel, you need to know how many pixels there are along the line. That's L = sqrt(sqr(x1-x0) + sqr(y1-y0)), so the values of t are i / L for i = 0 to L.</p>\n<p>You'll need to do these computations with floating point numbers.</p>\n<p>Another note is that you'll probably eventually have trouble using Sleep as you are. This prevents the Swing event handling loop from doing any work while it's waiting.</p>\n"}],"owner":{"account_id":23297463,"reputation":39,"user_id":17378664,"display_name":"Almogbb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70115635,"answer_count":1,"score":2,"last_activity_date":1637863823,"creation_date":1637862433,"question_id":70115417,"body_markdown":"so I&#39;m developing a game in Java and I&#39;m trying to shoot bullets towards the cursor position- the shooting part is OK but as the angle between the cursor and the player (the player shoots the bullets so essentially its the bullet&#39;s first coordinates) get closer to 90 (or -90) the bullets going super fast and I have no idea why\r\n\r\n[The red zone is the super-speed zone][1]\r\n\r\nCode:\r\n```\r\n    public void run() {\r\n        super.run();\r\n        final double currentY=y;\r\n        final double currentX=x;\r\n\r\n        double slope = (cursorPos.y - currentY) / (cursorPos.x - currentX);\r\n        double angle= Math.toDegrees(Math.atan2(cursorPos.y - currentY, cursorPos.x - currentX));\r\n        System.out.println(angle);\r\n        while (true){\r\n            try {\r\n                double newY;// y = m * (x-x.) + y.\r\n                newY = ((slope*(x - currentX))+currentY);\r\n                y= (int) newY;\r\n                if ((angle &lt;=-90 &amp;&amp; angle&gt;=-180) || (angle &gt;=90 &amp;&amp; angle&lt;=180) )\r\n                {\r\n                    x--;\r\n                }\r\n                else {\r\n                    x++;\r\n                }\r\n                Thread.sleep(5);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZGik.jpg","title":"Bullets become super fast as the angle gets closer 90","body":"<p>so I'm developing a game in Java and I'm trying to shoot bullets towards the cursor position- the shooting part is OK but as the angle between the cursor and the player (the player shoots the bullets so essentially its the bullet's first coordinates) get closer to 90 (or -90) the bullets going super fast and I have no idea why</p>\n<p><a href=\"https://i.stack.imgur.com/JZGik.jpg\" rel=\"nofollow noreferrer\">The red zone is the super-speed zone</a></p>\n<p>Code:</p>\n<pre><code>    public void run() {\n        super.run();\n        final double currentY=y;\n        final double currentX=x;\n\n        double slope = (cursorPos.y - currentY) / (cursorPos.x - currentX);\n        double angle= Math.toDegrees(Math.atan2(cursorPos.y - currentY, cursorPos.x - currentX));\n        System.out.println(angle);\n        while (true){\n            try {\n                double newY;// y = m * (x-x.) + y.\n                newY = ((slope*(x - currentX))+currentY);\n                y= (int) newY;\n                if ((angle &lt;=-90 &amp;&amp; angle&gt;=-180) || (angle &gt;=90 &amp;&amp; angle&lt;=180) )\n                {\n                    x--;\n                }\n                else {\n                    x++;\n                }\n                Thread.sleep(5);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1637823636,"post_id":70106782,"comment_id":123929663,"body_markdown":"Can you add a sample input and output in the question?","body":"Can you add a sample input and output in the question?"},{"owner":{"account_id":7571081,"reputation":473,"user_id":6767102,"display_name":"SlandShow"},"score":0,"creation_date":1637824845,"post_id":70106782,"comment_id":123929987,"body_markdown":"@ArpitShukla what kind of sample do you need?","body":"@ArpitShukla what kind of sample do you need?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637826175,"creation_date":1637824867,"answer_id":70107181,"question_id":70106782,"body_markdown":"Try collect the children recursively and add them to the list of parent roles passed as a parameter (since `plus()` returns a new list this doesn&#39;t change the parameter so you&#39;re safe):\r\n\r\n    fun flattenAllRoles(roles: List&lt;Role&gt;?): List&lt;Role&gt;? {\r\n      return roles?.plus(roles?.mapNotNull { flattenAllRoles(it.childrenRoles) }\r\n                              ?.flatten()\r\n                              ?.toList())\r\n    }\r\n\r\nAssuming we have the following role tree:\r\n\r\n     A\r\n     +- AA\r\n      +- AAA\r\n      +- AAB\r\n     +- AB\r\n      +- ABA\r\n      +- ABB\r\n     \r\nYou should now get a list of A, AA, AB, AAA, AAB, ABA, ABB.\r\n\r\nHow this works:\r\n\r\n- initial call: A is added to `list1`\r\n- recursion 1: AA and AB are added `list2` (passed as parameters)\r\n- recursion 2 (from 1): AAA and AAB are added `list3` (passed as parameters)\r\n- recursion 3 (from 1): ABA and ABB are added `list4` (passed as parameters)\r\n- back to recursion 1: the collected lists `list3` and `list4` are flattened and added to `list2` which now contains AA, AB, AAA, AAB, ABA and ABB.\r\n- back to initial call: the returned `list2` is flattened and added to `list1` which finally is returned.\r\n","title":"How to flatten nested tree of objects?","body":"<p>Try collect the children recursively and add them to the list of parent roles passed as a parameter (since <code>plus()</code> returns a new list this doesn't change the parameter so you're safe):</p>\n<pre><code>fun flattenAllRoles(roles: List&lt;Role&gt;?): List&lt;Role&gt;? {\n  return roles?.plus(roles?.mapNotNull { flattenAllRoles(it.childrenRoles) }\n                          ?.flatten()\n                          ?.toList())\n}\n</code></pre>\n<p>Assuming we have the following role tree:</p>\n<pre><code> A\n +- AA\n  +- AAA\n  +- AAB\n +- AB\n  +- ABA\n  +- ABB\n \n</code></pre>\n<p>You should now get a list of A, AA, AB, AAA, AAB, ABA, ABB.</p>\n<p>How this works:</p>\n<ul>\n<li>initial call: A is added to <code>list1</code></li>\n<li>recursion 1: AA and AB are added <code>list2</code> (passed as parameters)</li>\n<li>recursion 2 (from 1): AAA and AAB are added <code>list3</code> (passed as parameters)</li>\n<li>recursion 3 (from 1): ABA and ABB are added <code>list4</code> (passed as parameters)</li>\n<li>back to recursion 1: the collected lists <code>list3</code> and <code>list4</code> are flattened and added to <code>list2</code> which now contains AA, AB, AAA, AAB, ABA and ABB.</li>\n<li>back to initial call: the returned <code>list2</code> is flattened and added to <code>list1</code> which finally is returned.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637826444,"creation_date":1637826444,"answer_id":70107433,"question_id":70106782,"body_markdown":"If you have a lot of nesting, you might want to avoid re-creating list objects over and over.\r\n\r\nBy providing a function similar to `flatMapTo` of the Kotlin stdlib, you can achieve this goal.\r\n\r\n```kotlin\r\nfun Role.flattenedTo(destination: MutableCollection&lt;Role&gt;) {\r\n    destination.add(this)\r\n\r\n    childrenRoles?.forEach { it.flattenedTo(destination) }\r\n}\r\n\r\nfun Role.flattened(): List&lt;Role&gt; {\r\n    val allRoles = mutableListOf&lt;Role&gt;()\r\n\r\n    this.flattenedTo(allRoles)\r\n\r\n    return allRoles\r\n}\r\n```\r\n\r\nIf you want to convert a nullable list of Roles, you might add this little function to it.\r\n\r\n```kotlin\r\nfun flattenAllRoles(roles: List&lt;Role&gt;?): List&lt;Role&gt;? = roles?.flatMap { it.flattened() }\r\n```\r\n\r\nHowever, you might rather want to add an extension to the `Person` class I assume.\r\n\r\n```kotlin\r\nfun Person.allRoles() = roles.flatMap { it.flattened() }\r\n```\r\n","title":"How to flatten nested tree of objects?","body":"<p>If you have a lot of nesting, you might want to avoid re-creating list objects over and over.</p>\n<p>By providing a function similar to <code>flatMapTo</code> of the Kotlin stdlib, you can achieve this goal.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Role.flattenedTo(destination: MutableCollection&lt;Role&gt;) {\n    destination.add(this)\n\n    childrenRoles?.forEach { it.flattenedTo(destination) }\n}\n\nfun Role.flattened(): List&lt;Role&gt; {\n    val allRoles = mutableListOf&lt;Role&gt;()\n\n    this.flattenedTo(allRoles)\n\n    return allRoles\n}\n</code></pre>\n<p>If you want to convert a nullable list of Roles, you might add this little function to it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun flattenAllRoles(roles: List&lt;Role&gt;?): List&lt;Role&gt;? = roles?.flatMap { it.flattened() }\n</code></pre>\n<p>However, you might rather want to add an extension to the <code>Person</code> class I assume.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Person.allRoles() = roles.flatMap { it.flattened() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637837869,"creation_date":1637837869,"answer_id":70109920,"question_id":70106782,"body_markdown":"You can use the following function to flatten the entire hierarchy:\r\n```kotlin\r\nfun List&lt;Role&gt;.flattenRoles(): List&lt;Role&gt; {\r\n    return this + map { it.childrenRoles?.flattenRoles() ?: emptyList() }.flatten()\r\n}\r\n```\r\n[try it yourself](https://pl.kotl.in/vWOBlGiHw)\r\n\r\n- `flattenRoles` is an extension function on `List&lt;Role&gt;`. (You can handle the nullability of this list at call site).\r\n- `it.childrenRoles?.flattenRoles()` returns the flattened list of all children roles. If `childrenRoles` is `null`, an `emptyList()` is used.\r\n- All the roles in the list are mapped to the list of their `childrenRoles` and then that `List&lt;List&lt;Role&gt;&gt;` is flattened using `flatten`.","title":"How to flatten nested tree of objects?","body":"<p>You can use the following function to flatten the entire hierarchy:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun List&lt;Role&gt;.flattenRoles(): List&lt;Role&gt; {\n    return this + map { it.childrenRoles?.flattenRoles() ?: emptyList() }.flatten()\n}\n</code></pre>\n<p><a href=\"https://pl.kotl.in/vWOBlGiHw\" rel=\"nofollow noreferrer\">try it yourself</a></p>\n<ul>\n<li><code>flattenRoles</code> is an extension function on <code>List&lt;Role&gt;</code>. (You can handle the nullability of this list at call site).</li>\n<li><code>it.childrenRoles?.flattenRoles()</code> returns the flattened list of all children roles. If <code>childrenRoles</code> is <code>null</code>, an <code>emptyList()</code> is used.</li>\n<li>All the roles in the list are mapped to the list of their <code>childrenRoles</code> and then that <code>List&lt;List&lt;Role&gt;&gt;</code> is flattened using <code>flatten</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637863026,"creation_date":1637863026,"answer_id":70115519,"question_id":70106782,"body_markdown":"Here&#39;s a typical functional way to do this stuff in general using tail recursion:\r\n\r\n````\r\ndata class Role(val name: String, val childRoles: List&lt;Role&gt; = emptyList())\r\n\r\nval structure = listOf(\r\n    Role(&quot;A&quot;, listOf(\r\n        Role(&quot;AA&quot;),\r\n        Role(&quot;AB&quot;)\r\n    )),\r\n    Role(&quot;B&quot;, listOf(\r\n        Role(&quot;BA&quot;, listOf(\r\n            Role(&quot;BAA&quot;)\r\n        )),\r\n        Role(&quot;BB&quot;)\r\n    ))\r\n)\r\n\r\ntailrec fun collectRoles(remaining: List&lt;Role&gt;, collected: List&lt;Role&gt;): List&lt;Role&gt; {\r\n    if (remaining.isEmpty()) return collected\r\n    val head = remaining.first()\r\n    val tail = remaining.drop(1)\r\n    return collectRoles(head.childRoles.plus(tail), collected.plus(head))\r\n}\r\n\r\nfun main() {\r\n\tprintln(collectRoles(structure, emptyList()).joinToString { it.name })\r\n}\r\n\r\n&gt;&gt; A, AA, AB, B, BA, BAA, BB\r\n````\r\n\r\nYou&#39;re basically processing a queue of items (``remaining``) - I&#39;ve used the terms ``head`` and ``tail`` since they get used a lot in functional programming, the head is basically the item at the front of the list, and the tail is the remaining list (which could be empty). So you pop off the head, and add its child roles to the processing queue. Then you add the head to the completed list, and run the function again on that new state.\r\n\r\nBy always adding the child roles to the front of the processing queue (``head.childRoles.plus(tail)``) you&#39;re ensuring they get processed next, so you end up with **depth-first** traversal. If you add them to the end (``tail.plus(head.childRoles)``) you ensure every layer that&#39;s been added gets processed before any of that layer&#39;s children, so you get **breadth-first** traversal.\r\n\r\n----\r\n\r\nThe ``tailrec`` modifier is an optimisation for tail-recursive functions, where the **last thing** a function does is call itself. Because it doesn&#39;t have any more work to do when the call returns, there&#39;s no state to remember and the compiler doesn&#39;t need to maintain a stack of function calls, it can just flatten that out to something more like iteration. If **A** calls **B** which calls **C**, and all **B** is going to do is return the result of **C** to **A**, the compiler can just cut out the middleman and pass the result from **C** directly to **A**!\r\n\r\nIt&#39;s more efficient than normal recursion, and because you don&#39;t need to build a call stack, there&#39;s no limit to how deep the recursion can go - no need to worry about the dreaded **stack overflow**. That&#39;s probably not important for what you&#39;re doing here, but generally speaking, a lot of functional programming relies on this recursive approach to breaking problems down, where the number of steps required could be arbitrarily huge, so it&#39;s good to know how to do it. Turning that recursive call into a tail call (where it&#39;s the last operation in the function) might require you to do things a little differently, and this *processing queue / results list* approach is a typical way to do it!","title":"How to flatten nested tree of objects?","body":"<p>Here's a typical functional way to do this stuff in general using tail recursion:</p>\n<pre><code>data class Role(val name: String, val childRoles: List&lt;Role&gt; = emptyList())\n\nval structure = listOf(\n    Role(&quot;A&quot;, listOf(\n        Role(&quot;AA&quot;),\n        Role(&quot;AB&quot;)\n    )),\n    Role(&quot;B&quot;, listOf(\n        Role(&quot;BA&quot;, listOf(\n            Role(&quot;BAA&quot;)\n        )),\n        Role(&quot;BB&quot;)\n    ))\n)\n\ntailrec fun collectRoles(remaining: List&lt;Role&gt;, collected: List&lt;Role&gt;): List&lt;Role&gt; {\n    if (remaining.isEmpty()) return collected\n    val head = remaining.first()\n    val tail = remaining.drop(1)\n    return collectRoles(head.childRoles.plus(tail), collected.plus(head))\n}\n\nfun main() {\n    println(collectRoles(structure, emptyList()).joinToString { it.name })\n}\n\n&gt;&gt; A, AA, AB, B, BA, BAA, BB\n</code></pre>\n<p>You're basically processing a queue of items (<code>remaining</code>) - I've used the terms <code>head</code> and <code>tail</code> since they get used a lot in functional programming, the head is basically the item at the front of the list, and the tail is the remaining list (which could be empty). So you pop off the head, and add its child roles to the processing queue. Then you add the head to the completed list, and run the function again on that new state.</p>\n<p>By always adding the child roles to the front of the processing queue (<code>head.childRoles.plus(tail)</code>) you're ensuring they get processed next, so you end up with <strong>depth-first</strong> traversal. If you add them to the end (<code>tail.plus(head.childRoles)</code>) you ensure every layer that's been added gets processed before any of that layer's children, so you get <strong>breadth-first</strong> traversal.</p>\n<hr />\n<p>The <code>tailrec</code> modifier is an optimisation for tail-recursive functions, where the <strong>last thing</strong> a function does is call itself. Because it doesn't have any more work to do when the call returns, there's no state to remember and the compiler doesn't need to maintain a stack of function calls, it can just flatten that out to something more like iteration. If <strong>A</strong> calls <strong>B</strong> which calls <strong>C</strong>, and all <strong>B</strong> is going to do is return the result of <strong>C</strong> to <strong>A</strong>, the compiler can just cut out the middleman and pass the result from <strong>C</strong> directly to <strong>A</strong>!</p>\n<p>It's more efficient than normal recursion, and because you don't need to build a call stack, there's no limit to how deep the recursion can go - no need to worry about the dreaded <strong>stack overflow</strong>. That's probably not important for what you're doing here, but generally speaking, a lot of functional programming relies on this recursive approach to breaking problems down, where the number of steps required could be arbitrarily huge, so it's good to know how to do it. Turning that recursive call into a tail call (where it's the last operation in the function) might require you to do things a little differently, and this <em>processing queue / results list</em> approach is a typical way to do it!</p>\n"}],"owner":{"account_id":7571081,"reputation":473,"user_id":6767102,"display_name":"SlandShow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1637863026,"creation_date":1637822361,"question_id":70106782,"body_markdown":"I have next models structure:\r\n\r\n    data class Person(\r\n        val id: UUID,\r\n        val firstName: String,\r\n        val lastName: String,\r\n        val email: String,\r\n        val login: String,\r\n        val passwordHash: String,\r\n        val roles: Set&lt;Role&gt;\r\n    )\r\n    \r\n    data class Role(\r\n        val id: UUID,\r\n        val name: String,\r\n        val childrenRoles: List&lt;Role&gt;?\r\n    )\r\n\r\nAnd trying to flatten nested structure of objects to get list of resolved roles. But have no idea how to do it in functional style. Tried several wrong approaches:\r\n\r\n     fun flattenAllRoles(rootRoles: List&lt;Role&gt;?, roles: List&lt;Role&gt;?): List&lt;Role&gt;? {\r\n            return if (rootRoles == null &amp;&amp; roles == null &amp;&amp; roles?.isEmpty() == true) {\r\n                null\r\n            } else {\r\n                roles\r\n                    ?.mapNotNull { rootRoles?.plus((flattenAllRoles(rootRoles, it.childrenRoles))) }\r\n                    ?.flatten()\r\n                    ?.toList() as List&lt;Role&gt;?\r\n            }\r\n        }\r\n    \r\n        fun resolve(rootPerson: Person): List&lt;Role&gt;? {\r\n            val rootRoles = rootPerson.roles.toList()\r\n            return flattenAllRoles(\r\n                rootRoles = rootRoles,\r\n                roles = rootRoles.mapNotNull { it.childrenRoles }.flatten().toList()\r\n            )\r\n        }\r\n\r\nWould you kindly help me with it?","title":"How to flatten nested tree of objects?","body":"<p>I have next models structure:</p>\n<pre><code>data class Person(\n    val id: UUID,\n    val firstName: String,\n    val lastName: String,\n    val email: String,\n    val login: String,\n    val passwordHash: String,\n    val roles: Set&lt;Role&gt;\n)\n\ndata class Role(\n    val id: UUID,\n    val name: String,\n    val childrenRoles: List&lt;Role&gt;?\n)\n</code></pre>\n<p>And trying to flatten nested structure of objects to get list of resolved roles. But have no idea how to do it in functional style. Tried several wrong approaches:</p>\n<pre><code> fun flattenAllRoles(rootRoles: List&lt;Role&gt;?, roles: List&lt;Role&gt;?): List&lt;Role&gt;? {\n        return if (rootRoles == null &amp;&amp; roles == null &amp;&amp; roles?.isEmpty() == true) {\n            null\n        } else {\n            roles\n                ?.mapNotNull { rootRoles?.plus((flattenAllRoles(rootRoles, it.childrenRoles))) }\n                ?.flatten()\n                ?.toList() as List&lt;Role&gt;?\n        }\n    }\n\n    fun resolve(rootPerson: Person): List&lt;Role&gt;? {\n        val rootRoles = rootPerson.roles.toList()\n        return flattenAllRoles(\n            rootRoles = rootRoles,\n            roles = rootRoles.mapNotNull { it.childrenRoles }.flatten().toList()\n        )\n    }\n</code></pre>\n<p>Would you kindly help me with it?</p>\n"},{"tags":["java","google-fit","google-fit-api"],"answers":[{"tags":[],"owner":{"account_id":17459972,"reputation":129,"user_id":12657891,"display_name":"Graeme Morgan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637862950,"creation_date":1637862950,"answer_id":70115505,"question_id":70004630,"body_markdown":"The Fit platform stopped populating the `from_activities` stream earlier this year, so you should have seen the change more than six months ago.\r\n\r\nYes, `merge_calories_expended` is probably the right thing to use. It contains a merged view of the user&#39;s calories expended, identical to that which is shown in the Fit app.","title":"Not able to get dataStreamName : from_activities from google datasource list to fetch Calories","body":"<p>The Fit platform stopped populating the <code>from_activities</code> stream earlier this year, so you should have seen the change more than six months ago.</p>\n<p>Yes, <code>merge_calories_expended</code> is probably the right thing to use. It contains a merged view of the user's calories expended, identical to that which is shown in the Fit app.</p>\n"}],"owner":{"account_id":13908611,"reputation":11,"user_id":10042389,"display_name":"Shreya Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637862950,"creation_date":1637153085,"question_id":70004630,"body_markdown":"I am using google fit datasource API \r\n`https://www.googleapis.com/fitness/v1/users/me/dataSources` to get the data sources.\r\n\r\nFor calories, I was using below data stream:\r\n\r\n    dataStreamName : from_activities\r\n    dataStreamId : derived:com.google.calories.expended:com.google.android.gms:from_activities\r\n\r\nBut now, I am not getting **from_activities** data stream from `https://www.googleapis.com/fitness/v1/users/me/dataSources` datasource API list.\r\n\r\nInstead I am getting below data stream for calories:\r\n\r\n    dataStreamName : merge_calories_expended\r\n    dataStreamId : derived:com.google.calories.expended:com.google.android.gms:merge_calories_expended\r\n\r\n**So, is there any changes made from google side that suddenly I am not getting `dataStreamName : from_activities` data stream from data source list?**\r\n\r\nIf yes, is it good to use `dataStreamName : merge_calories_expended` data stream to fetch the calories data? What differences are there between these 2 (from_activities and merge_calories_expended) data steams?","title":"Not able to get dataStreamName : from_activities from google datasource list to fetch Calories","body":"<p>I am using google fit datasource API\n<code>https://www.googleapis.com/fitness/v1/users/me/dataSources</code> to get the data sources.</p>\n<p>For calories, I was using below data stream:</p>\n<pre><code>dataStreamName : from_activities\ndataStreamId : derived:com.google.calories.expended:com.google.android.gms:from_activities\n</code></pre>\n<p>But now, I am not getting <strong>from_activities</strong> data stream from <code>https://www.googleapis.com/fitness/v1/users/me/dataSources</code> datasource API list.</p>\n<p>Instead I am getting below data stream for calories:</p>\n<pre><code>dataStreamName : merge_calories_expended\ndataStreamId : derived:com.google.calories.expended:com.google.android.gms:merge_calories_expended\n</code></pre>\n<p><strong>So, is there any changes made from google side that suddenly I am not getting <code>dataStreamName : from_activities</code> data stream from data source list?</strong></p>\n<p>If yes, is it good to use <code>dataStreamName : merge_calories_expended</code> data stream to fetch the calories data? What differences are there between these 2 (from_activities and merge_calories_expended) data steams?</p>\n"},{"tags":["java","spring","java-8","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":4296918,"reputation":432,"user_id":3511726,"accept_rate":60,"display_name":"aiko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637742851,"creation_date":1637742851,"answer_id":70092892,"question_id":70092542,"body_markdown":"You can use the Streams API and filter the list of UserStores:\r\n\r\n    List&lt;UserStores&gt; filtered = userStores.stream()\r\n        .filter(u -&gt; stores.contains(u.getStoreNo()))\r\n        .collect(Collectors.toList());","title":"Get Object from List&lt;Object&gt; if a particular field in Object matches any value from a separate list","body":"<p>You can use the Streams API and filter the list of UserStores:</p>\n<pre><code>List&lt;UserStores&gt; filtered = userStores.stream()\n    .filter(u -&gt; stores.contains(u.getStoreNo()))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637862914,"creation_date":1637862914,"answer_id":70115499,"question_id":70092542,"body_markdown":"To maintain proper order and keep duplicates, a map `Map&lt;String, UserStores&gt;` should be created first (e.g. using `Collectors.toMap`), and then `stores` should be streamed and mapped by appropriate keys:\r\n```\r\nprivate static List&lt;UserStores&gt; getModifiedUserStoresList(\r\n        List&lt;String&gt; stores, List&lt;UserStores&gt; userStores\r\n) {\r\n    Map&lt;String, UserStores&gt; map = userStores.stream()\r\n        .collect(Collectors.toMap(UserStores::getStoreNo, us -&gt; us, (a, b) -&gt; a));\r\n        \r\n    return stores.stream()\r\n        .filter(map::containsKey)\r\n        .map(map::get)\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Get Object from List&lt;Object&gt; if a particular field in Object matches any value from a separate list","body":"<p>To maintain proper order and keep duplicates, a map <code>Map&lt;String, UserStores&gt;</code> should be created first (e.g. using <code>Collectors.toMap</code>), and then <code>stores</code> should be streamed and mapped by appropriate keys:</p>\n<pre><code>private static List&lt;UserStores&gt; getModifiedUserStoresList(\n        List&lt;String&gt; stores, List&lt;UserStores&gt; userStores\n) {\n    Map&lt;String, UserStores&gt; map = userStores.stream()\n        .collect(Collectors.toMap(UserStores::getStoreNo, us -&gt; us, (a, b) -&gt; a));\n        \n    return stores.stream()\n        .filter(map::containsKey)\n        .map(map::get)\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":17068554,"reputation":13,"user_id":12349958,"display_name":"DujSn28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115499,"answer_count":2,"score":0,"last_activity_date":1637862914,"creation_date":1637741195,"question_id":70092542,"body_markdown":"I have a list of strings like under which contains all the store Numbers:\r\n```\r\nList&lt;String&gt; stores = new ArrayList&lt;&gt;; \r\n```\r\nAnd a List of Objects like:\r\n```\r\nList&lt;UserStores&gt; userStores = new ArrayList&lt;&gt;;\r\n```\r\nNow, this UserStores class looks something like this:\r\n\r\n```\r\npublic class UserStores {\r\n    \r\n    private String storeNo;\r\n    private String storeName;\r\n    private String country;\r\n}\r\n```\r\n\r\nI want to get all the UserStores from this ```List&lt;UserStores&gt;``` if any of the storeNo is present in the &#39;stores&#39; List given above.\r\n\r\n\r\nFor example,\r\n```\r\nstores = {1,2};\r\nUserStores = [ {2, qwe, wqew}, {1,ABC, India}, {3, asd, USA} ];\r\n\r\nexpected result = [{1,ABC, India}, {2, qwe, wqew}]; in the order of stores present in &#39;stores&#39; list,\r\n```\r\n\r\nHow can I get this using stream/collectors?\r\n\r\nMy current code is something like this..can this be improved?\r\n```\r\nprivate static List&lt;UserStores&gt; getModifiedUserStoresList(\r\n            List&lt;String&gt; stores, List&lt;UserStores&gt; userStores\r\n    ) {\r\n        List&lt;UserStores&gt; userStoreList = new ArrayList&lt;&gt;();\r\n        \r\n       \r\n        for(int i = 0; i &lt; stores.size(); i++) {\r\n            for(int j = 0; j &lt; userStores.size(); j++) {\r\n                if(userStores.get(j).getStoreNo().equals(stores.get(i))) {\r\n                    userStoreList.add(userStores.get(j));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return userStoreList;\r\n    }","title":"Get Object from List&lt;Object&gt; if a particular field in Object matches any value from a separate list","body":"<p>I have a list of strings like under which contains all the store Numbers:</p>\n<pre><code>List&lt;String&gt; stores = new ArrayList&lt;&gt;; \n</code></pre>\n<p>And a List of Objects like:</p>\n<pre><code>List&lt;UserStores&gt; userStores = new ArrayList&lt;&gt;;\n</code></pre>\n<p>Now, this UserStores class looks something like this:</p>\n<pre><code>public class UserStores {\n    \n    private String storeNo;\n    private String storeName;\n    private String country;\n}\n</code></pre>\n<p>I want to get all the UserStores from this <code>List&lt;UserStores&gt;</code> if any of the storeNo is present in the 'stores' List given above.</p>\n<p>For example,</p>\n<pre><code>stores = {1,2};\nUserStores = [ {2, qwe, wqew}, {1,ABC, India}, {3, asd, USA} ];\n\nexpected result = [{1,ABC, India}, {2, qwe, wqew}]; in the order of stores present in 'stores' list,\n</code></pre>\n<p>How can I get this using stream/collectors?</p>\n<p>My current code is something like this..can this be improved?</p>\n<pre><code>private static List&lt;UserStores&gt; getModifiedUserStoresList(\n            List&lt;String&gt; stores, List&lt;UserStores&gt; userStores\n    ) {\n        List&lt;UserStores&gt; userStoreList = new ArrayList&lt;&gt;();\n        \n       \n        for(int i = 0; i &lt; stores.size(); i++) {\n            for(int j = 0; j &lt; userStores.size(); j++) {\n                if(userStores.get(j).getStoreNo().equals(stores.get(i))) {\n                    userStoreList.add(userStores.get(j));\n                    break;\n                }\n            }\n        }\n        return userStoreList;\n    }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"score":1,"creation_date":1637860910,"post_id":70111949,"comment_id":123944077,"body_markdown":"How should the inventories be sorted based on sample dates?  Do you want to use the earliest or latest sample date for each inventory?","body":"How should the inventories be sorted based on sample dates?  Do you want to use the earliest or latest sample date for each inventory?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637858784,"creation_date":1637847603,"answer_id":70112116,"question_id":70111949,"body_markdown":"You want to sort collections based on the values in nested collections.\r\nHow do we do it?\r\n\r\nYou need to implement a custom comparator to do this ...\r\n\r\n```java\r\nstatic class InventoryComparator implements Comparator&lt;Inventory&gt; {\r\n     public int compare(Inventory i1, Inventory i2) {\r\n         // compare them here like this \r\n         // a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\r\n         // this can be done by checking the nested lists\r\n     }\r\n}\r\n```\r\n\r\nThen you can sort your collection like this ...\r\n\r\n```java\r\nCollections.sort(inventoryList, new InventoryComparator());\r\n```","title":"How to sort a List by checking a value inside inner list in Java?","body":"<p>You want to sort collections based on the values in nested collections.\nHow do we do it?</p>\n<p>You need to implement a custom comparator to do this ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class InventoryComparator implements Comparator&lt;Inventory&gt; {\n     public int compare(Inventory i1, Inventory i2) {\n         // compare them here like this \n         // a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\n         // this can be done by checking the nested lists\n     }\n}\n</code></pre>\n<p>Then you can sort your collection like this ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(inventoryList, new InventoryComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637862903,"creation_date":1637861910,"answer_id":70115328,"question_id":70111949,"body_markdown":"This is possible with the `Comparable` interface.\r\n\r\nI have assumed that the `Sample` objects are sorted by date and `Inventory` objects are sorted by comparing the last (`Sample` with latest date) `Sample` in `samples`, but you can implement your own custom comparing logic in `Sample`s overridden `compareTo()` method.\r\n\r\n```java\r\n  public class Inventory implements Comparable&lt;Inventory&gt; {\r\n\r\n    private String name;\r\n    private List&lt;Sample&gt; samples;\r\n\r\n    public List&lt;Sample&gt; getSamples() {\r\n      return samples;\r\n    }\r\n\r\n    public Inventory(String name, List&lt;Sample&gt; samples) {\r\n      this.name = name;\r\n      this.samples = samples;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Inventory inventory) {\r\n      Optional&lt;Sample&gt; thisOldestSample = this.getSamples().stream().sorted().reduce((s1, s2) -&gt; s2);\r\n      Optional&lt;Sample&gt; thatOldestSample = inventory.getSamples().stream().sorted().reduce((s1, s2) -&gt; s2);\r\n\r\n      if (thisOldestSample.isPresent() &amp;&amp; thatOldestSample.isPresent()) {\r\n        return thisOldestSample.get().compareTo(thatOldestSample.get());\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  public class Sample implements Comparable&lt;Sample&gt; {\r\n\r\n    private int count;\r\n    private String date;\r\n\r\n    public String getDate() {\r\n      return date;\r\n    }\r\n\r\n    public Sample(int count, String date) {\r\n      this.count = count;\r\n      this.date = date;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Sample sample) {\r\n      return LocalDate.parse(sample.getDate()).isBefore(LocalDate.parse(this.getDate())) ? 1 : -1;\r\n    }\r\n  }\r\n\r\n  @Test\r\n  void shouldSortInventoriesBasedOnSampleDate() {\r\n    Inventory one = new Inventory(&quot;1&quot;, List.of(new Sample(0, &quot;2021-07-02&quot;), new Sample(1, &quot;2021-07-03&quot;)));\r\n    Inventory two = new Inventory(&quot;2&quot;, List.of(new Sample(0, &quot;2021-07-02&quot;), new Sample(1, &quot;2021-09-03&quot;), new Sample(2, &quot;2021-10-03&quot;)));\r\n    Inventory three = new Inventory(&quot;3&quot;, List.of(new Sample(0, &quot;2021-08-02&quot;), new Sample(1, &quot;2021-09-03&quot;)));\r\n\r\n    List&lt;Inventory&gt; unsorted  = List.of(one, two, three);\r\n    List&lt;Inventory&gt; sorted = unsorted.stream().sorted().collect(Collectors.toList());\r\n\r\n    assertEquals(one, sorted.get(0));\r\n    assertEquals(three, sorted.get(1));\r\n    assertEquals(two, sorted.get(2));\r\n  }\r\n```","title":"How to sort a List by checking a value inside inner list in Java?","body":"<p>This is possible with the <code>Comparable</code> interface.</p>\n<p>I have assumed that the <code>Sample</code> objects are sorted by date and <code>Inventory</code> objects are sorted by comparing the last (<code>Sample</code> with latest date) <code>Sample</code> in <code>samples</code>, but you can implement your own custom comparing logic in <code>Sample</code>s overridden <code>compareTo()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class Inventory implements Comparable&lt;Inventory&gt; {\n\n    private String name;\n    private List&lt;Sample&gt; samples;\n\n    public List&lt;Sample&gt; getSamples() {\n      return samples;\n    }\n\n    public Inventory(String name, List&lt;Sample&gt; samples) {\n      this.name = name;\n      this.samples = samples;\n    }\n\n    @Override\n    public int compareTo(Inventory inventory) {\n      Optional&lt;Sample&gt; thisOldestSample = this.getSamples().stream().sorted().reduce((s1, s2) -&gt; s2);\n      Optional&lt;Sample&gt; thatOldestSample = inventory.getSamples().stream().sorted().reduce((s1, s2) -&gt; s2);\n\n      if (thisOldestSample.isPresent() &amp;&amp; thatOldestSample.isPresent()) {\n        return thisOldestSample.get().compareTo(thatOldestSample.get());\n      } else {\n        return 0;\n      }\n    }\n  }\n\n  public class Sample implements Comparable&lt;Sample&gt; {\n\n    private int count;\n    private String date;\n\n    public String getDate() {\n      return date;\n    }\n\n    public Sample(int count, String date) {\n      this.count = count;\n      this.date = date;\n    }\n\n    @Override\n    public int compareTo(Sample sample) {\n      return LocalDate.parse(sample.getDate()).isBefore(LocalDate.parse(this.getDate())) ? 1 : -1;\n    }\n  }\n\n  @Test\n  void shouldSortInventoriesBasedOnSampleDate() {\n    Inventory one = new Inventory(&quot;1&quot;, List.of(new Sample(0, &quot;2021-07-02&quot;), new Sample(1, &quot;2021-07-03&quot;)));\n    Inventory two = new Inventory(&quot;2&quot;, List.of(new Sample(0, &quot;2021-07-02&quot;), new Sample(1, &quot;2021-09-03&quot;), new Sample(2, &quot;2021-10-03&quot;)));\n    Inventory three = new Inventory(&quot;3&quot;, List.of(new Sample(0, &quot;2021-08-02&quot;), new Sample(1, &quot;2021-09-03&quot;)));\n\n    List&lt;Inventory&gt; unsorted  = List.of(one, two, three);\n    List&lt;Inventory&gt; sorted = unsorted.stream().sorted().collect(Collectors.toList());\n\n    assertEquals(one, sorted.get(0));\n    assertEquals(three, sorted.get(1));\n    assertEquals(two, sorted.get(2));\n  }\n</code></pre>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70115328,"answer_count":2,"score":2,"last_activity_date":1637862903,"creation_date":1637846861,"question_id":70111949,"body_markdown":"I have a class like the following,\r\n\r\n    public class Inventory {\r\n    \r\n       private String name;\r\n       private List&lt;Sample&gt; samples;\r\n    }\r\n    \r\n    public class Sample {\r\n    \r\n       private int count;\r\n       private String date;\r\n    }\r\n    \r\n    List&lt;Inventory&gt; inventories;\r\n\r\nI have sorted the `samples` by date. It&#39;s fine. But I need to sort the `inventories` list by `date` field inside Sample class. `samples` are already sorted. So I need the inventories to sort by samples date DESC. For example,\r\n\r\nInside that `inventories` list, if it has 3 data,\r\n\r\n    Inventory 1\r\n    name = 1\r\n    samples has dates of = List of (2021-07-02, 2021-07-03)\r\n    \r\n    Inventory 2\r\n    name = 2\r\n    samples has dates of = List of (2021-07-02, 2021-09-03, 2021-10-03)\r\n    \r\n    Inventory 3\r\n    name = 3\r\n    samples has dates of = List of (2021-08-02, 2021-09-03)\r\n\r\nSo it should sort by date DESC and in that `inventories` list, it should have the data following way,\r\n\r\n    Inventory 1\r\n    Inventory 3\r\n    Inventory 2\r\n","title":"How to sort a List by checking a value inside inner list in Java?","body":"<p>I have a class like the following,</p>\n<pre><code>public class Inventory {\n\n   private String name;\n   private List&lt;Sample&gt; samples;\n}\n\npublic class Sample {\n\n   private int count;\n   private String date;\n}\n\nList&lt;Inventory&gt; inventories;\n</code></pre>\n<p>I have sorted the <code>samples</code> by date. It's fine. But I need to sort the <code>inventories</code> list by <code>date</code> field inside Sample class. <code>samples</code> are already sorted. So I need the inventories to sort by samples date DESC. For example,</p>\n<p>Inside that <code>inventories</code> list, if it has 3 data,</p>\n<pre><code>Inventory 1\nname = 1\nsamples has dates of = List of (2021-07-02, 2021-07-03)\n\nInventory 2\nname = 2\nsamples has dates of = List of (2021-07-02, 2021-09-03, 2021-10-03)\n\nInventory 3\nname = 3\nsamples has dates of = List of (2021-08-02, 2021-09-03)\n</code></pre>\n<p>So it should sort by date DESC and in that <code>inventories</code> list, it should have the data following way,</p>\n<pre><code>Inventory 1\nInventory 3\nInventory 2\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1637856779,"post_id":70114219,"comment_id":123942570,"body_markdown":"Pet is no different to String, they both extend Object. You can wire it up the same way you can wire up any String or Int.\n\nLook into caching or the singleton pattern.","body":"Pet is no different to String, they both extend Object. You can wire it up the same way you can wire up any String or Int.  Look into caching or the singleton pattern."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1637860706,"post_id":70114219,"comment_id":123944018,"body_markdown":"A better pattern would be to use a ViewModel instead of trying to story data in an Activity at all. The activity could observe data (LiveData) in the ViewModel and react to changes there. In general, trying to store data in an Activity is only going to lead to trouble (when you rotate the screen the activity is re-created).","body":"A better pattern would be to use a ViewModel instead of trying to story data in an Activity at all. The activity could observe data (LiveData) in the ViewModel and react to changes there. In general, trying to store data in an Activity is only going to lead to trouble (when you rotate the screen the activity is re-created)."},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1637910077,"post_id":70114219,"comment_id":123953658,"body_markdown":"make use of a single activity with fragments, store the data in your activity, or a viewmodel attached to your activity","body":"make use of a single activity with fragments, store the data in your activity, or a viewmodel attached to your activity"}],"answers":[{"tags":[],"owner":{"account_id":139161,"reputation":627,"user_id":344574,"display_name":"Arno den Hond"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637857272,"creation_date":1637857272,"answer_id":70114373,"question_id":70114219,"body_markdown":"Make `Pet` a member of your [Application][1] class so you can access it anywhere and don&#39;t need to pass it around between activities.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Application","title":"Passing a Class Variable Globally in Android (Java)","body":"<p>Make <code>Pet</code> a member of your <a href=\"https://developer.android.com/reference/android/app/Application\" rel=\"nofollow noreferrer\">Application</a> class so you can access it anywhere and don't need to pass it around between activities.</p>\n"},{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637862637,"creation_date":1637862637,"answer_id":70115450,"question_id":70114219,"body_markdown":"What you want seems to be a [Singleton][1]: a class that only has a single instance and can be used globally across the app.\r\n\r\nBut a more appropriate solution would be to pass the required data to the activity. That can be achieved by using the `Intent` itself:\r\n\r\n    public void openAddPetScreen() {\r\n        Intent intent = new Intent(this, AddPetScreen.class);\r\n        intent.putExtra(SelectPetScreen.EXTRA_PET_NAME, petName);\r\n        startActivity(intent);\r\n    }\r\n\r\nAnd then get the data in the `SelectPetScreen` activity:\r\n\r\n    public static final String EXTRA_PET_NAME = &quot;extra_name&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        Intent intent = getIntent();\r\n        if(intent != null) {\r\n            String petName = intent.getExtra(EXTRA_PET_NAME);\r\n            if (petName != null) {\r\n                // do logic with the petName\r\n            }\r\n        }\r\n    }\r\n\r\nIf you require to pass the whole `Pet` object, then you can [make it extend Parcelable][2] and pass it using `intent.putParcelableExtra`\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Singleton_pattern\r\n  [2]: https://stackoverflow.com/a/7181792/11880323","title":"Passing a Class Variable Globally in Android (Java)","body":"<p>What you want seems to be a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singleton</a>: a class that only has a single instance and can be used globally across the app.</p>\n<p>But a more appropriate solution would be to pass the required data to the activity. That can be achieved by using the <code>Intent</code> itself:</p>\n<pre><code>public void openAddPetScreen() {\n    Intent intent = new Intent(this, AddPetScreen.class);\n    intent.putExtra(SelectPetScreen.EXTRA_PET_NAME, petName);\n    startActivity(intent);\n}\n</code></pre>\n<p>And then get the data in the <code>SelectPetScreen</code> activity:</p>\n<pre><code>public static final String EXTRA_PET_NAME = &quot;extra_name&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    Intent intent = getIntent();\n    if(intent != null) {\n        String petName = intent.getExtra(EXTRA_PET_NAME);\n        if (petName != null) {\n            // do logic with the petName\n        }\n    }\n}\n</code></pre>\n<p>If you require to pass the whole <code>Pet</code> object, then you can <a href=\"https://stackoverflow.com/a/7181792/11880323\">make it extend Parcelable</a> and pass it using <code>intent.putParcelableExtra</code></p>\n"}],"owner":{"account_id":23453498,"reputation":3,"user_id":17509346,"display_name":"Nicolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115450,"answer_count":2,"score":0,"last_activity_date":1637862637,"creation_date":1637856604,"question_id":70114219,"body_markdown":"So in my Java code for my app I have a class called **Pet**. A variable of this is created in one of my activities further in my app.\r\n\r\nI&#39;ve so far been able to successfully create an instance of this class and get variables from it in the same activity.\r\n\r\nNow I would like to pass that newly created Class variable (**pet1**) to the rest of my application and use functions like the **getPetName()** function in my other activities to set the string displayed on buttons and other elements of the application.\r\n\r\nThis is the Pet class\r\n```\r\npackage com.example.myapplication;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class Pet {\r\n\r\n    // Variable Declarations\r\n    private String name;\r\n    private String species;\r\n    private int birthday;\r\n    private String notes = &quot;Notes: &quot;;\r\n    // Replace with a clock\r\n    // Find a way to calculate age based on time-birthday\r\n    private int currentTime;\r\n    //Create an array of medications\r\n\r\n    // Creation Function\r\n    public Pet(String petName, String petSpecies, String petBirthDay, String petNotes, String petMedication, int petDosage, String petDosageUnit){\r\n        setPetName(petName);\r\n        setSpecies(petSpecies);\r\n        setBirthDay(petBirthDay);\r\n        addNotes(petNotes);\r\n        addMeds(petMedication, petDosage, petDosageUnit);\r\n    }\r\n\r\n    // Set name Function\r\n    private void setPetName(String petName){\r\n        name = petName;\r\n    }\r\n\r\n    // Get name Function\r\n    public String getPetName(){\r\n        return name;\r\n    }\r\n\r\n    // Set species Function\r\n    private void setSpecies(String petSpecies) {\r\n        species = petSpecies;\r\n    }\r\n\r\n    // Get species Function\r\n    public String getSpecies(){\r\n        return species;\r\n    }\r\n\r\n    // Set birthday Function\r\n    private void setBirthDay(String petBirthDay) {\r\n        // Convert Birthday to integer\r\n        //birthday = petBirthDay;\r\n    }\r\n\r\n    // Get age Function\r\n    public int getAge(){\r\n        // We calculate the age by taking the BirthDay and subtracting the current time\r\n        return (currentTime - birthday);\r\n    }\r\n\r\n    // Add notes Function\r\n    public void addNotes(String newNotes){\r\n        // There are no current notes\r\n        if (notes == &quot;Notes: &quot;) {\r\n            notes = notes + newNotes;\r\n        }\r\n        // Make a new line and append the new notes\r\n        else {\r\n            notes = notes + &quot;\\n&quot; + newNotes;\r\n        }\r\n    }\r\n\r\n    // Get notes Function\r\n    public String getNotes(){\r\n        return notes;\r\n    }\r\n\r\n    // Combine Medication Information and add to Array\r\n    public void addMeds(String medName, int medDosage, String unit){\r\n        String medInfo = medName + &quot; : &quot; + medDosage + unit;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nThis is the activity that creates an instance of the class\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\npublic class AddPetScreen extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    private Button addPetButton;\r\n\r\n    private EditText petNameText;\r\n    private EditText petBirthdayText;\r\n    private EditText petNotesText;\r\n\r\n    private Spinner petSpeciesSpinner;\r\n    private String speciesChoice;\r\n\r\n    private String petNameTextVal;\r\n    private String petBDayTextVal;\r\n    private String petNotesTextVal;\r\n\r\n    public Pet pet1;\r\n    //public static final Pet GLOBAL_PET = &quot;com.example.myapplication.GLOBAL_PET&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_pet_screen);\r\n\r\n        petNameText = (EditText)findViewById(R.id.addPetNameField);\r\n        petBirthdayText = (EditText)findViewById(R.id.addPetBirthdayField);\r\n        petNotesText = (EditText) findViewById(R.id.addPetNotesField);\r\n\r\n        petSpeciesSpinner = findViewById(R.id.addPetSpeciesSpinner);\r\n\r\n        ArrayAdapter&lt;CharSequence&gt; speciesAdapter = ArrayAdapter.createFromResource(this, R.array.Species, android.R.layout.simple_spinner_dropdown_item);\r\n        speciesAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        petSpeciesSpinner.setAdapter(speciesAdapter);\r\n        petSpeciesSpinner.setOnItemSelectedListener(this);\r\n\r\n\r\n        // Button to create Pet in Pet Class and Add\r\n        addPetButton = (Button) findViewById(R.id.addPetAddPetButton);\r\n        addPetButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                addPet();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Function to create Pet in Pet class and Add\r\n    public void addPet() {\r\n        // Need to parse variables from text boxes and spinner\r\n        petNameTextVal = petNameText.getText().toString();\r\n        petNotesTextVal = petNotesText.getText().toString();\r\n        petBDayTextVal = petBirthdayText.getText().toString();\r\n        // NOTE: Do not pass in medication, since that is the Veterinarians Job\r\n\r\n        // Check for empty parameters\r\n        if (petNameText.getText().toString().isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), &quot;Please Enter a Pet Name&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (petBirthdayText.getText().toString().isEmpty()){\r\n                Toast.makeText(getApplicationContext(),&quot;Please Enter a Birth Date (YYYY/MM/DD)&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n        // All necessary values are given\r\n        else {\r\n            if (checkBirthdayValidity() == false){\r\n                Toast.makeText(getApplicationContext(), &quot;Date Incorrect&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                // If there are no notes, set it to the empty string\r\n                if (petNotesText.getText().toString().isEmpty()) {\r\n                    petNotesTextVal = &quot;&quot;;\r\n                }\r\n                // Create Pet\r\n                pet1 = new Pet(petNameTextVal, speciesChoice, petBDayTextVal, petNotesTextVal, &quot;&quot;, 0, &quot;&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Success! &quot; + pet1.getPetName() + &quot; was added&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    // Check if the birthday is in YYYY/MM/DD format\r\n    public boolean checkBirthdayValidity(){\r\n        petBDayTextVal = petBirthdayText.getText().toString();\r\n        String year;\r\n        year = petBDayTextVal.substring(0, 4);\r\n\r\n        // Check that the birthday is a valid input\r\n        if(petBDayTextVal.length() != 10){\r\n            Toast.makeText(getApplicationContext(),&quot;Incorrect Date, Please check your input&quot;,Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        else if (petBDayTextVal.substring(0, 4).matches(&quot;-?\\\\d+&quot;) == false) {\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Year input&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        else if (Integer.valueOf(petBDayTextVal.substring(0, 4)) &lt;= 1989 || Integer.valueOf(petBDayTextVal.substring(0, 4)) &gt;= 2022){\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Year input: Please input a Year between 1990 and 2021&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        // Year has been checked, now check Month\r\n        else if (petBDayTextVal.substring(4, 5).contains(&quot;/&quot;) == false){\r\n            Toast.makeText(getApplicationContext(),&quot;Forgot the / after Year&quot;,Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        else if (petBDayTextVal.substring(5, 7).matches(&quot;-?\\\\d+&quot;) == false){\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Month input&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(5, 7)) &gt;= 13){\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Month input: Please input a Month between 01 and 12&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        // Month has been checked, now check Day\r\n        else if (petBDayTextVal.substring(7, 8).contains(&quot;/&quot;) == false){\r\n            Toast.makeText(getApplicationContext(), &quot;Forgot the / after Month&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        else if (petBDayTextVal.substring(8, 10).matches(&quot;-?\\\\d+&quot;) == false){\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Day input&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        // Check for 31 Day Months\r\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 1 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 3 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 5 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 7 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 8 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 10 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 12){\r\n            if (Integer.valueOf(petBDayTextVal.substring(8, 10)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 32) {\r\n                Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 31&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            }\r\n        }\r\n        // Check for 30 Day Months\r\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 4 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 6 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 9 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 11){\r\n            if (Integer.valueOf(petBDayTextVal.substring(8, 10)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 31) {\r\n                Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 30&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            }\r\n        }\r\n        // Check for February\r\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 2 &amp;&amp; (Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 29)){\r\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 28\\n NOTE: Input 28 if Pet was born on a leap year 29th&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n        }\r\n        // All checks have been passed: Birthday is correct format\r\n        return true;\r\n    }\r\n\r\n    // Set Species based on what is selected\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        speciesChoice = parent.getItemAtPosition(position).toString();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the screen where I want the Pet name to display as the text of the button. Note I have it currently set as a string that says Placeholder. Since this screen also comes before the creation of the Class variable.\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\npublic class SelectPetScreen extends AppCompatActivity {\r\n    // Button Declarations\r\n    private Button addPetButton;\r\n    private Button selectPetButton;\r\n    private Button pet1Button;\r\n    private String selectPetButtonText;\r\n\r\n\r\n    //Pet pet1 = getResources().getPet();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_select_pet_screen);\r\n\r\n        addPetButton = (Button)findViewById(R.id.selectPetPet1Button);\r\n\r\n        // Set the Pet&#39;s name from the class here\r\n        // When there is an instance of the Pet class use getPetName() to set the name to the Button text\r\n        addPetButton.setText(&quot;Placeholder name&quot;);\r\n\r\n        // Button to navigate to Add a Pet\r\n        addPetButton = (Button) findViewById(R.id.selectPetAddPetButton);\r\n        addPetButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openAddPetScreen();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Function to open Add Pet Screen\r\n    public void openAddPetScreen() {\r\n        Intent intent = new Intent(this, AddPetScreen.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve searched a lot and all I can find is stuff pertaining to simple variables like strings and ints","title":"Passing a Class Variable Globally in Android (Java)","body":"<p>So in my Java code for my app I have a class called <strong>Pet</strong>. A variable of this is created in one of my activities further in my app.</p>\n<p>I've so far been able to successfully create an instance of this class and get variables from it in the same activity.</p>\n<p>Now I would like to pass that newly created Class variable (<strong>pet1</strong>) to the rest of my application and use functions like the <strong>getPetName()</strong> function in my other activities to set the string displayed on buttons and other elements of the application.</p>\n<p>This is the Pet class</p>\n<pre><code>package com.example.myapplication;\nimport java.time.format.DateTimeFormatter;\n\npublic class Pet {\n\n    // Variable Declarations\n    private String name;\n    private String species;\n    private int birthday;\n    private String notes = &quot;Notes: &quot;;\n    // Replace with a clock\n    // Find a way to calculate age based on time-birthday\n    private int currentTime;\n    //Create an array of medications\n\n    // Creation Function\n    public Pet(String petName, String petSpecies, String petBirthDay, String petNotes, String petMedication, int petDosage, String petDosageUnit){\n        setPetName(petName);\n        setSpecies(petSpecies);\n        setBirthDay(petBirthDay);\n        addNotes(petNotes);\n        addMeds(petMedication, petDosage, petDosageUnit);\n    }\n\n    // Set name Function\n    private void setPetName(String petName){\n        name = petName;\n    }\n\n    // Get name Function\n    public String getPetName(){\n        return name;\n    }\n\n    // Set species Function\n    private void setSpecies(String petSpecies) {\n        species = petSpecies;\n    }\n\n    // Get species Function\n    public String getSpecies(){\n        return species;\n    }\n\n    // Set birthday Function\n    private void setBirthDay(String petBirthDay) {\n        // Convert Birthday to integer\n        //birthday = petBirthDay;\n    }\n\n    // Get age Function\n    public int getAge(){\n        // We calculate the age by taking the BirthDay and subtracting the current time\n        return (currentTime - birthday);\n    }\n\n    // Add notes Function\n    public void addNotes(String newNotes){\n        // There are no current notes\n        if (notes == &quot;Notes: &quot;) {\n            notes = notes + newNotes;\n        }\n        // Make a new line and append the new notes\n        else {\n            notes = notes + &quot;\\n&quot; + newNotes;\n        }\n    }\n\n    // Get notes Function\n    public String getNotes(){\n        return notes;\n    }\n\n    // Combine Medication Information and add to Array\n    public void addMeds(String medName, int medDosage, String unit){\n        String medInfo = medName + &quot; : &quot; + medDosage + unit;\n    }\n    \n\n}\n</code></pre>\n<p>This is the activity that creates an instance of the class</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.Toast;\n\npublic class AddPetScreen extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n    private Button addPetButton;\n\n    private EditText petNameText;\n    private EditText petBirthdayText;\n    private EditText petNotesText;\n\n    private Spinner petSpeciesSpinner;\n    private String speciesChoice;\n\n    private String petNameTextVal;\n    private String petBDayTextVal;\n    private String petNotesTextVal;\n\n    public Pet pet1;\n    //public static final Pet GLOBAL_PET = &quot;com.example.myapplication.GLOBAL_PET&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_pet_screen);\n\n        petNameText = (EditText)findViewById(R.id.addPetNameField);\n        petBirthdayText = (EditText)findViewById(R.id.addPetBirthdayField);\n        petNotesText = (EditText) findViewById(R.id.addPetNotesField);\n\n        petSpeciesSpinner = findViewById(R.id.addPetSpeciesSpinner);\n\n        ArrayAdapter&lt;CharSequence&gt; speciesAdapter = ArrayAdapter.createFromResource(this, R.array.Species, android.R.layout.simple_spinner_dropdown_item);\n        speciesAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        petSpeciesSpinner.setAdapter(speciesAdapter);\n        petSpeciesSpinner.setOnItemSelectedListener(this);\n\n\n        // Button to create Pet in Pet Class and Add\n        addPetButton = (Button) findViewById(R.id.addPetAddPetButton);\n        addPetButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                addPet();\n            }\n        });\n    }\n\n    // Function to create Pet in Pet class and Add\n    public void addPet() {\n        // Need to parse variables from text boxes and spinner\n        petNameTextVal = petNameText.getText().toString();\n        petNotesTextVal = petNotesText.getText().toString();\n        petBDayTextVal = petBirthdayText.getText().toString();\n        // NOTE: Do not pass in medication, since that is the Veterinarians Job\n\n        // Check for empty parameters\n        if (petNameText.getText().toString().isEmpty()) {\n            Toast.makeText(getApplicationContext(), &quot;Please Enter a Pet Name&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else if (petBirthdayText.getText().toString().isEmpty()){\n                Toast.makeText(getApplicationContext(),&quot;Please Enter a Birth Date (YYYY/MM/DD)&quot;,Toast.LENGTH_SHORT).show();\n        }\n        // All necessary values are given\n        else {\n            if (checkBirthdayValidity() == false){\n                Toast.makeText(getApplicationContext(), &quot;Date Incorrect&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                // If there are no notes, set it to the empty string\n                if (petNotesText.getText().toString().isEmpty()) {\n                    petNotesTextVal = &quot;&quot;;\n                }\n                // Create Pet\n                pet1 = new Pet(petNameTextVal, speciesChoice, petBDayTextVal, petNotesTextVal, &quot;&quot;, 0, &quot;&quot;);\n                Toast.makeText(getApplicationContext(), &quot;Success! &quot; + pet1.getPetName() + &quot; was added&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    }\n\n    // Check if the birthday is in YYYY/MM/DD format\n    public boolean checkBirthdayValidity(){\n        petBDayTextVal = petBirthdayText.getText().toString();\n        String year;\n        year = petBDayTextVal.substring(0, 4);\n\n        // Check that the birthday is a valid input\n        if(petBDayTextVal.length() != 10){\n            Toast.makeText(getApplicationContext(),&quot;Incorrect Date, Please check your input&quot;,Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else if (petBDayTextVal.substring(0, 4).matches(&quot;-?\\\\d+&quot;) == false) {\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Year input&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else if (Integer.valueOf(petBDayTextVal.substring(0, 4)) &lt;= 1989 || Integer.valueOf(petBDayTextVal.substring(0, 4)) &gt;= 2022){\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Year input: Please input a Year between 1990 and 2021&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        // Year has been checked, now check Month\n        else if (petBDayTextVal.substring(4, 5).contains(&quot;/&quot;) == false){\n            Toast.makeText(getApplicationContext(),&quot;Forgot the / after Year&quot;,Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else if (petBDayTextVal.substring(5, 7).matches(&quot;-?\\\\d+&quot;) == false){\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Month input&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(5, 7)) &gt;= 13){\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Month input: Please input a Month between 01 and 12&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        // Month has been checked, now check Day\n        else if (petBDayTextVal.substring(7, 8).contains(&quot;/&quot;) == false){\n            Toast.makeText(getApplicationContext(), &quot;Forgot the / after Month&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        else if (petBDayTextVal.substring(8, 10).matches(&quot;-?\\\\d+&quot;) == false){\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Day input&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        // Check for 31 Day Months\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 1 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 3 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 5 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 7 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 8 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 10 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 12){\n            if (Integer.valueOf(petBDayTextVal.substring(8, 10)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 32) {\n                Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 31&quot;, Toast.LENGTH_SHORT).show();\n                return false;\n            }\n        }\n        // Check for 30 Day Months\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 4 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 6 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 9 || Integer.valueOf(petBDayTextVal.substring(5, 7)) == 11){\n            if (Integer.valueOf(petBDayTextVal.substring(8, 10)) &lt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 31) {\n                Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 30&quot;, Toast.LENGTH_SHORT).show();\n                return false;\n            }\n        }\n        // Check for February\n        else if (Integer.valueOf(petBDayTextVal.substring(5, 7)) == 2 &amp;&amp; (Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 0 || Integer.valueOf(petBDayTextVal.substring(8, 10)) &gt;= 29)){\n            Toast.makeText(getApplicationContext(), &quot;Incorrect Date for Month input: Please input a Date between 01 and 28\\n NOTE: Input 28 if Pet was born on a leap year 29th&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        }\n        // All checks have been passed: Birthday is correct format\n        return true;\n    }\n\n    // Set Species based on what is selected\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        speciesChoice = parent.getItemAtPosition(position).toString();\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n    }\n}\n</code></pre>\n<p>And this is the screen where I want the Pet name to display as the text of the button. Note I have it currently set as a string that says Placeholder. Since this screen also comes before the creation of the Class variable.</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class SelectPetScreen extends AppCompatActivity {\n    // Button Declarations\n    private Button addPetButton;\n    private Button selectPetButton;\n    private Button pet1Button;\n    private String selectPetButtonText;\n\n\n    //Pet pet1 = getResources().getPet();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_select_pet_screen);\n\n        addPetButton = (Button)findViewById(R.id.selectPetPet1Button);\n\n        // Set the Pet's name from the class here\n        // When there is an instance of the Pet class use getPetName() to set the name to the Button text\n        addPetButton.setText(&quot;Placeholder name&quot;);\n\n        // Button to navigate to Add a Pet\n        addPetButton = (Button) findViewById(R.id.selectPetAddPetButton);\n        addPetButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openAddPetScreen();\n            }\n        });\n    }\n\n    // Function to open Add Pet Screen\n    public void openAddPetScreen() {\n        Intent intent = new Intent(this, AddPetScreen.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>I've searched a lot and all I can find is stuff pertaining to simple variables like strings and ints</p>\n"},{"tags":["java","spring","spring-boot","config"],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637842204,"creation_date":1637842204,"answer_id":70110875,"question_id":70110809,"body_markdown":"Specific profiles take precedence over the default profile. You can have placename=value in your file.properties (or properties.yml) and a second file named file-&lt;profile&gt;.properties (test, prod, stage are common options) with the placeholder placename=value. \r\n\r\n \r\n\r\n[Remember to provide the profile the application as configuration before running it.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aZ5Fz.png","title":"Can I override values in external PropertySource over the application specific profile properties","body":"<p>Specific profiles take precedence over the default profile. You can have placename=value in your file.properties (or properties.yml) and a second file named file-.properties (test, prod, stage are common options) with the placeholder placename=value.</p>\n<p><a href=\"https://i.stack.imgur.com/aZ5Fz.png\" rel=\"nofollow noreferrer\">Remember to provide the profile the application as configuration before running it.</a></p>\n"},{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637862381,"creation_date":1637862381,"answer_id":70115406,"question_id":70110809,"body_markdown":"If you want to overwrite a property for a specific profile, using an external configuration, your external file/source must be profile specific:\r\n`properties-profile.properties` (if it&#39;s file-based)\r\n\r\nYou mentioned Hashicorp... Not sure if it&#39;s Vault or Consul, but for Vault, you can define a profile-specific value using:\r\n\r\n`vault write secret/application,profile foo=bar `","title":"Can I override values in external PropertySource over the application specific profile properties","body":"<p>If you want to overwrite a property for a specific profile, using an external configuration, your external file/source must be profile specific:\n<code>properties-profile.properties</code> (if it's file-based)</p>\n<p>You mentioned Hashicorp... Not sure if it's Vault or Consul, but for Vault, you can define a profile-specific value using:</p>\n<p><code>vault write secret/application,profile foo=bar </code></p>\n"}],"owner":{"account_id":20022567,"reputation":36,"user_id":14677164,"display_name":"Swetha R Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637862381,"creation_date":1637841888,"question_id":70110809,"body_markdown":"I have an external properties file that is present in Hashicorp and am pulling it to Spring Boot using `@PropertySource` annotation.\r\nIn my Spring Boot application, there are profile specific `application.properties` files.\r\nNow what I want is the `PropertySource` config to take precedence over these profile specific config.\r\n\r\nI read through the Spring Boot External Config doc already- https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html which mentions `PropertySource` config is least preference\r\n\r\n\r\n```\r\n@PropertySource(value=&quot;${path}&quot;,ignoreResourceNotFound = true)\r\npublic class MyApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nIn my application.properties file-\r\n```\r\nname=value\r\n```\r\n\r\nIn my external config file-\r\n```\r\nname=updatedNewValue\r\n```\r\n\r\nWhat I want is to retrieve the the &#39;updatedNewValue&#39;, instead I get &#39;value&#39;.\r\n\r\nIs it possible to override it?","title":"Can I override values in external PropertySource over the application specific profile properties","body":"<p>I have an external properties file that is present in Hashicorp and am pulling it to Spring Boot using <code>@PropertySource</code> annotation.\nIn my Spring Boot application, there are profile specific <code>application.properties</code> files.\nNow what I want is the <code>PropertySource</code> config to take precedence over these profile specific config.</p>\n<p>I read through the Spring Boot External Config doc already- <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html</a> which mentions <code>PropertySource</code> config is least preference</p>\n<pre><code>@PropertySource(value=&quot;${path}&quot;,ignoreResourceNotFound = true)\npublic class MyApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<p>In my application.properties file-</p>\n<pre><code>name=value\n</code></pre>\n<p>In my external config file-</p>\n<pre><code>name=updatedNewValue\n</code></pre>\n<p>What I want is to retrieve the the 'updatedNewValue', instead I get 'value'.</p>\n<p>Is it possible to override it?</p>\n"},{"tags":["java","maven","intellij-idea","javafx"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637862128,"creation_date":1637862128,"answer_id":70115363,"question_id":70115275,"body_markdown":"You don&#39;t have a problem with Maven. Your problem is what you are trying to do. Distributing JavaFX applications as fat jars is simply not very well supported. Have a look at JPackage instead. It comes with any recent JDK. And then maybe follow this tutorial: https://github.com/dlemmermann/JPackageScriptFX","title":"Maven - JavaFX jar built with maven can&#39;t execute (`NoClassDefFoundError`)","body":"<p>You don't have a problem with Maven. Your problem is what you are trying to do. Distributing JavaFX applications as fat jars is simply not very well supported. Have a look at JPackage instead. It comes with any recent JDK. And then maybe follow this tutorial: <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">https://github.com/dlemmermann/JPackageScriptFX</a></p>\n"}],"owner":{"account_id":9462961,"reputation":456,"user_id":7036218,"display_name":"Yan Zhuang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115363,"answer_count":1,"score":0,"last_activity_date":1637862128,"creation_date":1637861627,"question_id":70115275,"body_markdown":"I am trying to distribute a cross-platform JavaFX application (in jar format), so the user doesn&#39;t need to have access to their own JavaFX library in order to run the application. The best choice to do this is apparently using Maven.\r\n\r\nAs this is my first time using Maven, and I am not very familiar with how it works, I have encountered some problems even though I have followed various tutorials.\r\n\r\nThe following is my `pom.xml` for my project.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;MM&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TP_2&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;15&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;mvc.Launcher&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;src/main/java/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I build the project, everything seems fine. No error has been reported and the jar was created successfully. However, when I try to execute the jar (with `java -jar` command), I got the following exception.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:855)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:753)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:676)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:634)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\tat mvc.Launcher.main(Launcher.java:5)\r\nCaused by: java.lang.ClassNotFoundException: javafx.application.Application\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 10 more\r\n```\r\n\r\nI am not really sure where is my problem with Maven? I have tried to clean and rebuild, but it still doesn&#39;t work.\r\n\r\nFor reference, I mainly followed the solution of this thread: https://stackoverflow.com/a/53536555/7036218","title":"Maven - JavaFX jar built with maven can&#39;t execute (`NoClassDefFoundError`)","body":"<p>I am trying to distribute a cross-platform JavaFX application (in jar format), so the user doesn't need to have access to their own JavaFX library in order to run the application. The best choice to do this is apparently using Maven.</p>\n<p>As this is my first time using Maven, and I am not very familiar with how it works, I have encountered some problems even though I have followed various tutorials.</p>\n<p>The following is my <code>pom.xml</code> for my project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;MM&lt;/groupId&gt;\n    &lt;artifactId&gt;TP_2&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;mac&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;win&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n            &lt;classifier&gt;mac&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;15&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;mvc.Launcher&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;src/main/java/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I build the project, everything seems fine. No error has been reported and the jar was created successfully. However, when I try to execute the jar (with <code>java -jar</code> command), I got the following exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:855)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:753)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:676)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:634)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    at mvc.Launcher.main(Launcher.java:5)\nCaused by: java.lang.ClassNotFoundException: javafx.application.Application\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 10 more\n</code></pre>\n<p>I am not really sure where is my problem with Maven? I have tried to clean and rebuild, but it still doesn't work.</p>\n<p>For reference, I mainly followed the solution of this thread: <a href=\"https://stackoverflow.com/a/53536555/7036218\">https://stackoverflow.com/a/53536555/7036218</a></p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1637843520,"post_id":70110823,"comment_id":123937142,"body_markdown":"Do you want to do an insert via SQL or via JPA ?","body":"Do you want to do an insert via SQL or via JPA ?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637843729,"creation_date":1637843729,"answer_id":70111236,"question_id":70110823,"body_markdown":"&gt; how to write query to insert dates into database each date in new row.\r\n\r\nOK, given that the question is tagged with JPA I&#39;m going to give you a JPA answer.\r\n\r\nYou create an entity like ...\r\n\r\n```\r\n@Entity\r\nclass MyEntity {\r\n  @Id\r\n  @GeneratedValue\r\n  Long id;\r\n  DateTime myDate\r\n}\r\n```\r\n\r\nAnd then you can create a data range list like this ..\r\n\r\n```\r\n public static List&lt;DateTime&gt; getDateRange(DateTime start, DateTime end) {\r\n\r\n        List&lt;DateTime&gt; ret = new ArrayList&lt;DateTime&gt;();\r\n        DateTime tmp = start;\r\n        while(tmp.isBefore(end) || tmp.equals(end)) {\r\n            ret.add(tmp);\r\n            tmp = tmp.plusDays(1);\r\n        }\r\n        return ret;\r\n    }\r\n```\r\n\r\nAnd then you create your entities from this list and insert them using a repository class.\r\n\r\nDoes this solve your problem ?","title":"How can I insert date range in mysql database using query?","body":"<blockquote>\n<p>how to write query to insert dates into database each date in new row.</p>\n</blockquote>\n<p>OK, given that the question is tagged with JPA I'm going to give you a JPA answer.</p>\n<p>You create an entity like ...</p>\n<pre><code>@Entity\nclass MyEntity {\n  @Id\n  @GeneratedValue\n  Long id;\n  DateTime myDate\n}\n</code></pre>\n<p>And then you can create a data range list like this ..</p>\n<pre><code> public static List&lt;DateTime&gt; getDateRange(DateTime start, DateTime end) {\n\n        List&lt;DateTime&gt; ret = new ArrayList&lt;DateTime&gt;();\n        DateTime tmp = start;\n        while(tmp.isBefore(end) || tmp.equals(end)) {\n            ret.add(tmp);\n            tmp = tmp.plusDays(1);\n        }\n        return ret;\n    }\n</code></pre>\n<p>And then you create your entities from this list and insert them using a repository class.</p>\n<p>Does this solve your problem ?</p>\n"},{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637861568,"creation_date":1637861568,"answer_id":70115264,"question_id":70110823,"body_markdown":"First, you have to generate your data, by defining a simple method:\r\n```java\r\npublic List&lt;LocalDate&gt; dateRange(LocalDate from, LocalDate to) {\r\n   return from.datesUntil(to).collect(Collectors.toList());\r\n}\r\n```\r\n\r\nAnd then, you can store the data in your favorite way.\r\n\r\nUsing Spring Data JPA for example:\r\n\r\n```java\r\n// Your Entity\r\n@Entity\r\npublic class DateEntity {\r\n\r\n  public DateEntity(LocalDate localDate) {\r\n     this.localDate = localDate;\r\n  }\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  private Long id;\r\n  private LocalDate localDate;\r\n}\r\n\r\n// Your Repository\r\n@Repository\r\npublic interface DateEntityRepository extends JpaRepository&lt;DateEntity, Long&gt; {\r\n}\r\n\r\n// And the glue\r\nList&lt;DateEntity&gt; dateEntities = dateRange(from, to).stream()\r\n       .map(localDate -&gt; new DateEntity(localDate))\r\n       .collect(Collectors.toList());\r\n\r\ndateEntityRepository.saveAll(dateEntities);\r\n\r\n```\r\n","title":"How can I insert date range in mysql database using query?","body":"<p>First, you have to generate your data, by defining a simple method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;LocalDate&gt; dateRange(LocalDate from, LocalDate to) {\n   return from.datesUntil(to).collect(Collectors.toList());\n}\n</code></pre>\n<p>And then, you can store the data in your favorite way.</p>\n<p>Using Spring Data JPA for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Your Entity\n@Entity\npublic class DateEntity {\n\n  public DateEntity(LocalDate localDate) {\n     this.localDate = localDate;\n  }\n\n  @Id\n  @GeneratedValue\n  private Long id;\n  private LocalDate localDate;\n}\n\n// Your Repository\n@Repository\npublic interface DateEntityRepository extends JpaRepository&lt;DateEntity, Long&gt; {\n}\n\n// And the glue\nList&lt;DateEntity&gt; dateEntities = dateRange(from, to).stream()\n       .map(localDate -&gt; new DateEntity(localDate))\n       .collect(Collectors.toList());\n\ndateEntityRepository.saveAll(dateEntities);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398812,"reputation":64,"user_id":3236838,"display_name":"arlabbafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637861855,"creation_date":1637861855,"answer_id":70115317,"question_id":70110823,"body_markdown":"you can use a query like this.\r\n&lt;pre&gt;\r\ninsert into table_name (....  , date_field) values \r\nselect .... , selected_date from \r\n(select adddate(&#39;1970-01-01&#39;,t4.i*10000 + t3.i*1000 + t2.i*100 + t1.i*10 + t0.i) selected_date from\r\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t0,\r\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t1,\r\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t2,\r\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t3,\r\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t4) v\r\nwhere selected_date between &#39;2012-02-10&#39; and &#39;2012-02-15&#39;\r\n&lt;/pre&gt;","title":"How can I insert date range in mysql database using query?","body":"<p>you can use a query like this.</p>\n<pre>\ninsert into table_name (....  , date_field) values \nselect .... , selected_date from \n(select adddate('1970-01-01',t4.i*10000 + t3.i*1000 + t2.i*100 + t1.i*10 + t0.i) selected_date from\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t0,\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t1,\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t2,\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t3,\n (select 0 i union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t4) v\nwhere selected_date between '2012-02-10' and '2012-02-15'\n</pre>\n"}],"owner":{"account_id":23306776,"reputation":67,"user_id":17386645,"display_name":"Mike1988B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637861855,"creation_date":1637841963,"question_id":70110823,"body_markdown":"For example, I have field in database table named date, and I want to insert into table date range from 2021-11-25 to 2021-11-30. \r\nI do not know how to write query to insert dates into database each date in new row.\r\nLike this:\r\n\r\n1. 2021-11-25\r\n2. 2021-11-26\r\n3. 2021-11-27\r\n4. 2021-11-28\r\n5. 2021-11-29\r\n6. 2021-11-30\r\n\r\nThanks for help...\r\n ","title":"How can I insert date range in mysql database using query?","body":"<p>For example, I have field in database table named date, and I want to insert into table date range from 2021-11-25 to 2021-11-30.\nI do not know how to write query to insert dates into database each date in new row.\nLike this:</p>\n<ol>\n<li>2021-11-25</li>\n<li>2021-11-26</li>\n<li>2021-11-27</li>\n<li>2021-11-28</li>\n<li>2021-11-29</li>\n<li>2021-11-30</li>\n</ol>\n<p>Thanks for help...</p>\n"},{"tags":["java","web-applications","typescript","angular","maven-plugin"],"comments":[{"owner":{"account_id":8549140,"reputation":758,"user_id":6406680,"accept_rate":91,"display_name":"Kiran Kumar"},"score":0,"creation_date":1478390265,"post_id":38532210,"comment_id":68135580,"body_markdown":"I build my application using spring boot and we jars for angular2. For sample refer https://github.com/Kiran-N/springboot-and-angular2","body":"I build my application using spring boot and we jars for angular2. For sample refer <a href=\"https://github.com/Kiran-N/springboot-and-angular2\" rel=\"nofollow noreferrer\">github.com/Kiran-N/springboot-and-angular2</a>"},{"owner":{"account_id":8496773,"reputation":711,"user_id":6371144,"display_name":"J_Dev"},"score":0,"creation_date":1487277200,"post_id":38532210,"comment_id":71724752,"body_markdown":"Had similar task, here is my approach http://stackoverflow.com/questions/37512154/configure-angular-2-project-with-maven-and-spring-rest/42283956#42283956","body":"Had similar task, here is my approach <a href=\"http://stackoverflow.com/questions/37512154/configure-angular-2-project-with-maven-and-spring-rest/42283956#42283956\" title=\"configure angular 2 project with maven and spring rest\">stackoverflow.com/questions/37512154/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2641772,"reputation":100,"user_id":2285259,"display_name":"Caio Leonhardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469209830,"creation_date":1469209830,"answer_id":38532568,"question_id":38532210,"body_markdown":"I recommend let the two applications separated, this way you have modularity.\r\nThis way you can change the Angular App without affect your service, and vice versa. For second, your apache/nginx are faster to deliver your js and html from Angular instead Tomcat (for example). But if you still want put the Angular application inside the war, the pattern is that all web resources are in src/main/webapp.\r\n","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>I recommend let the two applications separated, this way you have modularity.\nThis way you can change the Angular App without affect your service, and vice versa. For second, your apache/nginx are faster to deliver your js and html from Angular instead Tomcat (for example). But if you still want put the Angular application inside the war, the pattern is that all web resources are in src/main/webapp.</p>\n"},{"tags":[],"owner":{"account_id":4927179,"reputation":589,"user_id":3968130,"display_name":"Scrambo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1470666668,"creation_date":1470665873,"answer_id":38831642,"question_id":38532210,"body_markdown":"Funnily enough, I did just this last week!\r\n&gt; Using Netbeans 8.1 and a Tomcat servlet version 8.0.27\r\n\r\nAngular and Java project file structure. \r\n\r\nJava Project is called Foo. Angular Project is Bar\r\n\r\n    Foo (Java Maven Project)\r\n    |__ src\r\n    |    |__ main\r\n    |    |    |__ webapp (This folder contains the entire Angular Project)\r\n    |    |    |    |__ META-INF\r\n    |    |    |    |    \\__ context.xml \r\n    |    |    |    |__ WEB-INF\r\n    |    |    |    |    \\__ web.xml\r\n    |    |    |    |__ includes\r\n    |    |    |    |    |__ css\r\n    |    |    |    |    |__ images\r\n    |    |    |    |    \\__ js\r\n    |    |    |    |\r\n    |    |    |    | ## Bar project files are located here ##\r\n    |    |    |    |\r\n    |    |    |    |__ app\r\n    |    |    |    |    \\__ All .ts and compiled .js files are located here\r\n    |    |    |    |__ node_modules\r\n    |    |    |    |    \\__ any dependencies used for Bar are located here\r\n    |    |    |    |__ typings\r\n    |    |    |    |    \\__ typings for Typescript located here\r\n    |    |    |    |\r\n    |    |    |    |__ README.txt\r\n    |    |    |    |__ index.jsp\r\n    |    |    |    |__ package.json\r\n    |    |    |    |__ systemjs.config.js\r\n    |    |    |    |__ tsconfig.json\r\n    |    |    |    |__ typings.json\r\n    |    |    |    \\ ## Bar project files end here\r\n    |    |    | \r\n    |    |    |__ resources\r\n    |    |    |    |__META-INF\r\n    |    |    |    |    \\__ persistence.xml\r\n    |    |    |__ java\r\n    |    |    |    |__ hibernate.cfg.xml\r\n    |    |    |    |__ com\r\n    |    |    |    |    |__ orgName\r\n    |    |    |    |    |    |__ packageName\r\n    |    |    |    |    |    |    \\__ .java files are here\r\n    |__ pom.xml\r\n    \\__ nb-configuration.xml\r\n\r\n","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>Funnily enough, I did just this last week!</p>\n\n<blockquote>\n  <p>Using Netbeans 8.1 and a Tomcat servlet version 8.0.27</p>\n</blockquote>\n\n<p>Angular and Java project file structure. </p>\n\n<p>Java Project is called Foo. Angular Project is Bar</p>\n\n<pre><code>Foo (Java Maven Project)\n|__ src\n|    |__ main\n|    |    |__ webapp (This folder contains the entire Angular Project)\n|    |    |    |__ META-INF\n|    |    |    |    \\__ context.xml \n|    |    |    |__ WEB-INF\n|    |    |    |    \\__ web.xml\n|    |    |    |__ includes\n|    |    |    |    |__ css\n|    |    |    |    |__ images\n|    |    |    |    \\__ js\n|    |    |    |\n|    |    |    | ## Bar project files are located here ##\n|    |    |    |\n|    |    |    |__ app\n|    |    |    |    \\__ All .ts and compiled .js files are located here\n|    |    |    |__ node_modules\n|    |    |    |    \\__ any dependencies used for Bar are located here\n|    |    |    |__ typings\n|    |    |    |    \\__ typings for Typescript located here\n|    |    |    |\n|    |    |    |__ README.txt\n|    |    |    |__ index.jsp\n|    |    |    |__ package.json\n|    |    |    |__ systemjs.config.js\n|    |    |    |__ tsconfig.json\n|    |    |    |__ typings.json\n|    |    |    \\ ## Bar project files end here\n|    |    | \n|    |    |__ resources\n|    |    |    |__META-INF\n|    |    |    |    \\__ persistence.xml\n|    |    |__ java\n|    |    |    |__ hibernate.cfg.xml\n|    |    |    |__ com\n|    |    |    |    |__ orgName\n|    |    |    |    |    |__ packageName\n|    |    |    |    |    |    \\__ .java files are here\n|__ pom.xml\n\\__ nb-configuration.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8496773,"reputation":711,"user_id":6371144,"display_name":"J_Dev"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1487277353,"creation_date":1487277353,"answer_id":42284099,"question_id":38532210,"body_markdown":"Here is what I did:-\r\n\r\n - Install Nodejs v6.9+ \r\n - Run **npm install @angular/cli –g** for Angular CLI\r\n - Install Apache Maven or use any Maven friendly IDE\r\n - Use your required Maven configuration, I used simple webapp (WAR).\r\n\r\n**Directory Stucture** (Except for **ngapp** folder rest is standard Maven structure.)\r\n\r\n    ngfirst\r\n    ├── pom.xml\r\n    ├── src\r\n    │&#160;&#160; └── main\r\n    │&#160;&#160;     ├── java\r\n    │&#160;&#160;     ├── resources\r\n    │&#160;&#160;     ├── webapp\r\n    │&#160;&#160;     └── ngapp\r\n\r\n**Angular Part** \r\n\r\nOpen **ngapp** folder in terminal and type **ng init** command to initialize node and npm configuration, the result will be a simple Angular2 example application will the following directory structure inside ngapp folder:-\r\n\r\n                 ├── angular-cli.json\r\n                 ├── e2e\r\n                 ├── karma.conf.js\r\n                 ├── node_modules\r\n                 ├── package.json\r\n                 ├── protractor.conf.js\r\n                 ├── README.md\r\n                 ├── tslint.json\r\n                 ├── src\r\n                     ├── app\r\n                     ├── assets\r\n                     ├── environments\r\n                     ├── favicon.ico\r\n                     ├── index.html\r\n                     ├── main.ts\r\n                     ├── polyfills.ts\r\n                     ├── styles.css\r\n                     ├── test.ts\r\n                     └── tsconfig.json\r\n\r\nThis structure is Angular equivalent of Maven project structure and **src** directory is Angular Application&#39;s source, just like **maven build** command generates its output in **target** folder, **ng build** command generates its output in **dist** folder.\r\n\r\nIn order to package the generated Angular application within Maven generated WAR modify the build configuration to change the output folder from **dist** to **webapp**, open **angular-cli.json** file and modify its outDir as below:-\r\n\r\n    &quot;outDir&quot;: &quot;../webapp/ng&quot;\r\n\r\nAt this point **ng build** command will generate built Angular Application inside **ng** directory of ngfirst/src/main/**webapp** folder.\r\n\r\n**Maven Part**\r\n\r\nOpen pom.xml and configure following three maven plugins:-\r\n\r\n 1. **compiler-plugin**: No Java stuff to compile in /src/main/**ngapp** folder, exclude it.\r\n 2. **war-plugin**: /src/main/**ngapp** is Angular project folder and it should not be packaged in WAR, exclude it.\r\n 3. **exec-plugin**: Execute NPM Install and Angular-CLI Build commands to generate Angular Application in webapp folder for final packaging. Note --base-href argument, it is required to load Angular resources from webapp&#39;s context path.\r\n\r\nHere is how it should look like:-\r\n\r\n    &lt;plugins&gt;\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t\t&lt;exclude&gt;ngapp/**&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t\t&lt;exclude&gt;ngapp/**&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;exec-npm-install&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/src/main/ngapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;install&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;exec-npm-ng-build&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/src/main/ngapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;ng&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;build&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;--base-href=/ngfirst/ng/&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\t\r\n\r\n\r\n**Building Maven Project** (and Angular App too)\r\n\r\nOpen Terminal in project root folder **ngfirst** and run **mvn package** command, this will generate a WAR file (ngfirst.war) in **target** folder.\r\n\r\nDeploy **ngfirst.war** in a container, open http://localhost:8080/ngfirst/ng/index.html in Browser. (adjust your hostname and port if required)\r\n\r\nIf everything went right, you should see **app works!** in browser, that is Angular Application at work!!\r\n\r\n\r\n**JSP Pre-Processing**\r\n\r\nWe can leverage dynamic configuration and page rendering capabilities of JSP technology with Angular application, Angular SPA is served by the Java container as regular HTML page, **index.html** in this case, if we configure JSP Engine to pre-process html files too, then all JSP magic can be included inside Angular SPA Page, just include the following inside **web.xml**\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nSave, rebuild maven project, deploy WAR and voila!!","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>Here is what I did:-</p>\n\n<ul>\n<li>Install Nodejs v6.9+ </li>\n<li>Run <strong>npm install @angular/cli –g</strong> for Angular CLI</li>\n<li>Install Apache Maven or use any Maven friendly IDE</li>\n<li>Use your required Maven configuration, I used simple webapp (WAR).</li>\n</ul>\n\n<p><strong>Directory Stucture</strong> (Except for <strong>ngapp</strong> folder rest is standard Maven structure.)</p>\n\n<pre><code>ngfirst\n├── pom.xml\n├── src\n│   └── main\n│       ├── java\n│       ├── resources\n│       ├── webapp\n│       └── ngapp\n</code></pre>\n\n<p><strong>Angular Part</strong> </p>\n\n<p>Open <strong>ngapp</strong> folder in terminal and type <strong>ng init</strong> command to initialize node and npm configuration, the result will be a simple Angular2 example application will the following directory structure inside ngapp folder:-</p>\n\n<pre><code>             ├── angular-cli.json\n             ├── e2e\n             ├── karma.conf.js\n             ├── node_modules\n             ├── package.json\n             ├── protractor.conf.js\n             ├── README.md\n             ├── tslint.json\n             ├── src\n                 ├── app\n                 ├── assets\n                 ├── environments\n                 ├── favicon.ico\n                 ├── index.html\n                 ├── main.ts\n                 ├── polyfills.ts\n                 ├── styles.css\n                 ├── test.ts\n                 └── tsconfig.json\n</code></pre>\n\n<p>This structure is Angular equivalent of Maven project structure and <strong>src</strong> directory is Angular Application's source, just like <strong>maven build</strong> command generates its output in <strong>target</strong> folder, <strong>ng build</strong> command generates its output in <strong>dist</strong> folder.</p>\n\n<p>In order to package the generated Angular application within Maven generated WAR modify the build configuration to change the output folder from <strong>dist</strong> to <strong>webapp</strong>, open <strong>angular-cli.json</strong> file and modify its outDir as below:-</p>\n\n<pre><code>\"outDir\": \"../webapp/ng\"\n</code></pre>\n\n<p>At this point <strong>ng build</strong> command will generate built Angular Application inside <strong>ng</strong> directory of ngfirst/src/main/<strong>webapp</strong> folder.</p>\n\n<p><strong>Maven Part</strong></p>\n\n<p>Open pom.xml and configure following three maven plugins:-</p>\n\n<ol>\n<li><strong>compiler-plugin</strong>: No Java stuff to compile in /src/main/<strong>ngapp</strong> folder, exclude it.</li>\n<li><strong>war-plugin</strong>: /src/main/<strong>ngapp</strong> is Angular project folder and it should not be packaged in WAR, exclude it.</li>\n<li><strong>exec-plugin</strong>: Execute NPM Install and Angular-CLI Build commands to generate Angular Application in webapp folder for final packaging. Note --base-href argument, it is required to load Angular resources from webapp's context path.</li>\n</ol>\n\n<p>Here is how it should look like:-</p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;ngapp/**&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;ngapp/**&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;exec-npm-install&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;${project.basedir}/src/main/ngapp&lt;/workingDirectory&gt;\n                    &lt;executable&gt;npm&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;install&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;exec-npm-ng-build&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;${project.basedir}/src/main/ngapp&lt;/workingDirectory&gt;\n                    &lt;executable&gt;ng&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;build&lt;/argument&gt;\n                        &lt;argument&gt;--base-href=/ngfirst/ng/&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;  \n</code></pre>\n\n<p><strong>Building Maven Project</strong> (and Angular App too)</p>\n\n<p>Open Terminal in project root folder <strong>ngfirst</strong> and run <strong>mvn package</strong> command, this will generate a WAR file (ngfirst.war) in <strong>target</strong> folder.</p>\n\n<p>Deploy <strong>ngfirst.war</strong> in a container, open <a href=\"http://localhost:8080/ngfirst/ng/index.html\" rel=\"noreferrer\">http://localhost:8080/ngfirst/ng/index.html</a> in Browser. (adjust your hostname and port if required)</p>\n\n<p>If everything went right, you should see <strong>app works!</strong> in browser, that is Angular Application at work!!</p>\n\n<p><strong>JSP Pre-Processing</strong></p>\n\n<p>We can leverage dynamic configuration and page rendering capabilities of JSP technology with Angular application, Angular SPA is served by the Java container as regular HTML page, <strong>index.html</strong> in this case, if we configure JSP Engine to pre-process html files too, then all JSP magic can be included inside Angular SPA Page, just include the following inside <strong>web.xml</strong></p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Save, rebuild maven project, deploy WAR and voila!!</p>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1498228922,"creation_date":1498228922,"answer_id":44724174,"question_id":38532210,"body_markdown":"My side I have a maven module for angular sources called **prj-angular**, and anoter one for war application called **prj-war**.\r\n\r\nfirst **prj angular** is built:\r\n\r\n * it uses maven-exec-plugin to call `npm install` and `ng build` (thanks to @J_Dev!)\r\n * change resource default directory to `dist/`\r\n * skip jar MANIFEST generation\r\n * maven module result: a jar with generated angular **dist/** content only!\r\n\r\nthen, second **prj_war** is build:\r\n\r\n * has **prj angular** as dependency\r\n * use unpack phase to unzip the previous jar into web app destination\r\n * this module build you app war with fresh angular dist.\r\n\r\nFollow under the corresponding plugin configuration I used:\r\n\r\n**prj angular (pom.xml extract)**\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;dist&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- skip compile --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase /&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;exec-npm-install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;executable&gt;npm.cmd&lt;/executable&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;argument&gt;install&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;exec-npm-ng-build&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/src&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;executable&gt;ng.cmd&lt;/executable&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;argument&gt;build&lt;/argument&gt;\r\n\t\t\t\t\t\t\t\t&lt;argument&gt;--no-progress&lt;/argument&gt;\r\n\t\t\t\t\t\t\t\t&lt;argument&gt;--base-href=/app/ng/&lt;/argument&gt; &lt;== to update\r\n\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t\r\n\t\r\n\t\r\n\t\r\n**prj war (pom.xml extract)**\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;unpack angular distribution&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;com.myapp&lt;/groupId&gt; &lt;== to update\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;prj-angular&lt;/artifactId&gt; &lt;== to update\r\n\t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;**/*&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/prjwar/ng&lt;/outputDirectory&gt; &lt;== to update\r\n\t\t\t\t\t\t\t&lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n\t\t\t\t\t\t\t&lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>My side I have a maven module for angular sources called <strong>prj-angular</strong>, and anoter one for war application called <strong>prj-war</strong>.</p>\n\n<p>first <strong>prj angular</strong> is built:</p>\n\n<ul>\n<li>it uses maven-exec-plugin to call <code>npm install</code> and <code>ng build</code> (thanks to @J_Dev!)</li>\n<li>change resource default directory to <code>dist/</code></li>\n<li>skip jar MANIFEST generation</li>\n<li>maven module result: a jar with generated angular <strong>dist/</strong> content only!</li>\n</ul>\n\n<p>then, second <strong>prj_war</strong> is build:</p>\n\n<ul>\n<li>has <strong>prj angular</strong> as dependency</li>\n<li>use unpack phase to unzip the previous jar into web app destination</li>\n<li>this module build you app war with fresh angular dist.</li>\n</ul>\n\n<p>Follow under the corresponding plugin configuration I used:</p>\n\n<p><strong>prj angular (pom.xml extract)</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;dist&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;!-- skip compile --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase /&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;exec-npm-install&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;workingDirectory&gt;${project.basedir}&lt;/workingDirectory&gt;\n                        &lt;executable&gt;npm.cmd&lt;/executable&gt;\n                        &lt;arguments&gt;\n                            &lt;argument&gt;install&lt;/argument&gt;\n                        &lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;exec-npm-ng-build&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;workingDirectory&gt;${project.basedir}/src&lt;/workingDirectory&gt;\n                        &lt;executable&gt;ng.cmd&lt;/executable&gt;\n                        &lt;arguments&gt;\n                            &lt;argument&gt;build&lt;/argument&gt;\n                            &lt;argument&gt;--no-progress&lt;/argument&gt;\n                            &lt;argument&gt;--base-href=/app/ng/&lt;/argument&gt; &lt;== to update\n                        &lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>prj war (pom.xml extract)</strong></p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack angular distribution&lt;/id&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;com.myapp&lt;/groupId&gt; &lt;== to update\n                                &lt;artifactId&gt;prj-angular&lt;/artifactId&gt; &lt;== to update\n                                &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                &lt;includes&gt;**/*&lt;/includes&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/prjwar/ng&lt;/outputDirectory&gt; &lt;== to update\n                        &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588750784,"creation_date":1564255114,"answer_id":57235345,"question_id":38532210,"body_markdown":"I want to share how I set my Angular/Java projects. Some important things:\r\n\r\n 1. There&#39;s only a single Maven project and it allows me to build the entire project. In this way, I can build the entire project or build client and backend separately.\r\n \r\n 2. My project is based on Spring Boot framework. However, you can easily adapt my solution to your situation. I generate the `output` code of Angular project is put under the `META-INF&#39; folder. You can obviously change it if you don&#39;t use Spring Boot.\r\n\r\n 3. In my project, I want to publish the angular project in the `public` folder.\r\n\r\n 4. When I develop, I run the Angular project and the backend project separately: Angular with `ng serve` and the backend project (the Java part) in the IDE (Eclipse).\r\n\r\nOk, let&#39;s start. The entire project structure is represented in the following picture.\r\n\r\n[![Project structure][1]][1]\r\n\r\nAs you can see, I put the Angular project in the &#39;src\\main\\ngapp&#39; folder. For the Java project (the backend) I used Eclipse IDE, for the Angular project I used Webstorm. You can choose your preferred IDE to manage the project. The important thing: you will need two IDE to manage the entire project.\r\n\r\nTo build the Angular project with Maven, I used the following maven profile definition.\r\n\r\n```xml\r\n&lt;profile&gt;\r\n\t&lt;id&gt;build-client&lt;/id&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;nodeVersion&gt;v10.13.0&lt;/nodeVersion&gt;\r\n\t\t\t\t\t&lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\r\n\t\t\t\t\t&lt;workingDirectory&gt;src/main/ngapp/&lt;/workingDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build-prod&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run-script build&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/profile&gt;\r\n\r\n```\r\n\r\nAs you can see, I used the `com.github.eirslett:frontend-maven-plugin` plugin to install node and run npm to build the Angular project. In this way, when I run the maven profile `build-client` The plugin is used to:\r\n\r\n - Check and install, if it is needed, the node version `v10.13.0` in the Angular project folder `src/main/ngapp/`\r\n\r\n - Run the command `npm run build`. In the Angular project is defined the build alias in the `package.json`\r\n\r\n```json\r\n&quot;scripts&quot;: {\r\n    &quot;ng&quot;: &quot;ng&quot;,\r\n    &quot;start&quot;: &quot;ng serve --proxy-config proxy.conf.json&quot;,\r\n    &quot;build&quot;: &quot;ng build --configuration=production&quot;,\r\n    &quot;test&quot;: &quot;ng test&quot;,\r\n    &quot;lint&quot;: &quot;ng lint&quot;,\r\n    &quot;e2e&quot;: &quot;ng e2e&quot;\r\n}\r\n```\r\n\r\nThe Angular client must be place in `public` folder of the web application. To do this, the Angular project is configured to have the `baseHref=/public`. Moreover, the builded project must be place in `src/main/resources/META-INF/resources/public`. In `angular.json` you will find:\r\n\r\n```json\r\n&quot;build&quot;: {\r\n  &quot;builder&quot;: &quot;@angular-devkit/build-angular:browser&quot;,\r\n  &quot;options&quot;: {\r\n    &quot;baseHref&quot;:&quot;/public/&quot;,\r\n    &quot;outputPath&quot;: &quot;../resources/META-INF/resources/public&quot;,\r\n    ...    \r\n```\r\n\r\nIn a no-Spring Boot project you probably need to put the builded angular project directly in `src/main/webapp/public` folder. To do this, just modify the `angular.json` file as you need.\r\n\r\n\r\nYou can find all the project&#39;s code in [my github project][2]. The plugin project is [here][3].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/guCQs.png\r\n  [2]: https://github.com/xcesco/files-on-cloud\r\n  [3]: https://github.com/eirslett/frontend-maven-plugin","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>I want to share how I set my Angular/Java projects. Some important things:</p>\n\n<ol>\n<li><p>There's only a single Maven project and it allows me to build the entire project. In this way, I can build the entire project or build client and backend separately.</p></li>\n<li><p>My project is based on Spring Boot framework. However, you can easily adapt my solution to your situation. I generate the <code>output</code> code of Angular project is put under the `META-INF' folder. You can obviously change it if you don't use Spring Boot.</p></li>\n<li><p>In my project, I want to publish the angular project in the <code>public</code> folder.</p></li>\n<li><p>When I develop, I run the Angular project and the backend project separately: Angular with <code>ng serve</code> and the backend project (the Java part) in the IDE (Eclipse).</p></li>\n</ol>\n\n<p>Ok, let's start. The entire project structure is represented in the following picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/guCQs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guCQs.png\" alt=\"Project structure\"></a></p>\n\n<p>As you can see, I put the Angular project in the 'src\\main\\ngapp' folder. For the Java project (the backend) I used Eclipse IDE, for the Angular project I used Webstorm. You can choose your preferred IDE to manage the project. The important thing: you will need two IDE to manage the entire project.</p>\n\n<p>To build the Angular project with Maven, I used the following maven profile definition.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;build-client&lt;/id&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v10.13.0&lt;/nodeVersion&gt;\n                    &lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\n                    &lt;workingDirectory&gt;src/main/ngapp/&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build-prod&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prod&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run-script build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n\n</code></pre>\n\n<p>As you can see, I used the <code>com.github.eirslett:frontend-maven-plugin</code> plugin to install node and run npm to build the Angular project. In this way, when I run the maven profile <code>build-client</code> The plugin is used to:</p>\n\n<ul>\n<li><p>Check and install, if it is needed, the node version <code>v10.13.0</code> in the Angular project folder <code>src/main/ngapp/</code></p></li>\n<li><p>Run the command <code>npm run build</code>. In the Angular project is defined the build alias in the <code>package.json</code></p></li>\n</ul>\n\n<pre><code>\"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --proxy-config proxy.conf.json\",\n    \"build\": \"ng build --configuration=production\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n}\n</code></pre>\n\n<p>The Angular client must be place in <code>public</code> folder of the web application. To do this, the Angular project is configured to have the <code>baseHref=/public</code>. Moreover, the builded project must be place in <code>src/main/resources/META-INF/resources/public</code>. In <code>angular.json</code> you will find:</p>\n\n<pre><code>\"build\": {\n  \"builder\": \"@angular-devkit/build-angular:browser\",\n  \"options\": {\n    \"baseHref\":\"/public/\",\n    \"outputPath\": \"../resources/META-INF/resources/public\",\n    ...    \n</code></pre>\n\n<p>In a no-Spring Boot project you probably need to put the builded angular project directly in <code>src/main/webapp/public</code> folder. To do this, just modify the <code>angular.json</code> file as you need.</p>\n\n<p>You can find all the project's code in <a href=\"https://github.com/xcesco/files-on-cloud\" rel=\"nofollow noreferrer\">my github project</a>. The plugin project is <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13719483,"reputation":34,"user_id":9899812,"display_name":"Prashanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574611056,"creation_date":1574611056,"answer_id":59019545,"question_id":38532210,"body_markdown":"    &lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;nodeVersion&gt;v10.13.0&lt;/nodeVersion&gt;\r\n    \t\t\t\t\t\t\t&lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\r\n    \t\t\t\t\t\t\t&lt;workingDirectory&gt;src/main/ngapp/&lt;/workingDirectory&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;npm run build-prod&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;arguments&gt;run-script build&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n        ","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<pre><code>&lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.3&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v10.13.0&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;6.4.1&lt;/npmVersion&gt;\n                            &lt;workingDirectory&gt;src/main/ngapp/&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node and npm&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run build-prod&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;prod&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run-script build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637861663,"creation_date":1637859752,"answer_id":70114910,"question_id":38532210,"body_markdown":"Solution based on command line building of angular project with\r\n\r\n    npm install --verbose\r\n    npm run ng build\r\n\r\n**given** \r\n\r\n    src/main/frontend\r\n    src/main/webapp\r\n\r\n**maven-war-plugin + exec-maven-plugin**\r\n\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.3&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;webResources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/frontend/dist&lt;/directory&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/webResources&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;npm-install&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;src/main/frontend&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;install&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;npm-ng-build&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;workingDirectory&gt;src/main/frontend&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;run&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;ng&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;build&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n\r\n**maven-war-plugin + maven-antrun-plugin** (failed to run npm directly on my machine, hence OS dependent build)\r\n\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.3&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;webResources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/frontend/dist&lt;/directory&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/webResources&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;exec-gen-sources&lt;/id&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;target name=&quot;Build Frontend&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;exec executable=&quot;cmd&quot; dir=&quot;src/main/frontend&quot; failonerror=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;arg line=&quot;/c npm install --verbose&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;/exec&gt;\r\n\t\t\t\t\t\t\t&lt;exec executable=&quot;cmd&quot; dir=&quot;src/main/frontend&quot; failonerror=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;arg line=&quot;/c npm run ng build&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;/exec&gt;\r\n\t\t\t\t\t\t&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>Solution based on command line building of angular project with</p>\n<pre><code>npm install --verbose\nnpm run ng build\n</code></pre>\n<p><strong>given</strong></p>\n<pre><code>src/main/frontend\nsrc/main/webapp\n</code></pre>\n<p><strong>maven-war-plugin + exec-maven-plugin</strong></p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;webResources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/frontend/dist&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/webResources&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;npm-install&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;src/main/frontend&lt;/workingDirectory&gt;\n                    &lt;executable&gt;npm&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;install&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;npm-ng-build&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;src/main/frontend&lt;/workingDirectory&gt;\n                    &lt;executable&gt;npm&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;run&lt;/argument&gt;\n                        &lt;argument&gt;ng&lt;/argument&gt;\n                        &lt;argument&gt;build&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p><strong>maven-war-plugin + maven-antrun-plugin</strong> (failed to run npm directly on my machine, hence OS dependent build)</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;webResources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/frontend/dist&lt;/directory&gt;\n                &lt;/resource&gt;\n            &lt;/webResources&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;exec-gen-sources&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;target name=&quot;Build Frontend&quot;&gt;\n                        &lt;exec executable=&quot;cmd&quot; dir=&quot;src/main/frontend&quot; failonerror=&quot;true&quot;&gt;\n                            &lt;arg line=&quot;/c npm install --verbose&quot; /&gt;\n                        &lt;/exec&gt;\n                        &lt;exec executable=&quot;cmd&quot; dir=&quot;src/main/frontend&quot; failonerror=&quot;true&quot;&gt;\n                            &lt;arg line=&quot;/c npm run ng build&quot; /&gt;\n                        &lt;/exec&gt;\n                    &lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;run&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":4154128,"reputation":723,"user_id":3405805,"accept_rate":0,"display_name":"RAJESHPODDER007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84087,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"answer_count":7,"score":47,"last_activity_date":1637861663,"creation_date":1469208495,"question_id":38532210,"body_markdown":"I have created a Angular 2 front-end Application.and i have created one Java Rest WS Back-end Application which is connected to DB.\r\n\r\nMy Folder structure for Angular 2 App is below-\r\n\r\n```\r\nAngular2App\r\n  confg\r\n  dist\r\n  e2e\r\n  node_modules\r\n  public\r\n  src\r\n     app\r\n     favicon.ico\r\n     index.html\r\n     main.ts\r\n     system-config.ts\r\n     tsconfig.json\r\n     typings.d.ts\r\n  tmp\r\n  typings\r\n  .editorconfig\r\n  .gitignore\r\n  angular-cli.json\r\n  angular-cli-build.js\r\n  package.json\r\n  README.md\r\n  tslint.json\r\n  typings.json\r\n```\r\n\r\nAnd My Java Maven Web Application Structure is below-\r\n\r\n```\r\nJerseyWebApp\r\n  src\r\n   main\r\n     java\r\n\t   Custom Package\r\n\t   java classes\r\n     resources\r\n     webapp\r\n\t   WEB-INF\r\n\t\t web.xml\r\n\t   index.html\r\n  pom.xml\r\n```\r\n\r\nI want to know how to integrate these two applications into one application which will produce only one war file.\r\n\r\n","title":"how to integrate Angular 2 + Java Maven Web Application","body":"<p>I have created a Angular 2 front-end Application.and i have created one Java Rest WS Back-end Application which is connected to DB.</p>\n\n<p>My Folder structure for Angular 2 App is below-</p>\n\n<pre><code>Angular2App\n  confg\n  dist\n  e2e\n  node_modules\n  public\n  src\n     app\n     favicon.ico\n     index.html\n     main.ts\n     system-config.ts\n     tsconfig.json\n     typings.d.ts\n  tmp\n  typings\n  .editorconfig\n  .gitignore\n  angular-cli.json\n  angular-cli-build.js\n  package.json\n  README.md\n  tslint.json\n  typings.json\n</code></pre>\n\n<p>And My Java Maven Web Application Structure is below-</p>\n\n<pre><code>JerseyWebApp\n  src\n   main\n     java\n       Custom Package\n       java classes\n     resources\n     webapp\n       WEB-INF\n         web.xml\n       index.html\n  pom.xml\n</code></pre>\n\n<p>I want to know how to integrate these two applications into one application which will produce only one war file.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-rest"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1637860706,"post_id":70114724,"comment_id":123944017,"body_markdown":"It is better to open a new question for your second question","body":"It is better to open a new question for your second question"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637860678,"creation_date":1637860678,"answer_id":70115105,"question_id":70114724,"body_markdown":"&gt; So, if I well understood, the first one will be aple only to access to the API having enpoint URL /api/utenti/cerca/** while the second one will be able to access also to the APIs having endpoint URLs /api/utenti/inserisci/** and /api/utenti/elimina/**\r\n\r\nYes.\r\n\r\n&gt; Why? Maybe it depende by the previous configure() method settings, in particular this line?\r\n\r\nYes, when using `.anyRequest().authenticated()`, any requests that have not been matched will have to be authenticated.\r\n\r\n&gt; If a called endpoint not belong to one of the previous lists --&gt; everybody can access, also not authenticated user.\r\n\r\nYou can achieve this by doing `anyRequest().permitAll()`. But this is not so secure because you are allowing access to every other endpoints, instead you should stay with `anyRequest().authenticated()` and allow access to specific endpoints manually, like so: \r\n\r\n```java\r\nhttp\r\n                .authorizeRequests()\r\n                .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\r\n                .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/api/users/test&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                ...\r\n```\r\n\r\n","title":"Can I mix both basic authentication and JWT token authentication to protect APIs of a single Spring Boot project?","body":"<blockquote>\n<p>So, if I well understood, the first one will be aple only to access to the API having enpoint URL /api/utenti/cerca/** while the second one will be able to access also to the APIs having endpoint URLs /api/utenti/inserisci/** and /api/utenti/elimina/**</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Why? Maybe it depende by the previous configure() method settings, in particular this line?</p>\n</blockquote>\n<p>Yes, when using <code>.anyRequest().authenticated()</code>, any requests that have not been matched will have to be authenticated.</p>\n<blockquote>\n<p>If a called endpoint not belong to one of the previous lists --&gt; everybody can access, also not authenticated user.</p>\n</blockquote>\n<p>You can achieve this by doing <code>anyRequest().permitAll()</code>. But this is not so secure because you are allowing access to every other endpoints, instead you should stay with <code>anyRequest().authenticated()</code> and allow access to specific endpoints manually, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n                .authorizeRequests()\n                .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\n                .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/api/users/test&quot;).permitAll()\n                .anyRequest().authenticated()\n                ...\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70115105,"answer_count":1,"score":2,"last_activity_date":1637860678,"creation_date":1637858908,"question_id":70114724,"body_markdown":"I am pretty new in Spring Security and I am working on a Spring Boot project that uses Basic Authentication in order to protect some APIs. I am starting from an existing tutorial code (a Udemy course) trying to adapt it to my own use cases.\r\n\r\nIn this project I have this **SecurityConfiguration** used to configure the basic authentication.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n    {\r\n    \tprivate static String REALM = &quot;REAME&quot;;\r\n    \t\r\n    \tprivate static final String[] USER_MATCHER = { &quot;/api/utenti/cerca/**&quot;};\r\n    \tprivate static final String[] ADMIN_MATCHER = { &quot;/api/utenti/inserisci/**&quot;, &quot;/api/utenti/elimina/**&quot; };\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception\r\n    \t{\r\n    \t\t\thttp.csrf().disable()\r\n    \t\t\t\t.authorizeRequests()\r\n    \t\t\t\t.antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\r\n    \t\t\t\t.antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.httpBasic().realmName(REALM).authenticationEntryPoint(getBasicAuthEntryPoint()).and()\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic AuthEntryPoint getBasicAuthEntryPoint()\r\n    \t{\r\n    \t\treturn new AuthEntryPoint();\r\n    \t}\r\n    \r\n    \t/* To allow Pre-flight [OPTIONS] request from browser */\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) \r\n    \t{\r\n    \t\tweb.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic BCryptPasswordEncoder passwordEncoder()\r\n    \t{\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t};\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic UserDetailsService userDetailsService()\r\n    \t{\r\n    \t\tUserBuilder users = User.builder();\r\n    \r\n    \t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n    \r\n    \t\tmanager.createUser(users\r\n    \t\t\t\t.username(&quot;ReadUser&quot;)\r\n    \t\t\t\t.password(new BCryptPasswordEncoder().encode(&quot;BimBumBam_2018&quot;))\r\n    \t\t\t\t.roles(&quot;USER&quot;).build());\r\n    \r\n    \t\tmanager.createUser(users\r\n    \t\t\t\t.username(&quot;Admin&quot;)\r\n    \t\t\t\t.password(new BCryptPasswordEncoder().encode(&quot;MagicaBula_2018&quot;))\r\n    \t\t\t\t.roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\r\n    \r\n    \t\treturn manager;\r\n    \t}\r\n    }\r\n\r\nSo from what I have understand:\r\n\r\nHere it id defined the list of API that can be accessed by a nornmal user and the list of API that can be accessed by and admin user:\r\n\r\n    private static final String[] USER_MATCHER = { &quot;/api/utenti/cerca/**&quot;};\r\n    private static final String[] ADMIN_MATCHER = { &quot;/api/utenti/inserisci/**&quot;, &quot;/api/utenti/elimina/**&quot; };\r\n\r\nInto the previous **configure()** method basically it is stating that the API URL matching with the **USER_MATCHER** are accessible by logged user having role **USER** while API having URL matching **ADMIN_MATCHER** are accessible by logged user having role **ADMIN**. Is this interpretation correct?\r\n\r\nFinnally the **UserDetailsService** bean simply define two users: one belonging to the **USER** &quot;group&quot; and the other one belonging to both the **USER** and **ADMIN** &quot;group&quot;.\r\n\r\nSo, if I well understood, the first one will be aple only to access to the API having enpoint URL **/api/utenti/cerca/**** while the second one will be able to access also to the APIs having endpoint URLs **/api/utenti/inserisci/**** and **/api/utenti/elimina/****\r\n\r\nIs it my reasoning correct?\r\n\r\nAnd now my doubt: into a controller class of this project I defined this method:\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;api/users&quot;)\r\n\t@Log\r\n\tpublic class UserController {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tUserService userService;\r\n\t\t\r\n\t\t//@Autowired\r\n\t\t//private BCryptPasswordEncoder passwordEncoder;\r\n\t\t\r\n\t\t//@Autowired\r\n\t\t//private ResourceBundleMessageSource errMessage;\r\n\t\t\r\n\t\t@GetMapping(value = &quot;/test&quot;, produces = &quot;application/json&quot;)\r\n\t\tpublic ResponseEntity&lt;String&gt; getTest() throws NotFoundException  {\r\n\t\t\t\r\n\t\t\tlog.info(String.format(&quot;****** getTest() START *******&quot;));\r\n\t\t\t\r\n\t\t\treturn new ResponseEntity&lt;String&gt;(&quot;TEST&quot;, HttpStatus.OK);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t..............................................................................................................\r\n\t\t..............................................................................................................\r\n\t\t..............................................................................................................\r\n\t}\r\n\r\nAs you can see this method handling a **GET** request toward the **localhost:8019/api/users/test** endpoint.\r\n\r\nThis endpoint URL is not in any of the previous two list related the protected endpoint (it is not into the **USER_MATCHER** list neither into the **ADMIN_MATCHER** list. So I expected that simply this endpoint was not protected and accessible to everyone. But performing the previous request using PostMan, I obtain this error message:\r\n\r\n    HTTP Status 401 : Full authentication is required to access this resource\r\n\r\nSo basically it seems to me that also if this endpoint not belong to any protected endpoint list it is in some way protected anyway (it seems to me that at least the user must be authenticated (infact trying both the previous user I can obtain the expected output, so it should mean that the endpoint is not protected by the user rule but it is protected againts not authenticated access).\r\n\r\nWhy? Maybe it depende by the previous **configure()** method settings, in particular this line?\r\n\r\n    .anyRequest().authenticated()\r\n\r\nIn case is it possible to disable in some way to implement something like this:\r\n\r\n - If a called endpoint belong to one of the previous two lists (**USER_MATCHER** and **ADMIN_MATCHER**) --&gt; the user must be authenticated and need to have the correct role.\r\n\r\n - If a called endpoint not belong to one of the previous lists --&gt; everybody can access, also not authenticated user.\r\n\r\nThis approach make sense or am I loosing something?\r\n\r\nI take this occasion to ask you also another information: do you think that it is possible to configure Spring security of this specific project in order to protect some specific endpoints using the basic authentication and some other specific endpoints using the JWT authentication.\r\n\r\nSone further notes to explain why this last question. This project is a microservice that at the moment is used by another microservice (used to generate JWT token) in order to obtain user information. (the other microservice call an API of this project in order to receive user information so it can generate a JWT token that will be used in my application. The comunication between these 2 microservice must use basic authentication).\r\n\r\nSince this project contains all the entity classes used to map the tables related to the users on my DB, my idea was to use this project also for generic user management, so it could include functionality like: add a brand new user, changes information of an existing user, obtain the list of all the users, search a specific user, and so on.\r\n\r\nThese new APIs will be protected by JWT token because each API can be called from a specific user type having different privileges on the system.\r\n\r\nSo I am asking if in a situation like this I can add without problem 2 different types of authentication (basic authentication for the API that retrieve a user so the other microservice can obtain this info) and JWT authentication for all the other APIs. It make sense or is it better to create a brand new project for a new user management microservice?\r\n\r\n","title":"Can I mix both basic authentication and JWT token authentication to protect APIs of a single Spring Boot project?","body":"<p>I am pretty new in Spring Security and I am working on a Spring Boot project that uses Basic Authentication in order to protect some APIs. I am starting from an existing tutorial code (a Udemy course) trying to adapt it to my own use cases.</p>\n<p>In this project I have this <strong>SecurityConfiguration</strong> used to configure the basic authentication.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n    private static String REALM = &quot;REAME&quot;;\n    \n    private static final String[] USER_MATCHER = { &quot;/api/utenti/cerca/**&quot;};\n    private static final String[] ADMIN_MATCHER = { &quot;/api/utenti/inserisci/**&quot;, &quot;/api/utenti/elimina/**&quot; };\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n            http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(USER_MATCHER).hasAnyRole(&quot;USER&quot;)\n                .antMatchers(ADMIN_MATCHER).hasAnyRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic().realmName(REALM).authenticationEntryPoint(getBasicAuthEntryPoint()).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    \n    @Bean\n    public AuthEntryPoint getBasicAuthEntryPoint()\n    {\n        return new AuthEntryPoint();\n    }\n\n    /* To allow Pre-flight [OPTIONS] request from browser */\n    @Override\n    public void configure(WebSecurity web) \n    {\n        web.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    };\n\n    @Bean\n    @Override\n    public UserDetailsService userDetailsService()\n    {\n        UserBuilder users = User.builder();\n\n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n\n        manager.createUser(users\n                .username(&quot;ReadUser&quot;)\n                .password(new BCryptPasswordEncoder().encode(&quot;BimBumBam_2018&quot;))\n                .roles(&quot;USER&quot;).build());\n\n        manager.createUser(users\n                .username(&quot;Admin&quot;)\n                .password(new BCryptPasswordEncoder().encode(&quot;MagicaBula_2018&quot;))\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\n\n        return manager;\n    }\n}\n</code></pre>\n<p>So from what I have understand:</p>\n<p>Here it id defined the list of API that can be accessed by a nornmal user and the list of API that can be accessed by and admin user:</p>\n<pre><code>private static final String[] USER_MATCHER = { &quot;/api/utenti/cerca/**&quot;};\nprivate static final String[] ADMIN_MATCHER = { &quot;/api/utenti/inserisci/**&quot;, &quot;/api/utenti/elimina/**&quot; };\n</code></pre>\n<p>Into the previous <strong>configure()</strong> method basically it is stating that the API URL matching with the <strong>USER_MATCHER</strong> are accessible by logged user having role <strong>USER</strong> while API having URL matching <strong>ADMIN_MATCHER</strong> are accessible by logged user having role <strong>ADMIN</strong>. Is this interpretation correct?</p>\n<p>Finnally the <strong>UserDetailsService</strong> bean simply define two users: one belonging to the <strong>USER</strong> &quot;group&quot; and the other one belonging to both the <strong>USER</strong> and <strong>ADMIN</strong> &quot;group&quot;.</p>\n<p>So, if I well understood, the first one will be aple only to access to the API having enpoint URL <strong>/api/utenti/cerca/</strong>** while the second one will be able to access also to the APIs having endpoint URLs <strong>/api/utenti/inserisci/</strong>** and <strong>/api/utenti/elimina/</strong>**</p>\n<p>Is it my reasoning correct?</p>\n<p>And now my doubt: into a controller class of this project I defined this method:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/users&quot;)\n@Log\npublic class UserController {\n    \n    @Autowired\n    UserService userService;\n    \n    //@Autowired\n    //private BCryptPasswordEncoder passwordEncoder;\n    \n    //@Autowired\n    //private ResourceBundleMessageSource errMessage;\n    \n    @GetMapping(value = &quot;/test&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;String&gt; getTest() throws NotFoundException  {\n        \n        log.info(String.format(&quot;****** getTest() START *******&quot;));\n        \n        return new ResponseEntity&lt;String&gt;(&quot;TEST&quot;, HttpStatus.OK);\n        \n    }\n    \n    ..............................................................................................................\n    ..............................................................................................................\n    ..............................................................................................................\n}\n</code></pre>\n<p>As you can see this method handling a <strong>GET</strong> request toward the <strong>localhost:8019/api/users/test</strong> endpoint.</p>\n<p>This endpoint URL is not in any of the previous two list related the protected endpoint (it is not into the <strong>USER_MATCHER</strong> list neither into the <strong>ADMIN_MATCHER</strong> list. So I expected that simply this endpoint was not protected and accessible to everyone. But performing the previous request using PostMan, I obtain this error message:</p>\n<pre><code>HTTP Status 401 : Full authentication is required to access this resource\n</code></pre>\n<p>So basically it seems to me that also if this endpoint not belong to any protected endpoint list it is in some way protected anyway (it seems to me that at least the user must be authenticated (infact trying both the previous user I can obtain the expected output, so it should mean that the endpoint is not protected by the user rule but it is protected againts not authenticated access).</p>\n<p>Why? Maybe it depende by the previous <strong>configure()</strong> method settings, in particular this line?</p>\n<pre><code>.anyRequest().authenticated()\n</code></pre>\n<p>In case is it possible to disable in some way to implement something like this:</p>\n<ul>\n<li><p>If a called endpoint belong to one of the previous two lists (<strong>USER_MATCHER</strong> and <strong>ADMIN_MATCHER</strong>) --&gt; the user must be authenticated and need to have the correct role.</p>\n</li>\n<li><p>If a called endpoint not belong to one of the previous lists --&gt; everybody can access, also not authenticated user.</p>\n</li>\n</ul>\n<p>This approach make sense or am I loosing something?</p>\n<p>I take this occasion to ask you also another information: do you think that it is possible to configure Spring security of this specific project in order to protect some specific endpoints using the basic authentication and some other specific endpoints using the JWT authentication.</p>\n<p>Sone further notes to explain why this last question. This project is a microservice that at the moment is used by another microservice (used to generate JWT token) in order to obtain user information. (the other microservice call an API of this project in order to receive user information so it can generate a JWT token that will be used in my application. The comunication between these 2 microservice must use basic authentication).</p>\n<p>Since this project contains all the entity classes used to map the tables related to the users on my DB, my idea was to use this project also for generic user management, so it could include functionality like: add a brand new user, changes information of an existing user, obtain the list of all the users, search a specific user, and so on.</p>\n<p>These new APIs will be protected by JWT token because each API can be called from a specific user type having different privileges on the system.</p>\n<p>So I am asking if in a situation like this I can add without problem 2 different types of authentication (basic authentication for the API that retrieve a user so the other microservice can obtain this info) and JWT authentication for all the other APIs. It make sense or is it better to create a brand new project for a new user management microservice?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637860586,"creation_date":1637860586,"answer_id":70115081,"question_id":70114987,"body_markdown":"As the exception message says, the `Agency.address` property is null, although it&#39;s marked with `nullable=false` attribute. Probably it&#39;s null because you don&#39;t set it anywhere to point to the `address` instance. \r\n\r\nSince your relation is bidirectional, you have to set it from both sides. I suppose you need to add something like this to your `saveAgency` method:\r\n\r\n```java\r\nagency.setAddress(address);\r\naddress.setAgency(agency);\r\nagencyService.saveAgency(agency);\r\naddressService.saveAddress(address);\r\n```","title":"Error while trying save entity to database: not-null property references a null or transient value","body":"<p>As the exception message says, the <code>Agency.address</code> property is null, although it's marked with <code>nullable=false</code> attribute. Probably it's null because you don't set it anywhere to point to the <code>address</code> instance.</p>\n<p>Since your relation is bidirectional, you have to set it from both sides. I suppose you need to add something like this to your <code>saveAgency</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>agency.setAddress(address);\naddress.setAgency(agency);\nagencyService.saveAgency(agency);\naddressService.saveAddress(address);\n</code></pre>\n"}],"owner":{"account_id":14679303,"reputation":27,"user_id":13077103,"display_name":"BlueMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70115081,"answer_count":1,"score":1,"last_activity_date":1637860586,"creation_date":1637860200,"question_id":70114987,"body_markdown":"I have a two entities conntected with relation one-to-one(Agency-Address). I am trying to save these two entities to database using one controller. I can save address but I can&#39;t save agency entity.\r\n``` \r\n```\r\nHere is my exception : \r\n\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nnot-null property references a null or transient value : com.example.demo.agency.Agency.address; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.demo.agency.Agency.address\r\norg.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.demo.agency.Agency.address; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.demo.agency.Agency.address\r\n\r\nAgency.java\r\n``` \r\n\r\npackage com.example.demo.agency;\r\n\r\nimport com.example.demo.address.Address;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;agency&quot;)\r\n@Table(name = &quot;agency&quot;)\r\n@Data\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Agency {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;,nullable = false)\r\n    private Long id;\r\n    @Column(name = &quot;phoneNumber&quot;)\r\n    private String phoneNumber;\r\n    @Column(name = &quot;openHours&quot;)\r\n    private String openHours;\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @OneToOne(fetch = FetchType.EAGER,optional = false)\r\n    @JoinColumn(name=&quot;addressid&quot;,referencedColumnName = &quot;id&quot;,nullable = false)\r\n    private Address address;\r\n\r\n    public Agency(String phoneNumber,String openHours, String email) {\r\n         this.phoneNumber = phoneNumber;\r\n         this.openHours = openHours;\r\n         this.email = email;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nAddress.java\r\n``` \r\n\r\n\r\npackage com.example.demo.address;\r\n\r\nimport com.example.demo.agency.Agency;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;address&quot;)\r\n@Table(name = &quot;address&quot;)\r\n@Data\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Address {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;,nullable = false)\r\n    private Long id;\r\n    @Column(name = &quot;postalCode&quot;)\r\n    private String postalCode;\r\n    @Column(name = &quot;street&quot;)\r\n    private String street;\r\n    @Column(name = &quot;streetNumber&quot;)\r\n    private int streetNumber;\r\n    @OneToOne(mappedBy = &quot;address&quot;,fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    private Agency agency;\r\n\r\n\r\n    public Address(String postalCode,String street,int streetNumber) {\r\n        this.postalCode = postalCode;\r\n        this.street = street;\r\n        this.streetNumber = streetNumber;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\nAgencyController.java\r\n``` \r\n\r\n\r\npackage com.example.demo.agency;\r\n\r\n\r\nimport com.example.demo.address.Address;\r\nimport com.example.demo.address.AddressService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport javax.swing.*;\r\n\r\n@Controller\r\npublic class AgencyController {\r\n\r\n    private AgencyService agencyService;\r\n    private AddressService addressService;\r\n\r\n\r\n    @Autowired\r\n    public AgencyController(AgencyService agencyService,AddressService addressService) {\r\n        this.agencyService = agencyService;\r\n        this.addressService = addressService;\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/agencies&quot;)\r\n    public String getAgencies(Model model) {\r\n        model.addAttribute(&quot;agencies&quot;,agencyService.getAgencies());\r\n        return &quot;agencies&quot;;\r\n    }\r\n\r\n    /*  GET HTTP Request for form to add new agency to database */\r\n    @GetMapping(&quot;/agencies/new&quot;)\r\n    public String newAgencyPage(Model model) {\r\n           Agency newAgency = new Agency();\r\n           Address newAddress = new Address();\r\n           model.addAttribute(&quot;agency&quot;,newAgency);\r\n           model.addAttribute(&quot;address&quot;,newAddress);\r\n           return &quot;newAgency&quot;;\r\n    }\r\n\r\n    /* POST HTTP Request for put data to database*/\r\n    @PostMapping(&quot;/agencies/save&quot;)\r\n    public String saveAgency(@ModelAttribute(&quot;agency&quot;) Agency agency,@ModelAttribute(&quot;address&quot;) Address address) {\r\n\r\n        agencyService.saveAgency(agency);\r\n        addressService.saveAddress(address);\r\n\r\n        return &quot;redirect:/agencies&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nnewAgency.html\r\n``` \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Agencies&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot;\r\n          href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\r\n          integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\r\n          crossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n\r\n    &lt;h2&gt;Save Agency&lt;/h2&gt;\r\n\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/agencies/save}&quot;\r\n          method=&quot;POST&quot;&gt;\r\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.phoneNumber}&quot; name=&quot;phoneNumber&quot;\r\n               placeholder=&quot;Agency Phone Number&quot; class=&quot;form-control mb-4 col-4&quot; &gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.openHours}&quot; name=&quot;openHours&quot;\r\n               placeholder=&quot;Agency OpenHours&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.email}&quot; name=&quot;email&quot;\r\n               placeholder=&quot;Agency Email&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.street}:&#39;not specified&#39;&quot; name=&quot;street&quot;\r\n               placeholder=&quot;Street&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.streetNumber}:&#39;not specified&#39;&quot; name=&quot;streetNumber&quot;\r\n               placeholder=&quot;Street Number&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.postalCode}:&#39;not specified&#39;&quot; name=&quot;postalCode&quot;\r\n               placeholder=&quot;Postal Code&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt; Save Agency&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;hr&gt;\r\n\r\n    &lt;a th:href = &quot;@{/agencies}&quot;&gt; Back to Agency List&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Error while trying save entity to database: not-null property references a null or transient value","body":"<p>I have a two entities conntected with relation one-to-one(Agency-Address). I am trying to save these two entities to database using one controller. I can save address but I can't save agency entity.</p>\n<pre><code></code></pre>\n<p>Here is my exception :</p>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nnot-null property references a null or transient value : com.example.demo.agency.Agency.address; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.demo.agency.Agency.address\norg.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.example.demo.agency.Agency.address; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.example.demo.agency.Agency.address</p>\n<p>Agency.java</p>\n<pre><code>\npackage com.example.demo.agency;\n\nimport com.example.demo.address.Address;\nimport lombok.*;\n\nimport javax.persistence.*;\n\n@Entity(name = &quot;agency&quot;)\n@Table(name = &quot;agency&quot;)\n@Data\n@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Agency {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;,nullable = false)\n    private Long id;\n    @Column(name = &quot;phoneNumber&quot;)\n    private String phoneNumber;\n    @Column(name = &quot;openHours&quot;)\n    private String openHours;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @OneToOne(fetch = FetchType.EAGER,optional = false)\n    @JoinColumn(name=&quot;addressid&quot;,referencedColumnName = &quot;id&quot;,nullable = false)\n    private Address address;\n\n    public Agency(String phoneNumber,String openHours, String email) {\n         this.phoneNumber = phoneNumber;\n         this.openHours = openHours;\n         this.email = email;\n    }\n}\n\n\n</code></pre>\n<p>Address.java</p>\n<pre><code>\n\npackage com.example.demo.address;\n\nimport com.example.demo.agency.Agency;\nimport lombok.*;\n\nimport javax.persistence.*;\n\n@Entity(name = &quot;address&quot;)\n@Table(name = &quot;address&quot;)\n@Data\n@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;,nullable = false)\n    private Long id;\n    @Column(name = &quot;postalCode&quot;)\n    private String postalCode;\n    @Column(name = &quot;street&quot;)\n    private String street;\n    @Column(name = &quot;streetNumber&quot;)\n    private int streetNumber;\n    @OneToOne(mappedBy = &quot;address&quot;,fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n    private Agency agency;\n\n\n    public Address(String postalCode,String street,int streetNumber) {\n        this.postalCode = postalCode;\n        this.street = street;\n        this.streetNumber = streetNumber;\n    }\n\n\n}\n\n\n</code></pre>\n<p>AgencyController.java</p>\n<pre><code>\n\npackage com.example.demo.agency;\n\n\nimport com.example.demo.address.Address;\nimport com.example.demo.address.AddressService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.swing.*;\n\n@Controller\npublic class AgencyController {\n\n    private AgencyService agencyService;\n    private AddressService addressService;\n\n\n    @Autowired\n    public AgencyController(AgencyService agencyService,AddressService addressService) {\n        this.agencyService = agencyService;\n        this.addressService = addressService;\n\n    }\n\n    @GetMapping(&quot;/agencies&quot;)\n    public String getAgencies(Model model) {\n        model.addAttribute(&quot;agencies&quot;,agencyService.getAgencies());\n        return &quot;agencies&quot;;\n    }\n\n    /*  GET HTTP Request for form to add new agency to database */\n    @GetMapping(&quot;/agencies/new&quot;)\n    public String newAgencyPage(Model model) {\n           Agency newAgency = new Agency();\n           Address newAddress = new Address();\n           model.addAttribute(&quot;agency&quot;,newAgency);\n           model.addAttribute(&quot;address&quot;,newAddress);\n           return &quot;newAgency&quot;;\n    }\n\n    /* POST HTTP Request for put data to database*/\n    @PostMapping(&quot;/agencies/save&quot;)\n    public String saveAgency(@ModelAttribute(&quot;agency&quot;) Agency agency,@ModelAttribute(&quot;address&quot;) Address address) {\n\n        agencyService.saveAgency(agency);\n        addressService.saveAddress(address);\n\n        return &quot;redirect:/agencies&quot;;\n    }\n\n}\n\n</code></pre>\n<p>newAgency.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Agencies&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot;\n          href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\n          integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\n          crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n\n    &lt;h2&gt;Save Agency&lt;/h2&gt;\n\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/agencies/save}&quot;\n          method=&quot;POST&quot;&gt;\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.phoneNumber}&quot; name=&quot;phoneNumber&quot;\n               placeholder=&quot;Agency Phone Number&quot; class=&quot;form-control mb-4 col-4&quot; &gt;\n\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.openHours}&quot; name=&quot;openHours&quot;\n               placeholder=&quot;Agency OpenHours&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:value=&quot;*{agency.email}&quot; name=&quot;email&quot;\n               placeholder=&quot;Agency Email&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.street}:'not specified'&quot; name=&quot;street&quot;\n               placeholder=&quot;Street&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.streetNumber}:'not specified'&quot; name=&quot;streetNumber&quot;\n               placeholder=&quot;Street Number&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n        &lt;input type=&quot;text&quot; th:attr=&quot;data-department=${agency.address!=null}?${agency.address.postalCode}:'not specified'&quot; name=&quot;postalCode&quot;\n               placeholder=&quot;Postal Code&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt; Save Agency&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;hr&gt;\n\n    &lt;a th:href = &quot;@{/agencies}&quot;&gt; Back to Agency List&lt;/a&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","mapping","dto"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637828055,"post_id":70107600,"comment_id":123931045,"body_markdown":"You showed us the cat json and the dog json...do you have a an animal json? Or are these 2 JSONS completely independent??","body":"You showed us the cat json and the dog json...do you have a an animal json? Or are these 2 JSONS completely independent??"},{"owner":{"account_id":23364594,"reputation":1,"user_id":17436357,"display_name":"FPerez"},"score":0,"creation_date":1637828530,"post_id":70107600,"comment_id":123931223,"body_markdown":"@SMA - No, I dont have an animal json...these 2 JSONS completely  independent","body":"@SMA - No, I dont have an animal json...these 2 JSONS completely  independent"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637828777,"post_id":70107600,"comment_id":123931318,"body_markdown":"then if I am not mistaken, you need to create a DTO for each and you can&#39;t use `JsonTypeInfo`.  Based on my understand `JsonTypeInfo` and `JsonSubTypes` are used when you have inheritance in your JSONs.  In your case each JSON has completely different variables....","body":"then if I am not mistaken, you need to create a DTO for each and you can&#39;t use <code>JsonTypeInfo</code>.  Based on my understand <code>JsonTypeInfo</code> and <code>JsonSubTypes</code> are used when you have inheritance in your JSONs.  In your case each JSON has completely different variables...."},{"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"score":0,"creation_date":1637835830,"post_id":70107600,"comment_id":123934067,"body_markdown":"Since two classes are independent (no inheritance hierachy) you don&#39;t need `@JsonTypeInfo` nor `@JsonSubTypes`. You can directly serialize/deserialize **animal json** to `AnimalDTO` which will have `CatDTO` and `DogDTO` respectively.","body":"Since two classes are independent (no inheritance hierachy) you don&#39;t need <code>@JsonTypeInfo</code> nor <code>@JsonSubTypes</code>. You can directly serialize/deserialize <b>animal json</b> to <code>AnimalDTO</code> which will have <code>CatDTO</code> and <code>DogDTO</code> respectively."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637860168,"creation_date":1637860168,"answer_id":70114980,"question_id":70107600,"body_markdown":"Your code will work just fine (without any `@JsonTypeInfo` or `@JsonSubTypes` annotations) if the JSON that you get from the external API is as follows:\r\n```json\r\n{\r\n  &quot;dog&quot;: {\r\n    &quot;dogNumber&quot;: &quot;23&quot;,\r\n    &quot;dogState&quot;: &quot;good&quot;,\r\n    &quot;dogColor&quot;: &quot;pink&quot;,\r\n    &quot;dogBalance&quot;: 5\r\n  },\r\n  &quot;cat&quot;: {\r\n    &quot;catNumber&quot;: &quot;1&quot;,\r\n    &quot;catState&quot;: &quot;good&quot;\r\n  }\r\n}\r\n```\r\n\r\nIf this does not look similar to the JSON you receive then you need to add it to your answer so that we can help you further.","title":"How to identify different types automatically using Jackson mapper","body":"<p>Your code will work just fine (without any <code>@JsonTypeInfo</code> or <code>@JsonSubTypes</code> annotations) if the JSON that you get from the external API is as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;dog&quot;: {\n    &quot;dogNumber&quot;: &quot;23&quot;,\n    &quot;dogState&quot;: &quot;good&quot;,\n    &quot;dogColor&quot;: &quot;pink&quot;,\n    &quot;dogBalance&quot;: 5\n  },\n  &quot;cat&quot;: {\n    &quot;catNumber&quot;: &quot;1&quot;,\n    &quot;catState&quot;: &quot;good&quot;\n  }\n}\n</code></pre>\n<p>If this does not look similar to the JSON you receive then you need to add it to your answer so that we can help you further.</p>\n"}],"owner":{"account_id":23364594,"reputation":1,"user_id":17436357,"display_name":"FPerez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114980,"answer_count":1,"score":0,"last_activity_date":1637860168,"creation_date":1637827301,"question_id":70107600,"body_markdown":"I have a simple situation. I have a main DTO class with the following fields:\r\n**AnimalDTO**\r\n```\r\npublic class AnimalDTO {\r\n    @JsonCreator\r\n    public AnimalDTODTO(@JsonProperty(&quot;error&quot;) boolean error,\r\n                                       @JsonProperty(&quot;errorMessage&quot;) String errorMessage,\r\n                                       @JsonProperty(&quot;cat&quot;) CatDTO cat,\r\n                                       @JsonProperty(&quot;dog&quot;) DogDTO dog) {\r\n        this.error = error;\r\n        this.errorMessage = errorMessage;\r\n        this.cat = cat;\r\n        this.dog = dog;\r\n    }\r\n\r\n    private boolean error;\r\n    private String errorMessage;\r\n    private CatDTO cat;\r\n    private DogDTO dog;\r\n}\r\n```\r\n**CatDTO:**\r\n\r\n```\r\npublic class CatDTO {\r\n    @JsonCreator\r\n    public CatDTO(@JsonProperty(&quot;catNumber&quot;) String catNumber,\r\n                  @JsonProperty(&quot;catState&quot;) String catState) {\r\n        this.catNumber = catNumber;\r\n        this.catState = catState;\r\n    }\r\n\r\n    private String catNumber;\r\n    private String catState;\r\n}\r\n```\r\n\r\n**DogDTO:**\r\n\r\n```\r\npublic class DogDTO {\r\n    @JsonCreator\r\n    public DogDTO(@JsonProperty(&quot;dogNumber&quot;) String dogNumber,\r\n                  @JsonProperty(&quot;dogState&quot;) String dogState\r\n                  @JsonProperty(&quot;dogColor&quot;) String dogColor\r\n                  @JsonProperty(&quot;dogBalance&quot;) BigDecimal dogBalance) {\r\n        this.dogNumber = dogNumber;\r\n        this.dogState = dogState;\r\n        this.dogColor = dogColor;\r\n        this.dogBalance = dogBalance;\r\n    }\r\n\r\n    private String dogNumber;\r\n    private String dogState;\r\n    private String dogColor;\r\n    private BigDecimal dogBalance;\r\n\r\n}\r\n```\r\n\r\nand from external API I have responses (and I can&#39;t change it) for **dog** like:\r\n```\r\n{\r\n   &quot;dogNumber&quot;: &quot;23&quot;,\r\n   &quot;dogState&quot;: &quot;good&quot;,\r\n   &quot;dogColor&quot;: &quot;pink&quot;,\r\n   &quot;dogBalance&quot;: 5\r\n}\r\n```\r\nand for **Cat**:\r\n\r\n```\r\n{\r\n   &quot;catNumber&quot;: &quot;1&quot;,\r\n   &quot;catState&quot;: &quot;good&quot;\r\n}\r\n```\r\n\r\nAnd I want to use Jackson mapper like this: `objectMapper.readValue(stringJson, AnimalDTO.class);`\r\n\r\nI was thinking to add in **AnimalDTO**:\r\n```\r\n@JsonTypeInfo(\r\n  use = JsonTypeInfo.Id.NAME, \r\n  include = JsonTypeInfo.As.PROPERTY, \r\n  property = &quot;type&quot;)\r\n@JsonSubTypes({ \r\n  @Type(value = CatDTO.class, name = &quot;cat&quot;), \r\n  @Type(value = DogDTO.class, name = &quot;dog&quot;) \r\n})\r\n```\r\nbut it&#39;s not working.\r\n\r\nHow to handle my case in best way?","title":"How to identify different types automatically using Jackson mapper","body":"<p>I have a simple situation. I have a main DTO class with the following fields:\n<strong>AnimalDTO</strong></p>\n<pre><code>public class AnimalDTO {\n    @JsonCreator\n    public AnimalDTODTO(@JsonProperty(&quot;error&quot;) boolean error,\n                                       @JsonProperty(&quot;errorMessage&quot;) String errorMessage,\n                                       @JsonProperty(&quot;cat&quot;) CatDTO cat,\n                                       @JsonProperty(&quot;dog&quot;) DogDTO dog) {\n        this.error = error;\n        this.errorMessage = errorMessage;\n        this.cat = cat;\n        this.dog = dog;\n    }\n\n    private boolean error;\n    private String errorMessage;\n    private CatDTO cat;\n    private DogDTO dog;\n}\n</code></pre>\n<p><strong>CatDTO:</strong></p>\n<pre><code>public class CatDTO {\n    @JsonCreator\n    public CatDTO(@JsonProperty(&quot;catNumber&quot;) String catNumber,\n                  @JsonProperty(&quot;catState&quot;) String catState) {\n        this.catNumber = catNumber;\n        this.catState = catState;\n    }\n\n    private String catNumber;\n    private String catState;\n}\n</code></pre>\n<p><strong>DogDTO:</strong></p>\n<pre><code>public class DogDTO {\n    @JsonCreator\n    public DogDTO(@JsonProperty(&quot;dogNumber&quot;) String dogNumber,\n                  @JsonProperty(&quot;dogState&quot;) String dogState\n                  @JsonProperty(&quot;dogColor&quot;) String dogColor\n                  @JsonProperty(&quot;dogBalance&quot;) BigDecimal dogBalance) {\n        this.dogNumber = dogNumber;\n        this.dogState = dogState;\n        this.dogColor = dogColor;\n        this.dogBalance = dogBalance;\n    }\n\n    private String dogNumber;\n    private String dogState;\n    private String dogColor;\n    private BigDecimal dogBalance;\n\n}\n</code></pre>\n<p>and from external API I have responses (and I can't change it) for <strong>dog</strong> like:</p>\n<pre><code>{\n   &quot;dogNumber&quot;: &quot;23&quot;,\n   &quot;dogState&quot;: &quot;good&quot;,\n   &quot;dogColor&quot;: &quot;pink&quot;,\n   &quot;dogBalance&quot;: 5\n}\n</code></pre>\n<p>and for <strong>Cat</strong>:</p>\n<pre><code>{\n   &quot;catNumber&quot;: &quot;1&quot;,\n   &quot;catState&quot;: &quot;good&quot;\n}\n</code></pre>\n<p>And I want to use Jackson mapper like this: <code>objectMapper.readValue(stringJson, AnimalDTO.class);</code></p>\n<p>I was thinking to add in <strong>AnimalDTO</strong>:</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME, \n  include = JsonTypeInfo.As.PROPERTY, \n  property = &quot;type&quot;)\n@JsonSubTypes({ \n  @Type(value = CatDTO.class, name = &quot;cat&quot;), \n  @Type(value = DogDTO.class, name = &quot;dog&quot;) \n})\n</code></pre>\n<p>but it's not working.</p>\n<p>How to handle my case in best way?</p>\n"},{"tags":["java","arraylist","data-structures"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1637107842,"post_id":69997476,"comment_id":123736620,"body_markdown":"hi. perhaps use streams to create a frequency list https://stackoverflow.com/questions/29122394/word-frequency-count-java-8","body":"hi. perhaps use streams to create a frequency list <a href=\"https://stackoverflow.com/questions/29122394/word-frequency-count-java-8\" title=\"word frequency count java 8\">stackoverflow.com/questions/29122394/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637108288,"creation_date":1637108288,"answer_id":69997566,"question_id":69997476,"body_markdown":"Assuming your property implements `hashCode()` and `equals()`, you can use it as a key in a HashMap to efficiently exclude duplicates and construct a new list from the remaining values:\r\n\r\n    public int removeDuplicateElements() {\r\n        Map&lt;Property, SomeType&gt; uniques = new HashMap&lt;&gt;();\r\n        for (SomeType element : ListWithDuplicates) {\r\n            uniques.putIfAbsent(element.getProperty(), element);\r\n        }\r\n        int duplicates = ListWithDuplicates.size() - uniques.size();\r\n        ListWithDuplicates = new ArrayList&lt;&gt;(uniques.values());\r\n        return duplicates;\r\n    }\r\n\r\nA more streamy variant on the above map:\r\n\r\n    Map&lt;Property, SomeProperty&gt; uniques = ListWithDuplicates.stream()\r\n            .collect(Collectors.toMap(SomeType::getProperty, e -&gt; e, (a, b) -&gt; a));","title":"Increase efficiency of finding and using duplicate elements in an ArrayList","body":"<p>Assuming your property implements <code>hashCode()</code> and <code>equals()</code>, you can use it as a key in a HashMap to efficiently exclude duplicates and construct a new list from the remaining values:</p>\n<pre><code>public int removeDuplicateElements() {\n    Map&lt;Property, SomeType&gt; uniques = new HashMap&lt;&gt;();\n    for (SomeType element : ListWithDuplicates) {\n        uniques.putIfAbsent(element.getProperty(), element);\n    }\n    int duplicates = ListWithDuplicates.size() - uniques.size();\n    ListWithDuplicates = new ArrayList&lt;&gt;(uniques.values());\n    return duplicates;\n}\n</code></pre>\n<p>A more streamy variant on the above map:</p>\n<pre><code>Map&lt;Property, SomeProperty&gt; uniques = ListWithDuplicates.stream()\n        .collect(Collectors.toMap(SomeType::getProperty, e -&gt; e, (a, b) -&gt; a));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12567215,"reputation":579,"user_id":9142729,"display_name":"Daniel Botnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637108641,"creation_date":1637108641,"answer_id":69997597,"question_id":69997476,"body_markdown":"You code runs in O(n^2) time complexity, we can reduce the time complexity by two ways\r\n\r\n**Sorting the Array** \r\n```java\r\n public static &lt;T extends Comparable&lt;T&gt;&gt; int removeDuplicateElements(List&lt;T&gt; listWithDuplicates) {\r\n        Collections.sort(listWithDuplicates);\r\n        for(int i = 0 ; i &lt; listWithDuplicates.size() - 1 ; i++) {\r\n            if(listWithDuplicates.get(i).equals(listWithDuplicates.get(i+1))) {\r\n                listWithDuplicates.remove(i--);\r\n            }\r\n        }\r\n        return listWithDuplicates.size();\r\n    }\r\n```\r\nBy doing it this way, we reduce the Time Complexity to O(nlogn) but we lose the order of the original array.\r\n\r\n**Hash Table**\r\n\r\n```java\r\npublic static &lt;T extends Comparable&lt;T&gt;&gt; int removeDuplicateElements(List&lt;T&gt; listWithDuplicates) {\r\n        HashMap&lt;T,Boolean&gt; hashMap = new HashMap&lt;&gt;();\r\n        for(int i = 0 ; i &lt; listWithDuplicates.size() ; i++) {\r\n            if(hashMap.containsKey(listWithDuplicates.get(i)))\r\n                listWithDuplicates.remove(i--);\r\n            else\r\n                hashMap.put(listWithDuplicates.get(i),true);\r\n        }\r\n        return listWithDuplicates.size();\r\n    }\r\n```\r\n\r\nWith this way we reduce the time complexity to O(n) but we exchanged it for O(n) memomry complexity.","title":"Increase efficiency of finding and using duplicate elements in an ArrayList","body":"<p>You code runs in O(n^2) time complexity, we can reduce the time complexity by two ways</p>\n<p><strong>Sorting the Array</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> public static &lt;T extends Comparable&lt;T&gt;&gt; int removeDuplicateElements(List&lt;T&gt; listWithDuplicates) {\n        Collections.sort(listWithDuplicates);\n        for(int i = 0 ; i &lt; listWithDuplicates.size() - 1 ; i++) {\n            if(listWithDuplicates.get(i).equals(listWithDuplicates.get(i+1))) {\n                listWithDuplicates.remove(i--);\n            }\n        }\n        return listWithDuplicates.size();\n    }\n</code></pre>\n<p>By doing it this way, we reduce the Time Complexity to O(nlogn) but we lose the order of the original array.</p>\n<p><strong>Hash Table</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Comparable&lt;T&gt;&gt; int removeDuplicateElements(List&lt;T&gt; listWithDuplicates) {\n        HashMap&lt;T,Boolean&gt; hashMap = new HashMap&lt;&gt;();\n        for(int i = 0 ; i &lt; listWithDuplicates.size() ; i++) {\n            if(hashMap.containsKey(listWithDuplicates.get(i)))\n                listWithDuplicates.remove(i--);\n            else\n                hashMap.put(listWithDuplicates.get(i),true);\n        }\n        return listWithDuplicates.size();\n    }\n</code></pre>\n<p>With this way we reduce the time complexity to O(n) but we exchanged it for O(n) memomry complexity.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637860072,"creation_date":1637860072,"answer_id":70114964,"question_id":69997476,"body_markdown":"Note: Existing solution may count the same duplicates several times, thus the number of actual duplicates is miscalculated if the duplicate element is simply added to `duplicates` list.\r\n\r\nAn example: input contains 3 elements, all having the same property X, then for element1 two duplicates element2 and element3 are detected, and for element2 the duplicate element3 is detected, thus `listWithDuplicates` contains 3 entries and one of them is duplicated again.\r\n\r\nThe duplicates may be detected and collected with O(N) time complexity when using a map `Map&lt;SomeProperty, List&lt;SomeType&gt;&gt;`, however, additional memory is required for this.\r\n\r\nIf `someFunction` needs to be invoked for _all_ predecessors as in the example above:\r\n```\r\nelement1.someFunction(element2);\r\nelement1.someFunction(element3);\r\nelement2.someFunction(element3);\r\n```\r\nthe following solution may be offered, however, in the worst case it has the same O(N^2) complexity.\r\n```java\r\npublic int removeDuplicateElements(List&lt;SomeType&gt; input){\r\n\tMap&lt;SomeProperty, List&lt;SomeType&gt;&gt; map = input.stream()\r\n\t\t.collect(Collectors.grouping(SomeType::getProperty));\r\n\t\t\r\n\tint size = input.size();\r\n\t\r\n\tmap.values().stream() // Stream&lt;List&lt;SomeType&gt;&gt;\r\n\t\t.filter(lst -&gt; lst.size() &gt; 1) // address only duplicated elements\r\n\t\t.forEach(lst -&gt; {\r\n\t\t\tfor (int i = 0; i &lt; lst.size() - 1; i++) {\r\n\t\t\t\tfor (int j = i + 1; j &lt; lst.size(); j++) {\r\n\t\t\t\t\tlst.get(i).someFunction(lst.get(j));\r\n\t\t\t\t\tinput.remove(lst.get(j));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n\treturn size - input.size();\r\n}\r\n```\r\n----\r\nIf `someFunction` needs to be invoked only for the first element a simpler and faster solution using `Collectors.toMap` can be created:\r\n```java\r\npublic int removeDuplicateElements(List&lt;SomeType&gt; input){\r\n\tMap&lt;SomeProperty, List&lt;SomeType&gt;&gt; map = input.stream()\r\n\t\t.collect(Collectors.toMap(\r\n  \t\t    SomeType::getProperty,\r\n\t\t    x -&gt; x,\r\n\t\t    (a, b) -&gt; {a.someFunction(b); return a;}\r\n\t));\r\n\t\t\r\n\tint size = input.size();\r\n\t\r\n\tinput.retainAll(map.values());\r\n\t\r\n\treturn size - input.size();\r\n}\r\n```","title":"Increase efficiency of finding and using duplicate elements in an ArrayList","body":"<p>Note: Existing solution may count the same duplicates several times, thus the number of actual duplicates is miscalculated if the duplicate element is simply added to <code>duplicates</code> list.</p>\n<p>An example: input contains 3 elements, all having the same property X, then for element1 two duplicates element2 and element3 are detected, and for element2 the duplicate element3 is detected, thus <code>listWithDuplicates</code> contains 3 entries and one of them is duplicated again.</p>\n<p>The duplicates may be detected and collected with O(N) time complexity when using a map <code>Map&lt;SomeProperty, List&lt;SomeType&gt;&gt;</code>, however, additional memory is required for this.</p>\n<p>If <code>someFunction</code> needs to be invoked for <em>all</em> predecessors as in the example above:</p>\n<pre><code>element1.someFunction(element2);\nelement1.someFunction(element3);\nelement2.someFunction(element3);\n</code></pre>\n<p>the following solution may be offered, however, in the worst case it has the same O(N^2) complexity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int removeDuplicateElements(List&lt;SomeType&gt; input){\n    Map&lt;SomeProperty, List&lt;SomeType&gt;&gt; map = input.stream()\n        .collect(Collectors.grouping(SomeType::getProperty));\n        \n    int size = input.size();\n    \n    map.values().stream() // Stream&lt;List&lt;SomeType&gt;&gt;\n        .filter(lst -&gt; lst.size() &gt; 1) // address only duplicated elements\n        .forEach(lst -&gt; {\n            for (int i = 0; i &lt; lst.size() - 1; i++) {\n                for (int j = i + 1; j &lt; lst.size(); j++) {\n                    lst.get(i).someFunction(lst.get(j));\n                    input.remove(lst.get(j));\n                }\n            }\n        });\n    \n    return size - input.size();\n}\n</code></pre>\n<hr />\n<p>If <code>someFunction</code> needs to be invoked only for the first element a simpler and faster solution using <code>Collectors.toMap</code> can be created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int removeDuplicateElements(List&lt;SomeType&gt; input){\n    Map&lt;SomeProperty, List&lt;SomeType&gt;&gt; map = input.stream()\n        .collect(Collectors.toMap(\n            SomeType::getProperty,\n            x -&gt; x,\n            (a, b) -&gt; {a.someFunction(b); return a;}\n    ));\n        \n    int size = input.size();\n    \n    input.retainAll(map.values());\n    \n    return size - input.size();\n}\n</code></pre>\n"}],"owner":{"account_id":16641125,"reputation":35,"user_id":15585458,"display_name":"Alen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1637860072,"creation_date":1637107251,"question_id":69997476,"body_markdown":"My task is to take an `ArrayList&lt;SomeType&gt;`, and check for duplicate elements. If there is a duplicate element found &amp;&amp; it has the same someClassProperty as the first element, use the duplicate element as a parameter in a function call. In the end, remove the duplicates from the original List and the function returns the number of duplicates. (Sorry if my explanation is poor, please look at my code then it&#39;s easy to understand)\r\n\r\nThe problem here is that the code I&#39;ve come up with is very inefficient and slow, I can&#39;t figure out how to make it faster.\r\n\r\n    public int removeDuplicateElements(){\r\n        List&lt;SomeType&gt; duplicates = new ArrayList&lt;SomeType&gt;();\r\n        for (int i = 0; i &lt; ListWithDuplicates.size(); i++) {\r\n            SomeType firstElement = ListWithDuplicates.get(i);\r\n            for (int j = i + 1; j &lt; ListWithDuplicates.size(); j++) {\r\n                SomeType otherElement = ListWithDuplicates.get(j);\r\n                assert firstElement != otherElement;\r\n                if (firstElement.sameProperty(otherElement.getProperty())) {\r\n                    duplicates.add(otherElement);\r\n                    firstElement.someFunction(otherElement);\r\n                }\r\n            }\r\n        }\r\n        for (SomeType duplicate : duplicates) {\r\n            ListWithDuplicates.remove(duplicate);\r\n        }\r\n        return duplicates.size();\r\n    }\r\n\r\n","title":"Increase efficiency of finding and using duplicate elements in an ArrayList","body":"<p>My task is to take an <code>ArrayList&lt;SomeType&gt;</code>, and check for duplicate elements. If there is a duplicate element found &amp;&amp; it has the same someClassProperty as the first element, use the duplicate element as a parameter in a function call. In the end, remove the duplicates from the original List and the function returns the number of duplicates. (Sorry if my explanation is poor, please look at my code then it's easy to understand)</p>\n<p>The problem here is that the code I've come up with is very inefficient and slow, I can't figure out how to make it faster.</p>\n<pre><code>public int removeDuplicateElements(){\n    List&lt;SomeType&gt; duplicates = new ArrayList&lt;SomeType&gt;();\n    for (int i = 0; i &lt; ListWithDuplicates.size(); i++) {\n        SomeType firstElement = ListWithDuplicates.get(i);\n        for (int j = i + 1; j &lt; ListWithDuplicates.size(); j++) {\n            SomeType otherElement = ListWithDuplicates.get(j);\n            assert firstElement != otherElement;\n            if (firstElement.sameProperty(otherElement.getProperty())) {\n                duplicates.add(otherElement);\n                firstElement.someFunction(otherElement);\n            }\n        }\n    }\n    for (SomeType duplicate : duplicates) {\n        ListWithDuplicates.remove(duplicate);\n    }\n    return duplicates.size();\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","netbeans","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637309945,"post_id":70020687,"comment_id":123797005,"body_markdown":"Why do your modules list contains entries like `&lt;module&gt;../...&lt;/module&gt;` that looks like your directory structure of the project is wrong in contradiction to what the modules say...can you please make an example project on github or alike to have something more concrete...","body":"Why do your modules list contains entries like <code>&lt;module&gt;..&#47;...&lt;&#47;module&gt;</code> that looks like your directory structure of the project is wrong in contradiction to what the modules say...can you please make an example project on github or alike to have something more concrete..."},{"owner":{"account_id":10110568,"reputation":41,"user_id":7471675,"display_name":"tilt32"},"score":0,"creation_date":1637744600,"post_id":70020687,"comment_id":123905454,"body_markdown":"Hi, I added an example project in as edit in the main post. The relative paths are caused, because my &quot;runnable&quot; points to two different git repos. So there is the restriction, that the developer must have both of the cloned next to each other.","body":"Hi, I added an example project in as edit in the main post. The relative paths are caused, because my &quot;runnable&quot; points to two different git repos. So there is the restriction, that the developer must have both of the cloned next to each other."}],"answers":[{"tags":[],"owner":{"account_id":10110568,"reputation":41,"user_id":7471675,"display_name":"tilt32"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637860048,"creation_date":1637860048,"answer_id":70114960,"question_id":70020687,"body_markdown":"After a long and tedious process of trial and error, I have found a solution which is working for me. So I decided to share the solution online, in case someone else runs into a similar problem. Here is a link to the final zip archive containing working example projects =&gt; File CustomerRunnable_RunningAssemblyPluginStackoverflowExample.zip https://drive.google.com/drive/u/0/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k\r\n\r\nMy error was that I misunderstood how the assembly-plugin works. The approach that I executed the plugin inside my aggregator pom (CustommerRunnable) is wrong, as this maven project only exists as parent pom. \r\n\r\nThe CustommerRunnable pom.xml references all customer plugins as modules. Those modules have not the CustommerRunnable as parent, but a different pom. Then I created a separate maven project &quot;distribution&quot;. The pom.xml of the distribution defines all the plugins (needed customer maven modules) as dependencies. It also has the CustommerRunnable pom.xml as parent. Hence when I run the project in NetBeans, all connected modules are also build(if necessary). \r\n\r\nIt also configures the assembly plugin. The assembly plugin is attached to the maven package-phase and thus executed with it. It also uses a custom assembly descriptor, which copies all the previously defined plugins into the right folders. This is done by using dependencySets with include and exclude patterns. \r\nSee https://maven.apache.org/plugins/maven-assembly-plugin/advanced-descriptor-topics.html for details on this.\r\nSo one dependencySet copies all jar files of all plugins to a /plugin folder by using an include pattern. Then this approach is inversed to copy the jar files of all external dependencies to a /lib folder.\r\n\r\nThe descriptor also defines some extra files to copy to a particular location.  exec-maven-plugin, so I can comfortably start the customer software out of NetBeans. I didn&#39;t yet manage to configure the execute plugin correctly regarding the needed classpath arguments.\r\n\r\nEndresult looks like this:\r\n[![Assembly folder after building][1]][1]\r\n\r\nIt is also worth noting that the configurations of the &quot;Build project&quot;, &quot;Run project&quot; and &quot;Debug project&quot; inside NetBeans need a tiny bit of modification. (Right Click Module &quot;distribution&quot; -&gt; &quot;Properties&quot; -&gt; point &quot;Actions&quot;\r\n\r\n\r\n    \r\n\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8l67c.png","title":"How to make a plugin-like architecture runnable?","body":"<p>After a long and tedious process of trial and error, I have found a solution which is working for me. So I decided to share the solution online, in case someone else runs into a similar problem. Here is a link to the final zip archive containing working example projects =&gt; File CustomerRunnable_RunningAssemblyPluginStackoverflowExample.zip <a href=\"https://drive.google.com/drive/u/0/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/u/0/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k</a></p>\n<p>My error was that I misunderstood how the assembly-plugin works. The approach that I executed the plugin inside my aggregator pom (CustommerRunnable) is wrong, as this maven project only exists as parent pom.</p>\n<p>The CustommerRunnable pom.xml references all customer plugins as modules. Those modules have not the CustommerRunnable as parent, but a different pom. Then I created a separate maven project &quot;distribution&quot;. The pom.xml of the distribution defines all the plugins (needed customer maven modules) as dependencies. It also has the CustommerRunnable pom.xml as parent. Hence when I run the project in NetBeans, all connected modules are also build(if necessary).</p>\n<p>It also configures the assembly plugin. The assembly plugin is attached to the maven package-phase and thus executed with it. It also uses a custom assembly descriptor, which copies all the previously defined plugins into the right folders. This is done by using dependencySets with include and exclude patterns.\nSee <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/advanced-descriptor-topics.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/advanced-descriptor-topics.html</a> for details on this.\nSo one dependencySet copies all jar files of all plugins to a /plugin folder by using an include pattern. Then this approach is inversed to copy the jar files of all external dependencies to a /lib folder.</p>\n<p>The descriptor also defines some extra files to copy to a particular location.  exec-maven-plugin, so I can comfortably start the customer software out of NetBeans. I didn't yet manage to configure the execute plugin correctly regarding the needed classpath arguments.</p>\n<p>Endresult looks like this:\n<a href=\"https://i.stack.imgur.com/8l67c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8l67c.png\" alt=\"Assembly folder after building\" /></a></p>\n<p>It is also worth noting that the configurations of the &quot;Build project&quot;, &quot;Run project&quot; and &quot;Debug project&quot; inside NetBeans need a tiny bit of modification. (Right Click Module &quot;distribution&quot; -&gt; &quot;Properties&quot; -&gt; point &quot;Actions&quot;</p>\n"}],"owner":{"account_id":10110568,"reputation":41,"user_id":7471675,"display_name":"tilt32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70114960,"answer_count":1,"score":1,"last_activity_date":1637860048,"creation_date":1637241968,"question_id":70020687,"body_markdown":"We have a couple of legacy Java projects, which we converted to Maven projects / modules. Previously, all projects were NetBeans projects and had no real dependency management. External dependencies existed on the companies network drive and were directly included as JARs in the NetBeans projects of each module. For the internal dependencies, simple project references were used. It was a pain to build everything because the programmer had to build everything in the right order.\r\n\r\nNow, we are in the position that we can open all the Maven modules in IntelliJ IDEA and NetBeans. However, I am having trouble figuring out the best way to combine the different modules and external dependencies in a specific way, which conforms to in-house plugin-like structure. Especially with NetBeans (developing with both IDEs must be possible).\r\n\r\nHere is how the git repositories / project structure roughly looks like. The folder structure of the modules is the default Maven structure for each module. The list feature of this site was too clumsy, so I included it as screenshot...\r\n\r\n[![Structure Git Repos][1]][1]\r\n\r\nWe have an internal maven repository for the stuff and building with maven etc. is working. For Intellij IDEA i can run and debug the end product for customer1 via a custom run configuration, which copies the needed files in the needed structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWith IntelliJ IDEA, I can debug the software, but I think that the approach (custom IntelliJ run config I created, pointing to all needed JARs and files directly) is rather ugly, and for NetBeans I could not find a similar &quot;run configuration&quot; mechanism. \r\n\r\nSo I tried to achieve this build process by creating a new &quot;Customer1Runnable&quot; Maven project as a sort of build description, which points to all needed Maven modules. Based on this, I believed I could achieve and automatism to create the needed software structure. Ergo copy all modules into a plugin folder and all dependencies of the modules into a lib folder inside the Customer1Runnable project, using the maven-assembly-plugin. \r\n\r\nFirst off, is my assumption correct that this is a possible use case for the maven-assembly-plugin?\r\n\r\nThe project itself does not have any source files, it is only a pom.xml and the assembly-config.xml descriptor. I attached the assembly-plugin to the package phase. When running the `mvn package` command all connected modules are built, but for the execution of the assembly-plugin I get the following output:\r\n\r\n[![Windows CMD output of Customer1Runnable maven project][3]][3]\r\n\r\nFor starters, I only tried to include one module in the assembly descriptor. This is the XML (opicom-assembly.xml) for it:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\r\n    \t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t\txsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\r\n    \t&lt;id&gt;opicom-assembly&lt;/id&gt;\r\n    \t&lt;formats&gt;\r\n    \t\t&lt;format&gt;dir&lt;/format&gt;\r\n    \t&lt;/formats&gt;\r\n    \t&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    \t&lt;moduleSets&gt;\r\n    \t\t&lt;moduleSet&gt;\r\n    \t\t\t&lt;useAllReactorProjects&gt;true&lt;/useAllReactorProjects&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;my.company.reporting:module1&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/moduleSet&gt;\r\n    \t&lt;/moduleSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\npom.xml of Customer1Runnable project\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t&lt;groupId&gt;my.company.customer1&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;OpicomRunnable&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;OpicomRunnable&lt;/name&gt;\r\n    \t\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;Company-Maven-Repo&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;file:\\\\\\\\MyCompany\\TFSDrop\\MavenRepo&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;../my.company.customer1.module1&lt;/module&gt;\r\n    \t\t&lt;module&gt;../my.company.customer1.module2&lt;/module&gt;\r\n    \t\t.\r\n    \t\t.\r\n    \t\t.\r\n    \t\t&lt;module&gt;../../MyCompany_Common/Report/my.company.reporting.module1&lt;/module&gt;\r\n    \t&lt;/modules&gt;\t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t&lt;descriptor&gt;opicom-assembly.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n   \r\nThe pom of a module looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;my.company&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;reporting&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- external dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;21.1.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;finalName&gt;my-company-${project.artifactId}&lt;/finalName&gt;\r\n    \t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;../build&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThanks for any input on what I am doing wrong here / how to achieve this with Maven.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fyeqT.png\r\n  [2]: https://i.stack.imgur.com/JKzf0.png\r\n  [3]: https://i.stack.imgur.com/cd9Fe.png\r\n\r\n**EDIT:**\r\nAs requested, here an example project as ZIP-File.\r\nhttps://drive.google.com/drive/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k?usp=sharing\r\nThe parent directories ModuleGroupCustomer and ModuleGroupCommon do represent git repositories in the real scenario. The relative module path is caused, because the maven project which should be my &quot;run config&quot; points to maven projects in both repositories.\r\n\r\nMaybe I am misunderstanding Maven in general? I thought of it in terms of use cases for dependency management similar to .Net nuget packages, but also as &quot;project configuration&quot; like ordinary NetBeans/Intellij projects. \r\n\r\nIs it better to simply stick to the existing NetBeans projects for day to day development?\r\n","title":"How to make a plugin-like architecture runnable?","body":"<p>We have a couple of legacy Java projects, which we converted to Maven projects / modules. Previously, all projects were NetBeans projects and had no real dependency management. External dependencies existed on the companies network drive and were directly included as JARs in the NetBeans projects of each module. For the internal dependencies, simple project references were used. It was a pain to build everything because the programmer had to build everything in the right order.</p>\n<p>Now, we are in the position that we can open all the Maven modules in IntelliJ IDEA and NetBeans. However, I am having trouble figuring out the best way to combine the different modules and external dependencies in a specific way, which conforms to in-house plugin-like structure. Especially with NetBeans (developing with both IDEs must be possible).</p>\n<p>Here is how the git repositories / project structure roughly looks like. The folder structure of the modules is the default Maven structure for each module. The list feature of this site was too clumsy, so I included it as screenshot...</p>\n<p><a href=\"https://i.stack.imgur.com/fyeqT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fyeqT.png\" alt=\"Structure Git Repos\" /></a></p>\n<p>We have an internal maven repository for the stuff and building with maven etc. is working. For Intellij IDEA i can run and debug the end product for customer1 via a custom run configuration, which copies the needed files in the needed structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JKzf0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKzf0.png\" alt=\"enter image description here\" /></a></p>\n<p>With IntelliJ IDEA, I can debug the software, but I think that the approach (custom IntelliJ run config I created, pointing to all needed JARs and files directly) is rather ugly, and for NetBeans I could not find a similar &quot;run configuration&quot; mechanism.</p>\n<p>So I tried to achieve this build process by creating a new &quot;Customer1Runnable&quot; Maven project as a sort of build description, which points to all needed Maven modules. Based on this, I believed I could achieve and automatism to create the needed software structure. Ergo copy all modules into a plugin folder and all dependencies of the modules into a lib folder inside the Customer1Runnable project, using the maven-assembly-plugin.</p>\n<p>First off, is my assumption correct that this is a possible use case for the maven-assembly-plugin?</p>\n<p>The project itself does not have any source files, it is only a pom.xml and the assembly-config.xml descriptor. I attached the assembly-plugin to the package phase. When running the <code>mvn package</code> command all connected modules are built, but for the execution of the assembly-plugin I get the following output:</p>\n<p><a href=\"https://i.stack.imgur.com/cd9Fe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cd9Fe.png\" alt=\"Windows CMD output of Customer1Runnable maven project\" /></a></p>\n<p>For starters, I only tried to include one module in the assembly descriptor. This is the XML (opicom-assembly.xml) for it:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\n    &lt;id&gt;opicom-assembly&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;dir&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;moduleSets&gt;\n        &lt;moduleSet&gt;\n            &lt;useAllReactorProjects&gt;true&lt;/useAllReactorProjects&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;my.company.reporting:module1&lt;/include&gt;\n                &lt;/includes&gt;\n        &lt;/moduleSet&gt;\n    &lt;/moduleSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>pom.xml of Customer1Runnable project</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;version&gt;1.6&lt;/version&gt;\n    &lt;groupId&gt;my.company.customer1&lt;/groupId&gt;\n    &lt;artifactId&gt;OpicomRunnable&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;OpicomRunnable&lt;/name&gt;\n    \n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Company-Maven-Repo&lt;/id&gt;\n            &lt;url&gt;file:\\\\\\\\MyCompany\\TFSDrop\\MavenRepo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;modules&gt;\n        &lt;module&gt;../my.company.customer1.module1&lt;/module&gt;\n        &lt;module&gt;../my.company.customer1.module2&lt;/module&gt;\n        .\n        .\n        .\n        &lt;module&gt;../../MyCompany_Common/Report/my.company.reporting.module1&lt;/module&gt;\n    &lt;/modules&gt;  \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;opicom-assembly.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The pom of a module looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;my.company&lt;/groupId&gt;\n        &lt;artifactId&gt;reporting&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;module1&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n\n    &lt;dependencies&gt;\n        &lt;!-- external dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;21.1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;my-company-${project.artifactId}&lt;/finalName&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;outputDirectory&gt;../build&lt;/outputDirectory&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thanks for any input on what I am doing wrong here / how to achieve this with Maven.</p>\n<p><strong>EDIT:</strong>\nAs requested, here an example project as ZIP-File.\n<a href=\"https://drive.google.com/drive/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1ilJeTrOPgYgUTdOP0J4BQcBnPT5fls0k?usp=sharing</a>\nThe parent directories ModuleGroupCustomer and ModuleGroupCommon do represent git repositories in the real scenario. The relative module path is caused, because the maven project which should be my &quot;run config&quot; points to maven projects in both repositories.</p>\n<p>Maybe I am misunderstanding Maven in general? I thought of it in terms of use cases for dependency management similar to .Net nuget packages, but also as &quot;project configuration&quot; like ordinary NetBeans/Intellij projects.</p>\n<p>Is it better to simply stick to the existing NetBeans projects for day to day development?</p>\n"},{"tags":["java","asynchronous","freeze","completable-future","java-17"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1637849301,"post_id":70111913,"comment_id":123939487,"body_markdown":"Cannot reproduce with windows and open jdk 17.0.1. Is that all code needed to reproduce the problem?","body":"Cannot reproduce with windows and open jdk 17.0.1. Is that all code needed to reproduce the problem?"},{"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"score":1,"creation_date":1637849546,"post_id":70111913,"comment_id":123939598,"body_markdown":"@samabcde yes and I run the code in Eclipse 2021-09. More details about my env:\n```\n$ java --version\nopenjdk 17 2021-09-14\nOpenJDK Runtime Environment (build 17+35-Ubuntu-120.04)\nOpenJDK 64-Bit Server VM (build 17+35-Ubuntu-120.04, mixed mode, sharing)\n```","body":"@samabcde yes and I run the code in Eclipse 2021-09. More details about my env: ``` $ java --version openjdk 17 2021-09-14 OpenJDK Runtime Environment (build 17+35-Ubuntu-120.04) OpenJDK 64-Bit Server VM (build 17+35-Ubuntu-120.04, mixed mode, sharing) ```"},{"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"score":0,"creation_date":1637854075,"post_id":70111913,"comment_id":123941460,"body_markdown":"@samabcde sorry, I was wrong. Indeed the problem were somewhere else  - in my custom exception class that I simplified in an original post. I edited my post and explained where is the problem. Thanks for your try to help me!","body":"@samabcde sorry, I was wrong. Indeed the problem were somewhere else  - in my custom exception class that I simplified in an original post. I edited my post and explained where is the problem. Thanks for your try to help me!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1637854127,"post_id":70111913,"comment_id":123941486,"body_markdown":"If you &quot;found&quot; a solution, then dont update the question, but write a self answer ... when you assume this problem is something that other future readers might care about.","body":"If you &quot;found&quot; a solution, then dont update the question, but write a self answer ... when you assume this problem is something that other future readers might care about."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637920661,"post_id":70111913,"comment_id":123957035,"body_markdown":"Since your custom exception type does not introduce any properties, I’m wondering why you overrode `toString()` at all. What does the `ReflectionToStringBuilder.toString(this)` deliver which the original inherited `toString()` method does not?","body":"Since your custom exception type does not introduce any properties, I’m wondering why you overrode <code>toString()</code> at all. What does the <code>ReflectionToStringBuilder.toString(this)</code> deliver which the original inherited <code>toString()</code> method does not?"},{"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"score":0,"creation_date":1638201974,"post_id":70111913,"comment_id":124019330,"body_markdown":"@Holger my custom exception had more fields. I simplified it here for readability. `ReflectionToStringBuilder.toString(this)` is from Apache Commons Lang and I used overrode `toString()` method for logging purpose","body":"@Holger my custom exception had more fields. I simplified it here for readability. <code>ReflectionToStringBuilder.toString(this)</code> is from Apache Commons Lang and I used overrode <code>toString()</code> method for logging purpose"}],"answers":[{"tags":[],"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637854299,"creation_date":1637854299,"answer_id":70113712,"question_id":70111913,"body_markdown":"I found out the problem is cause by the `toString()` method added to my custom exception class. For some reason it (or to be more precise: `ReflectionToStringBuilder.toString(this);`) started to be a problem after Java 11.","title":"Throwing exception from CompletableFuture hangs get() and join() in Java 17","body":"<p>I found out the problem is cause by the <code>toString()</code> method added to my custom exception class. For some reason it (or to be more precise: <code>ReflectionToStringBuilder.toString(this);</code>) started to be a problem after Java 11.</p>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637859245,"creation_date":1637855572,"answer_id":70113994,"question_id":70111913,"body_markdown":"### The problem is due to `ReflectionToStringBuilder.toString` use encapsulated java API.\r\nWe can try something like `MyException.wrapIfNeeded(new NullPointerException(&quot;&quot;)).toString()`\r\nAnd will see\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field static final long java.lang.RuntimeException.serialVersionUID accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b4c966a\r\n\r\n\r\n### Why will this cause hang infinitely?\r\nIn [`CompletableFuture.AsyncSupply#run`][1] method\r\n```java\r\n    static final class AsyncSupply&lt;T&gt; extends ForkJoinTask&lt;Void&gt;\r\n        implements Runnable, AsynchronousCompletionTask {\r\n    ...\r\n        public void run() {\r\n            CompletableFuture&lt;T&gt; d; Supplier&lt;? extends T&gt; f;\r\n            if ((d = dep) != null &amp;&amp; (f = fn) != null) {\r\n                dep = null; fn = null;\r\n                if (d.result == null) {\r\n                    try {\r\n                        d.completeValue(f.get());\r\n                    } catch (Throwable ex) {\r\n                        d.completeThrowable(ex);\r\n                    }\r\n                }\r\n                d.postComplete();\r\n            }\r\n        }\r\n```\r\nSince `MyException` is thrown, `d.completeThrowable(ex);` is called, inside this method, it will wrap the exception to `CompletionException`, which will call the constructor of `Throwable` with `MyException` as `cause`.\r\n```java\r\n    public Throwable(Throwable cause) {\r\n        fillInStackTrace();\r\n        detailMessage = (cause==null ? null : cause.toString());\r\n        this.cause = cause;\r\n    }\r\n```\r\nWhen `cause.toString()` is called, it will throw the exception mentioned in the beginning, \r\nso `d.completeThrowable(ex);` is not executed completely and hence the program will hang forever.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L1762","title":"Throwing exception from CompletableFuture hangs get() and join() in Java 17","body":"<h3>The problem is due to <code>ReflectionToStringBuilder.toString</code> use encapsulated java API.</h3>\n<p>We can try something like <code>MyException.wrapIfNeeded(new NullPointerException(&quot;&quot;)).toString()</code>\nAnd will see</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field static final long java.lang.RuntimeException.serialVersionUID accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b4c966a</p>\n</blockquote>\n<h3>Why will this cause hang infinitely?</h3>\n<p>In <a href=\"https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java#L1762\" rel=\"noreferrer\"><code>CompletableFuture.AsyncSupply#run</code></a> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static final class AsyncSupply&lt;T&gt; extends ForkJoinTask&lt;Void&gt;\n        implements Runnable, AsynchronousCompletionTask {\n    ...\n        public void run() {\n            CompletableFuture&lt;T&gt; d; Supplier&lt;? extends T&gt; f;\n            if ((d = dep) != null &amp;&amp; (f = fn) != null) {\n                dep = null; fn = null;\n                if (d.result == null) {\n                    try {\n                        d.completeValue(f.get());\n                    } catch (Throwable ex) {\n                        d.completeThrowable(ex);\n                    }\n                }\n                d.postComplete();\n            }\n        }\n</code></pre>\n<p>Since <code>MyException</code> is thrown, <code>d.completeThrowable(ex);</code> is called, inside this method, it will wrap the exception to <code>CompletionException</code>, which will call the constructor of <code>Throwable</code> with <code>MyException</code> as <code>cause</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Throwable(Throwable cause) {\n        fillInStackTrace();\n        detailMessage = (cause==null ? null : cause.toString());\n        this.cause = cause;\n    }\n</code></pre>\n<p>When <code>cause.toString()</code> is called, it will throw the exception mentioned in the beginning,\nso <code>d.completeThrowable(ex);</code> is not executed completely and hence the program will hang forever.</p>\n"}],"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1637859245,"creation_date":1637846710,"question_id":70111913,"body_markdown":"After I have switched from Java 11 to Java 17 (OpenJDK installed from Ubuntu 20.04 repository), the following code doesn&#39;t work:\r\n```java\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport org.apache.commons.lang.builder.ReflectionToStringBuilder;\r\nimport org.apache.commons.lang3.exception.ExceptionUtils;\r\n\r\npublic class TestClass {\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; streamFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n            throw MyException.wrapIfNeeded(new Exception(&quot;MyException&quot;));\r\n        });\r\n        String result = null;\r\n        try {\r\n            result = streamFuture.get();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: &quot; + ExceptionUtils.getMessage(e));\r\n        }\r\n        System.out.println(&quot;Result: &quot; + Objects.toString(result));\r\n    }\r\n\r\n    static class MyException extends RuntimeException {\r\n\r\n        private static final long serialVersionUID = 3349188601484197015L;\r\n\r\n        public MyException(Throwable cause) {\r\n            super(cause == null ? null : cause.getMessage(), cause);\r\n        }\r\n\r\n        public static MyException wrapIfNeeded(Throwable e) {\r\n            return e instanceof MyException ? (MyException) e : new MyException(e);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return ReflectionToStringBuilder.toString(this);\r\n        }\r\n    }\r\n}\r\n```\r\nThere is a problem in `streamFuture.get()` - it hangs infinitely. I dug deeper and found that in `java.util.concurrent.ForkJoinPool` there is a method `unmanagedBlock(ManagedBlocker blocker)` which looks like\r\n```java\r\n    /** ManagedBlock for external threads */\r\n    private static void unmanagedBlock(ManagedBlocker blocker)\r\n        throws InterruptedException {\r\n        if (blocker == null) throw new NullPointerException();\r\n        do {} while (!blocker.isReleasable() &amp;&amp; !blocker.block());\r\n    }\r\n```\r\nand the program hangs infinitely in the do-while loop. \r\n\r\nEDIT:\r\nI found out the problem is cause by the `toString()` method added to my custom exception class. For some reason it started to be a problem after Java 11\r\n","title":"Throwing exception from CompletableFuture hangs get() and join() in Java 17","body":"<p>After I have switched from Java 11 to Java 17 (OpenJDK installed from Ubuntu 20.04 repository), the following code doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport java.util.concurrent.CompletableFuture;\n\nimport org.apache.commons.lang.builder.ReflectionToStringBuilder;\nimport org.apache.commons.lang3.exception.ExceptionUtils;\n\npublic class TestClass {\n\n    public static void main(String[] args) {\n        CompletableFuture&lt;String&gt; streamFuture = CompletableFuture.supplyAsync(() -&gt; {\n            throw MyException.wrapIfNeeded(new Exception(&quot;MyException&quot;));\n        });\n        String result = null;\n        try {\n            result = streamFuture.get();\n        } catch (Exception e) {\n            System.out.println(&quot;Exception: &quot; + ExceptionUtils.getMessage(e));\n        }\n        System.out.println(&quot;Result: &quot; + Objects.toString(result));\n    }\n\n    static class MyException extends RuntimeException {\n\n        private static final long serialVersionUID = 3349188601484197015L;\n\n        public MyException(Throwable cause) {\n            super(cause == null ? null : cause.getMessage(), cause);\n        }\n\n        public static MyException wrapIfNeeded(Throwable e) {\n            return e instanceof MyException ? (MyException) e : new MyException(e);\n        }\n\n        @Override\n        public String toString() {\n            return ReflectionToStringBuilder.toString(this);\n        }\n    }\n}\n</code></pre>\n<p>There is a problem in <code>streamFuture.get()</code> - it hangs infinitely. I dug deeper and found that in <code>java.util.concurrent.ForkJoinPool</code> there is a method <code>unmanagedBlock(ManagedBlocker blocker)</code> which looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /** ManagedBlock for external threads */\n    private static void unmanagedBlock(ManagedBlocker blocker)\n        throws InterruptedException {\n        if (blocker == null) throw new NullPointerException();\n        do {} while (!blocker.isReleasable() &amp;&amp; !blocker.block());\n    }\n</code></pre>\n<p>and the program hangs infinitely in the do-while loop.</p>\n<p>EDIT:\nI found out the problem is cause by the <code>toString()</code> method added to my custom exception class. For some reason it started to be a problem after Java 11</p>\n"},{"tags":["java","spring","spring-boot","rest","postman"],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637859006,"creation_date":1637859006,"answer_id":70114747,"question_id":70114595,"body_markdown":"You need distinct List&lt;String&gt; params, each one named after the query param.\r\n\r\n\r\ngiven \r\ni.e\r\n\r\n    request: /your-resource?param1=1,2,3&amp;param2=4,5&amp;param3=10\r\n    \r\n    @Controller\r\n    \r\n    @RequestMapping\r\n    public ResponseEntity&lt;Object&gt; foo(@RequestParam(&quot;params1&quot;) List&lt;String&gt; param1, @RequestParam(&quot;param2&quot;) List&lt;String&gt; params2, @RequestParam(&quot;param3&quot;) List&lt;String&gt; params3 )\r\n\r\nWould result in 1,2,3 injected into param1. 4,5 into param2 and 10 into param3.","title":"How to pass multiple values in RequestParam","body":"<p>You need distinct List params, each one named after the query param.</p>\n<p>given\ni.e</p>\n<pre><code>request: /your-resource?param1=1,2,3&amp;param2=4,5&amp;param3=10\n\n@Controller\n\n@RequestMapping\npublic ResponseEntity&lt;Object&gt; foo(@RequestParam(&quot;params1&quot;) List&lt;String&gt; param1, @RequestParam(&quot;param2&quot;) List&lt;String&gt; params2, @RequestParam(&quot;param3&quot;) List&lt;String&gt; params3 )\n</code></pre>\n<p>Would result in 1,2,3 injected into param1. 4,5 into param2 and 10 into param3.</p>\n"}],"owner":{"account_id":11387294,"reputation":13,"user_id":8348623,"display_name":"bchird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637859127,"accepted_answer_id":70114747,"answer_count":1,"score":0,"last_activity_date":1637859006,"creation_date":1637858308,"question_id":70114595,"body_markdown":"How to pass multiple values in RequestParam and retrieve them.\r\n\r\n    public List&lt;String&gt; get(@RequestParam(&quot;query&quot;) String query)\r\n\r\n    query = [a | b | c].\r\n\r\nWhere a, b, and c are optional.&lt;br/&gt;\r\nHow can we pass the query as a param. When a&amp;c are optional and if we pass &quot;,b,&quot;.\r\nThen I am getting array as[&quot; &quot;, b] after splitting with &quot;,&quot;. Instead of [&quot; &quot;, b, &quot; &quot;].\r\n\r\nHow can I pass the query as a param, so that I can get an array of three strings? ","title":"How to pass multiple values in RequestParam","body":"<p>How to pass multiple values in RequestParam and retrieve them.</p>\n<pre><code>public List&lt;String&gt; get(@RequestParam(&quot;query&quot;) String query)\n\nquery = [a | b | c].\n</code></pre>\n<p>Where a, b, and c are optional.<br/>\nHow can we pass the query as a param. When a&amp;c are optional and if we pass &quot;,b,&quot;.\nThen I am getting array as[&quot; &quot;, b] after splitting with &quot;,&quot;. Instead of [&quot; &quot;, b, &quot; &quot;].</p>\n<p>How can I pass the query as a param, so that I can get an array of three strings?</p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1637832121,"post_id":70103878,"comment_id":123932560,"body_markdown":"Don’t you want to declare the field as `static`? Further note that specifying a constant value is pointless here, as the field is not constant. If you want an initial value for a mutable field, you have to assign it in the constructor (or class initializer if the field is `static`). But why not use the default value of zero, which is a suitable initial value for a counter? Then, incrementing a `static` field consists of four instructions, `getstatic`, `iconst_1`, `iadd`, `putstatic`, whereas incrementing a non-`static` field requires six: `aload_0`, `getfield`, add one, `aload_0`, `putfield`.","body":"Don’t you want to declare the field as <code>static</code>? Further note that specifying a constant value is pointless here, as the field is not constant. If you want an initial value for a mutable field, you have to assign it in the constructor (or class initializer if the field is <code>static</code>). But why not use the default value of zero, which is a suitable initial value for a counter? Then, incrementing a <code>static</code> field consists of four instructions, <code>getstatic</code>, <code>iconst_1</code>, <code>iadd</code>, <code>putstatic</code>, whereas incrementing a non-<code>static</code> field requires six: <code>aload_0</code>, <code>getfield</code>, add one, <code>aload_0</code>, <code>putfield</code>."},{"owner":{"account_id":5341559,"reputation":1488,"user_id":4258483,"display_name":"Pasindu Tennage"},"score":0,"creation_date":1637833009,"post_id":70103878,"comment_id":123932918,"body_markdown":"@Holger thank you for the comment. I think you are correct that I should declare it as a class variable - static. I am not sure I understood correctly your approach to increase the static counter. Can you please give a code snippet?","body":"@Holger thank you for the comment. I think you are correct that I should declare it as a class variable - static. I am not sure I understood correctly your approach to increase the static counter. Can you please give a code snippet?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1637833274,"post_id":70103878,"comment_id":123933032,"body_markdown":"Generally, when you want to do bytecode manipulation, you should know [The Java&#174; Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se17/html/index.html). Chapter 6 describes all bytecode instructions, but chapter 3 is also valuable, as it shows how high-level constructs map to these instructions. And it never hurts to know about the other stuff in the other chapters…","body":"Generally, when you want to do bytecode manipulation, you should know <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/index.html\" rel=\"nofollow noreferrer\">The Java&#174; Virtual Machine Specification</a>. Chapter 6 describes all bytecode instructions, but chapter 3 is also valuable, as it shows how high-level constructs map to these instructions. And it never hurts to know about the other stuff in the other chapters…"}],"answers":[{"tags":[],"owner":{"account_id":5341559,"reputation":1488,"user_id":4258483,"display_name":"Pasindu Tennage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637858705,"creation_date":1637858705,"answer_id":70114683,"question_id":70103878,"body_markdown":"An elaboration of the comment from @Holger\r\n\r\n    import org.objectweb.asm.ClassReader;\r\n    import org.objectweb.asm.ClassWriter;\r\n    import org.objectweb.asm.Opcodes;\r\n    import org.objectweb.asm.tree.*;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    public class Executor {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Contract c = new Contract();\r\n            c.execute();\r\n    \r\n            FileInputStream is = new FileInputStream(&quot;target/classes/Contract.class&quot;);\r\n    \r\n            ClassReader cr = new ClassReader(is);\r\n            ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\r\n    \r\n            final ClassNode classNode = new ClassNode();\r\n            cr.accept(classNode, 0);\r\n            classNode.fields.add(new FieldNode(Opcodes.ACC_STATIC +Opcodes.ACC_PUBLIC, &quot;count&quot;, &quot;I&quot;, null, 0));\r\n    \r\n    \r\n            for (final MethodNode mn :classNode.methods) {\r\n    \r\n                ListIterator&lt;AbstractInsnNode&gt; itr = mn.instructions.iterator();\r\n    \r\n                // core insert\r\n                while (itr.hasNext()) {\r\n    \r\n                    AbstractInsnNode node = itr.next();\r\n    \r\n                    InsnList numCounting = new InsnList();\r\n    \r\n                    // insert count++\r\n                    numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode.name, &quot;count&quot;, &quot;I&quot;));\r\n                    numCounting.add(new InsnNode(Opcodes.ICONST_1));\r\n                    numCounting.add(new InsnNode(Opcodes.IADD));\r\n                    numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode.name, &quot;count&quot;, &quot;I&quot;));\r\n    \r\n                    // insert callme\r\n    //            numCounting.add(new MethodInsnNode(Opcodes.INVOKESTATIC, &quot;com/lvxiaoxin/staticDemo&quot;, &quot;callme&quot;, &quot;()V&quot;, false));\r\n    \r\n                    mn.instructions.insert(node, numCounting);\r\n                }\r\n            }\r\n    \r\n    \r\n            FileOutputStream fos = new FileOutputStream(&quot;target/classes/Contract.class&quot;);\r\n            classNode.accept(cw);\r\n            fos.write(cw.toByteArray());\r\n            fos.close();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nBasically this would add a count++ statement after each bytecode executed.\r\n\r\nAs an example consider the following class as the original java class.\r\n\r\n    public class Contract {\r\n        private double Cvar1;\r\n        private float Cvar2;\r\n        private char Cvar3;\r\n        private String Cvar4;\r\n        private int Cvar5;\r\n        private long Cvar6;\r\n    \r\n        public Contract(){}\r\n    \r\n        public void execute(){\r\n            double var1 = 0.1;\r\n            float var2 = 0.1F;\r\n            char var3 = &#39;a&#39;;\r\n            String var4 = &quot;a&quot;;\r\n            int var5 = 1;\r\n            long var6 = 2;\r\n            System.out.println(&quot;Executing the contract&quot;);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nNow if this class is compiled, and the resulting Bytecode file is modified using the Executor, the following Decompiled class is generated.\r\n\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n//\r\n\r\n    import java.io.PrintStream;\r\n    \r\n    public class Contract {\r\n        private double Cvar1;\r\n        private float Cvar2;\r\n        private char Cvar3;\r\n        private String Cvar4;\r\n        private int Cvar5;\r\n        private long Cvar6;\r\n        public static int count;\r\n    \r\n        public Contract() {\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            super();\r\n            ++count;\r\n        }\r\n    \r\n        public void execute() {\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            double var1 = 0.1D;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            float var3 = 0.1F;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            boolean var4 = true;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            String var5 = &quot;a&quot;;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            boolean var6 = true;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            long var7 = 2L;\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n            PrintStream var10000 = System.out;\r\n            ++count;\r\n            ++count;\r\n            var10000.println(&quot;Executing the contract&quot;);\r\n            ++count;\r\n            ++count;\r\n            ++count;\r\n        }\r\n    }\r\n\r\n","title":"How to count the number of executed Bytecodes of a java program?","body":"<p>An elaboration of the comment from @Holger</p>\n<pre><code>import org.objectweb.asm.ClassReader;\nimport org.objectweb.asm.ClassWriter;\nimport org.objectweb.asm.Opcodes;\nimport org.objectweb.asm.tree.*;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.ListIterator;\n\npublic class Executor {\n\n    public static void main(String[] args) throws IOException {\n        Contract c = new Contract();\n        c.execute();\n\n        FileInputStream is = new FileInputStream(&quot;target/classes/Contract.class&quot;);\n\n        ClassReader cr = new ClassReader(is);\n        ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n\n        final ClassNode classNode = new ClassNode();\n        cr.accept(classNode, 0);\n        classNode.fields.add(new FieldNode(Opcodes.ACC_STATIC +Opcodes.ACC_PUBLIC, &quot;count&quot;, &quot;I&quot;, null, 0));\n\n\n        for (final MethodNode mn :classNode.methods) {\n\n            ListIterator&lt;AbstractInsnNode&gt; itr = mn.instructions.iterator();\n\n            // core insert\n            while (itr.hasNext()) {\n\n                AbstractInsnNode node = itr.next();\n\n                InsnList numCounting = new InsnList();\n\n                // insert count++\n                numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode.name, &quot;count&quot;, &quot;I&quot;));\n                numCounting.add(new InsnNode(Opcodes.ICONST_1));\n                numCounting.add(new InsnNode(Opcodes.IADD));\n                numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode.name, &quot;count&quot;, &quot;I&quot;));\n\n                // insert callme\n//            numCounting.add(new MethodInsnNode(Opcodes.INVOKESTATIC, &quot;com/lvxiaoxin/staticDemo&quot;, &quot;callme&quot;, &quot;()V&quot;, false));\n\n                mn.instructions.insert(node, numCounting);\n            }\n        }\n\n\n        FileOutputStream fos = new FileOutputStream(&quot;target/classes/Contract.class&quot;);\n        classNode.accept(cw);\n        fos.write(cw.toByteArray());\n        fos.close();\n    }\n\n\n}\n</code></pre>\n<p>Basically this would add a count++ statement after each bytecode executed.</p>\n<p>As an example consider the following class as the original java class.</p>\n<pre><code>public class Contract {\n    private double Cvar1;\n    private float Cvar2;\n    private char Cvar3;\n    private String Cvar4;\n    private int Cvar5;\n    private long Cvar6;\n\n    public Contract(){}\n\n    public void execute(){\n        double var1 = 0.1;\n        float var2 = 0.1F;\n        char var3 = 'a';\n        String var4 = &quot;a&quot;;\n        int var5 = 1;\n        long var6 = 2;\n        System.out.println(&quot;Executing the contract&quot;);\n    }\n\n\n}\n</code></pre>\n<p>Now if this class is compiled, and the resulting Bytecode file is modified using the Executor, the following Decompiled class is generated.</p>\n<p>//\n// Source code recreated from a .class file by IntelliJ IDEA\n//</p>\n<pre><code>import java.io.PrintStream;\n\npublic class Contract {\n    private double Cvar1;\n    private float Cvar2;\n    private char Cvar3;\n    private String Cvar4;\n    private int Cvar5;\n    private long Cvar6;\n    public static int count;\n\n    public Contract() {\n        ++count;\n        ++count;\n        ++count;\n        super();\n        ++count;\n    }\n\n    public void execute() {\n        ++count;\n        ++count;\n        ++count;\n        double var1 = 0.1D;\n        ++count;\n        ++count;\n        ++count;\n        ++count;\n        float var3 = 0.1F;\n        ++count;\n        ++count;\n        ++count;\n        ++count;\n        boolean var4 = true;\n        ++count;\n        ++count;\n        ++count;\n        ++count;\n        String var5 = &quot;a&quot;;\n        ++count;\n        ++count;\n        ++count;\n        ++count;\n        boolean var6 = true;\n        ++count;\n        ++count;\n        ++count;\n        ++count;\n        long var7 = 2L;\n        ++count;\n        ++count;\n        ++count;\n        PrintStream var10000 = System.out;\n        ++count;\n        ++count;\n        var10000.println(&quot;Executing the contract&quot;);\n        ++count;\n        ++count;\n        ++count;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5341559,"reputation":1488,"user_id":4258483,"display_name":"Pasindu Tennage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114683,"answer_count":1,"score":0,"last_activity_date":1637858705,"creation_date":1637794512,"question_id":70103878,"body_markdown":"I am trying to write a simple program using Java [ASM][1] to count the number of executed Java Bytecodes.\r\n\r\nThis [post][2] asks the same thing, and has a solution to use ASM. However, the answer points to a link that is no longer available.\r\n\r\nI explored the Java ASM API, found the Tree Based API which seems to allow this task. The following is what I have achieved so far.\r\n\r\n    import org.objectweb.asm.ClassReader;\r\n    import org.objectweb.asm.ClassWriter;\r\n    import org.objectweb.asm.Opcodes;\r\n    import org.objectweb.asm.tree.*;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    public class Executor {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Contract c = new Contract();\r\n            c.execute();\r\n    \r\n            FileInputStream is = new FileInputStream(&quot;target/classes/Contract.class&quot;);\r\n    \r\n            ClassReader cr = new ClassReader(is);\r\n            ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\r\n    \r\n            final ClassNode classNode = new ClassNode();\r\n            cr.accept(classNode, 0);\r\n            classNode.fields.add(new FieldNode(Opcodes.ACC_PUBLIC,\r\n                    &quot;Counter&quot;, &quot;I&quot;, null, new Integer(-1)));\r\n    \r\n    \r\n            FileOutputStream fos = new FileOutputStream(&quot;target/classes/ModifiedContract.class&quot;);\r\n            classNode.accept(cw);\r\n            fos.write(cw.toByteArray());\r\n            fos.close();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n What I have achieved so far is to add a global counter to a .class file (bytecode).\r\n\r\nTo my understanding the next step is to add a counter++ statement after each bytecode executed.\r\n\r\nFrom the documentation I found that `InsnList` object in the MethodNode correspond to a bytecode: is this correct?\r\n\r\nIf so what is the best way I can add a counter++ statement for each bytecode, so that at the end I get the number of Bytecodes executed (I am not interested in the total number of Bytecodes, but only the executed Bytecodes)\r\n\r\n(I am new to the Java + ASM world)\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://asm.ow2.io/asm4-guide.pdf\r\n  [2]: https://stackoverflow.com/questions/13811082/how-to-count-number-of-bytecodes-executed-in-java","title":"How to count the number of executed Bytecodes of a java program?","body":"<p>I am trying to write a simple program using Java <a href=\"https://asm.ow2.io/asm4-guide.pdf\" rel=\"nofollow noreferrer\">ASM</a> to count the number of executed Java Bytecodes.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/13811082/how-to-count-number-of-bytecodes-executed-in-java\">post</a> asks the same thing, and has a solution to use ASM. However, the answer points to a link that is no longer available.</p>\n<p>I explored the Java ASM API, found the Tree Based API which seems to allow this task. The following is what I have achieved so far.</p>\n<pre><code>import org.objectweb.asm.ClassReader;\nimport org.objectweb.asm.ClassWriter;\nimport org.objectweb.asm.Opcodes;\nimport org.objectweb.asm.tree.*;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class Executor {\n\n    public static void main(String[] args) throws IOException {\n        Contract c = new Contract();\n        c.execute();\n\n        FileInputStream is = new FileInputStream(&quot;target/classes/Contract.class&quot;);\n\n        ClassReader cr = new ClassReader(is);\n        ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n\n        final ClassNode classNode = new ClassNode();\n        cr.accept(classNode, 0);\n        classNode.fields.add(new FieldNode(Opcodes.ACC_PUBLIC,\n                &quot;Counter&quot;, &quot;I&quot;, null, new Integer(-1)));\n\n\n        FileOutputStream fos = new FileOutputStream(&quot;target/classes/ModifiedContract.class&quot;);\n        classNode.accept(cw);\n        fos.write(cw.toByteArray());\n        fos.close();\n    }\n\n\n}\n</code></pre>\n<p>What I have achieved so far is to add a global counter to a .class file (bytecode).</p>\n<p>To my understanding the next step is to add a counter++ statement after each bytecode executed.</p>\n<p>From the documentation I found that <code>InsnList</code> object in the MethodNode correspond to a bytecode: is this correct?</p>\n<p>If so what is the best way I can add a counter++ statement for each bytecode, so that at the end I get the number of Bytecodes executed (I am not interested in the total number of Bytecodes, but only the executed Bytecodes)</p>\n<p>(I am new to the Java + ASM world)</p>\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637853807,"creation_date":1637853807,"answer_id":70113617,"question_id":70113424,"body_markdown":"I guess you&#39;re trying to init your database on the startup.\r\n\r\nYou can leverage the spring internal event mechanism.\r\nWhen your application is ready, spring triggers the event `ApplicationReadyEvent`\r\n\r\nYou can listen to this event and init your collection:\r\n\r\n```java\r\n@Component\r\npublic class DataInit implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n    private final MongoOperations operations;\r\n\r\n    public DataInit(MongoOperations operations) {\r\n        this.operations = operations;\r\n    }\r\n\r\n    @Override\r\n    public void onApplicationEvent(ApplicationReadyEvent event) {\r\n        // init data\r\n    }\r\n}\r\n```\r\n\r\nIf you want to know more about spring events --&gt; [https://www.baeldung.com/spring-events][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-events","title":"Application won&#39;t start as MongoOperations bean is not defined","body":"<p>I guess you're trying to init your database on the startup.</p>\n<p>You can leverage the spring internal event mechanism.\nWhen your application is ready, spring triggers the event <code>ApplicationReadyEvent</code></p>\n<p>You can listen to this event and init your collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DataInit implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n    private final MongoOperations operations;\n\n    public DataInit(MongoOperations operations) {\n        this.operations = operations;\n    }\n\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n        // init data\n    }\n}\n</code></pre>\n<p>If you want to know more about spring events --&gt; <a href=\"https://www.baeldung.com/spring-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-events</a></p>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637856937,"creation_date":1637856937,"answer_id":70114286,"question_id":70113424,"body_markdown":"`MongoOperations` is the interface for interacting with Mongo in a blocking manner. `ReactiveMongoOperations` is the interface for interacting with Mongo in a reactive manner.\r\n\r\nAs you&#39;re using WebFlux (`spring-boot-starter-webflux`), it would appear that you want to build a reactive application. If so, you should replace your use of `MongoOperations` with `ReactiveMongoOperations`. The, if you want to build a blocking, Servlet-based web application would be to switch to `spring-boot-starter-data-mongodb` and `spring-boot-starter-web`.","title":"Application won&#39;t start as MongoOperations bean is not defined","body":"<p><code>MongoOperations</code> is the interface for interacting with Mongo in a blocking manner. <code>ReactiveMongoOperations</code> is the interface for interacting with Mongo in a reactive manner.</p>\n<p>As you're using WebFlux (<code>spring-boot-starter-webflux</code>), it would appear that you want to build a reactive application. If so, you should replace your use of <code>MongoOperations</code> with <code>ReactiveMongoOperations</code>. The, if you want to build a blocking, Servlet-based web application would be to switch to <code>spring-boot-starter-data-mongodb</code> and <code>spring-boot-starter-web</code>.</p>\n"},{"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637857585,"creation_date":1637857585,"answer_id":70114434,"question_id":70113424,"body_markdown":"I want to preload data and read that it was best to do this using a blocking API because when launching an application there is a risk of a thread lock issue when both the web container and my loader are starting up. The book I&#39;m using is for an older veriosn of both Spring Boot and MongoDB.\r\n\r\nIt seems that the version of `spring-boot-starter-data-mongodb-reactive` that the book used contained `MongoOperations` but this was then split out. See [this][1].\r\n\r\nTo use this I added `implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;` to my class path.\r\n\r\nIf there wasn&#39;t the issue of thread lock I could have used `ReactiveMongoOperations` instead.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/21561#issuecomment-633546344","title":"Application won&#39;t start as MongoOperations bean is not defined","body":"<p>I want to preload data and read that it was best to do this using a blocking API because when launching an application there is a risk of a thread lock issue when both the web container and my loader are starting up. The book I'm using is for an older veriosn of both Spring Boot and MongoDB.</p>\n<p>It seems that the version of <code>spring-boot-starter-data-mongodb-reactive</code> that the book used contained <code>MongoOperations</code> but this was then split out. See <a href=\"https://github.com/spring-projects/spring-boot/issues/21561#issuecomment-633546344\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>To use this I added <code>implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'</code> to my class path.</p>\n<p>If there wasn't the issue of thread lock I could have used <code>ReactiveMongoOperations</code> instead.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70114434,"answer_count":3,"score":1,"last_activity_date":1637858523,"creation_date":1637852945,"question_id":70113424,"body_markdown":"I&#39;m working through the book `Learning Spring Boot 2.0, Second Edition` but using `Spring Boot 2.5.6` so I suspect my issue might be related to me having to do things slightly with the different version.\r\n\r\nI have this class:\r\n\r\n```Java\r\n@Component\r\npublic class InitDatabase {\r\n\r\n    @Bean\r\n    CommandLineRunner init(MongoOperations operations) {\r\n        return args -&gt; {\r\n            operations.dropCollection(Image.class);\r\n\r\n            operations.insert(new Image(&quot;1&quot;, &quot;learning-spring-boot-cover.jpg&quot;));\r\n            operations.insert(new Image(&quot;2&quot;, &quot;learning-spring-boot-2nd-edition-cover.jpg&quot;));\r\n            operations.insert(new Image(&quot;3&quot;, &quot;bazinga.png&quot;));\r\n\r\n            operations.findAll(Image.class).forEach(image -&gt; System.out.println(image.toString()));\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I run my application I get this error:\r\n\r\n&gt;2021-11-25 12:26:42.870 DEBUG 71010 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : Application failed to start due to an exception\r\n&gt;\r\n&gt;org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.data.mongodb.core.MongoOperations&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat com.paulcarron.learningspringboot.learningspringboot.LearningSpringBootApplication.main(LearningSpringBootApplication.java:12) ~[classes/:na]\r\n&gt;\r\n&gt;2021-11-25 12:26:42.870 ERROR 71010 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n&gt;\r\n&gt;***************************\r\n&gt;APPLICATION FAILED TO START\r\n&gt;***************************\r\n&gt;\r\n&gt;Description:\r\n&gt;\r\n&gt;Parameter 0 of method init in com.paulcarron.learningspringboot.learningspringboot.InitDatabase required a bean of type &#39;org.springframework.data.mongodb.core.MongoOperations&#39; that could not be found.\r\n&gt;\r\n&gt;\r\n&gt;Action:\r\n&gt;\r\n&gt;Consider defining a bean of type &#39;org.springframework.data.mongodb.core.MongoOperations&#39; in your configuration.\r\n\r\nThis is my `build.gradle`:\r\n\r\n```JSON\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.6&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.paulcarron.learningspringboot&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb-reactive&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.synchronoss.cloud:nio-multipart-parser:1.1.0&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;javax.persistence:javax.persistence-api:2.2&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nMy understanding is that I don&#39;t need to activate the with `@EnableReactiveMongoRepositories` as this is done automatically if Reactive MongoDB or Spring DataMongoDB 2.0+ are on the classpath.\r\n\r\nIs there any obvious reason why this is not working?","title":"Application won&#39;t start as MongoOperations bean is not defined","body":"<p>I'm working through the book <code>Learning Spring Boot 2.0, Second Edition</code> but using <code>Spring Boot 2.5.6</code> so I suspect my issue might be related to me having to do things slightly with the different version.</p>\n<p>I have this class:</p>\n<pre><code>@Component\npublic class InitDatabase {\n\n    @Bean\n    CommandLineRunner init(MongoOperations operations) {\n        return args -&gt; {\n            operations.dropCollection(Image.class);\n\n            operations.insert(new Image(&quot;1&quot;, &quot;learning-spring-boot-cover.jpg&quot;));\n            operations.insert(new Image(&quot;2&quot;, &quot;learning-spring-boot-2nd-edition-cover.jpg&quot;));\n            operations.insert(new Image(&quot;3&quot;, &quot;bazinga.png&quot;));\n\n            operations.findAll(Image.class).forEach(image -&gt; System.out.println(image.toString()));\n        };\n    }\n\n}\n</code></pre>\n<p>When I run my application I get this error:</p>\n<blockquote>\n<p>2021-11-25 12:26:42.870 DEBUG 71010 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : Application failed to start due to an exception</p>\n<p>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.mongodb.core.MongoOperations' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1790) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\nat com.paulcarron.learningspringboot.learningspringboot.LearningSpringBootApplication.main(LearningSpringBootApplication.java:12) ~[classes/:na]</p>\n<p>2021-11-25 12:26:42.870 ERROR 71010 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of method init in com.paulcarron.learningspringboot.learningspringboot.InitDatabase required a bean of type 'org.springframework.data.mongodb.core.MongoOperations' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.data.mongodb.core.MongoOperations' in your configuration.</p>\n</blockquote>\n<p>This is my <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.6'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.paulcarron.learningspringboot'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb-reactive'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.synchronoss.cloud:nio-multipart-parser:1.1.0'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'javax.persistence:javax.persistence-api:2.2'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My understanding is that I don't need to activate the with <code>@EnableReactiveMongoRepositories</code> as this is done automatically if Reactive MongoDB or Spring DataMongoDB 2.0+ are on the classpath.</p>\n<p>Is there any obvious reason why this is not working?</p>\n"},{"tags":["java","multithreading","java-threads"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1637837819,"post_id":70109642,"comment_id":123934907,"body_markdown":"Use a concurrent queue and let each thread pick up a batch of numbers from the queue when they&#39;re done with the previous ones","body":"Use a concurrent queue and let each thread pick up a batch of numbers from the queue when they&#39;re done with the previous ones"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1637838367,"post_id":70109642,"comment_id":123935129,"body_markdown":"Why not directly use a thread pool, such as creating a thread pool containing 100 threads? Then all check tasks are submit to this thread pool, no need to be divided into 100 parts.","body":"Why not directly use a thread pool, such as creating a thread pool containing 100 threads? Then all check tasks are submit to this thread pool, no need to be divided into 100 parts."},{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1637838472,"post_id":70109642,"comment_id":123935179,"body_markdown":"in addition to @ErwinBolwidt  Using 100 threads might not be doing what you expect - you probably have no machine which handles this number efficiently. So you shoud consider a thread pool of a useful size.","body":"in addition to @ErwinBolwidt  Using 100 threads might not be doing what you expect - you probably have no machine which handles this number efficiently. So you shoud consider a thread pool of a useful size."},{"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"score":0,"creation_date":1637842307,"post_id":70109642,"comment_id":123936623,"body_markdown":"I think you can use Executors.newFixedThreadPool fabric method to generate ExecutorService. It takes a number of threads and allocates them upon creation. As long as number of tasks do not exceed number of threads they work concurrently. If at any point number of tasks exceeds number of threads in the pool, they will wait when any thread in pool is finished.","body":"I think you can use Executors.newFixedThreadPool fabric method to generate ExecutorService. It takes a number of threads and allocates them upon creation. As long as number of tasks do not exceed number of threads they work concurrently. If at any point number of tasks exceeds number of threads in the pool, they will wait when any thread in pool is finished."},{"owner":{"account_id":23450364,"reputation":1,"user_id":17506616,"display_name":"Manuel"},"score":0,"creation_date":1637842857,"post_id":70109642,"comment_id":123936863,"body_markdown":"Thank you @ErwinBolwidt and @zysaaa! I will try both of your suggestions!","body":"Thank you @ErwinBolwidt and @zysaaa! I will try both of your suggestions!"},{"owner":{"account_id":23450364,"reputation":1,"user_id":17506616,"display_name":"Manuel"},"score":0,"creation_date":1637842930,"post_id":70109642,"comment_id":123936892,"body_markdown":"@juwil Thank you for your hint! Actually most of the tasks consist of network requests, I tried quite a lot and on the specific machine I have to use with this specific internet connection, 100 threads seems to be about optimal","body":"@juwil Thank you for your hint! Actually most of the tasks consist of network requests, I tried quite a lot and on the specific machine I have to use with this specific internet connection, 100 threads seems to be about optimal"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1637845926,"post_id":70109642,"comment_id":123938085,"body_markdown":"It is best to try to use the thread pool first. The inside of the thread pool is a concurrent queue for storing tasks + a group of threads take tasks from the queue and execute them, and then get new tasks from the queue after execution. You don&#39;t need to implement these yourself.","body":"It is best to try to use the thread pool first. The inside of the thread pool is a concurrent queue for storing tasks + a group of threads take tasks from the queue and execute them, and then get new tasks from the queue after execution. You don&#39;t need to implement these yourself."}],"answers":[{"tags":[],"owner":{"account_id":23450364,"reputation":1,"user_id":17506616,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637858478,"creation_date":1637858478,"answer_id":70114629,"question_id":70109642,"body_markdown":"Thanks to your help in the comments I found the best solution to be ThreadPools. There is no need to split the range into smaller parts for the Threads and alltogether the performance seems to be amazing. This is what I did:\r\n\r\n    public static ExecutorService MyExecutor = Executors.newFixedThreadPool(50);\r\n\r\n    for (int j = Start; j &lt;= End; j++) {\r\n        MyExecutor.execute(new Runnable(){...});\r\n    }","title":"Java Multithreading: Spread complex workload","body":"<p>Thanks to your help in the comments I found the best solution to be ThreadPools. There is no need to split the range into smaller parts for the Threads and alltogether the performance seems to be amazing. This is what I did:</p>\n<pre><code>public static ExecutorService MyExecutor = Executors.newFixedThreadPool(50);\n\nfor (int j = Start; j &lt;= End; j++) {\n    MyExecutor.execute(new Runnable(){...});\n}\n</code></pre>\n"}],"owner":{"account_id":23450364,"reputation":1,"user_id":17506616,"display_name":"Manuel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114629,"answer_count":1,"score":0,"last_activity_date":1637858478,"creation_date":1637836796,"question_id":70109642,"body_markdown":"I have to create a statistics-application where performance is crutial. In simple words:\r\n\r\n - My application recieves a range of numbers (eg. 50.000 - 150.000) - the range can constantly change\r\n - For each number within the range the application should perform network requests and various checks\r\n - Some numbers need to be checked twice or even more often, some just one and some not at all\r\n\r\nSadly, I&#39;m quite new to programming and still learning - so this is what I&#39;m doing so far (please note, some parts are pseudo-code for simplicity):\r\n\r\n----------\r\n\r\n1: Split the range into 100 parts so every Thread has his own range to check (100 Threads used)\r\n    \r\n    ArrayList&lt;String&gt; FetchingRanges = new ArrayList&lt;&gt;();\r\n    int totalRangeToFetch = rangeStart - rangeEnd; //amount of numbers to check (100.000 in this example)\r\n    int rangePerThread = totalRangeToFetch / 100; //Range per thread (10.000 numbers per thread in this example)\r\n    int rangeCounter = rangeStart; //this defines the starting point for the loop\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        int FROM = rangeCounter;\r\n        rangeCounter+= rangePerThread;\r\n        int TO = rangeCounter;\r\n        rangeCounter++;\r\n\r\n        FetchingRanges.add(FROM + &quot;;&quot; + TO);\r\n    }\r\n\r\n2: This gives me an ArrayList &quot;FetchingRanges&quot; filled with partial ranges, eg. \r\n\r\n    FetchingRanges.get(0) -&gt; 50000;60000 //This is what the first thread has to check\r\n    FetchingRanges.get(1) -&gt; 60001;70000\r\n    //...\r\n    FetchingRanges.get(99) -&gt; 140001;150000 //This is what the last thread has to check\r\n\r\n3: Next, I&#39;m starting 100 Threads and each thread checks its numbers:\r\n\r\n    for (int i = 0; i &lt; 200; i++) {\r\n        new Thread() {\r\n            @Override\r\n            public void run() {\r\n                int Start = Integer.parseInt(FetchingRanges.get(i).split(&quot;;&quot;)[0]);\r\n                int End = Integer.parseInt(FetchingRanges.get(i).split(&quot;;&quot;)[0]);\r\n\r\n                for (i = Start; i &lt;= End; i++){\r\n                    //... Check Number, Do Network Request, Analyze and Report\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n----------\r\n\r\nThe problem with this solution is simple: I want all the threads to have equal load, but since some numbers are more difficult to check than others, some Threads are just idling and waiting for their next range (which might come in minutes) while on the other hand some Threads are still working and can&#39;t finish their work until the next range needs to be checked.\r\n\r\nThank you for your help in advance!","title":"Java Multithreading: Spread complex workload","body":"<p>I have to create a statistics-application where performance is crutial. In simple words:</p>\n<ul>\n<li>My application recieves a range of numbers (eg. 50.000 - 150.000) - the range can constantly change</li>\n<li>For each number within the range the application should perform network requests and various checks</li>\n<li>Some numbers need to be checked twice or even more often, some just one and some not at all</li>\n</ul>\n<p>Sadly, I'm quite new to programming and still learning - so this is what I'm doing so far (please note, some parts are pseudo-code for simplicity):</p>\n<hr />\n<p>1: Split the range into 100 parts so every Thread has his own range to check (100 Threads used)</p>\n<pre><code>ArrayList&lt;String&gt; FetchingRanges = new ArrayList&lt;&gt;();\nint totalRangeToFetch = rangeStart - rangeEnd; //amount of numbers to check (100.000 in this example)\nint rangePerThread = totalRangeToFetch / 100; //Range per thread (10.000 numbers per thread in this example)\nint rangeCounter = rangeStart; //this defines the starting point for the loop\n\nfor (int i = 0; i &lt; 100; i++) {\n    int FROM = rangeCounter;\n    rangeCounter+= rangePerThread;\n    int TO = rangeCounter;\n    rangeCounter++;\n\n    FetchingRanges.add(FROM + &quot;;&quot; + TO);\n}\n</code></pre>\n<p>2: This gives me an ArrayList &quot;FetchingRanges&quot; filled with partial ranges, eg.</p>\n<pre><code>FetchingRanges.get(0) -&gt; 50000;60000 //This is what the first thread has to check\nFetchingRanges.get(1) -&gt; 60001;70000\n//...\nFetchingRanges.get(99) -&gt; 140001;150000 //This is what the last thread has to check\n</code></pre>\n<p>3: Next, I'm starting 100 Threads and each thread checks its numbers:</p>\n<pre><code>for (int i = 0; i &lt; 200; i++) {\n    new Thread() {\n        @Override\n        public void run() {\n            int Start = Integer.parseInt(FetchingRanges.get(i).split(&quot;;&quot;)[0]);\n            int End = Integer.parseInt(FetchingRanges.get(i).split(&quot;;&quot;)[0]);\n\n            for (i = Start; i &lt;= End; i++){\n                //... Check Number, Do Network Request, Analyze and Report\n            }\n        }\n    }.start();\n}\n</code></pre>\n<hr />\n<p>The problem with this solution is simple: I want all the threads to have equal load, but since some numbers are more difficult to check than others, some Threads are just idling and waiting for their next range (which might come in minutes) while on the other hand some Threads are still working and can't finish their work until the next range needs to be checked.</p>\n<p>Thank you for your help in advance!</p>\n"},{"tags":["java","spring","maven","yaml"],"comments":[{"owner":{"account_id":5075177,"reputation":21,"user_id":4072758,"display_name":"Luis Gustavo Oliveira"},"score":0,"creation_date":1637857815,"post_id":70114468,"comment_id":123942953,"body_markdown":"there is a typo on my question, I meant `resources = resolver.getResources(&quot;classpath:/**/rest/*.yml&quot;);`","body":"there is a typo on my question, I meant <code>resources = resolver.getResources(&quot;classpath:&#47;**&#47;rest&#47;*.yml&quot;);</code>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1637858144,"post_id":70114468,"comment_id":123943088,"body_markdown":"You can edit your question via the _Edit_ link under its tags.","body":"You can edit your question via the <i>Edit</i> link under its tags."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1637858441,"post_id":70114468,"comment_id":123943217,"body_markdown":"What is the result of your approach? Maven dependencies are JARs, WARs, ... and the like which are in fact ZIPs. So, usually you have to extract files therein to be able to access them.","body":"What is the result of your approach? Maven dependencies are JARs, WARs, ... and the like which are in fact ZIPs. So, usually you have to extract files therein to be able to access them."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1637863748,"post_id":70114468,"comment_id":123945015,"body_markdown":"Approach (2) should work, as long as the path is correct.","body":"Approach (2) should work, as long as the path is correct."}],"owner":{"account_id":5075177,"reputation":21,"user_id":4072758,"display_name":"Luis Gustavo Oliveira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637858306,"creation_date":1637857730,"question_id":70114468,"body_markdown":"I have a scenario where I have one `api-rest.yml` file inside one of the Maven dependencies of my Spring project.  \r\nThis dependency doesn&#39;t have any class in it, only static `.md` and `.yml` files.  \r\nIs there a way I can read this `.yml` file?  \r\nI&#39;ve already tried the following approaches:\r\n1. ` final ResourceBundle rb = ResourceBundle.getBundle(&quot;api-rest.yml&quot;);`\r\n2. ```lang-java\r\n    final ClassLoader classLoader = this.getClass().getClassLoader();\r\n    final ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n        Resource[] resources = new Resource[0];\r\n        try {\r\n            resources = resolver.getResources(&quot;classpath:/**/rest/*.yml&quot;);\r\n        } catch (final IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n   ```\r\n","title":"Reading a YAML file from a Maven dependency","body":"<p>I have a scenario where I have one <code>api-rest.yml</code> file inside one of the Maven dependencies of my Spring project.<br />\nThis dependency doesn't have any class in it, only static <code>.md</code> and <code>.yml</code> files.<br />\nIs there a way I can read this <code>.yml</code> file?<br />\nI've already tried the following approaches:</p>\n<ol>\n<li><code> final ResourceBundle rb = ResourceBundle.getBundle(&quot;api-rest.yml&quot;);</code></li>\n<li>\n<pre class=\"lang-java prettyprint-override\"><code> final ClassLoader classLoader = this.getClass().getClassLoader();\n final ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n     Resource[] resources = new Resource[0];\n     try {\n         resources = resolver.getResources(&quot;classpath:/**/rest/*.yml&quot;);\n     } catch (final IOException e) {\n         e.printStackTrace();\n     }\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","swing","mouseevent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637716677,"post_id":70089561,"comment_id":123899555,"body_markdown":"Pass the information you need to the `CellPane` when you construct it","body":"Pass the information you need to the <code>CellPane</code> when you construct it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637717109,"creation_date":1637717109,"answer_id":70089749,"question_id":70089561,"body_markdown":"Well, that looks [familiar](https://stackoverflow.com/questions/15421708/how-to-draw-grid-using-swing-class-java-and-detect-mouse-position-when-click-and/15422801#15422801) &#129315;\r\n\r\nSo, the basic idea would be to pass in the cell it&#39;s coordinates (ie, row/column) value via the constructor, for example...\r\n\r\n    public class CellPane extends JPanel {\r\n\r\n        private Color defaultBackground;\r\n        \r\n        private Point cellCoordinate;\r\n\r\n        public CellPane(Point cellCoordinate) {\r\n            this.cellCoordinate = cellCoordinate;\r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseEntered(MouseEvent e) {\r\n                    defaultBackground = getBackground();\r\n                    setBackground(Color.RED);\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent e) {\r\n                    setBackground(defaultBackground);\r\n                }\r\n\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    //Here is where it is supposed to be\r\n                    System.out.println(&quot;Did click cell @ &quot; + getCellCoordinate().x + &quot;x&quot; + getCellCoordinate().y);\r\n                }\r\n            });\r\n        }\r\n\r\n        public Point getCellCoordinate() {\r\n            return cellCoordinate;\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(30, 30);\r\n        }\r\n    }\r\n\r\nThe cell itself doesn&#39;t really care, not does it have any reasonable information available to it to determine how it&#39;s been laid out, so your best bet is to &quot;tell&quot; it the information you want it to represent.\r\n\r\nFor me, I&#39;d just pass in the `GridBagLayout` row/col information, for example...\r\n\r\n    gbc.gridx = col;\r\n    gbc.gridy = row;\r\n    CellPane cellPane = new CellPane(new Point(col, row));\r\n\r\nThis way you remove all concept (and the issues associated with it) of how the cell is laid out","title":"Get click position in grid. Java Swing","body":"<p>Well, that looks <a href=\"https://stackoverflow.com/questions/15421708/how-to-draw-grid-using-swing-class-java-and-detect-mouse-position-when-click-and/15422801#15422801\">familiar</a> 🤣</p>\n<p>So, the basic idea would be to pass in the cell it's coordinates (ie, row/column) value via the constructor, for example...</p>\n<pre><code>public class CellPane extends JPanel {\n\n    private Color defaultBackground;\n    \n    private Point cellCoordinate;\n\n    public CellPane(Point cellCoordinate) {\n        this.cellCoordinate = cellCoordinate;\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                defaultBackground = getBackground();\n                setBackground(Color.RED);\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                setBackground(defaultBackground);\n            }\n\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                //Here is where it is supposed to be\n                System.out.println(&quot;Did click cell @ &quot; + getCellCoordinate().x + &quot;x&quot; + getCellCoordinate().y);\n            }\n        });\n    }\n\n    public Point getCellCoordinate() {\n        return cellCoordinate;\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(30, 30);\n    }\n}\n</code></pre>\n<p>The cell itself doesn't really care, not does it have any reasonable information available to it to determine how it's been laid out, so your best bet is to &quot;tell&quot; it the information you want it to represent.</p>\n<p>For me, I'd just pass in the <code>GridBagLayout</code> row/col information, for example...</p>\n<pre><code>gbc.gridx = col;\ngbc.gridy = row;\nCellPane cellPane = new CellPane(new Point(col, row));\n</code></pre>\n<p>This way you remove all concept (and the issues associated with it) of how the cell is laid out</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637730449,"creation_date":1637729447,"answer_id":70090878,"question_id":70089561,"body_markdown":"This approach (using buttons and action listeners) is better IMO. It uses the `getButtonRowCol` method to return a string indicating the button&#39;s location in an array (the `buttonArray`). \r\n\r\n[![enter image description here][1]][1]\r\n\r\nUse `b.setBorderPainted(false);` (uncomment that code line) to get rid of the borders around each button. Look to the values passed to the constructor of the `GridLayout` to remove the space between buttons.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.EmptyBorder;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class GameGridLayout {\r\n    \r\n        int size = 40;\r\n        int iconSize = 10;\r\n        JButton[][] buttonArray = new JButton[size][size];\r\n        ActionListener actionListener;\r\n        JLabel output = new JLabel(&quot;Click somewhere on the GUI&quot;);\r\n    \r\n        GameGridLayout() {\r\n            JPanel gui = new JPanel(new BorderLayout(2,2));\r\n            gui.setBorder(new EmptyBorder(4,4,4,4));\r\n            gui.add(output,BorderLayout.PAGE_END);\r\n            JPanel gameContainer = new JPanel(new GridLayout(0,size,2,2));\r\n            gui.add(gameContainer);\r\n            actionListener = e -&gt; output.setText(getButtonRowCol((JButton)e.getSource()));\r\n            for (int ii=0; ii&lt;size*size; ii++) {\r\n                JButton b = getButton();\r\n                gameContainer.add(b);\r\n                buttonArray[ii%size][ii/size] = b;\r\n            }\r\n            JFrame f = new JFrame(&quot;GameGridLayout&quot;);\r\n            f.add(gui);\r\n            f.pack();\r\n            f.setMinimumSize(f.getSize());\r\n            f.setLocationByPlatform(true);\r\n            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        private String getButtonRowCol(JButton button) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int xx=0; xx&lt;size; xx++) {\r\n                for (int yy=0; yy&lt;size; yy++) {\r\n                    if (button.equals(buttonArray[xx][yy])) {\r\n                        sb.append(&quot;User selected button at: &quot;);\r\n                        sb.append(xx+1);\r\n                        sb.append(&quot;,&quot;);\r\n                        sb.append(yy+1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private JButton getButton() {\r\n            JButton b = new JButton();\r\n            b.setIcon(new ImageIcon(\r\n                    new BufferedImage(iconSize,iconSize,BufferedImage.TYPE_INT_ARGB)));\r\n            b.setRolloverIcon(new ImageIcon(\r\n                    new BufferedImage(iconSize,iconSize,BufferedImage.TYPE_INT_RGB)));\r\n            b.setMargin(new Insets(0,0,0,0));\r\n            //b.setBorderPainted(false);\r\n            b.setContentAreaFilled(false);\r\n            b.addActionListener(actionListener);\r\n            return b;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Runnable r = () -&gt; new GameGridLayout();\r\n            SwingUtilities.invokeLater(r);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZcLh.png\r\n  [2]: https://i.stack.imgur.com/IZfF8.png","title":"Get click position in grid. Java Swing","body":"<p>This approach (using buttons and action listeners) is better IMO. It uses the <code>getButtonRowCol</code> method to return a string indicating the button's location in an array (the <code>buttonArray</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/TZcLh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZcLh.png\" alt=\"enter image description here\" /></a></p>\n<p>Use <code>b.setBorderPainted(false);</code> (uncomment that code line) to get rid of the borders around each button. Look to the values passed to the constructor of the <code>GridLayout</code> to remove the space between buttons.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class GameGridLayout {\n\n    int size = 40;\n    int iconSize = 10;\n    JButton[][] buttonArray = new JButton[size][size];\n    ActionListener actionListener;\n    JLabel output = new JLabel(&quot;Click somewhere on the GUI&quot;);\n\n    GameGridLayout() {\n        JPanel gui = new JPanel(new BorderLayout(2,2));\n        gui.setBorder(new EmptyBorder(4,4,4,4));\n        gui.add(output,BorderLayout.PAGE_END);\n        JPanel gameContainer = new JPanel(new GridLayout(0,size,2,2));\n        gui.add(gameContainer);\n        actionListener = e -&gt; output.setText(getButtonRowCol((JButton)e.getSource()));\n        for (int ii=0; ii&lt;size*size; ii++) {\n            JButton b = getButton();\n            gameContainer.add(b);\n            buttonArray[ii%size][ii/size] = b;\n        }\n        JFrame f = new JFrame(&quot;GameGridLayout&quot;);\n        f.add(gui);\n        f.pack();\n        f.setMinimumSize(f.getSize());\n        f.setLocationByPlatform(true);\n        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        f.setVisible(true);\n    }\n\n    private String getButtonRowCol(JButton button) {\n        StringBuilder sb = new StringBuilder();\n        for (int xx=0; xx&lt;size; xx++) {\n            for (int yy=0; yy&lt;size; yy++) {\n                if (button.equals(buttonArray[xx][yy])) {\n                    sb.append(&quot;User selected button at: &quot;);\n                    sb.append(xx+1);\n                    sb.append(&quot;,&quot;);\n                    sb.append(yy+1);\n                    break;\n                }\n            }\n        }\n        return sb.toString();\n    }\n\n    private JButton getButton() {\n        JButton b = new JButton();\n        b.setIcon(new ImageIcon(\n                new BufferedImage(iconSize,iconSize,BufferedImage.TYPE_INT_ARGB)));\n        b.setRolloverIcon(new ImageIcon(\n                new BufferedImage(iconSize,iconSize,BufferedImage.TYPE_INT_RGB)));\n        b.setMargin(new Insets(0,0,0,0));\n        //b.setBorderPainted(false);\n        b.setContentAreaFilled(false);\n        b.addActionListener(actionListener);\n        return b;\n    }\n\n    public static void main(String[] args) {\n        Runnable r = () -&gt; new GameGridLayout();\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23434913,"reputation":1,"user_id":17493149,"display_name":"Sebasti&#225;n Berm&#250;dez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637858269,"creation_date":1637714985,"question_id":70089561,"body_markdown":"I got this code witch creates a clickable grid that shows the mouse position, altough i am not able to get the position in the grid in where the mouse is clicked, trying to be both X and Y position. Any ideas? This is how the grid looks:\r\n\r\n\r\n![This how the grid looks][1]\r\n\r\n  [1]: https://i.stack.imgur.com/xGbmA.png\r\n\r\nCode:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.MatteBorder;\r\n\r\npublic class TestGrid02 {\r\n\r\n\r\n    public TestGrid02() {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                }\r\n\r\n                JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.setLayout(new BorderLayout());\r\n                frame.add(new TestPane());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    public class TestPane extends JPanel {\r\n        private static final int ROWS = 20;\r\n        private static final int COLUMNS = 20;\r\n        private static GridBagConstraints gbc;\r\n\r\n        public TestPane() {\r\n            setLayout(new GridBagLayout());\r\n\r\n            gbc = new GridBagConstraints();\r\n            for (int row = 0; row &lt; ROWS; row++) {\r\n                for (int col = 0; col &lt; COLUMNS; col++) {\r\n                    gbc.gridx = col;\r\n                    gbc.gridy = row;\r\n                    CellPane cellPane = new CellPane();\r\n                    Border border = null;\r\n                    if (row &lt; ROWS-1) {\r\n                        if (col &lt; COLUMNS-1) {\r\n                            border = new MatteBorder(1, 1, 0, 0, Color.GRAY);\r\n                        } else {\r\n                            border = new MatteBorder(1, 1, 0, 1, Color.GRAY);\r\n                        }\r\n                    } else {\r\n                        border = new MatteBorder(1, 1, 1, 0, Color.GRAY);\r\n                    }\r\n                    cellPane.setBorder(border);\r\n                    add(cellPane, gbc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public class CellPane extends JPanel {\r\n\r\n        private Color defaultBackground;\r\n\r\n        public CellPane() {\r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseEntered(MouseEvent e) {\r\n                    defaultBackground = getBackground();\r\n                    setBackground(Color.RED);\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent e) {\r\n                    setBackground(defaultBackground);\r\n                }\r\n                @Override\r\n                public void mouseClicked(MouseEvent e){\r\n                    //Here is where it is supposed to be\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(30, 30);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn the CellPane class, witch is intended to be the one that listens to the mouse it is supposed to be the function that i need, at the mouseClicked listener, however i have tried with e.getX() or e.getLocationOnScreen() and these values were changing everytime i click in the same grid.","title":"Get click position in grid. Java Swing","body":"<p>I got this code witch creates a clickable grid that shows the mouse position, altough i am not able to get the position in the grid in where the mouse is clicked, trying to be both X and Y position. Any ideas? This is how the grid looks:</p>\n<p><img src=\"https://i.stack.imgur.com/xGbmA.png\" alt=\"This how the grid looks\" /></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.Border;\nimport javax.swing.border.MatteBorder;\n\npublic class TestGrid02 {\n\n\n    public TestGrid02() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        private static final int ROWS = 20;\n        private static final int COLUMNS = 20;\n        private static GridBagConstraints gbc;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            gbc = new GridBagConstraints();\n            for (int row = 0; row &lt; ROWS; row++) {\n                for (int col = 0; col &lt; COLUMNS; col++) {\n                    gbc.gridx = col;\n                    gbc.gridy = row;\n                    CellPane cellPane = new CellPane();\n                    Border border = null;\n                    if (row &lt; ROWS-1) {\n                        if (col &lt; COLUMNS-1) {\n                            border = new MatteBorder(1, 1, 0, 0, Color.GRAY);\n                        } else {\n                            border = new MatteBorder(1, 1, 0, 1, Color.GRAY);\n                        }\n                    } else {\n                        border = new MatteBorder(1, 1, 1, 0, Color.GRAY);\n                    }\n                    cellPane.setBorder(border);\n                    add(cellPane, gbc);\n                }\n            }\n        }\n    }\n\n    public class CellPane extends JPanel {\n\n        private Color defaultBackground;\n\n        public CellPane() {\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseEntered(MouseEvent e) {\n                    defaultBackground = getBackground();\n                    setBackground(Color.RED);\n                }\n\n                @Override\n                public void mouseExited(MouseEvent e) {\n                    setBackground(defaultBackground);\n                }\n                @Override\n                public void mouseClicked(MouseEvent e){\n                    //Here is where it is supposed to be\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(30, 30);\n        }\n    }\n}\n</code></pre>\n<p>In the CellPane class, witch is intended to be the one that listens to the mouse it is supposed to be the function that i need, at the mouseClicked listener, however i have tried with e.getX() or e.getLocationOnScreen() and these values were changing everytime i click in the same grid.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1637858343,"post_id":70114328,"comment_id":123943170,"body_markdown":"Note that as a type parameter, `? extends Object` means the same thing as just `?`.","body":"Note that as a type parameter, <code>? extends Object</code> means the same thing as just <code>?</code>."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1637858349,"post_id":70114328,"comment_id":123943172,"body_markdown":"Syntactically, your problem is that input is an Object, but myMethod expects it to by of type MyClass. So just change that parameter to Object (or implement Function&lt;MyClass,...&gt; instead of Function&lt;Object,...&gt;). However, semantically this construction seems a bit off...","body":"Syntactically, your problem is that input is an Object, but myMethod expects it to by of type MyClass. So just change that parameter to Object (or implement Function&lt;MyClass,...&gt; instead of Function&lt;Object,...&gt;). However, semantically this construction seems a bit off..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1637858499,"post_id":70114328,"comment_id":123943239,"body_markdown":"`myMethod` is declared as `public static MyList&lt;String&gt; myMethod(MyClass myClass)` so it expects as argument instance of `MyClass`. Later you use `input -&gt; myMethod(input)` as argument for `MyFunction(Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method)` constructor. Notice that this constructor takes function from `Object -&gt; MyList&lt;? extends Object&gt;&gt;` so lambda parameter will represent `Object` type. This means your lambda `input -&gt; myMethod(input)` is same as `(Object input) -&gt; myMethod(input)` but as said before `myMethod` is expecting instance of `MyClass`. Do you see the problem?","body":"<code>myMethod</code> is declared as <code>public static MyList&lt;String&gt; myMethod(MyClass myClass)</code> so it expects as argument instance of <code>MyClass</code>. Later you use <code>input -&gt; myMethod(input)</code> as argument for <code>MyFunction(Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method)</code> constructor. Notice that this constructor takes function from <code>Object -&gt; MyList&lt;? extends Object&gt;&gt;</code> so lambda parameter will represent <code>Object</code> type. This means your lambda <code>input -&gt; myMethod(input)</code> is same as <code>(Object input) -&gt; myMethod(input)</code> but as said before <code>myMethod</code> is expecting instance of <code>MyClass</code>. Do you see the problem?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1637859001,"post_id":70114328,"comment_id":123943444,"body_markdown":"Notice that if you have some variable of supertype like `Person person` you could assign to it instances to some of its subtypes like `person = new TallPerson();` or `person  = new OldPerson();`. Now imagine that we have a method like `addToNBATeam(TallPerson tallPlayer)`. Should following code compile `Person somePerson = getTallOrOldPerson(); addToNBATeam(somePerson);`? No because Java can&#39;t guarantee that `person` will hold `TallPerson` which is expected by `addToNBATeam` method. Same problem is with `myMethod(input)` where type of `input` is `Object`.","body":"Notice that if you have some variable of supertype like <code>Person person</code> you could assign to it instances to some of its subtypes like <code>person = new TallPerson();</code> or <code>person  = new OldPerson();</code>. Now imagine that we have a method like <code>addToNBATeam(TallPerson tallPlayer)</code>. Should following code compile <code>Person somePerson = getTallOrOldPerson(); addToNBATeam(somePerson);</code>? No because Java can&#39;t guarantee that <code>person</code> will hold <code>TallPerson</code> which is expected by <code>addToNBATeam</code> method. Same problem is with <code>myMethod(input)</code> where type of <code>input</code> is <code>Object</code>."}],"owner":{"account_id":3375667,"reputation":41,"user_id":2833833,"display_name":"pacman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637858159,"creation_date":1637857093,"question_id":70114328,"body_markdown":"(Java newbie here)\r\nI try to implement chain of functions in Java where the input/return types are unknown. They will work so that the output of `F(n)` will feed `F(n+1)` and so on. First I need to implement `MyFunction&lt;?, ?&gt;` class but here starts the problem. \r\n\r\n### What I tried (simplified)\r\n```java\r\npublic class MyFunction implements Function&lt;Object, MyList&lt;? extends Object&gt;&gt; {\r\n\r\n    private final Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method;\r\n\r\n    public MyFunction(Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method) {\r\n        this.method = method;\r\n    }\r\n\r\n    public MyList&lt;? extends Object&gt; apply(Object input) {\r\n        return method.apply(input);\r\n    }\r\n\r\n    public static MyList&lt;String&gt; myMethod(MyClass myClass) {\r\n        return new MyList&lt;String&gt;();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyFunction myFunction = new MyFunction(input -&gt; myMethod(input));\r\n        //                                              ^^^^^^^^\r\n        //                                                  |\r\n        //    +---------------------------------------------+\r\n        //    |\r\n        //    v\r\n        //    The method myMethod(MyClass) in the type MyFunction is not  \r\n        // applicable for the arguments (Object)\r\n    }\r\n}\r\n```\r\n\r\nAs far as I know, everything is an Object in java. But here the error says different.\r\n&gt;The method myMethod(MyClass) in the type MyFunction is not applicable for the arguments (Object)\r\n\r\n### Then I tried (ignoring type-safety)\r\n```\r\npublic class MyFunction implements Function {\r\n\r\n    private final Function method;\r\n\r\n    public MyFunction(Function method) {\r\n        this.method = method;\r\n    }\r\n\r\n    public Object apply(Object input) {\r\n        return method.apply(input);\r\n    }\r\n\r\n    public static MyList&lt;String&gt; myMethod(MyClass myClass) {\r\n        return new MyList&lt;String&gt;();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyFunction myFunction = new MyFunction(input -&gt; myMethod(input));\r\n    }\r\n}\r\n```\r\nAnd the error is still the same since `apply` expects object. Because\r\n&gt;The type MyFunction must implement the inherited abstract method Function.apply(Object)\r\n\r\n### Also tried\r\n```java\r\npublic class MyFunction implements Function&lt;? super Object, MyList&lt;? extends Object&gt;&gt;\r\n```\r\nThis time the error is:\r\n&gt;A supertype may not specify any wildcard\r\n\r\nEven when it works, I don&#39;t know how to use it in the way below.\r\n```java\r\npublic Object apply(? super Object input)\r\n```\r\n\r\n### My questions\r\nWhat might be the problem? How can I pass my `Function&lt;X, Y&gt;` into it?\r\n","title":"How to use Function&lt;X, Y&gt; as Function&lt;Object, Object&gt; in Java?","body":"<p>(Java newbie here)\nI try to implement chain of functions in Java where the input/return types are unknown. They will work so that the output of <code>F(n)</code> will feed <code>F(n+1)</code> and so on. First I need to implement <code>MyFunction&lt;?, ?&gt;</code> class but here starts the problem.</p>\n<h3>What I tried (simplified)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFunction implements Function&lt;Object, MyList&lt;? extends Object&gt;&gt; {\n\n    private final Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method;\n\n    public MyFunction(Function&lt;Object, MyList&lt;? extends Object&gt;&gt; method) {\n        this.method = method;\n    }\n\n    public MyList&lt;? extends Object&gt; apply(Object input) {\n        return method.apply(input);\n    }\n\n    public static MyList&lt;String&gt; myMethod(MyClass myClass) {\n        return new MyList&lt;String&gt;();\n    }\n\n    public static void main(String[] args) {\n        MyFunction myFunction = new MyFunction(input -&gt; myMethod(input));\n        //                                              ^^^^^^^^\n        //                                                  |\n        //    +---------------------------------------------+\n        //    |\n        //    v\n        //    The method myMethod(MyClass) in the type MyFunction is not  \n        // applicable for the arguments (Object)\n    }\n}\n</code></pre>\n<p>As far as I know, everything is an Object in java. But here the error says different.</p>\n<blockquote>\n<p>The method myMethod(MyClass) in the type MyFunction is not applicable for the arguments (Object)</p>\n</blockquote>\n<h3>Then I tried (ignoring type-safety)</h3>\n<pre><code>public class MyFunction implements Function {\n\n    private final Function method;\n\n    public MyFunction(Function method) {\n        this.method = method;\n    }\n\n    public Object apply(Object input) {\n        return method.apply(input);\n    }\n\n    public static MyList&lt;String&gt; myMethod(MyClass myClass) {\n        return new MyList&lt;String&gt;();\n    }\n\n    public static void main(String[] args) {\n        MyFunction myFunction = new MyFunction(input -&gt; myMethod(input));\n    }\n}\n</code></pre>\n<p>And the error is still the same since <code>apply</code> expects object. Because</p>\n<blockquote>\n<p>The type MyFunction must implement the inherited abstract method Function.apply(Object)</p>\n</blockquote>\n<h3>Also tried</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFunction implements Function&lt;? super Object, MyList&lt;? extends Object&gt;&gt;\n</code></pre>\n<p>This time the error is:</p>\n<blockquote>\n<p>A supertype may not specify any wildcard</p>\n</blockquote>\n<p>Even when it works, I don't know how to use it in the way below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object apply(? super Object input)\n</code></pre>\n<h3>My questions</h3>\n<p>What might be the problem? How can I pass my <code>Function&lt;X, Y&gt;</code> into it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384902001,"creation_date":1384902001,"answer_id":20083975,"question_id":20083936,"body_markdown":"[`BufferedReader`&#39;s `readLine()` method][1] only returns `null` when the end of the stream has been reached.  To not count empty lines, test if the line exists and if it&#39;s empty then don&#39;t count it.\n\nQuoting the linked Javadocs above:\n\n&gt;Returns:\n&gt;\n&gt;A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached\n\n[1]: http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine()","title":"Count number of lines in text skipping the empty ones","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\"><code>BufferedReader</code>'s <code>readLine()</code> method</a> only returns <code>null</code> when the end of the stream has been reached.  To not count empty lines, test if the line exists and if it's empty then don't count it.</p>\n<p>Quoting the linked Javadocs above:</p>\n<blockquote>\n<p>Returns:</p>\n<p>A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1384902003,"creation_date":1384902003,"answer_id":20083976,"question_id":20083936,"body_markdown":"    BufferedReader reader = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n    int lines = 0;\r\n    String line;\r\n    while ((line = reader.readLine()) != null){\r\n        if(!&quot;&quot;.equals(line.trim())){\r\n            lines++;\r\n        }\r\n    }","title":"Count number of lines in text skipping the empty ones","body":"<pre><code>BufferedReader reader = new BufferedReader(new FileReader(\"input.txt\"));\nint lines = 0;\nString line;\nwhile ((line = reader.readLine()) != null){\n    if(!\"\".equals(line.trim())){\n        lines++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384902308,"creation_date":1384902008,"answer_id":20083979,"question_id":20083936,"body_markdown":"You just need to remember the line you&#39;re looking at, and check it before counting:\r\n\r\n    int lines = 0;\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        if (!line.isEmpty()) {\r\n            lines++;\r\n        }\r\n    }\r\n\r\nNote that you should be closing your reader too - either in an explicit `finally` statement, or using a try-with-resources statement in Java 7. I&#39;d advise not using `FileReader`, too - it always uses the platform default encoding, which isn&#39;t a good idea, IMO. Use `FileInputStream` with an `InputStreamReader`, and state the encoding explicitly.\r\n\r\nYou might also want to skip lines which consist entirely of whitespace, but that&#39;s an easy change to make to the `if (!line.isEmpty())` condition. For example, you could use:\r\n\r\n    if (!line.trim().isEmpty())\r\n\r\ninstead... although it would be cleaner to find a helper method which just *detected* whether a string only consisted of whitespace rather than constructing a new string. A regex could do this, for example.","title":"Count number of lines in text skipping the empty ones","body":"<p>You just need to remember the line you're looking at, and check it before counting:</p>\n\n<pre><code>int lines = 0;\nString line;\nwhile ((line = reader.readLine()) != null) {\n    if (!line.isEmpty()) {\n        lines++;\n    }\n}\n</code></pre>\n\n<p>Note that you should be closing your reader too - either in an explicit <code>finally</code> statement, or using a try-with-resources statement in Java 7. I'd advise not using <code>FileReader</code>, too - it always uses the platform default encoding, which isn't a good idea, IMO. Use <code>FileInputStream</code> with an <code>InputStreamReader</code>, and state the encoding explicitly.</p>\n\n<p>You might also want to skip lines which consist entirely of whitespace, but that's an easy change to make to the <code>if (!line.isEmpty())</code> condition. For example, you could use:</p>\n\n<pre><code>if (!line.trim().isEmpty())\n</code></pre>\n\n<p>instead... although it would be cleaner to find a helper method which just <em>detected</em> whether a string only consisted of whitespace rather than constructing a new string. A regex could do this, for example.</p>\n"},{"tags":[],"owner":{"account_id":16811136,"reputation":41,"user_id":12154132,"display_name":"Marcos Gomes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637858085,"creation_date":1637858085,"answer_id":70114548,"question_id":20083936,"body_markdown":"Clean and fast.\r\n\r\n    try (BufferedReader reader = new BufferedReader(&quot;Your inputStream or FileReader&quot;)) {\r\n                nbLignes = (int) reader.lines().filter(line -&gt; !line.isEmpty()).count();\r\n            }","title":"Count number of lines in text skipping the empty ones","body":"<p>Clean and fast.</p>\n<pre><code>try (BufferedReader reader = new BufferedReader(&quot;Your inputStream or FileReader&quot;)) {\n            nbLignes = (int) reader.lines().filter(line -&gt; !line.isEmpty()).count();\n        }\n</code></pre>\n"}],"owner":{"account_id":2071556,"reputation":51,"user_id":1845928,"accept_rate":20,"display_name":"user1845928"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3227,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20083976,"answer_count":4,"score":3,"last_activity_date":1637858085,"creation_date":1384901827,"question_id":20083936,"body_markdown":"I need help with this. Can you tell me how to calculate the number of lines in the input.txt without counting the empty space lines? \r\n\r\nSo far, I tried:\r\n\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;input.txt&quot;));\r\n\t\tint lines = 0;\r\n\t\twhile (reader.readLine() != null)\r\n        lines++;\r\n\r\nSo, this code is able to count the number of lines, but with the empty lines! I know that there are characters /n which illustrates the new line but I do not know how to integrate it in the solution. \r\n\r\nI also tried to calculate number of lines, number of empty lines and subtract them, but I wasn&#39;t successful. \r\n\r\n\r\n\r\n","title":"Count number of lines in text skipping the empty ones","body":"<p>I need help with this. Can you tell me how to calculate the number of lines in the input.txt without counting the empty space lines? </p>\n\n<p>So far, I tried:</p>\n\n<pre><code>    BufferedReader reader = new BufferedReader(new FileReader(\"input.txt\"));\n    int lines = 0;\n    while (reader.readLine() != null)\n    lines++;\n</code></pre>\n\n<p>So, this code is able to count the number of lines, but with the empty lines! I know that there are characters /n which illustrates the new line but I do not know how to integrate it in the solution. </p>\n\n<p>I also tried to calculate number of lines, number of empty lines and subtract them, but I wasn't successful. </p>\n"},{"tags":["java","security","debugging","testing","certificate"],"answers":[{"tags":[],"owner":{"account_id":16542085,"reputation":23,"user_id":11952618,"display_name":"sbeven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637857899,"creation_date":1637857899,"answer_id":70114517,"question_id":69990601,"body_markdown":"After quite a few days of researching and delving deep into OpenJDK 11, I realized that my test case that was expecting the &quot;Empty server certificate chain&quot; was incorrect.\r\n\r\nIn Java 11, the TLS or SSL protocol supports TLSv1.2 and TLSv1.3. The test case was deciding what the expected message was based essentially on this pseudocode:\r\n\r\n    if(protocolUsed == &quot;TLSv1.3&quot;) \r\n        expectedMessage = &quot;Empty client certificate chain&quot;;\r\n    else\r\n        expectedMessage = &quot;Empty server certificate chain&quot;;\r\n\r\nHowever in Java 8 (which is where this test originated from), SSL and TLS only support up to TLSv1.2. This means that the actual handshake was being done in TLSv1.3, but the protocol being used in that if block was still showing up as SSL or TLS. So TLSv1.3 work was being done, but the if block was never properly updated to account for it. I verified all of this through debug output.\r\n\r\n","title":"Java 11: Getting an &quot;Empty [client] certificate chain&quot; instead of an &quot;Empty [server] certificate chain&quot;","body":"<p>After quite a few days of researching and delving deep into OpenJDK 11, I realized that my test case that was expecting the &quot;Empty server certificate chain&quot; was incorrect.</p>\n<p>In Java 11, the TLS or SSL protocol supports TLSv1.2 and TLSv1.3. The test case was deciding what the expected message was based essentially on this pseudocode:</p>\n<pre><code>if(protocolUsed == &quot;TLSv1.3&quot;) \n    expectedMessage = &quot;Empty client certificate chain&quot;;\nelse\n    expectedMessage = &quot;Empty server certificate chain&quot;;\n</code></pre>\n<p>However in Java 8 (which is where this test originated from), SSL and TLS only support up to TLSv1.2. This means that the actual handshake was being done in TLSv1.3, but the protocol being used in that if block was still showing up as SSL or TLS. So TLSv1.3 work was being done, but the if block was never properly updated to account for it. I verified all of this through debug output.</p>\n"}],"owner":{"account_id":16542085,"reputation":23,"user_id":11952618,"display_name":"sbeven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114517,"answer_count":1,"score":0,"last_activity_date":1637857899,"creation_date":1637071624,"question_id":69990601,"body_markdown":"I am trying to debug some Java 11 test code which uses an SSLServerSocket for the server and an SSLSocket for the reply. The basic code works as follows:\r\n\r\n    server.setNeedClientAuth(false);\r\n    need_Client_Auth = server.getNeedClientAuth();\r\n    assertFalse(&quot;Unexpected need client authority returned&quot;, need_Client_Auth);\r\n\r\n    server.setNeedClientAuth(true);\r\n    need_Client_Auth = server.getNeedClientAuth();\r\n    assertTrue(&quot;Unexpected need client authority returned&quot;, need_Client_Auth);\r\n\r\n    SSLClient sClient = new SSLClient(client, addr, SSLClient.START_HANDSHAKE);\r\n    sClient.start();\r\n\r\n    SSLSocket reply = (SSLSocket) (server.accept());\r\n    \r\n    reply.startHandshake();       //this throws an SSLException\r\n\r\nThe idea here is to just play around with the needClientAuth/wantClientAuth and test the output of startHandshake without getting proper client authentication.\r\n\r\nThe test expects the SSLException to throw a message of &quot;Empty [server] certificate chain&quot; but instead it is &quot;Empty [client] certificate chain&quot;. This test is coming from a fully working Java 8 build, and as far as I can tell the certificates being created are correct and identical to their Java 8 counterparts.\r\n\r\nI&#39;m just unsure on where to even start debugging and what could be causing this very small change in expected output. Any help is appreciated!","title":"Java 11: Getting an &quot;Empty [client] certificate chain&quot; instead of an &quot;Empty [server] certificate chain&quot;","body":"<p>I am trying to debug some Java 11 test code which uses an SSLServerSocket for the server and an SSLSocket for the reply. The basic code works as follows:</p>\n<pre><code>server.setNeedClientAuth(false);\nneed_Client_Auth = server.getNeedClientAuth();\nassertFalse(&quot;Unexpected need client authority returned&quot;, need_Client_Auth);\n\nserver.setNeedClientAuth(true);\nneed_Client_Auth = server.getNeedClientAuth();\nassertTrue(&quot;Unexpected need client authority returned&quot;, need_Client_Auth);\n\nSSLClient sClient = new SSLClient(client, addr, SSLClient.START_HANDSHAKE);\nsClient.start();\n\nSSLSocket reply = (SSLSocket) (server.accept());\n\nreply.startHandshake();       //this throws an SSLException\n</code></pre>\n<p>The idea here is to just play around with the needClientAuth/wantClientAuth and test the output of startHandshake without getting proper client authentication.</p>\n<p>The test expects the SSLException to throw a message of &quot;Empty [server] certificate chain&quot; but instead it is &quot;Empty [client] certificate chain&quot;. This test is coming from a fully working Java 8 build, and as far as I can tell the certificates being created are correct and identical to their Java 8 counterparts.</p>\n<p>I'm just unsure on where to even start debugging and what could be causing this very small change in expected output. Any help is appreciated!</p>\n"},{"tags":["java","security","xss","owasp","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637857617,"creation_date":1637857617,"answer_id":70114440,"question_id":70093102,"body_markdown":"I will address your individual questions in a moment, but first I want to suggest that you thoroughly read the [OWASP Cross-Site Scripting Prevention Cheat Sheet][1]. That will cover all the basics that you need to know, including discussions about defense-in-depth approaches. Now on to your specific questions.\r\n\r\n 1. **Is OWASP Java Encoder project sufficient to prevent reflected XSS?** *Answer:* If used correctly (that is you use the correct contextual encoder), for Java/JSPs, either the OWASP Java Encoder project or the ESAPI Encoder should be sufficient to prevent XSS in all but a few edge cases. Those edge cases are would including DOM-based XSS (so, technically, not &#39;reflected&#39;, I know) or cases where you have requirements that some HTML mark-up be allowed. (E.g., maybe in collecting user comments.) In those cases, you will want to also leverage HTML sanitizers such as the OWASP AntiSamy project or the OWASP Java HTML Sanitizer project.\r\n2. **Do I need to do input validation on the .jsp file?** *Answer:* It is not absolutely necessary (assuming you use the output encoding correctly), but it wouldn&#39;t hurt. It is considered a part of the defense-in-depth strategy, especially in those tricky areas where mixed-encoding contexts are involved, such as rendering a URL in JavaScript. Along with input validation, Content-Security-Policy headers should are also strongly recommended, although CSPs are much easier to use in a green-field approach than in legacy applications.\r\n3. **If 2. is a yes, would creating my own input validation functions or using the ESAPI Validator class be better?** *Answer:* In most cases you can probably do your own allow-list validation based on some simple regular expression matching. (Do not write the validation as block-lists though.) ESAPI Validation is probably more than you need and even as the ESAPI project co-lead, I personally wouldn&#39;t recommend it unless you are planning to use ESAPI for some other purpose (because it drags in a lot of transitive dependencies).\r\n4. **If I have to use ESAPI, it means that I need to add ESAPI.properties and validation.properties. Given my project is an Ant project, where do I add these files?** *Answer:* You don&#39;&#39;t *have* to use ESAPI, but if you do, where the `ESAPI.properties` and `Validation.properties` files go is not relevant to whether you use Ant or Maven or Gradle, etc. Look at class Javadoc for the ESAPI class [org.owasp.esapi.reference.DefaultSecurityConfiguration][2] for details of how the `ESAPI.properties` and `Validation.properties` files are located.\r\n\r\nHope that helps answer your questions.\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html\r\n  [2]: https://javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/reference/DefaultSecurityConfiguration.html","title":"Is OWASP Java Encoder Project enough to prevent reflected XSS?","body":"<p>I will address your individual questions in a moment, but first I want to suggest that you thoroughly read the <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">OWASP Cross-Site Scripting Prevention Cheat Sheet</a>. That will cover all the basics that you need to know, including discussions about defense-in-depth approaches. Now on to your specific questions.</p>\n<ol>\n<li><strong>Is OWASP Java Encoder project sufficient to prevent reflected XSS?</strong> <em>Answer:</em> If used correctly (that is you use the correct contextual encoder), for Java/JSPs, either the OWASP Java Encoder project or the ESAPI Encoder should be sufficient to prevent XSS in all but a few edge cases. Those edge cases are would including DOM-based XSS (so, technically, not 'reflected', I know) or cases where you have requirements that some HTML mark-up be allowed. (E.g., maybe in collecting user comments.) In those cases, you will want to also leverage HTML sanitizers such as the OWASP AntiSamy project or the OWASP Java HTML Sanitizer project.</li>\n<li><strong>Do I need to do input validation on the .jsp file?</strong> <em>Answer:</em> It is not absolutely necessary (assuming you use the output encoding correctly), but it wouldn't hurt. It is considered a part of the defense-in-depth strategy, especially in those tricky areas where mixed-encoding contexts are involved, such as rendering a URL in JavaScript. Along with input validation, Content-Security-Policy headers should are also strongly recommended, although CSPs are much easier to use in a green-field approach than in legacy applications.</li>\n<li><strong>If 2. is a yes, would creating my own input validation functions or using the ESAPI Validator class be better?</strong> <em>Answer:</em> In most cases you can probably do your own allow-list validation based on some simple regular expression matching. (Do not write the validation as block-lists though.) ESAPI Validation is probably more than you need and even as the ESAPI project co-lead, I personally wouldn't recommend it unless you are planning to use ESAPI for some other purpose (because it drags in a lot of transitive dependencies).</li>\n<li><strong>If I have to use ESAPI, it means that I need to add ESAPI.properties and validation.properties. Given my project is an Ant project, where do I add these files?</strong> <em>Answer:</em> You don''t <em>have</em> to use ESAPI, but if you do, where the <code>ESAPI.properties</code> and <code>Validation.properties</code> files go is not relevant to whether you use Ant or Maven or Gradle, etc. Look at class Javadoc for the ESAPI class <a href=\"https://javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/reference/DefaultSecurityConfiguration.html\" rel=\"nofollow noreferrer\">org.owasp.esapi.reference.DefaultSecurityConfiguration</a> for details of how the <code>ESAPI.properties</code> and <code>Validation.properties</code> files are located.</li>\n</ol>\n<p>Hope that helps answer your questions.</p>\n"}],"owner":{"account_id":23428334,"reputation":3,"user_id":17487552,"display_name":"hunterFourRX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114440,"answer_count":1,"score":0,"last_activity_date":1637857617,"creation_date":1637743848,"question_id":70093102,"body_markdown":"I&#39;ve been reading articles about reflected XSS prevention. From what I understand, output encoding is the primary way to deal with reflected XSS. Some tools available would be the OWASP Java Encoder project and OWASP ESAPI. I have a java/JSP web application. I&#39;m not sure if input validation should be also performed on the .jsp file when there is already input validation in the corresponding .java file. So I have the following questions:\r\n1. Is OWASP Java Encoder project sufficient to prevent reflected XSS?\r\n2. Do I need to do input validation on the .jsp file?\r\n3. If 2. is a yes, would creating my own input validation functions or using the ESAPI Validator class be better?\r\n4. If I have to use ESAPI, it means that I need to add ESAPI.properties and validation.properties. Given my project is an Ant project, where do I add these files?\r\n\r\nThanks in advance.","title":"Is OWASP Java Encoder Project enough to prevent reflected XSS?","body":"<p>I've been reading articles about reflected XSS prevention. From what I understand, output encoding is the primary way to deal with reflected XSS. Some tools available would be the OWASP Java Encoder project and OWASP ESAPI. I have a java/JSP web application. I'm not sure if input validation should be also performed on the .jsp file when there is already input validation in the corresponding .java file. So I have the following questions:</p>\n<ol>\n<li>Is OWASP Java Encoder project sufficient to prevent reflected XSS?</li>\n<li>Do I need to do input validation on the .jsp file?</li>\n<li>If 2. is a yes, would creating my own input validation functions or using the ESAPI Validator class be better?</li>\n<li>If I have to use ESAPI, it means that I need to add ESAPI.properties and validation.properties. Given my project is an Ant project, where do I add these files?</li>\n</ol>\n<p>Thanks in advance.</p>\n"},{"tags":["java","static","jvm","heap-memory","metaspace"],"comments":[{"owner":{"account_id":10657472,"reputation":81,"user_id":7846548,"display_name":"Syed Zabi Ulla"},"score":3,"creation_date":1637935928,"post_id":70106771,"comment_id":123962591,"body_markdown":"@Thomas Please check the link provided in the answer (http://openjdk.java.net/jeps/122). Here, it says that **The proposed implementation will allocate class meta-data in native memory and move interned Strings and class statics to the Java heap.**","body":"@Thomas Please check the link provided in the answer (<a href=\"http://openjdk.java.net/jeps/122\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/122</a>). Here, it says that <b>The proposed implementation will allocate class meta-data in native memory and move interned Strings and class statics to the Java heap.</b>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638170504,"post_id":70106771,"comment_id":124007034,"body_markdown":"Note that this is specific to the JVM implementation, i.e. JEP 122 specifically states it applies to HotSpot. Other implementations like OpenJ9 don&#39;t have Metaspace so they&#39;d store the static fields somewhere else (from what I could find OpenJ9 only uses heap memory).","body":"Note that this is specific to the JVM implementation, i.e. JEP 122 specifically states it applies to HotSpot. Other implementations like OpenJ9 don&#39;t have Metaspace so they&#39;d store the static fields somewhere else (from what I could find OpenJ9 only uses heap memory)."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637856940,"creation_date":1637856940,"answer_id":70114289,"question_id":70106771,"body_markdown":"The static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.\r\n\r\nThe interned strings and static variables are moved into the heap itself.\r\n\r\nFor official information refer : [JEP 122:Remove the Permanent Gen Space][1]\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/122","title":"After Java 8, Where are the static members of a class stored in Java?","body":"<p>The static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.</p>\n<p>The interned strings and static variables are moved into the heap itself.</p>\n<p>For official information refer : <a href=\"http://openjdk.java.net/jeps/122\" rel=\"nofollow noreferrer\">JEP 122:Remove the Permanent Gen Space</a></p>\n"}],"owner":{"account_id":10657472,"reputation":81,"user_id":7846548,"display_name":"Syed Zabi Ulla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637856940,"creation_date":1637822309,"question_id":70106771,"body_markdown":"Are the static members of a class - static variables, static blocks, and static methods stored in the Metaspace region after Java 8? If not, where are they stored?\r\n\r\nThere is no concrete information regarding the same elsewhere. All that I was able to get the information was that static variables are allocated memory at the time of class loading. But my question is where exactly is the memory being allocated - stack or heap or metaspace?\r\n\r\nThanks in advance!","title":"After Java 8, Where are the static members of a class stored in Java?","body":"<p>Are the static members of a class - static variables, static blocks, and static methods stored in the Metaspace region after Java 8? If not, where are they stored?</p>\n<p>There is no concrete information regarding the same elsewhere. All that I was able to get the information was that static variables are allocated memory at the time of class loading. But my question is where exactly is the memory being allocated - stack or heap or metaspace?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","null","option-type"],"comments":[{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":1,"creation_date":1637849674,"post_id":70112361,"comment_id":123939642,"body_markdown":"In your current code `Optional.ofNullable(entity.getDateFrom().toString())`, would definitely throw a `NullPointerException` if `entity.getDateFrom()` is `null`. You should be trying `Optional.ofNullable(entity.getDateFrom()).map(Date::toString).orElse(&quot;&quot;);`","body":"In your current code <code>Optional.ofNullable(entity.getDateFrom().toString())</code>, would definitely throw a <code>NullPointerException</code> if <code>entity.getDateFrom()</code> is <code>null</code>. You should be trying <code>Optional.ofNullable(entity.getDateFrom()).map(Date::toString&zwnj;&#8203;).orElse(&quot;&quot;);</code>"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":2,"creation_date":1637849785,"post_id":70112361,"comment_id":123939678,"body_markdown":"Also please try not to include code that is not relevant to the question.","body":"Also please try not to include code that is not relevant to the question."}],"answers":[{"tags":[],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637850185,"creation_date":1637850185,"answer_id":70112720,"question_id":70112361,"body_markdown":"If the `entity.getDateFrom()` is actually null, `Optional.ofNullable(entity.getDateFrom().toString())` should throw a `NullPointerException`, because `toString` will be called on null before `Optional.ofNullable` is called.\r\n\r\nBut your question doesn&#39;t state that you get a `NullPointerException` in your original code, so think that the date values are **not** null, but rather some default value.\r\n\r\nNow, if the default values are actually null, and if you want to continue using `Optional` you could do this instead:\r\n\r\n    String start = Optional.ofNullable(entity.getDateFrom())\r\n                           .map(Object::toString)\r\n                           .orElse(&quot;&quot;)\r\n    String end = Optional.ofNullable(entity.getDateTo())\r\n                           .map(Object::toString)\r\n                           .orElse(&quot;&quot;);\r\n\r\n...or (easier):\r\n\r\n    String start = Objects.toString(entity.getDateFrom(), &quot;&quot;)\r\n    String end = Objects.toString(entity.getDateTo(), &quot;&quot;)\r\n\r\n","title":"Passing null to methods with Optional as parameters","body":"<p>If the <code>entity.getDateFrom()</code> is actually null, <code>Optional.ofNullable(entity.getDateFrom().toString())</code> should throw a <code>NullPointerException</code>, because <code>toString</code> will be called on null before <code>Optional.ofNullable</code> is called.</p>\n<p>But your question doesn't state that you get a <code>NullPointerException</code> in your original code, so think that the date values are <strong>not</strong> null, but rather some default value.</p>\n<p>Now, if the default values are actually null, and if you want to continue using <code>Optional</code> you could do this instead:</p>\n<pre><code>String start = Optional.ofNullable(entity.getDateFrom())\n                       .map(Object::toString)\n                       .orElse(&quot;&quot;)\nString end = Optional.ofNullable(entity.getDateTo())\n                       .map(Object::toString)\n                       .orElse(&quot;&quot;);\n</code></pre>\n<p>...or (easier):</p>\n<pre><code>String start = Objects.toString(entity.getDateFrom(), &quot;&quot;)\nString end = Objects.toString(entity.getDateTo(), &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":22059281,"reputation":43,"user_id":16322244,"display_name":"Krzysiek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638361895,"accepted_answer_id":70112720,"answer_count":1,"score":0,"last_activity_date":1637856908,"creation_date":1637848634,"question_id":70112361,"body_markdown":"```\r\nCONTROLLER CLASS\r\n@PostMapping(&quot;Calculate&quot;)\r\n    public String Calculate(@ModelAttribute(&quot;currencyAndAmount&quot;) @Valid CurrencyViewModel currencyViewModel,\r\n                            BindingResult bindingResult, Model model) {\r\n        if (!bindingResult.hasErrors()) {\r\n            var entity = currencyExchange_logic.CurrencyViewModelToEntity(currencyViewModel);\r\n            String start = Optional.ofNullable(entity.getDateFrom().toString()).orElse(&quot;&quot;);\r\n            String end = Optional.ofNullable(entity.getDateTo().toString()).orElse(&quot;&quot;);\r\n            try {\r\n                var currencyJson = currencyExchange_logic.currencyJson(start, end);\r\n                var calVal = currencyExchange_logic.calculateMoney(currencyJson, entity);\r\n                model.addAttribute(&quot;endValue&quot;, calVal);\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            return &quot;end&quot;;\r\n        } else {\r\n            return &quot;formPage&quot;;\r\n        }\r\n    }\r\n\r\nSERVICE CLASS\r\n\r\n@Override\r\n    public MonetaryAmountJson currencyJson(String start, String end) throws IOException {\r\n        String dates = &quot;/&quot; + start + &quot;/&quot; + end;\r\n        URL url = new URL(&quot;http://api.nbp.pl/api/exchangerates/tables/c&quot; + dates);\r\n        URLConnection urlConnection = url.openConnection();\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n        StringBuilder jsonObject = new StringBuilder();\r\n        String line;\r\n        while ((line = bufferedReader.readLine()) != null) {\r\n            jsonObject.append(line);\r\n        }\r\n        bufferedReader.close();\r\n        Gson gson = new Gson();\r\n        return gson.fromJson(String.valueOf(jsonObject), MonetaryAmountJson.class);\r\n    }\r\n```\r\n\r\nThe question that I have is that in the line:  \r\n\r\n    var currencyJson = currencyExchange_logic.currencyJson(start, end);\r\n\r\n\r\nSo in a frontend form there are 2 date inputs that can be left empty (not filled by user) \r\nand I want to pass to currencyJson() method Optional.of(given date (maybe null).toString()) the logic within it i.e. Optional.ofNullable(null).orElse(&quot;&quot;); won&#39;t return &quot;&quot; (empty String). Am I passing &quot;&quot; or null to currencyJson()?","title":"Passing null to methods with Optional as parameters","body":"<pre><code>CONTROLLER CLASS\n@PostMapping(&quot;Calculate&quot;)\n    public String Calculate(@ModelAttribute(&quot;currencyAndAmount&quot;) @Valid CurrencyViewModel currencyViewModel,\n                            BindingResult bindingResult, Model model) {\n        if (!bindingResult.hasErrors()) {\n            var entity = currencyExchange_logic.CurrencyViewModelToEntity(currencyViewModel);\n            String start = Optional.ofNullable(entity.getDateFrom().toString()).orElse(&quot;&quot;);\n            String end = Optional.ofNullable(entity.getDateTo().toString()).orElse(&quot;&quot;);\n            try {\n                var currencyJson = currencyExchange_logic.currencyJson(start, end);\n                var calVal = currencyExchange_logic.calculateMoney(currencyJson, entity);\n                model.addAttribute(&quot;endValue&quot;, calVal);\n            } catch (IOException e) {\n                System.out.println(e.getMessage());\n            }\n            return &quot;end&quot;;\n        } else {\n            return &quot;formPage&quot;;\n        }\n    }\n\nSERVICE CLASS\n\n@Override\n    public MonetaryAmountJson currencyJson(String start, String end) throws IOException {\n        String dates = &quot;/&quot; + start + &quot;/&quot; + end;\n        URL url = new URL(&quot;http://api.nbp.pl/api/exchangerates/tables/c&quot; + dates);\n        URLConnection urlConnection = url.openConnection();\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n        StringBuilder jsonObject = new StringBuilder();\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            jsonObject.append(line);\n        }\n        bufferedReader.close();\n        Gson gson = new Gson();\n        return gson.fromJson(String.valueOf(jsonObject), MonetaryAmountJson.class);\n    }\n</code></pre>\n<p>The question that I have is that in the line:</p>\n<pre><code>var currencyJson = currencyExchange_logic.currencyJson(start, end);\n</code></pre>\n<p>So in a frontend form there are 2 date inputs that can be left empty (not filled by user)\nand I want to pass to currencyJson() method Optional.of(given date (maybe null).toString()) the logic within it i.e. Optional.ofNullable(null).orElse(&quot;&quot;); won't return &quot;&quot; (empty String). Am I passing &quot;&quot; or null to currencyJson()?</p>\n"},{"tags":["java","neo4j"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637856138,"creation_date":1637856138,"answer_id":70114116,"question_id":70113987,"body_markdown":"&gt; I&#39;m eager to figure out the what do org.neo4j.driver.types stand for?\r\n\r\nThese are domain objects for `neo4j` DB ... they are needed by driver to store/load data to/from the database. I would say they are similar to classes like &#39;ResultSet` for JDBC.\r\n\r\nThe driver needs these classes to &quot;explain&quot; a write operation to `neo4j` and to &quot;enterpret&quot; the response. ","title":"neo4j: what are org.neo4j.driver.types package classes for?","body":"<blockquote>\n<p>I'm eager to figure out the what do org.neo4j.driver.types stand for?</p>\n</blockquote>\n<p>These are domain objects for <code>neo4j</code> DB ... they are needed by driver to store/load data to/from the database. I would say they are similar to classes like 'ResultSet` for JDBC.</p>\n<p>The driver needs these classes to &quot;explain&quot; a write operation to <code>neo4j</code> and to &quot;enterpret&quot; the response.</p>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70114116,"answer_count":1,"score":-2,"last_activity_date":1637856138,"creation_date":1637855537,"question_id":70113987,"body_markdown":"I&#39;m eager to figure out the what do `org.neo4j.driver.types` stand for?\r\n\r\nThis package becomes available with neo4j driver (`org.neo4j.driver:neo4j-java-driver`).\r\n\r\nUnder this package there are classes like `Entity, Node, RelationShip, ...`.\r\n\r\nAre those classes intended to be used like some kind of `ORM(OGM)`.\r\n\r\nNote: I&#39;m not using neo4j-ogm. I&#39;m only using `org.neo4j.driver:neo4j-java-driver` dependency.","title":"neo4j: what are org.neo4j.driver.types package classes for?","body":"<p>I'm eager to figure out the what do <code>org.neo4j.driver.types</code> stand for?</p>\n<p>This package becomes available with neo4j driver (<code>org.neo4j.driver:neo4j-java-driver</code>).</p>\n<p>Under this package there are classes like <code>Entity, Node, RelationShip, ...</code>.</p>\n<p>Are those classes intended to be used like some kind of <code>ORM(OGM)</code>.</p>\n<p>Note: I'm not using neo4j-ogm. I'm only using <code>org.neo4j.driver:neo4j-java-driver</code> dependency.</p>\n"},{"tags":["java","spring","spring-boot","http","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637855816,"creation_date":1637843307,"answer_id":70111139,"question_id":70109143,"body_markdown":"Having a [simple Spring-Starter application](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.0&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web), with a (rest) controller like:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    @GetMapping(&quot;/foo&quot;)\r\n    public String foo() {\r\n        return &quot;bar&quot;;\r\n    }\r\n\r\n\r\nWith java &gt;= 11, we can test the HTTP protocol version with `java.net.http` client (no additional dependencies):\r\n\t\r\n    package com.example.test.http.version;\r\n\r\n\timport java.io.IOException;\r\n\timport java.net.URI;\r\n\timport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\timport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\timport org.junit.jupiter.api.Test;\r\n\timport org.springframework.boot.test.context.SpringBootTest;\r\n\timport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\r\n\timport org.springframework.boot.web.server.LocalServerPort;\r\n\r\n\t@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n\tclass IntegrationTests {\r\n\r\n\t\t@LocalServerPort\r\n\t\tprivate int port;\r\n\r\n\t\t@Test\r\n\t\tpublic void testJavaDotNet() throws IOException, InterruptedException {\r\n\t\t\tjava.net.http.HttpClient client = java.net.http.HttpClient.newBuilder()\r\n\t\t\t\t\t.build(); // or configure a (test) bean\r\n\t\t\tjava.net.http.HttpRequest request = java.net.http.HttpRequest.newBuilder()\r\n\t\t\t\t\t.uri(URI.create(&quot;http://localhost:&quot; + port + &quot;/foo&quot;))\r\n\t\t\t\t\t.build();\r\n\t\t\tjava.net.http.HttpResponse&lt;String&gt; response = client.send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\r\n\r\n\t\t    assertNotNull(response);\r\n\t\t\tassertEquals(java.net.http.HttpClient.Version.HTTP_1_1, response.version());\r\n\t\t}\r\n\t}\r\n\r\nKey points:\r\n\r\n- [`HttpResponse.version()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.html#version())\r\n- [java.net.http.HttpClient](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html)\r\n\r\n\r\n----------\r\n\r\n   \r\nWith java &lt; 11 **but also alternatively**, we can use:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n      &lt;!--  &lt;version&gt;4.5.13&lt;/version&gt; managed via spring-boot-dependencies --&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n..and:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    @Test\r\n\tpublic void testApache() throws IOException {\r\n\t\torg.apache.http.client.HttpClient client = org.apache.http.impl.client.HttpClientBuilder.create()\r\n           .build();// or configure (test) bean(s)\r\n\t\torg.apache.http.HttpResponse response = client.execute(\r\n\t\t    new org.apache.http.client.methods.HttpGet(&quot;http://localhost:&quot; + port + &quot;/foo&quot;)\r\n\t\t);\r\n\t\torg.apache.http.ProtocolVersion protocolV = response.getStatusLine().getProtocolVersion();\r\n\r\n\t\tassertNotNull(protocolV);\r\n\t\tassertEquals(&quot;HTTP&quot;, protocolV.getProtocol());\r\n\t\tassertEquals(1, protocolV.getMajor());\r\n\t\tassertEquals(1, protocolV.getMinor());\r\n\t}\r\n\r\n- [`HttpResponse.getStatusLine()`](https://javadoc.io/doc/org.apache.httpcomponents/httpcore/latest/org/apache/http/HttpResponse.html#getStatusLine())\r\n- [Apache HttpClient](https://hc.apache.org/httpcomponents-client-5.1.x/)\r\n\r\n\r\n----------\r\n\r\nSorry, [OkHttp](https://square.github.io/okhttp/)!\r\n\r\n&lt;!-- language: lang-xml --&gt;  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;!-- &lt;version&gt;3.14.9&lt;/version&gt;  managed via spring-boot-dependencies --&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd, &quot;voila&quot;:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    @Test\r\n    public void testOkHttp() throws IOException {\r\n      okhttp3.OkHttpClient client = new okhttp3.OkHttpClient();\r\n      okhttp3.Request request = new okhttp3.Request.Builder().url(getUriString(&quot;/foo&quot;)).build();\r\n\r\n      try (okhttp3.Response response = client.newCall(request).execute()) {\r\n        assertEquals(okhttp3.Protocol.HTTP_1_1, response.protocol());\r\n      } catch (RuntimeException reexc) {\r\n        org.junit.jupiter.api.Assertions.fail(reexc);\r\n      }\r\n    }\r\n\r\n- [`Response.protocol`](https://square.github.io/okhttp/4.x/okhttp/okhttp3/-response/protocol/)\r\n- [OkHttp](https://square.github.io/okhttp/)\r\n  \r\n----------\r\n\r\n- [Sample repo at github](https://github.com/xerx593/soq70109143).\r\n\r\n----------\r\n\r\nProbably this is not the last option... \r\nAnd when you somehow manage to access the `ServletRequest` (in your test), you can issue: [getProtocol()](https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getProtocol()), like [here](https://stackoverflow.com/q/9827393/592355 ).","title":"Spring Boot. How to test http protocol version?","body":"<p>Having a <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.0&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">simple Spring-Starter application</a>, with a (rest) controller like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/foo&quot;)\npublic String foo() {\n    return &quot;bar&quot;;\n}\n</code></pre>\n<p>With java &gt;= 11, we can test the HTTP protocol version with <code>java.net.http</code> client (no additional dependencies):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.test.http.version;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\nimport org.springframework.boot.web.server.LocalServerPort;\n\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\nclass IntegrationTests {\n\n    @LocalServerPort\n    private int port;\n\n    @Test\n    public void testJavaDotNet() throws IOException, InterruptedException {\n        java.net.http.HttpClient client = java.net.http.HttpClient.newBuilder()\n                .build(); // or configure a (test) bean\n        java.net.http.HttpRequest request = java.net.http.HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://localhost:&quot; + port + &quot;/foo&quot;))\n                .build();\n        java.net.http.HttpResponse&lt;String&gt; response = client.send(request, java.net.http.HttpResponse.BodyHandlers.ofString());\n\n        assertNotNull(response);\n        assertEquals(java.net.http.HttpClient.Version.HTTP_1_1, response.version());\n    }\n}\n</code></pre>\n<p>Key points:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpResponse.html#version()\" rel=\"nofollow noreferrer\"><code>HttpResponse.version()</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">java.net.http.HttpClient</a></li>\n</ul>\n<hr />\n<p>With java &lt; 11 <strong>but also alternatively</strong>, we can use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;!--  &lt;version&gt;4.5.13&lt;/version&gt; managed via spring-boot-dependencies --&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>..and:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testApache() throws IOException {\n    org.apache.http.client.HttpClient client = org.apache.http.impl.client.HttpClientBuilder.create()\n       .build();// or configure (test) bean(s)\n    org.apache.http.HttpResponse response = client.execute(\n        new org.apache.http.client.methods.HttpGet(&quot;http://localhost:&quot; + port + &quot;/foo&quot;)\n    );\n    org.apache.http.ProtocolVersion protocolV = response.getStatusLine().getProtocolVersion();\n\n    assertNotNull(protocolV);\n    assertEquals(&quot;HTTP&quot;, protocolV.getProtocol());\n    assertEquals(1, protocolV.getMajor());\n    assertEquals(1, protocolV.getMinor());\n}\n</code></pre>\n<ul>\n<li><a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/latest/org/apache/http/HttpResponse.html#getStatusLine()\" rel=\"nofollow noreferrer\"><code>HttpResponse.getStatusLine()</code></a></li>\n<li><a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache HttpClient</a></li>\n</ul>\n<hr />\n<p>Sorry, <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a>!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n  &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n  &lt;!-- &lt;version&gt;3.14.9&lt;/version&gt;  managed via spring-boot-dependencies --&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And, &quot;voila&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testOkHttp() throws IOException {\n  okhttp3.OkHttpClient client = new okhttp3.OkHttpClient();\n  okhttp3.Request request = new okhttp3.Request.Builder().url(getUriString(&quot;/foo&quot;)).build();\n\n  try (okhttp3.Response response = client.newCall(request).execute()) {\n    assertEquals(okhttp3.Protocol.HTTP_1_1, response.protocol());\n  } catch (RuntimeException reexc) {\n    org.junit.jupiter.api.Assertions.fail(reexc);\n  }\n}\n</code></pre>\n<ul>\n<li><a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-response/protocol/\" rel=\"nofollow noreferrer\"><code>Response.protocol</code></a></li>\n<li><a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a></li>\n</ul>\n<hr />\n<ul>\n<li><a href=\"https://github.com/xerx593/soq70109143\" rel=\"nofollow noreferrer\">Sample repo at github</a>.</li>\n</ul>\n<hr />\n<p>Probably this is not the last option...\nAnd when you somehow manage to access the <code>ServletRequest</code> (in your test), you can issue: <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getProtocol()\" rel=\"nofollow noreferrer\">getProtocol()</a>, like <a href=\"https://stackoverflow.com/q/9827393/592355\">here</a>.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2929,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70111139,"answer_count":1,"score":5,"last_activity_date":1637855816,"creation_date":1637834620,"question_id":70109143,"body_markdown":"I&#39;m using `Spring Boot 2.6.0` and `Spring MVC` in my application.\r\nI want to switch my controller protocol from version `http/1.1` to `http/2`. \r\nFirst of all, I&#39;ve written the next integration test for that:\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class IntegrationTest {\r\n\r\n    @Autowired\r\n    private TestRestTemplate template;\r\n\r\n    @Test\r\n    public void canGet() {\r\n        ResponseEntity&lt;JsonResponse&gt; entity = template.getForEntity(&quot;/foo&quot;, JsonResponse.class);\r\n        assertEquals(HttpStatus.OK, entity.getStatusCode());\r\n        assertNotNull(entity.getBody());\r\n        //todo: assertEquals(&quot;http/2&quot;, entity.getProtocol());\r\n        //todo: assertEquals(&quot;http/1.1&quot;, entity.getProtocol())\r\n    }\r\n}\r\n```\r\nBut `entity.getProtocol()` method doesn&#39;t exist and I can&#39;t find any other way to test protocol version. Does anyone know how to test the protocol version correctly in spring boot application?","title":"Spring Boot. How to test http protocol version?","body":"<p>I'm using <code>Spring Boot 2.6.0</code> and <code>Spring MVC</code> in my application.\nI want to switch my controller protocol from version <code>http/1.1</code> to <code>http/2</code>.\nFirst of all, I've written the next integration test for that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class IntegrationTest {\n\n    @Autowired\n    private TestRestTemplate template;\n\n    @Test\n    public void canGet() {\n        ResponseEntity&lt;JsonResponse&gt; entity = template.getForEntity(&quot;/foo&quot;, JsonResponse.class);\n        assertEquals(HttpStatus.OK, entity.getStatusCode());\n        assertNotNull(entity.getBody());\n        //todo: assertEquals(&quot;http/2&quot;, entity.getProtocol());\n        //todo: assertEquals(&quot;http/1.1&quot;, entity.getProtocol())\n    }\n}\n</code></pre>\n<p>But <code>entity.getProtocol()</code> method doesn't exist and I can't find any other way to test protocol version. Does anyone know how to test the protocol version correctly in spring boot application?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637855757,"creation_date":1637855757,"answer_id":70114039,"question_id":70110442,"body_markdown":"You create the client manually like this ...\r\n\r\n```\r\nvar client = SnsClient.builder()\r\n                .region(Region.of(awsProperties.getRegion()))\r\n                .withCredentials(... add your credentials here)\r\n                .build();\r\n\r\n// use client methods to interact with AWS\r\n\r\n```","title":"How to create multiple amazon SNS client in Spring Boot?","body":"<p>You create the client manually like this ...</p>\n<pre><code>var client = SnsClient.builder()\n                .region(Region.of(awsProperties.getRegion()))\n                .withCredentials(... add your credentials here)\n                .build();\n\n// use client methods to interact with AWS\n\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70114039,"answer_count":1,"score":0,"last_activity_date":1637855757,"creation_date":1637840325,"question_id":70110442,"body_markdown":"I know how to read AWS credentials (for one environment) through application properties.\r\nI need to create multiple amazonSnsClient() through application properties on application startup.\r\n\r\nI have an application properties file that has AWS properties of multiple environments in one file which looks like below example\r\n```\r\n#DEV\r\nabc.env[0].aws.accessKeyId=xaw\r\nabc.env[0].aws.awsSecretKeyId=yrt\r\n\r\n#TEST\r\nabc.env[1].aws.accessKeyId=abc\r\nabc.env[1].aws.awsSecretKeyId=def\r\n\r\n```\r\nI will have a HashMap that will contain all the AWS credentials from a properties file.\r\n\r\nI need to read all the AWS Credentials from a properties file and create that many amazonSnsClient\r\nHow can I achieve the same in Spring boot? Is there any annotation that I can make use of?\r\n\r\n**Note:** The requirement is that the properties of Dev and Test have to be in one file\r\n\r\nCan someone please help?\r\n\r\nThank you for your time.","title":"How to create multiple amazon SNS client in Spring Boot?","body":"<p>I know how to read AWS credentials (for one environment) through application properties.\nI need to create multiple amazonSnsClient() through application properties on application startup.</p>\n<p>I have an application properties file that has AWS properties of multiple environments in one file which looks like below example</p>\n<pre><code>#DEV\nabc.env[0].aws.accessKeyId=xaw\nabc.env[0].aws.awsSecretKeyId=yrt\n\n#TEST\nabc.env[1].aws.accessKeyId=abc\nabc.env[1].aws.awsSecretKeyId=def\n\n</code></pre>\n<p>I will have a HashMap that will contain all the AWS credentials from a properties file.</p>\n<p>I need to read all the AWS Credentials from a properties file and create that many amazonSnsClient\nHow can I achieve the same in Spring boot? Is there any annotation that I can make use of?</p>\n<p><strong>Note:</strong> The requirement is that the properties of Dev and Test have to be in one file</p>\n<p>Can someone please help?</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","locking","redisson"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637855109,"creation_date":1637854410,"answer_id":70113745,"question_id":70112709,"body_markdown":"&gt;  If use lock.lock(), while this client offline, it will never unlock the lock and others client can not get the lock. \r\n\r\nWhen you use ```lock#lock()```, an expiration time will be set on the corresponding key (the default is 30 seconds, see ```org.redisson.config.Config#lockWatchdogTimeout```), and there will be a ```watchdog```(watchdog is actually a timer task) that is always responsible for the automatic extension(extend the expiration time of the corresponding key). \r\n\r\nSo if your client is suddenly disconnected, then the lock will be released after a certain period of time (that is, the corresponding key has expired because ```watchdog``` also hangs up with your client\r\n). So you don’t have to worry about the problem that the lock will never be released if you use ```lock#lock()```.\r\n\r\n\r\n\r\n","title":"RLock#lock(long leaseTime, TimeUnit unit) leasetime lower than execution time","body":"<blockquote>\n<p>If use lock.lock(), while this client offline, it will never unlock the lock and others client can not get the lock.</p>\n</blockquote>\n<p>When you use <code>lock#lock()</code>, an expiration time will be set on the corresponding key (the default is 30 seconds, see <code>org.redisson.config.Config#lockWatchdogTimeout</code>), and there will be a <code>watchdog</code>(watchdog is actually a timer task) that is always responsible for the automatic extension(extend the expiration time of the corresponding key).</p>\n<p>So if your client is suddenly disconnected, then the lock will be released after a certain period of time (that is, the corresponding key has expired because <code>watchdog</code> also hangs up with your client\n). So you don’t have to worry about the problem that the lock will never be released if you use <code>lock#lock()</code>.</p>\n"}],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70113745,"answer_count":1,"score":0,"last_activity_date":1637855109,"creation_date":1637850137,"question_id":70112709,"body_markdown":"**Code:**\r\n\r\n    public void lock() {\r\n        RLock lock = redissonClient.getLock(&quot;lock&quot;);\r\n        lock.lock(1, TimeUnit.SECONDS); // or use lock.lock()\r\n        doSomething();\r\n        lock.unlock(); // if necessary\r\n    }\r\n\r\nIf `doSomething()` spending time over 1s(reason like network), then another thread can get the lock, but this will cause some problems (such as oversold). If use `lock.lock()`, while this client offline, it will never unlock the lock and others client can not get the lock. How to solve or balance this problem?","title":"RLock#lock(long leaseTime, TimeUnit unit) leasetime lower than execution time","body":"<p><strong>Code:</strong></p>\n<pre><code>public void lock() {\n    RLock lock = redissonClient.getLock(&quot;lock&quot;);\n    lock.lock(1, TimeUnit.SECONDS); // or use lock.lock()\n    doSomething();\n    lock.unlock(); // if necessary\n}\n</code></pre>\n<p>If <code>doSomething()</code> spending time over 1s(reason like network), then another thread can get the lock, but this will cause some problems (such as oversold). If use <code>lock.lock()</code>, while this client offline, it will never unlock the lock and others client can not get the lock. How to solve or balance this problem?</p>\n"},{"tags":["java","android","notifications"],"answers":[{"tags":[],"owner":{"account_id":139161,"reputation":627,"user_id":344574,"display_name":"Arno den Hond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637854582,"creation_date":1637854582,"answer_id":70113782,"question_id":70109473,"body_markdown":"Make a [Service][1] that periodically runs in the background to check your database and launches a [Notification][2] when your inventory is low or expired.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/services\r\n  [2]: https://developer.android.com/guide/topics/ui/notifiers/notifications","title":"How to create a Notification?","body":"<p>Make a <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">Service</a> that periodically runs in the background to check your database and launches a <a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications\" rel=\"nofollow noreferrer\">Notification</a> when your inventory is low or expired.</p>\n"}],"owner":{"account_id":23450280,"reputation":1,"user_id":17506537,"display_name":"Noob Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637854582,"creation_date":1637836123,"question_id":70109473,"body_markdown":"I&#39;m new to programming and making an inventory system in  Android Studio and I just wanna know how to create a notification  that will show whenever an item is running lo, it is empty or it is expired.\r\n\r\nhere is the adding class where the user can add the items: \r\n`public class AddItems extends AppCompatActivity {\r\n\r\n        FirebaseAuth firebaseAuth;\r\n        FirebaseFirestore firebaseFirestore;\r\n        String userID;\r\n        DatabaseHelp db;\r\n\r\n        TextView textViewHeader;\r\n        Button buttonBack, buttonAdd, buttonClear;\r\n        EditText editTextProductName, editTextCategory, editTextPrice, editTextQuantity, editTextExpiration;\r\n\r\n        AlertDialog alertDialogDeleteItem;\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            goBack();\r\n        }\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_items);\r\n\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n            firebaseFirestore = FirebaseFirestore.getInstance();\r\n\r\n            if (firebaseAuth.getCurrentUser() == null) {\r\n                startActivity(new Intent(this, LoginActivityModule.class));\r\n                finish();\r\n            } else {\r\n                userID = firebaseAuth.getCurrentUser().getUid();\r\n            }\r\n\r\n            db = new DatabaseHelp(this);\r\n\r\n            textViewHeader = findViewById(R.id.addItem_textView_header);\r\n            buttonBack = findViewById(R.id.addItem_button_back);\r\n            buttonBack.setOnClickListener(v -&gt; goBack());\r\n            editTextProductName = findViewById(R.id.addItem_editText_productName);\r\n            editTextCategory = findViewById(R.id.addItem_editText_category);\r\n            editTextPrice = findViewById(R.id.addItem_editText_price);\r\n            editTextQuantity = findViewById(R.id.addItem_editText_quantity);\r\n            editTextExpiration = findViewById(R.id.addItem_editText_expiration);\r\n            buttonAdd = findViewById(R.id.addItem_button_add);\r\n            buttonAdd.setOnClickListener(v -&gt; addItem());\r\n            buttonClear = findViewById(R.id.addItem_button_clear);\r\n            buttonClear.setOnClickListener(v -&gt; {\r\n                if (InventoryBills.isEditing) {\r\n                    alertDialogDeleteItem.show();\r\n                } else {\r\n                    clearFields();\r\n                }\r\n            });\r\n\r\n            AlertDialog.Builder alertDialogBuilderDeleteItem = new AlertDialog.Builder(this);\r\n            alertDialogBuilderDeleteItem.setCancelable(true);\r\n            alertDialogBuilderDeleteItem.setTitle(&quot;Warning&quot;);\r\n            alertDialogBuilderDeleteItem.setMessage(R.string.deleteItem_warning);\r\n            alertDialogBuilderDeleteItem.setPositiveButton(android.R.string.ok, (dialog, which) -&gt; deleteItem());\r\n            alertDialogBuilderDeleteItem.setNegativeButton(android.R.string.cancel, (dialog, which) -&gt; alertDialogDeleteItem.dismiss());\r\n            alertDialogDeleteItem = alertDialogBuilderDeleteItem.create();\r\n\r\n            if (InventoryBills.isEditing) {\r\n                textViewHeader.setText(R.string.addItem_textView_editHeader);\r\n\r\n                ProductItem item = InventoryBills.selectedItem;\r\n\r\n                editTextProductName.setText(item.getProductName());\r\n                editTextCategory.setText(item.getCategory());\r\n                editTextPrice.setText(String.valueOf(item.getPrice()));\r\n                editTextQuantity.setText(String.valueOf(item.getQuantity()));\r\n                editTextExpiration.setText(item.getExpiration());\r\n\r\n                buttonAdd.setText(R.string.addItem_button_addToEdit);\r\n                buttonClear.setText(R.string.addItem_button_clearToDelete);\r\n            }\r\n        }\r\n\r\n        void goBack() {\r\n            finish();\r\n        }\r\n\r\n        void addItem() {\r\n            String productName = editTextProductName.getText().toString().trim().toLowerCase();\r\n            String category = editTextCategory.getText().toString().trim().toLowerCase();\r\n            String price = editTextPrice.getText().toString();\r\n            String quantity = editTextQuantity.getText().toString();\r\n            String expiration = editTextExpiration.getText().toString();\r\n\r\n            boolean isProductNameValid = false;\r\n            boolean isCategoryValid = false;\r\n            boolean isPriceValid = false;\r\n            boolean isQuantityValid = false;\r\n            boolean isExpirationValid = false;\r\n\r\n            if (productName.isEmpty()) {\r\n                editTextProductName.setError(&quot;Product name is required&quot;);\r\n            } else {\r\n                isProductNameValid = true;\r\n            }\r\n\r\n            if (category.isEmpty()) {\r\n                editTextCategory.setError(&quot;Category is required&quot;);\r\n            } else {\r\n                isCategoryValid = true;\r\n            }\r\n\r\n            if (price.isEmpty()) {\r\n                editTextPrice.setError(&quot;Price is required&quot;);\r\n            } else {\r\n                isPriceValid = true;\r\n            }\r\n\r\n            if (quantity.isEmpty()) {\r\n                editTextQuantity.setError(&quot;Quantity is required&quot;);\r\n            } else {\r\n                isQuantityValid = true;\r\n            }\r\n\r\n            if (expiration.isEmpty() || expiration.matches(InventoryBills.datePattern)) {\r\n                isExpirationValid = true;\r\n            } else {\r\n                editTextExpiration.setError(&quot;Expiration date is not valid&quot;);\r\n            }\r\n\r\n            if (isProductNameValid &amp;&amp; isCategoryValid &amp;&amp; isPriceValid &amp;&amp; isQuantityValid &amp;&amp; isExpirationValid) {\r\n                ProductItem item = db.checkIfItemExist(userID, productName, category);\r\n                BigDecimal bdPrice = new BigDecimal(price);\r\n                BigDecimal bdQuantity = new BigDecimal(quantity);\r\n\r\n                if (InventoryBills.isEditing) {\r\n                    if (item.getId() &gt; -1 &amp;&amp; item.getId() != InventoryBills.selectedItem.getId()) {\r\n                        if (db.editItem(item.getId(), productName, category, item.getPrice(), item.getQuantity().add(bdQuantity), expiration)) {\r\n                            Toast.makeText(this, &quot;Item exist, quantity merged successfully&quot;, Toast.LENGTH_LONG).show();\r\n                            db.deleteItem(InventoryBills.selectedItem.getId());\r\n                            goBack();\r\n                        }\r\n                    } else if (db.editItem(InventoryBills.selectedItem.getId(), productName, category, bdPrice, bdQuantity, expiration)) {\r\n                        Toast.makeText(this, &quot;Item edited successfully&quot;, Toast.LENGTH_LONG).show();\r\n                        goBack();\r\n                    }\r\n                } else {\r\n                    if (item.getId() &gt; -1) {\r\n                        if (db.editItem(item.getId(), productName, category, item.getPrice(), item.getQuantity().add(bdQuantity), expiration)) {\r\n                            Toast.makeText(this, &quot;Item exist, quantity merged successfully&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    } else if (db.getTotalItems(userID) &gt;= 700) {\r\n                        Toast.makeText(this, &quot;Maximum number of items in inventory reached (700 items)&quot;, Toast.LENGTH_LONG).show();\r\n                    } else if (db.addItem(userID, productName, category, bdPrice, bdQuantity, expiration)) {\r\n                        Toast.makeText(this, &quot;Item added successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        void clearFields() {\r\n            editTextProductName.setText(&quot;&quot;);\r\n            editTextCategory.setText(&quot;&quot;);\r\n            editTextPrice.setText(&quot;&quot;);\r\n            editTextQuantity.setText(&quot;&quot;);\r\n            editTextExpiration.setText(&quot;&quot;);\r\n        }\r\n\r\n        void deleteItem() {\r\n            boolean isDeleted = db.deleteItem(InventoryBills.selectedItem.getId());\r\n\r\n            if (isDeleted) {\r\n                Toast.makeText(this, &quot;Item deleted successfully&quot;, Toast.LENGTH_LONG).show();\r\n                goBack();\r\n            } else {\r\n                Toast.makeText(this, &quot;Item failed to delete&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n`\r\n\r\nand here is my database code for it:\r\n\r\n    enter public class DatabaseHelp extends SQLiteOpenHelper {\r\n\r\n        static final String DATABASE_NAME = &quot;JnsData.db&quot;;\r\n        public DatabaseHelp (Context context) {\r\n            super(context, DATABASE_NAME, null, 1);\r\n        }\r\n\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(&quot;create table inventory (id integer primary key autoincrement, username text, product_name text, category text, price numeric, quantity numeric, timestamp datetime default current_timestamp, expiration date)&quot;);\r\n            db.execSQL(&quot;create table cart (id integer primary key autoincrement, username text, product_name text, category text, price numeric, quantity numeric, timestamp datetime default current_timestamp, expiration date)&quot;);\r\n\r\n            db.execSQL(&quot;create table transaction_ids (id integer primary key autoincrement, username text, timestamp datetime default current_timestamp)&quot;);\r\n            db.execSQL(&quot;begin transaction&quot;);\r\n            db.execSQL(&quot;update sqlite_sequence set seq = 1000000 where name = &#39;transaction_ids&#39;&quot;);\r\n            db.execSQL(&quot;insert into sqlite_sequence (name, seq) select &#39;transaction_ids&#39;, 1000000 where not exists (select changes() as change from sqlite_sequence where change &lt;&gt; 0)&quot;);\r\n            db.execSQL(&quot;commit&quot;);\r\n\r\n            db.execSQL(&quot;create table transactions (id integer primary key autoincrement, transaction_id numeric, product_name text, category text, price numeric, quantity numeric, expiration date)&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            db.execSQL(&quot;drop table if exists inventory&quot;);\r\n            db.execSQL(&quot;drop table if exists cart&quot;);\r\n            db.execSQL(&quot;drop table if exists transaction_ids&quot;);\r\n            db.execSQL(&quot;drop table if exists transactions&quot;);\r\n            onCreate(db);\r\n        }\r\n\r\n        public ProductItem checkIfItemExist(String username, String productName, String category) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select * from inventory where username = &#39;%s&#39; and product_name = &#39;%s&#39; and category = &#39;%s&#39;&quot;, username, productName, category);\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            ProductItem item = new ProductItem();\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                item.setId(cur.getInt(0));\r\n                item.setUsername(cur.getString(1));\r\n                item.setProductName(cur.getString(2));\r\n                item.setCategory(cur.getString(3));\r\n                item.setPrice(new BigDecimal(cur.getString(4)));\r\n                item.setQuantity(new BigDecimal(cur.getString(5)));\r\n                item.setTimestamp(cur.getString(6));\r\n                item.setExpiration(cur.getString(7));\r\n            }\r\n\r\n            cur.close();\r\n            return item;\r\n        }\r\n\r\n        public ProductItem checkIfItemExistInCart(String username, String productName, String category) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select * from cart where username = &#39;%s&#39; and product_name = &#39;%s&#39; and category = &#39;%s&#39;&quot;, username, productName, category);\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            ProductItem item = new ProductItem();\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                item.setId(cur.getInt(0));\r\n                item.setUsername(cur.getString(1));\r\n                item.setProductName(cur.getString(2));\r\n                item.setCategory(cur.getString(3));\r\n                item.setPrice(new BigDecimal(cur.getString(4)));\r\n                item.setQuantity(new BigDecimal(cur.getString(5)));\r\n                item.setTimestamp(cur.getString(6));\r\n                item.setExpiration(cur.getString(7));\r\n            }\r\n\r\n            cur.close();\r\n            return item;\r\n        }\r\n\r\n        public Cursor getItem(String username, String keyword) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query;\r\n\r\n            if (keyword.isEmpty()) {\r\n                query = String.format(&quot;select * from inventory where username = &#39;%s&#39;&quot;, username);\r\n            } else {\r\n                query = String.format(&quot;select * from inventory where username = &#39;%s&#39; and &quot; +\r\n                                &quot;(product_name like &#39;%s%%&#39; or category like &#39;%s%%&#39; or price like &#39;%s%%&#39; or quantity like &#39;%s%%&#39; or timestamp like &#39;%s%%&#39; or expiration like &#39;%s%%&#39;)&quot;,\r\n                        username, keyword, keyword, keyword, keyword, keyword, keyword);\r\n            }\r\n\r\n            return db.rawQuery(query, null);\r\n        }\r\n\r\n        public Cursor getItemInCart(String username, String keyword) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query;\r\n\r\n            if (keyword.isEmpty()) {\r\n                query = String.format(&quot;select * from cart where username = &#39;%s&#39;&quot;, username);\r\n            } else {\r\n                query = String.format(&quot;select * from cart where username = &#39;%s&#39; and &quot; +\r\n                                &quot;(product_name like &#39;%s%%&#39; or category like &#39;%s%%&#39; or price like &#39;%s%%&#39; or quantity like &#39;%s%%&#39; or timestamp like &#39;%s%%&#39; or expiration like &#39;%s%%&#39;)&quot;,\r\n                        username, keyword, keyword, keyword, keyword, keyword, keyword);\r\n            }\r\n\r\n            return db.rawQuery(query, null);\r\n        }\r\n\r\n        public ArrayList&lt;CartItems&gt; getAllItemsInCart(String username) {\r\n            ArrayList&lt;CartItems&gt; cart = new ArrayList&lt;&gt;();\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select * from cart where username = &#39;%s&#39;&quot;, username);\r\n            Cursor cur = db.rawQuery(query, null);\r\n\r\n            if (cur.getCount() == 0) {\r\n                return cart;\r\n            }\r\n\r\n            while (cur.moveToNext()) {\r\n                cart.add(new CartItems(cur.getString(2), new BigDecimal(cur.getString(4)), new BigDecimal(cur.getString(5))));\r\n            }\r\n\r\n            cur.close();\r\n            return cart;\r\n        }\r\n\r\n        public Cursor getItemByCategory(String username, String category) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select * from inventory where username = &#39;%s&#39; group by %s&quot;, username, category);\r\n\r\n            return db.rawQuery(query, null);\r\n        }\r\n\r\n        public Cursor getExpiredItem(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select * from inventory where username = &#39;%s&#39; and expiration &lt;= date() and expiration is not &#39;&#39; group by expiration&quot;, username);\r\n\r\n            return db.rawQuery(query, null);\r\n        }\r\n\r\n        public int getTotalItems(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select count(id) from inventory where username = &#39;%s&#39;&quot;, username);\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            int count = 0;\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                count = cur.getInt(0);\r\n            }\r\n\r\n            cur.close();\r\n            return count;\r\n        }\r\n\r\n        public boolean addItem(String username, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(&quot;username&quot;, username);\r\n            cv.put(&quot;product_name&quot;, productName);\r\n            cv.put(&quot;category&quot;, category);\r\n            cv.put(&quot;price&quot;, price.toPlainString());\r\n            cv.put(&quot;quantity&quot;, quantity.toPlainString());\r\n            cv.put(&quot;expiration&quot;, expiration);\r\n\r\n            long result = db.insert(&quot;inventory&quot;, null, cv);\r\n            return result != -1;\r\n        }\r\n\r\n        public boolean addItemInCart(String username, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(&quot;username&quot;, username);\r\n            cv.put(&quot;product_name&quot;, productName);\r\n            cv.put(&quot;category&quot;, category);\r\n            cv.put(&quot;price&quot;, price.toPlainString());\r\n            cv.put(&quot;quantity&quot;, quantity.toPlainString());\r\n            cv.put(&quot;expiration&quot;, expiration);\r\n\r\n            long result = db.insert(&quot;cart&quot;, null, cv);\r\n            return result != -1;\r\n        }\r\n\r\n        public boolean editItem(int id, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;product_name&quot;, productName);\r\n            contentValues.put(&quot;category&quot;, category);\r\n            contentValues.put(&quot;price&quot;, price.toPlainString());\r\n            contentValues.put(&quot;quantity&quot;, quantity.toPlainString());\r\n            contentValues.put(&quot;expiration&quot;, expiration);\r\n            return db.update(&quot;inventory&quot;, contentValues, &quot;id = &quot; + id, null) &gt; 0;\r\n        }\r\n\r\n        public boolean editItemInCart(int id, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;product_name&quot;, productName);\r\n            contentValues.put(&quot;category&quot;, category);\r\n            contentValues.put(&quot;price&quot;, price.toPlainString());\r\n            contentValues.put(&quot;quantity&quot;, quantity.toPlainString());\r\n            contentValues.put(&quot;expiration&quot;, expiration);\r\n            return db.update(&quot;cart&quot;, contentValues, &quot;id = &quot; + id, null) &gt; 0;\r\n        }\r\n\r\n        public boolean deleteItem(int id) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            return db.delete(&quot;inventory&quot;, &quot;id = &quot; + id, null) &gt; 0;\r\n        }\r\n\r\n        public void deleteItemInCart(int id) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            db.delete(&quot;cart&quot;, &quot;id = &quot; + id, null);\r\n        }\r\n\r\n        public void deleteItemInCartOfUser(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            db.delete(&quot;cart&quot;, &quot;username = &#39;&quot; + username + &quot;&#39;&quot;, null);\r\n        }\r\n\r\n        public boolean insertTransactionID(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(&quot;username&quot;, username);\r\n\r\n            long result = db.insert(&quot;transaction_ids&quot;, null, cv);\r\n            return result != -1;\r\n        }\r\n\r\n        public int getCurrentTransactionID() {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = &quot;select seq from sqlite_sequence where name = &#39;transaction_ids&#39;&quot;;\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            int currentID = -1;\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                currentID = cur.getInt(0);\r\n            }\r\n\r\n            cur.close();\r\n            return currentID;\r\n        }\r\n\r\n        public void addItemInTransactions(int transactionID, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(&quot;transaction_id&quot;, transactionID);\r\n            cv.put(&quot;product_name&quot;, productName);\r\n            cv.put(&quot;category&quot;, category);\r\n            cv.put(&quot;price&quot;, price.toPlainString());\r\n            cv.put(&quot;quantity&quot;, quantity.toPlainString());\r\n            cv.put(&quot;expiration&quot;, expiration);\r\n\r\n            db.insert(&quot;transactions&quot;, null, cv);\r\n        }\r\n\r\n        public boolean saveTransaction(ArrayList&lt;TransacItems&gt; transactionItems, String username) {\r\n            if (insertTransactionID(username)) {\r\n                int transactionID = getCurrentTransactionID();\r\n\r\n                for (TransacItems item : transactionItems) {\r\n                    addItemInTransactions(transactionID, item.getProductName(), item.getCategory(), item.getPrice(), item.getQuantity(), item.getExpiration());\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public Cursor getTransactionItem(String username, String keyword) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query;\r\n\r\n            if (keyword.isEmpty()) {\r\n                query = String.format(\r\n                        &quot;select b.transaction_id, a.timestamp, b.product_name, b.category, b.price, b.quantity, b.expiration &quot; +\r\n                                &quot;from transaction_ids a &quot; +\r\n                                &quot;inner join transactions b on b.transaction_id = a.id &quot; +\r\n                                &quot;where a.username = &#39;%s&#39;&quot;,\r\n                        username);\r\n            } else {\r\n                query = String.format(\r\n                        &quot;select b.transaction_id, a.timestamp, b.product_name, b.category, b.price, b.quantity, b.expiration &quot; +\r\n                                &quot;from transaction_ids a &quot; +\r\n                                &quot;inner join transactions b on b.transaction_id = a.id &quot; +\r\n                                &quot;where a.username = &#39;%s&#39; and &quot; +\r\n                                &quot;(b.transaction_id like &#39;%s%%&#39; or a.timestamp like &#39;%s%%&#39; or b.product_name like &#39;%s%%&#39; or &quot; +\r\n                                &quot;b.category like &#39;%s%%&#39; or b.price like &#39;%s%%&#39; or b.quantity like &#39;%s%%&#39; or b.expiration like &#39;%s%%&#39;)&quot;,\r\n                        username, keyword, keyword, keyword, keyword, keyword, keyword, keyword);\r\n            }\r\n\r\n            return db.rawQuery(query, null);\r\n        }\r\n\r\n        public BigDecimal[] getSalesStats(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(\r\n                    &quot;select sum(b.price * b.quantity), sum(b.quantity) &quot; +\r\n                            &quot;from transaction_ids a &quot; +\r\n                            &quot;inner join transactions b on b.transaction_id = a.id &quot; +\r\n                            &quot;where a.username = &#39;%s&#39;&quot;, username);\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            BigDecimal v1 = BigDecimal.ZERO;\r\n            BigDecimal v2 = BigDecimal.ZERO;\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                String s1 = cur.getString(0);\r\n                String s2 = cur.getString(1);\r\n\r\n                if (s1 != null) {\r\n                    v1 = new BigDecimal(s1);\r\n                }\r\n\r\n                if (s2 != null) {\r\n                    v2 = new BigDecimal(s2);\r\n                }\r\n            }\r\n\r\n            cur.close();\r\n            return new BigDecimal[]{v1, v2};\r\n        }\r\n\r\n        public BigDecimal[] getInventoryStats(String username) {\r\n            SQLiteDatabase db = getWritableDatabase();\r\n            String query = String.format(&quot;select sum(price * quantity), sum(quantity) from inventory where username = &#39;%s&#39;&quot;, username);\r\n\r\n            Cursor cur = db.rawQuery(query, null);\r\n            BigDecimal v1 = BigDecimal.ZERO;\r\n            BigDecimal v2 = BigDecimal.ZERO;\r\n\r\n            if (cur.getCount() &gt; 0) {\r\n                cur.moveToFirst();\r\n\r\n                String s1 = cur.getString(0);\r\n                String s2 = cur.getString(1);\r\n\r\n                if (s1 != null) {\r\n                    v1 = new BigDecimal(s1);\r\n                }\r\n\r\n                if (s2 != null) {\r\n                    v2 = new BigDecimal(s2);\r\n                }\r\n            }\r\n\r\n            cur.close();\r\n            return new BigDecimal[]{v1, v2};\r\n        }\r\n}\r\nhope you can help me","title":"How to create a Notification?","body":"<p>I'm new to programming and making an inventory system in  Android Studio and I just wanna know how to create a notification  that will show whenever an item is running lo, it is empty or it is expired.</p>\n<p>here is the adding class where the user can add the items:\n`public class AddItems extends AppCompatActivity {</p>\n<pre><code>    FirebaseAuth firebaseAuth;\n    FirebaseFirestore firebaseFirestore;\n    String userID;\n    DatabaseHelp db;\n\n    TextView textViewHeader;\n    Button buttonBack, buttonAdd, buttonClear;\n    EditText editTextProductName, editTextCategory, editTextPrice, editTextQuantity, editTextExpiration;\n\n    AlertDialog alertDialogDeleteItem;\n\n    @Override\n    public void onBackPressed() {\n        goBack();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_items);\n\n        firebaseAuth = FirebaseAuth.getInstance();\n        firebaseFirestore = FirebaseFirestore.getInstance();\n\n        if (firebaseAuth.getCurrentUser() == null) {\n            startActivity(new Intent(this, LoginActivityModule.class));\n            finish();\n        } else {\n            userID = firebaseAuth.getCurrentUser().getUid();\n        }\n\n        db = new DatabaseHelp(this);\n\n        textViewHeader = findViewById(R.id.addItem_textView_header);\n        buttonBack = findViewById(R.id.addItem_button_back);\n        buttonBack.setOnClickListener(v -&gt; goBack());\n        editTextProductName = findViewById(R.id.addItem_editText_productName);\n        editTextCategory = findViewById(R.id.addItem_editText_category);\n        editTextPrice = findViewById(R.id.addItem_editText_price);\n        editTextQuantity = findViewById(R.id.addItem_editText_quantity);\n        editTextExpiration = findViewById(R.id.addItem_editText_expiration);\n        buttonAdd = findViewById(R.id.addItem_button_add);\n        buttonAdd.setOnClickListener(v -&gt; addItem());\n        buttonClear = findViewById(R.id.addItem_button_clear);\n        buttonClear.setOnClickListener(v -&gt; {\n            if (InventoryBills.isEditing) {\n                alertDialogDeleteItem.show();\n            } else {\n                clearFields();\n            }\n        });\n\n        AlertDialog.Builder alertDialogBuilderDeleteItem = new AlertDialog.Builder(this);\n        alertDialogBuilderDeleteItem.setCancelable(true);\n        alertDialogBuilderDeleteItem.setTitle(&quot;Warning&quot;);\n        alertDialogBuilderDeleteItem.setMessage(R.string.deleteItem_warning);\n        alertDialogBuilderDeleteItem.setPositiveButton(android.R.string.ok, (dialog, which) -&gt; deleteItem());\n        alertDialogBuilderDeleteItem.setNegativeButton(android.R.string.cancel, (dialog, which) -&gt; alertDialogDeleteItem.dismiss());\n        alertDialogDeleteItem = alertDialogBuilderDeleteItem.create();\n\n        if (InventoryBills.isEditing) {\n            textViewHeader.setText(R.string.addItem_textView_editHeader);\n\n            ProductItem item = InventoryBills.selectedItem;\n\n            editTextProductName.setText(item.getProductName());\n            editTextCategory.setText(item.getCategory());\n            editTextPrice.setText(String.valueOf(item.getPrice()));\n            editTextQuantity.setText(String.valueOf(item.getQuantity()));\n            editTextExpiration.setText(item.getExpiration());\n\n            buttonAdd.setText(R.string.addItem_button_addToEdit);\n            buttonClear.setText(R.string.addItem_button_clearToDelete);\n        }\n    }\n\n    void goBack() {\n        finish();\n    }\n\n    void addItem() {\n        String productName = editTextProductName.getText().toString().trim().toLowerCase();\n        String category = editTextCategory.getText().toString().trim().toLowerCase();\n        String price = editTextPrice.getText().toString();\n        String quantity = editTextQuantity.getText().toString();\n        String expiration = editTextExpiration.getText().toString();\n\n        boolean isProductNameValid = false;\n        boolean isCategoryValid = false;\n        boolean isPriceValid = false;\n        boolean isQuantityValid = false;\n        boolean isExpirationValid = false;\n\n        if (productName.isEmpty()) {\n            editTextProductName.setError(&quot;Product name is required&quot;);\n        } else {\n            isProductNameValid = true;\n        }\n\n        if (category.isEmpty()) {\n            editTextCategory.setError(&quot;Category is required&quot;);\n        } else {\n            isCategoryValid = true;\n        }\n\n        if (price.isEmpty()) {\n            editTextPrice.setError(&quot;Price is required&quot;);\n        } else {\n            isPriceValid = true;\n        }\n\n        if (quantity.isEmpty()) {\n            editTextQuantity.setError(&quot;Quantity is required&quot;);\n        } else {\n            isQuantityValid = true;\n        }\n\n        if (expiration.isEmpty() || expiration.matches(InventoryBills.datePattern)) {\n            isExpirationValid = true;\n        } else {\n            editTextExpiration.setError(&quot;Expiration date is not valid&quot;);\n        }\n\n        if (isProductNameValid &amp;&amp; isCategoryValid &amp;&amp; isPriceValid &amp;&amp; isQuantityValid &amp;&amp; isExpirationValid) {\n            ProductItem item = db.checkIfItemExist(userID, productName, category);\n            BigDecimal bdPrice = new BigDecimal(price);\n            BigDecimal bdQuantity = new BigDecimal(quantity);\n\n            if (InventoryBills.isEditing) {\n                if (item.getId() &gt; -1 &amp;&amp; item.getId() != InventoryBills.selectedItem.getId()) {\n                    if (db.editItem(item.getId(), productName, category, item.getPrice(), item.getQuantity().add(bdQuantity), expiration)) {\n                        Toast.makeText(this, &quot;Item exist, quantity merged successfully&quot;, Toast.LENGTH_LONG).show();\n                        db.deleteItem(InventoryBills.selectedItem.getId());\n                        goBack();\n                    }\n                } else if (db.editItem(InventoryBills.selectedItem.getId(), productName, category, bdPrice, bdQuantity, expiration)) {\n                    Toast.makeText(this, &quot;Item edited successfully&quot;, Toast.LENGTH_LONG).show();\n                    goBack();\n                }\n            } else {\n                if (item.getId() &gt; -1) {\n                    if (db.editItem(item.getId(), productName, category, item.getPrice(), item.getQuantity().add(bdQuantity), expiration)) {\n                        Toast.makeText(this, &quot;Item exist, quantity merged successfully&quot;, Toast.LENGTH_LONG).show();\n                    }\n                } else if (db.getTotalItems(userID) &gt;= 700) {\n                    Toast.makeText(this, &quot;Maximum number of items in inventory reached (700 items)&quot;, Toast.LENGTH_LONG).show();\n                } else if (db.addItem(userID, productName, category, bdPrice, bdQuantity, expiration)) {\n                    Toast.makeText(this, &quot;Item added successfully&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        }\n    }\n\n    void clearFields() {\n        editTextProductName.setText(&quot;&quot;);\n        editTextCategory.setText(&quot;&quot;);\n        editTextPrice.setText(&quot;&quot;);\n        editTextQuantity.setText(&quot;&quot;);\n        editTextExpiration.setText(&quot;&quot;);\n    }\n\n    void deleteItem() {\n        boolean isDeleted = db.deleteItem(InventoryBills.selectedItem.getId());\n\n        if (isDeleted) {\n            Toast.makeText(this, &quot;Item deleted successfully&quot;, Toast.LENGTH_LONG).show();\n            goBack();\n        } else {\n            Toast.makeText(this, &quot;Item failed to delete&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>and here is my database code for it:</p>\n<pre><code>enter public class DatabaseHelp extends SQLiteOpenHelper {\n\n    static final String DATABASE_NAME = &quot;JnsData.db&quot;;\n    public DatabaseHelp (Context context) {\n        super(context, DATABASE_NAME, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;create table inventory (id integer primary key autoincrement, username text, product_name text, category text, price numeric, quantity numeric, timestamp datetime default current_timestamp, expiration date)&quot;);\n        db.execSQL(&quot;create table cart (id integer primary key autoincrement, username text, product_name text, category text, price numeric, quantity numeric, timestamp datetime default current_timestamp, expiration date)&quot;);\n\n        db.execSQL(&quot;create table transaction_ids (id integer primary key autoincrement, username text, timestamp datetime default current_timestamp)&quot;);\n        db.execSQL(&quot;begin transaction&quot;);\n        db.execSQL(&quot;update sqlite_sequence set seq = 1000000 where name = 'transaction_ids'&quot;);\n        db.execSQL(&quot;insert into sqlite_sequence (name, seq) select 'transaction_ids', 1000000 where not exists (select changes() as change from sqlite_sequence where change &lt;&gt; 0)&quot;);\n        db.execSQL(&quot;commit&quot;);\n\n        db.execSQL(&quot;create table transactions (id integer primary key autoincrement, transaction_id numeric, product_name text, category text, price numeric, quantity numeric, expiration date)&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;drop table if exists inventory&quot;);\n        db.execSQL(&quot;drop table if exists cart&quot;);\n        db.execSQL(&quot;drop table if exists transaction_ids&quot;);\n        db.execSQL(&quot;drop table if exists transactions&quot;);\n        onCreate(db);\n    }\n\n    public ProductItem checkIfItemExist(String username, String productName, String category) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select * from inventory where username = '%s' and product_name = '%s' and category = '%s'&quot;, username, productName, category);\n\n        Cursor cur = db.rawQuery(query, null);\n        ProductItem item = new ProductItem();\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            item.setId(cur.getInt(0));\n            item.setUsername(cur.getString(1));\n            item.setProductName(cur.getString(2));\n            item.setCategory(cur.getString(3));\n            item.setPrice(new BigDecimal(cur.getString(4)));\n            item.setQuantity(new BigDecimal(cur.getString(5)));\n            item.setTimestamp(cur.getString(6));\n            item.setExpiration(cur.getString(7));\n        }\n\n        cur.close();\n        return item;\n    }\n\n    public ProductItem checkIfItemExistInCart(String username, String productName, String category) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select * from cart where username = '%s' and product_name = '%s' and category = '%s'&quot;, username, productName, category);\n\n        Cursor cur = db.rawQuery(query, null);\n        ProductItem item = new ProductItem();\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            item.setId(cur.getInt(0));\n            item.setUsername(cur.getString(1));\n            item.setProductName(cur.getString(2));\n            item.setCategory(cur.getString(3));\n            item.setPrice(new BigDecimal(cur.getString(4)));\n            item.setQuantity(new BigDecimal(cur.getString(5)));\n            item.setTimestamp(cur.getString(6));\n            item.setExpiration(cur.getString(7));\n        }\n\n        cur.close();\n        return item;\n    }\n\n    public Cursor getItem(String username, String keyword) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query;\n\n        if (keyword.isEmpty()) {\n            query = String.format(&quot;select * from inventory where username = '%s'&quot;, username);\n        } else {\n            query = String.format(&quot;select * from inventory where username = '%s' and &quot; +\n                            &quot;(product_name like '%s%%' or category like '%s%%' or price like '%s%%' or quantity like '%s%%' or timestamp like '%s%%' or expiration like '%s%%')&quot;,\n                    username, keyword, keyword, keyword, keyword, keyword, keyword);\n        }\n\n        return db.rawQuery(query, null);\n    }\n\n    public Cursor getItemInCart(String username, String keyword) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query;\n\n        if (keyword.isEmpty()) {\n            query = String.format(&quot;select * from cart where username = '%s'&quot;, username);\n        } else {\n            query = String.format(&quot;select * from cart where username = '%s' and &quot; +\n                            &quot;(product_name like '%s%%' or category like '%s%%' or price like '%s%%' or quantity like '%s%%' or timestamp like '%s%%' or expiration like '%s%%')&quot;,\n                    username, keyword, keyword, keyword, keyword, keyword, keyword);\n        }\n\n        return db.rawQuery(query, null);\n    }\n\n    public ArrayList&lt;CartItems&gt; getAllItemsInCart(String username) {\n        ArrayList&lt;CartItems&gt; cart = new ArrayList&lt;&gt;();\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select * from cart where username = '%s'&quot;, username);\n        Cursor cur = db.rawQuery(query, null);\n\n        if (cur.getCount() == 0) {\n            return cart;\n        }\n\n        while (cur.moveToNext()) {\n            cart.add(new CartItems(cur.getString(2), new BigDecimal(cur.getString(4)), new BigDecimal(cur.getString(5))));\n        }\n\n        cur.close();\n        return cart;\n    }\n\n    public Cursor getItemByCategory(String username, String category) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select * from inventory where username = '%s' group by %s&quot;, username, category);\n\n        return db.rawQuery(query, null);\n    }\n\n    public Cursor getExpiredItem(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select * from inventory where username = '%s' and expiration &lt;= date() and expiration is not '' group by expiration&quot;, username);\n\n        return db.rawQuery(query, null);\n    }\n\n    public int getTotalItems(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select count(id) from inventory where username = '%s'&quot;, username);\n\n        Cursor cur = db.rawQuery(query, null);\n        int count = 0;\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            count = cur.getInt(0);\n        }\n\n        cur.close();\n        return count;\n    }\n\n    public boolean addItem(String username, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(&quot;username&quot;, username);\n        cv.put(&quot;product_name&quot;, productName);\n        cv.put(&quot;category&quot;, category);\n        cv.put(&quot;price&quot;, price.toPlainString());\n        cv.put(&quot;quantity&quot;, quantity.toPlainString());\n        cv.put(&quot;expiration&quot;, expiration);\n\n        long result = db.insert(&quot;inventory&quot;, null, cv);\n        return result != -1;\n    }\n\n    public boolean addItemInCart(String username, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(&quot;username&quot;, username);\n        cv.put(&quot;product_name&quot;, productName);\n        cv.put(&quot;category&quot;, category);\n        cv.put(&quot;price&quot;, price.toPlainString());\n        cv.put(&quot;quantity&quot;, quantity.toPlainString());\n        cv.put(&quot;expiration&quot;, expiration);\n\n        long result = db.insert(&quot;cart&quot;, null, cv);\n        return result != -1;\n    }\n\n    public boolean editItem(int id, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;product_name&quot;, productName);\n        contentValues.put(&quot;category&quot;, category);\n        contentValues.put(&quot;price&quot;, price.toPlainString());\n        contentValues.put(&quot;quantity&quot;, quantity.toPlainString());\n        contentValues.put(&quot;expiration&quot;, expiration);\n        return db.update(&quot;inventory&quot;, contentValues, &quot;id = &quot; + id, null) &gt; 0;\n    }\n\n    public boolean editItemInCart(int id, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;product_name&quot;, productName);\n        contentValues.put(&quot;category&quot;, category);\n        contentValues.put(&quot;price&quot;, price.toPlainString());\n        contentValues.put(&quot;quantity&quot;, quantity.toPlainString());\n        contentValues.put(&quot;expiration&quot;, expiration);\n        return db.update(&quot;cart&quot;, contentValues, &quot;id = &quot; + id, null) &gt; 0;\n    }\n\n    public boolean deleteItem(int id) {\n        SQLiteDatabase db = getWritableDatabase();\n        return db.delete(&quot;inventory&quot;, &quot;id = &quot; + id, null) &gt; 0;\n    }\n\n    public void deleteItemInCart(int id) {\n        SQLiteDatabase db = getWritableDatabase();\n        db.delete(&quot;cart&quot;, &quot;id = &quot; + id, null);\n    }\n\n    public void deleteItemInCartOfUser(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        db.delete(&quot;cart&quot;, &quot;username = '&quot; + username + &quot;'&quot;, null);\n    }\n\n    public boolean insertTransactionID(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(&quot;username&quot;, username);\n\n        long result = db.insert(&quot;transaction_ids&quot;, null, cv);\n        return result != -1;\n    }\n\n    public int getCurrentTransactionID() {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = &quot;select seq from sqlite_sequence where name = 'transaction_ids'&quot;;\n\n        Cursor cur = db.rawQuery(query, null);\n        int currentID = -1;\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            currentID = cur.getInt(0);\n        }\n\n        cur.close();\n        return currentID;\n    }\n\n    public void addItemInTransactions(int transactionID, String productName, String category, BigDecimal price, BigDecimal quantity, String expiration) {\n        SQLiteDatabase db = getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(&quot;transaction_id&quot;, transactionID);\n        cv.put(&quot;product_name&quot;, productName);\n        cv.put(&quot;category&quot;, category);\n        cv.put(&quot;price&quot;, price.toPlainString());\n        cv.put(&quot;quantity&quot;, quantity.toPlainString());\n        cv.put(&quot;expiration&quot;, expiration);\n\n        db.insert(&quot;transactions&quot;, null, cv);\n    }\n\n    public boolean saveTransaction(ArrayList&lt;TransacItems&gt; transactionItems, String username) {\n        if (insertTransactionID(username)) {\n            int transactionID = getCurrentTransactionID();\n\n            for (TransacItems item : transactionItems) {\n                addItemInTransactions(transactionID, item.getProductName(), item.getCategory(), item.getPrice(), item.getQuantity(), item.getExpiration());\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    public Cursor getTransactionItem(String username, String keyword) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query;\n\n        if (keyword.isEmpty()) {\n            query = String.format(\n                    &quot;select b.transaction_id, a.timestamp, b.product_name, b.category, b.price, b.quantity, b.expiration &quot; +\n                            &quot;from transaction_ids a &quot; +\n                            &quot;inner join transactions b on b.transaction_id = a.id &quot; +\n                            &quot;where a.username = '%s'&quot;,\n                    username);\n        } else {\n            query = String.format(\n                    &quot;select b.transaction_id, a.timestamp, b.product_name, b.category, b.price, b.quantity, b.expiration &quot; +\n                            &quot;from transaction_ids a &quot; +\n                            &quot;inner join transactions b on b.transaction_id = a.id &quot; +\n                            &quot;where a.username = '%s' and &quot; +\n                            &quot;(b.transaction_id like '%s%%' or a.timestamp like '%s%%' or b.product_name like '%s%%' or &quot; +\n                            &quot;b.category like '%s%%' or b.price like '%s%%' or b.quantity like '%s%%' or b.expiration like '%s%%')&quot;,\n                    username, keyword, keyword, keyword, keyword, keyword, keyword, keyword);\n        }\n\n        return db.rawQuery(query, null);\n    }\n\n    public BigDecimal[] getSalesStats(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(\n                &quot;select sum(b.price * b.quantity), sum(b.quantity) &quot; +\n                        &quot;from transaction_ids a &quot; +\n                        &quot;inner join transactions b on b.transaction_id = a.id &quot; +\n                        &quot;where a.username = '%s'&quot;, username);\n\n        Cursor cur = db.rawQuery(query, null);\n        BigDecimal v1 = BigDecimal.ZERO;\n        BigDecimal v2 = BigDecimal.ZERO;\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            String s1 = cur.getString(0);\n            String s2 = cur.getString(1);\n\n            if (s1 != null) {\n                v1 = new BigDecimal(s1);\n            }\n\n            if (s2 != null) {\n                v2 = new BigDecimal(s2);\n            }\n        }\n\n        cur.close();\n        return new BigDecimal[]{v1, v2};\n    }\n\n    public BigDecimal[] getInventoryStats(String username) {\n        SQLiteDatabase db = getWritableDatabase();\n        String query = String.format(&quot;select sum(price * quantity), sum(quantity) from inventory where username = '%s'&quot;, username);\n\n        Cursor cur = db.rawQuery(query, null);\n        BigDecimal v1 = BigDecimal.ZERO;\n        BigDecimal v2 = BigDecimal.ZERO;\n\n        if (cur.getCount() &gt; 0) {\n            cur.moveToFirst();\n\n            String s1 = cur.getString(0);\n            String s2 = cur.getString(1);\n\n            if (s1 != null) {\n                v1 = new BigDecimal(s1);\n            }\n\n            if (s2 != null) {\n                v2 = new BigDecimal(s2);\n            }\n        }\n\n        cur.close();\n        return new BigDecimal[]{v1, v2};\n    }\n</code></pre>\n<p>}\nhope you can help me</p>\n"},{"tags":["java","string","date","zoneddatetime","datetimeformatter"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1637842091,"post_id":70110789,"comment_id":123936546,"body_markdown":"Which Java version are you using? Also, what&#39;s your current `Locale`?","body":"Which Java version are you using? Also, what&#39;s your current <code>Locale</code>?"},{"owner":{"account_id":6007481,"reputation":13,"user_id":4718933,"display_name":"Simeone Deweixu"},"score":0,"creation_date":1637842833,"post_id":70110789,"comment_id":123936853,"body_markdown":"[Converting ISO 8601-compliant String to java.util.Date](https://stackoverflow.com/a/27479533/4718933)","body":"<a href=\"https://stackoverflow.com/a/27479533/4718933\">Converting ISO 8601-compliant String to java.util.Date</a>"},{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":1,"creation_date":1637844405,"post_id":70110789,"comment_id":123937494,"body_markdown":"On my computer this works for both Locales of &#39;en_US&#39; and &#39;hi_IN&#39;.  19 puts you at the &#39;E&#39;.  Wonder if your Java installation does not know about EDT, which is Eastern Daylight Time.","body":"On my computer this works for both Locales of &#39;en_US&#39; and &#39;hi_IN&#39;.  19 puts you at the &#39;E&#39;.  Wonder if your Java installation does not know about EDT, which is Eastern Daylight Time."},{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1637844734,"post_id":70110789,"comment_id":123937617,"body_markdown":"This code snippet might help.  It did not print &#39;EDT&#39; specifically but did print variations.    \n    for (String t : TimeZone.getAvailableIDs()) {System.out.println(t);}","body":"This code snippet might help.  It did not print &#39;EDT&#39; specifically but did print variations.         for (String t : TimeZone.getAvailableIDs()) {System.out.println(t);}"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637854609,"post_id":70110789,"comment_id":123941694,"body_markdown":"A [mre], please? Also asking because I cannot reproduce either. I am parsing your string without any signs of problems.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please? Also asking because I cannot reproduce either. I am parsing your string without any signs of problems."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637854900,"post_id":70110789,"comment_id":123941821,"body_markdown":"Your string is funny. It’s trying to be [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) but the trailing `EDT` disagrees with ISO 8601 (ISO 8601 would be like `2021-08-03T10:00-04:00`). You will probably prefer if you can get a real ISO 8601 string.","body":"Your string is funny. It’s trying to be <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> but the trailing <code>EDT</code> disagrees with ISO 8601 (ISO 8601 would be like <code>2021-08-03T10:00-04:00</code>). You will probably prefer if you can get a real ISO 8601 string."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637856263,"post_id":70110789,"comment_id":123942377,"body_markdown":"Could there be a funny non-printing character between the last `00` and `EDT`?","body":"Could there be a funny non-printing character between the last <code>00</code> and <code>EDT</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637929617,"post_id":70110789,"comment_id":123960301,"body_markdown":"Does this answer your question? [Text could not be parsed, unparsed text found](https://stackoverflow.com/questions/68335396/text-could-not-be-parsed-unparsed-text-found)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68335396/text-could-not-be-parsed-unparsed-text-found\">Text could not be parsed, unparsed text found</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637930594,"post_id":70110789,"comment_id":123960653,"body_markdown":"@ProgrammersBlock We din’t know whether it’s supposed to mean Australian or North American/Caribbean Eastern Daylight Time. Neither does Java, so if we get a result, we don’t know which one. Parsing time zone abbreviations is a non-deterministic business.","body":"@ProgrammersBlock We din’t know whether it’s supposed to mean Australian or North American/Caribbean Eastern Daylight Time. Neither does Java, so if we get a result, we don’t know which one. Parsing time zone abbreviations is a non-deterministic business."}],"answers":[{"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637842240,"creation_date":1637842240,"answer_id":70110885,"question_id":70110789,"body_markdown":"You can parse by following way\r\n\r\n    String val=&quot;2021-08-03T10:00:00EDT&quot;;\r\n    DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;);\r\n    ZonedDateTime zonedDateTime=ZonedDateTime.parse(val,DATE_TIME_FORMATTER);\r\n    System.out.println(zonedDateTime);","title":"How to parse date string &#39;2021-08-03T10:00:00EDT&#39; to ZonedDateTime in java?","body":"<p>You can parse by following way</p>\n<pre><code>String val=&quot;2021-08-03T10:00:00EDT&quot;;\nDateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssz&quot;);\nZonedDateTime zonedDateTime=ZonedDateTime.parse(val,DATE_TIME_FORMATTER);\nSystem.out.println(zonedDateTime);\n</code></pre>\n"}],"owner":{"account_id":8814009,"reputation":1,"user_id":6586105,"display_name":"MAYANK CHAUHAN"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637854359,"creation_date":1637841794,"question_id":70110789,"body_markdown":"I am getting below error when trying with pattern with below pattern\r\n\r\n```\r\nprivate static final DateTimeFormatter DATE_TIME_FORMATTER\r\n        = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;);\r\n```\r\n\r\nCan someone explain reason behind this??\r\n\r\n**Error received with above pattern:** \r\n java.time.format.DateTimeParseException: Text &#39;2021-08-03T10:00:00EDT&#39; could not be parsed at index 19","title":"How to parse date string &#39;2021-08-03T10:00:00EDT&#39; to ZonedDateTime in java?","body":"<p>I am getting below error when trying with pattern with below pattern</p>\n<pre><code>private static final DateTimeFormatter DATE_TIME_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssz&quot;);\n</code></pre>\n<p>Can someone explain reason behind this??</p>\n<p><strong>Error received with above pattern:</strong>\njava.time.format.DateTimeParseException: Text '2021-08-03T10:00:00EDT' could not be parsed at index 19</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"score":0,"creation_date":1637856261,"post_id":70113729,"comment_id":123942374,"body_markdown":"You are updating a record in a db table, right?  Is contact_id the key for the record?","body":"You are updating a record in a db table, right?  Is contact_id the key for the record?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1637857052,"post_id":70113729,"comment_id":123942669,"body_markdown":"I do not see an `ArrayMap` in your code. I do see a `containsKey()` call, but that is on a `ContentValues`, not an `ArrayMap`. Perhaps you have the wrong code in the question, or the wrong title.","body":"I do not see an <code>ArrayMap</code> in your code. I do see a <code>containsKey()</code> call, but that is on a <code>ContentValues</code>, not an <code>ArrayMap</code>. Perhaps you have the wrong code in the question, or the wrong title."}],"owner":{"account_id":246829,"reputation":21647,"user_id":521180,"accept_rate":56,"display_name":"124697"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637854354,"creation_date":1637854354,"question_id":70113729,"body_markdown":"I need to pass &quot;contact_id&quot; to this method but there is a check that prevents this column from being updated. Can you see anyway I can bypass it and update contact_id column as one of the columns in `values`\r\n \r\n\r\n      \r\n      \r\n\r\n        \r\n        \r\n          // ANDROID CODE\r\n    public static final String CONTACT_ID = &quot;contact_id&quot;;\r\n    \r\n    private int updateRawContacts(ContentValues values, String selection, String[] selectionArgs,\r\n                boolean callerIsSyncAdapter) {\r\n            if (values.containsKey(RawContacts.CONTACT_ID)) {\r\n                throw new IllegalArgumentException(RawContacts.CONTACT_ID + &quot; should not be included &quot; +\r\n                        &quot;in content values. Contact IDs are assigned automatically&quot;);\r\n            }\r\n            if (!callerIsSyncAdapter) {\r\n                selection = DatabaseUtils.concatenateWhere(selection,\r\n                        RawContacts.RAW_CONTACT_IS_READ_ONLY + &quot;=0&quot;);\r\n            }\r\n            int count = 0;\r\n            final SQLiteDatabase db = mDbHelper.get().getWritableDatabase();\r\n            Cursor cursor = db.query(Views.RAW_CONTACTS,\r\n                    Projections.ID, selection,\r\n                    selectionArgs, null, null, null);\r\n            try {\r\n                while (cursor.moveToNext()) {\r\n                    long rawContactId = cursor.getLong(0);\r\n                    updateRawContact(db, rawContactId, values, callerIsSyncAdapter,\r\n                            /* callerIsMetadataSyncAdapter =*/false);\r\n                    count++;\r\n                }\r\n            } finally {\r\n                cursor.close();\r\n            }\r\n            return count;\r\n        }\r\n    \r\n    // MY CODE\r\n    ContentProviderOperation.newUpdate(RAW_CONTACTS_URI)\r\n                    .withValue(RawContacts.CONTACT_ID, RawContacts._ID);","title":"Is it possible to bypass ArrayMap.containsKey()","body":"<p>I need to pass &quot;contact_id&quot; to this method but there is a check that prevents this column from being updated. Can you see anyway I can bypass it and update contact_id column as one of the columns in <code>values</code></p>\n<pre><code>      // ANDROID CODE\npublic static final String CONTACT_ID = &quot;contact_id&quot;;\n\nprivate int updateRawContacts(ContentValues values, String selection, String[] selectionArgs,\n            boolean callerIsSyncAdapter) {\n        if (values.containsKey(RawContacts.CONTACT_ID)) {\n            throw new IllegalArgumentException(RawContacts.CONTACT_ID + &quot; should not be included &quot; +\n                    &quot;in content values. Contact IDs are assigned automatically&quot;);\n        }\n        if (!callerIsSyncAdapter) {\n            selection = DatabaseUtils.concatenateWhere(selection,\n                    RawContacts.RAW_CONTACT_IS_READ_ONLY + &quot;=0&quot;);\n        }\n        int count = 0;\n        final SQLiteDatabase db = mDbHelper.get().getWritableDatabase();\n        Cursor cursor = db.query(Views.RAW_CONTACTS,\n                Projections.ID, selection,\n                selectionArgs, null, null, null);\n        try {\n            while (cursor.moveToNext()) {\n                long rawContactId = cursor.getLong(0);\n                updateRawContact(db, rawContactId, values, callerIsSyncAdapter,\n                        /* callerIsMetadataSyncAdapter =*/false);\n                count++;\n            }\n        } finally {\n            cursor.close();\n        }\n        return count;\n    }\n\n// MY CODE\nContentProviderOperation.newUpdate(RAW_CONTACTS_URI)\n                .withValue(RawContacts.CONTACT_ID, RawContacts._ID);\n</code></pre>\n"},{"tags":["java","jdb"],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637853340,"creation_date":1637853340,"answer_id":70113525,"question_id":70113461,"body_markdown":"Java commands (java, javac, jdb) do not use the GNU double-dash convention.  Use a single dash.\r\n\r\nOr if that&#39;s an option for the program itself, it should probably come after the class name.  \r\n\r\n","title":"jdb not recognizing &#39;--add-reads&#39; option","body":"<p>Java commands (java, javac, jdb) do not use the GNU double-dash convention.  Use a single dash.</p>\n<p>Or if that's an option for the program itself, it should probably come after the class name.</p>\n"}],"owner":{"account_id":11902904,"reputation":6016,"user_id":8710344,"accept_rate":80,"display_name":"HardcoreHenry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637853340,"creation_date":1637853060,"question_id":70113461,"body_markdown":"I&#39;m working on a project where an invocation of a java file is returning a NullPointerException, but I&#39;m not getting any clues as to why, so I&#39;d like to run it through jdb.   According to to [this](https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html) page, I should be able to simply replace the call to `java` with `jdb`, but when I do, I&#39;m getting the error:\r\n\r\n```\r\n/auto/tools/java/jdk-14.0.1/bin/jdb --add-reads stringtemplate=foostring  -p ./tools/foo:./tools/bar -m foo/com.bar.foo.FOO  -tp ./bar/ -p -o bin/foo -i foo.in\r\n\r\ninvalid option: --add-reads\r\n```\r\n\r\nIs there a trick I&#39;m missing to allow me to pass all these options to jdb?\r\n","title":"jdb not recognizing &#39;--add-reads&#39; option","body":"<p>I'm working on a project where an invocation of a java file is returning a NullPointerException, but I'm not getting any clues as to why, so I'd like to run it through jdb.   According to to <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\" rel=\"nofollow noreferrer\">this</a> page, I should be able to simply replace the call to <code>java</code> with <code>jdb</code>, but when I do, I'm getting the error:</p>\n<pre><code>/auto/tools/java/jdk-14.0.1/bin/jdb --add-reads stringtemplate=foostring  -p ./tools/foo:./tools/bar -m foo/com.bar.foo.FOO  -tp ./bar/ -p -o bin/foo -i foo.in\n\ninvalid option: --add-reads\n</code></pre>\n<p>Is there a trick I'm missing to allow me to pass all these options to jdb?</p>\n"},{"tags":["java","swing","layout-manager"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1637851485,"post_id":70109271,"comment_id":123940373,"body_markdown":"Don&#39;t use `setSize(...)`. That is just a guess as to what the size of the frame should be. Instead, AFTER you add the components to the frame and BEFORE you make the frame visible use the `pack()` method.","body":"Don&#39;t use <code>setSize(...)</code>. That is just a guess as to what the size of the frame should be. Instead, AFTER you add the components to the frame and BEFORE you make the frame visible use the <code>pack()</code> method."},{"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"score":0,"creation_date":1637902853,"post_id":70109271,"comment_id":123952347,"body_markdown":"I did do that. The component is still out of screen.","body":"I did do that. The component is still out of screen."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637913779,"post_id":70109271,"comment_id":123954633,"body_markdown":"This is [how it appears here](https://i.stack.imgur.com/XWCjY.png) using a 10 x 10 black icon. Are you seeing something different? OTOH this is [what it looks like when packed](https://i.stack.imgur.com/ap9At.png).","body":"This is <a href=\"https://i.stack.imgur.com/XWCjY.png\" rel=\"nofollow noreferrer\">how it appears here</a> using a 10 x 10 black icon. Are you seeing something different? OTOH this is <a href=\"https://i.stack.imgur.com/ap9At.png\" rel=\"nofollow noreferrer\">what it looks like when packed</a>."},{"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"score":0,"creation_date":1637927722,"post_id":70109271,"comment_id":123959620,"body_markdown":"Well, I think it&#39;s the size of images that&#39;s messing up my view.","body":"Well, I think it&#39;s the size of images that&#39;s messing up my view."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1637930824,"post_id":70109271,"comment_id":123960725,"body_markdown":"*&quot;I think it&#39;s the size of images&quot;* Can you vague that up for me? It&#39;s in danger of conveying useful information. Information like .. what size are the images used in your app? (BTW - a future tip. Post code that hot-links to images on the net, then people trying to help would not need to make guesses about image size etc).","body":"<i>&quot;I think it&#39;s the size of images&quot;</i> Can you vague that up for me? It&#39;s in danger of conveying useful information. Information like .. what size are the images used in your app? (BTW - a future tip. Post code that hot-links to images on the net, then people trying to help would not need to make guesses about image size etc)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1637936010,"post_id":70109271,"comment_id":123962616,"body_markdown":"@tarun *I think it&#39;s the size of images* - If the images are too big, they are not automatically resized, so yes they may be truncated. It worked fine for me with smaller images.","body":"@tarun <i>I think it&#39;s the size of images</i> - If the images are too big, they are not automatically resized, so yes they may be truncated. It worked fine for me with smaller images."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637936692,"post_id":70109271,"comment_id":123962854,"body_markdown":"I&#39;ve tried that code again, increasing the image sizes up to 200 x 200 and it works flawlessly, as long as `pack()` is called. So if you cannot get it working there, please post code that shows a call to `pack()` and hot-links to images.  I put [a few images here](https://stackoverflow.com/a/19209651/418556) for exactly that use.","body":"I&#39;ve tried that code again, increasing the image sizes up to 200 x 200 and it works flawlessly, as long as <code>pack()</code> is called. So if you cannot get it working there, please post code that shows a call to <code>pack()</code> and hot-links to images.  I put <a href=\"https://stackoverflow.com/a/19209651/418556\">a few images here</a> for exactly that use."},{"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"score":0,"creation_date":1637995070,"post_id":70109271,"comment_id":123974466,"body_markdown":"I used `getScaledInstance()` method of ImgaeIcon class and with `pack()`, it&#39;s working fine now. Thanks a lot for your help.","body":"I used <code>getScaledInstance()</code> method of ImgaeIcon class and with <code>pack()</code>, it&#39;s working fine now. Thanks a lot for your help."}],"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637853330,"creation_date":1637835225,"question_id":70109271,"body_markdown":"I am trying to make a layout where all buttons have image and text. The five buttons are placed in two rows with buttons in second row placed in between gaps of first row. The problem is button3(btn3)/Third menu is out of screen/not visible. I am placing the Grouplayout in center of Borderlayout. Here is the code:\r\n\r\n   \r\n\r\n    public class UI2 extends JFrame {\r\n\r\n    UI2() {\r\n        setSize(600, 600);\r\n        setTitle(&quot;Dashboard&quot;);\r\n        Container c = getContentPane();\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JPanel jpmain = new JPanel();\r\n        GroupLayout layout = new GroupLayout(jpmain);\r\n        jpmain.setLayout(layout);\r\n\r\n        ImageIcon image = new ImageIcon(new File(&quot;path&quot;).getPath());\r\n        JButton btn1 = new JButton(image);\r\n        btn1.setText(&quot;First Menu&quot;);\r\n        btn1.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn1.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n\r\n        image = new ImageIcon(new File(&quot;path&quot;).getPath());\r\n        JButton btn2 = new JButton(image);\r\n        btn2.setText(&quot;Second Menu&quot;);\r\n        btn2.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn2.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n\r\n        image = new ImageIcon(new File(&quot;path&quot;).getPath());\r\n        JButton btn3 = new JButton(image);\r\n        btn3.setText(&quot;Third Menu&quot;);\r\n        btn3.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn3.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n\r\n        image = new ImageIcon(new File(&quot;path&quot;).getPath());\r\n        JButton btn4 = new JButton(image);\r\n        btn4.setText(&quot;Fourth Menu&quot;);\r\n        btn4.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn4.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n\r\n        image = new ImageIcon(new File(&quot;path&quot;).getPath());\r\n        JButton btn5 = new JButton(image);\r\n        btn5.setText(&quot;Fifth Menu&quot;);\r\n        btn5.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn5.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n\r\n        JPanel jp = new JPanel();\r\n\r\n        layout.setHorizontalGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn1)\r\n                        .addComponent(jp))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn4))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn2)\r\n                        .addComponent(jp))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn5))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn3)\r\n                        .addComponent(jp)));\r\n\r\n        layout.setVerticalGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\r\n                        .addComponent(btn1)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn2)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn3))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn4)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn5)\r\n                        .addComponent(jp)));\r\n\r\n        layout.linkSize(btn1,btn2,btn3,btn4,btn5);\r\n\r\n        c.add(jpmain,BorderLayout.CENTER);\r\n        c.add(new JPanel(), BorderLayout.WEST);\r\n        c.add(new JPanel(),BorderLayout.EAST);\r\n        c.add(new JPanel(), BorderLayout.NORTH);\r\n        c.add(new JPanel(),BorderLayout.SOUTH);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UI2 frame = new UI2();\r\n    }\r\n    }\r\n\r\n\r\n ","title":"botton3 is going out of screen/not visible","body":"<p>I am trying to make a layout where all buttons have image and text. The five buttons are placed in two rows with buttons in second row placed in between gaps of first row. The problem is button3(btn3)/Third menu is out of screen/not visible. I am placing the Grouplayout in center of Borderlayout. Here is the code:</p>\n<pre><code>public class UI2 extends JFrame {\n\nUI2() {\n    setSize(600, 600);\n    setTitle(&quot;Dashboard&quot;);\n    Container c = getContentPane();\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JPanel jpmain = new JPanel();\n    GroupLayout layout = new GroupLayout(jpmain);\n    jpmain.setLayout(layout);\n\n    ImageIcon image = new ImageIcon(new File(&quot;path&quot;).getPath());\n    JButton btn1 = new JButton(image);\n    btn1.setText(&quot;First Menu&quot;);\n    btn1.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn1.setVerticalTextPosition(SwingConstants.BOTTOM);\n\n    image = new ImageIcon(new File(&quot;path&quot;).getPath());\n    JButton btn2 = new JButton(image);\n    btn2.setText(&quot;Second Menu&quot;);\n    btn2.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn2.setVerticalTextPosition(SwingConstants.BOTTOM);\n\n    image = new ImageIcon(new File(&quot;path&quot;).getPath());\n    JButton btn3 = new JButton(image);\n    btn3.setText(&quot;Third Menu&quot;);\n    btn3.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn3.setVerticalTextPosition(SwingConstants.BOTTOM);\n\n    image = new ImageIcon(new File(&quot;path&quot;).getPath());\n    JButton btn4 = new JButton(image);\n    btn4.setText(&quot;Fourth Menu&quot;);\n    btn4.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn4.setVerticalTextPosition(SwingConstants.BOTTOM);\n\n    image = new ImageIcon(new File(&quot;path&quot;).getPath());\n    JButton btn5 = new JButton(image);\n    btn5.setText(&quot;Fifth Menu&quot;);\n    btn5.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn5.setVerticalTextPosition(SwingConstants.BOTTOM);\n\n    JPanel jp = new JPanel();\n\n    layout.setHorizontalGroup(layout.createSequentialGroup()\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn1)\n                    .addComponent(jp))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(jp)\n                    .addComponent(btn4))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn2)\n                    .addComponent(jp))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(jp)\n                    .addComponent(btn5))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn3)\n                    .addComponent(jp)));\n\n    layout.setVerticalGroup(layout.createSequentialGroup()\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\n                    .addComponent(btn1)\n                    .addComponent(jp)\n                    .addComponent(btn2)\n                    .addComponent(jp)\n                    .addComponent(btn3))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\n                    .addComponent(jp)\n                    .addComponent(btn4)\n                    .addComponent(jp)\n                    .addComponent(btn5)\n                    .addComponent(jp)));\n\n    layout.linkSize(btn1,btn2,btn3,btn4,btn5);\n\n    c.add(jpmain,BorderLayout.CENTER);\n    c.add(new JPanel(), BorderLayout.WEST);\n    c.add(new JPanel(),BorderLayout.EAST);\n    c.add(new JPanel(), BorderLayout.NORTH);\n    c.add(new JPanel(),BorderLayout.SOUTH);\n    setVisible(true);\n}\n\npublic static void main(String[] args) {\n    UI2 frame = new UI2();\n}\n}\n</code></pre>\n"},{"tags":["java","swing","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637852929,"creation_date":1637824164,"answer_id":70107061,"question_id":70106555,"body_markdown":"The central area looks like a `GridLayout` of 3 x 3 `JButton` controls with icons. Below that is a centered `FlowLayout` of 3 x `JRadioButton` which I&#39;d guess is allowing the user to control a `CardLayout` currently pointing to the &#39;9 button card&#39;.\r\n\r\n&gt; I want to make layout which looks like this image.\r\n\r\nOne thing that confuses many, is that there can be more than one layout within a single view. It is rare I&#39;ll use but a single layout for a main GUI or much else, for that matter. \r\n\r\n&gt; How to put gaps in gridlayout between cards?\r\n\r\nSee the &#39;2&#39; values in `new GridLayout(0,size,2,2)` as shown in [this answer](https://stackoverflow.com/a/70090878/418556).\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/TZcLh.png&quot;&gt;","title":"How to make this layout in Java Swing?","body":"<p>The central area looks like a <code>GridLayout</code> of 3 x 3 <code>JButton</code> controls with icons. Below that is a centered <code>FlowLayout</code> of 3 x <code>JRadioButton</code> which I'd guess is allowing the user to control a <code>CardLayout</code> currently pointing to the '9 button card'.</p>\n<blockquote>\n<p>I want to make layout which looks like this image.</p>\n</blockquote>\n<p>One thing that confuses many, is that there can be more than one layout within a single view. It is rare I'll use but a single layout for a main GUI or much else, for that matter.</p>\n<blockquote>\n<p>How to put gaps in gridlayout between cards?</p>\n</blockquote>\n<p>See the '2' values in <code>new GridLayout(0,size,2,2)</code> as shown in <a href=\"https://stackoverflow.com/a/70090878/418556\">this answer</a>.</p>\n<img src=\"https://i.stack.imgur.com/TZcLh.png\">\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637853328,"creation_date":1637835846,"answer_id":70109412,"question_id":70106555,"body_markdown":"One way to achieve the layout of 5 cards as illustrated by _dashboard_ is to use a combination of panels managed by `BoxLayout` (or `FlowLayout`, see comments):\r\n\r\n\t\r\n\timport java.awt.*;\r\n\timport java.net.*;\r\n\timport javax.swing.*;\r\n\t\r\n\tpublic class Main{\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setLocationByPlatform(true);\r\n\t\t\tframe.add(new CardsPane());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tclass CardsPane extends JPanel{\r\n\r\n\t\tprivate static final String SQUARE =\r\n\t\t\t\t&quot;https://cdn3.iconfinder.com/data/icons/softwaredemo/PNG/128x128/Box_Green.png&quot;;\r\n\t\tprivate static Icon icon;\r\n\r\n\t\tpublic CardsPane() {\r\n\t\t\tsetLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\t\ttry {\r\n\t\t\t\ticon = new ImageIcon(new URL(SQUARE));\r\n\t\t\t} catch (MalformedURLException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\tJPanel topCards = new JPanel();\r\n\t\t\t//comment out the next row to see the result with default (FlowLayout) layout manager \r\n\t\t\ttopCards.setLayout(new BoxLayout(topCards, BoxLayout.X_AXIS));\r\n\r\n\t\t\tfor (int i = 0; i &lt; 3; i++) {\r\n\t\t\t\ttopCards.add(getCard(&quot;card &quot;+i));\r\n\t\t\t}\r\n\t\t\tadd(topCards);\r\n\r\n\t\t\tJPanel bottomCards = new JPanel();\r\n\t\t\t//comment out the next row to see the result with default (FlowLayout) layout manager \r\n\t\t\tbottomCards.setLayout(new BoxLayout(bottomCards, BoxLayout.X_AXIS));\r\n\t\t\tfor (int i = 3; i &lt; 5; i++) {\r\n\t\t\t\tbottomCards.add(getCard(&quot;card &quot;+i));\r\n\t\t\t}\r\n\t\t\tadd(bottomCards);\r\n\t\t}\r\n\r\n\t\tprivate static JComponent getCard(String text){\r\n\r\n\t\t\tJLabel label = new JLabel(text);\r\n\t\t\tlabel.setHorizontalTextPosition(JLabel.CENTER);\r\n\t\t\tlabel.setVerticalTextPosition(JLabel.BOTTOM);\r\n\t\t\tlabel.setIcon(icon);\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n\r\n&lt;hr&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WWIcq.png","title":"How to make this layout in Java Swing?","body":"<p>One way to achieve the layout of 5 cards as illustrated by <em>dashboard</em> is to use a combination of panels managed by <code>BoxLayout</code> (or <code>FlowLayout</code>, see comments):</p>\n<pre><code>import java.awt.*;\nimport java.net.*;\nimport javax.swing.*;\n\npublic class Main{\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocationByPlatform(true);\n        frame.add(new CardsPane());\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n\nclass CardsPane extends JPanel{\n\n    private static final String SQUARE =\n            &quot;https://cdn3.iconfinder.com/data/icons/softwaredemo/PNG/128x128/Box_Green.png&quot;;\n    private static Icon icon;\n\n    public CardsPane() {\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        try {\n            icon = new ImageIcon(new URL(SQUARE));\n        } catch (MalformedURLException ex) {\n            ex.printStackTrace();\n        }\n\n        JPanel topCards = new JPanel();\n        //comment out the next row to see the result with default (FlowLayout) layout manager \n        topCards.setLayout(new BoxLayout(topCards, BoxLayout.X_AXIS));\n\n        for (int i = 0; i &lt; 3; i++) {\n            topCards.add(getCard(&quot;card &quot;+i));\n        }\n        add(topCards);\n\n        JPanel bottomCards = new JPanel();\n        //comment out the next row to see the result with default (FlowLayout) layout manager \n        bottomCards.setLayout(new BoxLayout(bottomCards, BoxLayout.X_AXIS));\n        for (int i = 3; i &lt; 5; i++) {\n            bottomCards.add(getCard(&quot;card &quot;+i));\n        }\n        add(bottomCards);\n    }\n\n    private static JComponent getCard(String text){\n\n        JLabel label = new JLabel(text);\n        label.setHorizontalTextPosition(JLabel.CENTER);\n        label.setVerticalTextPosition(JLabel.BOTTOM);\n        label.setIcon(icon);\n        return label;\n    }\n}\n</code></pre>\n<hr>\n<p><a href=\"https://i.stack.imgur.com/WWIcq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWIcq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8091424,"reputation":21,"user_id":6445074,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637853328,"creation_date":1637820916,"question_id":70106555,"body_markdown":"I want to make layout which looks like this image. I am having difficulty understanding how to go about this? Could somebody give me some pointers on how to go about this in that .. which layout and components to use? \r\n\r\n1. No need for multiple pages, just what is visible in image.\r\n2. In addition to image, I have text below every image in each card\r\n\r\n### Output image\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/O42FI.png&quot;&gt;\r\n\r\n\r\nThe above is a general representation of how it should appear. The actual location of cards is like &#39;Dashborad&#39; in the image below:\r\n\r\n![Output1][1]\r\n\r\nThe second row cards are to be placed between gaps of first row.\r\n\r\n  [1]: https://i.stack.imgur.com/g3Jja.png","title":"How to make this layout in Java Swing?","body":"<p>I want to make layout which looks like this image. I am having difficulty understanding how to go about this? Could somebody give me some pointers on how to go about this in that .. which layout and components to use?</p>\n<ol>\n<li>No need for multiple pages, just what is visible in image.</li>\n<li>In addition to image, I have text below every image in each card</li>\n</ol>\n<h3>Output image</h3>\n<img src=\"https://i.stack.imgur.com/O42FI.png\">\n<p>The above is a general representation of how it should appear. The actual location of cards is like 'Dashborad' in the image below:</p>\n<p><img src=\"https://i.stack.imgur.com/g3Jja.png\" alt=\"Output1\" /></p>\n<p>The second row cards are to be placed between gaps of first row.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1538856075,"post_id":52682844,"comment_id":92293822,"body_markdown":"`instanceof` is the keyword. `if (this instanceof dog) ... ` and also have a look at the conventions (like classname with uppercase `class Dog` - just convention but most programmers adhere to it) Obs: instanceof does check if the object is a direct instance of the class or of any of its superclass, or if the object implements the given interface (if it is an interface)","body":"<code>instanceof</code> is the keyword. <code>if (this instanceof dog) ... </code> and also have a look at the conventions (like classname with uppercase <code>class Dog</code> - just convention but most programmers adhere to it) Obs: instanceof does check if the object is a direct instance of the class or of any of its superclass, or if the object implements the given interface (if it is an interface)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1538856096,"post_id":52682844,"comment_id":92293828,"body_markdown":"What possible type could `this` have, if it isn&#39;t `dog` there? What are you trying to test to see if it isn&#39;t a `dog`?","body":"What possible type could <code>this</code> have, if it isn&#39;t <code>dog</code> there? What are you trying to test to see if it isn&#39;t a <code>dog</code>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1538858934,"post_id":52682844,"comment_id":92294502,"body_markdown":"I have to agree with Elliott, your code is nonsensical.  I think you may have this confused with something else.  Are you perhaps learning inheritance?  Are you supposed to declare an `Animal` class and then have `dog` inherit from it?","body":"I have to agree with Elliott, your code is nonsensical.  I think you may have this confused with something else.  Are you perhaps learning inheritance?  Are you supposed to declare an <code>Animal</code> class and then have <code>dog</code> inherit from it?"},{"owner":{"account_id":13562555,"reputation":71,"user_id":9783742,"display_name":"Coldoe"},"score":0,"creation_date":1538946731,"post_id":52682844,"comment_id":92312700,"body_markdown":"I did one big mistake , I didn&#39;t put whole code but for me that&#39;s closed","body":"I did one big mistake , I didn&#39;t put whole code but for me that&#39;s closed"}],"answers":[{"tags":[],"owner":{"account_id":8550964,"reputation":3152,"user_id":6407858,"accept_rate":100,"display_name":"Yug Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538856198,"creation_date":1538856027,"answer_id":52682868,"question_id":52682844,"body_markdown":"You can use `instanceof` keyword to check type of object in java. \r\n\r\nFor example : \r\n\r\n    public class Stack  \r\n    {\r\n        public Stack() {\r\n\t\t\r\n\t}\r\n    public static void main(String[] args){\r\n      Stack s1 = new  Stack();\r\n      System.out.println(s1 instanceof Stack);\r\n    }\r\n    }\r\n\r\n\r\nIn you code you can do something like this:\r\n\r\n    if(this instanceof dog)\r\n        {\r\n            System.out.println(&quot;dunno how to woof&quot;);\r\n        }","title":"How to check type of class in Java?","body":"<p>You can use <code>instanceof</code> keyword to check type of object in java. </p>\n\n<p>For example : </p>\n\n<pre><code>public class Stack  \n{\n    public Stack() {\n\n}\npublic static void main(String[] args){\n  Stack s1 = new  Stack();\n  System.out.println(s1 instanceof Stack);\n}\n}\n</code></pre>\n\n<p>In you code you can do something like this:</p>\n\n<pre><code>if(this instanceof dog)\n    {\n        System.out.println(\"dunno how to woof\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538856354,"creation_date":1538856046,"answer_id":52682871,"question_id":52682844,"body_markdown":"this.getClass() returns the class of the object.\r\n\r\nInstance of tells you if it is of this type. In other words dog is instance of animal, dog is also instance of dog.\r\n","title":"How to check type of class in Java?","body":"<p>this.getClass() returns the class of the object.</p>\n\n<p>Instance of tells you if it is of this type. In other words dog is instance of animal, dog is also instance of dog.</p>\n"},{"tags":[],"owner":{"account_id":9267495,"reputation":81,"user_id":6882538,"accept_rate":0,"display_name":"abmerday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637853018,"creation_date":1637849272,"answer_id":70112509,"question_id":52682844,"body_markdown":" This way you can check too.\r\n  \r\n\r\n      Dog s = new  Dog(dog, dunno, nowaga);\r\n\r\n      if(s.getClass().equals( Dog.class))\r\n      {\r\n        System.out.println(&quot;dunno how to woof&quot;);\r\n      }","title":"How to check type of class in Java?","body":"<p>This way you can check too.</p>\n<pre><code>  Dog s = new  Dog(dog, dunno, nowaga);\n\n  if(s.getClass().equals( Dog.class))\n  {\n    System.out.println(&quot;dunno how to woof&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":13562555,"reputation":71,"user_id":9783742,"display_name":"Coldoe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26681,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1637853018,"creation_date":1538855835,"question_id":52682844,"body_markdown":"I&#39;m a newbie to [Java][1]. I wrote a [class][2] with a method, which checks the Object type. I did my initial search in google and it was difficult to understand the articles available online. I would appreciate any help. I know that line **if(Object == dog)** doesn&#39;t work. How could I fix this? \r\n\r\n\r\n    public class dog {\r\n        private String name;\r\n        private String rasa;\r\n        private int waga;\r\n    \r\n        public dog(String name, String rasa, int waga) {\r\n            this.name = name;\r\n            this.rasa = rasa;\r\n            this.waga = waga;\r\n        }\r\n        public void printdog()\r\n        {\r\n            System.out.println(this.name);\r\n            System.out.println(this.rasa);\r\n            System.out.println(this.waga);\r\n            if(Object() == dog)\r\n            {\r\n                System.out.println(&quot;dunno how to woof&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.java.com/\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/concepts/class.html","title":"How to check type of class in Java?","body":"<p>I'm a newbie to <a href=\"https://www.java.com/\" rel=\"nofollow noreferrer\">Java</a>. I wrote a <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/class.html\" rel=\"nofollow noreferrer\">class</a> with a method, which checks the Object type. I did my initial search in google and it was difficult to understand the articles available online. I would appreciate any help. I know that line <strong>if(Object == dog)</strong> doesn't work. How could I fix this? </p>\n\n<pre><code>public class dog {\n    private String name;\n    private String rasa;\n    private int waga;\n\n    public dog(String name, String rasa, int waga) {\n        this.name = name;\n        this.rasa = rasa;\n        this.waga = waga;\n    }\n    public void printdog()\n    {\n        System.out.println(this.name);\n        System.out.println(this.rasa);\n        System.out.println(this.waga);\n        if(Object() == dog)\n        {\n            System.out.println(\"dunno how to woof\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","querydsl","sql-view"],"answers":[{"tags":[],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637852981,"creation_date":1634621772,"answer_id":69625599,"question_id":69616260,"body_markdown":"The solution is to create a class represents the view data with @Entity annotation and after running &quot;mvn install&quot; command the Q object will be created.","title":"Build a Q object for sql view","body":"<p>The solution is to create a class represents the view data with @Entity annotation and after running &quot;mvn install&quot; command the Q object will be created.</p>\n"}],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69625599,"answer_count":1,"score":-1,"last_activity_date":1637852981,"creation_date":1634560840,"question_id":69616260,"body_markdown":"I&#39;m using querydsl in my spring-boot application.\r\n\r\nIs it possible to build Q object for my sql- views?\r\n\r\nWhen i&#39;m running &quot;mvn install&quot; command Q objects are created only for tables and not for views.\r\n\r\n**pom**\r\n\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n             &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n             &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    ------\r\n        &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.3&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;process&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n                                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n           &lt;/plugin&gt;","title":"Build a Q object for sql view","body":"<p>I'm using querydsl in my spring-boot application.</p>\n<p>Is it possible to build Q object for my sql- views?</p>\n<p>When i'm running &quot;mvn install&quot; command Q objects are created only for tables and not for views.</p>\n<p><strong>pom</strong></p>\n<pre><code>    &lt;dependency&gt;\n         &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n         &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n         &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n------\n    &lt;plugin&gt;\n                    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.3&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;process&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                                    &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n       &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","react-native","webrtc","mediasoup"],"comments":[{"owner":{"account_id":1342742,"reputation":2702,"user_id":1284113,"accept_rate":50,"display_name":"Footniko"},"score":0,"creation_date":1654675777,"post_id":69328015,"comment_id":128144737,"body_markdown":"The `maxBitrate` values look too low.","body":"The <code>maxBitrate</code> values look too low."}],"answers":[{"tags":[],"owner":{"account_id":7162996,"reputation":680,"user_id":5490436,"display_name":"Aloiso Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637531946,"creation_date":1637531946,"answer_id":70058933,"question_id":69328015,"body_markdown":"You need set video constraints when getUserMedia, resolution and frameRate must have a fine tunning so you can decrease bandwidth.\r\n\r\nThere are some good tricks: auto-mute audio and video when speaker stop speaks, and auto-unmute when he start speakes again, this will save much bandwidth, decrease cpu (server usage).  ","title":"Mediasoup Bitrate limit issue with react-native","body":"<p>You need set video constraints when getUserMedia, resolution and frameRate must have a fine tunning so you can decrease bandwidth.</p>\n<p>There are some good tricks: auto-mute audio and video when speaker stop speaks, and auto-unmute when he start speakes again, this will save much bandwidth, decrease cpu (server usage).</p>\n"}],"owner":{"account_id":22858352,"reputation":1,"user_id":17002848,"display_name":"AsaadAlMawla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637852912,"creation_date":1632587042,"question_id":69328015,"body_markdown":"I’ve been trying to set a limit for the bitrate produced from mediasoup device, but it didn’t work. I did use multiple approaches, still didn’t get any result.\r\nUsing the webrtc-internal observers on google chrome, I noticed that the bitrates received by the other client are reaching. For example, 2Mbit/s, which is not suitable for me.\r\n\r\nBelow are two of the approaches, I’ve used:\r\n\r\n**---------------------------------First one ---------------------------------**\r\n\r\n```\r\nconst videoTrack = localStream.getVideoTracks()[0];\r\nvar params = { track: videoTrack, zeroRtpOnPause: true, appData: { mediaType: ‘camera’ }, disableTrackOnPause: true };\r\ncameraProducer = await producerLocalTransport.produce(params);\r\ncameraProducer.setRtpEncodingParameters({ active: true, maxBitrate: 50000 });\r\n```\r\n\r\n**---------------------------------Second one------------------------------**\r\n```\r\nconst videoTrack = localStream.getVideoTracks()[0];\r\nvar params = { track: videoTrack,encodings:[{maxBitrate: 50000}], zeroRtpOnPause: true, appData: { mediaType: ‘camera’ }, disableTrackOnPause: true };\r\ncameraProducer = await producerLocalTransport.produce(params);\r\n```\r\n\r\n\r\nCan anyone help? Thanks in advance.","title":"Mediasoup Bitrate limit issue with react-native","body":"<p>I’ve been trying to set a limit for the bitrate produced from mediasoup device, but it didn’t work. I did use multiple approaches, still didn’t get any result.\nUsing the webrtc-internal observers on google chrome, I noticed that the bitrates received by the other client are reaching. For example, 2Mbit/s, which is not suitable for me.</p>\n<p>Below are two of the approaches, I’ve used:</p>\n<p><strong>---------------------------------First one ---------------------------------</strong></p>\n<pre><code>const videoTrack = localStream.getVideoTracks()[0];\nvar params = { track: videoTrack, zeroRtpOnPause: true, appData: { mediaType: ‘camera’ }, disableTrackOnPause: true };\ncameraProducer = await producerLocalTransport.produce(params);\ncameraProducer.setRtpEncodingParameters({ active: true, maxBitrate: 50000 });\n</code></pre>\n<p><strong>---------------------------------Second one------------------------------</strong></p>\n<pre><code>const videoTrack = localStream.getVideoTracks()[0];\nvar params = { track: videoTrack,encodings:[{maxBitrate: 50000}], zeroRtpOnPause: true, appData: { mediaType: ‘camera’ }, disableTrackOnPause: true };\ncameraProducer = await producerLocalTransport.produce(params);\n</code></pre>\n<p>Can anyone help? Thanks in advance.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1637853129,"post_id":70113129,"comment_id":123941061,"body_markdown":"Well, I&#39;d say have a `child node xPath` (`or any locator`) and then use `Invisibility` for that web element.","body":"Well, I&#39;d say have a <code>child node xPath</code> (<code>or any locator</code>) and then use <code>Invisibility</code> for that web element."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637852730,"creation_date":1637852416,"answer_id":70113289,"question_id":70113129,"body_markdown":"It&#39;s actually very easy, this will make opposite to any of ExpectedConditions:\r\n\r\n    ExpectedConditions.not(ExpectedConditions.CONDITION)","title":"Selenium Java Invisibility of Child (nested) element","body":"<p>It's actually very easy, this will make opposite to any of ExpectedConditions:</p>\n<pre><code>ExpectedConditions.not(ExpectedConditions.CONDITION)\n</code></pre>\n"}],"owner":{"account_id":16200053,"reputation":35,"user_id":11696652,"display_name":"ValorHeart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70113289,"answer_count":1,"score":1,"last_activity_date":1637852730,"creation_date":1637851686,"question_id":70113129,"body_markdown":"I know how to wait for element to disappear or appear (`invisibilityOfElementLocated` or `visibilityOfElementLocated`)\r\nand also how to wait for child (nested) element to appear (`presenceOfNestedElementLocatedBy`)\r\n\r\nbut i didn&#39;t find a way to wait for child (nested) element to disappear.\r\n\r\nwill appreciate your help!","title":"Selenium Java Invisibility of Child (nested) element","body":"<p>I know how to wait for element to disappear or appear (<code>invisibilityOfElementLocated</code> or <code>visibilityOfElementLocated</code>)\nand also how to wait for child (nested) element to appear (<code>presenceOfNestedElementLocatedBy</code>)</p>\n<p>but i didn't find a way to wait for child (nested) element to disappear.</p>\n<p>will appreciate your help!</p>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637823767,"post_id":70106881,"comment_id":123929684,"body_markdown":"Unless you wait for all Threads to be finished the result will not be correct.  Consider using `Thread::join` or by using `ExecutorService `","body":"Unless you wait for all Threads to be finished the result will not be correct.  Consider using <code>Thread::join</code> or by using <code>ExecutorService </code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1637824793,"post_id":70106881,"comment_id":123929977,"body_markdown":"You are asking the wrong question here.  There is no rule that says `volatile` &quot;must&quot; be used.  But yes ... `volatile` would be one way to ensure that the latest value of `value` is returned by `getValue()`.  (But not the only way.)","body":"You are asking the wrong question here.  There is no rule that says <code>volatile</code> &quot;must&quot; be used.  But yes ... <code>volatile</code> would be one way to ensure that the latest value of <code>value</code> is returned by <code>getValue()</code>.  (But not the only way.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1637825225,"post_id":70106881,"comment_id":123930110,"body_markdown":"Rather than asking for / looking for a simplistic rule (which doesn&#39;t exist) on when `volatile` is required, you should probably be reading a comprehensive tutorial on writing concurrent Java code.  Or better still ... the definitive textbook.","body":"Rather than asking for / looking for a simplistic rule (which doesn&#39;t exist) on when <code>volatile</code> is required, you should probably be reading a comprehensive tutorial on writing concurrent Java code.  Or better still ... the definitive textbook."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1637852902,"post_id":70106881,"comment_id":123940981,"body_markdown":"There&#39;s more to the code than a missing or not missing `volatile`.","body":"There&#39;s more to the code than a missing or not missing <code>volatile</code>."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637852039,"creation_date":1637852039,"answer_id":70113205,"question_id":70106881,"body_markdown":"The Java `volatile` keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.\r\n\r\nYou have multiple threads using the same object. Which means that there is a chance that they will read the value of this field from the CPU cache. Therefore, you need to use volatile.\r\n\r\nHere&#39;s a more detailed [guide][1] with some background.\r\n\r\nDoes this solve your problem ? Let me know in the comments.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-volatile","title":"when volatile must be add?","body":"<p>The Java <code>volatile</code> keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.</p>\n<p>You have multiple threads using the same object. Which means that there is a chance that they will read the value of this field from the CPU cache. Therefore, you need to use volatile.</p>\n<p>Here's a more detailed <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">guide</a> with some background.</p>\n<p>Does this solve your problem ? Let me know in the comments.</p>\n"}],"owner":{"account_id":7107201,"reputation":23,"user_id":5436466,"display_name":"Allme"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637854426,"answer_count":1,"score":-1,"last_activity_date":1637852039,"creation_date":1637822946,"question_id":70106881,"body_markdown":"whether the private member variable `value` in class `Result` need to be modified by `volatile`\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Result result = new Result();\r\n\r\n        synchronized (result) {\r\n            new Thread(new Task1(result)).start();\r\n            new Thread(new Task1(result)).start();\r\n            new Thread(new Task1(result)).start();\r\n            new Thread(new Task1(result)).start();\r\n            new Thread(new Task1(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n            new Thread(new Task2(result)).start();\r\n\r\n            result.wait(1500);\r\n        }\r\n\r\n        System.out.println(result.getValue());\r\n        System.out.println(&quot;Finished&quot;);\r\n    }\r\n}\r\n\r\nclass Result {\r\n    private Integer value;\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Integer value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass Task1 implements Runnable {\r\n    private final Result result;\r\n\r\n    public Task1(Result result) {\r\n        this.result = result;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            // call function1\r\n            Thread.sleep(1010);\r\n            if (result.getValue() == null) {\r\n                synchronized (result) {\r\n                    if(result.getValue() == null) {\r\n                        result.setValue(new Integer(10000));\r\n                        System.out.println(&quot;####: 1&quot;);\r\n//                throw new InterruptedException();\r\n                        result.notify();\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass Task2 implements Runnable {\r\n\r\n    private final Result result;\r\n\r\n    public Task2(Result result) {\r\n        this.result = result;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            // call function2\r\n            Thread.sleep(1000);\r\n            if (result.getValue() == null) {\r\n                synchronized (result) {\r\n                    if(result.getValue() == null) {\r\n                        result.setValue(new Integer(2000000));\r\n                        System.out.println(&quot;####: 2&quot;);\r\n                        result.notify();\r\n                    }\r\n                }\r\n            }\r\n\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"when volatile must be add?","body":"<p>whether the private member variable <code>value</code> in class <code>Result</code> need to be modified by <code>volatile</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) throws InterruptedException {\n        Result result = new Result();\n\n        synchronized (result) {\n            new Thread(new Task1(result)).start();\n            new Thread(new Task1(result)).start();\n            new Thread(new Task1(result)).start();\n            new Thread(new Task1(result)).start();\n            new Thread(new Task1(result)).start();\n            new Thread(new Task2(result)).start();\n            new Thread(new Task2(result)).start();\n            new Thread(new Task2(result)).start();\n            new Thread(new Task2(result)).start();\n            new Thread(new Task2(result)).start();\n            new Thread(new Task2(result)).start();\n\n            result.wait(1500);\n        }\n\n        System.out.println(result.getValue());\n        System.out.println(&quot;Finished&quot;);\n    }\n}\n\nclass Result {\n    private Integer value;\n\n    public Integer getValue() {\n        return value;\n    }\n\n    public void setValue(Integer value) {\n        this.value = value;\n    }\n}\n\nclass Task1 implements Runnable {\n    private final Result result;\n\n    public Task1(Result result) {\n        this.result = result;\n    }\n\n    @Override\n    public void run() {\n        try {\n            // call function1\n            Thread.sleep(1010);\n            if (result.getValue() == null) {\n                synchronized (result) {\n                    if(result.getValue() == null) {\n                        result.setValue(new Integer(10000));\n                        System.out.println(&quot;####: 1&quot;);\n//                throw new InterruptedException();\n                        result.notify();\n                    }\n\n                }\n            }\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass Task2 implements Runnable {\n\n    private final Result result;\n\n    public Task2(Result result) {\n        this.result = result;\n    }\n\n    @Override\n    public void run() {\n        try {\n            // call function2\n            Thread.sleep(1000);\n            if (result.getValue() == null) {\n                synchronized (result) {\n                    if(result.getValue() == null) {\n                        result.setValue(new Integer(2000000));\n                        System.out.println(&quot;####: 2&quot;);\n                        result.notify();\n                    }\n                }\n            }\n\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637851971,"creation_date":1637851971,"answer_id":70113186,"question_id":70103023,"body_markdown":"1. add the following method to the DBHelper class \r\n\r\n:-\r\n\r\n    @SuppressLint(&quot;Range&quot;) // suppress Bug/issue with getColumnIndex\r\n    public FlightsModel getFlightById(int id) {\r\n        FlightsModel rv;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        // Uses the query convenience method rather than raw query\r\n        Cursor csr = db.query(FLIGHTS,null,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(id)},null,null,null);\r\n        if (csr.moveToFirst()) {\r\n            rv = new FlightsModel(\r\n                    csr.getInt(csr.getColumnIndex(COLUMN_ID)),\r\n                    csr.getString(csr.getColumnIndex(COLUMN_DESTINATION)),\r\n                    csr.getDouble(csr.getColumnIndex(COLUMN_PRICE)),\r\n                    csr.getString(csr.getColumnIndex(COLUMN_DEPARTURE_TIME)),\r\n                    csr.getString(csr.getColumnIndex(COLUMN_ARRIVAL_TIME)),\r\n                    csr.getString(csr.getColumnIndex(COLUMN_DURATION)),\r\n                    csr.getInt(csr.getColumnIndex(COLUMN_AVAILABLE_SEATS))\r\n            );\r\n        }  else {\r\n            rv = new FlightsModel();\r\n        }\r\n        csr.close();\r\n        // No need to close the database (inefficient to keep opening and clsoing db)\r\n        return rv;\r\n    }\r\n\r\n- note that `getWritableDatabase` has been used, it doesn&#39;t really matter which is used as `getReadableDatabase` will, unless the database can only be read, get a writeable database. i.e. `getReadableDatabase` will not protect against writes.\r\n\r\n- it is better to use getColumnIndex than hard code column indexes. Thus irrespective of the position of the column the column will be found, thus  reducing potential maintenance issues.\r\n\r\n2. Change the BookingActivity to retrieve the respective FlightsModel\r\n\r\n:-\r\n\r\n    public class BookingActivity extends AppCompatActivity {\r\n        \r\n        TextView textView;\r\n        DBHelper dbHelper; //&lt;&lt;&lt;&lt;&lt; ADDED\r\n        FlightsModel flightsModel; //&lt;&lt;&lt;&lt;&lt; ADDED\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_booking);\r\n            dbHelper = new DBHelper(this); //&lt;&lt;&lt;&lt;&lt; ADDED\r\n    \r\n            textView = findViewById(R.id.textView);\r\n            \r\n            Intent mIntent = getIntent();\r\n            int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\r\n            flightsModel = dbHelper.getFlightById(intValue); //&lt;&lt;&lt;&lt;&lt; get the flightModel from the database\r\n            if (flightsModel.id &gt; 1) {\r\n                // set the appropriate textviews\r\n            } else {\r\n                // do something here to indicate no FlightsModel found in database\r\n            }\r\n            textView.setText(Integer.toString(intValue)); \r\n        }\r\n    }","title":"Using integer value to get SQLite database table row data of row index in order to display said data in textviews in new activity","body":"<ol>\n<li>add the following method to the DBHelper class</li>\n</ol>\n<p>:-</p>\n<pre><code>@SuppressLint(&quot;Range&quot;) // suppress Bug/issue with getColumnIndex\npublic FlightsModel getFlightById(int id) {\n    FlightsModel rv;\n    SQLiteDatabase db = this.getWritableDatabase();\n    // Uses the query convenience method rather than raw query\n    Cursor csr = db.query(FLIGHTS,null,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(id)},null,null,null);\n    if (csr.moveToFirst()) {\n        rv = new FlightsModel(\n                csr.getInt(csr.getColumnIndex(COLUMN_ID)),\n                csr.getString(csr.getColumnIndex(COLUMN_DESTINATION)),\n                csr.getDouble(csr.getColumnIndex(COLUMN_PRICE)),\n                csr.getString(csr.getColumnIndex(COLUMN_DEPARTURE_TIME)),\n                csr.getString(csr.getColumnIndex(COLUMN_ARRIVAL_TIME)),\n                csr.getString(csr.getColumnIndex(COLUMN_DURATION)),\n                csr.getInt(csr.getColumnIndex(COLUMN_AVAILABLE_SEATS))\n        );\n    }  else {\n        rv = new FlightsModel();\n    }\n    csr.close();\n    // No need to close the database (inefficient to keep opening and clsoing db)\n    return rv;\n}\n</code></pre>\n<ul>\n<li><p>note that <code>getWritableDatabase</code> has been used, it doesn't really matter which is used as <code>getReadableDatabase</code> will, unless the database can only be read, get a writeable database. i.e. <code>getReadableDatabase</code> will not protect against writes.</p>\n</li>\n<li><p>it is better to use getColumnIndex than hard code column indexes. Thus irrespective of the position of the column the column will be found, thus  reducing potential maintenance issues.</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Change the BookingActivity to retrieve the respective FlightsModel</li>\n</ol>\n<p>:-</p>\n<pre><code>public class BookingActivity extends AppCompatActivity {\n    \n    TextView textView;\n    DBHelper dbHelper; //&lt;&lt;&lt;&lt;&lt; ADDED\n    FlightsModel flightsModel; //&lt;&lt;&lt;&lt;&lt; ADDED\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_booking);\n        dbHelper = new DBHelper(this); //&lt;&lt;&lt;&lt;&lt; ADDED\n\n        textView = findViewById(R.id.textView);\n        \n        Intent mIntent = getIntent();\n        int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\n        flightsModel = dbHelper.getFlightById(intValue); //&lt;&lt;&lt;&lt;&lt; get the flightModel from the database\n        if (flightsModel.id &gt; 1) {\n            // set the appropriate textviews\n        } else {\n            // do something here to indicate no FlightsModel found in database\n        }\n        textView.setText(Integer.toString(intValue)); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23445222,"reputation":1,"user_id":17502136,"display_name":"Innovated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637851971,"creation_date":1637788506,"question_id":70103023,"body_markdown":"I am trying to display my FLIGHTS table row data depending on the index in a activity using textviews. How do I get the index of the table row and display the table rows columns in textviews in an activity.\r\n\r\nHere is my activity where I am trying to display the data in textviews: \r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class BookingActivity extends AppCompatActivity {\r\n    \r\n    \r\n        TextView textView;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_booking);\r\n    \r\n            textView = findViewById(R.id.textView);\r\n    \r\n    \r\n    \r\n            Intent mIntent = getIntent();\r\n            int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\r\n            textView.setText(Integer.toString(intValue));\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nthe intValue variable I am getting from another activity which represents the position being clicked on a listview. \r\nI am then trying to use that variable to display the row index of the FLIGHTS table into textviews.\r\n\r\nHere is my DBHelper class: \r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    \r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DBNAME = &quot;Login.db&quot;;\r\n        public static final String FLIGHTS = &quot;FLIGHTS&quot;;\r\n        public static final String COLUMN_ID = &quot;ID&quot;;\r\n        public static final String COLUMN_DESTINATION = &quot;DESTINATION&quot;;\r\n        public static final String COLUMN_PRICE = &quot;PRICE&quot;;\r\n        public static final String COLUMN_DEPARTURE_TIME = &quot;DEPARTURE_TIME&quot;;\r\n        public static final String COLUMN_ARRIVAL_TIME = &quot;ARRIVAL_TIME&quot;;\r\n        public static final String COLUMN_DURATION = &quot;DURATION&quot;;\r\n        public static final String COLUMN_AVAILABLE_SEATS = &quot;AVAILABLE_SEATS&quot;;\r\n    \r\n        public DBHelper(Context context) {\r\n            super(context, &quot;Login.db&quot;, null, 1);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase MyDB) {\r\n    \r\n            String createTable1 = &quot;create Table users(username TEXT primary key, password TEXT)&quot;;\r\n            MyDB.execSQL(createTable1);\r\n    \r\n            MyDB.execSQL(&quot;CREATE TABLE &quot; + FLIGHTS + &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_DESTINATION + &quot; TEXT, &quot; + COLUMN_PRICE + &quot; REAL, &quot; + COLUMN_DEPARTURE_TIME + &quot; TEXT, &quot; + COLUMN_ARRIVAL_TIME + &quot; TEXT, &quot; + COLUMN_DURATION + &quot; TEXT, &quot; + COLUMN_AVAILABLE_SEATS + &quot; INTEGER )&quot;);\r\n    \r\n    \r\n            ContentValues insertValues = new ContentValues();\r\n            insertValues.put(COLUMN_DESTINATION, &quot;Cape Town&quot;);\r\n            insertValues.put(COLUMN_PRICE, 500);\r\n            insertValues.put(COLUMN_DEPARTURE_TIME, &quot;1200&quot;);\r\n            insertValues.put(COLUMN_ARRIVAL_TIME, &quot;1400&quot;);\r\n            insertValues.put(COLUMN_DURATION, &quot;2&quot;);\r\n            insertValues.put(COLUMN_AVAILABLE_SEATS, 10);\r\n            MyDB.insert(FLIGHTS, null, insertValues);\r\n    \r\n            ContentValues insertValues2 = new ContentValues();\r\n            insertValues2.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\r\n            insertValues2.put(COLUMN_PRICE, 1000);\r\n            insertValues2.put(COLUMN_DEPARTURE_TIME, &quot;1400&quot;);\r\n            insertValues2.put(COLUMN_ARRIVAL_TIME, &quot;1600&quot;);\r\n            insertValues2.put(COLUMN_DURATION, &quot;2&quot;);\r\n            insertValues2.put(COLUMN_AVAILABLE_SEATS, 22);\r\n            MyDB.insert(FLIGHTS, null, insertValues2);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase MyDB, int i, int i1) {\r\n            MyDB.execSQL(&quot;drop Table if exists users&quot;);\r\n            MyDB.execSQL(&quot;drop Table if exists &quot; + FLIGHTS);\r\n    \r\n            onCreate(MyDB);\r\n        }\r\n    \r\n        public Boolean insertData(String username, String password){\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            ContentValues contentValues= new ContentValues();\r\n            contentValues.put(&quot;username&quot;, username);\r\n            contentValues.put(&quot;password&quot;, password);\r\n            long result = MyDB.insert(&quot;users&quot;, null, contentValues);\r\n            if(result==-1) return false;\r\n            else\r\n                return true;\r\n        }\r\n    \r\n        public Boolean checkusername(String username) {\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            Cursor cursor = MyDB.rawQuery(&quot;Select * from users where username = ?&quot;, new String[]{username});\r\n            if (cursor.getCount() &gt; 0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n    \r\n        public Boolean checkusernamepassword(String username, String password){\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            Cursor cursor = MyDB.rawQuery(&quot;Select * from users where username = ? and password = ?&quot;, new String[] {username,password});\r\n            if(cursor.getCount()&gt;0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n    \r\n    \r\n        public List&lt;FlightsModel&gt; getEveryone(){\r\n    \r\n            List&lt;FlightsModel&gt; returnList = new ArrayList&lt;&gt;();\r\n    \r\n            String queryString = &quot;SELECT * FROM &quot; + FLIGHTS;\r\n    \r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = db.rawQuery(queryString, null);\r\n    \r\n            if(cursor.moveToFirst()){\r\n                do {\r\n                    int id = cursor.getInt(0);\r\n                    String destination = cursor.getString(1);\r\n                    double price = cursor.getDouble(2);\r\n                    String departure = cursor.getString(3);\r\n                    String arrival = cursor.getString(4);\r\n                    String duration = cursor.getString(5);\r\n                    int space = cursor.getInt(6);\r\n    \r\n                    FlightsModel newFlight = new FlightsModel(id, destination, price, departure, arrival, duration, space);\r\n                    returnList.add(newFlight);\r\n    \r\n    \r\n                }while (cursor.moveToNext());\r\n            }\r\n            else{\r\n    \r\n            }\r\n            cursor.close();\r\n            db.close();\r\n            return returnList;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n","title":"Using integer value to get SQLite database table row data of row index in order to display said data in textviews in new activity","body":"<p>I am trying to display my FLIGHTS table row data depending on the index in a activity using textviews. How do I get the index of the table row and display the table rows columns in textviews in an activity.</p>\n<p>Here is my activity where I am trying to display the data in textviews:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class BookingActivity extends AppCompatActivity {\n\n\n    TextView textView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_booking);\n\n        textView = findViewById(R.id.textView);\n\n\n\n        Intent mIntent = getIntent();\n        int intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\n        textView.setText(Integer.toString(intValue));\n\n\n    }\n\n\n}\n</code></pre>\n<p>the intValue variable I am getting from another activity which represents the position being clicked on a listview.\nI am then trying to use that variable to display the row index of the FLIGHTS table into textviews.</p>\n<p>Here is my DBHelper class:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DBHelper extends SQLiteOpenHelper {\n    public static final String DBNAME = &quot;Login.db&quot;;\n    public static final String FLIGHTS = &quot;FLIGHTS&quot;;\n    public static final String COLUMN_ID = &quot;ID&quot;;\n    public static final String COLUMN_DESTINATION = &quot;DESTINATION&quot;;\n    public static final String COLUMN_PRICE = &quot;PRICE&quot;;\n    public static final String COLUMN_DEPARTURE_TIME = &quot;DEPARTURE_TIME&quot;;\n    public static final String COLUMN_ARRIVAL_TIME = &quot;ARRIVAL_TIME&quot;;\n    public static final String COLUMN_DURATION = &quot;DURATION&quot;;\n    public static final String COLUMN_AVAILABLE_SEATS = &quot;AVAILABLE_SEATS&quot;;\n\n    public DBHelper(Context context) {\n        super(context, &quot;Login.db&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase MyDB) {\n\n        String createTable1 = &quot;create Table users(username TEXT primary key, password TEXT)&quot;;\n        MyDB.execSQL(createTable1);\n\n        MyDB.execSQL(&quot;CREATE TABLE &quot; + FLIGHTS + &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_DESTINATION + &quot; TEXT, &quot; + COLUMN_PRICE + &quot; REAL, &quot; + COLUMN_DEPARTURE_TIME + &quot; TEXT, &quot; + COLUMN_ARRIVAL_TIME + &quot; TEXT, &quot; + COLUMN_DURATION + &quot; TEXT, &quot; + COLUMN_AVAILABLE_SEATS + &quot; INTEGER )&quot;);\n\n\n        ContentValues insertValues = new ContentValues();\n        insertValues.put(COLUMN_DESTINATION, &quot;Cape Town&quot;);\n        insertValues.put(COLUMN_PRICE, 500);\n        insertValues.put(COLUMN_DEPARTURE_TIME, &quot;1200&quot;);\n        insertValues.put(COLUMN_ARRIVAL_TIME, &quot;1400&quot;);\n        insertValues.put(COLUMN_DURATION, &quot;2&quot;);\n        insertValues.put(COLUMN_AVAILABLE_SEATS, 10);\n        MyDB.insert(FLIGHTS, null, insertValues);\n\n        ContentValues insertValues2 = new ContentValues();\n        insertValues2.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\n        insertValues2.put(COLUMN_PRICE, 1000);\n        insertValues2.put(COLUMN_DEPARTURE_TIME, &quot;1400&quot;);\n        insertValues2.put(COLUMN_ARRIVAL_TIME, &quot;1600&quot;);\n        insertValues2.put(COLUMN_DURATION, &quot;2&quot;);\n        insertValues2.put(COLUMN_AVAILABLE_SEATS, 22);\n        MyDB.insert(FLIGHTS, null, insertValues2);\n\n\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase MyDB, int i, int i1) {\n        MyDB.execSQL(&quot;drop Table if exists users&quot;);\n        MyDB.execSQL(&quot;drop Table if exists &quot; + FLIGHTS);\n\n        onCreate(MyDB);\n    }\n\n    public Boolean insertData(String username, String password){\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        ContentValues contentValues= new ContentValues();\n        contentValues.put(&quot;username&quot;, username);\n        contentValues.put(&quot;password&quot;, password);\n        long result = MyDB.insert(&quot;users&quot;, null, contentValues);\n        if(result==-1) return false;\n        else\n            return true;\n    }\n\n    public Boolean checkusername(String username) {\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        Cursor cursor = MyDB.rawQuery(&quot;Select * from users where username = ?&quot;, new String[]{username});\n        if (cursor.getCount() &gt; 0)\n            return true;\n        else\n            return false;\n    }\n\n    public Boolean checkusernamepassword(String username, String password){\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        Cursor cursor = MyDB.rawQuery(&quot;Select * from users where username = ? and password = ?&quot;, new String[] {username,password});\n        if(cursor.getCount()&gt;0)\n            return true;\n        else\n            return false;\n    }\n\n\n    public List&lt;FlightsModel&gt; getEveryone(){\n\n        List&lt;FlightsModel&gt; returnList = new ArrayList&lt;&gt;();\n\n        String queryString = &quot;SELECT * FROM &quot; + FLIGHTS;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = db.rawQuery(queryString, null);\n\n        if(cursor.moveToFirst()){\n            do {\n                int id = cursor.getInt(0);\n                String destination = cursor.getString(1);\n                double price = cursor.getDouble(2);\n                String departure = cursor.getString(3);\n                String arrival = cursor.getString(4);\n                String duration = cursor.getString(5);\n                int space = cursor.getInt(6);\n\n                FlightsModel newFlight = new FlightsModel(id, destination, price, departure, arrival, duration, space);\n                returnList.add(newFlight);\n\n\n            }while (cursor.moveToNext());\n        }\n        else{\n\n        }\n        cursor.close();\n        db.close();\n        return returnList;\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","testing","junit","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637851725,"creation_date":1637851725,"answer_id":70113138,"question_id":70112040,"body_markdown":"OK, so here are the best practices in the area.\r\n\r\n&gt; should I write Integration Test for Controllers or may it be also ok to write Integration Test for Services also\r\n\r\nMost of the integration tests run for services. This is because each service can support several controllers and multiple interfaces in general. For controllers you do just the happy path tests on an integration level.\r\n\r\nAny tests for controller specific exceptions go into the controller **unit** test, where you mock out the service.\r\n\r\n&gt; How can I test a void in service by Integration Test? \r\n\r\n\r\nYou check its side effect. For example, you use a `repository class` to see if the relevant data has been persisted to the database.\r\n\r\nDoes this solve your problem ? Let me know in the comments.\r\n","title":"void method in Java Integration Tests","body":"<p>OK, so here are the best practices in the area.</p>\n<blockquote>\n<p>should I write Integration Test for Controllers or may it be also ok to write Integration Test for Services also</p>\n</blockquote>\n<p>Most of the integration tests run for services. This is because each service can support several controllers and multiple interfaces in general. For controllers you do just the happy path tests on an integration level.</p>\n<p>Any tests for controller specific exceptions go into the controller <strong>unit</strong> test, where you mock out the service.</p>\n<blockquote>\n<p>How can I test a void in service by Integration Test?</p>\n</blockquote>\n<p>You check its side effect. For example, you use a <code>repository class</code> to see if the relevant data has been persisted to the database.</p>\n<p>Does this solve your problem ? Let me know in the comments.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1637851725,"creation_date":1637847254,"question_id":70112040,"body_markdown":"I have some experience with Unit Tests in Java and now started to write Integration Tests. However, I have some troubles understanding the Integration Test and writing test. Here are some issues that I would like to be clarified:\r\n\r\n**1.** In my Java (based on Spring Boot) project, should I write Integration Test for Controllers or may it be also ok to write Integration Test for Services also (because there are some methods that are not called from Controller). \r\n\r\n**2.** How can I test a void in service by Integration Test? I have not found a proper example on the web and I thought there  is no need or way to test void via Integration Test. Any clarification pls? ","title":"void method in Java Integration Tests","body":"<p>I have some experience with Unit Tests in Java and now started to write Integration Tests. However, I have some troubles understanding the Integration Test and writing test. Here are some issues that I would like to be clarified:</p>\n<p><strong>1.</strong> In my Java (based on Spring Boot) project, should I write Integration Test for Controllers or may it be also ok to write Integration Test for Services also (because there are some methods that are not called from Controller).</p>\n<p><strong>2.</strong> How can I test a void in service by Integration Test? I have not found a proper example on the web and I thought there  is no need or way to test void via Integration Test. Any clarification pls?</p>\n"},{"tags":["java","jdbc","atomikos"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637851346,"post_id":70112300,"comment_id":123940307,"body_markdown":"First of all, start using [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html). Also try a newer version than your current MySQL Connector/J version (5.1.30 is pretty old), because the stacktrace suggests the problem occurs when Atomikos checks if a statement is closed, and it gets an exception instead of a `true` in response to `Statement.isClosed()`. Which is probably a bug, and I would guess that is solved in more recent 5.1.x (currently: 5.1.49) or 8.0.x (currently: 8.0.27) versions of MySQL Connector/J.","body":"First of all, start using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>. Also try a newer version than your current MySQL Connector/J version (5.1.30 is pretty old), because the stacktrace suggests the problem occurs when Atomikos checks if a statement is closed, and it gets an exception instead of a <code>true</code> in response to <code>Statement.isClosed()</code>. Which is probably a bug, and I would guess that is solved in more recent 5.1.x (currently: 5.1.49) or 8.0.x (currently: 8.0.27) versions of MySQL Connector/J."},{"owner":{"account_id":22120878,"reputation":1,"user_id":16374142,"display_name":"Dowymn"},"score":0,"creation_date":1637851730,"post_id":70112300,"comment_id":123940465,"body_markdown":"It works if I put everything in the try-with-resources (but not if I only add the statement instance), but I would like to understand the &quot;why&quot;... The Atomikos version is 4.0.56, but I can&#39;t find the mysql one (it&#39;s automatically set by another framework I don&#39;t have access to). (I&#39;ve added these information to my post)\nBut the hypothesis of a bug is really interesting, because before using the connection framework I had added manually the maven mysql dependency. But I&#39;m not sure I can change the version of mysql.","body":"It works if I put everything in the try-with-resources (but not if I only add the statement instance), but I would like to understand the &quot;why&quot;... The Atomikos version is 4.0.56, but I can&#39;t find the mysql one (it&#39;s automatically set by another framework I don&#39;t have access to). (I&#39;ve added these information to my post) But the hypothesis of a bug is really interesting, because before using the connection framework I had added manually the maven mysql dependency. But I&#39;m not sure I can change the version of mysql."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637851895,"post_id":70112300,"comment_id":123940540,"body_markdown":"Your MySQL Connector/J version is listed in the stacktrace (5.1.30), which is a pretty old version. And as I say in my revised comment, this is probably a bug in that MySQL Connector/J version (based on the stacktrace and the expected behaviour of isClosed()).","body":"Your MySQL Connector/J version is listed in the stacktrace (5.1.30), which is a pretty old version. And as I say in my revised comment, this is probably a bug in that MySQL Connector/J version (based on the stacktrace and the expected behaviour of isClosed())."},{"owner":{"account_id":22120878,"reputation":1,"user_id":16374142,"display_name":"Dowymn"},"score":0,"creation_date":1637851946,"post_id":70112300,"comment_id":123940571,"body_markdown":"Oh, thanks! I&#39;m not sure I can change it, maybe it could work by overriding it in my pom.","body":"Oh, thanks! I&#39;m not sure I can change it, maybe it could work by overriding it in my pom."}],"owner":{"account_id":22120878,"reputation":1,"user_id":16374142,"display_name":"Dowymn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637851698,"creation_date":1637848441,"question_id":70112300,"body_markdown":"I am working on a program that allows to compare databases, and I have an issue with the statements.\r\nIt has worked perfectly until I decided to use a connection framework that works with Spring (I have to use it for some reasons).\r\n\r\nHere is my piece of code (I didn&#39;t need to change anything here when I added the connection framework):\r\n```java\r\nStatement stmt = null;\r\nResultSet rs = null;\r\n\r\ntry {\r\n\tstmt = connection.createStatement();\r\n\trs = stmt.executeQuery(query); // the query is defined above\r\n\r\n\t// if I replace the 2 lines above by this, it works perfectly\r\n\t//rs = connection.createStatement().executeQuery(query);\r\n\t\r\n\tpks = new ArrayList&lt;&gt;();\r\n\t\r\n\twhile(rs.next()) {\r\n\t\tpks.add(rs.getString(1));\r\n\t}\r\n\t\r\n\tpks.sort(new KeysNameComparator());\r\n\t\r\n} catch (SQLException e) {\r\n\tSystem.err.println(&quot;Error : &quot; + Utili.getClassName(this) + &quot; : getPrimaryKeys(String) : &quot;);\r\n\te.printStackTrace();\r\n} finally {\r\n\ttry {\r\n\t\tif ( rs != null ) {\r\n\t\t\trs.close();\r\n\t\t}\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\ttry {\r\n\t\tif ( stmt != null ) {\r\n\t\t\tstmt.close();\r\n\t\t}\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nNow, when my program tries to create a statement from a connection, I get this error: \r\n```none\r\n14:22:54.154 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:54.154 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:54.154 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\r\n14:22:54.191 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:54.191 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:54.191 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\r\n14:22:54.206 [main] DEBUG c.a.jdbc.\t - Failed to determine if statement was closed - ignoring\r\njava.sql.SQLException: Statement already closed\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1084) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:973) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.mysql.jdbc.jdbc2.optional.JDBC4StatementWrapper.isClosed(JDBC4StatementWrapper.java:75) ~[mysql-connector-java-5.1.30.jar:na]\r\n\tat com.atomikos.jdbc.AbstractConnectionProxy.purgeClosedStatements(AbstractConnectionProxy.java:43) [transactions-jdbc-4.0.56.jar:na]\r\n\tat com.atomikos.jdbc.AbstractConnectionProxy.addStatement(AbstractConnectionProxy.java:34) [transactions-jdbc-4.0.56.jar:na]\r\n\tat com.atomikos.jdbc.AtomikosConnectionProxy.invoke(AtomikosConnectionProxy.java:153) [transactions-jdbc-4.0.56.jar:na]\r\n\tat com.sun.proxy.$Proxy9.createStatement(Unknown Source) [na:na]\r\n\tat fr.ca.cat.lib.libdephasagescheck.dao.TablesDAO.executeQuery(TablesDAO.java:105) [classes/:na]\r\n\tat fr.ca.cat.lib.libdephasagescheck.dao.TablesDAO.getTable(TablesDAO.java:246) [classes/:na]\r\n\tat fr.ca.cat.lib.libdephasagescheck.tables.Database.getTablesFromDB(Database.java:77) [classes/:na]\r\n\tat fr.ca.cat.lib.libdephasagescheck.compare.DatabaseComparison.compareDatabases(DatabaseComparison.java:64) [classes/:na]\r\n\tat fr.ca.cat.lib.libdephasagescheck.Launcher.main(Launcher.java:42) [classes/:na]\r\n```\r\n\r\nHowever, if I just replace:\r\n```java\r\nstmt = connection.createStatement();\r\nrs = stmt.executeQuery(query);\r\n```\r\nby: \r\n```java\r\nrs = connection.createStatement().executeQuery(query);\r\n``` \r\nit works perfectly and I get this in the terminal:\r\n```none\r\n14:22:12.808 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:12.808 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:12.808 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\r\n14:22:12.840 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:12.840 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\r\n14:22:12.840 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\r\n```\r\nBut I can&#39;t use this solution, because this way doesn&#39;t allow to close the statement.\r\n\r\nWhen I get the exception, the only difference in the terminal (excluding the exception) is this line:\r\n```none\r\n14:22:54.206 [main] DEBUG c.a.jdbc.AbstractConnectionProxy - Failed to determine if statement was closed - ignoring\r\n```\r\nbut I don&#39;t really know what it means and what to do.\r\n\r\nIn debug mode, the line that launches the exception is `stmt = connection.createStatement();`, and of course I made sure the connection isn&#39;t closed.\r\n\r\nI have already read a lot of topics about already closed statement issues, but most of them were solved by not reusing statements in a loop (which can&#39;t be applied here).\r\n\r\nWould anyone know what happens and what I could do to solve this issue?\r\n\r\n**EDIT:**\r\n- It works if I put everything in the try-with-resources (but not if I only add the statement instance), but I would like to understand the &quot;why&quot; because it makes no sense to me.\r\n- The Atomikos version is 4.0.56, but I can&#39;t find the mysql one (it&#39;s automatically set by another framework I don&#39;t have access to).","title":"Java SQLException : Statement already closed","body":"<p>I am working on a program that allows to compare databases, and I have an issue with the statements.\nIt has worked perfectly until I decided to use a connection framework that works with Spring (I have to use it for some reasons).</p>\n<p>Here is my piece of code (I didn't need to change anything here when I added the connection framework):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Statement stmt = null;\nResultSet rs = null;\n\ntry {\n    stmt = connection.createStatement();\n    rs = stmt.executeQuery(query); // the query is defined above\n\n    // if I replace the 2 lines above by this, it works perfectly\n    //rs = connection.createStatement().executeQuery(query);\n    \n    pks = new ArrayList&lt;&gt;();\n    \n    while(rs.next()) {\n        pks.add(rs.getString(1));\n    }\n    \n    pks.sort(new KeysNameComparator());\n    \n} catch (SQLException e) {\n    System.err.println(&quot;Error : &quot; + Utili.getClassName(this) + &quot; : getPrimaryKeys(String) : &quot;);\n    e.printStackTrace();\n} finally {\n    try {\n        if ( rs != null ) {\n            rs.close();\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    try {\n        if ( stmt != null ) {\n            stmt.close();\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Now, when my program tries to create a statement from a connection, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>14:22:54.154 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:54.154 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:54.154 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\n14:22:54.191 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:54.191 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:54.191 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\n14:22:54.206 [main] DEBUG c.a.jdbc.  - Failed to determine if statement was closed - ignoring\njava.sql.SQLException: Statement already closed\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1084) ~[mysql-connector-java-5.1.30.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987) ~[mysql-connector-java-5.1.30.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:973) ~[mysql-connector-java-5.1.30.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918) ~[mysql-connector-java-5.1.30.jar:na]\n    at com.mysql.jdbc.jdbc2.optional.JDBC4StatementWrapper.isClosed(JDBC4StatementWrapper.java:75) ~[mysql-connector-java-5.1.30.jar:na]\n    at com.atomikos.jdbc.AbstractConnectionProxy.purgeClosedStatements(AbstractConnectionProxy.java:43) [transactions-jdbc-4.0.56.jar:na]\n    at com.atomikos.jdbc.AbstractConnectionProxy.addStatement(AbstractConnectionProxy.java:34) [transactions-jdbc-4.0.56.jar:na]\n    at com.atomikos.jdbc.AtomikosConnectionProxy.invoke(AtomikosConnectionProxy.java:153) [transactions-jdbc-4.0.56.jar:na]\n    at com.sun.proxy.$Proxy9.createStatement(Unknown Source) [na:na]\n    at fr.ca.cat.lib.libdephasagescheck.dao.TablesDAO.executeQuery(TablesDAO.java:105) [classes/:na]\n    at fr.ca.cat.lib.libdephasagescheck.dao.TablesDAO.getTable(TablesDAO.java:246) [classes/:na]\n    at fr.ca.cat.lib.libdephasagescheck.tables.Database.getTablesFromDB(Database.java:77) [classes/:na]\n    at fr.ca.cat.lib.libdephasagescheck.compare.DatabaseComparison.compareDatabases(DatabaseComparison.java:64) [classes/:na]\n    at fr.ca.cat.lib.libdephasagescheck.Launcher.main(Launcher.java:42) [classes/:na]\n</code></pre>\n<p>However, if I just replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stmt = connection.createStatement();\nrs = stmt.executeQuery(query);\n</code></pre>\n<p>by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>rs = connection.createStatement().executeQuery(query);\n</code></pre>\n<p>it works perfectly and I get this in the terminal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>14:22:12.808 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:12.808 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:12.808 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\n14:22:12.840 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:12.840 [main] WARN  c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: WARNING: transaction manager not running?\n14:22:12.840 [main] DEBUG c.a.jdbc.AtomikosConnectionProxy - atomikos connection proxy for com.mysql.jdbc.jdbc2.optional.JDBC4ConnectionWrapper@2e385cce: calling createStatement...\n</code></pre>\n<p>But I can't use this solution, because this way doesn't allow to close the statement.</p>\n<p>When I get the exception, the only difference in the terminal (excluding the exception) is this line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>14:22:54.206 [main] DEBUG c.a.jdbc.AbstractConnectionProxy - Failed to determine if statement was closed - ignoring\n</code></pre>\n<p>but I don't really know what it means and what to do.</p>\n<p>In debug mode, the line that launches the exception is <code>stmt = connection.createStatement();</code>, and of course I made sure the connection isn't closed.</p>\n<p>I have already read a lot of topics about already closed statement issues, but most of them were solved by not reusing statements in a loop (which can't be applied here).</p>\n<p>Would anyone know what happens and what I could do to solve this issue?</p>\n<p><strong>EDIT:</strong></p>\n<ul>\n<li>It works if I put everything in the try-with-resources (but not if I only add the statement instance), but I would like to understand the &quot;why&quot; because it makes no sense to me.</li>\n<li>The Atomikos version is 4.0.56, but I can't find the mysql one (it's automatically set by another framework I don't have access to).</li>\n</ul>\n"},{"tags":["java","file","filereader"],"comments":[{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1637838219,"post_id":70109900,"comment_id":123935072,"body_markdown":"Can you try printing ```file.getAbsolutePath()``` to see what it prints?","body":"Can you try printing <code>file.getAbsolutePath()</code> to see what it prints?"},{"owner":{"account_id":19160778,"reputation":33,"user_id":15766544,"display_name":"DaVinziBoi"},"score":0,"creation_date":1637838571,"post_id":70109900,"comment_id":123935218,"body_markdown":"It prints /NOTICE.txt, I am thinking of creating separate releases for different OSs since I searched everywhere and couldn&#39;t find a result","body":"It prints /NOTICE.txt, I am thinking of creating separate releases for different OSs since I searched everywhere and couldn&#39;t find a result"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637838914,"post_id":70109900,"comment_id":123935332,"body_markdown":"Refer to method `getResource` in class `java.lang.Class`.","body":"Refer to method <code>getResource</code> in class <code>java.lang.Class</code>."},{"owner":{"account_id":19160778,"reputation":33,"user_id":15766544,"display_name":"DaVinziBoi"},"score":0,"creation_date":1637851238,"post_id":70109900,"comment_id":123940255,"body_markdown":"I did this `Main obj = new Main();\n        Class class1 = obj.getClass();\n        URL myUrl = class1.getResource(&quot;README.txt&quot;);\n        System.out.println(myUrl);` It gave me the output &#39;null&#39;","body":"I did this <code>Main obj = new Main();         Class class1 = obj.getClass();         URL myUrl = class1.getResource(&quot;README.txt&quot;);         System.out.println(myUrl);</code> It gave me the output &#39;null&#39;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637913705,"post_id":70109900,"comment_id":123954614,"body_markdown":"Put file `NOTICE.txt` in the same directory as file `Main.class` (note ___.class___ and not _.java_) and use the following code: `URL myUrl = getClass().getResource(&quot;NOTICE.txt&quot;);`","body":"Put file <code>NOTICE.txt</code> in the same directory as file <code>Main.class</code> (note <b><i>.class</i></b> and not <i>.java</i>) and use the following code: <code>URL myUrl = getClass().getResource(&quot;NOTICE.txt&quot;);</code>"},{"owner":{"account_id":19160778,"reputation":33,"user_id":15766544,"display_name":"DaVinziBoi"},"score":0,"creation_date":1637918544,"post_id":70109900,"comment_id":123956224,"body_markdown":"Yes, it does recognize the file it outputs: file:/Users/me/NetBeansProjects/BlinMaker/src/main/java/blinmaker/NOTICE.txt , but only works when I manually compile it without the Package and External Maven repositories, incredibly inconvienient but guess I&#39;ll have to live with it","body":"Yes, it does recognize the file it outputs: file:/Users/me/NetBeansProjects/BlinMaker/src/main/java/blin&zwnj;&#8203;maker/NOTICE.txt , but only works when I manually compile it without the Package and External Maven repositories, incredibly inconvienient but guess I&#39;ll have to live with it"}],"owner":{"account_id":19160778,"reputation":33,"user_id":15766544,"display_name":"DaVinziBoi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637851573,"creation_date":1637837782,"question_id":70109900,"body_markdown":" How can I read a file (*.txt), which is located inside of the folder where my Main.java is located, without giving the full pathname\r\n\r\n(TestApp&gt;src&gt;main&gt;java&gt;testapp&gt;README.txt) with testapp being the source folder. When I do:  `File file = new File(&quot;README.txt&quot;);` it doesn&#39;t seem to work, but when I give the full path it works, since this varies from OS to OS it is quite inefficient is there a workaround to this? Since I don&#39;t have any idea where users are gonna extract the files and run them.\r\n\r\nSystem: OSX Big Sur \r\n\r\nIDE: NetBeans\r\n\r\nJava: Java 17\r\n\r\n \r\n\r\n    import org.apache.maven.model.Model;\r\n    import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\n    import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    import java.awt.Desktop;  \r\n    import java.io.*;  \r\n    \r\n    \r\n    import java.lang.*;\r\n    import java.util.*;\r\n    import java.net.URL;   \r\n    \r\n    /**\r\n     * BlinMaker is a cooking assistant designed to help you shop for groceries and\r\n     * help you discover new recipes according to you taste, available time and\r\n     * budget all in your computer. * Copyright (C) 2021 Habis Muhammed\r\n     *\r\n     * This program is free software: you can redistribute it and/or modify it under\r\n     * the terms of the GNU General Public License as published by the Free Software\r\n     * Foundation, either version 3 of the License, or (at your option) any later\r\n     * version.\r\n     *\r\n     * This program is distributed in the hope that it will be useful, but WITHOUT\r\n     * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\r\n     * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more\r\n     * details.\r\n     *\r\n     * @author Habis Muhammed\r\n     */\r\n    public class Main {\r\n    \r\n        /*\r\n         * @param args the command line arguments\r\n         \r\n        public static void main(String[] args) {\r\n            \r\n        }\r\n         */\r\n        public static void main(String[] args) throws IOException, XmlPullParserException {\r\n            \r\n            \r\n            \r\n            MavenXpp3Reader reader = new MavenXpp3Reader();\r\n            Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n            String version = model.getVersion();\r\n            System.out.println(&quot;Welcome to BlinMaker ver &quot; + version);\r\n            System.out.println(&quot;&quot;&quot;\r\n                               BlinMaker  Copyright (C) 2021  Habis Muhammed\r\n                                   This program comes with ABSOLUTELY NO WARRANTY; for details type `show w&#39;.\r\n                                   This is free software, and you are welcome to redistribute it\r\n                                   under certain conditions; type `show c&#39; for license. Or press enter to continue&quot;&quot;&quot;);\r\n            Scanner keyIn = new Scanner(System.in);\r\n            keyIn.nextLine();\r\n            System.gc();\r\n            String username = System.getProperty(&quot;user.name&quot;);\r\n            System.out.println(username);\r\n            //INTRO ENDS\r\n    \r\n            System.out.println(&quot;Starting setup...&quot;);\r\n            try {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException ex) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n            budget(keyIn, username);\r\n        }\r\n    \r\n        public static int budget(Scanner a, String username) {\r\n            File file = new File(&quot;/NOTICE.txt&quot;);\r\n            String[] countries = {&quot;ITALY&quot;, &quot;FRANCE&quot;, &quot;USA&quot;, &quot;UK&quot;, &quot;JAPAN&quot;, &quot;SPAIN&quot;, &quot;MEXICO&quot;, &quot;SOUTH KOREA&quot;, &quot;KOREA&quot;, &quot;REPUBLIC OF KOREA&quot;, &quot;SWITZERLAND&quot;, &quot;GERMANY&quot;, &quot;SWEDEN&quot;, &quot;DENMARK&quot;, &quot;CHINA&quot;, &quot;BRAZIL&quot;, &quot;CANADA&quot;, &quot;SINGAPORE&quot;, &quot;AUSTRALIA&quot;, &quot;GREECE&quot;, &quot;NETHERLANDS&quot;, &quot;NEW ZEALAND&quot;, &quot;MEXICO&quot;, &quot;INDIA&quot;, &quot;SRI LANKA&quot;, &quot;CENTRAL AFRICA&quot;, &quot;WEST AFRICA&quot;, &quot;EAST AFRICA&quot;, &quot;NORTH AFRICA&quot;, &quot;SOUTH AFRICA&quot;, &quot;TURKEY&quot;, &quot;NONE&quot;};\r\n            try {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException ex) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n            System.out.println(&quot;Please enter your country: (Why do you need this info? Please type \\&quot;README\\&quot;, type \\&quot;NONE\\&quot; if you want all reccomendations)&quot;);\r\n            String country = a.nextLine();\r\n            country = country.toUpperCase();\r\n            switch (country) {\r\n                case &quot;README&quot;:\r\n                    openFile(username,a, file);\r\n                //username);\r\n            }\r\n            System.out.println(country);\r\n    \r\n            System.out.println(&quot;Please enter your monthly budget&quot;);\r\n            int budget = a.nextInt();\r\n            return budget;\r\n        }\r\n    \r\n        public static void openFile(String username, Scanner a, File file) {\r\n            ///Users/lamna/NetBeansProjects/BlinMaker/NOTICE.txt\r\n            //System.out.println(file.getAbsolutePath());\r\n            Main obj = new Main();\r\n            Class class1 = obj.getClass();\r\n            URL myUrl = class1.getResource(&quot;/Users/lamna/NetBeansProjects/BlinMaker/src/main/java/blinmaker/NOTICE.txt&quot;);\r\n            System.out.println(myUrl);\r\n            /*try {\r\n                //constructor of file class having file as argument  \r\n                //File file = new File(&quot;/Users/&quot;+username+&quot;/NetBeansProjects/BlinMaker/NOTICE.txt&quot;);\r\n                if (!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not  \r\n                {\r\n                    System.out.println(&quot;ERROR: Cannot read file!&quot;);\r\n                    a.nextLine();\r\n                    \r\n                    return;\r\n                }\r\n                Desktop desktop = Desktop.getDesktop();\r\n                if (file.exists()) //checks file exists or not  \r\n                {\r\n                    desktop.open(file);              //opens the specified file  \r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }*/\r\n        }\r\n    }\r\n\r\nNOTE: Edited code according to suggestions by commentors\r\n\r\n","title":"Read file inside source folder without giving full PATH","body":"<p>How can I read a file (*.txt), which is located inside of the folder where my Main.java is located, without giving the full pathname</p>\n<p>(TestApp&gt;src&gt;main&gt;java&gt;testapp&gt;README.txt) with testapp being the source folder. When I do:  <code>File file = new File(&quot;README.txt&quot;);</code> it doesn't seem to work, but when I give the full path it works, since this varies from OS to OS it is quite inefficient is there a workaround to this? Since I don't have any idea where users are gonna extract the files and run them.</p>\n<p>System: OSX Big Sur</p>\n<p>IDE: NetBeans</p>\n<p>Java: Java 17</p>\n<pre><code>import org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport java.awt.Desktop;  \nimport java.io.*;  \n\n\nimport java.lang.*;\nimport java.util.*;\nimport java.net.URL;   \n\n/**\n * BlinMaker is a cooking assistant designed to help you shop for groceries and\n * help you discover new recipes according to you taste, available time and\n * budget all in your computer. * Copyright (C) 2021 Habis Muhammed\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU General Public License as published by the Free Software\n * Foundation, either version 3 of the License, or (at your option) any later\n * version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more\n * details.\n *\n * @author Habis Muhammed\n */\npublic class Main {\n\n    /*\n     * @param args the command line arguments\n     \n    public static void main(String[] args) {\n        \n    }\n     */\n    public static void main(String[] args) throws IOException, XmlPullParserException {\n        \n        \n        \n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\n        String version = model.getVersion();\n        System.out.println(&quot;Welcome to BlinMaker ver &quot; + version);\n        System.out.println(&quot;&quot;&quot;\n                           BlinMaker  Copyright (C) 2021  Habis Muhammed\n                               This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n                               This is free software, and you are welcome to redistribute it\n                               under certain conditions; type `show c' for license. Or press enter to continue&quot;&quot;&quot;);\n        Scanner keyIn = new Scanner(System.in);\n        keyIn.nextLine();\n        System.gc();\n        String username = System.getProperty(&quot;user.name&quot;);\n        System.out.println(username);\n        //INTRO ENDS\n\n        System.out.println(&quot;Starting setup...&quot;);\n        try {\n            Thread.sleep(100);\n        } catch (InterruptedException ex) {\n            Thread.currentThread().interrupt();\n        }\n        budget(keyIn, username);\n    }\n\n    public static int budget(Scanner a, String username) {\n        File file = new File(&quot;/NOTICE.txt&quot;);\n        String[] countries = {&quot;ITALY&quot;, &quot;FRANCE&quot;, &quot;USA&quot;, &quot;UK&quot;, &quot;JAPAN&quot;, &quot;SPAIN&quot;, &quot;MEXICO&quot;, &quot;SOUTH KOREA&quot;, &quot;KOREA&quot;, &quot;REPUBLIC OF KOREA&quot;, &quot;SWITZERLAND&quot;, &quot;GERMANY&quot;, &quot;SWEDEN&quot;, &quot;DENMARK&quot;, &quot;CHINA&quot;, &quot;BRAZIL&quot;, &quot;CANADA&quot;, &quot;SINGAPORE&quot;, &quot;AUSTRALIA&quot;, &quot;GREECE&quot;, &quot;NETHERLANDS&quot;, &quot;NEW ZEALAND&quot;, &quot;MEXICO&quot;, &quot;INDIA&quot;, &quot;SRI LANKA&quot;, &quot;CENTRAL AFRICA&quot;, &quot;WEST AFRICA&quot;, &quot;EAST AFRICA&quot;, &quot;NORTH AFRICA&quot;, &quot;SOUTH AFRICA&quot;, &quot;TURKEY&quot;, &quot;NONE&quot;};\n        try {\n            Thread.sleep(100);\n        } catch (InterruptedException ex) {\n            Thread.currentThread().interrupt();\n        }\n        System.out.println(&quot;Please enter your country: (Why do you need this info? Please type \\&quot;README\\&quot;, type \\&quot;NONE\\&quot; if you want all reccomendations)&quot;);\n        String country = a.nextLine();\n        country = country.toUpperCase();\n        switch (country) {\n            case &quot;README&quot;:\n                openFile(username,a, file);\n            //username);\n        }\n        System.out.println(country);\n\n        System.out.println(&quot;Please enter your monthly budget&quot;);\n        int budget = a.nextInt();\n        return budget;\n    }\n\n    public static void openFile(String username, Scanner a, File file) {\n        ///Users/lamna/NetBeansProjects/BlinMaker/NOTICE.txt\n        //System.out.println(file.getAbsolutePath());\n        Main obj = new Main();\n        Class class1 = obj.getClass();\n        URL myUrl = class1.getResource(&quot;/Users/lamna/NetBeansProjects/BlinMaker/src/main/java/blinmaker/NOTICE.txt&quot;);\n        System.out.println(myUrl);\n        /*try {\n            //constructor of file class having file as argument  \n            //File file = new File(&quot;/Users/&quot;+username+&quot;/NetBeansProjects/BlinMaker/NOTICE.txt&quot;);\n            if (!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not  \n            {\n                System.out.println(&quot;ERROR: Cannot read file!&quot;);\n                a.nextLine();\n                \n                return;\n            }\n            Desktop desktop = Desktop.getDesktop();\n            if (file.exists()) //checks file exists or not  \n            {\n                desktop.open(file);              //opens the specified file  \n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }*/\n    }\n}\n</code></pre>\n<p>NOTE: Edited code according to suggestions by commentors</p>\n"},{"tags":["java","json","exception"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1637851129,"post_id":70111716,"comment_id":123940202,"body_markdown":"What exactly is the desired content of the response ? The list of bad fields or just an error mesage ?","body":"What exactly is the desired content of the response ? The list of bad fields or just an error mesage ?"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1637851237,"post_id":70111716,"comment_id":123940254,"body_markdown":"Yes, that&#39;s right, I would like to display a list of invalid fields. Although I also can send only error message instead of invalid fields. I suppose it doesn&#39;t matter","body":"Yes, that&#39;s right, I would like to display a list of invalid fields. Although I also can send only error message instead of invalid fields. I suppose it doesn&#39;t matter"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637851525,"creation_date":1637851525,"answer_id":70113083,"question_id":70111716,"body_markdown":"&gt; Yes, that&#39;s right, I would like to display a list of invalid fields\r\n\r\nOK, so here&#39;s what you can do ... \r\n\r\n1) You receive the request body as a `String`\r\n2) Then you try to deserealise it into an object using an `ObjectMapper` class in your controller.\r\n3) Then you need to catch the thrown exception and parse out the list of fields either from its fields (if they are there) or from the message.\r\n\r\nSee an example of an error message [here][1]. Also check the [Javadoc][2] for the `UnrecognizedPropertyException`\r\n\r\nDoes this solve your problem ? Let me know in the comments.\r\n\r\n  [1]: https://www.javacodegeeks.com/2017/10/jackson-json-parsing-error-unrecognizedpropertyexception-unrecognized-field-not-marked-ignorable-solved.html\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/exc/UnrecognizedPropertyException.html","title":"Catch exception of Json unknown fields","body":"<blockquote>\n<p>Yes, that's right, I would like to display a list of invalid fields</p>\n</blockquote>\n<p>OK, so here's what you can do ...</p>\n<ol>\n<li>You receive the request body as a <code>String</code></li>\n<li>Then you try to deserealise it into an object using an <code>ObjectMapper</code> class in your controller.</li>\n<li>Then you need to catch the thrown exception and parse out the list of fields either from its fields (if they are there) or from the message.</li>\n</ol>\n<p>See an example of an error message <a href=\"https://www.javacodegeeks.com/2017/10/jackson-json-parsing-error-unrecognizedpropertyexception-unrecognized-field-not-marked-ignorable-solved.html\" rel=\"nofollow noreferrer\">here</a>. Also check the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/exc/UnrecognizedPropertyException.html\" rel=\"nofollow noreferrer\">Javadoc</a> for the <code>UnrecognizedPropertyException</code></p>\n<p>Does this solve your problem ? Let me know in the comments.</p>\n"}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70113083,"answer_count":1,"score":1,"last_activity_date":1637851525,"creation_date":1637845809,"question_id":70111716,"body_markdown":"colleagues! I&#39;m using quakus and need to catch exceptions that occurs when I send request with wrong fields (FAIL_ON_UNKNOWN_PROPERTIES = true) and send it to the response . How Can I do this? Maybe I need to write custom deserializer of this object? ","title":"Catch exception of Json unknown fields","body":"<p>colleagues! I'm using quakus and need to catch exceptions that occurs when I send request with wrong fields (FAIL_ON_UNKNOWN_PROPERTIES = true) and send it to the response . How Can I do this? Maybe I need to write custom deserializer of this object?</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637846410,"post_id":70111595,"comment_id":123938295,"body_markdown":"Don&#39;t post code as images, but as code and please add your full controller and security configuration.","body":"Don&#39;t post code as images, but as code and please add your full controller and security configuration."},{"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"score":0,"creation_date":1637846796,"post_id":70111595,"comment_id":123938447,"body_markdown":"@M.Deinum modified the question","body":"@M.Deinum modified the question"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637846952,"post_id":70111595,"comment_id":123938495,"body_markdown":"And where is your websocket security configuration?","body":"And where is your websocket security configuration?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637847018,"post_id":70111595,"comment_id":123938524,"body_markdown":"Also your handler is wrong you are storing state on your controller (the `submittedTask`) which is just wrong.","body":"Also your handler is wrong you are storing state on your controller (the <code>submittedTask</code>) which is just wrong."},{"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"score":0,"creation_date":1637847069,"post_id":70111595,"comment_id":123938541,"body_markdown":"Uhm above. It is called WebSocketConfig","body":"Uhm above. It is called WebSocketConfig"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637847112,"post_id":70111595,"comment_id":123938560,"body_markdown":"No that is your websocket configuration **not** your websocket security configuration.","body":"No that is your websocket configuration <b>not</b> your websocket security configuration."},{"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"score":0,"creation_date":1637847156,"post_id":70111595,"comment_id":123938583,"body_markdown":"I have no Web socket security configuration in my project, only web security config","body":"I have no Web socket security configuration in my project, only web security config"}],"answers":[{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637851510,"creation_date":1637851510,"answer_id":70113077,"question_id":70111595,"body_markdown":"Try to implement ChannelInterceptor, that need to be registrated in Config file (class that implements WebSocketMessageBrokerConfigurer)\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer  {\r\n\r\n        private final ChannelInterceptor serverPushInBoundInterceptor;\r\n\r\n        @Autowired\r\n        public WebSocketConfig(@Qualifier(&quot;serverPushInBoundInterceptor&quot;) ChannelInterceptor serverPushInBoundInterceptor) {\r\n            this.serverPushInBoundInterceptor = serverPushInBoundInterceptor;\r\n        }\r\n\r\n        ....\r\n\r\n        @Override\r\n        public void configureClientInboundChannel(ChannelRegistration registration) {\r\n            registration.interceptors(serverPushInBoundInterceptor);\r\n        }\r\n    }\r\n\r\n    @Component(&quot;serverPushInBoundInterceptor&quot;)\r\n    public class ServerPushInBoundInterceptor implements ChannelInterceptor {\r\n        private static final Logger log = LoggerFactory.getLogger(ServerPushInBoundInterceptor.class);\r\n\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;NullableProblems&quot;)\r\n        public Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\r\n            StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n\r\n            if (StompCommand.CONNECT.equals(Objects.requireNonNull(accessor).getCommand())) {\r\n                List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\r\n                if (authorization != null &amp;&amp; !authorization.isEmpty()) {\r\n                    String auth = authorization.get(0).split(&quot; &quot;)[1];\r\n                    System.out.println(auth);\r\n                    try {\r\n\r\n                        // find Principal\r\n                        Principal principal = ...\r\n                        accessor.setUser(new UsernamePasswordAuthenticationToken(principal, principal.getCredentials(), principal.getAuthorities()));\r\n\r\n                    } catch (Exception exc) {\r\n                        log.error(&quot;preSend&quot;, exc);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return message;\r\n        }\r\n\r\n    }","title":"How to retrieve the current logged in user in a websocket controller","body":"<p>Try to implement ChannelInterceptor, that need to be registrated in Config file (class that implements WebSocketMessageBrokerConfigurer)</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer  {\n\n    private final ChannelInterceptor serverPushInBoundInterceptor;\n\n    @Autowired\n    public WebSocketConfig(@Qualifier(&quot;serverPushInBoundInterceptor&quot;) ChannelInterceptor serverPushInBoundInterceptor) {\n        this.serverPushInBoundInterceptor = serverPushInBoundInterceptor;\n    }\n\n    ....\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(serverPushInBoundInterceptor);\n    }\n}\n\n@Component(&quot;serverPushInBoundInterceptor&quot;)\npublic class ServerPushInBoundInterceptor implements ChannelInterceptor {\n    private static final Logger log = LoggerFactory.getLogger(ServerPushInBoundInterceptor.class);\n\n\n    @Override\n    @SuppressWarnings(&quot;NullableProblems&quot;)\n    public Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n\n        if (StompCommand.CONNECT.equals(Objects.requireNonNull(accessor).getCommand())) {\n            List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\n            if (authorization != null &amp;&amp; !authorization.isEmpty()) {\n                String auth = authorization.get(0).split(&quot; &quot;)[1];\n                System.out.println(auth);\n                try {\n\n                    // find Principal\n                    Principal principal = ...\n                    accessor.setUser(new UsernamePasswordAuthenticationToken(principal, principal.getCredentials(), principal.getAuthorities()));\n\n                } catch (Exception exc) {\n                    log.error(&quot;preSend&quot;, exc);\n                }\n            }\n        }\n\n        return message;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637851510,"creation_date":1637845313,"question_id":70111595,"body_markdown":"I am trying to obtain the currently authenticated user in the controller for websockets. The problem is, I cannot access the user using **SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getId()**.\r\n I have tried to give **Principal** as a parameter to the method but it returns principal null.\r\nSecurity configuration:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/connect&quot;).setAllowedOrigins(&quot;*&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic/messages&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\r\n    }\r\n\r\n}\r\n```\r\nController for websocket:\r\n```\r\n@Controller\r\npublic class MessageController {\r\n\r\n    @Autowired\r\n    private Consumer consumer;\r\n\r\n    @Autowired\r\n    private Utils utils;\r\n\r\n    @Autowired\r\n    private PersonService personService;\r\n\r\n    @Autowired\r\n    SimpMessagingTemplate simpMessagingTemplate;\r\n    String destination = &quot;/topic/messages&quot;;\r\n\r\n    ExecutorService executorService =\r\n            Executors.newFixedThreadPool(1);\r\n    Future&lt;?&gt; submittedTask;\r\n\r\n    @MessageMapping(&quot;/start&quot;)\r\n    public void startTask(Principal principal){\r\n\r\n        // Here, I would like to get the logged in user\r\n        // If I use principal like this: principal.getName() =&gt; NullPointerException\r\n\r\n\r\n        if ( submittedTask != null ){\r\n            simpMessagingTemplate.convertAndSend(destination,\r\n                    &quot;Task already started&quot;);\r\n            return;\r\n        }\r\n        simpMessagingTemplate.convertAndSendToUser(sha.getUser().getName(), destination,\r\n                &quot;Started task&quot;);\r\n        submittedTask = executorService.submit(() -&gt; {\r\n            while(true){\r\nsimpMessagingTemplate.convertAndSend(destination,\r\n//                            &quot;The calculated value &quot; + val + &quot; is equal to : &quot; + max);\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nHow can I get the authenticated user? I needed it to check when to start the task for the web socket","title":"How to retrieve the current logged in user in a websocket controller","body":"<p>I am trying to obtain the currently authenticated user in the controller for websockets. The problem is, I cannot access the user using <strong>SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getId()</strong>.\nI have tried to give <strong>Principal</strong> as a parameter to the method but it returns principal null.\nSecurity configuration:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    \n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/connect&quot;).setAllowedOrigins(&quot;*&quot;);\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic/messages&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\n    }\n\n}\n</code></pre>\n<p>Controller for websocket:</p>\n<pre><code>@Controller\npublic class MessageController {\n\n    @Autowired\n    private Consumer consumer;\n\n    @Autowired\n    private Utils utils;\n\n    @Autowired\n    private PersonService personService;\n\n    @Autowired\n    SimpMessagingTemplate simpMessagingTemplate;\n    String destination = &quot;/topic/messages&quot;;\n\n    ExecutorService executorService =\n            Executors.newFixedThreadPool(1);\n    Future&lt;?&gt; submittedTask;\n\n    @MessageMapping(&quot;/start&quot;)\n    public void startTask(Principal principal){\n\n        // Here, I would like to get the logged in user\n        // If I use principal like this: principal.getName() =&gt; NullPointerException\n\n\n        if ( submittedTask != null ){\n            simpMessagingTemplate.convertAndSend(destination,\n                    &quot;Task already started&quot;);\n            return;\n        }\n        simpMessagingTemplate.convertAndSendToUser(sha.getUser().getName(), destination,\n                &quot;Started task&quot;);\n        submittedTask = executorService.submit(() -&gt; {\n            while(true){\nsimpMessagingTemplate.convertAndSend(destination,\n//                            &quot;The calculated value &quot; + val + &quot; is equal to : &quot; + max);\n\n            }\n        });\n    }\n</code></pre>\n<p>How can I get the authenticated user? I needed it to check when to start the task for the web socket</p>\n"},{"tags":["java","intellij-idea","import","package"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1637909642,"post_id":70112356,"comment_id":123953541,"body_markdown":"Please make sure that `net.proteanit.sql` dependency was added to the [module dependencies](https://www.jetbrains.com/help/idea/library.html#define-a-module-library).","body":"Please make sure that <code>net.proteanit.sql</code> dependency was added to the <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-module-library\" rel=\"nofollow noreferrer\">module dependencies</a>."},{"owner":{"account_id":19642142,"reputation":23,"user_id":14377954,"display_name":"Vishal"},"score":0,"creation_date":1637944634,"post_id":70112356,"comment_id":123965776,"body_markdown":"Please tell me how to add it in intelliJ","body":"Please tell me how to add it in intelliJ"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637850928,"creation_date":1637850549,"answer_id":70112815,"question_id":70112356,"body_markdown":"In IntelliJ GUI do \r\n\r\n`\r\nFile -&gt; Invalidate Caches /Restart\r\n`\r\n\r\nThen\r\n`\r\nBuild -&gt; Rebuild Project\r\n`","title":"java: package net.proteanit.sql does not exist","body":"<p>In IntelliJ GUI do</p>\n<p><code>File -&gt; Invalidate Caches /Restart</code></p>\n<p>Then\n<code>Build -&gt; Rebuild Project</code></p>\n"}],"owner":{"account_id":19642142,"reputation":23,"user_id":14377954,"display_name":"Vishal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637850928,"creation_date":1637848598,"question_id":70112356,"body_markdown":"    java: package net.proteanit.sql does not exist\r\n\r\nI am getting this error in my project. I have seen the solution to this particular question here, but the solution is for Netbeans IDE and I am using IntelliJ Idea IDE. So, Please suggest a way to resolve this error in IntelliJ. It is very important so please answer it as soon as possible.","title":"java: package net.proteanit.sql does not exist","body":"<pre><code>java: package net.proteanit.sql does not exist\n</code></pre>\n<p>I am getting this error in my project. I have seen the solution to this particular question here, but the solution is for Netbeans IDE and I am using IntelliJ Idea IDE. So, Please suggest a way to resolve this error in IntelliJ. It is very important so please answer it as soon as possible.</p>\n"},{"tags":["java","postgresql","tomcat"],"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1637850470,"post_id":70112705,"comment_id":123939930,"body_markdown":"This has nothing to do with the [tag:q] library","body":"This has nothing to do with the <a href=\"https://stackoverflow.com/questions/tagged/q\">q</a> library"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1637850940,"post_id":70112705,"comment_id":123940110,"body_markdown":"Is the value of `spring.datasource.url` a correct JDBC URI?","body":"Is the value of <code>spring.datasource.url</code> a correct JDBC URI?"},{"owner":{"account_id":20069100,"reputation":43,"user_id":14714235,"display_name":"George"},"score":0,"creation_date":1637851492,"post_id":70112705,"comment_id":123940376,"body_markdown":"@PiotrP.Karwasz I believe so I made the spring.datasource.url in a file in notepad and I have it linked in the app here it is : SPRING.DATASOURCE.URL=jdbc:postgresql://localhost:5432/geogeketo?password=password&amp;sslmode=prefer&amp;user=postgres","body":"@PiotrP.Karwasz I believe so I made the spring.datasource.url in a file in notepad and I have it linked in the app here it is : SPRING.DATASOURCE.URL=jdbc:postgresql://localhost:5432/geoge&zwnj;&#8203;keto?password=passwo&zwnj;&#8203;rd&amp;sslmode=prefer&amp;us&zwnj;&#8203;er=postgres"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1637866817,"post_id":70112705,"comment_id":123945908,"body_markdown":"Configuration properties are actually case sensitive, therefore what you specified is not `spring.datasource.url`.","body":"Configuration properties are actually case sensitive, therefore what you specified is not <code>spring.datasource.url</code>."}],"owner":{"account_id":20069100,"reputation":43,"user_id":14714235,"display_name":"George"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637850442,"creation_date":1637850115,"question_id":70112705,"body_markdown":"I am attempting to run Postgresql locally on my computer. I am getting a bunch of errors when local.run.db=PostGresql in application properties. Error- JDBCURL is required with driver classname, error create bean with name datasource , unable to start embedded TOMCAT.\r\nIve been debugging for 24 hours I cant figure it out.\r\n\r\n```@Configuration\r\npublic class DataSourceConfig\r\n{\r\n    /**\r\n     * The property from application properties. Defaults to H2\r\n     */\r\n  @Value(&quot;${local.run.db:h2}&quot;)\r\n    private String dbValue;\r\n\r\n    /**\r\n     * A config var for the database link - defaults to nothing\r\n     */\r\n    @Value(&quot;${spring.datasource.url:}&quot;)\r\n    private String dbURL;\r\n\r\n    /**\r\n     * The actual datasource configuration\r\n     *\r\n     * @return the datasource to use\r\n     */\r\n    @Bean\r\n    public DataSource dataSource()\r\n    {\r\n        if (dbValue.equalsIgnoreCase(&quot;POSTGRESQL&quot;))\r\n        {\r\n            // Assume Heroku\r\n            HikariConfig config = new HikariConfig();\r\n            config.setDriverClassName(&quot;org.postgresql.Driver&quot;);\r\n            config.setJdbcUrl(dbURL);\r\n            return new HikariDataSource(config);\r\n        } else\r\n        {\r\n            // Assume H2\r\n            String myURLString = &quot;jdbc:h2:mem:testdb&quot;;\r\n            String myDriverClass = &quot;org.h2.Driver&quot;;\r\n            String myDBUser = &quot;sa&quot;;\r\n            String myDBPassword = &quot;&quot;;\r\n\r\n            return DataSourceBuilder.create()\r\n                    .username(myDBUser)\r\n                    .password(myDBPassword)\r\n                    .url(myURLString)\r\n                    .driverClassName(myDriverClass)\r\n                    .build();\r\n        }\r\n    }\r\n}\r\n\r\n@EnableJpaAuditing\r\n@SpringBootApplication\r\n@PropertySource(value = &quot;file:/c/Users/georg/Documents/ketodiet.properties&quot;,ignoreResourceNotFound = true)\r\npublic class DogdietappBeApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DogdietappBeApplication.class, args);\r\n    }\r\n\r\n}\r\n","title":"Failure to Run Postgresql","body":"<p>I am attempting to run Postgresql locally on my computer. I am getting a bunch of errors when local.run.db=PostGresql in application properties. Error- JDBCURL is required with driver classname, error create bean with name datasource , unable to start embedded TOMCAT.\nIve been debugging for 24 hours I cant figure it out.</p>\n<pre><code>public class DataSourceConfig\n{\n    /**\n     * The property from application properties. Defaults to H2\n     */\n  @Value(&quot;${local.run.db:h2}&quot;)\n    private String dbValue;\n\n    /**\n     * A config var for the database link - defaults to nothing\n     */\n    @Value(&quot;${spring.datasource.url:}&quot;)\n    private String dbURL;\n\n    /**\n     * The actual datasource configuration\n     *\n     * @return the datasource to use\n     */\n    @Bean\n    public DataSource dataSource()\n    {\n        if (dbValue.equalsIgnoreCase(&quot;POSTGRESQL&quot;))\n        {\n            // Assume Heroku\n            HikariConfig config = new HikariConfig();\n            config.setDriverClassName(&quot;org.postgresql.Driver&quot;);\n            config.setJdbcUrl(dbURL);\n            return new HikariDataSource(config);\n        } else\n        {\n            // Assume H2\n            String myURLString = &quot;jdbc:h2:mem:testdb&quot;;\n            String myDriverClass = &quot;org.h2.Driver&quot;;\n            String myDBUser = &quot;sa&quot;;\n            String myDBPassword = &quot;&quot;;\n\n            return DataSourceBuilder.create()\n                    .username(myDBUser)\n                    .password(myDBPassword)\n                    .url(myURLString)\n                    .driverClassName(myDriverClass)\n                    .build();\n        }\n    }\n}\n\n@EnableJpaAuditing\n@SpringBootApplication\n@PropertySource(value = &quot;file:/c/Users/georg/Documents/ketodiet.properties&quot;,ignoreResourceNotFound = true)\npublic class DogdietappBeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DogdietappBeApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx","java-8","media-player","java-7"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1442022081,"post_id":32534113,"comment_id":52926564,"body_markdown":"I recommend Java 8+ for JavaFX development.  Also, remove the java-8 tag if the question is not related to Java 8.","body":"I recommend Java 8+ for JavaFX development.  Also, remove the java-8 tag if the question is not related to Java 8."},{"owner":{"account_id":5716087,"reputation":375,"user_id":4516225,"accept_rate":50,"display_name":"TheHoop"},"score":1,"creation_date":1442022710,"post_id":32534113,"comment_id":52926672,"body_markdown":"@jewelsea Yeah i mean I don&#39;t think the syntax changes all that much for the drag and drop function, so the version is most likely irrelevant. Anyhow I am asking about the code not what version to use. Ty for your response though!","body":"@jewelsea Yeah i mean I don&#39;t think the syntax changes all that much for the drag and drop function, so the version is most likely irrelevant. Anyhow I am asking about the code not what version to use. Ty for your response though!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1442023276,"post_id":32534113,"comment_id":52926762,"body_markdown":"@TheHoop I think there were more changes to syntax between versions Java 7 and Java 8 than there were in any of the previous 18 year history of Java (especially applied to things like event handlers). Please make the tags and the question consistent. It would also be helpful if you would post some code you have tried.","body":"@TheHoop I think there were more changes to syntax between versions Java 7 and Java 8 than there were in any of the previous 18 year history of Java (especially applied to things like event handlers). Please make the tags and the question consistent. It would also be helpful if you would post some code you have tried."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1494255240,"post_id":32534113,"comment_id":74737395,"body_markdown":"@James_D I am currently using Java 8 and have referred to this question for help. I don&#39;t see any significant differences in syntax between the two versions, especially anything I can&#39;t immediately fix and I can easily say that this question has helped me solve my problem. With the small amount of *relevant* changes that have occurred between these two versions of Java, I&#39;d say that it&#39;s ok to keep the `Java-8` tag, as it may help others using Java 8 in the future.","body":"@James_D I am currently using Java 8 and have referred to this question for help. I don&#39;t see any significant differences in syntax between the two versions, especially anything I can&#39;t immediately fix and I can easily say that this question has helped me solve my problem. With the small amount of <i>relevant</i> changes that have occurred between these two versions of Java, I&#39;d say that it&#39;s ok to keep the <code>Java-8</code> tag, as it may help others using Java 8 in the future."}],"answers":[{"tags":[],"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1535431786,"creation_date":1442363366,"answer_id":32597817,"question_id":32534113,"body_markdown":"Here is a simple drag and drop example that just sets the file name and location. Drag files to it and it shows their name and location. Once you know that it should be a completely separate matter to actually play the file. It is primarily taken from Oracle&#39;s documentation: https://docs.oracle.com/javafx/2/drag_drop/jfxpub-drag_drop.htm\r\n\r\nA minimal implementation needs two `EventHandler` s set OnDragOver and OnDragDropped.\r\n\r\n\r\n    public class DragAndDropTest extends Application {\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            Label label = new Label(&quot;Drag a file to me.&quot;);\r\n            Label dropped = new Label(&quot;&quot;);\r\n            VBox dragTarget = new VBox();\r\n            dragTarget.getChildren().addAll(label,dropped);\r\n            dragTarget.setOnDragOver(new EventHandler&lt;DragEvent&gt;() {\r\n\r\n                @Override\r\n                public void handle(DragEvent event) {\r\n                    if (event.getGestureSource() != dragTarget\r\n                            &amp;&amp; event.getDragboard().hasFiles()) {\r\n                        /* allow for both copying and moving, whatever user chooses */\r\n                        event.acceptTransferModes(TransferMode.COPY_OR_MOVE);\r\n                    }\r\n                    event.consume();\r\n                }\r\n            });\r\n\r\n            dragTarget.setOnDragDropped(new EventHandler&lt;DragEvent&gt;() {\r\n\r\n                @Override\r\n                public void handle(DragEvent event) {\r\n                    Dragboard db = event.getDragboard();\r\n                    boolean success = false;\r\n                    if (db.hasFiles()) {\r\n                        dropped.setText(db.getFiles().toString());\r\n                        success = true;\r\n                    }\r\n                    /* let the source know whether the string was successfully \r\n                     * transferred and used */\r\n                    event.setDropCompleted(success);\r\n\r\n                    event.consume();\r\n                }\r\n            });\r\n\r\n\r\n            StackPane root = new StackPane();\r\n            root.getChildren().add(dragTarget);\r\n\r\n            Scene scene = new Scene(root, 500, 250);\r\n\r\n            primaryStage.setTitle(&quot;Drag Test&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n\r\n    }\r\n","title":"JavaFx Drag and Drop a file INTO a program","body":"<p>Here is a simple drag and drop example that just sets the file name and location. Drag files to it and it shows their name and location. Once you know that it should be a completely separate matter to actually play the file. It is primarily taken from Oracle's documentation: <a href=\"https://docs.oracle.com/javafx/2/drag_drop/jfxpub-drag_drop.htm\" rel=\"noreferrer\">https://docs.oracle.com/javafx/2/drag_drop/jfxpub-drag_drop.htm</a></p>\n\n<p>A minimal implementation needs two <code>EventHandler</code> s set OnDragOver and OnDragDropped.</p>\n\n<pre><code>public class DragAndDropTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Label label = new Label(\"Drag a file to me.\");\n        Label dropped = new Label(\"\");\n        VBox dragTarget = new VBox();\n        dragTarget.getChildren().addAll(label,dropped);\n        dragTarget.setOnDragOver(new EventHandler&lt;DragEvent&gt;() {\n\n            @Override\n            public void handle(DragEvent event) {\n                if (event.getGestureSource() != dragTarget\n                        &amp;&amp; event.getDragboard().hasFiles()) {\n                    /* allow for both copying and moving, whatever user chooses */\n                    event.acceptTransferModes(TransferMode.COPY_OR_MOVE);\n                }\n                event.consume();\n            }\n        });\n\n        dragTarget.setOnDragDropped(new EventHandler&lt;DragEvent&gt;() {\n\n            @Override\n            public void handle(DragEvent event) {\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n                if (db.hasFiles()) {\n                    dropped.setText(db.getFiles().toString());\n                    success = true;\n                }\n                /* let the source know whether the string was successfully \n                 * transferred and used */\n                event.setDropCompleted(success);\n\n                event.consume();\n            }\n        });\n\n\n        StackPane root = new StackPane();\n        root.getChildren().add(dragTarget);\n\n        Scene scene = new Scene(root, 500, 250);\n\n        primaryStage.setTitle(\"Drag Test\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10474724,"reputation":2665,"user_id":7721600,"accept_rate":87,"display_name":"Moritz Schmidt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547214035,"creation_date":1529349045,"answer_id":50916047,"question_id":32534113,"body_markdown":"When working with Drag and Drop events, you could try the following:\r\n\r\nObtain a `Dragboard`-object of the `DragEvent` and work with the method `getFiles`:\r\n\r\n    private void handleDragDropped(DragEvent event){\r\n        Dragboard db = event.getDragboard();\r\n        File file = db.getFiles().get(0);\r\n    }\r\n\r\n","title":"JavaFx Drag and Drop a file INTO a program","body":"<p>When working with Drag and Drop events, you could try the following:</p>\n\n<p>Obtain a <code>Dragboard</code>-object of the <code>DragEvent</code> and work with the method <code>getFiles</code>:</p>\n\n<pre><code>private void handleDragDropped(DragEvent event){\n    Dragboard db = event.getDragboard();\n    File file = db.getFiles().get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637850142,"creation_date":1637850142,"answer_id":70112712,"question_id":32534113,"body_markdown":"I solved this by adding two event handlers. One for `DragDropped` event and the other for `DragOver` event.\r\n\r\ne.g:\r\n\r\n```java\r\n@FXML\r\nvoid handleFileOverEvent(DragEvent event)\r\n{\r\n    Dragboard db = event.getDragboard();\r\n    if (db.hasFiles())\r\n    {\r\n        event.acceptTransferModes(TransferMode.COPY);\r\n    }\r\n    else\r\n    {\r\n        event.consume();\r\n    }\r\n}\r\n\r\n@FXML\r\nvoid handleFileDroppedEvent(DragEvent event)\r\n{\r\n    Dragboard db = event.getDragboard();\r\n    File file = db.getFiles().get(0);\r\n\r\n    handleSelectedFile(file);\r\n}\r\n```\r\n\r\nElse it did not work for me, dragging the file over my pane, didn&#39;t trigger anything.","title":"JavaFx Drag and Drop a file INTO a program","body":"<p>I solved this by adding two event handlers. One for <code>DragDropped</code> event and the other for <code>DragOver</code> event.</p>\n<p>e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\nvoid handleFileOverEvent(DragEvent event)\n{\n    Dragboard db = event.getDragboard();\n    if (db.hasFiles())\n    {\n        event.acceptTransferModes(TransferMode.COPY);\n    }\n    else\n    {\n        event.consume();\n    }\n}\n\n@FXML\nvoid handleFileDroppedEvent(DragEvent event)\n{\n    Dragboard db = event.getDragboard();\n    File file = db.getFiles().get(0);\n\n    handleSelectedFile(file);\n}\n</code></pre>\n<p>Else it did not work for me, dragging the file over my pane, didn't trigger anything.</p>\n"}],"owner":{"account_id":5716087,"reputation":375,"user_id":4516225,"accept_rate":50,"display_name":"TheHoop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19388,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":3,"score":33,"last_activity_date":1637850142,"creation_date":1442019786,"question_id":32534113,"body_markdown":"Hey there community I was wondering if is possible to create a program that allows for the user to Drag a file from anywhere on there hard drive (the desktop, documents folder, videos folder) and drop it into the window of the program.\r\n\r\nI am creating a media player and I want to be able to play a video by dragging and dropping a MP4 into the window. Do I need to store the file in a variable, or just the location of the file into a variable. Also, it is important I keep support for cross platform.\r\n\r\nI am using JavaFx with java 7 update 79 jdk.\r\n\r\nThanks in advance.","title":"JavaFx Drag and Drop a file INTO a program","body":"<p>Hey there community I was wondering if is possible to create a program that allows for the user to Drag a file from anywhere on there hard drive (the desktop, documents folder, videos folder) and drop it into the window of the program.</p>\n\n<p>I am creating a media player and I want to be able to play a video by dragging and dropping a MP4 into the window. Do I need to store the file in a variable, or just the location of the file into a variable. Also, it is important I keep support for cross platform.</p>\n\n<p>I am using JavaFx with java 7 update 79 jdk.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637815148,"post_id":70105859,"comment_id":123927953,"body_markdown":"[`String#contains`](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#contains(java.lang.CharSequence)) and [`String#split`](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)) are probably going to be in your future","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String#contains</code></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#split</code></a> are probably going to be in your future"}],"answers":[{"tags":[],"owner":{"account_id":23399099,"reputation":1,"user_id":17462550,"display_name":"Saint Mafia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637818743,"creation_date":1637818743,"answer_id":70106270,"question_id":70105859,"body_markdown":"Is that so?\r\n```\r\nSystem.out.print(&quot;Input date (mm-dd-yy): &quot;);\r\nString str = new Scanner(System.in).next();\r\nString[] date = str.split(&quot;-&quot;);\r\nSystem.out.println(date[0] + &quot;/&quot; + date[1] + &quot;/&quot; + date[2]);\r\n```","title":"Input separated by &quot;/&quot; for two different variables","body":"<p>Is that so?</p>\n<pre><code>System.out.print(&quot;Input date (mm-dd-yy): &quot;);\nString str = new Scanner(System.in).next();\nString[] date = str.split(&quot;-&quot;);\nSystem.out.println(date[0] + &quot;/&quot; + date[1] + &quot;/&quot; + date[2]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6393555,"reputation":370,"user_id":5202260,"display_name":"Vadim Chernetsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637840289,"creation_date":1637840289,"answer_id":70110436,"question_id":70105859,"body_markdown":"I can offer the solution of your problem, using C++.\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;string&gt;\r\n    #include &lt;vector&gt;\r\n    using namespace std;\r\n    template&lt;class Type&gt;\r\n    void showContentContainer(Type&amp; input)\r\n    {\r\n\t    for(int i=0; i&lt;input.size(); ++i)\r\n\t    {\r\n\t\t    cout&lt;&lt;input[i];\r\n\t    }\r\n\t    return;\r\n    }\r\n    void dfs(int current, int previous, vector&lt;int&gt;&amp; visited, string&amp; input)\r\n    {\r\n\t    if(visited[current]==1)\r\n\t    {\r\n\t\t    return;\r\n\t    }\r\n\t    visited[current]=1;\r\n\t    if(input[current]==&#39;-&#39;)\r\n\t    {\r\n\t\t    input[current]=&#39;/&#39;;\r\n\t    }\r\n\t    for(int next=(current+1); next&lt;input.size(); ++next)\r\n\t    {\r\n\t\t    if(next==previous)\r\n\t\t    {\r\n\t\t\t    continue;\r\n\t\t    }\r\n\t\t    dfs(next, current, visited, input);\r\n\t    }\r\n\t    if(current==0)\r\n\t    {\r\n\t\t    cout&lt;&lt;endl&lt;&lt;&quot;inputString &lt;- &quot;;\r\n\t\t    showContentContainer(input);\r\n\t    }\r\n\t    return;\r\n    }\r\n    void solve()\r\n    {\r\n\t    string inputString;\r\n\t    cin&gt;&gt;inputString;\r\n\t    cout&lt;&lt;&quot;inputString &lt;- &quot;;\r\n\t    showContentContainer(inputString);\r\n\t    vector&lt;int&gt; visited(3, 0);\r\n\t    dfs(0, -1, visited, inputString);\r\n\t    return;\r\n    }\r\n    int main()\r\n    {\r\n\t    solve();\r\n\t    return 0;\r\n    }\r\n\r\nInput:\r\n\r\n    1-2-2000\r\n\r\nHere is the result:\r\n\r\n    1/2/2000","title":"Input separated by &quot;/&quot; for two different variables","body":"<p>I can offer the solution of your problem, using C++.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\nusing namespace std;\ntemplate&lt;class Type&gt;\nvoid showContentContainer(Type&amp; input)\n{\n    for(int i=0; i&lt;input.size(); ++i)\n    {\n        cout&lt;&lt;input[i];\n    }\n    return;\n}\nvoid dfs(int current, int previous, vector&lt;int&gt;&amp; visited, string&amp; input)\n{\n    if(visited[current]==1)\n    {\n        return;\n    }\n    visited[current]=1;\n    if(input[current]=='-')\n    {\n        input[current]='/';\n    }\n    for(int next=(current+1); next&lt;input.size(); ++next)\n    {\n        if(next==previous)\n        {\n            continue;\n        }\n        dfs(next, current, visited, input);\n    }\n    if(current==0)\n    {\n        cout&lt;&lt;endl&lt;&lt;&quot;inputString &lt;- &quot;;\n        showContentContainer(input);\n    }\n    return;\n}\nvoid solve()\n{\n    string inputString;\n    cin&gt;&gt;inputString;\n    cout&lt;&lt;&quot;inputString &lt;- &quot;;\n    showContentContainer(inputString);\n    vector&lt;int&gt; visited(3, 0);\n    dfs(0, -1, visited, inputString);\n    return;\n}\nint main()\n{\n    solve();\n    return 0;\n}\n</code></pre>\n<p>Input:</p>\n<pre><code>1-2-2000\n</code></pre>\n<p>Here is the result:</p>\n<pre><code>1/2/2000\n</code></pre>\n"}],"owner":{"account_id":19817515,"reputation":21,"user_id":14514821,"display_name":"Dilu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1637849772,"creation_date":1637814907,"question_id":70105859,"body_markdown":"The following is a section from my code\r\n```\r\nSystem.out.print(&quot;Input date (mm-dd-yy): &quot;);\r\nint month,day,year;\r\nSystem.out.println(month+&quot;/&quot;+day+&quot;/&quot;+year);\r\n```\r\n\r\nIs there a way if I input:\r\n\r\n```\r\nInput date (mm-dd-yy): 1-2-2000\r\n```\r\n\r\nFor the output to be:\r\n```\r\n1/2/2000\r\n```\r\nSo that the value &#39;1&#39; represents the month, &#39;2&#39; represents the day, and &#39;2000&#39; represents the year?","title":"Input separated by &quot;/&quot; for two different variables","body":"<p>The following is a section from my code</p>\n<pre><code>System.out.print(&quot;Input date (mm-dd-yy): &quot;);\nint month,day,year;\nSystem.out.println(month+&quot;/&quot;+day+&quot;/&quot;+year);\n</code></pre>\n<p>Is there a way if I input:</p>\n<pre><code>Input date (mm-dd-yy): 1-2-2000\n</code></pre>\n<p>For the output to be:</p>\n<pre><code>1/2/2000\n</code></pre>\n<p>So that the value '1' represents the month, '2' represents the day, and '2000' represents the year?</p>\n"},{"tags":["java","spring","elasticsearch","jpa","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":6504527,"reputation":986,"user_id":5034008,"accept_rate":67,"display_name":"Juliette"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1612193849,"creation_date":1612125078,"answer_id":65983949,"question_id":65983922,"body_markdown":"Hard facepalm, I found my error -&gt; still gonna leave this post up in case someone else stumbles across the same problem since the error message is not very helpful in my opinion.\r\n\r\nI simply forgot the surrounding brackets around the outside of the query:\r\n\r\nchanging this:\r\n\r\n    @Query(&quot;\\&quot;bool\\&quot;: { &quot; +\r\n            &quot;   \\&quot;filter\\&quot;: [ &quot; +\r\n            &quot;    {  &quot; +\r\n            &quot;       \\&quot;term\\&quot;: { &quot; +\r\n            &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\r\n            &quot;        } &quot; +\r\n            &quot;    }, &quot; +\r\n            &quot;    {&quot; +\r\n            &quot;       \\&quot;match\\&quot;: { &quot; +\r\n            &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\r\n            &quot;       }&quot; +\r\n            &quot;     } &quot; +\r\n            &quot;   ] &quot; +\r\n            &quot;  }&quot;)\r\n        Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\r\n\r\nto this:\r\n\r\n        @Query(&quot;{\\&quot;bool\\&quot;: { &quot; +\r\n            &quot;   \\&quot;filter\\&quot;: [ &quot; +\r\n            &quot;    {  &quot; +\r\n            &quot;       \\&quot;term\\&quot;: { &quot; +\r\n            &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\r\n            &quot;        } &quot; +\r\n            &quot;    }, &quot; +\r\n            &quot;    {&quot; +\r\n            &quot;       \\&quot;match\\&quot;: { &quot; +\r\n            &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\r\n            &quot;       }&quot; +\r\n            &quot;     } &quot; +\r\n            &quot;   ] &quot; +\r\n            &quot;  }}&quot;)\r\n    Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\r\n\r\nsolved the problem.\r\n\r\n**Addition:** \r\n\r\n    &quot;ImJvb2wiOiB7ICAgICJmaWx0ZXIiOiBbICAgICB7ICAgICAgICJ0ZXJtIjogeyAgICAgICAidXNlcklkLmtleXdvcmQiOiAiMzFjMjA5NTktNjg5Zi00YjI4LWExNzctNmQ3ZTQ2YTBhYzMwIiAgICAgIH0gICAgIH0sICAgeyJtYXRjaCI6IHsgICAgImNvbnRlbnQiOiAidGVzdHNzIiAgIH19ICAgIF0gICB9&quot; \r\n\r\nis a wrapper query, that&#39;s a base64 encoded string conataining \r\n\r\n    &quot;&quot;bool&quot;: {    &quot;filter&quot;: [     {       &quot;term&quot;: {       &quot;userId.keyword&quot;: &quot;31c20959-689f-4b28-a177-6d7e46a0ac30&quot;      }     },   {&quot;match&quot;: {    &quot;content&quot;: &quot;testss&quot;   }}    ]   }&quot;","title":"Java Spring elasticsearch &quot;Failed to derive xcontent&quot; with @Query","body":"<p>Hard facepalm, I found my error -&gt; still gonna leave this post up in case someone else stumbles across the same problem since the error message is not very helpful in my opinion.</p>\n<p>I simply forgot the surrounding brackets around the outside of the query:</p>\n<p>changing this:</p>\n<pre><code>@Query(&quot;\\&quot;bool\\&quot;: { &quot; +\n        &quot;   \\&quot;filter\\&quot;: [ &quot; +\n        &quot;    {  &quot; +\n        &quot;       \\&quot;term\\&quot;: { &quot; +\n        &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\n        &quot;        } &quot; +\n        &quot;    }, &quot; +\n        &quot;    {&quot; +\n        &quot;       \\&quot;match\\&quot;: { &quot; +\n        &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\n        &quot;       }&quot; +\n        &quot;     } &quot; +\n        &quot;   ] &quot; +\n        &quot;  }&quot;)\n    Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\n</code></pre>\n<p>to this:</p>\n<pre><code>    @Query(&quot;{\\&quot;bool\\&quot;: { &quot; +\n        &quot;   \\&quot;filter\\&quot;: [ &quot; +\n        &quot;    {  &quot; +\n        &quot;       \\&quot;term\\&quot;: { &quot; +\n        &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\n        &quot;        } &quot; +\n        &quot;    }, &quot; +\n        &quot;    {&quot; +\n        &quot;       \\&quot;match\\&quot;: { &quot; +\n        &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\n        &quot;       }&quot; +\n        &quot;     } &quot; +\n        &quot;   ] &quot; +\n        &quot;  }}&quot;)\nPage&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\n</code></pre>\n<p>solved the problem.</p>\n<p><strong>Addition:</strong></p>\n<pre><code>&quot;ImJvb2wiOiB7ICAgICJmaWx0ZXIiOiBbICAgICB7ICAgICAgICJ0ZXJtIjogeyAgICAgICAidXNlcklkLmtleXdvcmQiOiAiMzFjMjA5NTktNjg5Zi00YjI4LWExNzctNmQ3ZTQ2YTBhYzMwIiAgICAgIH0gICAgIH0sICAgeyJtYXRjaCI6IHsgICAgImNvbnRlbnQiOiAidGVzdHNzIiAgIH19ICAgIF0gICB9&quot; \n</code></pre>\n<p>is a wrapper query, that's a base64 encoded string conataining</p>\n<pre><code>&quot;&quot;bool&quot;: {    &quot;filter&quot;: [     {       &quot;term&quot;: {       &quot;userId.keyword&quot;: &quot;31c20959-689f-4b28-a177-6d7e46a0ac30&quot;      }     },   {&quot;match&quot;: {    &quot;content&quot;: &quot;testss&quot;   }}    ]   }&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17197879,"reputation":31,"user_id":12450212,"display_name":"Christian Keven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637848960,"creation_date":1637848960,"answer_id":70112437,"question_id":65983922,"body_markdown":"Had similar issue and was actually the absence of bracket","title":"Java Spring elasticsearch &quot;Failed to derive xcontent&quot; with @Query","body":"<p>Had similar issue and was actually the absence of bracket</p>\n"}],"owner":{"account_id":6504527,"reputation":986,"user_id":5034008,"accept_rate":67,"display_name":"Juliette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2707,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65983949,"answer_count":2,"score":3,"last_activity_date":1637848960,"creation_date":1612124927,"question_id":65983922,"body_markdown":"I have a custom @Query in one of my elasticsearch repositories because the autoGenerated method didn&#39;t use match (instead query_string with analyze_wildcard) and so didn&#39;t work for example with spaces. This query looks pretty simple to me so I thought it wouldn&#39;t be a problem to write it myself.\r\n\r\n    @Query(&quot;\\&quot;bool\\&quot;: { &quot; +\r\n            &quot;   \\&quot;filter\\&quot;: [ &quot; +\r\n            &quot;    {  &quot; +\r\n            &quot;       \\&quot;term\\&quot;: { &quot; +\r\n            &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\r\n            &quot;        } &quot; +\r\n            &quot;    }, &quot; +\r\n            &quot;    {&quot; +\r\n            &quot;       \\&quot;match\\&quot;: { &quot; +\r\n            &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\r\n            &quot;       }&quot; +\r\n            &quot;     } &quot; +\r\n            &quot;   ] &quot; +\r\n            &quot;  }&quot;)\r\n    Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\r\n\r\nBut when I try to execute that function I get the following error:\r\n\r\n    org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=x_content_parse_exception, reason=Failed to derive xcontent]\r\n    \tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177) ~[elasticsearch-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1770) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1527) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1484) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1454) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:970) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$search$10(ElasticsearchRestTemplate.java:265) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:351) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:265) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\r\n    \tat org.springframework.data.elasticsearch.repository.query.ElasticsearchStringQuery.execute(ElasticsearchStringQuery.java:89) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tSuppressed: org.elasticsearch.client.ResponseException: method [POST], host [http://localhost:9200], URI [/history/_search?pre_filter_shard_size=128&amp;typed_keys=true&amp;max_concurrent_shard_requests=5&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=dfs_query_then_fetch&amp;batched_reduce_size=512&amp;ccs_minimize_roundtrips=true], status line [HTTP/1.1 400 Bad Request]\r\n    {&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;x_content_parse_exception&quot;,&quot;reason&quot;:&quot;Failed to derive xcontent&quot;}],&quot;type&quot;:&quot;x_content_parse_exception&quot;,&quot;reason&quot;:&quot;Failed to derive xcontent&quot;},&quot;status&quot;:400}\r\n    \t\tat org.elasticsearch.client.RestClient.convertResponse(RestClient.java:283) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\r\n    \t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:261) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\r\n    \t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:235) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\r\n    \t\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1514) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\r\n    \t\t... 124 common frames omitted\r\n\r\nWith debuggin I tracked down the raw Rest-Request that is sent to elasticsearch in org.elasticsearch.client.RestClient.java:244 and found that this is the payload sent to the server:\r\n\r\n    {&quot;from&quot;:0,&quot;size&quot;:10,&quot;query&quot;:{&quot;wrapper&quot;:{&quot;query&quot;:&quot;ImJvb2wiOiB7ICAgICJmaWx0ZXIiOiBbICAgICB7ICAgICAgICJ0ZXJtIjogeyAgICAgICAidXNlcklkLmtleXdvcmQiOiAiMzFjMjA5NTktNjg5Zi00YjI4LWExNzctNmQ3ZTQ2YTBhYzMwIiAgICAgIH0gICAgIH0sICAgeyJtYXRjaCI6IHsgICAgImNvbnRlbnQiOiAidGVzdHNzIiAgIH19ICAgIF0gICB9&quot;}},&quot;version&quot;:true,&quot;sort&quot;:[{&quot;id&quot;:{&quot;order&quot;:&quot;desc&quot;}}]}\r\n\r\nWith that payload an error is not suprising however I have no idea why there is this weird mumble of characters. I suspect that that is supposed to be my custom query which is not used correctly. I got this payload by debugging into this line:\r\n\r\n    httpResponse = client.execute(context.requestProducer, context.asyncResponseConsumer, context.context, null).get();\r\n\r\nand then executing:\r\n\r\n    StandardCharsets.UTF_8.decode(((NByteArrayEntity) ((HttpPost) ((HttpAsyncMethods.RequestProducerImpl) context.requestProducer).request).entity).buf).toString()\r\n\r\n\r\nThese are my imports and the classname that I use in the Repository-Class:\r\n\r\n\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.elasticsearch.annotations.Query;\r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n    \r\n    import java.util.stream.Stream;\r\n    \r\n    public interface SearchablePageHistoryRepository extends ElasticsearchRepository&lt;SearchablePageHistory, Integer&gt; {\r\n        Page&lt;SearchablePageHistory&gt; findAllByUserId(String userId, Pageable pageable);\r\n\r\n        @Query(&quot;\\&quot;bool\\&quot;: { &quot; +\r\n            &quot;   \\&quot;filter\\&quot;: [ &quot; +\r\n            &quot;    {  &quot; +\r\n            &quot;       \\&quot;term\\&quot;: { &quot; +\r\n            &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\r\n            &quot;        } &quot; +\r\n            &quot;    }, &quot; +\r\n            &quot;    {&quot; +\r\n            &quot;       \\&quot;match\\&quot;: { &quot; +\r\n            &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\r\n            &quot;       }&quot; +\r\n            &quot;     } &quot; +\r\n            &quot;   ] &quot; +\r\n            &quot;  }&quot;)\r\n        Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\r\n    }\r\n\r\n\r\nAll other queries where I don&#39;t use @Query work fine without a problem. I have no idea what I am doing wrong since my example seems very similar to the one given in the documentation: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.query-methods.at-query\r\n","title":"Java Spring elasticsearch &quot;Failed to derive xcontent&quot; with @Query","body":"<p>I have a custom @Query in one of my elasticsearch repositories because the autoGenerated method didn't use match (instead query_string with analyze_wildcard) and so didn't work for example with spaces. This query looks pretty simple to me so I thought it wouldn't be a problem to write it myself.</p>\n<pre><code>@Query(&quot;\\&quot;bool\\&quot;: { &quot; +\n        &quot;   \\&quot;filter\\&quot;: [ &quot; +\n        &quot;    {  &quot; +\n        &quot;       \\&quot;term\\&quot;: { &quot; +\n        &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\n        &quot;        } &quot; +\n        &quot;    }, &quot; +\n        &quot;    {&quot; +\n        &quot;       \\&quot;match\\&quot;: { &quot; +\n        &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\n        &quot;       }&quot; +\n        &quot;     } &quot; +\n        &quot;   ] &quot; +\n        &quot;  }&quot;)\nPage&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\n</code></pre>\n<p>But when I try to execute that function I get the following error:</p>\n<pre><code>org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=x_content_parse_exception, reason=Failed to derive xcontent]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:177) ~[elasticsearch-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1770) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1527) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1484) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1454) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:970) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$search$10(ElasticsearchRestTemplate.java:265) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:351) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:265) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\n    at org.springframework.data.elasticsearch.repository.query.ElasticsearchStringQuery.execute(ElasticsearchStringQuery.java:89) ~[spring-data-elasticsearch-4.0.0.RELEASE.jar:4.0.0.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    Suppressed: org.elasticsearch.client.ResponseException: method [POST], host [http://localhost:9200], URI [/history/_search?pre_filter_shard_size=128&amp;typed_keys=true&amp;max_concurrent_shard_requests=5&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=dfs_query_then_fetch&amp;batched_reduce_size=512&amp;ccs_minimize_roundtrips=true], status line [HTTP/1.1 400 Bad Request]\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;x_content_parse_exception&quot;,&quot;reason&quot;:&quot;Failed to derive xcontent&quot;}],&quot;type&quot;:&quot;x_content_parse_exception&quot;,&quot;reason&quot;:&quot;Failed to derive xcontent&quot;},&quot;status&quot;:400}\n        at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:283) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:261) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:235) ~[elasticsearch-rest-client-7.6.2.jar:7.6.2]\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1514) ~[elasticsearch-rest-high-level-client-7.6.2.jar:7.6.2]\n        ... 124 common frames omitted\n</code></pre>\n<p>With debuggin I tracked down the raw Rest-Request that is sent to elasticsearch in org.elasticsearch.client.RestClient.java:244 and found that this is the payload sent to the server:</p>\n<pre><code>{&quot;from&quot;:0,&quot;size&quot;:10,&quot;query&quot;:{&quot;wrapper&quot;:{&quot;query&quot;:&quot;ImJvb2wiOiB7ICAgICJmaWx0ZXIiOiBbICAgICB7ICAgICAgICJ0ZXJtIjogeyAgICAgICAidXNlcklkLmtleXdvcmQiOiAiMzFjMjA5NTktNjg5Zi00YjI4LWExNzctNmQ3ZTQ2YTBhYzMwIiAgICAgIH0gICAgIH0sICAgeyJtYXRjaCI6IHsgICAgImNvbnRlbnQiOiAidGVzdHNzIiAgIH19ICAgIF0gICB9&quot;}},&quot;version&quot;:true,&quot;sort&quot;:[{&quot;id&quot;:{&quot;order&quot;:&quot;desc&quot;}}]}\n</code></pre>\n<p>With that payload an error is not suprising however I have no idea why there is this weird mumble of characters. I suspect that that is supposed to be my custom query which is not used correctly. I got this payload by debugging into this line:</p>\n<pre><code>httpResponse = client.execute(context.requestProducer, context.asyncResponseConsumer, context.context, null).get();\n</code></pre>\n<p>and then executing:</p>\n<pre><code>StandardCharsets.UTF_8.decode(((NByteArrayEntity) ((HttpPost) ((HttpAsyncMethods.RequestProducerImpl) context.requestProducer).request).entity).buf).toString()\n</code></pre>\n<p>These are my imports and the classname that I use in the Repository-Class:</p>\n<pre><code>import org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.elasticsearch.annotations.Query;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\nimport java.util.stream.Stream;\n\npublic interface SearchablePageHistoryRepository extends ElasticsearchRepository&lt;SearchablePageHistory, Integer&gt; {\n    Page&lt;SearchablePageHistory&gt; findAllByUserId(String userId, Pageable pageable);\n\n    @Query(&quot;\\&quot;bool\\&quot;: { &quot; +\n        &quot;   \\&quot;filter\\&quot;: [ &quot; +\n        &quot;    {  &quot; +\n        &quot;       \\&quot;term\\&quot;: { &quot; +\n        &quot;          \\&quot;userId.keyword\\&quot;: \\&quot;?0\\&quot; &quot; +\n        &quot;        } &quot; +\n        &quot;    }, &quot; +\n        &quot;    {&quot; +\n        &quot;       \\&quot;match\\&quot;: { &quot; +\n        &quot;          \\&quot;content\\&quot;: \\&quot;?1\\&quot; &quot; +\n        &quot;       }&quot; +\n        &quot;     } &quot; +\n        &quot;   ] &quot; +\n        &quot;  }&quot;)\n    Page&lt;SearchablePageHistory&gt; findAllByUserIdAndContentLike(String userId, String content, Pageable pageable);\n}\n</code></pre>\n<p>All other queries where I don't use @Query work fine without a problem. I have no idea what I am doing wrong since my example seems very similar to the one given in the documentation: <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.query-methods.at-query\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.query-methods.at-query</a></p>\n"},{"tags":["java","sql","database","file","netbeans"],"comments":[{"owner":{"account_id":19843337,"reputation":4752,"user_id":14535517,"display_name":"Sergey"},"score":0,"creation_date":1637847525,"post_id":70112021,"comment_id":123938723,"body_markdown":"and if you open .sql-file with any text-editor what can you see inside ?","body":"and if you open .sql-file with any text-editor what can you see inside ?"}],"answers":[{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637848928,"creation_date":1637848928,"answer_id":70112427,"question_id":70112021,"body_markdown":"If you want to simply read and write a file you can use the java.io or java.nio packages; if you want to access an .sql file as a database: you can&#39;t. It&#39;s not a database. You&#39;ll need to install a database on your pc to do such things.\r\n\r\nSQL files are in plain text format and can comprise of several language elements. Multiple statements can be added to a single SQL file if their execution is possible without depending on each other. These SQL commands can be executed by query editors for carrying out CRUD operations. They do not contain any tables for accessing data. \r\n\r\nGetting started with a database is fairly simple (if you follow instructions) and Netbeans has a built-in database, but I&#39;ve never used it.\r\n\r\nYou can read about mysql here for example:\r\nhttps://www.tutorialspoint.com/mysql/index.htm\r\n\r\nAnd on how to connect to databases here:\r\nhttps://www.tutorialspoint.com/jdbc/index.htm","title":"how can i connect my java app to a local file .sql without install any server","body":"<p>If you want to simply read and write a file you can use the java.io or java.nio packages; if you want to access an .sql file as a database: you can't. It's not a database. You'll need to install a database on your pc to do such things.</p>\n<p>SQL files are in plain text format and can comprise of several language elements. Multiple statements can be added to a single SQL file if their execution is possible without depending on each other. These SQL commands can be executed by query editors for carrying out CRUD operations. They do not contain any tables for accessing data.</p>\n<p>Getting started with a database is fairly simple (if you follow instructions) and Netbeans has a built-in database, but I've never used it.</p>\n<p>You can read about mysql here for example:\n<a href=\"https://www.tutorialspoint.com/mysql/index.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/mysql/index.htm</a></p>\n<p>And on how to connect to databases here:\n<a href=\"https://www.tutorialspoint.com/jdbc/index.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jdbc/index.htm</a></p>\n"}],"owner":{"account_id":11908905,"reputation":3,"user_id":8714728,"display_name":"nidhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637848928,"creation_date":1637847120,"question_id":70112021,"body_markdown":"is it possible to read data from a local file without install a server\r\ni use netbeans ","title":"how can i connect my java app to a local file .sql without install any server","body":"<p>is it possible to read data from a local file without install a server\ni use netbeans</p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1637856156,"post_id":70112414,"comment_id":123942338,"body_markdown":"&quot;Failed with exit code 1&quot; on its own doesn&#39;t mean much more than &quot;it didn&#39;t work&quot;; is there more to the error message than that?  What command are you actually running to build the image?","body":"&quot;Failed with exit code 1&quot; on its own doesn&#39;t mean much more than &quot;it didn&#39;t work&quot;; is there more to the error message than that?  What command are you actually running to build the image?"},{"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"score":0,"creation_date":1637857227,"post_id":70112414,"comment_id":123942743,"body_markdown":"acutally just run from IntelliJIdea using the small green arrow. When i run into my terminal i get this `executor failed running [/bin/sh -c mvn clean package -pl :${MICROSERVICE_NAME} -am -Dmaven.test.skip=true -P${APP_ENV}]: exit code: 1`","body":"acutally just run from IntelliJIdea using the small green arrow. When i run into my terminal i get this <code>executor failed running [&#47;bin&#47;sh -c mvn clean package -pl :${MICROSERVICE_NAME} -am -Dmaven.test.skip=true -P${APP_ENV}]: exit code: 1</code>"}],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637848862,"creation_date":1637848862,"question_id":70112414,"body_markdown":"I want to execute Java Maven Spring-boot application in a Docker environment. i tried many configurations but the error still says `Failed to deploy &lt;unknow&gt; Dockerfile: Dockerfile&#39;:Image build failed with exit code 1`\r\nI don&#39;t really understand what it means since barely start learning Docker \r\nHere is my dockerfile script : \r\n\r\n    FROM maven:3.6.3-openjdk-11-slim as builder\r\n    \r\n    ARG APP_ENV=uat\r\n    ARG MICROSERVICE_NAME\r\n    \r\n    WORKDIR /app\r\n    \r\n    # TODO: @EH think of a better way\r\n    COPY ./ ./\r\n    \r\n    RUN mvn clean package -pl :${MICROSERVICE_NAME} -am -Dmaven.test.skip=true -P${APP_ENV}\r\n    \r\n    FROM openjdk:11.0 as runner\r\n    \r\n    WORKDIR /root/java_service\r\n    \r\n    ARG APP_ENV=uat\r\n    ARG MICROSERVICE_NAME\r\n    ARG MICROSERVICE_BASE_PATH\r\n    \r\n    RUN mkdir ${APP_ENV}\r\n    RUN mkdir logs\r\n    \r\n    COPY --from=builder /app/${MICROSERVICE_BASE_PATH}/${MICROSERVICE_NAME}/target/${MICROSERVICE_NAME}.jar ${APP_ENV}/${MICROSERVICE_NAME}.jar\r\n    \r\n    ENV APP_JAR_PATH=/root/java_service/${APP_ENV}/${MICROSERVICE_NAME}.jar\r\n    \r\n    ENTRYPOINT java -server -jar ${APP_JAR_PATH}\r\n\r\n","title":"Failed to deploy &#39;&lt;unknown&gt; Dockerfile: Dockerfile&#39;: Image build failed with exit code 1","body":"<p>I want to execute Java Maven Spring-boot application in a Docker environment. i tried many configurations but the error still says <code>Failed to deploy &lt;unknow&gt; Dockerfile: Dockerfile':Image build failed with exit code 1</code>\nI don't really understand what it means since barely start learning Docker\nHere is my dockerfile script :</p>\n<pre><code>FROM maven:3.6.3-openjdk-11-slim as builder\n\nARG APP_ENV=uat\nARG MICROSERVICE_NAME\n\nWORKDIR /app\n\n# TODO: @EH think of a better way\nCOPY ./ ./\n\nRUN mvn clean package -pl :${MICROSERVICE_NAME} -am -Dmaven.test.skip=true -P${APP_ENV}\n\nFROM openjdk:11.0 as runner\n\nWORKDIR /root/java_service\n\nARG APP_ENV=uat\nARG MICROSERVICE_NAME\nARG MICROSERVICE_BASE_PATH\n\nRUN mkdir ${APP_ENV}\nRUN mkdir logs\n\nCOPY --from=builder /app/${MICROSERVICE_BASE_PATH}/${MICROSERVICE_NAME}/target/${MICROSERVICE_NAME}.jar ${APP_ENV}/${MICROSERVICE_NAME}.jar\n\nENV APP_JAR_PATH=/root/java_service/${APP_ENV}/${MICROSERVICE_NAME}.jar\n\nENTRYPOINT java -server -jar ${APP_JAR_PATH}\n</code></pre>\n"},{"tags":["java","vavr"],"answers":[{"tags":[],"owner":{"account_id":16573311,"reputation":1,"user_id":11975789,"display_name":"SatnamSingh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637846866,"creation_date":1637821803,"answer_id":70106686,"question_id":70106564,"body_markdown":"I would recommend something like this. return list of Error from `validatePersonDetail` and check if it is null or empty, if it is empty then go ahead with your execution ahead:\r\n```\r\nprivate void mainExecution() {\r\n    Validation&lt;ConstraintViolation&gt; validationErrors = validatePersonDetail(personRequest);\r\n    if(validatePersonDetail().isEmpty) {\r\n        return valid([PERSON_LIST]);\r\n    } else {\r\n        throw new ValidationFailedException(validationErrors);\r\n    }\r\n}\r\n\r\nprivate static Validation&lt;ConstraintViolation&gt; validatePersonDetail(\r\n            List&lt;PersonDetailRequest&gt; personRequest) {\r\n    Validation&lt;ConstraintViolation&gt; validations = new ArrayList&lt;&gt;();\r\n    for (PersonRequest request:personRequest) {\r\n        if (isNull(request.getName())) {\r\n            return validations.add(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\r\n        }\r\n        ..\r\n        // more validations\r\n    }\r\n    return validations;\r\n}\r\n```","title":"java vavr map return from function if statement","body":"<p>I would recommend something like this. return list of Error from <code>validatePersonDetail</code> and check if it is null or empty, if it is empty then go ahead with your execution ahead:</p>\n<pre><code>private void mainExecution() {\n    Validation&lt;ConstraintViolation&gt; validationErrors = validatePersonDetail(personRequest);\n    if(validatePersonDetail().isEmpty) {\n        return valid([PERSON_LIST]);\n    } else {\n        throw new ValidationFailedException(validationErrors);\n    }\n}\n\nprivate static Validation&lt;ConstraintViolation&gt; validatePersonDetail(\n            List&lt;PersonDetailRequest&gt; personRequest) {\n    Validation&lt;ConstraintViolation&gt; validations = new ArrayList&lt;&gt;();\n    for (PersonRequest request:personRequest) {\n        if (isNull(request.getName())) {\n            return validations.add(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\n        }\n        ..\n        // more validations\n    }\n    return validations;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637848700,"creation_date":1637848700,"answer_id":70112380,"question_id":70106564,"body_markdown":"Suppose you just build `Person` when the list pass all validation,\r\nthen [`map`][1] is what you need:\r\n```\r\nprivate static Validation&lt;ConstraintViolation, List&lt;Person&gt;&gt; validatePersonDetail(\r\n        List&lt;PersonRequest&gt; personRequest) {\r\n\r\n    for (PersonRequest request:personRequest) {\r\n\r\n        if (isNull(request.getName())) {\r\n            return invalid(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\r\n        }\r\n        // more validations\r\n\r\n    }\r\n    return valid(personRequest.map(request-&gt;Person.builder().name(request.getName()).build()));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/io.vavr/vavr/0.9.0/io/vavr/collection/List.html#map-java.util.function.Function-","title":"java vavr map return from function if statement","body":"<p>Suppose you just build <code>Person</code> when the list pass all validation,\nthen <a href=\"https://www.javadoc.io/doc/io.vavr/vavr/0.9.0/io/vavr/collection/List.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map</code></a> is what you need:</p>\n<pre><code>private static Validation&lt;ConstraintViolation, List&lt;Person&gt;&gt; validatePersonDetail(\n        List&lt;PersonRequest&gt; personRequest) {\n\n    for (PersonRequest request:personRequest) {\n\n        if (isNull(request.getName())) {\n            return invalid(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\n        }\n        // more validations\n\n    }\n    return valid(personRequest.map(request-&gt;Person.builder().name(request.getName()).build()));\n}\n</code></pre>\n"}],"owner":{"account_id":23171530,"reputation":71,"user_id":17270714,"display_name":"raaeusagvc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637848700,"creation_date":1637820957,"question_id":70106564,"body_markdown":"I have the code\r\n\r\n\tprivate static Validation&lt;ConstraintViolation, List&lt;Person&gt;&gt; validatePersonDetail(\r\n\t\t\tList&lt;PersonDetailRequest&gt; personRequest) {\r\n\t\t\r\n\t\tfor (PersonRequest request:personRequest) {\r\n\t\t\t\r\n\t\t\tif (isNull(request.getName())) {\r\n\t\t\t\treturn invalid(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\r\n\t\t\t}\r\n\t\t\t..\r\n\t\t\t// more validations\r\n\t\t\t\r\n\t\t\t// build object\r\n\t\t\tPerson.builder().name(request.getName()).build();\r\n\t\t}\r\n\t\treturn valid([PERSON_LIST]);\r\n\t}\r\n\r\nI want to return Person List but not sure how to go with Vavr. I cannot use Validation combine as it contains nested validations for nested objects","title":"java vavr map return from function if statement","body":"<p>I have the code</p>\n<pre><code>private static Validation&lt;ConstraintViolation, List&lt;Person&gt;&gt; validatePersonDetail(\n        List&lt;PersonDetailRequest&gt; personRequest) {\n    \n    for (PersonRequest request:personRequest) {\n        \n        if (isNull(request.getName())) {\n            return invalid(new ConstraintViolation(&quot;name&quot;, &quot;name cannot be empty&quot;));\n        }\n        ..\n        // more validations\n        \n        // build object\n        Person.builder().name(request.getName()).build();\n    }\n    return valid([PERSON_LIST]);\n}\n</code></pre>\n<p>I want to return Person List but not sure how to go with Vavr. I cannot use Validation combine as it contains nested validations for nested objects</p>\n"},{"tags":["java","arraylist","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1637844270,"post_id":70111291,"comment_id":123937428,"body_markdown":"does this code actually work? what is &quot;OrganizationalUnitList&quot; ?","body":"does this code actually work? what is &quot;OrganizationalUnitList&quot; ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1637855266,"post_id":70111291,"comment_id":123941971,"body_markdown":"Fix your software to not having the overlapping of `OrganizationalUnit` and `TeamDetails`, thus eliminating the need to copy information from one to the other.","body":"Fix your software to not having the overlapping of <code>OrganizationalUnit</code> and <code>TeamDetails</code>, thus eliminating the need to copy information from one to the other."},{"owner":{"account_id":22804719,"reputation":21,"user_id":16956905,"display_name":"Ruturaj Shinde"},"score":0,"creation_date":1637933064,"post_id":70111291,"comment_id":123961556,"body_markdown":"In my code I am getting only required data in response pojo so it looks overlapping.However i will try to refactor.Thank you","body":"In my code I am getting only required data in response pojo so it looks overlapping.However i will try to refactor.Thank you"},{"owner":{"account_id":22804719,"reputation":21,"user_id":16956905,"display_name":"Ruturaj Shinde"},"score":0,"creation_date":1637933695,"post_id":70111291,"comment_id":123961815,"body_markdown":"Yes the given code is working as expected ,but i want to implement in more efficient way. And about overlapping ,it looks like because only necessary response data i am trying to hold in response DTO.","body":"Yes the given code is working as expected ,but i want to implement in more efficient way. And about overlapping ,it looks like because only necessary response data i am trying to hold in response DTO."}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637848665,"creation_date":1637845245,"answer_id":70111581,"question_id":70111291,"body_markdown":"You can do like this,\r\n\r\n    List&lt;TeamDetails&gt; availableTeamList = organizationalUnitList.stream()\r\n       .map(this::convertToTeam)\r\n       .collect(collectors.toList());\r\n\r\nThen define method `convertToTeam` and put the logic of creating new team and populate values there, \r\n\r\n    private TeamDetails convertToTeam(OrganizationalUnit unit){\r\n    TeamDetails team = new teamDetails();\r\n    // Setters()\r\n    return team;\r\n    }\r\nIt will do exactly same thing ,but it looks bit cleaner and also depending on what  your class is doing you could choose to move the method `convertToTeam` to its own class to seperate out the concern.\r\n\r\nYou should consider renaming this class `OrganizationalUnitTeamsList` to something like `TeamsResponse` it&#39;s a unconventional and confusing name for a Class","title":"Using JAVA 8 want reduce code for given for each loop logic","body":"<p>You can do like this,</p>\n<pre><code>List&lt;TeamDetails&gt; availableTeamList = organizationalUnitList.stream()\n   .map(this::convertToTeam)\n   .collect(collectors.toList());\n</code></pre>\n<p>Then define method <code>convertToTeam</code> and put the logic of creating new team and populate values there,</p>\n<pre><code>private TeamDetails convertToTeam(OrganizationalUnit unit){\nTeamDetails team = new teamDetails();\n// Setters()\nreturn team;\n}\n</code></pre>\n<p>It will do exactly same thing ,but it looks bit cleaner and also depending on what  your class is doing you could choose to move the method <code>convertToTeam</code> to its own class to seperate out the concern.</p>\n<p>You should consider renaming this class <code>OrganizationalUnitTeamsList</code> to something like <code>TeamsResponse</code> it's a unconventional and confusing name for a Class</p>\n"}],"owner":{"account_id":22804719,"reputation":21,"user_id":16956905,"display_name":"Ruturaj Shinde"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1637914885,"accepted_answer_id":70111581,"answer_count":1,"score":-2,"last_activity_date":1637848665,"creation_date":1637843995,"question_id":70111291,"body_markdown":"I am retrieving data from rest API with a object and want copy that to another Response java object.\r\n\r\nCurrently I have implemented below with normal java \r\n\r\n```\r\npublic OrganizationalUnitTeamsList getTeamsDetails() {\r\n        List&lt;OrganizationalUnit&gt; organizationalUnitList = organizationalUnitConnector.getOrganizationalUnit();\r\n        OrganizationalUnitTeamsList teamsListResponse = new OrganizationalUnitTeamsList();\r\n        List&lt;TeamDetails&gt; availableTeamList = new ArrayList&lt;&gt;();\r\n        for (OrganizationalUnit organizationalUnit : organizationalUnitList) {\r\n            TeamDetails teams = new TeamDetails();\r\n            teams.setHierarchyLevel(organizationalUnit.getHierarchyLevel());\r\n            teams.setLocationName(organizationalUnit.getLocationName());\r\n            teams.setName(organizationalUnit.getName());\r\n            teams.setShortName(organizationalUnit.getShortName());\r\n            availableTeamList.add(teams);\r\n        }\r\n        teamsListResponse.setTeams(availableTeamList);\r\n        return teamsListResponse;\r\n    }\r\n\r\n```\r\n\r\nI want above code to be converted in JAVA 8 way.\r\n\r\nCan some suggest me more efficient and code concise way to achieve above logic?\r\n\r\nThank you in advance.","title":"Using JAVA 8 want reduce code for given for each loop logic","body":"<p>I am retrieving data from rest API with a object and want copy that to another Response java object.</p>\n<p>Currently I have implemented below with normal java</p>\n<pre><code>public OrganizationalUnitTeamsList getTeamsDetails() {\n        List&lt;OrganizationalUnit&gt; organizationalUnitList = organizationalUnitConnector.getOrganizationalUnit();\n        OrganizationalUnitTeamsList teamsListResponse = new OrganizationalUnitTeamsList();\n        List&lt;TeamDetails&gt; availableTeamList = new ArrayList&lt;&gt;();\n        for (OrganizationalUnit organizationalUnit : organizationalUnitList) {\n            TeamDetails teams = new TeamDetails();\n            teams.setHierarchyLevel(organizationalUnit.getHierarchyLevel());\n            teams.setLocationName(organizationalUnit.getLocationName());\n            teams.setName(organizationalUnit.getName());\n            teams.setShortName(organizationalUnit.getShortName());\n            availableTeamList.add(teams);\n        }\n        teamsListResponse.setTeams(availableTeamList);\n        return teamsListResponse;\n    }\n\n</code></pre>\n<p>I want above code to be converted in JAVA 8 way.</p>\n<p>Can some suggest me more efficient and code concise way to achieve above logic?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","apache","authentication","httpclient","ntlm"],"answers":[{"tags":[],"owner":{"account_id":3500616,"reputation":1957,"user_id":2927457,"display_name":"gustf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459888117,"creation_date":1459887550,"answer_id":36436251,"question_id":36430738,"body_markdown":"You can check if it is available with. \r\n\r\n        if (!WinHttpClients.isWinAuthAvailable()) {\r\n            System.out.println(&quot;Integrated Win auth is not supported!!!&quot;);\r\n        }\r\n\r\nIf not, it could be that you do not have [jna.jar][1] in your classpath. It depends on jna and will silently return `false` on the above if it [not there, see source code][2]. \r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna\r\n  [2]: https://github.com/apache/httpclient/blob/52c68d6a4f1a14e88f9817270580bb384138040d/httpclient5-win/src/main/java/org/apache/hc/client5/http/impl/win/WinHttpClients.java","title":"Using WinHttpClients from Apache Http Components","body":"<p>You can check if it is available with. </p>\n\n<pre><code>    if (!WinHttpClients.isWinAuthAvailable()) {\n        System.out.println(\"Integrated Win auth is not supported!!!\");\n    }\n</code></pre>\n\n<p>If not, it could be that you do not have <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow\">jna.jar</a> in your classpath. It depends on jna and will silently return <code>false</code> on the above if it <a href=\"https://github.com/apache/httpclient/blob/52c68d6a4f1a14e88f9817270580bb384138040d/httpclient5-win/src/main/java/org/apache/hc/client5/http/impl/win/WinHttpClients.java\" rel=\"nofollow\">not there, see source code</a>. </p>\n"},{"tags":[],"owner":{"account_id":2759482,"reputation":91,"user_id":2376661,"display_name":"Martin Stenderup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637848580,"creation_date":1637848580,"answer_id":70112351,"question_id":36430738,"body_markdown":"Try with get (or options) before post. Some webservers requires that because of CORS.\r\nhttps://stackoverflow.com/a/38410411/2376661\r\n\r\n","title":"Using WinHttpClients from Apache Http Components","body":"<p>Try with get (or options) before post. Some webservers requires that because of CORS.\n<a href=\"https://stackoverflow.com/a/38410411/2376661\">https://stackoverflow.com/a/38410411/2376661</a></p>\n"}],"owner":{"account_id":1517380,"reputation":335,"user_id":1418072,"accept_rate":67,"display_name":"Radford7821"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637848580,"creation_date":1459870131,"question_id":36430738,"body_markdown":"I have been able to successfully authentication to a service that requires ntlm authentication when using the WinHttpClients and a GET request. However when I try to do a POST I always get a 401 return code. Has anyone done this sucessfully before?\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.NTCredentials;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.client.protocol.HttpClientContext;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.WinHttpClients;\r\n\r\n\r\n    public class WindowsAuthPOst {\r\n\t\r\n\tpublic static void main (String []args) throws Exception, IOException\r\n\t{\r\n\t\torg.apache.log4j.BasicConfigurator.configure();\r\n\t\tCloseableHttpClient httpclient = WinHttpClients.createDefault();\r\n\t\t\r\n\t\tHttpHost target = new HttpHost(&quot;SomeHost.domain&quot;, 443, &quot;https&quot;);\r\n\r\n\t\tHttpClientContext context = HttpClientContext.create();\r\n\t\tHttpGet httpget = new HttpGet(&quot;/some/Service.svc&quot;);\r\n\t\tCloseableHttpResponse response1 = httpclient.execute(target, httpget, context);\r\n\t\ttry {\r\n\t\t    HttpEntity entity1 = response1.getEntity();\r\n\t\t} finally {\r\n\t\t    response1.close();\r\n\t\t}\r\n\r\n\t\t// Execute an expensive method next reusing the same context (and connection)\r\n\t\tHttpPost httppost = new HttpPost(&quot;/some/Service.svc&quot;);\r\n\t\thttppost.setHeader(&quot;SOAPAction&quot;, &quot;Some Soap Action&quot;);\r\n  \t\thttppost.setEntity(new StringEntity(&quot;Soap Payload&quot;));\r\n\t\tCloseableHttpResponse response2 = httpclient.execute(target, httppost, context);\r\n\t\ttry {\r\n\t\t    HttpEntity entity2 = response2.getEntity();\r\n\t\t} finally {\r\n\t\t    response2.close();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Using WinHttpClients from Apache Http Components","body":"<p>I have been able to successfully authentication to a service that requires ntlm authentication when using the WinHttpClients and a GET request. However when I try to do a POST I always get a 401 return code. Has anyone done this sucessfully before?</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.NTCredentials;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.protocol.HttpClientContext;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.WinHttpClients;\n\n\npublic class WindowsAuthPOst {\n\npublic static void main (String []args) throws Exception, IOException\n{\n    org.apache.log4j.BasicConfigurator.configure();\n    CloseableHttpClient httpclient = WinHttpClients.createDefault();\n\n    HttpHost target = new HttpHost(\"SomeHost.domain\", 443, \"https\");\n\n    HttpClientContext context = HttpClientContext.create();\n    HttpGet httpget = new HttpGet(\"/some/Service.svc\");\n    CloseableHttpResponse response1 = httpclient.execute(target, httpget, context);\n    try {\n        HttpEntity entity1 = response1.getEntity();\n    } finally {\n        response1.close();\n    }\n\n    // Execute an expensive method next reusing the same context (and connection)\n    HttpPost httppost = new HttpPost(\"/some/Service.svc\");\n    httppost.setHeader(\"SOAPAction\", \"Some Soap Action\");\n    httppost.setEntity(new StringEntity(\"Soap Payload\"));\n    CloseableHttpResponse response2 = httpclient.execute(target, httppost, context);\n    try {\n        HttpEntity entity2 = response2.getEntity();\n    } finally {\n        response2.close();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","option-type","dto"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1637838406,"post_id":70109940,"comment_id":123935143,"body_markdown":"What keeps you from changing your method to return `Optional`? Like `public Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid); }`","body":"What keeps you from changing your method to return <code>Optional</code>? Like <code>public Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid); }</code>"},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1637838606,"post_id":70109940,"comment_id":123935227,"body_markdown":"I tried, then I had to make lots of changes due to the necessary changes (converting to Optional in the DTO). Any suggestion?","body":"I tried, then I had to make lots of changes due to the necessary changes (converting to Optional in the DTO). Any suggestion?"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1637839014,"post_id":70109940,"comment_id":123935374,"body_markdown":"Basically changing the return type to `Optional` is a good idea because that way you can let the calling code decide what to do with a &quot;no result&quot;. The calling does not need to do a try-catch in order to find out whether there is a value for the given UUID. Sure, you need to change probably a lot of code. Another possibility: `ublic Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid).orElse(null);`. That way you avoid throwing the exception but you will return `null` and the calling code needs to check for null in order not to throw an `NullPointerExc","body":"Basically changing the return type to <code>Optional</code> is a good idea because that way you can let the calling code decide what to do with a &quot;no result&quot;. The calling does not need to do a try-catch in order to find out whether there is a value for the given UUID. Sure, you need to change probably a lot of code. Another possibility: <code>ublic Optional&lt;DemoDTO&gt; findShallowByUuid(UUID uuid) { return demoRepository.findShallowByUuid(uuid).orElse(null);</code>. That way you avoid throwing the exception but you will return <code>null</code> and the calling code needs to check for null in order not to throw an `NullPointerExc"},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1637839915,"post_id":70109940,"comment_id":123935713,"body_markdown":"@jmizv Exactly!.. Thanks a lot, very elegant solution ;)","body":"@jmizv Exactly!.. Thanks a lot, very elegant solution ;)"}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637848307,"creation_date":1637840079,"answer_id":70110393,"question_id":70109940,"body_markdown":"To put my comment into an answer, this would be the most elegant way based on your requirements:\r\n\r\n\r\n```\r\npublic DemoDTO findShallowByUuid(UUID uuid) {\r\n    return demoRepository.findShallowByUuid(uuid).orElse(null);\r\n}\r\n```\r\n\r\nBut be sure that the calling code correctly handles `null` to avoid `NullPointerException`s.","title":"How to make return type nullable using Optional&lt;T&gt; etc?","body":"<p>To put my comment into an answer, this would be the most elegant way based on your requirements:</p>\n<pre><code>public DemoDTO findShallowByUuid(UUID uuid) {\n    return demoRepository.findShallowByUuid(uuid).orElse(null);\n}\n</code></pre>\n<p>But be sure that the calling code correctly handles <code>null</code> to avoid <code>NullPointerException</code>s.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70110393,"answer_count":1,"score":1,"last_activity_date":1637848307,"creation_date":1637837983,"question_id":70109940,"body_markdown":"I have the following method that returns `DemoDTO` and if it is not found, return exception. \r\n\r\n\r\n```\r\npublic DemoDTO findShallowByUuid(UUID uuid) {\r\n    return demoRepository.findShallowByUuid(uuid)\r\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found&quot;));\r\n}\r\n```\r\n\r\nHowever, I want to let the method to return a nullable `DemoDTO` instead of throwing error. For this purpose, I converted its type and the related return types to `Optional&lt;DemoDTO&gt;` or `Optional&lt;T&gt;`, but it caused some problems regarding to the related DTO. After I updated the constructor parameters to `Optional&lt;T&gt;`, the other part of the app that using this DTO complained. \r\n\r\nI am not sure converting to `Optional&lt;T&gt;` is a good idea or not. If it is a good idea, should I add another constructor to the `DemoDTO`? I am not sure if it is a good solution as it will also require some changes for the property types. Any idea?","title":"How to make return type nullable using Optional&lt;T&gt; etc?","body":"<p>I have the following method that returns <code>DemoDTO</code> and if it is not found, return exception.</p>\n<pre><code>public DemoDTO findShallowByUuid(UUID uuid) {\n    return demoRepository.findShallowByUuid(uuid)\n            .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found&quot;));\n}\n</code></pre>\n<p>However, I want to let the method to return a nullable <code>DemoDTO</code> instead of throwing error. For this purpose, I converted its type and the related return types to <code>Optional&lt;DemoDTO&gt;</code> or <code>Optional&lt;T&gt;</code>, but it caused some problems regarding to the related DTO. After I updated the constructor parameters to <code>Optional&lt;T&gt;</code>, the other part of the app that using this DTO complained.</p>\n<p>I am not sure converting to <code>Optional&lt;T&gt;</code> is a good idea or not. If it is a good idea, should I add another constructor to the <code>DemoDTO</code>? I am not sure if it is a good solution as it will also require some changes for the property types. Any idea?</p>\n"},{"tags":["java","c++","c","recursion","factorial"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1432313675,"post_id":30402046,"comment_id":48891780,"body_markdown":"Do one of the options using a loop?","body":"Do one of the options using a loop?"},{"owner":{"account_id":1700744,"reputation":1190,"user_id":1560890,"display_name":"kaz"},"score":0,"creation_date":1432313717,"post_id":30402046,"comment_id":48891800,"body_markdown":"You should add a tag with the language you are using.","body":"You should add a tag with the language you are using."},{"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"score":0,"creation_date":1432314308,"post_id":30402046,"comment_id":48892084,"body_markdown":"@anindya dutta -- no iteration, only recursion","body":"@anindya dutta -- no iteration, only recursion"}],"answers":[{"tags":[],"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1432315132,"creation_date":1432314389,"answer_id":30402278,"question_id":30402046,"body_markdown":"\r\n    int main() {\r\n       sum(1,terms,1,0);\r\n    }\r\n\r\n    int sum (int cur, int terms, int fac, int sumcur) {\r\n        \r\n        return terms == n? sumcur: sum(cur+1, terms, (cur==1)?1:cur*fac, sumcur+cur*fac);\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<pre><code>int main() {\n   sum(1,terms,1,0);\n}\n\nint sum (int cur, int terms, int fac, int sumcur) {\n\n    return terms == n? sumcur: sum(cur+1, terms, (cur==1)?1:cur*fac, sumcur+cur*fac);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626472,"reputation":565,"user_id":1501928,"display_name":"mgarant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432314628,"creation_date":1432314628,"answer_id":30402348,"question_id":30402046,"body_markdown":"You could have Something like this :\r\n\r\n    int sumOfFac(int currentNumber, int lastSum, int lastFac, int maxNumber)\r\n    {\r\n        int currentFac = currentNmber*lastFac;\r\n        int currentSum = lastSum+currentFac;\r\n\r\n        if(currentNumber &lt; maxNumber)\r\n        {\r\n            return sumOfFac(currentNumber+1, currentSum, currentFac, maxNumber);\r\n        }\r\n        return currentSum;\r\n    }\r\n\r\nThen you call that function the first time with :\r\n\r\n    currentNumber = 1\r\n    lastSum = 0\r\n    lastFac = 1\r\n    maxNumber = your n","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>You could have Something like this :</p>\n\n<pre><code>int sumOfFac(int currentNumber, int lastSum, int lastFac, int maxNumber)\n{\n    int currentFac = currentNmber*lastFac;\n    int currentSum = lastSum+currentFac;\n\n    if(currentNumber &lt; maxNumber)\n    {\n        return sumOfFac(currentNumber+1, currentSum, currentFac, maxNumber);\n    }\n    return currentSum;\n}\n</code></pre>\n\n<p>Then you call that function the first time with :</p>\n\n<pre><code>currentNumber = 1\nlastSum = 0\nlastFac = 1\nmaxNumber = your n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5321025,"reputation":17886,"user_id":4253229,"accept_rate":83,"display_name":"Eugene Sh."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432316517,"creation_date":1432315467,"answer_id":30402547,"question_id":30402046,"body_markdown":"    a_1 = 1!\r\n    a_2 = 1!+2!\r\n    ...\r\n    a_n = a_(n-1) + f_(n-1)*n\r\n\r\nwhere `f_i = i!`. So basically we need two outputs from the dunction - `a` and `f`. Let&#39;s translate it to the code:\r\n\r\n    int series(int n, int *f)\r\n    {\r\n    \tint a, f1;\r\n    \tif (n &lt; 2)\r\n    \t{\r\n    \t\t*f = 1;\r\n    \t\treturn 1;\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\ta = series(n-1, &amp;f1);\r\n    \t\t*f = f1 * n;\r\n    \t\treturn a + (*f);\r\n    \t}\r\n    }\r\n\r\nAnd then\r\n\r\n    int main(void) {\r\n    \tint dummy;\r\n        printf(&quot;%d\\n&quot;, series(1, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(2, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(3, &amp;dummy));\r\n        printf(&quot;%d\\n&quot;, series(4, &amp;dummy));\r\n    \treturn 0;\r\n    }\r\n\r\nprints this:\r\n\r\n    1\r\n    3\r\n    9\r\n    33\r\n&lt;br&gt;\r\n**Update:** &lt;br&gt;\r\n To refactor further, we can say that `f_n = a_n - a_(n-1)`, so  `f_(n-1) = a_(n-1) - a_(n-2)`. Then the recursive case will be:\r\n\r\n    a_n = a_(n-1) + (a_(n-1) - a_(n-2))*n\r\nThis wont require the calculation of `f`, but need some extra bse cases and extra recursive call:\r\n\r\n        int series(int n)\r\n        {\r\n        \tint a1, a2;\r\n        \tif (n &lt;= 1)\r\n        \t{\r\n        \t\treturn 1;\r\n        \t}\r\n        \telse if (n==2)\r\n        \t{\r\n        \t\treturn 3;\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\t\r\n        \t\ta1 = series(n-1);\r\n        \t\ta2 = series(n-2);\r\n        \t\t\r\n        \t\treturn a1 + (a1 - a2)*n;\r\n        \t}\r\n        }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<pre><code>a_1 = 1!\na_2 = 1!+2!\n...\na_n = a_(n-1) + f_(n-1)*n\n</code></pre>\n\n<p>where <code>f_i = i!</code>. So basically we need two outputs from the dunction - <code>a</code> and <code>f</code>. Let's translate it to the code:</p>\n\n<pre><code>int series(int n, int *f)\n{\n    int a, f1;\n    if (n &lt; 2)\n    {\n        *f = 1;\n        return 1;\n    }\n    else\n    {\n        a = series(n-1, &amp;f1);\n        *f = f1 * n;\n        return a + (*f);\n    }\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>int main(void) {\n    int dummy;\n    printf(\"%d\\n\", series(1, &amp;dummy));\n    printf(\"%d\\n\", series(2, &amp;dummy));\n    printf(\"%d\\n\", series(3, &amp;dummy));\n    printf(\"%d\\n\", series(4, &amp;dummy));\n    return 0;\n}\n</code></pre>\n\n<p>prints this:</p>\n\n<pre><code>1\n3\n9\n33\n</code></pre>\n\n<p><br>\n<strong>Update:</strong> <br>\n To refactor further, we can say that <code>f_n = a_n - a_(n-1)</code>, so  <code>f_(n-1) = a_(n-1) - a_(n-2)</code>. Then the recursive case will be:</p>\n\n<pre><code>a_n = a_(n-1) + (a_(n-1) - a_(n-2))*n\n</code></pre>\n\n<p>This wont require the calculation of <code>f</code>, but need some extra bse cases and extra recursive call:</p>\n\n<pre><code>    int series(int n)\n    {\n        int a1, a2;\n        if (n &lt;= 1)\n        {\n            return 1;\n        }\n        else if (n==2)\n        {\n            return 3;\n        }\n        else\n        {\n\n            a1 = series(n-1);\n            a2 = series(n-2);\n\n            return a1 + (a1 - a2)*n;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3973497,"reputation":6743,"user_id":3277393,"accept_rate":72,"display_name":"user12341234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1432315970,"creation_date":1432315970,"answer_id":30402681,"question_id":30402046,"body_markdown":"This is the simplest I could get it:\r\n\r\n    int sum_fac(int target, int counter) {\r\n        return (target == counter) ? target : counter * (1 + sum_fac(target, counter + 1));\r\n    }\r\n\r\nWhich when called like this:\r\n\r\n    int main() {\r\n      for (int i = 1; i &lt; 10; i++) {\r\n        printf(&quot;%d: %d\\n&quot;, i, sum_fac(i, 1));\r\n      }\r\n    }\r\n\r\nOutputs this:\r\n\r\n    1: 1\r\n    2: 3\r\n    3: 9\r\n    4: 33\r\n    5: 153\r\n    6: 873\r\n    7: 5913\r\n    8: 46233\r\n    9: 409113","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>This is the simplest I could get it:</p>\n\n<pre><code>int sum_fac(int target, int counter) {\n    return (target == counter) ? target : counter * (1 + sum_fac(target, counter + 1));\n}\n</code></pre>\n\n<p>Which when called like this:</p>\n\n<pre><code>int main() {\n  for (int i = 1; i &lt; 10; i++) {\n    printf(\"%d: %d\\n\", i, sum_fac(i, 1));\n  }\n}\n</code></pre>\n\n<p>Outputs this:</p>\n\n<pre><code>1: 1\n2: 3\n3: 9\n4: 33\n5: 153\n6: 873\n7: 5913\n8: 46233\n9: 409113\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23451925,"reputation":1,"user_id":17507978,"display_name":"Siddhant Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847875,"creation_date":1637847668,"answer_id":70112133,"question_id":30402046,"body_markdown":"The code using c language\r\n\r\n    #include&lt;stdio.h&gt;\r\n    \r\n    int main(){\r\n      int n;\r\n      printf(&quot;Until how many terms?\\n&quot;);\r\n      scanf(&quot;%d&quot;,&amp;n);\r\n      printf(&quot;The sum of factorials is %d&quot;,srs(n));    \r\n      return 0;\r\n    }\r\n\r\n    int factorial(int n){\r\n      return n&lt;2?1:n*factorial(n-1); //(if)?(true):(false)\r\n    }\r\n\r\n    int srs(int n){\r\n      return n&gt;0?( (factorial(n)) + srs(n-1)):0; //(if)?(true):(false)\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>The code using c language</p>\n<pre><code>#include&lt;stdio.h&gt;\n\nint main(){\n  int n;\n  printf(&quot;Until how many terms?\\n&quot;);\n  scanf(&quot;%d&quot;,&amp;n);\n  printf(&quot;The sum of factorials is %d&quot;,srs(n));    \n  return 0;\n}\n\nint factorial(int n){\n  return n&lt;2?1:n*factorial(n-1); //(if)?(true):(false)\n}\n\nint srs(int n){\n  return n&gt;0?( (factorial(n)) + srs(n-1)):0; //(if)?(true):(false)\n}\n</code></pre>\n"}],"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30402681,"answer_count":5,"score":0,"last_activity_date":1637847875,"creation_date":1432313551,"question_id":30402046,"body_markdown":"I need a single recursive function to compute the series `S=1! + 2! + 3! + ...+n!`.\r\n\r\nI&#39;ve done it using 2 functions.\r\n\r\n    void main()\r\n    { \r\n      int terms=4;\r\n      printf(sum(terms));  //outputs 33\r\n     /* \r\n        terms is the number of terms in the series\r\n        e.g. terms=3 outputs 9, 4 outputs 33\r\n     */\r\n    }\r\n\r\n    int fac(int n)   \r\n    {            \r\n         return n&lt;2 ? 1 : n * fac(n-1) ;\r\n    }   \r\n    int sum(int terms)   \r\n    {     \r\n         return terms&gt;0 ? (fac(terms) + sum(terms-1)):0 ;\r\n    }","title":"Sum of factorials of 1 to n using only one recursive function","body":"<p>I need a single recursive function to compute the series <code>S=1! + 2! + 3! + ...+n!</code>.</p>\n\n<p>I've done it using 2 functions.</p>\n\n<pre><code>void main()\n{ \n  int terms=4;\n  printf(sum(terms));  //outputs 33\n /* \n    terms is the number of terms in the series\n    e.g. terms=3 outputs 9, 4 outputs 33\n */\n}\n\nint fac(int n)   \n{            \n     return n&lt;2 ? 1 : n * fac(n-1) ;\n}   \nint sum(int terms)   \n{     \n     return terms&gt;0 ? (fac(terms) + sum(terms-1)):0 ;\n}\n</code></pre>\n"},{"tags":["java","oop","functional-programming","java-8"],"answers":[{"tags":[],"owner":{"account_id":10904,"reputation":2639,"user_id":1729005,"display_name":"axblount"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1426608106,"creation_date":1426558909,"answer_id":29090270,"question_id":29090179,"body_markdown":"What you&#39;re trying to accomplish, while admirable, isn&#39;t a good fit for Java in most cases. But before I get into that...\r\n\r\nJava 8 adds default methods to interfaces! You can define default methods based on other methods in the interface. This was already available to abstract classes.\r\n\r\n    public interface Animal {\r\n        public void speak();\r\n        public default void jump() {\r\n            speak();\r\n            System.out.println(&quot;...but higher!&quot;);\r\n        }\r\n    }\r\n\r\nBut in the end, you&#39;re going to have to provide functionality for each type. I don&#39;t see a huge difference between adding a new method and creating a visitor class or partial functions. It&#39;s just a question of location. Do you want to organize your code by action or object? (functional or object oriented, verb or noun, etc.)\r\n\r\n*I suppose the point I&#39;m trying to make is that Java code is organized by &#39;noun&#39; for reasons that aren&#39;t changing any time soon.*\r\n\r\nThe visitor pattern along with static methods are probably your best bet for organizing things by action. However, I think visitors make the most sense when they don&#39;t really depend on the exact type of the object they&#39;re visiting. For instance, an Animal visitor might be used to make the animal speak and then jump, because both of those things are supported by all animals. A jump visitor doesn&#39;t make as much sense to me because that behavior is inherently specific to each animal.\r\n\r\nJava makes a true &quot;verb&quot; approach a little difficult because it chooses which overloaded method to run based on the compile time type of the arguments (see below and https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type). Methods are only dynamically dispatched based on the type of `this`. That&#39;s one of the reasons inheritance is the preferred method of handling these types of situations.\r\n\r\n    public class AnimalActions {\r\n        public static void jump(Animal a) {\r\n            a.speak();\r\n            System.out.println(&quot;...but higher!&quot;);\r\n        }\r\n        public static void jump(Bird b) { ... }\r\n        public static void jump(Cat c) { ... }\r\n        // ...\r\n    }\r\n    // ...\r\n    Animal a = new Cat();\r\n    AnimalActions.jump(a); // this will call AnimalActions.jump(Animal)\r\n                           // because the type of `a` is just Animal at\r\n                           // compile time.\r\n\r\nYou can get around this by using `instanceof` and other forms of reflection.\r\n\r\n    public class AnimalActions {\r\n        public static void jump(Animal a) {\r\n            if (a instanceof Bird) {\r\n                Bird b = (Bird)a;\r\n                // ...\r\n            } else if (a instanceof Cat) {\r\n                Cat c = (Cat)a;\r\n                // ...\r\n            }\r\n            // ...\r\n        }\r\n    }\r\n\r\nBut now you&#39;re just doing work the JVM was designed to do for you.\r\n\r\n    Animal a = new Cat();\r\n    a.jump(); // jumps as a cat should\r\n\r\nJava has a few tools that make adding methods to a broad set of classes easier. Namely abstract classes and default interface methods. Java is focused on dispatching methods based on the object invoking the method. If you want to write flexible and performant Java, I think this is one idiom you have to adopt.\r\n\r\n**P.S.** Because I&#39;m *That Guy*™ I&#39;m going to bring up Lisp, specifically the Common Lisp Object System (CLOS). It provides multimethods that dispatch based on all arguments. The book *Practical Common Lisp* even provides [an example of how this differs from Java][1].\r\n\r\n[1]:http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html#multimethods\r\n    ","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>What you're trying to accomplish, while admirable, isn't a good fit for Java in most cases. But before I get into that...</p>\n\n<p>Java 8 adds default methods to interfaces! You can define default methods based on other methods in the interface. This was already available to abstract classes.</p>\n\n<pre><code>public interface Animal {\n    public void speak();\n    public default void jump() {\n        speak();\n        System.out.println(\"...but higher!\");\n    }\n}\n</code></pre>\n\n<p>But in the end, you're going to have to provide functionality for each type. I don't see a huge difference between adding a new method and creating a visitor class or partial functions. It's just a question of location. Do you want to organize your code by action or object? (functional or object oriented, verb or noun, etc.)</p>\n\n<p><em>I suppose the point I'm trying to make is that Java code is organized by 'noun' for reasons that aren't changing any time soon.</em></p>\n\n<p>The visitor pattern along with static methods are probably your best bet for organizing things by action. However, I think visitors make the most sense when they don't really depend on the exact type of the object they're visiting. For instance, an Animal visitor might be used to make the animal speak and then jump, because both of those things are supported by all animals. A jump visitor doesn't make as much sense to me because that behavior is inherently specific to each animal.</p>\n\n<p>Java makes a true \"verb\" approach a little difficult because it chooses which overloaded method to run based on the compile time type of the arguments (see below and <a href=\"https://stackoverflow.com/questions/1572322/overloaded-method-selection-based-on-the-parameters-real-type\">Overloaded method selection based on the parameter&#39;s real type</a>). Methods are only dynamically dispatched based on the type of <code>this</code>. That's one of the reasons inheritance is the preferred method of handling these types of situations.</p>\n\n<pre><code>public class AnimalActions {\n    public static void jump(Animal a) {\n        a.speak();\n        System.out.println(\"...but higher!\");\n    }\n    public static void jump(Bird b) { ... }\n    public static void jump(Cat c) { ... }\n    // ...\n}\n// ...\nAnimal a = new Cat();\nAnimalActions.jump(a); // this will call AnimalActions.jump(Animal)\n                       // because the type of `a` is just Animal at\n                       // compile time.\n</code></pre>\n\n<p>You can get around this by using <code>instanceof</code> and other forms of reflection.</p>\n\n<pre><code>public class AnimalActions {\n    public static void jump(Animal a) {\n        if (a instanceof Bird) {\n            Bird b = (Bird)a;\n            // ...\n        } else if (a instanceof Cat) {\n            Cat c = (Cat)a;\n            // ...\n        }\n        // ...\n    }\n}\n</code></pre>\n\n<p>But now you're just doing work the JVM was designed to do for you.</p>\n\n<pre><code>Animal a = new Cat();\na.jump(); // jumps as a cat should\n</code></pre>\n\n<p>Java has a few tools that make adding methods to a broad set of classes easier. Namely abstract classes and default interface methods. Java is focused on dispatching methods based on the object invoking the method. If you want to write flexible and performant Java, I think this is one idiom you have to adopt.</p>\n\n<p><strong>P.S.</strong> Because I'm <em>That Guy</em>™ I'm going to bring up Lisp, specifically the Common Lisp Object System (CLOS). It provides multimethods that dispatch based on all arguments. The book <em>Practical Common Lisp</em> even provides <a href=\"http://www.gigamonkeys.com/book/object-reorientation-generic-functions.html#multimethods\" rel=\"noreferrer\">an example of how this differs from Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1426560127,"creation_date":1426560127,"answer_id":29090455,"question_id":29090179,"body_markdown":"Lambda expressions can make it easier to set up (very) poor man&#39;s pattern matching.  Same technique can be used to make a Visitor easier to build.\r\n\r\n\tstatic interface Animal {\r\n        // can also make it a default method \r\n        // to avoid having to pass animal as an explicit parameter\r\n\t\tstatic void match(\r\n\t\t\t\tAnimal animal,\r\n\t\t\t\tConsumer&lt;Dog&gt; dogAction,\r\n\t\t\t\tConsumer&lt;Cat&gt; catAction,\r\n\t\t\t\tConsumer&lt;Fish&gt; fishAction,\r\n\t\t\t\tConsumer&lt;Bird&gt; birdAction\r\n\t\t) {\r\n\t\t\tif (animal instanceof Cat) {\r\n\t\t\t\tcatAction.accept((Cat) animal);\r\n\t\t\t} else if (animal instanceof Dog) {\r\n\t\t\t\tdogAction.accept((Dog) animal);\r\n\t\t\t} else if (animal instanceof Fish) {\r\n\t\t\t\tfishAction.accept((Fish) animal);\r\n\t\t\t} else if (animal instanceof Bird) {\r\n\t\t\t\tbirdAction.accept((Bird) animal);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new AssertionError(animal.getClass());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic void jump(Animal animal) {\r\n\t\tAnimal.match(animal,\r\n\t\t\t\tDog::hop,\r\n\t\t\t\tCat::leap,\r\n\t\t\t\tfish -&gt; {\r\n\t\t\t\t\tif (fish.canJump()) {\r\n\t\t\t\t\t\tfish.jump();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfish.swim();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tBird::soar\r\n\t\t);\r\n\t}\r\n","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>Lambda expressions can make it easier to set up (very) poor man's pattern matching.  Same technique can be used to make a Visitor easier to build.</p>\n\n<pre><code>static interface Animal {\n    // can also make it a default method \n    // to avoid having to pass animal as an explicit parameter\n    static void match(\n            Animal animal,\n            Consumer&lt;Dog&gt; dogAction,\n            Consumer&lt;Cat&gt; catAction,\n            Consumer&lt;Fish&gt; fishAction,\n            Consumer&lt;Bird&gt; birdAction\n    ) {\n        if (animal instanceof Cat) {\n            catAction.accept((Cat) animal);\n        } else if (animal instanceof Dog) {\n            dogAction.accept((Dog) animal);\n        } else if (animal instanceof Fish) {\n            fishAction.accept((Fish) animal);\n        } else if (animal instanceof Bird) {\n            birdAction.accept((Bird) animal);\n        } else {\n            throw new AssertionError(animal.getClass());\n        }\n    }\n}\n\nstatic void jump(Animal animal) {\n    Animal.match(animal,\n            Dog::hop,\n            Cat::leap,\n            fish -&gt; {\n                if (fish.canJump()) {\n                    fish.jump();\n                } else {\n                    fish.swim();\n                }\n            },\n            Bird::soar\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426626085,"creation_date":1426626085,"answer_id":29109591,"question_id":29090179,"body_markdown":"The additions made to the Java language do not render every old concept outdated. In fact, the Visitor pattern is very good at supporting adding of new operations.\r\n\r\nWhen comparing this pattern with the new Java&#160;8 possibilities, the following becomes apparent:\r\n\r\n - Java&#160;8 allows to easily define operations comprising a single function. This comes handy when processing flat homogeneous collections like with [`Iterable.forEach`](http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-), [`Stream.forEach`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-) but also [`Stream.reduce`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-)\r\n - A visitor allows to define a *multiple functions* which are selected by element type and/or topology of a data structure which becomes interesting right where the single function feature stops working, when processing heterogeneous collections and non-flat structures, e.g. trees of items\r\n\r\nSo the new Java&#160;8 features can never act as a drop-in replacement for the Visitor pattern, however, searching for possible synergies is reasonable. [This answer](https://stackoverflow.com/a/24384759/2711488) discusses possibilities to retrofit an existing API (`FileVisitor`) to enable the use of lambda expressions. The solution is a specialized concrete visitor implementation which delegates to corresponding functions which can be specified for each `visit` method. If each function is optional (i.e. there is a reasonable default for each `visit` method), it will come handy if the application is interested in a small subset of the possible actions only or if it wants to treat most of them uniformly.\r\n\r\nIf some of these use cases are regarded “typical”, there might be an `accept` method taking one or more functions creating the appropriate delegating visitor behind the scene (when designing new APIs or improving API under your control). I wouldn’t drop the ordinary `accept(XyzVisitor)`, however, as the option to use an existing implementation of a visitor should not be underestimated.\r\n\r\nThere’s a similar choice of overloads in the `Stream` API, if we consider a [`Collector`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html) as a kind of visitor for a `Stream`. It consists of up to four functions, which is the maximum imaginable for visiting a flat, homogeneous sequence of items. Instead of having to implement that interface, you can initiate a [reduction specifying a single function](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-) or a [mutable reduction using three functions](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-) but there are common situations where [specifying an existing implementation](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-) is more concise, like with `collect(Collectors.toList())` or `collect(Collectors.joining(&quot;,&quot;))`, than specifying all necessary functions via lambda expressions/ method references.\r\n\r\nWhen adding such support to a particular application of the Visitor pattern, it will make the calling site more shiny while the implementation site of the particular `accept` methods always has been simple. So the only part which remains bulky is the visitor type itself; it may even become a bit more complicated when it is augmented with support for functional interface based operations. It is unlikely that there will be a language-based solution for either, simpler creation of such visitors or replacing this concept, in the near future.\r\n","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>The additions made to the Java language do not render every old concept outdated. In fact, the Visitor pattern is very good at supporting adding of new operations.</p>\n\n<p>When comparing this pattern with the new Java 8 possibilities, the following becomes apparent:</p>\n\n<ul>\n<li>Java 8 allows to easily define operations comprising a single function. This comes handy when processing flat homogeneous collections like with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Stream.forEach</code></a> but also <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a></li>\n<li>A visitor allows to define a <em>multiple functions</em> which are selected by element type and/or topology of a data structure which becomes interesting right where the single function feature stops working, when processing heterogeneous collections and non-flat structures, e.g. trees of items</li>\n</ul>\n\n<p>So the new Java 8 features can never act as a drop-in replacement for the Visitor pattern, however, searching for possible synergies is reasonable. <a href=\"https://stackoverflow.com/a/24384759/2711488\">This answer</a> discusses possibilities to retrofit an existing API (<code>FileVisitor</code>) to enable the use of lambda expressions. The solution is a specialized concrete visitor implementation which delegates to corresponding functions which can be specified for each <code>visit</code> method. If each function is optional (i.e. there is a reasonable default for each <code>visit</code> method), it will come handy if the application is interested in a small subset of the possible actions only or if it wants to treat most of them uniformly.</p>\n\n<p>If some of these use cases are regarded “typical”, there might be an <code>accept</code> method taking one or more functions creating the appropriate delegating visitor behind the scene (when designing new APIs or improving API under your control). I wouldn’t drop the ordinary <code>accept(XyzVisitor)</code>, however, as the option to use an existing implementation of a visitor should not be underestimated.</p>\n\n<p>There’s a similar choice of overloads in the <code>Stream</code> API, if we consider a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> as a kind of visitor for a <code>Stream</code>. It consists of up to four functions, which is the maximum imaginable for visiting a flat, homogeneous sequence of items. Instead of having to implement that interface, you can initiate a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">reduction specifying a single function</a> or a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">mutable reduction using three functions</a> but there are common situations where <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">specifying an existing implementation</a> is more concise, like with <code>collect(Collectors.toList())</code> or <code>collect(Collectors.joining(\",\"))</code>, than specifying all necessary functions via lambda expressions/ method references.</p>\n\n<p>When adding such support to a particular application of the Visitor pattern, it will make the calling site more shiny while the implementation site of the particular <code>accept</code> methods always has been simple. So the only part which remains bulky is the visitor type itself; it may even become a bit more complicated when it is augmented with support for functional interface based operations. It is unlikely that there will be a language-based solution for either, simpler creation of such visitors or replacing this concept, in the near future.</p>\n"},{"tags":[],"owner":{"account_id":17107228,"reputation":36,"user_id":12378986,"display_name":"Flo Sailer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847794,"creation_date":1637847794,"answer_id":70112160,"question_id":29090179,"body_markdown":"i would design it as following:\r\n\r\nEvery animals returns a Set&lt;AnimalAction&gt; because some animals may jump, swim and soar, others only jump, some others may jump and hop, and so on.\r\n\r\nAfter that you may stream over AnimalAction with a Visitor without knowing which AnimalAction it is.\r\n\r\nIf you also have an AnimalVisitor you may dependently switch AnimalActionVisitor then.","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p>i would design it as following:</p>\n<p>Every animals returns a Set because some animals may jump, swim and soar, others only jump, some others may jump and hop, and so on.</p>\n<p>After that you may stream over AnimalAction with a Visitor without knowing which AnimalAction it is.</p>\n<p>If you also have an AnimalVisitor you may dependently switch AnimalActionVisitor then.</p>\n"}],"owner":{"account_id":200610,"reputation":52306,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10312,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1637847794,"creation_date":1426558157,"question_id":29090179,"body_markdown":"[This][1] popular answer on Stack Overflow has this to say about the difference between functional programming and object-oriented programming:\r\n\r\n&gt; Object-oriented languages are good when you have a fixed set of\r\n&gt; *operations* on *things*, and as your code evolves, you primarily add new\r\n&gt; things. This can be accomplished by adding new classes which implement\r\n&gt; existing methods, and the existing classes are left alone.\r\n&gt; \r\n&gt; Functional languages are good when you have a fixed set of *things*, and\r\n&gt; as your code evolves, you primarily add new *operations* on existing\r\n&gt; things. This can be accomplished by adding new functions which compute\r\n&gt; with existing data types, and the existing functions are left alone.\r\n\r\nSay I have an `Animal` interface:\r\n\r\n    public interface Animal {\r\n        public void speak();\r\n    }\r\n\r\nAnd I have a `Dog`, `Cat`, `Fish`, and `Bird` that all implement the interface. If I want to add a new method to `Animal` named `jump()`, I would have to go through all of my subclasses and implement `jump()`.\r\n\r\nThe visitor pattern can alleviate this problem, but it seems that with the new functional features introduced in Java 8 we should be able to solve this problem in a different manner. In `scala` I could easily just use pattern matching, but Java doesn&#39;t really have that yet.\r\n\r\nDoes Java 8 actually make it any easier to add new *operations* on existing things?\r\n\r\n  [1]: https://stackoverflow.com/questions/2078978/functional-programming-vs-object-oriented-programming/2079678#2079678","title":"Does Java 8 provide an alternative to the visitor pattern?","body":"<p><a href=\"https://stackoverflow.com/questions/2078978/functional-programming-vs-object-oriented-programming/2079678#2079678\">This</a> popular answer on Stack Overflow has this to say about the difference between functional programming and object-oriented programming:</p>\n\n<blockquote>\n  <p>Object-oriented languages are good when you have a fixed set of\n  <em>operations</em> on <em>things</em>, and as your code evolves, you primarily add new\n  things. This can be accomplished by adding new classes which implement\n  existing methods, and the existing classes are left alone.</p>\n  \n  <p>Functional languages are good when you have a fixed set of <em>things</em>, and\n  as your code evolves, you primarily add new <em>operations</em> on existing\n  things. This can be accomplished by adding new functions which compute\n  with existing data types, and the existing functions are left alone.</p>\n</blockquote>\n\n<p>Say I have an <code>Animal</code> interface:</p>\n\n<pre><code>public interface Animal {\n    public void speak();\n}\n</code></pre>\n\n<p>And I have a <code>Dog</code>, <code>Cat</code>, <code>Fish</code>, and <code>Bird</code> that all implement the interface. If I want to add a new method to <code>Animal</code> named <code>jump()</code>, I would have to go through all of my subclasses and implement <code>jump()</code>.</p>\n\n<p>The visitor pattern can alleviate this problem, but it seems that with the new functional features introduced in Java 8 we should be able to solve this problem in a different manner. In <code>scala</code> I could easily just use pattern matching, but Java doesn't really have that yet.</p>\n\n<p>Does Java 8 actually make it any easier to add new <em>operations</em> on existing things?</p>\n"},{"tags":["java","sql","sql-server","hibernate","azure-sql-database"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1636965521,"post_id":69971447,"comment_id":123689046,"body_markdown":"Mojibake - save as utf8?","body":"Mojibake - save as utf8?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1636967386,"post_id":69971447,"comment_id":123689672,"body_markdown":"It sounds like you&#39;re trying to store it in a `varchar` column type that doesn&#39;t support the required collation. Please [Edit](https://stackoverflow.com/posts/69971447/edit) your question to include the table schema, including the column collation(s) - as text. If the column doesn&#39;t specify a particular collation, please also include the database&#39;s default collation.","body":"It sounds like you&#39;re trying to store it in a <code>varchar</code> column type that doesn&#39;t support the required collation. Please <a href=\"https://stackoverflow.com/posts/69971447/edit\">Edit</a> your question to include the table schema, including the column collation(s) - as text. If the column doesn&#39;t specify a particular collation, please also include the database&#39;s default collation."},{"owner":{"account_id":20264817,"reputation":56082,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1636985167,"post_id":69971447,"comment_id":123696387,"body_markdown":"How are you passing the value into SQL? Are you using parameters? If so are you passing those as `nvarchar`?","body":"How are you passing the value into SQL? Are you using parameters? If so are you passing those as <code>nvarchar</code>?"}],"owner":{"account_id":4932009,"reputation":33,"user_id":3971474,"display_name":"soubhagya senapati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637847676,"creation_date":1636965335,"question_id":69971447,"body_markdown":"I am using Azure SQL (as database) with hibernate (as ORM) and Java as programming language, we have a address column which stores the address as a JSON, we are facing problem with storing special characters which are converted to  &quot; ??? &quot; (question mark)\r\n\r\nExample: &quot;Ω&quot; is being stored as &quot;?&quot;\r\n\r\nTha table :\r\n```tsql\r\nCREATE TABLE test.[order](.....\r\n.......\r\n[shipping_address] [nvarchar](max) NOT NULL\r\n  .......\r\n  .......\r\n  )\r\n```\r\nThanks in advance.\r\n---------------------------------------------------------------------\r\nThis was first issue which we could solve with Column type (Nvarchar) and data-type in hibernate as String. It works fine with SQL-Server in local but in UAT which is azure-sql , it doesn&#39;t work.Both have same collation : SQL_Latin1_General_CP1_CI_AS","title":"Azure SQL handling special characters","body":"<p>I am using Azure SQL (as database) with hibernate (as ORM) and Java as programming language, we have a address column which stores the address as a JSON, we are facing problem with storing special characters which are converted to  &quot; ??? &quot; (question mark)</p>\n<p>Example: &quot;Ω&quot; is being stored as &quot;?&quot;</p>\n<p>Tha table :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE test.[order](.....\n.......\n[shipping_address] [nvarchar](max) NOT NULL\n  .......\n  .......\n  )\n</code></pre>\n<h2>Thanks in advance.</h2>\n<p>This was first issue which we could solve with Column type (Nvarchar) and data-type in hibernate as String. It works fine with SQL-Server in local but in UAT which is azure-sql , it doesn't work.Both have same collation : SQL_Latin1_General_CP1_CI_AS</p>\n"},{"tags":["java","android","switch-statement"],"comments":[{"owner":{"account_id":7931621,"reputation":1434,"user_id":5989261,"accept_rate":31,"display_name":"hasan_shaikh"},"score":1,"creation_date":1531747946,"post_id":51363008,"comment_id":89698238,"body_markdown":"You cannot use switch case for this. Better use if else","body":"You cannot use switch case for this. Better use if else"},{"owner":{"account_id":6913680,"reputation":418,"user_id":5308697,"display_name":"faran.javed"},"score":0,"creation_date":1531748020,"post_id":51363008,"comment_id":89698279,"body_markdown":"https://stackoverflow.com/questions/29541914/using-string-from-resource-xml-in-switch","body":"<a href=\"https://stackoverflow.com/questions/29541914/using-string-from-resource-xml-in-switch\" title=\"using string from resource xml in switch\">stackoverflow.com/questions/29541914/&hellip;</a>"},{"owner":{"account_id":5149168,"reputation":2290,"user_id":4124227,"accept_rate":60,"display_name":"Luca De Nardi"},"score":0,"creation_date":1531748102,"post_id":51363008,"comment_id":89698320,"body_markdown":"Wow, I was wondering if I was missing something, but it&#39;s indeed not possible then. Also thanks @faran.javed for the link, I searched with many search terms but still couldn&#39;t find that question.","body":"Wow, I was wondering if I was missing something, but it&#39;s indeed not possible then. Also thanks @faran.javed for the link, I searched with many search terms but still couldn&#39;t find that question."},{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1531748733,"post_id":51363008,"comment_id":89698750,"body_markdown":"You can&#39;t do that, because `getString()` needs context and it finds its value after creating the activity or current context while `case` needs constant.","body":"You can&#39;t do that, because <code>getString()</code> needs context and it finds its value after creating the activity or current context while <code>case</code> needs constant."}],"answers":[{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531757646,"creation_date":1531748979,"answer_id":51363440,"question_id":51363008,"body_markdown":"It simply mean `switch` case allow only constant values.\r\n\r\n[Here is a good example][1] to show why switch only allow constants only.\r\n\r\nYou can use `if-else` statement for this purpose.\r\n\r\n\r\n  [1]: https://blogs.msdn.microsoft.com/abhinaba/2006/12/13/why-can-we-only-use-constants-in-a-switch-case-statement/","title":"switch case from string resource","body":"<p>It simply mean <code>switch</code> case allow only constant values.</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/abhinaba/2006/12/13/why-can-we-only-use-constants-in-a-switch-case-statement/\" rel=\"nofollow noreferrer\">Here is a good example</a> to show why switch only allow constants only.</p>\n\n<p>You can use <code>if-else</code> statement for this purpose.</p>\n"},{"tags":[],"owner":{"account_id":10041506,"reputation":9,"user_id":7424149,"display_name":"Sugandh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847232,"creation_date":1637846915,"answer_id":70111962,"question_id":51363008,"body_markdown":"Instead of getting String from resource (string.xml) file.\r\nDefine that String in Constant.java class as below:- \r\n\r\n    public static final String DOWNLOAD_DOCUMENTS = &quot;com.android.providers.downloads.documents&quot;;\r\n\r\nand use that Constant field in switch block :- \r\n\r\n    switch(input) {\r\n       case DOWNLOAD_DOCUMENTS :\r\n        // your logic \r\n       break;\r\n    }\r\n\r\n","title":"switch case from string resource","body":"<p>Instead of getting String from resource (string.xml) file.\nDefine that String in Constant.java class as below:-</p>\n<pre><code>public static final String DOWNLOAD_DOCUMENTS = &quot;com.android.providers.downloads.documents&quot;;\n</code></pre>\n<p>and use that Constant field in switch block :-</p>\n<pre><code>switch(input) {\n   case DOWNLOAD_DOCUMENTS :\n    // your logic \n   break;\n}\n</code></pre>\n"}],"owner":{"account_id":5149168,"reputation":2290,"user_id":4124227,"accept_rate":60,"display_name":"Luca De Nardi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637847232,"creation_date":1531747714,"question_id":51363008,"body_markdown":"I&#39;m getting started with an Android project and I encountered this issue.\r\n\r\nI&#39;m trying to create a switch where the cases are string got with\r\n    \r\n    case getString(R.string.myString): ...\r\n\r\nbut I&#39;m getting a\r\n\r\n    Constant expression required\r\n\r\nerror.\r\n\r\nI didn&#39;t want to create a cascade of if statements (this wouldn&#39;t require constant values, but it&#39;s less readable) so, is there a way to have a switch with strings taken from the strings.xml file?\r\n\r\n\r\nThank you for your help!\r\n","title":"switch case from string resource","body":"<p>I'm getting started with an Android project and I encountered this issue.</p>\n\n<p>I'm trying to create a switch where the cases are string got with</p>\n\n<pre><code>case getString(R.string.myString): ...\n</code></pre>\n\n<p>but I'm getting a</p>\n\n<pre><code>Constant expression required\n</code></pre>\n\n<p>error.</p>\n\n<p>I didn't want to create a cascade of if statements (this wouldn't require constant values, but it's less readable) so, is there a way to have a switch with strings taken from the strings.xml file?</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1637766128,"post_id":70097123,"comment_id":123914381,"body_markdown":"I don&#39;t think what you want is possible. `@Transient` attributes are ignored by JPA, that&#39;s the purpose of the annotation. You would need to introduce a new entity representing the join table (which is a common practice as join tables often get more attributes over time). If that&#39;s not possible, you might use a custom DAO query to retrieve the corresponding `assumption_id` explicitly.","body":"I don&#39;t think what you want is possible. <code>@Transient</code> attributes are ignored by JPA, that&#39;s the purpose of the annotation. You would need to introduce a new entity representing the join table (which is a common practice as join tables often get more attributes over time). If that&#39;s not possible, you might use a custom DAO query to retrieve the corresponding <code>assumption_id</code> explicitly."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1637860888,"post_id":70097123,"comment_id":123944069,"body_markdown":"You can look at map keys: https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns which allow the relational table to store more data than just the relationship, but otherwise, you might want to make the relation table an entity in its own right for an SectorAssumptionLinks entity, with ManyToOne relationships to SectorBean. This would allow you to map and use the assumptionIdStoredAtRuntime where and when you might need it.","body":"You can look at map keys: <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/MapKeyColumns</a> which allow the relational table to store more data than just the relationship, but otherwise, you might want to make the relation table an entity in its own right for an SectorAssumptionLinks entity, with ManyToOne relationships to SectorBean. This would allow you to map and use the assumptionIdStoredAtRuntime where and when you might need it."}],"owner":{"account_id":23440461,"reputation":1,"user_id":17498028,"display_name":"user17498028"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637847050,"creation_date":1637761124,"question_id":70097123,"body_markdown":"I&#39;m reasonably new to JPA mappings. I feel like this should be possible but I&#39;m not sure how to do it.\r\n\r\nI&#39;m creating a ManyToMany mapping through a link table. This creates a list of SectorBean within a parent set. The link table contains a third unused column in the join. My question is if it&#39;s possible to store that column value as a transient variable in the SectorBean. \r\n\r\n**SectorSetBean:**\r\n```\r\n@ManyToMany\r\n@JoinTable(\r\n\t\tname = &quot;sectorassumptionlinks&quot;, \r\n\t\tjoinColumns = @JoinColumn(name = &quot;set_id&quot;),\r\n\t\tinverseJoinColumns = @JoinColumn(name = &quot;sectorid&quot;)\r\n\t\t)\r\n@OrderBy(value=&quot;sector&quot;)\r\nprotected List&lt;SectorBean&gt; sectors = new ArrayList&lt;&gt;(0);\r\n```\r\n\r\n**Join Table:**\r\n| set_id | assumptions_id | sectorid |\r\n|:------|:----:| --------:|\r\n| 567| 1891 | 333|\r\n\r\nSo in this instance the SectorSetBean uses the set_id and sectorid to create a List&lt;SectorBean&gt;\r\nAnd what I would like to have is something like:\r\n\r\n**SectorBean:**\r\n```\r\n@Entity \r\n@Table(name=&quot;sectors&quot;)\r\npublic class SectorBean implements java.io.Serializable {\r\n\r\n\t//In current example this would hold value 1891\r\n\t@Transient \r\n\tInteger assumptionIdStoredAtRuntime;\r\n}\r\n```\r\n\r\nI can&#39;t put the mapping I want (I don&#39;t think) into SectorBean because that doesn&#39;t have access to setId which is used to derive assumptions_id.\r\n\r\nThe setup of the beans and tables are legacy and I can&#39;t change the structure.\r\n\r\nDoes anyone know if this is possible or am I completely doing this wrong?","title":"Assigning value from link table in a JPA ManyToMany Mapping","body":"<p>I'm reasonably new to JPA mappings. I feel like this should be possible but I'm not sure how to do it.</p>\n<p>I'm creating a ManyToMany mapping through a link table. This creates a list of SectorBean within a parent set. The link table contains a third unused column in the join. My question is if it's possible to store that column value as a transient variable in the SectorBean.</p>\n<p><strong>SectorSetBean:</strong></p>\n<pre><code>@ManyToMany\n@JoinTable(\n        name = &quot;sectorassumptionlinks&quot;, \n        joinColumns = @JoinColumn(name = &quot;set_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;sectorid&quot;)\n        )\n@OrderBy(value=&quot;sector&quot;)\nprotected List&lt;SectorBean&gt; sectors = new ArrayList&lt;&gt;(0);\n</code></pre>\n<p><strong>Join Table:</strong>\n| set_id | assumptions_id | sectorid |\n|:------|:----:| --------:|\n| 567| 1891 | 333|</p>\n<p>So in this instance the SectorSetBean uses the set_id and sectorid to create a List\nAnd what I would like to have is something like:</p>\n<p><strong>SectorBean:</strong></p>\n<pre><code>@Entity \n@Table(name=&quot;sectors&quot;)\npublic class SectorBean implements java.io.Serializable {\n\n    //In current example this would hold value 1891\n    @Transient \n    Integer assumptionIdStoredAtRuntime;\n}\n</code></pre>\n<p>I can't put the mapping I want (I don't think) into SectorBean because that doesn't have access to setId which is used to derive assumptions_id.</p>\n<p>The setup of the beans and tables are legacy and I can't change the structure.</p>\n<p>Does anyone know if this is possible or am I completely doing this wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8175,"page":1817,"page_size":100}
