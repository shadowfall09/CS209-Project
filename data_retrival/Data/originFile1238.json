{"items":[{"tags":["java","android","date","time","syntax-error"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1655996441,"post_id":72728418,"comment_id":128469280,"body_markdown":"It&#39;s pretty uncommon to calculate someone&#39;s age by including the local time. As someone&#39;s age most likely spans impresice time units (like months, years and even days in case of clock changes due to DST), including precision to the minute doesn&#39;t really make much sense.","body":"It&#39;s pretty uncommon to calculate someone&#39;s age by including the local time. As someone&#39;s age most likely spans impresice time units (like months, years and even days in case of clock changes due to DST), including precision to the minute doesn&#39;t really make much sense."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656699217,"post_id":72728418,"comment_id":128644163,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656040873,"creation_date":1655981501,"answer_id":72728967,"question_id":72728418,"body_markdown":" 1. **First get today date**\r\n``` java\r\nDate today = new Date();\r\n```\r\n\r\n 2. **Get difference in `time`**\r\n``` java\r\nlong timeDiff = today.getTime() - DOB.getTime();\r\n```\r\n\r\n 3. **Now you can convert time to DATE, MONTH, or YEAR**\r\n\r\n``` java\r\nint numOfDays = (int) (timeDiff / (1000 * 60 * 60 * 24));\r\ndouble years = 0.00273973 * numOfDays;\r\n```\r\n","title":"Android (Java): Calculate age with the help of DOB and birth time","body":"<ol>\n<li><strong>First get today date</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Date today = new Date();\n</code></pre>\n<ol start=\"2\">\n<li><strong>Get difference in <code>time</code></strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>long timeDiff = today.getTime() - DOB.getTime();\n</code></pre>\n<ol start=\"3\">\n<li><strong>Now you can convert time to DATE, MONTH, or YEAR</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>int numOfDays = (int) (timeDiff / (1000 * 60 * 60 * 24));\ndouble years = 0.00273973 * numOfDays;\n</code></pre>\n"}],"owner":{"account_id":25627648,"reputation":1,"user_id":19398519,"display_name":"D12 Bhoomi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656060935,"creation_date":1655978966,"question_id":72728418,"body_markdown":"I have tried it with EditText which will receive value of datepicker and timepicker and will display the birthdate and birth time but now I don&#39;t know how to calculate age from the date and time.\r\n","title":"Android (Java): Calculate age with the help of DOB and birth time","body":"<p>I have tried it with EditText which will receive value of datepicker and timepicker and will display the birthdate and birth time but now I don't know how to calculate age from the date and time.</p>\n"},{"tags":["java","linux","opencv","build","mapreduce"],"comments":[{"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"score":0,"creation_date":1372561302,"post_id":17386551,"comment_id":25240433,"body_markdown":"What error messages are you getting?   Have you looked at the instructions here too? http://docs.opencv.org/trunk/doc/tutorials/introduction/linux_install/linux_install.html  (given how big the build process is, don&#39;t post the entire output - just the last few lines before the error).","body":"What error messages are you getting?   Have you looked at the instructions here too? <a href=\"http://docs.opencv.org/trunk/doc/tutorials/introduction/linux_install/linux_install.html\" rel=\"nofollow noreferrer\">docs.opencv.org/trunk/doc/tutorials/introduction/linux_insta&zwnj;&#8203;ll/&hellip;</a>  (given how big the build process is, don&#39;t post the entire output - just the last few lines before the error)."}],"answers":[{"tags":[],"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1372750790,"creation_date":1372565191,"answer_id":17387041,"question_id":17386551,"body_markdown":"Probably what you&#39;re missing is `ant`, which is a java oriented build tool.\r\n\r\nWhen you go:\r\n\r\n    cmake -D BUILD_SHARED_LIBS=OFF ../opencv-2.4.5/\r\n\r\n\r\n(i.e. where you&#39;re configuring the make for your machine), check for the section that says **java**.  It should say something like this (possibly with different paths/versions):\r\n\r\n    --   Java:\r\n    --     ant:                         /usr/bin/ant (ver 1.8.2)\r\n    --     JNI:                         /usr/lib/jvm/java-6-openjdk/include /usr/lib/jvm/java-6-openjdk/include /usr/lib/jvm/java-6-openjdk/include\r\n    --     Java tests:                  YES\r\n\r\n\r\n\r\nWhen I first ran cmake, I had this:\r\n\r\n    --   Java:\r\n    --     ant:                         NO\r\n    --     JNI:                         NO\r\n    --     Java tests:                  YES\r\n\r\nWhich indicated it couldn&#39;t find `ant`, and so it didn&#39;t create a .jar file.\r\nI simply use the version that&#39;s in the repository:\r\n\r\n    sudo apt-get install ant\r\n\r\nI ran cmake again, with the above options, which got the path to ant (and I got JNI for free!).\r\n\r\n**Note:** You probably want to read the output of cmake fairly carefully as it tells you what it&#39;s going to build on your machine, and you may have some missing libraries.\r\n\r\n\r\n**If you find JNI is still missing.**\r\n\r\ncmake is (mostly? first? conveniently? can be interpreted as?) looking for jni.h, which should be specifically `$JAVA_HOME/include/jni.h`  So you need to set $JAVA_HOME to the home folder of your jdk.\r\n\r\n\r\nI used `which javac` and then `ls -l` to follow a series of symbolic links, to identify where my java 1.7 install was.  You could also use `locate jni.h` and work up the tree, or simply look around `/usr/lib/jvm` or similar.\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\r\n\r\nYou probably want to check that you&#39;ve got that right with a couple of\r\n\r\n    ls $JAVA_HOME/bin/javac\r\n    /usr/lib/jvm/java-7-openjdk-amd64/bin/javac\r\n\r\n    ls $JAVA_HOME/include/jni.h\r\n    /usr/lib/jvm/java-7-openjdk-amd64/include/jni.h\r\n\r\n\r\n\r\nInterestingly when I ran the cmake command again, it picked up a different JNI folder:\r\n\r\n    --     JNI:                         /usr/lib/jvm/java-7-openjdk-amd64/include /usr/lib/jvm/java-7-openjdk-amd64/include /usr/lib/jvm/java-7-openjdk-amd64/include\r\n\r\n\r\nOnce you&#39;ve got that, run the `make` command.  If you watch obsessively, you&#39;ll see a bunch of .java files trundle past.  Either way you&#39;ll end up with a .jar file in the ./bin folder.\r\n(in my case it&#39;s called `opencv-245.jar` as that&#39;s the version of the code I downloaded).\r\n\r\n\r\n\r\n","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>Probably what you're missing is <code>ant</code>, which is a java oriented build tool.</p>\n\n<p>When you go:</p>\n\n<pre><code>cmake -D BUILD_SHARED_LIBS=OFF ../opencv-2.4.5/\n</code></pre>\n\n<p>(i.e. where you're configuring the make for your machine), check for the section that says <strong>java</strong>.  It should say something like this (possibly with different paths/versions):</p>\n\n<pre><code>--   Java:\n--     ant:                         /usr/bin/ant (ver 1.8.2)\n--     JNI:                         /usr/lib/jvm/java-6-openjdk/include /usr/lib/jvm/java-6-openjdk/include /usr/lib/jvm/java-6-openjdk/include\n--     Java tests:                  YES\n</code></pre>\n\n<p>When I first ran cmake, I had this:</p>\n\n<pre><code>--   Java:\n--     ant:                         NO\n--     JNI:                         NO\n--     Java tests:                  YES\n</code></pre>\n\n<p>Which indicated it couldn't find <code>ant</code>, and so it didn't create a .jar file.\nI simply use the version that's in the repository:</p>\n\n<pre><code>sudo apt-get install ant\n</code></pre>\n\n<p>I ran cmake again, with the above options, which got the path to ant (and I got JNI for free!).</p>\n\n<p><strong>Note:</strong> You probably want to read the output of cmake fairly carefully as it tells you what it's going to build on your machine, and you may have some missing libraries.</p>\n\n<p><strong>If you find JNI is still missing.</strong></p>\n\n<p>cmake is (mostly? first? conveniently? can be interpreted as?) looking for jni.h, which should be specifically <code>$JAVA_HOME/include/jni.h</code>  So you need to set $JAVA_HOME to the home folder of your jdk.</p>\n\n<p>I used <code>which javac</code> and then <code>ls -l</code> to follow a series of symbolic links, to identify where my java 1.7 install was.  You could also use <code>locate jni.h</code> and work up the tree, or simply look around <code>/usr/lib/jvm</code> or similar.</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\n</code></pre>\n\n<p>You probably want to check that you've got that right with a couple of</p>\n\n<pre><code>ls $JAVA_HOME/bin/javac\n/usr/lib/jvm/java-7-openjdk-amd64/bin/javac\n\nls $JAVA_HOME/include/jni.h\n/usr/lib/jvm/java-7-openjdk-amd64/include/jni.h\n</code></pre>\n\n<p>Interestingly when I ran the cmake command again, it picked up a different JNI folder:</p>\n\n<pre><code>--     JNI:                         /usr/lib/jvm/java-7-openjdk-amd64/include /usr/lib/jvm/java-7-openjdk-amd64/include /usr/lib/jvm/java-7-openjdk-amd64/include\n</code></pre>\n\n<p>Once you've got that, run the <code>make</code> command.  If you watch obsessively, you'll see a bunch of .java files trundle past.  Either way you'll end up with a .jar file in the ./bin folder.\n(in my case it's called <code>opencv-245.jar</code> as that's the version of the code I downloaded).</p>\n"},{"tags":[],"owner":{"account_id":3013703,"reputation":11,"user_id":2556497,"display_name":"UtsavDrolia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373591155,"creation_date":1373591155,"answer_id":17606006,"question_id":17386551,"body_markdown":"For someone directed here from google :\r\n\r\nIf your JRE crashes after you run the java tutorials then most probably you have the python Bindings installed as well (cv2.so) . You will have to re-make OpenCV without those bindings \r\n\r\n`cmake -DBUILD_SHARED_LIBS=OFF -D BUILD_NEW_PYTHON_SUPPORT=NO `\r\n\r\nThat solved the problem for me.","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>For someone directed here from google :</p>\n\n<p>If your JRE crashes after you run the java tutorials then most probably you have the python Bindings installed as well (cv2.so) . You will have to re-make OpenCV without those bindings </p>\n\n<p><code>cmake -DBUILD_SHARED_LIBS=OFF -D BUILD_NEW_PYTHON_SUPPORT=NO</code></p>\n\n<p>That solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":2366414,"reputation":139,"user_id":2072020,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443037894,"creation_date":1443037894,"answer_id":32748329,"question_id":17386551,"body_markdown":"I tried to build OpenCV 3 on Ubuntu 14 and encountered similar problems with Oracle java 8 JDK.\r\n\r\nThese are the steps I preformed to build and run a java program using the java OpenCV bindings.\r\n\r\n1. **FindJNI.** Since the &quot;FindJNI&quot; module of cmake 3 doesn&#39;t support the detection of Oracle Java 8, we have to add our Java 8 directories manually. Therefore, locate the file `FindJNI.cmake` in your cmake directory,e.g `/home/foo/bar/cmake-3.2.2-Linux-x86_64/share/cmake-3.2/Modules/FindJNI.cmake`\r\n\r\n Goto the `JAVA_APPEND_LIBRARY_DIRECTORIES` variable and add the path to your java lib architecture directory, e.g. `/home/foo/bar/jdk1.8.0_45/lib/amd64`\r\n\r\n Goto the `JAVA_AWT_INCLUDE_DIRECTORIES` variable and add the path to your java include directory, e.g. `/home/foo/bar/jdk1.8.0_45/include`\r\n\r\n2. **Build.** The shared lib flag tiggers the build of the java bindings, \r\nif your modified FindJNI found your Oracle 8 JDK.\r\n&gt;     cd /home/foo/bar/opencv-3.0.0/\r\n&gt;     mkdir build\r\n&gt;     cd build\r\n&gt;     # install dependencies if needed, see [1]\r\n&gt;     cmake -DBUILD_SHARED_LIBS=OFF ..\r\n&gt;     make -j\r\n\r\n3. **Write Testcode.** In your `build` directory you should see a jar file like `./bin/opencv-300.jar`. This file can be added to your java build dependencies, e.g. in your favorite IDE.\r\n\r\n4. **Run Testcode.** You have to add the opencv lib path to your VM options:\r\n&gt; -Djava.library.path=/home/foo/bar/opencv-3.0.0/build/lib\r\n\r\n[1] Note: Depending on your personal needs or taste you can install various other dependencies before building, e.g. compare http://rodrigoberriel.com/2014/10/installing-opencv-3-0-0-on-ubuntu-14-04/","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>I tried to build OpenCV 3 on Ubuntu 14 and encountered similar problems with Oracle java 8 JDK.</p>\n\n<p>These are the steps I preformed to build and run a java program using the java OpenCV bindings.</p>\n\n<ol>\n<li><p><strong>FindJNI.</strong> Since the \"FindJNI\" module of cmake 3 doesn't support the detection of Oracle Java 8, we have to add our Java 8 directories manually. Therefore, locate the file <code>FindJNI.cmake</code> in your cmake directory,e.g <code>/home/foo/bar/cmake-3.2.2-Linux-x86_64/share/cmake-3.2/Modules/FindJNI.cmake</code></p>\n\n<p>Goto the <code>JAVA_APPEND_LIBRARY_DIRECTORIES</code> variable and add the path to your java lib architecture directory, e.g. <code>/home/foo/bar/jdk1.8.0_45/lib/amd64</code></p>\n\n<p>Goto the <code>JAVA_AWT_INCLUDE_DIRECTORIES</code> variable and add the path to your java include directory, e.g. <code>/home/foo/bar/jdk1.8.0_45/include</code></p></li>\n<li><p><strong>Build.</strong> The shared lib flag tiggers the build of the java bindings, \nif your modified FindJNI found your Oracle 8 JDK.</p>\n\n<blockquote>\n<pre><code>cd /home/foo/bar/opencv-3.0.0/\nmkdir build\ncd build\n# install dependencies if needed, see [1]\ncmake -DBUILD_SHARED_LIBS=OFF ..\nmake -j\n</code></pre>\n</blockquote></li>\n<li><p><strong>Write Testcode.</strong> In your <code>build</code> directory you should see a jar file like <code>./bin/opencv-300.jar</code>. This file can be added to your java build dependencies, e.g. in your favorite IDE.</p></li>\n<li><p><strong>Run Testcode.</strong> You have to add the opencv lib path to your VM options:</p>\n\n<blockquote>\n  <p>-Djava.library.path=/home/foo/bar/opencv-3.0.0/build/lib</p>\n</blockquote></li>\n</ol>\n\n<p>[1] Note: Depending on your personal needs or taste you can install various other dependencies before building, e.g. compare <a href=\"http://rodrigoberriel.com/2014/10/installing-opencv-3-0-0-on-ubuntu-14-04/\" rel=\"nofollow\">http://rodrigoberriel.com/2014/10/installing-opencv-3-0-0-on-ubuntu-14-04/</a></p>\n"},{"tags":[],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488662036,"creation_date":1488662036,"answer_id":42601488,"question_id":17386551,"body_markdown":"Since version 3.1.0 of OpenCV there is a Maven POM project under `OpenCV_Root_Directory/platforms/maven`. With Maven installed on your Linux machine (using package manager or manually installed) this project will ensure you have the correct dependencies installed, build the native and Java libraries. See the README in the above directory.","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>Since version 3.1.0 of OpenCV there is a Maven POM project under <code>OpenCV_Root_Directory/platforms/maven</code>. With Maven installed on your Linux machine (using package manager or manually installed) this project will ensure you have the correct dependencies installed, build the native and Java libraries. See the README in the above directory.</p>\n"},{"tags":[],"owner":{"account_id":20008080,"reputation":1,"user_id":14665642,"display_name":"Tingchuang Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656060873,"creation_date":1656060873,"answer_id":72741451,"question_id":17386551,"body_markdown":"--   Java:                          \r\n--     ant:                         NO\r\n--     JNI:                         /usr/lib/jvm/default-java/include /usr/lib/jvm/default-java/include/linux /usr/lib/jvm/default-java/include\r\n--     Java wrappers:               NO\r\n--     Java tests:                  NO","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>--   Java:<br />\n--     ant:                         NO\n--     JNI:                         /usr/lib/jvm/default-java/include /usr/lib/jvm/default-java/include/linux /usr/lib/jvm/default-java/include\n--     Java wrappers:               NO\n--     Java tests:                  NO</p>\n"}],"owner":{"account_id":2987157,"reputation":265,"user_id":2535650,"display_name":"user2535650"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36682,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":17387041,"answer_count":5,"score":15,"last_activity_date":1656060873,"creation_date":1372559178,"question_id":17386551,"body_markdown":"Recently I&#39;m trying OpenCV out for my graduation project.\r\nI&#39;ve had some success under Windows enviroment. And because with Windows package of OpenCV it comes with pre-built libraries, so I don&#39;t have to worry about how to build them.\r\nBut since the project is suppose to run on a cluster with CentOS as host OS for each node, I have to know how to correctly compile, and run these library under Linux enviroment.\r\n\r\nI&#39;ve set up a VM with VirtualBox and installed Ubuntu 13.04 on it.\r\nBut so far I still can&#39;t find a way to adjust the settings of CMakeList to make Java a build target. (A jar, and a native library so I can import and use them in MapReduce program)\r\nFollowing is the official tutorial of desktop Java for OpenCV\r\n\r\nhttp://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html\r\n\r\nThe part about the compiling is pretty brief. So I still can&#39;t quite understand it.\r\nIs it because I missed some dependency for Java? I&#39;ve already got JVM(Jre-7u7) installed.\r\nOr is it because I didn&#39;t configure CMakeList.txt correctly?\r\n\r\nHere is the things I&#39;ve done so far, other than that it&#39;s a complete clean Ubuntu\r\n\r\n 1. Installed vim\r\n 2. Installed g++\r\n 3. Installed cmake\r\n 4. installed cmake-curses-gui\r\n 5. installed java7 JVM\r\n 6. download OpenCV package for Linux\r\n\r\nThe target enviroment is Cluster with CentOS as host OS for each node, and the project is a MapReduce program.\r\n\r\nThanks in advance.","title":"How to build OpenCV with Java under Linux using command line?(Gonna use it in MapReduce)","body":"<p>Recently I'm trying OpenCV out for my graduation project.\nI've had some success under Windows enviroment. And because with Windows package of OpenCV it comes with pre-built libraries, so I don't have to worry about how to build them.\nBut since the project is suppose to run on a cluster with CentOS as host OS for each node, I have to know how to correctly compile, and run these library under Linux enviroment.</p>\n\n<p>I've set up a VM with VirtualBox and installed Ubuntu 13.04 on it.\nBut so far I still can't find a way to adjust the settings of CMakeList to make Java a build target. (A jar, and a native library so I can import and use them in MapReduce program)\nFollowing is the official tutorial of desktop Java for OpenCV</p>\n\n<p><a href=\"http://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html\" rel=\"noreferrer\">http://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html</a></p>\n\n<p>The part about the compiling is pretty brief. So I still can't quite understand it.\nIs it because I missed some dependency for Java? I've already got JVM(Jre-7u7) installed.\nOr is it because I didn't configure CMakeList.txt correctly?</p>\n\n<p>Here is the things I've done so far, other than that it's a complete clean Ubuntu</p>\n\n<ol>\n<li>Installed vim</li>\n<li>Installed g++</li>\n<li>Installed cmake</li>\n<li>installed cmake-curses-gui</li>\n<li>installed java7 JVM</li>\n<li>download OpenCV package for Linux</li>\n</ol>\n\n<p>The target enviroment is Cluster with CentOS as host OS for each node, and the project is a MapReduce program.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656057059,"post_id":72740605,"comment_id":128483155,"body_markdown":"so you basically want to take the subset of the `User` columns to operate on in Java code, right?","body":"so you basically want to take the subset of the <code>User</code> columns to operate on in Java code, right?"},{"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"score":0,"creation_date":1656057379,"post_id":72740605,"comment_id":128483265,"body_markdown":"Sure, I want to take a subset of columns and pack it into another struct under User.","body":"Sure, I want to take a subset of columns and pack it into another struct under User."}],"answers":[{"tags":[],"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656060089,"creation_date":1656057837,"answer_id":72740830,"question_id":72740605,"body_markdown":"You can check for @Embeddable and @Embedded annotations.\r\n\r\nAs I remember from top of my head, it should be something like:\r\n\r\n    @Embeddable\r\n    public class PhoneNumber{\r\n    }\r\n    \r\n    @Entity\r\n    public class Customer\r\n    {\r\n        @Embedded\r\n        private PhoneNumber phoneNumber;\r\n    }","title":"JPA Using Composite Fields To Store Multiple @Column On An @Entity","body":"<p>You can check for @Embeddable and @Embedded annotations.</p>\n<p>As I remember from top of my head, it should be something like:</p>\n<pre><code>@Embeddable\npublic class PhoneNumber{\n}\n\n@Entity\npublic class Customer\n{\n    @Embedded\n    private PhoneNumber phoneNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":1832012,"reputation":497,"user_id":1663215,"accept_rate":75,"display_name":"Can Bayar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72740830,"answer_count":1,"score":0,"last_activity_date":1656060089,"creation_date":1656056701,"question_id":72740605,"body_markdown":"I have a **user** table and I am using Hibernate to read it into **User** instances. I want to collect a number of related columns under a **composite** object to pass it around. So, I want to do something like this:\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class User {\r\n\r\n\t    @Id\r\n\t    private long id;\r\n\r\n\t    @Column\r\n\t    private String name;\r\n\r\n        // A bunch of columns\r\n        ...\r\n\r\n        private Statistics stats;\r\n    }\r\n\r\nNow I want to read some of the columns in the same **user** table into the fields in my Statistics object.\r\n\r\n    public class Statistics {\r\n\r\n\t    @Column\r\n\t    private int x;\r\n\r\n\t    @Column\r\n\t    private int y;\r\n\r\n        // A bunch of columns\r\n        ...\r\n    }\r\n\r\nIs there a way to achieve that? I don&#39;t prefer to use a separate table for statistics and use joins because of some performance concerns. I can obviously move the fields from the Statistics class into the User class but I want to improve the design by using composite objects.","title":"JPA Using Composite Fields To Store Multiple @Column On An @Entity","body":"<p>I have a <strong>user</strong> table and I am using Hibernate to read it into <strong>User</strong> instances. I want to collect a number of related columns under a <strong>composite</strong> object to pass it around. So, I want to do something like this:</p>\n<pre><code>@Entity\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    private long id;\n\n    @Column\n    private String name;\n\n    // A bunch of columns\n    ...\n\n    private Statistics stats;\n}\n</code></pre>\n<p>Now I want to read some of the columns in the same <strong>user</strong> table into the fields in my Statistics object.</p>\n<pre><code>public class Statistics {\n\n    @Column\n    private int x;\n\n    @Column\n    private int y;\n\n    // A bunch of columns\n    ...\n}\n</code></pre>\n<p>Is there a way to achieve that? I don't prefer to use a separate table for statistics and use joins because of some performance concerns. I can obviously move the fields from the Statistics class into the User class but I want to improve the design by using composite objects.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656058366,"post_id":72740483,"comment_id":128483604,"body_markdown":"Don&#39;t manage spring... Only manage Spring Boot. Next to that you are upgrading 6 versions, I suggest to read the upgrade guides for each of them.","body":"Don&#39;t manage spring... Only manage Spring Boot. Next to that you are upgrading 6 versions, I suggest to read the upgrade guides for each of them."}],"answers":[{"tags":[],"owner":{"account_id":3946188,"reputation":2133,"user_id":3258708,"accept_rate":88,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656059211,"creation_date":1656059211,"answer_id":72741113,"question_id":72740483,"body_markdown":"2.1.18.RELEASE to 2.7.0 is an enormous jump, so as the comment says I&#39;d suggest checking the upgrade guide carefully.\r\n\r\nNonetheless, you need to expose the metrics endpoint in your config, which will create the bean.\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include: metrics\r\n```","title":"No qualifying bean of type &#39;org.springframework.boot.actuate.metrics.MetricsEndpoint&#39;","body":"<p>2.1.18.RELEASE to 2.7.0 is an enormous jump, so as the comment says I'd suggest checking the upgrade guide carefully.</p>\n<p>Nonetheless, you need to expose the metrics endpoint in your config, which will create the bean.</p>\n<pre><code>management.endpoints.web.exposure.include: metrics\n</code></pre>\n"}],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72741113,"answer_count":1,"score":0,"last_activity_date":1656059211,"creation_date":1656056006,"question_id":72740483,"body_markdown":"I upgraded spring.version from 5.0.18.RELEASE to 5.3.21\r\n\r\nand spring.boot.version from 2.1.18.RELEASE to 2.7.0\r\n\r\nspring-boot-starter-actuator ${spring.boot.version}\r\n\r\nIn my Healthcheck class I use:\r\n````\r\n@Autowired private MetricsEndpoint metrics;\r\n````\r\n\r\nAfter upgrade I&#39;ve got: \r\n````\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthcheck&#39;:\r\nUnsatisfied dependency expressed through field &#39;metrics&#39;; nested exception is \r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: \r\nNo qualifying bean of type &#39;org.springframework.boot.actuate.metrics.MetricsEndpoint&#39; available: \r\nexpected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n````\r\nWhy Spring doesn&#39;t see org.springframework.boot.actuate.metrics.MetricsEndpoint ?","title":"No qualifying bean of type &#39;org.springframework.boot.actuate.metrics.MetricsEndpoint&#39;","body":"<p>I upgraded spring.version from 5.0.18.RELEASE to 5.3.21</p>\n<p>and spring.boot.version from 2.1.18.RELEASE to 2.7.0</p>\n<p>spring-boot-starter-actuator ${spring.boot.version}</p>\n<p>In my Healthcheck class I use:</p>\n<pre><code>@Autowired private MetricsEndpoint metrics;\n</code></pre>\n<p>After upgrade I've got:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthcheck':\nUnsatisfied dependency expressed through field 'metrics'; nested exception is \norg.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo qualifying bean of type 'org.springframework.boot.actuate.metrics.MetricsEndpoint' available: \nexpected at least 1 bean which qualifies as autowire candidate. \nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>Why Spring doesn't see org.springframework.boot.actuate.metrics.MetricsEndpoint ?</p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656059166,"creation_date":1656059166,"answer_id":72741095,"question_id":72737692,"body_markdown":"Type `T` isn&#39;t know and doesn&#39;t contain a `convertToINT` method as it can be anything. So keep it simple and just write a dedicated mapper instead of trying to build one that does everything.\r\n\r\n```java\r\n@Mapper(componentModel=&quot;spring&quot;)\r\npublic class TypeToTypeIntegrationMapper {\r\n\r\n  @Mapping\r\n  public TypeIntegration map(Type from) {\r\n    return from.convertToINT();\r\n  }\r\n}\r\n```\r\n\r\nDon&#39;t make it more complex. \r\n\r\nYou could even ditch the mapper and write an [`expression`][1] instead. \r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;,uses = EnumMapper.class)\r\npublic interface TypeReqMapper {\r\n\r\n    \r\n        @Mapping(source = &quot;type&quot; , target = &quot;type&quot;, expression = &quot;java(type.convertToINT())&quot;)\r\n    public TypeIntegrationObject typeSaveReqDtoTotypeIntegrationObject(TypeSaveReqDto typeSaveReqDto);\r\n\r\n}\r\n```\r\n\r\nMapStruct will now use the expression to generate the mapping code instead of you having to write a mapper yourself. \r\n\r\n[1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html#defaultExpression()","title":"Java Mapstruct generic enum converter","body":"<p>Type <code>T</code> isn't know and doesn't contain a <code>convertToINT</code> method as it can be anything. So keep it simple and just write a dedicated mapper instead of trying to build one that does everything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel=&quot;spring&quot;)\npublic class TypeToTypeIntegrationMapper {\n\n  @Mapping\n  public TypeIntegration map(Type from) {\n    return from.convertToINT();\n  }\n}\n</code></pre>\n<p>Don't make it more complex.</p>\n<p>You could even ditch the mapper and write an <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html#defaultExpression()\" rel=\"nofollow noreferrer\"><code>expression</code></a> instead.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;,uses = EnumMapper.class)\npublic interface TypeReqMapper {\n\n    \n        @Mapping(source = &quot;type&quot; , target = &quot;type&quot;, expression = &quot;java(type.convertToINT())&quot;)\n    public TypeIntegrationObject typeSaveReqDtoTotypeIntegrationObject(TypeSaveReqDto typeSaveReqDto);\n\n}\n</code></pre>\n<p>MapStruct will now use the expression to generate the mapping code instead of you having to write a mapper yourself.</p>\n"}],"owner":{"account_id":13230185,"reputation":126,"user_id":9554060,"display_name":"Sencer Seven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656059166,"creation_date":1656028197,"question_id":72737692,"body_markdown":"I have two different enum classes and one of them use them as a value like \r\n\r\n```\r\npublic enum Type{\r\n\r\n    TEST1{\r\n        @Override\r\n        public Type convertToINT() {\r\n            return Type.INTEGRATION1;\r\n        }\r\n    },\r\n    TEST2{\r\n        @Override\r\n        public Type convertToINT() {\r\n            return Type.INTEGRATION2;\r\n        }\r\n    },\r\n    TEST3{\r\n        @Override\r\n        public TypeIntegration convertToINT(){\r\n            return Type.INTEGRATION3;\r\n        }\r\n    };\r\n\r\n   public abstract TypeIntegration convertToINT();\r\n}\r\n\r\n\r\npublic enum TypeIntegration {\r\n\r\n    INTEGRATION1,\r\n    INTEGRATION2,\r\n    INTEGRATION3\r\n}\r\n```\r\n\r\nThis enums uses in different classes for example ;\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class typeSaveReqDto{\r\n private blabla;\r\n private blabla;\r\n private Type type;\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\npublic class typeIntegrationObject{\r\n private blabla;\r\n private blabla\r\n private TypeIntegration type;\r\n}\r\n```\r\n\r\nI want to use mapstructs and convert via auto generated classes, but mapstruct throws me exception like &quot;The following constants from the property &quot;Type type&quot; enum have no corresponding constant in the &quot;TypeIntegration type&quot; enum and must be be mapped via adding additional mappings: TEST1, TEST2, TEST3&quot;\r\n\r\nI want to create EnumMapper classes for converting enums, How can i write generic classes for this with mapStructs java ? \r\n\r\n\r\nEdit : \r\n\r\nI generated EnumMapper\r\n\r\n```\r\n@Mapper\r\npublic class EnumMapper {\r\n\r\n    EnumMapper INSTANCE = Mappers.getMapper(EnumMapper.class);\r\n\r\n    @Named(&quot;enumToIntEnum&quot;)\r\n    public static &lt;T extends EnumConverter&lt;INT&gt;,INT&gt; INT convertToINT(T enums, @TargetType INT enumClass){\r\n        INT convertObj = ((T)enums).convertToINT();\r\n        return convertObj;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd Mapper interfaces like below \r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;,uses = EnumMapper.class)\r\npublic interface TypeReqMapper {\r\n\r\n    \r\n        @Mapping(source = &quot;type&quot; , target = &quot;type&quot;,qualifiedByName = &quot;enumToIntEnum&quot;)\r\n    public TypeIntegrationObject typeSaveReqDtoTotypeIntegrationObject(TypeSaveReqDto typeSaveReqDto);\r\n\r\n}\r\n\r\n```\r\n\r\nBut I got a fail like &#39;Can&#39;t map property &quot;Type type&quot; to &quot;TypeIntegration type&quot;. Consider to declare/implement a mapping method: &quot;TypeIntegration map(Type value)&quot;.&#39;\r\n","title":"Java Mapstruct generic enum converter","body":"<p>I have two different enum classes and one of them use them as a value like</p>\n<pre><code>public enum Type{\n\n    TEST1{\n        @Override\n        public Type convertToINT() {\n            return Type.INTEGRATION1;\n        }\n    },\n    TEST2{\n        @Override\n        public Type convertToINT() {\n            return Type.INTEGRATION2;\n        }\n    },\n    TEST3{\n        @Override\n        public TypeIntegration convertToINT(){\n            return Type.INTEGRATION3;\n        }\n    };\n\n   public abstract TypeIntegration convertToINT();\n}\n\n\npublic enum TypeIntegration {\n\n    INTEGRATION1,\n    INTEGRATION2,\n    INTEGRATION3\n}\n</code></pre>\n<p>This enums uses in different classes for example ;</p>\n<pre><code>@Getter\n@Setter\npublic class typeSaveReqDto{\n private blabla;\n private blabla;\n private Type type;\n}\n\n\n@Getter\n@Setter\npublic class typeIntegrationObject{\n private blabla;\n private blabla\n private TypeIntegration type;\n}\n</code></pre>\n<p>I want to use mapstructs and convert via auto generated classes, but mapstruct throws me exception like &quot;The following constants from the property &quot;Type type&quot; enum have no corresponding constant in the &quot;TypeIntegration type&quot; enum and must be be mapped via adding additional mappings: TEST1, TEST2, TEST3&quot;</p>\n<p>I want to create EnumMapper classes for converting enums, How can i write generic classes for this with mapStructs java ?</p>\n<p>Edit :</p>\n<p>I generated EnumMapper</p>\n<pre><code>@Mapper\npublic class EnumMapper {\n\n    EnumMapper INSTANCE = Mappers.getMapper(EnumMapper.class);\n\n    @Named(&quot;enumToIntEnum&quot;)\n    public static &lt;T extends EnumConverter&lt;INT&gt;,INT&gt; INT convertToINT(T enums, @TargetType INT enumClass){\n        INT convertObj = ((T)enums).convertToINT();\n        return convertObj;\n    }\n}\n</code></pre>\n<p>And Mapper interfaces like below</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;,uses = EnumMapper.class)\npublic interface TypeReqMapper {\n\n    \n        @Mapping(source = &quot;type&quot; , target = &quot;type&quot;,qualifiedByName = &quot;enumToIntEnum&quot;)\n    public TypeIntegrationObject typeSaveReqDtoTotypeIntegrationObject(TypeSaveReqDto typeSaveReqDto);\n\n}\n\n</code></pre>\n<p>But I got a fail like 'Can't map property &quot;Type type&quot; to &quot;TypeIntegration type&quot;. Consider to declare/implement a mapping method: &quot;TypeIntegration map(Type value)&quot;.'</p>\n"},{"tags":["java","json","datetime","wiremock","wiremock-standalone"],"comments":[{"owner":{"account_id":1262462,"reputation":3143,"user_id":1220409,"display_name":"roby"},"score":0,"creation_date":1655957248,"post_id":72707569,"comment_id":128456257,"body_markdown":"What does your request look like?\n\nI would be worried about [timezones](https://github.com/wiremock/wiremock/blob/70c32a330f2fdbc2748bcb4e25c09fa42af637fe/src/main/java/com/github/tomakehurst/wiremock/matching/EqualToDateTimePattern.java#L79) like `now` on the wiremock server might be a different day than you expect. Also maybe there&#39;s some difference in your interpretation of `now -1 months`? Here&#39;s how wiremock is [shifting time](https://github.com/wiremock/wiremock/blob/70c32a330f2fdbc2748bcb4e25c09fa42af637fe/src/main/java/com/github/tomakehurst/wiremock/common/DateTimeOffset.java#L79).","body":"What does your request look like?  I would be worried about <a href=\"https://github.com/wiremock/wiremock/blob/70c32a330f2fdbc2748bcb4e25c09fa42af637fe/src/main/java/com/github/tomakehurst/wiremock/matching/EqualToDateTimePattern.java#L79\" rel=\"nofollow noreferrer\">timezones</a> like <code>now</code> on the wiremock server might be a different day than you expect. Also maybe there&#39;s some difference in your interpretation of <code>now -1 months</code>? Here&#39;s how wiremock is <a href=\"https://github.com/wiremock/wiremock/blob/70c32a330f2fdbc2748bcb4e25c09fa42af637fe/src/main/java/com/github/tomakehurst/wiremock/common/DateTimeOffset.java#L79\" rel=\"nofollow noreferrer\">shifting time</a>."},{"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"score":0,"creation_date":1655981621,"post_id":72707569,"comment_id":128463511,"body_markdown":"Can you share the full request you&#39;re making?\n\nThis one worked for me:\n`http://localhost:8080/abc/v1?FromDate=23/05/2022&amp;ToDate=22/06/2022`","body":"Can you share the full request you&#39;re making?  This one worked for me: <code>http:&#47;&#47;localhost:8080&#47;abc&#47;v1?FromDate=23&#47;05&#47;2022&amp;ToDate=22&#47;0&zwnj;&#8203;6&#47;2022</code>"},{"owner":{"account_id":13526603,"reputation":17,"user_id":9758253,"display_name":"aron"},"score":0,"creation_date":1656059044,"post_id":72707569,"comment_id":128483822,"body_markdown":"My full request is :   localhost:8080/abc/v1?FromDate=2022-05-23&amp;ToDate=2022-06-23 – 2022 and Here the data type  of FromDate and ToDate is of type org.joda.time.LocalDate;","body":"My full request is :   localhost:8080/abc/v1?FromDate=2022-05-23&amp;ToDate=2022-06-23 – 2022 and Here the data type  of FromDate and ToDate is of type org.joda.time.LocalDate;"}],"owner":{"account_id":13526603,"reputation":17,"user_id":9758253,"display_name":"aron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656059133,"creation_date":1655848840,"question_id":72707569,"body_markdown":"Why am i getting request match error in wiremock\r\n```\r\n&quot;request&quot;: {\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;urlPath&quot;: &quot;/abc/v1&quot;,\r\n\r\n    &quot;queryParams&quot;: {\r\n      &quot;FromDate&quot;: {\r\n        &quot;equalToDateTime&quot;: &quot;now -1 months&quot;,\r\n        &quot;actualFormat&quot;: &quot;dd/MM/yyyy&quot;,\r\n        &quot;truncateExpected&quot;: &quot;first hour of day&quot;\r\n      },\r\n\r\n      &quot;ToDate&quot;: {\r\n        &quot;equalToDateTime&quot;: &quot;now -1 days&quot;,\r\n        &quot;actualFormat&quot;: &quot;dd/MM/yyyy&quot;,\r\n        &quot;truncateExpected&quot;: &quot;first hour of day&quot;\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\ni get the following error\r\n```\r\nQuery: FromDate [equalToDateTime] now -1 months&lt;&lt;&lt;&lt;&lt; Query does not match\r\nQuery: ToDate [equalToDateTime] now -1 days&lt;&lt;&lt;&lt;&lt; Query does not match\r\n```\r\nThe data  type for FromDate and ToDate is **org.joda.time.LocalDate;**","title":"how to fix request matching Date time error in query params wiremock","body":"<p>Why am i getting request match error in wiremock</p>\n<pre><code>&quot;request&quot;: {\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;urlPath&quot;: &quot;/abc/v1&quot;,\n\n    &quot;queryParams&quot;: {\n      &quot;FromDate&quot;: {\n        &quot;equalToDateTime&quot;: &quot;now -1 months&quot;,\n        &quot;actualFormat&quot;: &quot;dd/MM/yyyy&quot;,\n        &quot;truncateExpected&quot;: &quot;first hour of day&quot;\n      },\n\n      &quot;ToDate&quot;: {\n        &quot;equalToDateTime&quot;: &quot;now -1 days&quot;,\n        &quot;actualFormat&quot;: &quot;dd/MM/yyyy&quot;,\n        &quot;truncateExpected&quot;: &quot;first hour of day&quot;\n      }\n    }\n  }\n</code></pre>\n<p>i get the following error</p>\n<pre><code>Query: FromDate [equalToDateTime] now -1 months&lt;&lt;&lt;&lt;&lt; Query does not match\nQuery: ToDate [equalToDateTime] now -1 days&lt;&lt;&lt;&lt;&lt; Query does not match\n</code></pre>\n<p>The data  type for FromDate and ToDate is <strong>org.joda.time.LocalDate;</strong></p>\n"},{"tags":["java","logging","log4j2","syslog"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1613295890,"post_id":66193981,"comment_id":117027062,"body_markdown":"A timestamp and hostname is usually added by **syslogd** when writing messages to a file. What syslogd are you using?","body":"A timestamp and hostname is usually added by <b>syslogd</b> when writing messages to a file. What syslogd are you using?"}],"answers":[{"tags":[],"owner":{"account_id":3908788,"reputation":29,"user_id":3234704,"display_name":"DevJV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613295266,"creation_date":1613295266,"answer_id":66194074,"question_id":66193981,"body_markdown":"You only have to configure the PatternLayout that its simply the message format.\r\n\r\nI.E:\r\n\r\nThis pattern is goint to show you the Timestamp and the class (represented by &quot;t&quot;)\r\n\r\n    %d{HH:mm:ss.SSS} [%t]\r\n\r\nIf you want only show the message, the pattern looks like:\r\n\r\n    %msg%n\r\n\r\nMore information about the Pattern: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n\r\nIn order to add to your code, you have got an example here:\r\n\r\n        PatternLayout layout= PatternLayout.createLayout(PATTERN, null, null, Charset.defaultCharset(),false,false,null,null);\r\n            Appender appender=ConsoleAppender.createAppender(layout, null, null, &quot;CONSOLE_APPENDER&quot;, null, null);\r\n            appender.start();\r\n        getConfig().addAppender(appender);\r\n\r\nHope its usefull","title":"How to remove the additional info before the logging message itself?","body":"<p>You only have to configure the PatternLayout that its simply the message format.</p>\n<p>I.E:</p>\n<p>This pattern is goint to show you the Timestamp and the class (represented by &quot;t&quot;)</p>\n<pre><code>%d{HH:mm:ss.SSS} [%t]\n</code></pre>\n<p>If you want only show the message, the pattern looks like:</p>\n<pre><code>%msg%n\n</code></pre>\n<p>More information about the Pattern: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a></p>\n<p>In order to add to your code, you have got an example here:</p>\n<pre><code>    PatternLayout layout= PatternLayout.createLayout(PATTERN, null, null, Charset.defaultCharset(),false,false,null,null);\n        Appender appender=ConsoleAppender.createAppender(layout, null, null, &quot;CONSOLE_APPENDER&quot;, null, null);\n        appender.start();\n    getConfig().addAppender(appender);\n</code></pre>\n<p>Hope its usefull</p>\n"},{"tags":[],"owner":{"account_id":25636540,"reputation":1,"user_id":19406046,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656059035,"creation_date":1656059035,"answer_id":72741067,"question_id":66193981,"body_markdown":"Here is my solution. I override SyslogAppender and buildLayout() like below.\r\n\r\n    public class MySyslogAppender extends SyslogAppender {\r\n        @Override\r\n        public Layout&lt;ILoggingEvent&gt; buildLayout() {\r\n            if (suffixPattern == null) {\r\n                suffixPattern = DEFAULT_SUFFIX_PATTERN;\r\n            }\r\n            PatternLayout layout = new PatternLayout();\r\n            layout.setPattern(suffixPattern);\r\n            layout.setContext(getContext());\r\n            layout.start();\r\n            return layout;\r\n        }\r\n    }\r\n\r\nAnd apply this class at logback.xml\r\n\r\n    &lt;appender name=&quot;syslog&quot; class=&quot;MySyslogAppender&quot;/&gt;\r\n\r\nIt can apply suffixPattern normally and no prefix of time and host anymore. I think it is also useful if create MySyslogAppender programmatically.","title":"How to remove the additional info before the logging message itself?","body":"<p>Here is my solution. I override SyslogAppender and buildLayout() like below.</p>\n<pre><code>public class MySyslogAppender extends SyslogAppender {\n    @Override\n    public Layout&lt;ILoggingEvent&gt; buildLayout() {\n        if (suffixPattern == null) {\n            suffixPattern = DEFAULT_SUFFIX_PATTERN;\n        }\n        PatternLayout layout = new PatternLayout();\n        layout.setPattern(suffixPattern);\n        layout.setContext(getContext());\n        layout.start();\n        return layout;\n    }\n}\n</code></pre>\n<p>And apply this class at logback.xml</p>\n<pre><code>&lt;appender name=&quot;syslog&quot; class=&quot;MySyslogAppender&quot;/&gt;\n</code></pre>\n<p>It can apply suffixPattern normally and no prefix of time and host anymore. I think it is also useful if create MySyslogAppender programmatically.</p>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656059035,"creation_date":1613294531,"question_id":66193981,"body_markdown":"I&#39;m using Apache Log4j logger (import org.apache.logging.log4j.core.Logger) in order to send messages to a syslog server in JSON format.\r\n\r\nThe message that I sent is something like that:\r\n```\r\n{&quot;id&quot;:&quot;1&quot;}\r\n```\r\n\r\nHowever, in the syslog server I received:  \r\n**Feb 14 10:33:27 localhost** {&quot;id&quot;:&quot;1&quot;}\r\n\r\nHow do I remove this additional info before the message itself, (**Feb 14 10:33:27 localhost**)?\r\n\r\nMy logger config\r\n\r\n    private Logger configureLogger(String appenderName, String loggerName, SyslogAppender syslogAppender) {\r\n        try {\r\n            if (syslogAppender != null) {\r\n                syslogAppender.start();\r\n                getConfig().addAppender(syslogAppender);\r\n                AppenderRef[] refs = new AppenderRef[]{AppenderRef.createAppenderRef(appenderName, null, null)};\r\n                LoggerConfig loggerConfig = LoggerConfig.createLogger(&quot;false&quot;, Level.DEBUG, loggerName,\r\n                        &quot;true&quot;, refs, null, getConfig(), null);\r\n                loggerConfig.addAppender(syslogAppender, null, null);\r\n                getConfig().removeLogger(loggerName);\r\n                getConfig().addLogger(loggerName, loggerConfig);\r\n                getContext().updateLoggers();\r\n                return getContext().getLogger(loggerName);\r\n            }\r\n        } catch (IllegalStateException e) {\r\n            LOGGER.error(&quot;An error occurred while configuring syslog settings&quot;);\r\n            LOGGER.trace(&quot;Exception: &quot;, e);\r\n            throw e;\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis is my SyslogAppender config\r\n\r\n    private SyslogAppender createSyslogAppender(ReportingSendProtocolType protocol, ReportingFacilityType reportingFacilityType, String host, int port, boolean ignoreExceptions, String appenderName, Configuration config) {\r\n        return SyslogAppender.createAppender(host,\r\n                port,\r\n                protocol.name(),\r\n                null,\r\n                0,\r\n                0,\r\n                true,\r\n                appenderName,\r\n                true,\r\n                ignoreExceptions,\r\n                Facility.toFacility(reportingFacilityType.name()),\r\n                null,\r\n                Rfc5424Layout.DEFAULT_ENTERPRISE_NUMBER,\r\n                true,\r\n                null,\r\n                null,\r\n                null,\r\n                true,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                config,\r\n                Charset.forName(&quot;UTF-8&quot;),\r\n                null,\r\n                new LoggerFields[]{},\r\n                true); //false\r\n    }","title":"How to remove the additional info before the logging message itself?","body":"<p>I'm using Apache Log4j logger (import org.apache.logging.log4j.core.Logger) in order to send messages to a syslog server in JSON format.</p>\n<p>The message that I sent is something like that:</p>\n<pre><code>{&quot;id&quot;:&quot;1&quot;}\n</code></pre>\n<p>However, in the syslog server I received:<br />\n<strong>Feb 14 10:33:27 localhost</strong> {&quot;id&quot;:&quot;1&quot;}</p>\n<p>How do I remove this additional info before the message itself, (<strong>Feb 14 10:33:27 localhost</strong>)?</p>\n<p>My logger config</p>\n<pre><code>private Logger configureLogger(String appenderName, String loggerName, SyslogAppender syslogAppender) {\n    try {\n        if (syslogAppender != null) {\n            syslogAppender.start();\n            getConfig().addAppender(syslogAppender);\n            AppenderRef[] refs = new AppenderRef[]{AppenderRef.createAppenderRef(appenderName, null, null)};\n            LoggerConfig loggerConfig = LoggerConfig.createLogger(&quot;false&quot;, Level.DEBUG, loggerName,\n                    &quot;true&quot;, refs, null, getConfig(), null);\n            loggerConfig.addAppender(syslogAppender, null, null);\n            getConfig().removeLogger(loggerName);\n            getConfig().addLogger(loggerName, loggerConfig);\n            getContext().updateLoggers();\n            return getContext().getLogger(loggerName);\n        }\n    } catch (IllegalStateException e) {\n        LOGGER.error(&quot;An error occurred while configuring syslog settings&quot;);\n        LOGGER.trace(&quot;Exception: &quot;, e);\n        throw e;\n    }\n    return null;\n}\n</code></pre>\n<p>This is my SyslogAppender config</p>\n<pre><code>private SyslogAppender createSyslogAppender(ReportingSendProtocolType protocol, ReportingFacilityType reportingFacilityType, String host, int port, boolean ignoreExceptions, String appenderName, Configuration config) {\n    return SyslogAppender.createAppender(host,\n            port,\n            protocol.name(),\n            null,\n            0,\n            0,\n            true,\n            appenderName,\n            true,\n            ignoreExceptions,\n            Facility.toFacility(reportingFacilityType.name()),\n            null,\n            Rfc5424Layout.DEFAULT_ENTERPRISE_NUMBER,\n            true,\n            null,\n            null,\n            null,\n            true,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            config,\n            Charset.forName(&quot;UTF-8&quot;),\n            null,\n            new LoggerFields[]{},\n            true); //false\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1568287642,"post_id":57905483,"comment_id":102231298,"body_markdown":"Here&#39;s a question that sounds like a duplicate: https://stackoverflow.com/questions/39728571/spring-map-field-of-requestbody-with-pathvariable - with a conclusion that such thing is not possible. You can try debugging various paths in Spring yourself to check whether that actually is true, though - you may discover something that may help.","body":"Here&#39;s a question that sounds like a duplicate: <a href=\"https://stackoverflow.com/questions/39728571/spring-map-field-of-requestbody-with-pathvariable\" title=\"spring map field of requestbody with pathvariable\">stackoverflow.com/questions/39728571/&hellip;</a> - with a conclusion that such thing is not possible. You can try debugging various paths in Spring yourself to check whether that actually is true, though - you may discover something that may help."},{"owner":{"account_id":15275628,"reputation":416,"user_id":11021437,"display_name":"Divanshu Aggarwal"},"score":0,"creation_date":1568287804,"post_id":57905483,"comment_id":102231382,"body_markdown":"Why are you not passing id into request body only.What value would it serve to pass in path vaiable?","body":"Why are you not passing id into request body only.What value would it serve to pass in path vaiable?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1568288002,"post_id":57905483,"comment_id":102231495,"body_markdown":"@DivanshuAggarwal, that&#39;s a part of hist REST API design. As in, `GET /entity/{id}` reads and returns entity, `POST /entity/{id} X --body` updates the entity. `POST /entity X --body` creates new entity, returns id. That kind of stuff. His actual setup may be different, ofc.","body":"@DivanshuAggarwal, that&#39;s a part of hist REST API design. As in, <code>GET &#47;entity&#47;{id}</code> reads and returns entity, <code>POST &#47;entity&#47;{id} X --body</code> updates the entity. <code>POST &#47;entity X --body</code> creates new entity, returns id. That kind of stuff. His actual setup may be different, ofc."},{"owner":{"account_id":273061,"reputation":916,"user_id":564442,"accept_rate":60,"display_name":"Matija Folnovic"},"score":2,"creation_date":1568288725,"post_id":57905483,"comment_id":102231872,"body_markdown":"@M.Prokhorov: yep, I&#39;ve seen that question, hoped things changed since 2016. :)\n\nand exactly as you said, REST API design convention :)","body":"@M.Prokhorov: yep, I&#39;ve seen that question, hoped things changed since 2016. :)  and exactly as you said, REST API design convention :)"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1568289313,"post_id":57905483,"comment_id":102232195,"body_markdown":"@MatijaFolnovic, well, something like what&#39;s in [this question](https://stackoverflow.com/questions/17149425/bind-path-variables-to-a-custom-model-object-in-spring) apparently works since 2013, but how exactly - I&#39;m not sure. Maybe attached answers help though.","body":"@MatijaFolnovic, well, something like what&#39;s in <a href=\"https://stackoverflow.com/questions/17149425/bind-path-variables-to-a-custom-model-object-in-spring\">this question</a> apparently works since 2013, but how exactly - I&#39;m not sure. Maybe attached answers help though."},{"owner":{"account_id":273061,"reputation":916,"user_id":564442,"accept_rate":60,"display_name":"Matija Folnovic"},"score":0,"creation_date":1568290178,"post_id":57905483,"comment_id":102232709,"body_markdown":"@M.Prokhorov tnx, we also saw that - it doesn&#39;t work if you use `@RequestBody` :(","body":"@M.Prokhorov tnx, we also saw that - it doesn&#39;t work if you use <code>@RequestBody</code> :("},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1568290236,"post_id":57905483,"comment_id":102232738,"body_markdown":"@MatijaFolnovic, even the method parameter resolver one, that processes raw requests? That&#39;s odd.","body":"@MatijaFolnovic, even the method parameter resolver one, that processes raw requests? That&#39;s odd."},{"owner":{"account_id":4131792,"reputation":2033,"user_id":3389507,"accept_rate":73,"display_name":"italktothewind"},"score":0,"creation_date":1655436801,"post_id":57905483,"comment_id":128337145,"body_markdown":"If you want this feature to be done in Spring please upvote this issue: https://github.com/spring-projects/spring-framework/issues/28637 . Maybe you can put it the question :)","body":"If you want this feature to be done in Spring please upvote this issue: <a href=\"https://github.com/spring-projects/spring-framework/issues/28637\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/28637</a> . Maybe you can put it the question :)"}],"answers":[{"tags":[],"owner":{"account_id":4587206,"reputation":476,"user_id":9173486,"display_name":"lmarx"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1568987802,"creation_date":1568289554,"answer_id":57906249,"question_id":57905483,"body_markdown":"It seems this endpoint is performing an update operation, so let&#39;s do two steps back.\r\n\r\n`PUT` requests are used to update a single resource, and it is best practice to prefer `POST` over `PUT` for creation of (at least top-level) resources. Instead, `PATCH` requests are used to update parts of single resources, i.e. where only a specific subset of resource fields should be replaced.\r\n\r\nIn `PUT` requests, the primary resource ID is passed as a URL path segment and the associated resource is replaced (in case of success) with the representation passed in the payload.\r\n\r\nFor the payload, you can extract another model domain class that contains all the fields of `UserDto` except the ID.\r\n\r\nAccording to this, I suggest to design your controller in this way:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/{api}/users&quot;)\r\npublic class UserController {\r\n\r\n  @PutMapping(&quot;/{id}&quot;)\r\n  String update(@PathVariable String id, @RequestBody UpdateUserRequest request){\r\n      service.update(id, request);\r\n  }\r\n}\r\n```","title":"Combining @PathVariable and @RequestBody","body":"<p>It seems this endpoint is performing an update operation, so let's do two steps back.</p>\n\n<p><code>PUT</code> requests are used to update a single resource, and it is best practice to prefer <code>POST</code> over <code>PUT</code> for creation of (at least top-level) resources. Instead, <code>PATCH</code> requests are used to update parts of single resources, i.e. where only a specific subset of resource fields should be replaced.</p>\n\n<p>In <code>PUT</code> requests, the primary resource ID is passed as a URL path segment and the associated resource is replaced (in case of success) with the representation passed in the payload.</p>\n\n<p>For the payload, you can extract another model domain class that contains all the fields of <code>UserDto</code> except the ID.</p>\n\n<p>According to this, I suggest to design your controller in this way:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/{api}/users\")\npublic class UserController {\n\n  @PutMapping(\"/{id}\")\n  String update(@PathVariable String id, @RequestBody UpdateUserRequest request){\n      service.update(id, request);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637562842,"creation_date":1621342021,"answer_id":67586492,"question_id":57905483,"body_markdown":"I just got this working by using AspectJ.  \r\n**Just copy-paste this class into your project.**  \r\nSpring should pick it up automatically.  \r\n\r\nCapabilities:\r\n * This should copy path variables from your controller and method onto your request DTO.\r\n * In my case, I needed to also map any HTTP headers onto the request. Feel free to disable this.\r\n * This also sets properties of any super-classes your request DTOs may extend.\r\n * This should work with POST, PUT, PATCH DELETE, and GET methods.\r\n * Performs validation using annotations which you&#39;ve defined on your request properties.\r\n\r\nVery minor caveat:\r\n * Note that any `WebDataBinder`s you&#39;ve registered will not apply in this situation. I haven&#39;t figured out how to pick that up yet. This is why I have created the `coerceValue()` method that converts strings from your path into the desired data type as declared on your DTO.\r\n\r\n---\r\n\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.reflect.MethodSignature;\r\n    import org.springframework.core.MethodParameter;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.validation.BeanPropertyBindingResult;\r\n    import org.springframework.validation.beanvalidation.SpringValidatorAdapter;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.validation.Validator;\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Method;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    /**\r\n     * This class extracts values from the following places:\r\n     * - {@link PathVariable}s from the controller request path\r\n     * - {@link PathVariable}s from the method request path\r\n     * - HTTP headers\r\n     * and attempts to set those values onto controller method arguments.\r\n     * It also performs validation\r\n     */\r\n    @Aspect\r\n    @Component\r\n    public class RequestDtoMapper {\r\n    \r\n        private final HttpServletRequest request;\r\n        private final Validator validator;\r\n    \r\n        public RequestDtoMapper(HttpServletRequest request, Validator validator) {\r\n            this.request = request;\r\n            this.validator = validator;\r\n        }\r\n    \r\n        @Around(&quot;execution(public * *(..)) &amp;&amp; (@annotation(org.springframework.web.bind.annotation.PostMapping) || @annotation(org.springframework.web.bind.annotation.PutMapping) || @annotation(org.springframework.web.bind.annotation.PatchMapping) || @annotation(org.springframework.web.bind.annotation.DeleteMapping) || @annotation(org.springframework.web.bind.annotation.GetMapping))&quot;)\r\n        public Object process(ProceedingJoinPoint call) throws Throwable {\r\n            MethodSignature signature = (MethodSignature) call.getSignature();\r\n            Method method = signature.getMethod();\r\n    \r\n            // Extract path from controller annotation\r\n            Annotation requestMappingAnnotation = Arrays.stream(call.getTarget().getClass().getDeclaredAnnotations())\r\n                    .filter(ann -&gt; ann.annotationType() == RequestMapping.class)\r\n                    .findFirst()\r\n                    .orElseThrow();\r\n            String controllerPath = ((RequestMapping) requestMappingAnnotation).value()[0];\r\n    \r\n            // Extract path from method annotation\r\n            List&lt;Class&lt;?&gt;&gt; classes = Arrays.asList(PostMapping.class, PutMapping.class, PatchMapping.class, DeleteMapping.class, GetMapping.class);\r\n            Annotation methodMappingAnnotation = Arrays.stream(method.getDeclaredAnnotations())\r\n                    .filter(ann -&gt; classes.contains(ann.annotationType()))\r\n                    .findFirst()\r\n                    .orElseThrow();\r\n            String methodPath = methodMappingAnnotation.annotationType().equals(PostMapping.class)\r\n                    ? ((PostMapping) methodMappingAnnotation).value()[0]\r\n                    : methodMappingAnnotation.annotationType().equals(PutMapping.class)\r\n                    ? ((PutMapping) methodMappingAnnotation).value()[0]\r\n                    : methodMappingAnnotation.annotationType().equals(PatchMapping.class)\r\n                    ? ((PatchMapping) methodMappingAnnotation).value()[0]\r\n                    : methodMappingAnnotation.annotationType().equals(DeleteMapping.class)\r\n                    ? ((DeleteMapping) methodMappingAnnotation).value()[0]\r\n                    : methodMappingAnnotation.annotationType().equals(GetMapping.class)\r\n                    ? ((GetMapping) methodMappingAnnotation).value()[0]\r\n                    : null;\r\n    \r\n            // Extract parameters from request URI\r\n            Map&lt;String, String&gt; paramsMap = extractParamsMapFromUri(controllerPath + &quot;/&quot; + methodPath);\r\n    \r\n            // Add HTTP headers to params map\r\n            Map&lt;String, String&gt; headers =\r\n                    Collections.list(request.getHeaderNames())\r\n                            .stream()\r\n                            .collect(Collectors.toMap(h -&gt; h, request::getHeader));\r\n            paramsMap.putAll(headers);\r\n    \r\n            // Set properties onto request object\r\n            List&lt;Class&lt;?&gt;&gt; requestBodyClasses = Arrays.asList(PostMapping.class, PutMapping.class, PatchMapping.class, DeleteMapping.class);\r\n            Arrays.stream(call.getArgs()).filter(arg -&gt;\r\n                    (requestBodyClasses.contains(methodMappingAnnotation.annotationType()) &amp;&amp; arg.getClass().isAnnotationPresent(RequestBody.class))\r\n                            || methodMappingAnnotation.annotationType().equals(GetMapping.class))\r\n                    .forEach(methodArg -&gt; getMapOfClassesToFields(methodArg.getClass())\r\n                            .forEach((key, value1) -&gt; value1.stream().filter(field -&gt; paramsMap.containsKey(field.getName())).forEach(field -&gt; {\r\n                                field.setAccessible(true);\r\n                                try {\r\n                                    String value = paramsMap.get(field.getName());\r\n                                    Object valueCoerced = coerceValue(field.getType(), value);\r\n                                    field.set(methodArg, valueCoerced);\r\n                                } catch (Exception e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            })));\r\n    \r\n            // Perform validation\r\n            for (int i = 0; i &lt; call.getArgs().length; i++) {\r\n                Object arg = call.getArgs();\r\n                BeanPropertyBindingResult result = new BeanPropertyBindingResult(arg, arg.getClass().getName());\r\n                SpringValidatorAdapter adapter = new SpringValidatorAdapter(this.validator);\r\n                adapter.validate(arg, result);\r\n                if (result.hasErrors()) {\r\n                    MethodParameter methodParameter = new MethodParameter(method, i);\r\n                    throw new MethodArgumentNotValidException(methodParameter, result);\r\n                }\r\n            }\r\n    \r\n            // Execute remainder of method\r\n            return call.proceed();\r\n        }\r\n    \r\n        private Map&lt;String, String&gt; extractParamsMapFromUri(String path) {\r\n            List&lt;String&gt; paramNames = Arrays.stream(path.split(&quot;/&quot;))\r\n                    .collect(Collectors.toList());\r\n            Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n            List&lt;String&gt; pathValues = Arrays.asList(request.getRequestURI().split(&quot;/&quot;));\r\n            for (int i = 0; i &lt; paramNames.size(); i++) {\r\n                String seg = paramNames.get(i);\r\n                if (seg.startsWith(&quot;{&quot;) &amp;&amp; seg.endsWith(&quot;}&quot;)) {\r\n                    result.put(seg.substring(1, seg.length() - 1), pathValues.get(i));\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        /**\r\n         * Convert provided String value to provided class so that it can ultimately be set onto the request DTO property.\r\n         * Ideally it would be better to hook into any registered WebDataBinders however we are manually casting here.\r\n         * Add your own conditions as required\r\n         */\r\n        private Object coerceValue(Class&lt;?&gt; valueType, String value) {\r\n            if (valueType == Integer.class || valueType == int.class) {\r\n                return Integer.parseInt(value);\r\n            } else if (valueType == Boolean.class || valueType == boolean.class) {\r\n                return Integer.parseInt(value);\r\n            } else if (valueType == UUID.class) {\r\n                return UUID.fromString(value);\r\n            } else if (valueType != String.class) {\r\n                throw new RuntimeException(String.format(&quot;Cannot convert &#39;%s&#39; to type of &#39;%s&#39;. Add another condition to `%s.coerceValue()` to resolve this error&quot;, value, valueType, RequestDtoMapper.class.getSimpleName()));\r\n            }\r\n            return value;\r\n        }\r\n    \r\n        /**\r\n         * Recurse up the class hierarchy and gather a map of classes to fields\r\n         */\r\n        private Map&lt;Class&lt;?&gt;, List&lt;Field&gt;&gt; getMapOfClassesToFields(Class&lt;?&gt; t) {\r\n            Map&lt;Class&lt;?&gt;, List&lt;Field&gt;&gt; fields = new HashMap&lt;&gt;();\r\n            Class&lt;?&gt; clazz = t;\r\n            while (clazz != Object.class) {\r\n                if (!fields.containsKey(clazz)) {\r\n                    fields.put(clazz, new ArrayList&lt;&gt;());\r\n                }\r\n                fields.get(clazz).addAll(Arrays.asList(clazz.getDeclaredFields()));\r\n                clazz = clazz.getSuperclass();\r\n            }\r\n            return fields;\r\n        }\r\n    \r\n    }","title":"Combining @PathVariable and @RequestBody","body":"<p>I just got this working by using AspectJ.<br />\n<strong>Just copy-paste this class into your project.</strong><br />\nSpring should pick it up automatically.</p>\n<p>Capabilities:</p>\n<ul>\n<li>This should copy path variables from your controller and method onto your request DTO.</li>\n<li>In my case, I needed to also map any HTTP headers onto the request. Feel free to disable this.</li>\n<li>This also sets properties of any super-classes your request DTOs may extend.</li>\n<li>This should work with POST, PUT, PATCH DELETE, and GET methods.</li>\n<li>Performs validation using annotations which you've defined on your request properties.</li>\n</ul>\n<p>Very minor caveat:</p>\n<ul>\n<li>Note that any <code>WebDataBinder</code>s you've registered will not apply in this situation. I haven't figured out how to pick that up yet. This is why I have created the <code>coerceValue()</code> method that converts strings from your path into the desired data type as declared on your DTO.</li>\n</ul>\n<hr />\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.reflect.MethodSignature;\nimport org.springframework.core.MethodParameter;\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.BeanPropertyBindingResult;\nimport org.springframework.validation.beanvalidation.SpringValidatorAdapter;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.Validator;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\n/**\n * This class extracts values from the following places:\n * - {@link PathVariable}s from the controller request path\n * - {@link PathVariable}s from the method request path\n * - HTTP headers\n * and attempts to set those values onto controller method arguments.\n * It also performs validation\n */\n@Aspect\n@Component\npublic class RequestDtoMapper {\n\n    private final HttpServletRequest request;\n    private final Validator validator;\n\n    public RequestDtoMapper(HttpServletRequest request, Validator validator) {\n        this.request = request;\n        this.validator = validator;\n    }\n\n    @Around(&quot;execution(public * *(..)) &amp;&amp; (@annotation(org.springframework.web.bind.annotation.PostMapping) || @annotation(org.springframework.web.bind.annotation.PutMapping) || @annotation(org.springframework.web.bind.annotation.PatchMapping) || @annotation(org.springframework.web.bind.annotation.DeleteMapping) || @annotation(org.springframework.web.bind.annotation.GetMapping))&quot;)\n    public Object process(ProceedingJoinPoint call) throws Throwable {\n        MethodSignature signature = (MethodSignature) call.getSignature();\n        Method method = signature.getMethod();\n\n        // Extract path from controller annotation\n        Annotation requestMappingAnnotation = Arrays.stream(call.getTarget().getClass().getDeclaredAnnotations())\n                .filter(ann -&gt; ann.annotationType() == RequestMapping.class)\n                .findFirst()\n                .orElseThrow();\n        String controllerPath = ((RequestMapping) requestMappingAnnotation).value()[0];\n\n        // Extract path from method annotation\n        List&lt;Class&lt;?&gt;&gt; classes = Arrays.asList(PostMapping.class, PutMapping.class, PatchMapping.class, DeleteMapping.class, GetMapping.class);\n        Annotation methodMappingAnnotation = Arrays.stream(method.getDeclaredAnnotations())\n                .filter(ann -&gt; classes.contains(ann.annotationType()))\n                .findFirst()\n                .orElseThrow();\n        String methodPath = methodMappingAnnotation.annotationType().equals(PostMapping.class)\n                ? ((PostMapping) methodMappingAnnotation).value()[0]\n                : methodMappingAnnotation.annotationType().equals(PutMapping.class)\n                ? ((PutMapping) methodMappingAnnotation).value()[0]\n                : methodMappingAnnotation.annotationType().equals(PatchMapping.class)\n                ? ((PatchMapping) methodMappingAnnotation).value()[0]\n                : methodMappingAnnotation.annotationType().equals(DeleteMapping.class)\n                ? ((DeleteMapping) methodMappingAnnotation).value()[0]\n                : methodMappingAnnotation.annotationType().equals(GetMapping.class)\n                ? ((GetMapping) methodMappingAnnotation).value()[0]\n                : null;\n\n        // Extract parameters from request URI\n        Map&lt;String, String&gt; paramsMap = extractParamsMapFromUri(controllerPath + &quot;/&quot; + methodPath);\n\n        // Add HTTP headers to params map\n        Map&lt;String, String&gt; headers =\n                Collections.list(request.getHeaderNames())\n                        .stream()\n                        .collect(Collectors.toMap(h -&gt; h, request::getHeader));\n        paramsMap.putAll(headers);\n\n        // Set properties onto request object\n        List&lt;Class&lt;?&gt;&gt; requestBodyClasses = Arrays.asList(PostMapping.class, PutMapping.class, PatchMapping.class, DeleteMapping.class);\n        Arrays.stream(call.getArgs()).filter(arg -&gt;\n                (requestBodyClasses.contains(methodMappingAnnotation.annotationType()) &amp;&amp; arg.getClass().isAnnotationPresent(RequestBody.class))\n                        || methodMappingAnnotation.annotationType().equals(GetMapping.class))\n                .forEach(methodArg -&gt; getMapOfClassesToFields(methodArg.getClass())\n                        .forEach((key, value1) -&gt; value1.stream().filter(field -&gt; paramsMap.containsKey(field.getName())).forEach(field -&gt; {\n                            field.setAccessible(true);\n                            try {\n                                String value = paramsMap.get(field.getName());\n                                Object valueCoerced = coerceValue(field.getType(), value);\n                                field.set(methodArg, valueCoerced);\n                            } catch (Exception e) {\n                                throw new RuntimeException(e);\n                            }\n                        })));\n\n        // Perform validation\n        for (int i = 0; i &lt; call.getArgs().length; i++) {\n            Object arg = call.getArgs();\n            BeanPropertyBindingResult result = new BeanPropertyBindingResult(arg, arg.getClass().getName());\n            SpringValidatorAdapter adapter = new SpringValidatorAdapter(this.validator);\n            adapter.validate(arg, result);\n            if (result.hasErrors()) {\n                MethodParameter methodParameter = new MethodParameter(method, i);\n                throw new MethodArgumentNotValidException(methodParameter, result);\n            }\n        }\n\n        // Execute remainder of method\n        return call.proceed();\n    }\n\n    private Map&lt;String, String&gt; extractParamsMapFromUri(String path) {\n        List&lt;String&gt; paramNames = Arrays.stream(path.split(&quot;/&quot;))\n                .collect(Collectors.toList());\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n        List&lt;String&gt; pathValues = Arrays.asList(request.getRequestURI().split(&quot;/&quot;));\n        for (int i = 0; i &lt; paramNames.size(); i++) {\n            String seg = paramNames.get(i);\n            if (seg.startsWith(&quot;{&quot;) &amp;&amp; seg.endsWith(&quot;}&quot;)) {\n                result.put(seg.substring(1, seg.length() - 1), pathValues.get(i));\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Convert provided String value to provided class so that it can ultimately be set onto the request DTO property.\n     * Ideally it would be better to hook into any registered WebDataBinders however we are manually casting here.\n     * Add your own conditions as required\n     */\n    private Object coerceValue(Class&lt;?&gt; valueType, String value) {\n        if (valueType == Integer.class || valueType == int.class) {\n            return Integer.parseInt(value);\n        } else if (valueType == Boolean.class || valueType == boolean.class) {\n            return Integer.parseInt(value);\n        } else if (valueType == UUID.class) {\n            return UUID.fromString(value);\n        } else if (valueType != String.class) {\n            throw new RuntimeException(String.format(&quot;Cannot convert '%s' to type of '%s'. Add another condition to `%s.coerceValue()` to resolve this error&quot;, value, valueType, RequestDtoMapper.class.getSimpleName()));\n        }\n        return value;\n    }\n\n    /**\n     * Recurse up the class hierarchy and gather a map of classes to fields\n     */\n    private Map&lt;Class&lt;?&gt;, List&lt;Field&gt;&gt; getMapOfClassesToFields(Class&lt;?&gt; t) {\n        Map&lt;Class&lt;?&gt;, List&lt;Field&gt;&gt; fields = new HashMap&lt;&gt;();\n        Class&lt;?&gt; clazz = t;\n        while (clazz != Object.class) {\n            if (!fields.containsKey(clazz)) {\n                fields.put(clazz, new ArrayList&lt;&gt;());\n            }\n            fields.get(clazz).addAll(Arrays.asList(clazz.getDeclaredFields()));\n            clazz = clazz.getSuperclass();\n        }\n        return fields;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":273061,"reputation":916,"user_id":564442,"accept_rate":60,"display_name":"Matija Folnovic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23448,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":2,"score":19,"last_activity_date":1656059033,"creation_date":1568286805,"question_id":57905483,"body_markdown":"I have a `DTO`:\r\n\r\n```java\r\npublic class UserDto {\r\n  private Long id;\r\n  private String name;\r\n}\r\n```\r\n\r\nand `Controller`:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;user&quot;)\r\npublic Class UserController {\r\n  @PostMapping(value = &quot;{id}&quot;)\r\n  public String update(@PathVariable String id, @RequestBody UserDto userDto){\r\n    userDto.setId(id);\r\n    service.update(userDto);\r\n  }\r\n}\r\n```\r\n\r\nWhat I don&#39;t like is manually putting `ID` from `@PathVariable` to `DTO`: `userDto.setId(id);`.\r\n\r\nFor POST request `/user/5` with body: `{ name: &quot;test&quot; }`, how could I automatically set `ID` in `DTO`, so that you&#39;d get `DTO` like below?\r\n\r\n```\r\n{\r\n  id: 5,\r\n  name: &quot;test&quot;\r\n}\r\n```\r\n\r\nBasically, I&#39;d like to have something like:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;user&quot;)\r\npublic Class UserController {\r\n  @PostMapping(value = &quot;{id}&quot;)\r\n  public String update(@RequestBody UserDto userDto){\r\n    service.update(userDto);\r\n  }\r\n}\r\n```\r\n\r\nIs there a way to accomplish this?\r\n\r\nThank you! :)\r\n\r\nEDIT: this is an old question, still unanswered, so I&#39;d like to add new perspective to this question.\r\n\r\nAnother problem we had is validation, to specific - defining custom constraint that does validation based on some field and `id`.\r\n\r\nif we remove `id` from request body, then how can we access it from custom constraint? :) \r\n\r\nEDIT 2: [italktothewind](https://stackoverflow.com/users/3389507/italktothewind) created issue on Github: https://github.com/spring-projects/spring-framework/issues/28637","title":"Combining @PathVariable and @RequestBody","body":"<p>I have a <code>DTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDto {\n  private Long id;\n  private String name;\n}\n</code></pre>\n<p>and <code>Controller</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;user&quot;)\npublic Class UserController {\n  @PostMapping(value = &quot;{id}&quot;)\n  public String update(@PathVariable String id, @RequestBody UserDto userDto){\n    userDto.setId(id);\n    service.update(userDto);\n  }\n}\n</code></pre>\n<p>What I don't like is manually putting <code>ID</code> from <code>@PathVariable</code> to <code>DTO</code>: <code>userDto.setId(id);</code>.</p>\n<p>For POST request <code>/user/5</code> with body: <code>{ name: &quot;test&quot; }</code>, how could I automatically set <code>ID</code> in <code>DTO</code>, so that you'd get <code>DTO</code> like below?</p>\n<pre><code>{\n  id: 5,\n  name: &quot;test&quot;\n}\n</code></pre>\n<p>Basically, I'd like to have something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;user&quot;)\npublic Class UserController {\n  @PostMapping(value = &quot;{id}&quot;)\n  public String update(@RequestBody UserDto userDto){\n    service.update(userDto);\n  }\n}\n</code></pre>\n<p>Is there a way to accomplish this?</p>\n<p>Thank you! :)</p>\n<p>EDIT: this is an old question, still unanswered, so I'd like to add new perspective to this question.</p>\n<p>Another problem we had is validation, to specific - defining custom constraint that does validation based on some field and <code>id</code>.</p>\n<p>if we remove <code>id</code> from request body, then how can we access it from custom constraint? :)</p>\n<p>EDIT 2: <a href=\"https://stackoverflow.com/users/3389507/italktothewind\">italktothewind</a> created issue on Github: <a href=\"https://github.com/spring-projects/spring-framework/issues/28637\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/issues/28637</a></p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1656057741,"post_id":72740797,"comment_id":128483405,"body_markdown":"One creates an object. The other doesn&#39;t.","body":"One creates an object. The other doesn&#39;t."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1656057854,"post_id":72740797,"comment_id":128483447,"body_markdown":"The first only creates a variable. The second creates both, a variable and an object/instance and then lets the variable refer to that. Just strictly differentiate variables from objects/instances in your head and your life will be simpler in Java.","body":"The first only creates a variable. The second creates both, a variable and an object/instance and then lets the variable refer to that. Just strictly differentiate variables from objects/instances in your head and your life will be simpler in Java."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1656058047,"post_id":72740797,"comment_id":128483500,"body_markdown":"Note that the `Date` class is legacy, you should not use it anymore. Instead, check out the classes available in the `java.time` package :)","body":"Note that the <code>Date</code> class is legacy, you should not use it anymore. Instead, check out the classes available in the <code>java.time</code> package :)"}],"answers":[{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656058322,"creation_date":1656057971,"answer_id":72740852,"question_id":72740797,"body_markdown":"    Date date;\r\nYou don&#39;t create an object. You just declaration a new variable from Date type which is not assigned to an actual object, so it&#39;s null\r\n    \r\n    Date date = new Date();\r\nYou declaration a new variable and assign it to an object\r\n","title":"difference between creating an object as a field or calling a constructor in Java","body":"<pre><code>Date date;\n</code></pre>\n<p>You don't create an object. You just declaration a new variable from Date type which is not assigned to an actual object, so it's null</p>\n<pre><code>Date date = new Date();\n</code></pre>\n<p>You declaration a new variable and assign it to an object</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656058935,"creation_date":1656058166,"answer_id":72740895,"question_id":72740797,"body_markdown":"# tl;dr\r\n\r\n - The first is a null reference variable.\r\n - The second is a variable that holds a reference to a newly created object.\r\n\r\n# Details\r\n\r\nThe first defines a variable to hold a reference to an object (instance) of the class `Date`. But there is no instance of `Date` yet. The variable holds no reference. We identify an empty reference as `null`. If you try calling a method via that null object reference, you’ll get a `NullPointerException`. No object means calling a method is senseless. \r\n\r\nThe second does the same, *plus*:\r\n\r\n - Instantiates an object of the `Date` class.\r\n - Assigns a reference to that new object to the variable.\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, both `Date` classes bundled with Java are terribly flawed in poor design. Never use them. They were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n - `java.util.Date` is replaced by `java.time.Instant`.\r\n - `java.sql.Date` is replaced by `java.time.LocalDate`.\r\n\r\n\r\n\r\n","title":"difference between creating an object as a field or calling a constructor in Java","body":"<h1>tl;dr</h1>\n<ul>\n<li>The first is a null reference variable.</li>\n<li>The second is a variable that holds a reference to a newly created object.</li>\n</ul>\n<h1>Details</h1>\n<p>The first defines a variable to hold a reference to an object (instance) of the class <code>Date</code>. But there is no instance of <code>Date</code> yet. The variable holds no reference. We identify an empty reference as <code>null</code>. If you try calling a method via that null object reference, you’ll get a <code>NullPointerException</code>. No object means calling a method is senseless.</p>\n<p>The second does the same, <em>plus</em>:</p>\n<ul>\n<li>Instantiates an object of the <code>Date</code> class.</li>\n<li>Assigns a reference to that new object to the variable.</li>\n</ul>\n<hr />\n<p>By the way, both <code>Date</code> classes bundled with Java are terribly flawed in poor design. Never use them. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<ul>\n<li><code>java.util.Date</code> is replaced by <code>java.time.Instant</code>.</li>\n<li><code>java.sql.Date</code> is replaced by <code>java.time.LocalDate</code>.</li>\n</ul>\n"}],"owner":{"account_id":25300515,"reputation":143,"user_id":19124826,"display_name":"Amos Machora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656058272,"accepted_answer_id":72740895,"answer_count":2,"score":-1,"last_activity_date":1656058935,"creation_date":1656057653,"question_id":72740797,"body_markdown":"Noob alert. I have seen more of this questions but I&#39;m not quite getting it.\r\n\r\nHere is an object \r\n\r\n    Date date;\r\n\r\nand another \r\n\r\n    Date date = new Date();\r\n\r\n**What is the difference between the two ways and what are the downsides or upsides of using either of them?**","title":"difference between creating an object as a field or calling a constructor in Java","body":"<p>Noob alert. I have seen more of this questions but I'm not quite getting it.</p>\n<p>Here is an object</p>\n<pre><code>Date date;\n</code></pre>\n<p>and another</p>\n<pre><code>Date date = new Date();\n</code></pre>\n<p><strong>What is the difference between the two ways and what are the downsides or upsides of using either of them?</strong></p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1656052182,"post_id":72739775,"comment_id":128481812,"body_markdown":"`.. WHERE domain_based_properties-&gt;&gt;&quot;$.id&quot; = ?1 ..`","body":"<code>.. WHERE domain_based_properties-&gt;&gt;&quot;$.id&quot; = ?1 ..</code>"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1656052369,"post_id":72739775,"comment_id":128481851,"body_markdown":"*above method throws below SQL error* Pay attention - MySQL claims that errorneous value is argument 1 which is `domain_based_properties` column&#39;s value.","body":"<i>above method throws below SQL error</i> Pay attention - MySQL claims that errorneous value is argument 1 which is <code>domain_based_properties</code> column&#39;s value."}],"answers":[{"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656053319,"creation_date":1656053319,"answer_id":72739999,"question_id":72739775,"body_markdown":"Maybe the following will work.\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, ?1 , &#39;$.id&#39;&quot;)\r\n    MpaCustomization findByDomainBaseId(String domainId);\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://database.guide/json_contains-examples-in-mysql/","title":"Filter JSON column from MySQL table in spring boot","body":"<p>Maybe the following will work.</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, ?1 , '$.id'&quot;)\nMpaCustomization findByDomainBaseId(String domainId);\n</code></pre>\n<p><a href=\"https://database.guide/json_contains-examples-in-mysql/\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":11447062,"reputation":82,"user_id":8390588,"display_name":"medgai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656057246,"creation_date":1656057246,"answer_id":72740707,"question_id":72739775,"body_markdown":"Use `$.id` for values when using native query, as SQL accepts like it only.\r\nOther way, you may use `:id` and bind parameter `{\\&quot;id\\&quot;:\\&quot;&quot; + &lt;value&gt; + &quot;\\&quot;}` to the query.","title":"Filter JSON column from MySQL table in spring boot","body":"<p>Use <code>$.id</code> for values when using native query, as SQL accepts like it only.\nOther way, you may use <code>:id</code> and bind parameter <code>{\\&quot;id\\&quot;:\\&quot;&quot; + &lt;value&gt; + &quot;\\&quot;}</code> to the query.</p>\n"}],"owner":{"account_id":12174377,"reputation":331,"user_id":8887910,"display_name":"dasitha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72740707,"answer_count":2,"score":1,"last_activity_date":1656058707,"creation_date":1656051655,"question_id":72739775,"body_markdown":"Below is my query to filter the json column in MySQL table ,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n        public interface MpaCustomizationRepository extends\r\n    \t\tJpaRepository&lt;MpaCustomization, Serializable&gt; {\r\n    \r\n    @Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, &#39;{\\&quot;id\\&quot; : ?1}&#39;)&quot;)\r\n    MpaCustomization findByDomainBaseId(String domainId);\r\n    \r\n    }\r\n\r\nabove method throws below SQL error,\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nbut if I hard code the variable and run the query like below its works fine,\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, &#39;{\\&quot;id\\&quot; : 2}&#39;)&quot;)\r\n    \tMpaCustomization findByDomainBaseId(String domainId);\r\n\r\nHow to fix this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHKZw.png\r\n  [2]: https://i.stack.imgur.com/rOzo9.png","title":"Filter JSON column from MySQL table in spring boot","body":"<p>Below is my query to filter the json column in MySQL table ,</p>\n<p><a href=\"https://i.stack.imgur.com/WHKZw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHKZw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    public interface MpaCustomizationRepository extends\n        JpaRepository&lt;MpaCustomization, Serializable&gt; {\n\n@Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, '{\\&quot;id\\&quot; : ?1}')&quot;)\nMpaCustomization findByDomainBaseId(String domainId);\n\n}\n</code></pre>\n<p>above method throws below SQL error,</p>\n<p><a href=\"https://i.stack.imgur.com/rOzo9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOzo9.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I hard code the variable and run the query like below its works fine,</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from MPA_CUSTOMIZATION where json_contains(domain_based_properties, '{\\&quot;id\\&quot; : 2}')&quot;)\n    MpaCustomization findByDomainBaseId(String domainId);\n</code></pre>\n<p>How to fix this issue?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655991252,"post_id":72730994,"comment_id":128467167,"body_markdown":"Is the exception thrown at the `repoLayer.saveAll` call, or at what line?","body":"Is the exception thrown at the <code>repoLayer.saveAll</code> call, or at what line?"},{"owner":{"account_id":4895224,"reputation":494,"user_id":3945085,"accept_rate":77,"display_name":"Sumit Ghosh"},"score":0,"creation_date":1655991315,"post_id":72730994,"comment_id":128467201,"body_markdown":"@David Conrad,yes exception is getting thrown at the repoLayer.saveAll","body":"@David Conrad,yes exception is getting thrown at the repoLayer.saveAll"},{"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"score":0,"creation_date":1656314403,"post_id":72730994,"comment_id":128532022,"body_markdown":"Have you enabled asynchronous processing by adding @EnableAsync to your configuration class? [source](https://www.baeldung.com/spring-async) . Also, the new thread will by default open a new db connection, so propagation = REQUIRES_NEW is redundant, unless this method is called from non Async methods as well.","body":"Have you enabled asynchronous processing by adding @EnableAsync to your configuration class? <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">source</a> . Also, the new thread will by default open a new db connection, so propagation = REQUIRES_NEW is redundant, unless this method is called from non Async methods as well."},{"owner":{"account_id":4895224,"reputation":494,"user_id":3945085,"accept_rate":77,"display_name":"Sumit Ghosh"},"score":0,"creation_date":1656338377,"post_id":72730994,"comment_id":128540722,"body_markdown":"yes @EnableAsync is added in project","body":"yes @EnableAsync is added in project"}],"owner":{"account_id":4895224,"reputation":494,"user_id":3945085,"accept_rate":77,"display_name":"Sumit Ghosh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1656057965,"creation_date":1655990793,"question_id":72730994,"body_markdown":"I have a scenario in my project where I need to develop a asynchronous service which will perform some DB update operation from Spring Boot.I am aware that `@Async` always spawn a new thread.So,I am taking following actions:\r\n\r\nI have created two separate Service classes.\r\n\r\n**First Service class** [say Service Class A]\r\n\r\n    @Async\r\n\t@Override\r\n\tpublic Future&lt;MyResponseModel&gt; myMethodForApproval(parameterList) {\r\n\t\tMyResponseModel myResponseModel= new MyResponseModel();\r\n\t\tserviceClassB.performApproval(parameterList); \r\n\t\tmyResponseModel.setStatus(&quot;Success&quot;);\r\n\t\tmyResponseModel.setMessage(&quot;Approval process initiated successfully&quot;);\r\n\t\treturn new AsyncResult&lt;MyResponseModel&gt;(myResponseModel);\r\n\t}\r\n\r\n**In Second service class** [Say Service Class B, actual business logic is written]\r\n\r\n    @Transactional(readOnly = false, propagation = REQUIRES_NEW, rollbackFor = { Throwable.class })\r\n\tpublic void performApproval(parameterList) {\r\n      //all the business logic checking.\r\n      repoLayer.saveAll(myEntities);\r\n   }\r\n\r\n\r\nIn controller Layer:\r\n\r\n    @RequestMapping(value = &quot;/approveProcess&quot;, method = RequestMethod.POST, consumes = { &quot;application/json&quot; })\r\n\tpublic ResponseEntity&lt;MyResponseModel&gt; approveProcess(@RequestBody parameterList) {\r\n        serviceClassA.myMethodForApproval(parameterList);\r\n    }\r\n\r\n\r\nNow exception I am getting\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress","title":"@Async annotation in SpringBoot not saving Data to DB","body":"<p>I have a scenario in my project where I need to develop a asynchronous service which will perform some DB update operation from Spring Boot.I am aware that <code>@Async</code> always spawn a new thread.So,I am taking following actions:</p>\n<p>I have created two separate Service classes.</p>\n<p><strong>First Service class</strong> [say Service Class A]</p>\n<pre><code>@Async\n@Override\npublic Future&lt;MyResponseModel&gt; myMethodForApproval(parameterList) {\n    MyResponseModel myResponseModel= new MyResponseModel();\n    serviceClassB.performApproval(parameterList); \n    myResponseModel.setStatus(&quot;Success&quot;);\n    myResponseModel.setMessage(&quot;Approval process initiated successfully&quot;);\n    return new AsyncResult&lt;MyResponseModel&gt;(myResponseModel);\n}\n</code></pre>\n<p><strong>In Second service class</strong> [Say Service Class B, actual business logic is written]</p>\n<pre><code>@Transactional(readOnly = false, propagation = REQUIRES_NEW, rollbackFor = { Throwable.class })\npublic void performApproval(parameterList) {\n  //all the business logic checking.\n  repoLayer.saveAll(myEntities);\n</code></pre>\n<p>}</p>\n<p>In controller Layer:</p>\n<pre><code>@RequestMapping(value = &quot;/approveProcess&quot;, method = RequestMethod.POST, consumes = { &quot;application/json&quot; })\npublic ResponseEntity&lt;MyResponseModel&gt; approveProcess(@RequestBody parameterList) {\n    serviceClassA.myMethodForApproval(parameterList);\n}\n</code></pre>\n<p>Now exception I am getting</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n</code></pre>\n"},{"tags":["java","mime-types"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658043745,"post_id":72720531,"comment_id":128949755,"body_markdown":"Do any of these options (beside Tika) work? https://stackoverflow.com/questions/7120456/how-to-get-file-type-extension-from-byte-blob","body":"Do any of these options (beside Tika) work? <a href=\"https://stackoverflow.com/questions/7120456/how-to-get-file-type-extension-from-byte-blob\" title=\"how to get file type extension from byte blob\">stackoverflow.com/questions/7120456/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655925509,"creation_date":1655925509,"answer_id":72720935,"question_id":72720531,"body_markdown":"While it might not rely on the file extension in all implementations, it might use it in others. According to Oracle - &quot;The implementation of this method is highly platform specific and is not infallible.&quot;\r\n\r\n&quot;The means by which a file type detector determines the file type is highly implementation specific. A simple implementation might examine the file extension (a convention used in some platforms) and map it to a file type. In other cases, the file type may be stored as a file attribute or the bytes in a file may be examined to guess its file type.&quot; - https://docs.oracle.com/javase/8/docs/api/java/nio/file/spi/FileTypeDetector.html\r\n\r\nYou can try Apache Tika as an alternative, I&#39;ve had good experiences with it - https://tika.apache.org/","title":"Getting the correct MIME type of a file in Java","body":"<p>While it might not rely on the file extension in all implementations, it might use it in others. According to Oracle - &quot;The implementation of this method is highly platform specific and is not infallible.&quot;</p>\n<p>&quot;The means by which a file type detector determines the file type is highly implementation specific. A simple implementation might examine the file extension (a convention used in some platforms) and map it to a file type. In other cases, the file type may be stored as a file attribute or the bytes in a file may be examined to guess its file type.&quot; - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/spi/FileTypeDetector.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/nio/file/spi/FileTypeDetector.html</a></p>\n<p>You can try Apache Tika as an alternative, I've had good experiences with it - <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">https://tika.apache.org/</a></p>\n"}],"owner":{"account_id":4074975,"reputation":732,"user_id":4307149,"display_name":"Ashar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656057746,"creation_date":1655923283,"question_id":72720531,"body_markdown":"I read that Files.probeContentType(path) can be used to get the file type of a file without relying on file extensions. However in my case, if I remove the file type, the function returns the file type &quot;null&quot;. If I attach the correct extension, then I get the type as &quot;image/jpeg&quot;. Can anyone what is going on here or is my understanding of probeContentType not correct? I&#39;m expecting it to return &quot;image/jpeg&quot; irrespective of the fact that it has file extension or not.\r\n\r\nThis is the case where I deliberately removed the extension from the file &quot;Nature.jpg&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/roEek.png\r\n\r\n**Update**\r\nUsing org.apache.tika (v2.4)\r\n\r\n    Tika tika = new Tika();\r\n    String myType = tika.detect(filePath);\r\n\r\nIf the file extension is not present I get the filetype as &quot;application/octet-stream&quot;. The image is originally jpeg so I was expecting it to detect it as an image.","title":"Getting the correct MIME type of a file in Java","body":"<p>I read that Files.probeContentType(path) can be used to get the file type of a file without relying on file extensions. However in my case, if I remove the file type, the function returns the file type &quot;null&quot;. If I attach the correct extension, then I get the type as &quot;image/jpeg&quot;. Can anyone what is going on here or is my understanding of probeContentType not correct? I'm expecting it to return &quot;image/jpeg&quot; irrespective of the fact that it has file extension or not.</p>\n<p>This is the case where I deliberately removed the extension from the file &quot;Nature.jpg&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/roEek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/roEek.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update</strong>\nUsing org.apache.tika (v2.4)</p>\n<pre><code>Tika tika = new Tika();\nString myType = tika.detect(filePath);\n</code></pre>\n<p>If the file extension is not present I get the filetype as &quot;application/octet-stream&quot;. The image is originally jpeg so I was expecting it to detect it as an image.</p>\n"},{"tags":["java","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656054961,"creation_date":1656054961,"answer_id":72740281,"question_id":72740130,"body_markdown":"Instead of:\r\n\r\n    buffer.append(url);\r\n\r\nYou can do as below:\r\n\r\n    buffer.append(&quot;&lt;a href=&quot;\\&quot;+url+ &quot;\\&quot;+&quot;&gt;Click Here&lt;/a&gt;&quot;);\r\n\r\n\r\n","title":"How to pass/append url parameter to all hrefs (links)","body":"<p>Instead of:</p>\n<pre><code>buffer.append(url);\n</code></pre>\n<p>You can do as below:</p>\n<pre><code>buffer.append(&quot;&lt;a href=&quot;\\&quot;+url+ &quot;\\&quot;+&quot;&gt;Click Here&lt;/a&gt;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656057446,"creation_date":1656054967,"answer_id":72740284,"question_id":72740130,"body_markdown":"    buffer.append(&quot;\\n\\nBe sure to activate your account, \r\n                   if you have not yet done so, by clicking on the &quot;);\r\n    buffer.append(&quot;&lt;a href=&#39;&quot; + url + &quot;activateAccount.do?clientId=&quot;+ client.getId());\r\n    buffer.append(&quot;&amp;activationCode=&quot; + client.getActivationCode() + &quot;&#39;&gt;&quot;);\r\n    if (mobileApplicationType != null) {\r\n      buffer.append(&quot;\\&quot;here\\&quot;&quot;);\r\n    }\r\n    buffer.append(&quot;&lt;/a&gt;&quot;);\r\n\r\nThe browsers allows single quote signs for values of attributes so you won&#39;t run into conflicts with quotation signs.","title":"How to pass/append url parameter to all hrefs (links)","body":"<pre><code>buffer.append(&quot;\\n\\nBe sure to activate your account, \n               if you have not yet done so, by clicking on the &quot;);\nbuffer.append(&quot;&lt;a href='&quot; + url + &quot;activateAccount.do?clientId=&quot;+ client.getId());\nbuffer.append(&quot;&amp;activationCode=&quot; + client.getActivationCode() + &quot;'&gt;&quot;);\nif (mobileApplicationType != null) {\n  buffer.append(&quot;\\&quot;here\\&quot;&quot;);\n}\nbuffer.append(&quot;&lt;/a&gt;&quot;);\n</code></pre>\n<p>The browsers allows single quote signs for values of attributes so you won't run into conflicts with quotation signs.</p>\n"}],"owner":{"account_id":25635520,"reputation":1,"user_id":19405172,"display_name":"Daryl Leigh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656057446,"creation_date":1656054104,"question_id":72740130,"body_markdown":"I came across this post and hoping you can help as its similar to what I want to do.\r\n\r\nHere is my code.\r\n\r\n    buffer.append(&quot;\\n\\nBe sure to activate your account, if you have not yet done so, by clicking on the &quot;); \r\n\r\n    a href= \\buffer.append(url).append(&quot;activateAccount.do?clientId=&quot;).append(client.getId()).append(&quot;&amp;activationCode=&quot;).append(client.getActivationCode());\r\n \r\n\r\n    if(mobileApplicationType != null)&gt;&quot;here&quot;\r\n\r\nI would like to have a link &quot;click here&quot; instead of showing the full url.\r\n\r\nHope you can help.\r\n\r\nThanks\r\n","title":"How to pass/append url parameter to all hrefs (links)","body":"<p>I came across this post and hoping you can help as its similar to what I want to do.</p>\n<p>Here is my code.</p>\n<pre><code>buffer.append(&quot;\\n\\nBe sure to activate your account, if you have not yet done so, by clicking on the &quot;); \n\na href= \\buffer.append(url).append(&quot;activateAccount.do?clientId=&quot;).append(client.getId()).append(&quot;&amp;activationCode=&quot;).append(client.getActivationCode());\n\n\nif(mobileApplicationType != null)&gt;&quot;here&quot;\n</code></pre>\n<p>I would like to have a link &quot;click here&quot; instead of showing the full url.</p>\n<p>Hope you can help.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1656057153,"post_id":72740100,"comment_id":128483183,"body_markdown":"You can use `LocalDateTime.of(LocalDate.of(2021,6 , 23), LocalTime.MIDNIGHT)` to effectively search for date. For grouping, you will probably need another field with an `@Converter` which converts from `LocalDateTime` to `LocalDate`","body":"You can use <code>LocalDateTime.of(LocalDate.of(2021,6 , 23), LocalTime.MIDNIGHT)</code> to effectively search for date. For grouping, you will probably need another field with an <code>@Converter</code> which converts from <code>LocalDateTime</code> to <code>LocalDate</code>"}],"answers":[{"tags":[],"owner":{"account_id":11447062,"reputation":82,"user_id":8390588,"display_name":"medgai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656057398,"creation_date":1656054683,"answer_id":72740216,"question_id":72740100,"body_markdown":"Use `@Temporal(TemporalType.TIMESTAMP)` in your entity on your LocalDateTime column.\r\nAnother way you may use methods of `javax.persistence.AttributeConverter` to convert between LocalDate and LocalDateTime.","title":"JPA TypedQuery Type Casting","body":"<p>Use <code>@Temporal(TemporalType.TIMESTAMP)</code> in your entity on your LocalDateTime column.\nAnother way you may use methods of <code>javax.persistence.AttributeConverter</code> to convert between LocalDate and LocalDateTime.</p>\n"}],"owner":{"account_id":16530626,"reputation":3,"user_id":11943977,"display_name":"taner armanc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656057398,"creation_date":1656053929,"question_id":72740100,"body_markdown":"I am trying to write a group by query for a project. My entity has a LocalDateTime in it and it is written as timestamp in database. \r\n\r\nI want to make a selection and group the results by this date only but I couldn&#39;t figure it out to cast it from LocalDateTime to LocalDate. My goal is write the below query in Jpa TypedQuery **without using native query**.\r\n\r\n    SELECT company_id, doctype_id, status, created_at::date as p, count(&quot;id&quot;)\r\n    FROM treareport.eareport.report_header\r\n    WHERE company_id IN (&#39;company1&#39;, &#39;company2&#39;)\r\n      AND created_at BETWEEN &#39;2021-06-23&#39; AND &#39;2022-06-23&#39;\r\n    GROUP BY company_id, doctype_id, status, p\r\n\r\nMy query in project:\r\n\r\n    @Query(&quot;SELECT new net.sampleproject.AnalyticResponseDTO(e.companyId, e.doctypeId, e.status, e.createdAt, COUNT(e)) &quot; +\r\n            &quot;FROM ReportHeader e &quot; +\r\n            &quot;WHERE e.companyId IN :companyList &quot; +\r\n            &quot;AND e.createdAt BETWEEN :start AND :end &quot; +\r\n            &quot;GROUP BY e.companyId,  e.createdAt, e.doctypeId, e.status&quot;)\r\n    List&lt;AnalyticResponseDTO&gt; analyticQuery(List&lt;String&gt; companyList, LocalDate start, LocalDate end);","title":"JPA TypedQuery Type Casting","body":"<p>I am trying to write a group by query for a project. My entity has a LocalDateTime in it and it is written as timestamp in database.</p>\n<p>I want to make a selection and group the results by this date only but I couldn't figure it out to cast it from LocalDateTime to LocalDate. My goal is write the below query in Jpa TypedQuery <strong>without using native query</strong>.</p>\n<pre><code>SELECT company_id, doctype_id, status, created_at::date as p, count(&quot;id&quot;)\nFROM treareport.eareport.report_header\nWHERE company_id IN ('company1', 'company2')\n  AND created_at BETWEEN '2021-06-23' AND '2022-06-23'\nGROUP BY company_id, doctype_id, status, p\n</code></pre>\n<p>My query in project:</p>\n<pre><code>@Query(&quot;SELECT new net.sampleproject.AnalyticResponseDTO(e.companyId, e.doctypeId, e.status, e.createdAt, COUNT(e)) &quot; +\n        &quot;FROM ReportHeader e &quot; +\n        &quot;WHERE e.companyId IN :companyList &quot; +\n        &quot;AND e.createdAt BETWEEN :start AND :end &quot; +\n        &quot;GROUP BY e.companyId,  e.createdAt, e.doctypeId, e.status&quot;)\nList&lt;AnalyticResponseDTO&gt; analyticQuery(List&lt;String&gt; companyList, LocalDate start, LocalDate end);\n</code></pre>\n"},{"tags":["java","android","text","formatting","logic"],"comments":[{"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"score":0,"creation_date":1633850750,"post_id":69504155,"comment_id":122866651,"body_markdown":"Please try to use regex , this is for Java SE8 (https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)","body":"Please try to use regex , this is for Java SE8 (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.h&zwnj;&#8203;tml</a>)"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633786959,"creation_date":1633764968,"answer_id":69504687,"question_id":69504155,"body_markdown":"You can use [`StyleSpan`][1] to bold the **starred** parts of text.\r\n\r\n**Here is the procedure:**\r\n\r\n 1. Create a regex to get the text surrounded between two stars.\r\n\r\n     Here it is: `&quot;\\\\*(.*?)\\\\*&quot;`\r\n 2. Get the matcher on your message text that matches the regex from step 1\r\n\r\n    `Pattern.compile(&quot;\\\\*(.*?)\\\\*&quot;).matcher(text)`\r\n\r\n 3. Iterate over the matcher and use [`StyleSpan`][1] to bold the matched groups; but the problem that you need to remove the starts before adding the spans, and this will cause `IndexOutOfBoundsException` if you usede the matcher indices; so, we&#39;ll add a counter that counts for every start, and decrease the matcher indices by this counter.\r\n\r\n 4. Set the bold spans using [`setSpan()`][2]\r\n\r\n\r\n**The code is demonstrated comments:**\r\n\r\n```\r\nprivate Matcher getMatchedStars(String text) {\r\n    // matching start &amp; end stars with a regex\r\n    return Pattern.compile(&quot;\\\\*(.*?)\\\\*&quot;).matcher(text);\r\n}\r\n\r\nprivate Spannable getBolded(String text, Matcher matcher) {\r\n\r\n    // Remove the starts from the text\r\n    String noStarText = text.replace(&quot;*&quot;, &quot;&quot;);\r\n\r\n    // Create the Spannable from the no start text\r\n    Spannable spannable = new SpannableString(noStarText);\r\n\r\n    // count represents the current no. of removed stars\r\n    int count = 1;\r\n\r\n    // Iterate over the matched bolded text\r\n    while (matcher.find()) {\r\n        spannable.setSpan(new StyleSpan(BOLD),\r\n                matcher.start() - count, // remove all previous stars from the start index\r\n                matcher.end() - count - 1, // remove all previous stars from the end index\r\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        count += 2; // Add 2 to remove 2 stars from the current iteration (i.e. a complete bolded text is finished)\r\n    }\r\n    return spannable;\r\n}\r\n```\r\n\r\n**Testing:**\r\n\r\n```\r\nTextView tv = findViewById(R.id.my_textview);\r\nString text = &quot;Hello *Java* But here is *Android*, \\n wait it&#39;s *Kotlin*&quot;;\r\nSpannable spannable = getBolded(text, getMatchedStars(text));\r\ntv.setText(spannable);\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/text/style/StyleSpan\r\n  [2]: https://developer.android.com/reference/android/text/Spannable#setSpan(java.lang.Object,%20int,%20int,%20int)\r\n  [3]: https://i.stack.imgur.com/7qbDN.png","title":"How to replace text surrounded with stars with bolded text in my message","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/text/style/StyleSpan\" rel=\"nofollow noreferrer\"><code>StyleSpan</code></a> to bold the <strong>starred</strong> parts of text.</p>\n<p><strong>Here is the procedure:</strong></p>\n<ol>\n<li><p>Create a regex to get the text surrounded between two stars.</p>\n<p>Here it is: <code>&quot;\\\\*(.*?)\\\\*&quot;</code></p>\n</li>\n<li><p>Get the matcher on your message text that matches the regex from step 1</p>\n<p><code>Pattern.compile(&quot;\\\\*(.*?)\\\\*&quot;).matcher(text)</code></p>\n</li>\n<li><p>Iterate over the matcher and use <a href=\"https://developer.android.com/reference/android/text/style/StyleSpan\" rel=\"nofollow noreferrer\"><code>StyleSpan</code></a> to bold the matched groups; but the problem that you need to remove the starts before adding the spans, and this will cause <code>IndexOutOfBoundsException</code> if you usede the matcher indices; so, we'll add a counter that counts for every start, and decrease the matcher indices by this counter.</p>\n</li>\n<li><p>Set the bold spans using <a href=\"https://developer.android.com/reference/android/text/Spannable#setSpan(java.lang.Object,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>setSpan()</code></a></p>\n</li>\n</ol>\n<p><strong>The code is demonstrated comments:</strong></p>\n<pre><code>private Matcher getMatchedStars(String text) {\n    // matching start &amp; end stars with a regex\n    return Pattern.compile(&quot;\\\\*(.*?)\\\\*&quot;).matcher(text);\n}\n\nprivate Spannable getBolded(String text, Matcher matcher) {\n\n    // Remove the starts from the text\n    String noStarText = text.replace(&quot;*&quot;, &quot;&quot;);\n\n    // Create the Spannable from the no start text\n    Spannable spannable = new SpannableString(noStarText);\n\n    // count represents the current no. of removed stars\n    int count = 1;\n\n    // Iterate over the matched bolded text\n    while (matcher.find()) {\n        spannable.setSpan(new StyleSpan(BOLD),\n                matcher.start() - count, // remove all previous stars from the start index\n                matcher.end() - count - 1, // remove all previous stars from the end index\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n        count += 2; // Add 2 to remove 2 stars from the current iteration (i.e. a complete bolded text is finished)\n    }\n    return spannable;\n}\n</code></pre>\n<p><strong>Testing:</strong></p>\n<pre><code>TextView tv = findViewById(R.id.my_textview);\nString text = &quot;Hello *Java* But here is *Android*, \\n wait it's *Kotlin*&quot;;\nSpannable spannable = getBolded(text, getMatchedStars(text));\ntv.setText(spannable);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7qbDN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7qbDN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21741008,"reputation":31,"user_id":16048380,"display_name":"Hrithik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633768037,"creation_date":1633767439,"answer_id":69504951,"question_id":69504155,"body_markdown":"#### You can proceed with this approach:\r\nSimply replace pairs of * with `&lt;b&gt; &lt;/b&gt;` tags and then use `Html.fromHtml(message)` to make the message bold wherever user typed the message between pair of *\r\n\r\nLike this:&lt;br/&gt;\r\nlet message = &quot;\\*This is bold\\* and this is not *&quot;&lt;br/&gt;\r\nthen change message = &quot;\\&lt;b&gt;This is bold\\&lt;/b&gt; and this is not *&quot;\r\n\r\n**You can use this code for replacement**\r\n```java\r\n\r\n        // Let the message typed by the user is this\r\n        String msg = &quot;Hello friends, *This is the bold text* and this is not but *this is also bold* ** *&quot;;\r\n\r\n        /**\r\n         * @params firstIndex = index of the first * of the pair we are looking in the msg string\r\n         *         secondIndex = index of the second * of the pair\r\n         *         pairCount = to help us acknowledge that the pair *, we are looking for, is ready\r\n         */\r\n        int firstIndex = 0, secondIndex = 0, pairCount = 0;\r\n\r\n        int i = 0;\r\n        while (true){\r\n\r\n            char c = msg.charAt(i);\r\n\r\n            if (c == &#39;*&#39;){\r\n                if (pairCount == 0) {\r\n                    pairCount += 1;\r\n                    firstIndex = i;\r\n                }\r\n                else if (pairCount == 1) {\r\n                    pairCount += 1;\r\n                    secondIndex = i;\r\n                }\r\n            }\r\n\r\n            if (pairCount == 2){\r\n\r\n                // replacing first * with &lt;b&gt;\r\n                msg = msg.substring(0,firstIndex) + &quot;&lt;b&gt;&quot; + msg.substring(firstIndex+1);\r\n\r\n\r\n                // replacing second * with &lt;/b&gt;\r\n                // increasing secondIndex by 2\r\n                // because length of &quot;msg&quot; is increased by 2\r\n                // after replacing &lt;b&gt; with *\r\n                secondIndex += 2;\r\n                msg = msg.substring(0,secondIndex) + &quot;&lt;/b&gt;&quot; + msg.substring(secondIndex+1);\r\n\r\n\r\n                // changing pair count to 0 as we have replaced the * pair\r\n                // and are looking for new pair\r\n                pairCount = 0;\r\n\r\n\r\n                // Increasing i value to 5 because we have added &lt;b&gt; and &lt;/b&gt; (total length = 7)\r\n                // on replacement of * pairs (total length = 2)\r\n                // 7 - 2 = 5\r\n                i += 5;\r\n\r\n            }\r\n\r\n            i += 1;\r\n\r\n            if (i &gt;= msg.length()) break;\r\n        }\r\n\r\n\r\n        // Set the text to the TextView using Html \r\n        TextView tv = findViewById(R.id.your_textview_id);\r\n        tv.setText(Html.fromHtml(msg));\r\n\r\n```\r\n**Result**\r\n[![bold text example][1]][1]\r\n\r\nHope this helps &#128591; \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tI8sy.jpg","title":"How to replace text surrounded with stars with bolded text in my message","body":"<h4>You can proceed with this approach:</h4>\n<p>Simply replace pairs of * with <code>&lt;b&gt; &lt;/b&gt;</code> tags and then use <code>Html.fromHtml(message)</code> to make the message bold wherever user typed the message between pair of *</p>\n<p>Like this:<br/>\nlet message = &quot;*This is bold* and this is not *&quot;<br/>\nthen change message = &quot;&lt;b&gt;This is bold&lt;/b&gt; and this is not *&quot;</p>\n<p><strong>You can use this code for replacement</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        // Let the message typed by the user is this\n        String msg = &quot;Hello friends, *This is the bold text* and this is not but *this is also bold* ** *&quot;;\n\n        /**\n         * @params firstIndex = index of the first * of the pair we are looking in the msg string\n         *         secondIndex = index of the second * of the pair\n         *         pairCount = to help us acknowledge that the pair *, we are looking for, is ready\n         */\n        int firstIndex = 0, secondIndex = 0, pairCount = 0;\n\n        int i = 0;\n        while (true){\n\n            char c = msg.charAt(i);\n\n            if (c == '*'){\n                if (pairCount == 0) {\n                    pairCount += 1;\n                    firstIndex = i;\n                }\n                else if (pairCount == 1) {\n                    pairCount += 1;\n                    secondIndex = i;\n                }\n            }\n\n            if (pairCount == 2){\n\n                // replacing first * with &lt;b&gt;\n                msg = msg.substring(0,firstIndex) + &quot;&lt;b&gt;&quot; + msg.substring(firstIndex+1);\n\n\n                // replacing second * with &lt;/b&gt;\n                // increasing secondIndex by 2\n                // because length of &quot;msg&quot; is increased by 2\n                // after replacing &lt;b&gt; with *\n                secondIndex += 2;\n                msg = msg.substring(0,secondIndex) + &quot;&lt;/b&gt;&quot; + msg.substring(secondIndex+1);\n\n\n                // changing pair count to 0 as we have replaced the * pair\n                // and are looking for new pair\n                pairCount = 0;\n\n\n                // Increasing i value to 5 because we have added &lt;b&gt; and &lt;/b&gt; (total length = 7)\n                // on replacement of * pairs (total length = 2)\n                // 7 - 2 = 5\n                i += 5;\n\n            }\n\n            i += 1;\n\n            if (i &gt;= msg.length()) break;\n        }\n\n\n        // Set the text to the TextView using Html \n        TextView tv = findViewById(R.id.your_textview_id);\n        tv.setText(Html.fromHtml(msg));\n\n</code></pre>\n<p><strong>Result</strong>\n<a href=\"https://i.stack.imgur.com/tI8sy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tI8sy.jpg\" alt=\"bold text example\" /></a></p>\n<p>Hope this helps 🙏</p>\n"},{"tags":[],"owner":{"account_id":1533990,"reputation":29,"user_id":1430499,"display_name":"Harsh Chhabra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656057177,"creation_date":1656057177,"answer_id":72740693,"question_id":69504155,"body_markdown":"There are further problems in @Hritik&#39;s solution. \r\n1. Tab chars and next line chars are ignored in the above solution, which I fixed using the following \r\n\r\n    msg.toString().replace(&quot;\\n&quot;,&quot;&lt;br&gt;&quot;)\r\n        .replace(&quot;\\t&quot;,&quot;&amp;nbsp;&quot;).replace(&quot; &quot;,&quot;&amp;nbsp;&quot;)\r\n2. It is breaking words. For example, it is showing StackOverflow as stac\r\n   overflow.\r\n   Any idea how to fix word break in HTML.fromHtml()?\r\n","title":"How to replace text surrounded with stars with bolded text in my message","body":"<p>There are further problems in @Hritik's solution.</p>\n<ol>\n<li><p>Tab chars and next line chars are ignored in the above solution, which I fixed using the following</p>\n<p>msg.toString().replace(&quot;\\n&quot;,&quot;<br>&quot;)\n.replace(&quot;\\t&quot;,&quot; &quot;).replace(&quot; &quot;,&quot; &quot;)</p>\n</li>\n<li><p>It is breaking words. For example, it is showing StackOverflow as stac\noverflow.\nAny idea how to fix word break in HTML.fromHtml()?</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user16752070"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69504951,"answer_count":3,"score":-1,"last_activity_date":1656057177,"creation_date":1633759264,"question_id":69504155,"body_markdown":"I am making a chat app and I want to add a feature which if the user types text between two stars (*) , the text between the two stars **bold**. \r\n \r\nFor example if the user types the messages as `*this is bold* and this is not`,the message between stars is bold and the message outside if not bold. \r\n\r\nI am unable to get the logic to do it. The code I have currently written is :\r\n\r\n````java\r\n    String[] boldChecker = chatMessage.message.split(&quot;\\\\*&quot;);\r\n                for (int i = 0; boldChecker.length &gt; i ; i++){\r\n                    if ((i % 2) == 0) {\r\n                        //is even and not bold\r\n                        Log.d(&quot;boldArea - No&quot;,boldChecker[i]);\r\n                    } else {\r\n                        //is odd and bold\r\n                        Log.d(&quot;boldArea - Yes&quot;,boldChecker[i]);\r\n                    }\r\n                }\r\n````\r\n\r\nHere `chatmessage.message` is the message typed by the user. The only thing I know is that to set the text to bold, I need to use `html.fromHtml(&lt;b&gt;bold text&lt;/b&gt;)`.  \r\n\r\n","title":"How to replace text surrounded with stars with bolded text in my message","body":"<p>I am making a chat app and I want to add a feature which if the user types text between two stars (*) , the text between the two stars <strong>bold</strong>.</p>\n<p>For example if the user types the messages as <code>*this is bold* and this is not</code>,the message between stars is bold and the message outside if not bold.</p>\n<p>I am unable to get the logic to do it. The code I have currently written is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String[] boldChecker = chatMessage.message.split(&quot;\\\\*&quot;);\n                for (int i = 0; boldChecker.length &gt; i ; i++){\n                    if ((i % 2) == 0) {\n                        //is even and not bold\n                        Log.d(&quot;boldArea - No&quot;,boldChecker[i]);\n                    } else {\n                        //is odd and bold\n                        Log.d(&quot;boldArea - Yes&quot;,boldChecker[i]);\n                    }\n                }\n</code></pre>\n<p>Here <code>chatmessage.message</code> is the message typed by the user. The only thing I know is that to set the text to bold, I need to use <code>html.fromHtml(&lt;b&gt;bold text&lt;/b&gt;)</code>.</p>\n"},{"tags":["java","class","operator-overloading","wrapper"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1656056019,"post_id":72740474,"comment_id":128482850,"body_markdown":"It is syntactic sugar.  The `Integer` is being unboxed to a primitive `int`, and then the `++` is applied that that, with the result being stored again in an `Integer`.","body":"It is syntactic sugar.  The <code>Integer</code> is being unboxed to a primitive <code>int</code>, and then the <code>++</code> is applied that that, with the result being stored again in an <code>Integer</code>."},{"owner":{"account_id":37871,"reputation":917,"user_id":108403,"display_name":"Willem"},"score":0,"creation_date":1656056219,"post_id":72740474,"comment_id":128482900,"body_markdown":"Elaborate on what you mean by &quot;support operator overloading&quot;.  Clearly Java &quot;has operators&quot;, but can they be overloaded?","body":"Elaborate on what you mean by &quot;support operator overloading&quot;.  Clearly Java &quot;has operators&quot;, but can they be overloaded?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1656057804,"post_id":72740474,"comment_id":128483427,"body_markdown":"the compiler (OpenJDK 18) *translates* it to byte code representing `Integer.valueOf(i.intValue() + 1)`, exactly as you posted","body":"the compiler (OpenJDK 18) <i>translates</i> it to byte code representing <code>Integer.valueOf(i.intValue() + 1)</code>, exactly as you posted"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656064609,"post_id":72740474,"comment_id":128485816,"body_markdown":"Of course, Java *has* overloaded operators. Most notably, `+` works on integers, floating point values, and even strings. What Java doesn’t support, is adding custom overloads. Applying operators on wrapper types, is a distraction, as unwrapping and rewrapping isn’t overloading at all, however, as said at the beginning, overloaded operators exists.","body":"Of course, Java <i>has</i> overloaded operators. Most notably, <code>+</code> works on integers, floating point values, and even strings. What Java doesn’t support, is adding custom overloads. Applying operators on wrapper types, is a distraction, as unwrapping and rewrapping isn’t overloading at all, however, as said at the beginning, overloaded operators exists."}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656056864,"answer_count":0,"score":0,"last_activity_date":1656056999,"creation_date":1656055950,"question_id":72740474,"body_markdown":"E.g, we can:\r\n```\r\nInteger i = 2;\r\n++i;\r\n// now i = 3\r\n```\r\nWe know that Integer is a raw wrapper type that&#39;s immutable like string, so ```++i``` actually will construct a new Integer object, right? So ```++i``` could be equal to ```i = Integer.valueOf(i.intValue() + 1)```\r\n\r\nQuestion:\r\n\r\nIf java doesn&#39;t support operator overloading of ```++``` like C++ language, then how &quot;++i&quot; is compiled and run? Is it just a form of syntax sugar?","title":"If Java doesn&#39;t support operator overloading, then how Integer class could support &quot;++&quot;?","body":"<p>E.g, we can:</p>\n<pre><code>Integer i = 2;\n++i;\n// now i = 3\n</code></pre>\n<p>We know that Integer is a raw wrapper type that's immutable like string, so <code>++i</code> actually will construct a new Integer object, right? So <code>++i</code> could be equal to <code>i = Integer.valueOf(i.intValue() + 1)</code></p>\n<p>Question:</p>\n<p>If java doesn't support operator overloading of <code>++</code> like C++ language, then how &quot;++i&quot; is compiled and run? Is it just a form of syntax sugar?</p>\n"},{"tags":["java","mysql","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656056631,"creation_date":1656056631,"answer_id":72740594,"question_id":72740510,"body_markdown":"Authentication in Spring Boot is a big topic on its own, but there exists really good tutorials on the internet for it. In general, [baeldung.com][1] has some of the best tutorials on Spring Boot (and other Java stuff), in my opinion. There is a whole collection of articles about security, including login and registration.\r\n\r\nTake a look here: https://www.baeldung.com/security-spring\r\n\r\n\r\n  [1]: https://www.baeldung.com","title":"How to do login with Spring MVC &amp; Hibernate?","body":"<p>Authentication in Spring Boot is a big topic on its own, but there exists really good tutorials on the internet for it. In general, <a href=\"https://www.baeldung.com\" rel=\"nofollow noreferrer\">baeldung.com</a> has some of the best tutorials on Spring Boot (and other Java stuff), in my opinion. There is a whole collection of articles about security, including login and registration.</p>\n<p>Take a look here: <a href=\"https://www.baeldung.com/security-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/security-spring</a></p>\n"}],"owner":{"account_id":13661357,"reputation":1,"user_id":9856308,"display_name":"Ramzan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656056631,"creation_date":1656056150,"question_id":72740510,"body_markdown":"I am creating a simple login &amp; registration project with spring mvc &amp; hibernate but not known how to read data from data base with hibernate &amp; mySQL for login process only, could anyone help me out on this?","title":"How to do login with Spring MVC &amp; Hibernate?","body":"<p>I am creating a simple login &amp; registration project with spring mvc &amp; hibernate but not known how to read data from data base with hibernate &amp; mySQL for login process only, could anyone help me out on this?</p>\n"},{"tags":["java","android","android-camerax"],"owner":{"account_id":16998728,"reputation":451,"user_id":12296586,"display_name":"Frederik Petri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656056573,"creation_date":1656056573,"question_id":72740581,"body_markdown":"Is it possible to get a callback for every second or frame recorded using `androidx.camera.core.VideoCapture`?\r\n\r\nFor now I can start a runnable at the `videoCapture.startRecording` callback, but it is not 100% precise. I need to save som data that should be synchronized with the video so its necessary that the video and data is aligned in time.\r\n\r\nMy code so far: \r\n\r\n    videoCapture.startRecording(\r\n        new VideoCapture.OutputFileOptions.Builder(currentVideo).build(),\r\n        getExecutor(),\r\n        new VideoCapture.OnVideoSavedCallback() {\r\n            @Override\r\n            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                Log.i(TAG,&quot;Recording ended&quot;);\r\n            }\r\n            @Override\r\n            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n            }\r\n        }\r\n    );\r\n\r\n    Log.i(TAG,&quot;Recording started&quot;);\r\n\r\n    Handler handler = new Handler(Looper.getMainLooper());\r\n    final Runnable everySecond = new Runnable() {\r\n        public void run() {\r\n            handler.postDelayed(this, 1000);\r\n            Log.i(TAG,&quot;Tick&quot;);\r\n        }\r\n    };\r\n    handler.postDelayed(everySecond, 0);","title":"How to get callback from AndroidX VideoCapture for every second recorded","body":"<p>Is it possible to get a callback for every second or frame recorded using <code>androidx.camera.core.VideoCapture</code>?</p>\n<p>For now I can start a runnable at the <code>videoCapture.startRecording</code> callback, but it is not 100% precise. I need to save som data that should be synchronized with the video so its necessary that the video and data is aligned in time.</p>\n<p>My code so far:</p>\n<pre><code>videoCapture.startRecording(\n    new VideoCapture.OutputFileOptions.Builder(currentVideo).build(),\n    getExecutor(),\n    new VideoCapture.OnVideoSavedCallback() {\n        @Override\n        public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n            Log.i(TAG,&quot;Recording ended&quot;);\n        }\n        @Override\n        public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n        }\n    }\n);\n\nLog.i(TAG,&quot;Recording started&quot;);\n\nHandler handler = new Handler(Looper.getMainLooper());\nfinal Runnable everySecond = new Runnable() {\n    public void run() {\n        handler.postDelayed(this, 1000);\n        Log.i(TAG,&quot;Tick&quot;);\n    }\n};\nhandler.postDelayed(everySecond, 0);\n</code></pre>\n"},{"tags":["java","selenium","automation","testng"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1494398821,"post_id":43885098,"comment_id":74804879,"body_markdown":"Use a factory to create separate tests. Create a for loop and return an object array of test objects... http://testng.org/doc/documentation-main.html#factories","body":"Use a factory to create separate tests. Create a for loop and return an object array of test objects... <a href=\"http://testng.org/doc/documentation-main.html#factories\" rel=\"nofollow noreferrer\">testng.org/doc/documentation-main.html#factories</a>"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1494404137,"post_id":43885098,"comment_id":74808089,"body_markdown":"@Grasshopper I can see you coming up with brilliant ideas why don&#39;t you convert those `Comments` into `Answers` :) Thanks","body":"@Grasshopper I can see you coming up with brilliant ideas why don&#39;t you convert those <code>Comments</code> into <code>Answers</code> :) Thanks"}],"owner":{"account_id":9242571,"reputation":1364,"user_id":6865465,"accept_rate":64,"display_name":"Anton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656056568,"creation_date":1494398019,"question_id":43885098,"body_markdown":"I know about `invocationCount=10` parameter of the `@Test` annotation.\r\n\r\nBut the problem is - if one of my tests fails, then all the rest of the tests fail as well.\r\nHow I can run same `@Test` 10 times (including `BeforeClass` and `AfterClass`) for every run.\r\nDoes every run start as a new run in this case?\r\n\r\nBecause otherwise if I do `invocationCount=100`, and if fails at 5th test, then it will fail all the rest 95 tests. ","title":"How can I loop same TestNG test multiple times (including BeforeClass and AfterClass)","body":"<p>I know about <code>invocationCount=10</code> parameter of the <code>@Test</code> annotation.</p>\n<p>But the problem is - if one of my tests fails, then all the rest of the tests fail as well.\nHow I can run same <code>@Test</code> 10 times (including <code>BeforeClass</code> and <code>AfterClass</code>) for every run.\nDoes every run start as a new run in this case?</p>\n<p>Because otherwise if I do <code>invocationCount=100</code>, and if fails at 5th test, then it will fail all the rest 95 tests.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648462630,"post_id":71635327,"comment_id":126621558,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"tags":[],"owner":{"account_id":25034091,"reputation":76,"user_id":18891632,"display_name":"Jamoliddin Sharipov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656056382,"creation_date":1655985316,"answer_id":72729751,"question_id":71635327,"body_markdown":"If you use Jetpack Compose, then you could use DisposableEffect to clean up the Exoplayer after using it: ![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z8Hqd.png","title":"Can&#39;t play video with exoplayer on recycler view","body":"<p>If you use Jetpack Compose, then you could use DisposableEffect to clean up the Exoplayer after using it: <img src=\"https://i.stack.imgur.com/z8Hqd.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":25034091,"reputation":76,"user_id":18891632,"display_name":"Jamoliddin Sharipov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655986665,"creation_date":1655986665,"answer_id":72730039,"question_id":71635327,"body_markdown":"This is due to the creation of many exoplayer instances and the RAM will run out at some time. To do this, after the end of the video, you need to clear the exoplayer. I used Jetpack Compose and ExoPlayer and the code looks like this:\r\n\r\n\r\n```\r\nDisposableEffect(\r\n                AndroidView(\r\n                    factory = { context -&gt;\r\n                        PlayerView(context).apply {\r\n                            player = exoPlayer\r\n                            player?.playWhenReady = true\r\n                            resizeMode = AspectRatioFrameLayout.RESIZE_MODE_FILL\r\n                            useController = true\r\n                        }\r\n                    }\r\n                )\r\n            ){\r\n                onDispose {\r\n                    exoPlayer.release()\r\n                }\r\n            }\r\n```\r\n\r\n\r\n## ExoPlayer ##\r\n```\r\nval mediaItem = MediaItem.fromUri(Uri.parse(URL)) \r\n val exoPlayer = remember(context) {\r\n                ExoPlayer.Builder(context).build().apply {\r\n\r\n                    addListener(object : Listener {\r\n                        override fun onPlaybackStateChanged(playbackState: Int) {\r\n                            if (playbackState == STATE_ENDED) {\r\n                                //TODO\r\n                            }\r\n                            super.onPlaybackStateChanged(playbackState)\r\n                        }\r\n\r\n                        override fun onPlayerError(error: PlaybackException) {\r\n                            Log.d(&quot;TAG&quot;, &quot;onPlayerError: ${error.message}&quot;)\r\n                            super.onPlayerError(error)\r\n                        }\r\n                    })\r\n\r\n\r\n                    setMediaSource(\r\n                        ProgressiveMediaSource.Factory(dataSourceFactory)\r\n                            .createMediaSource(mediaItem) \r\n                    )\r\n                    prepare()\r\n                    seekTo(0)\r\n                    playbackDuration?.let(::seekTo)\r\n                }\r\n            } \r\n```","title":"Can&#39;t play video with exoplayer on recycler view","body":"<p>This is due to the creation of many exoplayer instances and the RAM will run out at some time. To do this, after the end of the video, you need to clear the exoplayer. I used Jetpack Compose and ExoPlayer and the code looks like this:</p>\n<pre><code>DisposableEffect(\n                AndroidView(\n                    factory = { context -&gt;\n                        PlayerView(context).apply {\n                            player = exoPlayer\n                            player?.playWhenReady = true\n                            resizeMode = AspectRatioFrameLayout.RESIZE_MODE_FILL\n                            useController = true\n                        }\n                    }\n                )\n            ){\n                onDispose {\n                    exoPlayer.release()\n                }\n            }\n</code></pre>\n<h2>ExoPlayer</h2>\n<pre><code>val mediaItem = MediaItem.fromUri(Uri.parse(URL)) \n val exoPlayer = remember(context) {\n                ExoPlayer.Builder(context).build().apply {\n\n                    addListener(object : Listener {\n                        override fun onPlaybackStateChanged(playbackState: Int) {\n                            if (playbackState == STATE_ENDED) {\n                                //TODO\n                            }\n                            super.onPlaybackStateChanged(playbackState)\n                        }\n\n                        override fun onPlayerError(error: PlaybackException) {\n                            Log.d(&quot;TAG&quot;, &quot;onPlayerError: ${error.message}&quot;)\n                            super.onPlayerError(error)\n                        }\n                    })\n\n\n                    setMediaSource(\n                        ProgressiveMediaSource.Factory(dataSourceFactory)\n                            .createMediaSource(mediaItem) \n                    )\n                    prepare()\n                    seekTo(0)\n                    playbackDuration?.let(::seekTo)\n                }\n            } \n</code></pre>\n"}],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72729751,"answer_count":2,"score":2,"last_activity_date":1656056382,"creation_date":1648375098,"question_id":71635327,"body_markdown":"I&#39;m loading some videos from firebase storage with ExoPlayer inside my RecyclerView but for some reason when I scroll to the bottom of the RecyclerView (and probably the item with the player are being destroyed) and I go up again the video does not play and I&#39;m getting this error below:\r\n\r\n**Error:**\r\n\r\n    2022-03-27 12:24:53.519 8762-11091/com.george.socialmeme E/ACodec: Unable to instantiate codec &#39;OMX.MTK.VIDEO.DECODER.AVC&#39; with err 0xfffffff4.\r\n    2022-03-27 12:24:53.519 8762-11091/com.george.socialmeme E/ACodec: signalError(omxError 0xfffffff4, internalError -12)\r\n    2022-03-27 12:24:53.519 8762-11090/com.george.socialmeme E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1\r\n    2022-03-27 12:24:53.578 8762-11093/com.george.socialmeme E/ACodec: Unable to instantiate codec &#39;OMX.MTK.VIDEO.DECODER.AVC&#39; with err 0xfffffff4.\r\n    2022-03-27 12:24:53.578 8762-11093/com.george.socialmeme E/ACodec: signalError(omxError 0xfffffff4, internalError -12)\r\n    2022-03-27 12:24:53.578 8762-11092/com.george.socialmeme E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1\r\n    2022-03-27 12:24:53.584 8762-11044/com.george.socialmeme E/MediaCodecVideoRenderer: Video codec error\r\n          com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1])\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1017)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)\r\n            at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:246)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n         Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4\r\n            at android.media.MediaCodec.native_setup(Native Method)\r\n            at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1912)\r\n            at android.media.MediaCodec.createByCodecName(MediaCodec.java:1890)\r\n            at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createCodec(SynchronousMediaCodecAdapter.java:74)\r\n            at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createAdapter(SynchronousMediaCodecAdapter.java:49)\r\n            at com.google.android.exoplayer2.mediacodec.DefaultMediaCodecAdapterFactory.createAdapter(DefaultMediaCodecAdapterFactory.java:130)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.initCodec(MediaCodecRenderer.java:1095)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1006)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)&#160;\r\n            at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)&#160;\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)&#160;\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:246)&#160;\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n    2022-03-27 12:24:53.587 8762-11044/com.george.socialmeme E/ExoPlayerImplInternal: Playback error\r\n          com.google.android.exoplayer2.ExoPlaybackException: MediaCodecVideoRenderer error, index=0, format=Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1]), format_supported=YES\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:575)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:246)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n         Caused by: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1])\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1017)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)\r\n            at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:246)&#160;\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n         Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4\r\n            at android.media.MediaCodec.native_setup(Native Method)\r\n            at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1912)\r\n            at android.media.MediaCodec.createByCodecName(MediaCodec.java:1890)\r\n            at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createCodec(SynchronousMediaCodecAdapter.java:74)\r\n            at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createAdapter(SynchronousMediaCodecAdapter.java:49)\r\n            at com.google.android.exoplayer2.mediacodec.DefaultMediaCodecAdapterFactory.createAdapter(DefaultMediaCodecAdapterFactory.java:130)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.initCodec(MediaCodecRenderer.java:1095)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1006)\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)&#160;\r\n            at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)&#160;\r\n            at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)&#160;\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)&#160;\r\n            at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:246)&#160;\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n\r\n**Code for ExoPlayer inside my adapter:**\r\n\r\n    ExoPlayer player = new ExoPlayer.Builder(context).build();\r\n    MediaItem mediaItem = MediaItem.fromUri(postList.get(position).getVideoUrl());\r\n    player.setMediaItem(mediaItem);\r\n    player.prepare();\r\n    videoViewHolder.andExoPlayerView.setPlayer(player);\r\n\r\n    player.addAnalyticsListener(new AnalyticsListener() {\r\n\r\n        @Override\r\n        public void onPlayerError(@NonNull EventTime eventTime, @NonNull PlaybackException error) {\r\n            Toast.makeText(context, &quot;&quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\n","title":"Can&#39;t play video with exoplayer on recycler view","body":"<p>I'm loading some videos from firebase storage with ExoPlayer inside my RecyclerView but for some reason when I scroll to the bottom of the RecyclerView (and probably the item with the player are being destroyed) and I go up again the video does not play and I'm getting this error below:</p>\n<p><strong>Error:</strong></p>\n<pre><code>2022-03-27 12:24:53.519 8762-11091/com.george.socialmeme E/ACodec: Unable to instantiate codec 'OMX.MTK.VIDEO.DECODER.AVC' with err 0xfffffff4.\n2022-03-27 12:24:53.519 8762-11091/com.george.socialmeme E/ACodec: signalError(omxError 0xfffffff4, internalError -12)\n2022-03-27 12:24:53.519 8762-11090/com.george.socialmeme E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1\n2022-03-27 12:24:53.578 8762-11093/com.george.socialmeme E/ACodec: Unable to instantiate codec 'OMX.MTK.VIDEO.DECODER.AVC' with err 0xfffffff4.\n2022-03-27 12:24:53.578 8762-11093/com.george.socialmeme E/ACodec: signalError(omxError 0xfffffff4, internalError -12)\n2022-03-27 12:24:53.578 8762-11092/com.george.socialmeme E/MediaCodec: Codec reported err 0xfffffff4, actionCode 0, while in state 1\n2022-03-27 12:24:53.584 8762-11044/com.george.socialmeme E/MediaCodecVideoRenderer: Video codec error\n      com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1])\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1017)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)\n        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)\n        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)\n        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4\n        at android.media.MediaCodec.native_setup(Native Method)\n        at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1912)\n        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1890)\n        at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createCodec(SynchronousMediaCodecAdapter.java:74)\n        at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createAdapter(SynchronousMediaCodecAdapter.java:49)\n        at com.google.android.exoplayer2.mediacodec.DefaultMediaCodecAdapterFactory.createAdapter(DefaultMediaCodecAdapterFactory.java:130)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.initCodec(MediaCodecRenderer.java:1095)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1006)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437) \n        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779) \n        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998) \n        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:246) \n        at android.os.HandlerThread.run(HandlerThread.java:67) \n2022-03-27 12:24:53.587 8762-11044/com.george.socialmeme E/ExoPlayerImplInternal: Playback error\n      com.google.android.exoplayer2.ExoPlaybackException: MediaCodecVideoRenderer error, index=0, format=Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1]), format_supported=YES\n        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:575)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n     Caused by: com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: OMX.MTK.VIDEO.DECODER.AVC, Format(1, null, null, video/avc, avc1.4D401E, -1, null, [720, 720, 30.0], [-1, -1])\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1017)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437)\n        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779)\n        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998)\n        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499)\n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:246) \n        at android.os.HandlerThread.run(HandlerThread.java:67) \n     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.MTK.VIDEO.DECODER.AVC, error 0xfffffff4\n        at android.media.MediaCodec.native_setup(Native Method)\n        at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1912)\n        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1890)\n        at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createCodec(SynchronousMediaCodecAdapter.java:74)\n        at com.google.android.exoplayer2.mediacodec.SynchronousMediaCodecAdapter$Factory.createAdapter(SynchronousMediaCodecAdapter.java:49)\n        at com.google.android.exoplayer2.mediacodec.DefaultMediaCodecAdapterFactory.createAdapter(DefaultMediaCodecAdapterFactory.java:130)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.initCodec(MediaCodecRenderer.java:1095)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecWithFallback(MediaCodecRenderer.java:1006)\n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.maybeInitCodecOrBypass(MediaCodecRenderer.java:546) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.onInputFormatChanged(MediaCodecRenderer.java:1437) \n        at com.google.android.exoplayer2.video.MediaCodecVideoRenderer.onInputFormatChanged(MediaCodecVideoRenderer.java:799) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.readSourceOmittingSampleData(MediaCodecRenderer.java:950) \n        at com.google.android.exoplayer2.mediacodec.MediaCodecRenderer.render(MediaCodecRenderer.java:779) \n        at com.google.android.exoplayer2.ExoPlayerImplInternal.doSomeWork(ExoPlayerImplInternal.java:998) \n        at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:499) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:246) \n        at android.os.HandlerThread.run(HandlerThread.java:67) \n</code></pre>\n<p><strong>Code for ExoPlayer inside my adapter:</strong></p>\n<pre><code>ExoPlayer player = new ExoPlayer.Builder(context).build();\nMediaItem mediaItem = MediaItem.fromUri(postList.get(position).getVideoUrl());\nplayer.setMediaItem(mediaItem);\nplayer.prepare();\nvideoViewHolder.andExoPlayerView.setPlayer(player);\n\nplayer.addAnalyticsListener(new AnalyticsListener() {\n\n    @Override\n    public void onPlayerError(@NonNull EventTime eventTime, @NonNull PlaybackException error) {\n        Toast.makeText(context, &quot;&quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n"},{"tags":["java","maven","junit","powermock","powermockito"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1648803775,"post_id":71704334,"comment_id":126721975,"body_markdown":"I would recommend to migrate away from powermock...for me using powermock is a smell...use mockito...","body":"I would recommend to migrate away from powermock...for me using powermock is a smell...use mockito..."},{"owner":{"account_id":24774630,"reputation":39,"user_id":18658265,"display_name":"Shadrach Adamu"},"score":0,"creation_date":1648894996,"post_id":71704334,"comment_id":126742313,"body_markdown":"But mockito cannot mock static and private methods now.","body":"But mockito cannot mock static and private methods now."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648897746,"post_id":71704334,"comment_id":126742788,"body_markdown":"First mocking private methods does not make sense..that&#39;s usually a hint to refactor the class because it&#39;s doing to much (separation of concern)..and Mockito can mock static methods https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48 furthermore Powermock it stuck to JUnit 4 and finally also last release is a bit out of date.and JDK16 has already it&#39;s issue and in the meantime we have 6 months of JDK17...which implies a blocking of JDK17 path...","body":"First mocking private methods does not make sense..that&#39;s usually a hint to refactor the class because it&#39;s doing to much (separation of concern)..and Mockito can mock static methods <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#48\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a> furthermore Powermock it stuck to JUnit 4 and finally also last release is a bit out of date.and JDK16 has already it&#39;s issue and in the meantime we have 6 months of JDK17...which implies a blocking of JDK17 path..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648897850,"post_id":71704334,"comment_id":126742811,"body_markdown":"The error message `accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6d21714c` looks like an issue with JDK9+ (the closing of the internals by the JDK...over the releases JDK9...JDK17..18..)","body":"The error message <code>accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6d21714c</code> looks like an issue with JDK9+ (the closing of the internals by the JDK...over the releases JDK9...JDK17..18..)"},{"owner":{"account_id":24774630,"reputation":39,"user_id":18658265,"display_name":"Shadrach Adamu"},"score":0,"creation_date":1649060975,"post_id":71704334,"comment_id":126771525,"body_markdown":"@khmarbaise So what JDK version will allow me to test without throwing all these errors I&#39;m seeing?","body":"@khmarbaise So what JDK version will allow me to test without throwing all these errors I&#39;m seeing?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649062025,"post_id":71704334,"comment_id":126771885,"body_markdown":"I would check to work with JDK8 only...but I&#39;m not 100% sure...you have to try it..","body":"I would check to work with JDK8 only...but I&#39;m not 100% sure...you have to try it.."},{"owner":{"account_id":24774630,"reputation":39,"user_id":18658265,"display_name":"Shadrach Adamu"},"score":0,"creation_date":1649151992,"post_id":71704334,"comment_id":126797700,"body_markdown":"Ok, let me try it out.","body":"Ok, let me try it out."},{"owner":{"account_id":24774630,"reputation":39,"user_id":18658265,"display_name":"Shadrach Adamu"},"score":0,"creation_date":1649434153,"post_id":71704334,"comment_id":126882779,"body_markdown":"@khmarbaise will like to hear your feedback if it works","body":"@khmarbaise will like to hear your feedback if it works"},{"owner":{"account_id":4124541,"reputation":452,"user_id":3384047,"display_name":"grvsmth"},"score":0,"creation_date":1658774849,"post_id":71704334,"comment_id":129130701,"body_markdown":"I got this error on a test where I used .thenThrow(), and realized it was because I was throwing the wrong exception - an exception that my code under test didn&#39;t catch!  Changed it to the right exception, and all is well.","body":"I got this error on a test where I used .thenThrow(), and realized it was because I was throwing the wrong exception - an exception that my code under test didn&#39;t catch!  Changed it to the right exception, and all is well."}],"answers":[{"tags":[],"owner":{"account_id":9751904,"reputation":180,"user_id":7229904,"display_name":"dKucharczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656056363,"creation_date":1655999182,"answer_id":72733055,"question_id":71704334,"body_markdown":"For me this resolved the problem:\r\nI changed the SDK in my IntelliJ to Java 8.","title":"What is the way around this error &quot;java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level&quot;","body":"<p>For me this resolved the problem:\nI changed the SDK in my IntelliJ to Java 8.</p>\n"}],"owner":{"account_id":24774630,"reputation":39,"user_id":18658265,"display_name":"Shadrach Adamu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656056363,"creation_date":1648803493,"question_id":71704334,"body_markdown":"    java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.handleException(PowerMockJUnit44RunnerDelegateImpl.java:384)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:110)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5be6e01c\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:862)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:822)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:690)\r\n\tat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:401)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.handleException(PowerMockJUnit44RunnerDelegateImpl.java:361)\r\n\t... 21 more\r\n\r\nProcess finished with exit code -2\r\n\r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6d21714c\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:862)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:822)\r\n\tat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:805)\r\n\tat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\r\n\tat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\r\n\tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\r\n\tat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\r\n\tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n\tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:53)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n    \r\n\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PowerMockIgnore;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ SystemUnderTest.class /*To be able to mock the Constructor, we need to add in the Class that creates the new object*/})\r\n    @PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.sax.*&quot;, &quot;org.w3c.dom.*&quot;, &quot;org.springframework.context.*&quot;, &quot;org.apache.log4j.*&quot;, &quot;org.apache.commons.logging.*&quot;, &quot;org.jacoco.*&quot;, &quot;jdk.internal.reflect.*&quot;})\r\n    public class PowerMockitoMockingConstructorTest {\r\n    \r\n    \tprivate static final int SOME_DUMMY_SIZE = 100;\r\n    \r\n    \t@Mock\r\n    \tDependency dependencyMock;\r\n    \r\n    \t@InjectMocks\r\n    \tSystemUnderTest systemUnderTest;\r\n    \r\n    \t@Test\r\n    \tpublic void powerMockito_MockingAConstructor() throws Exception {\r\n    \r\n    \t\tArrayList&lt;String&gt; mockList = mock(ArrayList.class);\r\n    \r\n    \t\tstub(mockList.size()).toReturn(SOME_DUMMY_SIZE);\r\n    \r\n    \t\tPowerMockito.whenNew(ArrayList.class).withAnyArguments().thenReturn(\r\n    \t\t\t\tmockList);\r\n    \r\n    \t\tint size = systemUnderTest.methodUsingAnArrayListConstructor();\r\n    \r\n    \t\tassertEquals(SOME_DUMMY_SIZE, size);\r\n    \t}\r\n    }","title":"What is the way around this error &quot;java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level&quot;","body":"<pre><code>java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.handleException(PowerMockJUnit44RunnerDelegateImpl.java:384)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:110)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\nat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\nat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5be6e01c\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\nat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\nat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:862)\nat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:822)\nat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:690)\nat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:401)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.handleException(PowerMockJUnit44RunnerDelegateImpl.java:361)\n... 21 more</p>\n<p>Process finished with exit code -2</p>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6d21714c</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat org.powermock.reflect.internal.WhiteboxImpl.doGetAllMethods(WhiteboxImpl.java:1508)\nat org.powermock.reflect.internal.WhiteboxImpl.getAllMethods(WhiteboxImpl.java:1482)\nat org.powermock.reflect.internal.WhiteboxImpl.findMethodOrThrowException(WhiteboxImpl.java:862)\nat org.powermock.reflect.internal.WhiteboxImpl.doInvokeMethod(WhiteboxImpl.java:822)\nat org.powermock.reflect.internal.WhiteboxImpl.invokeMethod(WhiteboxImpl.java:805)\nat org.powermock.reflect.Whitebox.invokeMethod(Whitebox.java:466)\nat org.powermock.modules.junit4.common.internal.impl.PowerMockJUnit4RunListener.testFinished(PowerMockJUnit4RunListener.java:55)\nat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:87)\nat org.junit.runner.notification.RunNotifier$9.notifyListener(RunNotifier.java:225)\nat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\nat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:222)\nat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:53)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\n\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.*;\n\nimport java.util.ArrayList;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ SystemUnderTest.class /*To be able to mock the Constructor, we need to add in the Class that creates the new object*/})\n@PowerMockIgnore({&quot;javax.management.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.sax.*&quot;, &quot;org.w3c.dom.*&quot;, &quot;org.springframework.context.*&quot;, &quot;org.apache.log4j.*&quot;, &quot;org.apache.commons.logging.*&quot;, &quot;org.jacoco.*&quot;, &quot;jdk.internal.reflect.*&quot;})\npublic class PowerMockitoMockingConstructorTest {\n\n    private static final int SOME_DUMMY_SIZE = 100;\n\n    @Mock\n    Dependency dependencyMock;\n\n    @InjectMocks\n    SystemUnderTest systemUnderTest;\n\n    @Test\n    public void powerMockito_MockingAConstructor() throws Exception {\n\n        ArrayList&lt;String&gt; mockList = mock(ArrayList.class);\n\n        stub(mockList.size()).toReturn(SOME_DUMMY_SIZE);\n\n        PowerMockito.whenNew(ArrayList.class).withAnyArguments().thenReturn(\n                mockList);\n\n        int size = systemUnderTest.methodUsingAnArrayListConstructor();\n\n        assertEquals(SOME_DUMMY_SIZE, size);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi","springfox"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1596104180,"post_id":63169386,"comment_id":111706611,"body_markdown":"Looks like in Springfox 3.x, the annotation should be `@ApiResponse(..., content = { @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Car.class)) })`. See https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#apiresponse. The Javadoc is here: https://javadoc.io/doc/io.swagger.core.v3/swagger-models/latest/io/swagger/v3/oas/models/responses/ApiResponse.html","body":"Looks like in Springfox 3.x, the annotation should be <code>@ApiResponse(..., content = { @Content(mediaType = &quot;application&#47;json&quot;, schema = @Schema(implementation = Car.class)) })</code>. See <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#apiresponse\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/wiki/&hellip;</a>. The Javadoc is here: <a href=\"https://javadoc.io/doc/io.swagger.core.v3/swagger-models/latest/io/swagger/v3/oas/models/responses/ApiResponse.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.swagger.core.v3/swagger-models/latest/io/&hellip;</a>"},{"owner":{"account_id":12669836,"reputation":1369,"user_id":9207732,"accept_rate":100,"display_name":"Patrick C."},"score":0,"creation_date":1596168566,"post_id":63169386,"comment_id":111731797,"body_markdown":"Hi @Helen, I have tried to use the OAS3.0 spec and annotations (refer to update above), but it seems still not working.","body":"Hi @Helen, I have tried to use the OAS3.0 spec and annotations (refer to update above), but it seems still not working."}],"answers":[{"tags":[],"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602600321,"creation_date":1602600321,"answer_id":64337481,"question_id":63169386,"body_markdown":"You can override `V3` models with `V2` models. Just add a property in your `application.properties` and your `@ApiResponse` annotation should work properly.\r\n```\r\nspringfox.documentation.swagger.use-model-v3=false\r\n```\r\nMake sure to use older `@ApiResponses` and `@ApiResponse` annotations.\r\nThis issue has been documented an https://github.com/springfox/springfox/issues/3503","title":"&lt;Spring Boot / Springfox&gt; Swagger UI not showing example value and model","body":"<p>You can override <code>V3</code> models with <code>V2</code> models. Just add a property in your <code>application.properties</code> and your <code>@ApiResponse</code> annotation should work properly.</p>\n<pre><code>springfox.documentation.swagger.use-model-v3=false\n</code></pre>\n<p>Make sure to use older <code>@ApiResponses</code> and <code>@ApiResponse</code> annotations.\nThis issue has been documented an <a href=\"https://github.com/springfox/springfox/issues/3503\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/3503</a></p>\n"},{"tags":[],"owner":{"account_id":17725449,"reputation":51,"user_id":12869305,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616770670,"creation_date":1616770341,"answer_id":66819209,"question_id":63169386,"body_markdown":"In the case of using the `springdoc-openapi-ui` (&gt;=1.5.0) here is my working sample to show example data in the request and response sections of SwaggerUI if it&#39;s the JSON object. \r\nHopefully, it would fit your case with small changes too.\r\n\r\n```\r\n@Operation(summary = &quot;Send some JSON&quot;)\r\n@ApiResponses(value = {\r\n    @ApiResponse(\r\n        responseCode = &quot;200&quot;,\r\n        description = &quot;Success: our action has been completed&quot;,\r\n        content = @Content(mediaType = &quot;application/json&quot;,\r\n        schema = @Schema(\r\n            type = &quot;SampleHttpResponseDto&quot;,\r\n            example = &quot;{\\&quot;status\\&quot;:\\&quot;OK\\&quot;,\\&quot;message\\&quot;:\\&quot;sample OK answer\\&quot;}&quot;)))})\r\n@PostMapping(value = &quot;/resource&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\npublic SampleHttpResponseDto postRequest(\r\n    @Parameter(\r\n        name =&quot;json&quot;,\r\n        schema = @Schema(\r\n            description = &quot;additional description of the model&quot;,\r\n            type = &quot;string&quot;,\r\n            example = &quot;{\\&quot;status\\&quot;:\\&quot;OK\\&quot;,\\&quot;message\\&quot;:\\&quot;message body\\&quot;}&quot;))\r\n    @RequestBody Map&lt;String, Object&gt; request\r\n) {\r\n  return new SampleHttpResponseDto(request.propert1, request.propert2);\r\n}\r\n```\r\n\r\nGist: https://gist.github.com/antukhov/7dece86c6d16cc81bb6f83f47ffc0c8d\r\n\r\nSwaggerUI [will look like this][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KBm9L.png","title":"&lt;Spring Boot / Springfox&gt; Swagger UI not showing example value and model","body":"<p>In the case of using the <code>springdoc-openapi-ui</code> (&gt;=1.5.0) here is my working sample to show example data in the request and response sections of SwaggerUI if it's the JSON object.\nHopefully, it would fit your case with small changes too.</p>\n<pre><code>@Operation(summary = &quot;Send some JSON&quot;)\n@ApiResponses(value = {\n    @ApiResponse(\n        responseCode = &quot;200&quot;,\n        description = &quot;Success: our action has been completed&quot;,\n        content = @Content(mediaType = &quot;application/json&quot;,\n        schema = @Schema(\n            type = &quot;SampleHttpResponseDto&quot;,\n            example = &quot;{\\&quot;status\\&quot;:\\&quot;OK\\&quot;,\\&quot;message\\&quot;:\\&quot;sample OK answer\\&quot;}&quot;)))})\n@PostMapping(value = &quot;/resource&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic SampleHttpResponseDto postRequest(\n    @Parameter(\n        name =&quot;json&quot;,\n        schema = @Schema(\n            description = &quot;additional description of the model&quot;,\n            type = &quot;string&quot;,\n            example = &quot;{\\&quot;status\\&quot;:\\&quot;OK\\&quot;,\\&quot;message\\&quot;:\\&quot;message body\\&quot;}&quot;))\n    @RequestBody Map&lt;String, Object&gt; request\n) {\n  return new SampleHttpResponseDto(request.propert1, request.propert2);\n}\n</code></pre>\n<p>Gist: <a href=\"https://gist.github.com/antukhov/7dece86c6d16cc81bb6f83f47ffc0c8d\" rel=\"nofollow noreferrer\">https://gist.github.com/antukhov/7dece86c6d16cc81bb6f83f47ffc0c8d</a></p>\n<p>SwaggerUI <a href=\"https://i.stack.imgur.com/KBm9L.png\" rel=\"nofollow noreferrer\">will look like this</a></p>\n"},{"tags":[],"owner":{"account_id":14072488,"reputation":1,"user_id":10165656,"display_name":"tong Gui Cheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656056345,"creation_date":1655924920,"answer_id":72720801,"question_id":63169386,"body_markdown":"Using swagger-2 annotation worked for me by adding `produces=&#39;application/json&#39;` to `@GetMapping` or any `@RequestMapping`.","title":"&lt;Spring Boot / Springfox&gt; Swagger UI not showing example value and model","body":"<p>Using swagger-2 annotation worked for me by adding <code>produces='application/json'</code> to <code>@GetMapping</code> or any <code>@RequestMapping</code>.</p>\n"}],"owner":{"account_id":12669836,"reputation":1369,"user_id":9207732,"accept_rate":100,"display_name":"Patrick C."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18591,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1656056345,"creation_date":1596098466,"question_id":63169386,"body_markdown":"I was generating Swagger API specification from Spring Boot REST controllers using Springfox.\r\n\r\nI noticed an issue where the example value/model could not be shown for response.\r\n\r\nAs an investigation, I checked the JSON API doc at http://localhost:8080/v2/api-docs ,\r\nand converted it to YMAL at https://editor.swagger.io/ , which it could not show the example value/model as well.\r\nThis seems to caused by the schema is not referring to the model object (&quot;Car&quot; here) correctly.\r\n\r\n[![Swagger_Editor_01][1]][1]\r\n \r\n[![Swagger_Editor_02][2]][2]\r\n\r\nBut from the API documentation of Swagger (https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiResponse.html#response()), it says that the &quot;response&quot; attribute of the annotation @ApiResponse should correspond to the &quot;schema&quot; field of the specification. \r\n\r\n[![enter image description here][3]][3]\r\n\r\nBy specifying response = &quot;Object.class&quot;, shouldn&#39;t the Swagger UI populate the example value/model accordingly?\r\n\r\nWelcome for any advice, and please kindly correct if I have any misconfigurations/misconceptions, thank you very much.\r\n\r\n&lt;br/&gt;\r\nREST controller and the annotations:\r\n\r\n\t@GetMapping(path = &quot;/car&quot;)\r\n\t@ApiOperation(value = &quot;Get car by color.&quot;, response = Car.class)\r\n\t@ApiParam(value = &quot;Color of the car.&quot;, required = true)\r\n\t@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;OK.&quot;, response = Car.class),\r\n\t\t\t@ApiResponse(code = 400, message = &quot;Invalid color provided.&quot;),\r\n\t\t\t@ApiResponse(code = 404, message = &quot;Car not found.&quot;) })\r\n\tpublic ResponseEntity&lt;Object&gt; getCarByColor(@RequestParam String color) {\r\n\t\treturn ResponseEntity.ok(testService.getCarByColor(color));\r\n\t}\r\n\r\nModel:\r\n\r\n    package com.example.demo.model;\r\n\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n\r\n    import io.swagger.annotations.ApiModel;\r\n    import io.swagger.annotations.ApiModelProperty;\r\n    import lombok.Data;\r\n\r\n    @ApiModel(value = &quot;Car&quot;, description = &quot;The model for car&quot;)\r\n    @Data\r\n    public class Car {\r\n        @ApiModelProperty(notes = &quot;Car ID.&quot;, example = &quot;12345&quot;, required = false, position = 0)\r\n        private Long id;\r\n\r\n        @ApiModelProperty(notes = &quot;Car name.&quot;, example = &quot;Suzuki Swift 2020&quot;, required = true, position = 1)\r\n        @NotNull\r\n        @Max(value = 30, message = &quot;Name can only have a maximum length of 30&quot;)\r\n        private String name;\r\n\r\n        @ApiModelProperty(notes = &quot;Car color.&quot;, example = &quot;blue&quot;, required = true, position = 2)\r\n        @NotNull\r\n        @Max(value = 30, message = &quot;Color can only have a maximum length of 30&quot;)\r\n        @Pattern(regexp = &quot;^(blue|yellow)$&quot;, message = &quot;Only blue or yellow color is allowed.&quot;)\r\n        private String color;\r\n\r\n        public Car(Long id, String name, String color) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.color = color;\r\n        }\r\n    }\r\n\r\nSwagger UI:\r\n\r\n[![Example_Value_and_Model_not_shown][4]][4]\r\n\r\nSpringfox dependency in pom.xml:\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n&lt;UPDATE (31 Jul 2020)&gt;\r\n\r\nMade the following changes to use OAS3.0 specification and annotations, but still have issue. It also gives an error in Swagger UI.\r\n\r\nREST controller and the annotations:\r\n\r\n    import io.swagger.v3.oas.annotations.Operation;\r\n    import io.swagger.v3.oas.annotations.media.Content;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import io.swagger.v3.oas.annotations.responses.ApiResponse;\r\n\r\n    ...\r\n    ......\r\n\r\n\t@GetMapping(path = &quot;/car&quot;, produces = &quot;application/json&quot;)\r\n\t@Operation(summary = &quot;Get car by color.&quot;, responses = {\r\n\t\t\t@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK.&quot;, content = {\r\n\t\t\t\t\t@Content(mediaType = &quot;application/json&quot;, schema = @Schema(type = &quot;object&quot;, implementation = Car.class)) }) })\r\n\tpublic ResponseEntity&lt;Object&gt; getCarByColor(@RequestParam String color) {\r\n\t\treturn ResponseEntity.ok(testService.getCarByColor(color));\r\n\t}\r\n\r\nModel:\r\n\r\n\tpackage com.example.demo.model;\r\n\r\n\timport javax.validation.constraints.Max;\r\n\timport javax.validation.constraints.NotNull;\r\n\timport javax.validation.constraints.Pattern;\r\n\r\n\timport io.swagger.annotations.ApiModel;\r\n\timport io.swagger.annotations.ApiModelProperty;\r\n\timport io.swagger.v3.oas.annotations.media.Schema;\r\n\timport lombok.Data;\r\n\r\n\t@ApiModel(value = &quot;Car&quot;, description = &quot;The model for car&quot;)\r\n\t@Schema\r\n\t@Data\r\n\tpublic class Car {\r\n\t\t@ApiModelProperty(notes = &quot;Car ID.&quot;, example = &quot;12345&quot;, required = false, position = 0)\r\n\t\tprivate Long id;\r\n\r\n\t\t@ApiModelProperty(notes = &quot;Car name.&quot;, example = &quot;Suzuki Swift 2020&quot;, required = true, position = 1)\r\n\t\t@NotNull\r\n\t\t@Max(value = 30, message = &quot;Name can only have a maximum length of 30&quot;)\r\n\t\tprivate String name;\r\n\r\n\t\t@ApiModelProperty(notes = &quot;Car color.&quot;, example = &quot;blue&quot;, required = true, position = 2)\r\n\t\t@NotNull\r\n\t\t@Max(value = 30, message = &quot;Color can only have a maximum length of 30&quot;)\r\n\t\t@Pattern(regexp = &quot;^(blue|yellow)$&quot;, message = &quot;Only blue or yellow color is allowed.&quot;)\r\n\t\tprivate String color;\r\n\r\n\t\tpublic Car(Long id, String name, String color) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.color = color;\r\n\t\t}\r\n\t}\r\n\r\nSwagger UI:\r\n\r\n[![Swagger_UI_Error_01][5]][5]\r\n\r\n[![Swagger_UI_Error_02][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EpO1s.png\r\n  [2]: https://i.stack.imgur.com/Irivb.png\r\n  [3]: https://i.stack.imgur.com/NRaki.png\r\n  [4]: https://i.stack.imgur.com/bSbEq.png\r\n  [5]: https://i.stack.imgur.com/Ncsz6.png\r\n  [6]: https://i.stack.imgur.com/GAB0S.png","title":"&lt;Spring Boot / Springfox&gt; Swagger UI not showing example value and model","body":"<p>I was generating Swagger API specification from Spring Boot REST controllers using Springfox.</p>\n<p>I noticed an issue where the example value/model could not be shown for response.</p>\n<p>As an investigation, I checked the JSON API doc at http://localhost:8080/v2/api-docs ,\nand converted it to YMAL at <a href=\"https://editor.swagger.io/\" rel=\"noreferrer\">https://editor.swagger.io/</a> , which it could not show the example value/model as well.\nThis seems to caused by the schema is not referring to the model object (&quot;Car&quot; here) correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/EpO1s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EpO1s.png\" alt=\"Swagger_Editor_01\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Irivb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Irivb.png\" alt=\"Swagger_Editor_02\" /></a></p>\n<p>But from the API documentation of Swagger (<a href=\"https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiResponse.html#response()\" rel=\"noreferrer\">https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiResponse.html#response()</a>), it says that the &quot;response&quot; attribute of the annotation @ApiResponse should correspond to the &quot;schema&quot; field of the specification.</p>\n<p><a href=\"https://i.stack.imgur.com/NRaki.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NRaki.png\" alt=\"enter image description here\" /></a></p>\n<p>By specifying response = &quot;Object.class&quot;, shouldn't the Swagger UI populate the example value/model accordingly?</p>\n<p>Welcome for any advice, and please kindly correct if I have any misconfigurations/misconceptions, thank you very much.</p>\n<br/>\nREST controller and the annotations:\n<pre><code>@GetMapping(path = &quot;/car&quot;)\n@ApiOperation(value = &quot;Get car by color.&quot;, response = Car.class)\n@ApiParam(value = &quot;Color of the car.&quot;, required = true)\n@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;OK.&quot;, response = Car.class),\n        @ApiResponse(code = 400, message = &quot;Invalid color provided.&quot;),\n        @ApiResponse(code = 404, message = &quot;Car not found.&quot;) })\npublic ResponseEntity&lt;Object&gt; getCarByColor(@RequestParam String color) {\n    return ResponseEntity.ok(testService.getCarByColor(color));\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>package com.example.demo.model;\n\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\n\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\n\n@ApiModel(value = &quot;Car&quot;, description = &quot;The model for car&quot;)\n@Data\npublic class Car {\n    @ApiModelProperty(notes = &quot;Car ID.&quot;, example = &quot;12345&quot;, required = false, position = 0)\n    private Long id;\n\n    @ApiModelProperty(notes = &quot;Car name.&quot;, example = &quot;Suzuki Swift 2020&quot;, required = true, position = 1)\n    @NotNull\n    @Max(value = 30, message = &quot;Name can only have a maximum length of 30&quot;)\n    private String name;\n\n    @ApiModelProperty(notes = &quot;Car color.&quot;, example = &quot;blue&quot;, required = true, position = 2)\n    @NotNull\n    @Max(value = 30, message = &quot;Color can only have a maximum length of 30&quot;)\n    @Pattern(regexp = &quot;^(blue|yellow)$&quot;, message = &quot;Only blue or yellow color is allowed.&quot;)\n    private String color;\n\n    public Car(Long id, String name, String color) {\n        this.id = id;\n        this.name = name;\n        this.color = color;\n    }\n}\n</code></pre>\n<p>Swagger UI:</p>\n<p><a href=\"https://i.stack.imgur.com/bSbEq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bSbEq.png\" alt=\"Example_Value_and_Model_not_shown\" /></a></p>\n<p>Springfox dependency in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<br/>\n<br/>\n<br/>\n<br/>\n<br/>\n<p>&lt;UPDATE (31 Jul 2020)&gt;</p>\n<p>Made the following changes to use OAS3.0 specification and annotations, but still have issue. It also gives an error in Swagger UI.</p>\n<p>REST controller and the annotations:</p>\n<pre><code>import io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\n\n...\n......\n\n@GetMapping(path = &quot;/car&quot;, produces = &quot;application/json&quot;)\n@Operation(summary = &quot;Get car by color.&quot;, responses = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK.&quot;, content = {\n                @Content(mediaType = &quot;application/json&quot;, schema = @Schema(type = &quot;object&quot;, implementation = Car.class)) }) })\npublic ResponseEntity&lt;Object&gt; getCarByColor(@RequestParam String color) {\n    return ResponseEntity.ok(testService.getCarByColor(color));\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>package com.example.demo.model;\n\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\n\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport lombok.Data;\n\n@ApiModel(value = &quot;Car&quot;, description = &quot;The model for car&quot;)\n@Schema\n@Data\npublic class Car {\n    @ApiModelProperty(notes = &quot;Car ID.&quot;, example = &quot;12345&quot;, required = false, position = 0)\n    private Long id;\n\n    @ApiModelProperty(notes = &quot;Car name.&quot;, example = &quot;Suzuki Swift 2020&quot;, required = true, position = 1)\n    @NotNull\n    @Max(value = 30, message = &quot;Name can only have a maximum length of 30&quot;)\n    private String name;\n\n    @ApiModelProperty(notes = &quot;Car color.&quot;, example = &quot;blue&quot;, required = true, position = 2)\n    @NotNull\n    @Max(value = 30, message = &quot;Color can only have a maximum length of 30&quot;)\n    @Pattern(regexp = &quot;^(blue|yellow)$&quot;, message = &quot;Only blue or yellow color is allowed.&quot;)\n    private String color;\n\n    public Car(Long id, String name, String color) {\n        this.id = id;\n        this.name = name;\n        this.color = color;\n    }\n}\n</code></pre>\n<p>Swagger UI:</p>\n<p><a href=\"https://i.stack.imgur.com/Ncsz6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ncsz6.png\" alt=\"Swagger_UI_Error_01\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GAB0S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GAB0S.png\" alt=\"Swagger_UI_Error_02\" /></a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1655908946,"post_id":72717413,"comment_id":128444688,"body_markdown":"Everything is correct in the definition. I also tried it out just in case and it works. I used the .properties file. You need to post more code in order to help you more","body":"Everything is correct in the definition. I also tried it out just in case and it works. I used the .properties file. You need to post more code in order to help you more"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1655908980,"post_id":72717413,"comment_id":128444709,"body_markdown":"How is `Scheduler` used, and where is `#test()` being called?","body":"How is <code>Scheduler</code> used, and where is <code>#test()</code> being called?"},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":0,"creation_date":1655909443,"post_id":72717413,"comment_id":128444926,"body_markdown":"You must @Autowired Scheduler, not create an instance with new, as Spring takes cares of the class managing","body":"You must @Autowired Scheduler, not create an instance with new, as Spring takes cares of the class managing"},{"owner":{"account_id":10867187,"reputation":217,"user_id":7990195,"accept_rate":0,"display_name":"Bhanu"},"score":0,"creation_date":1655909527,"post_id":72717413,"comment_id":128444957,"body_markdown":"Why not autowiring Scheduler class instead of creating new?","body":"Why not autowiring Scheduler class instead of creating new?"},{"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"score":0,"creation_date":1655909641,"post_id":72717413,"comment_id":128445005,"body_markdown":"I am not sure what @Autowired means","body":"I am not sure what @Autowired means"},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1655909647,"post_id":72717413,"comment_id":128445009,"body_markdown":"Should autowire scheduler and why is your test in a @Component? Mark it @SpringBootTest so it picks up the context and define a property in application.properties called build.version. Check out this https://www.youtube.com/watch?v=K43qyHJXmWI to learn about autowiring will make your life much easier.","body":"Should autowire scheduler and why is your test in a @Component? Mark it @SpringBootTest so it picks up the context and define a property in application.properties called build.version. Check out this <a href=\"https://www.youtube.com/watch?v=K43qyHJXmWI\" rel=\"nofollow noreferrer\">youtube.com/watch?v=K43qyHJXmWI</a> to learn about autowiring will make your life much easier."}],"answers":[{"tags":[],"owner":{"account_id":10867187,"reputation":217,"user_id":7990195,"accept_rate":0,"display_name":"Bhanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656056317,"creation_date":1655908839,"answer_id":72717568,"question_id":72717413,"body_markdown":"If you are using `application.yml` to provide value to these properties then use `@ConfigurationProperties` on top of the class. You do not need to give `@Value` on every property value, for example:\r\n\r\n    @Component\r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;build&quot;)\r\n    public class SchedulerProperties {\r\n    \r\n        private String buildVersion;\r\n    \r\n    }\r\n\r\nIn `application.yml` define as below\r\n\r\n    build:\r\n      buildVersion: &quot;XYZ&quot;\r\n\r\nThen you can just call version from the properties class\r\n\r\n    @Component\r\n    public class Scheduler {\r\n    \r\n       @Autowired\r\n       private SchedulerProperties schedulerProperties;\r\n    \r\n        public void test() {\r\n             System.out.println(schedulerProperties.getBuildVersion());\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring not injecting @value annotation in property","body":"<p>If you are using <code>application.yml</code> to provide value to these properties then use <code>@ConfigurationProperties</code> on top of the class. You do not need to give <code>@Value</code> on every property value, for example:</p>\n<pre><code>@Component\n@Data\n@ConfigurationProperties(prefix = &quot;build&quot;)\npublic class SchedulerProperties {\n\n    private String buildVersion;\n\n}\n</code></pre>\n<p>In <code>application.yml</code> define as below</p>\n<pre><code>build:\n  buildVersion: &quot;XYZ&quot;\n</code></pre>\n<p>Then you can just call version from the properties class</p>\n<pre><code>@Component\npublic class Scheduler {\n\n   @Autowired\n   private SchedulerProperties schedulerProperties;\n\n    public void test() {\n         System.out.println(schedulerProperties.getBuildVersion());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655909803,"creation_date":1655909803,"answer_id":72717783,"question_id":72717413,"body_markdown":"Try out this way, as you create instance with new instead of rely on Spring object managing(Inversion of control)\r\n\r\n    @RestController\r\n    public class ApiController {\r\n\r\n\r\n       private Scheduler scheduler;\r\n\r\n       @Autowired\r\n       public ApiController(Scheduler scheduler) {\r\n          this.scheduler = scheduler \r\n       }\r\n\r\n       @GetMapping(&quot;/status&quot;)\r\n       public StatusResponse status() {\r\n          scheduler.update();\r\n      }\r\n    }\r\n\r\n","title":"Spring not injecting @value annotation in property","body":"<p>Try out this way, as you create instance with new instead of rely on Spring object managing(Inversion of control)</p>\n<pre><code>@RestController\npublic class ApiController {\n\n\n   private Scheduler scheduler;\n\n   @Autowired\n   public ApiController(Scheduler scheduler) {\n      this.scheduler = scheduler \n   }\n\n   @GetMapping(&quot;/status&quot;)\n   public StatusResponse status() {\n      scheduler.update();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72717783,"answer_count":2,"score":0,"last_activity_date":1656056317,"creation_date":1655908270,"question_id":72717413,"body_markdown":"I have the following class:\r\n```java\r\n@Component\r\npublic class Scheduler {\r\n\r\n    @Value(&quot;${build.version}&quot;)\r\n    private String buildVersion;\r\n\r\n    public void test() {\r\n         System.out.println(this.buildVersion);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am calling the method test() from a controller:\r\n```java\r\n@RestController\r\npublic class ApiController {\r\n\r\n    @GetMapping(&quot;/status&quot;)\r\n    public StatusResponse status() {\r\n        Scheduler scheduler = new Scheduler();\r\n        scheduler.update();\r\n    }\r\n```\r\n\r\nHowever spring is not injecting the `build.version` value even though the class has a `@Component` annotation. \r\n\r\nI am using the same property in a controller and it works fine.\r\n\r\nWhat am I doing wrong?","title":"Spring not injecting @value annotation in property","body":"<p>I have the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Scheduler {\n\n    @Value(&quot;${build.version}&quot;)\n    private String buildVersion;\n\n    public void test() {\n         System.out.println(this.buildVersion);\n    }\n\n}\n</code></pre>\n<p>I am calling the method test() from a controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ApiController {\n\n    @GetMapping(&quot;/status&quot;)\n    public StatusResponse status() {\n        Scheduler scheduler = new Scheduler();\n        scheduler.update();\n    }\n</code></pre>\n<p>However spring is not injecting the <code>build.version</code> value even though the class has a <code>@Component</code> annotation.</p>\n<p>I am using the same property in a controller and it works fine.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","jooq"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1655367357,"post_id":72642274,"comment_id":128317251,"body_markdown":"Is your configuration actually being picked up? See also https://stackoverflow.com/questions/32893121/spring-nested-transactions-not-working-with-jooq .","body":"Is your configuration actually being picked up? See also <a href=\"https://stackoverflow.com/questions/32893121/spring-nested-transactions-not-working-with-jooq\" title=\"spring nested transactions not working with jooq\">stackoverflow.com/questions/32893121/&hellip;</a> ."},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1655367765,"post_id":72642274,"comment_id":128317378,"body_markdown":"@M.Deinum The config may be picked up, but its beans are not, as mentioned in the issue. :) As you can see from the stacktrace: &quot;at org.springframework.boot.autoconfigure.jooq.SpringTransactionProvider&quot;. (I also changed mine to `PROPAGATION_REQUIRED` to test it).","body":"@M.Deinum The config may be picked up, but its beans are not, as mentioned in the issue. :) As you can see from the stacktrace: &quot;at org.springframework.boot.autoconfigure.jooq.SpringTransactio&zwnj;&#8203;nProvider&quot;. (I also changed mine to <code>PROPAGATION_REQUIRED</code> to test it)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655368322,"post_id":72642274,"comment_id":128317555,"body_markdown":"Which is why I removed my comment and mentioned if your config is actually even being picked up (it doesn&#39;t appear so). But, judging on the linked question, you shouldn&#39;t need all that configuration (and you might only need your own customized `SpringTransactionProvider` which I would just extend not reimplement. \\","body":"Which is why I removed my comment and mentioned if your config is actually even being picked up (it doesn&#39;t appear so). But, judging on the linked question, you shouldn&#39;t need all that configuration (and you might only need your own customized <code>SpringTransactionProvider</code> which I would just extend not reimplement. \\"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656056208,"creation_date":1655365834,"question_id":72642274,"body_markdown":"Let&#39;s start with a small integration test:\r\n\r\n```kotlin\r\n@ExtendWith(SpringExtension::class)\r\n@SpringBootTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@AutoConfigureTestEntityManager\r\n@Transactional(isolation = READ_UNCOMMITTED)\r\nclass JooqConfigIT) {\r\n    companion object {\r\n        const val testProjectId = 2021520\r\n    }\r\n\r\n    @Autowired\r\n    lateinit var ctx: DSLContext\r\n\r\n    @Test\r\n    fun `dialect is set to postgres`() {\r\n        assertThat(ctx.configuration().dialect()).isEqualTo(SQLDialect.POSTGRES)\r\n    }\r\n\r\n    @RepeatedTest(2, name = LONG_DISPLAY_NAME)\r\n    fun `A - if jOOQ does not respect Spring transactions, either A or B should fail`() {\r\n        ctx.insertInto(PROJECT)\r\n            .columns(PROJECT.ID, PROJECT.NAME)\r\n            .values(testProjectId, &quot;Hakuna&quot;)\r\n            .execute()\r\n    }\r\n\r\n    @RepeatedTest(2, name = LONG_DISPLAY_NAME)\r\n    fun `B- if Spring does not respect jOOQ transactions, either A or B should fail`() {\r\n        ctx.transaction { config -&gt;\r\n            DSL.using(config)\r\n                .insertInto(PROJECT)\r\n                .columns(PROJECT.ID, PROJECT.NAME)\r\n                .values(testProjectId, &quot;Matata&quot;)\r\n                .execute()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPremise is simple:\r\n* there will be a transaction at the start of each `@Test` that will be rolled back at the end of the test, so\r\n* if jOOQ is integrated correctly, there will be no exception because `testProjectId` will not be in the database by the end of either test. on the other hand,\r\n* if it&#39;s not set up correctly, at least one of `A` or `B` will write it into the database and at least one of the repetitions will fail because it&#39;s using the same ID\r\n* the reason we&#39;re duplicating both `A` and `B` is that if either direction IS set up correctly and the other isn&#39;t \r\n (e.g. Spring is aware of jOOQ transactions but jOOQ is not aware of Spring transactions), we still can never run into the case where we commit the transaction at the end of all tests (and therefore don&#39;t catch the error) because after writing to the DB, there&#39;s still a second test that tries to do the same thing and will fail\r\n\r\nSo we know what we want, but how do we get there\r\n\r\nThere are multiple resources on the web telling you how to achieve that, let me save you the googling and just mention it here:\r\n\r\n```kotlin\r\n@Configuration\r\nclass JooqConfig(\r\n    private val dataSource: DataSource,\r\n    private val transactionManager: DataSourceTransactionManager,\r\n) {\r\n\r\n    /** Makes jOOQ respect Spring transactions (e.g. [Transactional] annotations)*/\r\n    @Bean\r\n    fun dataSourceConnectionProvider() = DataSourceConnectionProvider(TransactionAwareDataSourceProxy(dataSource))\r\n\r\n    /** Makes Spring respect jOOQ transactions (i.e. `ctx.transaction{config -&gt; ...}`)*/\r\n    @Bean\r\n    fun springTransactionProvider(): TransactionProvider = SpringTransactionProvider(transactionManager)\r\n\r\n    private class SpringTransactionProvider(private val transactionManager: DataSourceTransactionManager) : TransactionProvider {\r\n        companion object {\r\n            private val log: JooqLogger = JooqLogger.getLogger(SpringTransactionProvider::class.java)\r\n        }\r\n\r\n        override fun begin(ctx: TransactionContext) {\r\n            log.info(&quot;begin transaction&quot;)\r\n            val transactionDefinition = DefaultTransactionDefinition(PROPAGATION_NESTED)\r\n            val transactionStatus = transactionManager.getTransaction(transactionDefinition)\r\n            ctx.transaction(SpringTransaction(transactionStatus))\r\n        }\r\n\r\n        override fun commit(ctx: TransactionContext) {\r\n            log.info(&quot;commit transaction&quot;);\r\n            transactionManager.commit(ctx.transactionStatus)\r\n        }\r\n\r\n        override fun rollback(ctx: TransactionContext) {\r\n            log.info(&quot;rollback transaction&quot;);\r\n            transactionManager.rollback(ctx.transactionStatus)\r\n        }\r\n\r\n        private class SpringTransaction(val status: TransactionStatus) : Transaction\r\n\r\n        private val TransactionContext.transactionStatus\r\n            get() = when (val tx = this.transaction()) {\r\n                is SpringTransaction -&gt; tx.status\r\n                else -&gt; throw IllegalStateException(&quot;Expected SpringTransaction but was $tx&quot;)\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nWhat I *haven&#39;t* yet found, though, is a mention anywhere that Spring Boot already does exactly that in `org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration`:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnClass(DSLContext.class)\r\n@ConditionalOnBean(DataSource.class)\r\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, TransactionAutoConfiguration.class })\r\npublic class JooqAutoConfiguration {\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean(ConnectionProvider.class)\r\n\tpublic DataSourceConnectionProvider dataSourceConnectionProvider(DataSource dataSource) {\r\n\t\treturn new DataSourceConnectionProvider(new TransactionAwareDataSourceProxy(dataSource));\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConditionalOnBean(PlatformTransactionManager.class)\r\n\tpublic SpringTransactionProvider transactionProvider(PlatformTransactionManager txManager) {\r\n\t\treturn new SpringTransactionProvider(txManager);\r\n\t}\r\n\r\n    //...\r\n\r\n}\r\n```\r\n\r\nSo none of this is necessary, EXCEPT if you&#39;re one of the lucky people like me who happen to also have JPA in the app because you&#39;re thinking about migrating to jOOQ. (Or in my case, really eager to eventually get rid of JPA), in which case `B` may fail for you, but not because Spring isn&#39;t aware of the transactions, but rather because\r\n\r\n```\r\nJpaDialect does not support savepoints - check your JPA provider&#39;s capabilities\r\norg.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider&#39;s capabilities\r\norg.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider&#39;s capabilities\r\n\tat org.springframework.orm.jpa.JpaTransactionManager$JpaTransactionObject.getSavepointManager(JpaTransactionManager.java:762)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager$JpaTransactionObject.createSavepoint(JpaTransactionManager.java:741)\r\n\tat org.springframework.transaction.support.AbstractTransactionStatus.createAndHoldSavepoint(AbstractTransactionStatus.java:140)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:457)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:352)\r\n\tat org.springframework.boot.autoconfigure.jooq.SpringTransactionProvider.begin(SpringTransactionProvider.java:48)\r\n\tat org.jooq.impl.DefaultDSLContext.lambda$transactionResult0$0(DefaultDSLContext.java:537)\r\n\tat org.jooq.impl.Tools$35$1.block(Tools.java:5246)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3128)\r\n\tat org.jooq.impl.Tools$35.get(Tools.java:5243)\r\n\tat org.jooq.impl.DefaultDSLContext.transactionResult0(DefaultDSLContext.java:595)\r\n\tat org.jooq.impl.DefaultDSLContext.transactionResult(DefaultDSLContext.java:512)\r\n\tat org.jooq.impl.DefaultDSLContext.transaction(DefaultDSLContext.java:612)\r\n\tat my.app.config.JooqConfigIT.B- if Spring does not respect jOOQ transactions, either A or B should fail(JooqConfigIT.kt:36)\r\n\tat ...\r\n```\r\n\r\nWe learn three things from this\r\n* JPA sucks - but I already knew that when I started dabbling with jOOQ\r\n* even if you put in your own `JooqConfig` that defines this nice `springTransactionProvider` bean, Spring ignores it and instead uses its own (as evident from the stacktrace)\r\n* I really don&#39;t care about nested transactions as I&#39;m going to create my own `@Repository` classes anyway that will be neatly hidden behind an `@Transactional`-annotated service so all the transaction management will already be taken care of by Spring.\r\n\r\nI *could* just push the `@Transactional` annotation from the class to the `A` test method, implement a manual rollback (exception) in `B` and call it a day.\r\n\r\nOR, we could take the time to try to come up with a proper configuration.\r\n\r\nMy idea was to just define my own `springTransactionProvider`, change the `TransactionDefinition` to `PROPAGATION_REQUIRED` s.t. jOOQ does not try to create a nested transaction and hope that fixes things.\r\n\r\nBut the fact that my bean does not show up in the stacktrace at all makes me think this is not the way to go and there should be a different way.\r\n\r\nSo how do I make this work?","title":"How to properly set up transaction management for jOOQ in Spring Boot in the presence of JPA?","body":"<p>Let's start with a small integration test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ExtendWith(SpringExtension::class)\n@SpringBootTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@AutoConfigureTestEntityManager\n@Transactional(isolation = READ_UNCOMMITTED)\nclass JooqConfigIT) {\n    companion object {\n        const val testProjectId = 2021520\n    }\n\n    @Autowired\n    lateinit var ctx: DSLContext\n\n    @Test\n    fun `dialect is set to postgres`() {\n        assertThat(ctx.configuration().dialect()).isEqualTo(SQLDialect.POSTGRES)\n    }\n\n    @RepeatedTest(2, name = LONG_DISPLAY_NAME)\n    fun `A - if jOOQ does not respect Spring transactions, either A or B should fail`() {\n        ctx.insertInto(PROJECT)\n            .columns(PROJECT.ID, PROJECT.NAME)\n            .values(testProjectId, &quot;Hakuna&quot;)\n            .execute()\n    }\n\n    @RepeatedTest(2, name = LONG_DISPLAY_NAME)\n    fun `B- if Spring does not respect jOOQ transactions, either A or B should fail`() {\n        ctx.transaction { config -&gt;\n            DSL.using(config)\n                .insertInto(PROJECT)\n                .columns(PROJECT.ID, PROJECT.NAME)\n                .values(testProjectId, &quot;Matata&quot;)\n                .execute()\n        }\n    }\n}\n</code></pre>\n<p>Premise is simple:</p>\n<ul>\n<li>there will be a transaction at the start of each <code>@Test</code> that will be rolled back at the end of the test, so</li>\n<li>if jOOQ is integrated correctly, there will be no exception because <code>testProjectId</code> will not be in the database by the end of either test. on the other hand,</li>\n<li>if it's not set up correctly, at least one of <code>A</code> or <code>B</code> will write it into the database and at least one of the repetitions will fail because it's using the same ID</li>\n<li>the reason we're duplicating both <code>A</code> and <code>B</code> is that if either direction IS set up correctly and the other isn't\n(e.g. Spring is aware of jOOQ transactions but jOOQ is not aware of Spring transactions), we still can never run into the case where we commit the transaction at the end of all tests (and therefore don't catch the error) because after writing to the DB, there's still a second test that tries to do the same thing and will fail</li>\n</ul>\n<p>So we know what we want, but how do we get there</p>\n<p>There are multiple resources on the web telling you how to achieve that, let me save you the googling and just mention it here:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\nclass JooqConfig(\n    private val dataSource: DataSource,\n    private val transactionManager: DataSourceTransactionManager,\n) {\n\n    /** Makes jOOQ respect Spring transactions (e.g. [Transactional] annotations)*/\n    @Bean\n    fun dataSourceConnectionProvider() = DataSourceConnectionProvider(TransactionAwareDataSourceProxy(dataSource))\n\n    /** Makes Spring respect jOOQ transactions (i.e. `ctx.transaction{config -&gt; ...}`)*/\n    @Bean\n    fun springTransactionProvider(): TransactionProvider = SpringTransactionProvider(transactionManager)\n\n    private class SpringTransactionProvider(private val transactionManager: DataSourceTransactionManager) : TransactionProvider {\n        companion object {\n            private val log: JooqLogger = JooqLogger.getLogger(SpringTransactionProvider::class.java)\n        }\n\n        override fun begin(ctx: TransactionContext) {\n            log.info(&quot;begin transaction&quot;)\n            val transactionDefinition = DefaultTransactionDefinition(PROPAGATION_NESTED)\n            val transactionStatus = transactionManager.getTransaction(transactionDefinition)\n            ctx.transaction(SpringTransaction(transactionStatus))\n        }\n\n        override fun commit(ctx: TransactionContext) {\n            log.info(&quot;commit transaction&quot;);\n            transactionManager.commit(ctx.transactionStatus)\n        }\n\n        override fun rollback(ctx: TransactionContext) {\n            log.info(&quot;rollback transaction&quot;);\n            transactionManager.rollback(ctx.transactionStatus)\n        }\n\n        private class SpringTransaction(val status: TransactionStatus) : Transaction\n\n        private val TransactionContext.transactionStatus\n            get() = when (val tx = this.transaction()) {\n                is SpringTransaction -&gt; tx.status\n                else -&gt; throw IllegalStateException(&quot;Expected SpringTransaction but was $tx&quot;)\n            }\n    }\n}\n</code></pre>\n<p>What I <em>haven't</em> yet found, though, is a mention anywhere that Spring Boot already does exactly that in <code>org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(DSLContext.class)\n@ConditionalOnBean(DataSource.class)\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, TransactionAutoConfiguration.class })\npublic class JooqAutoConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean(ConnectionProvider.class)\n    public DataSourceConnectionProvider dataSourceConnectionProvider(DataSource dataSource) {\n        return new DataSourceConnectionProvider(new TransactionAwareDataSourceProxy(dataSource));\n    }\n\n    @Bean\n    @ConditionalOnBean(PlatformTransactionManager.class)\n    public SpringTransactionProvider transactionProvider(PlatformTransactionManager txManager) {\n        return new SpringTransactionProvider(txManager);\n    }\n\n    //...\n\n}\n</code></pre>\n<p>So none of this is necessary, EXCEPT if you're one of the lucky people like me who happen to also have JPA in the app because you're thinking about migrating to jOOQ. (Or in my case, really eager to eventually get rid of JPA), in which case <code>B</code> may fail for you, but not because Spring isn't aware of the transactions, but rather because</p>\n<pre><code>JpaDialect does not support savepoints - check your JPA provider's capabilities\norg.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider's capabilities\norg.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider's capabilities\n    at org.springframework.orm.jpa.JpaTransactionManager$JpaTransactionObject.getSavepointManager(JpaTransactionManager.java:762)\n    at org.springframework.orm.jpa.JpaTransactionManager$JpaTransactionObject.createSavepoint(JpaTransactionManager.java:741)\n    at org.springframework.transaction.support.AbstractTransactionStatus.createAndHoldSavepoint(AbstractTransactionStatus.java:140)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:457)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:352)\n    at org.springframework.boot.autoconfigure.jooq.SpringTransactionProvider.begin(SpringTransactionProvider.java:48)\n    at org.jooq.impl.DefaultDSLContext.lambda$transactionResult0$0(DefaultDSLContext.java:537)\n    at org.jooq.impl.Tools$35$1.block(Tools.java:5246)\n    at java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3128)\n    at org.jooq.impl.Tools$35.get(Tools.java:5243)\n    at org.jooq.impl.DefaultDSLContext.transactionResult0(DefaultDSLContext.java:595)\n    at org.jooq.impl.DefaultDSLContext.transactionResult(DefaultDSLContext.java:512)\n    at org.jooq.impl.DefaultDSLContext.transaction(DefaultDSLContext.java:612)\n    at my.app.config.JooqConfigIT.B- if Spring does not respect jOOQ transactions, either A or B should fail(JooqConfigIT.kt:36)\n    at ...\n</code></pre>\n<p>We learn three things from this</p>\n<ul>\n<li>JPA sucks - but I already knew that when I started dabbling with jOOQ</li>\n<li>even if you put in your own <code>JooqConfig</code> that defines this nice <code>springTransactionProvider</code> bean, Spring ignores it and instead uses its own (as evident from the stacktrace)</li>\n<li>I really don't care about nested transactions as I'm going to create my own <code>@Repository</code> classes anyway that will be neatly hidden behind an <code>@Transactional</code>-annotated service so all the transaction management will already be taken care of by Spring.</li>\n</ul>\n<p>I <em>could</em> just push the <code>@Transactional</code> annotation from the class to the <code>A</code> test method, implement a manual rollback (exception) in <code>B</code> and call it a day.</p>\n<p>OR, we could take the time to try to come up with a proper configuration.</p>\n<p>My idea was to just define my own <code>springTransactionProvider</code>, change the <code>TransactionDefinition</code> to <code>PROPAGATION_REQUIRED</code> s.t. jOOQ does not try to create a nested transaction and hope that fixes things.</p>\n<p>But the fact that my bean does not show up in the stacktrace at all makes me think this is not the way to go and there should be a different way.</p>\n<p>So how do I make this work?</p>\n"},{"tags":["java","spring","spring-boot","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656056174,"creation_date":1656056174,"answer_id":72740515,"question_id":72737940,"body_markdown":"The *HttpGraphQlClient* uses the Spring class *org.springframework.web.reactive.function.client.webclient* to perform the http calls. You can provide your own webclient instance when you create your \r\nHttpGraphQlClient: &lt;br /&gt;\r\nhttps://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/client/HttpGraphQlClient.html\r\n\r\nHere is an exhaustive tutorial on how to log the HTTP calls, including request and response bodies for a Spring WebClient:\r\nhttps://www.baeldung.com/spring-log-webclient-calls\r\n\r\nProviding the customized webclient when creating your HttpGraphQlClient should do the job.","title":"Spring GraphQL HttpGraphQlClient - Need to know the exact request body","body":"<p>The <em>HttpGraphQlClient</em> uses the Spring class <em>org.springframework.web.reactive.function.client.webclient</em> to perform the http calls. You can provide your own webclient instance when you create your\nHttpGraphQlClient: <br />\n<a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/client/HttpGraphQlClient.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/client/HttpGraphQlClient.html</a></p>\n<p>Here is an exhaustive tutorial on how to log the HTTP calls, including request and response bodies for a Spring WebClient:\n<a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-log-webclient-calls</a></p>\n<p>Providing the customized webclient when creating your HttpGraphQlClient should do the job.</p>\n"}],"owner":{"account_id":1108107,"reputation":1203,"user_id":1099074,"accept_rate":87,"display_name":"Wes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72740515,"answer_count":1,"score":1,"last_activity_date":1656056174,"creation_date":1656031247,"question_id":72737940,"body_markdown":"I&#39;m using **spring-boot-starter-graphql**. I&#39;m communicating with a GraphQL endpoint residing on another server. In addition to a bearer token header I&#39;m also generating another kind of token header with a GraphQL endpoint, internally called a PoP token. This encrypted token is used to verify that the request body hasn&#39;t been altered. This token is generated from the http method, the bearer token, and the request body.\r\n\r\nI am generating this token from a string that resembles what is my best guess might be the JSON being generated by the **HttpGraphQlClient** as the request body in the request below.\r\n\r\nUnfortunately I can&#39;t seem to find out exactly what request body is being generated from this call:\r\n\r\n            String documentStr = &quot;{\\nphoneContactability0: phoneContactability(ruleId:\\&quot;2\\&quot;, phoneNumber:\\&quot;1234567892\\&quot;){\\nphone{\\nphoneNumber\\nruleValue\\n}\\n}}&quot;;\r\n\t\t\tObject response = httpGraphQlClient.mutate()\r\n\t\t        .url(url)\r\n\t\t        .headers(headers -&gt; {\r\n\t\t        \theaders.addAll(httpEntity.getHeaders());\r\n\t\t        })\r\n\t\t        .build()\r\n\t\t        .document(documentStr)\r\n\t\t        .retrieve(&quot;phoneContactability0&quot;)\r\n\t\t        .toEntity(Object.class)\r\n\t\t        .block();\r\n\r\nI am running the code from Eclipse on localhost:8080. Unfortunately if I pass the below string (and other similar variants I&#39;ve tried) to the method that generates the PoP token, the generated token will be the incorrect one.\r\n\r\nThe requests content-type is application/json. I think it is sending something along the lines of:\r\n\r\n    {&quot;variables&quot;:null,&quot;query&quot;:&quot;{\\nphoneContactability0: phoneContactability(ruleId:\\&quot;2\\&quot;, phoneNumber:\\&quot;1234567892\\&quot;){\\nphone{\\nphoneNumber\\nruleValue\\n}\\n}}&quot;}\r\n\r\nBut I need to know exactly what JSON body is being formed by the request so that the endpoint can verify the request body.\r\n\r\nIs there some way I can see exactly what JSON body is being passed to the destination? I am getting a **GraphQlTransportException** with a nested **WebClientResponseException** but neither of these objects are telling me what the exact request body is. Thanks","title":"Spring GraphQL HttpGraphQlClient - Need to know the exact request body","body":"<p>I'm using <strong>spring-boot-starter-graphql</strong>. I'm communicating with a GraphQL endpoint residing on another server. In addition to a bearer token header I'm also generating another kind of token header with a GraphQL endpoint, internally called a PoP token. This encrypted token is used to verify that the request body hasn't been altered. This token is generated from the http method, the bearer token, and the request body.</p>\n<p>I am generating this token from a string that resembles what is my best guess might be the JSON being generated by the <strong>HttpGraphQlClient</strong> as the request body in the request below.</p>\n<p>Unfortunately I can't seem to find out exactly what request body is being generated from this call:</p>\n<pre><code>        String documentStr = &quot;{\\nphoneContactability0: phoneContactability(ruleId:\\&quot;2\\&quot;, phoneNumber:\\&quot;1234567892\\&quot;){\\nphone{\\nphoneNumber\\nruleValue\\n}\\n}}&quot;;\n        Object response = httpGraphQlClient.mutate()\n            .url(url)\n            .headers(headers -&gt; {\n                headers.addAll(httpEntity.getHeaders());\n            })\n            .build()\n            .document(documentStr)\n            .retrieve(&quot;phoneContactability0&quot;)\n            .toEntity(Object.class)\n            .block();\n</code></pre>\n<p>I am running the code from Eclipse on localhost:8080. Unfortunately if I pass the below string (and other similar variants I've tried) to the method that generates the PoP token, the generated token will be the incorrect one.</p>\n<p>The requests content-type is application/json. I think it is sending something along the lines of:</p>\n<pre><code>{&quot;variables&quot;:null,&quot;query&quot;:&quot;{\\nphoneContactability0: phoneContactability(ruleId:\\&quot;2\\&quot;, phoneNumber:\\&quot;1234567892\\&quot;){\\nphone{\\nphoneNumber\\nruleValue\\n}\\n}}&quot;}\n</code></pre>\n<p>But I need to know exactly what JSON body is being formed by the request so that the endpoint can verify the request body.</p>\n<p>Is there some way I can see exactly what JSON body is being passed to the destination? I am getting a <strong>GraphQlTransportException</strong> with a nested <strong>WebClientResponseException</strong> but neither of these objects are telling me what the exact request body is. Thanks</p>\n"},{"tags":["java","spring-boot","neo4j","cypher","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656056012,"creation_date":1656054818,"answer_id":72740246,"question_id":72739487,"body_markdown":"Try this:\r\n   \r\n    MATCH (t:Train) \r\n    WITH t.trainId AS trainid, MAX(t.timestamp) AS maxTimeStamp\r\n    MATCH (n:Train{trainId: trainid, timestamp: maxTimeStamp})-[:HAS]-&gt;(m:Attributes{name:&#39;fuelPercentLeft&#39;})\r\n    WITH count(n) AS trainCount, SUM(m.value) AS totalFuel\r\n    RETURN (toFloat(totalFuel) / trainCount) AS averageFuel\r\n\r\nHere, we are finding the `maxTimeStamp`for each `trainId`, and then we fuel values for those trains, finally, we calculate the average.","title":"Neo4j Query : Find the Average of values found after fetching the latest record (By Timestamp) for each row","body":"<p>Try this:</p>\n<pre><code>MATCH (t:Train) \nWITH t.trainId AS trainid, MAX(t.timestamp) AS maxTimeStamp\nMATCH (n:Train{trainId: trainid, timestamp: maxTimeStamp})-[:HAS]-&gt;(m:Attributes{name:'fuelPercentLeft'})\nWITH count(n) AS trainCount, SUM(m.value) AS totalFuel\nRETURN (toFloat(totalFuel) / trainCount) AS averageFuel\n</code></pre>\n<p>Here, we are finding the <code>maxTimeStamp</code>for each <code>trainId</code>, and then we fuel values for those trains, finally, we calculate the average.</p>\n"}],"owner":{"account_id":15630167,"reputation":5,"user_id":11276687,"display_name":"Rohit Phutane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72740246,"answer_count":1,"score":0,"last_activity_date":1656056012,"creation_date":1656049519,"question_id":72739487,"body_markdown":"&quot;**Neo4j Query**&quot;\r\n\r\nFind the Average of values found after fetching the latest record (By Timestamp) for each row of a Java object(Node) which contains a List of another Java object(Node). Please have a look at below classes :\r\n\r\nClass Train contains a List of Attributes object.\r\n\r\n```\r\n@Node\r\n@Data\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@AllArgsConstructor\r\npublic class Train {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  private Long id;\r\n\r\n  private String trainId;\r\n\r\n  @Relationship(type = &quot;HAS&quot;, direction = Relationship.Direction.OUTGOING)\r\n  private List&lt;Attributes&gt; attributes;\r\n\r\n  private String timestamp;\r\n}\r\n```\r\nAttributes class is as below.\r\n```\r\n@Node\r\n@Data\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@AllArgsConstructor\r\npublic class Attributes {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  private Long id;\r\n\r\n  private String name;\r\n\r\n  private String value;\r\n}\r\n```\r\nThe records in DB look like below :\r\n```\r\n{&quot;id&quot; : &quot;123&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;48&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;56&quot;}]},\r\n**{&quot;id&quot; : &quot;456&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:49:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;39&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;59&quot;}]}**,\r\n\r\n{&quot;id&quot; : &quot;789&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T14:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;88&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;73&quot;}]},\r\n**{&quot;id&quot; : &quot;983&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T16:22:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;65&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;71&quot;}]}**,\r\n\r\n{&quot;id&quot; : &quot;553&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;22&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;44&quot;}]},\r\n**{&quot;id&quot; : &quot;801&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:52:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;20&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;46&quot;}]}**\r\n\r\n```\r\n**Note** : Database stores the historical data, that is trainId are repeated. Class Train contains the List of different attributes. The Bold records are the latest entries available in the database.\r\n\r\nWe need to write a Neo4j Cypher query which will fetch the latest record for every Distinct trainID. For these distinct trainIds we to find the average of fuelPercentLeft of all the fetched trains.\r\ne.g. The output of above mentioned sample data should be 41.333. Because the the distinct records we found by applying latest Timestamp are as below : \r\n```\r\n{&quot;id&quot; : &quot;456&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:49:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;39&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;59&quot;}]},\r\n\r\n\r\n{&quot;id&quot; : &quot;983&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T16:22:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;65&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;71&quot;}]},\r\n\r\n\r\n{&quot;id&quot; : &quot;801&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:52:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;20&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;46&quot;}]}\r\n```\r\n\r\nNote the highlighted fields above. Average of fuelPercentLeft in all three trains is 41.333 (AVG = (39+65+20)/3).\r\n\r\nRequirement : Query should fetch all the latest train records by timestamp available in DB and should return the AVERAGE value of their fuelPercentLeft. So the output should be 41.3333 in above case.\r\n\r\nBelow query is not working as expected : \r\n\r\n```\r\nMATCH (n:Train)-[:HAS]-&gt;(m:Attributes{name:&#39;fuelPercentLeft&#39;}) return n.trainId , MAX(n.timestamp) , m.value\r\n```\r\nKindly help! Thank you.\r\n\r\n","title":"Neo4j Query : Find the Average of values found after fetching the latest record (By Timestamp) for each row","body":"<p>&quot;<strong>Neo4j Query</strong>&quot;</p>\n<p>Find the Average of values found after fetching the latest record (By Timestamp) for each row of a Java object(Node) which contains a List of another Java object(Node). Please have a look at below classes :</p>\n<p>Class Train contains a List of Attributes object.</p>\n<pre><code>@Node\n@Data\n@NoArgsConstructor\n@SuperBuilder\n@AllArgsConstructor\npublic class Train {\n\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  private String trainId;\n\n  @Relationship(type = &quot;HAS&quot;, direction = Relationship.Direction.OUTGOING)\n  private List&lt;Attributes&gt; attributes;\n\n  private String timestamp;\n}\n</code></pre>\n<p>Attributes class is as below.</p>\n<pre><code>@Node\n@Data\n@NoArgsConstructor\n@SuperBuilder\n@AllArgsConstructor\npublic class Attributes {\n\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  private String name;\n\n  private String value;\n}\n</code></pre>\n<p>The records in DB look like below :</p>\n<pre><code>{&quot;id&quot; : &quot;123&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;48&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;56&quot;}]},\n**{&quot;id&quot; : &quot;456&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:49:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;39&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;59&quot;}]}**,\n\n{&quot;id&quot; : &quot;789&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T14:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;88&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;73&quot;}]},\n**{&quot;id&quot; : &quot;983&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T16:22:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;65&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;71&quot;}]}**,\n\n{&quot;id&quot; : &quot;553&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:10:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;22&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;44&quot;}]},\n**{&quot;id&quot; : &quot;801&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:52:10+00:00&quot;,&quot;attributes&quot;: [{&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;20&quot;},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;46&quot;}]}**\n\n</code></pre>\n<p><strong>Note</strong> : Database stores the historical data, that is trainId are repeated. Class Train contains the List of different attributes. The Bold records are the latest entries available in the database.</p>\n<p>We need to write a Neo4j Cypher query which will fetch the latest record for every Distinct trainID. For these distinct trainIds we to find the average of fuelPercentLeft of all the fetched trains.\ne.g. The output of above mentioned sample data should be 41.333. Because the the distinct records we found by applying latest Timestamp are as below :</p>\n<pre><code>{&quot;id&quot; : &quot;456&quot;, &quot;trainId&quot;: &quot;train1&quot;,&quot;timestamp&quot;: &quot;2022-05-27T10:49:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;39&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;59&quot;}]},\n\n\n{&quot;id&quot; : &quot;983&quot;, &quot;trainId&quot;: &quot;train2&quot;,&quot;timestamp&quot;: &quot;2022-05-27T16:22:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;65&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;71&quot;}]},\n\n\n{&quot;id&quot; : &quot;801&quot;, &quot;trainId&quot;: &quot;train3&quot;,&quot;timestamp&quot;: &quot;2022-05-27T23:52:10+00:00&quot;,&quot;attributes&quot;: [{**&quot;name&quot;:&quot;fuelPercentLeft&quot;,&quot;value&quot;: &quot;20&quot;**},{&quot;name&quot;: &quot;engineTemp&quot;,&quot;value&quot;: &quot;46&quot;}]}\n</code></pre>\n<p>Note the highlighted fields above. Average of fuelPercentLeft in all three trains is 41.333 (AVG = (39+65+20)/3).</p>\n<p>Requirement : Query should fetch all the latest train records by timestamp available in DB and should return the AVERAGE value of their fuelPercentLeft. So the output should be 41.3333 in above case.</p>\n<p>Below query is not working as expected :</p>\n<pre><code>MATCH (n:Train)-[:HAS]-&gt;(m:Attributes{name:'fuelPercentLeft'}) return n.trainId , MAX(n.timestamp) , m.value\n</code></pre>\n<p>Kindly help! Thank you.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655909319,"post_id":72717471,"comment_id":128444857,"body_markdown":"What does `myList` contain? Can you show us how it is defined?","body":"What does <code>myList</code> contain? Can you show us how it is defined?"},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1655909898,"post_id":72717471,"comment_id":128445109,"body_markdown":"@AlexMamo : I have defined myList as `ArrayList&lt;String&gt; myList = new ArrayList&lt;String&gt;();` After creating it , i am adding entries to it using some criteria as : `myList.add(post);` where post is variable which contains usernames.","body":"@AlexMamo : I have defined myList as <code>ArrayList&lt;String&gt; myList = new ArrayList&lt;String&gt;();</code> After creating it , i am adding entries to it using some criteria as : <code>myList.add(post);</code> where post is variable which contains usernames."},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1655909990,"post_id":72717471,"comment_id":128445140,"body_markdown":"And when i print myList, there are entries there like these : [&#39;user1&#39;,&#39;user2&#39;,&#39;user3&#39;]","body":"And when i print myList, there are entries there like these : [&#39;user1&#39;,&#39;user2&#39;,&#39;user3&#39;]"},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1655910056,"post_id":72717471,"comment_id":128445165,"body_markdown":"now i want to fetch details of these 3 users only with username **user1, user2, user3**.","body":"now i want to fetch details of these 3 users only with username <b>user1, user2, user3</b>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655911061,"post_id":72717471,"comment_id":128445528,"body_markdown":"Unfortunately, you cannot achieve that using FirebaseRecyclerAdapter/FirebaseRecyclerOptions. However, you can use get the result of each query individually. Is that ok with you?","body":"Unfortunately, you cannot achieve that using FirebaseRecyclerAdapter/FirebaseRecyclerOptions. However, you can use get the result of each query individually. Is that ok with you?"},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1655971585,"post_id":72717471,"comment_id":128459785,"body_markdown":"@AlexMamo i can&#39;t get the result of each query individually because myList can have any number of entries at run time. I am putting usernames in myList which matches some criteria. SO sometimes it can be empty or sometimes it can contain n number of entries where n is decided at run time.","body":"@AlexMamo i can&#39;t get the result of each query individually because myList can have any number of entries at run time. I am putting usernames in myList which matches some criteria. SO sometimes it can be empty or sometimes it can contain n number of entries where n is decided at run time."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655972053,"post_id":72717471,"comment_id":128459964,"body_markdown":"In that case, FirebaseRecyclerAdapter/FirebaseRecyclerOptions are not an option. You cannot pass multiple queries to the FirebaseRecyclerOptions object.","body":"In that case, FirebaseRecyclerAdapter/FirebaseRecyclerOptions are not an option. You cannot pass multiple queries to the FirebaseRecyclerOptions object."},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1656000980,"post_id":72717471,"comment_id":128471021,"body_markdown":"Thank you @AlexMamo. But is there any other way to achieve this?","body":"Thank you @AlexMamo. But is there any other way to achieve this?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1656005584,"post_id":72717471,"comment_id":128472576,"body_markdown":"Yes, as I already said, without use of the Firebase-UI library.","body":"Yes, as I already said, without use of the Firebase-UI library."},{"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"score":0,"creation_date":1656042067,"post_id":72717471,"comment_id":128480032,"body_markdown":"@AlexMamo, can you please show me how to write the query without using FirebaseRecyclerOptions object?","body":"@AlexMamo, can you please show me how to write the query without using FirebaseRecyclerOptions object?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656055497,"creation_date":1656055497,"answer_id":72740400,"question_id":72717471,"body_markdown":"As already mentioned in the comment, the Firebase-UI library doesn&#39;t help in your case, because it doesn&#39;t allow you to pass multiple queries to the FirebaseRecyclerOptions object. So you need to perform a separate query and use the combined result.\r\n\r\nWhen you are calling `.get()` on a Firebase Realtime Database query object, you are getting back a [Task][1] object. So the key to solving this problem is to use [whenAllSuccess(Collection&lt;? extends Task&lt;?&gt;&gt; tasks)][2]. In your case, it should look like this:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference usersRef = db.child(&quot;users&quot;);\r\n    Query query = usersRef.orderByChild(&quot;username&quot;);\r\n\r\n    List&lt;Task&lt;DataSnapshot&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    for (String username : myList) {\r\n        tasks.add(query.equalTo(username).get());\r\n    }\r\n\r\n    Tasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; list) {\r\n            //Do what you need to do with your list.\r\n            for (Object object : list) {\r\n                MainModel mm = ((DataSnapshot) object).getValue(MainModel.class);\r\n                if(mm != null) {\r\n                    Log.d(&quot;TAG&quot;, mm.getUsername());\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nAssuming that you have in your `MainModel` class a getter called `getUsername()`, the result in your logcat will be all the usernames of all returned children.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Task\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)","title":"is there any way to fetch records from firebase realtime database whose attribute has a value in my predefined list?","body":"<p>As already mentioned in the comment, the Firebase-UI library doesn't help in your case, because it doesn't allow you to pass multiple queries to the FirebaseRecyclerOptions object. So you need to perform a separate query and use the combined result.</p>\n<p>When you are calling <code>.get()</code> on a Firebase Realtime Database query object, you are getting back a <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task\" rel=\"nofollow noreferrer\">Task</a> object. So the key to solving this problem is to use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(java.util.Collection%3C?%20extends%20com.google.android.gms.tasks.Task%3C?%3E%3E)\" rel=\"nofollow noreferrer\">whenAllSuccess(Collection&gt; tasks)</a>. In your case, it should look like this:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference usersRef = db.child(&quot;users&quot;);\nQuery query = usersRef.orderByChild(&quot;username&quot;);\n\nList&lt;Task&lt;DataSnapshot&gt;&gt; tasks = new ArrayList&lt;&gt;();\nfor (String username : myList) {\n    tasks.add(query.equalTo(username).get());\n}\n\nTasks.whenAllSuccess(tasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; list) {\n        //Do what you need to do with your list.\n        for (Object object : list) {\n            MainModel mm = ((DataSnapshot) object).getValue(MainModel.class);\n            if(mm != null) {\n                Log.d(&quot;TAG&quot;, mm.getUsername());\n            }\n        }\n    }\n});\n</code></pre>\n<p>Assuming that you have in your <code>MainModel</code> class a getter called <code>getUsername()</code>, the result in your logcat will be all the usernames of all returned children.</p>\n"}],"owner":{"account_id":24494362,"reputation":3,"user_id":18410912,"display_name":"Sadam Hussain"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72740400,"answer_count":1,"score":0,"last_activity_date":1656055540,"creation_date":1655908462,"question_id":72717471,"body_markdown":"Basically what I am trying to do is I have a database with the name **users** having an attribute **username**. I have some usernames in one list and I want to show details of these users only whose username is present in the list. How can I write a query to fetch details of those users only whose username is found in this list? And note that there is no  lexicographical ordering so i can&#39;t use ```startAt()``` and ```endAt()``` functions as well.&lt;br&gt;\r\n*code snippet:*&lt;br&gt;\r\n=&gt; myList contains usernames.&lt;br&gt; This code doesn&#39;t yield accurate results.\r\nAny help would be really appreciated! Thank you!\r\n\r\n    FirebaseRecyclerOptions&lt;MainModel&gt; options =\r\n                        new FirebaseRecyclerOptions.Builder&lt;MainModel&gt;()\r\n                                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).orderByChild(&quot;username&quot;)\r\n                                        .startAt(myList.get(0)).endAt(myList.get(myList.size()-1)),MainModel.class).build();","title":"is there any way to fetch records from firebase realtime database whose attribute has a value in my predefined list?","body":"<p>Basically what I am trying to do is I have a database with the name <strong>users</strong> having an attribute <strong>username</strong>. I have some usernames in one list and I want to show details of these users only whose username is present in the list. How can I write a query to fetch details of those users only whose username is found in this list? And note that there is no  lexicographical ordering so i can't use <code>startAt()</code> and <code>endAt()</code> functions as well.<br>\n<em>code snippet:</em><br>\n=&gt; myList contains usernames.<br> This code doesn't yield accurate results.\nAny help would be really appreciated! Thank you!</p>\n<pre><code>FirebaseRecyclerOptions&lt;MainModel&gt; options =\n                    new FirebaseRecyclerOptions.Builder&lt;MainModel&gt;()\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).orderByChild(&quot;username&quot;)\n                                    .startAt(myList.get(0)).endAt(myList.get(myList.size()-1)),MainModel.class).build();\n</code></pre>\n"},{"tags":["java","android","ssl"],"answers":[{"tags":[],"owner":{"account_id":5534229,"reputation":377,"user_id":4393131,"display_name":"Pankaj Bansal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656055520,"creation_date":1656053636,"answer_id":72740047,"question_id":72739867,"body_markdown":"Did you try following in manifest file?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest ...&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;application\r\n        ...\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        ...&gt;\r\n        ...\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nyou can check this link also \r\nhttps://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\r\n","title":"Free SSL Enabled by Hostgator - Android Error : java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>Did you try following in manifest file?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest ...&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;application\n    ...\n    android:usesCleartextTraffic=&quot;true&quot;\n    ...&gt;\n    ...\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>you can check this link also\n<a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\">Android 8: Cleartext HTTP traffic not permitted</a></p>\n"}],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656055520,"creation_date":1656052359,"question_id":72739867,"body_markdown":"My app was working fine until Hostgator renewed by domain and enabled https using free SSL. Now i m getting below error while running app on some devices specially with Android 24 (7.0), whereas on android 30 and above apps is working fine.\r\n\r\ni followed many links on stackoverflow and android docs to handle this issue, but still not resolved. It seems i m still missing some fix. Can you help.\r\n\r\nHere is the Manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.internetdatasendcheck&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.InternetDataSendCheck&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n            &lt;/activity&gt;\r\n    \r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMy Network xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;debug-overrides&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;domain includeSubdomains=&quot;true&quot;&gt;https://innovativeapps.me&lt;/domain&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/debug-overrides&gt;\r\n    \r\n    \r\n    &lt;/network-security-config&gt;\r\n\r\n My Mainactivity to connect with server:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        URL checkurl = new URL(&quot;https://innovativeapps.me&quot;);\r\n                        HttpURLConnection conn = (HttpURLConnection) checkurl.openConnection();\r\n                        conn.connect();\r\n                        String response = conn.getResponseMessage();\r\n                        Log.i(&quot;Response: &quot;,conn.getResponseMessage() + conn.getResponseCode());\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            thread.start();\r\n    \r\n        }\r\n    }","title":"Free SSL Enabled by Hostgator - Android Error : java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>My app was working fine until Hostgator renewed by domain and enabled https using free SSL. Now i m getting below error while running app on some devices specially with Android 24 (7.0), whereas on android 30 and above apps is working fine.</p>\n<p>i followed many links on stackoverflow and android docs to handle this issue, but still not resolved. It seems i m still missing some fix. Can you help.</p>\n<p>Here is the Manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.internetdatasendcheck&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.InternetDataSendCheck&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>My Network xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;debug-overrides&gt;\n        &lt;trust-anchors&gt;\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;https://innovativeapps.me&lt;/domain&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/debug-overrides&gt;\n\n\n&lt;/network-security-config&gt;\n</code></pre>\n<p>My Mainactivity to connect with server:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    URL checkurl = new URL(&quot;https://innovativeapps.me&quot;);\n                    HttpURLConnection conn = (HttpURLConnection) checkurl.openConnection();\n                    conn.connect();\n                    String response = conn.getResponseMessage();\n                    Log.i(&quot;Response: &quot;,conn.getResponseMessage() + conn.getResponseCode());\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        thread.start();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1656068444,"post_id":72740238,"comment_id":128487164,"body_markdown":"Well, all implementations that include the module system (9 up). 8 is entirely unmodulated and although grey-haired and snaggle-toothed has not yet breathed its last.","body":"Well, all implementations that include the module system (9 up). 8 is entirely unmodulated and although grey-haired and snaggle-toothed has not yet breathed its last."}],"answers":[{"tags":[],"owner":{"account_id":3178559,"reputation":825,"user_id":2685839,"accept_rate":76,"display_name":"Syngularity"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1656055369,"creation_date":1656055369,"answer_id":72740379,"question_id":72740238,"body_markdown":"So while I try to look for solution I run into the following old OpenJDK bug report:\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8173128\r\n\r\nAccording to the first comment in the report the solution is the following:\r\n\r\n\t\t\t\t\t&lt;jvmFlags&gt;\r\n\t\t\t\t\t\t&lt;jvmFlag&gt;--add-opens=java.base/sun.security.ssl=ALL-UNNAMED&lt;/jvmFlag&gt;\r\n\t\t\t\t\t\t&lt;jvmFlag&gt;--add-opens=java.base/sun.security.util=ALL-UNNAMED&lt;/jvmFlag&gt;\r\n\t\t\t\t\t&lt;/jvmFlags&gt;\r\n\r\nIndeed it&#39;s solved the issue, so there should be a `=` mark between the `--add-opens` and the `module/package` definition. This was not an issue running from IntelliJ on windows during development.","title":"Using --add-opens flag with an Adoptium based java 17 docker image result in unrecognized option error","body":"<p>So while I try to look for solution I run into the following old OpenJDK bug report:</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8173128\" rel=\"noreferrer\">https://bugs.openjdk.org/browse/JDK-8173128</a></p>\n<p>According to the first comment in the report the solution is the following:</p>\n<pre><code>                &lt;jvmFlags&gt;\n                    &lt;jvmFlag&gt;--add-opens=java.base/sun.security.ssl=ALL-UNNAMED&lt;/jvmFlag&gt;\n                    &lt;jvmFlag&gt;--add-opens=java.base/sun.security.util=ALL-UNNAMED&lt;/jvmFlag&gt;\n                &lt;/jvmFlags&gt;\n</code></pre>\n<p>Indeed it's solved the issue, so there should be a <code>=</code> mark between the <code>--add-opens</code> and the <code>module/package</code> definition. This was not an issue running from IntelliJ on windows during development.</p>\n"}],"owner":{"account_id":3178559,"reputation":825,"user_id":2685839,"accept_rate":76,"display_name":"Syngularity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3474,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72740379,"answer_count":1,"score":3,"last_activity_date":1656055369,"creation_date":1656054791,"question_id":72740238,"body_markdown":"I have java 17 based spring project, where I have to connect to a ftps server with SSL session reuse. There are many solutions for this problem floating around the internet and all of them require the following JVM flags to be set:\r\n\r\n    --add-opens java.base/sun.security.ssl=ALL-UNNAMED \r\n    --add-opens java.base/sun.security.util=ALL-UNNAMED\r\n\r\nThe solution works perfectly during development time, but I&#39;m unable to create a working docker image. Currently, the images are created with `jib-maven-plugin` the base image is `amd64/eclipse-temurin:17.0.1_12-jre-alpine` but I already tried newer versions of Java 17 and older too, I even tried JDK imaged too.\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;from&gt;\r\n                    &lt;image&gt;${image.base}&lt;/image&gt;\r\n                &lt;/from&gt;\r\n                &lt;to&gt;\r\n                    &lt;image&gt;${image.name}:${project.version}&lt;/image&gt;\r\n                &lt;/to&gt;\r\n                &lt;container&gt;\r\n                    &lt;mainClass&gt;${image.mainClass}&lt;/mainClass&gt;\r\n                    &lt;jvmFlags&gt;\r\n                        &lt;jvmFlag&gt;--add-opens java.base/sun.security.ssl=ALL-UNNAMED&lt;/jvmFlag&gt;\r\n                        &lt;jvmFlag&gt;--add-opens java.base/sun.security.util=ALL-UNNAMED&lt;/jvmFlag&gt;\r\n                    &lt;/jvmFlags&gt;\r\n                &lt;/container&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n\r\nThis is the current set-up, all the variables are correct, and worked previously I just added the JVM flags, but with this whenever I try to start the docker container I get the following error message:\r\n\r\n&gt; Unrecognized option: --add-opens\r\n&gt; java.base/sun.security.ssl=ALL-UNNAMED Error: Could not create the\r\n&gt; Java Virtual Machine. Error: A fatal exception has occurred. Program\r\n&gt; will exit.\r\n\r\nI also tried adding this JVM argument with `JAVA_TOOL_OPTIONS` but I get the same results. Since I have no idea what could possibly go wrong I dumped the docker image tar, and checked the entry point defined in the config.json and that looked fine according to my knowledge.\r\n\r\n       &quot;Entrypoint&quot;:[\r\n          &quot;java&quot;,\r\n          &quot;--add-opens java.base/sun.security.ssl=ALL-UNNAMED --add-opens java.base/sun.security.util=ALL-UNNAMED&quot;,\r\n          &quot;-cp&quot;,\r\n          &quot;@/app/jib-classpath-file&quot;,\r\n          &quot;com.example.demo.DemoApplication&quot;\r\n       ],\r\n\r\nAs far as I know --add-opens is not an optional switch and every java implementation should use it or am I wrong? \r\n","title":"Using --add-opens flag with an Adoptium based java 17 docker image result in unrecognized option error","body":"<p>I have java 17 based spring project, where I have to connect to a ftps server with SSL session reuse. There are many solutions for this problem floating around the internet and all of them require the following JVM flags to be set:</p>\n<pre><code>--add-opens java.base/sun.security.ssl=ALL-UNNAMED \n--add-opens java.base/sun.security.util=ALL-UNNAMED\n</code></pre>\n<p>The solution works perfectly during development time, but I'm unable to create a working docker image. Currently, the images are created with <code>jib-maven-plugin</code> the base image is <code>amd64/eclipse-temurin:17.0.1_12-jre-alpine</code> but I already tried newer versions of Java 17 and older too, I even tried JDK imaged too.</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;from&gt;\n                &lt;image&gt;${image.base}&lt;/image&gt;\n            &lt;/from&gt;\n            &lt;to&gt;\n                &lt;image&gt;${image.name}:${project.version}&lt;/image&gt;\n            &lt;/to&gt;\n            &lt;container&gt;\n                &lt;mainClass&gt;${image.mainClass}&lt;/mainClass&gt;\n                &lt;jvmFlags&gt;\n                    &lt;jvmFlag&gt;--add-opens java.base/sun.security.ssl=ALL-UNNAMED&lt;/jvmFlag&gt;\n                    &lt;jvmFlag&gt;--add-opens java.base/sun.security.util=ALL-UNNAMED&lt;/jvmFlag&gt;\n                &lt;/jvmFlags&gt;\n            &lt;/container&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>This is the current set-up, all the variables are correct, and worked previously I just added the JVM flags, but with this whenever I try to start the docker container I get the following error message:</p>\n<blockquote>\n<p>Unrecognized option: --add-opens\njava.base/sun.security.ssl=ALL-UNNAMED Error: Could not create the\nJava Virtual Machine. Error: A fatal exception has occurred. Program\nwill exit.</p>\n</blockquote>\n<p>I also tried adding this JVM argument with <code>JAVA_TOOL_OPTIONS</code> but I get the same results. Since I have no idea what could possibly go wrong I dumped the docker image tar, and checked the entry point defined in the config.json and that looked fine according to my knowledge.</p>\n<pre><code>   &quot;Entrypoint&quot;:[\n      &quot;java&quot;,\n      &quot;--add-opens java.base/sun.security.ssl=ALL-UNNAMED --add-opens java.base/sun.security.util=ALL-UNNAMED&quot;,\n      &quot;-cp&quot;,\n      &quot;@/app/jib-classpath-file&quot;,\n      &quot;com.example.demo.DemoApplication&quot;\n   ],\n</code></pre>\n<p>As far as I know --add-opens is not an optional switch and every java implementation should use it or am I wrong?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1649513470,"post_id":71808697,"comment_id":126897279,"body_markdown":"I have seen similar Problems with the latest spirng versions. Is your Spring cloud dependency updated to &quot;2021.0.1&quot; ?","body":"I have seen similar Problems with the latest spirng versions. Is your Spring cloud dependency updated to &quot;2021.0.1&quot; ?"},{"owner":{"account_id":22296571,"reputation":11,"user_id":16522488,"display_name":"KL Ray"},"score":0,"creation_date":1649515814,"post_id":71808697,"comment_id":126897795,"body_markdown":"@GJohannes Yes exactly.","body":"@GJohannes Yes exactly."},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1649516482,"post_id":71808697,"comment_id":126897943,"body_markdown":"@KLRay If you provide some more information or code snippet it would be helpful analyse.","body":"@KLRay If you provide some more information or code snippet it would be helpful analyse."}],"owner":{"account_id":22296571,"reputation":11,"user_id":16522488,"display_name":"KL Ray"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656054986,"creation_date":1649512505,"question_id":71808697,"body_markdown":"Recently I have upgraded the spring boot version of my project from 2.5.3 to 2.5.12 and 2.6.6. In both versions, the same issue appear.\r\n\r\n*javax.servlet.http.httpservletrequest cannot be resolved*\r\n\r\nI tried adding the dependency in my pom.xml as below.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHowever, the other issues came out after solving the issue above.\r\n\r\n*The import org.springframework.boot.SpringApplication cannot be resolved\r\nThe import org.springframework.boot.autoconfigure.SpringBootApplication cannot be resolved\r\nThe import org.springframework.boot.context.properties.EnableConfigurationProperties cannot be resolved*\r\n\r\nWhat should I do to fix this?","title":"javax.servlet.http.httpservletrequest cannot be resolved after upgrading spring boot version","body":"<p>Recently I have upgraded the spring boot version of my project from 2.5.3 to 2.5.12 and 2.6.6. In both versions, the same issue appear.</p>\n<p><em>javax.servlet.http.httpservletrequest cannot be resolved</em></p>\n<p>I tried adding the dependency in my pom.xml as below.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, the other issues came out after solving the issue above.</p>\n<p><em>The import org.springframework.boot.SpringApplication cannot be resolved\nThe import org.springframework.boot.autoconfigure.SpringBootApplication cannot be resolved\nThe import org.springframework.boot.context.properties.EnableConfigurationProperties cannot be resolved</em></p>\n<p>What should I do to fix this?</p>\n"},{"tags":["java","dependency-injection","mockito","parameterized"],"answers":[{"tags":[],"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518011690,"creation_date":1518011690,"answer_id":48665616,"question_id":48665309,"body_markdown":"Sorry, I am a dufus. The issue is the @Parameter(x) internal members need to be public, not private.\r\n\r\nI spent an age searching Google for that. :-)","title":"How do I use @InjectMocks with a Parameterized test","body":"<p>Sorry, I am a dufus. The issue is the @Parameter(x) internal members need to be public, not private.</p>\n\n<p>I spent an age searching Google for that. :-)</p>\n"},{"tags":[],"owner":{"account_id":12252470,"reputation":1,"user_id":8942389,"display_name":"8milmillas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656054608,"creation_date":1656054608,"answer_id":72740198,"question_id":48665309,"body_markdown":"In my case, this code safe my life\r\n\r\n    @Before\r\n    public void beforeEach() {\r\n    \tMockitoAnnotations.initMocks(this);\r\n    }","title":"How do I use @InjectMocks with a Parameterized test","body":"<p>In my case, this code safe my life</p>\n<pre><code>@Before\npublic void beforeEach() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n"}],"owner":{"account_id":2983428,"reputation":602,"user_id":2532888,"accept_rate":100,"display_name":"Marcus MacWilliam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48665616,"answer_count":2,"score":1,"last_activity_date":1656054608,"creation_date":1518010803,"question_id":48665309,"body_markdown":"Note: I have done a search and read various blogs, but cannot find an example that matches what I am trying to do.\r\n\r\nI have a ConverterService which uses a CodeService that is injected into it. I am attempting to write a JUnit test in which I mock the CodeService and inject that mock into the ConverterService under test. The test is Parameterized.\r\n\r\nConsider the following code:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ConverterServiceTest {\r\n    \r\n    \t@Parameters(name=&quot;{index}; Test case {0}&quot;)\r\n    \tpublic static Collection&lt;Object[]&gt; initTestCases() {\r\n            final Object[][] testCases = {\r\n                    { &quot;One&quot;,   &quot;First&quot;,   TypeEnum.ONE   },\r\n                    { &quot;Two&quot;,   &quot;Second&quot;,  TypeEnum.TWO   },\r\n                    { &quot;Three&quot;, &quot;Third&quot;,   TypeEnum.THREE },\r\n                    { &quot;Four&quot;,  &quot;Fourth&quot;,  TypeEnum.FOUR  },\r\n                    { &quot;Five&quot;,  &quot;Fifth&quot;,   TypeEnum.FIVE  },\r\n                    { &quot;Six&quot;,   &quot;Unknown&quot;, TypeEnum.BLANK }\r\n            };\r\n            return Arrays.asList(testCases);\r\n        }\r\n        \r\n        @Parameter(0) private String   testName;\r\n        @Parameter(1) private String   testCode;\r\n        @Parameter(2) private TypeEnum expectedCode;\r\n        \r\n        @Rule public ExpectedException expected = ExpectedException.none();\r\n        @Mock private CodeService codeService;\r\n        @InjectMocks private ConverterService converter;\r\n        \r\n        @Before public void beforeEach() {\r\n            MockitoAnnotations.initMocks(this);\r\n            \r\n            when(codeService.isOne(anyString())).thenReturn(false);\r\n            when(codeService.isOne(&quot;First&quot;)).thenReturn(true);\r\n            \r\n            when(codeService.isTwo(anyString())).thenReturn(false);\r\n            when(codeService.isTwo(&quot;Second&quot;)).thenReturn(true);\r\n            \r\n            when(codeService.isThree(anyString())).thenReturn(false);\r\n            when(codeService.isThree(&quot;Third&quot;)).thenReturn(true);\r\n            \r\n            when(codeService.isFour(anyString())).thenReturn(false);\r\n            when(codeService.isFour(&quot;Fourth&quot;)).thenReturn(true);\r\n            \r\n            when(codeService.isFive(anyString())).thenReturn(false);\r\n            when(codeService.isFive(&quot;Fifth&quot;)).thenReturn(true);\r\n        }\r\n        \r\n        @Test public void testCodeConverter() {\r\n            assertThat(converter.convert(testCode), equalTo(expectedCode));\r\n        }\r\n    }\r\n\r\nI am using the Parameterized.class runner, I am using MockitoAnnotations.initMocks(this), my @Before is initialising the mock CodeService, but I am not getting injection into ConverterService. In fact I am getting some strange reflection errors:\r\n\r\n&gt; java.lang.IllegalAccessException: Class\r\n&gt; org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters\r\n&gt; can not access a member of class\r\n&gt; com.company.converter.ConverterServiceTest with modifiers &quot;private&quot;\r\n&gt; \tat sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102) \tat\r\n&gt; java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)\r\n&gt; \tat\r\n&gt; java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)\r\n&gt; \tat java.lang.reflect.Field.set(Field.java:761) \tat\r\n&gt; org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTestUsingFieldInjection(BlockJUnit4ClassRunnerWithParameters.java:62)\r\n&gt; \tat\r\n&gt; org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTest(BlockJUnit4ClassRunnerWithParameters.java:36)\r\n&gt; \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt; \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)\r\n&gt; \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n&gt; \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n&gt; \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) \tat\r\n&gt; org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) \tat\r\n&gt; org.junit.runners.ParentRunner.run(ParentRunner.java:363) \tat\r\n&gt; org.junit.runners.Suite.runChild(Suite.java:128) \tat\r\n&gt; org.junit.runners.Suite.runChild(Suite.java:27) \tat\r\n&gt; org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) \tat\r\n&gt; org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) \tat\r\n&gt; org.junit.runners.ParentRunner.run(ParentRunner.java:363) \tat\r\n&gt; org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\nIt seems to not like one of my test member fields being private, but is not telling me which one it has a problem with. All examples of unit tests I have seen, the only public must be the ExpectedException rule.","title":"How do I use @InjectMocks with a Parameterized test","body":"<p>Note: I have done a search and read various blogs, but cannot find an example that matches what I am trying to do.</p>\n\n<p>I have a ConverterService which uses a CodeService that is injected into it. I am attempting to write a JUnit test in which I mock the CodeService and inject that mock into the ConverterService under test. The test is Parameterized.</p>\n\n<p>Consider the following code:</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class ConverterServiceTest {\n\n    @Parameters(name=\"{index}; Test case {0}\")\n    public static Collection&lt;Object[]&gt; initTestCases() {\n        final Object[][] testCases = {\n                { \"One\",   \"First\",   TypeEnum.ONE   },\n                { \"Two\",   \"Second\",  TypeEnum.TWO   },\n                { \"Three\", \"Third\",   TypeEnum.THREE },\n                { \"Four\",  \"Fourth\",  TypeEnum.FOUR  },\n                { \"Five\",  \"Fifth\",   TypeEnum.FIVE  },\n                { \"Six\",   \"Unknown\", TypeEnum.BLANK }\n        };\n        return Arrays.asList(testCases);\n    }\n\n    @Parameter(0) private String   testName;\n    @Parameter(1) private String   testCode;\n    @Parameter(2) private TypeEnum expectedCode;\n\n    @Rule public ExpectedException expected = ExpectedException.none();\n    @Mock private CodeService codeService;\n    @InjectMocks private ConverterService converter;\n\n    @Before public void beforeEach() {\n        MockitoAnnotations.initMocks(this);\n\n        when(codeService.isOne(anyString())).thenReturn(false);\n        when(codeService.isOne(\"First\")).thenReturn(true);\n\n        when(codeService.isTwo(anyString())).thenReturn(false);\n        when(codeService.isTwo(\"Second\")).thenReturn(true);\n\n        when(codeService.isThree(anyString())).thenReturn(false);\n        when(codeService.isThree(\"Third\")).thenReturn(true);\n\n        when(codeService.isFour(anyString())).thenReturn(false);\n        when(codeService.isFour(\"Fourth\")).thenReturn(true);\n\n        when(codeService.isFive(anyString())).thenReturn(false);\n        when(codeService.isFive(\"Fifth\")).thenReturn(true);\n    }\n\n    @Test public void testCodeConverter() {\n        assertThat(converter.convert(testCode), equalTo(expectedCode));\n    }\n}\n</code></pre>\n\n<p>I am using the Parameterized.class runner, I am using MockitoAnnotations.initMocks(this), my @Before is initialising the mock CodeService, but I am not getting injection into ConverterService. In fact I am getting some strange reflection errors:</p>\n\n<blockquote>\n  <p>java.lang.IllegalAccessException: Class\n  org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters\n  can not access a member of class\n  com.company.converter.ConverterServiceTest with modifiers \"private\"\n    at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)   at\n  java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)\n    at\n  java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)\n    at java.lang.reflect.Field.set(Field.java:761)  at\n  org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTestUsingFieldInjection(BlockJUnit4ClassRunnerWithParameters.java:62)\n    at\n  org.junit.runners.parameterized.BlockJUnit4ClassRunnerWithParameters.createTest(BlockJUnit4ClassRunnerWithParameters.java:36)\n    at\n  org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)\n    at\n  org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at\n  org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)\n    at\n  org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at\n  org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)  at\n  org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)   at\n  org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)     at\n  org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)   at\n  org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)  at\n  org.junit.runners.ParentRunner.run(ParentRunner.java:363)     at\n  org.junit.runners.Suite.runChild(Suite.java:128)  at\n  org.junit.runners.Suite.runChild(Suite.java:27)   at\n  org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)   at\n  org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)   at\n  org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)     at\n  org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)   at\n  org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)  at\n  org.junit.runners.ParentRunner.run(ParentRunner.java:363)     at\n  org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at\n  org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at\n  org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at\n  org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\n    at\n  org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at\n  org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)</p>\n</blockquote>\n\n<p>It seems to not like one of my test member fields being private, but is not telling me which one it has a problem with. All examples of unit tests I have seen, the only public must be the ExpectedException rule.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1380877707,"post_id":19176944,"comment_id":28371892,"body_markdown":"I have not seen this particular message myself, but the error indicates that you are trying to use your server for retrieving packages using a user where you are properly authenticated but according to the server not authorized to use this service. Check with your server admin to make sure that the user you are using is supposed to be able to use your server and that it is fact correctly configured to do so.","body":"I have not seen this particular message myself, but the error indicates that you are trying to use your server for retrieving packages using a user where you are properly authenticated but according to the server not authorized to use this service. Check with your server admin to make sure that the user you are using is supposed to be able to use your server and that it is fact correctly configured to do so."},{"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"score":1,"creation_date":1380878107,"post_id":19176944,"comment_id":28372107,"body_markdown":"yeah.. its working fine, because I have added around 100 dependencies and they all work fine, I only have the issue with this one specifically.","body":"yeah.. its working fine, because I have added around 100 dependencies and they all work fine, I only have the issue with this one specifically."},{"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"score":0,"creation_date":1383042774,"post_id":19176944,"comment_id":29186734,"body_markdown":"This was a configuration issue on the maven server.","body":"This was a configuration issue on the maven server."},{"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"score":1,"creation_date":1405109729,"post_id":19176944,"comment_id":38314378,"body_markdown":"What was the configuration issue?  I have the same symptoms.  One artifact out of hundreds will not copy from my remote repository.  I can purge my local repo, and download a few hundred artifacts through our Nexus repository proxy, but one of them will fail exactly as described here with &quot;not authorized, ReasonPhrase:Unauthorized&quot;.  I can log into the web UI for the repository and download it fine manually.","body":"What was the configuration issue?  I have the same symptoms.  One artifact out of hundreds will not copy from my remote repository.  I can purge my local repo, and download a few hundred artifacts through our Nexus repository proxy, but one of them will fail exactly as described here with &quot;not authorized, ReasonPhrase:Unauthorized&quot;.  I can log into the web UI for the repository and download it fine manually."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1474061878,"post_id":19176944,"comment_id":66394838,"body_markdown":"see also http://stackoverflow.com/questions/10911287/maven-error-not-authorized-reasonphraseunauthorized","body":"see also <a href=\"http://stackoverflow.com/questions/10911287/maven-error-not-authorized-reasonphraseunauthorized\" title=\"maven error not authorized reasonphraseunauthorized\">stackoverflow.com/questions/10911287/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":380339,"reputation":613,"user_id":734284,"accept_rate":43,"display_name":"Ujjwal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380878962,"creation_date":1380878962,"answer_id":19177805,"question_id":19176944,"body_markdown":"I faced this issue when my proxy server was not configured correctly for maven. You should check with your network administrator about proxy server and add the it in `settings.xml` under conf dir.\r\n\r\nYou can look for `&lt;proxies&gt;` tag and update the fields.\r\n\r\nWhen I face this issue, I too felt it happened for just a few jars, but then all other required jar files were already present in my local repository and hence I was getting it for a few jars only.","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>I faced this issue when my proxy server was not configured correctly for maven. You should check with your network administrator about proxy server and add the it in <code>settings.xml</code> under conf dir.</p>\n\n<p>You can look for <code>&lt;proxies&gt;</code> tag and update the fields.</p>\n\n<p>When I face this issue, I too felt it happened for just a few jars, but then all other required jar files were already present in my local repository and hence I was getting it for a few jars only.</p>\n"},{"tags":[],"owner":{"account_id":52728,"reputation":15838,"user_id":157605,"accept_rate":76,"display_name":"Phyxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409092449,"creation_date":1409092449,"answer_id":25516238,"question_id":19176944,"body_markdown":"I had this error trying to deploy to an internal instance of Nexus with a Maven client that was using proxies with no &lt;nonProxyHosts&gt; settings. Attempting to access a Nexus instance on the LAN via a proxy resulted in the `Not authorized, ReasonPhrase:Unauthorized` error.\r\n\r\n`&lt;nonProxyHosts&gt;internal.hostname&lt;/nonProxyHosts&gt;` fixed the issue.","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>I had this error trying to deploy to an internal instance of Nexus with a Maven client that was using proxies with no  settings. Attempting to access a Nexus instance on the LAN via a proxy resulted in the <code>Not authorized, ReasonPhrase:Unauthorized</code> error.</p>\n\n<p><code>&lt;nonProxyHosts&gt;internal.hostname&lt;/nonProxyHosts&gt;</code> fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447055882,"creation_date":1447055882,"answer_id":33604685,"question_id":19176944,"body_markdown":"\t\r\nPlease check access of repository or password which had given in settings.xml","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>Please check access of repository or password which had given in settings.xml</p>\n"},{"tags":[],"owner":{"account_id":5796966,"reputation":11,"user_id":4572473,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495130796,"creation_date":1495130796,"answer_id":44055000,"question_id":19176944,"body_markdown":"Adding this in case it helps someone else.  In my case I was receiving this error and none of the solutions I found seemed to help.  In the end I needed to add the config option to settings.xml to set interactiveMode to false.\r\n","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>Adding this in case it helps someone else.  In my case I was receiving this error and none of the solutions I found seemed to help.  In the end I needed to add the config option to settings.xml to set interactiveMode to false.</p>\n"},{"tags":[],"owner":{"account_id":21521011,"reputation":39,"user_id":15862161,"display_name":"Raja Mahapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625588196,"creation_date":1625587850,"answer_id":68273998,"question_id":19176944,"body_markdown":"If you are sure that your mirror links are configured properly in the **settings.xml** file, then please try this:\r\n\r\n1. Navigate to .m2 -&gt; repositories \r\n2. Search for &quot;**lastupdated**&quot;\r\n3. Delete all the files that come in the search result. \r\n4. Then do a &#39;mvn clean install&#39; -&gt; new &#39;lastupdated&#39; files would be created.","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>If you are sure that your mirror links are configured properly in the <strong>settings.xml</strong> file, then please try this:</p>\n<ol>\n<li>Navigate to .m2 -&gt; repositories</li>\n<li>Search for &quot;<strong>lastupdated</strong>&quot;</li>\n<li>Delete all the files that come in the search result.</li>\n<li>Then do a 'mvn clean install' -&gt; new 'lastupdated' files would be created.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24147156,"reputation":1,"user_id":18112554,"display_name":"GURPREET SODI"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656053942,"creation_date":1656053942,"answer_id":72740103,"question_id":19176944,"body_markdown":"**Try to changes groupId for the dependencies which you have added.\r\nIt work**","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p><strong>Try to changes groupId for the dependencies which you have added.\nIt work</strong></p>\n"}],"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44106,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1656053942,"creation_date":1380876334,"question_id":19176944,"body_markdown":"I added below dependency in `pom.xml` file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.tuckey&lt;/groupId&gt;\r\n      &lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have alot of maven dependencies but when I add the one above I get:\r\n\r\n    Failed to read artifact descriptor for org.tuckey:urlrewritefilter:jar:4.0.4: Could not transfer artifact org.tuckey:urlrewritefilter:pom:4.0.4 from/to central (http://app1.stage.server.net/artifactory/libs-release): Not authorized, ReasonPhrase:Unauthorized. -&gt; [Help 1]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nthis is how the `settings.xml` file looks:\r\n\r\n    ..\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;username&gt;user&lt;/username&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;password&gt;my-password&lt;/password&gt;\r\n        &lt;/server&gt;\r\n        &lt;server&gt;\r\n          &lt;username&gt;user&lt;/username&gt;\r\n          &lt;id&gt;snapshots&lt;/id&gt;\r\n          &lt;password&gt;my-password&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n      &lt;profiles&gt;\r\n        ...\r\n      &lt;/profiles&gt;\r\n      &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\r\n      &lt;/activeProfiles&gt;\r\n    ..\r\n\r\nany help? tnx.\r\n","title":"maven Could not transfer artifact, Not authorized, ReasonPhrase:Unauthorized","body":"<p>I added below dependency in <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.tuckey&lt;/groupId&gt;\n  &lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;\n  &lt;version&gt;4.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have alot of maven dependencies but when I add the one above I get:</p>\n\n<pre><code>Failed to read artifact descriptor for org.tuckey:urlrewritefilter:jar:4.0.4: Could not transfer artifact org.tuckey:urlrewritefilter:pom:4.0.4 from/to central (http://app1.stage.server.net/artifactory/libs-release): Not authorized, ReasonPhrase:Unauthorized. -&gt; [Help 1]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n\n<p>this is how the <code>settings.xml</code> file looks:</p>\n\n<pre><code>..\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;username&gt;user&lt;/username&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;password&gt;my-password&lt;/password&gt;\n    &lt;/server&gt;\n    &lt;server&gt;\n      &lt;username&gt;user&lt;/username&gt;\n      &lt;id&gt;snapshots&lt;/id&gt;\n      &lt;password&gt;my-password&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n  &lt;profiles&gt;\n    ...\n  &lt;/profiles&gt;\n  &lt;activeProfiles&gt;\n    &lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n..\n</code></pre>\n\n<p>any help? tnx.</p>\n"},{"tags":["java","lambda","hashmap","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1655994183,"post_id":72731619,"comment_id":128468403,"body_markdown":"Note your first method&#39;s logic is equivalent to &quot;add `1` if value==0, add `2` if value!=0&quot; (since you never have even numbers), such that your values will be the odd numbers `1, 3, 5, 7, ...` and so on. If this is the intended logic, you could mutate your map after the `Collectors.counting()` like so: `map.replaceAll((k,v) -&gt; v*2 - 1);`","body":"Note your first method&#39;s logic is equivalent to &quot;add <code>1</code> if value==0, add <code>2</code> if value!=0&quot; (since you never have even numbers), such that your values will be the odd numbers <code>1, 3, 5, 7, ...</code> and so on. If this is the intended logic, you could mutate your map after the <code>Collectors.counting()</code> like so: <code>map.replaceAll((k,v) -&gt; v*2 - 1);</code>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655994418,"creation_date":1655994221,"answer_id":72731850,"question_id":72731619,"body_markdown":"Notice that your custom way of counting always results in a count that is one less than twice the result you would have got from counting normally. You are basically counting each thing as 2 things, except the first thing. The only edge case is 0, where both ways of counting produce the same result, but if it is 0, it won&#39;t be put in the map anyway, so we don&#39;t actually need to handle that. \r\n\r\nWe could compute the desired result from `Collectors.counting()` using the `collectingAndThen` collector:\r\n\r\n    var frequency = streamer.stream().collect(Collectors.groupingBy(Function.identity(),\r\n        Collectors.collectingAndThen(Collectors.counting(),\r\n            normalCount -&gt; normalCount * 2 - 1)\r\n        ));\r\n\r\n","title":"Count frequency (Specialized) in Java 8 using Lambdas","body":"<p>Notice that your custom way of counting always results in a count that is one less than twice the result you would have got from counting normally. You are basically counting each thing as 2 things, except the first thing. The only edge case is 0, where both ways of counting produce the same result, but if it is 0, it won't be put in the map anyway, so we don't actually need to handle that.</p>\n<p>We could compute the desired result from <code>Collectors.counting()</code> using the <code>collectingAndThen</code> collector:</p>\n<pre><code>var frequency = streamer.stream().collect(Collectors.groupingBy(Function.identity(),\n    Collectors.collectingAndThen(Collectors.counting(),\n        normalCount -&gt; normalCount * 2 - 1)\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656053909,"creation_date":1655995464,"answer_id":72732140,"question_id":72731619,"body_markdown":"Besides @Sweeper&#39;s answer to get the expected counting result, if your question also implied how to customize a collect operation, you could use the method `of()` of the `Collector` class.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\r\n\r\nThe method accepts a supplier, an accumulator as a `BiConsumer` and a combiner as a `BinaryOperator`. The supplier simply provides the container where to store the result, in your case a `Map&lt;String, Long&gt;`. The accumulator populates the container by putting or updating an entry with the custom frequency logic. Lastly, The combiner simply merges the sub-results of parallel executions in case the stream is executed as a parallel stream.\r\n\r\n```\r\nList&lt;String&gt; streamer = Arrays.asList(&quot;na&quot;, &quot;na&quot;, &quot;na&quot;, &quot;uk&quot;, &quot;uk&quot;);\r\nMap&lt;String, Long&gt; map4 = streamer.stream()\r\n        .collect(Collector.of(\r\n                HashMap::new,\r\n                (Map&lt;String, Long&gt; map, String s) -&gt; {\r\n                    if (!map.containsKey(s)) {\r\n                        map.put(s, 1L);\r\n                    } else {\r\n                        map.computeIfPresent(s, (String key, Long val) -&gt; val % 2 != 0 ? val + 2 : val + 1);\r\n                    }\r\n                },\r\n                (Map&lt;String, Long&gt; map1, Map&lt;String, Long&gt; map2) -&gt; {\r\n                    for (Map.Entry&lt;String, Long&gt; entry : map2.entrySet()) {\r\n                        map1.computeIfPresent(entry.getKey(), (key, val) -&gt; val + entry.getValue() + 1);\r\n                        map1.computeIfAbsent(entry.getKey(), key -&gt; entry.getValue());\r\n                    }\r\n                    return map1;\r\n                }\r\n        ));\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n{na=5, uk=3}\r\n```","title":"Count frequency (Specialized) in Java 8 using Lambdas","body":"<p>Besides @Sweeper's answer to get the expected counting result, if your question also implied how to customize a collect operation, you could use the method <code>of()</code> of the <code>Collector</code> class.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)</a></p>\n<p>The method accepts a supplier, an accumulator as a <code>BiConsumer</code> and a combiner as a <code>BinaryOperator</code>. The supplier simply provides the container where to store the result, in your case a <code>Map&lt;String, Long&gt;</code>. The accumulator populates the container by putting or updating an entry with the custom frequency logic. Lastly, The combiner simply merges the sub-results of parallel executions in case the stream is executed as a parallel stream.</p>\n<pre><code>List&lt;String&gt; streamer = Arrays.asList(&quot;na&quot;, &quot;na&quot;, &quot;na&quot;, &quot;uk&quot;, &quot;uk&quot;);\nMap&lt;String, Long&gt; map4 = streamer.stream()\n        .collect(Collector.of(\n                HashMap::new,\n                (Map&lt;String, Long&gt; map, String s) -&gt; {\n                    if (!map.containsKey(s)) {\n                        map.put(s, 1L);\n                    } else {\n                        map.computeIfPresent(s, (String key, Long val) -&gt; val % 2 != 0 ? val + 2 : val + 1);\n                    }\n                },\n                (Map&lt;String, Long&gt; map1, Map&lt;String, Long&gt; map2) -&gt; {\n                    for (Map.Entry&lt;String, Long&gt; entry : map2.entrySet()) {\n                        map1.computeIfPresent(entry.getKey(), (key, val) -&gt; val + entry.getValue() + 1);\n                        map1.computeIfAbsent(entry.getKey(), key -&gt; entry.getValue());\n                    }\n                    return map1;\n                }\n        ));\n</code></pre>\n<h4>Output</h4>\n<pre><code>{na=5, uk=3}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656022703,"creation_date":1656000590,"answer_id":72733372,"question_id":72731619,"body_markdown":"&gt; I want to count the frequency of each element in such a way that if\r\n&gt; the existing map&#39;s value is **even**, then I will add `1`; otherwise `2`\r\n\r\nTo perform a count in the way you&#39;ve described, instead of creating a *custom collector* or nesting three standard *collectors* one into each other with a combination `groupingBy` + `collectionAndThen` + `counting`, we can do it by using a **single** built-in *collector* `toMap()`.\r\n\r\nThe code is concise and descriptive:\r\n\r\n    public static Map&lt;String, Integer&gt; oddEvenCount(Collection&lt;String&gt; strings) {\r\n        \r\n        return strings.stream()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),                      // key mapper\r\n                str -&gt; 1,                                 // value mapper - executed a key has been encountered first time\r\n                (v1, v2) -&gt; v1 % 2 == 0 ? v1 + 1 : v1 + 2 // merging the values: if existing value is even adding `1`, otherwise `2`\r\n            ));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(oddEvenCount(Arrays.asList(&quot;na&quot;,&quot;na&quot;,&quot;na&quot;,&quot;uk&quot;,&quot;uk&quot;)));\r\n    }\r\n\r\n*Output:*\r\n```\r\n{na=5, uk=3}\r\n```\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/suo)","title":"Count frequency (Specialized) in Java 8 using Lambdas","body":"<blockquote>\n<p>I want to count the frequency of each element in such a way that if\nthe existing map's value is <strong>even</strong>, then I will add <code>1</code>; otherwise <code>2</code></p>\n</blockquote>\n<p>To perform a count in the way you've described, instead of creating a <em>custom collector</em> or nesting three standard <em>collectors</em> one into each other with a combination <code>groupingBy</code> + <code>collectionAndThen</code> + <code>counting</code>, we can do it by using a <strong>single</strong> built-in <em>collector</em> <code>toMap()</code>.</p>\n<p>The code is concise and descriptive:</p>\n<pre><code>public static Map&lt;String, Integer&gt; oddEvenCount(Collection&lt;String&gt; strings) {\n    \n    return strings.stream()\n        .collect(Collectors.toMap(\n            Function.identity(),                      // key mapper\n            str -&gt; 1,                                 // value mapper - executed a key has been encountered first time\n            (v1, v2) -&gt; v1 % 2 == 0 ? v1 + 1 : v1 + 2 // merging the values: if existing value is even adding `1`, otherwise `2`\n        ));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(oddEvenCount(Arrays.asList(&quot;na&quot;,&quot;na&quot;,&quot;na&quot;,&quot;uk&quot;,&quot;uk&quot;)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{na=5, uk=3}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/suo\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":9184639,"reputation":103,"user_id":10432355,"display_name":"SUVAM ROY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72732140,"answer_count":3,"score":1,"last_activity_date":1656053909,"creation_date":1655993396,"question_id":72731619,"body_markdown":"I have a list of strings like this: &quot;na&quot;,&quot;na&quot;,&quot;na&quot;,&quot;uk&quot;,&quot;uk&quot;. I want to count the frequency of each element in such a way that if the existing map&#39;s value is even, then I will add 1; otherwise 2.\r\n\r\n     List&lt;String&gt; streamer = Arrays.asList(&quot;na&quot;, &quot;na&quot;, &quot;na&quot;, &quot;uk&quot;, &quot;uk&quot;);\r\n     Map&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\r\n\r\n     for(String s:streamer) {\r\n         if (m.containsKey(s)) {\r\n             if(m.get(s) % 2 == 0)\r\n                 m.put(s, m.get(s) + 1);\r\n             else\r\n                 m.put(s,m.get(s)+2);\r\n         }\r\n         else\r\n             m.put(s,1);\r\n      }\r\n      System.out.println(&quot;CUSTOM Frequency::::&quot; + m); \r\n\r\nNow, I want to achieve the exact same thing using streams and lambdas.\r\n\r\nAll I could do is this:\r\n```\r\nMap&lt;String, Long&gt;map4 = streamer.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Function.identity(),\r\n        Collectors.counting())); // How can I get custom counting instead of Collectors.counting() ?","title":"Count frequency (Specialized) in Java 8 using Lambdas","body":"<p>I have a list of strings like this: &quot;na&quot;,&quot;na&quot;,&quot;na&quot;,&quot;uk&quot;,&quot;uk&quot;. I want to count the frequency of each element in such a way that if the existing map's value is even, then I will add 1; otherwise 2.</p>\n<pre><code> List&lt;String&gt; streamer = Arrays.asList(&quot;na&quot;, &quot;na&quot;, &quot;na&quot;, &quot;uk&quot;, &quot;uk&quot;);\n Map&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\n\n for(String s:streamer) {\n     if (m.containsKey(s)) {\n         if(m.get(s) % 2 == 0)\n             m.put(s, m.get(s) + 1);\n         else\n             m.put(s,m.get(s)+2);\n     }\n     else\n         m.put(s,1);\n  }\n  System.out.println(&quot;CUSTOM Frequency::::&quot; + m); \n</code></pre>\n<p>Now, I want to achieve the exact same thing using streams and lambdas.</p>\n<p>All I could do is this:</p>\n<pre><code>Map&lt;String, Long&gt;map4 = streamer.stream()\n    .collect(Collectors.groupingBy(\n        Function.identity(),\n        Collectors.counting())); // How can I get custom counting instead of Collectors.counting() ?\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":12662922,"reputation":143,"user_id":9203198,"display_name":"GJL"},"score":0,"creation_date":1585317497,"post_id":60874087,"comment_id":107724144,"body_markdown":"Why do you want to read the file in the first place? The _metadata file is written in a binary format. If you want to read it, you will have to understand how it is written: https://github.com/apache/flink/blob/200d3466bdb937eecf7038c22558e535d6e22aa3/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/metadata/MetadataV3Serializer.java#L61-L68","body":"Why do you want to read the file in the first place? The _metadata file is written in a binary format. If you want to read it, you will have to understand how it is written: <a href=\"https://github.com/apache/flink/blob/200d3466bdb937eecf7038c22558e535d6e22aa3/flink-runtime/src/main/java/org/apache/flink/runtime/checkpoint/metadata/MetadataV3Serializer.java#L61-L68\" rel=\"nofollow noreferrer\">github.com/apache/flink/blob/&hellip;</a>"},{"owner":{"account_id":12206881,"reputation":840,"user_id":8909722,"display_name":"monstereo"},"score":0,"creation_date":1585336164,"post_id":60874087,"comment_id":107733573,"body_markdown":"@GJL many thanks for your answer, however I could not resolve the serialization mechanism even in the debug session. Could you please provide more deep info? By the way, serialization happens at the class `SavepointV2Serializer.serialize(SavepointV2 checkpointMetadata, DataOutputStream dos)`, in my flink version.","body":"@GJL many thanks for your answer, however I could not resolve the serialization mechanism even in the debug session. Could you please provide more deep info? By the way, serialization happens at the class <code>SavepointV2Serializer.serialize(SavepointV2 checkpointMetadata, DataOutputStream dos)</code>, in my flink version."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585494622,"creation_date":1585494622,"answer_id":60916230,"question_id":60874087,"body_markdown":"If you want to either inspect or modify checkpoint files, the [State Processor API](https://ci.apache.org/projects/flink/flink-docs-stable/dev/libs/state_processor_api.html) is the recommended way to do this.\r\n\r\n[ReadRidesAndFaresSnapshot](https://github.com/ververica/flink-training-exercises/blob/master/src/main/java/com/ververica/flinktraining/solutions/datastream_java/state_processor/ReadRidesAndFaresSnapshot.java) is a simple example that can read checkpoints written by [RidesAndFaresSolution](https://github.com/ververica/flink-training-exercises/blob/master/src/main/java/com/ververica/flinktraining/solutions/datastream_java/state/RidesAndFaresSolution.java).","title":"Can not read _metadata for StateBackend Flink","body":"<p>If you want to either inspect or modify checkpoint files, the <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/libs/state_processor_api.html\" rel=\"nofollow noreferrer\">State Processor API</a> is the recommended way to do this.</p>\n\n<p><a href=\"https://github.com/ververica/flink-training-exercises/blob/master/src/main/java/com/ververica/flinktraining/solutions/datastream_java/state_processor/ReadRidesAndFaresSnapshot.java\" rel=\"nofollow noreferrer\">ReadRidesAndFaresSnapshot</a> is a simple example that can read checkpoints written by <a href=\"https://github.com/ververica/flink-training-exercises/blob/master/src/main/java/com/ververica/flinktraining/solutions/datastream_java/state/RidesAndFaresSolution.java\" rel=\"nofollow noreferrer\">RidesAndFaresSolution</a>.</p>\n"},{"tags":[],"owner":{"account_id":12068144,"reputation":21,"user_id":8824444,"display_name":"정민철"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656053637,"creation_date":1656053637,"answer_id":72740048,"question_id":60874087,"body_markdown":"You can use the deserialize method in the Metadata Serializer.\r\nNote that if &quot;_metadata&quot; data is saved as a file, additional HEADER_MAGIC_NUMBER and MetadataSerializers version information will be saved, so you need to add a code.\r\n\r\nThe sample code can be found in the link below.\r\n\r\n\r\nhttps://ngela.tistory.com/49\r\n\r\n","title":"Can not read _metadata for StateBackend Flink","body":"<p>You can use the deserialize method in the Metadata Serializer.\nNote that if &quot;_metadata&quot; data is saved as a file, additional HEADER_MAGIC_NUMBER and MetadataSerializers version information will be saved, so you need to add a code.</p>\n<p>The sample code can be found in the link below.</p>\n<p><a href=\"https://ngela.tistory.com/49\" rel=\"nofollow noreferrer\">https://ngela.tistory.com/49</a></p>\n"}],"owner":{"account_id":12206881,"reputation":840,"user_id":8909722,"display_name":"monstereo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60916230,"answer_count":2,"score":2,"last_activity_date":1656053637,"creation_date":1585248051,"question_id":60874087,"body_markdown":"I have just created simple flink application and enabled the checkpointing. I see that checkpointing files are created but I can not read them. File includes invalid characters.\r\nHow can I convert these files to readable format? (Any solution for any language or online way is okey for me)\r\n\r\nHere is the checkpoint folder structure\r\n\r\n```\r\ncheckpoint_folder -&gt; chk-23 -&gt; _metadata\r\n// _metadata file content:\r\nL�$4c464d1a-1e37-47aa-957e-02f587343bbd��\r\nV��������C�Corg.apache.flink.api.java.typeutils.runtime.TupleSerializerSnapshot���\r\n�������������������������������������������������������������������������������������������\t�������\t\r\n```\r\nWhen I opened with sublime text:\r\n```\r\n4960 672d 0000 0002 0000 0000 0000 0122\r\n0000 0000 0000 0004 20ba 6b65 f974 81d5\r\n5700 70de 90e4 e791 0000 000c 0000 0080\r\n0000 0001 0000 000c 0000 0000 ffff ffff\r\nffff ffff 0000 0000 0000 0001 0400 0000\r\n0100 0673 706c 6974 7300 0000 0000 0100\r\n2465 3165 3133 6662 342d 3838 3061 2d34\r\n3063 392d 3965 6539 2d39 3465 3262 6465\r\n```\r\n\r\n- Entry point:\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n\t\tfinal String checkpointPath=&quot;file:///to/path/checkpoint_folder&quot;;\r\n\t\t// set up the streaming execution environment\r\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment();\r\n\r\n\t\tenv.setStateBackend(new MemoryStateBackend(checkpointPath, null));\r\n\t\tenv.enableCheckpointing(1000);\r\n}\r\n```\r\n\r\n","title":"Can not read _metadata for StateBackend Flink","body":"<p>I have just created simple flink application and enabled the checkpointing. I see that checkpointing files are created but I can not read them. File includes invalid characters.\nHow can I convert these files to readable format? (Any solution for any language or online way is okey for me)</p>\n\n<p>Here is the checkpoint folder structure</p>\n\n<pre><code>checkpoint_folder -&gt; chk-23 -&gt; _metadata\n// _metadata file content:\nL�$4c464d1a-1e37-47aa-957e-02f587343bbd��\nV��������C�Corg.apache.flink.api.java.typeutils.runtime.TupleSerializerSnapshot���\n������������������������������������������������������������������������������������������� ������� \n</code></pre>\n\n<p>When I opened with sublime text:</p>\n\n<pre><code>4960 672d 0000 0002 0000 0000 0000 0122\n0000 0000 0000 0004 20ba 6b65 f974 81d5\n5700 70de 90e4 e791 0000 000c 0000 0080\n0000 0001 0000 000c 0000 0000 ffff ffff\nffff ffff 0000 0000 0000 0001 0400 0000\n0100 0673 706c 6974 7300 0000 0000 0100\n2465 3165 3133 6662 342d 3838 3061 2d34\n3063 392d 3965 6539 2d39 3465 3262 6465\n</code></pre>\n\n<ul>\n<li>Entry point:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n        final String checkpointPath=\"file:///to/path/checkpoint_folder\";\n        // set up the streaming execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironment();\n\n        env.setStateBackend(new MemoryStateBackend(checkpointPath, null));\n        env.enableCheckpointing(1000);\n}\n</code></pre>\n"},{"tags":["java","project","jdeveloper"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656053466,"creation_date":1656053466,"answer_id":72740020,"question_id":72734079,"body_markdown":"A LOV is defined by one or more tags depending on the kind of LOV (select one choice, combobox, input select one choice,...).\r\nYou can use any tool that can look for text inside files to search for specific tags.\r\n\r\nAs you did not tell us the framework you use I give you a sample for the tag  ADF selectOneChoice uses:\r\n\r\n    af:selectOneChoice\r\n\r\nSo you can search the projects folders for all files containing this text. As you tagged the question with JDeveloper, you can use JDevs Find-&gt;&#39;Find in Files...&#39; menu option. In the dialog you get, you enter the right data where to look (scope) and what to look for(Search Text). There are more options you can use to get faster and better results. Click on the &#39;?&#39; button to get more help on how to use this feature.\r\n","title":"Is there an easy way to search for all LOV&#39;s in a given Application/Project?","body":"<p>A LOV is defined by one or more tags depending on the kind of LOV (select one choice, combobox, input select one choice,...).\nYou can use any tool that can look for text inside files to search for specific tags.</p>\n<p>As you did not tell us the framework you use I give you a sample for the tag  ADF selectOneChoice uses:</p>\n<pre><code>af:selectOneChoice\n</code></pre>\n<p>So you can search the projects folders for all files containing this text. As you tagged the question with JDeveloper, you can use JDevs Find-&gt;'Find in Files...' menu option. In the dialog you get, you enter the right data where to look (scope) and what to look for(Search Text). There are more options you can use to get faster and better results. Click on the '?' button to get more help on how to use this feature.</p>\n"}],"owner":{"account_id":12260753,"reputation":27,"user_id":8948522,"display_name":"Ghostinshell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656053466,"creation_date":1656004042,"question_id":72734079,"body_markdown":"I am working on a fairly large project.  I need to find all LOV&#39;s in a single application and modify them.  The application has about 4 projects.  There might be about 300 LOV&#39;s.  Is there an easy way to search for these?  Could I regex this?  Is there a way to get a data model diagram of all LOV&#39;s.\r\n\r\nAny response is appreciated.  Thanks in advance.","title":"Is there an easy way to search for all LOV&#39;s in a given Application/Project?","body":"<p>I am working on a fairly large project.  I need to find all LOV's in a single application and modify them.  The application has about 4 projects.  There might be about 300 LOV's.  Is there an easy way to search for these?  Could I regex this?  Is there a way to get a data model diagram of all LOV's.</p>\n<p>Any response is appreciated.  Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656052709,"post_id":72739768,"comment_id":128481934,"body_markdown":"The shutdown hook, as the name implies, is called when the jvm is shutdown that isn&#39;t happening and thus the app will keep running. Explicitly calling close will destroy the context.","body":"The shutdown hook, as the name implies, is called when the jvm is shutdown that isn&#39;t happening and thus the app will keep running. Explicitly calling close will destroy the context."},{"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"score":0,"creation_date":1656052824,"post_id":72739768,"comment_id":128481961,"body_markdown":"ohh I see...calling System.exit() closed the application","body":"ohh I see...calling System.exit() closed the application"}],"answers":[{"tags":[],"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656053015,"creation_date":1656053015,"answer_id":72739951,"question_id":72739768,"body_markdown":"As corrected by [M. Deinum][1] registerShutdownHook will close only when the JVM is shutdown which was not happening in my case.\r\n\r\nTo close the process I used `System.exit(0)` and then the application was closed and the beans were destroyed\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"Spring registerShutdownHook() not working but close() works","body":"<p>As corrected by <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> registerShutdownHook will close only when the JVM is shutdown which was not happening in my case.</p>\n<p>To close the process I used <code>System.exit(0)</code> and then the application was closed and the beans were destroyed</p>\n"}],"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72739951,"answer_count":1,"score":0,"last_activity_date":1656053015,"creation_date":1656051589,"question_id":72739768,"body_markdown":"I was using the following code:\r\n\r\n    ApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n    (ConfigurableApplicationContext) context).close();\r\n\r\nThe above works fine and destroys the beans created. \r\nBut when I do this:\r\n\r\n    ApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n    ((AbstractApplicationContext) context).registerShutdownHook();\r\n\r\nBeans are not destroyed and application is not closed. What am I missing here?\r\nChanging `ApplicationContext` to `AbstractApplicationContext` also did not work.","title":"Spring registerShutdownHook() not working but close() works","body":"<p>I was using the following code:</p>\n<pre><code>ApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n(ConfigurableApplicationContext) context).close();\n</code></pre>\n<p>The above works fine and destroys the beans created.\nBut when I do this:</p>\n<pre><code>ApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n((AbstractApplicationContext) context).registerShutdownHook();\n</code></pre>\n<p>Beans are not destroyed and application is not closed. What am I missing here?\nChanging <code>ApplicationContext</code> to <code>AbstractApplicationContext</code> also did not work.</p>\n"},{"tags":["java","json","rest","maven"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1435528484,"post_id":31105142,"comment_id":50225428,"body_markdown":"And how does your HTTP request looks like. Are you sure you are sending &#39;Content-Type&#39; and &#39;Accept&#39; header as application/json for POST request?","body":"And how does your HTTP request looks like. Are you sure you are sending &#39;Content-Type&#39; and &#39;Accept&#39; header as application/json for POST request?"},{"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"score":0,"creation_date":1435528747,"post_id":31105142,"comment_id":50225512,"body_markdown":"Thanks for your answer. I have posted a screen shot of the POST request trying to include all details.","body":"Thanks for your answer. I have posted a screen shot of the POST request trying to include all details."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":1,"creation_date":1435529172,"post_id":31105142,"comment_id":50225628,"body_markdown":"Can you show the http headers in your request?","body":"Can you show the http headers in your request?"},{"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"score":0,"creation_date":1435530429,"post_id":31105142,"comment_id":50225915,"body_markdown":"This was the problem, the header in the request. Thank you Juned.","body":"This was the problem, the header in the request. Thank you Juned."}],"answers":[{"tags":[],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435530547,"creation_date":1435530547,"answer_id":31105410,"question_id":31105142,"body_markdown":"The solution is to include in the header:\r\n\r\nContent-Type in the header and value as application-json\r\n\r\n![Solution POST request][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Lkrmt.jpg","title":"Problems using @Consumes(MediaType.APPLICATION_JSON) in RESTful web service","body":"<p>The solution is to include in the header:</p>\n\n<p>Content-Type in the header and value as application-json</p>\n\n<p><img src=\"https://i.stack.imgur.com/Lkrmt.jpg\" alt=\"Solution POST request\"></p>\n"},{"tags":[],"owner":{"account_id":25544257,"reputation":1,"user_id":19329840,"display_name":"Harshitha M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656052821,"creation_date":1655721971,"answer_id":72685914,"question_id":31105142,"body_markdown":"I too was facing the same issue, then I rechecked the code, I got that I was missing `@Component` on required class, later it worked properly.","title":"Problems using @Consumes(MediaType.APPLICATION_JSON) in RESTful web service","body":"<p>I too was facing the same issue, then I rechecked the code, I got that I was missing <code>@Component</code> on required class, later it worked properly.</p>\n"}],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14743,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1656052821,"creation_date":1435528327,"question_id":31105142,"body_markdown":"Thanks for your help. I am developing a simple RESTful webservice using JSON as a media Type. I have used successfully JSON in `GET` and `DELETE` method through the use of `@Produces(MediaType.APPLICATION_JSON)`. However, when I want to implement `POST` method using `@Produces(MediaType.APPLICATION_JSON)` and `@Consumes(MediaType.APPLICATION_JSON)` I get the next error:\r\n\r\n\r\n    &lt;h1&gt;HTTP Status 415 - Unsupported Media Type&lt;/h1&gt;\r\n            &lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&gt;\r\n                &lt;p&gt;\r\n                    &lt;b&gt;type&lt;/b&gt; Status report\r\n                &lt;/p&gt;\r\n                &lt;p&gt;\r\n                    &lt;b&gt;message&lt;/b&gt;\r\n                    &lt;u&gt;Unsupported Media Type&lt;/u&gt;\r\n                &lt;/p&gt;\r\n                &lt;p&gt;\r\n                    &lt;b&gt;description&lt;/b&gt;\r\n                    &lt;u&gt;The server refused this request because the request entity is in a format not supported by the requested resource for the requested method.&lt;/u&gt;\r\n                &lt;/p&gt;\r\n\r\nMy source code is the next. ALL the methods are working except the `POST` method:\r\npackage RESTful.library.resources;\r\n\r\n    import java.util.List;\r\n    \r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.DELETE;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    import RESTful.library.service.BookService;\r\n    import RESTful.library.model.Books;\r\n    \r\n    \r\n    /** This class will implement all the request on the resource: \r\n     * GET\r\n     * PUT\r\n     * DELETE\r\n     * POST\r\n     */\r\n    @Path(&quot;/books&quot;)\r\n    public class BookResource {\r\n        \r\n    \tDataBaseSQLite db = new DataBaseSQLite();\r\n    \tBookService bookService = new BookService();\r\n    \t\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\t\r\n    \tpublic List&lt;Books&gt; getBooks(){\r\n    \t\tList&lt;Books&gt; books = bookService.getAllBooks();\t\t\r\n    \t\treturn books;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/{bookID}&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Books getBook(@PathParam(&quot;bookID&quot;) int ID){\r\n    \t\treturn bookService.getBook(ID);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Consumes(MediaType.APPLICATION_JSON)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Books addBook(Books book) {\r\n    \t\tif (book != null) \r\n    \t\t\treturn bookService.addBook(book);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@DELETE\r\n    \t@Path(&quot;/{bookID}&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic String removeBook(@PathParam(&quot;bookID&quot;) int ID){\r\n    \t\tboolean removed= bookService.deleteBook(ID);\r\n    \t\tString answer=&quot;Removed successfully&quot;;\r\n    \t\tif(removed = false){\r\n    \t\t\tanswer=&quot;Not removed&quot;;\r\n    \t\t}\r\n    \t\treturn answer;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/name/{bookName}&quot;)\r\n    \t@Produces(MediaType.APPLICATION_XML)\r\n    \tpublic Books findBook(@PathParam(&quot;bookName&quot;) String name) {\r\n    \t\tif (name != null)\r\n    \t\t\treturn bookService.findBook(name);\r\n    \t\treturn null;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI have the in pom.xml the next dependency satisfied:\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\nMy request is sent in the next way using POSTMAN:\r\n![POST request using JSON][1]\r\n  \r\nDo you have any idea what can be the problem? Thank you in advance.\r\n\r\nCheers\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gW896.jpg","title":"Problems using @Consumes(MediaType.APPLICATION_JSON) in RESTful web service","body":"<p>Thanks for your help. I am developing a simple RESTful webservice using JSON as a media Type. I have used successfully JSON in <code>GET</code> and <code>DELETE</code> method through the use of <code>@Produces(MediaType.APPLICATION_JSON)</code>. However, when I want to implement <code>POST</code> method using <code>@Produces(MediaType.APPLICATION_JSON)</code> and <code>@Consumes(MediaType.APPLICATION_JSON)</code> I get the next error:</p>\n\n<pre><code>&lt;h1&gt;HTTP Status 415 - Unsupported Media Type&lt;/h1&gt;\n        &lt;HR size=\"1\" noshade=\"noshade\"&gt;\n            &lt;p&gt;\n                &lt;b&gt;type&lt;/b&gt; Status report\n            &lt;/p&gt;\n            &lt;p&gt;\n                &lt;b&gt;message&lt;/b&gt;\n                &lt;u&gt;Unsupported Media Type&lt;/u&gt;\n            &lt;/p&gt;\n            &lt;p&gt;\n                &lt;b&gt;description&lt;/b&gt;\n                &lt;u&gt;The server refused this request because the request entity is in a format not supported by the requested resource for the requested method.&lt;/u&gt;\n            &lt;/p&gt;\n</code></pre>\n\n<p>My source code is the next. ALL the methods are working except the <code>POST</code> method:\npackage RESTful.library.resources;</p>\n\n<pre><code>import java.util.List;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.DELETE;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport RESTful.library.service.BookService;\nimport RESTful.library.model.Books;\n\n\n/** This class will implement all the request on the resource: \n * GET\n * PUT\n * DELETE\n * POST\n */\n@Path(\"/books\")\npublic class BookResource {\n\n    DataBaseSQLite db = new DataBaseSQLite();\n    BookService bookService = new BookService();\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)   \n    public List&lt;Books&gt; getBooks(){\n        List&lt;Books&gt; books = bookService.getAllBooks();      \n        return books;\n    }\n\n    @GET\n    @Path(\"/{bookID}\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public Books getBook(@PathParam(\"bookID\") int ID){\n        return bookService.getBook(ID);\n\n    }\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Books addBook(Books book) {\n        if (book != null) \n            return bookService.addBook(book);\n        return null;\n    }\n\n    @DELETE\n    @Path(\"/{bookID}\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public String removeBook(@PathParam(\"bookID\") int ID){\n        boolean removed= bookService.deleteBook(ID);\n        String answer=\"Removed successfully\";\n        if(removed = false){\n            answer=\"Not removed\";\n        }\n        return answer;\n    }\n\n    @GET\n    @Path(\"/name/{bookName}\")\n    @Produces(MediaType.APPLICATION_XML)\n    public Books findBook(@PathParam(\"bookName\") String name) {\n        if (name != null)\n            return bookService.findBook(name);\n        return null;\n\n    }\n}\n</code></pre>\n\n<p>I have the in pom.xml the next dependency satisfied:</p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>My request is sent in the next way using POSTMAN:\n<img src=\"https://i.stack.imgur.com/gW896.jpg\" alt=\"POST request using JSON\"></p>\n\n<p>Do you have any idea what can be the problem? Thank you in advance.</p>\n\n<p>Cheers</p>\n"},{"tags":["java","scala"],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655943347,"creation_date":1655940506,"answer_id":72722999,"question_id":72722931,"body_markdown":"Double check your imports. I could run your code by using these imports: \r\n\r\n    import java.io.{BufferedReader, StringReader}\r\n    import java.util.Base64\r\n    import java.util.stream.Collectors\r\n\r\nThe code compiled and ran just fine. I just added a `println` at the end:\r\n\r\n    object Main extends App {\r\n    \r\n      def convertPemToDer(pem: String): Array[Byte] = {\r\n        val bufferedReader = new BufferedReader(new StringReader(pem))\r\n        val encoded = bufferedReader.lines\r\n          .filter((line: String) =&gt;\r\n            !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)\r\n          )\r\n          .collect(Collectors.joining)\r\n        Base64.getDecoder.decode(encoded)\r\n      }\r\n    \r\n      println(convertPemToDer(&quot;Elephant&quot;).mkString(&quot;Array(&quot;, &quot;, &quot;, &quot;)&quot;))\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Array(18, 87, -87, -123, -87, -19)\r\n\r\n\r\nIf you are not using Intellij with the Scala plugin, your IDE might not be able to recognize `Functional Interfaces` as `Single Abstract Methods`. So you might need to adapt your code into a more Java-style approach, like this: \r\n\r\n      def convertPemToDer(pem: String): Array[Byte] = {\r\n        val bufferedReader = new BufferedReader(new StringReader(pem))\r\n        val encoded = bufferedReader.lines\r\n          .filter(new Predicate[String] {\r\n            override def test(line: String): Boolean =\r\n              !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)\r\n          })\r\n          .collect(Collectors.joining)\r\n        Base64.getDecoder.decode(encoded)\r\n      }","title":"Convert to Scala code PEM to DER Certificate Follow it up from Google KMS Library","body":"<p>Double check your imports. I could run your code by using these imports:</p>\n<pre><code>import java.io.{BufferedReader, StringReader}\nimport java.util.Base64\nimport java.util.stream.Collectors\n</code></pre>\n<p>The code compiled and ran just fine. I just added a <code>println</code> at the end:</p>\n<pre><code>object Main extends App {\n\n  def convertPemToDer(pem: String): Array[Byte] = {\n    val bufferedReader = new BufferedReader(new StringReader(pem))\n    val encoded = bufferedReader.lines\n      .filter((line: String) =&gt;\n        !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)\n      )\n      .collect(Collectors.joining)\n    Base64.getDecoder.decode(encoded)\n  }\n\n  println(convertPemToDer(&quot;Elephant&quot;).mkString(&quot;Array(&quot;, &quot;, &quot;, &quot;)&quot;))\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Array(18, 87, -87, -123, -87, -19)\n</code></pre>\n<p>If you are not using Intellij with the Scala plugin, your IDE might not be able to recognize <code>Functional Interfaces</code> as <code>Single Abstract Methods</code>. So you might need to adapt your code into a more Java-style approach, like this:</p>\n<pre><code>  def convertPemToDer(pem: String): Array[Byte] = {\n    val bufferedReader = new BufferedReader(new StringReader(pem))\n    val encoded = bufferedReader.lines\n      .filter(new Predicate[String] {\n        override def test(line: String): Boolean =\n          !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)\n      })\n      .collect(Collectors.joining)\n    Base64.getDecoder.decode(encoded)\n  }\n</code></pre>\n"}],"owner":{"account_id":25623573,"reputation":13,"user_id":19395042,"display_name":"Random Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72722999,"answer_count":1,"score":1,"last_activity_date":1656052383,"creation_date":1655939742,"question_id":72722931,"body_markdown":"I am new to Scala and was trying to convert this:\r\n\r\n      public static byte[] convertPemToDer(String pem) {\r\n                BufferedReader bufferedReader = new BufferedReader(new StringReader(pem));\r\n                String encoded =\r\n                        bufferedReader\r\n                                .lines()\r\n                                .filter(line -&gt; !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;))\r\n                                .collect(Collectors.joining());\r\n                return Base64.getDecoder().decode(encoded);\r\n            }\r\n \r\n to Scala code:\r\n   \r\n    \r\n    def convertPemToDer(pem: String): Array[Byte] = {\r\n        val bufferedReader = new BufferedReader(new StringReader(pem))\r\n        val encoded = bufferedReader.lines.filter((line: String) =&gt; !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)).collect(Collectors.joining)\r\n        Base64.getDecoder.decode(encoded)\r\n      }\r\n\r\nIt shows this type mismatch within filter:\r\n\r\n    type mismatch; found : String =&gt; Boolean required: java.util.function.Predicate[_ &gt;: String]\r\n\r\n \r\n","title":"Convert to Scala code PEM to DER Certificate Follow it up from Google KMS Library","body":"<p>I am new to Scala and was trying to convert this:</p>\n<pre><code>  public static byte[] convertPemToDer(String pem) {\n            BufferedReader bufferedReader = new BufferedReader(new StringReader(pem));\n            String encoded =\n                    bufferedReader\n                            .lines()\n                            .filter(line -&gt; !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;))\n                            .collect(Collectors.joining());\n            return Base64.getDecoder().decode(encoded);\n        }\n</code></pre>\n<p>to Scala code:</p>\n<pre><code>def convertPemToDer(pem: String): Array[Byte] = {\n    val bufferedReader = new BufferedReader(new StringReader(pem))\n    val encoded = bufferedReader.lines.filter((line: String) =&gt; !line.startsWith(&quot;-----BEGIN&quot;) &amp;&amp; !line.startsWith(&quot;-----END&quot;)).collect(Collectors.joining)\n    Base64.getDecoder.decode(encoded)\n  }\n</code></pre>\n<p>It shows this type mismatch within filter:</p>\n<pre><code>type mismatch; found : String =&gt; Boolean required: java.util.function.Predicate[_ &gt;: String]\n</code></pre>\n"},{"tags":["java","kotlin","jooq"],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656052337,"creation_date":1656052337,"question_id":72739864,"body_markdown":"Feeling a bit stupid, but I have a simple architecture where the repositories are the only ones accessing `~Record` classes and the services work on POJOs.\r\n\r\nSo basic flow is\r\n* repository fetches into POJO\r\n* service modifies POJO\r\n* repository receives POJO to update DB\r\n* repository matches updated POJO to record\r\n* repository stores (insert or update) the record\r\n* repository maps updated record (may have received generated values from insert) back to POJO\r\n* service receives updated POJO\r\n\r\ni.e. something like\r\n```kotlin\r\nfun save(set: MySet): MySet {\r\n    set.description = set.description ?: &quot;&quot;\r\n    val record = ctx.newRecord(MY_SET, set).apply {\r\n        store()\r\n    }\r\n    // &quot;When store() performs an INSERT statement, jOOQ attempts to load any generated keys from the database back into the record.&quot;\r\n    // cf. https://www.jooq.org/doc/latest/manual/sql-execution/crud-with-updatablerecords/simple-crud/\r\n    return record.into(MySet::class.java)\r\n}\r\n```\r\n\r\nThis fails because to quote documentation for `newRecord`:\r\n&gt; Create a new pre-filled Record that can be inserted into the corresponding table.\r\n&gt; This performs roughly the inverse operation of Record.into(Class)\r\n&gt; The resulting record will have its internal &quot;changed&quot; flags set to true for all values. **This means that UpdatableRecord.store() will perform an INSERT statement.** If you wish to store the record using an UPDATE statement, use executeUpdate(UpdatableRecord) instead.\r\n\r\nI CAN, of course, check if I have an id, and then either fetch the record from the database or create a new one\r\n\r\n```kotlin\r\nfun save(set: MySet): MySet {\r\n    set.description = set.description ?: &quot;&quot;\r\n\r\n    val record = when (val setId = set.id) {\r\n        null -&gt; ctx.newRecord(MY_SET, set)\r\n        else -&gt; ctx.selectFrom(MY_SET).where(MY_SET.ID.eq(setId)).fetchSingle()\r\n    }\r\n\r\n    //TOOD: update record manually from `set`\r\n\r\n    record.store()\r\n\r\n    // &quot;When store() performs an INSERT statement, jOOQ attempts to load any generated keys from the database back into the record.&quot;\r\n    // cf. https://www.jooq.org/doc/latest/manual/sql-execution/crud-with-updatablerecords/simple-crud/\r\n    return record.into(MySet::class.java)\r\n}\r\n```\r\n\r\nBut that kind of is a lot of boilerplate code.\r\n\r\nI DO have access to the `MySetDao` but that one just has `insert` and `update`, there&#39;s no `store` or `upsert`, as far as I can see.\r\n\r\nIs there a way to turn a POJO into an `UpdatableRecord` directly or is this fetch-and-manual-update the way to go?\r\n\r\n(Worth noting: the `MySet` POJO used here was generated by jOOQ.)\r\n","title":"jOOQ upsert a pojo","body":"<p>Feeling a bit stupid, but I have a simple architecture where the repositories are the only ones accessing <code>~Record</code> classes and the services work on POJOs.</p>\n<p>So basic flow is</p>\n<ul>\n<li>repository fetches into POJO</li>\n<li>service modifies POJO</li>\n<li>repository receives POJO to update DB</li>\n<li>repository matches updated POJO to record</li>\n<li>repository stores (insert or update) the record</li>\n<li>repository maps updated record (may have received generated values from insert) back to POJO</li>\n<li>service receives updated POJO</li>\n</ul>\n<p>i.e. something like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun save(set: MySet): MySet {\n    set.description = set.description ?: &quot;&quot;\n    val record = ctx.newRecord(MY_SET, set).apply {\n        store()\n    }\n    // &quot;When store() performs an INSERT statement, jOOQ attempts to load any generated keys from the database back into the record.&quot;\n    // cf. https://www.jooq.org/doc/latest/manual/sql-execution/crud-with-updatablerecords/simple-crud/\n    return record.into(MySet::class.java)\n}\n</code></pre>\n<p>This fails because to quote documentation for <code>newRecord</code>:</p>\n<blockquote>\n<p>Create a new pre-filled Record that can be inserted into the corresponding table.\nThis performs roughly the inverse operation of Record.into(Class)\nThe resulting record will have its internal &quot;changed&quot; flags set to true for all values. <strong>This means that UpdatableRecord.store() will perform an INSERT statement.</strong> If you wish to store the record using an UPDATE statement, use executeUpdate(UpdatableRecord) instead.</p>\n</blockquote>\n<p>I CAN, of course, check if I have an id, and then either fetch the record from the database or create a new one</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun save(set: MySet): MySet {\n    set.description = set.description ?: &quot;&quot;\n\n    val record = when (val setId = set.id) {\n        null -&gt; ctx.newRecord(MY_SET, set)\n        else -&gt; ctx.selectFrom(MY_SET).where(MY_SET.ID.eq(setId)).fetchSingle()\n    }\n\n    //TOOD: update record manually from `set`\n\n    record.store()\n\n    // &quot;When store() performs an INSERT statement, jOOQ attempts to load any generated keys from the database back into the record.&quot;\n    // cf. https://www.jooq.org/doc/latest/manual/sql-execution/crud-with-updatablerecords/simple-crud/\n    return record.into(MySet::class.java)\n}\n</code></pre>\n<p>But that kind of is a lot of boilerplate code.</p>\n<p>I DO have access to the <code>MySetDao</code> but that one just has <code>insert</code> and <code>update</code>, there's no <code>store</code> or <code>upsert</code>, as far as I can see.</p>\n<p>Is there a way to turn a POJO into an <code>UpdatableRecord</code> directly or is this fetch-and-manual-update the way to go?</p>\n<p>(Worth noting: the <code>MySet</code> POJO used here was generated by jOOQ.)</p>\n"},{"tags":["java","date","locale","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1520194700,"post_id":1661325,"comment_id":85205151,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":3,"up_vote_count":99,"is_accepted":true,"score":96,"last_activity_date":1458286591,"creation_date":1257169116,"answer_id":1661389,"question_id":1661325,"body_markdown":"Use [DateFormat.getDateInstance(int style, Locale locale)](https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#getDateInstance(int,%20java.util.Locale)) instead of creating your own patterns with `SimpleDateFormat`.","title":"SimpleDateFormat and locale based format string","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#getDateInstance(int,%20java.util.Locale)\" rel=\"noreferrer\">DateFormat.getDateInstance(int style, Locale locale)</a> instead of creating your own patterns with <code>SimpleDateFormat</code>.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1506319809,"creation_date":1257169173,"answer_id":1661393,"question_id":1661325,"body_markdown":"Use the **style + locale**: *DateFormat.getDateInstance(int style, Locale locale)* \r\n\r\nCheck  [http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html][1]\r\n\r\nRun the following example to see the differences:\r\n\r\n    import java.text.DateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    public class DateFormatDemoSO {\r\n      public static void main(String args[]) {\r\n        int style = DateFormat.MEDIUM;\r\n        //Also try with style = DateFormat.FULL and DateFormat.SHORT\r\n        Date date = new Date();\r\n        DateFormat df;\r\n        df = DateFormat.getDateInstance(style, Locale.UK);\r\n        System.out.println(&quot;United Kingdom: &quot; + df.format(date));\r\n        df = DateFormat.getDateInstance(style, Locale.US);\r\n        System.out.println(&quot;USA: &quot; + df.format(date));   \r\n        df = DateFormat.getDateInstance(style, Locale.FRANCE);\r\n        System.out.println(&quot;France: &quot; + df.format(date));\r\n        df = DateFormat.getDateInstance(style, Locale.ITALY);\r\n        System.out.println(&quot;Italy: &quot; + df.format(date));\r\n        df = DateFormat.getDateInstance(style, Locale.JAPAN);\r\n        System.out.println(&quot;Japan: &quot; + df.format(date));\r\n      }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    United Kingdom: 25-Sep-2017\r\n    USA: Sep 25, 2017\r\n    France: 25 sept. 2017\r\n    Italy: 25-set-2017\r\n    Japan: 2017/09/25\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html","title":"SimpleDateFormat and locale based format string","body":"<p>Use the <strong>style + locale</strong>: <em>DateFormat.getDateInstance(int style, Locale locale)</em> </p>\n\n<p>Check  <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html</a></p>\n\n<p>Run the following example to see the differences:</p>\n\n<pre><code>import java.text.DateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class DateFormatDemoSO {\n  public static void main(String args[]) {\n    int style = DateFormat.MEDIUM;\n    //Also try with style = DateFormat.FULL and DateFormat.SHORT\n    Date date = new Date();\n    DateFormat df;\n    df = DateFormat.getDateInstance(style, Locale.UK);\n    System.out.println(\"United Kingdom: \" + df.format(date));\n    df = DateFormat.getDateInstance(style, Locale.US);\n    System.out.println(\"USA: \" + df.format(date));   \n    df = DateFormat.getDateInstance(style, Locale.FRANCE);\n    System.out.println(\"France: \" + df.format(date));\n    df = DateFormat.getDateInstance(style, Locale.ITALY);\n    System.out.println(\"Italy: \" + df.format(date));\n    df = DateFormat.getDateInstance(style, Locale.JAPAN);\n    System.out.println(\"Japan: \" + df.format(date));\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>United Kingdom: 25-Sep-2017\nUSA: Sep 25, 2017\nFrance: 25 sept. 2017\nItaly: 25-set-2017\nJapan: 2017/09/25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144722,"reputation":12485,"user_id":353985,"accept_rate":59,"display_name":"redochka"},"down_vote_count":2,"up_vote_count":99,"is_accepted":false,"score":97,"last_activity_date":1446545425,"creation_date":1359584234,"answer_id":14614906,"question_id":1661325,"body_markdown":"\r\n&lt;!-- language: java --&gt;\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;EEEE dd MMM yyyy&quot;, Locale.ENGLISH);\r\n    String formatted = dateFormat.format(the_date_you_want_here);\r\n\r\n","title":"SimpleDateFormat and locale based format string","body":"<p></p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEEE dd MMM yyyy\", Locale.ENGLISH);\nString formatted = dateFormat.format(the_date_you_want_here);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3266166,"reputation":634,"user_id":2750614,"display_name":"Yaro"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1378382836,"creation_date":1378382836,"answer_id":18635897,"question_id":1661325,"body_markdown":"Localization of date string:\r\n\r\nBased on redsonic&#39;s post:\r\n\r\n    private String localizeDate(String inputdate, Locale locale) { \r\n\r\n        Date date = new Date();\r\n        SimpleDateFormat dateFormatCN = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;, locale);       \r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n\r\n    \r\n        try {\r\n            date = dateFormat.parse(inputdate);\r\n        } catch (ParseException e) {\r\n            log.warn(&quot;Input date was not correct. Can not localize it.&quot;);\r\n            return inputdate;\r\n        }\r\n        return dateFormatCN.format(date);\r\n    }\r\n\r\n    String localizedDate = localizeDate(&quot;05-Sep-2013&quot;, new Locale(&quot;zh&quot;,&quot;CN&quot;));\r\n\r\nwill be like 05-九月-2013","title":"SimpleDateFormat and locale based format string","body":"<p>Localization of date string:</p>\n\n<p>Based on redsonic's post:</p>\n\n<pre><code>private String localizeDate(String inputdate, Locale locale) { \n\n    Date date = new Date();\n    SimpleDateFormat dateFormatCN = new SimpleDateFormat(\"dd-MMM-yyyy\", locale);       \n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MMM-yyyy\");\n\n\n    try {\n        date = dateFormat.parse(inputdate);\n    } catch (ParseException e) {\n        log.warn(\"Input date was not correct. Can not localize it.\");\n        return inputdate;\n    }\n    return dateFormatCN.format(date);\n}\n\nString localizedDate = localizeDate(\"05-Sep-2013\", new Locale(\"zh\",\"CN\"));\n</code></pre>\n\n<p>will be like 05-九月-2013</p>\n"},{"tags":[],"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1416912115,"creation_date":1416912115,"answer_id":27124468,"question_id":1661325,"body_markdown":"# Java8\n     import java.time.format.DateTimeFormatter;         \n     myDate.format(DateTimeFormatter.ofPattern(&quot;dd-MMM-YYYY&quot;,new Locale(&quot;ar&quot;)))","title":"SimpleDateFormat and locale based format string","body":"<h1>Java8</h1>\n<pre><code> import java.time.format.DateTimeFormatter;         \n myDate.format(DateTimeFormatter.ofPattern(&quot;dd-MMM-YYYY&quot;,new Locale(&quot;ar&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1520195587,"creation_date":1480625646,"answer_id":40920186,"question_id":1661325,"body_markdown":"# tl;dr\r\n\r\n    LocalDate.now().format(\r\n        DateTimeFormatter.ofLocalizedDate( FormatStyle.MEDIUM )\r\n                         .withLocale( new Locale( &quot;no&quot; , &quot;NO&quot; ) )\r\n    )\r\n\r\nThe troublesome classes of `java.util.Date` and `SimpleDateFormat` are now legacy, supplanted by the java.time classes.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# `DateTimeFormatter`\r\n\r\nUse [`DateTimeFormatter`][1] to generate strings representing only the date-portion or the time-portion.\r\n\r\nThe [`DateTimeFormatter`][1] class can automatically [localize](https://en.wikipedia.org/wiki/Internationalization_and_localization).\r\n\r\nTo localize, specify:\r\n\r\n - [`FormatStyle`](http://docs.oracle.com/javase/9/docs/api/java/time/format/FormatStyle.html) to determine how long or abbreviated should the string be.\r\n - [`Locale`](http://docs.oracle.com/javase/9/docs/api/java/util/Locale.html) to determine (a) the human language for translation of name of day, name of month, and such, and (b) the cultural norms deciding issues of abbreviation, capitalization, punctuation, and such.\r\n\r\nExample:\r\n\r\n    Locale l = Locale.CANADA_FRENCH ; \r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.FULL ).withLocale( l );\r\n    String output = ld.format( f );\r\n\r\nGoing the other direction, you can parse a localized string.\r\n\r\n    LocalDate ld = LocalDate.parse( input , f );\r\n\r\nNote that the locale and time zone are completely orthogonal issues. You can have a Montr&#233;al moment presented in Japanese language or an Auckland New Zealand moment presented in Hindi language. \r\n\r\nAnother example: Change `6 junio 2012` (Spanish) to `2012-06-06` (standard [ISO 8601][1] format). The java.time classes use ISO 8601 formats by default for parsing/generating strings.\r\n\r\n    String input = &quot;6 junio 2012&quot;;\r\n    Locale l = new Locale ( &quot;es&quot; , &quot;ES&quot; );\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;d MMMM uuuu&quot; , l );\r\n    LocalDate ld = LocalDate.parse ( input , f );\r\n    String output = ld.toString();  // 2012-06-06. \r\n\r\n## Peruse formats\r\n\r\nHere is some example code for perusing the results of multiple formats in multiple locales, automatically localized.\r\n\r\nAn [`EnumSet`][2] is an implementation of [`Set`][3], highly optimized for both low memory usage and fast execution speed when collecting [`Enum`][4] objects. So, `EnumSet.allOf( FormatStyle.class )` gives us a collection of all four of the [`FormatStyle`][5] enum objects to loop. For more info, see [Oracle Tutorial on enum types][6].\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    LocalDate ld = LocalDate.of( 2018 , Month.JANUARY , 23 );\r\n\r\n    List &lt; Locale &gt; locales = new ArrayList &lt;&gt;( 3 );\r\n    locales.add( Locale.CANADA_FRENCH );\r\n    locales.add( new Locale( &quot;no&quot; , &quot;NO&quot; ) );\r\n    locales.add( Locale.US );\r\n\r\n    // Or use all locales (almost 800 of them, for about 120K text results).\r\n    // Locale[] locales = Locale.getAvailableLocales(); // All known locales. Almost 800 of them.\r\n\r\n    for ( Locale locale : locales )\r\n    {\r\n        System.out.println( &quot;------|  LOCALE: &quot; + locale + &quot; — &quot; + locale.getDisplayName() + &quot;  |----------------------------------&quot; + System.lineSeparator() );\r\n\r\n        for ( FormatStyle style : EnumSet.allOf( FormatStyle.class ) )\r\n        {\r\n            DateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( style ).withLocale( locale );\r\n            String output = ld.format( f );\r\n            System.out.println( output );\r\n        }\r\n        System.out.println( &quot;&quot; );\r\n    }\r\n    System.out.println( &quot;&#171; fin &#187;&quot; + System.lineSeparator() );\r\n\r\n\r\nOutput.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\r\n    ------|  LOCALE: fr_CA — French (Canada)  |----------------------------------\r\n    \r\n    mardi 23 janvier 2018\r\n    23 janvier 2018\r\n    23 janv. 2018\r\n    18-01-23\r\n    \r\n    ------|  LOCALE: no_NO — Norwegian (Norway)  |----------------------------------\r\n    \r\n    tirsdag 23. januar 2018\r\n    23. januar 2018\r\n    23. jan. 2018\r\n    23.01.2018\r\n    \r\n    ------|  LOCALE: en_US — English (United States)  |----------------------------------\r\n    \r\n    Tuesday, January 23, 2018\r\n    January 23, 2018\r\n    Jan 23, 2018\r\n    1/23/18\r\n    \r\n    &#171; fin &#187;\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/EnumSet.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/lang/Enum.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/format/FormatStyle.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"SimpleDateFormat and locale based format string","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDate.now().format(\n    DateTimeFormatter.ofLocalizedDate( FormatStyle.MEDIUM )\n                     .withLocale( new Locale( \"no\" , \"NO\" ) )\n)\n</code></pre>\n\n<p>The troublesome classes of <code>java.util.Date</code> and <code>SimpleDateFormat</code> are now legacy, supplanted by the java.time classes.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1><code>DateTimeFormatter</code></h1>\n\n<p>Use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> to generate strings representing only the date-portion or the time-portion.</p>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class can automatically <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"noreferrer\">localize</a>.</p>\n\n<p>To localize, specify:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/format/FormatStyle.html\" rel=\"noreferrer\"><code>FormatStyle</code></a> to determine how long or abbreviated should the string be.</li>\n<li><a href=\"http://docs.oracle.com/javase/9/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a> to determine (a) the human language for translation of name of day, name of month, and such, and (b) the cultural norms deciding issues of abbreviation, capitalization, punctuation, and such.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>Locale l = Locale.CANADA_FRENCH ; \nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.FULL ).withLocale( l );\nString output = ld.format( f );\n</code></pre>\n\n<p>Going the other direction, you can parse a localized string.</p>\n\n<pre><code>LocalDate ld = LocalDate.parse( input , f );\n</code></pre>\n\n<p>Note that the locale and time zone are completely orthogonal issues. You can have a Montréal moment presented in Japanese language or an Auckland New Zealand moment presented in Hindi language. </p>\n\n<p>Another example: Change <code>6 junio 2012</code> (Spanish) to <code>2012-06-06</code> (standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format). The java.time classes use ISO 8601 formats by default for parsing/generating strings.</p>\n\n<pre><code>String input = \"6 junio 2012\";\nLocale l = new Locale ( \"es\" , \"ES\" );\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"d MMMM uuuu\" , l );\nLocalDate ld = LocalDate.parse ( input , f );\nString output = ld.toString();  // 2012-06-06. \n</code></pre>\n\n<h2>Peruse formats</h2>\n\n<p>Here is some example code for perusing the results of multiple formats in multiple locales, automatically localized.</p>\n\n<p>An <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/EnumSet.html\" rel=\"noreferrer\"><code>EnumSet</code></a> is an implementation of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a>, highly optimized for both low memory usage and fast execution speed when collecting <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Enum.html\" rel=\"noreferrer\"><code>Enum</code></a> objects. So, <code>EnumSet.allOf( FormatStyle.class )</code> gives us a collection of all four of the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/format/FormatStyle.html\" rel=\"noreferrer\"><code>FormatStyle</code></a> enum objects to loop. For more info, see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">Oracle Tutorial on enum types</a>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate ld = LocalDate.of( 2018 , Month.JANUARY , 23 );\n\nList &lt; Locale &gt; locales = new ArrayList &lt;&gt;( 3 );\nlocales.add( Locale.CANADA_FRENCH );\nlocales.add( new Locale( \"no\" , \"NO\" ) );\nlocales.add( Locale.US );\n\n// Or use all locales (almost 800 of them, for about 120K text results).\n// Locale[] locales = Locale.getAvailableLocales(); // All known locales. Almost 800 of them.\n\nfor ( Locale locale : locales )\n{\n    System.out.println( \"------|  LOCALE: \" + locale + \" — \" + locale.getDisplayName() + \"  |----------------------------------\" + System.lineSeparator() );\n\n    for ( FormatStyle style : EnumSet.allOf( FormatStyle.class ) )\n    {\n        DateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( style ).withLocale( locale );\n        String output = ld.format( f );\n        System.out.println( output );\n    }\n    System.out.println( \"\" );\n}\nSystem.out.println( \"« fin »\" + System.lineSeparator() );\n</code></pre>\n\n<p>Output.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>------|  LOCALE: fr_CA — French (Canada)  |----------------------------------\n\nmardi 23 janvier 2018\n23 janvier 2018\n23 janv. 2018\n18-01-23\n\n------|  LOCALE: no_NO — Norwegian (Norway)  |----------------------------------\n\ntirsdag 23. januar 2018\n23. januar 2018\n23. jan. 2018\n23.01.2018\n\n------|  LOCALE: en_US — English (United States)  |----------------------------------\n\nTuesday, January 23, 2018\nJanuary 23, 2018\nJan 23, 2018\n1/23/18\n\n« fin »\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":6005725,"reputation":678,"user_id":4717739,"display_name":"Mohammad Zaer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503903443,"creation_date":1503903443,"answer_id":45913312,"question_id":1661325,"body_markdown":"    String text = new SimpleDateFormat(&quot;E, MMM d, yyyy&quot;).format(date);","title":"SimpleDateFormat and locale based format string","body":"<pre><code>String text = new SimpleDateFormat(\"E, MMM d, yyyy\").format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1806748,"reputation":3695,"user_id":1643711,"accept_rate":67,"display_name":"Mircea Stanciu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508991433,"creation_date":1508991433,"answer_id":46945783,"question_id":1661325,"body_markdown":"**Java 8 Style for a given date**\r\n\r\n    LocalDate today = LocalDate.of(1982, Month.AUGUST, 31);\r\n    System.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.ENGLISH)));\r\n    System.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.FRENCH)));\r\n    System.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.JAPANESE)));","title":"SimpleDateFormat and locale based format string","body":"<p><strong>Java 8 Style for a given date</strong></p>\n\n<pre><code>LocalDate today = LocalDate.of(1982, Month.AUGUST, 31);\nSystem.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.ENGLISH)));\nSystem.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.FRENCH)));\nSystem.out.println(today.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.JAPANESE)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558444193,"creation_date":1520968636,"answer_id":49264228,"question_id":1661325,"body_markdown":"This will display the date according to user&#39;s **current locale**:\r\n\r\nTo return date and time:\r\n\r\n    import java.text.DateFormat;    \r\n    import java.util.Date;\r\n\r\n    Date date = new Date();\r\n    DateFormat df = DateFormat.getDateTimeInstance();\r\n    String myDate = df.format(date);\r\n\r\nDec 31, 1969 7:00:02 PM  \r\n\r\n\r\nTo return date only, use:\r\n\r\n    DateFormat.getDateInstance() \r\n\r\nDec 31, 1969\r\n\r\n","title":"SimpleDateFormat and locale based format string","body":"<p>This will display the date according to user's <strong>current locale</strong>:</p>\n\n<p>To return date and time:</p>\n\n<pre><code>import java.text.DateFormat;    \nimport java.util.Date;\n\nDate date = new Date();\nDateFormat df = DateFormat.getDateTimeInstance();\nString myDate = df.format(date);\n</code></pre>\n\n<p>Dec 31, 1969 7:00:02 PM  </p>\n\n<p>To return date only, use:</p>\n\n<pre><code>DateFormat.getDateInstance() \n</code></pre>\n\n<p>Dec 31, 1969</p>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596115840,"creation_date":1596115840,"answer_id":63174293,"question_id":1661325,"body_markdown":"Hope this helps someone. Please find in the below code which accepts Locale instance and returns the locale specific date format/pattern.\r\n\r\n    public static String getLocaleDatePattern(Locale locale) {\r\n\t\t// Validating if Locale instance is null\r\n\t\tif (locale == null || locale.getLanguage() == null) {\r\n\t\t\treturn &quot;MM/dd/yyyy&quot;;\r\n\t\t}\r\n\t\t// Fetching the locale specific date pattern\r\n\t\tString localeDatePattern = ((SimpleDateFormat) DateFormat.getDateInstance(\r\n\t\t\t\tDateFormat.SHORT, locale)).toPattern();\r\n\t\t// Validating if locale type is having language code for Chinese and country\r\n\t\t// code for (Hong Kong) with Date Format as - yy&#39;?&#39;M&#39;?&#39;d&#39;?&#39;\r\n\t\tif (locale.toString().equalsIgnoreCase(&quot;zh_hk&quot;)) {\r\n\t\t\t// Expected application Date Format for Chinese (Hong Kong) locale type\r\n\t\t\treturn &quot;yyyy&#39;MM&#39;dd&quot;;\r\n\t\t}\r\n\t\t// Replacing all d|m|y OR Gy with dd|MM|yyyy as per the locale date pattern\r\n\t\tlocaleDatePattern = localeDatePattern.replaceAll(&quot;d{1,2}&quot;, &quot;dd&quot;)\r\n\t\t\t\t.replaceAll(&quot;M{1,2}&quot;, &quot;MM&quot;)\r\n\t\t\t\t.replaceAll(&quot;y{1,4}|Gy&quot;, &quot;yyyy&quot;);\r\n\t\t// Replacing all blank spaces in the locale date pattern\r\n\t\tlocaleDatePattern = localeDatePattern.replace(&quot; &quot;, &quot;&quot;);\r\n\t\t// Validating the date pattern length to remove any extract characters\r\n\t\tif (localeDatePattern.length() &gt; 10) {\r\n\t\t\t// Keeping the standard length as expected by the application\r\n\t\t\tlocaleDatePattern = localeDatePattern.substring(0, 10);\r\n\t\t}\r\n\t\treturn localeDatePattern;\r\n\t}\r\n\r\n","title":"SimpleDateFormat and locale based format string","body":"<p>Hope this helps someone. Please find in the below code which accepts Locale instance and returns the locale specific date format/pattern.</p>\n<pre><code>public static String getLocaleDatePattern(Locale locale) {\n    // Validating if Locale instance is null\n    if (locale == null || locale.getLanguage() == null) {\n        return &quot;MM/dd/yyyy&quot;;\n    }\n    // Fetching the locale specific date pattern\n    String localeDatePattern = ((SimpleDateFormat) DateFormat.getDateInstance(\n            DateFormat.SHORT, locale)).toPattern();\n    // Validating if locale type is having language code for Chinese and country\n    // code for (Hong Kong) with Date Format as - yy'?'M'?'d'?'\n    if (locale.toString().equalsIgnoreCase(&quot;zh_hk&quot;)) {\n        // Expected application Date Format for Chinese (Hong Kong) locale type\n        return &quot;yyyy'MM'dd&quot;;\n    }\n    // Replacing all d|m|y OR Gy with dd|MM|yyyy as per the locale date pattern\n    localeDatePattern = localeDatePattern.replaceAll(&quot;d{1,2}&quot;, &quot;dd&quot;)\n            .replaceAll(&quot;M{1,2}&quot;, &quot;MM&quot;)\n            .replaceAll(&quot;y{1,4}|Gy&quot;, &quot;yyyy&quot;);\n    // Replacing all blank spaces in the locale date pattern\n    localeDatePattern = localeDatePattern.replace(&quot; &quot;, &quot;&quot;);\n    // Validating the date pattern length to remove any extract characters\n    if (localeDatePattern.length() &gt; 10) {\n        // Keeping the standard length as expected by the application\n        localeDatePattern = localeDatePattern.substring(0, 10);\n    }\n    return localeDatePattern;\n}\n</code></pre>\n"}],"owner":{"account_id":31048,"reputation":3405,"user_id":85010,"accept_rate":79,"display_name":"fiskeben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264038,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":1661389,"answer_count":10,"score":99,"last_activity_date":1656052143,"creation_date":1257168333,"question_id":1661325,"body_markdown":"I&#39;m trying to format a date in Java in different ways based on the given locale. For instance I want English users to see &quot;Nov 1, 2009&quot; (formatted by &quot;MMM d, yyyy&quot;) and Norwegian users to see &quot;1. nov. 2009&quot; (&quot;d. MMM. yyyy&quot;).\r\n\r\nThe month part works OK if I add the locale to the SimpleDateFormat constructor, but what about the rest?\r\n\r\nI was hoping I could add format strings paired with locales to SimpleDateFormat, but I can&#39;t find any way to do this. Is it possible or do I need to let my code check the locale and add the corresponding format string?","title":"SimpleDateFormat and locale based format string","body":"<p>I'm trying to format a date in Java in different ways based on the given locale. For instance I want English users to see \"Nov 1, 2009\" (formatted by \"MMM d, yyyy\") and Norwegian users to see \"1. nov. 2009\" (\"d. MMM. yyyy\").</p>\n\n<p>The month part works OK if I add the locale to the SimpleDateFormat constructor, but what about the rest?</p>\n\n<p>I was hoping I could add format strings paired with locales to SimpleDateFormat, but I can't find any way to do this. Is it possible or do I need to let my code check the locale and add the corresponding format string?</p>\n"},{"tags":["java","string","decode","pkcs#7"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656051884,"creation_date":1655936845,"answer_id":72722638,"question_id":72720896,"body_markdown":"PKCS7 and its successor CMS is a wide-ranging standard that includes many types of messages. _Some_ of these messages can contain one or more (X.509) certificate(s). _If_ your PKCS7/CMS is actually a SignedData containing certificate(s), you don&#39;t need BouncyCastle at all; you can directly read the certificate(s) with standard Java `CertificateFactory` as described in the introductory section of [the javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html). \r\n\r\nThat is actually what the hacky code in the Q you link does; by putting a false PEM label of BEGIN/END CERTIFICATE on data that is in fact NOT a certificate, but actually a PKCS7/CMS SignedData _containing_ a certificate, it causes the now-obsolete PEMReader code to call CertificateFactory internally. With more recent PEMParser that wouldn&#39;t work; you must parse it as PKCS7/CMS and then resolve it yourself. (Even 1.58 isn&#39;t exactly current, it&#39;s from 2017.) If you want to go that way, the following example reads the data from that Q (correctly labelled as BEGIN/END PKCS7, NOT faked as CERTIFICATE) and extracts the one cert:\r\n\r\n\t\tString in = new String(Files.readAllBytes(Paths.get(args[0])) );\r\n\t\t// import org.bouncycastle.asn1.* and ...cms.* (not superseded ...pkcs.*)\r\n\t\t// and of course org.bouncycastle.openssl.PEMParser \r\n\t\t@SuppressWarnings(&quot;resource&quot;) // I don&#39;t bother closing the PEMParser\r\n\t\tContentInfo ci = (ContentInfo) new PEMParser(new StringReader(in)).readObject();\r\n\t\tif( !ci.getContentType().equals(CMSObjectIdentifiers.signedData) ) \r\n\t\t\tthrow new Exception (&quot;not SignedData&quot;); // or other handling as suitable\r\n\t\tSignedData sd = SignedData.getInstance( ci.getContent() );\r\n\t\t// this takes the first/only cert and fails if none; could handle missing\r\n\t\t// and/or loop over multiple looking for or selecting the desired one or ones\r\n\t\tbyte[] raw = ((ASN1Sequence)sd.getCertificates().getObjects().nextElement()) .getEncoded();\r\n\t\tX509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;)\r\n\t\t\t\t.generateCertificate(new ByteArrayInputStream(raw));\r\n\t\tSystem.out.println (cert.toString());\r\n\r\nNumerous variations are possible depending on exactly what you need to handle.\r\n\r\nNote SignedData.certs is an ASN.1 SET and arbitrarily ordered. If used for e.g. a rootlist this doesn&#39;t matter, but if used for a cert _chain_ -- as many CAs did in ancient times -- the end-entity or &#39;leaf&#39; cert, although logically first in the chain, may not be physically first in the PKCS7/CMS. In recent years CAs more often just use a sequence of (individual) PEM certs, which does preserve order -- and which CertificateFactory and keytool etc _also_ handles.\r\n\r\n-----\r\nAdded: you now disclose you (also?) want the certificate _in PEM form_ (the textlike form beginning `-----BEGIN CERTIFICATE-----` and ending `-----END CERTIFICATE-----`). This is trivial with Bouncy; just do\r\n\r\n    JcaPEMWriter w = new JcaPEMWriter (/*suitable Writer to a file or whatever */)\r\n    w.writeObject(cert); \r\n    w.close(); // or w.flush(); to keep underlying writer/stream open\r\n\r\nor if you only need the PEM and aren&#39;t doing anything cryptoish with the cert object, more simply\r\n\r\n    PemWriter w = new PemWriter (/*suitable Writer as above */);\r\n    w.writeObject (new PemObject (&quot;CERTIFICATE&quot;,raw)); \r\n    w.close(); // ditto \r\n\r\nFor the standard-Java case you must do some of the work yourself:\r\n\r\n    // create or obtain a suitable Writer to file or whatever as w\r\n    w.write(&quot;-----BEGIN CERTIFICATE-----&quot; + eol\r\n        + Base64.getMimeEncoder().encodeToString(cert.getEncoded()) + eol\r\n        + &quot;-----END CERTIFICATE-----&quot; + eol);\r\n    // w.flush() or w.close() if needed depending on the Writer\r\n\r\n    // or for a PrintStream (like System.out) optionally like\r\n    p.println(&quot;-----BEGIN CERTIFICATE-----&quot;);\r\n    p.write(Base64.getMimeEncoder().encode(cert.getEncoded());\r\n    p.println(); \r\n    p.println(&quot;-----END CERTIFICATE-----&quot;);\r\n\r\n    // in principle eol should be appropriate for your output\r\n    // e.g. System.getProperty(&quot;line.separator&quot;) for a local file\r\n    // but possibly different for data sent someplace else;\r\n    // in practice PEM data usually works with either CRLF or LF \r\n    // on _all_ systems (and if not are usually easy to fix)\r\n\r\n    // _some_ systems even accept the base64 on one unbroken line\r\n    // as from Base64.getEncoder() rather than .getMimeEncoder() \r\n    // but I wouldn&#39;t suggest relying on that, it is nonstandard\r\n","title":"Decode string with PKC7 in Java?","body":"<p>PKCS7 and its successor CMS is a wide-ranging standard that includes many types of messages. <em>Some</em> of these messages can contain one or more (X.509) certificate(s). <em>If</em> your PKCS7/CMS is actually a SignedData containing certificate(s), you don't need BouncyCastle at all; you can directly read the certificate(s) with standard Java <code>CertificateFactory</code> as described in the introductory section of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html\" rel=\"nofollow noreferrer\">the javadoc</a>.</p>\n<p>That is actually what the hacky code in the Q you link does; by putting a false PEM label of BEGIN/END CERTIFICATE on data that is in fact NOT a certificate, but actually a PKCS7/CMS SignedData <em>containing</em> a certificate, it causes the now-obsolete PEMReader code to call CertificateFactory internally. With more recent PEMParser that wouldn't work; you must parse it as PKCS7/CMS and then resolve it yourself. (Even 1.58 isn't exactly current, it's from 2017.) If you want to go that way, the following example reads the data from that Q (correctly labelled as BEGIN/END PKCS7, NOT faked as CERTIFICATE) and extracts the one cert:</p>\n<pre><code>    String in = new String(Files.readAllBytes(Paths.get(args[0])) );\n    // import org.bouncycastle.asn1.* and ...cms.* (not superseded ...pkcs.*)\n    // and of course org.bouncycastle.openssl.PEMParser \n    @SuppressWarnings(&quot;resource&quot;) // I don't bother closing the PEMParser\n    ContentInfo ci = (ContentInfo) new PEMParser(new StringReader(in)).readObject();\n    if( !ci.getContentType().equals(CMSObjectIdentifiers.signedData) ) \n        throw new Exception (&quot;not SignedData&quot;); // or other handling as suitable\n    SignedData sd = SignedData.getInstance( ci.getContent() );\n    // this takes the first/only cert and fails if none; could handle missing\n    // and/or loop over multiple looking for or selecting the desired one or ones\n    byte[] raw = ((ASN1Sequence)sd.getCertificates().getObjects().nextElement()) .getEncoded();\n    X509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;)\n            .generateCertificate(new ByteArrayInputStream(raw));\n    System.out.println (cert.toString());\n</code></pre>\n<p>Numerous variations are possible depending on exactly what you need to handle.</p>\n<p>Note SignedData.certs is an ASN.1 SET and arbitrarily ordered. If used for e.g. a rootlist this doesn't matter, but if used for a cert <em>chain</em> -- as many CAs did in ancient times -- the end-entity or 'leaf' cert, although logically first in the chain, may not be physically first in the PKCS7/CMS. In recent years CAs more often just use a sequence of (individual) PEM certs, which does preserve order -- and which CertificateFactory and keytool etc <em>also</em> handles.</p>\n<hr />\n<p>Added: you now disclose you (also?) want the certificate <em>in PEM form</em> (the textlike form beginning <code>-----BEGIN CERTIFICATE-----</code> and ending <code>-----END CERTIFICATE-----</code>). This is trivial with Bouncy; just do</p>\n<pre><code>JcaPEMWriter w = new JcaPEMWriter (/*suitable Writer to a file or whatever */)\nw.writeObject(cert); \nw.close(); // or w.flush(); to keep underlying writer/stream open\n</code></pre>\n<p>or if you only need the PEM and aren't doing anything cryptoish with the cert object, more simply</p>\n<pre><code>PemWriter w = new PemWriter (/*suitable Writer as above */);\nw.writeObject (new PemObject (&quot;CERTIFICATE&quot;,raw)); \nw.close(); // ditto \n</code></pre>\n<p>For the standard-Java case you must do some of the work yourself:</p>\n<pre><code>// create or obtain a suitable Writer to file or whatever as w\nw.write(&quot;-----BEGIN CERTIFICATE-----&quot; + eol\n    + Base64.getMimeEncoder().encodeToString(cert.getEncoded()) + eol\n    + &quot;-----END CERTIFICATE-----&quot; + eol);\n// w.flush() or w.close() if needed depending on the Writer\n\n// or for a PrintStream (like System.out) optionally like\np.println(&quot;-----BEGIN CERTIFICATE-----&quot;);\np.write(Base64.getMimeEncoder().encode(cert.getEncoded());\np.println(); \np.println(&quot;-----END CERTIFICATE-----&quot;);\n\n// in principle eol should be appropriate for your output\n// e.g. System.getProperty(&quot;line.separator&quot;) for a local file\n// but possibly different for data sent someplace else;\n// in practice PEM data usually works with either CRLF or LF \n// on _all_ systems (and if not are usually easy to fix)\n\n// _some_ systems even accept the base64 on one unbroken line\n// as from Base64.getEncoder() rather than .getMimeEncoder() \n// but I wouldn't suggest relying on that, it is nonstandard\n</code></pre>\n"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656051884,"creation_date":1655925340,"question_id":72720896,"body_markdown":"There is the same question here:\r\n&lt;https://stackoverflow.com/questions/43945101/decode-string-with-pkc7-in-java&gt;\r\nI tried the solution described there, but obviously it is a little outdated, because in the current bouncycastle library there is no \r\norg.bouncycastle.openssl.PEMReader \r\nclass, but\r\norg.bouncycastle.openssl.PEMParser.\r\nand when i used it in the example:\r\n```\r\n        PEMParser pr = new PEMParser(sr);\r\n        X509Certificate cert = (X509Certificate)pr.readObject();\r\n```\r\ni got an exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class org.bouncycastle.asn1.cms.ContentInfo cannot be cast to class java.security.cert.X509Certificate\r\n```\r\n\r\nI would like just to ask someone to provide solution of decoding PKCS#7 with the current Bouncycastle library.\r\n\r\nThe Maven part for Bouncycastle looks like this\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.58&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\nThis is the PKCS#7 that i am trying to decode:\r\n```\r\n -----BEGIN PKCS7-----\r\nMIIC5wYJKoZIhvcNAQcCoIIC2DCCAtQCAQExADALBgkqhkiG9w0BBwGgggK8MIICuDCCAl6gAwIB\r\nAgIQXCpspdawOszPHWPu6BzK7DAKBggqhkjOPQQDAjBAMQswCQYDVQQGEwJERTEUMBIGA1UEChML\r\nU29mdHdhcmUgQUcxGzAZBgNVBAMTElFBIFRoaW4tRWRnZSBDQSBHMTAeFw0yMjA2MjIwNzM1MDJa\r\nFw0yNTA2MjIwNzM1MDJaMCUxIzAhBgNVBAMTGlJlcXVlc3RlZCBUZXN0IENlcnRpZmljYXRlMIIB\r\nIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjahV4/HclaS48gxI6ojGk1WZsBr+oS2PwAG5\r\nabWG1ilmOGakfSoJt5exz3+vfbqX9Wewge7kE+2ehM3kyhLxtRLc9o2IbvbRsonyncIhb0SqJ+6j\r\noTK8b7Dd1XwTFNLMNpQK2trY6c0ScBrdJarPv0QKszlpJHpFCCjozlaExdFKeYINUzSN6UKMd9Kw\r\nL6T/3QPOQSBLVAwKnBC8dZnxmoG8Nr0XOJE0FBDISnB/PkE70w8bTqquCCqdWInFZJkZog+QsYBu\r\nLDZq5ODeoUfSrkfnrR1xudgS5/OYRsU5jfwU5h4D1bM1MSQAMseOalFO+Iv5tm4tszNF3HNwSn8N\r\nKQIDAQABo4GJMIGGMBMGA1UdJQQMMAoGCCsGAQUFBwMCMBMGA1UdIwQMMAqACEhBtjq9T25cMAsG\r\nA1UdDwQEAwIFoDBNBgNVHR8ERjBEMEKgQKA+hjxodHRwOi8vZHAuMzgucWEuZ28ubmV4dXNncm91\r\ncC5jb20vY3JsL3FhX3RoaW4tZWRnZV9jYV9nMS5jcmwwCgYIKoZIzj0EAwIDSAAwRQIhALgVQ4GE\r\nNDd3KkjDjDE1a3Kn5FzjTWVjDc4ZdCsJvm1yAiBHdeGu8Sklq57MM1eSMMS7C4KvAYepzPkM4/9s\r\nvgRT8zEA\r\n-----END PKCS7-----\r\n```\r\n","title":"Decode string with PKC7 in Java?","body":"<p>There is the same question here:\n<a href=\"https://stackoverflow.com/questions/43945101/decode-string-with-pkc7-in-java\">Decode string with PKC7 in Java</a>\nI tried the solution described there, but obviously it is a little outdated, because in the current bouncycastle library there is no\norg.bouncycastle.openssl.PEMReader\nclass, but\norg.bouncycastle.openssl.PEMParser.\nand when i used it in the example:</p>\n<pre><code>        PEMParser pr = new PEMParser(sr);\n        X509Certificate cert = (X509Certificate)pr.readObject();\n</code></pre>\n<p>i got an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class org.bouncycastle.asn1.cms.ContentInfo cannot be cast to class java.security.cert.X509Certificate\n</code></pre>\n<p>I would like just to ask someone to provide solution of decoding PKCS#7 with the current Bouncycastle library.</p>\n<p>The Maven part for Bouncycastle looks like this</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.58&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>This is the PKCS#7 that i am trying to decode:</p>\n<pre><code> -----BEGIN PKCS7-----\nMIIC5wYJKoZIhvcNAQcCoIIC2DCCAtQCAQExADALBgkqhkiG9w0BBwGgggK8MIICuDCCAl6gAwIB\nAgIQXCpspdawOszPHWPu6BzK7DAKBggqhkjOPQQDAjBAMQswCQYDVQQGEwJERTEUMBIGA1UEChML\nU29mdHdhcmUgQUcxGzAZBgNVBAMTElFBIFRoaW4tRWRnZSBDQSBHMTAeFw0yMjA2MjIwNzM1MDJa\nFw0yNTA2MjIwNzM1MDJaMCUxIzAhBgNVBAMTGlJlcXVlc3RlZCBUZXN0IENlcnRpZmljYXRlMIIB\nIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjahV4/HclaS48gxI6ojGk1WZsBr+oS2PwAG5\nabWG1ilmOGakfSoJt5exz3+vfbqX9Wewge7kE+2ehM3kyhLxtRLc9o2IbvbRsonyncIhb0SqJ+6j\noTK8b7Dd1XwTFNLMNpQK2trY6c0ScBrdJarPv0QKszlpJHpFCCjozlaExdFKeYINUzSN6UKMd9Kw\nL6T/3QPOQSBLVAwKnBC8dZnxmoG8Nr0XOJE0FBDISnB/PkE70w8bTqquCCqdWInFZJkZog+QsYBu\nLDZq5ODeoUfSrkfnrR1xudgS5/OYRsU5jfwU5h4D1bM1MSQAMseOalFO+Iv5tm4tszNF3HNwSn8N\nKQIDAQABo4GJMIGGMBMGA1UdJQQMMAoGCCsGAQUFBwMCMBMGA1UdIwQMMAqACEhBtjq9T25cMAsG\nA1UdDwQEAwIFoDBNBgNVHR8ERjBEMEKgQKA+hjxodHRwOi8vZHAuMzgucWEuZ28ubmV4dXNncm91\ncC5jb20vY3JsL3FhX3RoaW4tZWRnZV9jYV9nMS5jcmwwCgYIKoZIzj0EAwIDSAAwRQIhALgVQ4GE\nNDd3KkjDjDE1a3Kn5FzjTWVjDc4ZdCsJvm1yAiBHdeGu8Sklq57MM1eSMMS7C4KvAYepzPkM4/9s\nvgRT8zEA\n-----END PKCS7-----\n</code></pre>\n"},{"tags":["java","maven","maven-surefire-plugin","serenity-bdd","maven-failsafe-plugin"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656051512,"creation_date":1656051512,"answer_id":72739756,"question_id":72737505,"body_markdown":"The issue is simply because you have defined the [maven-failsafe-plugin][1] in pluginManagement only.\r\n\r\nThe usual way is to define the version in pluginManagement while the binding has to be done in build area.\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n\r\nI also recommend to upgrade your used plugins which means define newer versions of all used plugin in pluginManagement.\r\n\r\nFurthermore you should not define a configuration for maven-surefire-plugin:\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n      &lt;skip&gt;true&lt;/skip&gt;\r\n    &lt;/configuration&gt;\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-failsafe-plugin/usage.html\r\n","title":"why mvn clean verify is running surefire plugin only","body":"<p>The issue is simply because you have defined the <a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/usage.html\" rel=\"nofollow noreferrer\">maven-failsafe-plugin</a> in pluginManagement only.</p>\n<p>The usual way is to define the version in pluginManagement while the binding has to be done in build area.</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M7&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>I also recommend to upgrade your used plugins which means define newer versions of all used plugin in pluginManagement.</p>\n<p>Furthermore you should not define a configuration for maven-surefire-plugin:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;skip&gt;true&lt;/skip&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72739756,"answer_count":1,"score":1,"last_activity_date":1656051512,"creation_date":1656026152,"question_id":72737505,"body_markdown":"My project structure is:\r\n\r\n    Project_Name\r\n    \r\n    |-src/main/java\r\n    \r\n    |-src/test/java\r\n    \r\n    \t|-default package\r\n    \r\n    \t\t|-MyIT.java\r\n    \r\n    \t|-steps\r\n    \r\n    \t\t|-MySteps.java\r\n    \r\n    |-pom.xml\r\n\r\nMyIT.java:\r\n\r\n\r\n    @RunWith(SerenityRunner.class)\r\n    public class MyIT {\r\n    \t\r\n        @Steps\r\n    \tMySteps mySteps;\r\n    \t\r\n    \t\r\n    \t@BeforeClass\r\n    \tpublic static void setUp() {\r\n    \tRestAssured.baseURI=&quot;https://restcountries.com/&quot;;\r\n    \tSystem.out.println(&quot;1&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \t@Title(&quot;Check \\&quot;Republic Of India\\&quot;&quot;)\r\n    \tpublic void verify_that_given_string_found_in_the_response() {\r\n    \t\r\n    \t\r\n    \t\t\r\n    \t\t  mySteps.whenIOpenURLForIndia(); \r\n    \t\t  mySteps.thenRepublicOfIndiaFoundInResponse();\r\n    \t}\r\n    }\r\n\r\nMySteps.java:\r\n\r\n    public class MySteps {\r\n    \r\n    \t\r\n    \t@Step(&quot;When I Open the URL for India&quot;)\r\n    \tpublic void whenIOpenURLForIndia() {\r\n    \t\tSerenityRest.given().relaxedHTTPSValidation().basePath(&quot;v2/name/{country}&quot;).pathParam(&quot;country&quot;, &quot;INDIA&quot;).when().get();\r\n    \t}\r\n    \t\r\n    \t@Step(&quot;Then \\&quot;Republic of India\\&quot; found in the response&quot;)\r\n    \tpublic void thenRepublicOfIndiaFoundInResponse() {\r\n    \t\t\r\n    \t\tSerenityRest.lastResponse().then().body(&quot;[1].altSpellings&quot;,hasItem(&quot;Republic of India&quot;));\r\n    \t}\r\n    }\r\n\r\nPom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.restcountries&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Serenity_RestAssured_Assignment1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;name&gt;Serenity_RestAssured_Assignment1&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n       \r\n      &lt;/properties&gt;\r\n    \r\n    \r\n         &lt;dependencies&gt;\r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.15&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-junit --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.15&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-rest-assured --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.15&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;4.4.0&lt;/version&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/java-hamcrest --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;java-hamcrest&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.0.0.0&lt;/version&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n     &lt;build&gt;\r\n      \t\r\n        &lt;pluginManagement&gt;\r\n    \t\t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;execution&gt;\r\n    \r\n    \t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t\t\t\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      \r\n    \r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nNow when I run it using:\r\n\r\n    mvn clean verify \r\n\r\nits output is:\r\n\r\n\r\n        [INFO] Scanning for projects...\r\n        [INFO]\r\n        [INFO] ---------&lt; org.restcountries:Serenity_RestAssured_Assignment1 &gt;---------\r\n        [INFO] Building Serenity_RestAssured_Assignment1 0.0.1-SNAPSHOT\r\n        [INFO] --------------------------------[ jar ]---------------------------------\r\n        [INFO]\r\n        [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Deleting C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\r\n        [INFO]\r\n        [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n        [INFO] skip non existing resourceDirectory \r\n    C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\src\\main\\resources\r\n        [INFO]\r\n        [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Nothing to compile - all classes are up to date\r\n        [INFO]\r\n        [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n        [INFO] skip non existing resourceDirectory \r\n        C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\src\\test\\resources\r\n        [INFO]\r\n        [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Changes detected - recompiling the module!\r\n        [INFO] Compiling 2 source files to \r\n        C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\\test-classes\r\n        [INFO]\r\n        [INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ Serenity_RestAssured_Assignment1 ---\r\n        [INFO] Tests are skipped.\r\n        [INFO]\r\n        [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ Serenity_RestAssured_Assignment1 ---\r\n        [WARNING] JAR will be empty - no content was marked for inclusion!\r\n        [INFO] Building jar: \r\n        C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\\Serenity_RestAssured_Assignment1-0.0.1-SNAPSHOT.jar\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] BUILD SUCCESS\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] Total time:  3.305 s\r\n        [INFO] Finished at: 2022-06-24T04:14:55+05:30\r\n\r\nIt shows “tests are skipped” and “jar will be empty”.\r\n\r\nMy question is why `mvn verify`  is not running **MyIT.java** test despite that naming convention is proper for integration test(maven failsafe plugin). Maven surefire plugin is skipping the tests but maven failsafe plugin should identify the MyIT.java test.\r\n\r\n\r\nEDIT: `mvn clean test-compile failsafe:integration-test` is able to run the MyIT.java test successfully but `mvn clean test-compile failsafe:verify` does not.\r\n\r\n\r\n\r\n","title":"why mvn clean verify is running surefire plugin only","body":"<p>My project structure is:</p>\n<pre><code>Project_Name\n\n|-src/main/java\n\n|-src/test/java\n\n    |-default package\n\n        |-MyIT.java\n\n    |-steps\n\n        |-MySteps.java\n\n|-pom.xml\n</code></pre>\n<p>MyIT.java:</p>\n<pre><code>@RunWith(SerenityRunner.class)\npublic class MyIT {\n    \n    @Steps\n    MySteps mySteps;\n    \n    \n    @BeforeClass\n    public static void setUp() {\n    RestAssured.baseURI=&quot;https://restcountries.com/&quot;;\n    System.out.println(&quot;1&quot;);\n    }\n    \n    \n    @Test\n    @Title(&quot;Check \\&quot;Republic Of India\\&quot;&quot;)\n    public void verify_that_given_string_found_in_the_response() {\n    \n    \n        \n          mySteps.whenIOpenURLForIndia(); \n          mySteps.thenRepublicOfIndiaFoundInResponse();\n    }\n}\n</code></pre>\n<p>MySteps.java:</p>\n<pre><code>public class MySteps {\n\n    \n    @Step(&quot;When I Open the URL for India&quot;)\n    public void whenIOpenURLForIndia() {\n        SerenityRest.given().relaxedHTTPSValidation().basePath(&quot;v2/name/{country}&quot;).pathParam(&quot;country&quot;, &quot;INDIA&quot;).when().get();\n    }\n    \n    @Step(&quot;Then \\&quot;Republic of India\\&quot; found in the response&quot;)\n    public void thenRepublicOfIndiaFoundInResponse() {\n        \n        SerenityRest.lastResponse().then().body(&quot;[1].altSpellings&quot;,hasItem(&quot;Republic of India&quot;));\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.restcountries&lt;/groupId&gt;\n  &lt;artifactId&gt;Serenity_RestAssured_Assignment1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;name&gt;Serenity_RestAssured_Assignment1&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n   \n  &lt;/properties&gt;\n\n\n     &lt;dependencies&gt;\n            &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n                &lt;version&gt;3.1.15&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-junit --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\n                &lt;version&gt;3.1.15&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-rest-assured --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n                &lt;version&gt;3.1.15&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;4.13.2&lt;/version&gt;\n                \n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n                &lt;version&gt;4.4.0&lt;/version&gt;\n                \n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/java-hamcrest --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                &lt;artifactId&gt;java-hamcrest&lt;/artifactId&gt;\n                &lt;version&gt;2.0.0.0&lt;/version&gt;\n                \n            &lt;/dependency&gt;\n            \n            \n\n  &lt;/dependencies&gt;\n\n &lt;build&gt;\n    \n    &lt;pluginManagement&gt;\n                    &lt;plugins&gt;\n                        &lt;plugin&gt;\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;3.8.1&lt;/version&gt;\n                            &lt;configuration&gt;\n                                &lt;source&gt;1.8&lt;/source&gt;\n                                &lt;target&gt;1.8&lt;/target&gt;\n                            &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n                        &lt;plugin&gt;\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                            &lt;configuration&gt;\n                                &lt;skip&gt;true&lt;/skip&gt;\n                                \n                            &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n                        &lt;plugin&gt;\n                            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                            &lt;configuration&gt;\n                                &lt;skipTests&gt;false&lt;/skipTests&gt;\n                            &lt;/configuration&gt;\n                            &lt;executions&gt;\n                                &lt;execution&gt;\n\n                                    &lt;goals&gt;\n                                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                                        &lt;goal&gt;verify&lt;/goal&gt;\n                                    &lt;/goals&gt;\n                                &lt;/execution&gt;\n                            &lt;/executions&gt;\n                        &lt;/plugin&gt;\n\n                    &lt;/plugins&gt;\n                    \n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  \n\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Now when I run it using:</p>\n<pre><code>mvn clean verify \n</code></pre>\n<p>its output is:</p>\n<pre><code>    [INFO] Scanning for projects...\n    [INFO]\n    [INFO] ---------&lt; org.restcountries:Serenity_RestAssured_Assignment1 &gt;---------\n    [INFO] Building Serenity_RestAssured_Assignment1 0.0.1-SNAPSHOT\n    [INFO] --------------------------------[ jar ]---------------------------------\n    [INFO]\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Deleting C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\n    [INFO]\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Using 'UTF-8' encoding to copy filtered resources.\n    [INFO] skip non existing resourceDirectory \nC:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\src\\main\\resources\n    [INFO]\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Nothing to compile - all classes are up to date\n    [INFO]\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Using 'UTF-8' encoding to copy filtered resources.\n    [INFO] skip non existing resourceDirectory \n    C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\src\\test\\resources\n    [INFO]\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Changes detected - recompiling the module!\n    [INFO] Compiling 2 source files to \n    C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\\test-classes\n    [INFO]\n    [INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ Serenity_RestAssured_Assignment1 ---\n    [INFO] Tests are skipped.\n    [INFO]\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ Serenity_RestAssured_Assignment1 ---\n    [WARNING] JAR will be empty - no content was marked for inclusion!\n    [INFO] Building jar: \n    C:\\ eclipse_workspace\\Serenity_RestAssured_Assignment1\\target\\Serenity_RestAssured_Assignment1-0.0.1-SNAPSHOT.jar\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD SUCCESS\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  3.305 s\n    [INFO] Finished at: 2022-06-24T04:14:55+05:30\n</code></pre>\n<p>It shows “tests are skipped” and “jar will be empty”.</p>\n<p>My question is why <code>mvn verify</code>  is not running <strong>MyIT.java</strong> test despite that naming convention is proper for integration test(maven failsafe plugin). Maven surefire plugin is skipping the tests but maven failsafe plugin should identify the MyIT.java test.</p>\n<p>EDIT: <code>mvn clean test-compile failsafe:integration-test</code> is able to run the MyIT.java test successfully but <code>mvn clean test-compile failsafe:verify</code> does not.</p>\n"},{"tags":["java","jpa","refactoring"],"answers":[{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656050734,"creation_date":1656050734,"answer_id":72739641,"question_id":72739318,"body_markdown":"I would cache the images in a `Map&lt;Number, Image&gt;` (whether `Image#getForeignId` returns `Number`) first:\r\n```\r\nMap&lt;Number, Image&gt; imageByForeign = images.stream()\r\n    .collect(Collectors.toMap(Image::getForeignId, Function.identity()));\r\n```\r\nNow you can iterate over the responses and get the images directly. If there can be any responses without a matching image, I would do it like this:\r\n```\r\nfor (ItemAndQuantityResponse itemAndQuantityResponse : itemAndQuantityResponses) {\r\n    Optional.of(imageByForeign)\r\n        .map(m -&gt; m.get(itemAndQuantityResponse.getItemId()))\r\n        .map(fileHandler::getStringImage)\r\n        .ifPresent(itemAndQuantityResponse::setImage);\r\n```\r\nIf every response&#39;s ID is a key in the map just get rid of `Optional`.","title":"I want to refactoring my code to get all images at once and map it to its id in JPA","body":"<p>I would cache the images in a <code>Map&lt;Number, Image&gt;</code> (whether <code>Image#getForeignId</code> returns <code>Number</code>) first:</p>\n<pre><code>Map&lt;Number, Image&gt; imageByForeign = images.stream()\n    .collect(Collectors.toMap(Image::getForeignId, Function.identity()));\n</code></pre>\n<p>Now you can iterate over the responses and get the images directly. If there can be any responses without a matching image, I would do it like this:</p>\n<pre><code>for (ItemAndQuantityResponse itemAndQuantityResponse : itemAndQuantityResponses) {\n    Optional.of(imageByForeign)\n        .map(m -&gt; m.get(itemAndQuantityResponse.getItemId()))\n        .map(fileHandler::getStringImage)\n        .ifPresent(itemAndQuantityResponse::setImage);\n</code></pre>\n<p>If every response's ID is a key in the map just get rid of <code>Optional</code>.</p>\n"}],"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656050734,"creation_date":1656048162,"question_id":72739318,"body_markdown":"I have two tables the one is Image table and another is Cart table.\r\nWhen I want to retrieve the carts as list now I am iterating carts and find image by product pk and encode it to string and put it in response.\r\n\r\n            for (Cart cart : cartList) {\r\n                itemAndQuantityResponses.add(ItemAndQuantityResponse.builder()\r\n                        .image(fileHandler.getStringImage(imageRepository.findByImageRelationAndForeignId(ImageRelation.ITEM_MAIN, cart.getItem().getId())))\r\n                        .build());\r\n            }\r\n\r\n\r\nI thought it is quite inefficient so I decided to refactoring it and the results like this.\r\n\r\n            final List&lt;Long&gt; itemIds = cartList.stream().map(Cart::getItem).map(Item::getId).collect(Collectors.toList());\r\n            final List&lt;Image&gt; images = imageRepository.findByImageRelationAndForeignIdIn(ImageRelation.ITEM_MAIN, itemIds);\r\n            for (ItemAndQuantityResponse itemAndQuantityResponse : itemAndQuantityResponses) {\r\n                for (Image image : images) {\r\n                    final String stringImage = fileHandler.getStringImage(image);\r\n                    if (itemAndQuantityResponse.getItemId().equals(image.getForeignId())) {\r\n                        itemAndQuantityResponse.setImage(stringImage);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\nBut either way doesn&#39;t look good to me.\r\nIf it is possible, I want to avoid to use double for loop as much as I can.\r\n\r\nEven a tiny hint would be very helpful for me.\r\nThanks for your help!","title":"I want to refactoring my code to get all images at once and map it to its id in JPA","body":"<p>I have two tables the one is Image table and another is Cart table.\nWhen I want to retrieve the carts as list now I am iterating carts and find image by product pk and encode it to string and put it in response.</p>\n<pre><code>        for (Cart cart : cartList) {\n            itemAndQuantityResponses.add(ItemAndQuantityResponse.builder()\n                    .image(fileHandler.getStringImage(imageRepository.findByImageRelationAndForeignId(ImageRelation.ITEM_MAIN, cart.getItem().getId())))\n                    .build());\n        }\n</code></pre>\n<p>I thought it is quite inefficient so I decided to refactoring it and the results like this.</p>\n<pre><code>        final List&lt;Long&gt; itemIds = cartList.stream().map(Cart::getItem).map(Item::getId).collect(Collectors.toList());\n        final List&lt;Image&gt; images = imageRepository.findByImageRelationAndForeignIdIn(ImageRelation.ITEM_MAIN, itemIds);\n        for (ItemAndQuantityResponse itemAndQuantityResponse : itemAndQuantityResponses) {\n            for (Image image : images) {\n                final String stringImage = fileHandler.getStringImage(image);\n                if (itemAndQuantityResponse.getItemId().equals(image.getForeignId())) {\n                    itemAndQuantityResponse.setImage(stringImage);\n                    break;\n                }\n            }\n        }\n</code></pre>\n<p>But either way doesn't look good to me.\nIf it is possible, I want to avoid to use double for loop as much as I can.</p>\n<p>Even a tiny hint would be very helpful for me.\nThanks for your help!</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1656026270,"post_id":72737259,"comment_id":128477920,"body_markdown":"Are you sure this JPA application is connected to the same database and schema? Are you able to use JPA to find the same rows that show up in the postgres console using a findById query in the application?","body":"Are you sure this JPA application is connected to the same database and schema? Are you able to use JPA to find the same rows that show up in the postgres console using a findById query in the application?"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656050593,"creation_date":1656050593,"answer_id":72739618,"question_id":72737259,"body_markdown":"You are not executing the same query.\r\nWhat JPA is executing is most certainly \r\n```\r\nselect fireweathe0_.id as id1_0_,\r\n       fireweathe0_.adv_ts as adv_ts2_0_,\r\n       fireweathe0_.category as category3_0_,\r\n       fireweathe0_.&quot;end&quot; as end4_0_,\r\n       fireweathe0_.geom as geom5_0_,\r\n       fireweathe0_.start as start6_0_\r\nfrom fire_weather_day1_cat_risk fireweathe0_\r\n    where fireweathe0_.adv_ts=?;\r\n```\r\nplus a value for the bind value. \r\n\r\nThe problem is most likely that some conversion happens to the instant, probably involving the current timezone of your JVM or of the database.","title":"JPA method not returning results even though the generated query returns results when used in postgres console","body":"<p>You are not executing the same query.\nWhat JPA is executing is most certainly</p>\n<pre><code>select fireweathe0_.id as id1_0_,\n       fireweathe0_.adv_ts as adv_ts2_0_,\n       fireweathe0_.category as category3_0_,\n       fireweathe0_.&quot;end&quot; as end4_0_,\n       fireweathe0_.geom as geom5_0_,\n       fireweathe0_.start as start6_0_\nfrom fire_weather_day1_cat_risk fireweathe0_\n    where fireweathe0_.adv_ts=?;\n</code></pre>\n<p>plus a value for the bind value.</p>\n<p>The problem is most likely that some conversion happens to the instant, probably involving the current timezone of your JVM or of the database.</p>\n"}],"owner":{"account_id":3980196,"reputation":1,"user_id":3282275,"display_name":"user3282275"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656050593,"creation_date":1656023635,"question_id":72737259,"body_markdown":"I&#39;m not getting any results for JPA method even though when i log the query and try it on the database console i get the correct results \r\n\r\nREPO: \r\n\r\npublic interface FireWeatherDay1CatRiskRepository extends \r\n\r\n\r\n    JpaRepository&lt;FireWeatherDay1CatRisk, Long&gt; {\r\n    \tList&lt;FireWeatherDay1CatRisk&gt; findByAdvTs(Instant advTs);\r\n    }\r\n\r\n\r\n\r\nGENERATED QUERY: \r\n\r\n    select fireweathe0_.id as id1_0_,\r\n           fireweathe0_.adv_ts as adv_ts2_0_,\r\n           fireweathe0_.category as category3_0_,\r\n           fireweathe0_.&quot;end&quot; as end4_0_,\r\n           fireweathe0_.geom as geom5_0_,\r\n           fireweathe0_.start as start6_0_\r\n    from fire_weather_day1_cat_risk fireweathe0_\r\n        where fireweathe0_.adv_ts=&#39;2021-09-28T17:00:00Z&#39;;\r\n\r\n\r\nAgain, no results return when using the JPA method, but the query generated seems to be correct when i manually run the query in my postgres console it works fine. ","title":"JPA method not returning results even though the generated query returns results when used in postgres console","body":"<p>I'm not getting any results for JPA method even though when i log the query and try it on the database console i get the correct results</p>\n<p>REPO:</p>\n<p>public interface FireWeatherDay1CatRiskRepository extends</p>\n<pre><code>JpaRepository&lt;FireWeatherDay1CatRisk, Long&gt; {\n    List&lt;FireWeatherDay1CatRisk&gt; findByAdvTs(Instant advTs);\n}\n</code></pre>\n<p>GENERATED QUERY:</p>\n<pre><code>select fireweathe0_.id as id1_0_,\n       fireweathe0_.adv_ts as adv_ts2_0_,\n       fireweathe0_.category as category3_0_,\n       fireweathe0_.&quot;end&quot; as end4_0_,\n       fireweathe0_.geom as geom5_0_,\n       fireweathe0_.start as start6_0_\nfrom fire_weather_day1_cat_risk fireweathe0_\n    where fireweathe0_.adv_ts='2021-09-28T17:00:00Z';\n</code></pre>\n<p>Again, no results return when using the JPA method, but the query generated seems to be correct when i manually run the query in my postgres console it works fine.</p>\n"},{"tags":["java","tcp","client","nio","socketchannel"],"comments":[{"owner":{"account_id":1444169,"reputation":1261,"user_id":1363310,"display_name":"Asraful"},"score":0,"creation_date":1354800242,"post_id":13744440,"comment_id":18886847,"body_markdown":"may be you will get some idea form hear : http://stackoverflow.com/questions/130067/best-server-performance-monitoring-tool-for-java-servers","body":"may be you will get some idea form hear : <a href=\"http://stackoverflow.com/questions/130067/best-server-performance-monitoring-tool-for-java-servers\" title=\"best server performance monitoring tool for java servers\">stackoverflow.com/questions/130067/&hellip;</a>"},{"owner":{"account_id":2118679,"reputation":1,"user_id":1882431,"display_name":"Loose"},"score":0,"creation_date":1354801478,"post_id":13744440,"comment_id":18887498,"body_markdown":"thanks for the suggestion ... although it does not fully address my problem, and that&#39;s my mistake: my example (monitoring servers via SSH) was actually a bit over-simplified, as the &quot;servers&quot; I am referring are actually proprietary devices, and we already tried nagios and openNMS, but they do not fit at all.   =&gt; we need a home made solution, and I&#39;m tasked to do it with NIO","body":"thanks for the suggestion ... although it does not fully address my problem, and that&#39;s my mistake: my example (monitoring servers via SSH) was actually a bit over-simplified, as the &quot;servers&quot; I am referring are actually proprietary devices, and we already tried nagios and openNMS, but they do not fit at all.   =&gt; we need a home made solution, and I&#39;m tasked to do it with NIO"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457343367,"creation_date":1354834045,"answer_id":13754021,"question_id":13744440,"body_markdown":"I doubt that you will find an implementation of SSH that works over NIO.\r\n\r\nI further doubt that there is any point. The protocol is heavyweight enough that conserving threads by using NIO just won&#39;t make any difference, or in fact will make it worse by starving the other channels of service while you&#39;re encrypting and decrypting for whatever channel your NIO thread is currently servicing. And given that you&#39;re really polling at 1 minute intervals there never was much of a reason to use NIO in the first place.\r\n\r\nUse JSch or Ganymed SSH or one of the other SSH libraries, threads, and get on with your life.","title":"java nio socketchannel: client to multiple servers","body":"<p>I doubt that you will find an implementation of SSH that works over NIO.</p>\n\n<p>I further doubt that there is any point. The protocol is heavyweight enough that conserving threads by using NIO just won't make any difference, or in fact will make it worse by starving the other channels of service while you're encrypting and decrypting for whatever channel your NIO thread is currently servicing. And given that you're really polling at 1 minute intervals there never was much of a reason to use NIO in the first place.</p>\n\n<p>Use JSch or Ganymed SSH or one of the other SSH libraries, threads, and get on with your life.</p>\n"}],"owner":{"account_id":2118679,"reputation":1,"user_id":1882431,"display_name":"Loose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":671,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656050444,"creation_date":1354799852,"question_id":13744440,"body_markdown":"my project is actually pretty basic, but I just can&#39;t find the right information for it (ie: I can only find how to create a server that accepts multiple clients).\r\n\r\nThe idea is quite simple:  \r\nI want to create a client to will connect to multiple servers, and query stuff from them + await autonomous messages.  \r\nTo give a rough idea, I want to create a simple program that will monitor multiple servers by creating a SSH connection to them (using Jsch), doing a login, sending 1 command every minute to retrieve all the alarms on the server. And the servers will also send alarms as soon as they appear.  \r\n\r\nmy question is then: does anyone have any example on how to proceed ? any tutorial ? (google was not of much help, but maybe I did not try hard enough).\r\n\r\nnote: I am already able to do the same using a regular Socket in a Thread, but since I want to poll thousands of servers, I was told that opening an equal number of Threads+Sockets was a bad idea ...","title":"java nio socketchannel: client to multiple servers","body":"<p>my project is actually pretty basic, but I just can't find the right information for it (ie: I can only find how to create a server that accepts multiple clients).</p>\n\n<p>The idea is quite simple:<br>\nI want to create a client to will connect to multiple servers, and query stuff from them + await autonomous messages.<br>\nTo give a rough idea, I want to create a simple program that will monitor multiple servers by creating a SSH connection to them (using Jsch), doing a login, sending 1 command every minute to retrieve all the alarms on the server. And the servers will also send alarms as soon as they appear.  </p>\n\n<p>my question is then: does anyone have any example on how to proceed ? any tutorial ? (google was not of much help, but maybe I did not try hard enough).</p>\n\n<p>note: I am already able to do the same using a regular Socket in a Thread, but since I want to poll thousands of servers, I was told that opening an equal number of Threads+Sockets was a bad idea ...</p>\n"},{"tags":["java","android","kotlin","search","toolbar"],"comments":[{"owner":{"account_id":15063667,"reputation":383,"user_id":10871558,"display_name":"Mohmmaed-Amleh"},"score":0,"creation_date":1655452571,"post_id":72655416,"comment_id":128340461,"body_markdown":"at first place use             app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;\n.....show more code how you handle  it in your activity or fragment","body":"at first place use             app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot; .....show more code how you handle  it in your activity or fragment"},{"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"score":0,"creation_date":1655453949,"post_id":72655416,"comment_id":128340968,"body_markdown":"There is no code in activity or fragment. some thing that change is in menu file.","body":"There is no code in activity or fragment. some thing that change is in menu file."},{"owner":{"account_id":15063667,"reputation":383,"user_id":10871558,"display_name":"Mohmmaed-Amleh"},"score":0,"creation_date":1655456781,"post_id":72655416,"comment_id":128341895,"body_markdown":"update your gradle files to the last version","body":"update your gradle files to the last version"},{"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"score":0,"creation_date":1655463145,"post_id":72655416,"comment_id":128343955,"body_markdown":"@Mohmmaed-Amleh it&#39;s already upto date.","body":"@Mohmmaed-Amleh it&#39;s already upto date."}],"answers":[{"tags":[],"owner":{"account_id":22993177,"reputation":1,"user_id":17118363,"display_name":"Rathod Vishal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655449624,"creation_date":1655449441,"answer_id":72655503,"question_id":72655416,"body_markdown":"```\r\ngetSupportActionBar().setDisplayShowTitleEnabled(false);\r\ntoolbar.setTitle(&quot;&quot;);\r\ntoolbar.setSubtitle(&quot;&quot;);\r\n```","title":"Remove text from toolbar while open search view","body":"<pre><code>getSupportActionBar().setDisplayShowTitleEnabled(false);\ntoolbar.setTitle(&quot;&quot;);\ntoolbar.setSubtitle(&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656050391,"creation_date":1656050391,"answer_id":72739594,"question_id":72655416,"body_markdown":"Just add `searchView.maxWidth = Integer.MAX_VALUE`  this line in my code and it work for me.\r\n\r\n   \r\n\r\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\r\n            menuInflater.inflate(R.menu.search_menu, menu)\r\n            val search = menu.findItem(R.id.action_search)\r\n            val searchView = search.actionView as SearchView\r\n    \t\t\r\n    \t\tsearchView.maxWidth  = Integer.MAX_VALUE  // add this line to your code.\r\n    \t\t\r\n            searchView.queryHint = &quot;Search in everywhere &quot;\r\n            searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\r\n                override fun onQueryTextSubmit(query: String?): Boolean {\r\n                    return false\r\n                }\r\n                override fun onQueryTextChange(newText: String?): Boolean {\r\n    //                adapter.filter.filter(newText)\r\n                    return true\r\n                }\r\n            })\r\n            return super.onCreateOptionsMenu(menu)\r\n        }","title":"Remove text from toolbar while open search view","body":"<p>Just add <code>searchView.maxWidth = Integer.MAX_VALUE</code>  this line in my code and it work for me.</p>\n<pre><code>override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.search_menu, menu)\n        val search = menu.findItem(R.id.action_search)\n        val searchView = search.actionView as SearchView\n        \n        searchView.maxWidth  = Integer.MAX_VALUE  // add this line to your code.\n        \n        searchView.queryHint = &quot;Search in everywhere &quot;\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n            override fun onQueryTextSubmit(query: String?): Boolean {\n                return false\n            }\n            override fun onQueryTextChange(newText: String?): Boolean {\n//                adapter.filter.filter(newText)\n                return true\n            }\n        })\n        return super.onCreateOptionsMenu(menu)\n    }\n</code></pre>\n"}],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72739594,"answer_count":2,"score":1,"last_activity_date":1656050391,"creation_date":1655448926,"question_id":72655416,"body_markdown":"[![toolbar image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TDjUk.png\r\n\r\n\r\nI don&#39;t want this text while click on search in toolbar.\r\n\r\nBelow is my menu item.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/action_search&quot;\r\n            android:icon=&quot;@drawable/ic_search&quot;\r\n            android:title=&quot;@string/search&quot;\r\n            app:actionViewClass=&quot;android.widget.SearchView&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nThis is my `onCreateOptionsMenu` in Activity\r\n\r\n\r\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\r\n            menuInflater.inflate(R.menu.search_menu, menu)\r\n            val search = menu.findItem(R.id.action_search)\r\n            val searchView = search.actionView as SearchView\r\n            searchView.queryHint = &quot;Search in everywhere &quot;\r\n            searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\r\n                override fun onQueryTextSubmit(query: String?): Boolean {\r\n                    return false\r\n                }\r\n                override fun onQueryTextChange(newText: String?): Boolean {\r\n    //                adapter.filter.filter(newText)\r\n                    return true\r\n                }\r\n            })\r\n            return super.onCreateOptionsMenu(menu)\r\n        }\r\n\r\n\r\nVery confuse with this. need some help. Thanks in advance for your answer.","title":"Remove text from toolbar while open search view","body":"<p><a href=\"https://i.stack.imgur.com/TDjUk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TDjUk.png\" alt=\"toolbar image\" /></a></p>\n<p>I don't want this text while click on search in toolbar.</p>\n<p>Below is my menu item.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/action_search&quot;\n        android:icon=&quot;@drawable/ic_search&quot;\n        android:title=&quot;@string/search&quot;\n        app:actionViewClass=&quot;android.widget.SearchView&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>This is my <code>onCreateOptionsMenu</code> in Activity</p>\n<pre><code>override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.search_menu, menu)\n        val search = menu.findItem(R.id.action_search)\n        val searchView = search.actionView as SearchView\n        searchView.queryHint = &quot;Search in everywhere &quot;\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n            override fun onQueryTextSubmit(query: String?): Boolean {\n                return false\n            }\n            override fun onQueryTextChange(newText: String?): Boolean {\n//                adapter.filter.filter(newText)\n                return true\n            }\n        })\n        return super.onCreateOptionsMenu(menu)\n    }\n</code></pre>\n<p>Very confuse with this. need some help. Thanks in advance for your answer.</p>\n"},{"tags":["java","spring-boot","data-structures"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1656039363,"post_id":72738495,"comment_id":128479702,"body_markdown":"Show how you are trying to print the data out.","body":"Show how you are trying to print the data out."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656047431,"post_id":72738495,"comment_id":128480849,"body_markdown":"Your example data has three columns. But your data class has only two member fields. I’m confused.","body":"Your example data has three columns. But your data class has only two member fields. I’m confused."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656047638,"post_id":72738495,"comment_id":128480876,"body_markdown":"Do you really mean the output was `currently: `[Data@xxxx` rather than `currently: `[model@xxxx`, the name of your data class? Please put more effort into writing a clear consistent Question.","body":"Do you really mean the output was <code>currently: </code>[Data@xxxx` rather than <code>currently: </code>[model@xxxx`, the name of your data class? Please put more effort into writing a clear consistent Question."}],"answers":[{"tags":[],"owner":{"account_id":14357845,"reputation":1,"user_id":10371164,"display_name":"Hasibul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656040125,"creation_date":1656039978,"answer_id":72738586,"question_id":72738495,"body_markdown":"You need to set the property of the data class first-\r\n\r\n```\r\ndata.id = id;\r\ndata.code = code;\r\nresult.add(data);\r\n```\r\n\r\nThen you can iterate the result by-\r\n\r\n```\r\nresult[index].id;\r\nresult[index].code;\r\n```\r\n","title":"How do I map String values to a specific data structure Java","body":"<p>You need to set the property of the data class first-</p>\n<pre><code>data.id = id;\ndata.code = code;\nresult.add(data);\n</code></pre>\n<p>Then you can iterate the result by-</p>\n<pre><code>result[index].id;\nresult[index].code;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656048740,"creation_date":1656047343,"answer_id":72739228,"question_id":72738495,"body_markdown":"First you would need to add a new constructor in Data class (Required because of the private modifier. Providing setter methods could be an alternative).\r\n\r\n    public Data(String id, String code) {\r\n        this.id = id;\r\n        this.code = code;\r\n    }\r\n\r\nThen, change your Main method to something like this:\r\n\r\n\r\n      while (line != null) {\r\n        // read thru each line in the txt file\r\n\r\n        String id = line.subString(0, 5);\r\n        String code = line.subString(6, 11);\r\n\r\n        result.add(new Data(id, code)); // This!\r\n      }\r\n\r\nAnd if you need to print the data, you would also need to override the `toString` method in the Data class, for instance:\r\n\r\n    public class Data {\r\n    private String id;\r\n    private String code;\r\n      \r\n    public Data(String id, String code) {\r\n        this.id = id;\r\n        this.code = code;\r\n        }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.id + &quot; &quot; + this.code;\r\n        }\r\n    }\r\n    \r\n\r\nReference:\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\r\n","title":"How do I map String values to a specific data structure Java","body":"<p>First you would need to add a new constructor in Data class (Required because of the private modifier. Providing setter methods could be an alternative).</p>\n<pre><code>public Data(String id, String code) {\n    this.id = id;\n    this.code = code;\n}\n</code></pre>\n<p>Then, change your Main method to something like this:</p>\n<pre><code>  while (line != null) {\n    // read thru each line in the txt file\n\n    String id = line.subString(0, 5);\n    String code = line.subString(6, 11);\n\n    result.add(new Data(id, code)); // This!\n  }\n</code></pre>\n<p>And if you need to print the data, you would also need to override the <code>toString</code> method in the Data class, for instance:</p>\n<pre><code>public class Data {\nprivate String id;\nprivate String code;\n  \npublic Data(String id, String code) {\n    this.id = id;\n    this.code = code;\n    }\n\n@Override\npublic String toString() {\n    return this.id + &quot; &quot; + this.code;\n    }\n}\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()</a></p>\n"},{"tags":[],"owner":{"account_id":16142230,"reputation":36,"user_id":11653034,"display_name":"Hansana Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656048179,"creation_date":1656048179,"answer_id":72739320,"question_id":72738495,"body_markdown":"Add Getters and Setters in Data class like bellow.\r\n\r\n    public class Data {\r\n    private String id;\r\n    private String code;\r\n\r\n    public String getId(){\r\n       return this.id;\r\n    }\r\n    \r\n    public void setId(String id){\r\n      this.id = id;\r\n    }\r\n    \r\n    public String getCode(){\r\n       return this.code;\r\n    }\r\n    \r\n    public void setCode(String code){\r\n      this.code = code;\r\n    }\r\n\r\n  }\r\n\r\nThen you should set your data to Data Object like bellow.\r\n\r\n    public class FileProcess {\r\n      public List&lt;Data&gt; process(InputStream InputStream) throws IOException {\r\n      List&lt;Data&gt; result = new ArrayList&lt;&gt;();\r\n      String line;\r\n\r\n      try(// scanning inputstream) {\r\n         line = sc.nextLine();\r\n         while (line != null) {\r\n        // read thru each line in the txt file\r\n\r\n          String id = line.subString(0, 5);\r\n          String code = line.subString(6, 11);\r\n\r\n          Data data = new data();\r\n          data.setId(id);\r\n          data.setCode(code);\r\n          result.add(data);\r\n      }\r\n      return result;\r\n    }\r\n  }","title":"How do I map String values to a specific data structure Java","body":"<p>Add Getters and Setters in Data class like bellow.</p>\n<pre><code>public class Data {\nprivate String id;\nprivate String code;\n\npublic String getId(){\n   return this.id;\n}\n\npublic void setId(String id){\n  this.id = id;\n}\n\npublic String getCode(){\n   return this.code;\n}\n\npublic void setCode(String code){\n  this.code = code;\n}\n</code></pre>\n<p>}</p>\n<p>Then you should set your data to Data Object like bellow.</p>\n<pre><code>public class FileProcess {\n  public List&lt;Data&gt; process(InputStream InputStream) throws IOException {\n  List&lt;Data&gt; result = new ArrayList&lt;&gt;();\n  String line;\n\n  try(// scanning inputstream) {\n     line = sc.nextLine();\n     while (line != null) {\n    // read thru each line in the txt file\n\n      String id = line.subString(0, 5);\n      String code = line.subString(6, 11);\n\n      Data data = new data();\n      data.setId(id);\n      data.setCode(code);\n      result.add(data);\n  }\n  return result;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656049821,"creation_date":1656049509,"answer_id":72739486,"question_id":72738495,"body_markdown":"The [Answer by admiz635][1] is correct. You need to add a constructor and an override of `toString`. \r\n\r\n# `record`\r\n\r\nYou can get both of those by defining your class as a [record][2] in Java 16+. A record is appropriate when the main purpose of your class is to communicate data transparently and immutably. \r\n\r\nIn a record, the compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nBy the way, you should devise a more descriptive class name than `Data`. \r\n\r\n    record Data ( String id , String code ) {}\r\n\r\nFYI, a record can be defined locally within a method, or defined nested within a class, or as its own class in its own `.java` file. \r\n\r\nExample usage.\r\n\r\n    String[] parts = line.split( &quot; &quot; ) ;\r\n    Data d = new Data( parts[0] , parts[1] ) ;\r\n    results.add( d ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72739228/642706\r\n  [2]: https://openjdk.org/jeps/395?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NDc4Mjg4MTYsImciOiJlckFkUHk4WE1ZSU1ncEFHIiwiaWF0IjoxNjQ3ODI4NTE2LCJ1c2VySWQiOjYyMzI4fQ.ynfOAzT-LRbKklQwjiPLeDa_CCI6bOqgCISpiPyC3dE","title":"How do I map String values to a specific data structure Java","body":"<p>The <a href=\"https://stackoverflow.com/a/72739228/642706\">Answer by admiz635</a> is correct. You need to add a constructor and an override of <code>toString</code>.</p>\n<h1><code>record</code></h1>\n<p>You can get both of those by defining your class as a <a href=\"https://openjdk.org/jeps/395?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NDc4Mjg4MTYsImciOiJlckFkUHk4WE1ZSU1ncEFHIiwiaWF0IjoxNjQ3ODI4NTE2LCJ1c2VySWQiOjYyMzI4fQ.ynfOAzT-LRbKklQwjiPLeDa_CCI6bOqgCISpiPyC3dE\" rel=\"nofollow noreferrer\">record</a> in Java 16+. A record is appropriate when the main purpose of your class is to communicate data transparently and immutably.</p>\n<p>In a record, the compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>By the way, you should devise a more descriptive class name than <code>Data</code>.</p>\n<pre><code>record Data ( String id , String code ) {}\n</code></pre>\n<p>FYI, a record can be defined locally within a method, or defined nested within a class, or as its own class in its own <code>.java</code> file.</p>\n<p>Example usage.</p>\n<pre><code>String[] parts = line.split( &quot; &quot; ) ;\nData d = new Data( parts[0] , parts[1] ) ;\nresults.add( d ) ;\n</code></pre>\n"}],"owner":{"display_name":"user16681822"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656065454,"answer_count":4,"score":0,"last_activity_date":1656049821,"creation_date":1656039051,"question_id":72738495,"body_markdown":"I am practicing a standalone project to learn Java\r\n\r\nI have a txt file that has many lines\r\nEg:\r\n```\r\n00001 48592 2394\r\n00002 48372 5932\r\n....\r\n```\r\n\r\nI want to read the file line by line and extract certain values and put them into a structure like [values from line 1 , values from line 2 , ... ]\r\nI don&#39;t know how to construct this structure based on what I have\r\n\r\nthe file processor\r\n```\r\npublic class FileProcess {\r\n  public List&lt;Data&gt; process(InputStream InputStream) throws IOException {\r\n    List&lt;Data&gt; result = new ArrayList&lt;&gt;();\r\n    String line;\r\n\r\n    try(// scanning inputstream) {\r\n      line = sc.nextLine();\r\n      while (line != null) {\r\n        // read thru each line in the txt file\r\n\r\n        String id = line.subString(0, 5);\r\n        String code = line.subString(6, 11);\r\n\r\n        Data data = new data();\r\n        result.add(data);\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n```\r\nthe data model\r\n```\r\n  public class Data {\r\n    private String id;\r\n    private String code;\r\n  }\r\n```\r\nMain\r\n```\r\n  public static void main(String[] args) {\r\n    ProcessorApplication processorApplication = new ProcessorApplication();\r\n\r\n    try (InputStream inputStream = new FileInputStream(processorApplication.inputPath)) {\r\n      FileProcess fileProcess = fileProcess.process(inputStream);\r\n      List&lt;Data&gt; dataList = fileProcess.process(input);\r\n    } catch(IOException e) {\r\n      System.out.printIn(&quot;error&quot;);\r\n    }\r\n  }\r\n```\r\nThe result output is currently: \r\n```\r\n[model@xxxx, model@xxxx, model@xxx, ....]\r\n```\r\n\r\nBut I am expecting:\r\n```\r\n   line 1     line2\r\n  id   code   id   code\r\n[00001 48592, 00002 48372, ....]\r\n```\r\nI don&#39;t know how to map the values to be able to get a data structure like this..\r\nPlease help, thank you very much","title":"How do I map String values to a specific data structure Java","body":"<p>I am practicing a standalone project to learn Java</p>\n<p>I have a txt file that has many lines\nEg:</p>\n<pre><code>00001 48592 2394\n00002 48372 5932\n....\n</code></pre>\n<p>I want to read the file line by line and extract certain values and put them into a structure like [values from line 1 , values from line 2 , ... ]\nI don't know how to construct this structure based on what I have</p>\n<p>the file processor</p>\n<pre><code>public class FileProcess {\n  public List&lt;Data&gt; process(InputStream InputStream) throws IOException {\n    List&lt;Data&gt; result = new ArrayList&lt;&gt;();\n    String line;\n\n    try(// scanning inputstream) {\n      line = sc.nextLine();\n      while (line != null) {\n        // read thru each line in the txt file\n\n        String id = line.subString(0, 5);\n        String code = line.subString(6, 11);\n\n        Data data = new data();\n        result.add(data);\n      }\n      return result;\n    }\n  }\n</code></pre>\n<p>the data model</p>\n<pre><code>  public class Data {\n    private String id;\n    private String code;\n  }\n</code></pre>\n<p>Main</p>\n<pre><code>  public static void main(String[] args) {\n    ProcessorApplication processorApplication = new ProcessorApplication();\n\n    try (InputStream inputStream = new FileInputStream(processorApplication.inputPath)) {\n      FileProcess fileProcess = fileProcess.process(inputStream);\n      List&lt;Data&gt; dataList = fileProcess.process(input);\n    } catch(IOException e) {\n      System.out.printIn(&quot;error&quot;);\n    }\n  }\n</code></pre>\n<p>The result output is currently:</p>\n<pre><code>[model@xxxx, model@xxxx, model@xxx, ....]\n</code></pre>\n<p>But I am expecting:</p>\n<pre><code>   line 1     line2\n  id   code   id   code\n[00001 48592, 00002 48372, ....]\n</code></pre>\n<p>I don't know how to map the values to be able to get a data structure like this..\nPlease help, thank you very much</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1656051765,"post_id":72739514,"comment_id":128481696,"body_markdown":"Can someone pls help ?","body":"Can someone pls help ?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1656052121,"post_id":72739514,"comment_id":128481796,"body_markdown":"Does this cause any problems for you, or are you just asking out of curiosity?","body":"Does this cause any problems for you, or are you just asking out of curiosity?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1656052870,"post_id":72739514,"comment_id":128481970,"body_markdown":"As the G1 is a generational GC if I remember correctly, it could just be that the lifetime of objects allocated with and without load is different (e.g. more short-lived objects with load), leading to different distribution of heap memory across the young/old generations. You could try to learn whats going on by activating more detailed GC logs (see e.g. https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html), or with a memory profiler.","body":"As the G1 is a generational GC if I remember correctly, it could just be that the lifetime of objects allocated with and without load is different (e.g. more short-lived objects with load), leading to different distribution of heap memory across the young/old generations. You could try to learn whats going on by activating more detailed GC logs (see e.g. <a href=\"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/tutorials/tutorials-1876574.html</a>), or with a memory profiler."},{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1656053051,"post_id":72739514,"comment_id":128482024,"body_markdown":"@Hulk: As of now it doesn&#39;t cause any problem but if it goes up to 95% then it is a point of concern as i dont know if it goes till 100% may be","body":"@Hulk: As of now it doesn&#39;t cause any problem but if it goes up to 95% then it is a point of concern as i dont know if it goes till 100% may be"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1656054915,"post_id":72739514,"comment_id":128482528,"body_markdown":"How did you come to the memory/GC parameters you listed in your question? Settings like these need quite some expert knowledge about the GC. Especially setting the max. stack size to 10GB is rarely necessary. Did you have stack overflows with a smaller stack size? Deep recursions? Huge number of threads?","body":"How did you come to the memory/GC parameters you listed in your question? Settings like these need quite some expert knowledge about the GC. Especially setting the max. stack size to 10GB is rarely necessary. Did you have stack overflows with a smaller stack size? Deep recursions? Huge number of threads?"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":2,"creation_date":1656055365,"post_id":72739514,"comment_id":128482644,"body_markdown":"It has always been a typical behaviour of the JVM to use a big percentage of the max heap memory, even if most of the memory used contains garbage (I believe that reduces the GC overhead). You should only be concerned if it reaches 100% AND experiences performance degradation due to GCs not freeing enough memory. The percentage alone is no indicator of concern.","body":"It has always been a typical behaviour of the JVM to use a big percentage of the max heap memory, even if most of the memory used contains garbage (I believe that reduces the GC overhead). You should only be concerned if it reaches 100% AND experiences performance degradation due to GCs not freeing enough memory. The percentage alone is no indicator of concern."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1656059619,"post_id":72739514,"comment_id":128484037,"body_markdown":"What are “during load” and “when load is not running” supposed to mean?","body":"What are “during load” and “when load is not running” supposed to mean?"},{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1656159837,"post_id":72739514,"comment_id":128506419,"body_markdown":"@Holger : Load I meant is traffic to the application.  If traffic is not coming ( as it is in controlled environment in testing phase so we can control sending traffic / request to the application) then GC is happening at 75% of total heap utilization. If traffic is coming then we are observing GC is happening at 60%. As it is going till 75% in the case mentioned so my concern is can it go beyond 75% as well ? If no, it is ok with me. But if yes, then how much beyond 75% memory can go to hit GC.","body":"@Holger : Load I meant is traffic to the application.  If traffic is not coming ( as it is in controlled environment in testing phase so we can control sending traffic / request to the application) then GC is happening at 75% of total heap utilization. If traffic is coming then we are observing GC is happening at 60%. As it is going till 75% in the case mentioned so my concern is can it go beyond 75% as well ? If no, it is ok with me. But if yes, then how much beyond 75% memory can go to hit GC."},{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1656160053,"post_id":72739514,"comment_id":128506468,"body_markdown":"@Ralf Kleberhoff: I understand your point. However, my concern is can it go till 100% as well ? Traffic is running from last many days so i  am observing  GC is happening at approx 60% of memory utilization. If Traffic is not running then GC is happening at approx 75%. As I am observing it from last many days so I am sure that memory leak is not there. However, from GC behavior point of view I want to understand can memory go beyond 75% as well and than GC will trigger ? If yes, can it go till 95% as well ?","body":"@Ralf Kleberhoff: I understand your point. However, my concern is can it go till 100% as well ? Traffic is running from last many days so i  am observing  GC is happening at approx 60% of memory utilization. If Traffic is not running then GC is happening at approx 75%. As I am observing it from last many days so I am sure that memory leak is not there. However, from GC behavior point of view I want to understand can memory go beyond 75% as well and than GC will trigger ? If yes, can it go till 95% as well ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656403240,"post_id":72739514,"comment_id":128556893,"body_markdown":"So what you’re saying is, when the load is high, the GC starts earlier, perfectly compensating the higher load, but for some reason, you’re worrying that the GC could happen later?","body":"So what you’re saying is, when the load is high, the GC starts earlier, perfectly compensating the higher load, but for some reason, you’re worrying that the GC could happen later?"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656049718,"creation_date":1656049718,"question_id":72739514,"body_markdown":"\r\n\r\nI am using openjdk version 1.8.0_202 and below are JVM GC params\r\n\r\n    openjdk version &quot;1.8.0_202&quot;\r\n    OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)\r\n    OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.202-b08, mixed mode)\r\n\r\n\r\n\r\n    -XX:InitiatingHeapOccupancyPercent=25 -XX:G1MixedGCCountTarget=15 -XX:-ResizePLAB -XX:G1HeapWastePercent=5 -XX:+ParallelRefProcEnabled -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ConcGCThreads=8 -XX:ParallelGCThreads=20 -XX:G1ReservePercent=20\r\n\r\nmemory has given as \r\n\r\n-Xmx10g -Xms10g\r\n\r\nI have observed that during load GC is happening at around 60% of heap utilization. However, when load is not running GC is happening at around 75%. \r\n\r\nMy concern is why it is going till 75% ? and How much beyond (80% or 90% or 95%) it can go ? Can someone pls help ?\r\n\r\n\r\n","title":"openjdk 8 GC mechanism","body":"<p>I am using openjdk version 1.8.0_202 and below are JVM GC params</p>\n<pre><code>openjdk version &quot;1.8.0_202&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.202-b08, mixed mode)\n\n\n\n-XX:InitiatingHeapOccupancyPercent=25 -XX:G1MixedGCCountTarget=15 -XX:-ResizePLAB -XX:G1HeapWastePercent=5 -XX:+ParallelRefProcEnabled -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:ConcGCThreads=8 -XX:ParallelGCThreads=20 -XX:G1ReservePercent=20\n</code></pre>\n<p>memory has given as</p>\n<p>-Xmx10g -Xms10g</p>\n<p>I have observed that during load GC is happening at around 60% of heap utilization. However, when load is not running GC is happening at around 75%.</p>\n<p>My concern is why it is going till 75% ? and How much beyond (80% or 90% or 95%) it can go ? Can someone pls help ?</p>\n"},{"tags":["java","android","flutter","gradle"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1656048657,"post_id":72739330,"comment_id":128481051,"body_markdown":"Try doing what it says and download Java 11 (or later).  Are your PATH environment variables set correctly?","body":"Try doing what it says and download Java 11 (or later).  Are your PATH environment variables set correctly?"},{"owner":{"account_id":16022447,"reputation":108,"user_id":11563594,"display_name":"M.Shahzad"},"score":0,"creation_date":1656129559,"post_id":72739330,"comment_id":128501809,"body_markdown":"from where I should download my java 11 because I am using my VS Code editor. I have also Android studio but can you tell me where I download it in android studio.","body":"from where I should download my java 11 because I am using my VS Code editor. I have also Android studio but can you tell me where I download it in android studio."}],"answers":[{"tags":[],"owner":{"account_id":24875664,"reputation":304,"user_id":18749556,"display_name":"Sadhik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656049413,"creation_date":1656049413,"answer_id":72739479,"question_id":72739330,"body_markdown":"s your place set up?\r\n\r\nIs the gradle java version too low\r\n\r\n````Dart\r\nJAVA_HOME D:\\Android\\Android Studio\\jre\r\n   %JAVA_HOME%\\bin\r\n````\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWKtX.png","title":"I&#39;m debugging my flutter code on real device it show me error java 11","body":"<p>s your place set up?</p>\n<p>Is the gradle java version too low</p>\n<pre><code>JAVA_HOME D:\\Android\\Android Studio\\jre\n   %JAVA_HOME%\\bin\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IWKtX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWKtX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16022447,"reputation":108,"user_id":11563594,"display_name":"M.Shahzad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72739479,"answer_count":1,"score":0,"last_activity_date":1656049413,"creation_date":1656048257,"question_id":72739330,"body_markdown":"FAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\secon flutter deleting\\shahy\\android\\app\\build.gradle&#39; line: 24\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n     You can try some of the following options:\r\n       - changing the JAVA_HOME environment variable.\r\n       - changing `org.gradle.java.home` in `gradle.properties`.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\nRunning Gradle task &#39;assembleDebug&#39;...                              9.0s\r\n\r\n┌─ Flutter Fix ─────────────────────────────────────────────────────────────────┐\r\n│ [!] You need Java 11 or higher to build your app with this version of Gradle. │\r\n│                                                                               │\r\n│ To get Java 11, update to the latest version of Android Studio on             │\r\n│ https://developer.android.com/studio/install.                                 │\r\n│                                                                               │\r\n│ To check the Java version used by Flutter, run `flutter doctor -v`.           │\r\n└───────────────────────────────────────────────────────────────────────────────┘\r\nException: Gradle task assembleDebug failed with exit code 1","title":"I&#39;m debugging my flutter code on real device it show me error java 11","body":"<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nBuild file 'C:\\secon flutter deleting\\shahy\\android\\app\\build.gradle' line: 24</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating project ':app'.</p>\n</li>\n</ul>\n<blockquote>\n<p>Failed to apply plugin 'com.android.internal.application'.\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\nYou can try some of the following options:\n- changing the JAVA_HOME environment variable.\n- changing <code>org.gradle.java.home</code> in <code>gradle.properties</code>.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 6s\nRunning Gradle task 'assembleDebug'...                              9.0s</p>\n<p>┌─ Flutter Fix ─────────────────────────────────────────────────────────────────┐\n│ [!] You need Java 11 or higher to build your app with this version of Gradle. │\n│                                                                               │\n│ To get Java 11, update to the latest version of Android Studio on             │\n│ <a href=\"https://developer.android.com/studio/install\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/install</a>.                                 │\n│                                                                               │\n│ To check the Java version used by Flutter, run <code>flutter doctor -v</code>.           │\n└───────────────────────────────────────────────────────────────────────────────┘\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656046004,"post_id":72738772,"comment_id":128480620,"body_markdown":"The posted code doesn&#39;t compile: no definition for `convertStringToCharList` or `userPattern`. Maybe take a look here? [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"The posted code doesn&#39;t compile: no definition for <code>convertStringToCharList</code> or <code>userPattern</code>. Maybe take a look here? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"answers":[{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656044490,"creation_date":1656044490,"answer_id":72738985,"question_id":72738772,"body_markdown":"You can simply do something like:\r\n\r\n    mapOfPatternCharsIndex.computeIfPresent(listOfPatternChars.get(i), (k,v) -&gt; {v.add(i); return v;} );","title":"Add items to an ArrayList inside a HashMap","body":"<p>You can simply do something like:</p>\n<pre><code>mapOfPatternCharsIndex.computeIfPresent(listOfPatternChars.get(i), (k,v) -&gt; {v.add(i); return v;} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656046769,"creation_date":1656046769,"answer_id":72739173,"question_id":72738772,"body_markdown":"Is the following acceptable?\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        String userPattern = &quot;XXYZX&quot;;\r\n        for (int i = 0; i &lt; userPattern.length(); i++) {\r\n            Character key = userPattern.charAt(i);\r\n            List&lt;Integer&gt; indexes = map.get(key);\r\n            if (indexes == null) {\r\n                indexes = new ArrayList&lt;&gt;();\r\n            }\r\n            indexes.add(i);\r\n            map.put(key, indexes);\r\n        }\r\n        System.out.println(map);\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following output:\r\n```none\r\n{X=[0, 1, 4], Y=[2], Z=[3]}\r\n```\r\n","title":"Add items to an ArrayList inside a HashMap","body":"<p>Is the following acceptable?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        String userPattern = &quot;XXYZX&quot;;\n        for (int i = 0; i &lt; userPattern.length(); i++) {\n            Character key = userPattern.charAt(i);\n            List&lt;Integer&gt; indexes = map.get(key);\n            if (indexes == null) {\n                indexes = new ArrayList&lt;&gt;();\n            }\n            indexes.add(i);\n            map.put(key, indexes);\n        }\n        System.out.println(map);\n    }\n}\n</code></pre>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{X=[0, 1, 4], Y=[2], Z=[3]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656048505,"creation_date":1656048505,"answer_id":72739355,"question_id":72738772,"body_markdown":"You can use `IntStream` with `Collectors.groupingBy` to fetch all the characters and their corresponding indices from the list.\r\n\r\n```\r\nList&lt;Character&gt; charList = Arrays.asList(&#39;X&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;X&#39;);\r\n\r\nMap&lt;Character, List&lt;Integer&gt;&gt; map = IntStream.range(0, charList.size())\r\n        .boxed()\r\n        .collect(Collectors.groupingBy(charList::get));\r\n\r\nSystem.out.println(map);\r\n\r\n```\r\nOutput:\r\n```\r\n{X=[0, 1, 4], Y=[2], Z=[3]}\r\n```","title":"Add items to an ArrayList inside a HashMap","body":"<p>You can use <code>IntStream</code> with <code>Collectors.groupingBy</code> to fetch all the characters and their corresponding indices from the list.</p>\n<pre><code>List&lt;Character&gt; charList = Arrays.asList('X', 'X', 'Y', 'Z', 'X');\n\nMap&lt;Character, List&lt;Integer&gt;&gt; map = IntStream.range(0, charList.size())\n        .boxed()\n        .collect(Collectors.groupingBy(charList::get));\n\nSystem.out.println(map);\n\n</code></pre>\n<p>Output:</p>\n<pre><code>{X=[0, 1, 4], Y=[2], Z=[3]}\n</code></pre>\n"}],"owner":{"account_id":1460499,"reputation":834,"user_id":1374957,"accept_rate":90,"display_name":"Jo&#227;o Pedro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656048505,"creation_date":1656042253,"question_id":72738772,"body_markdown":"I&#39;m trying to create a HashMap that goes through an ArrayList of characters and returns the characters as keys and the values as an ArrayList oof indexes where they showed up \r\nfor example `[X,X,Y,Z,X]` would return a map like :\r\n ```\r\n{\r\n   X: [0,1,4];\r\n   Y: [2];\r\n   Z: [3];\r\n}\r\n```\r\n\r\nI have this code but it`s not working because the add method returns a boolean and I need to return a new List:\r\n\r\n```\r\n/* turn the pattern into a List of characters\r\n        turn the List into a HashMap with the keys as the characters and \r\n        the values as the indexes of the characters in the List\r\n        */\r\n        ArrayList&lt;Character&gt; listOfPatternChars = convertStringToCharList(userPattern);\r\n        HashMap&lt;Character,ArrayList&lt;Integer&gt;&gt; mapOfPatternCharsIndex = new HashMap&lt;Character,ArrayList&lt;Integer&gt;&gt;();\r\n        \r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrayOfIndexes = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n        for (int i = 0; i &lt; listOfPatternChars.size(); i++) {\r\n            mapOfPatternCharsIndex.putIfAbsent(listOfPatternChars.get(i), new ArrayList&lt;Integer&gt;());\r\n            mapOfPatternCharsIndex.computeIfPresent(listOfPatternChars.get(i), (k,v) -&gt; v.add(i) );\r\n        }\r\n```\r\n\r\nI guess in JavaScript I could use the spread operator and do something like `(k, v) =&gt; [...v,i]`\r\n\r\nis there anything similar in Java?","title":"Add items to an ArrayList inside a HashMap","body":"<p>I'm trying to create a HashMap that goes through an ArrayList of characters and returns the characters as keys and the values as an ArrayList oof indexes where they showed up\nfor example <code>[X,X,Y,Z,X]</code> would return a map like :</p>\n<pre><code>{\n  X: [0,1,4];\n  Y: [2];\n  Z: [3];\n}\n</code></pre>\n<p>I have this code but it`s not working because the add method returns a boolean and I need to return a new List:</p>\n<pre><code>/* turn the pattern into a List of characters\n        turn the List into a HashMap with the keys as the characters and \n        the values as the indexes of the characters in the List\n        */\n        ArrayList&lt;Character&gt; listOfPatternChars = convertStringToCharList(userPattern);\n        HashMap&lt;Character,ArrayList&lt;Integer&gt;&gt; mapOfPatternCharsIndex = new HashMap&lt;Character,ArrayList&lt;Integer&gt;&gt;();\n        \n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrayOfIndexes = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for (int i = 0; i &lt; listOfPatternChars.size(); i++) {\n            mapOfPatternCharsIndex.putIfAbsent(listOfPatternChars.get(i), new ArrayList&lt;Integer&gt;());\n            mapOfPatternCharsIndex.computeIfPresent(listOfPatternChars.get(i), (k,v) -&gt; v.add(i) );\n        }\n</code></pre>\n<p>I guess in JavaScript I could use the spread operator and do something like <code>(k, v) =&gt; [...v,i]</code></p>\n<p>is there anything similar in Java?</p>\n"},{"tags":["java","serialization","singleton","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1232298,"reputation":11323,"user_id":1196603,"display_name":"Jk1"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1524209648,"creation_date":1372571051,"answer_id":17387542,"question_id":17387457,"body_markdown":"Here&#39;s how it can be achived:\r\n\r\n    public class Singleton implements Serializable {\r\n\r\n    private static Singleton instance = new Singleton();\r\n    private int i;\r\n\r\n    public static Singleton getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    private Singleton() {\r\n    }\r\n\r\n    private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException {\r\n        ois.defaultReadObject();\r\n        instance = this;\r\n    }\r\n\r\n    private Object readResolve()  {\r\n        return instance;\r\n    }\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n\r\n        Singleton s = Singleton.getInstance();\r\n        s.i = 5;\r\n\r\n        ByteArrayOutputStream baos = new java.io.ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new java.io.ObjectOutputStream(baos);\r\n        oos.writeObject(getInstance());\r\n        oos.close();\r\n\r\n        s.i = 7; //modified after serialization\r\n\r\n        InputStream is = new ByteArrayInputStream(baos.toByteArray());\r\n        ObjectInputStream ois = new ObjectInputStream(is);\r\n        Singleton deserialized = (Singleton) ois.readObject();\r\n        System.out.println(deserialized.i);  // prints 5\r\n    }\r\n}","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>Here's how it can be achived:</p>\n\n<pre><code>public class Singleton implements Serializable {\n\nprivate static Singleton instance = new Singleton();\nprivate int i;\n\npublic static Singleton getInstance() {\n    return instance;\n}\n\nprivate Singleton() {\n}\n\nprivate void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException {\n    ois.defaultReadObject();\n    instance = this;\n}\n\nprivate Object readResolve()  {\n    return instance;\n}\n\npublic static void main(String[] args) throws Throwable {\n\n    Singleton s = Singleton.getInstance();\n    s.i = 5;\n\n    ByteArrayOutputStream baos = new java.io.ByteArrayOutputStream();\n    ObjectOutputStream oos = new java.io.ObjectOutputStream(baos);\n    oos.writeObject(getInstance());\n    oos.close();\n\n    s.i = 7; //modified after serialization\n\n    InputStream is = new ByteArrayInputStream(baos.toByteArray());\n    ObjectInputStream ois = new ObjectInputStream(is);\n    Singleton deserialized = (Singleton) ois.readObject();\n    System.out.println(deserialized.i);  // prints 5\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372572334,"creation_date":1372572334,"answer_id":17387666,"question_id":17387457,"body_markdown":"try this\r\n\r\n       Object readResolve() {\r\n          Singleton s = getInstance();\r\n          s.i = i;\r\n          return s;\r\n       }\r\n\r\nNote that readResolve dont need to be public. ","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>try this</p>\n\n<pre><code>   Object readResolve() {\n      Singleton s = getInstance();\n      s.i = i;\n      return s;\n   }\n</code></pre>\n\n<p>Note that readResolve dont need to be public. </p>\n"},{"tags":[],"owner":{"account_id":6375056,"reputation":362,"user_id":4946297,"display_name":"Kaashan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432756355,"creation_date":1432756355,"answer_id":30491924,"question_id":17387457,"body_markdown":"The solution voted as correct though helps in retrieving the value of &#39;i&#39; on the de-serialized object, it violates the singleton design pattern. After de-serialization, two objects of &#39;Singleton&#39; class are created. \r\n\r\nProof: modify the main() method as below:\r\n\r\n\tpublic static void main(String[] args) throws Throwable {\r\n\r\n\t    Singleton s = Singleton.getInstance();\r\n\t    s.i = 5;\r\n\t    System.out.println(&quot;before serialization::&quot;+s.i+&quot; &quot;+ s); //printing value and object\r\n\t    ByteArrayOutputStream baos = new java.io.ByteArrayOutputStream();\r\n\t    ObjectOutputStream oos = new java.io.ObjectOutputStream(baos);\r\n\t    oos.writeObject(getInstance());\r\n\t    oos.close();\r\n\r\n\t    s.i = 7; //modified after serialization\r\n\t    System.out.println(&quot;modified after serialization::&quot;+s.i+&quot; &quot;+s);\r\n\t    \r\n\t    InputStream is = new ByteArrayInputStream(baos.toByteArray());\r\n\t    ObjectInputStream ois = new ObjectInputStream(is);\r\n\t    Singleton deserialized = (Singleton) ois.readObject();\r\n\t    System.out.println(&quot;after deserialization::&quot;+deserialized.i+&quot; &quot;+deserialized); //prints 5, but hashCode is different, which means object is not the same\r\n\t}\r\n\r\nOutput is:\r\n\r\nbefore serialization::5 serialization.Singleton@1690726\r\n\r\nmodified after serialization::7 serialization.Singleton@1690726\r\n\r\nafter deserialization::5 serialization.Singleton@1662dc8\r\n\r\nEven the second suggestion has the same problem.\r\nI tried few more configurations, but nothing worked out.\r\nIs there any other way to solve this problem?\r\n\r\nPlease tag the thread with &#39;Singleton&#39; as well so that it reaches wider audience.\r\n\r\nThanks.","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>The solution voted as correct though helps in retrieving the value of 'i' on the de-serialized object, it violates the singleton design pattern. After de-serialization, two objects of 'Singleton' class are created. </p>\n\n<p>Proof: modify the main() method as below:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n\n    Singleton s = Singleton.getInstance();\n    s.i = 5;\n    System.out.println(\"before serialization::\"+s.i+\" \"+ s); //printing value and object\n    ByteArrayOutputStream baos = new java.io.ByteArrayOutputStream();\n    ObjectOutputStream oos = new java.io.ObjectOutputStream(baos);\n    oos.writeObject(getInstance());\n    oos.close();\n\n    s.i = 7; //modified after serialization\n    System.out.println(\"modified after serialization::\"+s.i+\" \"+s);\n\n    InputStream is = new ByteArrayInputStream(baos.toByteArray());\n    ObjectInputStream ois = new ObjectInputStream(is);\n    Singleton deserialized = (Singleton) ois.readObject();\n    System.out.println(\"after deserialization::\"+deserialized.i+\" \"+deserialized); //prints 5, but hashCode is different, which means object is not the same\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<p>before serialization::5 serialization.Singleton@1690726</p>\n\n<p>modified after serialization::7 serialization.Singleton@1690726</p>\n\n<p>after deserialization::5 serialization.Singleton@1662dc8</p>\n\n<p>Even the second suggestion has the same problem.\nI tried few more configurations, but nothing worked out.\nIs there any other way to solve this problem?</p>\n\n<p>Please tag the thread with 'Singleton' as well so that it reaches wider audience.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":3979051,"reputation":1626,"user_id":3281476,"accept_rate":60,"display_name":"Srini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432758179,"creation_date":1432758179,"answer_id":30492431,"question_id":17387457,"body_markdown":"The best way to implement a `Serializable` Singleton is to use an **Enum**.\r\n\r\nFrom Joshua Bloch&#39;s Effective Java:\r\n&gt;&quot;*This approach is functionally equivalent to the public field approach, except that it is more concise, **provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks**. While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.*&quot;\r\n\r\nSave yourself some time and use an **Enum**.\r\n\r\nRefer [this](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java) question for more discussion on the same topic.","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>The best way to implement a <code>Serializable</code> Singleton is to use an <strong>Enum</strong>.</p>\n\n<p>From Joshua Bloch's Effective Java:</p>\n\n<blockquote>\n  <p>\"<em>This approach is functionally equivalent to the public field approach, except that it is more concise, <strong>provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks</strong>. While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.</em>\"</p>\n</blockquote>\n\n<p>Save yourself some time and use an <strong>Enum</strong>.</p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">this</a> question for more discussion on the same topic.</p>\n"},{"tags":[],"owner":{"account_id":1649573,"reputation":1949,"user_id":1520422,"accept_rate":36,"display_name":"Frederic Leitenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467214740,"creation_date":1467214740,"answer_id":38104237,"question_id":17387457,"body_markdown":"This should do the trick (based on your initial question):\r\n\r\n\r\n       public Object readResolve() {\r\n          System.out.println(&quot;Executing readResolve&quot;);\r\n          if (obj == null) // optionally use external boolean flag to control this\r\n          {\r\n              System.out.println(&quot;readResolve - assigned obj = this - loaded state&quot;);\r\n              obj = this;\r\n          }\r\n          return Singleton.getInstance();\r\n       }\r\n\r\nIf you want to force loading the Singleton state then set `obj = null` before deserializing the stored state.\r\n\r\nOr you could add a `boolean` flag that tells the `readResolve()` method whether to keep or override `obj`.\r\n\r\nBe aware of multi-threading issues if you are working in a multi-threaded environment.","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>This should do the trick (based on your initial question):</p>\n\n<pre><code>   public Object readResolve() {\n      System.out.println(\"Executing readResolve\");\n      if (obj == null) // optionally use external boolean flag to control this\n      {\n          System.out.println(\"readResolve - assigned obj = this - loaded state\");\n          obj = this;\n      }\n      return Singleton.getInstance();\n   }\n</code></pre>\n\n<p>If you want to force loading the Singleton state then set <code>obj = null</code> before deserializing the stored state.</p>\n\n<p>Or you could add a <code>boolean</code> flag that tells the <code>readResolve()</code> method whether to keep or override <code>obj</code>.</p>\n\n<p>Be aware of multi-threading issues if you are working in a multi-threaded environment.</p>\n"},{"tags":[],"owner":{"account_id":13322288,"reputation":1,"user_id":9616483,"display_name":"Arijeet Chakravarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524476028,"creation_date":1524475239,"answer_id":49977454,"question_id":17387457,"body_markdown":"I believe that simply returning this in the child class should do the trick\r\n\r\n       public Object readResolve() {\r\n          System.out.println(&quot;Executing readResolve&quot;);\r\n          return this; \r\n       }\r\n\r\nI know it&#39;s a very old post but i stumbled upon it and other&#39;s might too. \r\n\r\n","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>I believe that simply returning this in the child class should do the trick</p>\n\n<pre><code>   public Object readResolve() {\n      System.out.println(\"Executing readResolve\");\n      return this; \n   }\n</code></pre>\n\n<p>I know it's a very old post but i stumbled upon it and other's might too. </p>\n"},{"tags":[],"owner":{"account_id":7312387,"reputation":1,"user_id":5571125,"display_name":"Abhinav Katyayen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549534940,"creation_date":1549533478,"answer_id":54570655,"question_id":17387457,"body_markdown":"We can also do like that,call the `getInstance()` method inside  `readResolve()` and store the result into some reference variable of type `Singleton` then return the reference. Make sure that the return type of the the method should be of `Object` type, you can provide any access modifier.\r\n\r\n\r\n    private Object readResolve() {\r\n\t\tSingleton instance = getInstance();\r\n\t\treturn instance;\r\n\t}","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>We can also do like that,call the <code>getInstance()</code> method inside  <code>readResolve()</code> and store the result into some reference variable of type <code>Singleton</code> then return the reference. Make sure that the return type of the the method should be of <code>Object</code> type, you can provide any access modifier.</p>\n\n<pre><code>private Object readResolve() {\n    Singleton instance = getInstance();\n    return instance;\n}\n</code></pre>\n"}],"owner":{"account_id":1775953,"reputation":972,"user_id":1619751,"accept_rate":20,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36903,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":17387542,"answer_count":7,"score":8,"last_activity_date":1656048399,"creation_date":1372570056,"question_id":17387457,"body_markdown":"I am trying to write a Serializable Singleton class by adding the readResolve() method. My intention is to get the same object with its object&#39;s state at the time of serialization time.\r\n\r\nbelow is my Test example code:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.Serializable;\r\n    \r\n    public class SingletonDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t  Singleton obj = Singleton.getInstance();\r\n    \t      System.out.println(&quot;After NEW Object creation : &quot; + obj);\r\n    \r\n    \t      obj.i = 5;\r\n    \t      System.out.println(&quot;Object modified&quot;);\r\n    \t      System.out.println(&quot;After Object 1st Modification : &quot; + obj);\r\n    \r\n    \t      serializeMe();\r\n    \t      System.out.println(&quot;Serialized successfully with object state : &quot; + obj);\r\n    \r\n    \t      obj.i = 10;\r\n    \t      System.out.println(&quot;Object modified again&quot;);\r\n    \t      System.out.println(&quot;After Object 2nd Modification : &quot; + obj);\r\n    \r\n    \t      Singleton st = (Singleton)deSerializeMe();\r\n    \t      System.out.println(&quot;Deserialized successfully&quot;);\r\n    \r\n    \t      System.out.println(&quot;After Deserialization : &quot; + st);\r\n    \t}\r\n    \t\r\n    \tpublic static void serializeMe() {\r\n\t\tObjectOutputStream oos = null;\r\n\r\n\t\ttry {\r\n\t\t\toos = new ObjectOutputStream(new FileOutputStream(&quot;d:\\\\SingletonData.txt&quot;));\r\n\t\t\toos.writeObject(MySerializedSingleton.getInstance());\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Object deSerializeMe() {\r\n\t\tObjectInputStream oin = null;\r\n\t\tObject obj = null;\r\n\r\n\t\ttry {\r\n\t\t\toin = new ObjectInputStream(new FileInputStream(&quot;d:\\\\SingletonData.txt&quot;));\r\n\t\t\tobj = oin.readObject();\r\n\t\t} catch (IOException | ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n}\r\n    \r\n    class Singleton implements Serializable {\r\n       int i;\r\n       private static Singleton obj = null;\r\n    \r\n       private Singleton() {\r\n          System.out.println(&quot;Executing constructor&quot;);\r\n          i=1;\r\n       }\r\n    \r\n       public static Singleton getInstance() {\r\n          if(obj == null) {\r\n             obj = new Singleton();\r\n          }\r\n          System.out.println(&quot;An instance is returned&quot;);\r\n          return obj;\r\n       }\r\n    \r\n       /*private void writeObject(ObjectOutputStream oos) {\r\n\t   try {\r\n\t\t   oos.writeInt(i);\r\n\t   } catch (Exception e) {\r\n\t\t   e.printStackTrace();\r\n \t   }\r\n       }\r\n   \r\n       private void readObject(ObjectInputStream ois) {\r\n\t   try {\r\n\t\t   i = ois.readInt();\r\n\t   } catch (Exception e) {\r\n\t\t   e.printStackTrace();\r\n\t   }\r\n       }*/\r\n\r\n       public Object readResolve() {\r\n          System.out.println(&quot;Executing readResolve&quot;);\r\n          return Singleton.getInstance(); // FIXME\r\n       }\r\n    \r\n       @Override\r\n       public String toString() {\r\n    \t  return &quot;Singleton [i=&quot; + i + &quot;]&quot;;\r\n       }\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    Executing constructor\r\n    An instance is returned\r\n    After NEW Object creation : Singleton [i=1]\r\n    Object modified\r\n    After Object 1st Modification : Singleton [i=5]\r\n    An instance is returned\r\n    Serialized successfully with object state : Singleton [i=5]\r\n    Object modified again\r\n    After Object 2nd Modification : Singleton [i=10]\r\n    Executing readResolve\r\n    An instance is returned\r\n    Deserialized successfully\r\n    After Deserialization : Singleton [i=10]\r\n\r\nI know the current scenario will always return the same instance of Singleton with the latest Object&#39;s state. \r\n\r\nI tried overriding the writeObject() and readObject() (commented in this above code) but not getting the desired result.\r\ni.e.\r\n\r\n    After Deserialization : Singleton [i=5]\r\n\r\nBut there is no reference of ObjectInputStream in readResolve() so that I can get the instance and update it with the serialized object&#39;s state before returning.\r\n\r\nPlease correct me if I am wrong in my conception and help me to solve this.\r\n\r\nThanks. \r\n\r\n","title":"Implementation of readResolve() method for Serializable Singleton Instance","body":"<p>I am trying to write a Serializable Singleton class by adding the readResolve() method. My intention is to get the same object with its object's state at the time of serialization time.</p>\n<p>below is my Test example code:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\npublic class SingletonDemo {\n\n    public static void main(String[] args) {\n          Singleton obj = Singleton.getInstance();\n          System.out.println(&quot;After NEW Object creation : &quot; + obj);\n\n          obj.i = 5;\n          System.out.println(&quot;Object modified&quot;);\n          System.out.println(&quot;After Object 1st Modification : &quot; + obj);\n\n          serializeMe();\n          System.out.println(&quot;Serialized successfully with object state : &quot; + obj);\n\n          obj.i = 10;\n          System.out.println(&quot;Object modified again&quot;);\n          System.out.println(&quot;After Object 2nd Modification : &quot; + obj);\n\n          Singleton st = (Singleton)deSerializeMe();\n          System.out.println(&quot;Deserialized successfully&quot;);\n\n          System.out.println(&quot;After Deserialization : &quot; + st);\n    }\n    \n    public static void serializeMe() {\n    ObjectOutputStream oos = null;\n\n    try {\n        oos = new ObjectOutputStream(new FileOutputStream(&quot;d:\\\\SingletonData.txt&quot;));\n        oos.writeObject(MySerializedSingleton.getInstance());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static Object deSerializeMe() {\n    ObjectInputStream oin = null;\n    Object obj = null;\n\n    try {\n        oin = new ObjectInputStream(new FileInputStream(&quot;d:\\\\SingletonData.txt&quot;));\n        obj = oin.readObject();\n    } catch (IOException | ClassNotFoundException e) {\n        e.printStackTrace();\n\n    }\n    return obj;\n}\n</code></pre>\n<p>}</p>\n<pre><code>class Singleton implements Serializable {\n   int i;\n   private static Singleton obj = null;\n\n   private Singleton() {\n      System.out.println(&quot;Executing constructor&quot;);\n      i=1;\n   }\n\n   public static Singleton getInstance() {\n      if(obj == null) {\n         obj = new Singleton();\n      }\n      System.out.println(&quot;An instance is returned&quot;);\n      return obj;\n   }\n\n   /*private void writeObject(ObjectOutputStream oos) {\n   try {\n       oos.writeInt(i);\n   } catch (Exception e) {\n       e.printStackTrace();\n   }\n   }\n\n   private void readObject(ObjectInputStream ois) {\n   try {\n       i = ois.readInt();\n   } catch (Exception e) {\n       e.printStackTrace();\n   }\n   }*/\n\n   public Object readResolve() {\n      System.out.println(&quot;Executing readResolve&quot;);\n      return Singleton.getInstance(); // FIXME\n   }\n\n   @Override\n   public String toString() {\n      return &quot;Singleton [i=&quot; + i + &quot;]&quot;;\n   }\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Executing constructor\nAn instance is returned\nAfter NEW Object creation : Singleton [i=1]\nObject modified\nAfter Object 1st Modification : Singleton [i=5]\nAn instance is returned\nSerialized successfully with object state : Singleton [i=5]\nObject modified again\nAfter Object 2nd Modification : Singleton [i=10]\nExecuting readResolve\nAn instance is returned\nDeserialized successfully\nAfter Deserialization : Singleton [i=10]\n</code></pre>\n<p>I know the current scenario will always return the same instance of Singleton with the latest Object's state.</p>\n<p>I tried overriding the writeObject() and readObject() (commented in this above code) but not getting the desired result.\ni.e.</p>\n<pre><code>After Deserialization : Singleton [i=5]\n</code></pre>\n<p>But there is no reference of ObjectInputStream in readResolve() so that I can get the instance and update it with the serialized object's state before returning.</p>\n<p>Please correct me if I am wrong in my conception and help me to solve this.</p>\n<p>Thanks.</p>\n"},{"tags":["java","testing"],"answers":[{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1395073024,"creation_date":1395073024,"answer_id":22459657,"question_id":22459613,"body_markdown":"Use a random with a constant seed. You can use the [Random(long seed)][1] constructor for it.\r\n\r\nThe [RandomStringUtils.random()][2] method can accept a `Random` source, which you could have created with a constant seed as described. \r\n\r\nUsing a constant seed is very useful for making experiments reproduceable - and using them is a very good practice, IMO.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#Random%28long%29\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/RandomStringUtils.html#random%28int,%20int,%20int,%20boolean,%20boolean,%20char%5B%5D,%20java.util.Random%29","title":"Generate random but static test data","body":"<p>Use a random with a constant seed. You can use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#Random%28long%29\" rel=\"nofollow\">Random(long seed)</a> constructor for it.</p>\n\n<p>The <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/RandomStringUtils.html#random%28int,%20int,%20int,%20boolean,%20boolean,%20char%5B%5D,%20java.util.Random%29\" rel=\"nofollow\">RandomStringUtils.random()</a> method can accept a <code>Random</code> source, which you could have created with a constant seed as described. </p>\n\n<p>Using a constant seed is very useful for making experiments reproduceable - and using them is a very good practice, IMO.</p>\n"},{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395093059,"creation_date":1395093059,"answer_id":22466245,"question_id":22459613,"body_markdown":"don&#39;t do it. it gives you a headache, makes your tests unreadable and gives you no benefit. you already see the problems: specification of constraints. so let&#39;s go to the imaginary benefits. you worry about that manually you provide  more constrained data then random data. but you want to use same data every time (same seed). so how do you know that random data are better than your manually provided data? how do you know that you chose seed properly? if you are not sure if your test data are good enough then:\r\n\r\n* simplify your code (extract methods/classes, avoid ifs, avoid nulls, be more immutable and functional)\r\n* look at edge cases and include them in your tests\r\n* look at generated data and check if some of them differs from what you were thinking of and add those data to your tests\r\n* use mutation testing\r\n* whenever a bug is discovered dufing development, uat or production, add those data to your tests\r\n* do truly random (not repetitive), long running tests. every generated data that breaks the tests should be logged and add to your deterministic unit tests.\r\n\r\nby pretending to use random data you just lie to yourself. the data is not random, you don&#39;t control it and it makes you stop thinking about edge cases of your code. so don&#39;t do it, face the truth and make your tests readable and check more conditions","title":"Generate random but static test data","body":"<p>don't do it. it gives you a headache, makes your tests unreadable and gives you no benefit. you already see the problems: specification of constraints. so let's go to the imaginary benefits. you worry about that manually you provide  more constrained data then random data. but you want to use same data every time (same seed). so how do you know that random data are better than your manually provided data? how do you know that you chose seed properly? if you are not sure if your test data are good enough then:</p>\n\n<ul>\n<li>simplify your code (extract methods/classes, avoid ifs, avoid nulls, be more immutable and functional)</li>\n<li>look at edge cases and include them in your tests</li>\n<li>look at generated data and check if some of them differs from what you were thinking of and add those data to your tests</li>\n<li>use mutation testing</li>\n<li>whenever a bug is discovered dufing development, uat or production, add those data to your tests</li>\n<li>do truly random (not repetitive), long running tests. every generated data that breaks the tests should be logged and add to your deterministic unit tests.</li>\n</ul>\n\n<p>by pretending to use random data you just lie to yourself. the data is not random, you don't control it and it makes you stop thinking about edge cases of your code. so don't do it, face the truth and make your tests readable and check more conditions</p>\n"},{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395238533,"creation_date":1395238533,"answer_id":22508679,"question_id":22459613,"body_markdown":"What you are describing is property based testing - the best known example being Haskell&#39;s quickcheck.\r\n\r\nhttp://www.haskell.org/haskellwiki/Introduction_to_QuickCheck1\r\n\r\nThere have been a number of java ports such as\r\n\r\n* https://bitbucket.org/blob79/quickcheck\r\n* https://github.com/kjw/supercheck\r\n* https://github.com/pholser/junit-quickcheck\r\n\r\nThe Quickcheck philosophy emphasises the use of random data, but most (all?) of the java ports allow you to set a fixed seed so that the generated values are repeatable.\r\n\r\nI&#39;ve never got round to actually trying this approach, but I would hope it would make your tests more readable (rather than less readable as piotrek suggests), by separating the values from the tests. \r\n\r\nIf knowledge of the values is important to understand the test/SUT behavior then it is the wrong approach.","title":"Generate random but static test data","body":"<p>What you are describing is property based testing - the best known example being Haskell's quickcheck.</p>\n\n<p><a href=\"http://www.haskell.org/haskellwiki/Introduction_to_QuickCheck1\" rel=\"nofollow\">http://www.haskell.org/haskellwiki/Introduction_to_QuickCheck1</a></p>\n\n<p>There have been a number of java ports such as</p>\n\n<ul>\n<li><a href=\"https://bitbucket.org/blob79/quickcheck\" rel=\"nofollow\">https://bitbucket.org/blob79/quickcheck</a></li>\n<li><a href=\"https://github.com/kjw/supercheck\" rel=\"nofollow\">https://github.com/kjw/supercheck</a></li>\n<li><a href=\"https://github.com/pholser/junit-quickcheck\" rel=\"nofollow\">https://github.com/pholser/junit-quickcheck</a></li>\n</ul>\n\n<p>The Quickcheck philosophy emphasises the use of random data, but most (all?) of the java ports allow you to set a fixed seed so that the generated values are repeatable.</p>\n\n<p>I've never got round to actually trying this approach, but I would hope it would make your tests more readable (rather than less readable as piotrek suggests), by separating the values from the tests. </p>\n\n<p>If knowledge of the values is important to understand the test/SUT behavior then it is the wrong approach.</p>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656048094,"creation_date":1656048094,"answer_id":72739312,"question_id":22459613,"body_markdown":"[Instancio][1] is a data generation library for unit tests that does what you are looking. E.g. if you need a random string of certain length:\r\n\r\n```java\r\nFoo foo = Instancio.of(Foo.class)\r\n  .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\r\n  .create();\r\n```\r\n\r\nTo generate a random predictable values, you can supply a seed:\r\n\r\n\r\n```java\r\nFoo foo = Instancio.of(Foo.class)\r\n  .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\r\n  .withSeed(123)\r\n  .create();\r\n```\r\n\r\nOr if you use JUnit 5:\r\n\r\n```java\r\n@ExtendWith(InstancioExtension.class)\r\nclass ExampleTest{\r\n\r\n    @Seed(1234)\r\n    @Test\r\n    void example {\r\n        Foo foo = Instancio.of(Foo.class)\r\n           .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\r\n           .create();\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIf you need predictable data *always*, you can configure a global seed value through a properties file. This way you won&#39;t need to specify it in the code.\r\n\r\nhttps://github.com/instancio/instancio/\r\n\r\n  [1]: https://www.instancio.org","title":"Generate random but static test data","body":"<p><a href=\"https://www.instancio.org\" rel=\"nofollow noreferrer\">Instancio</a> is a data generation library for unit tests that does what you are looking. E.g. if you need a random string of certain length:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo foo = Instancio.of(Foo.class)\n  .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\n  .create();\n</code></pre>\n<p>To generate a random predictable values, you can supply a seed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo foo = Instancio.of(Foo.class)\n  .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\n  .withSeed(123)\n  .create();\n</code></pre>\n<p>Or if you use JUnit 5:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(InstancioExtension.class)\nclass ExampleTest{\n\n    @Seed(1234)\n    @Test\n    void example {\n        Foo foo = Instancio.of(Foo.class)\n           .generate(field(&quot;fooString&quot;), gen -&gt; gen.string().length(10))\n           .create();\n        // ...\n    }\n}\n</code></pre>\n<p>If you need predictable data <em>always</em>, you can configure a global seed value through a properties file. This way you won't need to specify it in the code.</p>\n<p><a href=\"https://github.com/instancio/instancio/\" rel=\"nofollow noreferrer\">https://github.com/instancio/instancio/</a></p>\n"}],"owner":{"account_id":84704,"reputation":12959,"user_id":236587,"accept_rate":80,"display_name":"Rupert Madden-Abbott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1656048094,"creation_date":1395072942,"question_id":22459613,"body_markdown":"When designing test cases, I want to be able to use data that is random but static.\r\n\r\nIf I use data that is not random, then I will use trivial examples that are representative of the data I expect, rather than the data I have guarded against in my code. For example, if my code is expecting a string with a max length of 15 characters then I would rather specify these constraints and have the data generated for me, within those constraints, rather than some arbitrary example which may be, due to my expectations, within a more strict set of constraints.\r\n\r\nIf I use data that is not static, then my tests won&#39;t be repeatable. It is no good using a string that changes every time the test is run f the test then fails occasionally. It would be much better to use a consistent string and then specify more constraints upon how that string is generated (and obviously make the same checks in my code), if and when a bug is found.\r\n\r\nIs this a good strategy for test data?\r\n\r\nIf so, then I know how to achieve both of these goals independently. For static, but non-random data I just enter something arbitrary e.g. `foo`. For something random but not static, I just use apache random utils e.g. `randomString(5)`. How can I get both?\r\n\r\nNote that when data must be unique, it would also be handy to have some way to specify that two pieces of generated data must be distinct. Randomness does this most of the time but cannot be relied upon, obviously, without having unreliable tests!\r\n\r\nTL;DR: How can I specify the type of data I want to generate, without having randomised generated data?","title":"Generate random but static test data","body":"<p>When designing test cases, I want to be able to use data that is random but static.</p>\n\n<p>If I use data that is not random, then I will use trivial examples that are representative of the data I expect, rather than the data I have guarded against in my code. For example, if my code is expecting a string with a max length of 15 characters then I would rather specify these constraints and have the data generated for me, within those constraints, rather than some arbitrary example which may be, due to my expectations, within a more strict set of constraints.</p>\n\n<p>If I use data that is not static, then my tests won't be repeatable. It is no good using a string that changes every time the test is run f the test then fails occasionally. It would be much better to use a consistent string and then specify more constraints upon how that string is generated (and obviously make the same checks in my code), if and when a bug is found.</p>\n\n<p>Is this a good strategy for test data?</p>\n\n<p>If so, then I know how to achieve both of these goals independently. For static, but non-random data I just enter something arbitrary e.g. <code>foo</code>. For something random but not static, I just use apache random utils e.g. <code>randomString(5)</code>. How can I get both?</p>\n\n<p>Note that when data must be unique, it would also be handy to have some way to specify that two pieces of generated data must be distinct. Randomness does this most of the time but cannot be relied upon, obviously, without having unreliable tests!</p>\n\n<p>TL;DR: How can I specify the type of data I want to generate, without having randomised generated data?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1656025526,"post_id":72737304,"comment_id":128477803,"body_markdown":"If you don&#39;t have a specific problem, you might want to try [codereview.se].","body":"If you don&#39;t have a specific problem, you might want to try <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}],"answers":[{"tags":[],"owner":{"account_id":18318368,"reputation":742,"user_id":13339685,"display_name":"mohit48"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656047702,"creation_date":1656047702,"answer_id":72739265,"question_id":72737304,"body_markdown":"Instead of creating a new instance of DateTime everytime make your both methods as static. In this way, you will be able to access them directly without creating a new object of DateTime class. This will have negligible effect on your memory because the class is very simple, but it is a good thing to do so that you can use these methods without filling your memory\r\n\r\n\r\n    public class DateTime {\r\n\r\n       public static String date() {\r\n           Calendar calendar = Calendar.getInstance();\r\n           return calendar.get(Calendar.DATE)+ &quot;/&quot; + calendar.get(Calendar.MONTH) + &quot;/&quot; + calendar.get(Calendar.YEAR);\r\n       }\r\n    \r\n       public static String time() {\r\n           Calendar calendar = Calendar.getInstance();\r\n           return calendar.get(Calendar.HOUR) + &quot;:&quot; + calendar.get(Calendar.MINUTE);\r\n       }\r\n    \r\n    }\r\n\r\n\r\nto use:\r\n\r\n    dbHelper.insertNote(note, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n\r\n","title":"Is this the right code to reuse date and time method? Because I reuse it in three activities","body":"<p>Instead of creating a new instance of DateTime everytime make your both methods as static. In this way, you will be able to access them directly without creating a new object of DateTime class. This will have negligible effect on your memory because the class is very simple, but it is a good thing to do so that you can use these methods without filling your memory</p>\n<pre><code>public class DateTime {\n\n   public static String date() {\n       Calendar calendar = Calendar.getInstance();\n       return calendar.get(Calendar.DATE)+ &quot;/&quot; + calendar.get(Calendar.MONTH) + &quot;/&quot; + calendar.get(Calendar.YEAR);\n   }\n\n   public static String time() {\n       Calendar calendar = Calendar.getInstance();\n       return calendar.get(Calendar.HOUR) + &quot;:&quot; + calendar.get(Calendar.MINUTE);\n   }\n\n}\n</code></pre>\n<p>to use:</p>\n<pre><code>dbHelper.insertNote(note, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n</code></pre>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72739265,"answer_count":1,"score":1,"last_activity_date":1656047702,"creation_date":1656024030,"question_id":72737304,"body_markdown":"I have created DateTime.java class like this:\r\n\r\n    public class DateTime {\r\n\r\n\r\n    public String date() {\r\n        Calendar calendar = Calendar.getInstance();\r\n        return calendar.get(Calendar.DATE)+ &quot;/&quot; + calendar.get(Calendar.MONTH) + &quot;/&quot; + calendar.get(Calendar.YEAR);\r\n    }\r\n\r\n    public String time() {\r\n        Calendar calendar = Calendar.getInstance();\r\n        return calendar.get(Calendar.HOUR) + &quot;:&quot; + calendar.get(Calendar.MINUTE);\r\n    }\r\n\r\n       }\r\n\r\nin all three activities I get the date and time like this:\r\n\r\n            DateTime dateTime = new DateTime();\r\n                dbHelper.insertNote(note, dateTime.date(), dateTime.time(), System.currentTimeMillis());\r\n                finish();\r\n\r\nIs there any problem with the DateTime class implementation?","title":"Is this the right code to reuse date and time method? Because I reuse it in three activities","body":"<p>I have created DateTime.java class like this:</p>\n<pre><code>public class DateTime {\n\n\npublic String date() {\n    Calendar calendar = Calendar.getInstance();\n    return calendar.get(Calendar.DATE)+ &quot;/&quot; + calendar.get(Calendar.MONTH) + &quot;/&quot; + calendar.get(Calendar.YEAR);\n}\n\npublic String time() {\n    Calendar calendar = Calendar.getInstance();\n    return calendar.get(Calendar.HOUR) + &quot;:&quot; + calendar.get(Calendar.MINUTE);\n}\n\n   }\n</code></pre>\n<p>in all three activities I get the date and time like this:</p>\n<pre><code>        DateTime dateTime = new DateTime();\n            dbHelper.insertNote(note, dateTime.date(), dateTime.time(), System.currentTimeMillis());\n            finish();\n</code></pre>\n<p>Is there any problem with the DateTime class implementation?</p>\n"},{"tags":["java","spring","spring-boot","server","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1656016289,"post_id":72727794,"comment_id":128475930,"body_markdown":"Does your deployment contain a logging configuration file?","body":"Does your deployment contain a logging configuration file?"},{"owner":{"account_id":1842720,"reputation":760,"user_id":1671807,"accept_rate":22,"display_name":"Sudipta Roy"},"score":0,"creation_date":1656052055,"post_id":72727794,"comment_id":128481776,"body_markdown":"No. Earlier I was using the embedded Tomcat as my server. It was working fine, all error and info are logged into the console. Now I am creating a `war` file and deplying it to `WildFly`. Everything is working except that only error messages are printed in `server.log`. Both with `System.out/err` and `slf4j` info/error.","body":"No. Earlier I was using the embedded Tomcat as my server. It was working fine, all error and info are logged into the console. Now I am creating a <code>war</code> file and deplying it to <code>WildFly</code>. Everything is working except that only error messages are printed in <code>server.log</code>. Both with <code>System.out&#47;err</code> and <code>slf4j</code> info/error."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1656081851,"post_id":72727794,"comment_id":128492276,"body_markdown":"Do you see other info messages?","body":"Do you see other info messages?"},{"owner":{"account_id":1842720,"reputation":760,"user_id":1671807,"accept_rate":22,"display_name":"Sudipta Roy"},"score":0,"creation_date":1656138594,"post_id":72727794,"comment_id":128502733,"body_markdown":"There are other wars deployed from which I can see all the logs. But not from my sample war.","body":"There are other wars deployed from which I can see all the logs. But not from my sample war."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1656296901,"post_id":72727794,"comment_id":128528963,"body_markdown":"It should work by default. You might want to look to see if you&#39;ve got a configuration file in your WAR or if you&#39;re including log libraries in your WAR.","body":"It should work by default. You might want to look to see if you&#39;ve got a configuration file in your WAR or if you&#39;re including log libraries in your WAR."}],"answers":[{"tags":[],"owner":{"account_id":2835101,"reputation":15,"user_id":2435847,"display_name":"Stephan Zehnder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656047269,"creation_date":1655977123,"answer_id":72727956,"question_id":72727794,"body_markdown":"The sl4j config is in a separate file not in your pom.xml.\r\n\r\nCheck this link: https://www.swtestacademy.com/how-to-configure-simple-logger-slf4j-log-levels/\r\n\r\nYou should actually use the logger factory to log and not system.out or system.err:\r\n\r\n```\r\nLogger logger = LoggerFactory.getLogger(HelloWorld.class);\r\nlogger.info(&quot;Hello World&quot;);\r\n```","title":"Only error logs are printed in server.log in wildfly","body":"<p>The sl4j config is in a separate file not in your pom.xml.</p>\n<p>Check this link: <a href=\"https://www.swtestacademy.com/how-to-configure-simple-logger-slf4j-log-levels/\" rel=\"nofollow noreferrer\">https://www.swtestacademy.com/how-to-configure-simple-logger-slf4j-log-levels/</a></p>\n<p>You should actually use the logger factory to log and not system.out or system.err:</p>\n<pre><code>Logger logger = LoggerFactory.getLogger(HelloWorld.class);\nlogger.info(&quot;Hello World&quot;);\n</code></pre>\n"}],"owner":{"account_id":1842720,"reputation":760,"user_id":1671807,"accept_rate":22,"display_name":"Sudipta Roy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656047269,"creation_date":1655976427,"question_id":72727794,"body_markdown":"I have created a `war` file with `spring-boot` project (version 2.7.0) for deplying in `wildfly` application server. I have a sample rest API\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class HelloApi {\r\n\r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            System.err.println(&quot;TEST LOG&quot;);\r\n            return &quot;Hello from Spring Boot&quot;;\r\n        }\r\n    }\r\n\r\nThe issue is that `System.out.println` output is not written in the `server.log` whereas `System.err.println` is in fact printed in the `server.log` file. \r\n\r\nThis is sample code. In my actual application, I am using `slf4j` for logging. I am facing the same issue there : `info` method is not working but `error` method is. Seems like some sort of configuration issue. My `pom.xml` is\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n\t\t&lt;deploy.wildfly.host&gt;MY_HOST&lt;/deploy.wildfly.host&gt;\r\n\t\t&lt;deploy.wildfly.port&gt;MY_PORT&lt;/deploy.wildfly.port&gt;\r\n\t\t&lt;deploy.wildfly.username&gt;USERNAME&lt;/deploy.wildfly.username&gt;\r\n\t\t&lt;deploy.wildfly.password&gt;PASSWORD&lt;/deploy.wildfly.password&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;deploy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;filename&gt;${project.build.finalName}.war&lt;/filename&gt;\r\n\t\t\t\t\t&lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\r\n\t\t\t\t\t&lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\r\n\t\t\t\t\t&lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\r\n\t\t\t\t\t&lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n \r\nCan someone please help me regarding this? I am new to spring. In my wildfly setup there are other wars deployed (not using spring) but they are working fine.\r\n\r\nThanks","title":"Only error logs are printed in server.log in wildfly","body":"<p>I have created a <code>war</code> file with <code>spring-boot</code> project (version 2.7.0) for deplying in <code>wildfly</code> application server. I have a sample rest API</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloApi {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        System.err.println(&quot;TEST LOG&quot;);\n        return &quot;Hello from Spring Boot&quot;;\n    }\n}\n</code></pre>\n<p>The issue is that <code>System.out.println</code> output is not written in the <code>server.log</code> whereas <code>System.err.println</code> is in fact printed in the <code>server.log</code> file.</p>\n<p>This is sample code. In my actual application, I am using <code>slf4j</code> for logging. I am facing the same issue there : <code>info</code> method is not working but <code>error</code> method is. Seems like some sort of configuration issue. My <code>pom.xml</code> is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;deploy.wildfly.host&gt;MY_HOST&lt;/deploy.wildfly.host&gt;\n    &lt;deploy.wildfly.port&gt;MY_PORT&lt;/deploy.wildfly.port&gt;\n    &lt;deploy.wildfly.username&gt;USERNAME&lt;/deploy.wildfly.username&gt;\n    &lt;deploy.wildfly.password&gt;PASSWORD&lt;/deploy.wildfly.password&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2.Final&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;deploy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;filename&gt;${project.build.finalName}.war&lt;/filename&gt;\n                &lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\n                &lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\n                &lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\n                &lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n \nCan someone please help me regarding this? I am new to spring. In my wildfly setup there are other wars deployed (not using spring) but they are working fine.\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1943036,"reputation":2790,"user_id":1748763,"display_name":"Petros Koutsolampros"},"score":2,"creation_date":1380792371,"post_id":19155464,"comment_id":28334507,"body_markdown":"Sounds like fun! Go for it!","body":"Sounds like fun! Go for it!"},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":1,"creation_date":1380792422,"post_id":19155464,"comment_id":28334534,"body_markdown":"Interesting approach. Like the way you think! :)","body":"Interesting approach. Like the way you think! :)"},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1380792521,"post_id":19155464,"comment_id":28334587,"body_markdown":"Do you have any field and/or data type specific constraints that your random values must obey to be valid? (E.g. ranges of numerical values, minimum/maximum length of Strings, allowed characters in a String, ...)","body":"Do you have any field and/or data type specific constraints that your random values must obey to be valid? (E.g. ranges of numerical values, minimum/maximum length of Strings, allowed characters in a String, ...)"},{"owner":{"account_id":226324,"reputation":3864,"user_id":487305,"accept_rate":74,"display_name":"sara"},"score":1,"creation_date":1380792547,"post_id":19155464,"comment_id":28334598,"body_markdown":"See this question: http://stackoverflow.com/questions/7067734/fill-primitive-properties-with-random-data-automatically","body":"See this question: <a href=\"http://stackoverflow.com/questions/7067734/fill-primitive-properties-with-random-data-automatically\" title=\"fill primitive properties with random data automatically\">stackoverflow.com/questions/7067734/&hellip;</a>"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1380792554,"post_id":19155464,"comment_id":28334604,"body_markdown":"Are you building a [disgruntled bomb](http://thedailywtf.com/Articles/Disgruntled-Bomb-Java-Edition.aspx) young man/lady?","body":"Are you building a <a href=\"http://thedailywtf.com/Articles/Disgruntled-Bomb-Java-Edition.aspx\" rel=\"nofollow noreferrer\">disgruntled bomb</a> young man/lady?"}],"answers":[{"tags":[],"owner":{"account_id":6439502,"reputation":2409,"user_id":4989929,"display_name":"Ronak Poriya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477333763,"creation_date":1477333763,"answer_id":40225094,"question_id":19155464,"body_markdown":"As this is one  [randomizer][1] for random data generation.This uses concept of Reflection only as you mentioned.\r\nIt  checks annotation mentioned upon field and based on that it checks for Provider class.Go through **Person** model class.\r\nIt has some primitive and  non-primitive fo field in that.\r\n\r\n    public class Person {\r\n        \r\n       @FirstName\r\n       public String mFirstName;\r\n        \r\n       @LastName\r\n       public String mLastName;\r\n\t   \r\n\t   @Number(min = 14,max = 25,decimals = 0)\r\n       public int age;\r\n\t\t\r\n       @Email\r\n       public String mEmailId;\r\n\t   \r\n\t   @ReferenceRecord(clazz = Address.class)\r\n       public Address address;\r\n\t\r\n    }\r\n\t\r\n\t@ReferencedRecord\r\n    public class Address {\r\n\r\n       @StreetAddress\r\n       public String streetAddress;\r\n\r\n       @State\r\n       public String state;\r\n    }\r\n        \r\n    //Generate random 100 Person(Model Class) object \r\n    Generator&lt;Person&gt; generator = new Generator&lt;&gt;(Person.class);  \r\n    List&lt;Person&gt; persons = generator.generate(100);                          \r\n\r\n\r\nAs there are many built in data generator is accessible using annotation,You also can build custom data generator using  **@CustomGenerator** annotation.I suggest you to go through documentation provided on library page. \r\n\r\n  [1]: https://github.com/android-Infoedge/randomizer","title":"Random data generator","body":"<p>As this is one  <a href=\"https://github.com/android-Infoedge/randomizer\" rel=\"nofollow\">randomizer</a> for random data generation.This uses concept of Reflection only as you mentioned.\nIt  checks annotation mentioned upon field and based on that it checks for Provider class.Go through <strong>Person</strong> model class.\nIt has some primitive and  non-primitive fo field in that.</p>\n\n<pre><code>public class Person {\n\n   @FirstName\n   public String mFirstName;\n\n   @LastName\n   public String mLastName;\n\n   @Number(min = 14,max = 25,decimals = 0)\n   public int age;\n\n   @Email\n   public String mEmailId;\n\n   @ReferenceRecord(clazz = Address.class)\n   public Address address;\n\n}\n\n@ReferencedRecord\npublic class Address {\n\n   @StreetAddress\n   public String streetAddress;\n\n   @State\n   public String state;\n}\n\n//Generate random 100 Person(Model Class) object \nGenerator&lt;Person&gt; generator = new Generator&lt;&gt;(Person.class);  \nList&lt;Person&gt; persons = generator.generate(100);                          \n</code></pre>\n\n<p>As there are many built in data generator is accessible using annotation,You also can build custom data generator using  <strong>@CustomGenerator</strong> annotation.I suggest you to go through documentation provided on library page. </p>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606903327,"creation_date":1513354268,"answer_id":47836058,"question_id":19155464,"body_markdown":"You can use a library called [MockNeat][1] to programatically &quot;fill&quot; your objects with arbitrary data that can pass as &quot;real&quot;.\r\n\r\nFor example in oder to populate an object you can take a look of the [reflect()][2] method:\r\n\r\n    // Creates a MockNeat object that internally uses\r\n    // a ThreadLocalRandom.\r\n    MockNeat m = MockNeat.threadLocal();\r\n    \r\n    List&lt;Employee&gt; companyEmployees =\r\n                    m.reflect(Employee.class) // The class we are mocking\r\n                     .field(&quot;uniqueId&quot;,\r\n                            m.uuids()) // Generates a random unique identifier\r\n                     .field(&quot;id&quot;,\r\n                            m.longSeq()) // Generates long numbers in a sequence\r\n                     .field(&quot;fullName&quot;,\r\n                            m.names().full()) // Generates a full name for the employer\r\n                     .field(&quot;companyEmail&quot;,\r\n                            m.emails().domain(&quot;company.com&quot;)) // Generates a company email with a given domain\r\n                     .field(&quot;personalEmail&quot;,\r\n                            m.emails()) // Generates an arbitrary email without domain constraints\r\n                     .field(&quot;salaryCreditCard&quot;,\r\n                            m.creditCards().types(AMERICAN_EXPRESS, MASTERCARD)) // Generate credit card numbers of &#39;types&#39;\r\n                     .field(&quot;external&quot;,\r\n                            m.bools().probability(20.0)) // Generates Boolean values with 20% probability of obtaining True\r\n                     .field(&quot;hireDate&quot;,\r\n                            m.localDates().past(of(1999, 1, 1))) // Generatest a date in the past, but greater than 01.01.1987\r\n                     .field(&quot;birthDate&quot;,\r\n                            m.localDates().between(of(1950, 1, 1), of(1994, 1, 1))) // Generates a data in the given range\r\n                     .field(&quot;pcs&quot;,\r\n                            m.reflect(EmployeePC.class) // Mock an EmployeePC object\r\n                             .field(&quot;uuid&quot;,\r\n                                    m.uuids()) // Generates an unique identifier\r\n                             .field(&quot;username&quot;,\r\n                                    m.users()) // Generates an arbitrary username\r\n                             .field(&quot;operatingSystem&quot;,\r\n                                    m.from(new String[]{&quot;Linux&quot;, &quot;Windows 10&quot;, &quot;Windows 8&quot;})) // Randomly selects an OS from the given List\r\n                             .field(&quot;ipAddress&quot;,\r\n                                    m.ipv4s().type(CLASS_B)) // Generates a CLASS B IPv4 Address\r\n                             .field(&quot;macAddress&quot;,\r\n                                    m.macs()) // Generates a MAC Address\r\n                             .list(2)) // Creates a List&lt;EmployeePC&gt; with 2 values\r\n                     .list(1000) // Creates a List&lt;Employee&gt; with 1000 values\r\n                     .val(); // Returns the list\r\n\r\nLater edit:\r\n\r\nSince my initial answer more ways of generating [data have been added][3].\r\n\r\n\r\n  [1]: https://github.com/nomemory/mockneat\r\n  [2]: https://github.com/nomemory/mockneat/wiki/MockNeat#reflect\r\n  [3]: https://www.mockneat.com/tutorial/#composing-objects","title":"Random data generator","body":"<p>You can use a library called <a href=\"https://github.com/nomemory/mockneat\" rel=\"nofollow noreferrer\">MockNeat</a> to programatically &quot;fill&quot; your objects with arbitrary data that can pass as &quot;real&quot;.</p>\n<p>For example in oder to populate an object you can take a look of the <a href=\"https://github.com/nomemory/mockneat/wiki/MockNeat#reflect\" rel=\"nofollow noreferrer\">reflect()</a> method:</p>\n<pre><code>// Creates a MockNeat object that internally uses\n// a ThreadLocalRandom.\nMockNeat m = MockNeat.threadLocal();\n\nList&lt;Employee&gt; companyEmployees =\n                m.reflect(Employee.class) // The class we are mocking\n                 .field(&quot;uniqueId&quot;,\n                        m.uuids()) // Generates a random unique identifier\n                 .field(&quot;id&quot;,\n                        m.longSeq()) // Generates long numbers in a sequence\n                 .field(&quot;fullName&quot;,\n                        m.names().full()) // Generates a full name for the employer\n                 .field(&quot;companyEmail&quot;,\n                        m.emails().domain(&quot;company.com&quot;)) // Generates a company email with a given domain\n                 .field(&quot;personalEmail&quot;,\n                        m.emails()) // Generates an arbitrary email without domain constraints\n                 .field(&quot;salaryCreditCard&quot;,\n                        m.creditCards().types(AMERICAN_EXPRESS, MASTERCARD)) // Generate credit card numbers of 'types'\n                 .field(&quot;external&quot;,\n                        m.bools().probability(20.0)) // Generates Boolean values with 20% probability of obtaining True\n                 .field(&quot;hireDate&quot;,\n                        m.localDates().past(of(1999, 1, 1))) // Generatest a date in the past, but greater than 01.01.1987\n                 .field(&quot;birthDate&quot;,\n                        m.localDates().between(of(1950, 1, 1), of(1994, 1, 1))) // Generates a data in the given range\n                 .field(&quot;pcs&quot;,\n                        m.reflect(EmployeePC.class) // Mock an EmployeePC object\n                         .field(&quot;uuid&quot;,\n                                m.uuids()) // Generates an unique identifier\n                         .field(&quot;username&quot;,\n                                m.users()) // Generates an arbitrary username\n                         .field(&quot;operatingSystem&quot;,\n                                m.from(new String[]{&quot;Linux&quot;, &quot;Windows 10&quot;, &quot;Windows 8&quot;})) // Randomly selects an OS from the given List\n                         .field(&quot;ipAddress&quot;,\n                                m.ipv4s().type(CLASS_B)) // Generates a CLASS B IPv4 Address\n                         .field(&quot;macAddress&quot;,\n                                m.macs()) // Generates a MAC Address\n                         .list(2)) // Creates a List&lt;EmployeePC&gt; with 2 values\n                 .list(1000) // Creates a List&lt;Employee&gt; with 1000 values\n                 .val(); // Returns the list\n</code></pre>\n<p>Later edit:</p>\n<p>Since my initial answer more ways of generating <a href=\"https://www.mockneat.com/tutorial/#composing-objects\" rel=\"nofollow noreferrer\">data have been added</a>.</p>\n"},{"tags":[],"owner":{"account_id":6776881,"reputation":65,"user_id":5218407,"display_name":"Kumar Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541109244,"creation_date":1541097490,"answer_id":53107403,"question_id":19155464,"body_markdown":"You can try [Random-JPA][1], a framework designed to generate random data. The setup is minimal.\r\n\r\n**Usage:**\r\n\r\n    CreationPlan creationPlan = jpaContext.create(\r\n            Entity.of(Employee.class, 2).with(Employee_.Country, INDIA),\r\n            Entity.of(Person.class).with(Person_.gender, &quot;Male&quot;));\r\n\r\n  [1]: https://github.com/kuros/random-jpa","title":"Random data generator","body":"<p>You can try <a href=\"https://github.com/kuros/random-jpa\" rel=\"nofollow noreferrer\">Random-JPA</a>, a framework designed to generate random data. The setup is minimal.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>CreationPlan creationPlan = jpaContext.create(\n        Entity.of(Employee.class, 2).with(Employee_.Country, INDIA),\n        Entity.of(Person.class).with(Person_.gender, \"Male\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294933,"reputation":11838,"user_id":599075,"display_name":"Andbdrew"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1541104791,"creation_date":1541104791,"answer_id":53109039,"question_id":19155464,"body_markdown":"Another option is [QuickTheories](https://github.com/ncredinburgh/QuickTheories). It looks like:\r\n\r\n\r\n    import static org.quicktheories.QuickTheory.qt;\r\n    import static org.quicktheories.generators.SourceDSL.*;\r\n    \r\n    public class SomeTests {\r\n    \r\n      @Test\r\n      public void addingTwoPositiveIntegersAlwaysGivesAPositiveInteger(){\r\n        qt()\r\n          .forAll(integers().allPositive()\r\n              , integers().allPositive())\r\n          .check((i,j) -&gt; i + j &gt; 0); \r\n      }\r\n\r\n      @Test\r\n      public void someTheoryOrOther(){\r\n        qt()\r\n          .forAll(integers().allPositive()\r\n              , strings().basicLatinAlphabet().ofLengthBetween(0, 10)\r\n              , lists().allListsOf(integers().all()).ofSize(42))\r\n          .assuming((i,s,l) -&gt; s.contains(i.toString())) // &lt;-- an assumption\r\n          .check((i,s,l) -&gt; l.contains(i) &amp;&amp; s.contains(i.toString()));\r\n      }\r\n    }","title":"Random data generator","body":"<p>Another option is <a href=\"https://github.com/ncredinburgh/QuickTheories\" rel=\"nofollow noreferrer\">QuickTheories</a>. It looks like:</p>\n\n<pre><code>import static org.quicktheories.QuickTheory.qt;\nimport static org.quicktheories.generators.SourceDSL.*;\n\npublic class SomeTests {\n\n  @Test\n  public void addingTwoPositiveIntegersAlwaysGivesAPositiveInteger(){\n    qt()\n      .forAll(integers().allPositive()\n          , integers().allPositive())\n      .check((i,j) -&gt; i + j &gt; 0); \n  }\n\n  @Test\n  public void someTheoryOrOther(){\n    qt()\n      .forAll(integers().allPositive()\n          , strings().basicLatinAlphabet().ofLengthBetween(0, 10)\n          , lists().allListsOf(integers().all()).ofSize(42))\n      .assuming((i,s,l) -&gt; s.contains(i.toString())) // &lt;-- an assumption\n      .check((i,s,l) -&gt; l.contains(i) &amp;&amp; s.contains(i.toString()));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656046613,"creation_date":1656045861,"answer_id":72739100,"question_id":19155464,"body_markdown":"You can do this with [Instancio][1]. It&#39;s a library that populates objects with random data:\r\n\r\n```java\r\n// Returns a fully-populated customer\r\nCustomer customer = Instancio.create(Customer.class);\r\n```\r\n\r\nThe API allows customizing the values:\r\n\r\n```java\r\nCustomer customer = Instancio.of(Customer.class)\r\n  .generate(field(&quot;phoneNumbers&quot;), gen -&gt; gen.collection().size(3))\r\n  .generate(field(Phone.class, &quot;number&quot;), gen -&gt; gen.text().pattern(&quot;#d#d#d-#d#d-#d#d&quot;))\r\n  .create();\r\n```\r\n\r\nIf you use JUnit 5 you can also use it with `@ParameterizedTest` methods:\r\n\r\n```\r\n@ExtendWith(InstancioExtension.class)\r\nclass ExampleTest {\r\n\r\n    @ParameterizedTest\r\n    @InstancioSource(Customer.class)\r\n    void example(Customer customer) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.instancio.org","title":"Random data generator","body":"<p>You can do this with <a href=\"https://www.instancio.org\" rel=\"nofollow noreferrer\">Instancio</a>. It's a library that populates objects with random data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a fully-populated customer\nCustomer customer = Instancio.create(Customer.class);\n</code></pre>\n<p>The API allows customizing the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Customer customer = Instancio.of(Customer.class)\n  .generate(field(&quot;phoneNumbers&quot;), gen -&gt; gen.collection().size(3))\n  .generate(field(Phone.class, &quot;number&quot;), gen -&gt; gen.text().pattern(&quot;#d#d#d-#d#d-#d#d&quot;))\n  .create();\n</code></pre>\n<p>If you use JUnit 5 you can also use it with <code>@ParameterizedTest</code> methods:</p>\n<pre><code>@ExtendWith(InstancioExtension.class)\nclass ExampleTest {\n\n    @ParameterizedTest\n    @InstancioSource(Customer.class)\n    void example(Customer customer) {\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2410014,"reputation":2286,"user_id":2105339,"accept_rate":49,"display_name":"sliders_alpha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4480,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1656046613,"creation_date":1380792245,"question_id":19155464,"body_markdown":"I have to fill every property of a given object with a random value.\r\nThese are my requirements for it:\r\n\r\n - All properties are native Java type (`int`, `double`, `String`, etc) \r\n - I can use reflection\r\n - I can use Spring `DirectFieldAccessor`\r\n\r\nI don&#39;t want to re-invent the square wheel so I prefer to ask.\r\nFor now I came up with this:&lt;br&gt;\r\n\r\nGet all properties name with:\r\n\r\n    Field field : myObject.getClass().getDeclaredFields()\r\n\r\nIterate over those fields and get their class.\r\n\r\nUse a giant switch statement for each known native Java type and generate a random value.\r\n\r\nWhat do you think?","title":"Random data generator","body":"<p>I have to fill every property of a given object with a random value.\nThese are my requirements for it:</p>\n\n<ul>\n<li>All properties are native Java type (<code>int</code>, <code>double</code>, <code>String</code>, etc) </li>\n<li>I can use reflection</li>\n<li>I can use Spring <code>DirectFieldAccessor</code></li>\n</ul>\n\n<p>I don't want to re-invent the square wheel so I prefer to ask.\nFor now I came up with this:<br></p>\n\n<p>Get all properties name with:</p>\n\n<pre><code>Field field : myObject.getClass().getDeclaredFields()\n</code></pre>\n\n<p>Iterate over those fields and get their class.</p>\n\n<p>Use a giant switch statement for each known native Java type and generate a random value.</p>\n\n<p>What do you think?</p>\n"},{"tags":["java","oracle","hibernate","jpa","criteria"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1656034061,"post_id":72738084,"comment_id":128479006,"body_markdown":"The error message says it all: It&#39;s only implemented for Number types, even though as you point out in SQL `min()` and `max()` work with most types, such as text, date, boolean, etc.","body":"The error message says it all: It&#39;s only implemented for Number types, even though as you point out in SQL <code>min()</code> and <code>max()</code> work with most types, such as text, date, boolean, etc."},{"owner":{"display_name":"user5683823"},"score":0,"creation_date":1656034899,"post_id":72738084,"comment_id":128479137,"body_markdown":"A very quick look at something that looks like documentation suggests that `least` and `greatest` are used instead of `min` and `max` for other data types. (They are aggregate functions, unlike SQL where they are not aggregate functions.)","body":"A very quick look at something that looks like documentation suggests that <code>least</code> and <code>greatest</code> are used instead of <code>min</code> and <code>max</code> for other data types. (They are aggregate functions, unlike SQL where they are not aggregate functions.)"}],"answers":[{"tags":[],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656045551,"creation_date":1656045551,"answer_id":72739070,"question_id":72738084,"body_markdown":"mathguy provided the answer, you need to use ```least()``` and ```greatest()``` instead of ``min()`` and ```max()``` for strings and other types.","title":"How do you select min(string_col) using a JPA Criteria query?","body":"<p>mathguy provided the answer, you need to use <code>least()</code> and <code>greatest()</code> instead of <code>min()</code> and <code>max()</code> for strings and other types.</p>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656045551,"creation_date":1656033262,"question_id":72738084,"body_markdown":"JPA Criteria seems to insist that min() (and max()) are only applicable to Numeric fields. However, this is NOT the case as SQL database can indeed select min() and max() values from a string column. I can also use JQL to select the min() or max() value of a string column.\r\n\r\nHowever, when using Criteria queries, the compiler complains when min() is used with a string column:\r\nBound mismatch: The generic method min(Expression&lt;N&gt;) of type CriteriaBuilder is not applicable for the arguments (subquery.get(&quot;string_column&quot;)). The inferred type String is not a valid substitute for the bounded parameter &lt;N extends Number&gt;\r\n\r\nThis query works:\r\n```\r\n&quot;select new com.epsilon.totalfact.web.api.model.UPCDetails&quot; +\r\n&quot;(u.id, d.name as dimension, c.name as category, u.name, u.description,&quot; +\r\n&quot; u.keywords, u.userNotes,  u.restrictedResellerFlag, u.hidden,&quot; +\r\n&quot; (select min(p.rateId) from u.platforms p)&quot; +\r\n&quot;  || case when (select min(p.rateId) from u.platforms p) != (select max(p.rateId) from u.platforms p) then concat(&#39; ~ &#39;,(select max(p.rateId) from u.platforms p)) else &#39;&#39; end&quot; +\r\n&quot;  as deRateId&quot; +\r\n&quot; )&quot; +\r\n&quot; from UPC u &quot; +\r\n&quot; join u.category c&quot; +\r\n&quot; join c.dimension d&quot; +\r\n&quot; order by d.name, c.name, u.name&quot;,\r\n```\r\nand this criteria query has the above mentioned error:\r\n```\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;UPCDetails&gt; query = cb.createQuery(UPCDetails.class);\r\nRoot&lt;UPC&gt; u = query.from(UPC.class);\r\nJoin&lt;UPC, Category&gt; c = u.join(&quot;category&quot;);\r\nJoin&lt;UPC, Dimension&gt; d = c.join(&quot;dimension&quot;);\r\n\r\nSubquery&lt;String&gt; sub = query.subquery(Number.class);\r\nRoot&lt;UPC&gt; subRoot = sub.from(UPC.class);\r\nSetJoin&lt;UPC,Platform&gt; subPlatform = subRoot.join(UPC_.platforms);\r\nsub.select(cb.min(subPlatform.get(&quot;rateId&quot;)));\r\n```\r\n\r\n\r\n","title":"How do you select min(string_col) using a JPA Criteria query?","body":"<p>JPA Criteria seems to insist that min() (and max()) are only applicable to Numeric fields. However, this is NOT the case as SQL database can indeed select min() and max() values from a string column. I can also use JQL to select the min() or max() value of a string column.</p>\n<p>However, when using Criteria queries, the compiler complains when min() is used with a string column:\nBound mismatch: The generic method min(Expression) of type CriteriaBuilder is not applicable for the arguments (subquery.get(&quot;string_column&quot;)). The inferred type String is not a valid substitute for the bounded parameter </p>\n<p>This query works:</p>\n<pre><code>&quot;select new com.epsilon.totalfact.web.api.model.UPCDetails&quot; +\n&quot;(u.id, d.name as dimension, c.name as category, u.name, u.description,&quot; +\n&quot; u.keywords, u.userNotes,  u.restrictedResellerFlag, u.hidden,&quot; +\n&quot; (select min(p.rateId) from u.platforms p)&quot; +\n&quot;  || case when (select min(p.rateId) from u.platforms p) != (select max(p.rateId) from u.platforms p) then concat(' ~ ',(select max(p.rateId) from u.platforms p)) else '' end&quot; +\n&quot;  as deRateId&quot; +\n&quot; )&quot; +\n&quot; from UPC u &quot; +\n&quot; join u.category c&quot; +\n&quot; join c.dimension d&quot; +\n&quot; order by d.name, c.name, u.name&quot;,\n</code></pre>\n<p>and this criteria query has the above mentioned error:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;UPCDetails&gt; query = cb.createQuery(UPCDetails.class);\nRoot&lt;UPC&gt; u = query.from(UPC.class);\nJoin&lt;UPC, Category&gt; c = u.join(&quot;category&quot;);\nJoin&lt;UPC, Dimension&gt; d = c.join(&quot;dimension&quot;);\n\nSubquery&lt;String&gt; sub = query.subquery(Number.class);\nRoot&lt;UPC&gt; subRoot = sub.from(UPC.class);\nSetJoin&lt;UPC,Platform&gt; subPlatform = subRoot.join(UPC_.platforms);\nsub.select(cb.min(subPlatform.get(&quot;rateId&quot;)));\n</code></pre>\n"},{"tags":["java","integer","jvm","immutability","wrapper"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1656040478,"post_id":72738617,"comment_id":128479835,"body_markdown":"All of the wrapper types are **immutable**. `++i` creates a new `Integer` instance. That is why you can&#39;t modify the value of `i`. Try `AtomicInteger`. BTW, `String` is another immutable type in Java. `String a = &quot;Hello&quot;; a += &quot;, World&quot;;` also creates a new `String` instance.","body":"All of the wrapper types are <b>immutable</b>. <code>++i</code> creates a new <code>Integer</code> instance. That is why you can&#39;t modify the value of <code>i</code>. Try <code>AtomicInteger</code>. BTW, <code>String</code> is another immutable type in Java. <code>String a = &quot;Hello&quot;; a += &quot;, World&quot;;</code> also creates a new <code>String</code> instance."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656057600,"post_id":72738617,"comment_id":128483339,"body_markdown":"Don’t write `Integer i = new Integer(3);` but just `Integer i = 3;` The constructor has been deprecated in Java&#160;9 and will be removed in a future version.","body":"Don’t write <code>Integer i = new Integer(3);</code> but just <code>Integer i = 3;</code> The constructor has been deprecated in Java 9 and will be removed in a future version."}],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656045529,"creation_date":1656045077,"answer_id":72739028,"question_id":72738617,"body_markdown":"Autoboxing and unboxing is the automatic conversion that compiler helps us to converse between the primitive types and wrapper classes.  \r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.15.1 says:  \r\n`If necessary, the sum is narrowed by a narrowing primitive conversion (&#167;5.1.3) and/or subjected to boxing conversion (&#167;5.1.7) to the type of the variable before it is stored. The value of the prefix increment expression is the value of the variable after the new value is stored`  \r\nSo, `++i` equals to `i = Integer.valueOf(i.intValue() + 1)`","title":"How does JVM makes raw type wrapper &quot;Immutable&quot; when passing function parameter?","body":"<p>Autoboxing and unboxing is the automatic conversion that compiler helps us to converse between the primitive types and wrapper classes.<br />\n<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.15.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.15.1</a> says:<br />\n<code>If necessary, the sum is narrowed by a narrowing primitive conversion (§5.1.3) and/or subjected to boxing conversion (§5.1.7) to the type of the variable before it is stored. The value of the prefix increment expression is the value of the variable after the new value is stored</code><br />\nSo, <code>++i</code> equals to <code>i = Integer.valueOf(i.intValue() + 1)</code></p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72739028,"answer_count":1,"score":0,"last_activity_date":1656045529,"creation_date":1656040400,"question_id":72738617,"body_markdown":"I have a simple code snippet to test &quot;Immutable&quot; integer like below:\r\n```\r\n    public static void changeInteger(Integer i) {\r\n        ++i;\r\n    }\r\n    public static void main(String[] args) {\r\n        Integer i = new Integer(3);\r\n        ++i;\r\n        System.out.println(i); // 4\r\n        ImmutableWrapper.changeInteger(i);\r\n        System.out.println(i); // still 4!\r\n    }\r\n```\r\n\r\nI could see as Java language design, a wrapper class ```Integer``` is immutable when passed as function parameter. \r\n\r\nWhat confused me is, why the ````++i``` inside main() will increase the value, while passing into function, doesn&#39;t change?\r\n\r\nI wonder how does Java compiler or JVM achieve this? I know that ```Integer``` is a reference type, so when passed as parameter, an reference is passed, and then ++i will change its wrapped value?\r\n\r\nWish technical explanation.","title":"How does JVM makes raw type wrapper &quot;Immutable&quot; when passing function parameter?","body":"<p>I have a simple code snippet to test &quot;Immutable&quot; integer like below:</p>\n<pre><code>    public static void changeInteger(Integer i) {\n        ++i;\n    }\n    public static void main(String[] args) {\n        Integer i = new Integer(3);\n        ++i;\n        System.out.println(i); // 4\n        ImmutableWrapper.changeInteger(i);\n        System.out.println(i); // still 4!\n    }\n</code></pre>\n<p>I could see as Java language design, a wrapper class <code>Integer</code> is immutable when passed as function parameter.</p>\n<p>What confused me is, why the ````++i``` inside main() will increase the value, while passing into function, doesn't change?</p>\n<p>I wonder how does Java compiler or JVM achieve this? I know that <code>Integer</code> is a reference type, so when passed as parameter, an reference is passed, and then ++i will change its wrapped value?</p>\n<p>Wish technical explanation.</p>\n"},{"tags":["java","interface","overriding"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656043366,"post_id":72712000,"comment_id":128480221,"body_markdown":"Try `public doProcessing(List&lt;? extends Object&gt; list);`","body":"Try <code>public doProcessing(List&lt;? extends Object&gt; list);</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656043717,"post_id":72712000,"comment_id":128480272,"body_markdown":"Refer to https://docs.oracle.com/javase/tutorial/java/generics/index.html and https://docs.oracle.com/javase/tutorial/extra/generics/index.html and also https://docs.oracle.com/javase/8/docs/technotes/guides/language/generics.html","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/index.html</a> and <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/generics/index.html</a> and also <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/generics.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/language/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656044165,"creation_date":1656044165,"answer_id":72738955,"question_id":72712000,"body_markdown":"I think this is your wanted behavior:    \r\n\r\n    interface I1&lt;T&gt; {\r\n        void doProcessing(List&lt;T&gt; list);\r\n    }\r\n\r\n    class A implements I1&lt;MyAbcclass&gt; {\r\n\r\n\r\n        @Override\r\n        public void doProcessing(List&lt;MyAbcclass&gt; list) {\r\n\r\n        }\r\n    }","title":"Interface method have List&lt;Objects&gt;, but implemented class methods are List&lt;MyClass&gt;, which is not allowed","body":"<p>I think this is your wanted behavior:</p>\n<pre><code>interface I1&lt;T&gt; {\n    void doProcessing(List&lt;T&gt; list);\n}\n\nclass A implements I1&lt;MyAbcclass&gt; {\n\n\n    @Override\n    public void doProcessing(List&lt;MyAbcclass&gt; list) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24746079,"reputation":5,"user_id":18632236,"display_name":"Samatha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72738955,"answer_count":1,"score":0,"last_activity_date":1656044165,"creation_date":1655886147,"question_id":72712000,"body_markdown":"I am working on Interface which was implemented by different classes, but I am facing issues while I override the method in the classes. \r\n\r\nPlease help me defining proper method arguments in Interface which can be overridden by other class methods also\r\n\r\n```\r\nInterface I1\r\n{\r\npublic doProcessing(List&lt;Object&gt; list);\r\n}\r\n```\r\nHere are the classes\r\n```\r\nClass A implements I1\r\n{\r\n\r\n public doProcessing(List&lt;MyAbcclass&gt; list)//This is not accepted \r\n  {\r\n    //do processing\r\n  }\r\n}\r\n\r\nClass B implements I1\r\n{\r\n\r\n  public doProcessing(List&lt;MyXyzclass&gt; list)//This is not accepted \r\n  {\r\n    //do processing\r\n  }\r\n}","title":"Interface method have List&lt;Objects&gt;, but implemented class methods are List&lt;MyClass&gt;, which is not allowed","body":"<p>I am working on Interface which was implemented by different classes, but I am facing issues while I override the method in the classes.</p>\n<p>Please help me defining proper method arguments in Interface which can be overridden by other class methods also</p>\n<pre><code>Interface I1\n{\npublic doProcessing(List&lt;Object&gt; list);\n}\n</code></pre>\n<p>Here are the classes</p>\n<pre><code>Class A implements I1\n{\n\n public doProcessing(List&lt;MyAbcclass&gt; list)//This is not accepted \n  {\n    //do processing\n  }\n}\n\nClass B implements I1\n{\n\n  public doProcessing(List&lt;MyXyzclass&gt; list)//This is not accepted \n  {\n    //do processing\n  }\n}\n</code></pre>\n"},{"tags":["java","string","compiler-errors","switch-statement","java.util.scanner"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1656043857,"post_id":72738799,"comment_id":128480290,"body_markdown":"Please provide the *exact* error message and indicate which line and column it occurs on. But you appear to have your `op` variable and your `Scanner` variable mixed up. And once you know the operator you don&#39;t need to do another test: the `case` takes you to the right place.","body":"Please provide the <i>exact</i> error message and indicate which line and column it occurs on. But you appear to have your <code>op</code> variable and your <code>Scanner</code> variable mixed up. And once you know the operator you don&#39;t need to do another test: the <code>case</code> takes you to the right place."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1656043950,"creation_date":1656043950,"answer_id":72738930,"question_id":72738799,"body_markdown":"You have defined `input` to be a `Scanner`, with this line:\r\n```\r\nScanner input = new Scanner(System.in);\r\n```\r\nYou can then use `input` to do scanner things, as you&#39;re doing here:\r\n```\r\nx = input.nextInt();\r\n```\r\nSo far so good.\r\n\r\nBut later in the code, you do this (and a few variations that are similar):\r\n```\r\nif (input == &quot;s&quot;) {\r\n    ...\r\n}\r\n```\r\nThis isn&#39;t valid. The Java compiler is telling you that it will not allow you to use `==` to compare a `Scanner` (that is, `input`) against a String (which in this example is &quot;s&quot;). The compiler is giving you an error to say: `input == &quot;s&quot;` isn&#39;t allowed.\r\n\r\nIt isn&#39;t clear what your intent is (that is, how you want the code to actually behave), but the issue is definitely with those three `if` statements. Each is attempting to compare a `java.util.Scanner` with a `java.lang.String` (one is &quot;s&quot;, one is &quot;a&quot;, the last is &quot;m&quot;). So you&#39;ll need to fix those to do whatever it is you&#39;re trying to do.\r\n\r\nAs a _guess_, maybe you want to read a new String input from the scanner, and then compare that to &quot;s&quot;, etc.? If so, that could look something like below. Note that to compare strings you should use `equals()` (_don&#39;t_ use `==` to compare strings, or any other objects).\r\n```\r\nString newString = input.next();\r\nswitch (op) {\r\n    case 1:\r\n        if (newString.equals(&quot;s&quot;)) {\r\n            System.out.println(c1.name + c1.subtract(x, y));\r\n        }\r\n    ...\r\n}\r\n```\r\n","title":"Incompatible operand types Scanner and String?","body":"<p>You have defined <code>input</code> to be a <code>Scanner</code>, with this line:</p>\n<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n<p>You can then use <code>input</code> to do scanner things, as you're doing here:</p>\n<pre><code>x = input.nextInt();\n</code></pre>\n<p>So far so good.</p>\n<p>But later in the code, you do this (and a few variations that are similar):</p>\n<pre><code>if (input == &quot;s&quot;) {\n    ...\n}\n</code></pre>\n<p>This isn't valid. The Java compiler is telling you that it will not allow you to use <code>==</code> to compare a <code>Scanner</code> (that is, <code>input</code>) against a String (which in this example is &quot;s&quot;). The compiler is giving you an error to say: <code>input == &quot;s&quot;</code> isn't allowed.</p>\n<p>It isn't clear what your intent is (that is, how you want the code to actually behave), but the issue is definitely with those three <code>if</code> statements. Each is attempting to compare a <code>java.util.Scanner</code> with a <code>java.lang.String</code> (one is &quot;s&quot;, one is &quot;a&quot;, the last is &quot;m&quot;). So you'll need to fix those to do whatever it is you're trying to do.</p>\n<p>As a <em>guess</em>, maybe you want to read a new String input from the scanner, and then compare that to &quot;s&quot;, etc.? If so, that could look something like below. Note that to compare strings you should use <code>equals()</code> (<em>don't</em> use <code>==</code> to compare strings, or any other objects).</p>\n<pre><code>String newString = input.next();\nswitch (op) {\n    case 1:\n        if (newString.equals(&quot;s&quot;)) {\n            System.out.println(c1.name + c1.subtract(x, y));\n        }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":25604692,"reputation":19,"user_id":19378997,"display_name":"Jeseca Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1656043996,"creation_date":1656042477,"question_id":72738799,"body_markdown":"I keep getting the following errors:\r\n- Incompatible operand types Scanner \r\nand String\r\n- Incompatible operand types int and \r\nString\r\nbefore I added the int op = Integer.valueOf(operator) line it kept giving me errors when I would name my cases. I&#39;m still very new it&#39;s the second code I&#39;ve written for my class so please keep the explanation simple if at all possible (there is also a calculator class not shown here if there&#39;s any confusion about that) :\r\n\r\n```package assignmentB; \r\n//change the package name to calculatorClass///////////////\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class assignmentB {\r\n\r\n\tpublic static String String(int y,int x, String name, String str) throws Exception {\r\n\t\tif (y &lt; 1)\r\n\t\t\tthrow new Exception(&quot;Value must be larger than 0.&quot;);\r\n\t\tif (x &lt; 1)\r\n\t\t\tthrow new Exception(&quot;Value must be larger than 0&quot;);\r\n\t\treturn name;\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCalculator c1 = new Calculator();\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tc1.name = &quot;The total is $&quot;;\r\n\t\r\ntry {\r\n\t}\tcatch (Exception e1){\r\n\t\tSystem.out.println(e1);\r\n\t}\r\n\t{\r\n\t\t\r\n\t\tint x, y, s, a, m;\r\n\t\tString name1;\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Red River College&quot;);\r\n\t\tSystem.out.println(&quot;Custom Calculator&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter first value: &quot;);\r\n\t\tx = input.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter second value: &quot;);\r\n\t\ty = input.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter operation(a=Add, s=Subtract, m=multiply): &quot;);\r\n\t\tString operator = input.nextLine();\r\n\t\tint op =Integer.valueOf(operator);\r\n\t\t\r\n\t\tswitch (op) {\r\n\t\tcase 1:\r\n\t\t\tif (input == &quot;s&quot;) {\r\n\t\t\tSystem.out.println(c1.name + c1.subtract(x,y));\r\n\t\t\t}\r\n\t\tcase 2:\r\n\t\t\tif (input == &quot;a&quot;) {\r\n\t\t\tSystem.out.println(c1.name + c1.add(x,y));\r\n\t\t\t}\r\n\t\tcase 3:\r\n\t\t\tif (input == &quot;m&quot;) {\r\n\t\t\tSystem.out.println(c1.name + c1.multiply(x,y));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t \r\n\t\t\r\n\t}\t\r\n\t}\r\n}\r\n\r\n\t```","title":"Incompatible operand types Scanner and String?","body":"<p>I keep getting the following errors:</p>\n<ul>\n<li>Incompatible operand types Scanner\nand String</li>\n<li>Incompatible operand types int and\nString\nbefore I added the int op = Integer.valueOf(operator) line it kept giving me errors when I would name my cases. I'm still very new it's the second code I've written for my class so please keep the explanation simple if at all possible (there is also a calculator class not shown here if there's any confusion about that) :</li>\n</ul>\n<pre><code>//change the package name to calculatorClass///////////////\n\nimport java.util.Scanner;\n\npublic class assignmentB {\n\n    public static String String(int y,int x, String name, String str) throws Exception {\n        if (y &lt; 1)\n            throw new Exception(&quot;Value must be larger than 0.&quot;);\n        if (x &lt; 1)\n            throw new Exception(&quot;Value must be larger than 0&quot;);\n        return name;\n        \n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Calculator c1 = new Calculator();\n        Scanner input = new Scanner(System.in);\n        c1.name = &quot;The total is $&quot;;\n    \ntry {\n    }   catch (Exception e1){\n        System.out.println(e1);\n    }\n    {\n        \n        int x, y, s, a, m;\n        String name1;\n        \n        \n        System.out.println(&quot;Red River College&quot;);\n        System.out.println(&quot;Custom Calculator&quot;);\n        \n        System.out.println(&quot;Enter first value: &quot;);\n        x = input.nextInt();\n        \n        System.out.println(&quot;Enter second value: &quot;);\n        y = input.nextInt();\n        \n        System.out.println(&quot;Enter operation(a=Add, s=Subtract, m=multiply): &quot;);\n        String operator = input.nextLine();\n        int op =Integer.valueOf(operator);\n        \n        switch (op) {\n        case 1:\n            if (input == &quot;s&quot;) {\n            System.out.println(c1.name + c1.subtract(x,y));\n            }\n        case 2:\n            if (input == &quot;a&quot;) {\n            System.out.println(c1.name + c1.add(x,y));\n            }\n        case 3:\n            if (input == &quot;m&quot;) {\n            System.out.println(c1.name + c1.multiply(x,y));\n            }\n        }\n        \n     \n        \n    }   \n    }\n}\n\n    ```\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656046090,"post_id":72738898,"comment_id":128480637,"body_markdown":"Alternative: You can see if the [standalone version](https://gluonhq.com/products/scene-builder/) works for you.","body":"Alternative: You can see if the <a href=\"https://gluonhq.com/products/scene-builder/\" rel=\"nofollow noreferrer\">standalone version</a> works for you."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1656064572,"post_id":72738898,"comment_id":128485805,"body_markdown":"Share the &quot;Help | Collect Logs and Diagnostic Data&quot; archive via https://uploads.jetbrains.com","body":"Share the &quot;Help | Collect Logs and Diagnostic Data&quot; archive via <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a>"}],"owner":{"account_id":25363562,"reputation":1,"user_id":19178452,"display_name":"Zack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656043912,"creation_date":1656043600,"question_id":72738898,"body_markdown":"At first I got a message saying failed to start scenebuilder, but now I just get a blank screen and don&#39;t know what to do.\r\n\r\n[![screen capture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V4Nxi.jpg","title":"Can&#39;t start scenebuilder on intellj for JavaFx on mac m1","body":"<p>At first I got a message saying failed to start scenebuilder, but now I just get a blank screen and don't know what to do.</p>\n<p><a href=\"https://i.stack.imgur.com/V4Nxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4Nxi.jpg\" alt=\"screen capture\" /></a></p>\n"},{"tags":["java","integration-testing","pact","contract"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656043896,"creation_date":1656043896,"answer_id":72738924,"question_id":72709743,"body_markdown":"It&#39;s hard to see why this would fail, because we can&#39;t see your test case.\r\n\r\nA `500` from the mock server indicates it got a request it wasn&#39;t expecting.\r\n\r\nSet the log level to DEBUG to see what the pact server thinks it saw, it should print out the expected and actual request. If you&#39;re using JUnit, it should also have already produced a report in the usual folder that will tell you why it failed.","title":"PACT Testing: Unexpected Request body: 500","body":"<p>It's hard to see why this would fail, because we can't see your test case.</p>\n<p>A <code>500</code> from the mock server indicates it got a request it wasn't expecting.</p>\n<p>Set the log level to DEBUG to see what the pact server thinks it saw, it should print out the expected and actual request. If you're using JUnit, it should also have already produced a report in the usual folder that will tell you why it failed.</p>\n"}],"owner":{"account_id":9246357,"reputation":57,"user_id":6868093,"display_name":"Yamini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656043896,"creation_date":1655872537,"question_id":72709743,"body_markdown":"I have a request class which has this fields:\r\n\r\n    private final String pk;\r\n    private final String sk;\r\n    private final List&lt;String&gt; tags;\r\n    private final ZoneId timeZone;\r\n    private final String pattern;\r\n    private final SomeEnum action;\r\n    private final String target;\r\n    private final String data;\r\n    private final Map&lt;String, String&gt; additionalInfo;\r\n\r\n\r\nThe request can be dynamic, so I am creating a DslPart for this:\r\n\r\n     DslPart body = new PactDslJsonBody()\r\n               .stringType(&quot;pk&quot;)\r\n               .stringType(&quot;sk&quot;)\r\n               .stringType(&quot;pattern&quot;)\r\n               .stringType(&quot;target&quot;)\r\n               .stringType(&quot;template&quot;)\r\n               .object(&quot;action&quot;).closeObject()\r\n               .object(&quot;timeZone&quot;).closeObject()\r\n               .object(&quot;metadata&quot;).stringType(&quot;detail-type&quot;).closeObject();\r\n\r\nAnd using it here while creating contract:\r\n\r\n     pactHelper.contract(pact -&gt;\r\n     pact.uponReceiving(&quot;Create scheduler rule&quot;)\r\n                        .method(&quot;POST&quot;)\r\n                        .path(&quot;/rule&quot;)\r\n                        .body(body)\r\n                        .willRespondWith()\r\n                        .body(&quot;OK&quot;)\r\n                        .status(HttpStatusCode.OK).toPact())\r\n\r\nThis result in 500: Unexpected Request error\r\n","title":"PACT Testing: Unexpected Request body: 500","body":"<p>I have a request class which has this fields:</p>\n<pre><code>private final String pk;\nprivate final String sk;\nprivate final List&lt;String&gt; tags;\nprivate final ZoneId timeZone;\nprivate final String pattern;\nprivate final SomeEnum action;\nprivate final String target;\nprivate final String data;\nprivate final Map&lt;String, String&gt; additionalInfo;\n</code></pre>\n<p>The request can be dynamic, so I am creating a DslPart for this:</p>\n<pre><code> DslPart body = new PactDslJsonBody()\n           .stringType(&quot;pk&quot;)\n           .stringType(&quot;sk&quot;)\n           .stringType(&quot;pattern&quot;)\n           .stringType(&quot;target&quot;)\n           .stringType(&quot;template&quot;)\n           .object(&quot;action&quot;).closeObject()\n           .object(&quot;timeZone&quot;).closeObject()\n           .object(&quot;metadata&quot;).stringType(&quot;detail-type&quot;).closeObject();\n</code></pre>\n<p>And using it here while creating contract:</p>\n<pre><code> pactHelper.contract(pact -&gt;\n pact.uponReceiving(&quot;Create scheduler rule&quot;)\n                    .method(&quot;POST&quot;)\n                    .path(&quot;/rule&quot;)\n                    .body(body)\n                    .willRespondWith()\n                    .body(&quot;OK&quot;)\n                    .status(HttpStatusCode.OK).toPact())\n</code></pre>\n<p>This result in 500: Unexpected Request error</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7019742,"reputation":66,"user_id":7645532,"display_name":"Kiran Gavhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656043581,"creation_date":1656043581,"answer_id":72738896,"question_id":72738886,"body_markdown":"I have worked on the similar problem. I hope below code will help you.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class PairMap {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tLinkedList&lt;Integer&gt; userList = new LinkedList&lt;&gt;(IntStream.range(1, 18).boxed().collect(Collectors.toList()));\r\n    \t\tList&lt;Set&lt;Integer&gt;&gt; usersPairs = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tCollections.shuffle(userList);\r\n    \t\t\r\n    \t\twhile(userList.size() &gt; 1)\r\n    \t\t{\r\n    \t\t\tSet&lt;Integer&gt; userSet = new TreeSet&lt;&gt;();\r\n    \t\t\tuserSet.add(userList.removeFirst());\r\n    \t\t\tuserSet.add(userList.removeFirst());\r\n    \t\t\tusersPairs.add(userSet);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tRandom r = new Random();\r\n    \t\tif(userList.size() == 1 &amp;&amp; !usersPairs.isEmpty()) {\r\n    \t\t\t\tusersPairs.get(r.nextInt(usersPairs.size())).add(userList.removeFirst());\r\n    \t\t}\r\n    \t\tSystem.out.println(usersPairs);\r\n    \t}\r\n    \r\n    }","title":"Generate random pairs of from list of integer without duplication of the number","body":"<p>I have worked on the similar problem. I hope below code will help you.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class PairMap {\n\n    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; userList = new LinkedList&lt;&gt;(IntStream.range(1, 18).boxed().collect(Collectors.toList()));\n        List&lt;Set&lt;Integer&gt;&gt; usersPairs = new ArrayList&lt;&gt;();\n        \n        Collections.shuffle(userList);\n        \n        while(userList.size() &gt; 1)\n        {\n            Set&lt;Integer&gt; userSet = new TreeSet&lt;&gt;();\n            userSet.add(userList.removeFirst());\n            userSet.add(userList.removeFirst());\n            usersPairs.add(userSet);\n            \n        }\n        \n        Random r = new Random();\n        if(userList.size() == 1 &amp;&amp; !usersPairs.isEmpty()) {\n                usersPairs.get(r.nextInt(usersPairs.size())).add(userList.removeFirst());\n        }\n        System.out.println(usersPairs);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25634861,"reputation":23,"user_id":19404619,"display_name":"ABCD EFGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72738896,"answer_count":1,"score":2,"last_activity_date":1656043581,"creation_date":1656043496,"question_id":72738886,"body_markdown":"I have to list of integer like {1,3,4,5,6,7}\r\nI would like to generate an array, which contains pairs from the a and b arrays, in a random order, without duplicates. For example I would like to get the following result:\r\n\r\nc={(1,5),(3,7),(4,6),...}\r\n\r\n\r\nand if we found odd numbers, then it should give us any random selection for that last number\r\n\r\n{1,3,4,5,6,7,8}\r\n\r\nc={(1,5),(3,7),(4,6,8),...}\r\n\r\nI have used below code to achieve this, but it&#39;s not working as expected.\r\n\r\n \r\n\r\n    int[] a={1,2,3,4,5};\r\n        int[] b={6,7};\r\n        List&lt;int[]&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; a.length; ++i)\r\n            for (int j = 0; j &lt; b.length; ++j)\r\n                list.add(new int[] {a[i], b[j]});\r\n        Collections.shuffle(list);\r\n\r\nThanks!","title":"Generate random pairs of from list of integer without duplication of the number","body":"<p>I have to list of integer like {1,3,4,5,6,7}\nI would like to generate an array, which contains pairs from the a and b arrays, in a random order, without duplicates. For example I would like to get the following result:</p>\n<p>c={(1,5),(3,7),(4,6),...}</p>\n<p>and if we found odd numbers, then it should give us any random selection for that last number</p>\n<p>{1,3,4,5,6,7,8}</p>\n<p>c={(1,5),(3,7),(4,6,8),...}</p>\n<p>I have used below code to achieve this, but it's not working as expected.</p>\n<pre><code>int[] a={1,2,3,4,5};\n    int[] b={6,7};\n    List&lt;int[]&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; a.length; ++i)\n        for (int j = 0; j &lt; b.length; ++j)\n            list.add(new int[] {a[i], b[j]});\n    Collections.shuffle(list);\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","bytecode","java-bytecode-asm","bytecode-manipulation"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1656042921,"creation_date":1382956545,"answer_id":19632505,"question_id":19632231,"body_markdown":"The `+` stands for the generic `extends` while the `TE` means that there is a type var `E`\r\n\r\nThus in the source code it will look like:\r\n\r\n     Collection&lt;? extends E&gt;   -&gt; Ljava/util/Collection&lt;+TE;&gt;\r\n\r\nTake a look at the [asm user guide][1] section **4.1.1 Generics -&gt; Metadata**, page 68.\r\n\r\n\r\n  [1]: https://asm.ow2.io/asm4-guide.pdf","title":"Bytecode analysis in Java","body":"<p>The <code>+</code> stands for the generic <code>extends</code> while the <code>TE</code> means that there is a type var <code>E</code></p>\n<p>Thus in the source code it will look like:</p>\n<pre><code> Collection&lt;? extends E&gt;   -&gt; Ljava/util/Collection&lt;+TE;&gt;\n</code></pre>\n<p>Take a look at the <a href=\"https://asm.ow2.io/asm4-guide.pdf\" rel=\"nofollow noreferrer\">asm user guide</a> section <strong>4.1.1 Generics -&gt; Metadata</strong>, page 68.</p>\n"}],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2675,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":19632505,"answer_count":1,"score":12,"last_activity_date":1656042921,"creation_date":1382955704,"question_id":19632231,"body_markdown":"I am working on a Bytecode analysis project, for which I am using ASM. Everything is going good, I am able to parse, get class and method informations successfully.\r\n\r\nBut I am stuck in understanding bytecode representation for Generics. Here is the one example from `java.util.list` when I use `visitMethod` from `ClassVisitor` to print the information, this is what I am getting for one of the method&#39;s signature:\r\n\r\n    (ILjava/util/Collection&lt;+TE;&gt;;)Z\r\n\r\nHere I am trying to disassemble one by one and understanding the arguments of the method:\r\n\r\n - `I` stands for int\r\n - `Ljava/util/Collection` stands for it&#39;s an argument of type `Collection`\r\n\r\nBut I am stuck at generics type ie `&lt;+TE&gt;` etc. Can anyone guide me? I tried to search but not got enough information. If anyone has list of bytecode names can you please share me?","title":"Bytecode analysis in Java","body":"<p>I am working on a Bytecode analysis project, for which I am using ASM. Everything is going good, I am able to parse, get class and method informations successfully.</p>\n\n<p>But I am stuck in understanding bytecode representation for Generics. Here is the one example from <code>java.util.list</code> when I use <code>visitMethod</code> from <code>ClassVisitor</code> to print the information, this is what I am getting for one of the method's signature:</p>\n\n<pre><code>(ILjava/util/Collection&lt;+TE;&gt;;)Z\n</code></pre>\n\n<p>Here I am trying to disassemble one by one and understanding the arguments of the method:</p>\n\n<ul>\n<li><code>I</code> stands for int</li>\n<li><code>Ljava/util/Collection</code> stands for it's an argument of type <code>Collection</code></li>\n</ul>\n\n<p>But I am stuck at generics type ie <code>&lt;+TE&gt;</code> etc. Can anyone guide me? I tried to search but not got enough information. If anyone has list of bytecode names can you please share me?</p>\n"},{"tags":["java","quartz-scheduler","jobs"],"answers":[{"tags":[],"owner":{"account_id":2335823,"reputation":729,"user_id":2048204,"accept_rate":37,"display_name":"user2048204"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656042319,"creation_date":1606395920,"answer_id":65022665,"question_id":65011888,"body_markdown":"I think i got it.\r\n\r\nFor the MisfireHandlingInstruction to take effect, the delay should be greater than the value set by \r\n\r\n&gt; org.quartz.jobStore.misfireThreshold = 60000\r\n\r\nor else the quartz never treats the trigger as misfire. so the misfire instruction wont take effect.\r\n\r\nFrom [here][1]\r\n\r\n&gt; Before I dive into the details, there is yet another configuration option that should be described. It is org.quartz.jobStore.misfireThreshold (in milliseconds), defaulting to 60000 (a minute). It defines how late the trigger should be to be considered misfired. With default setup if trigger was suppose to be fired 30 seconds ago, Quartz will happily just run it. Such delay is not considered misfiring. However if the trigger is discovered 61 seconds after the scheduled time - the special misfire handler thread takes care of it, obeying the misfire instruction. For test purposes we will set this parameter to 1000 (1 second) so that we can test misfiring quickly.\r\n\r\n\r\n  [1]: https://www.nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html","title":"Quartz Scheduler - Ignore misfired job - withMisfireHandlingInstructionDoNothing() not working","body":"<p>I think i got it.</p>\n<p>For the MisfireHandlingInstruction to take effect, the delay should be greater than the value set by</p>\n<blockquote>\n<p>org.quartz.jobStore.misfireThreshold = 60000</p>\n</blockquote>\n<p>or else the quartz never treats the trigger as misfire. so the misfire instruction wont take effect.</p>\n<p>From <a href=\"https://www.nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Before I dive into the details, there is yet another configuration option that should be described. It is org.quartz.jobStore.misfireThreshold (in milliseconds), defaulting to 60000 (a minute). It defines how late the trigger should be to be considered misfired. With default setup if trigger was suppose to be fired 30 seconds ago, Quartz will happily just run it. Such delay is not considered misfiring. However if the trigger is discovered 61 seconds after the scheduled time - the special misfire handler thread takes care of it, obeying the misfire instruction. For test purposes we will set this parameter to 1000 (1 second) so that we can test misfiring quickly.</p>\n</blockquote>\n"}],"owner":{"account_id":2335823,"reputation":729,"user_id":2048204,"accept_rate":37,"display_name":"user2048204"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65022665,"answer_count":1,"score":0,"last_activity_date":1656042319,"creation_date":1606334365,"question_id":65011888,"body_markdown":"I want to ignore any misfired jobs (say when the service was down) and just wait until next schedule.\r\n\r\nFor this i tried below :\r\n\r\n    TriggerBuilder.newTrigger().withIdentity(jobName, jobGroup)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(cronExpression)\r\n                          .withMisfireHandlingInstructionDoNothing())\r\n                .withPriority(jobPriority).build();\r\n\r\n\r\n\r\nThis job triggers weekly on every Tuesday. Say on one Tuesday, the service was down and it comes up on Friday. Then the job should trigger on next Tuesday and not when the service comes up. \r\n\r\nBut above code is not working. the job is triggered as soon the service comes up.\r\n\r\nNote: I am manually forwarding the time to test this.(In case if this makes any difference)","title":"Quartz Scheduler - Ignore misfired job - withMisfireHandlingInstructionDoNothing() not working","body":"<p>I want to ignore any misfired jobs (say when the service was down) and just wait until next schedule.</p>\n<p>For this i tried below :</p>\n<pre><code>TriggerBuilder.newTrigger().withIdentity(jobName, jobGroup)\n            .withSchedule(CronScheduleBuilder.cronSchedule(cronExpression)\n                      .withMisfireHandlingInstructionDoNothing())\n            .withPriority(jobPriority).build();\n</code></pre>\n<p>This job triggers weekly on every Tuesday. Say on one Tuesday, the service was down and it comes up on Friday. Then the job should trigger on next Tuesday and not when the service comes up.</p>\n<p>But above code is not working. the job is triggered as soon the service comes up.</p>\n<p>Note: I am manually forwarding the time to test this.(In case if this makes any difference)</p>\n"},{"tags":["java","gson","classcastexception"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1656038362,"post_id":72738399,"comment_id":128479565,"body_markdown":"How would GSON know to create an `OrderProfile`?","body":"How would GSON know to create an <code>OrderProfile</code>?"},{"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"score":0,"creation_date":1656038451,"post_id":72738399,"comment_id":128479578,"body_markdown":"@shmosel Oh, I don&#39;t know. How can I &quot;tell&quot; GSON how to create an `OrderProfile`?","body":"@shmosel Oh, I don&#39;t know. How can I &quot;tell&quot; GSON how to create an <code>OrderProfile</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1656044032,"post_id":72738399,"comment_id":128480309,"body_markdown":"Your best bet is to use a real `class Extras { OrderProfile orderProfile; }`. See [here](https://stackoverflow.com/a/65013074/1553851) for some alternatives.","body":"Your best bet is to use a real <code>class Extras { OrderProfile orderProfile; }</code>. See <a href=\"https://stackoverflow.com/a/65013074/1553851\">here</a> for some alternatives."}],"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656040771,"creation_date":1656037736,"question_id":72738399,"body_markdown":"I have a User class, where all data about a unique `User` is stored.\r\n```java\r\n@AllArgsConstructor\r\npublic class User {\r\n    private Map&lt;String, Object&gt; extras;\r\n    // other fields\r\n\r\n    public Map&lt;String, Object&gt; getExtras() {\r\n        if (extras == null) extras = new HashMap&lt;&gt;();\r\n        return extras;\r\n    }\r\n}\r\n```\r\nIn `extras`, I have stored an instance of `OrderProfile`, but it is stored as an `Object` type. \r\n\r\nI have this method to get the ```OrderProfile``` object inside the `OrderProfile` class:\r\n\r\n```java\r\npublic static OrderProfile get(@NotNull User user) {\r\n    if (!user.getExtras().containsKey(&quot;orderProfile&quot;)) return null;\r\n    return (OrderProfile) user.getExtras().get(&quot;orderProfile&quot;);\r\n}\r\n```\r\n\r\nHowever, when I attempt to get the object from the `extras` map, I get the following error:\r\n\r\n`\r\njava.lang.ClassCastException: class com.google.gson.internal.LinkedTreeMap cannot be cast to class net.pixlies.business.market.orders.OrderProfile (com.google.gson.internal.LinkedTreeMap is in unnamed module of loader java.net.URLClassLoader @759ebb3d; net.pixlies.business.market.orders.OrderProfile is in unnamed module of loader java.net.URLClassLoader @26b5e81e)\r\n`\r\n\r\nI haven&#39;t stored anything as a LinkedTreeMap, so I don&#39;t know why this is happening.\r\nWhat can I do to fix this?","title":"ClassCastException: Object turning into Google Gson LinkedTreeMap","body":"<p>I have a User class, where all data about a unique <code>User</code> is stored.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class User {\n    private Map&lt;String, Object&gt; extras;\n    // other fields\n\n    public Map&lt;String, Object&gt; getExtras() {\n        if (extras == null) extras = new HashMap&lt;&gt;();\n        return extras;\n    }\n}\n</code></pre>\n<p>In <code>extras</code>, I have stored an instance of <code>OrderProfile</code>, but it is stored as an <code>Object</code> type.</p>\n<p>I have this method to get the <code>OrderProfile</code> object inside the <code>OrderProfile</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static OrderProfile get(@NotNull User user) {\n    if (!user.getExtras().containsKey(&quot;orderProfile&quot;)) return null;\n    return (OrderProfile) user.getExtras().get(&quot;orderProfile&quot;);\n}\n</code></pre>\n<p>However, when I attempt to get the object from the <code>extras</code> map, I get the following error:</p>\n<p><code>java.lang.ClassCastException: class com.google.gson.internal.LinkedTreeMap cannot be cast to class net.pixlies.business.market.orders.OrderProfile (com.google.gson.internal.LinkedTreeMap is in unnamed module of loader java.net.URLClassLoader @759ebb3d; net.pixlies.business.market.orders.OrderProfile is in unnamed module of loader java.net.URLClassLoader @26b5e81e)</code></p>\n<p>I haven't stored anything as a LinkedTreeMap, so I don't know why this is happening.\nWhat can I do to fix this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656040071,"creation_date":1656039630,"answer_id":72738548,"question_id":72738397,"body_markdown":"Does `foo` change? It&#39;s _possible_ but it depends on what the method does.\r\n\r\nHere&#39;s an example where `foo` does not change:\r\n```\r\npublic class NoChange {\r\n    public static void main(String[] args) {\r\n        Foo foo = new Foo();\r\n        foo.noChange();\r\n    }\r\n}\r\n\r\nclass Foo {\r\n    private int n = 0;\r\n    public void noChange() {\r\n        System.out.println(n);\r\n    }\r\n}\r\n```\r\nIf you run this code, the call to `foo.noChange()` will print out &quot;0&quot;, and nothing in `foo` will change.\r\n\r\nHere&#39;s a slight modification of that example which introduces a `doChange()` method on class `Foo`. The new method _does_ change something in an instance of `Foo` – specifically, it takes the value of `n` and increments it by one.\r\n\r\n```\r\npublic class YesChange {\r\n    public static void main(String[] args) {\r\n        Foo foo = new Foo();\r\n\t\tfoo.doChange(); // increment n by one\r\n        foo.noChange(); // print out n\r\n    }\r\n}\r\n\r\nclass Foo {\r\n    private int n = 0;\r\n\r\n    public void noChange() {\r\n        System.out.println(n);\r\n    }\r\n\r\n    public void doChange() {\r\n        n++;\r\n    }\r\n}\r\n```\r\nWhen you run that second example code – which first calls `doChange()`, then calls `noChange()` to print out current &quot;n&quot; – the output is &quot;1&quot;.\r\n\r\nSo, the behavior depends on whether the method changes state (for example, by changing setting a value such as incrementing a number) or has side effects (the method might call some other method which in turn does change state). If the method does none of these things, it would be a [&quot;pure function&quot;](https://en.wikipedia.org/wiki/Pure_function).\r\n","title":"Does editing an object within a function mean I need to return it back to update the value","body":"<p>Does <code>foo</code> change? It's <em>possible</em> but it depends on what the method does.</p>\n<p>Here's an example where <code>foo</code> does not change:</p>\n<pre><code>public class NoChange {\n    public static void main(String[] args) {\n        Foo foo = new Foo();\n        foo.noChange();\n    }\n}\n\nclass Foo {\n    private int n = 0;\n    public void noChange() {\n        System.out.println(n);\n    }\n}\n</code></pre>\n<p>If you run this code, the call to <code>foo.noChange()</code> will print out &quot;0&quot;, and nothing in <code>foo</code> will change.</p>\n<p>Here's a slight modification of that example which introduces a <code>doChange()</code> method on class <code>Foo</code>. The new method <em>does</em> change something in an instance of <code>Foo</code> – specifically, it takes the value of <code>n</code> and increments it by one.</p>\n<pre><code>public class YesChange {\n    public static void main(String[] args) {\n        Foo foo = new Foo();\n        foo.doChange(); // increment n by one\n        foo.noChange(); // print out n\n    }\n}\n\nclass Foo {\n    private int n = 0;\n\n    public void noChange() {\n        System.out.println(n);\n    }\n\n    public void doChange() {\n        n++;\n    }\n}\n</code></pre>\n<p>When you run that second example code – which first calls <code>doChange()</code>, then calls <code>noChange()</code> to print out current &quot;n&quot; – the output is &quot;1&quot;.</p>\n<p>So, the behavior depends on whether the method changes state (for example, by changing setting a value such as incrementing a number) or has side effects (the method might call some other method which in turn does change state). If the method does none of these things, it would be a <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">&quot;pure function&quot;</a>.</p>\n"}],"owner":{"account_id":18844777,"reputation":23,"user_id":13745365,"display_name":"Unprotesting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72738548,"answer_count":1,"score":1,"last_activity_date":1656040071,"creation_date":1656037721,"question_id":72738397,"body_markdown":"If I edit the data of an object in a function do I need to return the object back to update it in java.\r\n\r\nSay I have something like this:\r\n\r\n```java\r\n\r\n  public void foo1() {\r\n    Foo foo = new Foo();\r\n    someFunction(foo);\r\n    // Is the state of foo changed here or not?\r\n  }\r\n\r\n  public void someFunction(Foo foo) {\r\n    foo.doSomething();\r\n  }\r\n\r\n```\r\n\r\nI know objects are passed by reference in java. Will this mean the object is updated/changed at the end of the foo1() function or not?\r\n\r\n","title":"Does editing an object within a function mean I need to return it back to update the value","body":"<p>If I edit the data of an object in a function do I need to return the object back to update it in java.</p>\n<p>Say I have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  public void foo1() {\n    Foo foo = new Foo();\n    someFunction(foo);\n    // Is the state of foo changed here or not?\n  }\n\n  public void someFunction(Foo foo) {\n    foo.doSomething();\n  }\n\n</code></pre>\n<p>I know objects are passed by reference in java. Will this mean the object is updated/changed at the end of the foo1() function or not?</p>\n"},{"tags":["java","mp3","id3-tag","id3v2"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1326599051,"post_id":8867374,"comment_id":11080600,"body_markdown":"The lyrics would have to be in the metadata of the MP3 file.  Have you looked at the ID3 standard documentation?","body":"The lyrics would have to be in the metadata of the MP3 file.  Have you looked at the ID3 standard documentation?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1326599551,"post_id":8867374,"comment_id":11080633,"body_markdown":"http://id3lib.sourceforge.net/id3/","body":"<a href=\"http://id3lib.sourceforge.net/id3/\" rel=\"nofollow noreferrer\">id3lib.sourceforge.net/id3</a>"},{"owner":{"account_id":110218,"reputation":16051,"user_id":291737,"accept_rate":67,"display_name":"StilesCrisis"},"score":0,"creation_date":1326646237,"post_id":8867374,"comment_id":11086467,"body_markdown":"I don&#39;t know why this question has so many downvotes... it&#39;s a perfectly legit question. MP3s can have tons of metadata, and lyrics have been around in the spec for years and years and years. Not all MP3s will have lyrics filled in, but many will (particularly purchased songs, which tend to have a full complement of metadata).","body":"I don&#39;t know why this question has so many downvotes... it&#39;s a perfectly legit question. MP3s can have tons of metadata, and lyrics have been around in the spec for years and years and years. Not all MP3s will have lyrics filled in, but many will (particularly purchased songs, which tend to have a full complement of metadata)."},{"owner":{"account_id":1095471,"reputation":127,"user_id":1089146,"display_name":"user1089146"},"score":0,"creation_date":1326687941,"post_id":8867374,"comment_id":11093393,"body_markdown":"idont care about downvotes i just want the resources for my doubts,thats it.","body":"idont care about downvotes i just want the resources for my doubts,thats it."}],"answers":[{"tags":[],"owner":{"account_id":110218,"reputation":16051,"user_id":291737,"accept_rate":67,"display_name":"StilesCrisis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1592988701,"creation_date":1326599190,"answer_id":8867393,"question_id":8867374,"body_markdown":"Take a look at this library: https://web.archive.org/web/20170718142051/http://www.fightingquaker.com:80/myid3/\r\n\r\nIt should do what you need.","title":"Extract lyrics from an MP3","body":"<p>Take a look at this library: <a href=\"https://web.archive.org/web/20170718142051/http://www.fightingquaker.com:80/myid3/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20170718142051/http://www.fightingquaker.com:80/myid3/</a></p>\n<p>It should do what you need.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1326599961,"creation_date":1326599236,"answer_id":8867396,"question_id":8867374,"body_markdown":"MP3s do not store &#39;lyrics&#39; beyond the sound wave of the (instruments and) vocalist.  \r\n\r\nIf you want the lyrics, look to voice recognition.  With the way many singers mumble, good luck with that.\r\n\r\n---\r\nDave Newton points out:\r\n\r\n&gt; ID3v2 defines lyrics as one of the standard metadata tags; see [sections 4.8 and 4.9](http://id3lib.sourceforge.net/id3/id3v2.4.0-frames.txt)\r\n\r\nSo if those are defined, an MP3 tag library can extract them.  Failing that, see above.\r\n\r\nI doubt any MP3s encoded at home by owners of the music have lyrics attached.  MP3s bought recently off iTunes might be a different story.  ","title":"Extract lyrics from an MP3","body":"<p>MP3s do not store 'lyrics' beyond the sound wave of the (instruments and) vocalist.  </p>\n\n<p>If you want the lyrics, look to voice recognition.  With the way many singers mumble, good luck with that.</p>\n\n<hr>\n\n<p>Dave Newton points out:</p>\n\n<blockquote>\n  <p>ID3v2 defines lyrics as one of the standard metadata tags; see <a href=\"http://id3lib.sourceforge.net/id3/id3v2.4.0-frames.txt\" rel=\"nofollow\">sections 4.8 and 4.9</a></p>\n</blockquote>\n\n<p>So if those are defined, an MP3 tag library can extract them.  Failing that, see above.</p>\n\n<p>I doubt any MP3s encoded at home by owners of the music have lyrics attached.  MP3s bought recently off iTunes might be a different story.  </p>\n"}],"owner":{"account_id":1095471,"reputation":127,"user_id":1089146,"display_name":"user1089146"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9944,"favorite_count":0,"down_vote_count":4,"up_vote_count":6,"accepted_answer_id":8867393,"answer_count":2,"score":2,"last_activity_date":1656038843,"creation_date":1326598842,"question_id":8867374,"body_markdown":"Could someone explain how  to extract the lyrics from an mp3 file?I tried but I can&#39;t get any documents for this purpose.Just like the album art, how can we extract it in to a text file? Is it possible in Java?","title":"Extract lyrics from an MP3","body":"<p>Could someone explain how  to extract the lyrics from an mp3 file?I tried but I can't get any documents for this purpose.Just like the album art, how can we extract it in to a text file? Is it possible in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1970069,"reputation":12018,"user_id":1769276,"accept_rate":58,"display_name":"PressingOnAlways"},"score":3,"creation_date":1656035637,"post_id":72738233,"comment_id":128479242,"body_markdown":"having both a `postives` (you misspelled positive) and a `postiveCount` is not necessary. the ++ operator increments the current variable. You can simply have postiveCount++ and print the postiveCount.","body":"having both a <code>postives</code> (you misspelled positive) and a <code>postiveCount</code> is not necessary. the ++ operator increments the current variable. You can simply have postiveCount++ and print the postiveCount."},{"owner":{"display_name":"user18904944"},"score":0,"creation_date":1656037065,"post_id":72738233,"comment_id":128479403,"body_markdown":"Trying your suggestion it did not work as it should of, when I entered five positives and three negatives. I received four negatives as my output and five positives. The only way I received the correct number of output of negatives and positives was changing the else to else if and check if negative is less than 0 as ewong suggested. That worked.","body":"Trying your suggestion it did not work as it should of, when I entered five positives and three negatives. I received four negatives as my output and five positives. The only way I received the correct number of output of negatives and positives was changing the else to else if and check if negative is less than 0 as ewong suggested. That worked."}],"answers":[{"tags":[],"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656037777,"creation_date":1656035614,"answer_id":72738247,"question_id":72738233,"body_markdown":"Changing the else statement to the following would ignore the 0.\r\n```\r\n        Scanner input = new Scanner(System.in);\r\n        int num = 0;\r\n        int positiveCount = 0;\r\n        int negativeCount = 0;\r\n        do{\r\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\r\n            num = input.nextInt();\r\n            \r\n            if(num &gt; 0){\r\n               positiveCount++;\r\n            }\r\n            else if (num &lt; 0){\r\n                negativeCount++;\r\n            }\r\n        }while( num != 0);\r\n        System.out.printf(&quot;num of positives %d and num of negatives %d&quot;, positiveCount, negativeCount);\r\n        input.close();\r\n```\r\n\r\nAnother option (though it uses a nested if) is the following:\r\n```\r\n        Scanner input = new Scanner(System.in);\r\n        int num = 0;\r\n        int positiveCount = 0;\r\n        int negativeCount = 0;\r\n        do{\r\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\r\n            num = input.nextInt();\r\n            \r\n            if(num &gt;= 0){\r\n               if (num != 0) {\r\n                 positiveCount++;\r\n               }\r\n            }\r\n            else{\r\n                negativeCount++;\r\n            }\r\n        }while( num != 0);\r\n        System.out.printf(&quot;num of positives %d and num of negatives %d&quot;, positiveCount, negativeCount);\r\n        input.close();\r\n```\r\n","title":"Counter variable is not working as it should in my do while loop","body":"<p>Changing the else statement to the following would ignore the 0.</p>\n<pre><code>        Scanner input = new Scanner(System.in);\n        int num = 0;\n        int positiveCount = 0;\n        int negativeCount = 0;\n        do{\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\n            num = input.nextInt();\n            \n            if(num &gt; 0){\n               positiveCount++;\n            }\n            else if (num &lt; 0){\n                negativeCount++;\n            }\n        }while( num != 0);\n        System.out.printf(&quot;num of positives %d and num of negatives %d&quot;, positiveCount, negativeCount);\n        input.close();\n</code></pre>\n<p>Another option (though it uses a nested if) is the following:</p>\n<pre><code>        Scanner input = new Scanner(System.in);\n        int num = 0;\n        int positiveCount = 0;\n        int negativeCount = 0;\n        do{\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\n            num = input.nextInt();\n            \n            if(num &gt;= 0){\n               if (num != 0) {\n                 positiveCount++;\n               }\n            }\n            else{\n                negativeCount++;\n            }\n        }while( num != 0);\n        System.out.printf(&quot;num of positives %d and num of negatives %d&quot;, positiveCount, negativeCount);\n        input.close();\n</code></pre>\n"}],"owner":{"display_name":"user18904944"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656037777,"creation_date":1656035398,"question_id":72738233,"body_markdown":"I&#39;m not understanding why the counter variable for positives isn&#39;t holding the correct number? I enter four positives and three negatives, that should be the correct output. 0 is not to be counted towards positives. I&#39;ve also tried prefix increment instead of postfix increment, that didn&#39;t help either. I&#39;m new at a very beginner level. \r\n\r\nHere&#39;s my input and output:\r\n```\r\nEnter an integer, the input end if it is 0: 4\r\nEnter an integer, the input end if it is 0: 3\r\nEnter an integer, the input end if it is 0: 2\r\nEnter an integer, the input end if it is 0: 1\r\nEnter an integer, the input end if it is 0: -4\r\nEnter an integer, the input end if it is 0: -3\r\nEnter an integer, the input end if it is 0: -2\r\nEnter an integer, the input end if it is 0: 0\r\nnum of postives 3 and num of negatives 3 &lt;----- output wrong\r\n```\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        /**\r\n         * my pesducode\r\n         * enter an integer, input ends if 0: \r\n         * while input != 0\r\n         *     if input &gt; 0\r\n         *         postives = postiveCount++\r\n         *     else\r\n         *         negatives = negativeCount++\r\n         *     total+= input\r\n         *  end loop\r\n         * totalNumsEnter = postive + negatives\r\n         * avg = total/ totalNumsEnter\r\n         */\r\n        Scanner input = new Scanner(System.in);\r\n        int num = 0;\r\n        int postiveCount = 0;\r\n        int postives = 0;\r\n        int negatives = 0;\r\n        int negativeCount = 0;\r\n        do{\r\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\r\n            num = input.nextInt();\r\n            \r\n            if(num &gt; 0){\r\n               postives = postiveCount++;\r\n            }\r\n            else{\r\n                negatives = negativeCount++;\r\n            }\r\n        }while( num != 0);\r\n        System.out.printf(&quot;num of postives %d and num of negatives %d&quot;, postives,negatives);\r\n        input.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Counter variable is not working as it should in my do while loop","body":"<p>I'm not understanding why the counter variable for positives isn't holding the correct number? I enter four positives and three negatives, that should be the correct output. 0 is not to be counted towards positives. I've also tried prefix increment instead of postfix increment, that didn't help either. I'm new at a very beginner level.</p>\n<p>Here's my input and output:</p>\n<pre><code>Enter an integer, the input end if it is 0: 4\nEnter an integer, the input end if it is 0: 3\nEnter an integer, the input end if it is 0: 2\nEnter an integer, the input end if it is 0: 1\nEnter an integer, the input end if it is 0: -4\nEnter an integer, the input end if it is 0: -3\nEnter an integer, the input end if it is 0: -2\nEnter an integer, the input end if it is 0: 0\nnum of postives 3 and num of negatives 3 &lt;----- output wrong\n</code></pre>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        /**\n         * my pesducode\n         * enter an integer, input ends if 0: \n         * while input != 0\n         *     if input &gt; 0\n         *         postives = postiveCount++\n         *     else\n         *         negatives = negativeCount++\n         *     total+= input\n         *  end loop\n         * totalNumsEnter = postive + negatives\n         * avg = total/ totalNumsEnter\n         */\n        Scanner input = new Scanner(System.in);\n        int num = 0;\n        int postiveCount = 0;\n        int postives = 0;\n        int negatives = 0;\n        int negativeCount = 0;\n        do{\n            System.out.print(&quot;Enter an integer, the input end if it is 0: &quot;);\n            num = input.nextInt();\n            \n            if(num &gt; 0){\n               postives = postiveCount++;\n            }\n            else{\n                negatives = negativeCount++;\n            }\n        }while( num != 0);\n        System.out.printf(&quot;num of postives %d and num of negatives %d&quot;, postives,negatives);\n        input.close();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":1544995,"reputation":527,"user_id":1438721,"display_name":"Cook Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656035885,"creation_date":1655950458,"answer_id":72723816,"question_id":72714400,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nUpdate your limitline and invoke chart.invalidate() then the position is changed. In the demo code LineChartActivity.java, onProgressChanged, by this way, the limitline will changed automatically:\r\n\r\n        @Override\r\n    public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n        // redraw\r\n        seekBarY.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (seekBarY.getProgress() &lt; seekBarY.getMax()) {\r\n                    seekBarY.setProgress(seekBarY.getProgress() + 1);\r\n                }\r\n            }\r\n        }, 500);\r\n\r\n        double percent = seekBarY.getProgress() * 1.0 / seekBarY.getMax();\r\n\r\n        YAxis leftAxis = chart.getAxisLeft();\r\n        leftAxis.removeAllLimitLines();\r\n        LimitLine ll = new LimitLine((float)(percent * 50), &quot;&quot;);\r\n        ll.setLineColor(Color.BLACK);\r\n        ll.setLineWidth(5f);\r\n        leftAxis.addLimitLine(ll);\r\n        chart.invalidate();\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSJMW.gif\r\n  [2]: https://i.stack.imgur.com/W1IdH.gif","title":"MPAndroidChart - How can I update LimitLine position?","body":"<p><a href=\"https://i.stack.imgur.com/jSJMW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSJMW.gif\" alt=\"enter image description here\" /></a></p>\n<p>Update your limitline and invoke chart.invalidate() then the position is changed. In the demo code LineChartActivity.java, onProgressChanged, by this way, the limitline will changed automatically:</p>\n<pre><code>    @Override\npublic void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n    // redraw\n    seekBarY.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            if (seekBarY.getProgress() &lt; seekBarY.getMax()) {\n                seekBarY.setProgress(seekBarY.getProgress() + 1);\n            }\n        }\n    }, 500);\n\n    double percent = seekBarY.getProgress() * 1.0 / seekBarY.getMax();\n\n    YAxis leftAxis = chart.getAxisLeft();\n    leftAxis.removeAllLimitLines();\n    LimitLine ll = new LimitLine((float)(percent * 50), &quot;&quot;);\n    ll.setLineColor(Color.BLACK);\n    ll.setLineWidth(5f);\n    leftAxis.addLimitLine(ll);\n    chart.invalidate();\n}\n</code></pre>\n"}],"owner":{"account_id":16998728,"reputation":451,"user_id":12296586,"display_name":"Frederik Petri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72723816,"answer_count":1,"score":0,"last_activity_date":1656035885,"creation_date":1655895994,"question_id":72714400,"body_markdown":"I am trying to dynamically update the position of a LimitLine. For now, I can only set the position when I create the line. How can I change the position later?\r\n\r\n            LimitLine ll = new LimitLine(0f, &quot;&quot;);\r\n            YAxis leftAxis = chart.getAxisLeft();\r\n            leftAxis.addLimitLine(ll);\r\n\r\n            // Set new position here...\r\n            \r\n","title":"MPAndroidChart - How can I update LimitLine position?","body":"<p>I am trying to dynamically update the position of a LimitLine. For now, I can only set the position when I create the line. How can I change the position later?</p>\n<pre><code>        LimitLine ll = new LimitLine(0f, &quot;&quot;);\n        YAxis leftAxis = chart.getAxisLeft();\n        leftAxis.addLimitLine(ll);\n\n        // Set new position here...\n        \n</code></pre>\n"},{"tags":["java","visual-studio-code","package"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1655990696,"post_id":72730597,"comment_id":128466912,"body_markdown":"You working directory should be the root directory of your project.  In this case, programs.  You can click on open directory and select the programs directory.","body":"You working directory should be the root directory of your project.  In this case, programs.  You can click on open directory and select the programs directory."}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655993817,"creation_date":1655993817,"answer_id":72731734,"question_id":72730597,"body_markdown":"Your `.java` file has package `programs.progprac` and as you discovered that will lead to `javac` placing the `.class` file into `./programs/progprac/helloworld.class`. The class file also will have the package name inside, for reasons beyond this answer.\r\n\r\nNow you tried &quot;executing&quot; that file by changing into the package directory and specifing it&#39;s name. But, the `java` command does not want the filename of your class (unlike for example the `python` command).\r\n\r\nThe syntax of the `java` (here from Java 17 documentation) command is different:\r\n\r\n&gt; To launch a class file:\r\n&gt; \r\n&gt; `java [options] mainclass [args ...]`\r\n&gt; \r\n&gt; -- https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis\r\n\r\nit wants the `mainclass`, which here is the &quot;fully qualified class name&quot;, which is package + class name, `programs.progprag.helloworld` in your case.\r\n\r\nIf you specify that, java will look for that class in `./programs/progprag/helloworld.class` and it should work as you expect.\r\n\r\nBut if you run Java in the folder with the classfile and you give `helloworld`, it will look for `./helloworld.class` (and find it) but will see the package name inside is not empty. thus java rejects loading the file, finally failing with `helloworld` class not being found, because the class&#39; file could not be loaded.\r\n\r\n---\r\n\r\nMore recent Java versions (like Java 17) also have an option to execute &quot;single source&quot; files:\r\n\r\n&gt; To launch a single source-file program:\r\n&gt; \r\n&gt; `java [options] source-file [args ...]`\r\n&gt;\r\n&gt; -- ibd\r\n\r\nThus it looks to be possible to run the **`.java`** (not the `.class`!) using\r\n\r\n`java helloworld.java`","title":"Cannot run program in java inside a package in vscode","body":"<p>Your <code>.java</code> file has package <code>programs.progprac</code> and as you discovered that will lead to <code>javac</code> placing the <code>.class</code> file into <code>./programs/progprac/helloworld.class</code>. The class file also will have the package name inside, for reasons beyond this answer.</p>\n<p>Now you tried &quot;executing&quot; that file by changing into the package directory and specifing it's name. But, the <code>java</code> command does not want the filename of your class (unlike for example the <code>python</code> command).</p>\n<p>The syntax of the <code>java</code> (here from Java 17 documentation) command is different:</p>\n<blockquote>\n<p>To launch a class file:</p>\n<p><code>java [options] mainclass [args ...]</code></p>\n<p>-- <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis</a></p>\n</blockquote>\n<p>it wants the <code>mainclass</code>, which here is the &quot;fully qualified class name&quot;, which is package + class name, <code>programs.progprag.helloworld</code> in your case.</p>\n<p>If you specify that, java will look for that class in <code>./programs/progprag/helloworld.class</code> and it should work as you expect.</p>\n<p>But if you run Java in the folder with the classfile and you give <code>helloworld</code>, it will look for <code>./helloworld.class</code> (and find it) but will see the package name inside is not empty. thus java rejects loading the file, finally failing with <code>helloworld</code> class not being found, because the class' file could not be loaded.</p>\n<hr />\n<p>More recent Java versions (like Java 17) also have an option to execute &quot;single source&quot; files:</p>\n<blockquote>\n<p>To launch a single source-file program:</p>\n<p><code>java [options] source-file [args ...]</code></p>\n<p>-- ibd</p>\n</blockquote>\n<p>Thus it looks to be possible to run the <strong><code>.java</code></strong> (not the <code>.class</code>!) using</p>\n<p><code>java helloworld.java</code></p>\n"},{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656035462,"creation_date":1656035462,"answer_id":72738236,"question_id":72730597,"body_markdown":"I think this should be related to your workspace. Vscode running file takes the current workspace as the root directory. \r\n\r\nI think you should release the directory structure when you show the problem. I have a simple reproduction here:\r\n\r\nThere is a package com.cn in the workspace and a app.java in the package.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is consistent with what you showed, but the results are different. I think the directory structure is inconsistent, or there is an error in the location of the terminal when you run the file.\r\n\r\n  [1]: https://i.stack.imgur.com/ywADl.png\r\n  [2]: https://i.stack.imgur.com/k2oow.png","title":"Cannot run program in java inside a package in vscode","body":"<p>I think this should be related to your workspace. Vscode running file takes the current workspace as the root directory.</p>\n<p>I think you should release the directory structure when you show the problem. I have a simple reproduction here:</p>\n<p>There is a package com.cn in the workspace and a app.java in the package.</p>\n<p><a href=\"https://i.stack.imgur.com/ywADl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ywADl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/k2oow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2oow.png\" alt=\"enter image description here\" /></a></p>\n<p>This is consistent with what you showed, but the results are different. I think the directory structure is inconsistent, or there is an error in the location of the terminal when you run the file.</p>\n"}],"owner":{"account_id":23172514,"reputation":1,"user_id":17271538,"display_name":"Ayush Srivastava "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656035462,"creation_date":1655989186,"question_id":72730597,"body_markdown":"why my vscode is not runing programs in package.\r\ni am able to run them once I import package and run the program outside any package.\r\nBut when I am trying to run them inside a package it is giving an error-:\r\n\r\nError: Could not find or load main class arraystring\r\nCaused by: java.lang.NoClassDefFoundError:\r\n\r\nfor example: \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hP76H.png","title":"Cannot run program in java inside a package in vscode","body":"<p>why my vscode is not runing programs in package.\ni am able to run them once I import package and run the program outside any package.\nBut when I am trying to run them inside a package it is giving an error-:</p>\n<p>Error: Could not find or load main class arraystring\nCaused by: java.lang.NoClassDefFoundError:</p>\n<p>for example:\n<a href=\"https://i.stack.imgur.com/hP76H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656036021,"post_id":72738168,"comment_id":128479301,"body_markdown":"Nowhere in your code do you assign anything to `miMicrofono`.  So it is `null`.  So you get an NPE when you attempt to use it.","body":"Nowhere in your code do you assign anything to <code>miMicrofono</code>.  So it is <code>null</code>.  So you get an NPE when you attempt to use it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656045385,"post_id":72738168,"comment_id":128480527,"body_markdown":"P.S. You can get your device&#39;s microphones using `AudioManager.getMicrophones()`.  It returns a `List&lt;MicrophoneInfo&gt;`.","body":"P.S. You can get your device&#39;s microphones using <code>AudioManager.getMicrophones()</code>.  It returns a <code>List&lt;MicrophoneInfo&gt;</code>."}],"owner":{"account_id":25634016,"reputation":1,"user_id":19403904,"display_name":"Diego C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656036059,"answer_count":0,"score":0,"last_activity_date":1656034561,"creation_date":1656034561,"question_id":72738168,"body_markdown":"I am trying to get information about my phone&#39;s microphone through the MicrophoneInfo library in android studio, but when I use a simple method that returns an integer like getId() or getLocation()... I get the following error....\r\n\r\n[error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qVXzX.jpg\r\n\r\n\r\nMy code is the following...\r\n\r\n    package com.example.mi_microfono;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.media.AudioRecord;\r\n    import android.media.MediaRecorder;\r\n    import android.media.AudioDeviceInfo;\r\n    import android.media.MicrophoneInfo.Coordinate3F;\r\n    import android.media.MicrophoneInfo;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private MicrophoneInfo miMicrofono;\r\n        private TextView infoMicrofono;\r\n        private MediaRecorder grabacion;\r\n        private String archivoSalida = null;\r\n        private AudioDeviceInfo micMic;\r\n    \r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.Q)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.RECORD_AUDIO}, 1000);\r\n            }\r\n    \r\n            infoMicrofono = (TextView) findViewById(R.id.infoMicro);\r\n    \r\n    \r\n            configMicro();\r\n    \r\n    \r\n        }\r\n    \r\n        public void configMicro(){\r\n    \r\n            if (grabacion==null){\r\n    \r\n                archivoSalida = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC) + &quot;/grabacion5.mp3&quot;;\r\n                grabacion = new MediaRecorder();\r\n                grabacion.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n                grabacion.setAudioSamplingRate(44100);\r\n                grabacion.setAudioEncodingBitRate(96000);\r\n                grabacion.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n                grabacion.setOutputFile(archivoSalida);\r\n                grabacion.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB );\r\n            }\r\n    \r\n            try{\r\n                grabacion.prepare();\r\n                grabacion.start();\r\n    \r\n    \r\n            }catch (IOException e){\r\n    \r\n                String mensajeError = e.getMessage();\r\n                //mensaje.setText(mensajeError);\r\n    \r\n            }\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.P)\r\n        public void dataMicro(View view){\r\n    \r\n            int data;\r\n            try {\r\n    \r\n                data = miMicrofono.getId();\r\n    \r\n                infoMicrofono.setText(&quot;Locaci&#243;n: &quot; + data);\r\n    \r\n            }catch (NullPointerException e){\r\n    \r\n                infoMicrofono.setText(&quot;error: &quot; + e);\r\n            }\r\n    \r\n            grabacion.stop();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAfter doing what I described before, I want to use the getFrequencyResponse() method, to get the frequency of the audio detected live by my phone&#39;s microphone, I want to detect the frequency directly without having to record and/or play an audio.\r\n\r\nPlease, could someone help me?\r\n\r\n","title":"&quot;MicrophoneInfo&quot; getid() method throws me null object error","body":"<p>I am trying to get information about my phone's microphone through the MicrophoneInfo library in android studio, but when I use a simple method that returns an integer like getId() or getLocation()... I get the following error....</p>\n<p><a href=\"https://i.stack.imgur.com/qVXzX.jpg\" rel=\"nofollow noreferrer\">error</a></p>\n<p>My code is the following...</p>\n<pre><code>package com.example.mi_microfono;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.media.AudioRecord;\nimport android.media.MediaRecorder;\nimport android.media.AudioDeviceInfo;\nimport android.media.MicrophoneInfo.Coordinate3F;\nimport android.media.MicrophoneInfo;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private MicrophoneInfo miMicrofono;\n    private TextView infoMicrofono;\n    private MediaRecorder grabacion;\n    private String archivoSalida = null;\n    private AudioDeviceInfo micMic;\n\n\n    @RequiresApi(api = Build.VERSION_CODES.Q)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.RECORD_AUDIO}, 1000);\n        }\n\n        infoMicrofono = (TextView) findViewById(R.id.infoMicro);\n\n\n        configMicro();\n\n\n    }\n\n    public void configMicro(){\n\n        if (grabacion==null){\n\n            archivoSalida = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC) + &quot;/grabacion5.mp3&quot;;\n            grabacion = new MediaRecorder();\n            grabacion.setAudioSource(MediaRecorder.AudioSource.MIC);\n            grabacion.setAudioSamplingRate(44100);\n            grabacion.setAudioEncodingBitRate(96000);\n            grabacion.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n            grabacion.setOutputFile(archivoSalida);\n            grabacion.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB );\n        }\n\n        try{\n            grabacion.prepare();\n            grabacion.start();\n\n\n        }catch (IOException e){\n\n            String mensajeError = e.getMessage();\n            //mensaje.setText(mensajeError);\n\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.P)\n    public void dataMicro(View view){\n\n        int data;\n        try {\n\n            data = miMicrofono.getId();\n\n            infoMicrofono.setText(&quot;Locación: &quot; + data);\n\n        }catch (NullPointerException e){\n\n            infoMicrofono.setText(&quot;error: &quot; + e);\n        }\n\n        grabacion.stop();\n\n    }\n\n}\n</code></pre>\n<p>After doing what I described before, I want to use the getFrequencyResponse() method, to get the frequency of the audio detected live by my phone's microphone, I want to detect the frequency directly without having to record and/or play an audio.</p>\n<p>Please, could someone help me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14587848,"reputation":305,"user_id":10536026,"display_name":"vrdrv"},"score":1,"creation_date":1654029965,"post_id":72453904,"comment_id":127994169,"body_markdown":"What do you mean by &quot;running from .jar&quot; and how does it differ from &quot;command line&quot;?","body":"What do you mean by &quot;running from .jar&quot; and how does it differ from &quot;command line&quot;?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1654031275,"post_id":72453904,"comment_id":127994537,"body_markdown":"Swing is not thread safe - using `java.util.Timer` will invalidate the non-thread safety of the API.  Also, on each iteration of the timer, you&#39;re adding ANOTHER `ActionListener` to the `stopButton` and creating ANOTHER `JTextArea` - this is going to cause you no end of issues ... and confusion","body":"Swing is not thread safe - using <code>java.util.Timer</code> will invalidate the non-thread safety of the API.  Also, on each iteration of the timer, you&#39;re adding ANOTHER <code>ActionListener</code> to the <code>stopButton</code> and creating ANOTHER <code>JTextArea</code> - this is going to cause you no end of issues ... and confusion"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654031949,"post_id":72453904,"comment_id":127994696,"body_markdown":"When I run a modified version of your code on MacOS, I&#39;m provided by a security prompt.  It&#39;s possible that the OS is preventing you from interacting with the mouse cursor due to security restrictions","body":"When I run a modified version of your code on MacOS, I&#39;m provided by a security prompt.  It&#39;s possible that the OS is preventing you from interacting with the mouse cursor due to security restrictions"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656034249,"creation_date":1656034249,"answer_id":72738148,"question_id":72453904,"body_markdown":"A **.jar** is a compiled application.\r\n\r\nBelow is an example runnable of how this can be done. Do keep in mind however, as already stated within comments, this may not work properly or (not work at all) on some platforms due to security reasons. Some platforms may not allow for access to low-level input control. You would need to set special privileges or extensions in the OS for your application to function properly.\r\n\r\n**Please read the comments in code:**\r\n\r\n```\r\npackage movemouseeveryseconddemo;\r\n\r\npublic class MoveMouseEverySecondDemo {\r\n\r\n    public int interval = 1000;\r\n    public int pixelMovementX = 1;\r\n    public int pixelMovementY = 1;\r\n    public javax.swing.Timer moveTimer;\r\n    public java.awt.Robot robot;\r\n    public final javax.swing.JFrame frame = new javax.swing.JFrame(&quot;Mouse-Mover&quot;);\r\n    public final javax.swing.JTextArea jTextArea = new javax.swing.JTextArea();\r\n    public int firstX = 0, firstY = 0;\r\n\r\n    public MoveMouseEverySecondDemo() {\r\n        try {\r\n            // Initialize robot\r\n            robot = new java.awt.Robot();\r\n        }\r\n        /* Robot may not work in some operating systems due to improper\r\n           permissions. If this is the case then OS configurations will \r\n           need to be done to allow Robot to function.           */\r\n        catch (SecurityException ex) {\r\n            System.out.println(&quot;Permission required for Robot or this application&quot;\r\n                    + &quot;to function within Operating System!&quot;);\r\n        }\r\n        /* Just as the Exception Description states. Operating System \r\n           Configuration will need to be done in order for this application \r\n           to perform low-level input control such as what Robot does.  */\r\n        catch (java.awt.AWTException ex) {\r\n            System.out.println(&quot;The Operating System configuration does not &quot;\r\n                    + &quot;allow low-level input control!&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        new MoveMouseEverySecondDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        /* See if there are Command-Line arguments...\r\n           Allows for the User to supply a desired Timer Interval and desired pixel \r\n           X/Y movement amounts. The interval must be in Milliseconds (default is \r\n           1000 [1 second]) and the pixel movement must be an integer value (default \r\n           is 1). Any or no Command-Line arguments can be supplied and they can be\r\n           supplied in any order.    */\r\n        if (args.length &gt; 0) {\r\n            for (String arg : args) {\r\n                String value = &quot;&quot;;\r\n                String cma = arg.contains(&quot;:&quot;) ? arg.split(&quot;:&quot;)[0].toLowerCase() : arg.toLowerCase();\r\n                switch (cma) {\r\n                    case &quot;-help&quot;:\r\n                    case &quot;/help&quot;:\r\n                    case &quot;/?&quot;:\r\n                    case &quot;-?&quot;:\r\n                        displayHelp();\r\n                        System.out.println();\r\n                        System.exit(0);\r\n                        break;\r\n                    case &quot;/i&quot;:\r\n                    case &quot;-i&quot;:\r\n                        value = arg.split(&quot;:&quot;)[1].trim();\r\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\r\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /I:[n] command-line parameter!&quot;);\r\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.interval + &quot; will be used!&quot;);\r\n                            break;\r\n                        }\r\n                        this.interval = Integer.parseInt(value);\r\n                        break;\r\n                    case &quot;/x&quot;:\r\n                    case &quot;-x&quot;:\r\n                        value = arg.split(&quot;:&quot;)[1].trim();\r\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\r\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /X:[n] command-line parameter!&quot;);\r\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.pixelMovementX + &quot; will be used!&quot;);\r\n                            break;\r\n                        }\r\n                        this.pixelMovementX = Integer.parseInt(value);\r\n                        break;\r\n                    case &quot;/y&quot;:\r\n                    case &quot;-y&quot;:\r\n                        value = arg.split(&quot;:&quot;)[1].trim();\r\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\r\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /Y:[n] command-line parameter!&quot;);\r\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.pixelMovementY + &quot; will be used!&quot;);\r\n                            break;\r\n                        }\r\n                        this.pixelMovementY = Integer.parseInt(value);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid command-line argument supplied! (&quot; + arg + &quot;)&quot;);\r\n                        System.out.println(&quot;This argument will be ignored!&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Initialize the timer.\r\n        moveTimer = new javax.swing.Timer(interval, new moveTimerActionListener());\r\n\r\n        // Set some JFrame properties\r\n        frame.setAlwaysOnTop(true);\r\n        frame.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(600, 300);\r\n\r\n        /* Set up a Window Listener for JFrame to detect when it&#39;s\r\n           closing so that the Timer can stopped if it&#39;s running \r\n           and, return an application Exit indicator for the Console.  */\r\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(java.awt.event.WindowEvent e) {\r\n                // If the timmer is running then stop it.\r\n                if (moveTimer.isRunning()) {\r\n                    moveTimer.stop();\r\n                    System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Timer Stopped&quot;, getCurrentDateTime());\r\n                    System.out.println(&quot;Timer Stopped!&quot;);\r\n                }\r\n                System.out.println(&quot;Application Closed!&quot;);\r\n\r\n                // Shut down application.\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        // Create the Start button and add to JFrame\r\n        javax.swing.JButton startButton = new javax.swing.JButton(&quot;Start&quot;);\r\n        frame.add(startButton, java.awt.BorderLayout.NORTH);\r\n\r\n        // Set some JTextArea properties and add JTextArea to JFrame\r\n        jTextArea.setEditable(false);\r\n        jTextArea.setText(&quot;NOT RUNNING:   Mouse X: 0 - Mouse Y: 0  |  Date-Time: &quot;\r\n                + getCurrentDateTime());\r\n        frame.add(jTextArea, java.awt.BorderLayout.CENTER);\r\n\r\n        // Create the Stop button and add to JFrame\r\n        javax.swing.JButton stopButton = new javax.swing.JButton(&quot;Stop&quot;);\r\n        frame.add(stopButton, java.awt.BorderLayout.SOUTH);\r\n\r\n        // Set the JFrame to center Screen and make it visible.\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n\r\n        /* The Start Button ActionPerformed event. When the `Start` \r\n           button is selected, the timer starts.         */\r\n        startButton.addActionListener(e -&gt; {\r\n\r\n            /* If User tries to Start the Timer while it&#39;s already \r\n               running then prevent it and indicate `No Can Do` in\r\n               the Console and JTextArea.                       */\r\n            if (moveTimer.isRunning()) {\r\n                String curDateTime = getCurrentDateTime();\r\n                jTextArea.setText(&quot;Failed Start! Timer is still running!  &quot; + curDateTime);\r\n                System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Failed Start&quot;, curDateTime);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n                System.out.println(&quot;--     Failed To Restart!    --&quot;);\r\n                System.out.println(&quot;--  Timer is still running!  --&quot;);\r\n                System.out.println(&quot;--     Press STOP Button!    --&quot;);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            }\r\n            // Otherwise, indicate the timer has started.\r\n            else {\r\n                moveTimer.start();\r\n                System.out.println(&quot;--------------------&quot;);\r\n                System.out.println(&quot;-- Timer Started! --&quot;);\r\n                System.out.println(&quot;--------------------&quot;);\r\n\r\n                // Header Line in console for output data.\r\n                System.out.println(&quot;--------------------------------------------&quot;\r\n                        + &quot;--------------------------------------------&quot;);\r\n                System.out.println(&quot;   Status             Date - Time           &quot;\r\n                        + &quot;  Form Dimensions       Mouse Coordinates&quot;);\r\n                System.out.println(&quot;--------------------------------------------&quot;\r\n                        + &quot;--------------------------------------------&quot;);\r\n            }\r\n        });\r\n\r\n        /* The Stop Button ActionPerformed Event. When stop \r\n           button is selected, the timer Stops.   */\r\n        stopButton.addActionListener(e -&gt; {\r\n            // If the `moveTimer` Timer is not running then get otta here.\r\n            if (!moveTimer.isRunning()) {\r\n                return;\r\n            }\r\n            moveTimer.stop();  // Stop the timer.\r\n\r\n            String curDateTime = getCurrentDateTime();\r\n            // Place the &#39;Stopped&#39; fact into the JTextArea.\r\n            jTextArea.setText(&quot;NOT RUNNING | STOPPED:   Mouse X: &quot; + firstX\r\n                    + &quot; - &quot; + &quot;Mouse Y: &quot; + firstY + &quot;  |  Date-Time: &quot; + curDateTime);\r\n\r\n            // Also place the &#39;Stopped&#39; fact into the Console Window.\r\n            System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Stopped&quot;, curDateTime);\r\n            System.out.println(&quot;--------------------&quot;);\r\n            System.out.println(&quot;-- Timer Stopped! --&quot;);\r\n            System.out.println(&quot;--------------------&quot;);\r\n        });\r\n    }\r\n\r\n    public String getCurrentDateTime() {\r\n        /* Establish the current Date-Time using methods from the java.time package.\r\n           These methods a better than the antique &amp; troublesome Date class.      */\r\n        return java.time.LocalDate.now() + &quot; - &quot; + java.time.LocalTime.now();\r\n    }\r\n\r\n    private void displayHelp() {\r\n        System.out.println();\r\n        System.out.println(&quot;MoveMouseEverySecondDemo Command-Line Help:&quot;);\r\n        System.out.println(&quot;Command-Line Options:&quot;);\r\n        System.out.println(&quot;---------------------&quot;);\r\n        System.out.println(&quot;  /? or -? or /help or -help    - This help information.&quot;);\r\n        System.out.println(&quot;  /I:[value] or -I:[value]      - The interval at which the internal timer&quot;);\r\n        System.out.println(&quot;                                  should fire. The value provided must be in&quot;);\r\n        System.out.println(&quot;                                  milliseconds. Default is: 1000.&quot;);\r\n        System.out.println(&quot;  /X:[value] or -X:[value]      - The desired amount of X axis (horizontal)&quot;);\r\n        System.out.println(&quot;                                  mouse pointer movement for every fired&quot;);\r\n        System.out.println(&quot;                                  interval. Default is 1.&quot;);\r\n        System.out.println(&quot;  /Y:[value] or -Y:[value]      - The desired amount of Y axis (vertical)&quot;);\r\n        System.out.println(&quot;                                  mouse pointer movement for every fired&quot;);\r\n        System.out.println(&quot;                                  interval. Default is 1.&quot;);\r\n    }\r\n\r\n    /* A Inner-Class: The Action Listener for the Timer. On every timer interval, \r\n       the ActioPerformed Event is fired within this inner-class.                  */\r\n    class moveTimerActionListener implements java.awt.event.ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(java.awt.event.ActionEvent e) {\r\n            // Establish current date-time for output.\r\n            String curDateTime = getCurrentDateTime();\r\n\r\n            // Get the current Mouse Pointer `X` location on the Screen.\r\n            int cursorPositionX = java.awt.MouseInfo.getPointerInfo().getLocation().x;\r\n            // Get the current Mouse Pointer `Y` location on the Screen.\r\n            int cursorPositionY = java.awt.MouseInfo.getPointerInfo().getLocation().y;\r\n\r\n            /* Apply the `X` location plus the desired movement amount \r\n           to the MoveMouseEverySecondDemo class `firstX` member \r\n           variable.                          */\r\n            firstX = cursorPositionX + pixelMovementX;\r\n\r\n            /* Apply the `Y` location plus the desired movement amount \r\n           to the MoveMouseEverySecondDemo class `firstY` member \r\n           variable.                          */\r\n            firstY = cursorPositionY + pixelMovementY;\r\n\r\n            // Let Robot move the mouse pointer to the new screen location.\r\n            robot.mouseMove(firstX, firstY);\r\n\r\n            // Update the information within the JTextArea.\r\n            jTextArea.setText(&quot;RUNNING:   &quot; + &quot;Mouse X: &quot; + firstX + &quot; - &quot;\r\n                    + &quot;Mouse Y: &quot; + firstY + &quot;   |   Date-Time: &quot; + curDateTime);\r\n\r\n            // Also update the information to Console Window:\r\n            System.out.printf(&quot;%-13s | %-25s | %-20s | %-22s%n&quot;, &quot;Timer Running&quot;, curDateTime,\r\n                    &quot;Form Size: &quot; + frame.getWidth() + &quot;, &quot; + frame.getHeight(),\r\n                    &quot;Mouse X: &quot; + firstX + &quot;, Y: &quot; + firstY);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis runnable application will run if started from the IDE or if compiled to a JAR file and started from a Command/Console Window. The provided demo application above does of course allow for Command-Line arguments so to change some operational features. They are as follows:\r\n\r\n - **/?** or **-?** or **/help** or **-help**:   \r\n\r\n   Displays help about the Command-Line arguments. Application closes after displaying.\r\n\r\n - **/I:***[value]* or **-I:***[value]*: \r\n\r\n      The **I**nterval at which the internal timer should fire. The value provided must be in milliseconds. Default is: **1000** (1 second).\r\n\r\n- **/X:***[value]* or **-X:***[value]*: \r\n\r\n     The desired amount of X axis (horizontal) mouse pointer movement for every fired interval. Default is **1** (DPI or Pixel if you have a real good mouse with a high resolution setting).\r\n\r\n- **/Y:***[value]* or **-Y:***[value]*: \r\n\r\n     The desired amount of Y axis (vertical) mouse pointer movement for every fired interval. Default is **1** (DPI or Pixel if you have a real good mouse with a high resolution setting).\r\n\r\nAny number of command-line arguments can be supplied and they can be supplied in any order. Letter case is also ignored. Any Invalid argument is ignored and its related default will be used.\r\n\r\nThis demo application will provide information in both the GUI or the Console Window. You choose what you want to keep.","title":".jar program not operating the same as compiled program","body":"<p>A <strong>.jar</strong> is a compiled application.</p>\n<p>Below is an example runnable of how this can be done. Do keep in mind however, as already stated within comments, this may not work properly or (not work at all) on some platforms due to security reasons. Some platforms may not allow for access to low-level input control. You would need to set special privileges or extensions in the OS for your application to function properly.</p>\n<p><strong>Please read the comments in code:</strong></p>\n<pre><code>package movemouseeveryseconddemo;\n\npublic class MoveMouseEverySecondDemo {\n\n    public int interval = 1000;\n    public int pixelMovementX = 1;\n    public int pixelMovementY = 1;\n    public javax.swing.Timer moveTimer;\n    public java.awt.Robot robot;\n    public final javax.swing.JFrame frame = new javax.swing.JFrame(&quot;Mouse-Mover&quot;);\n    public final javax.swing.JTextArea jTextArea = new javax.swing.JTextArea();\n    public int firstX = 0, firstY = 0;\n\n    public MoveMouseEverySecondDemo() {\n        try {\n            // Initialize robot\n            robot = new java.awt.Robot();\n        }\n        /* Robot may not work in some operating systems due to improper\n           permissions. If this is the case then OS configurations will \n           need to be done to allow Robot to function.           */\n        catch (SecurityException ex) {\n            System.out.println(&quot;Permission required for Robot or this application&quot;\n                    + &quot;to function within Operating System!&quot;);\n        }\n        /* Just as the Exception Description states. Operating System \n           Configuration will need to be done in order for this application \n           to perform low-level input control such as what Robot does.  */\n        catch (java.awt.AWTException ex) {\n            System.out.println(&quot;The Operating System configuration does not &quot;\n                    + &quot;allow low-level input control!&quot;);\n        }\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        new MoveMouseEverySecondDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        /* See if there are Command-Line arguments...\n           Allows for the User to supply a desired Timer Interval and desired pixel \n           X/Y movement amounts. The interval must be in Milliseconds (default is \n           1000 [1 second]) and the pixel movement must be an integer value (default \n           is 1). Any or no Command-Line arguments can be supplied and they can be\n           supplied in any order.    */\n        if (args.length &gt; 0) {\n            for (String arg : args) {\n                String value = &quot;&quot;;\n                String cma = arg.contains(&quot;:&quot;) ? arg.split(&quot;:&quot;)[0].toLowerCase() : arg.toLowerCase();\n                switch (cma) {\n                    case &quot;-help&quot;:\n                    case &quot;/help&quot;:\n                    case &quot;/?&quot;:\n                    case &quot;-?&quot;:\n                        displayHelp();\n                        System.out.println();\n                        System.exit(0);\n                        break;\n                    case &quot;/i&quot;:\n                    case &quot;-i&quot;:\n                        value = arg.split(&quot;:&quot;)[1].trim();\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /I:[n] command-line parameter!&quot;);\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.interval + &quot; will be used!&quot;);\n                            break;\n                        }\n                        this.interval = Integer.parseInt(value);\n                        break;\n                    case &quot;/x&quot;:\n                    case &quot;-x&quot;:\n                        value = arg.split(&quot;:&quot;)[1].trim();\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /X:[n] command-line parameter!&quot;);\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.pixelMovementX + &quot; will be used!&quot;);\n                            break;\n                        }\n                        this.pixelMovementX = Integer.parseInt(value);\n                        break;\n                    case &quot;/y&quot;:\n                    case &quot;-y&quot;:\n                        value = arg.split(&quot;:&quot;)[1].trim();\n                        if (!value.matches(&quot;\\\\d+&quot;)) {\n                            System.out.println(&quot;Invalid value (&quot; + value + &quot;) supplied to the /Y:[n] command-line parameter!&quot;);\n                            System.out.println(&quot;Ignoring this argument and default of &quot; + this.pixelMovementY + &quot; will be used!&quot;);\n                            break;\n                        }\n                        this.pixelMovementY = Integer.parseInt(value);\n                        break;\n                    default:\n                        System.out.println(&quot;Invalid command-line argument supplied! (&quot; + arg + &quot;)&quot;);\n                        System.out.println(&quot;This argument will be ignored!&quot;);\n                }\n            }\n        }\n\n        // Initialize the timer.\n        moveTimer = new javax.swing.Timer(interval, new moveTimerActionListener());\n\n        // Set some JFrame properties\n        frame.setAlwaysOnTop(true);\n        frame.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);\n        frame.setSize(600, 300);\n\n        /* Set up a Window Listener for JFrame to detect when it's\n           closing so that the Timer can stopped if it's running \n           and, return an application Exit indicator for the Console.  */\n        frame.addWindowListener(new java.awt.event.WindowAdapter() {\n            @Override\n            public void windowClosing(java.awt.event.WindowEvent e) {\n                // If the timmer is running then stop it.\n                if (moveTimer.isRunning()) {\n                    moveTimer.stop();\n                    System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Timer Stopped&quot;, getCurrentDateTime());\n                    System.out.println(&quot;Timer Stopped!&quot;);\n                }\n                System.out.println(&quot;Application Closed!&quot;);\n\n                // Shut down application.\n                System.exit(0);\n            }\n        });\n\n        // Create the Start button and add to JFrame\n        javax.swing.JButton startButton = new javax.swing.JButton(&quot;Start&quot;);\n        frame.add(startButton, java.awt.BorderLayout.NORTH);\n\n        // Set some JTextArea properties and add JTextArea to JFrame\n        jTextArea.setEditable(false);\n        jTextArea.setText(&quot;NOT RUNNING:   Mouse X: 0 - Mouse Y: 0  |  Date-Time: &quot;\n                + getCurrentDateTime());\n        frame.add(jTextArea, java.awt.BorderLayout.CENTER);\n\n        // Create the Stop button and add to JFrame\n        javax.swing.JButton stopButton = new javax.swing.JButton(&quot;Stop&quot;);\n        frame.add(stopButton, java.awt.BorderLayout.SOUTH);\n\n        // Set the JFrame to center Screen and make it visible.\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        /* The Start Button ActionPerformed event. When the `Start` \n           button is selected, the timer starts.         */\n        startButton.addActionListener(e -&gt; {\n\n            /* If User tries to Start the Timer while it's already \n               running then prevent it and indicate `No Can Do` in\n               the Console and JTextArea.                       */\n            if (moveTimer.isRunning()) {\n                String curDateTime = getCurrentDateTime();\n                jTextArea.setText(&quot;Failed Start! Timer is still running!  &quot; + curDateTime);\n                System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Failed Start&quot;, curDateTime);\n                System.out.println(&quot;-------------------------------&quot;);\n                System.out.println(&quot;--     Failed To Restart!    --&quot;);\n                System.out.println(&quot;--  Timer is still running!  --&quot;);\n                System.out.println(&quot;--     Press STOP Button!    --&quot;);\n                System.out.println(&quot;-------------------------------&quot;);\n            }\n            // Otherwise, indicate the timer has started.\n            else {\n                moveTimer.start();\n                System.out.println(&quot;--------------------&quot;);\n                System.out.println(&quot;-- Timer Started! --&quot;);\n                System.out.println(&quot;--------------------&quot;);\n\n                // Header Line in console for output data.\n                System.out.println(&quot;--------------------------------------------&quot;\n                        + &quot;--------------------------------------------&quot;);\n                System.out.println(&quot;   Status             Date - Time           &quot;\n                        + &quot;  Form Dimensions       Mouse Coordinates&quot;);\n                System.out.println(&quot;--------------------------------------------&quot;\n                        + &quot;--------------------------------------------&quot;);\n            }\n        });\n\n        /* The Stop Button ActionPerformed Event. When stop \n           button is selected, the timer Stops.   */\n        stopButton.addActionListener(e -&gt; {\n            // If the `moveTimer` Timer is not running then get otta here.\n            if (!moveTimer.isRunning()) {\n                return;\n            }\n            moveTimer.stop();  // Stop the timer.\n\n            String curDateTime = getCurrentDateTime();\n            // Place the 'Stopped' fact into the JTextArea.\n            jTextArea.setText(&quot;NOT RUNNING | STOPPED:   Mouse X: &quot; + firstX\n                    + &quot; - &quot; + &quot;Mouse Y: &quot; + firstY + &quot;  |  Date-Time: &quot; + curDateTime);\n\n            // Also place the 'Stopped' fact into the Console Window.\n            System.out.printf(&quot;%-13s | %-25s%n&quot;, &quot;Stopped&quot;, curDateTime);\n            System.out.println(&quot;--------------------&quot;);\n            System.out.println(&quot;-- Timer Stopped! --&quot;);\n            System.out.println(&quot;--------------------&quot;);\n        });\n    }\n\n    public String getCurrentDateTime() {\n        /* Establish the current Date-Time using methods from the java.time package.\n           These methods a better than the antique &amp; troublesome Date class.      */\n        return java.time.LocalDate.now() + &quot; - &quot; + java.time.LocalTime.now();\n    }\n\n    private void displayHelp() {\n        System.out.println();\n        System.out.println(&quot;MoveMouseEverySecondDemo Command-Line Help:&quot;);\n        System.out.println(&quot;Command-Line Options:&quot;);\n        System.out.println(&quot;---------------------&quot;);\n        System.out.println(&quot;  /? or -? or /help or -help    - This help information.&quot;);\n        System.out.println(&quot;  /I:[value] or -I:[value]      - The interval at which the internal timer&quot;);\n        System.out.println(&quot;                                  should fire. The value provided must be in&quot;);\n        System.out.println(&quot;                                  milliseconds. Default is: 1000.&quot;);\n        System.out.println(&quot;  /X:[value] or -X:[value]      - The desired amount of X axis (horizontal)&quot;);\n        System.out.println(&quot;                                  mouse pointer movement for every fired&quot;);\n        System.out.println(&quot;                                  interval. Default is 1.&quot;);\n        System.out.println(&quot;  /Y:[value] or -Y:[value]      - The desired amount of Y axis (vertical)&quot;);\n        System.out.println(&quot;                                  mouse pointer movement for every fired&quot;);\n        System.out.println(&quot;                                  interval. Default is 1.&quot;);\n    }\n\n    /* A Inner-Class: The Action Listener for the Timer. On every timer interval, \n       the ActioPerformed Event is fired within this inner-class.                  */\n    class moveTimerActionListener implements java.awt.event.ActionListener {\n\n        @Override\n        public void actionPerformed(java.awt.event.ActionEvent e) {\n            // Establish current date-time for output.\n            String curDateTime = getCurrentDateTime();\n\n            // Get the current Mouse Pointer `X` location on the Screen.\n            int cursorPositionX = java.awt.MouseInfo.getPointerInfo().getLocation().x;\n            // Get the current Mouse Pointer `Y` location on the Screen.\n            int cursorPositionY = java.awt.MouseInfo.getPointerInfo().getLocation().y;\n\n            /* Apply the `X` location plus the desired movement amount \n           to the MoveMouseEverySecondDemo class `firstX` member \n           variable.                          */\n            firstX = cursorPositionX + pixelMovementX;\n\n            /* Apply the `Y` location plus the desired movement amount \n           to the MoveMouseEverySecondDemo class `firstY` member \n           variable.                          */\n            firstY = cursorPositionY + pixelMovementY;\n\n            // Let Robot move the mouse pointer to the new screen location.\n            robot.mouseMove(firstX, firstY);\n\n            // Update the information within the JTextArea.\n            jTextArea.setText(&quot;RUNNING:   &quot; + &quot;Mouse X: &quot; + firstX + &quot; - &quot;\n                    + &quot;Mouse Y: &quot; + firstY + &quot;   |   Date-Time: &quot; + curDateTime);\n\n            // Also update the information to Console Window:\n            System.out.printf(&quot;%-13s | %-25s | %-20s | %-22s%n&quot;, &quot;Timer Running&quot;, curDateTime,\n                    &quot;Form Size: &quot; + frame.getWidth() + &quot;, &quot; + frame.getHeight(),\n                    &quot;Mouse X: &quot; + firstX + &quot;, Y: &quot; + firstY);\n        }\n    }\n\n}\n</code></pre>\n<p>This runnable application will run if started from the IDE or if compiled to a JAR file and started from a Command/Console Window. The provided demo application above does of course allow for Command-Line arguments so to change some operational features. They are as follows:</p>\n<ul>\n<li><p><strong>/?</strong> or <strong>-?</strong> or <strong>/help</strong> or <strong>-help</strong>:</p>\n<p>Displays help about the Command-Line arguments. Application closes after displaying.</p>\n</li>\n<li><p><strong>/I:</strong><em>[value]</em> or <strong>-I:</strong><em>[value]</em>:</p>\n<p>The <strong>I</strong>nterval at which the internal timer should fire. The value provided must be in milliseconds. Default is: <strong>1000</strong> (1 second).</p>\n</li>\n<li><p><strong>/X:</strong><em>[value]</em> or <strong>-X:</strong><em>[value]</em>:</p>\n<p>The desired amount of X axis (horizontal) mouse pointer movement for every fired interval. Default is <strong>1</strong> (DPI or Pixel if you have a real good mouse with a high resolution setting).</p>\n</li>\n<li><p><strong>/Y:</strong><em>[value]</em> or <strong>-Y:</strong><em>[value]</em>:</p>\n<p>The desired amount of Y axis (vertical) mouse pointer movement for every fired interval. Default is <strong>1</strong> (DPI or Pixel if you have a real good mouse with a high resolution setting).</p>\n</li>\n</ul>\n<p>Any number of command-line arguments can be supplied and they can be supplied in any order. Letter case is also ignored. Any Invalid argument is ignored and its related default will be used.</p>\n<p>This demo application will provide information in both the GUI or the Console Window. You choose what you want to keep.</p>\n"}],"owner":{"account_id":24826329,"reputation":21,"user_id":18706062,"display_name":"Huttok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656034249,"creation_date":1654029660,"question_id":72453904,"body_markdown":"I made a simple java program to move the mouse cursor 1 pixel every 10 seconds. The program works as its supposed to when compiled and ran from command line. But when running the program from the .jar the cursor doesnt move. I know the timer is still running because I have that output to the JFrame. Any ideas on why the timer still runs but the cursor doesnt move like it does when ran from command line?\r\n\r\n\r\n    public  static void main(String args[]) {\r\n        JFrame frame = new JFrame(&quot;Mouse-Mover&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(600, 300);\r\n        JButton startButton = new JButton(&quot;Start&quot;);\r\n        frame.add(startButton, BorderLayout.NORTH);\r\n        JButton stopButton = new JButton(&quot;Stop&quot;);\r\n        frame.add(stopButton, BorderLayout.SOUTH);\r\n        frame.setVisible(true);\r\n        //when start button is clicked, start the timer\r\n        startButton.addActionListener(e -&gt; {\r\n            Timer timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    int cursorPositionX = MouseInfo.getPointerInfo().getLocation().x;\r\n                    int cursorPositionY = MouseInfo.getPointerInfo().getLocation().y;\r\n                    int firstX = cursorPositionX + 1;\r\n                    int firstY = cursorPositionY + 1;\r\n\r\n                    try {\r\n                        Robot robot = new Robot();\r\n                        robot.mouseMove(firstX, firstY);\r\n\r\n                    } catch (AWTException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;Running: &quot; + new java.util.Date());\r\n                    JTextArea jTextArea = new JTextArea();\r\n                    jTextArea.setEditable(false);\r\n                    jTextArea.setText(&quot;Running: &quot; + &quot;X Coordinate: &quot;+firstX + &quot; &quot; + &quot;Y Coordinate: &quot; + firstY + &quot; &quot; + new java.util.Date());\r\n                    frame.add(jTextArea, BorderLayout.CENTER);\r\n                    frame.add(jTextArea);\r\n                    frame.setVisible(true);\r\n                    stopButton.addActionListener(e -&gt; timer.cancel());\r\n                    //system.out.print size of jframe\r\n                    System.out.println(frame.getSize());\r\n                }\r\n            }, 0, 1000);\r\n        });}}\r\n`","title":".jar program not operating the same as compiled program","body":"<p>I made a simple java program to move the mouse cursor 1 pixel every 10 seconds. The program works as its supposed to when compiled and ran from command line. But when running the program from the .jar the cursor doesnt move. I know the timer is still running because I have that output to the JFrame. Any ideas on why the timer still runs but the cursor doesnt move like it does when ran from command line?</p>\n<pre><code>public  static void main(String args[]) {\n    JFrame frame = new JFrame(&quot;Mouse-Mover&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(600, 300);\n    JButton startButton = new JButton(&quot;Start&quot;);\n    frame.add(startButton, BorderLayout.NORTH);\n    JButton stopButton = new JButton(&quot;Stop&quot;);\n    frame.add(stopButton, BorderLayout.SOUTH);\n    frame.setVisible(true);\n    //when start button is clicked, start the timer\n    startButton.addActionListener(e -&gt; {\n        Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                int cursorPositionX = MouseInfo.getPointerInfo().getLocation().x;\n                int cursorPositionY = MouseInfo.getPointerInfo().getLocation().y;\n                int firstX = cursorPositionX + 1;\n                int firstY = cursorPositionY + 1;\n\n                try {\n                    Robot robot = new Robot();\n                    robot.mouseMove(firstX, firstY);\n\n                } catch (AWTException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;Running: &quot; + new java.util.Date());\n                JTextArea jTextArea = new JTextArea();\n                jTextArea.setEditable(false);\n                jTextArea.setText(&quot;Running: &quot; + &quot;X Coordinate: &quot;+firstX + &quot; &quot; + &quot;Y Coordinate: &quot; + firstY + &quot; &quot; + new java.util.Date());\n                frame.add(jTextArea, BorderLayout.CENTER);\n                frame.add(jTextArea);\n                frame.setVisible(true);\n                stopButton.addActionListener(e -&gt; timer.cancel());\n                //system.out.print size of jframe\n                System.out.println(frame.getSize());\n            }\n        }, 0, 1000);\n    });}}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","for-loop","testing"],"owner":{"account_id":24662697,"reputation":11,"user_id":18558746,"display_name":"SkyCowie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656033917,"creation_date":1656033917,"question_id":72738123,"body_markdown":"The task is to: \r\n\r\n&gt; Part one:\r\nWrite a program which prints the integers from 1 to a number given by the user.\r\n[Sample output part 1][1]\r\n\r\n&gt; Part two:\r\nAsk the user for the starting point as well.\r\n[Sample output part 2][2]\r\n\r\n\r\nMy code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    import javax.swing.plaf.synth.SynthOptionPaneUI;\r\n    \r\n    public class FromWhereToWhere {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            // part one\r\n    \r\n            System.out.println(&quot;Where to?&quot;);\r\n            int end = Integer.valueOf(scanner.nextLine());\r\n            for (int i = 1; i &lt; end + 1; i++) {\r\n                System.out.println(i);\r\n            }\r\n    \r\n            // part two\r\n            System.out.println(&quot;Where to?&quot;);\r\n            end = Integer.valueOf(scanner.nextLine());\r\n            System.out.println(&quot;Where from?&quot;);\r\n            int start = Integer.valueOf(scanner.nextLine());\r\n    \r\n            for (int i = start; i &lt; end + 1; i++) {\r\n                System.out.println(i);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIt works as intended [my terminal][3]\r\n\r\n\r\nBut I get an error in TMC saying \r\n\r\n&gt; FAIL:\r\nWhereFromTest test\r\nNoSuchElementException: No line found\r\n\r\nThe code for testing: \r\n\r\n    import fi.helsinki.cs.tmc.edutestutils.MockStdio;\r\n    import fi.helsinki.cs.tmc.edutestutils.Points;\r\n    import fi.helsinki.cs.tmc.edutestutils.ReflectionUtils;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import org.junit.*;\r\n    import static org.junit.Assert.*;\r\n    \r\n    @Points(&quot;02-16.2&quot;)\r\n    public class WhereFromTest {\r\n    \r\n        @Rule\r\n        public MockStdio io = new MockStdio();\r\n    \r\n        @Test\r\n        public void test() {\r\n            int[][] pairs = {{1, 1}, {12, 8}, {50, 100}, {-2,2}};\r\n            for (int[] pair : pairs) {\r\n                test(pair);\r\n            }\r\n        }\r\n    \r\n        private void test(int[] pair) {\r\n            io.setSysIn(pair[0] + &quot;\\n&quot; + pair[1] + &quot;\\n&quot;);\r\n            int len = io.getSysOut().length();\r\n    \r\n            ReflectionUtils.newInstanceOfClass(FromWhereToWhere.class);\r\n            FromWhereToWhere.main(new String[0]);\r\n            String output = io.getSysOut().substring(len);\r\n    \r\n            output = output.replaceAll(&quot;[^-\\\\d]+&quot;, &quot; &quot;).trim();\r\n            String[] lines = output.split(&quot;\\\\s+&quot;);\r\n            int linesInOutput = (lines.length == 1 &amp;&amp; lines[0].isEmpty()) ? 0 : lines.length;\r\n    \r\n            int linesCount;\r\n            if(pair[0] &lt; pair[1]) {\r\n                linesCount = 0;\r\n            } else {\r\n                linesCount = pair[0]  - pair[1] + 1;\r\n            }\r\n    \r\n            if (linesCount != linesInOutput) {\r\n                String numbersCount = (linesCount == 1) ? &quot;number&quot;: &quot;numbers&quot;;\r\n                fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; output should contain &quot; + linesCount + &quot; &quot; + numbersCount + &quot;, now it contained &quot; + linesInOutput);\r\n            }\r\n            \r\n            if(linesCount == 0) {\r\n                return;\r\n            }\r\n    \r\n            int firstNumber = Integer.valueOf(lines[0]);\r\n            if(firstNumber != pair[1]) {\r\n                fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; the first printed number should be &quot; + pair[1] + &quot;, now it was &quot; + firstNumber);\r\n            }\r\n            \r\n            int lastNumber = getLastNumber(output);\r\n            if(lastNumber != pair[0]) {\r\n                fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; the last printed number should be &quot; + pair[0] + &quot;, now it was &quot; + lastNumber);\r\n            }\r\n        }\r\n        \r\n        private static int getLastNumber(String inputStr) {\r\n            String patternStr = &quot;(?s).*?(-?\\\\d+)\\\\s*$&quot;;\r\n            Matcher matcher = Pattern.compile(patternStr).matcher(inputStr);\r\n            assertTrue(&quot;The output should be a number.&quot;, matcher.find());\r\n    \r\n            int number = Integer.valueOf(matcher.group(1));\r\n            return number;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IVhMP.png\r\n  [2]: https://i.stack.imgur.com/V2WBK.png\r\n  [3]: https://i.stack.imgur.com/Z4Vz7.png","title":"Java for loop TMC testing failed even if it works as intended (Mooc.fi)","body":"<p>The task is to:</p>\n<blockquote>\n<p>Part one:\nWrite a program which prints the integers from 1 to a number given by the user.\n<a href=\"https://i.stack.imgur.com/IVhMP.png\" rel=\"nofollow noreferrer\">Sample output part 1</a></p>\n</blockquote>\n<blockquote>\n<p>Part two:\nAsk the user for the starting point as well.\n<a href=\"https://i.stack.imgur.com/V2WBK.png\" rel=\"nofollow noreferrer\">Sample output part 2</a></p>\n</blockquote>\n<p>My code:</p>\n<pre><code>import java.util.Scanner;\n\nimport javax.swing.plaf.synth.SynthOptionPaneUI;\n\npublic class FromWhereToWhere {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        // part one\n\n        System.out.println(&quot;Where to?&quot;);\n        int end = Integer.valueOf(scanner.nextLine());\n        for (int i = 1; i &lt; end + 1; i++) {\n            System.out.println(i);\n        }\n\n        // part two\n        System.out.println(&quot;Where to?&quot;);\n        end = Integer.valueOf(scanner.nextLine());\n        System.out.println(&quot;Where from?&quot;);\n        int start = Integer.valueOf(scanner.nextLine());\n\n        for (int i = start; i &lt; end + 1; i++) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n<p>It works as intended <a href=\"https://i.stack.imgur.com/Z4Vz7.png\" rel=\"nofollow noreferrer\">my terminal</a></p>\n<p>But I get an error in TMC saying</p>\n<blockquote>\n<p>FAIL:\nWhereFromTest test\nNoSuchElementException: No line found</p>\n</blockquote>\n<p>The code for testing:</p>\n<pre><code>import fi.helsinki.cs.tmc.edutestutils.MockStdio;\nimport fi.helsinki.cs.tmc.edutestutils.Points;\nimport fi.helsinki.cs.tmc.edutestutils.ReflectionUtils;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport org.junit.*;\nimport static org.junit.Assert.*;\n\n@Points(&quot;02-16.2&quot;)\npublic class WhereFromTest {\n\n    @Rule\n    public MockStdio io = new MockStdio();\n\n    @Test\n    public void test() {\n        int[][] pairs = {{1, 1}, {12, 8}, {50, 100}, {-2,2}};\n        for (int[] pair : pairs) {\n            test(pair);\n        }\n    }\n\n    private void test(int[] pair) {\n        io.setSysIn(pair[0] + &quot;\\n&quot; + pair[1] + &quot;\\n&quot;);\n        int len = io.getSysOut().length();\n\n        ReflectionUtils.newInstanceOfClass(FromWhereToWhere.class);\n        FromWhereToWhere.main(new String[0]);\n        String output = io.getSysOut().substring(len);\n\n        output = output.replaceAll(&quot;[^-\\\\d]+&quot;, &quot; &quot;).trim();\n        String[] lines = output.split(&quot;\\\\s+&quot;);\n        int linesInOutput = (lines.length == 1 &amp;&amp; lines[0].isEmpty()) ? 0 : lines.length;\n\n        int linesCount;\n        if(pair[0] &lt; pair[1]) {\n            linesCount = 0;\n        } else {\n            linesCount = pair[0]  - pair[1] + 1;\n        }\n\n        if (linesCount != linesInOutput) {\n            String numbersCount = (linesCount == 1) ? &quot;number&quot;: &quot;numbers&quot;;\n            fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; output should contain &quot; + linesCount + &quot; &quot; + numbersCount + &quot;, now it contained &quot; + linesInOutput);\n        }\n        \n        if(linesCount == 0) {\n            return;\n        }\n\n        int firstNumber = Integer.valueOf(lines[0]);\n        if(firstNumber != pair[1]) {\n            fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; the first printed number should be &quot; + pair[1] + &quot;, now it was &quot; + firstNumber);\n        }\n        \n        int lastNumber = getLastNumber(output);\n        if(lastNumber != pair[0]) {\n            fail(&quot;With the input &quot; + pair[0] + &quot;, &quot; + pair[1] + &quot; the last printed number should be &quot; + pair[0] + &quot;, now it was &quot; + lastNumber);\n        }\n    }\n    \n    private static int getLastNumber(String inputStr) {\n        String patternStr = &quot;(?s).*?(-?\\\\d+)\\\\s*$&quot;;\n        Matcher matcher = Pattern.compile(patternStr).matcher(inputStr);\n        assertTrue(&quot;The output should be a number.&quot;, matcher.find());\n\n        int number = Integer.valueOf(matcher.group(1));\n        return number;\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","aggregate","transient"],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655982188,"creation_date":1655981528,"answer_id":72728974,"question_id":72728840,"body_markdown":"The `@Transient` behaves similar to the `transient` keyword.\r\n\r\n`transient` is used to denote that a field is not to be serialized (and therefore not saved in the database too).\r\n\r\n`@Transient` is used to denote that a field should not persisted in database (but it is still serializable as java object).\r\n\r\nTake look this baeldung tutorial for it: https://www.baeldung.com/jpa-transient-ignore-field\r\n\r\nThere is no way to draw the data back without saving it to the Database because it isn&#39;t persisted at all since it is what `@Transient` is used for. \r\n\r\nTo get the data back you have to persist it somewhere else, but the best place is in the database. If you don&#39;t want to persist it along with the other data, consider saving it in a sperate database. So, you could split user data and authentication/RBAC data.","title":"springboot with MongoDb ,Transient field return null","body":"<p>The <code>@Transient</code> behaves similar to the <code>transient</code> keyword.</p>\n<p><code>transient</code> is used to denote that a field is not to be serialized (and therefore not saved in the database too).</p>\n<p><code>@Transient</code> is used to denote that a field should not persisted in database (but it is still serializable as java object).</p>\n<p>Take look this baeldung tutorial for it: <a href=\"https://www.baeldung.com/jpa-transient-ignore-field\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-transient-ignore-field</a></p>\n<p>There is no way to draw the data back without saving it to the Database because it isn't persisted at all since it is what <code>@Transient</code> is used for.</p>\n<p>To get the data back you have to persist it somewhere else, but the best place is in the database. If you don't want to persist it along with the other data, consider saving it in a sperate database. So, you could split user data and authentication/RBAC data.</p>\n"}],"owner":{"account_id":22507134,"reputation":13,"user_id":16702555,"display_name":"ITKnight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72728974,"answer_count":1,"score":0,"last_activity_date":1656033603,"creation_date":1655980972,"question_id":72728840,"body_markdown":"When i trying to do my RBAC job , I&#39;ve made a class `RolePermission` like belows:\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RolePermission extends BaseEntity{\r\n    private Long roleId;\r\n    private Long permissionId;\r\n    @Transient\r\n    private List&lt;Permission&gt; permissions;\r\n    public RolePermission(Long roleId,Long permissionId){\r\n        this.roleId = roleId;\r\n        this.permissionId = permissionId;\r\n    }\r\n}\r\n```\r\nclass `Permission` like belows\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Permission extends BaseEntity{\r\n\r\n    public Permission(Long id, Long parentId, String name){\r\n        this.setId(id);\r\n        this.parentId = parentId;\r\n        this.name = name;\r\n    }\r\n    private String name;\r\n    private Long parentId;\r\n    private String url;\r\n    private String permission;\r\n    private Integer type;\r\n    private String icon;\r\n    private Integer status;\r\n    private Integer ord;\r\n}\r\n```\r\n Here comes my test :\r\n```java\r\nLookupOperation lookup = Aggregation.lookup(&quot;permission&quot;, &quot;roleId&quot;, &quot;_id&quot;, &quot;permissions&quot;);\r\n        Aggregation aggregation = Aggregation.newAggregation(lookup);\r\n        AggregationResults&lt;RolePermission&gt; role_permission = mongoTemplate.aggregate(aggregation, &quot;role_permission&quot;, RolePermission.class);\r\n        //AggregationResults&lt;Map&gt; role_permission = mongoTemplate.aggregate(aggregation, &quot;role_permission&quot;, Map.class);\r\n        System.out.println(role_permission.getMappedResults());\r\n        //userService.getAllPermissions(u);\r\n\r\n```\r\nWhen I add `@Transient` , `permissions` comes to `null`\r\n[![enter image description here][1]][1] \r\n\r\n\r\nand When I remove `@Transient`,`permissions` comes back.\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t wanna save `permissions` to MongoDB, so I add `@Transient`, is there any way i can draw the data back without saving it to the Database. Because I get the permissions data from a relationship collection`RolePermission`,not itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rzHsl.png\r\n  [2]: https://i.stack.imgur.com/hvSqk.png","title":"springboot with MongoDb ,Transient field return null","body":"<p>When i trying to do my RBAC job , I've made a class <code>RolePermission</code> like belows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RolePermission extends BaseEntity{\n    private Long roleId;\n    private Long permissionId;\n    @Transient\n    private List&lt;Permission&gt; permissions;\n    public RolePermission(Long roleId,Long permissionId){\n        this.roleId = roleId;\n        this.permissionId = permissionId;\n    }\n}\n</code></pre>\n<p>class <code>Permission</code> like belows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Permission extends BaseEntity{\n\n    public Permission(Long id, Long parentId, String name){\n        this.setId(id);\n        this.parentId = parentId;\n        this.name = name;\n    }\n    private String name;\n    private Long parentId;\n    private String url;\n    private String permission;\n    private Integer type;\n    private String icon;\n    private Integer status;\n    private Integer ord;\n}\n</code></pre>\n<p>Here comes my test :</p>\n<pre class=\"lang-java prettyprint-override\"><code>LookupOperation lookup = Aggregation.lookup(&quot;permission&quot;, &quot;roleId&quot;, &quot;_id&quot;, &quot;permissions&quot;);\n        Aggregation aggregation = Aggregation.newAggregation(lookup);\n        AggregationResults&lt;RolePermission&gt; role_permission = mongoTemplate.aggregate(aggregation, &quot;role_permission&quot;, RolePermission.class);\n        //AggregationResults&lt;Map&gt; role_permission = mongoTemplate.aggregate(aggregation, &quot;role_permission&quot;, Map.class);\n        System.out.println(role_permission.getMappedResults());\n        //userService.getAllPermissions(u);\n\n</code></pre>\n<p>When I add <code>@Transient</code> , <code>permissions</code> comes to <code>null</code>\n<a href=\"https://i.stack.imgur.com/rzHsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzHsl.png\" alt=\"enter image description here\" /></a></p>\n<p>and When I remove <code>@Transient</code>,<code>permissions</code> comes back.\n<a href=\"https://i.stack.imgur.com/hvSqk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvSqk.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't wanna save <code>permissions</code> to MongoDB, so I add <code>@Transient</code>, is there any way i can draw the data back without saving it to the Database. Because I get the permissions data from a relationship collection<code>RolePermission</code>,not itself.</p>\n"},{"tags":["java","jquery","sql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1656020131,"post_id":72736769,"comment_id":128476802,"body_markdown":"Why is there a `@Modifying` annotation?","body":"Why is there a <code>@Modifying</code> annotation?"},{"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"score":0,"creation_date":1656020896,"post_id":72736769,"comment_id":128476980,"body_markdown":"Without it I&#39;m keep getting error :  &quot;could not extract ResultSet;&quot; at other queries too.That&#39;s why I thought I should use it.","body":"Without it I&#39;m keep getting error :  &quot;could not extract ResultSet;&quot; at other queries too.That&#39;s why I thought I should use it."}],"answers":[{"tags":[],"owner":{"account_id":25565743,"reputation":2109,"user_id":19347206,"display_name":"Patrick Hume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656033516,"creation_date":1656033516,"answer_id":72738101,"question_id":72736769,"body_markdown":"how are you calling the execution of the query? This might help you hopefully: https://stackoverflow.com/questions/28764332/cannot-execute-select-statement-in-hibernate","title":"Not supported for select queries Springboot query","body":"<p>how are you calling the execution of the query? This might help you hopefully: <a href=\"https://stackoverflow.com/questions/28764332/cannot-execute-select-statement-in-hibernate\">Cannot execute select statement in hibernate</a></p>\n"}],"owner":{"account_id":24371492,"reputation":17,"user_id":18304378,"display_name":"RohanRider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656033516,"creation_date":1656019709,"question_id":72736769,"body_markdown":"I want to get the employees who started after spesific date and who earns above spesific salary. \r\n\r\nI use these params : &quot;startdate 2000-10-22&quot;\r\n                     &quot;salary 10000&quot;\r\n\r\n\r\nBut when I try I get this error : \r\n\r\n    &quot;org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for select queries [Select e FROM com.example.macademiaproject.model.Employee e  where  (:startDate is NULL or e.startDate &lt; :startDate)  AND  (:salary is NULL or e.salary &gt; :salary) ]; nested exception is java.lang.IllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for select queries [Select e FROM com.example.macademiaproject.model.Employee e  where  (:startDate is NULL or e.startDate &lt; :startDate)  AND  (:salary is NULL or e.salary &gt; :salary) ]&quot;,\r\n\r\nCan I check the dates like &quot;startedDate &gt;&quot; condition, for example is 2000/12/13 &gt; 2001/5/8 ?. If not how am I supposed to do this ?\r\n\r\nRepository :  \r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(&quot;Select e FROM Employee e  &quot; +\r\n            &quot;where &quot; +\r\n            &quot; (:startDate is NULL or e.startDate &lt; :startDate) &quot; +\r\n            &quot; AND &quot; +\r\n            &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\r\n    void searchEmployees(@Param(value= &quot;startDate&quot;)Date startDate,@Param(value = &quot;salary&quot;) Integer salary);\r\n\r\nService :\r\n\r\n     void searchEmployees(Date startDate,Integer salary);\r\n\r\nServiceImplemantation :\r\n\r\n      @Override\r\n        public void searchEmployees(Date startDate,Integer salary){\r\n           employeeRepository.searchEmployees(startDate,salary);\r\n    \r\n        }\r\n\r\nController : \r\n\r\n        @GetMapping(path=&quot;/search&quot;)\r\n        public ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) Date startDate,\r\n                                                              @RequestParam(&quot;salary&quot;) Integer salary) {\r\n    \r\n            employeeService.searchEmployees(startDate,salary);\r\n            return null; }","title":"Not supported for select queries Springboot query","body":"<p>I want to get the employees who started after spesific date and who earns above spesific salary.</p>\n<p>I use these params : &quot;startdate 2000-10-22&quot;\n&quot;salary 10000&quot;</p>\n<p>But when I try I get this error :</p>\n<pre><code>&quot;org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for select queries [Select e FROM com.example.macademiaproject.model.Employee e  where  (:startDate is NULL or e.startDate &lt; :startDate)  AND  (:salary is NULL or e.salary &gt; :salary) ]; nested exception is java.lang.IllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for select queries [Select e FROM com.example.macademiaproject.model.Employee e  where  (:startDate is NULL or e.startDate &lt; :startDate)  AND  (:salary is NULL or e.salary &gt; :salary) ]&quot;,\n</code></pre>\n<p>Can I check the dates like &quot;startedDate &gt;&quot; condition, for example is 2000/12/13 &gt; 2001/5/8 ?. If not how am I supposed to do this ?</p>\n<p>Repository :</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;Select e FROM Employee e  &quot; +\n        &quot;where &quot; +\n        &quot; (:startDate is NULL or e.startDate &lt; :startDate) &quot; +\n        &quot; AND &quot; +\n        &quot; (:salary is NULL or e.salary &gt; :salary) &quot;)\nvoid searchEmployees(@Param(value= &quot;startDate&quot;)Date startDate,@Param(value = &quot;salary&quot;) Integer salary);\n</code></pre>\n<p>Service :</p>\n<pre><code> void searchEmployees(Date startDate,Integer salary);\n</code></pre>\n<p>ServiceImplemantation :</p>\n<pre><code>  @Override\n    public void searchEmployees(Date startDate,Integer salary){\n       employeeRepository.searchEmployees(startDate,salary);\n\n    }\n</code></pre>\n<p>Controller :</p>\n<pre><code>    @GetMapping(path=&quot;/search&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; searchEmployees(@RequestParam(&quot;startDate&quot;) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) Date startDate,\n                                                          @RequestParam(&quot;salary&quot;) Integer salary) {\n\n        employeeService.searchEmployees(startDate,salary);\n        return null; }\n</code></pre>\n"},{"tags":["java","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1655995688,"post_id":72731767,"comment_id":128469013,"body_markdown":"Looks like bad JSON; look at a record using the `kafka-console-consumer.sh`. Also edit the question to show your `StatusUpdatedEvent`.","body":"Looks like bad JSON; look at a record using the <code>kafka-console-consumer.sh</code>. Also edit the question to show your <code>StatusUpdatedEvent</code>."},{"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"score":0,"creation_date":1656007335,"post_id":72731767,"comment_id":128473160,"body_markdown":"@GaryRussell edited the question to show even objects","body":"@GaryRussell edited the question to show even objects"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1656008583,"post_id":72731767,"comment_id":128473595,"body_markdown":"What about the record contents (using the command line tool)? Also, you will need a no-arg constructor and property setters, or Jackson annotations in order to deserialize that class.","body":"What about the record contents (using the command line tool)? Also, you will need a no-arg constructor and property setters, or Jackson annotations in order to deserialize that class."},{"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"score":0,"creation_date":1656061008,"post_id":72731767,"comment_id":128484530,"body_markdown":"@GaryRussell adding Jackson annotations actually did help, thank you a lot","body":"@GaryRussell adding Jackson annotations actually did help, thank you a lot"}],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656032927,"creation_date":1656032927,"answer_id":72738060,"question_id":72731767,"body_markdown":"When you deal with a KAFKA Consumer, you should have a better exception handler, especially for the Serialization/DeSerialization. If you are seeing the exception **&quot;org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition operationStatusChanges-0 at offset 1987. If needed, please seek past the record to continue consumption.&quot;** again and again, that means, consumer is keep polling the data but not able to skip and continue to the next message. Add the following class and see, the issue is with only that offset message.\r\n\r\n\r\n    public void run() {\r\n            try {\r\n                Consumer&lt;String, StatusUpdatedEvent&gt; consumer = new KafkaConsumer&lt;&gt;(eventConsumerConfig.getEventConsumerConfig());\r\n                consumer.subscribe(Collections.singleton(topicName));\r\n                    while (true) {\r\n                        try {\r\n                            ConsumerRecords&lt;String, StatusUpdatedEvent&gt; consumerRecords = consumer.poll(Duration.ofMillis(5000));\r\n                            for (TopicPartition partition : consumerRecords.partitions()) {\r\n                                List&lt;ConsumerRecord&lt;String, StatusUpdatedEvent&gt;&gt; partitionRecords = consumerRecords.records(partition);\r\n                                for (ConsumerRecord&lt;String, StatusUpdatedEvent&gt; record : partitionRecords) {\r\n    \r\n                                    String eventMessage = record.value();\r\n    \r\n                                }\r\n                            }\r\n                        } catch (SerializationException serError) {\r\n                            SkipPoisionPill.skip(topicName, serError.getMessage(), consumer);\r\n                        } catch (Exception e2) {\r\n                            continue;\r\n                        }\r\n                    }\r\n    \r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n\r\nSkipPoisionPill.class\r\n---------------------\r\n\r\n    public final class SkipPoisionPill {\r\n    \t\r\n    \tpublic static void skip(String topic, String serErrorMessage, Consumer&lt;?, ?&gt; consumer) {\r\n            final Pattern offsetPattern = Pattern.compile(&quot;\\\\w*offset*\\\\w[ ]\\\\d+&quot;);\r\n            final Pattern partitionPattern = Pattern.compile(&quot;\\\\w*&quot; + topic + &quot;*\\\\w[-]\\\\d+&quot;);\r\n        \t\r\n    \t\ttry {\r\n                Matcher mPart = partitionPattern.matcher(serErrorMessage);\r\n                Matcher mOff = offsetPattern.matcher(serErrorMessage);\r\n    \r\n                mPart.find();\r\n                Integer partition = Integer.parseInt(mPart.group().replace(topic + &quot;-&quot;, &quot;&quot;));\r\n                mOff.find();\r\n                Long offset = Long.parseLong(mOff.group().replace(&quot;offset &quot;, &quot;&quot;));\r\n                consumer.seek(new TopicPartition(topic, partition), offset + 1);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tLOGGER.error(&quot;Unable to seek past bad message. {}&quot;, ex.toString());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Spring Kafka Can&#39;t deserialize data [[]] from topic - No content to map due to end-of-input","body":"<p>When you deal with a KAFKA Consumer, you should have a better exception handler, especially for the Serialization/DeSerialization. If you are seeing the exception <strong>&quot;org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition operationStatusChanges-0 at offset 1987. If needed, please seek past the record to continue consumption.&quot;</strong> again and again, that means, consumer is keep polling the data but not able to skip and continue to the next message. Add the following class and see, the issue is with only that offset message.</p>\n<pre><code>public void run() {\n        try {\n            Consumer&lt;String, StatusUpdatedEvent&gt; consumer = new KafkaConsumer&lt;&gt;(eventConsumerConfig.getEventConsumerConfig());\n            consumer.subscribe(Collections.singleton(topicName));\n                while (true) {\n                    try {\n                        ConsumerRecords&lt;String, StatusUpdatedEvent&gt; consumerRecords = consumer.poll(Duration.ofMillis(5000));\n                        for (TopicPartition partition : consumerRecords.partitions()) {\n                            List&lt;ConsumerRecord&lt;String, StatusUpdatedEvent&gt;&gt; partitionRecords = consumerRecords.records(partition);\n                            for (ConsumerRecord&lt;String, StatusUpdatedEvent&gt; record : partitionRecords) {\n\n                                String eventMessage = record.value();\n\n                            }\n                        }\n                    } catch (SerializationException serError) {\n                        SkipPoisionPill.skip(topicName, serError.getMessage(), consumer);\n                    } catch (Exception e2) {\n                        continue;\n                    }\n                }\n\n        } catch (Exception e) {\n        }\n    }\n</code></pre>\n<h2>SkipPoisionPill.class</h2>\n<pre><code>public final class SkipPoisionPill {\n    \n    public static void skip(String topic, String serErrorMessage, Consumer&lt;?, ?&gt; consumer) {\n        final Pattern offsetPattern = Pattern.compile(&quot;\\\\w*offset*\\\\w[ ]\\\\d+&quot;);\n        final Pattern partitionPattern = Pattern.compile(&quot;\\\\w*&quot; + topic + &quot;*\\\\w[-]\\\\d+&quot;);\n        \n        try {\n            Matcher mPart = partitionPattern.matcher(serErrorMessage);\n            Matcher mOff = offsetPattern.matcher(serErrorMessage);\n\n            mPart.find();\n            Integer partition = Integer.parseInt(mPart.group().replace(topic + &quot;-&quot;, &quot;&quot;));\n            mOff.find();\n            Long offset = Long.parseLong(mOff.group().replace(&quot;offset &quot;, &quot;&quot;));\n            consumer.seek(new TopicPartition(topic, partition), offset + 1);\n        } catch (Exception ex) {\n            LOGGER.error(&quot;Unable to seek past bad message. {}&quot;, ex.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656032927,"creation_date":1655993917,"question_id":72731767,"body_markdown":"Recently added kafka to the project, it worked just fine until I tried to send not just string message but a custom object instead, did it all accordingly to Baeldung guide and can&#39;t get why it isn&#39;t working, the config code builds fine,  but when I add listener code to it it&#39;s not working. Also there are a lot of the exception messages and not that many of events, so I assume exception messages coming event without kafka messages themselves\r\n\r\nKafka config:\r\n\r\n    import org.apache.kafka.clients.admin.AdminClientConfig;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.serialization.ByteArrayDeserializer;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.*;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    import org.springframework.kafka.support.serializer.JsonSerializer;\r\n    import paysys.persist.event.StatusUpdatedEvent;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @EnableKafka\r\n    @Configuration\r\n    @ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\r\n    public class KafkaConfig {\r\n\r\n    private final Environment environment;\r\n    private final String topicName = &quot;payOperationStatusChanges&quot;;\r\n    private final String kafkaGroupId = &quot;status&quot;;\r\n\r\n    public KafkaConfig(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    //TopicConfig\r\n\r\n    @Bean\r\n    public KafkaAdmin kafkaAdmin() {\r\n        Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n        configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\r\n        return new KafkaAdmin(configs);\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\r\n    public NewTopic eventTopic() {\r\n        return new NewTopic(topicName, 1, (short) 1);\r\n    }\r\n\r\n    //ProducerConfig\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, StatusUpdatedEvent&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        configProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, StatusUpdatedEvent&gt; statusKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n\r\n    //ConsumerConfig\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, StatusUpdatedEvent&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\r\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG,\r\n                kafkaGroupId);\r\n        configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\r\n                &quot;earliest&quot;);\r\n        configProps.put(JsonDeserializer.TRUSTED_PACKAGES,\r\n                &quot;*&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps, new StringDeserializer(), new JsonDeserializer&lt;&gt;(StatusUpdatedEvent.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, StatusUpdatedEvent&gt;\r\n    kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, StatusUpdatedEvent&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n    }\r\n\r\nAnd the listener:\r\n\r\n\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.stereotype.Component;\r\n    import paysys.persist.event.StatusUpdatedEvent;\r\n    \r\n    @Component\r\n    @ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\r\n    public class StatusEventListener {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(StatusEventListener.class);\r\n    \r\n        @KafkaListener(topics = &quot;operationStatusChanges&quot;, groupId = &quot;status&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n        public void listenGroupFoo(StatusUpdatedEvent message) {\r\n            log.info(&quot;Received status update event : {}&quot;, message);\r\n        }\r\n    \r\n    }\r\n\r\nThe exception: \r\n\r\n    org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition operationStatusChanges-0 at offset 1987. If needed, please seek past the record to continue consumption.\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Can&#39;t deserialize data [[]] from topic [operationStatusChanges]\r\n    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n     at [Source: (byte[])&quot;&quot;; line: 1, column: 0]\r\n    \tat\r\n\r\nObject I try to send: \r\n    \r\n    public class StatusUpdatedEvent extends PayOperationEvent {\r\n    \r\n        public static final String STATUS_UPDATED_EVENT_TYPE = &quot;statusUpdated&quot;;\r\n    \r\n        private final PayOperation.PayOperationStatus oldStatus;\r\n        private final PayOperation.PayOperationStatus newStatus;\r\n    \r\n        public StatusUpdatedEvent(PayOperation.PayOperationStatus oldStatus, PayOperation.PayOperationStatus newStatus, PayOperation payOperation) {\r\n            super(STATUS_UPDATED_EVENT_TYPE, payOperation);\r\n            this.oldStatus = oldStatus;\r\n            this.newStatus = newStatus;\r\n        }\r\n    \r\n        public PayOperation.PayOperationStatus getOldStatus() {\r\n            return oldStatus;\r\n        }\r\n    \r\n        public PayOperation.PayOperationStatus getNewStatus() {\r\n            return newStatus;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;StatusUpdatedEvent{&quot; +\r\n                    &quot;oldStatus=&quot; + oldStatus +\r\n                    &quot;, newStatus=&quot; + newStatus +\r\n                    &quot;, payOperation=&quot; + this.getPayOperation() +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nextended object: \r\n\r\n\r\n    public abstract class PayOperationEvent {\r\n        private final String type;\r\n        private final PayOperation payOperation;\r\n    \r\n        protected PayOperationEvent(String type, PayOperation payOperation) {\r\n            this.type = type;\r\n            this.payOperation = payOperation;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public PayOperation getPayOperation() {\r\n            return payOperation;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;PayOperationEvent{&quot; +\r\n                    &quot;type=&#39;&quot; + type + &#39;\\&#39;&#39; +\r\n                    &quot;, payOperation=&quot; + payOperation.toString() +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n","title":"Spring Kafka Can&#39;t deserialize data [[]] from topic - No content to map due to end-of-input","body":"<p>Recently added kafka to the project, it worked just fine until I tried to send not just string message but a custom object instead, did it all accordingly to Baeldung guide and can't get why it isn't working, the config code builds fine,  but when I add listener code to it it's not working. Also there are a lot of the exception messages and not that many of events, so I assume exception messages coming event without kafka messages themselves</p>\n<p>Kafka config:</p>\n<pre><code>import org.apache.kafka.clients.admin.AdminClientConfig;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.*;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\nimport paysys.persist.event.StatusUpdatedEvent;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\n@ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\npublic class KafkaConfig {\n\nprivate final Environment environment;\nprivate final String topicName = &quot;payOperationStatusChanges&quot;;\nprivate final String kafkaGroupId = &quot;status&quot;;\n\npublic KafkaConfig(Environment environment) {\n    this.environment = environment;\n}\n\n//TopicConfig\n\n@Bean\npublic KafkaAdmin kafkaAdmin() {\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\n    return new KafkaAdmin(configs);\n}\n\n@Bean\n@ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\npublic NewTopic eventTopic() {\n    return new NewTopic(topicName, 1, (short) 1);\n}\n\n//ProducerConfig\n\n@Bean\npublic ProducerFactory&lt;String, StatusUpdatedEvent&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n    configProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, StatusUpdatedEvent&gt; statusKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n\n//ConsumerConfig\n\n@Bean\npublic ConsumerFactory&lt;String, StatusUpdatedEvent&gt; consumerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n            environment.getProperty(&quot;sender.kafka.bootstrap-servers&quot;));\n    configProps.put(ConsumerConfig.GROUP_ID_CONFIG,\n            kafkaGroupId);\n    configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\n            &quot;earliest&quot;);\n    configProps.put(JsonDeserializer.TRUSTED_PACKAGES,\n            &quot;*&quot;);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(configProps, new StringDeserializer(), new JsonDeserializer&lt;&gt;(StatusUpdatedEvent.class));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, StatusUpdatedEvent&gt;\nkafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, StatusUpdatedEvent&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}\n\n}\n</code></pre>\n<p>And the listener:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Component;\nimport paysys.persist.event.StatusUpdatedEvent;\n\n@Component\n@ConditionalOnProperty(name = &quot;status.topic.enabled&quot;)\npublic class StatusEventListener {\n\n    private static final Logger log = LoggerFactory.getLogger(StatusEventListener.class);\n\n    @KafkaListener(topics = &quot;operationStatusChanges&quot;, groupId = &quot;status&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void listenGroupFoo(StatusUpdatedEvent message) {\n        log.info(&quot;Received status update event : {}&quot;, message);\n    }\n\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition operationStatusChanges-0 at offset 1987. If needed, please seek past the record to continue consumption.\nCaused by: org.apache.kafka.common.errors.SerializationException: Can't deserialize data [[]] from topic [operationStatusChanges]\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (byte[])&quot;&quot;; line: 1, column: 0]\n    at\n</code></pre>\n<p>Object I try to send:</p>\n<pre><code>public class StatusUpdatedEvent extends PayOperationEvent {\n\n    public static final String STATUS_UPDATED_EVENT_TYPE = &quot;statusUpdated&quot;;\n\n    private final PayOperation.PayOperationStatus oldStatus;\n    private final PayOperation.PayOperationStatus newStatus;\n\n    public StatusUpdatedEvent(PayOperation.PayOperationStatus oldStatus, PayOperation.PayOperationStatus newStatus, PayOperation payOperation) {\n        super(STATUS_UPDATED_EVENT_TYPE, payOperation);\n        this.oldStatus = oldStatus;\n        this.newStatus = newStatus;\n    }\n\n    public PayOperation.PayOperationStatus getOldStatus() {\n        return oldStatus;\n    }\n\n    public PayOperation.PayOperationStatus getNewStatus() {\n        return newStatus;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;StatusUpdatedEvent{&quot; +\n                &quot;oldStatus=&quot; + oldStatus +\n                &quot;, newStatus=&quot; + newStatus +\n                &quot;, payOperation=&quot; + this.getPayOperation() +\n                '}';\n    }\n}\n</code></pre>\n<p>extended object:</p>\n<pre><code>public abstract class PayOperationEvent {\n    private final String type;\n    private final PayOperation payOperation;\n\n    protected PayOperationEvent(String type, PayOperation payOperation) {\n        this.type = type;\n        this.payOperation = payOperation;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public PayOperation getPayOperation() {\n        return payOperation;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PayOperationEvent{&quot; +\n                &quot;type='&quot; + type + '\\'' +\n                &quot;, payOperation=&quot; + payOperation.toString() +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","types"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655834150,"post_id":72705102,"comment_id":128423909,"body_markdown":"No. The closest things are records where you can define the fields without too much boilerplate: `record MonthHours(String month, double hours) { }`.","body":"No. The closest things are records where you can define the fields without too much boilerplate: <code>record MonthHours(String month, double hours) { }</code>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655834172,"creation_date":1655834172,"answer_id":72705199,"question_id":72705102,"body_markdown":"Java doesn&#39;t support this type of anonymous object types. You&#39;d have to create a class for that.\r\n\r\nHowever, your method name seems to indicate that the months will be unique. That makes a `Map&lt;String, Double&gt;` a possible alternative. The map keys are the months, the values are the hours.\r\n\r\nIterating over the map can be done in a few ways:\r\n\r\n1) Use `Map.forEach`:\r\n    ```\r\n    hoursByMonth.forEach((month, hours) -&gt; { ... });\r\n    ```\r\n\r\n2) Use `Map.entrySet`:\r\n    ```\r\n    // you can also use entrySet().stream, or entrySet().iterator()\r\n    for (Map.Entry&lt;String, Double&gt; entry : hoursByMonth.entrySet()) {\r\n        String month = entry.getKey();\r\n        double hours = entry.getValue();\r\n    }\r\n    ```\r\n","title":"Java: specific Object as a generic type in Iterable","body":"<p>Java doesn't support this type of anonymous object types. You'd have to create a class for that.</p>\n<p>However, your method name seems to indicate that the months will be unique. That makes a <code>Map&lt;String, Double&gt;</code> a possible alternative. The map keys are the months, the values are the hours.</p>\n<p>Iterating over the map can be done in a few ways:</p>\n<ol>\n<li><p>Use <code>Map.forEach</code>:</p>\n<pre><code>hoursByMonth.forEach((month, hours) -&gt; { ... });\n</code></pre>\n</li>\n<li><p>Use <code>Map.entrySet</code>:</p>\n<pre><code>// you can also use entrySet().stream, or entrySet().iterator()\nfor (Map.Entry&lt;String, Double&gt; entry : hoursByMonth.entrySet()) {\n    String month = entry.getKey();\n    double hours = entry.getValue();\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656030464,"creation_date":1655842169,"answer_id":72706571,"question_id":72705102,"body_markdown":"At the first glance, **TypeScript** might look similar to **Java**, but it&#39;s a delusion. **TypeScript** is a superset of **JavaScript**. These languages are very different from Java.\r\n\r\nIn Java, everything is build around *classes*. To create an object in Java you always need a *class* (or *enum*, or *record*, which are basically special kinds of classes), the only exception is an *array* (they are build into the language, and you don&#39;t refer to any class to instantiate them, but nevertheless arrays are objects and instances of the `Object` type). You can **not** create a custom object inline in Java.\r\n\r\nConversely, in TypeScript and JavaScript everything is build around objects. You can create objects inline, in TypeScript you can define a type inline. Inheritance is based on the prototype chain (each object has a private property which holds a link to another object). All these mechanisms are alien to Java. And yes, *classes* exists in TypeScript and the latest versions of JavaScript, but they are only syntactic sugar over the constructor functions.\r\n\r\nLet&#39;s get to the point. You need a type that has the following shape:\r\n\r\n```\r\n{ &quot;month&quot; : String, &quot;hours&quot; : double }\r\n```\r\n\r\n*By the way: there&#39;s an enum* [`Month`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html) *in the* `java.time` *package, it&#39;s a good practice to favor* `enum`s *over strings (because enum provedes you a behaviour that a plain string can&#39;t offer and guards you from making typo).*\r\n\r\nJava is statically typed. And everything needs to have a type at the moment of compilation. The *&quot;shape&quot;* of each object should exist somewhere, so that the compiler can verify that it&#39;s being treated correctly in your code, and you&#39;re not expecting from the object something that it&#39;s not capable of (JavaScript forgive you such thing, but Java not). And every type would eventually reside in a `.class` file which can be used by the JVM at runtime.\r\n\r\nAs I&#39;ve already said, you can&#39;t define the type inline. But it doesn&#39;t mean that you need to create a separate file for every type. In Java, we have a notion of [*nested classes*](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html). Note, that it&#39;s not a good idea to nest two unrelated classes into each other, by declaring a class inside another you&#39;re saying that the enclosing class uses somehow the nested class (*or least the reader of the code would expect that*).\r\n\r\nThat&#39;s how you can define such a type using Java 16 [*records*](https://docs.oracle.com/en/java/javase/18/language/records.html):\r\n\r\n```\r\npublic record MonthHours(Month month, double hours) {}\r\n```\r\n\r\nAnd it would be an equivalent of the following class:\r\n\r\n```\r\npublic class MonthHours {\r\n    private Month month;\r\n    private double hours;\r\n    \r\n    public MonthHours(Month month, double hours) {\r\n        this.month = month;\r\n        this.hours = hours;\r\n    }\r\n    \r\n    // getters, equals/hashCode, toString\r\n}\r\n```","title":"Java: specific Object as a generic type in Iterable","body":"<p>At the first glance, <strong>TypeScript</strong> might look similar to <strong>Java</strong>, but it's a delusion. <strong>TypeScript</strong> is a superset of <strong>JavaScript</strong>. These languages are very different from Java.</p>\n<p>In Java, everything is build around <em>classes</em>. To create an object in Java you always need a <em>class</em> (or <em>enum</em>, or <em>record</em>, which are basically special kinds of classes), the only exception is an <em>array</em> (they are build into the language, and you don't refer to any class to instantiate them, but nevertheless arrays are objects and instances of the <code>Object</code> type). You can <strong>not</strong> create a custom object inline in Java.</p>\n<p>Conversely, in TypeScript and JavaScript everything is build around objects. You can create objects inline, in TypeScript you can define a type inline. Inheritance is based on the prototype chain (each object has a private property which holds a link to another object). All these mechanisms are alien to Java. And yes, <em>classes</em> exists in TypeScript and the latest versions of JavaScript, but they are only syntactic sugar over the constructor functions.</p>\n<p>Let's get to the point. You need a type that has the following shape:</p>\n<pre><code>{ &quot;month&quot; : String, &quot;hours&quot; : double }\n</code></pre>\n<p><em>By the way: there's an enum</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> <em>in the</em> <code>java.time</code> <em>package, it's a good practice to favor</em> <code>enum</code>s <em>over strings (because enum provedes you a behaviour that a plain string can't offer and guards you from making typo).</em></p>\n<p>Java is statically typed. And everything needs to have a type at the moment of compilation. The <em>&quot;shape&quot;</em> of each object should exist somewhere, so that the compiler can verify that it's being treated correctly in your code, and you're not expecting from the object something that it's not capable of (JavaScript forgive you such thing, but Java not). And every type would eventually reside in a <code>.class</code> file which can be used by the JVM at runtime.</p>\n<p>As I've already said, you can't define the type inline. But it doesn't mean that you need to create a separate file for every type. In Java, we have a notion of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\"><em>nested classes</em></a>. Note, that it's not a good idea to nest two unrelated classes into each other, by declaring a class inside another you're saying that the enclosing class uses somehow the nested class (<em>or least the reader of the code would expect that</em>).</p>\n<p>That's how you can define such a type using Java 16 <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\"><em>records</em></a>:</p>\n<pre><code>public record MonthHours(Month month, double hours) {}\n</code></pre>\n<p>And it would be an equivalent of the following class:</p>\n<pre><code>public class MonthHours {\n    private Month month;\n    private double hours;\n    \n    public MonthHours(Month month, double hours) {\n        this.month = month;\n        this.hours = hours;\n    }\n    \n    // getters, equals/hashCode, toString\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655843430,"creation_date":1655843430,"answer_id":72706787,"question_id":72705102,"body_markdown":"Beside the class and map approach I would also suggest the interface approach - depending on your needs:\r\n\r\n    public interface MonthHoursProvider {\r\n        String month();\r\n        double hours();\r\n    }\r\n\r\nOr you use something like a generic tuple.\r\n\r\n ","title":"Java: specific Object as a generic type in Iterable","body":"<p>Beside the class and map approach I would also suggest the interface approach - depending on your needs:</p>\n<pre><code>public interface MonthHoursProvider {\n    String month();\n    double hours();\n}\n</code></pre>\n<p>Or you use something like a generic tuple.</p>\n"}],"owner":{"account_id":20500755,"reputation":180,"user_id":15044743,"display_name":"Klaus M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72706571,"answer_count":3,"score":2,"last_activity_date":1656030464,"creation_date":1655833687,"question_id":72705102,"body_markdown":"Is there a way in **Java** to create Objects *inline*, like in **TypeScript** using square brackets, and use them in an Iterable? \r\n\r\nIf this isn&#39;t possible, which one is the best way to implement this functionality?\r\n\r\n*Example:*\r\n```\r\npublic Iterable&lt;{ &quot;month&quot; : String, &quot;hours&quot; : double }&gt; getHoursGroupByMonth(int userId);\r\n```","title":"Java: specific Object as a generic type in Iterable","body":"<p>Is there a way in <strong>Java</strong> to create Objects <em>inline</em>, like in <strong>TypeScript</strong> using square brackets, and use them in an Iterable?</p>\n<p>If this isn't possible, which one is the best way to implement this functionality?</p>\n<p><em>Example:</em></p>\n<pre><code>public Iterable&lt;{ &quot;month&quot; : String, &quot;hours&quot; : double }&gt; getHoursGroupByMonth(int userId);\n</code></pre>\n"},{"tags":["java","javafx","menubar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1655941414,"post_id":72722769,"comment_id":128454104,"body_markdown":"The idea would be to _not_ replace the window&#39;s `Scene`. Instead, modify the `root` of the scene. For example, you could have a `BorderPane` with the `top` node set to your `MenuBar`, and then you&#39;d update the `center` node to change views.","body":"The idea would be to <i>not</i> replace the window&#39;s <code>Scene</code>. Instead, modify the <code>root</code> of the scene. For example, you could have a <code>BorderPane</code> with the <code>top</code> node set to your <code>MenuBar</code>, and then you&#39;d update the <code>center</code> node to change views."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1655949229,"post_id":72722769,"comment_id":128455151,"body_markdown":"The [small framework here](https://gist.github.com/jewelsea/6460130) created to answer [Loading new fxml in the same scene](https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene) demonstrates a possible solution (using the principles that Slaw has comments).","body":"The <a href=\"https://gist.github.com/jewelsea/6460130\" rel=\"nofollow noreferrer\">small framework here</a> created to answer <a href=\"https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene\">Loading new fxml in the same scene</a> demonstrates a possible solution (using the principles that Slaw has comments)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1655949722,"post_id":72722769,"comment_id":128455242,"body_markdown":"Note that modifying the `root` node can be generalized to modifying _any_ node currently displayed in the scene, in case you have a more complicated application.","body":"Note that modifying the <code>root</code> node can be generalized to modifying <i>any</i> node currently displayed in the scene, in case you have a more complicated application."},{"owner":{"account_id":25623307,"reputation":23,"user_id":19394823,"display_name":"lenieve"},"score":0,"creation_date":1655980819,"post_id":72722769,"comment_id":128463209,"body_markdown":"@Slaw But how would I set my scene credits as the center of a Borderpane? Im not quite sure how I should implement that.","body":"@Slaw But how would I set my scene credits as the center of a Borderpane? Im not quite sure how I should implement that."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1656004720,"post_id":72722769,"comment_id":128472314,"body_markdown":"`borderPane.setCenter(credits.sceneView3());`","body":"<code>borderPane.setCenter(credits.sceneView3());</code>"},{"owner":{"account_id":25623307,"reputation":23,"user_id":19394823,"display_name":"lenieve"},"score":0,"creation_date":1656012365,"post_id":72722769,"comment_id":128474799,"body_markdown":"Thanks for all your help! @jewelsea Im afraid I still dont understand how to implement this. Changing the MenuBar VBox to a BorderPane, but this made the MenuBar very small (... .... ....) however after consulting the Api I believe it to be an Allignment error on my side. But my main Issue is that I did as you said (`creditsItem.setOnAction(e -&gt; { menuPane.setCenter(Credits.sceneView3());});` But it still only shows the credits scene. What am i doing wrong? Im at a loss.","body":"Thanks for all your help! @jewelsea Im afraid I still dont understand how to implement this. Changing the MenuBar VBox to a BorderPane, but this made the MenuBar very small (... .... ....) however after consulting the Api I believe it to be an Allignment error on my side. But my main Issue is that I did as you said (<code>creditsItem.setOnAction(e -&gt; { menuPane.setCenter(Credits.sceneView3());});</code> But it still only shows the credits scene. What am i doing wrong? Im at a loss."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656024881,"creation_date":1656024881,"answer_id":72737400,"question_id":72722769,"body_markdown":"When you want a node, or a group of nodes, to exist between different &quot;scenes&quot;, often the best solution is to _not_ replace the `Scene`. Instead, you&#39;ll want to modify the nodes displayed in the current scene. For example, in your case, you could have a `BorderPane` as the root of the scene with the `MenuBar` set as the `top` node. Then you replace the `center` node when you want to change the &quot;view&quot;.\r\n\r\nHere&#39;s a minimal runnable example demonstrating this concept. It makes use of &quot;callbacks&quot; to modify the center node of the `BorderPane`, while using the same `MenuBar` instance throughout. Though note the example only consists of views. If you have a backing model (i.e., data, business logic, etc.), you&#39;ll want to modify the code so you can pass it around. Also, if you write your application similarly to this example, it might be prudent to have all the views implement a common interface in a real application.\r\n\r\nI don&#39;t have a separate &quot;view class&quot; for the menu bar, but that doesn&#39;t mean you can&#39;t have one (might even be better that way).\r\n\r\n**Main.java**:\r\n\r\n```lang-java\r\nimport java.util.function.Consumer;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Menu;\r\nimport javafx.scene.control.MenuBar;\r\nimport javafx.scene.control.MenuItem;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    var root = new BorderPane();\r\n    root.setTop(createMenuBar(root::setCenter));\r\n    root.setCenter(new TitleView().getNode());\r\n\r\n    primaryStage.setScene(new Scene(root, 600, 400));\r\n    primaryStage.setTitle(&quot;Demo&quot;);\r\n    primaryStage.show();\r\n  }\r\n\r\n  private MenuBar createMenuBar(Consumer&lt;Node&gt; onUpdateView) {\r\n    var exitItem = new MenuItem(&quot;Exit&quot;);\r\n    exitItem.setOnAction(e -&gt; Platform.exit());\r\n\r\n    var creditsItem = new MenuItem(&quot;Credits&quot;);\r\n    creditsItem.setOnAction(e -&gt; {\r\n      e.consume();\r\n\r\n      var view = new CreditsView();\r\n      view.setOnGoBack(() -&gt; onUpdateView.accept(new TitleView().getNode()));\r\n      onUpdateView.accept(view.getNode());\r\n    });\r\n\r\n    return new MenuBar(\r\n        new Menu(&quot;File&quot;, null, exitItem),\r\n        new Menu(&quot;Extras&quot;, null, creditsItem)\r\n    );\r\n  }\r\n}\r\n```\r\n\r\n**TitleView.java:**\r\n\r\n```lang-java\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\n\r\npublic class TitleView {\r\n\r\n  private Node node;\r\n\r\n  public Node getNode() {\r\n    if (node == null) {\r\n      node = new StackPane(new Label(&quot;Welcome!&quot;));\r\n    }\r\n    return node;\r\n  }\r\n}\r\n```\r\n\r\n**CreditsView.java:**\r\n\r\n```lang-java\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\n\r\npublic class CreditsView {\r\n\r\n  private Runnable onGoBack;\r\n  private Node node;\r\n\r\n  public Node getNode() {\r\n    if (node == null) {\r\n      var stack = new StackPane();\r\n      stack.setPadding(new Insets(10));\r\n\r\n      var label = new Label(&quot;Credits View&quot;);\r\n      stack.getChildren().add(label);\r\n\r\n      var goBackBtn = new Button(&quot;Go back&quot;);\r\n      goBackBtn.setOnAction(e -&gt; {\r\n        e.consume();\r\n        if (onGoBack != null) {\r\n          onGoBack.run();\r\n        }\r\n      });\r\n      stack.getChildren().add(goBackBtn);\r\n      StackPane.setAlignment(goBackBtn, Pos.TOP_LEFT);\r\n\r\n      node = stack;\r\n    }\r\n    return node;\r\n  }\r\n\r\n  public void setOnGoBack(Runnable action) {\r\n    onGoBack = action;\r\n  }\r\n}\r\n```","title":"How do i display my MenuBar across all my scenes in JavaFX","body":"<p>When you want a node, or a group of nodes, to exist between different &quot;scenes&quot;, often the best solution is to <em>not</em> replace the <code>Scene</code>. Instead, you'll want to modify the nodes displayed in the current scene. For example, in your case, you could have a <code>BorderPane</code> as the root of the scene with the <code>MenuBar</code> set as the <code>top</code> node. Then you replace the <code>center</code> node when you want to change the &quot;view&quot;.</p>\n<p>Here's a minimal runnable example demonstrating this concept. It makes use of &quot;callbacks&quot; to modify the center node of the <code>BorderPane</code>, while using the same <code>MenuBar</code> instance throughout. Though note the example only consists of views. If you have a backing model (i.e., data, business logic, etc.), you'll want to modify the code so you can pass it around. Also, if you write your application similarly to this example, it might be prudent to have all the views implement a common interface in a real application.</p>\n<p>I don't have a separate &quot;view class&quot; for the menu bar, but that doesn't mean you can't have one (might even be better that way).</p>\n<p><strong>Main.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Consumer;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    var root = new BorderPane();\n    root.setTop(createMenuBar(root::setCenter));\n    root.setCenter(new TitleView().getNode());\n\n    primaryStage.setScene(new Scene(root, 600, 400));\n    primaryStage.setTitle(&quot;Demo&quot;);\n    primaryStage.show();\n  }\n\n  private MenuBar createMenuBar(Consumer&lt;Node&gt; onUpdateView) {\n    var exitItem = new MenuItem(&quot;Exit&quot;);\n    exitItem.setOnAction(e -&gt; Platform.exit());\n\n    var creditsItem = new MenuItem(&quot;Credits&quot;);\n    creditsItem.setOnAction(e -&gt; {\n      e.consume();\n\n      var view = new CreditsView();\n      view.setOnGoBack(() -&gt; onUpdateView.accept(new TitleView().getNode()));\n      onUpdateView.accept(view.getNode());\n    });\n\n    return new MenuBar(\n        new Menu(&quot;File&quot;, null, exitItem),\n        new Menu(&quot;Extras&quot;, null, creditsItem)\n    );\n  }\n}\n</code></pre>\n<p><strong>TitleView.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.Node;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\n\npublic class TitleView {\n\n  private Node node;\n\n  public Node getNode() {\n    if (node == null) {\n      node = new StackPane(new Label(&quot;Welcome!&quot;));\n    }\n    return node;\n  }\n}\n</code></pre>\n<p><strong>CreditsView.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\n\npublic class CreditsView {\n\n  private Runnable onGoBack;\n  private Node node;\n\n  public Node getNode() {\n    if (node == null) {\n      var stack = new StackPane();\n      stack.setPadding(new Insets(10));\n\n      var label = new Label(&quot;Credits View&quot;);\n      stack.getChildren().add(label);\n\n      var goBackBtn = new Button(&quot;Go back&quot;);\n      goBackBtn.setOnAction(e -&gt; {\n        e.consume();\n        if (onGoBack != null) {\n          onGoBack.run();\n        }\n      });\n      stack.getChildren().add(goBackBtn);\n      StackPane.setAlignment(goBackBtn, Pos.TOP_LEFT);\n\n      node = stack;\n    }\n    return node;\n  }\n\n  public void setOnGoBack(Runnable action) {\n    onGoBack = action;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656030456,"creation_date":1656030152,"answer_id":72737844,"question_id":72722769,"body_markdown":"Here is some basic code that should be easy for a beginner to understand.  \r\n\r\n 1. The main layout and the potential views to be displayed within it are created upfront.  \r\n 2. A menu bar is placed at the top of the border pane in the main layout.  \r\n 3. Menu items can be used to switch between views by setting the node to be currently displayed in the center of the border pane.  \r\n 4. The existing views are reused rather than being recreated on each navigation.\r\n\r\n    * You could not store references to existing views and create new views on each navigation if preferred.\r\n\r\nThe views themselves are just nodes, so the example could easily be adapted to use FXML because the output of the FXML loader is also a node.  The same goes for anything else which may generate a node to be used as a view in this fashion.\r\n\r\n**Operation**\r\n\r\nThe scene is initially displayed and the user clicks on the &quot;View&quot; menu to show the list of available views.\r\n\r\n[![view one][1]][1]\r\n\r\nThe user selects the &quot;View Two&quot; menu item and the second view is displayed.  The application menu remains visible and can be used for future operations.\r\n\r\n[![view two][2]][2]\r\n\r\n**Sample Code**\r\n\r\n    import javafx.application.*;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ViewSwitcherApp extends Application {\r\n        private BorderPane layout;\r\n        private final Node viewOne = new ViewOne();\r\n        private final Node viewTwo = new ViewTwo();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            // View menu\r\n            MenuItem viewOneMenuItem = new MenuItem(&quot;View One&quot;);\r\n            viewOneMenuItem.setOnAction(e -&gt; setView(viewOne));\r\n            MenuItem viewTwoMenuItem = new MenuItem(&quot;View Two&quot;);\r\n            viewTwoMenuItem.setOnAction(e -&gt; setView(viewTwo));\r\n            Menu viewMenu = new Menu(\r\n                    &quot;View&quot;, null,\r\n                    viewOneMenuItem, viewTwoMenuItem\r\n            );\r\n    \r\n            // File menu\r\n            MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\r\n            exitMenuItem.setOnAction(e -&gt; Platform.exit());\r\n            Menu fileMenu = new Menu(\r\n                    &quot;File&quot;, null,\r\n                    exitMenuItem\r\n            );\r\n    \r\n            MenuBar menuBar = new MenuBar(\r\n                    fileMenu, viewMenu\r\n            );\r\n            menuBar.setMinSize(MenuBar.USE_PREF_SIZE, MenuBar.USE_PREF_SIZE);\r\n    \r\n            // Layout scene\r\n            layout = new BorderPane();\r\n            layout.setTop(menuBar);\r\n            setView(viewOne);\r\n    \r\n            stage.setScene(\r\n                    new Scene(layout, 300, 200)\r\n            );\r\n            stage.show();\r\n        }\r\n    \r\n        private void setView(Node view) {\r\n            layout.setCenter(view);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class ViewOne extends StackPane {\r\n        public ViewOne() {\r\n            setStyle(&quot;-fx-background-color: lightblue; -fx-font-size: 30px;&quot;);\r\n            getChildren().add(new Label(&quot;View One&quot;));\r\n        }\r\n    }\r\n    \r\n    class ViewTwo extends StackPane {\r\n        public ViewTwo() {\r\n            setStyle(&quot;-fx-background-color: cornsilk; -fx-font-size: 30px;&quot;);\r\n            getChildren().add(new Label(&quot;View Two&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xU9jp.png\r\n  [2]: https://i.stack.imgur.com/6aybF.png","title":"How do i display my MenuBar across all my scenes in JavaFX","body":"<p>Here is some basic code that should be easy for a beginner to understand.</p>\n<ol>\n<li><p>The main layout and the potential views to be displayed within it are created upfront.</p>\n</li>\n<li><p>A menu bar is placed at the top of the border pane in the main layout.</p>\n</li>\n<li><p>Menu items can be used to switch between views by setting the node to be currently displayed in the center of the border pane.</p>\n</li>\n<li><p>The existing views are reused rather than being recreated on each navigation.</p>\n<ul>\n<li>You could not store references to existing views and create new views on each navigation if preferred.</li>\n</ul>\n</li>\n</ol>\n<p>The views themselves are just nodes, so the example could easily be adapted to use FXML because the output of the FXML loader is also a node.  The same goes for anything else which may generate a node to be used as a view in this fashion.</p>\n<p><strong>Operation</strong></p>\n<p>The scene is initially displayed and the user clicks on the &quot;View&quot; menu to show the list of available views.</p>\n<p><a href=\"https://i.stack.imgur.com/xU9jp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xU9jp.png\" alt=\"view one\" /></a></p>\n<p>The user selects the &quot;View Two&quot; menu item and the second view is displayed.  The application menu remains visible and can be used for future operations.</p>\n<p><a href=\"https://i.stack.imgur.com/6aybF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6aybF.png\" alt=\"view two\" /></a></p>\n<p><strong>Sample Code</strong></p>\n<pre><code>import javafx.application.*;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\npublic class ViewSwitcherApp extends Application {\n    private BorderPane layout;\n    private final Node viewOne = new ViewOne();\n    private final Node viewTwo = new ViewTwo();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        // View menu\n        MenuItem viewOneMenuItem = new MenuItem(&quot;View One&quot;);\n        viewOneMenuItem.setOnAction(e -&gt; setView(viewOne));\n        MenuItem viewTwoMenuItem = new MenuItem(&quot;View Two&quot;);\n        viewTwoMenuItem.setOnAction(e -&gt; setView(viewTwo));\n        Menu viewMenu = new Menu(\n                &quot;View&quot;, null,\n                viewOneMenuItem, viewTwoMenuItem\n        );\n\n        // File menu\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\n        exitMenuItem.setOnAction(e -&gt; Platform.exit());\n        Menu fileMenu = new Menu(\n                &quot;File&quot;, null,\n                exitMenuItem\n        );\n\n        MenuBar menuBar = new MenuBar(\n                fileMenu, viewMenu\n        );\n        menuBar.setMinSize(MenuBar.USE_PREF_SIZE, MenuBar.USE_PREF_SIZE);\n\n        // Layout scene\n        layout = new BorderPane();\n        layout.setTop(menuBar);\n        setView(viewOne);\n\n        stage.setScene(\n                new Scene(layout, 300, 200)\n        );\n        stage.show();\n    }\n\n    private void setView(Node view) {\n        layout.setCenter(view);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass ViewOne extends StackPane {\n    public ViewOne() {\n        setStyle(&quot;-fx-background-color: lightblue; -fx-font-size: 30px;&quot;);\n        getChildren().add(new Label(&quot;View One&quot;));\n    }\n}\n\nclass ViewTwo extends StackPane {\n    public ViewTwo() {\n        setStyle(&quot;-fx-background-color: cornsilk; -fx-font-size: 30px;&quot;);\n        getChildren().add(new Label(&quot;View Two&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25623307,"reputation":23,"user_id":19394823,"display_name":"lenieve"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72737844,"answer_count":2,"score":2,"last_activity_date":1656030456,"creation_date":1655938030,"question_id":72722769,"body_markdown":"I am new to JavaFX \r\n\r\n\r\nI wrote this code however, I dont know how to Display the Menu Bar in all my Scenes. Also I would like to create/fill my scenes with the Layout in my HelloApplication (however thats another issue).\r\n\r\nI have a controller, for setting the Stage and launching it.\r\nMy MenuBar is in the class MenuLeiste, but I would like it to appear in my Credits class aswell. Im very sorry for the lack of comments and the Layout of this comment.\r\n\r\n```\r\n    \r\n    public class HelloApplication extends Application {\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n\r\n    //set window as primaryStage\r\n    Stage window = primaryStage;\r\n\r\n\r\n    //Layout of MenuLeiste is put in l1 and setted as scene1\r\n    MenuLeiste l1 = new MenuLeiste();\r\n    //menuscene gets its objects fromsceneViewMenu\r\n    Scene menuscene = new Scene(l1.sceneViewMenu());\r\n\r\n    window.setScene(menuscene);\r\n\r\n    window.setHeight(600);\r\n    window.setWidth(800);\r\n    window.setTitle(&quot;Game Title&quot;);\r\n    window.show();\r\n    }\r\n    }\r\n```\r\n\r\n\r\nMy MenuLeiste class\r\n\r\n```   \r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Menu;\r\n    import javafx.scene.control.MenuBar;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n\r\n\r\n    public class MenuLeiste {\r\n\r\n        public VBox sceneViewMenu() {\r\n\r\n        MenuBar menuBar = new MenuBar();\r\n        VBox menuBox = new VBox(menuBar);\r\n\r\n        Menu dataMenu = new Menu(&quot;Data&quot;);\r\n                MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\r\n                exitItem.setOnAction(e -&gt; System.exit(0));\r\n\r\n        Menu extrasMenu = new Menu(&quot;Extras&quot;);\r\n                MenuItem creditsItem = new MenuItem(&quot;Credits&quot;);\r\n                creditsItem.setOnAction(e -&gt; {\r\n                        Credits c = new Credits();\r\n                        Scene scene3 = new Scene(c.sceneView3());\r\n                        Stage window = (Stage) menuBox.getScene().getWindow();\r\n                        window.setScene(scene3);\r\n                        });\r\n        \r\n\r\n        extrasMenu.getItems().addAll(creditsItem);\r\n        dataMenu.getItems().addAll( exitItem);\r\n\r\n\r\n        menuBar.getMenus().addAll(dataMenu,extrasMenu);\r\n\r\n            //the scenes layout is saved in layout1\r\n            VBox layout1 = new VBox(20);\r\n            layout1.getChildren().addAll(menuBox);\r\n        \r\n            return layout1;\r\n        }\r\n        }\r\n```\r\n\r\nMy Credits Class\r\n```\r\npackage view;\r\n\r\nimport javafx.scene.Scene;`\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;`\r\n\r\n\r\n\r\npublic class Credits {\r\n    public VBox sceneView3() \r\n    {\r\n\r\n    Label label = new Label(&quot;Thanks&quot;);\r\n    Button backButton = new Button(&quot;Back&quot;);\r\n\r\n    backButton.setOnAction(e -&gt; {\r\n        MenuLeiste l1 = new MenuLeiste();\r\n        Scene menuscene = new Scene(l1.sceneViewMenu());\r\n        Stage window = (Stage) backButton.getScene().getWindow();\r\n        window.setScene(menuscene);\r\n    });\r\n    \r\n    VBox layout1 = new VBox(20);\r\n    layout1.getChildren().addAll(label, backButton);\r\n    \r\n    return layout1;\r\n    }\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"How do i display my MenuBar across all my scenes in JavaFX","body":"<p>I am new to JavaFX</p>\n<p>I wrote this code however, I dont know how to Display the Menu Bar in all my Scenes. Also I would like to create/fill my scenes with the Layout in my HelloApplication (however thats another issue).</p>\n<p>I have a controller, for setting the Stage and launching it.\nMy MenuBar is in the class MenuLeiste, but I would like it to appear in my Credits class aswell. Im very sorry for the lack of comments and the Layout of this comment.</p>\n<pre><code>    \n    public class HelloApplication extends Application {\n\n    public class Main {\n    public static void main(String[] args) {\n        launch(args);\n    }\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n    //set window as primaryStage\n    Stage window = primaryStage;\n\n\n    //Layout of MenuLeiste is put in l1 and setted as scene1\n    MenuLeiste l1 = new MenuLeiste();\n    //menuscene gets its objects fromsceneViewMenu\n    Scene menuscene = new Scene(l1.sceneViewMenu());\n\n    window.setScene(menuscene);\n\n    window.setHeight(600);\n    window.setWidth(800);\n    window.setTitle(&quot;Game Title&quot;);\n    window.show();\n    }\n    }\n</code></pre>\n<p>My MenuLeiste class</p>\n<pre><code>    import javafx.scene.Scene;\n    import javafx.scene.control.Menu;\n    import javafx.scene.control.MenuBar;\n    import javafx.scene.control.MenuItem;\n    import javafx.scene.layout.VBox;\n    import javafx.stage.Stage;\n\n\n    public class MenuLeiste {\n\n        public VBox sceneViewMenu() {\n\n        MenuBar menuBar = new MenuBar();\n        VBox menuBox = new VBox(menuBar);\n\n        Menu dataMenu = new Menu(&quot;Data&quot;);\n                MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\n                exitItem.setOnAction(e -&gt; System.exit(0));\n\n        Menu extrasMenu = new Menu(&quot;Extras&quot;);\n                MenuItem creditsItem = new MenuItem(&quot;Credits&quot;);\n                creditsItem.setOnAction(e -&gt; {\n                        Credits c = new Credits();\n                        Scene scene3 = new Scene(c.sceneView3());\n                        Stage window = (Stage) menuBox.getScene().getWindow();\n                        window.setScene(scene3);\n                        });\n        \n\n        extrasMenu.getItems().addAll(creditsItem);\n        dataMenu.getItems().addAll( exitItem);\n\n\n        menuBar.getMenus().addAll(dataMenu,extrasMenu);\n\n            //the scenes layout is saved in layout1\n            VBox layout1 = new VBox(20);\n            layout1.getChildren().addAll(menuBox);\n        \n            return layout1;\n        }\n        }\n</code></pre>\n<p>My Credits Class</p>\n<pre><code>package view;\n\nimport javafx.scene.Scene;`\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;`\n\n\n\npublic class Credits {\n    public VBox sceneView3() \n    {\n\n    Label label = new Label(&quot;Thanks&quot;);\n    Button backButton = new Button(&quot;Back&quot;);\n\n    backButton.setOnAction(e -&gt; {\n        MenuLeiste l1 = new MenuLeiste();\n        Scene menuscene = new Scene(l1.sceneViewMenu());\n        Stage window = (Stage) backButton.getScene().getWindow();\n        window.setScene(menuscene);\n    });\n    \n    VBox layout1 = new VBox(20);\n    layout1.getChildren().addAll(label, backButton);\n    \n    return layout1;\n    }\n    }\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1655957458,"post_id":72724171,"comment_id":128456285,"body_markdown":"The code works perfectly fine in my test environment with JavaFX 11 and JDK 15. Can you provide any more details on your JavaFX version and JDK version, and is there anything else you can add? What happens if you create a brand new project with this code? Dose the code work differently if compiled and run from command line rather than an IDE? Is the default language on your computer set to something odd? Is your IDE or code editor set to an odd encoding? Are you using an experimental JavaFX library?","body":"The code works perfectly fine in my test environment with JavaFX 11 and JDK 15. Can you provide any more details on your JavaFX version and JDK version, and is there anything else you can add? What happens if you create a brand new project with this code? Dose the code work differently if compiled and run from command line rather than an IDE? Is the default language on your computer set to something odd? Is your IDE or code editor set to an odd encoding? Are you using an experimental JavaFX library?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1655964057,"post_id":72724171,"comment_id":128457374,"body_markdown":"I advise using a recent JavaFX release. Some older versions had font rendering problems, especially on Mac, as [can be seen here](https://youtrack.jetbrains.com/issue/IDEA-266524/JavaFX-Scene-Builder-on-IntelliJ-labels-are-unrecognizable-on-macOS#focus=Comments-27-4834212.0-0) and on other questions about garbled fonts on StackOverflow.  Some of the fixes were backported to later releases of earlier versions.  I still think it is better to use a recent release, e.g. 18.0.1.  Even if you don&#39;t end up using the later version at least you know if it is a bug that has been fixed.","body":"I advise using a recent JavaFX release. Some older versions had font rendering problems, especially on Mac, as <a href=\"https://youtrack.jetbrains.com/issue/IDEA-266524/JavaFX-Scene-Builder-on-IntelliJ-labels-are-unrecognizable-on-macOS#focus=Comments-27-4834212.0-0\" rel=\"nofollow noreferrer\">can be seen here</a> and on other questions about garbled fonts on StackOverflow.  Some of the fixes were backported to later releases of earlier versions.  I still think it is better to use a recent release, e.g. 18.0.1.  Even if you don&#39;t end up using the later version at least you know if it is a bug that has been fixed."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655964365,"post_id":72724171,"comment_id":128457439,"body_markdown":"Some [similar questions](https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text), advise re-installing a font or checking character encoding, but I think it is more likely that it is a bug in JavaFX rendering on your os/font/javafx version combo, and, hopefully, upgrading the JavaFX version will fix it.","body":"Some <a href=\"https://stackoverflow.com/questions/66747171/why-javafx-application-and-scene-builder-is-showing-garbled-text\">similar questions</a>, advise re-installing a font or checking character encoding, but I think it is more likely that it is a bug in JavaFX rendering on your os/font/javafx version combo, and, hopefully, upgrading the JavaFX version will fix it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655964495,"post_id":72724171,"comment_id":128457467,"body_markdown":"The garbled text is the buttons looks like a platform font rendering bug, but the wrong numbers is the field is quite weird, it doesn&#39;t seem likely that the rendering bug would come out with wrong numbers, but I guess the highly improbable is still possible.","body":"The garbled text is the buttons looks like a platform font rendering bug, but the wrong numbers is the field is quite weird, it doesn&#39;t seem likely that the rendering bug would come out with wrong numbers, but I guess the highly improbable is still possible."},{"owner":{"account_id":25624657,"reputation":1,"user_id":19395926,"display_name":"Jacques van den Berg"},"score":0,"creation_date":1655967305,"post_id":72724171,"comment_id":128458293,"body_markdown":"@sorifiend So i am currently runnin \n\n```\njava version &quot;18&quot; 2022-03-22\nJava(TM) SE Runtime Environment (build 18+36-2087)\nJava HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)\n```\n\nand the latest version of JavaFX.\n\nI tried running the code on netbeans and got the exact same problem. at this point i dont know what else to do...","body":"@sorifiend So i am currently runnin   ``` java version &quot;18&quot; 2022-03-22 Java(TM) SE Runtime Environment (build 18+36-2087) Java HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing) ```  and the latest version of JavaFX.  I tried running the code on netbeans and got the exact same problem. at this point i dont know what else to do..."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1656003824,"post_id":72724171,"comment_id":128472021,"body_markdown":"I am unable to reproduce this on MacOS with Java/FX 17 LTS. You might [edit] your question to indicate host platform details and check your language settings and font availability.","body":"I am unable to reproduce this on MacOS with Java/FX 17 LTS. You might <a href=\"https://stackoverflow.com/posts/72724171/edit\">edit</a> your question to indicate host platform details and check your language settings and font availability."},{"owner":{"account_id":25624657,"reputation":1,"user_id":19395926,"display_name":"Jacques van den Berg"},"score":0,"creation_date":1656880614,"post_id":72724171,"comment_id":128673529,"body_markdown":"I have tried everything i can think of by now... Reinstalling of all system fonts and everything but something still is wrong and I have exams in 3 days and dont know what to do except a fresh install of windows","body":"I have tried everything i can think of by now... Reinstalling of all system fonts and everything but something still is wrong and I have exams in 3 days and dont know what to do except a fresh install of windows"}],"owner":{"account_id":25624657,"reputation":1,"user_id":19395926,"display_name":"Jacques van den Berg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656030068,"creation_date":1655954500,"question_id":72724171,"body_markdown":"I have to create a GUI using JavaFX on a Windowns PC ; when running the program, the letters print out completely weird, almost as if it is a different language. \r\n\r\nI tried to type in 001 into one of the text fields, but it typed 223. Example of funky looking text:\r\n\r\n[![Example of funky looking text][1]][1]\r\n\r\nThe only reason that the labels look normal is because I have specified that its font must be Verdana. Also, when printing text to the console, it prints out correctly; even when printing, the the button&#39;s text to the console it is correct.\r\n\r\nHere is the code:\r\n\r\n```\r\npackage com.itjva2.question3;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.TilePane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.FontWeight;\r\nimport javafx.stage.Stage;\r\n\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        \r\n        TextField txtPatientID = new TextField();\r\n        TextField txtName = new TextField();\r\n        TextField txtGender = new TextField();\r\n        TextField txtWeight = new TextField();\r\n        TextField txtHeight = new TextField();\r\n        TextField txtMessage = new TextField();\r\n        RadioButton rbMale = new RadioButton(&quot;Male&quot;);\r\n        RadioButton rbFemale = new RadioButton(&quot;Female&quot;);\r\n        \r\n //Variables for font height width color &amp; more\r\n        double dHeight = 40;\r\n        double dWidth = 250;\r\n\r\n//      Create 6 labels and 6 corresponding text boxes\r\n        //Labels\r\n        Label lblPatientID = new Label(&quot;Patient_ID&quot;);\r\n        double FontSize = 13;\r\n        lblPatientID.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        Label lblName = new Label(&quot;Name&quot;);\r\n        lblName.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        Label lblGender = new Label(&quot;Gender&quot;);\r\n        lblGender.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        Label lblWeight = new Label(&quot;Weight in Kg&quot;);\r\n        lblWeight.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        Label lblHeight = new Label(&quot;Height in metres&quot;);\r\n        lblHeight.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        Label lblMessage = new Label(&quot;Message&quot;);\r\n        lblMessage.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n\r\n        //RadioButton\r\n        TilePane r = new TilePane();\r\n        rbMale.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        rbFemale.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\r\n        r.getChildren().add(rbMale);\r\n        r.getChildren().add(rbFemale);\r\n        r.setHgap(195);\r\n        r.setPrefTileHeight(40);\r\n        r.relocate(0, 40*3);\r\n\r\n        //Buttons\r\n        Button btnCalculate = new Button(&quot;Calculate BMI&quot;);\r\n        Button btnDisplay = new Button(&quot;Display&quot;);\r\n\r\n//      Position all elements on the screen correctly\r\n        lblPatientID.relocate(5, 15);\r\n        txtPatientID.relocate(250, 0);\r\n        txtPatientID.setPrefWidth(dWidth);\r\n        txtPatientID.setPrefHeight(dHeight);\r\n        lblName.relocate(5, 55);\r\n        txtName.relocate(250, 40);\r\n        txtName.setPrefWidth(dWidth);\r\n        txtName.setPrefHeight(dHeight);\r\n        lblGender.relocate(5, 95);\r\n        txtGender.relocate(250, 40*2);\r\n        txtGender.setPrefWidth(dWidth);\r\n        txtGender.setPrefHeight(dHeight);\r\n        r.setStyle(&quot;-fx-background-color: #D6D5CB;&quot;);\r\n        lblWeight.relocate(5, 175);\r\n        txtWeight.relocate(250, 40*4);\r\n        txtWeight.setPrefWidth(dWidth);\r\n        txtWeight.setPrefHeight(dHeight);\r\n        lblHeight.relocate(5, 215);\r\n        txtHeight.relocate(250, 40*5);\r\n        txtHeight.setPrefWidth(dWidth);\r\n        txtHeight.setPrefHeight(dHeight);\r\n        lblMessage.relocate(5, 255);\r\n        txtMessage.relocate(250, 40*6);\r\n        txtMessage.setPrefWidth(dWidth);\r\n        txtMessage.setPrefHeight(dHeight);\r\n        btnCalculate.relocate(0, 40*7);\r\n        btnCalculate.setPrefWidth(dWidth);\r\n        btnCalculate.setPrefHeight(dHeight);\r\n        btnDisplay.relocate(250, 40*7);\r\n        btnDisplay.setPrefWidth(dWidth);\r\n        btnDisplay.setPrefHeight(dHeight);\r\n\r\n\r\n\r\n//      Group all elements together and add to the scene\r\n        Group grpAll = new Group(lblPatientID,lblName,lblGender,lblWeight,lblHeight,r,lblMessage,txtPatientID,txtName,txtGender,txtWeight,txtHeight,txtMessage,btnCalculate,btnDisplay);\r\n\r\n    //  FIX BUG Code\r\n//        grpAll.setStyle(chinese_fix);\r\n\r\n\r\n        Scene sceneMain = new Scene(grpAll, 500, 365);\r\n        sceneMain.setFill(Color.YELLOW);\r\n\r\n//      Set height &amp; title of the APP-Window\r\n        primaryStage.setTitle(&quot;GWC Timer App&quot;);\r\n        primaryStage.setWidth(500);\r\n        primaryStage.setHeight(365);\r\n\r\n//      Set the scene to the stage and show the stage\r\n        primaryStage.setScene(sceneMain);\r\n        primaryStage.show();\r\n\r\n        System.out.println(btnDisplay.getText());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NgnDq.png","title":"Java/JavaFX weird letter printing error on GUI","body":"<p>I have to create a GUI using JavaFX on a Windowns PC ; when running the program, the letters print out completely weird, almost as if it is a different language.</p>\n<p>I tried to type in 001 into one of the text fields, but it typed 223. Example of funky looking text:</p>\n<p><a href=\"https://i.stack.imgur.com/NgnDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NgnDq.png\" alt=\"Example of funky looking text\" /></a></p>\n<p>The only reason that the labels look normal is because I have specified that its font must be Verdana. Also, when printing text to the console, it prints out correctly; even when printing, the the button's text to the console it is correct.</p>\n<p>Here is the code:</p>\n<pre><code>package com.itjva2.question3;\n\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.TilePane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.FontWeight;\nimport javafx.stage.Stage;\n\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        TextField txtPatientID = new TextField();\n        TextField txtName = new TextField();\n        TextField txtGender = new TextField();\n        TextField txtWeight = new TextField();\n        TextField txtHeight = new TextField();\n        TextField txtMessage = new TextField();\n        RadioButton rbMale = new RadioButton(&quot;Male&quot;);\n        RadioButton rbFemale = new RadioButton(&quot;Female&quot;);\n        \n //Variables for font height width color &amp; more\n        double dHeight = 40;\n        double dWidth = 250;\n\n//      Create 6 labels and 6 corresponding text boxes\n        //Labels\n        Label lblPatientID = new Label(&quot;Patient_ID&quot;);\n        double FontSize = 13;\n        lblPatientID.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        Label lblName = new Label(&quot;Name&quot;);\n        lblName.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        Label lblGender = new Label(&quot;Gender&quot;);\n        lblGender.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        Label lblWeight = new Label(&quot;Weight in Kg&quot;);\n        lblWeight.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        Label lblHeight = new Label(&quot;Height in metres&quot;);\n        lblHeight.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        Label lblMessage = new Label(&quot;Message&quot;);\n        lblMessage.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n\n        //RadioButton\n        TilePane r = new TilePane();\n        rbMale.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        rbFemale.setFont(Font.font(&quot;Verdana&quot;, FontWeight.BOLD, FontSize));\n        r.getChildren().add(rbMale);\n        r.getChildren().add(rbFemale);\n        r.setHgap(195);\n        r.setPrefTileHeight(40);\n        r.relocate(0, 40*3);\n\n        //Buttons\n        Button btnCalculate = new Button(&quot;Calculate BMI&quot;);\n        Button btnDisplay = new Button(&quot;Display&quot;);\n\n//      Position all elements on the screen correctly\n        lblPatientID.relocate(5, 15);\n        txtPatientID.relocate(250, 0);\n        txtPatientID.setPrefWidth(dWidth);\n        txtPatientID.setPrefHeight(dHeight);\n        lblName.relocate(5, 55);\n        txtName.relocate(250, 40);\n        txtName.setPrefWidth(dWidth);\n        txtName.setPrefHeight(dHeight);\n        lblGender.relocate(5, 95);\n        txtGender.relocate(250, 40*2);\n        txtGender.setPrefWidth(dWidth);\n        txtGender.setPrefHeight(dHeight);\n        r.setStyle(&quot;-fx-background-color: #D6D5CB;&quot;);\n        lblWeight.relocate(5, 175);\n        txtWeight.relocate(250, 40*4);\n        txtWeight.setPrefWidth(dWidth);\n        txtWeight.setPrefHeight(dHeight);\n        lblHeight.relocate(5, 215);\n        txtHeight.relocate(250, 40*5);\n        txtHeight.setPrefWidth(dWidth);\n        txtHeight.setPrefHeight(dHeight);\n        lblMessage.relocate(5, 255);\n        txtMessage.relocate(250, 40*6);\n        txtMessage.setPrefWidth(dWidth);\n        txtMessage.setPrefHeight(dHeight);\n        btnCalculate.relocate(0, 40*7);\n        btnCalculate.setPrefWidth(dWidth);\n        btnCalculate.setPrefHeight(dHeight);\n        btnDisplay.relocate(250, 40*7);\n        btnDisplay.setPrefWidth(dWidth);\n        btnDisplay.setPrefHeight(dHeight);\n\n\n\n//      Group all elements together and add to the scene\n        Group grpAll = new Group(lblPatientID,lblName,lblGender,lblWeight,lblHeight,r,lblMessage,txtPatientID,txtName,txtGender,txtWeight,txtHeight,txtMessage,btnCalculate,btnDisplay);\n\n    //  FIX BUG Code\n//        grpAll.setStyle(chinese_fix);\n\n\n        Scene sceneMain = new Scene(grpAll, 500, 365);\n        sceneMain.setFill(Color.YELLOW);\n\n//      Set height &amp; title of the APP-Window\n        primaryStage.setTitle(&quot;GWC Timer App&quot;);\n        primaryStage.setWidth(500);\n        primaryStage.setHeight(365);\n\n//      Set the scene to the stage and show the stage\n        primaryStage.setScene(sceneMain);\n        primaryStage.show();\n\n        System.out.println(btnDisplay.getText());\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655867468,"creation_date":1655866292,"answer_id":72709148,"question_id":72708755,"body_markdown":"You need three changes:\r\n\r\n- Move the declaration of `ispresent` to just before the inner loop, so its value is reset for every item being checked\r\n- Move the check for `ispresent` until *after* checking *all* the items - ie *outside* the inner loop (and delete the `break` therein)\r\n- Fix the numerous spelling/syntax errors preventing your posted code from compiling\r\n\r\n```java\r\npublic void verifyItemsAreDisplayed(String columnname, String[] columntosearch) {\r\n    List&lt;string&gt; colitems = getRowData(columnname);\r\n    for (String item : colitemstosearch) {\r\n        boolean ispresent = false;\r\n        for (String all : items) {\r\n            if (item.contains(all) {\r\n                System.out.println(item + &quot; is displayed.&quot;);\r\n                ispresent = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!ispresent) {\r\n            System.out.println(item + &quot; is not displayed.&quot;;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"Selenium - search within a List&lt;String&gt; with another String[] or List&lt;String&gt;","body":"<p>You need three changes:</p>\n<ul>\n<li>Move the declaration of <code>ispresent</code> to just before the inner loop, so its value is reset for every item being checked</li>\n<li>Move the check for <code>ispresent</code> until <em>after</em> checking <em>all</em> the items - ie <em>outside</em> the inner loop (and delete the <code>break</code> therein)</li>\n<li>Fix the numerous spelling/syntax errors preventing your posted code from compiling</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public void verifyItemsAreDisplayed(String columnname, String[] columntosearch) {\n    List&lt;string&gt; colitems = getRowData(columnname);\n    for (String item : colitemstosearch) {\n        boolean ispresent = false;\n        for (String all : items) {\n            if (item.contains(all) {\n                System.out.println(item + &quot; is displayed.&quot;);\n                ispresent = true;\n                break;\n            }\n        }\n        if (!ispresent) {\n            System.out.println(item + &quot; is not displayed.&quot;;\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7719283,"reputation":3,"user_id":5845985,"display_name":"Maou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72709148,"answer_count":1,"score":-1,"last_activity_date":1656028506,"creation_date":1655861528,"question_id":72708755,"body_markdown":"I&#39;m a newbie when it comes to Selenium automation testing.\r\nHere&#39;s my problem\r\n\r\n    public void verifyItemsAreDisplayed(String columnname, String[] columntosearch) {\r\n           boolean ispresent = false;\r\n           List&lt;string&gt; colitems = getRowData(columnname); // this is getting all text from specific column of a grid using gettext\r\n           for (String item: colitemstosearch) {\r\n                for(String all: colitems) {\r\n                     if (item.contains(all) {\r\n                          system.out.println(item + &quot; is displayed.&quot;);\r\n                          ispresent = true;\r\n                          break;\r\n                     }\r\n                     if(!ispresent) {\r\n                          system.out.println(item + &quot; is not displayed.&quot;;\r\n                          break;\r\n                     }\r\n                }\r\n          }\r\n     }\r\n\r\nThis is the call method I use:\r\n\r\n    String[] values = {&quot;Not Started&quot;, &quot;In Progress&quot;, &quot;Complete&quot;}\r\n    test.verifyItemsAreDisplayed(&quot;ID&quot;, values);\r\n\r\nExpected output:\r\n\r\n    getRowData method output :\r\n    \r\n    Column name: ID\r\n    Row Size: 6\r\n    &gt; In Progress\r\n    &gt; In Progress\r\n    &gt; Not Started\r\n    &gt; Complete\r\n    &gt; Complete\r\n    &gt; Not Started\r\n    \r\n    verifyItemsAreDisplayed method output :\r\n    \r\n    Not Started is displayed.\r\n    In Progress is displayed.\r\n    Complete is displayed.\r\n\r\nWhat I got :\r\n\r\n    getRowData method output :\r\n    \r\n    Column name: ID\r\n    Row Size: 6\r\n    &gt; In Progress\r\n    &gt; In Progress\r\n    &gt; Not Started\r\n    &gt; Complete\r\n    &gt; Complete\r\n    &gt; Not Started\r\n    \r\n    verifyItemsAreDisplayed method output :\r\n    \r\n    Not Started is NOT displayed.\r\n    In Progress is displayed.\r\n\r\n\r\nThe other string that i used to search: Complete are not displayed in the output whether it&#39;s in the list or not.\r\n\r\nAnyone what went wrong with my code ? thanks\r\n\r\n\r\n","title":"Selenium - search within a List&lt;String&gt; with another String[] or List&lt;String&gt;","body":"<p>I'm a newbie when it comes to Selenium automation testing.\nHere's my problem</p>\n<pre><code>public void verifyItemsAreDisplayed(String columnname, String[] columntosearch) {\n       boolean ispresent = false;\n       List&lt;string&gt; colitems = getRowData(columnname); // this is getting all text from specific column of a grid using gettext\n       for (String item: colitemstosearch) {\n            for(String all: colitems) {\n                 if (item.contains(all) {\n                      system.out.println(item + &quot; is displayed.&quot;);\n                      ispresent = true;\n                      break;\n                 }\n                 if(!ispresent) {\n                      system.out.println(item + &quot; is not displayed.&quot;;\n                      break;\n                 }\n            }\n      }\n }\n</code></pre>\n<p>This is the call method I use:</p>\n<pre><code>String[] values = {&quot;Not Started&quot;, &quot;In Progress&quot;, &quot;Complete&quot;}\ntest.verifyItemsAreDisplayed(&quot;ID&quot;, values);\n</code></pre>\n<p>Expected output:</p>\n<pre><code>getRowData method output :\n\nColumn name: ID\nRow Size: 6\n&gt; In Progress\n&gt; In Progress\n&gt; Not Started\n&gt; Complete\n&gt; Complete\n&gt; Not Started\n\nverifyItemsAreDisplayed method output :\n\nNot Started is displayed.\nIn Progress is displayed.\nComplete is displayed.\n</code></pre>\n<p>What I got :</p>\n<pre><code>getRowData method output :\n\nColumn name: ID\nRow Size: 6\n&gt; In Progress\n&gt; In Progress\n&gt; Not Started\n&gt; Complete\n&gt; Complete\n&gt; Not Started\n\nverifyItemsAreDisplayed method output :\n\nNot Started is NOT displayed.\nIn Progress is displayed.\n</code></pre>\n<p>The other string that i used to search: Complete are not displayed in the output whether it's in the list or not.</p>\n<p>Anyone what went wrong with my code ? thanks</p>\n"},{"tags":["java","multithreading","java.util.concurrent","completable-future","concurrent.futures"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1534430674,"post_id":51879659,"comment_id":90711001,"body_markdown":"Didn&#39;t analyze your code in depth but this most likely has to due with the fact the threads in the `ForkJoinPool` are _daemon_ threads whereas the threads in your `ExecutorService` are not.","body":"Didn&#39;t analyze your code in depth but this most likely has to due with the fact the threads in the <code>ForkJoinPool</code> are <i>daemon</i> threads whereas the threads in your <code>ExecutorService</code> are not."},{"owner":{"account_id":7245967,"reputation":119,"user_id":5527839,"display_name":"Piyush Kumar"},"score":0,"creation_date":1534430870,"post_id":51879659,"comment_id":90711116,"body_markdown":"@Slaw how will it make the difference. Whether its daemon thread or executorservice pool thread, it should execute the async calls","body":"@Slaw how will it make the difference. Whether its daemon thread or executorservice pool thread, it should execute the async calls"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1534430954,"post_id":51879659,"comment_id":90711184,"body_markdown":"Because your main thread simply launches the async tasks and exits. Since the `ForkJoinPool` threads are daemon threads they don&#39;t keep the JVM alive. In other words, the only non-daemon thread (the main thread) exits and therefore the JVM exits before your async code completes. This is why calling `get()` makes it work; it causes the main thread to wait (thus keeping it alive).","body":"Because your main thread simply launches the async tasks and exits. Since the <code>ForkJoinPool</code> threads are daemon threads they don&#39;t keep the JVM alive. In other words, the only non-daemon thread (the main thread) exits and therefore the JVM exits before your async code completes. This is why calling <code>get()</code> makes it work; it causes the main thread to wait (thus keeping it alive)."},{"owner":{"account_id":7245967,"reputation":119,"user_id":5527839,"display_name":"Piyush Kumar"},"score":0,"creation_date":1534431443,"post_id":51879659,"comment_id":90711508,"body_markdown":"@Slaw That makes sense. Is there any other elegant way to make this run while using `ForkJoinPool` common pool threads and not using studentCompletableFuture.get(). In java 9, there is a way by using studentCompletableFuture.completeOnTimeout or by using studentCompletableFuture.orTimeout(). But, how to do in java8?","body":"@Slaw That makes sense. Is there any other elegant way to make this run while using <code>ForkJoinPool</code> common pool threads and not using studentCompletableFuture.get(). In java 9, there is a way by using studentCompletableFuture.completeOnTimeout or by using studentCompletableFuture.orTimeout(). But, how to do in java8?"},{"owner":{"account_id":7245967,"reputation":119,"user_id":5527839,"display_name":"Piyush Kumar"},"score":0,"creation_date":1534431931,"post_id":51879659,"comment_id":90711803,"body_markdown":"@Slaw I just checked ForkJoinPool common threads are not daemon thread by using  `System.out.println(&quot;The thread is :: &quot;+ Thread.currentThread().getName() + Thread.currentThread().isDaemon());`\nOn 2nd thought, whether its daemon thread or not, these threads have the task to complete then why these are letting the main thread to exit.","body":"@Slaw I just checked ForkJoinPool common threads are not daemon thread by using  <code>System.out.println(&quot;The thread is :: &quot;+ Thread.currentThread().getName() + Thread.currentThread().isDaemon());</code> On 2nd thought, whether its daemon thread or not, these threads have the task to complete then why these are letting the main thread to exit."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1534434538,"post_id":51879659,"comment_id":90713314,"body_markdown":"When the main thread exits the `main` method it has completed its work and dies. The other threads have no effect on this unless the main thread is told to wait for them to complete before continuing. Remember, `supplyAsync` calls the `Supplier` on a _different_ thread than the caller and the caller thread returns immediately.","body":"When the main thread exits the <code>main</code> method it has completed its work and dies. The other threads have no effect on this unless the main thread is told to wait for them to complete before continuing. Remember, <code>supplyAsync</code> calls the <code>Supplier</code> on a <i>different</i> thread than the caller and the caller thread returns immediately."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1656028377,"creation_date":1534434021,"answer_id":51880799,"question_id":51879659,"body_markdown":"**TL;DR:** The `ForkJoinPool` uses _daemon_ threads, whereas the `ExecutorService` is using _non-daemon_ threads. The latter keep the JVM alive; the former do not. Also, the main thread is a _non-daemon_ thread and when you block it waiting for the `CompletableFuture` to complete it remains alive (thus keeping the JVM alive).\r\n\r\n---\r\n\r\n# Daemon vs Non-Daemon Threads\r\n\r\nA `Thread` in Java can either be a _daemon_ thread or a _non-daemon_ thread. A _daemon_ thread does not keep the JVM alive. This behavior is [documented][1]:\r\n\r\n&gt; When a Java Virtual Machine starts up, there is usually a single non-daemon thread (which typically calls the method named `main` of some designated class). **The Java Virtual Machine continues to execute threads until either of the following occurs** _[emphasis added]_:\r\n&gt;\r\n&gt;* The `exit` method of class `Runtime` has been called and the security manager has permitted the exit operation to take place.\r\n&gt;* **All threads that are not daemon threads have died** _[emphasis added]_, either by returning from the call to the `run` method or by throwing an exception that propagates beyond the `run` method.\r\n\r\nIn other words, it doesn&#39;t matter how many _daemon_ threads are alive or what they&#39;re doing—if there are no _non-daemon_ threads alive then the JVM will exit.\r\n\r\n&lt;sup&gt;**Note:** [Virtual threads][5], which are set to be a preview feature in Java 19, can only ever be _daemon_ threads.&lt;/sup&gt;\r\n\r\n## &quot;Main&quot; Thread\r\n\r\nAs noted in the above documentation, there is typically a single _non-daemon_ thread when a JVM starts. And this thread is usually the one that invokes the main method. Unless other _non-daemon_ threads are started (and stay alive) the JVM will exit once the main thread terminates.\r\n\r\n## ForkJoinPool\r\n\r\nA `ForkJoinPool` uses _daemon_ threads, at least by default. This behavior is also [documented][2]:\r\n\r\n&gt;All worker threads are initialized with [`Thread.isDaemon()`][3] set `true`.\r\n\r\n&lt;sup&gt;_– Last sentence, second paragraph of class Javadoc_&lt;/sup&gt;\r\n\r\nThis means work submitted to the `ForkJoinPool` will not keep the JVM alive.\r\n\r\n## ExecutorService\r\n\r\nMost of the `ExecutorService` instances returned by the factory methods in `Executors` are configured to use _non-daemon_ threads by default. Unfortunately this default behavior does not seem to be documented. If you want the pool to use _daemon_ threads, however, then you can supply a `ThreadFactory`.\r\n\r\nAn exception to this default behavior are the `#newWorkStealingPool(...)` methods. They return a `ForkJoinPool` (an implementation detail).\r\n\r\n---\r\n\r\n# The Behavior of Your Code\r\n\r\nThe differences in behavior between the different versions of your code can be explained by the use of _non-daemon_ threads versus _daemon_ threads.\r\n\r\n## No Waiting for Task to Complete\r\n\r\nYour original code looks like this (vastly simplified):\r\n\r\n```java\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    CompletableFuture.runAsync(\r\n        () -&gt; {\r\n          System.out.println(&quot;Sleeping...&quot;);\r\n          Thread.sleep(2000L); // try-catch omitted for brevity\r\n          System.out.println(&quot;Done!&quot;);\r\n        });\r\n  }\r\n}\r\n```\r\n\r\nThat code is launching an asynchronous task via [`CompletableFuture#runAsync(Runnable)`][4], which:\r\n\r\n&gt;Returns a new CompletableFuture that is asynchronously completed by a task running in the `ForkJoinPool.commonPool()` after it runs the given action.\r\n\r\nAs you can see the task is passed to the common `ForkJoinPool`. That means the task is being executed by a _daemon_ thread. You also do not wait for the task to complete. The `runAsync` call submits the task and returns immediately. Then the main thread simply exits the main method and terminates. Since the only _non-daemon_ thread has terminated the JVM also exits—before the asynchronous task had time to complete.\r\n\r\n## Waiting for Task to Complete\r\n\r\nWhen you modify your code to wait on the future:\r\n\r\n```java\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    CompletableFuture.runAsync(\r\n            () -&gt; {\r\n              System.out.println(&quot;Sleeping...&quot;);\r\n              Thread.sleep(2000L); // try-catch omitted for brevity\r\n              System.out.println(&quot;Done!&quot;);\r\n            })\r\n        .get(); // wait for future to complete\r\n  }\r\n}\r\n```\r\n\r\nYou are now blocking the main thread in the `get()` call. Said thread remains blocked until it&#39;s interrupted or the task completes (normally or exceptionally). This means a _non-daemon_ thread remains alive until the task completes, thus the JVM stays alive.\r\n\r\n## Using Custom ExecutorService\r\n\r\nModifying the original code again, this time to use a custom `ExecutorService`:\r\n\r\n```java\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    ExecutorService executor = Executors.newCachedThreadPool();\r\n    CompletableFuture.runAsync(\r\n        () -&gt; {\r\n          System.out.println(&quot;Sleeping...&quot;);\r\n          Thread.sleep(2000L); // try-catch omitted for brevity\r\n          System.out.println(&quot;Done!&quot;);\r\n        },\r\n        executor); // use custom ExecutorService\r\n    executor.shutdown();\r\n  }\r\n}\r\n```\r\n\r\nNow instead of using the common `ForkJoinPool` the task is submitted to the given `ExecutorService`. In this case that thread pool is using _non-daemon_ threads. And that means those threads will keep the JVM alive. This is true even though the main thread is allowed to exit the main method and terminate before the task completes.\r\n\r\nThe fact _non-daemon_ threads are being used is why it&#39;s important to call `#shutdown()`. Without that the threads are allowed to persist and keep the JVM alive &quot;indefinitely&quot;. Though it&#39;s possible a &quot;cached thread pool&quot;, specifically, may allow all threads to eventually die from being idle too long.\r\n\r\nNote calling `#shutdown()` still allows all already-submitted tasks to complete.\r\n\r\n---\r\n\r\n# Addressing Comments\r\n\r\nIn one of your comments you ask:\r\n\r\n&gt;Is there any other elegant way to make this run while using ForkJoinPool common pool threads and not using studentCompletableFuture.get().\r\n\r\nI&#39;m not sure what you would consider more &quot;elegant&quot;, but you could use the `#join()` method instead. That method behaves very similarly to `#get()` without throwing checked exceptions. But be warned: A call to `#join()` **cannot be interrupted**. There&#39;s also no timeout overload (though you can combine it with `orTimeout` / `completeOnTimeout` in Java 9+).\r\n\r\nIn another one of your comments you mention:\r\n\r\n&gt;I just checked ForkJoinPool common threads are not daemon thread by using `System.out.println(&quot;The thread is :: &quot;+ Thread.currentThread().getName() + Thread.currentThread().isDaemon());`\r\n\r\nI don&#39;t know why or how you&#39;re seeing that, but the following:\r\n\r\n```java\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    CompletableFuture.runAsync(\r\n            () -&gt; {\r\n              Thread t = Thread.currentThread();\r\n              System.out.printf(&quot;Thread[name=%s, daemon=%s]%n&quot;, t.getName(), t.isDaemon());\r\n            })\r\n        .join();\r\n  }\r\n}\r\n```\r\n\r\nGives this output:\r\n\r\n```none\r\nThread[name=ForkJoinPool.commonPool-worker-3, daemon=true]\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\r\n  [3]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html#isDaemon()\r\n  [4]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/CompletableFuture.html#runAsync(java.lang.Runnable)\r\n  [5]: https://openjdk.org/jeps/425","title":"CompletableFuture is not getting executed. If I use the ExecutorService pool it works as expected but not with the common ForkJoinPool","body":"<p><strong>TL;DR:</strong> The <code>ForkJoinPool</code> uses <em>daemon</em> threads, whereas the <code>ExecutorService</code> is using <em>non-daemon</em> threads. The latter keep the JVM alive; the former do not. Also, the main thread is a <em>non-daemon</em> thread and when you block it waiting for the <code>CompletableFuture</code> to complete it remains alive (thus keeping the JVM alive).</p>\n<hr />\n<h1>Daemon vs Non-Daemon Threads</h1>\n<p>A <code>Thread</code> in Java can either be a <em>daemon</em> thread or a <em>non-daemon</em> thread. A <em>daemon</em> thread does not keep the JVM alive. This behavior is <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html\" rel=\"noreferrer\">documented</a>:</p>\n<blockquote>\n<p>When a Java Virtual Machine starts up, there is usually a single non-daemon thread (which typically calls the method named <code>main</code> of some designated class). <strong>The Java Virtual Machine continues to execute threads until either of the following occurs</strong> <em>[emphasis added]</em>:</p>\n<ul>\n<li>The <code>exit</code> method of class <code>Runtime</code> has been called and the security manager has permitted the exit operation to take place.</li>\n<li><strong>All threads that are not daemon threads have died</strong> <em>[emphasis added]</em>, either by returning from the call to the <code>run</code> method or by throwing an exception that propagates beyond the <code>run</code> method.</li>\n</ul>\n</blockquote>\n<p>In other words, it doesn't matter how many <em>daemon</em> threads are alive or what they're doing—if there are no <em>non-daemon</em> threads alive then the JVM will exit.</p>\n<p><sup><strong>Note:</strong> <a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">Virtual threads</a>, which are set to be a preview feature in Java 19, can only ever be <em>daemon</em> threads.</sup></p>\n<h2>&quot;Main&quot; Thread</h2>\n<p>As noted in the above documentation, there is typically a single <em>non-daemon</em> thread when a JVM starts. And this thread is usually the one that invokes the main method. Unless other <em>non-daemon</em> threads are started (and stay alive) the JVM will exit once the main thread terminates.</p>\n<h2>ForkJoinPool</h2>\n<p>A <code>ForkJoinPool</code> uses <em>daemon</em> threads, at least by default. This behavior is also <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html\" rel=\"noreferrer\">documented</a>:</p>\n<blockquote>\n<p>All worker threads are initialized with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Thread.html#isDaemon()\" rel=\"noreferrer\"><code>Thread.isDaemon()</code></a> set <code>true</code>.</p>\n</blockquote>\n<p><sup><em>– Last sentence, second paragraph of class Javadoc</em></sup></p>\n<p>This means work submitted to the <code>ForkJoinPool</code> will not keep the JVM alive.</p>\n<h2>ExecutorService</h2>\n<p>Most of the <code>ExecutorService</code> instances returned by the factory methods in <code>Executors</code> are configured to use <em>non-daemon</em> threads by default. Unfortunately this default behavior does not seem to be documented. If you want the pool to use <em>daemon</em> threads, however, then you can supply a <code>ThreadFactory</code>.</p>\n<p>An exception to this default behavior are the <code>#newWorkStealingPool(...)</code> methods. They return a <code>ForkJoinPool</code> (an implementation detail).</p>\n<hr />\n<h1>The Behavior of Your Code</h1>\n<p>The differences in behavior between the different versions of your code can be explained by the use of <em>non-daemon</em> threads versus <em>daemon</em> threads.</p>\n<h2>No Waiting for Task to Complete</h2>\n<p>Your original code looks like this (vastly simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.CompletableFuture;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    CompletableFuture.runAsync(\n        () -&gt; {\n          System.out.println(&quot;Sleeping...&quot;);\n          Thread.sleep(2000L); // try-catch omitted for brevity\n          System.out.println(&quot;Done!&quot;);\n        });\n  }\n}\n</code></pre>\n<p>That code is launching an asynchronous task via <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/CompletableFuture.html#runAsync(java.lang.Runnable)\" rel=\"noreferrer\"><code>CompletableFuture#runAsync(Runnable)</code></a>, which:</p>\n<blockquote>\n<p>Returns a new CompletableFuture that is asynchronously completed by a task running in the <code>ForkJoinPool.commonPool()</code> after it runs the given action.</p>\n</blockquote>\n<p>As you can see the task is passed to the common <code>ForkJoinPool</code>. That means the task is being executed by a <em>daemon</em> thread. You also do not wait for the task to complete. The <code>runAsync</code> call submits the task and returns immediately. Then the main thread simply exits the main method and terminates. Since the only <em>non-daemon</em> thread has terminated the JVM also exits—before the asynchronous task had time to complete.</p>\n<h2>Waiting for Task to Complete</h2>\n<p>When you modify your code to wait on the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.CompletableFuture;\n\npublic class Main {\n\n  public static void main(String[] args) throws Exception {\n    CompletableFuture.runAsync(\n            () -&gt; {\n              System.out.println(&quot;Sleeping...&quot;);\n              Thread.sleep(2000L); // try-catch omitted for brevity\n              System.out.println(&quot;Done!&quot;);\n            })\n        .get(); // wait for future to complete\n  }\n}\n</code></pre>\n<p>You are now blocking the main thread in the <code>get()</code> call. Said thread remains blocked until it's interrupted or the task completes (normally or exceptionally). This means a <em>non-daemon</em> thread remains alive until the task completes, thus the JVM stays alive.</p>\n<h2>Using Custom ExecutorService</h2>\n<p>Modifying the original code again, this time to use a custom <code>ExecutorService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    ExecutorService executor = Executors.newCachedThreadPool();\n    CompletableFuture.runAsync(\n        () -&gt; {\n          System.out.println(&quot;Sleeping...&quot;);\n          Thread.sleep(2000L); // try-catch omitted for brevity\n          System.out.println(&quot;Done!&quot;);\n        },\n        executor); // use custom ExecutorService\n    executor.shutdown();\n  }\n}\n</code></pre>\n<p>Now instead of using the common <code>ForkJoinPool</code> the task is submitted to the given <code>ExecutorService</code>. In this case that thread pool is using <em>non-daemon</em> threads. And that means those threads will keep the JVM alive. This is true even though the main thread is allowed to exit the main method and terminate before the task completes.</p>\n<p>The fact <em>non-daemon</em> threads are being used is why it's important to call <code>#shutdown()</code>. Without that the threads are allowed to persist and keep the JVM alive &quot;indefinitely&quot;. Though it's possible a &quot;cached thread pool&quot;, specifically, may allow all threads to eventually die from being idle too long.</p>\n<p>Note calling <code>#shutdown()</code> still allows all already-submitted tasks to complete.</p>\n<hr />\n<h1>Addressing Comments</h1>\n<p>In one of your comments you ask:</p>\n<blockquote>\n<p>Is there any other elegant way to make this run while using ForkJoinPool common pool threads and not using studentCompletableFuture.get().</p>\n</blockquote>\n<p>I'm not sure what you would consider more &quot;elegant&quot;, but you could use the <code>#join()</code> method instead. That method behaves very similarly to <code>#get()</code> without throwing checked exceptions. But be warned: A call to <code>#join()</code> <strong>cannot be interrupted</strong>. There's also no timeout overload (though you can combine it with <code>orTimeout</code> / <code>completeOnTimeout</code> in Java 9+).</p>\n<p>In another one of your comments you mention:</p>\n<blockquote>\n<p>I just checked ForkJoinPool common threads are not daemon thread by using <code>System.out.println(&quot;The thread is :: &quot;+ Thread.currentThread().getName() + Thread.currentThread().isDaemon());</code></p>\n</blockquote>\n<p>I don't know why or how you're seeing that, but the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.CompletableFuture;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    CompletableFuture.runAsync(\n            () -&gt; {\n              Thread t = Thread.currentThread();\n              System.out.printf(&quot;Thread[name=%s, daemon=%s]%n&quot;, t.getName(), t.isDaemon());\n            })\n        .join();\n  }\n}\n</code></pre>\n<p>Gives this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread[name=ForkJoinPool.commonPool-worker-3, daemon=true]\n</code></pre>\n"}],"owner":{"account_id":7245967,"reputation":119,"user_id":5527839,"display_name":"Piyush Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5834,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1656028377,"creation_date":1534430320,"question_id":51879659,"body_markdown":"I am trying to run the following class its getting terminated without executing the CompletableFuture.\r\n\r\n    public class ThenApplyExample {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //ExecutorService es = Executors.newCachedThreadPool();\r\n        CompletableFuture&lt;Student&gt; studentCompletableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n\r\n            try {\r\n\r\n                TimeUnit.SECONDS.sleep(2);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return 3;\r\n        })// If I put executorservice created n commented above, programme work as expected.\r\n                .thenApply(i -&gt; {\r\n\r\n                    for (int j = 0; j &lt;= i; j++) {\r\n                        System.out.println(&quot;Inside first then apply&quot;);\r\n                    }\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;First then apply is finished&quot;);\r\n                    return ++i;\r\n                })\r\n                .thenApply(i -&gt; {\r\n                    System.out.println(&quot;Inside 2nd then apply&quot;);\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;Inside 2nd then apply stopped&quot;);\r\n\r\n                    return i++;\r\n                })\r\n                .thenApply(i -&gt; {\r\n                    System.out.println(&quot;Inside 3nd then apply&quot;);\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    System.out.println(&quot;Inside 3nd then apply stopped&quot;);\r\n                    return &quot;The i is ::: &quot; + i;\r\n                })\r\n                .thenApply(s -&gt; Student.builder().id(1).name(s).address(&quot;Some address&quot;).build());\r\n        System.out.println(&quot;Executing..&quot;);\r\n        System.out.println(&quot;Executing..&quot;);\r\n        System.out.println(&quot;Executing..&quot;);\r\n        System.out.println(&quot;Executing..&quot;);\r\n        System.out.println(&quot;Executing..&quot;);\r\n\r\n        //es.shutdown();\r\n    }\r\n    } \r\n\r\n**Output I am getting is**\r\n    \r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n\r\n**Whereas expected output is** \r\n\r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n    Executing..\r\n    Inside first then apply\r\n    Inside first then apply\r\n    Inside first then apply\r\n    Inside first then apply\r\n    First then apply is finished\r\n    Inside 2nd then apply\r\n    Inside 2nd then apply stopped\r\n    Inside 3nd then apply\r\n    Inside 3nd then apply stopped\r\n\r\n&gt; **Note :** In the above programme, I am not using studentCompletableFuture.get(). I dont want to use it since it blocks the code. \r\n\r\nIf I add **studentCompletableFuture.get()** at the very end of the programme, it works as expected or if I add the **executorservice** in the supplyAsync 2nd argument(check comment in programme), it works again as expected.\r\n\r\n**My question is why it is terminating when programme uses the default ForkJoin common pool?**","title":"CompletableFuture is not getting executed. If I use the ExecutorService pool it works as expected but not with the common ForkJoinPool","body":"<p>I am trying to run the following class its getting terminated without executing the CompletableFuture.</p>\n\n<pre><code>public class ThenApplyExample {\n\npublic static void main(String[] args) throws Exception {\n    //ExecutorService es = Executors.newCachedThreadPool();\n    CompletableFuture&lt;Student&gt; studentCompletableFuture = CompletableFuture.supplyAsync(() -&gt; {\n\n        try {\n\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return 3;\n    })// If I put executorservice created n commented above, programme work as expected.\n            .thenApply(i -&gt; {\n\n                for (int j = 0; j &lt;= i; j++) {\n                    System.out.println(\"Inside first then apply\");\n                }\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(\"First then apply is finished\");\n                return ++i;\n            })\n            .thenApply(i -&gt; {\n                System.out.println(\"Inside 2nd then apply\");\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(\"Inside 2nd then apply stopped\");\n\n                return i++;\n            })\n            .thenApply(i -&gt; {\n                System.out.println(\"Inside 3nd then apply\");\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(\"Inside 3nd then apply stopped\");\n                return \"The i is ::: \" + i;\n            })\n            .thenApply(s -&gt; Student.builder().id(1).name(s).address(\"Some address\").build());\n    System.out.println(\"Executing..\");\n    System.out.println(\"Executing..\");\n    System.out.println(\"Executing..\");\n    System.out.println(\"Executing..\");\n    System.out.println(\"Executing..\");\n\n    //es.shutdown();\n}\n} \n</code></pre>\n\n<p><strong>Output I am getting is</strong></p>\n\n<pre><code>Executing..\nExecuting..\nExecuting..\nExecuting..\nExecuting..\n</code></pre>\n\n<p><strong>Whereas expected output is</strong> </p>\n\n<pre><code>Executing..\nExecuting..\nExecuting..\nExecuting..\nExecuting..\nInside first then apply\nInside first then apply\nInside first then apply\nInside first then apply\nFirst then apply is finished\nInside 2nd then apply\nInside 2nd then apply stopped\nInside 3nd then apply\nInside 3nd then apply stopped\n</code></pre>\n\n<blockquote>\n  <p><strong>Note :</strong> In the above programme, I am not using studentCompletableFuture.get(). I dont want to use it since it blocks the code. </p>\n</blockquote>\n\n<p>If I add <strong>studentCompletableFuture.get()</strong> at the very end of the programme, it works as expected or if I add the <strong>executorservice</strong> in the supplyAsync 2nd argument(check comment in programme), it works again as expected.</p>\n\n<p><strong>My question is why it is terminating when programme uses the default ForkJoin common pool?</strong></p>\n"},{"tags":["java","version","environment-variables","java-home"],"comments":[{"owner":{"account_id":1421343,"reputation":451,"user_id":1345883,"accept_rate":29,"display_name":"user1345883"},"score":0,"creation_date":1337610188,"post_id":10687093,"comment_id":13870220,"body_markdown":"It doesn&#39;t give any error btw","body":"It doesn&#39;t give any error btw"},{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":1,"creation_date":1337610238,"post_id":10687093,"comment_id":13870245,"body_markdown":"Show output of `echo %PATH%`.","body":"Show output of <code>echo %PATH%</code>."},{"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"score":1,"creation_date":1337610329,"post_id":10687093,"comment_id":13870304,"body_markdown":"That isn&#39;t enough. Prepend `JAVA_HOME\\bin` to `PATH`.","body":"That isn&#39;t enough. Prepend <code>JAVA_HOME\\bin</code> to <code>PATH</code>."}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1337610313,"creation_date":1337610313,"answer_id":10687127,"question_id":10687093,"body_markdown":"Make sure that the `PATH` environment variable is pointing to `%JAVA_HOME%\\bin`.","title":"JAVA_HOME and java -version","body":"<p>Make sure that the <code>PATH</code> environment variable is pointing to <code>%JAVA_HOME%\\bin</code>.</p>\n"},{"tags":[],"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337610405,"creation_date":1337610405,"answer_id":10687153,"question_id":10687093,"body_markdown":"Calling `java -version` from command line, causes cmd.exe to do the lookup on the &quot;known&quot; directories. &quot;Known&quot; means PATH environment variable. It seems that your PATH contains a java 1.3 `bin` folder, and not 1.6.\r\n\r\nJAVA_HOME is another variable, that is used (for example, and not only) by java wrappers, or by scripts executing some java stuff.\r\n\r\nTry doing this:\r\n\r\n    SET JAVA_HOME=C:/Program Files/Java/jdk1.6.0_32\r\n    %JAVA_HOME%/bin/java -version\r\n\r\nAdd quotes where needed.","title":"JAVA_HOME and java -version","body":"<p>Calling <code>java -version</code> from command line, causes cmd.exe to do the lookup on the \"known\" directories. \"Known\" means PATH environment variable. It seems that your PATH contains a java 1.3 <code>bin</code> folder, and not 1.6.</p>\n\n<p>JAVA_HOME is another variable, that is used (for example, and not only) by java wrappers, or by scripts executing some java stuff.</p>\n\n<p>Try doing this:</p>\n\n<pre><code>SET JAVA_HOME=C:/Program Files/Java/jdk1.6.0_32\n%JAVA_HOME%/bin/java -version\n</code></pre>\n\n<p>Add quotes where needed.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1337610454,"creation_date":1337610454,"answer_id":10687166,"question_id":10687093,"body_markdown":"Try `%JAVA_HOME%\\bin\\java -version`\r\n\r\nIf you modify `JAVA_HOME`, it&#39;s usually better to invoke `java` with an absolute path (using `JAVA_HOME`) because the new binary is probably not in the path (and then Windows will load the wrong binary).","title":"JAVA_HOME and java -version","body":"<p>Try <code>%JAVA_HOME%\\bin\\java -version</code></p>\n\n<p>If you modify <code>JAVA_HOME</code>, it's usually better to invoke <code>java</code> with an absolute path (using <code>JAVA_HOME</code>) because the new binary is probably not in the path (and then Windows will load the wrong binary).</p>\n"},{"tags":[],"owner":{"account_id":1853194,"reputation":141,"user_id":2742599,"display_name":"A_rnO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503558624,"creation_date":1351113655,"answer_id":13057939,"question_id":10687093,"body_markdown":"Be sure not to mix the system variable path and the user variable system path. I feel OK in calling `java` without the absolute path (when I know how `JAVA_HOME` and `PATH` are configured).","title":"JAVA_HOME and java -version","body":"<p>Be sure not to mix the system variable path and the user variable system path. I feel OK in calling <code>java</code> without the absolute path (when I know how <code>JAVA_HOME</code> and <code>PATH</code> are configured).</p>\n"},{"tags":[],"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1486723314,"creation_date":1486723314,"answer_id":42157339,"question_id":10687093,"body_markdown":"For me the issue was in my PATH variable, `C:\\ProgramData\\Oracle\\Java\\javapath;` was added by java windows install before my `%JAVA_HOME%\\bin;`.\r\nSo I&#39;d `echo %JAVA_HOME%` pointing to a JDK7 and `java -version` showing jdk8.\r\n\r\nI&#39;d to put `%JAVA_HOME%\\bin;` before `C:\\ProgramData\\Oracle\\Java\\javapath;` so that `java -version` displays jdk7.","title":"JAVA_HOME and java -version","body":"<p>For me the issue was in my PATH variable, <code>C:\\ProgramData\\Oracle\\Java\\javapath;</code> was added by java windows install before my <code>%JAVA_HOME%\\bin;</code>.\nSo I'd <code>echo %JAVA_HOME%</code> pointing to a JDK7 and <code>java -version</code> showing jdk8.</p>\n\n<p>I'd to put <code>%JAVA_HOME%\\bin;</code> before <code>C:\\ProgramData\\Oracle\\Java\\javapath;</code> so that <code>java -version</code> displays jdk7.</p>\n"},{"tags":[],"owner":{"account_id":3653998,"reputation":5437,"user_id":3045483,"accept_rate":86,"display_name":"rajeev pani.."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494085229,"creation_date":1494085229,"answer_id":43822310,"question_id":10687093,"body_markdown":"I had similar issue,in my case , I had two versions java installed. it can be fixed by uninstalling one version of java completely from system. ","title":"JAVA_HOME and java -version","body":"<p>I had similar issue,in my case , I had two versions java installed. it can be fixed by uninstalling one version of java completely from system. </p>\n"},{"tags":[],"owner":{"account_id":4711421,"reputation":121,"user_id":3811820,"accept_rate":33,"display_name":"DanBot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576059997,"creation_date":1576059997,"answer_id":59283641,"question_id":10687093,"body_markdown":"Had a similar scenario today - two Windows 10 devices - both have JRE 1.6 &amp; 1.7.\r\n\r\nWhen typing\r\n\r\n     Java -version \r\n\r\nOne device shows 1.6 the other 1.7.\r\n\r\nThis was preventing me running a third party JAR to install some software on the device showing 1.6 (which worked fine on the device showing 1.7 when running java -version), using:\r\n\r\n      java -jar ThirdParty.jar \r\n\r\n\r\nAs the JAR needed to be run by 1.7. \r\n\r\n\r\nCause of this was in the PATH environment variable - one device had the location of 1.6 first in the PATH list, moving the 1.7 location above the 1.6 location resulted in consistency using Java -version and allowed me to install the software.\r\n\r\n","title":"JAVA_HOME and java -version","body":"<p>Had a similar scenario today - two Windows 10 devices - both have JRE 1.6 &amp; 1.7.</p>\n\n<p>When typing</p>\n\n<pre><code> Java -version \n</code></pre>\n\n<p>One device shows 1.6 the other 1.7.</p>\n\n<p>This was preventing me running a third party JAR to install some software on the device showing 1.6 (which worked fine on the device showing 1.7 when running java -version), using:</p>\n\n<pre><code>  java -jar ThirdParty.jar \n</code></pre>\n\n<p>As the JAR needed to be run by 1.7. </p>\n\n<p>Cause of this was in the PATH environment variable - one device had the location of 1.6 first in the PATH list, moving the 1.7 location above the 1.6 location resulted in consistency using Java -version and allowed me to install the software.</p>\n"},{"tags":[],"owner":{"account_id":12969102,"reputation":43,"user_id":9375488,"display_name":"pedagogyfirst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656027949,"creation_date":1656027949,"answer_id":72737663,"question_id":10687093,"body_markdown":"`java -version` will consult the paths in the *special* environment variable **Path**. You need to select the java version you want and move it upwards the latter (click &quot;Move Up&quot;). You probably have that reference to JDK 1.3 in **Path** above your addition of JDK 1.6. Since that&#39;s the first thing the OS finds, that&#39;s what it chooses to run.\r\n\r\nExecuting the command again with the same window opened after changing the environment variables will not work. Re-open it\r\n\r\nI know this question is old but this was my case and I wanted to re-explain further, similar to @DanBot &#39;s case","title":"JAVA_HOME and java -version","body":"<p><code>java -version</code> will consult the paths in the <em>special</em> environment variable <strong>Path</strong>. You need to select the java version you want and move it upwards the latter (click &quot;Move Up&quot;). You probably have that reference to JDK 1.3 in <strong>Path</strong> above your addition of JDK 1.6. Since that's the first thing the OS finds, that's what it chooses to run.</p>\n<p>Executing the command again with the same window opened after changing the environment variables will not work. Re-open it</p>\n<p>I know this question is old but this was my case and I wanted to re-explain further, similar to @DanBot 's case</p>\n"}],"owner":{"account_id":1421343,"reputation":451,"user_id":1345883,"accept_rate":29,"display_name":"user1345883"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33097,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":10687166,"answer_count":8,"score":19,"last_activity_date":1656027949,"creation_date":1337610168,"question_id":10687093,"body_markdown":"I&#39;m using a Windows .bat script and I set `JAVA_HOME` as `C:/Program Files/Java/jdk1.6.0_32`\r\nwhen I do a `java -version`, it still shows the 1.3\r\n\r\nHow can I fix this? What am I doing wrong?","title":"JAVA_HOME and java -version","body":"<p>I'm using a Windows .bat script and I set <code>JAVA_HOME</code> as <code>C:/Program Files/Java/jdk1.6.0_32</code>\nwhen I do a <code>java -version</code>, it still shows the 1.3</p>\n\n<p>How can I fix this? What am I doing wrong?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335002127,"creation_date":1334996928,"answer_id":10257444,"question_id":10257416,"body_markdown":"No, it is not possible. You can&#39;t even refer to `List&lt;String&gt;.class` in your code - it results in a compilation error. There is only one single class object for `List`, and it is called `List.class`.\n\n&gt; Is this not possible because of type erasure during runtime ?\n\nCorrect.\n\nBtw this is a *generic* type, not an annotated type.\n\n## Update\n\nOn second thought, you can have something fairly close to your Map above, by tweaking Josh Bloch&#39;s *typesafe heterogenous container* (published in *Effective Java* 2nd Ed., Item 29) a bit:\n\n    public class Lists {\n        private Map&lt;Class&lt;?&gt;, List&lt;?&gt;&gt; lists =\n                new HashMap&lt;Class&lt;?&gt;, List&lt;?&gt;&gt;();\n\n        public &lt;T&gt; void putList(Class&lt;T&gt; type, List&lt;T&gt; list) {\n            if (type == null)\n                throw new NullPointerException(&quot;Type is null&quot;);\n            lists.put(type, list);\n        }\n\n        public &lt;T&gt; List&lt;T&gt; getList(Class&lt;T&gt; type) {\n            return (List&lt;T&gt;)lists.get(type);\n        }\n    }\n\nThe cast in `getList` is unchecked, giving a warning, but I am afraid we can&#39;t avoid that. However, we know that the value stored for class `X` must be a `List&lt;X&gt;`, as this is guaranteed by the compiler. So I think the cast is safe (if you play by the rules, that is - i.e. never call `putList` with a plain nongeneric `Class` parameter), thus it can be suppressed using `@SuppressWarnings(&quot;unchecked&quot;)`.\n\nAnd you can use it like this:\n\n    Lists lists = new Lists();\n    List&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    ...\n\n    lists.putList(Integer.class, integerList);\n    lists.putList(String.class, stringList);\n    List&lt;Integer&gt; storedList = lists.getList(Integer.class);\n\n    assertTrue(storedList == integerList);\n\n","title":"Can I call .class on a generic type in Java?","body":"<p>No, it is not possible. You can't even refer to <code>List&lt;String&gt;.class</code> in your code - it results in a compilation error. There is only one single class object for <code>List</code>, and it is called <code>List.class</code>.</p>\n<blockquote>\n<p>Is this not possible because of type erasure during runtime ?</p>\n</blockquote>\n<p>Correct.</p>\n<p>Btw this is a <em>generic</em> type, not an annotated type.</p>\n<h2>Update</h2>\n<p>On second thought, you can have something fairly close to your Map above, by tweaking Josh Bloch's <em>typesafe heterogenous container</em> (published in <em>Effective Java</em> 2nd Ed., Item 29) a bit:</p>\n<pre><code>public class Lists {\n    private Map&lt;Class&lt;?&gt;, List&lt;?&gt;&gt; lists =\n            new HashMap&lt;Class&lt;?&gt;, List&lt;?&gt;&gt;();\n\n    public &lt;T&gt; void putList(Class&lt;T&gt; type, List&lt;T&gt; list) {\n        if (type == null)\n            throw new NullPointerException(&quot;Type is null&quot;);\n        lists.put(type, list);\n    }\n\n    public &lt;T&gt; List&lt;T&gt; getList(Class&lt;T&gt; type) {\n        return (List&lt;T&gt;)lists.get(type);\n    }\n}\n</code></pre>\n<p>The cast in <code>getList</code> is unchecked, giving a warning, but I am afraid we can't avoid that. However, we know that the value stored for class <code>X</code> must be a <code>List&lt;X&gt;</code>, as this is guaranteed by the compiler. So I think the cast is safe (if you play by the rules, that is - i.e. never call <code>putList</code> with a plain nongeneric <code>Class</code> parameter), thus it can be suppressed using <code>@SuppressWarnings(&quot;unchecked&quot;)</code>.</p>\n<p>And you can use it like this:</p>\n<pre><code>Lists lists = new Lists();\nList&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\nList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n...\n\nlists.putList(Integer.class, integerList);\nlists.putList(String.class, stringList);\nList&lt;Integer&gt; storedList = lists.getList(Integer.class);\n\nassertTrue(storedList == integerList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334997062,"creation_date":1334997062,"answer_id":10257457,"question_id":10257416,"body_markdown":"It is not possible as you are trying.  \r\nBut you could [decorate ][1]these lists and create a `MyListDates` and `MyListString` instead and store them in the hashmap\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Decorator_pattern","title":"Can I call .class on a generic type in Java?","body":"<p>It is not possible as you are trying.<br>\nBut you could <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow\">decorate </a>these lists and create a <code>MyListDates</code> and <code>MyListString</code> instead and store them in the hashmap</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1656027076,"creation_date":1334997219,"answer_id":10257474,"question_id":10257416,"body_markdown":"You can&#39;t do it quite like this, but you *can* achieve your overall aim using the same approach as Guice does with [`TypeLiteral`][1]. If you&#39;re using Guice already, I suggest you use that directly - otherwise, you might want to create your own similar class.\r\n\r\nEssentially, the idea is that subclasses of a generic type which specify type arguments directly retain that information. So you write something like:\r\n\r\n    TypeLiteral literal = new TypeLiteral&lt;List&lt;String&gt;&gt;() {};\r\n\r\nThen you can use `literal.getClass().getGenericSuperclass()` and get the type arguments from that. `TypeLiteral` itself doesn&#39;t need to have any interesting code (I don&#39;t know whether it *does* have anything in Guice, for other reasons).\r\n\r\n  [1]: https://google.github.io/guice/api-docs/4.2/javadoc/com/google/inject/TypeLiteral.html","title":"Can I call .class on a generic type in Java?","body":"<p>You can't do it quite like this, but you <em>can</em> achieve your overall aim using the same approach as Guice does with <a href=\"https://google.github.io/guice/api-docs/4.2/javadoc/com/google/inject/TypeLiteral.html\" rel=\"nofollow noreferrer\"><code>TypeLiteral</code></a>. If you're using Guice already, I suggest you use that directly - otherwise, you might want to create your own similar class.</p>\n<p>Essentially, the idea is that subclasses of a generic type which specify type arguments directly retain that information. So you write something like:</p>\n<pre><code>TypeLiteral literal = new TypeLiteral&lt;List&lt;String&gt;&gt;() {};\n</code></pre>\n<p>Then you can use <code>literal.getClass().getGenericSuperclass()</code> and get the type arguments from that. <code>TypeLiteral</code> itself doesn't need to have any interesting code (I don't know whether it <em>does</em> have anything in Guice, for other reasons).</p>\n"}],"owner":{"account_id":12416,"reputation":12886,"user_id":24424,"accept_rate":77,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13662,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1656027076,"creation_date":1334996568,"question_id":10257416,"body_markdown":"I was wondering if there is a way in Java to do something like\r\n\r\n    Class c = List&lt;String&gt;.class;\r\n    Class c2 = List&lt;Date&gt;.class;\r\n\r\nI need something like this to create a map that stores the class name (with generic type) and the corresponding object which I can later lookup. For example,\r\n\r\n    Map&lt;Class, Object&gt; dataMap = new HashMap&lt;Class, Object&gt;();\r\n    dataMap.put(c, listOfStrings);\r\n    dataMap.put(c2, listOfDates);\r\n\r\n\r\n\r\nIs this not possible because of type erasure during runtime ?","title":"Can I call .class on a generic type in Java?","body":"<p>I was wondering if there is a way in Java to do something like</p>\n\n<pre><code>Class c = List&lt;String&gt;.class;\nClass c2 = List&lt;Date&gt;.class;\n</code></pre>\n\n<p>I need something like this to create a map that stores the class name (with generic type) and the corresponding object which I can later lookup. For example,</p>\n\n<pre><code>Map&lt;Class, Object&gt; dataMap = new HashMap&lt;Class, Object&gt;();\ndataMap.put(c, listOfStrings);\ndataMap.put(c2, listOfDates);\n</code></pre>\n\n<p>Is this not possible because of type erasure during runtime ?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656021681,"post_id":72736951,"comment_id":128477136,"body_markdown":"You need to declare `Box` as `class Box&lt;T&gt; {...`","body":"You need to declare <code>Box</code> as <code>class Box&lt;T&gt; {...</code>"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656024783,"creation_date":1656024783,"answer_id":72737387,"question_id":72736951,"body_markdown":"Remove the `&lt;T&gt;` before the keyword `class`, but keep the `&lt;T&gt;` after the class name.\r\n\r\nThere is a difference in declaring the type parameter for classes and declaring the type parameter for methods.  For the generic method `getBox`, you declared the type parameter, correctly, before the return type, even if most people put a space between the type declaration and the return type.  But for a generic class, the `&lt;T&gt;` _after_ the class name declares type parameter `T`; any `&lt;T&gt;` before the class name is a syntax error.","title":"How can I return an empty parameterised class Box?","body":"<p>Remove the <code>&lt;T&gt;</code> before the keyword <code>class</code>, but keep the <code>&lt;T&gt;</code> after the class name.</p>\n<p>There is a difference in declaring the type parameter for classes and declaring the type parameter for methods.  For the generic method <code>getBox</code>, you declared the type parameter, correctly, before the return type, even if most people put a space between the type declaration and the return type.  But for a generic class, the <code>&lt;T&gt;</code> <em>after</em> the class name declares type parameter <code>T</code>; any <code>&lt;T&gt;</code> before the class name is a syntax error.</p>\n"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72737387,"answer_count":1,"score":1,"last_activity_date":1656024783,"creation_date":1656020974,"question_id":72736951,"body_markdown":"I am learning generics in Java.\r\nHow can I return an empty parameterised class Box in the method getBox?  Thanks for helping.\r\n\r\n```\r\npublic static &lt;T&gt; class Box&lt;T&gt; {\r\n    private  T object;\r\n    \r\n    public static &lt;T&gt;Box&lt;T&gt; getBox() {   \r\n        return new Box&lt;T&gt;();        \r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I return an empty parameterised class Box?","body":"<p>I am learning generics in Java.\nHow can I return an empty parameterised class Box in the method getBox?  Thanks for helping.</p>\n<pre><code>public static &lt;T&gt; class Box&lt;T&gt; {\n    private  T object;\n    \n    public static &lt;T&gt;Box&lt;T&gt; getBox() {   \n        return new Box&lt;T&gt;();        \n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","subclass","getter-setter","super"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1656025374,"post_id":72737306,"comment_id":128477781,"body_markdown":"this code will not compile because of this line :         System.out.println(super.gety());\n--- you cannot use super in a static method like that","body":"this code will not compile because of this line :         System.out.println(super.gety()); --- you cannot use super in a static method like that"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656043261,"post_id":72737306,"comment_id":128480208,"body_markdown":"A suggestion that will help readability of your code: use different variable names (instead of `int y` in `B` and `C` classes). Also, as Oussama points out, the code as posted does not compile.","body":"A suggestion that will help readability of your code: use different variable names (instead of <code>int y</code> in <code>B</code> and <code>C</code> classes). Also, as Oussama points out, the code as posted does not compile."}],"answers":[{"tags":[],"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656024666,"creation_date":1656024666,"answer_id":72737378,"question_id":72737306,"body_markdown":"You are creating **two different** objects.\r\n1) B that has y value = 10\r\n2) C that has y value = 2 and z = 3\r\n\r\nThe b and c objects you have created have no relationship between them.\r\nSo when you call `c.m3()` it multiplies 2*3.\r\n\r\nYou do not need to create a B object, \r\nsince you assign the y value of C object by super().\r\nInstead you just have to create a C object with values 10 and 3.\r\n\r\nAlso another problem is that on class C you have `int y, z;`.\r\n1) They are not private when they should be.\r\n2) Y value is passed on the parent class B, so there is no need for the y value. \r\n\r\n","title":"using private variable of a class in a methode of a subclass","body":"<p>You are creating <strong>two different</strong> objects.</p>\n<ol>\n<li>B that has y value = 10</li>\n<li>C that has y value = 2 and z = 3</li>\n</ol>\n<p>The b and c objects you have created have no relationship between them.\nSo when you call <code>c.m3()</code> it multiplies 2*3.</p>\n<p>You do not need to create a B object,\nsince you assign the y value of C object by super().\nInstead you just have to create a C object with values 10 and 3.</p>\n<p>Also another problem is that on class C you have <code>int y, z;</code>.</p>\n<ol>\n<li>They are not private when they should be.</li>\n<li>Y value is passed on the parent class B, so there is no need for the y value.</li>\n</ol>\n"}],"owner":{"account_id":25633220,"reputation":1,"user_id":19403247,"display_name":"Mohamed Aziz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656024666,"creation_date":1656024036,"question_id":72737306,"body_markdown":"```\r\npublic class B {\r\n    private int y ;\r\n\r\n    public B(int y){\r\n        this.y = y;\r\n    }\r\n\r\n    public int gety(){\r\n        return y;\r\n    }\r\n}\r\n\r\npublic class C extends B{\r\n    int y,z;\r\n    public C(int y, int z ){\r\n        super(y);\r\n        this.z = z;\r\n    }\r\n\r\n    public int m3(){\r\n        System.out.println(gety());\r\n        return this.z*super.gety(); \r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        B b = new B(10);\r\n        C c = new C(2,3);\r\n\r\n        System.out.println(super.gety());\r\n        System.out.println(c.m3());\r\n    }\r\n}\r\n```\r\nthe result is :\r\n```\r\n10\r\n2\r\n6\r\n```\r\nFirst , sorry for my english \r\nMy question is why i didn&#39;t have as a result &quot;30&quot; in place of &quot;6&quot; , because i want from the m3 methode to return the value of z multiplied by the value of y inherited from class B , and why  System.out.println(super.gety()); prints &quot;2&quot; in place of &quot;10&quot;","title":"using private variable of a class in a methode of a subclass","body":"<pre><code>public class B {\n    private int y ;\n\n    public B(int y){\n        this.y = y;\n    }\n\n    public int gety(){\n        return y;\n    }\n}\n\npublic class C extends B{\n    int y,z;\n    public C(int y, int z ){\n        super(y);\n        this.z = z;\n    }\n\n    public int m3(){\n        System.out.println(gety());\n        return this.z*super.gety(); \n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n        B b = new B(10);\n        C c = new C(2,3);\n\n        System.out.println(super.gety());\n        System.out.println(c.m3());\n    }\n}\n</code></pre>\n<p>the result is :</p>\n<pre><code>10\n2\n6\n</code></pre>\n<p>First , sorry for my english\nMy question is why i didn't have as a result &quot;30&quot; in place of &quot;6&quot; , because i want from the m3 methode to return the value of z multiplied by the value of y inherited from class B , and why  System.out.println(super.gety()); prints &quot;2&quot; in place of &quot;10&quot;</p>\n"},{"tags":["java","spring","reactive"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656023830,"creation_date":1655999496,"answer_id":72733135,"question_id":72732355,"body_markdown":"I think there is no straightforward solution to that.\r\n\r\n\r\nWhat you can do is the following :\r\n\r\n`ServerWebExchange.getRequest()` will return `ServerHttpRequest` object, so you can extract `URI` from that object like this:\r\n\r\n`URI uri = serverHttpRequest.getURI()`\r\n\r\nThen,  using [UriTemplate][1] you should be able to extract path variable values.\r\n\r\nHere is example:\r\n\r\n    URI uri = new URI(&quot;abc.api.com/learn/sections/asdf-987/assignments/dsfwq98r7sdfg&quot;); //suppose that your URI object is something like this\r\n            String path = uri.getPath(); //get the path\r\n            UriTemplate uriTemplate = new UriTemplate(&quot;/learn/sections/{sectionId}/assignments/{assigmentId}&quot;); //create template\r\n            Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n            parameters = uriTemplate.match(path); //extract values form template\r\n            System.out.println(parameters);\r\n\r\nThis will produce following output:\r\n\r\n   \r\n\r\n     {sectionId=asdf-987, assigmentId=dsfwq98r7sdfg}\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriTemplate.html\r\n","title":"How to get path variable in an implementation of WebFilter? (ServerWebExchange)","body":"<p>I think there is no straightforward solution to that.</p>\n<p>What you can do is the following :</p>\n<p><code>ServerWebExchange.getRequest()</code> will return <code>ServerHttpRequest</code> object, so you can extract <code>URI</code> from that object like this:</p>\n<p><code>URI uri = serverHttpRequest.getURI()</code></p>\n<p>Then,  using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriTemplate.html\" rel=\"noreferrer\">UriTemplate</a> you should be able to extract path variable values.</p>\n<p>Here is example:</p>\n<pre><code>URI uri = new URI(&quot;abc.api.com/learn/sections/asdf-987/assignments/dsfwq98r7sdfg&quot;); //suppose that your URI object is something like this\n        String path = uri.getPath(); //get the path\n        UriTemplate uriTemplate = new UriTemplate(&quot;/learn/sections/{sectionId}/assignments/{assigmentId}&quot;); //create template\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        parameters = uriTemplate.match(path); //extract values form template\n        System.out.println(parameters);\n</code></pre>\n<p>This will produce following output:</p>\n<pre><code> {sectionId=asdf-987, assigmentId=dsfwq98r7sdfg}\n</code></pre>\n"}],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72733135,"answer_count":1,"score":2,"last_activity_date":1656023830,"creation_date":1655996337,"question_id":72732355,"body_markdown":"Im working in a Spring Reactive application. I know how get a PathVariable in a interceptor with HttpServletRequest, some like that:\r\n\r\n    request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE); \r\n\r\nBut we had to make some changes and now we have a WebFilter implementation, so we don&#39;t use HttpServletRequest, instead we use ServerWebExchange\r\n\r\nHow can I get a Pathvariable from ServerWebExchange? Its possible?\r\n","title":"How to get path variable in an implementation of WebFilter? (ServerWebExchange)","body":"<p>Im working in a Spring Reactive application. I know how get a PathVariable in a interceptor with HttpServletRequest, some like that:</p>\n<pre><code>request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE); \n</code></pre>\n<p>But we had to make some changes and now we have a WebFilter implementation, so we don't use HttpServletRequest, instead we use ServerWebExchange</p>\n<p>How can I get a Pathvariable from ServerWebExchange? Its possible?</p>\n"},{"tags":["java","android","android-studio","svg"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1466168814,"post_id":37882346,"comment_id":63219575,"body_markdown":"`create xml from svg files` doesn&#39;t mean anything. SVG **is** (nothing but) XML.","body":"<code>create xml from svg files</code> doesn&#39;t mean anything. SVG <b>is</b> (nothing but) XML."},{"owner":{"account_id":1113304,"reputation":469,"user_id":1103299,"accept_rate":50,"display_name":"ele lont"},"score":0,"creation_date":1466169196,"post_id":37882346,"comment_id":63219802,"body_markdown":"Raw svg does not seem to be acceptable for Android Studio. Therefore i have to generate the drawable.xml from it via the &quot;Vector Asset&quot; dialog.","body":"Raw svg does not seem to be acceptable for Android Studio. Therefore i have to generate the drawable.xml from it via the &quot;Vector Asset&quot; dialog."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1466169650,"post_id":37882346,"comment_id":63220141,"body_markdown":"If I correctly interpret your question, you are actually asking: `How do I get a VectorDrawable from an SVG file?`.","body":"If I correctly interpret your question, you are actually asking: <code>How do I get a VectorDrawable from an SVG file?</code>."},{"owner":{"account_id":1113304,"reputation":469,"user_id":1103299,"accept_rate":50,"display_name":"ele lont"},"score":0,"creation_date":1466171300,"post_id":37882346,"comment_id":63221236,"body_markdown":"Yes, that is what i meant, just did not figure out how to properly call it.","body":"Yes, that is what i meant, just did not figure out how to properly call it."}],"answers":[{"tags":[],"owner":{"account_id":538260,"reputation":39466,"user_id":906362,"accept_rate":65,"display_name":"Budius"},"down_vote_count":4,"up_vote_count":8,"is_accepted":true,"score":4,"last_activity_date":1466170511,"creation_date":1466170511,"answer_id":37883011,"question_id":37882346,"body_markdown":"The simple answer is: you can&#39;t.\r\n\r\nThere&#39;s no official way to auto-generate and I never found any 3rd party tool to automatic do the conversion.\r\n\r\nBut there&#39;re several other tools for such conversion that might be easier than using Android Studio.:\r\n\r\n- Sketch plugin to export directly to XML: https://github.com/jacobmoncur/SketchVectorDrawable\r\n- Online converter and offline batch converter: https://github.com/a-student/SvgToVectorDrawableConverter\r\n- IntelliJ plugin: https://github.com/misakuo/svgtoandroid/blob/master/readme_en.md","title":"How to make Android Studio automatically create Vector drawable from svg files?","body":"<p>The simple answer is: you can't.</p>\n\n<p>There's no official way to auto-generate and I never found any 3rd party tool to automatic do the conversion.</p>\n\n<p>But there're several other tools for such conversion that might be easier than using Android Studio.:</p>\n\n<ul>\n<li>Sketch plugin to export directly to XML: <a href=\"https://github.com/jacobmoncur/SketchVectorDrawable\" rel=\"nofollow noreferrer\">https://github.com/jacobmoncur/SketchVectorDrawable</a></li>\n<li>Online converter and offline batch converter: <a href=\"https://github.com/a-student/SvgToVectorDrawableConverter\" rel=\"nofollow noreferrer\">https://github.com/a-student/SvgToVectorDrawableConverter</a></li>\n<li>IntelliJ plugin: <a href=\"https://github.com/misakuo/svgtoandroid/blob/master/readme_en.md\" rel=\"nofollow noreferrer\">https://github.com/misakuo/svgtoandroid/blob/master/readme_en.md</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6814250,"reputation":1483,"user_id":5243472,"display_name":"Vladyslav Ulianytskyi"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1511880395,"creation_date":1510072057,"answer_id":47162844,"question_id":37882346,"body_markdown":"The answer is: you can!!\r\n\r\nAnd it is very easy! Just click right button on folder(drawable for ex.) and choose:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthen choose:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qmlkT.png\r\n  [2]: https://i.stack.imgur.com/3E27v.png\r\n\r\nand your got it!\r\n\r\n(There are some restrictions: \r\nhttps://developer.android.com/studio/write/vector-asset-studio.html#PSD)","title":"How to make Android Studio automatically create Vector drawable from svg files?","body":"<p>The answer is: you can!!</p>\n\n<p>And it is very easy! Just click right button on folder(drawable for ex.) and choose:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qmlkT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qmlkT.png\" alt=\"enter image description here\"></a></p>\n\n<p>then choose:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3E27v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3E27v.png\" alt=\"enter image description here\"></a></p>\n\n<p>and your got it!</p>\n\n<p>(There are some restrictions: \n<a href=\"https://developer.android.com/studio/write/vector-asset-studio.html#PSD\" rel=\"noreferrer\">https://developer.android.com/studio/write/vector-asset-studio.html#PSD</a>)</p>\n"},{"tags":[],"owner":{"account_id":14290639,"reputation":671,"user_id":10322720,"display_name":"siergiejjdw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656022981,"creation_date":1611153765,"answer_id":65811776,"question_id":37882346,"body_markdown":"Using the Android Studio 3.4 or higher it is possible to add a whole directory to convert all files in this directory. To do it You can use the **Resource Manager**: https://developer.android.com/studio/write/resource-manager\r\n`Tools -&gt; Resource Manager -&gt; + -&gt; Import Drawables`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nNpDl.png","title":"How to make Android Studio automatically create Vector drawable from svg files?","body":"<p>Using the Android Studio 3.4 or higher it is possible to add a whole directory to convert all files in this directory. To do it You can use the <strong>Resource Manager</strong>: <a href=\"https://developer.android.com/studio/write/resource-manager\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/resource-manager</a>\n<code>Tools -&gt; Resource Manager -&gt; + -&gt; Import Drawables</code></p>\n<p><a href=\"https://i.stack.imgur.com/nNpDl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNpDl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1113304,"reputation":469,"user_id":1103299,"accept_rate":50,"display_name":"ele lont"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15896,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37883011,"answer_count":3,"score":17,"last_activity_date":1656022981,"creation_date":1466168758,"question_id":37882346,"body_markdown":"I am using Android Studio 2.0 and am targeting SDK verion 21 which supports vector images.\r\n\r\nI add the .svg file from New-&gt;Vector Asset and it generates a drawable from it (.xml).\r\n\r\nThe problem is that when i change the .svg (in a vector graphics editor) then the .xml is not automatically updated inside the Studio. How to make it automatically update the generated .xml files if the .svg changes?\r\n\r\nRegards!","title":"How to make Android Studio automatically create Vector drawable from svg files?","body":"<p>I am using Android Studio 2.0 and am targeting SDK verion 21 which supports vector images.</p>\n\n<p>I add the .svg file from New->Vector Asset and it generates a drawable from it (.xml).</p>\n\n<p>The problem is that when i change the .svg (in a vector graphics editor) then the .xml is not automatically updated inside the Studio. How to make it automatically update the generated .xml files if the .svg changes?</p>\n\n<p>Regards!</p>\n"},{"tags":["java","dart","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656018462,"post_id":72736328,"comment_id":128476433,"body_markdown":"Have you looked at https://www.jetbrains.com/help/idea/run-debug-configuration-dart-remote-debug.html ?","body":"Have you looked at <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-dart-remote-debug.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> ?"},{"owner":{"account_id":5143630,"reputation":3274,"user_id":4120196,"accept_rate":82,"display_name":"Cold_Class"},"score":0,"creation_date":1656018753,"post_id":72736328,"comment_id":128476488,"body_markdown":"Yes, and I still have no idea how to do it :(","body":"Yes, and I still have no idea how to do it :("}],"answers":[{"tags":[],"owner":{"account_id":2211898,"reputation":29180,"user_id":1953515,"display_name":"julemand101"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656022736,"creation_date":1656022736,"answer_id":72737149,"question_id":72736328,"body_markdown":"What you are basically asking for is the ability to just debug a executable. Java does not even know anything about the dart process you are spawning since this is a OS call. If you want to debug the Dart program, you would need to use the Dart VM to execute your Dart program (maybe you are already doing that) and then add the argument:\r\n\r\n```lang-none\r\ndart.exe --enable-vm-service --pause_isolates_on_start yourProgram.dart\r\n```\r\n\r\nYou can just do this from your Java program. The important part is just you are able to provide these arguments and then also output what the process are returning on STDOUT since it is needed in a later step.\r\n\r\nYou don&#39;t need the `pause_isolates_on_start` but it will make this a lot easier since it will halt the Dart program until the debugger have been attached.\r\n\r\nYou can then (if you have installed the Dart plugin in IntelliJ) create a `Dart Remote Debug` run profile:\r\n[![enter image description here][1]][1]\r\n\r\nAs it describes, it will ask for a Dart service protocol URL when this debug profile are started like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe URL will be returned when you are starting your program with the arguments I mentioned previously like this:\r\n\r\n```lang-none\r\n&gt; dart --enable-vm-service --pause_isolates_on_start .\\bin\\program.dart\r\nThe Dart VM service is listening on http://127.0.0.1:8181/uyTMJ3eWnMM=/\r\nThe Dart DevTools debugger and profiler is available at: http://127.0.0.1:8181/uyTMJ3eWnMM=/devtools/#/?uri=ws%3A%2F%2F127.0.0.1%3A8181%2FuyTMJ3eWnMM%3D%2Fws\r\n```\r\n\r\nThe URL your need to enter is, in this example, `http://127.0.0.1:8181/uyTMJ3eWnMM=/`.\r\n\r\nIf this is done correctly, and you are set a breakpoint before doing this, your IntelliJ should break into your Dart program as it starts executing after the debugger has been attached.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jes9Q.png\r\n  [2]: https://i.stack.imgur.com/Ac9p5.png","title":"How to debug dart file executed in java app in IntelliJ","body":"<p>What you are basically asking for is the ability to just debug a executable. Java does not even know anything about the dart process you are spawning since this is a OS call. If you want to debug the Dart program, you would need to use the Dart VM to execute your Dart program (maybe you are already doing that) and then add the argument:</p>\n<pre class=\"lang-none prettyprint-override\"><code>dart.exe --enable-vm-service --pause_isolates_on_start yourProgram.dart\n</code></pre>\n<p>You can just do this from your Java program. The important part is just you are able to provide these arguments and then also output what the process are returning on STDOUT since it is needed in a later step.</p>\n<p>You don't need the <code>pause_isolates_on_start</code> but it will make this a lot easier since it will halt the Dart program until the debugger have been attached.</p>\n<p>You can then (if you have installed the Dart plugin in IntelliJ) create a <code>Dart Remote Debug</code> run profile:\n<a href=\"https://i.stack.imgur.com/Jes9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jes9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>As it describes, it will ask for a Dart service protocol URL when this debug profile are started like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ac9p5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ac9p5.png\" alt=\"enter image description here\" /></a></p>\n<p>The URL will be returned when you are starting your program with the arguments I mentioned previously like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; dart --enable-vm-service --pause_isolates_on_start .\\bin\\program.dart\nThe Dart VM service is listening on http://127.0.0.1:8181/uyTMJ3eWnMM=/\nThe Dart DevTools debugger and profiler is available at: http://127.0.0.1:8181/uyTMJ3eWnMM=/devtools/#/?uri=ws%3A%2F%2F127.0.0.1%3A8181%2FuyTMJ3eWnMM%3D%2Fws\n</code></pre>\n<p>The URL your need to enter is, in this example, <code>http://127.0.0.1:8181/uyTMJ3eWnMM=/</code>.</p>\n<p>If this is done correctly, and you are set a breakpoint before doing this, your IntelliJ should break into your Dart program as it starts executing after the debugger has been attached.</p>\n"}],"owner":{"account_id":5143630,"reputation":3274,"user_id":4120196,"accept_rate":82,"display_name":"Cold_Class"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656022736,"creation_date":1656016897,"question_id":72736328,"body_markdown":"I execute a dart file inside a java file and I have no idea how to debug that dart file.  \r\nThis is how I run the java file passing the dart file to be executed:    \r\n[![Configuration][1]][1]  \r\nOutput when running it in debug mode:  \r\n[![Run][3]][3]\r\n\r\nMy dart file: `Test.dart`\r\n\r\n    import &#39;dart:io&#39;;\r\n    \r\n    void main() {\r\n      print(&quot;Hello World&quot;);\r\n    }\r\n    \r\nMy Java file: `Main.java`\r\n\r\n    import org.apache.commons.cli.CommandLine;\r\n    import org.apache.commons.cli.DefaultParser;\r\n    import org.apache.commons.cli.Options;\r\n    import org.apache.commons.cli.ParseException;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws ParseException, IOException {\r\n            Options options = new Options();\r\n            options.addOption(&quot;test&quot;, true, &quot;Test Dart&quot;);\r\n            CommandLine cmd = new DefaultParser().parse(options, args);\r\n            if (cmd.hasOption(&quot;test&quot;)) {\r\n                Runtime rt = Runtime.getRuntime();\r\n                Process pr = rt.exec(cmd.getOptionValue(&quot;test&quot;));\r\n                String line;\r\n                BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n                while ((line = input.readLine()) != null) {\r\n                    System.out.println(line);\r\n                }\r\n                input.close();\r\n            }\r\n        }\r\n    }\r\n\r\nMy goal is to set a break point in my dart file and automatically jump in it when it is executed inside the java file.  \r\nHow do I do this?    \r\n[![Breakpoint][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/smVyd.png\r\n  [2]: https://i.stack.imgur.com/bzKYu.png\r\n  [3]: https://i.stack.imgur.com/thq8m.png","title":"How to debug dart file executed in java app in IntelliJ","body":"<p>I execute a dart file inside a java file and I have no idea how to debug that dart file.<br />\nThis is how I run the java file passing the dart file to be executed:<br />\n<a href=\"https://i.stack.imgur.com/smVyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smVyd.png\" alt=\"Configuration\" /></a><br />\nOutput when running it in debug mode:<br />\n<a href=\"https://i.stack.imgur.com/thq8m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thq8m.png\" alt=\"Run\" /></a></p>\n<p>My dart file: <code>Test.dart</code></p>\n<pre><code>import 'dart:io';\n\nvoid main() {\n  print(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>My Java file: <code>Main.java</code></p>\n<pre><code>import org.apache.commons.cli.CommandLine;\nimport org.apache.commons.cli.DefaultParser;\nimport org.apache.commons.cli.Options;\nimport org.apache.commons.cli.ParseException;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static void main(String[] args) throws ParseException, IOException {\n        Options options = new Options();\n        options.addOption(&quot;test&quot;, true, &quot;Test Dart&quot;);\n        CommandLine cmd = new DefaultParser().parse(options, args);\n        if (cmd.hasOption(&quot;test&quot;)) {\n            Runtime rt = Runtime.getRuntime();\n            Process pr = rt.exec(cmd.getOptionValue(&quot;test&quot;));\n            String line;\n            BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((line = input.readLine()) != null) {\n                System.out.println(line);\n            }\n            input.close();\n        }\n    }\n}\n</code></pre>\n<p>My goal is to set a break point in my dart file and automatically jump in it when it is executed inside the java file.<br />\nHow do I do this?<br />\n<a href=\"https://i.stack.imgur.com/bzKYu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bzKYu.png\" alt=\"Breakpoint\" /></a></p>\n"},{"tags":["java","sql","oracle","jpql"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516242522,"creation_date":1516242245,"answer_id":48312890,"question_id":48312802,"body_markdown":"I think that `CAST` is part of the [EclipseLink Query Language][1] (EQL) extension, but not part of core JPQL.  If you don&#39;t have support for EQL, then your query might not work.  One workaround would be to just run the following as a native query:\r\n\r\n    SELECT MAX(CAST(XX AS integer)) FROM TableA;\r\n\r\nAnother possibility would be to change the `XX` column to a numeric type.  Since you have the need to do math with that column, it might make sense for it to be numeric.\r\n\r\n  [1]: https://docs.oracle.com/middleware/1221/toplink/jpa-extensions-reference/jpql.htm#TLJPA603","title":"convert oracle SQL to JPQL using cast and max function","body":"<p>I think that <code>CAST</code> is part of the <a href=\"https://docs.oracle.com/middleware/1221/toplink/jpa-extensions-reference/jpql.htm#TLJPA603\" rel=\"nofollow noreferrer\">EclipseLink Query Language</a> (EQL) extension, but not part of core JPQL.  If you don't have support for EQL, then your query might not work.  One workaround would be to just run the following as a native query:</p>\n\n<pre><code>SELECT MAX(CAST(XX AS integer)) FROM TableA;\n</code></pre>\n\n<p>Another possibility would be to change the <code>XX</code> column to a numeric type.  Since you have the need to do math with that column, it might make sense for it to be numeric.</p>\n"},{"tags":[],"owner":{"account_id":5802501,"reputation":90,"user_id":4576256,"display_name":"Sago78"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656022106,"creation_date":1656022106,"answer_id":72737080,"question_id":48312802,"body_markdown":"Try forcing an implicit convertion by adding 0 \r\n\r\n    SELECT MAX(XX+0)) FROM TableA; ","title":"convert oracle SQL to JPQL using cast and max function","body":"<p>Try forcing an implicit convertion by adding 0</p>\n<pre><code>SELECT MAX(XX+0)) FROM TableA; \n</code></pre>\n"}],"owner":{"account_id":10428987,"reputation":25,"user_id":7689378,"accept_rate":20,"display_name":"Max Ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656022106,"creation_date":1516241504,"question_id":48312802,"body_markdown":"I have a sql like this:\r\n\r\n    SELECT MAX(CAST(XX AS integer)) FROM TableA; \r\n\r\nwhere `XX` is a `varchar2` and I want to convert it to JPQL.  I&#39;ve tried: \r\n\r\n    SELECT FUNCTION(&#39;NVL&#39;, CAST(MAX(XX) NUMERIC(10,2)), &#39;0&#39;) FROM TableA;\r\n\r\nand\r\n\r\n    SELECT FUNCTION(&#39;NVL&#39;, FUNCTION(&#39;TO_NUMBER&#39;, MAX(XX)), &#39;0&#39;) FROM TableA;\r\n\r\nbut it just keep popping exception. I think my syntax is right but just dont know what&#39;s the problem is. Can someone kindly provide some advice? Great thanks~~","title":"convert oracle SQL to JPQL using cast and max function","body":"<p>I have a sql like this:</p>\n\n<pre><code>SELECT MAX(CAST(XX AS integer)) FROM TableA; \n</code></pre>\n\n<p>where <code>XX</code> is a <code>varchar2</code> and I want to convert it to JPQL.  I've tried: </p>\n\n<pre><code>SELECT FUNCTION('NVL', CAST(MAX(XX) NUMERIC(10,2)), '0') FROM TableA;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>SELECT FUNCTION('NVL', FUNCTION('TO_NUMBER', MAX(XX)), '0') FROM TableA;\n</code></pre>\n\n<p>but it just keep popping exception. I think my syntax is right but just dont know what's the problem is. Can someone kindly provide some advice? Great thanks~~</p>\n"},{"tags":["java","apache-kafka","timeout"],"answers":[{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656021654,"creation_date":1655940865,"answer_id":72723026,"question_id":72723025,"body_markdown":"This can be configured in one of two ways:\r\n\r\nA) Operation timeout allowed the underlying NetworkClient to wait indefinitely until the response is received. So we can change our code to `admin.createTopics(newTopics, new CreateTopicOptions().timeout(Integer.MAX_VALUE))`.\r\n\r\nB) Alternatively, we could configure Admin&#39;s `default.api.timeout.ms` property and need not to provide the explicit timeout - which one is preferred depends on the codebase/team standards.\r\n\r\nWhat was not necessary:\r\n\r\n* `request.timeout.ms` - it appears to apply to only a single request, however not setting it to large value (larger than expected duration) results in somewhat strange behaviour when original request appears to be failed on finish, and then repeated (to be processed immediately in case of topic-creation, as they&#39;d have been created by initial request _(this can be quite easily replicated by setting request.timeout.ms to a low value)_):\r\n```\r\nCancelled in-flight CREATE_TOPICS request with correlation id 3 due to node 2 being disconnected (elapsed time since creation: 120443ms, elapsed time since send: 120443ms, request timeout: 29992ms)\r\n```\r\n\r\n* `connections.max.idle.ms` - the connection remains active the whole time the NC is waiting for the upstream&#39;s response.\r\n\r\n* `metadata.max.age.ms` - metadata fetching is needed only for the initial step (figuring out where to send the request), but later we just wait for the response from the known upstream broker.","title":"How can I configure (long) timeout for Kafka Admin operations?","body":"<p>This can be configured in one of two ways:</p>\n<p>A) Operation timeout allowed the underlying NetworkClient to wait indefinitely until the response is received. So we can change our code to <code>admin.createTopics(newTopics, new CreateTopicOptions().timeout(Integer.MAX_VALUE))</code>.</p>\n<p>B) Alternatively, we could configure Admin's <code>default.api.timeout.ms</code> property and need not to provide the explicit timeout - which one is preferred depends on the codebase/team standards.</p>\n<p>What was not necessary:</p>\n<ul>\n<li><code>request.timeout.ms</code> - it appears to apply to only a single request, however not setting it to large value (larger than expected duration) results in somewhat strange behaviour when original request appears to be failed on finish, and then repeated (to be processed immediately in case of topic-creation, as they'd have been created by initial request <em>(this can be quite easily replicated by setting request.timeout.ms to a low value)</em>):</li>\n</ul>\n<pre><code>Cancelled in-flight CREATE_TOPICS request with correlation id 3 due to node 2 being disconnected (elapsed time since creation: 120443ms, elapsed time since send: 120443ms, request timeout: 29992ms)\n</code></pre>\n<ul>\n<li><p><code>connections.max.idle.ms</code> - the connection remains active the whole time the NC is waiting for the upstream's response.</p>\n</li>\n<li><p><code>metadata.max.age.ms</code> - metadata fetching is needed only for the initial step (figuring out where to send the request), but later we just wait for the response from the known upstream broker.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72723026,"answer_count":1,"score":0,"last_activity_date":1656021654,"creation_date":1655940865,"question_id":72723025,"body_markdown":"I fancy myself making a single request creating 15k topics in a busy Kafka cluster, in a single request, something like this:\r\n```\r\nfinal Admin admin = ...;\r\nfinal List&lt;NewTopic&gt; newTopics = IntStream.range(0, 15000)\r\n    .mapToObj(x -&gt; &quot;adam-&quot; + x)\r\n    .map(x -&gt; new NewTopic(x, Optional.empty(), Optional.empty()))\r\n    .collect(toList());\r\nfinal CreateTopicsResult ctr = admin.createTopics(newTopics);\r\n\r\nctr.all().get(); // Throws exceptions.\r\n```\r\nUnfortunately this starts throwing exceptions due to embedded timeouts - how can I properly make the request while keeping it simple without batching?\r\n\r\n*For the sake of argument let&#39;s stick to Kafka 3.2 (both client &amp; server).*","title":"How can I configure (long) timeout for Kafka Admin operations?","body":"<p>I fancy myself making a single request creating 15k topics in a busy Kafka cluster, in a single request, something like this:</p>\n<pre><code>final Admin admin = ...;\nfinal List&lt;NewTopic&gt; newTopics = IntStream.range(0, 15000)\n    .mapToObj(x -&gt; &quot;adam-&quot; + x)\n    .map(x -&gt; new NewTopic(x, Optional.empty(), Optional.empty()))\n    .collect(toList());\nfinal CreateTopicsResult ctr = admin.createTopics(newTopics);\n\nctr.all().get(); // Throws exceptions.\n</code></pre>\n<p>Unfortunately this starts throwing exceptions due to embedded timeouts - how can I properly make the request while keeping it simple without batching?</p>\n<p><em>For the sake of argument let's stick to Kafka 3.2 (both client &amp; server).</em></p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617211670,"post_id":66891739,"comment_id":118243698,"body_markdown":"In Windows settings go to &quot;Region -&gt; Administrative -&gt; Change system locale -&gt; Untick &quot;Beta: Use Unicode...&quot; option. Reboot. Does it help?","body":"In Windows settings go to &quot;Region -&gt; Administrative -&gt; Change system locale -&gt; Untick &quot;Beta: Use Unicode...&quot; option. Reboot. Does it help?"},{"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"score":0,"creation_date":1617217213,"post_id":66891739,"comment_id":118246035,"body_markdown":"@CrazyCoder Unfortunately not... I already have the setting as mentioned on the comment - Beta: Use Unicode: unticked... \nFor future reference I use AdoptJDK 11, if that&#39;s of any help... also I would like to note that I already did these tests successfully on another project, then I started a new one which required junit libs -&gt; downloaded them, now both my projects get this error... I am completely clueless as of what I am supposed to do, maybe a JDK and Intellij reinstall? although I am not sure how that helps if the problem occurs again","body":"@CrazyCoder Unfortunately not... I already have the setting as mentioned on the comment - Beta: Use Unicode: unticked...  For future reference I use AdoptJDK 11, if that&#39;s of any help... also I would like to note that I already did these tests successfully on another project, then I started a new one which required junit libs -&gt; downloaded them, now both my projects get this error... I am completely clueless as of what I am supposed to do, maybe a JDK and Intellij reinstall? although I am not sure how that helps if the problem occurs again"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617217362,"post_id":66891739,"comment_id":118246100,"body_markdown":"Please add `-Dfile.encoding=UTF-8` in Help | Edit Custom VM Options and restart IntelliJ IDEA.","body":"Please add <code>-Dfile.encoding=UTF-8</code> in Help | Edit Custom VM Options and restart IntelliJ IDEA."},{"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"score":0,"creation_date":1617217774,"post_id":66891739,"comment_id":118246235,"body_markdown":"Still not working...","body":"Still not working..."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617217869,"post_id":66891739,"comment_id":118246250,"body_markdown":"Please file a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the logs attached via Help | Collect Logs and Diagnostic Data.","body":"Please file a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the logs attached via Help | Collect Logs and Diagnostic Data."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617217913,"post_id":66891739,"comment_id":118246269,"body_markdown":"Moving your project outside of the home directory which has non-ascii characters should help.","body":"Moving your project outside of the home directory which has non-ascii characters should help."},{"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"score":0,"creation_date":1617218102,"post_id":66891739,"comment_id":118246336,"body_markdown":"The other project gets No tests were found error... I have no characters left, otherwise I would&#39;ve summarized the errors here....","body":"The other project gets No tests were found error... I have no characters left, otherwise I would&#39;ve summarized the errors here...."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1617218147,"post_id":66891739,"comment_id":118246359,"body_markdown":"YouTrack or support would be the best channel to solve this kind of issues.","body":"YouTrack or support would be the best channel to solve this kind of issues."},{"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"score":0,"creation_date":1617218372,"post_id":66891739,"comment_id":118246441,"body_markdown":"Moving your project outside of the home directory which has non-ascii characters should help - this one helped... my tests are fine now ._.  \n\nReally appreciate you time &lt;3 \nIf I have related issues I will make sure you use YT","body":"Moving your project outside of the home directory which has non-ascii characters should help - this one helped... my tests are fine now ._.    Really appreciate you time &lt;3  If I have related issues I will make sure you use YT"}],"answers":[{"tags":[],"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617218977,"creation_date":1617218977,"answer_id":66894151,"question_id":66891739,"body_markdown":"@CrazyCoder\r\n\r\nMoving your project outside of the home directory which has non-ascii characters should help. – \r\n\r\nNot sure how to give rep this is the best I can do I think","title":"internal error (java.nio.file.invalidpathexception): Illegal char &lt;?&gt; at index 34","body":"<p>@CrazyCoder</p>\n<p>Moving your project outside of the home directory which has non-ascii characters should help. –</p>\n<p>Not sure how to give rep this is the best I can do I think</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656020440,"creation_date":1656020440,"answer_id":72736880,"question_id":66891739,"body_markdown":"When i got this error  (mine was ` Illegal char &lt;:&gt;`) i ve found in `values` folder whole commented inside `attrs.xml` file and removed it. Now it compiles ok","title":"internal error (java.nio.file.invalidpathexception): Illegal char &lt;?&gt; at index 34","body":"<p>When i got this error  (mine was <code> Illegal char &lt;:&gt;</code>) i ve found in <code>values</code> folder whole commented inside <code>attrs.xml</code> file and removed it. Now it compiles ok</p>\n"}],"owner":{"account_id":21117173,"reputation":21,"user_id":15524040,"display_name":"askingquestions41"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6216,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1656020440,"creation_date":1617208313,"question_id":66891739,"body_markdown":"Trying simple junit tests....\r\n\r\n```\r\npublic class ZZZZ {\r\n    private int a;\r\n\r\n    public ZZZZ() {\r\n    }\r\n\r\n    public int test(int a){\r\n\r\n        return a/a;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass ZZZZTest1 {\r\n\r\n\r\n    private int a = 1;\r\n\r\n    ZZZZ nov = new ZZZZ();\r\n\r\n    @Test\r\n    public void testtt(){\r\n        assertEquals(6, nov.test(a));\r\n    }\r\n}\r\n```\r\n\r\nand i get this... I have no idea what to do since I am not really experienced intellij java user\r\n\r\n```\r\nInternal error (java.nio.file.InvalidPathException): Illegal char &lt;?&gt; at index 34: D:/Fakultet/Programiranje Proekti/????, ??, ????/untitled\r\njava.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 34: D:/Fakultet/Programiranje Proekti/????, ??, ????/untitled\r\n\tat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tat java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\r\n\tat java.base/java.nio.file.Path.of(Path.java:147)\r\n\tat java.base/java.nio.file.Paths.get(Paths.java:69)\r\n\tat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:87)\r\n\tat org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:24)\r\n\tat org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\r\n\tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:64)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:279)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\r\n\tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nAny ideas on what I should do ?","title":"internal error (java.nio.file.invalidpathexception): Illegal char &lt;?&gt; at index 34","body":"<p>Trying simple junit tests....</p>\n<pre><code>public class ZZZZ {\n    private int a;\n\n    public ZZZZ() {\n    }\n\n    public int test(int a){\n\n        return a/a;\n    }\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass ZZZZTest1 {\n\n\n    private int a = 1;\n\n    ZZZZ nov = new ZZZZ();\n\n    @Test\n    public void testtt(){\n        assertEquals(6, nov.test(a));\n    }\n}\n</code></pre>\n<p>and i get this... I have no idea what to do since I am not really experienced intellij java user</p>\n<pre><code>Internal error (java.nio.file.InvalidPathException): Illegal char &lt;?&gt; at index 34: D:/Fakultet/Programiranje Proekti/????, ??, ????/untitled\njava.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 34: D:/Fakultet/Programiranje Proekti/????, ??, ????/untitled\n    at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\n    at java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\n    at java.base/java.nio.file.Path.of(Path.java:147)\n    at java.base/java.nio.file.Paths.get(Paths.java:69)\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:87)\n    at org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:24)\n    at org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:64)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:279)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Any ideas on what I should do ?</p>\n"},{"tags":["java","android","android-studio","simpledateformat"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656009695,"post_id":72734872,"comment_id":128473962,"body_markdown":"don&#39;t use `SimpleDateFormat`, `Date`, `Calendar` - these classes were replaces by classes in the `java.time` package (and sub-packages)","body":"don&#39;t use <code>SimpleDateFormat</code>, <code>Date</code>, <code>Calendar</code> - these classes were replaces by classes in the <code>java.time</code> package (and sub-packages)"}],"answers":[{"tags":[],"owner":{"account_id":21152048,"reputation":1269,"user_id":15552152,"display_name":"Mady Daby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656009880,"creation_date":1656009880,"answer_id":72735180,"question_id":72734872,"body_markdown":"```java\r\nimport java.time.LocalDateTime;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalTime;\r\nimport java.time.Duration;\r\n\r\n\r\nLocalDateTime tomorrowMidnight = LocalDateTime.of(LocalDate.now(), LocalTime.MIDNIGHT).plusDays(1);        \r\n        \r\nDuration duration = Duration.between(LocalDateTime.now(), tomorrowMidnight);\r\nSystem.out.printf(&quot;%d:%d&quot;, duration.toHours(), duration.toMinutes()%60);","title":"How can I calculate, How much time is left before tomorrow?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.Duration;\n\n\nLocalDateTime tomorrowMidnight = LocalDateTime.of(LocalDate.now(), LocalTime.MIDNIGHT).plusDays(1);        \n        \nDuration duration = Duration.between(LocalDateTime.now(), tomorrowMidnight);\nSystem.out.printf(&quot;%d:%d&quot;, duration.toHours(), duration.toMinutes()%60);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656020260,"creation_date":1656018854,"answer_id":72736623,"question_id":72734872,"body_markdown":"`SimpleDateFormat` and related legacy classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nDetermining “tomorrow” requires a time zone. Days start earlier as you move eastward through time zones. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n\r\nCapture the current moment as seen through that time zone. \r\n\r\n    ZonedDateTime now = ZonedDateTime.now( z ) ;\r\n\r\nNow we are in a position to determine “tomorrow”, specifically the first moment of the following day.\r\n\r\nExtract the date portion. \r\n\r\n    LocalDate today = now.toLocalDate() ;\r\n    LocalDate tomorrow = today.plus( 1 ) ;\r\n\r\nGet first moment. Note that we do *not* assume the day starts at 00:00 &#128347;. Some dates in some zones start at a different time of day, such as 01:00 &#128336;. Let *java.time* determine the first moment. \r\n\r\n    ZonedDateTime startTomorrowTokyo = tomorrow.atStartOfDay( z ) ;\r\n\r\nCalculate time to elapse. \r\n\r\n    Duration untilTomorrow = Duration.between ( now , startTomorrowTokyo ) ;\r\n\r\nGenerate text in standard ISO 8601 format. \r\n\r\n    String output = untilTomorrow.toString() ;\r\n\r\nIf you insist on the risky ambiguous use of clock-time to represent the duration, you can build your own string by interrogating the `Duration` object. Call its `to…Part` methods. \r\n\r\n","title":"How can I calculate, How much time is left before tomorrow?","body":"<p><code>SimpleDateFormat</code> and related legacy classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Determining “tomorrow” requires a time zone. Days start earlier as you move eastward through time zones.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n</code></pre>\n<p>Capture the current moment as seen through that time zone.</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>Now we are in a position to determine “tomorrow”, specifically the first moment of the following day.</p>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate today = now.toLocalDate() ;\nLocalDate tomorrow = today.plus( 1 ) ;\n</code></pre>\n<p>Get first moment. Note that we do <em>not</em> assume the day starts at 00:00 🕛. Some dates in some zones start at a different time of day, such as 01:00 🕐. Let <em>java.time</em> determine the first moment.</p>\n<pre><code>ZonedDateTime startTomorrowTokyo = tomorrow.atStartOfDay( z ) ;\n</code></pre>\n<p>Calculate time to elapse.</p>\n<pre><code>Duration untilTomorrow = Duration.between ( now , startTomorrowTokyo ) ;\n</code></pre>\n<p>Generate text in standard ISO 8601 format.</p>\n<pre><code>String output = untilTomorrow.toString() ;\n</code></pre>\n<p>If you insist on the risky ambiguous use of clock-time to represent the duration, you can build your own string by interrogating the <code>Duration</code> object. Call its <code>to…Part</code> methods.</p>\n"}],"owner":{"account_id":11563822,"reputation":73,"user_id":11438180,"display_name":"md sohan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1656020279,"accepted_answer_id":72736623,"answer_count":2,"score":-2,"last_activity_date":1656020260,"creation_date":1656008313,"question_id":72734872,"body_markdown":"How can I calculate and format time like HH:mm, Of much time is left before tomorrow? with SimpleDateFormat.","title":"How can I calculate, How much time is left before tomorrow?","body":"<p>How can I calculate and format time like HH:mm, Of much time is left before tomorrow? with SimpleDateFormat.</p>\n"},{"tags":["java"],"owner":{"account_id":25627344,"reputation":11,"user_id":19398258,"display_name":"user19398258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656019985,"creation_date":1655977801,"question_id":72728118,"body_markdown":"I am deploying CAS for the first time. It&#39;s for my soutenance (licence in security). I have success to build and run the cas-overlay-template and authenticate with casuser; my problem is with cas-management-overlay, I have success to build the war but running send error:\r\n\r\n    Starting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\r\n    \r\n    &gt; Task :run FAILED\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:107)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n            at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;void org.apache.logging.slf4j.Log4jLoggerFactory.&lt;init&gt;(org.apache.logging.slf4j.Log4jMarkerFactory)&#39;\r\n            at org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:54)\r\n            at org.slf4j.LoggerFactory.bind(LoggerFactory.java:152)\r\n            at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:139)\r\n            at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:421)\r\n            at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:407)\r\n            at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:356)\r\n            at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:382)\r\n            at org.apereo.cas.util.ResourceUtils.&lt;clinit&gt;(ResourceUtils.java:40)\r\n            at org.apereo.cas.mgmt.CasManagementBanner.loadGitProperties(CasManagementBanner.java:52)\r\n            at org.apereo.cas.mgmt.CasManagementBanner.&lt;clinit&gt;(CasManagementBanner.java:45)\r\n            at org.apereo.cas.mgmt.CasManagementEmbeddedContainerUtils.getCasManagementBannerInstance(CasManagementEmbeddedContainerUtils.java:41)\r\n            at org.apereo.cas.mgmt.web.CasManagementWebApplication.main(CasManagementWebApplication.java:70)\r\n            ... 8 more\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/dgtcp/cas-management-overlay/build.gradle&#39; line: 86\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:run&#39;.\r\n    &gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 25s\r\n    5 actionable tasks: 4 executed, 1 up-to-date\r\n\r\nMy build.gradle file :\r\n\r\n    import org.apache.tools.ant.taskdefs.condition.*\r\n    import org.gradle.internal.logging.text.*\r\n    import org.apereo.cas.metadata.*\r\n    import java.nio.file.*\r\n    import static org.gradle.internal.logging.text.StyledTextOutput.Style\r\n    \r\n    buildscript {\r\n        repositories {\r\n            if (project.privateRepoUrl) {\r\n              maven {\r\n                url project.privateRepoUrl\r\n                credentials {\r\n                  username = project.privateRepoUsername\r\n                  password = System.env.PRIVATE_REPO_TOKEN\r\n                }\r\n              }\r\n            }\r\n            mavenLocal()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n    #        maven {\r\n    #            url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39;\r\n    #            mavenContent { snapshotsOnly() }\r\n    #        }\r\n    #        maven {\r\n    #            url &quot;https://repo.spring.io/milestone&quot;\r\n    #            mavenContent { releasesOnly() }\r\n    #        }\r\n    #    }\r\n    #    dependencies {\r\n    #        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:${project.springBootVersion}&quot;\r\n    \r\n    #  /**\r\n    #    * Do NOT modify the lines below or else you will risk breaking dependency management.\r\n    #    */\r\n    #    implementation enforcedPlatform(&quot;org.apereo.cas:cas-server-support-bom:${project.&#39;cas.version&#39;}&quot;)\r\n    #    implementation platform(org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES)\r\n    \r\n    #    /**\r\n    #     * CAS dependencies and modules may be listed here.\r\n    #     *\r\n    #     * There is no need to specify the version number for each dependency\r\n    #     * since versions are all resolved and controlled by the dependency management\r\n    #     * plugin via the CAS bom.\r\n    #     **/\r\n    \r\n    #    implementation &quot;org.apereo.cas:cas-server-core-api-configuration-model&quot;\r\n    #    implementation &quot;org.apereo.cas:cas-server-webapp-init&quot;\r\n    \r\n    #    if (project.hasProperty(&quot;casModules&quot;)) {\r\n    #        def dependencies = project.getProperty(&quot;casModules&quot;).split(&quot;,&quot;)\r\n    #        dependencies.each {\r\n    #           def projectsToAdd = rootProject.subprojects.findAll {project -&gt;\r\n    #               project.name == &quot;cas-server-core-${it}&quot; || project.name == &quot;cas-server-support-${it}&quot;\r\n    #            }\r\n    #            projectsToAdd.each {implementation it}\r\n    #        }\r\n    #    }\r\n    \r\n    \r\n    #    developmentOnly &quot;org.springframework.boot:spring-boot-devtools:${project.springBootVersion}&quot;\r\n    #}\r\n","title":"How to resolve the build error for deployement with CAS","body":"<p>I am deploying CAS for the first time. It's for my soutenance (licence in security). I have success to build and run the cas-overlay-template and authenticate with casuser; my problem is with cas-management-overlay, I have success to build the war but running send error:</p>\n<pre><code>Starting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\n\n&gt; Task :run FAILED\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\nCaused by: java.lang.NoSuchMethodError: 'void org.apache.logging.slf4j.Log4jLoggerFactory.&lt;init&gt;(org.apache.logging.slf4j.Log4jMarkerFactory)'\n        at org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:54)\n        at org.slf4j.LoggerFactory.bind(LoggerFactory.java:152)\n        at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:139)\n        at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:421)\n        at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:407)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:356)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:382)\n        at org.apereo.cas.util.ResourceUtils.&lt;clinit&gt;(ResourceUtils.java:40)\n        at org.apereo.cas.mgmt.CasManagementBanner.loadGitProperties(CasManagementBanner.java:52)\n        at org.apereo.cas.mgmt.CasManagementBanner.&lt;clinit&gt;(CasManagementBanner.java:45)\n        at org.apereo.cas.mgmt.CasManagementEmbeddedContainerUtils.getCasManagementBannerInstance(CasManagementEmbeddedContainerUtils.java:41)\n        at org.apereo.cas.mgmt.web.CasManagementWebApplication.main(CasManagementWebApplication.java:70)\n        ... 8 more\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/dgtcp/cas-management-overlay/build.gradle' line: 86\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 25s\n5 actionable tasks: 4 executed, 1 up-to-date\n</code></pre>\n<p>My build.gradle file :</p>\n<pre><code>import org.apache.tools.ant.taskdefs.condition.*\nimport org.gradle.internal.logging.text.*\nimport org.apereo.cas.metadata.*\nimport java.nio.file.*\nimport static org.gradle.internal.logging.text.StyledTextOutput.Style\n\nbuildscript {\n    repositories {\n        if (project.privateRepoUrl) {\n          maven {\n            url project.privateRepoUrl\n            credentials {\n              username = project.privateRepoUsername\n              password = System.env.PRIVATE_REPO_TOKEN\n            }\n          }\n        }\n        mavenLocal()\n        mavenCentral()\n        gradlePluginPortal()\n#        maven {\n#            url 'https://oss.sonatype.org/content/repositories/snapshots'\n#            mavenContent { snapshotsOnly() }\n#        }\n#        maven {\n#            url &quot;https://repo.spring.io/milestone&quot;\n#            mavenContent { releasesOnly() }\n#        }\n#    }\n#    dependencies {\n#        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:${project.springBootVersion}&quot;\n\n#  /**\n#    * Do NOT modify the lines below or else you will risk breaking dependency management.\n#    */\n#    implementation enforcedPlatform(&quot;org.apereo.cas:cas-server-support-bom:${project.'cas.version'}&quot;)\n#    implementation platform(org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES)\n\n#    /**\n#     * CAS dependencies and modules may be listed here.\n#     *\n#     * There is no need to specify the version number for each dependency\n#     * since versions are all resolved and controlled by the dependency management\n#     * plugin via the CAS bom.\n#     **/\n\n#    implementation &quot;org.apereo.cas:cas-server-core-api-configuration-model&quot;\n#    implementation &quot;org.apereo.cas:cas-server-webapp-init&quot;\n\n#    if (project.hasProperty(&quot;casModules&quot;)) {\n#        def dependencies = project.getProperty(&quot;casModules&quot;).split(&quot;,&quot;)\n#        dependencies.each {\n#           def projectsToAdd = rootProject.subprojects.findAll {project -&gt;\n#               project.name == &quot;cas-server-core-${it}&quot; || project.name == &quot;cas-server-support-${it}&quot;\n#            }\n#            projectsToAdd.each {implementation it}\n#        }\n#    }\n\n\n#    developmentOnly &quot;org.springframework.boot:spring-boot-devtools:${project.springBootVersion}&quot;\n#}\n</code></pre>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656018540,"creation_date":1656018540,"answer_id":72736568,"question_id":72730765,"body_markdown":"I now think he was using the word &quot;image&quot; in a generic sense and not in the iText Image object sense. In my case I have found that I can load a PDF image into a BufferedImage using Apache PDFBox.","title":"How to convert an iText Image into an AWT BufferedImage?","body":"<p>I now think he was using the word &quot;image&quot; in a generic sense and not in the iText Image object sense. In my case I have found that I can load a PDF image into a BufferedImage using Apache PDFBox.</p>\n"}],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656018540,"creation_date":1655989863,"question_id":72730765,"body_markdown":"In an answer [here][1] @Andrew says &quot;I now load the image into a BufferedImage&quot;, however I can&#39;t figure out how to do that. I assume the gist of it is converting the iText Image object to an AWT BufferedImage (or AWT Image and then to AWT BufferedImage). I am limited to using iText 2.1.7 version.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15129025/reduce-image-size-bytes-in-itextpdf","title":"How to convert an iText Image into an AWT BufferedImage?","body":"<p>In an answer <a href=\"https://stackoverflow.com/questions/15129025/reduce-image-size-bytes-in-itextpdf\">here</a> @Andrew says &quot;I now load the image into a BufferedImage&quot;, however I can't figure out how to do that. I assume the gist of it is converting the iText Image object to an AWT BufferedImage (or AWT Image and then to AWT BufferedImage). I am limited to using iText 2.1.7 version.</p>\n"},{"tags":["java","class","import","actionlistener","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1656018353,"post_id":72736401,"comment_id":128476413,"body_markdown":"It’s the ArrayList, it’s allowing to paint multiple shapes","body":"It’s the ArrayList, it’s allowing to paint multiple shapes"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656018456,"creation_date":1656018456,"answer_id":72736558,"question_id":72736401,"body_markdown":"The problem is that  you are adding each rectangle to the List and at the end, printing out the entire list.  If you only want one rectangle, then remove the list and update a single instance of Rectangle2D.\r\n\r\nYou add the rectangle here.\r\n```\r\nprivate ArrayList&lt;Rectangle2D&gt; rectangles = new ArrayList&lt;&gt;();\r\n\r\npublic void draw(Rectangle2D rect){\r\n    //Save the new rectangle to the list\r\n    rectangles.add(rect);\r\n    //Trigger a repaint which will call the paintComponent method and draw all the rectangles\r\n    repaint();\r\n}\r\n```\r\nEach time you print them all here.\r\n```\r\nfor (Rectangle2D rectangle : rectangles){\r\n  //Draw a basic rectangle, just as proof that this works\r\n      g2d.draw(rectangle);\r\n}\r\n```","title":"How to update 2D rectangle drawing in the respective JPanel","body":"<p>The problem is that  you are adding each rectangle to the List and at the end, printing out the entire list.  If you only want one rectangle, then remove the list and update a single instance of Rectangle2D.</p>\n<p>You add the rectangle here.</p>\n<pre><code>private ArrayList&lt;Rectangle2D&gt; rectangles = new ArrayList&lt;&gt;();\n\npublic void draw(Rectangle2D rect){\n    //Save the new rectangle to the list\n    rectangles.add(rect);\n    //Trigger a repaint which will call the paintComponent method and draw all the rectangles\n    repaint();\n}\n</code></pre>\n<p>Each time you print them all here.</p>\n<pre><code>for (Rectangle2D rectangle : rectangles){\n  //Draw a basic rectangle, just as proof that this works\n      g2d.draw(rectangle);\n}\n</code></pre>\n"}],"owner":{"account_id":25525655,"reputation":5,"user_id":19314770,"display_name":"latino_salamander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72736558,"answer_count":1,"score":0,"last_activity_date":1656018456,"creation_date":1656017353,"question_id":72736401,"body_markdown":"I am running into an issue where I have a working code that is able to display a rectangle in a Jpanel `drawpanel` given input parameters from Jtextfields. However when trying to create a new rectangle, this new rectangle is added to the drawing. So now I have two rectangles instead of only the updated one. I was wondering if anyone could help me identify why the rectangles are showing up one after the other instead of having it only display one newly updated rectangle. In order to illustrate my question better, here is an image:\r\n\r\n[The locate button here is what creates the rectangle, but everytime I change parameters a new rectangle is created.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fle79.png\r\n\r\nHere is my code for the class `die` created which extracts doubles from jtextfields and creates a 2Drectangle. \r\n\r\n```\r\nclass die extends JPanel implements ActionListener{\r\n  @Override\r\n  protected void paintComponent(Graphics g){\r\n  super.paintComponent(g);\r\n \r\n  }\r\n  @Override\r\n  public void actionPerformed(ActionEvent e) {\r\n    //parsing double values from jtextfields\r\n  \r\n    double xcor = Double.parseDouble(xcoorin.getText()); \r\n    double ycor = Double.parseDouble(ycoorin.getText());\r\n    double lengthdie = Double.parseDouble(Die_L.getText());\r\n    double widthdie = Double.parseDouble(Die_W.getText());\r\n    //drawing the rectangle\r\n    Rectangle2D rect = new Rectangle2D.Double(xcor, ycor, widthdie, lengthdie);\r\n    ((Kpackage) drawpanel).draw(rect);\r\n  }\r\n}\r\n\r\nActionListener listen = new die();\r\nlocate.addActionListener(listen);\r\n\r\n```\r\n\r\nBelow, is the code that creates the JPanel `drawpanel` which is where the JPanel is created by inheriting the method Kpackage which is a 2D Drawing. The code for the drawpanel being added is below:\r\n\r\n```\r\npublic class MyFrame{\r\n\r\npublic MyFrame(){\r\n\r\n//Creating new panels for the content window &quot;Frame&quot;\r\nJPanel cyanpanel = new JPanel();\r\nJPanel orangepanel = new JPanel();\r\nJPanel greenpanel = new JPanel();\r\nJPanel magentapanel = new JPanel();\r\nJPanel whitepanel = new JPanel();\r\nJPanel graypanel = new JPanel();\r\nJPanel drawpanel = new Kpackage(); //inheriting information from my panel which is the 2D drawing\r\nJPanel dieinputpanel = new JPanel();\r\nJPanel diepanel = new JPanel();\r\n```\r\nThe code for `Kpackage();` is here below, this code displays the larger drawing that is bounding the smaller rectangles:\r\n\r\n```\r\npublic class Kpackage extends JPanel{\r\n\r\nprivate ArrayList&lt;Rectangle2D&gt; rectangles = new ArrayList&lt;&gt;();\r\n\r\n  public void draw(Rectangle2D rect){\r\n    //Save the new rectangle to the list\r\n    rectangles.add(rect);\r\n    //Trigger a repaint which will call the paintComponent method and draw all the rectangles\r\n    repaint();\r\n}\r\n\r\n   @Override\r\n   public void paintComponent(Graphics g) {\r\n       super.paintComponent(g);\r\n       Graphics2D g2d = (Graphics2D) g;\r\n       g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n       Dimension size = this.getSize();\r\n\r\n//Dimensions and variables for the package\r\n       double scale = 30; //scale of the k package\r\n\r\n       double aTO_4L = 1.42*scale;\r\n       double bTO_4L = 0.30*scale;\r\n       double cTO_4L = 5.99*scale;\r\n       double dTO_4L = 3.00*scale;\r\n       double d1TO_4L = 1.5*scale;\r\n       double d2TO_4L = 2.60*scale;\r\n       double eTO_4L = 7.26*scale;\r\n       double fTO_4L = 0.64*scale;\r\n       double gTO_4L = 7.18*scale;\r\n       double hTO_4L = 0.38*scale;\r\n       double iTO_4L = 7.79*scale;\r\n       double jTO_4L = 13.26*scale;\r\n       double kTO_4L = 3.78*scale;\r\n       double dia_inner = 3.58*scale;\r\n       double dia_outer = 7.18*scale;\r\n       double tot_width=jTO_4L+2*hTO_4L;\r\n       double tot_height=iTO_4L+eTO_4L+d1TO_4L;\r\n       double x = (size.width/2);\r\n       double y = (size.height/2);\r\n\r\n//creating the K package envelope\r\n\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2-aTO_4L, y-eTO_4L-d1TO_4L, x-cTO_4L/2,y-eTO_4L-d1TO_4L ));\r\n     g2d.draw(new Line2D.Double( x-cTO_4L/2,y-eTO_4L-d1TO_4L ,x-cTO_4L/2,y-eTO_4L-d1TO_4L +bTO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2,y-eTO_4L-d1TO_4L +bTO_4L,x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L+bTO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L+bTO_4L,x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L,y-eTO_4L-d1TO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L,y-eTO_4L-d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\r\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L));\r\n     g2d.draw(new Line2D.Double(x+jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L));\r\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\r\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\r\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y,x-jTO_4L/2-hTO_4L,y));\r\n     g2d.draw(new Line2D.Double(x-jTO_4L/2-hTO_4L,y,x-jTO_4L/2-hTO_4L,y-eTO_4L));\r\n     g2d.draw(new Line2D.Double(x-jTO_4L/2-hTO_4L,y-eTO_4L,x-jTO_4L/2-hTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L));\r\n     g2d.draw(new Ellipse2D.Double(x-dia_inner/2,y-dia_inner/2-kTO_4L,dia_inner,dia_inner));\r\n     g2d.draw(new Ellipse2D.Double(x-dia_outer/2,y-dia_outer/2-kTO_4L,dia_outer,dia_outer));\r\n\r\n//creating the 4 leg leads \r\n\r\n//variables and names\r\n    \r\n    double D_lead = 2.529*scale;\r\n    double S_lead = 4.770*scale;\r\n    double K_lead=1.5*scale;\r\n    double G_lead=2.080*scale;\r\n\r\n\r\n    double S_p1=1.1*scale;\r\n    double S_p2=4.270*scale;\r\n    double S_p3=0.940*scale;\r\n    double S_p4=2.630*scale;\r\n    double S_rad=0.5*scale;\r\n    \r\n    double lead_w=1.2*scale;\r\n    double lead_h=1.6*scale;\r\n\r\n    double K_p1=0.32*scale;\r\n    double K_p2=1.5*scale;\r\n    double K_p3=0.620*scale;\r\n    \r\n    double G_p1=0.880*scale;\r\n\r\n    double length_lead=3.0*scale;\r\n\r\n    double dist_1=0.178*scale;\r\n    double dist_2=0.450*scale;\r\n    double dist_3=0.720*scale;\r\n    double dist_4=0.4*scale;\r\n\r\n //Creating the lead positions and dimensions\r\n\r\n //Drawing D LEAD\r\n\r\n g2d.draw(new Line2D.Double(x-jTO_4L/2,y+iTO_4L,x-jTO_4L/2,y+iTO_4L+length_lead));\r\n g2d.draw(new Line2D.Double(x-jTO_4L/2+D_lead,y+iTO_4L,x-jTO_4L/2+D_lead,y+iTO_4L+length_lead));\r\n\r\n  //Drawing G LEAD\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1+length_lead));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+length_lead));\r\n\r\n\r\n //Drawing K LEAD\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+length_lead));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+length_lead));\r\n\r\n //Drawing S LEAD\r\n\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p2,y+iTO_4L+dist_1));\r\n\r\n //connect before end point and after start point\r\n g2d.draw(new Arc2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1,2*S_rad,2*S_rad,90, 90,Arc2D.OPEN));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+S_rad,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+length_lead));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+lead_h));\r\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+length_lead));\r\n\r\n\r\nfor (Rectangle2D rectangle : rectangles){\r\n  //Draw a basic rectangle, just as proof that this works\r\n g2d.draw(rectangle);\r\n\r\n   }}}\r\n\r\n```\r\n\r\nNOTE: This is the continuation of my previous question. The link is here: \r\nhttps://stackoverflow.com/questions/72723872/drawing-a-2d-rectangle-from-jtextfield-inputs-for-gui-in-java/72724285#72724285\r\n\r\nThanks for the help! Looking forward to everyone&#39;s response.\r\n","title":"How to update 2D rectangle drawing in the respective JPanel","body":"<p>I am running into an issue where I have a working code that is able to display a rectangle in a Jpanel <code>drawpanel</code> given input parameters from Jtextfields. However when trying to create a new rectangle, this new rectangle is added to the drawing. So now I have two rectangles instead of only the updated one. I was wondering if anyone could help me identify why the rectangles are showing up one after the other instead of having it only display one newly updated rectangle. In order to illustrate my question better, here is an image:</p>\n<p><a href=\"https://i.stack.imgur.com/fle79.png\" rel=\"nofollow noreferrer\">The locate button here is what creates the rectangle, but everytime I change parameters a new rectangle is created.</a></p>\n<p>Here is my code for the class <code>die</code> created which extracts doubles from jtextfields and creates a 2Drectangle.</p>\n<pre><code>class die extends JPanel implements ActionListener{\n  @Override\n  protected void paintComponent(Graphics g){\n  super.paintComponent(g);\n \n  }\n  @Override\n  public void actionPerformed(ActionEvent e) {\n    //parsing double values from jtextfields\n  \n    double xcor = Double.parseDouble(xcoorin.getText()); \n    double ycor = Double.parseDouble(ycoorin.getText());\n    double lengthdie = Double.parseDouble(Die_L.getText());\n    double widthdie = Double.parseDouble(Die_W.getText());\n    //drawing the rectangle\n    Rectangle2D rect = new Rectangle2D.Double(xcor, ycor, widthdie, lengthdie);\n    ((Kpackage) drawpanel).draw(rect);\n  }\n}\n\nActionListener listen = new die();\nlocate.addActionListener(listen);\n\n</code></pre>\n<p>Below, is the code that creates the JPanel <code>drawpanel</code> which is where the JPanel is created by inheriting the method Kpackage which is a 2D Drawing. The code for the drawpanel being added is below:</p>\n<pre><code>public class MyFrame{\n\npublic MyFrame(){\n\n//Creating new panels for the content window &quot;Frame&quot;\nJPanel cyanpanel = new JPanel();\nJPanel orangepanel = new JPanel();\nJPanel greenpanel = new JPanel();\nJPanel magentapanel = new JPanel();\nJPanel whitepanel = new JPanel();\nJPanel graypanel = new JPanel();\nJPanel drawpanel = new Kpackage(); //inheriting information from my panel which is the 2D drawing\nJPanel dieinputpanel = new JPanel();\nJPanel diepanel = new JPanel();\n</code></pre>\n<p>The code for <code>Kpackage();</code> is here below, this code displays the larger drawing that is bounding the smaller rectangles:</p>\n<pre><code>public class Kpackage extends JPanel{\n\nprivate ArrayList&lt;Rectangle2D&gt; rectangles = new ArrayList&lt;&gt;();\n\n  public void draw(Rectangle2D rect){\n    //Save the new rectangle to the list\n    rectangles.add(rect);\n    //Trigger a repaint which will call the paintComponent method and draw all the rectangles\n    repaint();\n}\n\n   @Override\n   public void paintComponent(Graphics g) {\n       super.paintComponent(g);\n       Graphics2D g2d = (Graphics2D) g;\n       g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n       Dimension size = this.getSize();\n\n//Dimensions and variables for the package\n       double scale = 30; //scale of the k package\n\n       double aTO_4L = 1.42*scale;\n       double bTO_4L = 0.30*scale;\n       double cTO_4L = 5.99*scale;\n       double dTO_4L = 3.00*scale;\n       double d1TO_4L = 1.5*scale;\n       double d2TO_4L = 2.60*scale;\n       double eTO_4L = 7.26*scale;\n       double fTO_4L = 0.64*scale;\n       double gTO_4L = 7.18*scale;\n       double hTO_4L = 0.38*scale;\n       double iTO_4L = 7.79*scale;\n       double jTO_4L = 13.26*scale;\n       double kTO_4L = 3.78*scale;\n       double dia_inner = 3.58*scale;\n       double dia_outer = 7.18*scale;\n       double tot_width=jTO_4L+2*hTO_4L;\n       double tot_height=iTO_4L+eTO_4L+d1TO_4L;\n       double x = (size.width/2);\n       double y = (size.height/2);\n\n//creating the K package envelope\n\n     g2d.draw(new Line2D.Double(x-cTO_4L/2-aTO_4L, y-eTO_4L-d1TO_4L, x-cTO_4L/2,y-eTO_4L-d1TO_4L ));\n     g2d.draw(new Line2D.Double( x-cTO_4L/2,y-eTO_4L-d1TO_4L ,x-cTO_4L/2,y-eTO_4L-d1TO_4L +bTO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2,y-eTO_4L-d1TO_4L +bTO_4L,x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L+bTO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L+bTO_4L,x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L,y-eTO_4L-d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L,y-eTO_4L-d1TO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L,y-eTO_4L-d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\n     g2d.draw(new Line2D.Double(x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L,x-cTO_4L/2+cTO_4L+aTO_4L+d2TO_4L-hTO_4L,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L));\n     g2d.draw(new Line2D.Double(x+jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L));\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L+iTO_4L,x-jTO_4L/2,y-eTO_4L-d1TO_4L+d1TO_4L+eTO_4L));\n     g2d.draw(new Line2D.Double(x-jTO_4L/2,y,x-jTO_4L/2-hTO_4L,y));\n     g2d.draw(new Line2D.Double(x-jTO_4L/2-hTO_4L,y,x-jTO_4L/2-hTO_4L,y-eTO_4L));\n     g2d.draw(new Line2D.Double(x-jTO_4L/2-hTO_4L,y-eTO_4L,x-jTO_4L/2-hTO_4L+d2TO_4L,y-eTO_4L-d1TO_4L));\n     g2d.draw(new Ellipse2D.Double(x-dia_inner/2,y-dia_inner/2-kTO_4L,dia_inner,dia_inner));\n     g2d.draw(new Ellipse2D.Double(x-dia_outer/2,y-dia_outer/2-kTO_4L,dia_outer,dia_outer));\n\n//creating the 4 leg leads \n\n//variables and names\n    \n    double D_lead = 2.529*scale;\n    double S_lead = 4.770*scale;\n    double K_lead=1.5*scale;\n    double G_lead=2.080*scale;\n\n\n    double S_p1=1.1*scale;\n    double S_p2=4.270*scale;\n    double S_p3=0.940*scale;\n    double S_p4=2.630*scale;\n    double S_rad=0.5*scale;\n    \n    double lead_w=1.2*scale;\n    double lead_h=1.6*scale;\n\n    double K_p1=0.32*scale;\n    double K_p2=1.5*scale;\n    double K_p3=0.620*scale;\n    \n    double G_p1=0.880*scale;\n\n    double length_lead=3.0*scale;\n\n    double dist_1=0.178*scale;\n    double dist_2=0.450*scale;\n    double dist_3=0.720*scale;\n    double dist_4=0.4*scale;\n\n //Creating the lead positions and dimensions\n\n //Drawing D LEAD\n\n g2d.draw(new Line2D.Double(x-jTO_4L/2,y+iTO_4L,x-jTO_4L/2,y+iTO_4L+length_lead));\n g2d.draw(new Line2D.Double(x-jTO_4L/2+D_lead,y+iTO_4L,x-jTO_4L/2+D_lead,y+iTO_4L+length_lead));\n\n  //Drawing G LEAD\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead,y+iTO_4L+dist_1+length_lead));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_p1,y+iTO_4L+dist_1+length_lead));\n\n\n //Drawing K LEAD\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p3,y+iTO_4L+dist_1+length_lead));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1,y+iTO_4L+dist_1+length_lead));\n\n //Drawing S LEAD\n\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p2,y+iTO_4L+dist_1));\n\n //connect before end point and after start point\n g2d.draw(new Arc2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1,2*S_rad,2*S_rad,90, 90,Arc2D.OPEN));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+S_rad,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_p3,y+iTO_4L+dist_1+length_lead));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+lead_h));\n g2d.draw(new Line2D.Double(x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+lead_h,x+jTO_4L/2-dist_2-G_lead-dist_3-K_p2-K_p1-dist_4-S_rad-S_p2+S_p4,y+iTO_4L+dist_1+length_lead));\n\n\nfor (Rectangle2D rectangle : rectangles){\n  //Draw a basic rectangle, just as proof that this works\n g2d.draw(rectangle);\n\n   }}}\n\n</code></pre>\n<p>NOTE: This is the continuation of my previous question. The link is here:\n<a href=\"https://stackoverflow.com/questions/72723872/drawing-a-2d-rectangle-from-jtextfield-inputs-for-gui-in-java/72724285#72724285\">Drawing a 2D rectangle from Jtextfield inputs for GUI in Java</a></p>\n<p>Thanks for the help! Looking forward to everyone's response.</p>\n"},{"tags":["java","arrays","char","java-stream"],"comments":[{"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"score":0,"creation_date":1655717773,"post_id":72684930,"comment_id":128389772,"body_markdown":"NO!! You can&#39;t! You are trying to convert a 2-Dimensional data structure to a 1-Dimensional.","body":"NO!! You can&#39;t! You are trying to convert a 2-Dimensional data structure to a 1-Dimensional."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":13,"creation_date":1655717887,"post_id":72684930,"comment_id":128389807,"body_markdown":"@PapaifromBEKOAIL I mean, that&#39;s not an issue by itself. That&#39;s why `flatMap` exists in the first place: To flatten a &quot;2-dimensional&quot; source into a &quot;1-dimenional&quot; stream.","body":"@PapaifromBEKOAIL I mean, that&#39;s not an issue by itself. That&#39;s why <code>flatMap</code> exists in the first place: To flatten a &quot;2-dimensional&quot; source into a &quot;1-dimenional&quot; stream."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1655717888,"post_id":72684930,"comment_id":128389809,"body_markdown":"@PapaifromBEKOAIL There&#39;s nothing wrong with that.","body":"@PapaifromBEKOAIL There&#39;s nothing wrong with that."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1655718206,"post_id":72684930,"comment_id":128389919,"body_markdown":"Since there is no `char` primitive specialization of Stream (&#224; la `IntStream`), I see no way to do this which is going to be more readable than the iterative solution. Even if there were, I strongly suspect that that the iterative solution would be much faster, since `arrayCopy` can copy blocks of memory, and the stream solution would have to process it one character at a time.","body":"Since there is no <code>char</code> primitive specialization of Stream (&#224; la <code>IntStream</code>), I see no way to do this which is going to be more readable than the iterative solution. Even if there were, I strongly suspect that that the iterative solution would be much faster, since <code>arrayCopy</code> can copy blocks of memory, and the stream solution would have to process it one character at a time."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1655718792,"post_id":72684930,"comment_id":128390119,"body_markdown":"It could be done if you create a method `char[] concat(char[] array1, char[] array2)`. Then using `reduce` with identity element `new char[0]` you can simply concatenate all of these `char[]` elements into one `char[]`. This does have the drawback of creating a lot of intermediate `char[]`s. A simpler option requires two iterations - one to get the total length (can be done using a stream), and one to copy. I&#39;d personally do the latter using a simple for loop because the start index for the `System.arraycopy` keeps changing, which needs some nasty tricks to get it working inside the stream.","body":"It could be done if you create a method <code>char[] concat(char[] array1, char[] array2)</code>. Then using <code>reduce</code> with identity element <code>new char[0]</code> you can simply concatenate all of these <code>char[]</code> elements into one <code>char[]</code>. This does have the drawback of creating a lot of intermediate <code>char[]</code>s. A simpler option requires two iterations - one to get the total length (can be done using a stream), and one to copy. I&#39;d personally do the latter using a simple for loop because the start index for the <code>System.arraycopy</code> keeps changing, which needs some nasty tricks to get it working inside the stream."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1655720689,"post_id":72684930,"comment_id":128390763,"body_markdown":"@RobSpoor I&#39;ve created a similar method using `CharBuffer`, see [my answer](https://stackoverflow.com/a/72685373/589259).","body":"@RobSpoor I&#39;ve created a similar method using <code>CharBuffer</code>, see <a href=\"https://stackoverflow.com/a/72685373/589259\">my answer</a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1655722370,"post_id":72684930,"comment_id":128391312,"body_markdown":"@MaartenBodewes that&#39;s a nice combination of the concat (done by the `CharBuffer`) and the double looping to calculate the size.","body":"@MaartenBodewes that&#39;s a nice combination of the concat (done by the <code>CharBuffer</code>) and the double looping to calculate the size."},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1655843673,"post_id":72684930,"comment_id":128426901,"body_markdown":"Is your goal avoiding array copy because you&#39;d like it to be cleaner and more maintainable?","body":"Is your goal avoiding array copy because you&#39;d like it to be cleaner and more maintainable?"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655718939,"creation_date":1655718274,"answer_id":72685083,"question_id":72684930,"body_markdown":"Maybe not the best solution, but you can use:\r\n\r\n    char[] chars = tableRowContainingOnlyRequestedColumns.stream()\r\n            .map(String::valueOf)\r\n            .collect(Collectors.joining())\r\n            .toCharArray();\r\n\r\n","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>Maybe not the best solution, but you can use:</p>\n<pre><code>char[] chars = tableRowContainingOnlyRequestedColumns.stream()\n        .map(String::valueOf)\n        .collect(Collectors.joining())\n        .toCharArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1655722933,"creation_date":1655718904,"answer_id":72685218,"question_id":72684930,"body_markdown":"This is the most readable version I can come up with. You can append all the char arrays to a String, via a StringBuilder, then convert that to a `char[]`.\r\n\r\n    char[] chars = listOfCharArrays.stream()\r\n        .collect(Collector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append, StringBuilder::toString))\r\n        .toCharArray();\r\n\r\nProbably much slower than the iterative version, since `arrayCopy` can copy blocks of memory.\r\n\r\nYou could consider precomputing the total number of chars to avoid StringBuilder array reallocations, but this optimization and any others are going to eat into the readability gains you&#39;re getting from using streams.\r\n\r\n    int totalSize = listOfCharArrays.stream().mapToInt(arr -&gt; arr.length).sum();\r\n    char[] chars = listOfCharArrays.stream()\r\n        .collect(Collector.of(() -&gt; new StringBuilder(totalSize), //... the same\r\n\r\nThere are 2 unnecessary copies (`StringBuilder` -&gt; `String`, `String` -&gt; `char[]`) which are effectively a consequence of these classes not being perfectly suited to this task. `CharBuffer` is better suited; see [Maarten&#39;s answer](https://stackoverflow.com/a/72685373/1898563).","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>This is the most readable version I can come up with. You can append all the char arrays to a String, via a StringBuilder, then convert that to a <code>char[]</code>.</p>\n<pre><code>char[] chars = listOfCharArrays.stream()\n    .collect(Collector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append, StringBuilder::toString))\n    .toCharArray();\n</code></pre>\n<p>Probably much slower than the iterative version, since <code>arrayCopy</code> can copy blocks of memory.</p>\n<p>You could consider precomputing the total number of chars to avoid StringBuilder array reallocations, but this optimization and any others are going to eat into the readability gains you're getting from using streams.</p>\n<pre><code>int totalSize = listOfCharArrays.stream().mapToInt(arr -&gt; arr.length).sum();\nchar[] chars = listOfCharArrays.stream()\n    .collect(Collector.of(() -&gt; new StringBuilder(totalSize), //... the same\n</code></pre>\n<p>There are 2 unnecessary copies (<code>StringBuilder</code> -&gt; <code>String</code>, <code>String</code> -&gt; <code>char[]</code>) which are effectively a consequence of these classes not being perfectly suited to this task. <code>CharBuffer</code> is better suited; see <a href=\"https://stackoverflow.com/a/72685373/1898563\">Maarten's answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1655732640,"creation_date":1655719551,"answer_id":72685364,"question_id":72684930,"body_markdown":"It can be done via String or rather a CharBuffer as Holger commented. \r\n\r\n    char[] flatten(List&lt;char[]&gt; list) {\r\n        return list.stream()\r\n            .map(CharBuffer::wrap) // Better than String::new\r\n            .collect(Collectors.joining())\r\n            .toCharArray();\r\n    }\r\n\r\nThis requires &quot;completed&quot; array without any incomplete surrogate pair of chars at begin or end.\r\n\r\nSo compare this with:\r\n\r\n    char[] flatten(List&lt;char[]&gt; list) {\r\n        int totalLength = list.stream().mapToInt(a -&gt; a.length).sum();\r\n        char[] totalArray = new char[totalLength];\r\n        int i = 0;\r\n        for (char[] array : list) {\r\n            System.arraycopy(array, 0, totalArray, i, array.length);\r\n            i += array.length; \r\n        }\r\n        return totalArray;\r\n    }\r\n\r\nNot so big a difference, and more solid code.\r\n\r\nOr bring the entire software on the immutable `String` instead of `char[]`.","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>It can be done via String or rather a CharBuffer as Holger commented.</p>\n<pre><code>char[] flatten(List&lt;char[]&gt; list) {\n    return list.stream()\n        .map(CharBuffer::wrap) // Better than String::new\n        .collect(Collectors.joining())\n        .toCharArray();\n}\n</code></pre>\n<p>This requires &quot;completed&quot; array without any incomplete surrogate pair of chars at begin or end.</p>\n<p>So compare this with:</p>\n<pre><code>char[] flatten(List&lt;char[]&gt; list) {\n    int totalLength = list.stream().mapToInt(a -&gt; a.length).sum();\n    char[] totalArray = new char[totalLength];\n    int i = 0;\n    for (char[] array : list) {\n        System.arraycopy(array, 0, totalArray, i, array.length);\n        i += array.length; \n    }\n    return totalArray;\n}\n</code></pre>\n<p>Not so big a difference, and more solid code.</p>\n<p>Or bring the entire software on the immutable <code>String</code> instead of <code>char[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1655848923,"creation_date":1655719599,"answer_id":72685373,"question_id":72684930,"body_markdown":"I can think of only one thing, and that is to use [`CharBuffer`](https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html). For efficiency reasons I would always first calculate the right size, and then perform the copy. Any solution that performs multiple copies and/or performs string handling will be inefficient.\r\n\r\nHere&#39;s the code. The first line calculates the total size of the array required, and then allocates just enough memory for it. The second line performs the copying using the aforementioned `put` method. The final line returns the `char[]` that is backing the `CharBuffer`.\r\n\r\n    CharBuffer fullBuffer = CharBuffer.allocate(\r\n            listOfCharArrays.stream().mapToInt(array -&gt; array.length).sum());\r\n    listOfCharArrays.forEach(fullBuffer::put);\r\n    char[] asCharArray = fullBuffer.array();\r\n\r\nOf course, I cannot guarantee that it won&#39;t use `System.arrayCopy` somewhere inside of the [`CharBuffer#put`](https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#put-char:A-) method. I would strongly expect that it will use `System.arrayCopy` or similar code internally. That probably goes for most solutions provided here though.\r\n\r\nIt is possible to avoid the first size calculation by using a large enough buffer if you can estimate a maximum size, but it would require an additional copy of the data in the buffer; [`CharBuffer#array`](https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#array--) *simply returns the correctly sized backing array*, which means that the data **is copied only once**.\r\n\r\n---\r\n\r\nYou can also use `CharBuffer` directly if you want to use object oriented code. Beware that you need to make sure that you [`flip`](https://docs.oracle.com/javase/8/docs/api/java/nio/Buffer.html#flip--) it after writing to it though, and that `CharBuffer` is mutable (you can pass copies using the `duplicate` or `asReadOnly` methods - the returned instances reference the same buffer, but have independent, mutable &quot;position&quot; and &quot;limit&quot; fields).\r\n\r\nThe `Buffer` and Java NIO classes are slightly tricky to understand, but once you do you get great benefits from them, e.g. when using them for `CharEncoder` or memory mapped files.\r\n","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>I can think of only one thing, and that is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html\" rel=\"nofollow noreferrer\"><code>CharBuffer</code></a>. For efficiency reasons I would always first calculate the right size, and then perform the copy. Any solution that performs multiple copies and/or performs string handling will be inefficient.</p>\n<p>Here's the code. The first line calculates the total size of the array required, and then allocates just enough memory for it. The second line performs the copying using the aforementioned <code>put</code> method. The final line returns the <code>char[]</code> that is backing the <code>CharBuffer</code>.</p>\n<pre><code>CharBuffer fullBuffer = CharBuffer.allocate(\n        listOfCharArrays.stream().mapToInt(array -&gt; array.length).sum());\nlistOfCharArrays.forEach(fullBuffer::put);\nchar[] asCharArray = fullBuffer.array();\n</code></pre>\n<p>Of course, I cannot guarantee that it won't use <code>System.arrayCopy</code> somewhere inside of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#put-char:A-\" rel=\"nofollow noreferrer\"><code>CharBuffer#put</code></a> method. I would strongly expect that it will use <code>System.arrayCopy</code> or similar code internally. That probably goes for most solutions provided here though.</p>\n<p>It is possible to avoid the first size calculation by using a large enough buffer if you can estimate a maximum size, but it would require an additional copy of the data in the buffer; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#array--\" rel=\"nofollow noreferrer\"><code>CharBuffer#array</code></a> <em>simply returns the correctly sized backing array</em>, which means that the data <strong>is copied only once</strong>.</p>\n<hr />\n<p>You can also use <code>CharBuffer</code> directly if you want to use object oriented code. Beware that you need to make sure that you <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/Buffer.html#flip--\" rel=\"nofollow noreferrer\"><code>flip</code></a> it after writing to it though, and that <code>CharBuffer</code> is mutable (you can pass copies using the <code>duplicate</code> or <code>asReadOnly</code> methods - the returned instances reference the same buffer, but have independent, mutable &quot;position&quot; and &quot;limit&quot; fields).</p>\n<p>The <code>Buffer</code> and Java NIO classes are slightly tricky to understand, but once you do you get great benefits from them, e.g. when using them for <code>CharEncoder</code> or memory mapped files.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656017918,"creation_date":1655730560,"answer_id":72687558,"question_id":72684930,"body_markdown":"Here&#39;s a solution with Stream API which doesn&#39;t entail an **additional memory allocation**, which inevitably happens it you&#39;re using `String` and `StringBuilder` (because even with Java 8 it&#39;s not possible to instantiate a `String` without making an intermediate copy of the data, and `StringBuilder` will give you access to it&#39;s underlying array instead it gives you copy, and more over since Java 9 both `String` and `StringBuilder` are backed by `byte[]` arrays and not arrays of character).\r\n\r\nFirstly, it makes sense to calculate the size of the resulting array (*as has been already mentioned by @Maarten Bodewes and @Michael in their answers*), which is a pretty fast operation because we are not processing the data of these arrays but only requesting the length of each of them.\r\n\r\nAnd then in order to construct the *resulting array* we can make use of the *collector* which accumulates stream elements into the underlying `char[]` array and then hands it out when all the stream elements has been processes without any intermediate transformations and allocating additional memory.\r\n\r\nAll functions of the *collector* need to be stateless and changes should happen only inside its *mutable container*. Hence, we need a *mutable container* wraps a `char[]` array, but it should not have a *strong encapsulation* like `StringBuilder`, i.e. allowing access to its underlying array. And we can achieve that with `CharBuffer`.\r\n\r\nSo basically below the same idea that was introduced in the [*answer by @Maarten Bodewes*](https://stackoverflow.com/a/72685373/17949945) fully implemented with streams.\r\n\r\n`CharBuffer.allocate(length)` under the hood will instantiate `char[]` of the given length, and `CharBuffer.array()` will return the **same array** without generating an additional copy.\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;char[]&gt; listOfCharArrays =\r\n            List.of(new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;},\r\n                    new char[]{&#39;d&#39;, &#39;e&#39;, &#39;f&#39;},\r\n                    new char[]{&#39;g&#39;, &#39;h&#39;, &#39;i&#39;});\r\n    \r\n        char[] charArray = listOfCharArrays.stream()\r\n            .collect(Collectors.collectingAndThen(\r\n                Collectors.summingInt(arr -&gt; arr.length),  // calculating the total length of the arrays in the list\r\n                length -&gt; listOfCharArrays.stream().collect(\r\n                    Collector.of(\r\n                        () -&gt; CharBuffer.allocate(length), // mutable container of the collector\r\n                        CharBuffer::put,                   // accumulating stream elements inside the container\r\n                        CharBuffer::put,                   // merging the two containers with partial results (runs only when stream is being executed in parallel)\r\n                        CharBuffer::array                  // finisher function performs the final transformation\r\n                    ))\r\n            ));\r\n    \r\n        System.out.println(Arrays.toString(charArray));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[a, b, c, d, e, f, g, h, i]\r\n```","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>Here's a solution with Stream API which doesn't entail an <strong>additional memory allocation</strong>, which inevitably happens it you're using <code>String</code> and <code>StringBuilder</code> (because even with Java 8 it's not possible to instantiate a <code>String</code> without making an intermediate copy of the data, and <code>StringBuilder</code> will give you access to it's underlying array instead it gives you copy, and more over since Java 9 both <code>String</code> and <code>StringBuilder</code> are backed by <code>byte[]</code> arrays and not arrays of character).</p>\n<p>Firstly, it makes sense to calculate the size of the resulting array (<em>as has been already mentioned by @Maarten Bodewes and @Michael in their answers</em>), which is a pretty fast operation because we are not processing the data of these arrays but only requesting the length of each of them.</p>\n<p>And then in order to construct the <em>resulting array</em> we can make use of the <em>collector</em> which accumulates stream elements into the underlying <code>char[]</code> array and then hands it out when all the stream elements has been processes without any intermediate transformations and allocating additional memory.</p>\n<p>All functions of the <em>collector</em> need to be stateless and changes should happen only inside its <em>mutable container</em>. Hence, we need a <em>mutable container</em> wraps a <code>char[]</code> array, but it should not have a <em>strong encapsulation</em> like <code>StringBuilder</code>, i.e. allowing access to its underlying array. And we can achieve that with <code>CharBuffer</code>.</p>\n<p>So basically below the same idea that was introduced in the <a href=\"https://stackoverflow.com/a/72685373/17949945\"><em>answer by @Maarten Bodewes</em></a> fully implemented with streams.</p>\n<p><code>CharBuffer.allocate(length)</code> under the hood will instantiate <code>char[]</code> of the given length, and <code>CharBuffer.array()</code> will return the <strong>same array</strong> without generating an additional copy.</p>\n<pre><code>public static void main(String[] args) {\n    \n    List&lt;char[]&gt; listOfCharArrays =\n        List.of(new char[]{'a', 'b', 'c'},\n                new char[]{'d', 'e', 'f'},\n                new char[]{'g', 'h', 'i'});\n\n    char[] charArray = listOfCharArrays.stream()\n        .collect(Collectors.collectingAndThen(\n            Collectors.summingInt(arr -&gt; arr.length),  // calculating the total length of the arrays in the list\n            length -&gt; listOfCharArrays.stream().collect(\n                Collector.of(\n                    () -&gt; CharBuffer.allocate(length), // mutable container of the collector\n                    CharBuffer::put,                   // accumulating stream elements inside the container\n                    CharBuffer::put,                   // merging the two containers with partial results (runs only when stream is being executed in parallel)\n                    CharBuffer::array                  // finisher function performs the final transformation\n                ))\n        ));\n\n    System.out.println(Arrays.toString(charArray));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[a, b, c, d, e, f, g, h, i]\n</code></pre>\n"}],"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":72685373,"answer_count":5,"score":14,"last_activity_date":1656017918,"creation_date":1655717535,"question_id":72684930,"body_markdown":"What&#39;s a simple way to convert/flatten a `List&lt;char[]&gt;` to `char[]` in Java?\r\n\r\nI know I can do it by iterating the `List` and using `System.arraycopy`,  but I&#39;m wondering is there a simpler way to do it using Java 8 streams?\r\n\r\nMaybe something like this, but without having to box the primitive `char` to `Character`:\r\n\r\n    List&lt;char[]&gt; listOfCharArrays = ...\r\n\r\n    Character[] charArray =\r\n        Stream.of(listOfCharArrays )\r\n            .flatMap(List::stream)\r\n            .toArray(Character[]::new);","title":"Convert List&lt;char[]&gt; into an Array char[] without using System.arraycopy()","body":"<p>What's a simple way to convert/flatten a <code>List&lt;char[]&gt;</code> to <code>char[]</code> in Java?</p>\n<p>I know I can do it by iterating the <code>List</code> and using <code>System.arraycopy</code>,  but I'm wondering is there a simpler way to do it using Java 8 streams?</p>\n<p>Maybe something like this, but without having to box the primitive <code>char</code> to <code>Character</code>:</p>\n<pre><code>List&lt;char[]&gt; listOfCharArrays = ...\n\nCharacter[] charArray =\n    Stream.of(listOfCharArrays )\n        .flatMap(List::stream)\n        .toArray(Character[]::new);\n</code></pre>\n"},{"tags":["java","mongodb","aggregation-framework"],"answers":[{"tags":[],"owner":{"account_id":24576560,"reputation":14741,"user_id":18482310,"display_name":"nimrod serok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656017785,"creation_date":1656017785,"answer_id":72736456,"question_id":72735904,"body_markdown":"With mongoDB syntax you can do it like this:\r\n\r\nSince you want the original documents in your results, you need to keep them during the `$group` step. One way of doing it, is `$push: &quot;$ROOT&quot;`.\r\nThe last two steps are just to format it as you wanted, since they are grouped together.\r\n````\r\ndb.collection.aggregate([\r\n  {$group: {_id: &quot;$VIN&quot;, data: {$push: &quot;$$ROOT&quot;}, count: {$sum: 1}}},\r\n  {$match: {count: {$gt: 1}}},\r\n  {$unwind: &quot;$data&quot;},\r\n  {$replaceRoot: {newRoot: &quot;$data&quot;}}\r\n])\r\n````\r\nSee how it works on the [playground example](https://mongoplayground.net/p/64BUU5BvMZF)\r\n","title":"Retrieve duplicate documents from mongo collection matching certain conditions","body":"<p>With mongoDB syntax you can do it like this:</p>\n<p>Since you want the original documents in your results, you need to keep them during the <code>$group</code> step. One way of doing it, is <code>$push: &quot;$ROOT&quot;</code>.\nThe last two steps are just to format it as you wanted, since they are grouped together.</p>\n<pre><code>db.collection.aggregate([\n  {$group: {_id: &quot;$VIN&quot;, data: {$push: &quot;$$ROOT&quot;}, count: {$sum: 1}}},\n  {$match: {count: {$gt: 1}}},\n  {$unwind: &quot;$data&quot;},\n  {$replaceRoot: {newRoot: &quot;$data&quot;}}\n])\n</code></pre>\n<p>See how it works on the <a href=\"https://mongoplayground.net/p/64BUU5BvMZF\" rel=\"nofollow noreferrer\">playground example</a></p>\n"}],"owner":{"account_id":8409104,"reputation":1033,"user_id":6311660,"accept_rate":77,"display_name":"Srinivasan Ramu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72736456,"answer_count":1,"score":0,"last_activity_date":1656017785,"creation_date":1656014001,"question_id":72735904,"body_markdown":"Below is a mongo collection named customerFinance containing a list of 4 documents\r\n\r\n    [\r\n    \t{&quot;VIN&quot;: 100,\r\n    \t&quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\r\n    \t&quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\r\n    \t&quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\r\n    \t&quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;},\r\n    \t{&quot;VIN&quot;: 101,\r\n    \t&quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\r\n    \t&quot;CUSTOMER_FIRST_NAME&quot;:&quot;JOHN&quot;,\r\n    \t&quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\r\n    \t&quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;},\r\n    \t{&quot;VIN&quot;: 101,\r\n    \t&quot;CUSTOMER_TYPE&quot;: &quot;6-CO BORROWER&quot;,\r\n    \t&quot;CUSTOMER_FIRST_NAME&quot;:&quot;SUSAN&quot;,\r\n    \t&quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\r\n    \t&quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;},\r\n    \t{&quot;VIN&quot;: 100,\r\n    \t&quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\r\n    \t&quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\r\n    \t&quot;DEAL_TYPE&quot;:&quot;RETAIL&quot;,\r\n    \t&quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;}\r\n    ]\r\n\r\nMy goal is to retrieve only the first and fourth document from this collection as you can see they both have the following fields same - VIN, CUSTOMER_TYPE, CUSTOMER_FIRST_NAME\r\n\r\nWith the below piece of Java code, I am able to filter those VINs whose count is greater than 1\r\n\r\n    GroupOperation groupByVin = group(&quot;VIN&quot;).count().as(&quot;VIN_COUNT&quot;);\r\n    MatchOperation filterVins = match(new Criteria(&quot;VIN_COUNT&quot;).gt(1));\r\n    Aggregation aggregation = newAggregation(groupByVin, filterVins);\r\n    AggregationResults&lt;Document&gt; result = mongoTemplate.aggregate(aggregation, &quot;customerFinance&quot;, Document.class);\r\n    return result.getMappedResults();\r\n\r\nAnd I get the below result\r\n\r\n \r\n\r\n       [{&quot;_id&quot;: 100,\r\n        &quot;VIN_COUNT&quot;: 2}]\r\n    \r\n    But I want my result to look like the below format\r\n    \r\n    [\r\n    {&quot;VIN&quot;: 100,\r\n     &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\r\n     &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\r\n     &quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\r\n     &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;\r\n    },\r\n    {&quot;VIN&quot;: 100,\r\n     &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\r\n     &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\r\n     &quot;DEAL_TYPE&quot;:&quot;RETAIL&quot;,\r\n     &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;\r\n    }\r\n    ]\r\n\r\nCould you please help me understand on how can I achieve this?","title":"Retrieve duplicate documents from mongo collection matching certain conditions","body":"<p>Below is a mongo collection named customerFinance containing a list of 4 documents</p>\n<pre><code>[\n    {&quot;VIN&quot;: 100,\n    &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\n    &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\n    &quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\n    &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;},\n    {&quot;VIN&quot;: 101,\n    &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\n    &quot;CUSTOMER_FIRST_NAME&quot;:&quot;JOHN&quot;,\n    &quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\n    &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;},\n    {&quot;VIN&quot;: 101,\n    &quot;CUSTOMER_TYPE&quot;: &quot;6-CO BORROWER&quot;,\n    &quot;CUSTOMER_FIRST_NAME&quot;:&quot;SUSAN&quot;,\n    &quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\n    &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;},\n    {&quot;VIN&quot;: 100,\n    &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\n    &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\n    &quot;DEAL_TYPE&quot;:&quot;RETAIL&quot;,\n    &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;}\n]\n</code></pre>\n<p>My goal is to retrieve only the first and fourth document from this collection as you can see they both have the following fields same - VIN, CUSTOMER_TYPE, CUSTOMER_FIRST_NAME</p>\n<p>With the below piece of Java code, I am able to filter those VINs whose count is greater than 1</p>\n<pre><code>GroupOperation groupByVin = group(&quot;VIN&quot;).count().as(&quot;VIN_COUNT&quot;);\nMatchOperation filterVins = match(new Criteria(&quot;VIN_COUNT&quot;).gt(1));\nAggregation aggregation = newAggregation(groupByVin, filterVins);\nAggregationResults&lt;Document&gt; result = mongoTemplate.aggregate(aggregation, &quot;customerFinance&quot;, Document.class);\nreturn result.getMappedResults();\n</code></pre>\n<p>And I get the below result</p>\n<pre><code>   [{&quot;_id&quot;: 100,\n    &quot;VIN_COUNT&quot;: 2}]\n\nBut I want my result to look like the below format\n\n[\n{&quot;VIN&quot;: 100,\n &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\n &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\n &quot;DEAL_TYPE&quot;:&quot;LEASE&quot;,\n &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2021&quot;\n},\n{&quot;VIN&quot;: 100,\n &quot;CUSTOMER_TYPE&quot;: &quot;1-PRIMARY BORROWER&quot;,\n &quot;CUSTOMER_FIRST_NAME&quot;:&quot;MATT&quot;,\n &quot;DEAL_TYPE&quot;:&quot;RETAIL&quot;,\n &quot;CONTRACT_START_DATE&quot;: &quot;04/30/2022&quot;\n}\n]\n</code></pre>\n<p>Could you please help me understand on how can I achieve this?</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656017628,"creation_date":1656017628,"answer_id":72736437,"question_id":72731973,"body_markdown":"As `Query` is a persistence technology-specific abstraction (in this case MongoDB), it is supposed to be used *within* the repository. The service layer shouldn&#39;t actually need to refer such a type. This means that query methods need to be composed of domain types and either bound to a derived or declared query.\r\n\r\nIf you want to create the `Query` instance yourself, the way to go is a custom repository method implementation. How to declare them is described in [the reference documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior","title":"Is it possible to pass Query object as parameter of MongoRepository method?","body":"<p>As <code>Query</code> is a persistence technology-specific abstraction (in this case MongoDB), it is supposed to be used <em>within</em> the repository. The service layer shouldn't actually need to refer such a type. This means that query methods need to be composed of domain types and either bound to a derived or declared query.</p>\n<p>If you want to create the <code>Query</code> instance yourself, the way to go is a custom repository method implementation. How to declare them is described in <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">the reference documentation</a>.</p>\n"}],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656017628,"creation_date":1655994787,"question_id":72731973,"body_markdown":"I create mongodb **Query** object in service layer, then I call repository method and pass Query to it. I don&#39;t want to use annotation @Query. So, repository method should look something like this:\r\n\r\n    List&lt;Person&gt; findByQuery(Query query, Pageable pageable);\r\n\r\nor simply `find(...)`. But when I build the project, there are errors in tests. It says: \r\n\r\n&gt; No property &#39;query&#39; found for type &#39;Person&#39;\r\n\r\n or \r\n\r\n&gt; No property &#39;find&#39; found for type &#39;Person&#39;! Did you mean\r\n&gt; &#39;&#39;id&#39;&#39;?\r\n\r\nObviously, the name of method is incorrect. How should I name the method to make Spring generate code?","title":"Is it possible to pass Query object as parameter of MongoRepository method?","body":"<p>I create mongodb <strong>Query</strong> object in service layer, then I call repository method and pass Query to it. I don't want to use annotation @Query. So, repository method should look something like this:</p>\n<pre><code>List&lt;Person&gt; findByQuery(Query query, Pageable pageable);\n</code></pre>\n<p>or simply <code>find(...)</code>. But when I build the project, there are errors in tests. It says:</p>\n<blockquote>\n<p>No property 'query' found for type 'Person'</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>No property 'find' found for type 'Person'! Did you mean\n''id''?</p>\n</blockquote>\n<p>Obviously, the name of method is incorrect. How should I name the method to make Spring generate code?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1656047723,"post_id":72736004,"comment_id":128480895,"body_markdown":"Use `@Validated` at Controller level and rest should seem fine !","body":"Use <code>@Validated</code> at Controller level and rest should seem fine !"}],"owner":{"account_id":25632377,"reputation":19,"user_id":19402553,"display_name":"idkaname"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1656017372,"creation_date":1656014636,"question_id":72736004,"body_markdown":"I&#39;m trying to validate the credit card&#39;s information when a user inputs it. \r\n\r\nNot sure what is going wrong. This is what I&#39;ve tried so far, but it&#39;s giving me the message that &quot;Validation failed for classes (CreditCard) during persist time for groups.\r\n```\r\n@RequestController\r\n@RequestMapping\r\npublic class fooController {\r\n\r\n...\r\n\r\n    @PostMapping\r\n    public ResponseEntity saveFoo(@Valid @RequestBody Sale sale) {\r\n        fooService.saveFoo(sale);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n}\r\n```\r\n```\r\npublic class Sale {\r\n    @Id\r\n    private Long id;\r\n    \r\n    @Valid\r\n    private CreditCard creditCard\r\n```\r\n```\r\n@Embeddable\r\npublic class CreditCard {\r\n\r\n@NotBlank\r\nprivate String cardNumber;\r\n\r\n@NotBlank\r\nprivate String cvv;\r\n\r\n}\r\n```\r\n\r\n","title":"SpringBoot: How do I validate the fields of an argument&#39;s field in SpringBoot?","body":"<p>I'm trying to validate the credit card's information when a user inputs it.</p>\n<p>Not sure what is going wrong. This is what I've tried so far, but it's giving me the message that &quot;Validation failed for classes (CreditCard) during persist time for groups.</p>\n<pre><code>@RequestController\n@RequestMapping\npublic class fooController {\n\n...\n\n    @PostMapping\n    public ResponseEntity saveFoo(@Valid @RequestBody Sale sale) {\n        fooService.saveFoo(sale);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n}\n</code></pre>\n<pre><code>public class Sale {\n    @Id\n    private Long id;\n    \n    @Valid\n    private CreditCard creditCard\n</code></pre>\n<pre><code>@Embeddable\npublic class CreditCard {\n\n@NotBlank\nprivate String cardNumber;\n\n@NotBlank\nprivate String cvv;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656017279,"creation_date":1656017279,"answer_id":72736387,"question_id":72723134,"body_markdown":"Definitely there is! If you want &quot;the real thing&quot; - that is a real DB against which you run your queries, I&#39;d go with [testcontainers][1]. They require a Docker demon installed and running on your machine, but other than that they are a great way to provide test dependencies (databases, messaging queues, Kafka, you name it), and are quite easy to setup and teardown in your test cases.\r\n\r\nAlternatively, you can provide a dedicated configuration file for your integration (in Spring&#39;s meaning of the term &quot;integration&quot;) tests, and using Spring profiles feature simply instantiate In-Memory versions of your repositories which do not require DB at all - you can write your own [fakes][2] that keep all the data in memory.\r\n\r\nBoth approaches have their pros and cons. Running real db in a docker environment is a kind of a heavy-weight approach, the tests are slow comparing to using in-memory fakes. The pro side is that your are making real queries against a real db, and if your query is faulty you&#39;ll get to know that. Also developing and maintaining test fakes takes some time and effort, so there is a tradeoff here.\r\n\r\nTL;DR - checkout testcontainers and Martin Fowler&#39;s article - choose what suites your needs the most.\r\n\r\n\r\n  [1]: https://www.testcontainers.org/\r\n  [2]: https://martinfowler.com/bliki/TestDouble.html","title":"Spring Boot JUnit5 testing without database connection","body":"<p>Definitely there is! If you want &quot;the real thing&quot; - that is a real DB against which you run your queries, I'd go with <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers</a>. They require a Docker demon installed and running on your machine, but other than that they are a great way to provide test dependencies (databases, messaging queues, Kafka, you name it), and are quite easy to setup and teardown in your test cases.</p>\n<p>Alternatively, you can provide a dedicated configuration file for your integration (in Spring's meaning of the term &quot;integration&quot;) tests, and using Spring profiles feature simply instantiate In-Memory versions of your repositories which do not require DB at all - you can write your own <a href=\"https://martinfowler.com/bliki/TestDouble.html\" rel=\"nofollow noreferrer\">fakes</a> that keep all the data in memory.</p>\n<p>Both approaches have their pros and cons. Running real db in a docker environment is a kind of a heavy-weight approach, the tests are slow comparing to using in-memory fakes. The pro side is that your are making real queries against a real db, and if your query is faulty you'll get to know that. Also developing and maintaining test fakes takes some time and effort, so there is a tradeoff here.</p>\n<p>TL;DR - checkout testcontainers and Martin Fowler's article - choose what suites your needs the most.</p>\n"}],"owner":{"account_id":23594199,"reputation":85,"user_id":17631530,"display_name":"kofi boateng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656017279,"creation_date":1655942180,"question_id":72723134,"body_markdown":"I am running into a problem where I am running test with Spring Boot that comes with JUnit5. I have my application&#39;s connection to a Datasource in the cloud. However, when I run my test, it is failing for for one reason which is, I have my datasource file set to take in environment variables and did not hard code my data sources in (will be sent through docker-compose file). Is there a way to create a fake db in memory when testing? How do I go about this as I will I am also trying to test by mocking out my database.\r\n\r\nMain Test.java file\r\n```\r\npackage com.legacybanking.legacyBankingAPI;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\nclass LegacyBankingApiApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\ndatasource\r\n```\r\nspring.datasource.url=${SPRING_DATASOURCE_URL}\r\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\r\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\r\nspring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO}\r\nspring.jpa.show-sql=${SPRING_JPA_SHOW_SQL}\r\nspring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT}\r\nspring.jpa.properties.hibernate.format_sql=${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL}\r\n```","title":"Spring Boot JUnit5 testing without database connection","body":"<p>I am running into a problem where I am running test with Spring Boot that comes with JUnit5. I have my application's connection to a Datasource in the cloud. However, when I run my test, it is failing for for one reason which is, I have my datasource file set to take in environment variables and did not hard code my data sources in (will be sent through docker-compose file). Is there a way to create a fake db in memory when testing? How do I go about this as I will I am also trying to test by mocking out my database.</p>\n<p>Main Test.java file</p>\n<pre><code>package com.legacybanking.legacyBankingAPI;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\nclass LegacyBankingApiApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>datasource</p>\n<pre><code>spring.datasource.url=${SPRING_DATASOURCE_URL}\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\nspring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO}\nspring.jpa.show-sql=${SPRING_JPA_SHOW_SQL}\nspring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT}\nspring.jpa.properties.hibernate.format_sql=${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8754,"page":1238,"page_size":100}
