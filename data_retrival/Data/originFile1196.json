{"items":[{"tags":["java","spring","spring-boot","websocket","scheduled-tasks"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657519646,"post_id":72933366,"comment_id":128820098,"body_markdown":"You have a web socket client... Why would you need a scheduler to trigger it? It don&#39;t get your reasoning.. You already have the client, that reacts to incoming events...","body":"You have a web socket client... Why would you need a scheduler to trigger it? It don&#39;t get your reasoning.. You already have the client, that reacts to incoming events..."},{"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"score":0,"creation_date":1657599074,"post_id":72933366,"comment_id":128842695,"body_markdown":"Yes I agree with that seems redundant. I’m probably missing the more adequate approach. Which tool would you use to estabilish an event loop that triggers with the socket stream?","body":"Yes I agree with that seems redundant. I’m probably missing the more adequate approach. Which tool would you use to estabilish an event loop that triggers with the socket stream?"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657535294,"creation_date":1657535294,"answer_id":72937122,"question_id":72933366,"body_markdown":"If your question is about the correct place to start the event streaming through the websocket client defined as a bean, one of the options is an `ApplicationRunner` bean whose `run()` method will be executed once on application start:\r\n```java\r\n@SpringBootApplication\r\npublic class BinanceClientApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BinanceClientApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public ApplicationRunner applicationRunner(BinanceApiWebSocketClient binanceApiWebSocketClient) {\r\n        return args -&gt; {\r\n            binanceApiWebSocketClient.onCandlestickEvent(&quot;ethbtc&quot;,\r\n                                                         CandlestickInterval.ONE_MINUTE,\r\n                                                         response -&gt;\r\n                                                                 System.out.println(response));\r\n        };\r\n    }\r\n}\r\n\r\n\r\n@Configuration\r\npublic class WebSocketConfig {      \r\n    @Bean\r\n    public BinanceApiWebSocketClient binanceApiWebSocketClient() {\r\n        return BinanceApiClientFactory.newInstance().newWebSocketClient(); \r\n    }\r\n}\r\n```\r\n\r\nWith the scheduled task you have a new event stream is started with every task execution and you end up having multiple streams of the same events.","title":"How to @Schedule a task according to a WebSocket Event in Spring Boot","body":"<p>If your question is about the correct place to start the event streaming through the websocket client defined as a bean, one of the options is an <code>ApplicationRunner</code> bean whose <code>run()</code> method will be executed once on application start:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class BinanceClientApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BinanceClientApplication.class, args);\n    }\n\n    @Bean\n    public ApplicationRunner applicationRunner(BinanceApiWebSocketClient binanceApiWebSocketClient) {\n        return args -&gt; {\n            binanceApiWebSocketClient.onCandlestickEvent(&quot;ethbtc&quot;,\n                                                         CandlestickInterval.ONE_MINUTE,\n                                                         response -&gt;\n                                                                 System.out.println(response));\n        };\n    }\n}\n\n\n@Configuration\npublic class WebSocketConfig {      \n    @Bean\n    public BinanceApiWebSocketClient binanceApiWebSocketClient() {\n        return BinanceApiClientFactory.newInstance().newWebSocketClient(); \n    }\n}\n</code></pre>\n<p>With the scheduled task you have a new event stream is started with every task execution and you end up having multiple streams of the same events.</p>\n"}],"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657535294,"creation_date":1657509503,"question_id":72933366,"body_markdown":"I would like to create an application in Java to automate trades in my Binance account. Thankfully, [joaopsilva][1] has made it easy through an [open source API][2] which fetches candlesticks through REST Client or WebSocket. I would like to use WebSocket since it is lighter.\r\n\r\nI searched in several sources and still I could not find an example project which uses the Spring Boot framework to build an event-driven application which interacts with a connected WebSocket.\r\n\r\nIf my line of reason is correct, I should define a bean for Spring to instantiate the WebSocket client:\r\n\r\n    @Configuration\r\n    public class WebSocketConfig {  \t\r\n    \t@Bean\r\n    \tpublic BinanceApiWebSocketClient binanceApiWebSocketClient() {\r\n    \t\treturn BinanceApiClientFactory.newInstance().newWebSocketClient(); \r\n    \t}\r\n    }\r\n\r\nTo interact with the socket event, I created a @Scheduled response, in which I used an arbitrary rate of 1 per second just for testing. I did it like this:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SocketListener {\r\n    \t@Autowired BinanceApiWebSocketClient client;\r\n    \t@Scheduled(fixedRate = 1000)\r\n    \tpublic void scheduleFixedDelayTask() {\r\n    \t\tclient.onCandlestickEvent(&quot;ethbtc&quot;, CandlestickInterval.ONE_MINUTE, response -&gt; \r\n    System.out.println(response));\r\n    \t}\r\n    }\r\n\r\nIt works. If I launch the Spring application, it successfuly configures the client Bean and it prints the candlestick events. However, every 1 second, what I receive is an enormous chunk of events. It looks like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo, I&#39;m wondering. **Am I doing this correctly?** Would there be a way to Schedule the listener not to receive chunks of events, but to listen the socket exactly when an event happens (not setting delay = 1, which of course causes unnecessary performance issues).\r\n\r\n\r\n  [1]: https://github.com/binance-exchange/binance-java-api/commits?author=joaopsilva\r\n  [2]: https://github.com/binance-exchange/binance-java-api\r\n  [3]: https://i.stack.imgur.com/erwnb.png","title":"How to @Schedule a task according to a WebSocket Event in Spring Boot","body":"<p>I would like to create an application in Java to automate trades in my Binance account. Thankfully, <a href=\"https://github.com/binance-exchange/binance-java-api/commits?author=joaopsilva\" rel=\"nofollow noreferrer\">joaopsilva</a> has made it easy through an <a href=\"https://github.com/binance-exchange/binance-java-api\" rel=\"nofollow noreferrer\">open source API</a> which fetches candlesticks through REST Client or WebSocket. I would like to use WebSocket since it is lighter.</p>\n<p>I searched in several sources and still I could not find an example project which uses the Spring Boot framework to build an event-driven application which interacts with a connected WebSocket.</p>\n<p>If my line of reason is correct, I should define a bean for Spring to instantiate the WebSocket client:</p>\n<pre><code>@Configuration\npublic class WebSocketConfig {      \n    @Bean\n    public BinanceApiWebSocketClient binanceApiWebSocketClient() {\n        return BinanceApiClientFactory.newInstance().newWebSocketClient(); \n    }\n}\n</code></pre>\n<p>To interact with the socket event, I created a @Scheduled response, in which I used an arbitrary rate of 1 per second just for testing. I did it like this:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class SocketListener {\n    @Autowired BinanceApiWebSocketClient client;\n    @Scheduled(fixedRate = 1000)\n    public void scheduleFixedDelayTask() {\n        client.onCandlestickEvent(&quot;ethbtc&quot;, CandlestickInterval.ONE_MINUTE, response -&gt; \nSystem.out.println(response));\n    }\n}\n</code></pre>\n<p>It works. If I launch the Spring application, it successfuly configures the client Bean and it prints the candlestick events. However, every 1 second, what I receive is an enormous chunk of events. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/erwnb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/erwnb.png\" alt=\"enter image description here\" /></a></p>\n<p>So, I'm wondering. <strong>Am I doing this correctly?</strong> Would there be a way to Schedule the listener not to receive chunks of events, but to listen the socket exactly when an event happens (not setting delay = 1, which of course causes unnecessary performance issues).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657533184,"post_id":72936578,"comment_id":128824191,"body_markdown":"Provide sample input layout and clarify what your issue is. Are you unable to read the data correctly from the sheet?","body":"Provide sample input layout and clarify what your issue is. Are you unable to read the data correctly from the sheet?"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657533395,"post_id":72936578,"comment_id":128824278,"body_markdown":"@XtremeBaumer\nAll right. My data is not read correctly.\nHow can I attach a screenshot here?","body":"@XtremeBaumer All right. My data is not read correctly. How can I attach a screenshot here?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657533438,"post_id":72936578,"comment_id":128824299,"body_markdown":"Just copy paste into question edit","body":"Just copy paste into question edit"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657533578,"post_id":72936578,"comment_id":128824351,"body_markdown":"Date\tUSD\tEUR\tCHF\tMXN\n04.07.2022\t1\t1,0422\t0,9612\t20,277\n01.07.2022\t1\t1,0414\t0,9611\t20,2629\n30.06.2022\t1\t1,0484\t0,9551\t20,1183","body":"Date\tUSD\tEUR\tCHF\tMXN 04.07.2022\t1\t1,0422\t0,9612\t20,277 01.07.2022\t1\t1,0414\t0,9611\t20,2629 30.06.2022\t1\t1,0484\t0,9551\t20,1183"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657533635,"post_id":72936578,"comment_id":128824373,"body_markdown":"@XtremeBaumer This is the data that I need to take from the file","body":"@XtremeBaumer This is the data that I need to take from the file"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657533666,"post_id":72936578,"comment_id":128824388,"body_markdown":"Into question, not as comment","body":"Into question, not as comment"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657534392,"post_id":72936578,"comment_id":128824665,"body_markdown":"@XtremeBaumer I have corrected my question","body":"@XtremeBaumer I have corrected my question"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657534873,"post_id":72936578,"comment_id":128824796,"body_markdown":"You have to &quot;turn&quot; how you iterate the data. `sheet.getRow(0).getLastCellNum()` to get the number of columns. Then you need to iterate over all rows multiple times to get the correct rate. `for (int i = 1; i &lt; lastCellNum; i++)` and the date is always `row.getCell(0)` (or whatever the col index for the date is)","body":"You have to &quot;turn&quot; how you iterate the data. <code>sheet.getRow(0).getLastCellNum()</code> to get the number of columns. Then you need to iterate over all rows multiple times to get the correct rate. <code>for (int i = 1; i &lt; lastCellNum; i++)</code> and the date is always <code>row.getCell(0)</code> (or whatever the col index for the date is)"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657535277,"post_id":72936578,"comment_id":128824932,"body_markdown":"@XtremeBaumer I updated again)\nCan you give an example?)","body":"@XtremeBaumer I updated again) Can you give an example?)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657537547,"post_id":72936578,"comment_id":128825707,"body_markdown":"I really don&#39;t understand what that new info should tell me","body":"I really don&#39;t understand what that new info should tell me"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1657538284,"post_id":72936578,"comment_id":128825946,"body_markdown":"@XtremeBaumer This is just an example.\nCan you post some code so I can mark it as the answer to my question?","body":"@XtremeBaumer This is just an example. Can you post some code so I can mark it as the answer to my question?"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657535197,"creation_date":1657532806,"question_id":72936578,"body_markdown":"My Entity class\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;rates&quot;)\r\n    public class ExchangeRate {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToOne\r\n        @JsonIgnore\r\n        private LocalCurrency localCurrency;\r\n    \r\n        @Column(name = &quot;rate&quot;)\r\n        private BigDecimal rate;\r\n    \r\n        @Column(name = &quot;date&quot;)\r\n        private Date date;\r\n    }\r\n\r\nExcel uploader\r\n\r\n    public static List&lt;ExchangeRate&gt; excelToExchangeRate(InputStream is) {\r\n            try {\r\n                Workbook workbook = new XSSFWorkbook(is);\r\n                Sheet sheet = workbook.getSheet(&quot;FX Rates&quot;);\r\n                Iterator&lt;Row&gt; rows = sheet.iterator();\r\n                List&lt;ExchangeRate&gt; rates = new ArrayList&lt;&gt;();\r\n                int rowNumber = 1;\r\n                while (rows.hasNext()) {\r\n                    Row currentRow = rows.next();\r\n                    if (rowNumber == 1) {\r\n                        rowNumber++;\r\n                        continue;\r\n                    }\r\n                    Iterator&lt;Cell&gt; cellsInRow = currentRow.iterator();\r\n                    ExchangeRate exchangeRate = new ExchangeRate();\r\n                    int cellIdx = 0;\r\n                    while (cellsInRow.hasNext()) {\r\n                        Cell currentCell = cellsInRow.next();\r\n                        switch (cellIdx) {\r\n                            case 0:\r\n                                exchangeRate.setId((long) currentCell.getNumericCellValue());\r\n                                break;\r\n                            case 1:\r\n                                exchangeRate.setDate(currentCell.getDateCellValue());\r\n                                break;\r\n                            case 2:\r\n                                exchangeRate.setRate(BigDecimal.valueOf(currentCell.getNumericCellValue()));\r\n                                break;\r\n                        }\r\n                        cellIdx++;\r\n                    }\r\n                    rates.add(exchangeRate);\r\n                }\r\n                workbook.close();\r\n                return rates;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;fail to parse Excel file: &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\nThe question is the following. There are four columns in my database: id, date, rates and localcarrency (where the data is taken from another table).\r\nAnd in the uploaded file, the data looks different (that is, the table structure is different)\r\nIn the uploaded file, there are columns: Date and then the name (which in my database are taken from another table) and below these names are the numbers themselves.\r\nHow can I take data in code?\r\n\r\nThis is the data that I need to take from the file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd now I&#39;m getting no\r\ncorrect data\r\n\r\n1961\t&quot;1900-01-01 00:00:00&quot;\t1.04\t\r\n1962\t&quot;1900-01-01 00:00:00&quot;\t1.04\t\r\n1963\t&quot;1900-01-01 00:00:00&quot;\t1.05\t\r\n\r\nShould be like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sdsVN.png\r\n  [2]: https://i.stack.imgur.com/kMMzB.png","title":"upload data from excel file to database","body":"<p>My Entity class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;rates&quot;)\npublic class ExchangeRate {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToOne\n    @JsonIgnore\n    private LocalCurrency localCurrency;\n\n    @Column(name = &quot;rate&quot;)\n    private BigDecimal rate;\n\n    @Column(name = &quot;date&quot;)\n    private Date date;\n}\n</code></pre>\n<p>Excel uploader</p>\n<pre><code>public static List&lt;ExchangeRate&gt; excelToExchangeRate(InputStream is) {\n        try {\n            Workbook workbook = new XSSFWorkbook(is);\n            Sheet sheet = workbook.getSheet(&quot;FX Rates&quot;);\n            Iterator&lt;Row&gt; rows = sheet.iterator();\n            List&lt;ExchangeRate&gt; rates = new ArrayList&lt;&gt;();\n            int rowNumber = 1;\n            while (rows.hasNext()) {\n                Row currentRow = rows.next();\n                if (rowNumber == 1) {\n                    rowNumber++;\n                    continue;\n                }\n                Iterator&lt;Cell&gt; cellsInRow = currentRow.iterator();\n                ExchangeRate exchangeRate = new ExchangeRate();\n                int cellIdx = 0;\n                while (cellsInRow.hasNext()) {\n                    Cell currentCell = cellsInRow.next();\n                    switch (cellIdx) {\n                        case 0:\n                            exchangeRate.setId((long) currentCell.getNumericCellValue());\n                            break;\n                        case 1:\n                            exchangeRate.setDate(currentCell.getDateCellValue());\n                            break;\n                        case 2:\n                            exchangeRate.setRate(BigDecimal.valueOf(currentCell.getNumericCellValue()));\n                            break;\n                    }\n                    cellIdx++;\n                }\n                rates.add(exchangeRate);\n            }\n            workbook.close();\n            return rates;\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;fail to parse Excel file: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>The question is the following. There are four columns in my database: id, date, rates and localcarrency (where the data is taken from another table).\nAnd in the uploaded file, the data looks different (that is, the table structure is different)\nIn the uploaded file, there are columns: Date and then the name (which in my database are taken from another table) and below these names are the numbers themselves.\nHow can I take data in code?</p>\n<p>This is the data that I need to take from the file:</p>\n<p><a href=\"https://i.stack.imgur.com/sdsVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sdsVN.png\" alt=\"enter image description here\" /></a></p>\n<p>And now I'm getting no\ncorrect data</p>\n<p>1961    &quot;1900-01-01 00:00:00&quot;   1.04<br />\n1962    &quot;1900-01-01 00:00:00&quot;   1.04<br />\n1963    &quot;1900-01-01 00:00:00&quot;   1.05</p>\n<p>Should be like this</p>\n<p><a href=\"https://i.stack.imgur.com/kMMzB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMMzB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"score":2,"creation_date":1498495469,"post_id":44764540,"comment_id":76510186,"body_markdown":"Advance thanks won&#39;t help brother. Show your code that you have tried and we can help on errors","body":"Advance thanks won&#39;t help brother. Show your code that you have tried and we can help on errors"},{"owner":{"account_id":2627826,"reputation":2735,"user_id":2274492,"display_name":"konstantin_doncov"},"score":2,"creation_date":1498495491,"post_id":44764540,"comment_id":76510197,"body_markdown":"Have you checked this: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-email.html ?","body":"Have you checked this: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-email.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":8993190,"reputation":165,"user_id":6704449,"accept_rate":71,"display_name":"alli pierre yotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1498503846,"creation_date":1498503846,"answer_id":44766915,"question_id":44764540,"body_markdown":"it works fine now\r\n\r\nThat is my Controller\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/sendmail&quot;)\r\n    public class MailController {\r\n    \t@Autowired\r\n    \tprivate MailService mailService;\r\n    \r\n    \t\r\n    \t@RequestMapping(method = RequestMethod.POST)\r\n    \tprivate String sendMail(HttpServletRequest request) {\r\n    \t\t String covere = request.getParameter(&quot;covere&quot;);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tmailService.sendMail(covere);\r\n    \t\t\treturn &quot;apply&quot;;\r\n    \t\t} catch (MailException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn &quot;apply&quot;;\r\n    \t}\r\n    }\r\n\r\nThat is my Service\r\n\r\n\r\n    @Component\r\n    public class MailService {\r\n    \t@Autowired\r\n    \tprivate JavaMailSender javaMailSender;\r\n    \t\r\n    \tpublic void sendMail(String covere) throws MailException{\r\n    \r\n    \t    SimpleMailMessage mail = new SimpleMailMessage();\r\n    \t    mail.setTo(&quot;yottiallipierre@gmail.com&quot;);\r\n    \t    mail.setFrom(&quot;yottiallipierre@gmail.com&quot;);\r\n    \t    mail.setSubject(&quot;Test&quot;);\r\n    \t    mail.setText(covere);\r\n    \t    javaMailSender.send(mail);\r\n    \t}\r\n    \r\n    }\r\n\r\nThat is my property Files\r\n\r\n    spring.mail.host = smtp.gmail.com\r\n    spring.mail.port= 465\r\n    spring.mail.username = yottiallipierre@gmail.com\r\n    spring.mail.password = losangeles4004*\r\n    send.from.email= yottiallipierre@gmail.com\r\n    spring.mail.properties.mail.smtp.auth = true;\r\n    spring.mail.properties.mail.smtp.starttls.enable = true\r\n    spring.mail.properties.mail.smtp.starttls.required=true\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n    spring.mail.properties.mail.socketFactory.port=587\r\n    spring.mail.properties.mail.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.socketFactory.fallback=false","title":"Send Email with Spring Boot","body":"<p>it works fine now</p>\n\n<p>That is my Controller</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/sendmail\")\npublic class MailController {\n    @Autowired\n    private MailService mailService;\n\n\n    @RequestMapping(method = RequestMethod.POST)\n    private String sendMail(HttpServletRequest request) {\n         String covere = request.getParameter(\"covere\");\n\n        try {\n            mailService.sendMail(covere);\n            return \"apply\";\n        } catch (MailException e) {\n            e.printStackTrace();\n        }\n        return \"apply\";\n    }\n}\n</code></pre>\n\n<p>That is my Service</p>\n\n<pre><code>@Component\npublic class MailService {\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    public void sendMail(String covere) throws MailException{\n\n        SimpleMailMessage mail = new SimpleMailMessage();\n        mail.setTo(\"yottiallipierre@gmail.com\");\n        mail.setFrom(\"yottiallipierre@gmail.com\");\n        mail.setSubject(\"Test\");\n        mail.setText(covere);\n        javaMailSender.send(mail);\n    }\n\n}\n</code></pre>\n\n<p>That is my property Files</p>\n\n<pre><code>spring.mail.host = smtp.gmail.com\nspring.mail.port= 465\nspring.mail.username = yottiallipierre@gmail.com\nspring.mail.password = losangeles4004*\nsend.from.email= yottiallipierre@gmail.com\nspring.mail.properties.mail.smtp.auth = true;\nspring.mail.properties.mail.smtp.starttls.enable = true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.properties.mail.smtp.ssl.enable = true\nspring.mail.properties.mail.socketFactory.port=587\nspring.mail.properties.mail.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.socketFactory.fallback=false\n</code></pre>\n"}],"owner":{"account_id":8993190,"reputation":165,"user_id":6704449,"accept_rate":71,"display_name":"alli pierre yotti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2359,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":44766915,"answer_count":1,"score":-3,"last_activity_date":1657534624,"creation_date":1498495366,"question_id":44764540,"body_markdown":"i have a Form with From/Tp Input field and TextArea as Box. I want to send Email using Spring Boot. How can i send Email Using Spring Boot?\r\n\r\nThanks for Answers.","title":"Send Email with Spring Boot","body":"<p>i have a Form with From/Tp Input field and TextArea as Box. I want to send Email using Spring Boot. How can i send Email Using Spring Boot?</p>\n\n<p>Thanks for Answers.</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1399198200,"post_id":23454952,"comment_id":35954941,"body_markdown":"One case I find useful is, for instance, if you have a substitution map. For instance `Map&lt;Character, String&gt;`. If there is no substitution I can use this: `Optional.ofNullable(map.get(c)).orElse(String.valueOf(c))`. Also note that Optional was stolen from Guava and it has a much nicer syntax: `Optional.fromNullable(map.get(c)).or(String.valueOf(c));`","body":"One case I find useful is, for instance, if you have a substitution map. For instance <code>Map&lt;Character, String&gt;</code>. If there is no substitution I can use this: <code>Optional.ofNullable(map.get(c)).orElse(String.valueOf(c))</code>. Also note that Optional was stolen from Guava and it has a much nicer syntax: <code>Optional.fromNullable(map.get(c)).or(String.valueOf(c));</code>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1399198274,"post_id":23454952,"comment_id":35954969,"body_markdown":"Also, in collections, well, there are collections not allowing null values! Optional fits the bill in here. And you can `.filter(Optional::absent)` &quot;null values&quot; out","body":"Also, in collections, well, there are collections not allowing null values! Optional fits the bill in here. And you can <code>.filter(Optional::absent)</code> &quot;null values&quot; out"},{"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"score":3,"creation_date":1399200659,"post_id":23454952,"comment_id":35955560,"body_markdown":"@fge In all fairness, I think that the concept of _Optional_ is actually stemming from FP.","body":"@fge In all fairness, I think that the concept of <i>Optional</i> is actually stemming from FP."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1489781637,"post_id":23454952,"comment_id":72839029,"body_markdown":"@fge isn&#39;t that better expressed with `getOrDefault()`?","body":"@fge isn&#39;t that better expressed with <code>getOrDefault()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1399198774,"creation_date":1399198413,"answer_id":23455008,"question_id":23454952,"body_markdown":"Seems `Optional` is only useful if the type T in Optional is a primitive type like `int`, `long`, `char`, etc. For &quot;real&quot; classes, it does not make sense to me as you can use a `null` value anyway.\r\n\r\nI think it was taken from here (or from another similar language concept).\r\n\r\n[`Nullable&lt;T&gt;`][1]\r\n\r\nIn C# this `Nullable&lt;T&gt;` was introduced long ago to wrap value types.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx\r\n\r\n","title":"Uses for Optional","body":"<p>Seems <code>Optional</code> is only useful if the type T in Optional is a primitive type like <code>int</code>, <code>long</code>, <code>char</code>, etc. For \"real\" classes, it does not make sense to me as you can use a <code>null</code> value anyway.</p>\n\n<p>I think it was taken from here (or from another similar language concept).</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx\" rel=\"nofollow\"><code>Nullable&lt;T&gt;</code></a></p>\n\n<p>In C# this <code>Nullable&lt;T&gt;</code> was introduced long ago to wrap value types.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1491308321,"creation_date":1399198645,"answer_id":23455046,"question_id":23454952,"body_markdown":"Personally, I prefer to use [IntelliJ&#39;s Code Inspection Tool](http://www.jetbrains.com/idea/docs/NullableHowTo.pdf) to use `@NotNull` and `@Nullable` checks as these are largely compile time (can have some runtime checks) This has lower overhead in terms of code readability and runtime performance.  It is not as rigorous as using Optional, however this lack of rigour should be backed by decent unit tests.\r\n\r\n    public @Nullable Foo findFoo(@NotNull String id);\r\n    \r\n    public @NotNull Foo doSomething(@NotNull String id, @Nullable Bar barOptional);\r\n    \r\n    public class Book {\r\n    \r\n      private List&lt;Pages&gt; pages;\r\n      private @Nullable Index index;\r\n    \r\n    }\r\n    \r\n    List&lt;@Nullable Foo&gt; list = ..\r\n\r\nThis works with Java 5 and no need to wrap and unwrap values. (or create wrapper objects)","title":"Uses for Optional","body":"<p>Personally, I prefer to use <a href=\"http://www.jetbrains.com/idea/docs/NullableHowTo.pdf\" rel=\"noreferrer\">IntelliJ's Code Inspection Tool</a> to use <code>@NotNull</code> and <code>@Nullable</code> checks as these are largely compile time (can have some runtime checks) This has lower overhead in terms of code readability and runtime performance.  It is not as rigorous as using Optional, however this lack of rigour should be backed by decent unit tests.</p>\n\n<pre><code>public @Nullable Foo findFoo(@NotNull String id);\n\npublic @NotNull Foo doSomething(@NotNull String id, @Nullable Bar barOptional);\n\npublic class Book {\n\n  private List&lt;Pages&gt; pages;\n  private @Nullable Index index;\n\n}\n\nList&lt;@Nullable Foo&gt; list = ..\n</code></pre>\n\n<p>This works with Java 5 and no need to wrap and unwrap values. (or create wrapper objects)</p>\n"},{"tags":[],"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1399204576,"creation_date":1399204576,"answer_id":23455933,"question_id":23454952,"body_markdown":"I think the Guava Optional and their wiki page puts it quite well:\r\n\r\n&gt; Besides the increase in readability that comes from giving null a name, the biggest advantage of Optional is its idiot-proof-ness. It forces you to actively think about the absent case if you want your program to compile at all, since you have to actively unwrap the Optional and address that case. Null makes it disturbingly easy to simply forget things, and though FindBugs helps, we don&#39;t think it addresses the issue nearly as well. \r\n\r\n&gt; This is especially relevant when you&#39;re returning values that may or may not be &quot;present.&quot; You (and others) are far more likely to forget that other.method(a, b) could return a null value than you&#39;re likely to forget that a could be null when you&#39;re implementing other.method. Returning Optional makes it impossible for callers to forget that case, since they have to unwrap the object themselves for their code to compile.\r\n  -- (Source: [Guava Wiki - Using and Avoiding null - What&#39;s the point?][1])\r\n\r\n`Optional` adds some overhead, but I think its clear advantage is to make it *explicit* \r\nthat an object might be absent and it enforces that programmers handle the situation. It prevents that someone forgets the beloved `!= null` check.\r\n\r\nTaking the example of [2], I think it is far more explicit code to write:\r\n\r\n    if(soundcard.isPresent()){\r\n      System.out.println(soundcard.get());\r\n    }\r\n\r\nthan \r\n\r\n    if(soundcard != null){\r\n      System.out.println(soundcard);\r\n    }\r\n\r\n\r\nFor me, the `Optional` better captures the fact that there is no soundcard present.\r\n\r\nMy 2&#162; about your points:\r\n\r\n 1. `public Optional&lt;Foo&gt; findFoo(String id);` - I am not sure about this. Maybe I would return a `Result&lt;Foo&gt;` which might be *empty* or contain a `Foo`. It is a similar concept, but not really an `Optional`. \r\n 2. `public Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);` - I would prefer @Nullable and a findbugs check, as in [Peter Lawrey&#39;s answer][2] - see also [this discussion][3].\r\n 3. Your book example - I am not sure if I would use the Optional internally, that might depend on the complexity. For the &quot;API&quot; of a book, I would use an `Optional&lt;Index&gt; getIndex()` to explicitly indicate that the book might not have an index.\r\n 4. I would not use it in collections, rather not allowing null values in collections\r\n\r\nIn general, I would try to minimize passing around `null`s. (Once burnt...) \r\nI think it is worth to find the appropriate abstractions and indicate to the fellow programmers what a certain return value actually represents.\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\r\n  [2]: https://stackoverflow.com/a/23455046/1153530\r\n  [3]: https://plus.google.com/+JordanLewiser/posts/ayfR8F56PGy","title":"Uses for Optional","body":"<p>I think the Guava Optional and their wiki page puts it quite well:</p>\n\n<blockquote>\n  <p>Besides the increase in readability that comes from giving null a name, the biggest advantage of Optional is its idiot-proof-ness. It forces you to actively think about the absent case if you want your program to compile at all, since you have to actively unwrap the Optional and address that case. Null makes it disturbingly easy to simply forget things, and though FindBugs helps, we don't think it addresses the issue nearly as well. </p>\n  \n  <p>This is especially relevant when you're returning values that may or may not be \"present.\" You (and others) are far more likely to forget that other.method(a, b) could return a null value than you're likely to forget that a could be null when you're implementing other.method. Returning Optional makes it impossible for callers to forget that case, since they have to unwrap the object themselves for their code to compile.\n    -- (Source: <a href=\"https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"noreferrer\">Guava Wiki - Using and Avoiding null - What's the point?</a>)</p>\n</blockquote>\n\n<p><code>Optional</code> adds some overhead, but I think its clear advantage is to make it <em>explicit</em> \nthat an object might be absent and it enforces that programmers handle the situation. It prevents that someone forgets the beloved <code>!= null</code> check.</p>\n\n<p>Taking the example of <a href=\"https://stackoverflow.com/a/23455046/1153530\">2</a>, I think it is far more explicit code to write:</p>\n\n<pre><code>if(soundcard.isPresent()){\n  System.out.println(soundcard.get());\n}\n</code></pre>\n\n<p>than </p>\n\n<pre><code>if(soundcard != null){\n  System.out.println(soundcard);\n}\n</code></pre>\n\n<p>For me, the <code>Optional</code> better captures the fact that there is no soundcard present.</p>\n\n<p>My 2¢ about your points:</p>\n\n<ol>\n<li><code>public Optional&lt;Foo&gt; findFoo(String id);</code> - I am not sure about this. Maybe I would return a <code>Result&lt;Foo&gt;</code> which might be <em>empty</em> or contain a <code>Foo</code>. It is a similar concept, but not really an <code>Optional</code>. </li>\n<li><code>public Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);</code> - I would prefer @Nullable and a findbugs check, as in <a href=\"https://stackoverflow.com/a/23455046/1153530\">Peter Lawrey's answer</a> - see also <a href=\"https://plus.google.com/+JordanLewiser/posts/ayfR8F56PGy\" rel=\"noreferrer\">this discussion</a>.</li>\n<li>Your book example - I am not sure if I would use the Optional internally, that might depend on the complexity. For the \"API\" of a book, I would use an <code>Optional&lt;Index&gt; getIndex()</code> to explicitly indicate that the book might not have an index.</li>\n<li>I would not use it in collections, rather not allowing null values in collections</li>\n</ol>\n\n<p>In general, I would try to minimize passing around <code>null</code>s. (Once burnt...) \nI think it is worth to find the appropriate abstractions and indicate to the fellow programmers what a certain return value actually represents.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":5,"up_vote_count":280,"is_accepted":true,"score":275,"last_activity_date":1620367987,"creation_date":1399264011,"answer_id":23464794,"question_id":23454952,"body_markdown":"The main design goal of `Optional` is to provide a means for a function returning a value to indicate the absence of a return value. See [this discussion][1]. **This allows the caller to continue a chain of fluent method calls.**\r\n\r\nThis most closely matches use case **#1** in the OP&#39;s question. Although, *absence of a value* is a more precise formulation than *null* since something like `IntStream.findFirst` could never return null.\r\n\r\n---\r\n\r\nFor use case **#2**, passing an optional argument to a method, this could be made to work, but it&#39;s rather clumsy. Suppose you have a method that takes a string followed by an optional second string. Accepting an `Optional` as the second arg would result in code like this:\r\n\r\n    foo(&quot;bar&quot;, Optional.of(&quot;baz&quot;));\r\n    foo(&quot;bar&quot;, Optional.empty());\r\n\r\nEven accepting null is nicer:\r\n\r\n    foo(&quot;bar&quot;, &quot;baz&quot;);\r\n    foo(&quot;bar&quot;, null);\r\n\r\nProbably the best is to have an overloaded method that accepts a single string argument and provides a default for the second:\r\n\r\n    foo(&quot;bar&quot;, &quot;baz&quot;);\r\n    foo(&quot;bar&quot;);\r\n\r\nThis does have limitations, but it&#39;s much nicer than either of the above.\r\n\r\nUse cases **#3** and **#4**, having an `Optional` in a class field or in a data structure, is considered a misuse of the API. First, it goes against the main design goal of `Optional` as stated at the top. Second, it doesn&#39;t add any value.\r\n\r\nThere are three ways to deal with the absence of a value in an `Optional`: to provide a substitute value, to call a function to provide a substitute value, or to throw an exception. If you&#39;re storing into a field, you&#39;d do this at initialization or assignment time. If you&#39;re adding values into a list, as the OP mentioned, you have the additional choice of simply not adding the value, thereby &quot;flattening&quot; out absent values.\r\n\r\nI&#39;m sure somebody could come up with some contrived cases where they really want to store an `Optional` in a field or a collection, but in general, it is best to avoid doing this.\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/lambda-dev/2012-September/005952.html","title":"Uses for Optional","body":"<p>The main design goal of <code>Optional</code> is to provide a means for a function returning a value to indicate the absence of a return value. See <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-September/005952.html\" rel=\"noreferrer\">this discussion</a>. <strong>This allows the caller to continue a chain of fluent method calls.</strong></p>\n<p>This most closely matches use case <strong>#1</strong> in the OP's question. Although, <em>absence of a value</em> is a more precise formulation than <em>null</em> since something like <code>IntStream.findFirst</code> could never return null.</p>\n<hr />\n<p>For use case <strong>#2</strong>, passing an optional argument to a method, this could be made to work, but it's rather clumsy. Suppose you have a method that takes a string followed by an optional second string. Accepting an <code>Optional</code> as the second arg would result in code like this:</p>\n<pre><code>foo(&quot;bar&quot;, Optional.of(&quot;baz&quot;));\nfoo(&quot;bar&quot;, Optional.empty());\n</code></pre>\n<p>Even accepting null is nicer:</p>\n<pre><code>foo(&quot;bar&quot;, &quot;baz&quot;);\nfoo(&quot;bar&quot;, null);\n</code></pre>\n<p>Probably the best is to have an overloaded method that accepts a single string argument and provides a default for the second:</p>\n<pre><code>foo(&quot;bar&quot;, &quot;baz&quot;);\nfoo(&quot;bar&quot;);\n</code></pre>\n<p>This does have limitations, but it's much nicer than either of the above.</p>\n<p>Use cases <strong>#3</strong> and <strong>#4</strong>, having an <code>Optional</code> in a class field or in a data structure, is considered a misuse of the API. First, it goes against the main design goal of <code>Optional</code> as stated at the top. Second, it doesn't add any value.</p>\n<p>There are three ways to deal with the absence of a value in an <code>Optional</code>: to provide a substitute value, to call a function to provide a substitute value, or to throw an exception. If you're storing into a field, you'd do this at initialization or assignment time. If you're adding values into a list, as the OP mentioned, you have the additional choice of simply not adding the value, thereby &quot;flattening&quot; out absent values.</p>\n<p>I'm sure somebody could come up with some contrived cases where they really want to store an <code>Optional</code> in a field or a collection, but in general, it is best to avoid doing this.</p>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399269227,"creation_date":1399269227,"answer_id":23465693,"question_id":23454952,"body_markdown":"Here is an interesting usage (I believe) for... Tests.\r\n\r\nI intend to heavily test one of my projects and I therefore build assertions; only there are things I have to verify and others I don&#39;t.\r\n\r\nI therefore build things to assert and use an assert to verify them, like this:\r\n\r\n    public final class NodeDescriptor&lt;V&gt;\r\n    {\r\n        private final Optional&lt;String&gt; label;\r\n        private final List&lt;NodeDescriptor&lt;V&gt;&gt; children;\r\n    \r\n        private NodeDescriptor(final Builder&lt;V&gt; builder)\r\n        {\r\n            label = Optional.fromNullable(builder.label);\r\n            final ImmutableList.Builder&lt;NodeDescriptor&lt;V&gt;&gt; listBuilder\r\n                = ImmutableList.builder();\r\n            for (final Builder&lt;V&gt; element: builder.children)\r\n                listBuilder.add(element.build());\r\n            children = listBuilder.build();\r\n        }\r\n    \r\n        public static &lt;E&gt; Builder&lt;E&gt; newBuilder()\r\n        {\r\n            return new Builder&lt;E&gt;();\r\n        }\r\n    \r\n        public void verify(@Nonnull final Node&lt;V&gt; node)\r\n        {\r\n            final NodeAssert&lt;V&gt; nodeAssert = new NodeAssert&lt;V&gt;(node);\r\n            nodeAssert.hasLabel(label);\r\n        }\r\n    \r\n        public static final class Builder&lt;V&gt;\r\n        {\r\n            private String label;\r\n            private final List&lt;Builder&lt;V&gt;&gt; children = Lists.newArrayList();\r\n    \r\n            private Builder()\r\n            {\r\n            }\r\n    \r\n            public Builder&lt;V&gt; withLabel(@Nonnull final String label)\r\n            {\r\n                this.label = Preconditions.checkNotNull(label);\r\n                return this;\r\n            }\r\n    \r\n            public Builder&lt;V&gt; withChildNode(@Nonnull final Builder&lt;V&gt; child)\r\n            {\r\n                Preconditions.checkNotNull(child);\r\n                children.add(child);\r\n                return this;\r\n            }\r\n    \r\n            public NodeDescriptor&lt;V&gt; build()\r\n            {\r\n                return new NodeDescriptor&lt;V&gt;(this);\r\n            }\r\n        }\r\n    }\r\n\r\nIn the NodeAssert class, I do this:\r\n\r\n    public final class NodeAssert&lt;V&gt;\r\n        extends AbstractAssert&lt;NodeAssert&lt;V&gt;, Node&lt;V&gt;&gt;\r\n    {\r\n        NodeAssert(final Node&lt;V&gt; actual)\r\n        {\r\n            super(Preconditions.checkNotNull(actual), NodeAssert.class);\r\n        }\r\n    \r\n        private NodeAssert&lt;V&gt; hasLabel(final String label)\r\n        {\r\n            final String thisLabel = actual.getLabel();\r\n            assertThat(thisLabel).overridingErrorMessage(\r\n                &quot;node&#39;s label is null! I didn&#39;t expect it to be&quot;\r\n            ).isNotNull();\r\n            assertThat(thisLabel).overridingErrorMessage(\r\n                &quot;node&#39;s label is not what was expected!\\n&quot;\r\n                + &quot;Expected: &#39;%s&#39;\\nActual  : &#39;%s&#39;\\n&quot;, label, thisLabel\r\n            ).isEqualTo(label);\r\n            return this;\r\n        }\r\n    \r\n        NodeAssert&lt;V&gt; hasLabel(@Nonnull final Optional&lt;String&gt; label)\r\n        {\r\n            return label.isPresent() ? hasLabel(label.get()) : this;\r\n        }\r\n    }\r\n\r\nWhich means the assert really only triggers if I want to check the label!\r\n","title":"Uses for Optional","body":"<p>Here is an interesting usage (I believe) for... Tests.</p>\n\n<p>I intend to heavily test one of my projects and I therefore build assertions; only there are things I have to verify and others I don't.</p>\n\n<p>I therefore build things to assert and use an assert to verify them, like this:</p>\n\n<pre><code>public final class NodeDescriptor&lt;V&gt;\n{\n    private final Optional&lt;String&gt; label;\n    private final List&lt;NodeDescriptor&lt;V&gt;&gt; children;\n\n    private NodeDescriptor(final Builder&lt;V&gt; builder)\n    {\n        label = Optional.fromNullable(builder.label);\n        final ImmutableList.Builder&lt;NodeDescriptor&lt;V&gt;&gt; listBuilder\n            = ImmutableList.builder();\n        for (final Builder&lt;V&gt; element: builder.children)\n            listBuilder.add(element.build());\n        children = listBuilder.build();\n    }\n\n    public static &lt;E&gt; Builder&lt;E&gt; newBuilder()\n    {\n        return new Builder&lt;E&gt;();\n    }\n\n    public void verify(@Nonnull final Node&lt;V&gt; node)\n    {\n        final NodeAssert&lt;V&gt; nodeAssert = new NodeAssert&lt;V&gt;(node);\n        nodeAssert.hasLabel(label);\n    }\n\n    public static final class Builder&lt;V&gt;\n    {\n        private String label;\n        private final List&lt;Builder&lt;V&gt;&gt; children = Lists.newArrayList();\n\n        private Builder()\n        {\n        }\n\n        public Builder&lt;V&gt; withLabel(@Nonnull final String label)\n        {\n            this.label = Preconditions.checkNotNull(label);\n            return this;\n        }\n\n        public Builder&lt;V&gt; withChildNode(@Nonnull final Builder&lt;V&gt; child)\n        {\n            Preconditions.checkNotNull(child);\n            children.add(child);\n            return this;\n        }\n\n        public NodeDescriptor&lt;V&gt; build()\n        {\n            return new NodeDescriptor&lt;V&gt;(this);\n        }\n    }\n}\n</code></pre>\n\n<p>In the NodeAssert class, I do this:</p>\n\n<pre><code>public final class NodeAssert&lt;V&gt;\n    extends AbstractAssert&lt;NodeAssert&lt;V&gt;, Node&lt;V&gt;&gt;\n{\n    NodeAssert(final Node&lt;V&gt; actual)\n    {\n        super(Preconditions.checkNotNull(actual), NodeAssert.class);\n    }\n\n    private NodeAssert&lt;V&gt; hasLabel(final String label)\n    {\n        final String thisLabel = actual.getLabel();\n        assertThat(thisLabel).overridingErrorMessage(\n            \"node's label is null! I didn't expect it to be\"\n        ).isNotNull();\n        assertThat(thisLabel).overridingErrorMessage(\n            \"node's label is not what was expected!\\n\"\n            + \"Expected: '%s'\\nActual  : '%s'\\n\", label, thisLabel\n        ).isEqualTo(label);\n        return this;\n    }\n\n    NodeAssert&lt;V&gt; hasLabel(@Nonnull final Optional&lt;String&gt; label)\n    {\n        return label.isPresent() ? hasLabel(label.get()) : this;\n    }\n}\n</code></pre>\n\n<p>Which means the assert really only triggers if I want to check the label!</p>\n"},{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":6,"up_vote_count":135,"is_accepted":false,"score":129,"last_activity_date":1621600060,"creation_date":1416609588,"answer_id":27071576,"question_id":23454952,"body_markdown":"I&#39;m late to the game but for what it&#39;s worth, I want to add my 2 Cents. They go against the [design goal of `Optional`](https://nipafx.dev/design-java-optional/), which is well summarized by [Stuart Marks&#39;s answer](https://stackoverflow.com/a/23464794/2525313), but I&#39;m still convinced of their validity (obviously).\r\n\r\n## Use Optional Everywhere\r\n\r\n### In General\r\n\r\nI wrote an entire [blog post about using `Optional`](http://blog.codefx.org/techniques/intention-revealing-code-java-8-optional/) but it basically comes down to this:\r\n\r\n* design your classes to avoid optionality wherever feasibly possible\r\n* in all remaining cases, the default should be to use `Optional` instead of `null`\r\n* possibly make exceptions for:\r\n    * local variables\r\n    * return values and arguments to private methods\r\n    * performance critical code blocks (no guesses, use a profiler)\r\n\r\nThe first two exceptions can reduce the perceived overhead of wrapping and unwrapping references in `Optional`. They are chosen such that a null can never legally pass a boundary from one instance into another.\r\n\r\nNote that this will almost never allow `Optional`s in collections which is almost as bad as `null`s. Just don&#39;t do it. ;)\r\n\r\n### Regarding your questions\r\n\r\n1. Yes.\r\n2. If overloading is no option, yes.\r\n3. If other approaches (subclassing, decorating, ...) are no option, yes.\r\n4. Please no!\r\n\r\n## Advantages\r\n\r\nDoing this reduces the presence of `null`s in your code base, although it does not eradicate them. But that is not even the main point. There are other important advantages:\r\n\r\n### Clarifies Intent\r\n\r\nUsing `Optional` clearly expresses that the variable is, well, optional. Any reader of your code or consumer of your API will be beaten over the head with the fact that there might be nothing there and that a check is necessary before accessing the value.\r\n\r\n### Removes Uncertainty\r\n\r\nWithout `Optional` the meaning of a `null` occurrence is unclear. It could be a legal representation of a state (see [`Map.get`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-)) or an implementation error like a missing or failed initialization.\r\n\r\nThis changes dramatically with the persistent use of `Optional`. Here, already the occurrence of `null` signifies the presence of a bug. (Because if the value were allowed to be missing, an `Optional` would have been used.) This makes debugging a null pointer exception much easier as the question of the meaning of this `null` is already answered.\r\n\r\n### More Null Checks\r\n\r\nNow that nothing can be `null` anymore, this can be enforced everywhere. Whether with annotations, assertions or plain checks, you never have to think about whether this argument or that return type can be null. It can&#39;t!\r\n\r\n## Disadvantages\r\n\r\nOf course, there is no silver bullet...\r\n\r\n### Performance\r\n\r\nWrapping values (especially primitives) into an extra instance can degrade performance. In tight loops this might become noticeable or even worse.\r\n\r\nNote that the compiler might be able to circumvent the extra reference for short lived lifetimes of `Optional`s. In Java 10 [value types](http://cr.openjdk.java.net/~jrose/values/values-0.html) might further reduce or remove the penalty.\r\n\r\n### Serialization\r\n\r\n[`Optional` is not serializable](https://nipafx.dev/why-isnt-java-optional-serializable/) but a [workaround](https://nipafx.dev/serialize-java-optional/) is not overly complicated.\r\n\r\n### Invariance\r\n\r\nDue to the invariance of generic types in Java, certain operations become cumbersome when the actual value type is pushed into a generic type argument. An example is given [here (see &quot;Parametric polymorphism&quot;)](http://blog.jooq.org/2014/03/28/java-8-friday-optional-will-remain-an-option-in-java/).","title":"Uses for Optional","body":"<p>I'm late to the game but for what it's worth, I want to add my 2 Cents. They go against the <a href=\"https://nipafx.dev/design-java-optional/\" rel=\"noreferrer\">design goal of <code>Optional</code></a>, which is well summarized by <a href=\"https://stackoverflow.com/a/23464794/2525313\">Stuart Marks's answer</a>, but I'm still convinced of their validity (obviously).</p>\n<h2>Use Optional Everywhere</h2>\n<h3>In General</h3>\n<p>I wrote an entire <a href=\"http://blog.codefx.org/techniques/intention-revealing-code-java-8-optional/\" rel=\"noreferrer\">blog post about using <code>Optional</code></a> but it basically comes down to this:</p>\n<ul>\n<li>design your classes to avoid optionality wherever feasibly possible</li>\n<li>in all remaining cases, the default should be to use <code>Optional</code> instead of <code>null</code></li>\n<li>possibly make exceptions for:\n<ul>\n<li>local variables</li>\n<li>return values and arguments to private methods</li>\n<li>performance critical code blocks (no guesses, use a profiler)</li>\n</ul>\n</li>\n</ul>\n<p>The first two exceptions can reduce the perceived overhead of wrapping and unwrapping references in <code>Optional</code>. They are chosen such that a null can never legally pass a boundary from one instance into another.</p>\n<p>Note that this will almost never allow <code>Optional</code>s in collections which is almost as bad as <code>null</code>s. Just don't do it. ;)</p>\n<h3>Regarding your questions</h3>\n<ol>\n<li>Yes.</li>\n<li>If overloading is no option, yes.</li>\n<li>If other approaches (subclassing, decorating, ...) are no option, yes.</li>\n<li>Please no!</li>\n</ol>\n<h2>Advantages</h2>\n<p>Doing this reduces the presence of <code>null</code>s in your code base, although it does not eradicate them. But that is not even the main point. There are other important advantages:</p>\n<h3>Clarifies Intent</h3>\n<p>Using <code>Optional</code> clearly expresses that the variable is, well, optional. Any reader of your code or consumer of your API will be beaten over the head with the fact that there might be nothing there and that a check is necessary before accessing the value.</p>\n<h3>Removes Uncertainty</h3>\n<p>Without <code>Optional</code> the meaning of a <code>null</code> occurrence is unclear. It could be a legal representation of a state (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-\" rel=\"noreferrer\"><code>Map.get</code></a>) or an implementation error like a missing or failed initialization.</p>\n<p>This changes dramatically with the persistent use of <code>Optional</code>. Here, already the occurrence of <code>null</code> signifies the presence of a bug. (Because if the value were allowed to be missing, an <code>Optional</code> would have been used.) This makes debugging a null pointer exception much easier as the question of the meaning of this <code>null</code> is already answered.</p>\n<h3>More Null Checks</h3>\n<p>Now that nothing can be <code>null</code> anymore, this can be enforced everywhere. Whether with annotations, assertions or plain checks, you never have to think about whether this argument or that return type can be null. It can't!</p>\n<h2>Disadvantages</h2>\n<p>Of course, there is no silver bullet...</p>\n<h3>Performance</h3>\n<p>Wrapping values (especially primitives) into an extra instance can degrade performance. In tight loops this might become noticeable or even worse.</p>\n<p>Note that the compiler might be able to circumvent the extra reference for short lived lifetimes of <code>Optional</code>s. In Java 10 <a href=\"http://cr.openjdk.java.net/%7Ejrose/values/values-0.html\" rel=\"noreferrer\">value types</a> might further reduce or remove the penalty.</p>\n<h3>Serialization</h3>\n<p><a href=\"https://nipafx.dev/why-isnt-java-optional-serializable/\" rel=\"noreferrer\"><code>Optional</code> is not serializable</a> but a <a href=\"https://nipafx.dev/serialize-java-optional/\" rel=\"noreferrer\">workaround</a> is not overly complicated.</p>\n<h3>Invariance</h3>\n<p>Due to the invariance of generic types in Java, certain operations become cumbersome when the actual value type is pushed into a generic type argument. An example is given <a href=\"http://blog.jooq.org/2014/03/28/java-8-friday-optional-will-remain-an-option-in-java/\" rel=\"noreferrer\">here (see &quot;Parametric polymorphism&quot;)</a>.</p>\n"},{"tags":[],"owner":{"account_id":2822007,"reputation":1696,"user_id":3733758,"accept_rate":62,"display_name":"ctomek"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1464681208,"creation_date":1464681208,"answer_id":37539959,"question_id":23454952,"body_markdown":"From [Oracle tutorial][1]:\r\n\r\n&gt; The purpose of Optional is not to replace every single null reference in your codebase but rather to help design better APIs in which—just by reading the signature of a method—users can tell whether to expect an optional value. In addition, Optional forces you to actively unwrap an Optional to deal with the absence of a value; as a result, you protect your code against unintended null pointer exceptions.\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html","title":"Uses for Optional","body":"<p>From <a href=\"http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\" rel=\"noreferrer\">Oracle tutorial</a>:</p>\n\n<blockquote>\n  <p>The purpose of Optional is not to replace every single null reference in your codebase but rather to help design better APIs in which—just by reading the signature of a method—users can tell whether to expect an optional value. In addition, Optional forces you to actively unwrap an Optional to deal with the absence of a value; as a result, you protect your code against unintended null pointer exceptions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":465520,"reputation":765,"user_id":869656,"display_name":"oopexpert"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1490992242,"creation_date":1490992242,"answer_id":43149194,"question_id":23454952,"body_markdown":"I do not think that Optional is a general substitute for methods that potentially return null values.\r\n\r\nThe basic idea is: The absence of a value does not mean that it potentially is available in the future. It&#39;s a difference between findById(-1) and findById(67).\r\n\r\nThe main information of Optionals for the caller is that he may not count on the value given but it may be available at some time. Maybe it will disappear again and comes back later one more time. It&#39;s like an on/off switch. You have the &quot;option&quot; to switch the light on or off. But you have no option if you do not have a light to switch on.\r\n\r\nSo I find it too messy to introduce Optionals everywhere where previously null was potentially returned. I will still use null, but only in restricted areas like the root of a tree, lazy initialization and explicit find-methods.","title":"Uses for Optional","body":"<p>I do not think that Optional is a general substitute for methods that potentially return null values.</p>\n\n<p>The basic idea is: The absence of a value does not mean that it potentially is available in the future. It's a difference between findById(-1) and findById(67).</p>\n\n<p>The main information of Optionals for the caller is that he may not count on the value given but it may be available at some time. Maybe it will disappear again and comes back later one more time. It's like an on/off switch. You have the \"option\" to switch the light on or off. But you have no option if you do not have a light to switch on.</p>\n\n<p>So I find it too messy to introduce Optionals everywhere where previously null was potentially returned. I will still use null, but only in restricted areas like the root of a tree, lazy initialization and explicit find-methods.</p>\n"},{"tags":[],"owner":{"account_id":1197890,"reputation":123,"user_id":6364576,"display_name":"artifex"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1552407749,"creation_date":1538566625,"answer_id":52626196,"question_id":23454952,"body_markdown":"&gt; 1 - As a public method return type when the method could return null:\r\n\r\nHere is a [good article](https://stackify.com/optional-java/) that shows usefulness of usecase #1. There this code \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ...\r\n    if (user != null) {\r\n        Address address = user.getAddress();\r\n        if (address != null) {\r\n            Country country = address.getCountry();\r\n            if (country != null) {\r\n                String isocode = country.getIsocode();\r\n                isocode = isocode.toUpperCase();\r\n            }\r\n        }\r\n    }\r\n    ...\r\n\r\nis transformed to this \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String result = Optional.ofNullable(user)\r\n      .flatMap(User::getAddress)\r\n      .flatMap(Address::getCountry)\r\n      .map(Country::getIsocode)\r\n      .orElse(&quot;default&quot;);\r\n\r\nby using Optional as a return value of respective _getter_ methods.\r\n","title":"Uses for Optional","body":"<blockquote>\n  <p>1 - As a public method return type when the method could return null:</p>\n</blockquote>\n\n<p>Here is a <a href=\"https://stackify.com/optional-java/\" rel=\"noreferrer\">good article</a> that shows usefulness of usecase #1. There this code \n</p>\n\n<pre><code>...\nif (user != null) {\n    Address address = user.getAddress();\n    if (address != null) {\n        Country country = address.getCountry();\n        if (country != null) {\n            String isocode = country.getIsocode();\n            isocode = isocode.toUpperCase();\n        }\n    }\n}\n...\n</code></pre>\n\n<p>is transformed to this \n</p>\n\n<pre><code>String result = Optional.ofNullable(user)\n  .flatMap(User::getAddress)\n  .flatMap(Address::getCountry)\n  .map(Country::getIsocode)\n  .orElse(\"default\");\n</code></pre>\n\n<p>by using Optional as a return value of respective <em>getter</em> methods.</p>\n"},{"tags":[],"owner":{"display_name":"user1134181"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1542543035,"creation_date":1542543035,"answer_id":53360705,"question_id":23454952,"body_markdown":"`Optional` class lets you avoid to use `null` and provide a better alternative:\r\n\r\n- This encourages the developer to make checks for presence in order to avoid uncaught `NullPointerException`&#39;s.\r\n\r\n- API becomes better documented because it&#39;s possible to see, where to expect the values which can be absent.\r\n\r\n`Optional` provides convenient API for further work with the object: \r\n[`isPresent()`][1]; [`get()`][2]; [`orElse()`][3]; [`orElseGet()`][4]; [`orElseThrow()`][5]; [`map()`][6]; [`filter()`][7]; [`flatmap()`][8].\r\n\r\nIn addition, many frameworks actively use this data type and return it from their API.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#filter-java.util.function.Predicate-\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#flatMap-java.util.function.Function-","title":"Uses for Optional","body":"<p><code>Optional</code> class lets you avoid to use <code>null</code> and provide a better alternative:</p>\n\n<ul>\n<li><p>This encourages the developer to make checks for presence in order to avoid uncaught <code>NullPointerException</code>'s.</p></li>\n<li><p>API becomes better documented because it's possible to see, where to expect the values which can be absent.</p></li>\n</ul>\n\n<p><code>Optional</code> provides convenient API for further work with the object: \n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\" rel=\"nofollow noreferrer\"><code>isPresent()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#get--\" rel=\"nofollow noreferrer\"><code>get()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\"><code>orElse()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>orElseGet()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseThrow-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>orElseThrow()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#filter-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>filter()</code></a>; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatmap()</code></a>.</p>\n\n<p>In addition, many frameworks actively use this data type and return it from their API.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551098026,"creation_date":1551098026,"answer_id":54866311,"question_id":23454952,"body_markdown":"An [`Optional`](https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html) [has similar semantics to an unmodifiable instance of the Iterator design pattern](https://stackoverflow.com/a/54812170/545127):\r\n\r\n* it might or might not refer to an object (as given by [`isPresent()`](https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#isPresent()))\r\n* it can be dereferenced (using [`get()`](https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#get())) if it does refer to an object\r\n* but it can not be advanced to the next position in the sequence (it has no `next()` method).\r\n\r\nTherefore consider returning or passing an `Optional` in contexts where you might previously have considered using a Java [`Iterator`](https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html).","title":"Uses for Optional","body":"<p>An <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> <a href=\"https://stackoverflow.com/a/54812170/545127\">has similar semantics to an unmodifiable instance of the Iterator design pattern</a>:</p>\n\n<ul>\n<li>it might or might not refer to an object (as given by <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#isPresent()\" rel=\"nofollow noreferrer\"><code>isPresent()</code></a>)</li>\n<li>it can be dereferenced (using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a>) if it does refer to an object</li>\n<li>but it can not be advanced to the next position in the sequence (it has no <code>next()</code> method).</li>\n</ul>\n\n<p>Therefore consider returning or passing an <code>Optional</code> in contexts where you might previously have considered using a Java <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1604787576,"creation_date":1570147352,"answer_id":58228288,"question_id":23454952,"body_markdown":"In java, just don&#39;t use them unless you are addicted to functional programming.\r\n\r\nThey have no place as method arguments (I promess someone one day will pass you a null optional, not just an optional that is empty).\r\n\r\nThey make sense for return values but they invite the client class to keep on stretching the behavior-building chain.\r\n\r\nFP and chains have little place in an imperative language like java because it makes it very hard to debug, not just to read. When you step to the line, you can&#39;t know the state nor intent of the program; you have to step into to figure it out (into code that often isn&#39;t yours and many stack frames deep despite step filters) and you have to add lots of breakpoints down to make sure it can stop in the code/lambda you added, instead of simply walking the if/else/call trivial lines.\r\n\r\nIf you want functional programming, pick something else than java and hope you have the tools for debugging that.","title":"Uses for Optional","body":"<p>In java, just don't use them unless you are addicted to functional programming.</p>\n<p>They have no place as method arguments (I promess someone one day will pass you a null optional, not just an optional that is empty).</p>\n<p>They make sense for return values but they invite the client class to keep on stretching the behavior-building chain.</p>\n<p>FP and chains have little place in an imperative language like java because it makes it very hard to debug, not just to read. When you step to the line, you can't know the state nor intent of the program; you have to step into to figure it out (into code that often isn't yours and many stack frames deep despite step filters) and you have to add lots of breakpoints down to make sure it can stop in the code/lambda you added, instead of simply walking the if/else/call trivial lines.</p>\n<p>If you want functional programming, pick something else than java and hope you have the tools for debugging that.</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594318711,"creation_date":1594318711,"answer_id":62821215,"question_id":23454952,"body_markdown":"Here are some of the methods that you can perform on an instance of `Optional&lt;T&gt;`:\r\n\r\n- `map`\r\n- `flatMap`\r\n- `orElse`\r\n- `orElseThrow`\r\n- `ifPresentOrElse`\r\n- `get`\r\n\r\nHere are all the methods that you can perform on `null`:\r\n\r\n- _(there are none)_\r\n\r\nThis is really an apples to oranges comparison: `Optional&lt;T&gt;` is an actual instance of an object (unless it is `null`… but that would probably be a bug) while `null` is an aborted object.  All you can do with `null` is check whether it is in fact `null`, or not.  So if you like to use methods on objects, `Optional&lt;T&gt;` is for you; if you like to branch on special literals, `null` is for you.\r\n\r\n`null` does not compose.  You simply can’t compose a value which you can only branch on.  But `Optional&lt;T&gt;` does compose.\r\n\r\nYou can, for instance, make arbitrary long chains of “apply this function if non-empty” by using `map`.  Or you can effectively make an imperative block of code which consumes the optional if it is non-empty by using `ifPresent`.  Or you can make an “if/else” by using `ifPresentOrElse`, which consumes the non-empty optional if it is non-empty or else executes some other code.\r\n\r\n…And it is at this point that we run into the true limitations of the _language_  in my opinion: for very imperative code you have to wrap them in lambdas and pass them to methods:\r\n\r\n\r\n        opt.ifPresentOrElse(\r\n                string -&gt; { // if present...\r\n                    // ...\r\n                }, () -&gt; { // or else...\r\n                    // ...\r\n                }\r\n        );\r\n\r\nThat might not be good enough for some people, style-wise.\r\n\r\nIt would be more seamless if `Optional&lt;T&gt;` was an algebraic data type that we could pattern match on (this is obviously pseudo-code:\r\n\r\n        match (opt) {\r\n            Present(str) =&gt; {\r\n                // ...\r\n            }\r\n            Empty =&gt;{\r\n                // ...\r\n            }\r\n        }\r\n\r\nBut anyway, in summary: `Optional&lt;T&gt;` is a pretty robust empty-or-present object.  `null` is just a sentinel value.\r\n\r\n## Subjectively disregarded reasons\r\n\r\nThere seems to be a few people who effectively argue that efficiency should determine whether one should use `Optional&lt;T&gt;` or branch on the `null` sentinel value.  That seems a bit like making hard and fast rules on when to make objects rather than primitives in the general case.  I think it’s a bit ridiculous to use _that_ as the starting point for this discussion when you’re already working in a language where it’s idiomatic to make objects left-and-right, top to bottom, all the time (in my opinion).","title":"Uses for Optional","body":"<p>Here are some of the methods that you can perform on an instance of <code>Optional&lt;T&gt;</code>:</p>\n<ul>\n<li><code>map</code></li>\n<li><code>flatMap</code></li>\n<li><code>orElse</code></li>\n<li><code>orElseThrow</code></li>\n<li><code>ifPresentOrElse</code></li>\n<li><code>get</code></li>\n</ul>\n<p>Here are all the methods that you can perform on <code>null</code>:</p>\n<ul>\n<li><em>(there are none)</em></li>\n</ul>\n<p>This is really an apples to oranges comparison: <code>Optional&lt;T&gt;</code> is an actual instance of an object (unless it is <code>null</code>… but that would probably be a bug) while <code>null</code> is an aborted object.  All you can do with <code>null</code> is check whether it is in fact <code>null</code>, or not.  So if you like to use methods on objects, <code>Optional&lt;T&gt;</code> is for you; if you like to branch on special literals, <code>null</code> is for you.</p>\n<p><code>null</code> does not compose.  You simply can’t compose a value which you can only branch on.  But <code>Optional&lt;T&gt;</code> does compose.</p>\n<p>You can, for instance, make arbitrary long chains of “apply this function if non-empty” by using <code>map</code>.  Or you can effectively make an imperative block of code which consumes the optional if it is non-empty by using <code>ifPresent</code>.  Or you can make an “if/else” by using <code>ifPresentOrElse</code>, which consumes the non-empty optional if it is non-empty or else executes some other code.</p>\n<p>…And it is at this point that we run into the true limitations of the <em>language</em>  in my opinion: for very imperative code you have to wrap them in lambdas and pass them to methods:</p>\n<pre><code>    opt.ifPresentOrElse(\n            string -&gt; { // if present...\n                // ...\n            }, () -&gt; { // or else...\n                // ...\n            }\n    );\n</code></pre>\n<p>That might not be good enough for some people, style-wise.</p>\n<p>It would be more seamless if <code>Optional&lt;T&gt;</code> was an algebraic data type that we could pattern match on (this is obviously pseudo-code:</p>\n<pre><code>    match (opt) {\n        Present(str) =&gt; {\n            // ...\n        }\n        Empty =&gt;{\n            // ...\n        }\n    }\n</code></pre>\n<p>But anyway, in summary: <code>Optional&lt;T&gt;</code> is a pretty robust empty-or-present object.  <code>null</code> is just a sentinel value.</p>\n<h2>Subjectively disregarded reasons</h2>\n<p>There seems to be a few people who effectively argue that efficiency should determine whether one should use <code>Optional&lt;T&gt;</code> or branch on the <code>null</code> sentinel value.  That seems a bit like making hard and fast rules on when to make objects rather than primitives in the general case.  I think it’s a bit ridiculous to use <em>that</em> as the starting point for this discussion when you’re already working in a language where it’s idiomatic to make objects left-and-right, top to bottom, all the time (in my opinion).</p>\n"},{"tags":[],"owner":{"account_id":11402982,"reputation":115,"user_id":8359343,"display_name":"Tom Gregory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657534467,"creation_date":1657534467,"answer_id":72936943,"question_id":23454952,"body_markdown":"## 1 - As a public method return type when the method could return null:\r\n\r\nThis is the intended use case for `Optional`, as seen in the [JDK API docs](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Optional.html):\r\n\r\n&gt; Optional is primarily intended for use as a method return type where\r\n&gt; there is a clear need to represent &quot;no result,&quot; and where using null\r\n&gt; is likely to cause errors.\r\n\r\n`Optional` represents one of two states:\r\n\r\n1. it has a value (`isPresent` returns `true`)\r\n2. it doesn&#39;t have a value (`isEmpty` returns `true`)\r\n\r\nSo if you have a method that returns either something or nothing, this is the ideal use case for `Optional`.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\nOptional&lt;Guitarist&gt; findByLastName(String lastName);\r\n```\r\n\r\nThis method takes a parameter used to search for an entity in the database. It&#39;s possible that no such entity exists, so using an `Optional` return type is a good idea since it forces whoever is calling the method to consider the empty scenario. This reduces chances of a `NullPointerException`.\r\n\r\n## 2 - As a method parameter when the param may be null:\r\n\r\nAlthough technically possible, this is not the intended use case of `Optional`.\r\n\r\nLet&#39;s consider your proposed method signature:\r\n\r\n```java\r\npublic Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);\r\n```\r\n\r\nThe main problem is that we could call `doSomething` where `barOptional` has one of 3 states:\r\n\r\n1. an `Optional` with a value e.g. `doSomething(&quot;123&quot;, Optional.of(new Bar())`\r\n2. an empty `Optional` e.g. `doSomething(&quot;123&quot;, Optional.empty())`\r\n3. `null` e.g. `doSomething(&quot;123&quot;, null)`\r\n\r\nThese 3 states would need to be handled in the method implementation appropriately. \r\n\r\nA better solution is to implement an overloaded method.\r\n\r\n```java\r\npublic Foo doSomething(String id);\r\n\r\npublic Foo doSomething(String id, Bar bar);\r\n```\r\n\r\nThis makes it very clear to the consumer of the API which method to call, and `null` does not need to be passed.\r\n\r\n## 3 - As an optional member of a bean:\r\n\r\nGiven your example `Book` class:\r\n\r\n```java\r\npublic class Book {\r\n  private List&lt;Pages&gt; pages;\r\n  private Optional&lt;Index&gt; index;\r\n}\r\n```\r\n\r\nThe `Optional` class variable suffers from the same issue as the `Optional` method parameter discussed above. It can have one of 3 states: present, empty, or `null`.\r\n\r\nOther possible issues include:\r\n\r\n- **serialization:** if you implement `Serializable` and try to serialize an object of this class, you will encounter a `java.io.NotSerializableException` since `Optional` was not designed for this use case\r\n- **transforming to JSON:** when serializing to JSON an `Optional` field may get mapped in an undesirable way e.g. `{&quot;empty&quot;:false,&quot;present&quot;:true}`. \r\nAlthough if you use the popular *Jackson* library, it does [provide a solution](https://www.baeldung.com/jackson-optional) to this problem.\r\n\r\nDespite these issues, Oracle themselves published [this blog post](https://www.oracle.com/technical-resources/articles/java/java8-optional.html) at the time of the Java 8 `Optional` release in 2014. It contains code examples using `Optional` for class variables.\r\n\r\n```java\r\npublic class Computer {\r\n  private Optional&lt;Soundcard&gt; soundcard;  \r\n  public Optional&lt;Soundcard&gt; getSoundcard() { ... }\r\n  ...\r\n}\r\n```\r\n\r\nIn the following years though, developers have found better alternatives such as implementing a getter method to create the `Optional` object.\r\n\r\n```java\r\npublic class Book {\r\n    private List&lt;Pages&gt; pages;\r\n    private Index index;\r\n    public Optional&lt;Index&gt; getIndex() {\r\n        return Optional.ofNullable(index);\r\n    }\r\n}\r\n```\r\n\r\nHere we use the `ofNullable` method to return an `Optional` with a value if `index` is non-null, or otherwise an empty `Optional`.\r\n\r\n\r\n## 4 - In Collections:\r\n\r\nI agree that creating a `List` of `Optional` (e.g. `List&lt;Optional&lt;Foo&gt;&gt;`) doesn&#39;t add anything. \r\nInstead, just don&#39;t include the item in the `List` if it&#39;s not present.","title":"Uses for Optional","body":"<h2>1 - As a public method return type when the method could return null:</h2>\n<p>This is the intended use case for <code>Optional</code>, as seen in the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">JDK API docs</a>:</p>\n<blockquote>\n<p>Optional is primarily intended for use as a method return type where\nthere is a clear need to represent &quot;no result,&quot; and where using null\nis likely to cause errors.</p>\n</blockquote>\n<p><code>Optional</code> represents one of two states:</p>\n<ol>\n<li>it has a value (<code>isPresent</code> returns <code>true</code>)</li>\n<li>it doesn't have a value (<code>isEmpty</code> returns <code>true</code>)</li>\n</ol>\n<p>So if you have a method that returns either something or nothing, this is the ideal use case for <code>Optional</code>.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Guitarist&gt; findByLastName(String lastName);\n</code></pre>\n<p>This method takes a parameter used to search for an entity in the database. It's possible that no such entity exists, so using an <code>Optional</code> return type is a good idea since it forces whoever is calling the method to consider the empty scenario. This reduces chances of a <code>NullPointerException</code>.</p>\n<h2>2 - As a method parameter when the param may be null:</h2>\n<p>Although technically possible, this is not the intended use case of <code>Optional</code>.</p>\n<p>Let's consider your proposed method signature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);\n</code></pre>\n<p>The main problem is that we could call <code>doSomething</code> where <code>barOptional</code> has one of 3 states:</p>\n<ol>\n<li>an <code>Optional</code> with a value e.g. <code>doSomething(&quot;123&quot;, Optional.of(new Bar())</code></li>\n<li>an empty <code>Optional</code> e.g. <code>doSomething(&quot;123&quot;, Optional.empty())</code></li>\n<li><code>null</code> e.g. <code>doSomething(&quot;123&quot;, null)</code></li>\n</ol>\n<p>These 3 states would need to be handled in the method implementation appropriately.</p>\n<p>A better solution is to implement an overloaded method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Foo doSomething(String id);\n\npublic Foo doSomething(String id, Bar bar);\n</code></pre>\n<p>This makes it very clear to the consumer of the API which method to call, and <code>null</code> does not need to be passed.</p>\n<h2>3 - As an optional member of a bean:</h2>\n<p>Given your example <code>Book</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n  private List&lt;Pages&gt; pages;\n  private Optional&lt;Index&gt; index;\n}\n</code></pre>\n<p>The <code>Optional</code> class variable suffers from the same issue as the <code>Optional</code> method parameter discussed above. It can have one of 3 states: present, empty, or <code>null</code>.</p>\n<p>Other possible issues include:</p>\n<ul>\n<li><strong>serialization:</strong> if you implement <code>Serializable</code> and try to serialize an object of this class, you will encounter a <code>java.io.NotSerializableException</code> since <code>Optional</code> was not designed for this use case</li>\n<li><strong>transforming to JSON:</strong> when serializing to JSON an <code>Optional</code> field may get mapped in an undesirable way e.g. <code>{&quot;empty&quot;:false,&quot;present&quot;:true}</code>.\nAlthough if you use the popular <em>Jackson</em> library, it does <a href=\"https://www.baeldung.com/jackson-optional\" rel=\"nofollow noreferrer\">provide a solution</a> to this problem.</li>\n</ul>\n<p>Despite these issues, Oracle themselves published <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\">this blog post</a> at the time of the Java 8 <code>Optional</code> release in 2014. It contains code examples using <code>Optional</code> for class variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Computer {\n  private Optional&lt;Soundcard&gt; soundcard;  \n  public Optional&lt;Soundcard&gt; getSoundcard() { ... }\n  ...\n}\n</code></pre>\n<p>In the following years though, developers have found better alternatives such as implementing a getter method to create the <code>Optional</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n    private List&lt;Pages&gt; pages;\n    private Index index;\n    public Optional&lt;Index&gt; getIndex() {\n        return Optional.ofNullable(index);\n    }\n}\n</code></pre>\n<p>Here we use the <code>ofNullable</code> method to return an <code>Optional</code> with a value if <code>index</code> is non-null, or otherwise an empty <code>Optional</code>.</p>\n<h2>4 - In Collections:</h2>\n<p>I agree that creating a <code>List</code> of <code>Optional</code> (e.g. <code>List&lt;Optional&lt;Foo&gt;&gt;</code>) doesn't add anything.\nInstead, just don't include the item in the <code>List</code> if it's not present.</p>\n"}],"owner":{"account_id":938736,"reputation":6591,"user_id":967203,"accept_rate":100,"display_name":"Will"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156017,"favorite_count":0,"down_vote_count":3,"up_vote_count":361,"accepted_answer_id":23464794,"answer_count":14,"score":358,"last_activity_date":1657534467,"creation_date":1399198057,"question_id":23454952,"body_markdown":"Having been using Java 8 now for 6+ months or so, I&#39;m pretty happy with the new API changes. One area I&#39;m still not confident in is when to use `Optional`. I seem to swing between wanting to use it everywhere something may be `null`, and nowhere at all.\r\n\r\nThere seem to be a lot of situations when I could use it, and I&#39;m never sure if it adds benefits (readability / null safety) or just causes additional overhead. \r\n\r\nSo, I have a few examples, and I&#39;d be interested in the community&#39;s thoughts on whether `Optional` is beneficial. \r\n\r\n1 - As a public method return type when the method could return `null`:\r\n \r\n    public Optional&lt;Foo&gt; findFoo(String id);\r\n\r\n2 - As a method parameter when the param may be `null`:\r\n\r\n    public Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);\r\n\r\n3 - As an optional member of a bean:\r\n\r\n    public class Book {\r\n    \r\n      private List&lt;Pages&gt; pages;\r\n      private Optional&lt;Index&gt; index;\r\n    \r\n    }\r\n\r\n4 - In `Collections`: \r\n\r\n  In general I don&#39;t think:\r\n\r\n    List&lt;Optional&lt;Foo&gt;&gt;\r\n\r\nadds anything - especially since one can use `filter()` to remove `null` values etc, but are there any good uses for `Optional` in collections?\r\n\r\nAny cases I&#39;ve missed?","title":"Uses for Optional","body":"<p>Having been using Java 8 now for 6+ months or so, I'm pretty happy with the new API changes. One area I'm still not confident in is when to use <code>Optional</code>. I seem to swing between wanting to use it everywhere something may be <code>null</code>, and nowhere at all.</p>\n\n<p>There seem to be a lot of situations when I could use it, and I'm never sure if it adds benefits (readability / null safety) or just causes additional overhead. </p>\n\n<p>So, I have a few examples, and I'd be interested in the community's thoughts on whether <code>Optional</code> is beneficial. </p>\n\n<p>1 - As a public method return type when the method could return <code>null</code>:</p>\n\n<pre><code>public Optional&lt;Foo&gt; findFoo(String id);\n</code></pre>\n\n<p>2 - As a method parameter when the param may be <code>null</code>:</p>\n\n<pre><code>public Foo doSomething(String id, Optional&lt;Bar&gt; barOptional);\n</code></pre>\n\n<p>3 - As an optional member of a bean:</p>\n\n<pre><code>public class Book {\n\n  private List&lt;Pages&gt; pages;\n  private Optional&lt;Index&gt; index;\n\n}\n</code></pre>\n\n<p>4 - In <code>Collections</code>: </p>\n\n<p>In general I don't think:</p>\n\n<pre><code>List&lt;Optional&lt;Foo&gt;&gt;\n</code></pre>\n\n<p>adds anything - especially since one can use <code>filter()</code> to remove <code>null</code> values etc, but are there any good uses for <code>Optional</code> in collections?</p>\n\n<p>Any cases I've missed?</p>\n"},{"tags":["java","io","buffer"],"answers":[{"tags":[],"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1374940573,"creation_date":1374940573,"answer_id":17899678,"question_id":17899572,"body_markdown":"I would recomand to always use a BufferedWriter. It allows you to control the actual buffer size and you can guarantee that regardless of the JVM you use, IO will be buffered which brings a huge IO performance boost.","title":"Is FileWriter buffered?","body":"<p>I would recomand to always use a BufferedWriter. It allows you to control the actual buffer size and you can guarantee that regardless of the JVM you use, IO will be buffered which brings a huge IO performance boost.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652953282,"creation_date":1652953282,"answer_id":72302214,"question_id":17899572,"body_markdown":"In fact, a `FileWriter` does have internal buffering.  The buffer is a `ByteBuffer` (with default size 8192 bytes).  You can find it in the `sun.io.cs.StreamEncoder` object that `OutputStreamWriter` uses to encode characters to the chosen character set / encoding.\r\n\r\nI looked at the Java 17 OpenJDK source code to determine this.  It is an implementation detail, and could vary depending on Java version ... and vendor.\r\n\r\n\r\n\r\n\r\n","title":"Is FileWriter buffered?","body":"<p>In fact, a <code>FileWriter</code> does have internal buffering.  The buffer is a <code>ByteBuffer</code> (with default size 8192 bytes).  You can find it in the <code>sun.io.cs.StreamEncoder</code> object that <code>OutputStreamWriter</code> uses to encode characters to the chosen character set / encoding.</p>\n<p>I looked at the Java 17 OpenJDK source code to determine this.  It is an implementation detail, and could vary depending on Java version ... and vendor.</p>\n"}],"owner":{"account_id":2296572,"reputation":12728,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8678,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1657533813,"creation_date":1374939813,"question_id":17899572,"body_markdown":"I would like to know whether or not FileWriter is buffered.\r\n\r\nIn [this][1] SO question, it seems that it is, however in [this][2] SO question it seems that is not (it would be a system call for each time write(..) gets called).\r\n\r\nSo, basically, reading those two Q&amp;A, I am a little confused. Is anybody able to clearly explain it out?\r\n\r\n**EDIT**:  Problem solved by reading [this][3] API of which I am quoting the relevant part:\r\n\r\n&gt;  Each invocation of a write() method causes the encoding converter to\r\n&gt; be invoked on the given character(s). The resulting bytes are\r\n&gt; accumulated in a buffer before being written to the underlying output\r\n&gt; stream. The size of this buffer may be specified, but by default it is\r\n&gt; large enough for most purposes. Note that the characters passed to the\r\n&gt; write() methods are not buffered.\r\n&gt; \r\n&gt; For top efficiency, consider wrapping an OutputStreamWriter within a\r\n&gt; BufferedWriter so as to avoid frequent converter invocations. For\r\n&gt; example:\r\n&gt; \r\n&gt;  Writer out    = new BufferedWriter(new\r\n&gt; OutputStreamWriter(System.out));\r\n\r\nSince FileWriter extends OutputStreamWriter, it applies to it as well.\r\n\r\nThanks for your time though, I am aware I asked something quite specific.\r\n\r\n  [1]: https://stackoverflow.com/questions/12350248/java-difference-between-filewriter-and-bufferedwriter\r\n \r\n\r\n  [2]: https://stackoverflow.com/questions/6108043/java-does-filewriter-use-a-buffer-it-acts-like-it-does-in-my-example\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html","title":"Is FileWriter buffered?","body":"<p>I would like to know whether or not FileWriter is buffered.</p>\n<p>In <a href=\"https://stackoverflow.com/questions/12350248/java-difference-between-filewriter-and-bufferedwriter\">this</a> SO question, it seems that it is, however in <a href=\"https://stackoverflow.com/questions/6108043/java-does-filewriter-use-a-buffer-it-acts-like-it-does-in-my-example\">this</a> SO question it seems that is not (it would be a system call for each time write(..) gets called).</p>\n<p>So, basically, reading those two Q&amp;A, I am a little confused. Is anybody able to clearly explain it out?</p>\n<p><strong>EDIT</strong>:  Problem solved by reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html\" rel=\"nofollow noreferrer\">this</a> API of which I am quoting the relevant part:</p>\n<blockquote>\n<p>Each invocation of a write() method causes the encoding converter to\nbe invoked on the given character(s). The resulting bytes are\naccumulated in a buffer before being written to the underlying output\nstream. The size of this buffer may be specified, but by default it is\nlarge enough for most purposes. Note that the characters passed to the\nwrite() methods are not buffered.</p>\n<p>For top efficiency, consider wrapping an OutputStreamWriter within a\nBufferedWriter so as to avoid frequent converter invocations. For\nexample:</p>\n<p>Writer out    = new BufferedWriter(new\nOutputStreamWriter(System.out));</p>\n</blockquote>\n<p>Since FileWriter extends OutputStreamWriter, it applies to it as well.</p>\n<p>Thanks for your time though, I am aware I asked something quite specific.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1657523331,"post_id":72934788,"comment_id":128821083,"body_markdown":"What output are you expecting?","body":"What output are you expecting?"},{"owner":{"account_id":2606155,"reputation":3610,"user_id":2257288,"accept_rate":42,"display_name":"Prabu"},"score":0,"creation_date":1657523650,"post_id":72934788,"comment_id":128821197,"body_markdown":"@tgdavies Thanks I&#39;ve added my expected output in the description section.","body":"@tgdavies Thanks I&#39;ve added my expected output in the description section."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657523922,"creation_date":1657523356,"answer_id":72934886,"question_id":72934788,"body_markdown":"Those are *curly* quotes in your source text. Your `replaceAll` is replacing *straight* quotes. \r\n\r\nYou should have copy-pasted the characters from your source. \r\n\r\n```java\r\nSystem.out.println(\r\n    &quot;‘NOA’,’CTF’,’CLM’&quot;\r\n    .replaceAll( &quot;‘&quot; , &quot;&quot; )\r\n    .replaceAll( &quot;’&quot; , &quot;&quot; )\r\n);\r\n```\r\n\r\nSee this [code run live at OneCompiler][1]. \r\n\r\n&gt; NOA,CTF,CLM\r\n\r\n\r\n  [1]: https://onecompiler.com/java/3y9nd5dw9","title":"Replace quote (‘NOA’) using groovy","body":"<p>Those are <em>curly</em> quotes in your source text. Your <code>replaceAll</code> is replacing <em>straight</em> quotes.</p>\n<p>You should have copy-pasted the characters from your source.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    &quot;‘NOA’,’CTF’,’CLM’&quot;\n    .replaceAll( &quot;‘&quot; , &quot;&quot; )\n    .replaceAll( &quot;’&quot; , &quot;&quot; )\n);\n</code></pre>\n<p>See this <a href=\"https://onecompiler.com/java/3y9nd5dw9\" rel=\"nofollow noreferrer\">code run live at OneCompiler</a>.</p>\n<blockquote>\n<p>NOA,CTF,CLM</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657533749,"creation_date":1657533749,"answer_id":72936783,"question_id":72934788,"body_markdown":"i would suggest this\r\n```\r\na.replaceAll(&quot;[‘’]&quot;, &quot;&quot;)\r\n```\r\n\r\nor even better to escape unicode characters in a source code\r\n\r\n```\r\na.replaceAll(&quot;[\\u2018\\u2019]&quot;, &quot;&quot;)\r\n```\r\n","title":"Replace quote (‘NOA’) using groovy","body":"<p>i would suggest this</p>\n<pre><code>a.replaceAll(&quot;[‘’]&quot;, &quot;&quot;)\n</code></pre>\n<p>or even better to escape unicode characters in a source code</p>\n<pre><code>a.replaceAll(&quot;[\\u2018\\u2019]&quot;, &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":2606155,"reputation":3610,"user_id":2257288,"accept_rate":42,"display_name":"Prabu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657533749,"creation_date":1657522733,"question_id":72934788,"body_markdown":"Can anyone guide me on how to replace this char (‘ ’) using groovy or java?\r\nWhen I try the below code (i assume this is a single quote), it&#39;s not working.\r\n\r\n    def a =  &quot;‘NOA’,’CTF’,’CLM’&quot;\r\n    def rep = a.replaceAll(&quot;\\&#39;&quot;,&quot;&quot;)\r\n\r\nMy expected Output : NOA,CTF,CLM\r\n\r\n","title":"Replace quote (‘NOA’) using groovy","body":"<p>Can anyone guide me on how to replace this char (‘ ’) using groovy or java?\nWhen I try the below code (i assume this is a single quote), it's not working.</p>\n<pre><code>def a =  &quot;‘NOA’,’CTF’,’CLM’&quot;\ndef rep = a.replaceAll(&quot;\\'&quot;,&quot;&quot;)\n</code></pre>\n<p>My expected Output : NOA,CTF,CLM</p>\n"},{"tags":["java","android","loops"],"comments":[{"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"score":0,"creation_date":1657517673,"post_id":72933920,"comment_id":128819715,"body_markdown":"When the user does not say anything maybe you can add a generic message to fill empty field","body":"When the user does not say anything maybe you can add a generic message to fill empty field"},{"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"score":0,"creation_date":1657518066,"post_id":72933920,"comment_id":128819802,"body_markdown":"Yes. I can add. but can we use any other loop statement? so that after particular click user will go to another field. so there is no restriction on the number of clicks as switch case.","body":"Yes. I can add. but can we use any other loop statement? so that after particular click user will go to another field. so there is no restriction on the number of clicks as switch case."}],"answers":[{"tags":[],"owner":{"account_id":25739445,"reputation":1,"user_id":19493663,"display_name":"993_"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657517043,"creation_date":1657517043,"answer_id":72934056,"question_id":72933920,"body_markdown":"Instead of using switch statement You can use the codes below:\r\n\r\n    if(//){\r\n    }else if(//){\r\n    }else if(//){\r\n    }else if(//){\r\n    }else{\r\n    //\r\n    }\r\n but switch statement, it&#39;s simpler and  readable than the if and else if","title":"Is there any other option rather that switch case statement?","body":"<p>Instead of using switch statement You can use the codes below:</p>\n<pre><code>if(//){\n}else if(//){\n}else if(//){\n}else if(//){\n}else{\n//\n}\n</code></pre>\n<p>but switch statement, it's simpler and  readable than the if and else if</p>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657533484,"creation_date":1657515856,"question_id":72933920,"body_markdown":"I am making one simple bank transfer Android application with Google voice input. So, basically, in my app I have created one method layoutclicked() for number of clicks on the layout. I have initialized numberOfclicks as 0 initially, so when user taps on the screen it increments. It will start voice input as well.\r\n\r\n```java\r\npublic void layoutClicked(View view)\r\n{\r\n    if(IsInitialVoiceFinshed) {\r\n        numberOfClicks++;\r\n        listen();\r\n    }\r\n}\r\n```\r\n\r\nI have created switch case statement for filling the input field, so like when case is 1, i.e user tap on the screen one time, then it will start voice input and user tell the details. It will set that text to that input field. And, again, in case 2 it will do another task.\r\n\r\nIf the user does not say anything in the first case, the field will be empty. And in case 2, they will go to another field. I want to fill that first input field. Can we achieve this by using for loop? \r\n\r\nHere is my complete Java code\r\n```java\r\npackage org.tensorflow.lite.examples.detection;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.tts.TextToSpeech;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Locale;\r\n\r\npublic class Banktransfer extends AppCompatActivity {\r\n\r\n    private TextToSpeech tts;\r\n    private TextView status;\r\n    private TextView To;\r\n    private TextView Subject;\r\n    private TextView To1;\r\n    private int numberOfClicks;\r\n    static String to;\r\n    float x1,x2;\r\n    private boolean IsInitialVoiceFinshed;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.bank_transfer);\r\n        IsInitialVoiceFinshed = false ;\r\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int status) {\r\n                if (status == TextToSpeech.SUCCESS) {\r\n                    int result = tts.setLanguage(Locale.UK);\r\n                    if (result == TextToSpeech.LANG_MISSING_DATA || result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                        Log.e(&quot;TTS&quot;, &quot;This Language is not supported&quot;);\r\n                    }\r\n                    tts.speak(&quot;Welcome to Bank transfer. tap on the screen , Tell me the IFSC code of bank&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            IsInitialVoiceFinshed=true;\r\n                        }\r\n                    }, 8500);\r\n                } else {\r\n                    Log.e(&quot;TTS&quot;, &quot;Initilization Failed!&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        status = (TextView)findViewById(R.id.status);\r\n        To = (TextView) findViewById(R.id.to);\r\n        Subject  = findViewById(R.id.subject);\r\n        To1 = (TextView) findViewById(R.id.to1);\r\n         numberOfClicks = 0;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        if (tts != null) {\r\n            tts.stop();\r\n            tts.shutdown();\r\n        }\r\n        super.onDestroy();\r\n    }\r\n\r\n    public void layoutClicked(View view)\r\n    {\r\n        if(IsInitialVoiceFinshed) {\r\n            numberOfClicks++;\r\n            listen();\r\n        }\r\n    }\r\n\r\n    private void listen(){\r\n        Intent i = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n        i.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Say something&quot;);\r\n\r\n        try {\r\n            startActivityForResult(i, 100);\r\n        } catch (ActivityNotFoundException a) {\r\n            Toast.makeText(Banktransfer.this, &quot;Your device doesn&#39;t support Speech Recognition&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 100&amp;&amp; IsInitialVoiceFinshed){\r\n            IsInitialVoiceFinshed = false;\r\n            if (resultCode == RESULT_OK &amp;&amp; null != data) {\r\n                ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n                if(result.get(0).contains(&quot;cancel&quot;))\r\n                {\r\n                    tts.speak(&quot;Transaction Cancelled!&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n\r\n                }\r\n                else {\r\n\r\n                    switch (numberOfClicks) {\r\n                        case 1:\r\n                            To1.setText(&quot;&quot;);\r\n                            String ifsc;\r\n                            ifsc = result.get(0).replace(&quot; &quot;,&quot;&quot;);\r\n                            char[] str=ifsc.toCharArray();\r\n                            for(int i=0;i&lt; str.length;i++){\r\n                                To1.append(str[i]+&quot;&quot;);\r\n                                Toast.makeText(getApplicationContext(), To1.getText().toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            if(!To1.getText().toString().isEmpty()) {\r\n                                tts.speak(&quot;tap on the screen &amp; say, account number to whom you want to transfer money? &quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                                to = result.get(0).replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n                                To.setText(to);\r\n\r\n                            if(!to.isEmpty()) {\r\n                                tts.speak(&quot;tap on the screen &amp; say, how much money you want to transfer&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                            }\r\n\r\n                            break;\r\n                        case 3:\r\n                                String amount;\r\n                                amount = result.get(0).replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n                                Subject.setText(amount);\r\n                                status.setText(&quot;confirm&quot;);\r\n                            if(!amount.isEmpty()) {\r\n                                tts.speak(&quot;Please Confirm the details , IFSC code is &quot;+To1.getText().toString()+&quot;,Account number is: &quot; + Arrays.toString(To.getText().toString().split(&quot;(?!^)&quot;)) + &quot;. And Money that you want to transfer is ,: &quot; + Subject.getText().toString() +&quot;rupees&quot;+ &quot;,Tap on the screen and Speak Yes to confirm&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                                tts.speak(&quot;,swipe left to listen again, or say Yes to confirm or no to cancel the transaction&quot;,TextToSpeech.QUEUE_ADD,null);\r\n\r\n                            }\r\n                                break;\r\n                        default:\r\n                            if(result.get(0).equals(&quot;yes&quot;)) {\r\n                                if (To.getText().toString().equals(&quot;&quot;)) {\r\n                                    if (Subject.getText().toString().equals(&quot;&quot;)) {\r\n                                        tts.speak(&quot;Details may be incorrect or incomplete, canceling the transaction&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                                        final Handler h = new Handler(Looper.getMainLooper());\r\n                                        h.postDelayed(new Runnable() {\r\n                                            @Override\r\n                                            public void run() {\r\n                                                Intent i = new Intent(Banktransfer.this,MainActivity.class);\r\n                                                startActivity(i);\r\n\r\n                                            }\r\n                                        },8000);\r\n                                    }\r\n                                } else {\r\n                                    status.setText(&quot;transferring money &quot;);\r\n                                    tts.speak(&quot;transferring money please wait&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                                    final Handler handler = new Handler();\r\n                                    handler.postDelayed(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n                                            status.setText(&quot;Amount transferred successfully.&quot;);\r\n                                            tts.speak(&quot;Amount transferred successfully.&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                                        }\r\n                                    }, 6000);\r\n                                    final Handler handler1 = new Handler();\r\n                                    handler1.postDelayed(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n                                            finish();\r\n                                            Intent intent = new Intent(Banktransfer.this, MainActivity.class);\r\n                                            startActivity(intent);\r\n                                            tts.speak(&quot;you are in main menu. just swipe right and say what you want&quot;, TextToSpeech.QUEUE_FLUSH, null);\r\n\r\n                                        }\r\n                                    }, 9000);\r\n                                }\r\n                            }\r\n\r\n                            else if(result.get(0).contains(&quot;no&quot;)){\r\n                                tts.speak(&quot;transaction cancelled&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                                To.setText(&quot;&quot;);\r\n                                Subject.setText(&quot;&quot;);\r\n                                IsInitialVoiceFinshed=true;\r\n                                final Handler handler1 = new Handler();\r\n                                handler1.postDelayed(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        finish();\r\n                                        Intent intent = new Intent(Banktransfer.this,MainActivity.class);\r\n                                        startActivity(intent);\r\n\r\n                                    }\r\n                                },3000);\r\n\r\n                            }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n            else {\r\n                switch (numberOfClicks) {\r\n                    case 1:\r\n\r\n                        break;\r\n                    case 2:\r\n                        break;\r\n\r\n                    default:\r\n                     tts.speak(&quot;say yes to proceed the transaction or no to cancel the transaction&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                        break;\r\n                }\r\n                numberOfClicks--;\r\n            }\r\n        }\r\n        IsInitialVoiceFinshed=true;\r\n    }\r\n\r\n    public boolean onTouchEvent(MotionEvent touchEvent) {\r\n        switch (touchEvent.getAction()) {\r\n\r\n            case MotionEvent.ACTION_DOWN:\r\n                x1 = touchEvent.getX();\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                x2 = touchEvent.getX();\r\n                if (x1 &lt; x2) {\r\n                    tts.speak(&quot;Please Confirm the details , IFSC code is &quot;+To1.getText().toString()+&quot;Account number is: &quot; + Arrays.toString(To.getText().toString().split(&quot;(?!^)&quot;)) + &quot;. And Money that you want to transfer is ,: &quot; + Subject.getText().toString() +&quot;rupees&quot;+ &quot;,Tap on the screen and Speak Yes to confirm&quot;,TextToSpeech.QUEUE_FLUSH,null);\r\n                    tts.speak(&quot;swipe left to listen again, and say Yes to confirm or no to cancel the transaction&quot;,TextToSpeech.QUEUE_ADD,null);\r\n                    break;\r\n                }\r\n                if (x1 &gt; x2) {\r\n\r\n                    break;\r\n                }\r\n\r\n                break;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public void onPause() {\r\n        if (tts != null) {\r\n            tts.stop();\r\n        }\r\n        super.onPause();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**bank_transfer.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:background=&quot;#faa519&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:onClick = &quot;layoutClicked&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:background=&quot;#e8e8e7&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/status&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\r\n            android:layout_marginLeft=&quot;25dp&quot;\r\n            android:text=&quot;Bank transfer&quot;\r\n            android:textColor=&quot;#2582C5&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:layout_marginLeft=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginRight=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;30dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;161dp&quot;\r\n            android:layout_height=&quot;77dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:src=&quot;@drawable/bank&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/to1&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;85dp&quot;\r\n            android:layout_marginTop=&quot;70dp&quot;\r\n            android:background=&quot;#f3f3f3&quot;\r\n            android:paddingLeft=&quot;7dp&quot;\r\n            android:paddingTop=&quot;7dp&quot;\r\n            android:text=&quot;IFSC Code&quot;\r\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/to&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;85dp&quot;\r\n            android:layout_marginTop=&quot;80dp&quot;\r\n            android:background=&quot;#f3f3f3&quot;\r\n            android:paddingLeft=&quot;7dp&quot;\r\n            android:paddingTop=&quot;7dp&quot;\r\n            android:text=&quot;Acc. no&quot;\r\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/subject&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;95dp&quot;\r\n            android:layout_marginTop=&quot;95dp&quot;\r\n            android:background=&quot;#f3f3f3&quot;\r\n            android:text=&quot;Transfer money:- &quot;\r\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"Is there any other option rather that switch case statement?","body":"<p>I am making one simple bank transfer Android application with Google voice input. So, basically, in my app I have created one method layoutclicked() for number of clicks on the layout. I have initialized numberOfclicks as 0 initially, so when user taps on the screen it increments. It will start voice input as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void layoutClicked(View view)\n{\n    if(IsInitialVoiceFinshed) {\n        numberOfClicks++;\n        listen();\n    }\n}\n</code></pre>\n<p>I have created switch case statement for filling the input field, so like when case is 1, i.e user tap on the screen one time, then it will start voice input and user tell the details. It will set that text to that input field. And, again, in case 2 it will do another task.</p>\n<p>If the user does not say anything in the first case, the field will be empty. And in case 2, they will go to another field. I want to fill that first input field. Can we achieve this by using for loop?</p>\n<p>Here is my complete Java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.tensorflow.lite.examples.detection;\n\nimport android.annotation.SuppressLint;\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.speech.RecognizerIntent;\nimport android.speech.tts.TextToSpeech;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Locale;\n\npublic class Banktransfer extends AppCompatActivity {\n\n    private TextToSpeech tts;\n    private TextView status;\n    private TextView To;\n    private TextView Subject;\n    private TextView To1;\n    private int numberOfClicks;\n    static String to;\n    float x1,x2;\n    private boolean IsInitialVoiceFinshed;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.bank_transfer);\n        IsInitialVoiceFinshed = false ;\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status == TextToSpeech.SUCCESS) {\n                    int result = tts.setLanguage(Locale.UK);\n                    if (result == TextToSpeech.LANG_MISSING_DATA || result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                        Log.e(&quot;TTS&quot;, &quot;This Language is not supported&quot;);\n                    }\n                    tts.speak(&quot;Welcome to Bank transfer. tap on the screen , Tell me the IFSC code of bank&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                    new Handler().postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n                            IsInitialVoiceFinshed=true;\n                        }\n                    }, 8500);\n                } else {\n                    Log.e(&quot;TTS&quot;, &quot;Initilization Failed!&quot;);\n                }\n            }\n        });\n\n        status = (TextView)findViewById(R.id.status);\n        To = (TextView) findViewById(R.id.to);\n        Subject  = findViewById(R.id.subject);\n        To1 = (TextView) findViewById(R.id.to1);\n         numberOfClicks = 0;\n    }\n\n    @Override\n    public void onDestroy() {\n        if (tts != null) {\n            tts.stop();\n            tts.shutdown();\n        }\n        super.onDestroy();\n    }\n\n    public void layoutClicked(View view)\n    {\n        if(IsInitialVoiceFinshed) {\n            numberOfClicks++;\n            listen();\n        }\n    }\n\n    private void listen(){\n        Intent i = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        i.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n        i.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Say something&quot;);\n\n        try {\n            startActivityForResult(i, 100);\n        } catch (ActivityNotFoundException a) {\n            Toast.makeText(Banktransfer.this, &quot;Your device doesn't support Speech Recognition&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == 100&amp;&amp; IsInitialVoiceFinshed){\n            IsInitialVoiceFinshed = false;\n            if (resultCode == RESULT_OK &amp;&amp; null != data) {\n                ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n                if(result.get(0).contains(&quot;cancel&quot;))\n                {\n                    tts.speak(&quot;Transaction Cancelled!&quot;,TextToSpeech.QUEUE_FLUSH,null);\n\n                }\n                else {\n\n                    switch (numberOfClicks) {\n                        case 1:\n                            To1.setText(&quot;&quot;);\n                            String ifsc;\n                            ifsc = result.get(0).replace(&quot; &quot;,&quot;&quot;);\n                            char[] str=ifsc.toCharArray();\n                            for(int i=0;i&lt; str.length;i++){\n                                To1.append(str[i]+&quot;&quot;);\n                                Toast.makeText(getApplicationContext(), To1.getText().toString(), Toast.LENGTH_SHORT).show();\n                            }\n\n                            if(!To1.getText().toString().isEmpty()) {\n                                tts.speak(&quot;tap on the screen &amp; say, account number to whom you want to transfer money? &quot;,TextToSpeech.QUEUE_FLUSH,null);\n                            }\n                            break;\n                        case 2:\n                                to = result.get(0).replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\n                                To.setText(to);\n\n                            if(!to.isEmpty()) {\n                                tts.speak(&quot;tap on the screen &amp; say, how much money you want to transfer&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                            }\n\n                            break;\n                        case 3:\n                                String amount;\n                                amount = result.get(0).replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\n                                Subject.setText(amount);\n                                status.setText(&quot;confirm&quot;);\n                            if(!amount.isEmpty()) {\n                                tts.speak(&quot;Please Confirm the details , IFSC code is &quot;+To1.getText().toString()+&quot;,Account number is: &quot; + Arrays.toString(To.getText().toString().split(&quot;(?!^)&quot;)) + &quot;. And Money that you want to transfer is ,: &quot; + Subject.getText().toString() +&quot;rupees&quot;+ &quot;,Tap on the screen and Speak Yes to confirm&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                                tts.speak(&quot;,swipe left to listen again, or say Yes to confirm or no to cancel the transaction&quot;,TextToSpeech.QUEUE_ADD,null);\n\n                            }\n                                break;\n                        default:\n                            if(result.get(0).equals(&quot;yes&quot;)) {\n                                if (To.getText().toString().equals(&quot;&quot;)) {\n                                    if (Subject.getText().toString().equals(&quot;&quot;)) {\n                                        tts.speak(&quot;Details may be incorrect or incomplete, canceling the transaction&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                                        final Handler h = new Handler(Looper.getMainLooper());\n                                        h.postDelayed(new Runnable() {\n                                            @Override\n                                            public void run() {\n                                                Intent i = new Intent(Banktransfer.this,MainActivity.class);\n                                                startActivity(i);\n\n                                            }\n                                        },8000);\n                                    }\n                                } else {\n                                    status.setText(&quot;transferring money &quot;);\n                                    tts.speak(&quot;transferring money please wait&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                                    final Handler handler = new Handler();\n                                    handler.postDelayed(new Runnable() {\n                                        @Override\n                                        public void run() {\n                                            status.setText(&quot;Amount transferred successfully.&quot;);\n                                            tts.speak(&quot;Amount transferred successfully.&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                                        }\n                                    }, 6000);\n                                    final Handler handler1 = new Handler();\n                                    handler1.postDelayed(new Runnable() {\n                                        @Override\n                                        public void run() {\n                                            finish();\n                                            Intent intent = new Intent(Banktransfer.this, MainActivity.class);\n                                            startActivity(intent);\n                                            tts.speak(&quot;you are in main menu. just swipe right and say what you want&quot;, TextToSpeech.QUEUE_FLUSH, null);\n\n                                        }\n                                    }, 9000);\n                                }\n                            }\n\n                            else if(result.get(0).contains(&quot;no&quot;)){\n                                tts.speak(&quot;transaction cancelled&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                                To.setText(&quot;&quot;);\n                                Subject.setText(&quot;&quot;);\n                                IsInitialVoiceFinshed=true;\n                                final Handler handler1 = new Handler();\n                                handler1.postDelayed(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        finish();\n                                        Intent intent = new Intent(Banktransfer.this,MainActivity.class);\n                                        startActivity(intent);\n\n                                    }\n                                },3000);\n\n                            }\n\n                    }\n\n                }\n            }\n            else {\n                switch (numberOfClicks) {\n                    case 1:\n\n                        break;\n                    case 2:\n                        break;\n\n                    default:\n                     tts.speak(&quot;say yes to proceed the transaction or no to cancel the transaction&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                        break;\n                }\n                numberOfClicks--;\n            }\n        }\n        IsInitialVoiceFinshed=true;\n    }\n\n    public boolean onTouchEvent(MotionEvent touchEvent) {\n        switch (touchEvent.getAction()) {\n\n            case MotionEvent.ACTION_DOWN:\n                x1 = touchEvent.getX();\n                break;\n            case MotionEvent.ACTION_UP:\n                x2 = touchEvent.getX();\n                if (x1 &lt; x2) {\n                    tts.speak(&quot;Please Confirm the details , IFSC code is &quot;+To1.getText().toString()+&quot;Account number is: &quot; + Arrays.toString(To.getText().toString().split(&quot;(?!^)&quot;)) + &quot;. And Money that you want to transfer is ,: &quot; + Subject.getText().toString() +&quot;rupees&quot;+ &quot;,Tap on the screen and Speak Yes to confirm&quot;,TextToSpeech.QUEUE_FLUSH,null);\n                    tts.speak(&quot;swipe left to listen again, and say Yes to confirm or no to cancel the transaction&quot;,TextToSpeech.QUEUE_ADD,null);\n                    break;\n                }\n                if (x1 &gt; x2) {\n\n                    break;\n                }\n\n                break;\n        }\n\n        return false;\n    }\n\n    public void onPause() {\n        if (tts != null) {\n            tts.stop();\n        }\n        super.onPause();\n\n    }\n\n}\n</code></pre>\n<p><strong>bank_transfer.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;\n    android:background=&quot;#faa519&quot;\n    android:orientation=&quot;vertical&quot;\n    android:onClick = &quot;layoutClicked&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:background=&quot;#e8e8e7&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/status&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\n            android:layout_marginLeft=&quot;25dp&quot;\n            android:text=&quot;Bank transfer&quot;\n            android:textColor=&quot;#2582C5&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;30dp&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;161dp&quot;\n            android:layout_height=&quot;77dp&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:src=&quot;@drawable/bank&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/to1&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;85dp&quot;\n            android:layout_marginTop=&quot;70dp&quot;\n            android:background=&quot;#f3f3f3&quot;\n            android:paddingLeft=&quot;7dp&quot;\n            android:paddingTop=&quot;7dp&quot;\n            android:text=&quot;IFSC Code&quot;\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/to&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;85dp&quot;\n            android:layout_marginTop=&quot;80dp&quot;\n            android:background=&quot;#f3f3f3&quot;\n            android:paddingLeft=&quot;7dp&quot;\n            android:paddingTop=&quot;7dp&quot;\n            android:text=&quot;Acc. no&quot;\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/subject&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;95dp&quot;\n            android:layout_marginTop=&quot;95dp&quot;\n            android:background=&quot;#f3f3f3&quot;\n            android:text=&quot;Transfer money:- &quot;\n            android:textColor=&quot;#4C4D4F&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1657510123,"post_id":72933384,"comment_id":128818586,"body_markdown":"Wire up a message converter for JSON or create a type and deserialize to that.  The parameter shouldn’t be a string.","body":"Wire up a message converter for JSON or create a type and deserialize to that.  The parameter shouldn’t be a string."},{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1657510198,"post_id":72933384,"comment_id":128818602,"body_markdown":"You can convert it to a list by using a JSON parser, then sort that list.","body":"You can convert it to a list by using a JSON parser, then sort that list."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657510203,"post_id":72933384,"comment_id":128818604,"body_markdown":"[This question](https://stackoverflow.com/q/2591098) should give you some ideas, and is arguably a duplicate.","body":"<a href=\"https://stackoverflow.com/q/2591098\">This question</a> should give you some ideas, and is arguably a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657520373,"creation_date":1657516546,"answer_id":72933998,"question_id":72933384,"body_markdown":"You can covert directly in list as shown below,\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nString str = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\r\nList&lt;Prediction&gt; predictions = mapper.readValue(str, new TypeReference&lt;List&lt;Prediction&gt;&gt;() {});\r\nSystem.out.println(predictions.size());\r\n```\r\nPrediction class:\r\n```\r\npublic class Prediction {\r\n     @JsonProperty(&quot;num&quot;)\r\n     BigDecimal num;\r\n     @JsonProperty(&quot;host&quot;)\r\n     String host;\r\n}\r\n```\r\nAll the code which I tried:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String str = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\r\n        List&lt;Prediction&gt; predictions = mapper.readValue(str, new TypeReference&lt;List&lt;Prediction&gt;&gt;() {});\r\n        System.out.println(predictions.get(0).getNum()+&quot; : &quot;+predictions.get(0).getHost());\r\n    }\r\n\r\n    public static class Prediction {\r\n        @JsonProperty(&quot;num&quot;)\r\n        BigDecimal num;\r\n        @JsonProperty(&quot;host&quot;)\r\n        String host;\r\n\r\n        public BigDecimal getNum() {\r\n            return num;\r\n        }\r\n        public String getHost() {\r\n            return host;\r\n        }\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n0.705251649 : a\r\n```\r\n","title":"How to convert a Response String into List and extract values?","body":"<p>You can covert directly in list as shown below,</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nString str = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\nList&lt;Prediction&gt; predictions = mapper.readValue(str, new TypeReference&lt;List&lt;Prediction&gt;&gt;() {});\nSystem.out.println(predictions.size());\n</code></pre>\n<p>Prediction class:</p>\n<pre><code>public class Prediction {\n     @JsonProperty(&quot;num&quot;)\n     BigDecimal num;\n     @JsonProperty(&quot;host&quot;)\n     String host;\n}\n</code></pre>\n<p>All the code which I tried:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        String str = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\n        List&lt;Prediction&gt; predictions = mapper.readValue(str, new TypeReference&lt;List&lt;Prediction&gt;&gt;() {});\n        System.out.println(predictions.get(0).getNum()+&quot; : &quot;+predictions.get(0).getHost());\n    }\n\n    public static class Prediction {\n        @JsonProperty(&quot;num&quot;)\n        BigDecimal num;\n        @JsonProperty(&quot;host&quot;)\n        String host;\n\n        public BigDecimal getNum() {\n            return num;\n        }\n        public String getHost() {\n            return host;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0.705251649 : a\n</code></pre>\n"}],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933998,"answer_count":1,"score":0,"last_activity_date":1657533256,"creation_date":1657509786,"question_id":72933384,"body_markdown":"I am getting below Response from an API\r\n\r\n    &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\r\n\r\nThe datatype is \r\n\r\n    java.lang.String\r\n\r\nHow to extract values efficiently like\r\n 1. First block which contains highest num, extract host\r\n 2. Last block which contains lowest num, extract host\r\n\r\nI have written below code:\r\n\r\n    public class Myclass{\r\n        String resp = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Prediction[] langs = objectMapper.readValue(resp, Prediction[].class);\r\n        List&lt;Prediction&gt; langList = new ArrayList(Arrays.asList(langs));\r\n    }\r\n\r\n    class Prediction {\r\n        @JsonProperty(&quot;num&quot;)\r\n        BigDecimal num;\r\n        @JsonProperty(&quot;host&quot;)\r\n        String host;\r\n    }\r\n\r\nI am getting below error:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.x.y.z.Prediction[]`: no String-argument constructor/factory method to deserialize from String value (&#39;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&#39;)\r\n     at [Source: (String)&quot;&quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]; line: 1, column: 1]","title":"How to convert a Response String into List and extract values?","body":"<p>I am getting below Response from an API</p>\n<pre><code>&quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;;\n</code></pre>\n<p>The datatype is</p>\n<pre><code>java.lang.String\n</code></pre>\n<p>How to extract values efficiently like</p>\n<ol>\n<li>First block which contains highest num, extract host</li>\n<li>Last block which contains lowest num, extract host</li>\n</ol>\n<p>I have written below code:</p>\n<pre><code>public class Myclass{\n    String resp = &quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]&quot;\n    ObjectMapper objectMapper = new ObjectMapper();\n    Prediction[] langs = objectMapper.readValue(resp, Prediction[].class);\n    List&lt;Prediction&gt; langList = new ArrayList(Arrays.asList(langs));\n}\n\nclass Prediction {\n    @JsonProperty(&quot;num&quot;)\n    BigDecimal num;\n    @JsonProperty(&quot;host&quot;)\n    String host;\n}\n</code></pre>\n<p>I am getting below error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.x.y.z.Prediction[]`: no String-argument constructor/factory method to deserialize from String value ('[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]')\n at [Source: (String)&quot;&quot;[{\\&quot;num\\&quot;:0.705251649,\\&quot;host\\&quot;:\\&quot;a\\&quot;},{\\&quot;num\\&quot;:0.6223491728,\\&quot;host\\&quot;:\\&quot;b\\&quot;},{\\&quot;num\\&quot;:0.6486086175,\\&quot;host\\&quot;:\\&quot;c\\&quot;},{\\&quot;num\\&quot;:0.6595501527,\\&quot;host\\&quot;:\\&quot;d\\&quot;},{\\&quot;num\\&quot;:0.5766476765,\\&quot;host\\&quot;:\\&quot;e\\&quot;},{\\&quot;num\\&quot;:0.6029071212,\\&quot;host\\&quot;:\\&quot;f\\&quot;}]; line: 1, column: 1]\n</code></pre>\n"},{"tags":["java","android","if-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1657532335,"post_id":72936425,"comment_id":128823905,"body_markdown":"&quot;How do I do the calculations without using a else if statement within the if statement?&quot;, nope, that&#39;s how you do it. You put `if`s and `else if`s inside the other `if`.","body":"&quot;How do I do the calculations without using a else if statement within the if statement?&quot;, nope, that&#39;s how you do it. You put <code>if</code>s and <code>else if</code>s inside the other <code>if</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657532356,"post_id":72936425,"comment_id":128823914,"body_markdown":"Aside: `tax = income &amp; 0.0506` what do you expect this to do?","body":"Aside: <code>tax = income &amp; 0.0506</code> what do you expect this to do?"},{"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"score":0,"creation_date":1657532451,"post_id":72936425,"comment_id":128823939,"body_markdown":"With the if statement i want to verify which province the user has inputted then within that if statement I want to apply the tax calculations, but that is the problem which I can&#39;t figure for the life of me. I can&#39;t tax it within that one province. I want to use the else-if statement for the second province.","body":"With the if statement i want to verify which province the user has inputted then within that if statement I want to apply the tax calculations, but that is the problem which I can&#39;t figure for the life of me. I can&#39;t tax it within that one province. I want to use the else-if statement for the second province."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657532701,"post_id":72936425,"comment_id":128824020,"body_markdown":"I&#39;m not sure I understand the problem you&#39;re having: nesting `if`s? Having more than one province? Do you think you can&#39;t have more than one `if` per method? Are you familiar with any other programming language (or even just pseudo-code) that you could use as a bridge to explain what you&#39;re trying to do? If so please [edit] your question to include that as well.","body":"I&#39;m not sure I understand the problem you&#39;re having: nesting <code>if</code>s? Having more than one province? Do you think you can&#39;t have more than one <code>if</code> per method? Are you familiar with any other programming language (or even just pseudo-code) that you could use as a bridge to explain what you&#39;re trying to do? If so please <a href=\"https://stackoverflow.com/posts/72936425/edit\">edit</a> your question to include that as well."},{"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"score":0,"creation_date":1657532873,"post_id":72936425,"comment_id":128824079,"body_markdown":"Yes I can explain in python. Basically let&#39;s say province is a variable which has 3 parts to it (BC, Ontario, and Alberta) now within this if statement I want to take the inputted income and tax it by let&#39;s say 5.6% or * 0.056. How would I do that under an if statement?","body":"Yes I can explain in python. Basically let&#39;s say province is a variable which has 3 parts to it (BC, Ontario, and Alberta) now within this if statement I want to take the inputted income and tax it by let&#39;s say 5.6% or * 0.056. How would I do that under an if statement?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657532942,"post_id":72936425,"comment_id":128824107,"body_markdown":"Ok, please [edit] your question to include the python version so we can go from there","body":"Ok, please <a href=\"https://stackoverflow.com/posts/72936425/edit\">edit</a> your question to include the python version so we can go from there"},{"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"score":0,"creation_date":1657532973,"post_id":72936425,"comment_id":128824115,"body_markdown":"Ok I will do that right now","body":"Ok I will do that right now"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657533884,"post_id":72936425,"comment_id":128824471,"body_markdown":"You can put an if statement within an if statement, as Federico klez Culloca already said: `if (provinceInhabiting == 1) { if (someOtherCondition) { ... } }`.","body":"You can put an if statement within an if statement, as Federico klez Culloca already said: <code>if (provinceInhabiting == 1) { if (someOtherCondition) { ... } }</code>."},{"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"score":0,"creation_date":1657534051,"post_id":72936425,"comment_id":128824531,"body_markdown":"Thank you guys for the help, just figured it out!","body":"Thank you guys for the help, just figured it out!"}],"answers":[{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657533175,"creation_date":1657533175,"answer_id":72936662,"question_id":72936425,"body_markdown":"For almost all the times, you can replace if else if else statement to using a  Map object, and this is a better practice in a lot ways. You should checkou principle in Software Design Pattern, like this one open-close principle. You can add a lot of key:values to the map, and your code is not modified, but added.\r\n\r\n```\r\nif (a == 1){\r\n   print(1)\r\n} else if (a &gt;1 &amp;&amp; a &lt; 100){\r\n   print(10)\r\n} else {\r\n   print(100)\r\n}\r\n\r\n//change the code to \r\nHashMap&lt;@Nullable Predicate&lt;Integer&gt;, @Nullable Consumer&lt;Integer&gt;&gt; map = Maps.newHashMap();\r\nmap.put(x -&gt; x == 1, (x) -&gt; {\r\n    System.out.println(1);\r\n});\r\nmap.put(x -&gt; x &gt; 1 &amp;&amp; x &lt; 10, (x) -&gt; {\r\n    System.out.println(10);\r\n});\r\nmap.put(x -&gt; x != 1 &amp;&amp; !(x &gt; 1 &amp;&amp; x &lt; 10), (x) -&gt; {\r\n    System.out.println(100);\r\n});\r\n\r\nint a = 1;\r\nfor (Map.Entry&lt;Predicate&lt;Integer&gt;, Consumer&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n    if (entry.getKey().test(a)) {\r\n        entry.getValue().accept(a);\r\n    }\r\n}\r\n\r\n```","title":"How do I add the tax inside the if statement when I chose one variable already?","body":"<p>For almost all the times, you can replace if else if else statement to using a  Map object, and this is a better practice in a lot ways. You should checkou principle in Software Design Pattern, like this one open-close principle. You can add a lot of key:values to the map, and your code is not modified, but added.</p>\n<pre><code>if (a == 1){\n   print(1)\n} else if (a &gt;1 &amp;&amp; a &lt; 100){\n   print(10)\n} else {\n   print(100)\n}\n\n//change the code to \nHashMap&lt;@Nullable Predicate&lt;Integer&gt;, @Nullable Consumer&lt;Integer&gt;&gt; map = Maps.newHashMap();\nmap.put(x -&gt; x == 1, (x) -&gt; {\n    System.out.println(1);\n});\nmap.put(x -&gt; x &gt; 1 &amp;&amp; x &lt; 10, (x) -&gt; {\n    System.out.println(10);\n});\nmap.put(x -&gt; x != 1 &amp;&amp; !(x &gt; 1 &amp;&amp; x &lt; 10), (x) -&gt; {\n    System.out.println(100);\n});\n\nint a = 1;\nfor (Map.Entry&lt;Predicate&lt;Integer&gt;, Consumer&lt;Integer&gt;&gt; entry : map.entrySet()) {\n    if (entry.getKey().test(a)) {\n        entry.getValue().accept(a);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":18967205,"reputation":1,"user_id":13841489,"display_name":"bruh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72936662,"answer_count":1,"score":0,"last_activity_date":1657533175,"creation_date":1657532108,"question_id":72936425,"body_markdown":"I am trying to create a tax calculator in Java, but I just can&#39;t seem to figure out how to tax the income when I have already used the if statement to verify the province so I can do the calculations.\r\n\r\nHow do I do the calculations without using a else if statement within the if statement?\r\n\r\n(I just started Java and suck. So sorry for all the mistakes)\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n    \r\n        Scanner income = new Scanner(System.in);\r\n        System.out.println(&quot;What is your taxable income: &quot;);\r\n        double taxable_income = income.nextDouble();\r\n        System.out.println(&quot;You&#39;re income is: &quot; + taxable_income);\r\n    \r\n        Scanner province = new Scanner(System.in);\r\n        System.out.println(&quot;In which province do you live? (1 for BC, 2 for Alberta, and 3 for Ontario):  &quot;);\r\n        int province_inhabiting = province.nextInt();\r\n        System.out.println(&quot;You chose &quot; + province_inhabiting);\r\n    \r\n        if (province_inhabiting == 1) {\r\n          taxable_income &lt;= 40707 {\r\n            tax = income &amp; 0.0506;\r\n          }\r\n          \r\n          (taxable_income &gt;= 40707 &amp;&amp; taxable_income &lt;= 81416) {\r\n            tax = income &amp; 0.077;\r\n          }\r\n    \r\n           (taxable_income &gt;= 81416 &amp;&amp; taxable_income &lt;= 93476) {\r\n            tax = income &amp; 0.105;\r\n          }\r\n    \r\n          (taxable_income &gt;= 93476 &amp;&amp; taxable_income &lt;= 113503) {\r\n            tax = income &amp; 0.105;\r\n          }\r\n          \r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThe problem I&#39;m having here is that I want to do the calculation within the if statement, the problem is I just don&#39;t know how to do it within the if statement. Basically let&#39;s say province is a variable which has 3 parts to it (BC, Ontario, and Alberta) now within this if statement I want to take the inputted income (the user inputs earlier) and tax it by let&#39;s say 5.6% or * 0.056. How would I do that under an if statement in Java.","title":"How do I add the tax inside the if statement when I chose one variable already?","body":"<p>I am trying to create a tax calculator in Java, but I just can't seem to figure out how to tax the income when I have already used the if statement to verify the province so I can do the calculations.</p>\n<p>How do I do the calculations without using a else if statement within the if statement?</p>\n<p>(I just started Java and suck. So sorry for all the mistakes)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) {\n\n    Scanner income = new Scanner(System.in);\n    System.out.println(&quot;What is your taxable income: &quot;);\n    double taxable_income = income.nextDouble();\n    System.out.println(&quot;You're income is: &quot; + taxable_income);\n\n    Scanner province = new Scanner(System.in);\n    System.out.println(&quot;In which province do you live? (1 for BC, 2 for Alberta, and 3 for Ontario):  &quot;);\n    int province_inhabiting = province.nextInt();\n    System.out.println(&quot;You chose &quot; + province_inhabiting);\n\n    if (province_inhabiting == 1) {\n      taxable_income &lt;= 40707 {\n        tax = income &amp; 0.0506;\n      }\n      \n      (taxable_income &gt;= 40707 &amp;&amp; taxable_income &lt;= 81416) {\n        tax = income &amp; 0.077;\n      }\n\n       (taxable_income &gt;= 81416 &amp;&amp; taxable_income &lt;= 93476) {\n        tax = income &amp; 0.105;\n      }\n\n      (taxable_income &gt;= 93476 &amp;&amp; taxable_income &lt;= 113503) {\n        tax = income &amp; 0.105;\n      }\n      \n      }\n    }\n  }\n}\n</code></pre>\n<p>The problem I'm having here is that I want to do the calculation within the if statement, the problem is I just don't know how to do it within the if statement. Basically let's say province is a variable which has 3 parts to it (BC, Ontario, and Alberta) now within this if statement I want to take the inputted income (the user inputs earlier) and tax it by let's say 5.6% or * 0.056. How would I do that under an if statement in Java.</p>\n"},{"tags":["java","hibernate","application.xml"],"comments":[{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1657116309,"post_id":72882331,"comment_id":128733512,"body_markdown":"It looks like like you are not only using Hibernate but also a SpringBoot. Could you confirm on that?","body":"It looks like like you are not only using Hibernate but also a SpringBoot. Could you confirm on that?"},{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1657116366,"post_id":72882331,"comment_id":128733531,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/24278659/change-database-schema-used-by-spring-boot","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24278659/change-database-schema-used-by-spring-boot\" title=\"change database schema used by spring boot\">stackoverflow.com/questions/24278659/&hellip;</a>"},{"owner":{"account_id":16650582,"reputation":1,"user_id":12166819,"display_name":"devoid"},"score":0,"creation_date":1657118635,"post_id":72882331,"comment_id":128734651,"body_markdown":"@Michal Yes, I using SpringBoot","body":"@Michal Yes, I using SpringBoot"},{"owner":{"account_id":16650582,"reputation":1,"user_id":12166819,"display_name":"devoid"},"score":0,"creation_date":1657118917,"post_id":72882331,"comment_id":128734779,"body_markdown":"@Sergei No. I tried to establish default_schema with help spring: jpa: properties: hibernate: default_schema , but the setting does not seem to be read and there is no reaction","body":"@Sergei No. I tried to establish default_schema with help spring: jpa: properties: hibernate: default_schema , but the setting does not seem to be read and there is no reaction"},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1657187714,"post_id":72882331,"comment_id":128753071,"body_markdown":"The YML file is so easy to get wrong. Could you - just for the sake of the experiment- try to set the property in other way then via the application.yml? For example, passing it per -D switch at start? Also remove all the other settings, i.e. yml and @Table and so on.","body":"The YML file is so easy to get wrong. Could you - just for the sake of the experiment- try to set the property in other way then via the application.yml? For example, passing it per -D switch at start? Also remove all the other settings, i.e. yml and @Table and so on."}],"answers":[{"tags":[],"owner":{"account_id":16650582,"reputation":1,"user_id":12166819,"display_name":"devoid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657533168,"creation_date":1657533168,"answer_id":72936661,"question_id":72882331,"body_markdown":"In application.yml\r\n\r\nspring:\r\n datasource:\r\n   hikari:\r\n    schema: nameSchema\r\n\r\n","title":"Where can install the schema in project with hibernate?","body":"<p>In application.yml</p>\n<p>spring:\ndatasource:\nhikari:\nschema: nameSchema</p>\n"}],"owner":{"account_id":16650582,"reputation":1,"user_id":12166819,"display_name":"devoid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72936661,"answer_count":1,"score":0,"last_activity_date":1657533168,"creation_date":1657104931,"question_id":72882331,"body_markdown":"I use hibernate. I need to set the current schema somewhere other than in the @Table annotation or in jdbc:postgresql://HOST:PORT/&lt;DATABASE&gt; in application.yml \r\nTell me where else you can install the schema? \r\n\r\nspring.jpa.properties.hibernate.default_schema: contact does not see the setting","title":"Where can install the schema in project with hibernate?","body":"<p>I use hibernate. I need to set the current schema somewhere other than in the @Table annotation or in jdbc:postgresql://HOST:PORT/ in application.yml\nTell me where else you can install the schema?</p>\n<p>spring.jpa.properties.hibernate.default_schema: contact does not see the setting</p>\n"},{"tags":["java","jar","executable-jar","mutiny","smallrye"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657533230,"post_id":72936648,"comment_id":128824214,"body_markdown":"the problem is, while those classes are on the classpath of your ide, they aren&#39;t on the path if you run the code outside of it","body":"the problem is, while those classes are on the classpath of your ide, they aren&#39;t on the path if you run the code outside of it"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1657533347,"post_id":72936648,"comment_id":128824258,"body_markdown":"@Stultuske Thanks a lot for the response. I am actually running in the `project-name/target` folder as the created JAR file for the project is in the `target` folder. Am I executing from the wrong folder? Because if I do not run from the `target` folder then I get the error JAR file not found.","body":"@Stultuske Thanks a lot for the response. I am actually running in the <code>project-name&#47;target</code> folder as the created JAR file for the project is in the <code>target</code> folder. Am I executing from the wrong folder? Because if I do not run from the <code>target</code> folder then I get the error JAR file not found."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1658298912,"post_id":72936648,"comment_id":129013701,"body_markdown":"Make sure you have mutiny in the classpath. If you are using Mutiny in a classic Quarkus application, check: https://smallrye.io/smallrye-mutiny/1.6.0/tutorials/getting-mutiny/","body":"Make sure you have mutiny in the classpath. If you are using Mutiny in a classic Quarkus application, check: <a href=\"https://smallrye.io/smallrye-mutiny/1.6.0/tutorials/getting-mutiny/\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/1.6.0/tutorials/getting-mutiny</a>"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657533127,"creation_date":1657533127,"question_id":72936648,"body_markdown":"I am trying to run a simple `Smallrye Mutiny` application using JAR via command line but I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/smallrye/mutiny/Multi\r\n        at io.myPage.hello.concat.MultiClass.multiReturn(TestMain.java:25)\r\n        at io.myPage.hello.concat.TestMain.main(TestMain.java:16)\r\nCaused by: java.lang.ClassNotFoundException: io.smallrye.mutiny.Multi\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\r\n```\r\n\r\nWhen I run directly via IDE then everything works perfectly but only while running JAR I get the above error.\r\n\r\nFollowing is the sample code I have:\r\n```\r\npackage io.myPage.hello.concat;\r\n\r\nimport io.smallrye.mutiny.Multi;\r\n\r\npublic class TestMain {\r\n    public static void main(String[] args) {\r\n        final MultiClass multiClass = new MultiClass();\r\n        multiClass.multiReturn().subscribe().with(\r\n                System.out::println,\r\n                failure -&gt; System.out.println(&quot;Failed with &quot; + failure),\r\n                () -&gt; System.out.println(&quot;Completed&quot;));\r\n    }\r\n}\r\n\r\nclass MultiClass {\r\n    public Multi&lt;String&gt; multiReturn() {\r\n        return Multi.createFrom().items(&quot;hello&quot;, &quot;world&quot;, &quot;Batman&quot;, &quot;supermain&quot;, &quot;london&quot;, &quot;k&#246;ln&quot;).onItem().transform(i -&gt; i + &quot;\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCan someone please let me know why am I seeing this issue and how can I fix this?","title":"SmallRye multi throws error when running JAR from command line: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/smallrye/mutiny/Multi","body":"<p>I am trying to run a simple <code>Smallrye Mutiny</code> application using JAR via command line but I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/smallrye/mutiny/Multi\n        at io.myPage.hello.concat.MultiClass.multiReturn(TestMain.java:25)\n        at io.myPage.hello.concat.TestMain.main(TestMain.java:16)\nCaused by: java.lang.ClassNotFoundException: io.smallrye.mutiny.Multi\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n\n</code></pre>\n<p>When I run directly via IDE then everything works perfectly but only while running JAR I get the above error.</p>\n<p>Following is the sample code I have:</p>\n<pre><code>package io.myPage.hello.concat;\n\nimport io.smallrye.mutiny.Multi;\n\npublic class TestMain {\n    public static void main(String[] args) {\n        final MultiClass multiClass = new MultiClass();\n        multiClass.multiReturn().subscribe().with(\n                System.out::println,\n                failure -&gt; System.out.println(&quot;Failed with &quot; + failure),\n                () -&gt; System.out.println(&quot;Completed&quot;));\n    }\n}\n\nclass MultiClass {\n    public Multi&lt;String&gt; multiReturn() {\n        return Multi.createFrom().items(&quot;hello&quot;, &quot;world&quot;, &quot;Batman&quot;, &quot;supermain&quot;, &quot;london&quot;, &quot;köln&quot;).onItem().transform(i -&gt; i + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n<p>Can someone please let me know why am I seeing this issue and how can I fix this?</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657301732,"creation_date":1657301732,"answer_id":72915039,"question_id":72914624,"body_markdown":"Try using scheduler#runTaskTimer instead of scheduler#runTaskLater. \r\n\r\n    \tboolean isTouchingWater = true;\r\n\t\tBukkit.getScheduler().runTaskTimer(plugin, new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tif(isTouchingWater) {\r\n\t\t\t\t\tp.sendMessage(&quot;Water Damage&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t//cancel the task\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, 0, 20);\r\n\r\nYou&#39;ll want to have a boolean as described so that you can cencel the task when the player is no longer touching water. \r\n\r\n","title":"I want my code run once every 20t in a `PlayerMoveEvent`","body":"<p>Try using scheduler#runTaskTimer instead of scheduler#runTaskLater.</p>\n<pre><code>    boolean isTouchingWater = true;\n    Bukkit.getScheduler().runTaskTimer(plugin, new Runnable() {\n\n        @Override\n        public void run() {\n            if(isTouchingWater) {\n                p.sendMessage(&quot;Water Damage&quot;);\n            }else {\n                //cancel the task\n            }\n        }\n        \n    }, 0, 20);\n</code></pre>\n<p>You'll want to have a boolean as described so that you can cencel the task when the player is no longer touching water.</p>\n"},{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657533080,"creation_date":1657313300,"answer_id":72916848,"question_id":72914624,"body_markdown":"The `PlayerMoveEvent` fires many times a second when the player moves. Even if they&#39;re moving their head, this is why the answer given by Blue Dev is making your message print many more times than expected.\r\n\r\nInstead of creating a new task every time the player moves in water. You should use a `runTaskTimer` scheduler and only create it if there is not one already running for the player.\r\n\r\n```java\r\n// Create a map to store the player&#39;s UUID and their task\r\npublic final Map&lt;UUID, BukkitTask&gt; playersBeingDamaged = new HashMap&lt;&gt;();\r\n\r\n@EventHandler\r\npublic void OnWater(PlayerMoveEvent e) {\r\n    Player p = e.getPlayer();\r\n    // Create an optional which may contain the BukkitTask\r\n    Optional&lt;BukkitTask&gt; bukkitTaskOptional = Optional.ofNullable(playersBeingDamaged.get(p.getUniqueId()));\r\n    if (!(p.getLocation().getBlock().getType().equals(Material.WATER))) {\r\n       // If the player is not in water and they have a task, cancel and remove it from the map\r\n       bukkitTaskOptional.ifPresent(it -&gt; {\r\n           it.cancel();\r\n           playersBeingDamaged.remove(p.getUniqueId());\r\n        });\r\n    } else {\r\n       // If they&#39;re in water and have a task already, return; don&#39;t do anything more\r\n       if(bukkitTaskOptional.isPresent())\r\n           return;\r\n       // Create the task for the player which will have a delay of 0 ticks and run every 20\r\n       BukkitTask task = Bukkit.getScheduler().runTaskTimer(\r\n               plugin,\r\n               () -&gt; p.sendMessage(&quot;Water Damage&quot;),\r\n               0L,\r\n               20L\r\n       );\r\n       // Add the UUID and the task to the map\r\n       playersBeingDamaged.put(p.getUniqueId(), task);\r\n    }\r\n}\r\n```\r\n\r\nIf these tasks will be created often, a more efficient way would be to have a `runTaskTimer` running continually that iterates over a map of `UUID`&#39;s, get the player and their location, and then perform the action if they meet the conditions. They get removed from the map if they don&#39;t meet the conditions (e.g. in water). The `PlayerMoveEvent` is only used to add them to this map when they&#39;re in water.\r\n\r\nHere&#39;s an example of that:\r\n\r\n```java\r\npublic class MyRunnable extends BukkitRunnable {\r\n    @Override\r\n    public void run() {\r\n        for(UUID uuid : playersBeingDamaged){\r\n            Player player = Bukkit.getPlayer(uuid);\r\n            if(player == null || !player.getLocation().getBlock().getType().equals(Material.WATER)){\r\n                // Player is offline OR they&#39;re not currently in water, remove them and continue\r\n                playersBeingDamaged.remove(uuid);\r\n                continue;\r\n            }\r\n            player.sendMessage(&quot;Water damage&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this task can be started in your onEnable like so:\r\n\r\n```java\r\nBukkitTask myTask = new MyRunnable().runTaskTimer(plugin, 0L, 20L);\r\n```\r\n\r\nP.S. `playersBeingDamaged` will need to be somewhere accessible to your runnable class and your listener.\r\n\r\n","title":"I want my code run once every 20t in a `PlayerMoveEvent`","body":"<p>The <code>PlayerMoveEvent</code> fires many times a second when the player moves. Even if they're moving their head, this is why the answer given by Blue Dev is making your message print many more times than expected.</p>\n<p>Instead of creating a new task every time the player moves in water. You should use a <code>runTaskTimer</code> scheduler and only create it if there is not one already running for the player.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a map to store the player's UUID and their task\npublic final Map&lt;UUID, BukkitTask&gt; playersBeingDamaged = new HashMap&lt;&gt;();\n\n@EventHandler\npublic void OnWater(PlayerMoveEvent e) {\n    Player p = e.getPlayer();\n    // Create an optional which may contain the BukkitTask\n    Optional&lt;BukkitTask&gt; bukkitTaskOptional = Optional.ofNullable(playersBeingDamaged.get(p.getUniqueId()));\n    if (!(p.getLocation().getBlock().getType().equals(Material.WATER))) {\n       // If the player is not in water and they have a task, cancel and remove it from the map\n       bukkitTaskOptional.ifPresent(it -&gt; {\n           it.cancel();\n           playersBeingDamaged.remove(p.getUniqueId());\n        });\n    } else {\n       // If they're in water and have a task already, return; don't do anything more\n       if(bukkitTaskOptional.isPresent())\n           return;\n       // Create the task for the player which will have a delay of 0 ticks and run every 20\n       BukkitTask task = Bukkit.getScheduler().runTaskTimer(\n               plugin,\n               () -&gt; p.sendMessage(&quot;Water Damage&quot;),\n               0L,\n               20L\n       );\n       // Add the UUID and the task to the map\n       playersBeingDamaged.put(p.getUniqueId(), task);\n    }\n}\n</code></pre>\n<p>If these tasks will be created often, a more efficient way would be to have a <code>runTaskTimer</code> running continually that iterates over a map of <code>UUID</code>'s, get the player and their location, and then perform the action if they meet the conditions. They get removed from the map if they don't meet the conditions (e.g. in water). The <code>PlayerMoveEvent</code> is only used to add them to this map when they're in water.</p>\n<p>Here's an example of that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRunnable extends BukkitRunnable {\n    @Override\n    public void run() {\n        for(UUID uuid : playersBeingDamaged){\n            Player player = Bukkit.getPlayer(uuid);\n            if(player == null || !player.getLocation().getBlock().getType().equals(Material.WATER)){\n                // Player is offline OR they're not currently in water, remove them and continue\n                playersBeingDamaged.remove(uuid);\n                continue;\n            }\n            player.sendMessage(&quot;Water damage&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And this task can be started in your onEnable like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BukkitTask myTask = new MyRunnable().runTaskTimer(plugin, 0L, 20L);\n</code></pre>\n<p>P.S. <code>playersBeingDamaged</code> will need to be somewhere accessible to your runnable class and your listener.</p>\n"}],"owner":{"account_id":25760641,"reputation":3,"user_id":19511645,"display_name":"PGK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72916848,"answer_count":2,"score":0,"last_activity_date":1657533080,"creation_date":1657299198,"question_id":72914624,"body_markdown":"I want my code to run once every 20t when a player touches the water\r\n\r\n```\r\npackage me.pgk.Listeners;\r\n\r\nimport me.pgk.PGK;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerMoveEvent;\r\n\r\n\r\npublic class WaterLavaDamage implements Listener {\r\n\r\n\r\n    private final PGK plugin;\r\n    public WaterLavaDamage(PGK plugin) {\r\n        this.plugin = plugin;\r\n    }\r\n\r\n\r\n\r\n    @EventHandler\r\n    public void OnWater(PlayerMoveEvent e) {\r\n\r\n        Player p = e.getPlayer();\r\n\r\n        if (!(p.getLocation().getBlock().getType().equals(Material.WATER))) return;\r\n\r\n\r\n        Bukkit.getScheduler().runTaskLater(plugin, () -&gt; {\r\n            \r\n            //here is the code I wanted to run\r\n            p.sendMessage(&quot;Water Damage&quot;);\r\n            \r\n            }, 20L);\r\n        \r\n        \r\n    }\r\n}\r\n\r\n```\r\nthe OnWater(PlayerMoveEvent e) event; checks for player movement every tick (20 times every second) and I want the code inside of it to run once every 20 ticks when the player touches the water.\r\n\r\nhowever when the player does so, the code runs every tick (20 times every second) after 20 ticks.","title":"I want my code run once every 20t in a `PlayerMoveEvent`","body":"<p>I want my code to run once every 20t when a player touches the water</p>\n<pre><code>package me.pgk.Listeners;\n\nimport me.pgk.PGK;\nimport org.bukkit.Bukkit;\nimport org.bukkit.Material;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerMoveEvent;\n\n\npublic class WaterLavaDamage implements Listener {\n\n\n    private final PGK plugin;\n    public WaterLavaDamage(PGK plugin) {\n        this.plugin = plugin;\n    }\n\n\n\n    @EventHandler\n    public void OnWater(PlayerMoveEvent e) {\n\n        Player p = e.getPlayer();\n\n        if (!(p.getLocation().getBlock().getType().equals(Material.WATER))) return;\n\n\n        Bukkit.getScheduler().runTaskLater(plugin, () -&gt; {\n            \n            //here is the code I wanted to run\n            p.sendMessage(&quot;Water Damage&quot;);\n            \n            }, 20L);\n        \n        \n    }\n}\n\n</code></pre>\n<p>the OnWater(PlayerMoveEvent e) event; checks for player movement every tick (20 times every second) and I want the code inside of it to run once every 20 ticks when the player touches the water.</p>\n<p>however when the player does so, the code runs every tick (20 times every second) after 20 ticks.</p>\n"},{"tags":["java","spring-boot","parsing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1657519722,"post_id":72934309,"comment_id":128820122,"body_markdown":"I think the word &quot;parse&quot; is misleading here. You are looking for a custom method `toString()` (it doesn&#39;t have to be implemented in the class itself).","body":"I think the word &quot;parse&quot; is misleading here. You are looking for a custom method <code>toString()</code> (it doesn&#39;t have to be implemented in the class itself)."}],"answers":[{"tags":[],"owner":{"account_id":15128674,"reputation":1304,"user_id":10917226,"display_name":"Lovesh Dongre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657532865,"creation_date":1657519915,"answer_id":72934360,"question_id":72934309,"body_markdown":"Refer the following example, you need to override the toString() Method\r\n```\r\nclass TestObject {\r\n  int val;\r\n\r\n  public TestObject(int val){\r\n    this.val = val;\r\n  }\r\n\r\n  public String toString(){\r\n   return &quot;&quot; + this.val;\r\n  }\r\n\r\n}\r\n\r\nMap&lt;String, TestObject&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;First Object&quot;, new TestObject(1));\r\nmap.put(&quot;Second Object&quot;, new TestObject(2));\r\nmap.put(&quot;Third Object&quot;, new TestObject(3));\r\n\r\nSystem.out.println(map.toString());// on printing map object\r\n```\r\noutput: `{Third Object=3, First Object=1, Second Object=2} `\r\n\r\nFurther you can edit map.toString() output as follows\r\n```\r\nmap.toString().replace(&quot;{&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;);\r\n```","title":"How do I parse a map&lt;String,Object&gt;?","body":"<p>Refer the following example, you need to override the toString() Method</p>\n<pre><code>class TestObject {\n  int val;\n\n  public TestObject(int val){\n    this.val = val;\n  }\n\n  public String toString(){\n   return &quot;&quot; + this.val;\n  }\n\n}\n\nMap&lt;String, TestObject&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;First Object&quot;, new TestObject(1));\nmap.put(&quot;Second Object&quot;, new TestObject(2));\nmap.put(&quot;Third Object&quot;, new TestObject(3));\n\nSystem.out.println(map.toString());// on printing map object\n</code></pre>\n<p>output: <code>{Third Object=3, First Object=1, Second Object=2} </code></p>\n<p>Further you can edit map.toString() output as follows</p>\n<pre><code>map.toString().replace(&quot;{&quot;, &quot;&quot;).replace(&quot;}&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657526269,"creation_date":1657521173,"answer_id":72934533,"question_id":72934309,"body_markdown":"I just use Guava, probably toStringHelper can help with this, for example\r\n\r\n```\r\nSystem.out.println(MoreObjects.toStringHelper(&quot;className&quot;).add(&quot;name&quot;,&quot;hoyt&quot;).add(&quot;age&quot;,11).add(&quot;job&quot;,&quot;writeBugs&quot;)\r\n                .add(&quot;nullField&quot;, null)\r\n                .omitNullValues().toString());\r\n\r\n// this is the print\r\n// className{name=hoyt, age=11, job=writeBugs} \r\n\r\n```\r\n\r\nyou can iter through the map, and call add method, the return of the add method is the Guava object itself, so you can chain it.\r\n\r\n```\r\nMoreObjects.toStringHelper tsh = MoreObjects.toStringHelper(&quot;className&quot;)\r\nforeach(Entry e : map){\r\n    // add single quote if the value is a String,\r\n    Object value = e.getValue();\r\n    String valueString = value instanceof String?&quot;&#39;&quot; + value.toString() + &quot;&#39;&quot;: value.toString();\r\n    tsh.add(e.getKey().toString(), valueString);\r\n}\r\n// System.out.println(tsh.toString())\r\n```\r\n\r\n\r\nAfter UPDATE 1:\r\n\r\n1. You should check the PathVariable String id, in case injection risks. For example if the value of String id is &quot;12321 or 1 = 1&quot;, then after the update operation, the whole table would be updated.\r\n\r\n2. Probably you can use oRM frameworks, for example JPA MyBatis hibernate, those are helpful and a lot of people use it\r\n\r\n3. If you really just focusing on how to solve the problem only using java, of course you can do it with iterations and concat strings \r\n\r\n4. Better use a StringBuilder for performance","title":"How do I parse a map&lt;String,Object&gt;?","body":"<p>I just use Guava, probably toStringHelper can help with this, for example</p>\n<pre><code>System.out.println(MoreObjects.toStringHelper(&quot;className&quot;).add(&quot;name&quot;,&quot;hoyt&quot;).add(&quot;age&quot;,11).add(&quot;job&quot;,&quot;writeBugs&quot;)\n                .add(&quot;nullField&quot;, null)\n                .omitNullValues().toString());\n\n// this is the print\n// className{name=hoyt, age=11, job=writeBugs} \n\n</code></pre>\n<p>you can iter through the map, and call add method, the return of the add method is the Guava object itself, so you can chain it.</p>\n<pre><code>MoreObjects.toStringHelper tsh = MoreObjects.toStringHelper(&quot;className&quot;)\nforeach(Entry e : map){\n    // add single quote if the value is a String,\n    Object value = e.getValue();\n    String valueString = value instanceof String?&quot;'&quot; + value.toString() + &quot;'&quot;: value.toString();\n    tsh.add(e.getKey().toString(), valueString);\n}\n// System.out.println(tsh.toString())\n</code></pre>\n<p>After UPDATE 1:</p>\n<ol>\n<li><p>You should check the PathVariable String id, in case injection risks. For example if the value of String id is &quot;12321 or 1 = 1&quot;, then after the update operation, the whole table would be updated.</p>\n</li>\n<li><p>Probably you can use oRM frameworks, for example JPA MyBatis hibernate, those are helpful and a lot of people use it</p>\n</li>\n<li><p>If you really just focusing on how to solve the problem only using java, of course you can do it with iterations and concat strings</p>\n</li>\n<li><p>Better use a StringBuilder for performance</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657521627,"creation_date":1657521627,"answer_id":72934596,"question_id":72934309,"body_markdown":"Stream based solution:\r\n```\r\nfinal Map&lt;String, Object&gt; values = Map.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;, &quot;key3&quot;, &quot;value3&quot;);\r\nfinal var string = values.entrySet().stream().map(x -&gt; x.getKey() + &quot; = &quot; + x.getValue()).collect(Collectors.joining(&quot;, &quot;));\r\nSystem.out.println(string);  // key1 = value1, key2 = value2, key3 = value3\r\n```\r\n\r\nOr you can simply use `StringBuilder` and iterate your `Map`.","title":"How do I parse a map&lt;String,Object&gt;?","body":"<p>Stream based solution:</p>\n<pre><code>final Map&lt;String, Object&gt; values = Map.of(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;, &quot;key3&quot;, &quot;value3&quot;);\nfinal var string = values.entrySet().stream().map(x -&gt; x.getKey() + &quot; = &quot; + x.getValue()).collect(Collectors.joining(&quot;, &quot;));\nSystem.out.println(string);  // key1 = value1, key2 = value2, key3 = value3\n</code></pre>\n<p>Or you can simply use <code>StringBuilder</code> and iterate your <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":25592434,"reputation":652,"user_id":19368926,"display_name":"Sakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657524147,"creation_date":1657522282,"answer_id":72934708,"question_id":72934309,"body_markdown":"    import java.util.HashMap;\r\n\timport java.util.Map;\r\n\timport java.util.Map.Entry;\r\n\timport java.util.stream.Collectors;\r\n\t\r\n\tpublic class ParseMap {\r\n\t\r\n\t    public static String getMapAsCustomString(Map&lt;String, Object&gt; map) {\r\n\t        return map.entrySet()\r\n\t                .stream()\r\n\t                .map(ParseMap::formatEntry)\r\n\t                .collect(Collectors.joining(&quot;, &quot;));\r\n\t    }\r\n\t\r\n\t    public static String formatEntry(Entry&lt;String, Object&gt; entry) {\r\n\t        Object value = entry.getValue();\r\n\t        return entry.getKey() + &quot;=&quot; + (value instanceof String ? &quot;&#39;&quot; + value + &quot;&#39;&quot; : value.toString());\r\n\t    }\r\n\t\r\n\t}\r\n\t\r\n\tclass Test {\r\n\t\tpublic static void main(String[] args) {\r\n\t        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t        map.put(&quot;key1&quot;, 1);\r\n\t        map.put(&quot;key2&quot;, &quot;Two&quot;);\r\n\t        map.put(&quot;key3&quot;, 7L);\r\n\t\r\n\t        String string = ParseMap.getMapAsCustomString(map);\r\n\t        System.out.println(string);\r\n\t    }\r\n\t}","title":"How do I parse a map&lt;String,Object&gt;?","body":"<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class ParseMap {\n\n    public static String getMapAsCustomString(Map&lt;String, Object&gt; map) {\n        return map.entrySet()\n                .stream()\n                .map(ParseMap::formatEntry)\n                .collect(Collectors.joining(&quot;, &quot;));\n    }\n\n    public static String formatEntry(Entry&lt;String, Object&gt; entry) {\n        Object value = entry.getValue();\n        return entry.getKey() + &quot;=&quot; + (value instanceof String ? &quot;'&quot; + value + &quot;'&quot; : value.toString());\n    }\n\n}\n\nclass Test {\n    public static void main(String[] args) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, 1);\n        map.put(&quot;key2&quot;, &quot;Two&quot;);\n        map.put(&quot;key3&quot;, 7L);\n\n        String string = ParseMap.getMapAsCustomString(map);\n        System.out.println(string);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657527758,"creation_date":1657527758,"answer_id":72935608,"question_id":72934309,"body_markdown":"Solved it. Thanks for your support!\r\n```\r\n@Transactional\r\n    @PutMapping(value = &quot;/config/test/{tableName}/{schemaName}/{id}&quot;)\r\n    public Map&lt;String, Object&gt; updateValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\r\n            @PathVariable(&quot;schemaName&quot;) String schemaName, @PathVariable(&quot;id&quot;) String id) {\r\n        String valueString = &quot;&quot;;\r\n        String updateString = &quot;&quot;;\r\n\r\n        Set&lt;String&gt; keySet = values.keySet();\r\n\r\n        for (String key : keySet) {\r\n\r\n            if (updateString.length() &gt; 0) {\r\n                updateString += &quot;,&quot;;\r\n            }\r\n\r\n            Object valueObj = values.get(key);\r\n            if (valueObj instanceof String) {\r\n                valueString = &quot;&#39;&quot; + valueObj.toString() + &quot;&#39;&quot;;\r\n                ;\r\n            } else if (valueObj instanceof Integer) {\r\n                Integer valueInt = (Integer) valueObj;\r\n                valueString = valueInt.toString();\r\n            } else if (valueObj instanceof Double) {\r\n                Double valueDouble = (Double) valueObj;\r\n                valueString = valueDouble.toString();\r\n            }\r\n            String keyValuePair = key + &quot;=&quot; + valueString;\r\n            updateString += keyValuePair;\r\n        }\r\n\r\n        final String sql = &quot;UPDATE &quot; + schemaName + &quot;.&quot; + tableName + &quot; SET &quot; + updateString + &quot; WHERE ID =&quot; + id;\r\n        final Query query = em.createNativeQuery(sql);\r\n        query.executeUpdate();\r\n        return values;\r\n    }\r\n```","title":"How do I parse a map&lt;String,Object&gt;?","body":"<p>Solved it. Thanks for your support!</p>\n<pre><code>@Transactional\n    @PutMapping(value = &quot;/config/test/{tableName}/{schemaName}/{id}&quot;)\n    public Map&lt;String, Object&gt; updateValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\n            @PathVariable(&quot;schemaName&quot;) String schemaName, @PathVariable(&quot;id&quot;) String id) {\n        String valueString = &quot;&quot;;\n        String updateString = &quot;&quot;;\n\n        Set&lt;String&gt; keySet = values.keySet();\n\n        for (String key : keySet) {\n\n            if (updateString.length() &gt; 0) {\n                updateString += &quot;,&quot;;\n            }\n\n            Object valueObj = values.get(key);\n            if (valueObj instanceof String) {\n                valueString = &quot;'&quot; + valueObj.toString() + &quot;'&quot;;\n                ;\n            } else if (valueObj instanceof Integer) {\n                Integer valueInt = (Integer) valueObj;\n                valueString = valueInt.toString();\n            } else if (valueObj instanceof Double) {\n                Double valueDouble = (Double) valueObj;\n                valueString = valueDouble.toString();\n            }\n            String keyValuePair = key + &quot;=&quot; + valueString;\n            updateString += keyValuePair;\n        }\n\n        final String sql = &quot;UPDATE &quot; + schemaName + &quot;.&quot; + tableName + &quot; SET &quot; + updateString + &quot; WHERE ID =&quot; + id;\n        final Query query = em.createNativeQuery(sql);\n        query.executeUpdate();\n        return values;\n    }\n</code></pre>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1657532865,"creation_date":1657519463,"question_id":72934309,"body_markdown":"I have a &quot;Map&lt;String, Object&gt; values&quot;. \r\nHow can I parse this map so that I get a following string at the end?\r\n```\r\nString string= &quot;key1 = value1, key2 = value2, key3 = value3, ...&quot;\r\n```\r\nIt is important that as soon as a value contains a string then it should be provided with single quotes. \r\n\r\nThanks in advance\r\n\r\n**UPDATE 1**\r\n\r\nI need to expand my question. \r\n\r\nSo I need the string for a sql query. But the values which are strings have to be populated with SingleQuotes.\r\n\r\nI show you my PostRequest method:\r\n\r\n```\r\n @Transactional\r\n    @PostMapping(value = &quot;/config/test/{tableName}/{schemaName}&quot;)\r\n    public Map&lt;String, Object&gt; postValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\r\n            @PathVariable(&quot;schemaName&quot;) String schemaName) {\r\n        String keyString = &quot;&quot;;\r\n        String valueString = &quot;&quot;;\r\n\r\n        Set&lt;String&gt; keySet = values.keySet();\r\n\r\n        for (String key : keySet) {\r\n\r\n            // add comma after first key-value pair only.\r\n            if (keyString.length() &gt; 0) {\r\n                keyString += &quot;,&quot;;\r\n                valueString += &quot;,&quot;;\r\n            }\r\n\r\n            keyString += key;\r\n\r\n            Object valueObj = values.get(key);\r\n            if (valueObj instanceof String) {\r\n                valueString = valueString + &quot;&#39;&quot; + valueObj.toString() + &quot;&#39;&quot;;\r\n                ;\r\n            } else if (valueObj instanceof Integer) {\r\n                Integer valueInt = (Integer) valueObj;\r\n                valueString = valueString + valueInt;\r\n            } else if (valueObj instanceof Double) {\r\n                Double valueDouble = (Double) valueObj;\r\n                valueString = valueString + valueDouble;\r\n            }\r\n        }\r\n        final String sql = &quot;INSERT INTO &quot; + schemaName + &quot;.&quot; + tableName + &quot;(&quot; + keyString + &quot;) VALUES(&quot; + valueString + &quot;)&quot;;\r\n        final Query query = em.createNativeQuery(sql);\r\n        query.executeUpdate();\r\n        return values;\r\n    }\r\n```\r\n\r\nHere I get 2 strings. One for the keys and one for the values.\r\n\r\nBut now I want to get only one string to change data in the database. \r\n\r\nHere is my first try.\r\n\r\n```\r\n@Transactional\r\n    @PutMapping(value = &quot;/config/test/{tableName}/{schemaName}/{id}&quot;)\r\n    public Map&lt;String, Object&gt; updateValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\r\n            @PathVariable(&quot;schemaName&quot;) String schemaName, @PathVariable(&quot;id&quot;) String id) {\r\n        String keyString = &quot;&quot;;\r\n        String valueString = &quot;&quot;;\r\n        String updateString = &quot;&quot;;\r\n\r\n        Set&lt;String&gt; keySet = values.keySet();\r\n\r\n        for (String key : keySet) {\r\n\r\n            if (keyString.length() &gt; 0) {\r\n                keyString += &quot;=&quot;;\r\n                updateString += &quot;,&quot;;\r\n            }\r\n\r\n            updateString += key;\r\n\r\n            Object valueObj = values.get(key);\r\n            if (valueObj instanceof String) {\r\n                valueString = valueString + &quot;&#39;&quot; + valueObj.toString() + &quot;&#39;&quot;;\r\n                ;\r\n            } else if (valueObj instanceof Integer) {\r\n                Integer valueInt = (Integer) valueObj;\r\n                valueString = valueString + valueInt;\r\n            } else if (valueObj instanceof Double) {\r\n                Double valueDouble = (Double) valueObj;\r\n                valueString = valueString + valueDouble;\r\n            }\r\n        }\r\n\r\n        final String sql = &quot;UPDATE &quot; + schemaName + &quot;.&quot; + tableName + &quot; SET &quot; + updateString + &quot; WHERE ID =&quot; + id;\r\n        final Query query = em.createNativeQuery(sql);\r\n        query.executeUpdate();\r\n        return values;\r\n    }\r\n```\r\nP.S. Yes I am using Spring Boot rather than Java, but I am trying to solve this without getting more dependencies.","title":"How do I parse a map&lt;String,Object&gt;?","body":"<p>I have a &quot;Map&lt;String, Object&gt; values&quot;.\nHow can I parse this map so that I get a following string at the end?</p>\n<pre><code>String string= &quot;key1 = value1, key2 = value2, key3 = value3, ...&quot;\n</code></pre>\n<p>It is important that as soon as a value contains a string then it should be provided with single quotes.</p>\n<p>Thanks in advance</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I need to expand my question.</p>\n<p>So I need the string for a sql query. But the values which are strings have to be populated with SingleQuotes.</p>\n<p>I show you my PostRequest method:</p>\n<pre><code> @Transactional\n    @PostMapping(value = &quot;/config/test/{tableName}/{schemaName}&quot;)\n    public Map&lt;String, Object&gt; postValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\n            @PathVariable(&quot;schemaName&quot;) String schemaName) {\n        String keyString = &quot;&quot;;\n        String valueString = &quot;&quot;;\n\n        Set&lt;String&gt; keySet = values.keySet();\n\n        for (String key : keySet) {\n\n            // add comma after first key-value pair only.\n            if (keyString.length() &gt; 0) {\n                keyString += &quot;,&quot;;\n                valueString += &quot;,&quot;;\n            }\n\n            keyString += key;\n\n            Object valueObj = values.get(key);\n            if (valueObj instanceof String) {\n                valueString = valueString + &quot;'&quot; + valueObj.toString() + &quot;'&quot;;\n                ;\n            } else if (valueObj instanceof Integer) {\n                Integer valueInt = (Integer) valueObj;\n                valueString = valueString + valueInt;\n            } else if (valueObj instanceof Double) {\n                Double valueDouble = (Double) valueObj;\n                valueString = valueString + valueDouble;\n            }\n        }\n        final String sql = &quot;INSERT INTO &quot; + schemaName + &quot;.&quot; + tableName + &quot;(&quot; + keyString + &quot;) VALUES(&quot; + valueString + &quot;)&quot;;\n        final Query query = em.createNativeQuery(sql);\n        query.executeUpdate();\n        return values;\n    }\n</code></pre>\n<p>Here I get 2 strings. One for the keys and one for the values.</p>\n<p>But now I want to get only one string to change data in the database.</p>\n<p>Here is my first try.</p>\n<pre><code>@Transactional\n    @PutMapping(value = &quot;/config/test/{tableName}/{schemaName}/{id}&quot;)\n    public Map&lt;String, Object&gt; updateValue(@RequestBody Map&lt;String, Object&gt; values, @PathVariable(&quot;tableName&quot;) String tableName,\n            @PathVariable(&quot;schemaName&quot;) String schemaName, @PathVariable(&quot;id&quot;) String id) {\n        String keyString = &quot;&quot;;\n        String valueString = &quot;&quot;;\n        String updateString = &quot;&quot;;\n\n        Set&lt;String&gt; keySet = values.keySet();\n\n        for (String key : keySet) {\n\n            if (keyString.length() &gt; 0) {\n                keyString += &quot;=&quot;;\n                updateString += &quot;,&quot;;\n            }\n\n            updateString += key;\n\n            Object valueObj = values.get(key);\n            if (valueObj instanceof String) {\n                valueString = valueString + &quot;'&quot; + valueObj.toString() + &quot;'&quot;;\n                ;\n            } else if (valueObj instanceof Integer) {\n                Integer valueInt = (Integer) valueObj;\n                valueString = valueString + valueInt;\n            } else if (valueObj instanceof Double) {\n                Double valueDouble = (Double) valueObj;\n                valueString = valueString + valueDouble;\n            }\n        }\n\n        final String sql = &quot;UPDATE &quot; + schemaName + &quot;.&quot; + tableName + &quot; SET &quot; + updateString + &quot; WHERE ID =&quot; + id;\n        final Query query = em.createNativeQuery(sql);\n        query.executeUpdate();\n        return values;\n    }\n</code></pre>\n<p>P.S. Yes I am using Spring Boot rather than Java, but I am trying to solve this without getting more dependencies.</p>\n"},{"tags":["java","selenium-webdriver","cucumber-java","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1657532825,"post_id":72936407,"comment_id":128824066,"body_markdown":"Does this answer your question? [Maven Tests Does Not Run Cucumber Scenarios with Spring Boot 2.2 and JUnit 5](https://stackoverflow.com/questions/60982006/maven-tests-does-not-run-cucumber-scenarios-with-spring-boot-2-2-and-junit-5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60982006/maven-tests-does-not-run-cucumber-scenarios-with-spring-boot-2-2-and-junit-5\">Maven Tests Does Not Run Cucumber Scenarios with Spring Boot 2.2 and JUnit 5</a>"},{"owner":{"account_id":24848377,"reputation":1,"user_id":18725631,"display_name":"Rudra "},"score":0,"creation_date":1657555805,"post_id":72936407,"comment_id":128833197,"body_markdown":"Yes, its working now, test runner file is executing. \nThank You M.P.Korstanje, was struggling from this issue from few days.","body":"Yes, its working now, test runner file is executing.  Thank You M.P.Korstanje, was struggling from this issue from few days."}],"owner":{"account_id":24848377,"reputation":1,"user_id":18725631,"display_name":"Rudra "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657532063,"creation_date":1657532037,"question_id":72936407,"body_markdown":"    I am using sprintboot framework, I am stuck with test runner file, runner file is not executing the tests.    \r\n    POM.xml -   \r\n    &lt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n    &lt; project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;   \r\n    &lt; modelVersion&gt;4.0.0&lt; /modelVersion&gt;         \r\n    \t&lt; parent &gt;         \r\n    \t\t&lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;            \r\n    \t\t&lt; artifactId&gt;spring-boot-starter-parent&lt; /artifactId&gt;          \r\n    \t\t&lt; version&gt;2.5.6&lt; /version&gt;             \r\n    \t\t&lt; relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt; /parent&gt;              \r\n    \t&lt; groupId&gt;com.xx.xx&lt; /groupId&gt;             \r\n    \t&lt; artifactId&gt;srt3.automation&lt; /artifactId&gt;         \r\n    \t&lt; version&gt;0.0.1-SNAPSHOT&lt; /version&gt;           \r\n    \t&lt; name&gt;srt3.automation&lt; /name&gt;           \r\n    \t&lt; description&gt;SRT 3.0 Test Automation&lt; /description&gt;             \r\n    \t&lt; properties&gt;                  \r\n    \t\t&lt; java.version&gt;1.8&lt; /java.version&gt;                    \r\n    \t\t&lt; slf4j-version&gt;1.7.26&lt; /slf4j-version&gt;                    \r\n            &lt; lombok.version&gt;1.18.2&lt; /lombok.version&gt;                       \r\n            &lt; logback-version&gt;1.2.3&lt; /logback-version&gt;                      \r\n            &lt; assertj.version&gt;3.11.1&lt; /assertj.version&gt;                  \r\n            &lt; jackson.version&gt;2.9.9.3&lt; /jackson.version&gt;                    \r\n            &lt; cucumber.version&gt;4.7.0&lt; /cucumber.version&gt;                 \r\n            &lt; commons.io.version&gt;2.6&lt; /commons.io.version&gt;                   \r\n            &lt; selenium.version&gt;3.141.59&lt; /selenium.version&gt;                   \r\n            &lt; spring.version&gt;5.1.4.RELEASE&lt; /spring.version&gt;                \r\n            &lt; rest.assured.version&gt;4.0.0&lt; /rest.assured.version&gt;                       \r\n    \t&lt; /properties&gt;                       \r\n    \t&lt; dependencies&gt;                      \r\n    \t\t&lt; dependency&gt;                      \r\n    \t\t\t&lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                        \r\n    \t\t\t&lt; artifactId&gt;spring-boot-starter&lt; /artifactId&gt;                         \r\n    \t\t&lt; /dependency&gt;                \r\n    \r\n    \t\t&lt; dependency&gt;                           \r\n    \t\t\t&lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                          \r\n    \t\t\t&lt; artifactId&gt;spring-boot-starter-test&lt; /artifactId&gt;                       \r\n    \t\t\t&lt; scope&gt;test&lt; /scope&gt;                             \r\n    \t\t&lt; /dependency&gt;              \r\n    \t\t\r\n    \t\t&lt; !-- dependency injection --&gt;\r\n            &lt; dependency&gt;                               \r\n                &lt; groupId&gt;org.springframework&lt; /groupId&gt;                          \r\n                &lt; artifactId&gt;spring-context&lt; /artifactId&gt;                    \r\n                &lt; /dependency&gt;                 \r\n            \r\n    \t\t&lt; !-- cucumber --&gt;\r\n            &lt; dependency&gt;                   \r\n                &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                          \r\n                &lt; artifactId&gt;cucumber-junit&lt; /artifactId&gt;               \r\n                &lt; version&gt;${cucumber.version}&lt; /version&gt;                     \r\n            &lt; /dependency&gt;                     \r\n    \r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                          \r\n                &lt; artifactId&gt;cucumber-java&lt; /artifactId&gt;                   \r\n                &lt; version&gt;${cucumber.version}&lt; /version&gt;                           \r\n            &lt; /dependency&gt;                  \r\n    \r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                     \r\n                &lt; artifactId&gt;cucumber-spring&lt; /artifactId&gt;                  \r\n                &lt; version&gt;${cucumber.version}&lt; /version&gt;                       \r\n            &lt;/dependency&gt;                     \r\n    \r\n            &lt; !--driver--&gt;\r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;org.seleniumhq.selenium&lt; /groupId&gt;                      \r\n                &lt; artifactId&gt;selenium-java&lt; /artifactId&gt;                     \r\n                &lt; version&gt;${selenium.version}&lt; /version&gt;                           \r\n            &lt; /dependency&gt;                         \r\n            \r\n                    &lt; !-- Used mainly for FileUtils --&gt;\r\n            &lt; dependency&gt;                              \r\n                &lt; groupId&gt;commons-io&lt; /groupId&gt;                            \r\n                &lt; artifactId&gt;commons-io&lt; /artifactId&gt;                           \r\n                &lt; version&gt;${commons.io.version}&lt; /version&gt;                           \r\n            &lt;/dependency&gt;                           \r\n    \r\n            &lt; !-- assertions --&gt;\r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;org.assertj&lt; /groupId&gt;                        \r\n                &lt; artifactId&gt;assertj-core&lt; /artifactId&gt;                   \r\n                &lt; version&gt;${assertj.version}&lt; /version&gt;                         \r\n            &lt; /dependency&gt;                        \r\n    \r\n            &lt; !-- RestAssured --&gt;\r\n            &lt; dependency&gt;                          \r\n                &lt; groupId&gt;io.rest-assured&lt; /groupId&gt;                            \r\n                &lt; artifactId&gt;rest-assured&lt; /artifactId&gt;                            \r\n                &lt; version&gt;${rest.assured.version}&lt; /version&gt;                           \r\n            &lt; /dependency&gt;                              \r\n    \r\n            &lt; dependency&gt;                                 \r\n                &lt; groupId&gt;com.fasterxml.jackson.core&lt; /groupId&gt;                          \r\n                &lt; artifactId&gt;jackson-databind&lt; /artifactId&gt;                          \r\n                &lt; version&gt;${jackson.version}&lt; /version&gt;                         \r\n            &lt; /dependency&gt;                         \r\n            \r\n    \t\t&lt; !-- logging --&gt;\r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;org.slf4j&lt; /groupId&gt;                               \r\n                &lt; artifactId&gt;slf4j-api&lt; /artifactId&gt;                  \r\n                &lt; version&gt;${slf4j-version}&lt; /version&gt;                          \r\n            &lt; /dependency&gt;                           \r\n    \r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;ch.qos.logback&lt; /groupId&gt;                              \r\n                &lt; artifactId&gt;logback-classic&lt; /artifactId&gt;                          \r\n                &lt; version&gt;${logback-version}&lt; /version&gt;                                 \r\n            &lt; /dependency&gt;                               \r\n    \r\n            &lt; !-- lombok --&gt;\r\n            &lt; dependency&gt;\r\n                &lt; groupId&gt;org.projectlombok&lt; /groupId&gt;                                    \r\n                &lt; artifactId&gt;lombok&lt; /artifactId&gt;                      \r\n                &lt; version&gt;${lombok.version}&lt; /version&gt;                     \r\n            &lt; /dependency&gt;                         \r\n            \r\n    \t&lt; /dependencies&gt;                         \r\n    \r\n    \t&lt; build&gt;              \r\n    \t\t&lt; plugins&gt;                     \r\n    \t\t\t&lt; plugin&gt;                         \r\n    \t\t\t\t&lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                         \r\n    \t\t\t\t&lt; artifactId&gt;spring-boot-maven-plugin&lt; /artifactId&gt;                       \r\n    \t\t\t&lt; /plugin&gt;                            \r\n    \t\t&lt; /plugins&gt;                        \r\n    \t&lt; /build&gt;                         \r\n    \r\n    &lt; /project&gt;                           \r\n    \r\n   /*************************** Below is my project structure *********************/                                    \r\n        My project structure, in stepdefs I have step definition file and hooks file, and ruuners package has test runner file -                                                                  \r\n        src/main/java - com.xx.xx.xx.automation.stepdefs                        \r\n                      - com.xx.xx.xx.automation.runners              \r\n        src/main/resources - features \r\n        \r\n       /****************** Below is my test runner file, When I run, its not executing, not even showing any errors. ****************/\r\n        \r\n        import org.junit.runner.RunWith;       \r\n        import io.cucumber.junit.Cucumber;         \r\n        import io.cucumber.junit.CucumberOptions;\r\n        \r\n        @RunWith(Cucumber.class)        \r\n        @CucumberOptions(          \r\n                features = {&quot;classpath:features&quot;},    \r\n                glue = {&quot;com.xx.xx.xx.automation.stepdefs&quot;},        \r\n                tags = {&quot;@SanityTest&quot;},        \r\n                plugin = {&quot;pretty&quot;,&quot;html:target/cucumber.html&quot;,&quot;junit:target/cucumber.xml&quot;},    \r\n                monochrome = true,     \r\n                dryRun = false, strict=true)\r\n        \r\n        public class Srt3AppRunner {\r\n        \r\n        }\r\n        \r\n        \r\n        /********* below is my Feature file, I have added tags, but still runner file doesn&#39;t run - ***************************************/\r\n        @SanityTest\r\n        Feature: To check the functionality for adding a new Key-list values and to check if able to add same key-list values, verifying the title and add new key for range of values, also to verify the buttons on Add New Key popup\r\n        \r\n        Background: User clicks on Add New Key button on profile dashboard page\r\n        Given user logs in through &quot;Guardian page&quot;\r\n        When user is on profile dashboard page &quot;Global Profile Module&quot;\r\n        Then click on &quot;Add New Key&quot; button\r\n        \r\n        @SanityTest\r\n        Scenario: Click on Add New Key popup to see Add new key, Key description, Checkbox, Add value to key fields and Value type dropdown, Save, Cancel buttons\r\n        And can see &quot;Add new key&quot;, &quot;Key description&quot;, &quot;Add value to key&quot; fields, &quot;Select a value type&quot; dropdown, and Checkbox &quot;This key has no default value&quot;\r\n        And can see &quot;Add Value&quot; plus button, &quot;Save&quot;, &quot;Cancel&quot; buttons\r\n        \r\n        Please help me with this, Thank You","title":"I am using springboot framework, My test runner file is not running, but not showing any errors","body":"<pre><code>I am using sprintboot framework, I am stuck with test runner file, runner file is not executing the tests.    \nPOM.xml -   \n&lt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt; project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;   \n&lt; modelVersion&gt;4.0.0&lt; /modelVersion&gt;         \n    &lt; parent &gt;         \n        &lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;            \n        &lt; artifactId&gt;spring-boot-starter-parent&lt; /artifactId&gt;          \n        &lt; version&gt;2.5.6&lt; /version&gt;             \n        &lt; relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt; /parent&gt;              \n    &lt; groupId&gt;com.xx.xx&lt; /groupId&gt;             \n    &lt; artifactId&gt;srt3.automation&lt; /artifactId&gt;         \n    &lt; version&gt;0.0.1-SNAPSHOT&lt; /version&gt;           \n    &lt; name&gt;srt3.automation&lt; /name&gt;           \n    &lt; description&gt;SRT 3.0 Test Automation&lt; /description&gt;             \n    &lt; properties&gt;                  \n        &lt; java.version&gt;1.8&lt; /java.version&gt;                    \n        &lt; slf4j-version&gt;1.7.26&lt; /slf4j-version&gt;                    \n        &lt; lombok.version&gt;1.18.2&lt; /lombok.version&gt;                       \n        &lt; logback-version&gt;1.2.3&lt; /logback-version&gt;                      \n        &lt; assertj.version&gt;3.11.1&lt; /assertj.version&gt;                  \n        &lt; jackson.version&gt;2.9.9.3&lt; /jackson.version&gt;                    \n        &lt; cucumber.version&gt;4.7.0&lt; /cucumber.version&gt;                 \n        &lt; commons.io.version&gt;2.6&lt; /commons.io.version&gt;                   \n        &lt; selenium.version&gt;3.141.59&lt; /selenium.version&gt;                   \n        &lt; spring.version&gt;5.1.4.RELEASE&lt; /spring.version&gt;                \n        &lt; rest.assured.version&gt;4.0.0&lt; /rest.assured.version&gt;                       \n    &lt; /properties&gt;                       \n    &lt; dependencies&gt;                      \n        &lt; dependency&gt;                      \n            &lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                        \n            &lt; artifactId&gt;spring-boot-starter&lt; /artifactId&gt;                         \n        &lt; /dependency&gt;                \n\n        &lt; dependency&gt;                           \n            &lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                          \n            &lt; artifactId&gt;spring-boot-starter-test&lt; /artifactId&gt;                       \n            &lt; scope&gt;test&lt; /scope&gt;                             \n        &lt; /dependency&gt;              \n        \n        &lt; !-- dependency injection --&gt;\n        &lt; dependency&gt;                               \n            &lt; groupId&gt;org.springframework&lt; /groupId&gt;                          \n            &lt; artifactId&gt;spring-context&lt; /artifactId&gt;                    \n            &lt; /dependency&gt;                 \n        \n        &lt; !-- cucumber --&gt;\n        &lt; dependency&gt;                   \n            &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                          \n            &lt; artifactId&gt;cucumber-junit&lt; /artifactId&gt;               \n            &lt; version&gt;${cucumber.version}&lt; /version&gt;                     \n        &lt; /dependency&gt;                     \n\n        &lt; dependency&gt;\n            &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                          \n            &lt; artifactId&gt;cucumber-java&lt; /artifactId&gt;                   \n            &lt; version&gt;${cucumber.version}&lt; /version&gt;                           \n        &lt; /dependency&gt;                  \n\n        &lt; dependency&gt;\n            &lt; groupId&gt;io.cucumber&lt; /groupId&gt;                     \n            &lt; artifactId&gt;cucumber-spring&lt; /artifactId&gt;                  \n            &lt; version&gt;${cucumber.version}&lt; /version&gt;                       \n        &lt;/dependency&gt;                     \n\n        &lt; !--driver--&gt;\n        &lt; dependency&gt;\n            &lt; groupId&gt;org.seleniumhq.selenium&lt; /groupId&gt;                      \n            &lt; artifactId&gt;selenium-java&lt; /artifactId&gt;                     \n            &lt; version&gt;${selenium.version}&lt; /version&gt;                           \n        &lt; /dependency&gt;                         \n        \n                &lt; !-- Used mainly for FileUtils --&gt;\n        &lt; dependency&gt;                              \n            &lt; groupId&gt;commons-io&lt; /groupId&gt;                            \n            &lt; artifactId&gt;commons-io&lt; /artifactId&gt;                           \n            &lt; version&gt;${commons.io.version}&lt; /version&gt;                           \n        &lt;/dependency&gt;                           \n\n        &lt; !-- assertions --&gt;\n        &lt; dependency&gt;\n            &lt; groupId&gt;org.assertj&lt; /groupId&gt;                        \n            &lt; artifactId&gt;assertj-core&lt; /artifactId&gt;                   \n            &lt; version&gt;${assertj.version}&lt; /version&gt;                         \n        &lt; /dependency&gt;                        \n\n        &lt; !-- RestAssured --&gt;\n        &lt; dependency&gt;                          \n            &lt; groupId&gt;io.rest-assured&lt; /groupId&gt;                            \n            &lt; artifactId&gt;rest-assured&lt; /artifactId&gt;                            \n            &lt; version&gt;${rest.assured.version}&lt; /version&gt;                           \n        &lt; /dependency&gt;                              \n\n        &lt; dependency&gt;                                 \n            &lt; groupId&gt;com.fasterxml.jackson.core&lt; /groupId&gt;                          \n            &lt; artifactId&gt;jackson-databind&lt; /artifactId&gt;                          \n            &lt; version&gt;${jackson.version}&lt; /version&gt;                         \n        &lt; /dependency&gt;                         \n        \n        &lt; !-- logging --&gt;\n        &lt; dependency&gt;\n            &lt; groupId&gt;org.slf4j&lt; /groupId&gt;                               \n            &lt; artifactId&gt;slf4j-api&lt; /artifactId&gt;                  \n            &lt; version&gt;${slf4j-version}&lt; /version&gt;                          \n        &lt; /dependency&gt;                           \n\n        &lt; dependency&gt;\n            &lt; groupId&gt;ch.qos.logback&lt; /groupId&gt;                              \n            &lt; artifactId&gt;logback-classic&lt; /artifactId&gt;                          \n            &lt; version&gt;${logback-version}&lt; /version&gt;                                 \n        &lt; /dependency&gt;                               \n\n        &lt; !-- lombok --&gt;\n        &lt; dependency&gt;\n            &lt; groupId&gt;org.projectlombok&lt; /groupId&gt;                                    \n            &lt; artifactId&gt;lombok&lt; /artifactId&gt;                      \n            &lt; version&gt;${lombok.version}&lt; /version&gt;                     \n        &lt; /dependency&gt;                         \n        \n    &lt; /dependencies&gt;                         \n\n    &lt; build&gt;              \n        &lt; plugins&gt;                     \n            &lt; plugin&gt;                         \n                &lt; groupId&gt;org.springframework.boot&lt; /groupId&gt;                         \n                &lt; artifactId&gt;spring-boot-maven-plugin&lt; /artifactId&gt;                       \n            &lt; /plugin&gt;                            \n        &lt; /plugins&gt;                        \n    &lt; /build&gt;                         \n\n&lt; /project&gt;                           \n</code></pre>\n<p>/*************************** Below is my project structure *********************/<br />\nMy project structure, in stepdefs I have step definition file and hooks file, and ruuners package has test runner file -<br />\nsrc/main/java - com.xx.xx.xx.automation.stepdefs<br />\n- com.xx.xx.xx.automation.runners<br />\nsrc/main/resources - features</p>\n<pre><code>   /****************** Below is my test runner file, When I run, its not executing, not even showing any errors. ****************/\n    \n    import org.junit.runner.RunWith;       \n    import io.cucumber.junit.Cucumber;         \n    import io.cucumber.junit.CucumberOptions;\n    \n    @RunWith(Cucumber.class)        \n    @CucumberOptions(          \n            features = {&quot;classpath:features&quot;},    \n            glue = {&quot;com.xx.xx.xx.automation.stepdefs&quot;},        \n            tags = {&quot;@SanityTest&quot;},        \n            plugin = {&quot;pretty&quot;,&quot;html:target/cucumber.html&quot;,&quot;junit:target/cucumber.xml&quot;},    \n            monochrome = true,     \n            dryRun = false, strict=true)\n    \n    public class Srt3AppRunner {\n    \n    }\n    \n    \n    /********* below is my Feature file, I have added tags, but still runner file doesn't run - ***************************************/\n    @SanityTest\n    Feature: To check the functionality for adding a new Key-list values and to check if able to add same key-list values, verifying the title and add new key for range of values, also to verify the buttons on Add New Key popup\n    \n    Background: User clicks on Add New Key button on profile dashboard page\n    Given user logs in through &quot;Guardian page&quot;\n    When user is on profile dashboard page &quot;Global Profile Module&quot;\n    Then click on &quot;Add New Key&quot; button\n    \n    @SanityTest\n    Scenario: Click on Add New Key popup to see Add new key, Key description, Checkbox, Add value to key fields and Value type dropdown, Save, Cancel buttons\n    And can see &quot;Add new key&quot;, &quot;Key description&quot;, &quot;Add value to key&quot; fields, &quot;Select a value type&quot; dropdown, and Checkbox &quot;This key has no default value&quot;\n    And can see &quot;Add Value&quot; plus button, &quot;Save&quot;, &quot;Cancel&quot; buttons\n    \n    Please help me with this, Thank You\n</code></pre>\n"},{"tags":["java","svg","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657532048,"creation_date":1657532048,"answer_id":72936411,"question_id":72874715,"body_markdown":"You could use `WebComponent` + `AttributeModifier` instead of `Image`.\r\nThis way you could produce any kind of HTML!","title":"Using svg sprites in wicket with use tag","body":"<p>You could use <code>WebComponent</code> + <code>AttributeModifier</code> instead of <code>Image</code>.\nThis way you could produce any kind of HTML!</p>\n"}],"owner":{"account_id":671999,"reputation":4899,"user_id":505748,"accept_rate":78,"display_name":"Uwe Hafner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657532048,"creation_date":1657050110,"question_id":72874715,"body_markdown":"I am trying to use an svg sprite in wicket.  \r\nUsually it would look like this in HTML:\r\n\r\n    &lt;svg&gt;\r\n       &lt;use xlink:href=&quot;images/mysprite.svg#someSprite&quot; /&gt;\r\n    &lt;/svg&gt;\r\n\r\nIn wicket I would expect to use something like:\r\n\r\n    &lt;use wicked:id=&quot;myResSprite&quot;/&gt;\r\n\r\nor at least:\r\n\r\n    &lt;img wicked:id=&quot;myResSprite&quot;/&gt;\r\nbecause the first example gives an error that my resource can only be used with an IMG tag. But the img tag is also throwing an error because it does not like the # in the link  \r\nIn my extension class of a WebPage I add an Image resource:\r\n\r\n    @Override\r\n    protected void onInitialize() {\r\n        super.onInitialize();\r\n        add(new Image(&quot;myResSprite&quot;, new ContextRelativeResource(&quot;images/mysprite.svg#someSprite&quot;)));\r\n    }\r\n\r\nI tried it in various ways with or without the #-Sign but I could not get it to work.  \r\nAll searches on google didn&#39;t find anything. All examples were svg but without sprites.  \r\n\r\nDoes anyone have an example on how this could work?  \r\n\r\nSidenote: I also tried using a `PackageResourceReference` but then I got an error Access Denied using the #-Sign link in it.","title":"Using svg sprites in wicket with use tag","body":"<p>I am trying to use an svg sprite in wicket.<br />\nUsually it would look like this in HTML:</p>\n<pre><code>&lt;svg&gt;\n   &lt;use xlink:href=&quot;images/mysprite.svg#someSprite&quot; /&gt;\n&lt;/svg&gt;\n</code></pre>\n<p>In wicket I would expect to use something like:</p>\n<pre><code>&lt;use wicked:id=&quot;myResSprite&quot;/&gt;\n</code></pre>\n<p>or at least:</p>\n<pre><code>&lt;img wicked:id=&quot;myResSprite&quot;/&gt;\n</code></pre>\n<p>because the first example gives an error that my resource can only be used with an IMG tag. But the img tag is also throwing an error because it does not like the # in the link<br />\nIn my extension class of a WebPage I add an Image resource:</p>\n<pre><code>@Override\nprotected void onInitialize() {\n    super.onInitialize();\n    add(new Image(&quot;myResSprite&quot;, new ContextRelativeResource(&quot;images/mysprite.svg#someSprite&quot;)));\n}\n</code></pre>\n<p>I tried it in various ways with or without the #-Sign but I could not get it to work.<br />\nAll searches on google didn't find anything. All examples were svg but without sprites.</p>\n<p>Does anyone have an example on how this could work?</p>\n<p>Sidenote: I also tried using a <code>PackageResourceReference</code> but then I got an error Access Denied using the #-Sign link in it.</p>\n"},{"tags":["java","excel","apache-poi","password-protection","xssf"],"comments":[{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":0,"creation_date":1518622734,"post_id":48787000,"comment_id":84583777,"body_markdown":"I don&#39;t think Excel allows this. If Excel doesn&#39;t allow a feature, you won&#39;t be able to do it with POI. If I misunderstood, and you can get the behavior you want with Excel, please tell us the steps you take in Excel to get the behavior you are looking for.","body":"I don&#39;t think Excel allows this. If Excel doesn&#39;t allow a feature, you won&#39;t be able to do it with POI. If I misunderstood, and you can get the behavior you want with Excel, please tell us the steps you take in Excel to get the behavior you are looking for."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657531919,"creation_date":1518626608,"answer_id":48792180,"question_id":48787000,"body_markdown":"To be able resizing the column size while sheet is protected, you will need setting [XSSFSheet.lockFormatColumns](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFSheet.html#lockFormatColumns-boolean-) to `false`.\r\n\r\nComplete example:\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    public class CreateExcelXSSFProtectedSheet {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Workbook workbook = new XSSFWorkbook();\r\n    \r\n      CreationHelper createHelper = workbook.getCreationHelper();\r\n    \r\n      CellStyle unlockedNumericStyle = workbook.createCellStyle();\r\n      unlockedNumericStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;$#,##0.00_);[Red]($#,##0.00)&quot;));\r\n      unlockedNumericStyle.setLocked(false);\r\n    \r\n      CellStyle dateStyle = workbook.createCellStyle();\r\n      dateStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd/mm/yyyy&quot;));\r\n    \r\n      Sheet sheet = workbook.createSheet();\r\n    \r\n      Row row = sheet.createRow(0);\r\n      Cell cell = row.createCell(1);\r\n      cell.setCellValue(&quot;some data&quot;);\r\n    \r\n      row = sheet.createRow(1);\r\n      cell = row.createCell(1);\r\n      cell.setCellValue(-123456789.0123456);\r\n      cell.setCellStyle(unlockedNumericStyle);\r\n    \r\n      row = sheet.createRow(2);\r\n      cell = row.createCell(1);\r\n      cell.setCellValue(new java.util.Date());\r\n      cell.setCellStyle(dateStyle);\r\n    \r\n      ((XSSFSheet)sheet).lockFormatColumns(false);\r\n    \r\n      sheet.protectSheet(&quot;passwordExcel&quot;); \r\n     \r\n      sheet.autoSizeColumn(1);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateExcelXSSFProtectedSheet.xlsx&quot;);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    \r\n    }\r\n\r\n","title":"Apache POI lock the cell but allow column resize","body":"<p>To be able resizing the column size while sheet is protected, you will need setting <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFSheet.html#lockFormatColumns-boolean-\" rel=\"nofollow noreferrer\">XSSFSheet.lockFormatColumns</a> to <code>false</code>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\n\npublic class CreateExcelXSSFProtectedSheet {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook workbook = new XSSFWorkbook();\n\n  CreationHelper createHelper = workbook.getCreationHelper();\n\n  CellStyle unlockedNumericStyle = workbook.createCellStyle();\n  unlockedNumericStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;$#,##0.00_);[Red]($#,##0.00)&quot;));\n  unlockedNumericStyle.setLocked(false);\n\n  CellStyle dateStyle = workbook.createCellStyle();\n  dateStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd/mm/yyyy&quot;));\n\n  Sheet sheet = workbook.createSheet();\n\n  Row row = sheet.createRow(0);\n  Cell cell = row.createCell(1);\n  cell.setCellValue(&quot;some data&quot;);\n\n  row = sheet.createRow(1);\n  cell = row.createCell(1);\n  cell.setCellValue(-123456789.0123456);\n  cell.setCellStyle(unlockedNumericStyle);\n\n  row = sheet.createRow(2);\n  cell = row.createCell(1);\n  cell.setCellValue(new java.util.Date());\n  cell.setCellStyle(dateStyle);\n\n  ((XSSFSheet)sheet).lockFormatColumns(false);\n\n  sheet.protectSheet(&quot;passwordExcel&quot;); \n \n  sheet.autoSizeColumn(1);\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateExcelXSSFProtectedSheet.xlsx&quot;);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4978285,"reputation":3258,"user_id":4004025,"accept_rate":52,"display_name":"luca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48792180,"answer_count":1,"score":0,"last_activity_date":1657531919,"creation_date":1518610484,"question_id":48787000,"body_markdown":"I create an Excel file through `Apache POI XSSF` and I lock the sheet with a password so user can&#39;t change the value of the first two row and first five columns (I lock the sheet and allowed editing of other cells). All work fine, the only problem is that the user can&#39;t resize the column so he can neither change nor resize the columns to read all the cells value.\r\nIs it possible to allow column resize even if the sheet is protected?\r\nThi is my configuration\r\n\r\n    workbook = new XSSFWorkbook();\r\n    sheet = workbook.createSheet(&quot;Sheet1&quot;);\r\n    sheet.protectSheet(&quot;passwordExcel&quot;); \r\n    unlockedNumericStyle = workbook.createCellStyle(); \r\n    unlockedNumericStyle.setLocked(false);\r\n    // Format cell for date\r\n    dateStyle = workbook.createCellStyle();\r\n    CreationHelper createHelper = workbook.getCreationHelper();\r\n    dateStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd/mm/yyyy&quot;));\r\n    sheet.autoSizeColumn(1);\r\n\r\nI read about `lockFormatCell()` but I don&#39;t understand if it can help me. Thanks","title":"Apache POI lock the cell but allow column resize","body":"<p>I create an Excel file through <code>Apache POI XSSF</code> and I lock the sheet with a password so user can't change the value of the first two row and first five columns (I lock the sheet and allowed editing of other cells). All work fine, the only problem is that the user can't resize the column so he can neither change nor resize the columns to read all the cells value.\nIs it possible to allow column resize even if the sheet is protected?\nThi is my configuration</p>\n\n<pre><code>workbook = new XSSFWorkbook();\nsheet = workbook.createSheet(\"Sheet1\");\nsheet.protectSheet(\"passwordExcel\"); \nunlockedNumericStyle = workbook.createCellStyle(); \nunlockedNumericStyle.setLocked(false);\n// Format cell for date\ndateStyle = workbook.createCellStyle();\nCreationHelper createHelper = workbook.getCreationHelper();\ndateStyle.setDataFormat(createHelper.createDataFormat().getFormat(\"dd/mm/yyyy\"));\nsheet.autoSizeColumn(1);\n</code></pre>\n\n<p>I read about <code>lockFormatCell()</code> but I don't understand if it can help me. Thanks</p>\n"},{"tags":["java","spring-boot","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1657743408,"post_id":72935308,"comment_id":128886072,"body_markdown":"By the way, you have 3 competing docx4j-JAXB implementations there.  You should have one and only one, so delete 2 of them.","body":"By the way, you have 3 competing docx4j-JAXB implementations there.  You should have one and only one, so delete 2 of them."},{"owner":{"account_id":23998002,"reputation":1,"user_id":17983310,"display_name":"Queetu_247"},"score":0,"creation_date":1657862651,"post_id":72935308,"comment_id":128915257,"body_markdown":"Hi @JasonPlutext , Can you please tell me reason behind that ?","body":"Hi @JasonPlutext , Can you please tell me reason behind that ?"}],"answers":[{"tags":[],"owner":{"account_id":23998002,"reputation":1,"user_id":17983310,"display_name":"Queetu_247"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657531803,"creation_date":1657531803,"answer_id":72936360,"question_id":72935308,"body_markdown":"this question is resolved. Just need to correct docx styling of font in docx document.","title":"DOCX4j : space removed in pdf by deploying war file into tomcat","body":"<p>this question is resolved. Just need to correct docx styling of font in docx document.</p>\n"}],"owner":{"account_id":23998002,"reputation":1,"user_id":17983310,"display_name":"Queetu_247"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657531803,"creation_date":1657525971,"question_id":72935308,"body_markdown":"I am using below code to convert docx to pdf using DOCX4j.While running this code into IDE it is working fine and space preserved after conversion. For deployment I created war and put it into tomcat server. But into test server space is not preserved into document after conversion.\r\n\r\npom.xml\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t    \r\n    \t    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-Internal --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;docx4j-JAXB-Internal&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.3.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t    \r\n    \t    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-ReferenceImpl --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.3.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-MOXy --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.3.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-export-fo --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.3.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\ncode for conversion\r\n\r\n    private byte[] docxToPdfBytes() {\r\n    \r\n    \t\tInputStream templateInputStream = null;\r\n    \t\ttry {\r\n    \t\t\ttemplateInputStream = new FileInputStream(ApplicationConstants.TEMP_DOCX_PATH);\r\n                WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\r\n                FileOutputStream os = new FileOutputStream(ApplicationConstants.TEMP_PDF_PATH);\r\n    \t\t\tDocx4J.toPDF(wordMLPackage, os);\r\n    \t\t\tos.flush();\r\n    \t\t\tos.close();\r\n    \t\t\treturn Files.readAllBytes(Paths.get(ApplicationConstants.TEMP_PDF_PATH));\r\n    \t\t} catch (Throwable e) {\r\n    \t\t\tlogger.info(XrefSubscriberServiceService.class.getName() + &quot;==&gt; Method : docxToPdfBytes&quot;);\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif(null != templateInputStream) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ttemplateInputStream.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.info(XrefSubscriberServiceService.class.getName() + &quot;==&gt; Method : docxToPdfBytes&quot;);\r\n    \t\t\t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n\t\r\n\r\nSo can anyone have idea why this type of behaviour is happened ??","title":"DOCX4j : space removed in pdf by deploying war file into tomcat","body":"<p>I am using below code to convert docx to pdf using DOCX4j.While running this code into IDE it is working fine and space preserved after conversion. For deployment I created war and put it into tomcat server. But into test server space is not preserved into document after conversion.</p>\n<p>pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-Internal --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-JAXB-Internal&lt;/artifactId&gt;\n        &lt;version&gt;8.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-ReferenceImpl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n        &lt;version&gt;8.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-MOXy --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\n        &lt;version&gt;8.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-export-fo --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n        &lt;version&gt;8.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>code for conversion</p>\n<pre><code>private byte[] docxToPdfBytes() {\n\n        InputStream templateInputStream = null;\n        try {\n            templateInputStream = new FileInputStream(ApplicationConstants.TEMP_DOCX_PATH);\n            WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\n            FileOutputStream os = new FileOutputStream(ApplicationConstants.TEMP_PDF_PATH);\n            Docx4J.toPDF(wordMLPackage, os);\n            os.flush();\n            os.close();\n            return Files.readAllBytes(Paths.get(ApplicationConstants.TEMP_PDF_PATH));\n        } catch (Throwable e) {\n            logger.info(XrefSubscriberServiceService.class.getName() + &quot;==&gt; Method : docxToPdfBytes&quot;);\n            logger.error(e.getMessage(), e);\n        }\n        finally {\n            if(null != templateInputStream) {\n                try {\n                    templateInputStream.close();\n                } catch (IOException e) {\n                    logger.info(XrefSubscriberServiceService.class.getName() + &quot;==&gt; Method : docxToPdfBytes&quot;);\n                    logger.error(e.getMessage(), e);\n                }\n            }\n    }\n        \n        return null;\n    }\n</code></pre>\n<p>So can anyone have idea why this type of behaviour is happened ??</p>\n"},{"tags":["java","junit","jboss-arquillian","testcontainers"],"comments":[{"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"score":0,"creation_date":1531210298,"post_id":51259903,"comment_id":89498540,"body_markdown":"Not exactly sure about what your projects do, but you can export your tests as a dependency (a JAR) and then reference that in any number of places. If I were in your place I&#39;d create a little sample project (with multiple modules) for this with a &quot;dummy&quot; test.","body":"Not exactly sure about what your projects do, but you can export your tests as a dependency (a JAR) and then reference that in any number of places. If I were in your place I&#39;d create a little sample project (with multiple modules) for this with a &quot;dummy&quot; test."},{"owner":{"account_id":3351358,"reputation":531,"user_id":2815365,"accept_rate":100,"display_name":"finrod"},"score":0,"creation_date":1531210399,"post_id":51259903,"comment_id":89498593,"body_markdown":"Since the code to be shared is in test, I would need to export them as test-jar, and then add it as test dependency in the other project which I read is bad practice.","body":"Since the code to be shared is in test, I would need to export them as test-jar, and then add it as test dependency in the other project which I read is bad practice."},{"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"score":0,"creation_date":1531211374,"post_id":51259903,"comment_id":89499173,"body_markdown":"Well, not sure if it&#39;s bad practice or not (I haven&#39;t done such a thing yet). It&#39;s hard to answer your question since you ask &quot;how&#39;d you guys do?&quot;. I&#39;d advise you to produce a [Minimal Working Example](https://stackoverflow.com/help/mcve) (in this case an example with a sample project where you either implement your 1. or 2. idea). That would help me to answer it, because although it&#39;s an interesting question (for me) it supposes too many unknowns for me to seriously dive into.","body":"Well, not sure if it&#39;s bad practice or not (I haven&#39;t done such a thing yet). It&#39;s hard to answer your question since you ask &quot;how&#39;d you guys do?&quot;. I&#39;d advise you to produce a <a href=\"https://stackoverflow.com/help/mcve\">Minimal Working Example</a> (in this case an example with a sample project where you either implement your 1. or 2. idea). That would help me to answer it, because although it&#39;s an interesting question (for me) it supposes too many unknowns for me to seriously dive into."},{"owner":{"account_id":3351358,"reputation":531,"user_id":2815365,"accept_rate":100,"display_name":"finrod"},"score":0,"creation_date":1531211456,"post_id":51259903,"comment_id":89499220,"body_markdown":"I already tested both approaches, both are working. Its a little bit difficult to share it, but I will try.","body":"I already tested both approaches, both are working. Its a little bit difficult to share it, but I will try."}],"owner":{"account_id":3351358,"reputation":531,"user_id":2815365,"accept_rate":100,"display_name":"finrod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657531554,"creation_date":1531209328,"question_id":51259903,"body_markdown":"I have the following multi module project structure\r\n\r\n`root\r\n   |\r\n   |\r\n   ---- project A with arquillian testcases\r\n   |\r\n   |\r\n   ---- project B builds war and runs same tests with different deployment config`\r\n\r\n\r\nI want to run my testcases with two different deployment configurations.\r\n\r\nIn project A I run the testcases with Arquillian. Then, I run the same testcases with the testcontainers framework after the war is built in project B.\r\n\r\nWhat is the best approach to achieve this? I see here basically two alternatives:\r\n\r\n1. Duplicate the same testcases in project A and project B\r\n2. Having a base class containing the testcases which is extended by the specific classes which override the deployment config methods\r\n\r\nWith method 2, which normally I would prefer, I see some issues:\r\n\r\n * The testcase base class needs to be shared across multiple projects and I read in different discussion that it is a bad practice to share test code across projects.\r\n\r\nSo what do you think? What would you guys do? If you know other ways to share the testcases except of duplicating the code or extending, please let me know.\r\n\r\nThanks in advance.\r\n\r\nExample method 1:\r\n\r\nProject A contains following testclass:\r\n\r\n    @RunWith(Arquillian.class)\r\n    public class YTest\r\n    {\r\n    @ArquillianResource\r\n    private URL webappUrl;\r\n\r\n    /**\r\n     * @return {@link JavaArchive}\r\n     */\r\n    @Deployment(name = &quot;myservice&quot;)\r\n    public static Archive&lt;?&gt; createTestArchive()\r\n    {\r\n        final WebArchive archive = ShrinkWrap\r\n            .create(WebArchive.class, &quot;myservice.war&quot;)\r\n            .addClasses(X.class, Y.class);\r\n\r\n        return archive;\r\n    }\r\n\r\n    private WebTarget webTarget()\r\n    {\r\n        return ClientBuilder.newClient().target(webappUrl.toExternalForm());\r\n    }\r\n\r\n    @Test\r\n    public void whenPostServiceShouldReturn200() throws IOException\r\n    {\r\n        final Response response = webTarget()\r\n            .path(&quot;/myservice&quot;)\r\n            .request()\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .post(Entity.entity(TestDataGeneration.generatePayload, MediaType.APPLICATION_JSON_TYPE));\r\n\r\n        assertEquals(200, response.getStatus());\r\n    }\r\n    }\r\n\r\nProject B contains following testclass:\r\n\r\n    public class Y2Test\r\n    {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Y2Test.class);\r\n\r\n    @ClassRule\r\n    public static GenericContainer&lt;?&gt; webAppContainer = new GenericContainer&lt;&gt;(\r\n        new ImageFromDockerfile().withFileFromPath(&quot;..&quot;, new File(&quot;..&quot;).toPath()))\r\n            .withLogConsumer(new Slf4jLogConsumer(LOGGER))\r\n            .withExposedPorts(9080);\r\n\r\n\r\n    private WebTarget webTarget()\r\n    {\r\n        return ClientBuilder\r\n            .newClient()\r\n            .target(\r\n                &quot;http://&quot;\r\n                    + webAppContainer.getContainerIpAddress()\r\n                    + &quot;:&quot;\r\n                    + webAppContainer.getMappedPort(9080)\r\n                    + &quot;/provisioning-service&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void whenPostServiceShouldReturn200() throws IOException\r\n    {\r\n        final Response response = webTarget()\r\n            .path(&quot;/myservice&quot;)\r\n            .request()\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .post(Entity.entity(TestDataGeneration.generatePayload(), MediaType.APPLICATION_JSON_TYPE));\r\n\r\n        assertEquals(200, response.getStatus());\r\n    }\r\n    }\r\n\r\n\r\nExample method 2:\r\n\r\nProject A contains following testclasses:\r\n\r\n    public abstract class YTestCases\r\n    {\r\n    abstract WebTarget webTarget();\r\n\r\n    @Test\r\n    public void whenPostMyServiceCorrectlyShouldReturn200() throws IOException\r\n    {\r\n        final Response response = webTarget()\r\n            .path(&quot;/registerphone&quot;)\r\n            .request()\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .post(null);\r\n\r\n        assertEquals(200, response.getStatus());\r\n    }\r\n    }\r\n\r\nand\r\n\r\n    @RunWith(Arquillian.class)\r\n    public class YTest extends YTestCases\r\n    {\r\n    @ArquillianResource\r\n    private URL webappUrl;\r\n\r\n    /**\r\n     * @return {@link JavaArchive}\r\n     */\r\n    @Deployment(name = &quot;myservice&quot;)\r\n    public static Archive&lt;?&gt; createTestArchive()\r\n    {\r\n        final WebArchive archive = ShrinkWrap\r\n            .create(WebArchive.class, &quot;myservice.war&quot;)\r\n            .addClasses(A.class, B.class);\r\n\r\n        return archive;\r\n    }\r\n\r\n    @Override\r\n    WebTarget webTarget()\r\n    {\r\n        return ClientBuilder.newClient().target(webappUrl.toExternalForm());\r\n    }\r\n    }\r\n\r\nProject B contains following testclass which now only extends the basetestcases class\r\n\r\n    public class Y2T extends YTestCases\r\n    {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Y2T.class);\r\n    @ClassRule\r\n    public static GenericContainer&lt;?&gt; webAppContainer = new GenericContainer&lt;&gt;(\r\n        new ImageFromDockerfile().withFileFromPath(&quot;..&quot;, new File(&quot;..&quot;).toPath()))\r\n            .withLogConsumer(new Slf4jLogConsumer(LOGGER))\r\n            .withExposedPorts(9080);\r\n\r\n    @Override\r\n    WebTarget webTarget()\r\n    {\r\n        // cassandra.getContainerIpAddress();\r\n        // cassandra.getMappedPort(9042);\r\n        return ClientBuilder\r\n            .newClient()\r\n            .target(\r\n                &quot;http://&quot;\r\n                    + webAppContainer.getContainerIpAddress()\r\n                    + &quot;:&quot;\r\n                    + webAppContainer.getMappedPort(9080)\r\n                    + &quot;/myservice&quot;);\r\n    }\r\n    }","title":"Running same testcase with different runtime frameworks (arquillian &amp; testcontainers) in Java","body":"<p>I have the following multi module project structure</p>\n\n<p><code>root\n   |\n   |\n   ---- project A with arquillian testcases\n   |\n   |\n   ---- project B builds war and runs same tests with different deployment config</code></p>\n\n<p>I want to run my testcases with two different deployment configurations.</p>\n\n<p>In project A I run the testcases with Arquillian. Then, I run the same testcases with the testcontainers framework after the war is built in project B.</p>\n\n<p>What is the best approach to achieve this? I see here basically two alternatives:</p>\n\n<ol>\n<li>Duplicate the same testcases in project A and project B</li>\n<li>Having a base class containing the testcases which is extended by the specific classes which override the deployment config methods</li>\n</ol>\n\n<p>With method 2, which normally I would prefer, I see some issues:</p>\n\n<ul>\n<li>The testcase base class needs to be shared across multiple projects and I read in different discussion that it is a bad practice to share test code across projects.</li>\n</ul>\n\n<p>So what do you think? What would you guys do? If you know other ways to share the testcases except of duplicating the code or extending, please let me know.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Example method 1:</p>\n\n<p>Project A contains following testclass:</p>\n\n<pre><code>@RunWith(Arquillian.class)\npublic class YTest\n{\n@ArquillianResource\nprivate URL webappUrl;\n\n/**\n * @return {@link JavaArchive}\n */\n@Deployment(name = \"myservice\")\npublic static Archive&lt;?&gt; createTestArchive()\n{\n    final WebArchive archive = ShrinkWrap\n        .create(WebArchive.class, \"myservice.war\")\n        .addClasses(X.class, Y.class);\n\n    return archive;\n}\n\nprivate WebTarget webTarget()\n{\n    return ClientBuilder.newClient().target(webappUrl.toExternalForm());\n}\n\n@Test\npublic void whenPostServiceShouldReturn200() throws IOException\n{\n    final Response response = webTarget()\n        .path(\"/myservice\")\n        .request()\n        .header(\"Content-Type\", \"application/json\")\n        .post(Entity.entity(TestDataGeneration.generatePayload, MediaType.APPLICATION_JSON_TYPE));\n\n    assertEquals(200, response.getStatus());\n}\n}\n</code></pre>\n\n<p>Project B contains following testclass:</p>\n\n<pre><code>public class Y2Test\n{\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Y2Test.class);\n\n@ClassRule\npublic static GenericContainer&lt;?&gt; webAppContainer = new GenericContainer&lt;&gt;(\n    new ImageFromDockerfile().withFileFromPath(\"..\", new File(\"..\").toPath()))\n        .withLogConsumer(new Slf4jLogConsumer(LOGGER))\n        .withExposedPorts(9080);\n\n\nprivate WebTarget webTarget()\n{\n    return ClientBuilder\n        .newClient()\n        .target(\n            \"http://\"\n                + webAppContainer.getContainerIpAddress()\n                + \":\"\n                + webAppContainer.getMappedPort(9080)\n                + \"/provisioning-service\");\n}\n\n@Test\npublic void whenPostServiceShouldReturn200() throws IOException\n{\n    final Response response = webTarget()\n        .path(\"/myservice\")\n        .request()\n        .header(\"Content-Type\", \"application/json\")\n        .post(Entity.entity(TestDataGeneration.generatePayload(), MediaType.APPLICATION_JSON_TYPE));\n\n    assertEquals(200, response.getStatus());\n}\n}\n</code></pre>\n\n<p>Example method 2:</p>\n\n<p>Project A contains following testclasses:</p>\n\n<pre><code>public abstract class YTestCases\n{\nabstract WebTarget webTarget();\n\n@Test\npublic void whenPostMyServiceCorrectlyShouldReturn200() throws IOException\n{\n    final Response response = webTarget()\n        .path(\"/registerphone\")\n        .request()\n        .header(\"Content-Type\", \"application/json\")\n        .post(null);\n\n    assertEquals(200, response.getStatus());\n}\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@RunWith(Arquillian.class)\npublic class YTest extends YTestCases\n{\n@ArquillianResource\nprivate URL webappUrl;\n\n/**\n * @return {@link JavaArchive}\n */\n@Deployment(name = \"myservice\")\npublic static Archive&lt;?&gt; createTestArchive()\n{\n    final WebArchive archive = ShrinkWrap\n        .create(WebArchive.class, \"myservice.war\")\n        .addClasses(A.class, B.class);\n\n    return archive;\n}\n\n@Override\nWebTarget webTarget()\n{\n    return ClientBuilder.newClient().target(webappUrl.toExternalForm());\n}\n}\n</code></pre>\n\n<p>Project B contains following testclass which now only extends the basetestcases class</p>\n\n<pre><code>public class Y2T extends YTestCases\n{\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Y2T.class);\n@ClassRule\npublic static GenericContainer&lt;?&gt; webAppContainer = new GenericContainer&lt;&gt;(\n    new ImageFromDockerfile().withFileFromPath(\"..\", new File(\"..\").toPath()))\n        .withLogConsumer(new Slf4jLogConsumer(LOGGER))\n        .withExposedPorts(9080);\n\n@Override\nWebTarget webTarget()\n{\n    // cassandra.getContainerIpAddress();\n    // cassandra.getMappedPort(9042);\n    return ClientBuilder\n        .newClient()\n        .target(\n            \"http://\"\n                + webAppContainer.getContainerIpAddress()\n                + \":\"\n                + webAppContainer.getMappedPort(9080)\n                + \"/myservice\");\n}\n}\n</code></pre>\n"},{"tags":["java","swing","java-7","grid-layout","timsort"],"comments":[{"owner":{"account_id":1683206,"reputation":1103,"user_id":1547018,"display_name":"mbelow"},"score":0,"creation_date":1353974599,"post_id":13575224,"comment_id":18602891,"body_markdown":"See this: http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only","body":"See this: <a href=\"http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only\" title=\"comparison method violates its general contract java 7 only\">stackoverflow.com/questions/7849539/&hellip;</a>"},{"owner":{"account_id":405591,"reputation":6670,"user_id":774575,"accept_rate":78,"display_name":"mins"},"score":3,"creation_date":1422194883,"post_id":13575224,"comment_id":44646301,"body_markdown":"Note that this is not a bug, but the removal of a loophole. The loophole was that the comparator used to sort arrays could contain an undetected logic error. With Java 7 a check has been added, and this check now output this error if the comparator has a wrong behavior. As this could create problems (though this resolves other), Java 7 includes a property to force the arrays to use the previous method (no comparator verification). Don&#39;t expect this message to disappear with newer releases of Java. Library developers must fix this in their code.","body":"Note that this is not a bug, but the removal of a loophole. The loophole was that the comparator used to sort arrays could contain an undetected logic error. With Java 7 a check has been added, and this check now output this error if the comparator has a wrong behavior. As this could create problems (though this resolves other), Java 7 includes a property to force the arrays to use the previous method (no comparator verification). Don&#39;t expect this message to disappear with newer releases of Java. Library developers must fix this in their code."}],"answers":[{"tags":[],"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1553782838,"creation_date":1353977753,"answer_id":13575810,"question_id":13575224,"body_markdown":"It seems to me like you&#39;ve hit a [bug in the JDK](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7075600) since the error seems to come from Swing classes.\r\n\r\nOptions: \r\n\r\n 1. Define the property  `java.util.Arrays.useLegacyMergeSort` as `true`. Either using in your code the line\r\n\r\n        System.setProperty(&quot;java.util.Arrays.useLegacyMergeSort&quot;, &quot;true&quot;);\r\n\r\n  before any Swing code. As the first line in the `main` method should work.\r\n\r\n  Or adding\r\n\r\n        -Djava.util.Arrays.useLegacyMergeSort=true\r\n  to your starting options (in the console, or in the project properties in an IDE, Ant script, etc.)\r\n\r\n 2. Upgrade your JDK and see if the problem goes away\r\n 3. Downgrade to Java 6","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>It seems to me like you've hit a <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7075600\" rel=\"nofollow noreferrer\">bug in the JDK</a> since the error seems to come from Swing classes.</p>\n\n<p>Options: </p>\n\n<ol>\n<li><p>Define the property  <code>java.util.Arrays.useLegacyMergeSort</code> as <code>true</code>. Either using in your code the line</p>\n\n<pre><code>System.setProperty(\"java.util.Arrays.useLegacyMergeSort\", \"true\");\n</code></pre>\n\n<p>before any Swing code. As the first line in the <code>main</code> method should work.</p>\n\n<p>Or adding</p>\n\n<pre><code>-Djava.util.Arrays.useLegacyMergeSort=true\n</code></pre>\n\n<p>to your starting options (in the console, or in the project properties in an IDE, Ant script, etc.)</p></li>\n<li><p>Upgrade your JDK and see if the problem goes away</p></li>\n<li>Downgrade to Java 6</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2144894,"reputation":824,"user_id":1902732,"display_name":"Robin Loxley"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1415598405,"creation_date":1415547325,"answer_id":26829874,"question_id":13575224,"body_markdown":"Report my findings:\r\n\r\n    -Djava.util.Arrays.useLegacyMergeSort=true\r\n\r\nworks\r\n\r\nbut \r\n\r\n    System.setProperty(&quot;java.util.Arrays.useLegacyMergeSort&quot;, &quot;true&quot;);\r\n\r\ndoes not work.\r\n\r\nIt is due to the fact that in JDK Arrays.class \r\n\r\n     static final class LegacyMergeSort {\r\n        private static final boolean userRequested = ...\r\n\r\nIt is a static variable which is defined when jvm starts. Setting System property in the program will have no effect if the class has been loaded into jvm.\r\n\r\nI have beeing monitoring the LegacyMergeSort.userRequested variable, and the findings confirmed with above statement. \r\n\r\n**Update**: \r\nThe program must set system properties before java.util.Arrays is loaded to classloader.\r\nOtherwise, once it is loaded, setting the properties is not going to be useful due to the reason mentioned above.\r\n\r\nMake sure nothing else loaded Arrays.class:\r\n\r\nBy putting following code to your program to test:\r\n\r\n        java.lang.reflect.Method m = ClassLoader.class.getDeclaredMethod(&quot;findLoadedClass&quot;, new Class[] { String.class });\r\n        m.setAccessible(true);\r\n        ClassLoader cl = ClassLoader.getSystemClassLoader();\r\n        Object test1 = m.invoke(cl, &quot;java.util.Arrays&quot;);\r\n        System.out.println(&quot;test1 loaded? -&gt;&quot; + (test1 != null));\r\n\r\n\r\n","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>Report my findings:</p>\n\n<pre><code>-Djava.util.Arrays.useLegacyMergeSort=true\n</code></pre>\n\n<p>works</p>\n\n<p>but </p>\n\n<pre><code>System.setProperty(\"java.util.Arrays.useLegacyMergeSort\", \"true\");\n</code></pre>\n\n<p>does not work.</p>\n\n<p>It is due to the fact that in JDK Arrays.class </p>\n\n<pre><code> static final class LegacyMergeSort {\n    private static final boolean userRequested = ...\n</code></pre>\n\n<p>It is a static variable which is defined when jvm starts. Setting System property in the program will have no effect if the class has been loaded into jvm.</p>\n\n<p>I have beeing monitoring the LegacyMergeSort.userRequested variable, and the findings confirmed with above statement. </p>\n\n<p><strong>Update</strong>: \nThe program must set system properties before java.util.Arrays is loaded to classloader.\nOtherwise, once it is loaded, setting the properties is not going to be useful due to the reason mentioned above.</p>\n\n<p>Make sure nothing else loaded Arrays.class:</p>\n\n<p>By putting following code to your program to test:</p>\n\n<pre><code>    java.lang.reflect.Method m = ClassLoader.class.getDeclaredMethod(\"findLoadedClass\", new Class[] { String.class });\n    m.setAccessible(true);\n    ClassLoader cl = ClassLoader.getSystemClassLoader();\n    Object test1 = m.invoke(cl, \"java.util.Arrays\");\n    System.out.println(\"test1 loaded? -&gt;\" + (test1 != null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5741595,"reputation":61,"user_id":4534148,"display_name":"Burkhard Strauss"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1424797429,"creation_date":1423158614,"answer_id":28350722,"question_id":13575224,"body_markdown":"**[Update]**\r\nThis solution unfortunately is not guaranteed to solve the problem in all cases. It is not enough to patch the default SortingFocusTraversalPolicy\r\nof the KeyboardFocusManager.\r\n\r\nI recommend to read the answer by Robin Loxley below, including his Update.\r\n**[/Update]**\r\n\r\n    java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n        at java.util.TimSort.mergeHi(TimSort.java:868)\r\n\r\nThis problem is caused by a bug in `javax.swing.LayoutComparator`.\r\n\r\nThe following class installs a fixed version of `javax.swing.LayoutComparator`, which does not violate the contract of `Comparator&lt;Component&gt;`. This (or any other) fixed version of `javax.swing.LayoutComparator` should be submitted to Oracle by some Oracle contributor.\r\n\r\n    package ...;\r\n\r\n    import java.awt.Component;\r\n    import java.awt.ComponentOrientation;\r\n    import java.awt.FocusTraversalPolicy;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.awt.Window;\r\n    import java.lang.reflect.Field;\r\n    import java.util.Comparator;\r\n    import java.util.LinkedList;\r\n    import java.util.ListIterator;\r\n    \r\n    import javax.swing.JRootPane;\r\n    import javax.swing.SortingFocusTraversalPolicy;\r\n    import javax.swing.UIManager;\r\n    \r\n    /**\r\n     * Uses reflection to install a fixed version of {@link javax.swing.LayoutComparator} to solve the\r\n     * LayoutFocusTraversalPolicy/TimSort problem.\r\n     * \r\n     * &lt;p&gt;\r\n     * &lt;code&gt;java.lang.IllegalArgumentException: Comparison method violates its general contract!&lt;/code&gt;\r\n     * &lt;br/&gt;\r\n     * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{@code     at java.util.TimSort.mergeHi(TimSort.java:868)}\r\n     * &lt;/p&gt;\r\n     * &lt;p&gt;\r\n     * Usage: call {@code Class.forName(LayoutFocusTraversalPolicyTimSortBugFixer.class.getName())}\r\n     * before creating Swing components.\r\n     * &lt;/p&gt;\r\n     * \r\n     * @author Burkhard Strauss\r\n     * @since Feb 2015\r\n     */\r\n    public class LayoutFocusTraversalPolicyTimSortBugFixer\r\n    {\r\n    \r\n       static\r\n       {\r\n          UIManager.getUI(new JRootPane()); // make Swing install the SortingFocusTraversalPolicy\r\n          final KeyboardFocusManager keyboardFocusManager = KeyboardFocusManager\r\n                .getCurrentKeyboardFocusManager();\r\n          final FocusTraversalPolicy focusTraversalPolicy = keyboardFocusManager\r\n                .getDefaultFocusTraversalPolicy();\r\n          boolean fixed = false;\r\n          if (focusTraversalPolicy instanceof SortingFocusTraversalPolicy)\r\n          {\r\n             try\r\n             {\r\n                final Field field = SortingFocusTraversalPolicy.class.getDeclaredField(&quot;comparator&quot;);\r\n                final boolean accessible = field.isAccessible();\r\n                try\r\n                {\r\n                   field.setAccessible(true);\r\n                   field.set(focusTraversalPolicy, new LayoutComparator());\r\n                   fixed = true;\r\n                }\r\n                finally\r\n                {\r\n                   field.setAccessible(accessible);\r\n                }\r\n    \r\n             }\r\n             catch (final Exception e)\r\n             {\r\n             }\r\n          }\r\n          if (!fixed)\r\n          {\r\n             Loggers.getLoggerFor(LayoutFocusTraversalPolicyTimSortBugFixer.class).warn(&quot;could not fix the bug&quot;);\r\n          }\r\n       }\r\n\r\n       /**\r\n        * Fixed version of {@link javax.swing.LayoutComparator}.\r\n        * &lt;p&gt;\r\n        * Search for &#39;bugfix&#39; in the code.\r\n        * &lt;/p&gt;\r\n        * \r\n        * @author Burkhard Strauss\r\n        * @since Feb 2015\r\n        */\r\n       @SuppressWarnings(&quot;serial&quot;)\r\n       private static class LayoutComparator implements Comparator&lt;Component&gt;, java.io.Serializable\r\n       {\r\n    \r\n          private static final int ROW_TOLERANCE = 10;\r\n    \r\n          private boolean horizontal = true;\r\n          private boolean leftToRight = true;\r\n    \r\n          @SuppressWarnings(&quot;unused&quot;)\r\n          void setComponentOrientation(final ComponentOrientation orientation)\r\n          {\r\n             horizontal = orientation.isHorizontal();\r\n             leftToRight = orientation.isLeftToRight();\r\n          }\r\n    \r\n          @Override\r\n          public int compare(Component a, Component b)\r\n          {\r\n             if (a == b)\r\n             {\r\n                return 0;\r\n             }\r\n    \r\n             // Row/Column algorithm only applies to siblings. If &#39;a&#39; and &#39;b&#39;\r\n             // aren&#39;t siblings, then we need to find their most inferior\r\n             // ancestors which share a parent. Compute the ancestory lists for\r\n             // each Component and then search from the Window down until the\r\n             // hierarchy branches.\r\n             if (a.getParent() != b.getParent())\r\n             {\r\n                final LinkedList&lt;Component&gt; aAncestory = new LinkedList&lt;Component&gt;();\r\n                for (; a != null; a = a.getParent())\r\n                {\r\n                   aAncestory.add(a);\r\n                   if (a instanceof Window)\r\n                   {\r\n                      break;\r\n                   }\r\n                }\r\n                if (a == null)\r\n                {\r\n                   // &#39;a&#39; is not part of a Window hierarchy. Can&#39;t cope.\r\n                   throw new ClassCastException();\r\n                }\r\n                final LinkedList&lt;Component&gt; bAncestory = new LinkedList&lt;Component&gt;();\r\n                for (; b != null; b = b.getParent())\r\n                {\r\n                   bAncestory.add(b);\r\n                   if (b instanceof Window)\r\n                   {\r\n                      break;\r\n                   }\r\n                }\r\n                if (b == null)\r\n                {\r\n                   // &#39;b&#39; is not part of a Window hierarchy. Can&#39;t cope.\r\n                   throw new ClassCastException();\r\n                }\r\n                for (ListIterator&lt;Component&gt; aIter = aAncestory.listIterator(aAncestory.size()), bIter = bAncestory\r\n                      .listIterator(bAncestory.size());;)\r\n                {\r\n                   if (aIter.hasPrevious())\r\n                   {\r\n                      a = aIter.previous();\r\n                   }\r\n                   else\r\n                   {\r\n                      // a is an ancestor of b\r\n                      return -1;\r\n                   }\r\n                   if (bIter.hasPrevious())\r\n                   {\r\n                      b = bIter.previous();\r\n                   }\r\n                   else\r\n                   {\r\n                      // b is an ancestor of a\r\n                      return 1;\r\n                   }\r\n                   if (a != b)\r\n                   {\r\n                      break;\r\n                   }\r\n                }\r\n             }\r\n    \r\n             final int ax = a.getX(), ay = a.getY(), bx = b.getX(), by = b.getY();\r\n             int zOrder = a.getParent().getComponentZOrder(a) - b.getParent().getComponentZOrder(b);\r\n             {\r\n                //\r\n                // Here is the bugfix:\r\n                // Don&#39;t return 0 if a != b. This would violate the contract of\r\n                // Comparator&lt;Component&gt;.compare().\r\n                //\r\n                if (zOrder == 0)\r\n                {\r\n                   zOrder = -1;\r\n                }\r\n             }\r\n             if (horizontal)\r\n             {\r\n                if (leftToRight)\r\n                {\r\n    \r\n                   // LT - Western Europe (optional for Japanese, Chinese, Korean)\r\n    \r\n                   if (Math.abs(ay - by) &lt; ROW_TOLERANCE)\r\n                   {\r\n                      return (ax &lt; bx) ? -1 : ((ax &gt; bx) ? 1 : zOrder);\r\n                   }\r\n                   else\r\n                   {\r\n                      return (ay &lt; by) ? -1 : 1;\r\n                   }\r\n                }\r\n                else\r\n                { // !leftToRight\r\n    \r\n                   // RT - Middle East (Arabic, Hebrew)\r\n    \r\n                   if (Math.abs(ay - by) &lt; ROW_TOLERANCE)\r\n                   {\r\n                      return (ax &gt; bx) ? -1 : ((ax &lt; bx) ? 1 : zOrder);\r\n                   }\r\n                   else\r\n                   {\r\n                      return (ay &lt; by) ? -1 : 1;\r\n                   }\r\n                }\r\n             }\r\n             else\r\n             { // !horizontal\r\n                if (leftToRight)\r\n                {\r\n    \r\n                   // TL - Mongolian\r\n    \r\n                   if (Math.abs(ax - bx) &lt; ROW_TOLERANCE)\r\n                   {\r\n                      return (ay &lt; by) ? -1 : ((ay &gt; by) ? 1 : zOrder);\r\n                   }\r\n                   else\r\n                   {\r\n                      return (ax &lt; bx) ? -1 : 1;\r\n                   }\r\n                }\r\n                else\r\n                { // !leftToRight\r\n    \r\n                   // TR - Japanese, Chinese, Korean\r\n    \r\n                   if (Math.abs(ax - bx) &lt; ROW_TOLERANCE)\r\n                   {\r\n                      return (ay &lt; by) ? -1 : ((ay &gt; by) ? 1 : zOrder);\r\n                   }\r\n                   else\r\n                   {\r\n                      return (ax &gt; bx) ? -1 : 1;\r\n                   }\r\n                }\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\n\r\n\r\n","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p><strong>[Update]</strong>\nThis solution unfortunately is not guaranteed to solve the problem in all cases. It is not enough to patch the default SortingFocusTraversalPolicy\nof the KeyboardFocusManager.</p>\n\n<p>I recommend to read the answer by Robin Loxley below, including his Update.\n<strong>[/Update]</strong></p>\n\n<pre><code>java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.util.TimSort.mergeHi(TimSort.java:868)\n</code></pre>\n\n<p>This problem is caused by a bug in <code>javax.swing.LayoutComparator</code>.</p>\n\n<p>The following class installs a fixed version of <code>javax.swing.LayoutComparator</code>, which does not violate the contract of <code>Comparator&lt;Component&gt;</code>. This (or any other) fixed version of <code>javax.swing.LayoutComparator</code> should be submitted to Oracle by some Oracle contributor.</p>\n\n<pre><code>package ...;\n\nimport java.awt.Component;\nimport java.awt.ComponentOrientation;\nimport java.awt.FocusTraversalPolicy;\nimport java.awt.KeyboardFocusManager;\nimport java.awt.Window;\nimport java.lang.reflect.Field;\nimport java.util.Comparator;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\n\nimport javax.swing.JRootPane;\nimport javax.swing.SortingFocusTraversalPolicy;\nimport javax.swing.UIManager;\n\n/**\n * Uses reflection to install a fixed version of {@link javax.swing.LayoutComparator} to solve the\n * LayoutFocusTraversalPolicy/TimSort problem.\n * \n * &lt;p&gt;\n * &lt;code&gt;java.lang.IllegalArgumentException: Comparison method violates its general contract!&lt;/code&gt;\n * &lt;br/&gt;\n * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{@code     at java.util.TimSort.mergeHi(TimSort.java:868)}\n * &lt;/p&gt;\n * &lt;p&gt;\n * Usage: call {@code Class.forName(LayoutFocusTraversalPolicyTimSortBugFixer.class.getName())}\n * before creating Swing components.\n * &lt;/p&gt;\n * \n * @author Burkhard Strauss\n * @since Feb 2015\n */\npublic class LayoutFocusTraversalPolicyTimSortBugFixer\n{\n\n   static\n   {\n      UIManager.getUI(new JRootPane()); // make Swing install the SortingFocusTraversalPolicy\n      final KeyboardFocusManager keyboardFocusManager = KeyboardFocusManager\n            .getCurrentKeyboardFocusManager();\n      final FocusTraversalPolicy focusTraversalPolicy = keyboardFocusManager\n            .getDefaultFocusTraversalPolicy();\n      boolean fixed = false;\n      if (focusTraversalPolicy instanceof SortingFocusTraversalPolicy)\n      {\n         try\n         {\n            final Field field = SortingFocusTraversalPolicy.class.getDeclaredField(\"comparator\");\n            final boolean accessible = field.isAccessible();\n            try\n            {\n               field.setAccessible(true);\n               field.set(focusTraversalPolicy, new LayoutComparator());\n               fixed = true;\n            }\n            finally\n            {\n               field.setAccessible(accessible);\n            }\n\n         }\n         catch (final Exception e)\n         {\n         }\n      }\n      if (!fixed)\n      {\n         Loggers.getLoggerFor(LayoutFocusTraversalPolicyTimSortBugFixer.class).warn(\"could not fix the bug\");\n      }\n   }\n\n   /**\n    * Fixed version of {@link javax.swing.LayoutComparator}.\n    * &lt;p&gt;\n    * Search for 'bugfix' in the code.\n    * &lt;/p&gt;\n    * \n    * @author Burkhard Strauss\n    * @since Feb 2015\n    */\n   @SuppressWarnings(\"serial\")\n   private static class LayoutComparator implements Comparator&lt;Component&gt;, java.io.Serializable\n   {\n\n      private static final int ROW_TOLERANCE = 10;\n\n      private boolean horizontal = true;\n      private boolean leftToRight = true;\n\n      @SuppressWarnings(\"unused\")\n      void setComponentOrientation(final ComponentOrientation orientation)\n      {\n         horizontal = orientation.isHorizontal();\n         leftToRight = orientation.isLeftToRight();\n      }\n\n      @Override\n      public int compare(Component a, Component b)\n      {\n         if (a == b)\n         {\n            return 0;\n         }\n\n         // Row/Column algorithm only applies to siblings. If 'a' and 'b'\n         // aren't siblings, then we need to find their most inferior\n         // ancestors which share a parent. Compute the ancestory lists for\n         // each Component and then search from the Window down until the\n         // hierarchy branches.\n         if (a.getParent() != b.getParent())\n         {\n            final LinkedList&lt;Component&gt; aAncestory = new LinkedList&lt;Component&gt;();\n            for (; a != null; a = a.getParent())\n            {\n               aAncestory.add(a);\n               if (a instanceof Window)\n               {\n                  break;\n               }\n            }\n            if (a == null)\n            {\n               // 'a' is not part of a Window hierarchy. Can't cope.\n               throw new ClassCastException();\n            }\n            final LinkedList&lt;Component&gt; bAncestory = new LinkedList&lt;Component&gt;();\n            for (; b != null; b = b.getParent())\n            {\n               bAncestory.add(b);\n               if (b instanceof Window)\n               {\n                  break;\n               }\n            }\n            if (b == null)\n            {\n               // 'b' is not part of a Window hierarchy. Can't cope.\n               throw new ClassCastException();\n            }\n            for (ListIterator&lt;Component&gt; aIter = aAncestory.listIterator(aAncestory.size()), bIter = bAncestory\n                  .listIterator(bAncestory.size());;)\n            {\n               if (aIter.hasPrevious())\n               {\n                  a = aIter.previous();\n               }\n               else\n               {\n                  // a is an ancestor of b\n                  return -1;\n               }\n               if (bIter.hasPrevious())\n               {\n                  b = bIter.previous();\n               }\n               else\n               {\n                  // b is an ancestor of a\n                  return 1;\n               }\n               if (a != b)\n               {\n                  break;\n               }\n            }\n         }\n\n         final int ax = a.getX(), ay = a.getY(), bx = b.getX(), by = b.getY();\n         int zOrder = a.getParent().getComponentZOrder(a) - b.getParent().getComponentZOrder(b);\n         {\n            //\n            // Here is the bugfix:\n            // Don't return 0 if a != b. This would violate the contract of\n            // Comparator&lt;Component&gt;.compare().\n            //\n            if (zOrder == 0)\n            {\n               zOrder = -1;\n            }\n         }\n         if (horizontal)\n         {\n            if (leftToRight)\n            {\n\n               // LT - Western Europe (optional for Japanese, Chinese, Korean)\n\n               if (Math.abs(ay - by) &lt; ROW_TOLERANCE)\n               {\n                  return (ax &lt; bx) ? -1 : ((ax &gt; bx) ? 1 : zOrder);\n               }\n               else\n               {\n                  return (ay &lt; by) ? -1 : 1;\n               }\n            }\n            else\n            { // !leftToRight\n\n               // RT - Middle East (Arabic, Hebrew)\n\n               if (Math.abs(ay - by) &lt; ROW_TOLERANCE)\n               {\n                  return (ax &gt; bx) ? -1 : ((ax &lt; bx) ? 1 : zOrder);\n               }\n               else\n               {\n                  return (ay &lt; by) ? -1 : 1;\n               }\n            }\n         }\n         else\n         { // !horizontal\n            if (leftToRight)\n            {\n\n               // TL - Mongolian\n\n               if (Math.abs(ax - bx) &lt; ROW_TOLERANCE)\n               {\n                  return (ay &lt; by) ? -1 : ((ay &gt; by) ? 1 : zOrder);\n               }\n               else\n               {\n                  return (ax &lt; bx) ? -1 : 1;\n               }\n            }\n            else\n            { // !leftToRight\n\n               // TR - Japanese, Chinese, Korean\n\n               if (Math.abs(ax - bx) &lt; ROW_TOLERANCE)\n               {\n                  return (ay &lt; by) ? -1 : ((ay &gt; by) ? 1 : zOrder);\n               }\n               else\n               {\n                  return (ax &gt; bx) ? -1 : 1;\n               }\n            }\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1683393,"reputation":802,"user_id":1547153,"accept_rate":57,"display_name":"Tim Schimandle"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423422615,"creation_date":1423422615,"answer_id":28398146,"question_id":13575224,"body_markdown":"I just ran into the same error and spent a good amount of time tracking it down. To help others who run into this error it is important to know how to test TimSort. The checks that violate the transitivity contract and throw this error are deep in the algorithm and require a test to meet certain criteria before this problem can be reproduced.\r\n\r\n 1. Create a list with 32 or more objects. \r\n 2. Within that list, there needs to two or more runs.\r\n 3. Each run must contain 3 or more objects.\r\n\r\nOnce you meet those two criteria you can begin testing for this failure. \r\n\r\nA run is defined as a sub-set of the list where each item is already in the desired ordered state.","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>I just ran into the same error and spent a good amount of time tracking it down. To help others who run into this error it is important to know how to test TimSort. The checks that violate the transitivity contract and throw this error are deep in the algorithm and require a test to meet certain criteria before this problem can be reproduced.</p>\n\n<ol>\n<li>Create a list with 32 or more objects. </li>\n<li>Within that list, there needs to two or more runs.</li>\n<li>Each run must contain 3 or more objects.</li>\n</ol>\n\n<p>Once you meet those two criteria you can begin testing for this failure. </p>\n\n<p>A run is defined as a sub-set of the list where each item is already in the desired ordered state.</p>\n"},{"tags":[],"owner":{"account_id":11132293,"reputation":1,"user_id":8171922,"display_name":"Dmitry F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497619078,"creation_date":1497619078,"answer_id":44590255,"question_id":13575224,"body_markdown":"It is not enough to patch LayoutComparator as suggerested above. This fix does not work in my case.\r\nThe issue was fixed in JDK 8 (8u45 at least).\r\nSortingFocusTraversalPolicy to use legacy Merge Sort Method. ","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>It is not enough to patch LayoutComparator as suggerested above. This fix does not work in my case.\nThe issue was fixed in JDK 8 (8u45 at least).\nSortingFocusTraversalPolicy to use legacy Merge Sort Method. </p>\n"},{"tags":[],"owner":{"account_id":7412655,"reputation":411,"user_id":5639557,"display_name":"Kaushal Kishor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657531114,"creation_date":1657530711,"answer_id":72936134,"question_id":13575224,"body_markdown":"There is nothing wrong with the JDK.\r\nI was facing the same issue since 2 days &amp; finally got to know that bug was with my date-format. \r\nIn my API response few dates were in &quot;dd-MM-yyyy HH:mm&quot; format while few of them were in &quot;dd/MM/yyyy HH:mm&quot; format.\r\n\r\nSame issue while comparing integers, May be your List is having some null values. \r\n\r\nHere is my code, which is working like a charm\r\n\r\n    Collections.sort(root_array, new Comparator&lt;RootResponseItem&gt;(){\r\n                                public int compare(RootResponseItem o1, RootResponseItem o2){\r\n                                    Date date1 = new Date();\r\n                                    String dtStart = o1.getSectors().get(0).getDeparture().getDate() + &quot; &quot; + o1.getSectors().get(0).getDeparture().getTime();\r\n                                    dtStart = dtStart.replaceAll(&quot;-&quot;,&quot;/&quot;);\r\n                                    SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\r\n                                    try {\r\n                                        date1 = format.parse(dtStart);\r\n                                    } catch (ParseException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n\r\n                                    Date date2 = new Date();\r\n                                    String dtStart2 = o2.getSectors().get(0).getDeparture().getDate() + &quot; &quot; + o2.getSectors().get(0).getDeparture().getTime();\r\n                                    dtStart2 = dtStart2.replaceAll(&quot;-&quot;,&quot;/&quot;);\r\n                                    SimpleDateFormat format2 = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\r\n                                    try {\r\n                                        date2 = format2.parse(dtStart2);\r\n                                    } catch (ParseException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n\r\n                                    return date1.compareTo(date2);\r\n                                }\r\n                            });\r\n\r\n","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>There is nothing wrong with the JDK.\nI was facing the same issue since 2 days &amp; finally got to know that bug was with my date-format.\nIn my API response few dates were in &quot;dd-MM-yyyy HH:mm&quot; format while few of them were in &quot;dd/MM/yyyy HH:mm&quot; format.</p>\n<p>Same issue while comparing integers, May be your List is having some null values.</p>\n<p>Here is my code, which is working like a charm</p>\n<pre><code>Collections.sort(root_array, new Comparator&lt;RootResponseItem&gt;(){\n                            public int compare(RootResponseItem o1, RootResponseItem o2){\n                                Date date1 = new Date();\n                                String dtStart = o1.getSectors().get(0).getDeparture().getDate() + &quot; &quot; + o1.getSectors().get(0).getDeparture().getTime();\n                                dtStart = dtStart.replaceAll(&quot;-&quot;,&quot;/&quot;);\n                                SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\n                                try {\n                                    date1 = format.parse(dtStart);\n                                } catch (ParseException e) {\n                                    e.printStackTrace();\n                                }\n\n                                Date date2 = new Date();\n                                String dtStart2 = o2.getSectors().get(0).getDeparture().getDate() + &quot; &quot; + o2.getSectors().get(0).getDeparture().getTime();\n                                dtStart2 = dtStart2.replaceAll(&quot;-&quot;,&quot;/&quot;);\n                                SimpleDateFormat format2 = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\n                                try {\n                                    date2 = format2.parse(dtStart2);\n                                } catch (ParseException e) {\n                                    e.printStackTrace();\n                                }\n\n                                return date1.compareTo(date2);\n                            }\n                        });\n</code></pre>\n"}],"owner":{"account_id":1989985,"reputation":12739,"user_id":1784230,"accept_rate":58,"display_name":"s.alem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42148,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13575810,"answer_count":6,"score":38,"last_activity_date":1657531114,"creation_date":1353974098,"question_id":13575224,"body_markdown":"I made a color palette with a jPanel and a JLabel array in it. At first it worked well, but then i put some other jLabels out of the JPanel and added them some events. Now I keep getting this error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.util.TimSort.mergeLo(TimSort.java:747)\r\n\tat java.util.TimSort.mergeAt(TimSort.java:483)\r\n\tat java.util.TimSort.mergeCollapse(TimSort.java:410)\r\n\tat java.util.TimSort.sort(TimSort.java:214)\r\n\tat java.util.TimSort.sort(TimSort.java:173)\r\n\tat java.util.Arrays.sort(Arrays.java:659)\r\n\tat java.util.Collections.sort(Collections.java:217)\r\n\tat javax.swing.SortingFocusTraversalPolicy.enumerateAndSortCycle(SortingFocusTraversalPolicy.java:136)\r\n\tat javax.swing.SortingFocusTraversalPolicy.getFocusTraversalCycle(SortingFocusTraversalPolicy.java:110)\r\n\tat javax.swing.SortingFocusTraversalPolicy.getFirstComponent(SortingFocusTraversalPolicy.java:435)\r\n\tat javax.swing.LayoutFocusTraversalPolicy.getFirstComponent(LayoutFocusTraversalPolicy.java:166)\r\n\tat javax.swing.SortingFocusTraversalPolicy.getDefaultComponent(SortingFocusTraversalPolicy.java:515)\r\n\tat java.awt.FocusTraversalPolicy.getInitialComponent(FocusTraversalPolicy.java:169)\r\n\tat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:380)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4731)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:723)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:682)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:680)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:696)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:694)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:693)\r\n\tat java.awt.SequencedEvent.dispatch(SequencedEvent.java:116)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:682)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:680)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:696)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:694)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:693)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\r\n\r\nI tried to remove everything i&#39;ve done after first time i got this error, but still keep getting it. When i change the layout from GridLayout to anything else, then the error disappears, but the code becomes useless. So i need GridLayout. When i move everything in that JPanel to another JPanel, the error also goes away. But when i remove the first JPanel, error comes back.\r\n\r\nBy the way, the program works, but it&#39;s not pleasent to keep getting errors...\r\n\r\nEdit: When i use less than 225 color, there&#39;s no error. I&#39;m really curious about what&#39;s happening. Any explanation would be appreciated...\r\n","title":"&quot;Comparison method violates its general contract!&quot; - TimSort and GridLayout","body":"<p>I made a color palette with a jPanel and a JLabel array in it. At first it worked well, but then i put some other jLabels out of the JPanel and added them some events. Now I keep getting this error:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.IllegalArgumentException: Comparison method violates its general contract!\nat java.util.TimSort.mergeLo(TimSort.java:747)\nat java.util.TimSort.mergeAt(TimSort.java:483)\nat java.util.TimSort.mergeCollapse(TimSort.java:410)\nat java.util.TimSort.sort(TimSort.java:214)\nat java.util.TimSort.sort(TimSort.java:173)\nat java.util.Arrays.sort(Arrays.java:659)\nat java.util.Collections.sort(Collections.java:217)\nat javax.swing.SortingFocusTraversalPolicy.enumerateAndSortCycle(SortingFocusTraversalPolicy.java:136)\nat javax.swing.SortingFocusTraversalPolicy.getFocusTraversalCycle(SortingFocusTraversalPolicy.java:110)\nat javax.swing.SortingFocusTraversalPolicy.getFirstComponent(SortingFocusTraversalPolicy.java:435)\nat javax.swing.LayoutFocusTraversalPolicy.getFirstComponent(LayoutFocusTraversalPolicy.java:166)\nat javax.swing.SortingFocusTraversalPolicy.getDefaultComponent(SortingFocusTraversalPolicy.java:515)\nat java.awt.FocusTraversalPolicy.getInitialComponent(FocusTraversalPolicy.java:169)\nat java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:380)\nat java.awt.Component.dispatchEventImpl(Component.java:4731)\nat java.awt.Container.dispatchEventImpl(Container.java:2287)\nat java.awt.Window.dispatchEventImpl(Window.java:2719)\nat java.awt.Component.dispatchEvent(Component.java:4687)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:723)\nat java.awt.EventQueue.access$200(EventQueue.java:103)\nat java.awt.EventQueue$3.run(EventQueue.java:682)\nat java.awt.EventQueue$3.run(EventQueue.java:680)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\nat java.awt.EventQueue$4.run(EventQueue.java:696)\nat java.awt.EventQueue$4.run(EventQueue.java:694)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:693)\nat java.awt.SequencedEvent.dispatch(SequencedEvent.java:116)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)\nat java.awt.EventQueue.access$200(EventQueue.java:103)\nat java.awt.EventQueue$3.run(EventQueue.java:682)\nat java.awt.EventQueue$3.run(EventQueue.java:680)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\nat java.awt.EventQueue$4.run(EventQueue.java:696)\nat java.awt.EventQueue$4.run(EventQueue.java:694)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:693)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\n</code></pre>\n\n<p>I tried to remove everything i've done after first time i got this error, but still keep getting it. When i change the layout from GridLayout to anything else, then the error disappears, but the code becomes useless. So i need GridLayout. When i move everything in that JPanel to another JPanel, the error also goes away. But when i remove the first JPanel, error comes back.</p>\n\n<p>By the way, the program works, but it's not pleasent to keep getting errors...</p>\n\n<p>Edit: When i use less than 225 color, there's no error. I'm really curious about what's happening. Any explanation would be appreciated...</p>\n"},{"tags":["java","spring","spring-boot","logback"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1495104667,"post_id":44045173,"comment_id":75116687,"body_markdown":"Logging/Appenders start to work before the application is fully initialized. Your static field is probably still null when the appender code tries to use it. You could possibly work around that by storing all messages until you can find the necessary bean, then mail them.","body":"Logging/Appenders start to work before the application is fully initialized. Your static field is probably still null when the appender code tries to use it. You could possibly work around that by storing all messages until you can find the necessary bean, then mail them."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1495105361,"post_id":44045173,"comment_id":75117153,"body_markdown":"Your ApplicationContextHolder is not annotated so it is nevercalled by Spring. Try to add `@Component` to the class","body":"Your ApplicationContextHolder is not annotated so it is nevercalled by Spring. Try to add <code>@Component</code> to the class"},{"owner":{"account_id":8435634,"reputation":1,"user_id":6329896,"display_name":"Dylan L"},"score":0,"creation_date":1495161078,"post_id":44045173,"comment_id":75145906,"body_markdown":"@StanislavL I declared it in another configuration class. In the first image, the setAppilicationContext method is called. In the second image, you can see that applicationContext is normal in a controller class.In the third image appender can&#39;t get it.","body":"@StanislavL I declared it in another configuration class. In the first image, the setAppilicationContext method is called. In the second image, you can see that applicationContext is normal in a controller class.In the third image appender can&#39;t get it."},{"owner":{"account_id":8435634,"reputation":1,"user_id":6329896,"display_name":"Dylan L"},"score":0,"creation_date":1495161326,"post_id":44045173,"comment_id":75145958,"body_markdown":"@zapl I did&#39;t use it at the start time. I wrote a test controller class and visited it in browser.So I think the application is fully initialized. In addition, I restarted my IDE in case of its problem.It did no help.","body":"@zapl I did&#39;t use it at the start time. I wrote a test controller class and visited it in browser.So I think the application is fully initialized. In addition, I restarted my IDE in case of its problem.It did no help."}],"owner":{"account_id":8435634,"reputation":1,"user_id":6329896,"display_name":"Dylan L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657530683,"creation_date":1495103083,"question_id":44045173,"body_markdown":"Technology:\r\n    spring boot,logback\r\n\r\nI write a mail appender to reuse spring managed JavaMailSender.In order to get the JavaMailSender instance in spring ,I have this global static field in class\r\n\r\n\r\n    public class ApplicationContextHolder implements ApplicationContextAware {\r\n        public static ApplicationContext applicationContextHolder = null;\r\n\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            applicationContextHolder = applicationContext;\r\n        }\r\n\r\n    }\r\n\r\nIn appender , I use the static field directly \r\n\r\n    if (javaMailSender == null) {\r\n            javaMailSender = ApplicationContextHolder.applicationContextHolder.getBean(JavaMailSender.class);\r\n        }\r\n\r\nThe problem is that field applicationContextHolder is null.I debug `setApplicationContext` method\r\n\r\n![enter image description here][1]\r\n\r\n and find applicationContext is injected.I thought the classloader may not the same one ,but `Thread.currentThread().contextClassLoader` has the same toString value.\r\nAnyone knows why?How can I get applicationContext in appender?\r\n\r\n[start + in controller + in appender][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2B2kb.png","title":"Cannot use spring ApplicationContext in logback appender","body":"<p>Technology:\n    spring boot,logback</p>\n\n<p>I write a mail appender to reuse spring managed JavaMailSender.In order to get the JavaMailSender instance in spring ,I have this global static field in class</p>\n\n<pre><code>public class ApplicationContextHolder implements ApplicationContextAware {\n    public static ApplicationContext applicationContextHolder = null;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        applicationContextHolder = applicationContext;\n    }\n\n}\n</code></pre>\n\n<p>In appender , I use the static field directly </p>\n\n<pre><code>if (javaMailSender == null) {\n        javaMailSender = ApplicationContextHolder.applicationContextHolder.getBean(JavaMailSender.class);\n    }\n</code></pre>\n\n<p>The problem is that field applicationContextHolder is null.I debug <code>setApplicationContext</code> method</p>\n\n<p><img src=\"https://i.stack.imgur.com/2B2kb.png\" alt=\"enter image description here\"></p>\n\n<p>and find applicationContext is injected.I thought the classloader may not the same one ,but <code>Thread.currentThread().contextClassLoader</code> has the same toString value.\nAnyone knows why?How can I get applicationContext in appender?</p>\n\n<p><a href=\"https://i.stack.imgur.com/2B2kb.png\" rel=\"nofollow noreferrer\">start + in controller + in appender</a></p>\n"},{"tags":["java","spring-boot","serialization","marshalling","spring-ws"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1622833730,"post_id":67823414,"comment_id":119914577,"body_markdown":"Even if you could, adding `nillable = true` would not get you what you want. I don&#39;t think there is an easy way to get what you want (empty elements for `null` values automatically). If you set the field `firstName` to `&quot;&quot;` (empty string, not `null`) in your object you should get an empty XML element.","body":"Even if you could, adding <code>nillable = true</code> would not get you what you want. I don&#39;t think there is an easy way to get what you want (empty elements for <code>null</code> values automatically). If you set the field <code>firstName</code> to <code>&quot;&quot;</code> (empty string, not <code>null</code>) in your object you should get an empty XML element."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1622846946,"post_id":67823414,"comment_id":119918047,"body_markdown":"@Jesper I believe that adding `nillable=true` would cause that the marshaller to generate elements with `nil` which is good enough. I just want to have **each element** somehow present in the response to see all of them - and to be able to quickly check which of them I forgot to map. I have an XML with tens of elements, not mine :(","body":"@Jesper I believe that adding <code>nillable=true</code> would cause that the marshaller to generate elements with <code>nil</code> which is good enough. I just want to have <b>each element</b> somehow present in the response to see all of them - and to be able to quickly check which of them I forgot to map. I have an XML with tens of elements, not mine :("},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1622847079,"post_id":67823414,"comment_id":119918071,"body_markdown":"@Jesper As for setting the element to an empty string, this will not help me. My motivation is that I want to have a fast control (during development and testing) which elements I forgot to map into the response :) Identifying all the missing fields and setting them to an empty string (or to something reasonable) is what I want to **achieve**, it&#39;s the *goal* and not the *way* :)","body":"@Jesper As for setting the element to an empty string, this will not help me. My motivation is that I want to have a fast control (during development and testing) which elements I forgot to map into the response :) Identifying all the missing fields and setting them to an empty string (or to something reasonable) is what I want to <b>achieve</b>, it&#39;s the <i>goal</i> and not the <i>way</i> :)"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1622881648,"post_id":67823414,"comment_id":119922796,"body_markdown":"Yes, using `nillable=true` would make it output elements with `xsi:nil=&quot;true&quot;` for elements with no value. So, you want to use this to generate sample XML output for development. One idea: write some code that fills your Java objects with dummy values, by inspecting them recursively via reflection, and then marshal it to XML.","body":"Yes, using <code>nillable=true</code> would make it output elements with <code>xsi:nil=&quot;true&quot;</code> for elements with no value. So, you want to use this to generate sample XML output for development. One idea: write some code that fills your Java objects with dummy values, by inspecting them recursively via reflection, and then marshal it to XML."}],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1657530320,"creation_date":1622730726,"question_id":67823414,"body_markdown":"How to **globally** configure `spring-ws` / `spring-boot-starter-web-services` to serialize also empty (`null`) elements?\r\n\r\nI cannot modify the serialized classes themselves, so I **cannot** add `nillable = true` such as\r\n\r\n``` lang-java\r\npublic class Response {\r\n    @XmlElement(name = &quot;FirstName&quot;, required=true, nillable = true)\r\n    private String firstName;\r\n}\r\n```    \r\n\r\nI want to have **all** the empty elements **present** (in any form, but present) in the response even if they are `null`, such as\r\n\r\n``` lang-xml\r\n&lt;Response&gt;\r\n    &lt;FirstName whatever-attribute-here/&gt; &lt;!-- anything here, just the element should be present here even if it is not set in the object --&gt;\r\n&lt;/Response&gt;\r\n```\r\n\r\nOnce again, I **cannot** modify the `Response` class and it does **not** contain the `nillable = true` attributes.\r\n\r\nMy motivation is that I am to implement the response mapping and I want to have a quick check (during the development) that I have not omitted any of the tens of elements. Setting all omitted elements manually to an empty string (or rather something more reasonable) is already what I want to achieve, it&#39;s the *goal* and not the *way* :)\r\n\r\nI was trying to search the answer but all the results take me to the modification of the XML class itself or to setting the elements to an empty string. I believe there might be a nice global switch :)\r\n\r\nIn **JSON**, there **is** an analogical global switch: I can set globally (https://www.baeldung.com/jackson-ignore-null-fields) either\r\n``` lang-java\r\nmapper.setSerializationInclusion(Include.ALWAYS); // properties are always included, independent of value of the property\r\n```\r\nor\r\n``` lang-java\r\nmapper.setSerializationInclusion(Include.NON_NULL); // only properties with non-null values are to be included\r\n```","title":"How to globally configure spring-ws / spring-boot-starter-web-services to serialize also empty (null) elements without modifying the serialized class?","body":"<p>How to <strong>globally</strong> configure <code>spring-ws</code> / <code>spring-boot-starter-web-services</code> to serialize also empty (<code>null</code>) elements?</p>\n<p>I cannot modify the serialized classes themselves, so I <strong>cannot</strong> add <code>nillable = true</code> such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Response {\n    @XmlElement(name = &quot;FirstName&quot;, required=true, nillable = true)\n    private String firstName;\n}\n</code></pre>\n<p>I want to have <strong>all</strong> the empty elements <strong>present</strong> (in any form, but present) in the response even if they are <code>null</code>, such as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Response&gt;\n    &lt;FirstName whatever-attribute-here/&gt; &lt;!-- anything here, just the element should be present here even if it is not set in the object --&gt;\n&lt;/Response&gt;\n</code></pre>\n<p>Once again, I <strong>cannot</strong> modify the <code>Response</code> class and it does <strong>not</strong> contain the <code>nillable = true</code> attributes.</p>\n<p>My motivation is that I am to implement the response mapping and I want to have a quick check (during the development) that I have not omitted any of the tens of elements. Setting all omitted elements manually to an empty string (or rather something more reasonable) is already what I want to achieve, it's the <em>goal</em> and not the <em>way</em> :)</p>\n<p>I was trying to search the answer but all the results take me to the modification of the XML class itself or to setting the elements to an empty string. I believe there might be a nice global switch :)</p>\n<p>In <strong>JSON</strong>, there <strong>is</strong> an analogical global switch: I can set globally (<a href=\"https://www.baeldung.com/jackson-ignore-null-fields\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-ignore-null-fields</a>) either</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.setSerializationInclusion(Include.ALWAYS); // properties are always included, independent of value of the property\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.setSerializationInclusion(Include.NON_NULL); // only properties with non-null values are to be included\n</code></pre>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":6,"creation_date":1657524668,"post_id":72935060,"comment_id":128821504,"body_markdown":"You should stop using `Date`, for it&#39;s obsolete. Use classes from the `java.time` package. In your case probably `ZonedDateTime`.","body":"You should stop using <code>Date</code>, for it&#39;s obsolete. Use classes from the <code>java.time</code> package. In your case probably <code>ZonedDateTime</code>."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1657524861,"post_id":72935060,"comment_id":128821552,"body_markdown":"Or possibly `LocalDate`, depending on how you want to handle time zones... (The requirements are really unclear at the moment.)","body":"Or possibly <code>LocalDate</code>, depending on how you want to handle time zones... (The requirements are really unclear at the moment.)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1657525005,"post_id":72935060,"comment_id":128821590,"body_markdown":"&quot;...with the same above date time format&quot; - Note that formats are a matter of string representation, i.e. they depend on a couple of things like timezone, locale etc. A date object (ideally one of the java.time versions) never has a _format_, it just represents a point in time.","body":"&quot;...with the same above date time format&quot; - Note that formats are a matter of string representation, i.e. they depend on a couple of things like timezone, locale etc. A date object (ideally one of the java.time versions) never has a <i>format</i>, it just represents a point in time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657528234,"post_id":72935060,"comment_id":128822553,"body_markdown":"`String output = YearMonth.now(ZONE).atDay(1).atStartOfDay(ZONE).format(DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz y&quot;, Locale.ROOT))`. Set `ZONE` to your desired time zone. When I set it to `ZoneId.of(&quot;Asia/Kolkata&quot;)`, I got `Fri Jul 01 00:00:00 IST 2022`.","body":"<code>String output = YearMonth.now(ZONE).atDay(1).atStartOfDay(ZONE).format(DateT&zwnj;&#8203;imeFormatter.ofPatte&zwnj;&#8203;rn(&quot;EEE MMM dd HH:mm:ss zzz y&quot;, Locale.ROOT))</code>. Set <code>ZONE</code> to your desired time zone. When I set it to <code>ZoneId.of(&quot;Asia&#47;Kolkata&quot;)</code>, I got <code>Fri Jul 01 00:00:00 IST 2022</code>."}],"answers":[{"tags":[],"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657525463,"creation_date":1657524878,"answer_id":72935117,"question_id":72935060,"body_markdown":"You can use `java.time.LocalDate`.\r\n\r\n```java\r\nLocalDate myLocalDate = LocalDate.now();\r\nmyLocalDate.withDayOfMonth(1));\r\n```\r\n\r\nAlternatively, use `YearMonth`.\r\n\r\n    YearMonth myYearMonth = YearMonth.now() ;\r\n    LocalDate myLocalDate = myYearMonth.atDay( 1 ) ;\r\n\r\n","title":"How to get first day of the month from current Date(java.util.Date)?","body":"<p>You can use <code>java.time.LocalDate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate myLocalDate = LocalDate.now();\nmyLocalDate.withDayOfMonth(1));\n</code></pre>\n<p>Alternatively, use <code>YearMonth</code>.</p>\n<pre><code>YearMonth myYearMonth = YearMonth.now() ;\nLocalDate myLocalDate = myYearMonth.atDay( 1 ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657526092,"creation_date":1657526092,"answer_id":72935325,"question_id":72935060,"body_markdown":"If you still want to use older Date library then :\r\n\r\n\r\n            Calendar calendar =Calendar.getInstance();\r\n    \t\tcalendar.set(Calendar.DAY_OF_MONTH,1);\r\n    \t\tSystem.out.println(calendar.getTime());\r\n\r\n\r\nOutput:(time zone varies based on your locale)\r\n\r\n    Fri Jul 01 08:54:39 BST 2022","title":"How to get first day of the month from current Date(java.util.Date)?","body":"<p>If you still want to use older Date library then :</p>\n<pre><code>        Calendar calendar =Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_MONTH,1);\n        System.out.println(calendar.getTime());\n</code></pre>\n<p>Output:(time zone varies based on your locale)</p>\n<pre><code>Fri Jul 01 08:54:39 BST 2022\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25778488,"reputation":9,"user_id":19524426,"display_name":"Timmy533"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657530163,"creation_date":1657530163,"answer_id":72936020,"question_id":72935060,"body_markdown":"If you are in jdk8, you can use `java.time.LocalDate`.\r\n```\r\nLocalDate now = LocalDate.now();\r\nLocalDate res = now.with(TemporalAdjusters.firstDayOfMonth());\r\nSystem.out.println(res);\r\n```\r\nIf the result type you want is Date.\r\n```\r\nZoneId zone = ZoneId.systemDefault();\r\nInstant instant = localDate.atStartOfDay().atZone(zone).toInstant();\r\nreturn Date.from(instant);\r\n```","title":"How to get first day of the month from current Date(java.util.Date)?","body":"<p>If you are in jdk8, you can use <code>java.time.LocalDate</code>.</p>\n<pre><code>LocalDate now = LocalDate.now();\nLocalDate res = now.with(TemporalAdjusters.firstDayOfMonth());\nSystem.out.println(res);\n</code></pre>\n<p>If the result type you want is Date.</p>\n<pre><code>ZoneId zone = ZoneId.systemDefault();\nInstant instant = localDate.atStartOfDay().atZone(zone).toInstant();\nreturn Date.from(instant);\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2256,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657532356,"answer_count":3,"score":-2,"last_activity_date":1657530163,"creation_date":1657524516,"question_id":72935060,"body_markdown":"Want to get the first day of month from current date.\r\n\r\nTo get that I&#39;m doing with org.apache.commons.lang3.time.DateUtils to return in below format\r\n\r\n```\r\nDateUtils.truncate(new Date(), 2);\r\n```\r\n\r\nthis is returning expected output like below:\r\n\r\n```\r\nFri Jul 01 00:00:00 IST 2022\r\n```\r\n\r\nIs any other way to get the 1st day of the current month with the same above date time format? ","title":"How to get first day of the month from current Date(java.util.Date)?","body":"<p>Want to get the first day of month from current date.</p>\n<p>To get that I'm doing with org.apache.commons.lang3.time.DateUtils to return in below format</p>\n<pre><code>DateUtils.truncate(new Date(), 2);\n</code></pre>\n<p>this is returning expected output like below:</p>\n<pre><code>Fri Jul 01 00:00:00 IST 2022\n</code></pre>\n<p>Is any other way to get the 1st day of the current month with the same above date time format?</p>\n"},{"tags":["java","xml","newline","cdata","strip"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1343500705,"post_id":11703635,"comment_id":15522589,"body_markdown":"You could treat this as a text file, open it with a BufferedReader, read every line and save its trim value inside a StringBuilder, after all this, use a BufferedWriter to save your file with the contents of the StingBuilder.","body":"You could treat this as a text file, open it with a BufferedReader, read every line and save its trim value inside a StringBuilder, after all this, use a BufferedWriter to save your file with the contents of the StingBuilder."},{"owner":{"account_id":304225,"reputation":467,"user_id":613614,"accept_rate":75,"display_name":"Steven Fines"},"score":2,"creation_date":1343501031,"post_id":11703635,"comment_id":15522641,"body_markdown":"If you&#39;re willing to go to something like Xerces-J you can use OutputFormat to not pretty print the results : http://xerces.apache.org/xerces-j/apiDocs/org/apache/xml/serialize/OutputFormat.html","body":"If you&#39;re willing to go to something like Xerces-J you can use OutputFormat to not pretty print the results : <a href=\"http://xerces.apache.org/xerces-j/apiDocs/org/apache/xml/serialize/OutputFormat.html\" rel=\"nofollow noreferrer\">xerces.apache.org/xerces-j/apiDocs/org/apache/xml/serialize/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1343502887,"post_id":11703635,"comment_id":15523015,"body_markdown":"btw, the reason the `setIgnoringElementContentWhitespace` doesn&#39;t help is because you must be using XML Schema/DTD validation in order for the parser to know what whitespace is ignorable.","body":"btw, the reason the <code>setIgnoringElementContentWhitespace</code> doesn&#39;t help is because you must be using XML Schema/DTD validation in order for the parser to know what whitespace is ignorable."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1343503031,"post_id":11703635,"comment_id":15523038,"body_markdown":"@LuiggiMendoza - you should never be manually editing xml data like that.  you are just asking to screw it up.","body":"@LuiggiMendoza - you should never be manually editing xml data like that.  you are just asking to screw it up."},{"owner":{"account_id":1699501,"reputation":1831,"user_id":1560002,"display_name":"Jannis Ioannou"},"score":0,"creation_date":1343506878,"post_id":11703635,"comment_id":15523830,"body_markdown":"@Dataknife I tested your solution. Unfortunately It didn&#39;t work either.","body":"@Dataknife I tested your solution. Unfortunately It didn&#39;t work either."},{"owner":{"account_id":304225,"reputation":467,"user_id":613614,"accept_rate":75,"display_name":"Steven Fines"},"score":0,"creation_date":1343508962,"post_id":11703635,"comment_id":15524306,"body_markdown":"I&#39;m not sure what else to tell you, that&#39;s been how I&#39;ve done it in the past- short of using JAXB Marshallers to serialize the objects from a data model...","body":"I&#39;m not sure what else to tell you, that&#39;s been how I&#39;ve done it in the past- short of using JAXB Marshallers to serialize the objects from a data model..."},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1343658247,"post_id":11703635,"comment_id":15554127,"body_markdown":"Your &quot;some data&quot; can contains line breaks?","body":"Your &quot;some data&quot; can contains line breaks?"},{"owner":{"account_id":2140912,"reputation":1357,"user_id":1899566,"display_name":"Robert Fleming"},"score":0,"creation_date":1540407540,"post_id":11703635,"comment_id":92858876,"body_markdown":"Doesn&#39;t answer the question, but if any Scala users land here, there is `scala.xml.Utility.trim()`.","body":"Doesn&#39;t answer the question, but if any Scala users land here, there is <code>scala.xml.Utility.trim()</code>."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1343657407,"creation_date":1343501790,"answer_id":11703766,"question_id":11703635,"body_markdown":"recursively traverse the document.  remove any text nodes with blank content.  trim any text nodes with non-blank content.\r\n\r\n    public static void trimWhitespace(Node node)\r\n    {\r\n        NodeList children = node.getChildNodes();\r\n        for(int i = 0; i &lt; children.getLength(); ++i) {\r\n            Node child = children.item(i);\r\n            if(child.getNodeType() == Node.TEXT_NODE) {\r\n                child.setTextContent(child.getTextContent().trim());\r\n            }\r\n            trimWhitespace(child);\r\n        }\r\n    }\r\n","title":"Strip whitespace and newlines from XML in Java","body":"<p>recursively traverse the document.  remove any text nodes with blank content.  trim any text nodes with non-blank content.</p>\n\n<pre><code>public static void trimWhitespace(Node node)\n{\n    NodeList children = node.getChildNodes();\n    for(int i = 0; i &lt; children.getLength(); ++i) {\n        Node child = children.item(i);\n        if(child.getNodeType() == Node.TEXT_NODE) {\n            child.setTextContent(child.getTextContent().trim());\n        }\n        trimWhitespace(child);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1698489,"reputation":2295,"user_id":1559260,"display_name":"afrin216"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1512572422,"creation_date":1343502277,"answer_id":11703825,"question_id":11703635,"body_markdown":"Try this code. `read` and `write` methods in FileStream ignore whitespace and indents.\r\n\r\n    try {\r\n        File f1 = new File(&quot;source.xml&quot;);\r\n        File f2 = new File(&quot;destination.xml&quot;);\r\n        InputStream in = new FileInputStream(f1);  \r\n        OutputStream out = new FileOutputStream(f2);\r\n    \r\n        byte[] buf = new byte[1024];\r\n        int len;\r\n        while ((len = in.read(buf)) &gt; 0){\r\n        out.write(buf, 0, len);\r\n    }\r\n    in.close();\r\n    out.close();\r\n    System.out.println(&quot;File copied.&quot;);\r\n    } catch(FileNotFoundException ex){\r\n        System.out.println(ex.getMessage() + &quot; in the specified directory.&quot;);\r\n        System.exit(0);\r\n    } catch(IOException e7){\r\n        System.out.println(e7.getMessage());  \r\n    }\r\n\r\n","title":"Strip whitespace and newlines from XML in Java","body":"<p>Try this code. <code>read</code> and <code>write</code> methods in FileStream ignore whitespace and indents.</p>\n\n<pre><code>try {\n    File f1 = new File(\"source.xml\");\n    File f2 = new File(\"destination.xml\");\n    InputStream in = new FileInputStream(f1);  \n    OutputStream out = new FileOutputStream(f2);\n\n    byte[] buf = new byte[1024];\n    int len;\n    while ((len = in.read(buf)) &gt; 0){\n    out.write(buf, 0, len);\n}\nin.close();\nout.close();\nSystem.out.println(\"File copied.\");\n} catch(FileNotFoundException ex){\n    System.out.println(ex.getMessage() + \" in the specified directory.\");\n    System.exit(0);\n} catch(IOException e7){\n    System.out.println(e7.getMessage());  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67259,"reputation":2367,"user_id":196884,"accept_rate":87,"display_name":"Wolfgang"},"down_vote_count":2,"up_vote_count":24,"is_accepted":true,"score":22,"last_activity_date":1392468378,"creation_date":1351705939,"answer_id":13163891,"question_id":11703635,"body_markdown":"Working solution following instructions in the question&#39;s comments by @Luiggi Mendoza.\r\n\r\n\tpublic static String trim(String input) {\r\n\t\tBufferedReader reader = new BufferedReader(new StringReader(input));\r\n\t\tStringBuffer result = new StringBuffer();\r\n\t\ttry {\r\n\t\t\tString line;\r\n\t\t\twhile ( (line = reader.readLine() ) != null)\r\n\t\t\t\tresult.append(line.trim());\r\n\t\t\treturn result.toString();\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Strip whitespace and newlines from XML in Java","body":"<p>Working solution following instructions in the question's comments by @Luiggi Mendoza.</p>\n\n<pre><code>public static String trim(String input) {\n    BufferedReader reader = new BufferedReader(new StringReader(input));\n    StringBuffer result = new StringBuffer();\n    try {\n        String line;\n        while ( (line = reader.readLine() ) != null)\n            result.append(line.trim());\n        return result.toString();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3624,"reputation":682,"user_id":5237,"accept_rate":75,"display_name":"stmoebius"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363536404,"creation_date":1363536404,"answer_id":15462951,"question_id":11703635,"body_markdown":"As documented in [an answer to another question][1], the relevant function would be [DocumentBuilderFactory.setIgnoringElementContentWhitespace()][2], but - as pointed out here already - that function requires the use of a validating parser, which requires an XML schema, or some such.\r\n\r\nTherefore, your best bet is to iterate through the Document you get from the parser, and remove all nodes of type TEXT_NODE (or those TEXT_NODEs which contain only whitespace).\r\n\r\n  [1]: https://stackoverflow.com/questions/4274524/how-to-remove-the-white-spaces-bteween-tags-in-xml\r\n  [2]: http://download.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#setIgnoringElementContentWhitespace%28boolean%29","title":"Strip whitespace and newlines from XML in Java","body":"<p>As documented in <a href=\"https://stackoverflow.com/questions/4274524/how-to-remove-the-white-spaces-bteween-tags-in-xml\">an answer to another question</a>, the relevant function would be <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#setIgnoringElementContentWhitespace%28boolean%29\" rel=\"nofollow noreferrer\">DocumentBuilderFactory.setIgnoringElementContentWhitespace()</a>, but - as pointed out here already - that function requires the use of a validating parser, which requires an XML schema, or some such.</p>\n\n<p>Therefore, your best bet is to iterate through the Document you get from the parser, and remove all nodes of type TEXT_NODE (or those TEXT_NODEs which contain only whitespace).</p>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550052774,"creation_date":1550052774,"answer_id":54667582,"question_id":11703635,"body_markdown":"Java8+transformer does not create any but Java10+transformer puts everywhere empty lines. I still want to keep a pretty indents. This is my helper function to create xml string from any DOMElement instance such as `doc.getDocumentElement()` root node.\r\n\r\n    public static String createXML(Element elem) throws Exception {\r\n    \t    DOMSource source = new DOMSource(elem);\r\n    \t    StringWriter writer = new StringWriter();\r\n    \t    StreamResult result = new StreamResult(writer);\r\n    \t    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t    Transformer transformer = transformerFactory.newTransformer();\r\n    \t    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \t    //transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n    \t    //transformer.setOutputProperty(&quot;http://www.oracle.com/xml/is-standalone&quot;, &quot;yes&quot;);\r\n    \t    transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC,&quot;yes&quot;);\r\n    \t    transformer.setOutputProperty(&quot;http://www.oracle.com/xml/is-standalone&quot;, &quot;yes&quot;);\r\n    \t    transformer.transform(source, result);\r\n    \t    \r\n    \t    // Java10-transformer adds unecessary empty lines, remove empty lines\r\n    \t    BufferedReader reader = new BufferedReader(new StringReader(writer.toString()));\r\n    \t    StringBuilder buf = new StringBuilder();\r\n    \t    try {\r\n                final String NL = System.getProperty(&quot;line.separator&quot;, &quot;\\r\\n&quot;);\r\n    \t\t    String line;\r\n    \t\t    while( (line=reader.readLine())!=null ) {\r\n    \t\t    \tif (!line.trim().isEmpty()) {\r\n    \t\t    \t\tbuf.append(line); \r\n    \t\t    \t\tbuf.append(NL);\r\n    \t\t    \t}\r\n    \t\t    }\r\n    \t    } finally {\r\n    \t    \treader.close();\r\n    \t    }\r\n    \t    return buf.toString();  //writer.toString();\r\n    \t}\r\n","title":"Strip whitespace and newlines from XML in Java","body":"<p>Java8+transformer does not create any but Java10+transformer puts everywhere empty lines. I still want to keep a pretty indents. This is my helper function to create xml string from any DOMElement instance such as <code>doc.getDocumentElement()</code> root node.</p>\n\n<pre><code>public static String createXML(Element elem) throws Exception {\n        DOMSource source = new DOMSource(elem);\n        StringWriter writer = new StringWriter();\n        StreamResult result = new StreamResult(writer);\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        //transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\n        //transformer.setOutputProperty(\"http://www.oracle.com/xml/is-standalone\", \"yes\");\n        transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC,\"yes\");\n        transformer.setOutputProperty(\"http://www.oracle.com/xml/is-standalone\", \"yes\");\n        transformer.transform(source, result);\n\n        // Java10-transformer adds unecessary empty lines, remove empty lines\n        BufferedReader reader = new BufferedReader(new StringReader(writer.toString()));\n        StringBuilder buf = new StringBuilder();\n        try {\n            final String NL = System.getProperty(\"line.separator\", \"\\r\\n\");\n            String line;\n            while( (line=reader.readLine())!=null ) {\n                if (!line.trim().isEmpty()) {\n                    buf.append(line); \n                    buf.append(NL);\n                }\n            }\n        } finally {\n            reader.close();\n        }\n        return buf.toString();  //writer.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468268,"reputation":6049,"user_id":874161,"accept_rate":75,"display_name":"buergi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604393982,"creation_date":1604393982,"answer_id":64659614,"question_id":11703635,"body_markdown":"I support @jtahlborn&#39;s answer. Just for completeness, I adapted his solution to completely remove the whitespace-only elements instead of just clearing them.\r\n\r\n    public static void stripEmptyElements(Node node)\r\n    {\r\n        NodeList children = node.getChildNodes();\r\n        for(int i = 0; i &lt; children.getLength(); ++i) {\r\n            Node child = children.item(i);\r\n            if(child.getNodeType() == Node.TEXT_NODE) {\r\n                if (child.getTextContent().trim().length() == 0) {\r\n                    child.getParentNode().removeChild(child);\r\n                    i--;\r\n                }\r\n            }\r\n            stripEmptyElements(child);\r\n        }\r\n    }","title":"Strip whitespace and newlines from XML in Java","body":"<p>I support @jtahlborn's answer. Just for completeness, I adapted his solution to completely remove the whitespace-only elements instead of just clearing them.</p>\n<pre><code>public static void stripEmptyElements(Node node)\n{\n    NodeList children = node.getChildNodes();\n    for(int i = 0; i &lt; children.getLength(); ++i) {\n        Node child = children.item(i);\n        if(child.getNodeType() == Node.TEXT_NODE) {\n            if (child.getTextContent().trim().length() == 0) {\n                child.getParentNode().removeChild(child);\n                i--;\n            }\n        }\n        stripEmptyElements(child);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19735826,"reputation":1,"user_id":14450336,"display_name":"Andre Souza Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657530125,"creation_date":1657463983,"answer_id":72929305,"question_id":11703635,"body_markdown":"In order to strip whitespace and newlines from XML in Java try the following solution which uses `StringBuffer()` and conditional logic:\r\n\r\n    public static String LimpaXML(String xml) {\r\n        StringBuffer result = new StringBuffer();\r\n        char c_prev = &#39;\\0&#39;;\r\n        xml = xml.trim();\r\n        int len = xml.length();\r\n        for (int i=0; i&lt;len; i++) {\r\n        \tchar c = xml.charAt(i);\r\n        \tchar c_next = (i+1 &lt; len) ? xml.charAt(i+1) : &#39;\\0&#39;;\r\n        \tif (c == &#39;\\n&#39;) continue;\r\n        \tif (c == &#39;\\r&#39;) continue;\r\n        \tif (c == &#39;\\t&#39;) c = &#39; &#39;;\r\n        \tif (c == &#39; &#39;) {\r\n        \t\tif (c_prev == &#39; &#39;) continue;\r\n        \t\tif (c_next == &#39;\\0&#39;) continue;\r\n        \t\tif (c_prev == &#39;&gt;&#39;) continue;\r\n        \t\tif (c_next == &#39;&gt;&#39;) continue;\r\n        \t}\r\n        \tresult.append(c);\r\n        \tc_prev = c;\r\n        }\r\n    \treturn result.toString();\r\n    }\r\n","title":"Strip whitespace and newlines from XML in Java","body":"<p>In order to strip whitespace and newlines from XML in Java try the following solution which uses <code>StringBuffer()</code> and conditional logic:</p>\n<pre><code>public static String LimpaXML(String xml) {\n    StringBuffer result = new StringBuffer();\n    char c_prev = '\\0';\n    xml = xml.trim();\n    int len = xml.length();\n    for (int i=0; i&lt;len; i++) {\n        char c = xml.charAt(i);\n        char c_next = (i+1 &lt; len) ? xml.charAt(i+1) : '\\0';\n        if (c == '\\n') continue;\n        if (c == '\\r') continue;\n        if (c == '\\t') c = ' ';\n        if (c == ' ') {\n            if (c_prev == ' ') continue;\n            if (c_next == '\\0') continue;\n            if (c_prev == '&gt;') continue;\n            if (c_next == '&gt;') continue;\n        }\n        result.append(c);\n        c_prev = c;\n    }\n    return result.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1699501,"reputation":1831,"user_id":1560002,"display_name":"Jannis Ioannou"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55527,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":13163891,"answer_count":7,"score":20,"last_activity_date":1657530125,"creation_date":1343500371,"question_id":11703635,"body_markdown":"Using Java, I would like to take a document in the following format:\r\n\r\n    &lt;tag1&gt;\r\n     &lt;tag2&gt;\r\n        &lt;![CDATA[  Some data ]]&gt;\r\n     &lt;/tag2&gt;\r\n    &lt;/tag1&gt;\r\n\r\nand convert it to:\r\n\r\n    &lt;tag1&gt;&lt;tag2&gt;&lt;![CDATA[  Some data ]]&gt;&lt;/tag2&gt;&lt;/tag1&gt;\r\n\r\nI tried the following, but it isn&#39;t giving me the result I am expecting:\r\n\r\n    DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\r\n    dbfac.setIgnoringElementContentWhitespace(true);\r\n    DocumentBuilder docBuilder = dbfac.newDocumentBuilder();\r\n    Document doc = docBuilder.parse(new FileInputStream(&quot;/tmp/test.xml&quot;));\r\n\r\n    Writer out = new StringWriter();\r\n    Transformer tf = TransformerFactory.newInstance().newTransformer();\r\n    tf.setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\r\n    tf.transform(new DOMSource(doc), new StreamResult(out));\r\n    System.out.println(out.toString());","title":"Strip whitespace and newlines from XML in Java","body":"<p>Using Java, I would like to take a document in the following format:</p>\n\n<pre><code>&lt;tag1&gt;\n &lt;tag2&gt;\n    &lt;![CDATA[  Some data ]]&gt;\n &lt;/tag2&gt;\n&lt;/tag1&gt;\n</code></pre>\n\n<p>and convert it to:</p>\n\n<pre><code>&lt;tag1&gt;&lt;tag2&gt;&lt;![CDATA[  Some data ]]&gt;&lt;/tag2&gt;&lt;/tag1&gt;\n</code></pre>\n\n<p>I tried the following, but it isn't giving me the result I am expecting:</p>\n\n<pre><code>DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\ndbfac.setIgnoringElementContentWhitespace(true);\nDocumentBuilder docBuilder = dbfac.newDocumentBuilder();\nDocument doc = docBuilder.parse(new FileInputStream(\"/tmp/test.xml\"));\n\nWriter out = new StringWriter();\nTransformer tf = TransformerFactory.newInstance().newTransformer();\ntf.setOutputProperty(OutputKeys.INDENT, \"no\");\ntf.transform(new DOMSource(doc), new StreamResult(out));\nSystem.out.println(out.toString());\n</code></pre>\n"},{"tags":["java","list","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657489718,"creation_date":1657489718,"answer_id":72932117,"question_id":72931461,"body_markdown":"Few observations\r\n\r\n 1.  `when(storeService.search(Mockito.anyString())).thenReturn(Mockito.any(Store.class));` theReturn should provide some actual data when storeService.search() is called. It should be something like `when(storeService.search(Mockito.anyString())).thenReturn(testData);` where testData is of type storeService.search() returns.\r\n2. In your test case, you are mocking `storeService.search()` but in your example, you have provided definition of `listAllStore`. Which one is correct? Either you need to fix your question or test case.\r\n \r\n\r\n","title":"JUnit Testing. Type mismatch: cannot convert from Store to List&lt;Store&gt;","body":"<p>Few observations</p>\n<ol>\n<li><code>when(storeService.search(Mockito.anyString())).thenReturn(Mockito.any(Store.class));</code> theReturn should provide some actual data when storeService.search() is called. It should be something like <code>when(storeService.search(Mockito.anyString())).thenReturn(testData);</code> where testData is of type storeService.search() returns.</li>\n<li>In your test case, you are mocking <code>storeService.search()</code> but in your example, you have provided definition of <code>listAllStore</code>. Which one is correct? Either you need to fix your question or test case.</li>\n</ol>\n"}],"owner":{"account_id":24318072,"reputation":11,"user_id":18258939,"display_name":"EL Je"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657530026,"creation_date":1657482785,"question_id":72931461,"body_markdown":"I think I miss the syntax at &quot;thenReturn&quot; part. What should I wrote for the source code?\r\n\r\n![enter image description here][1]\r\n\r\nhere&#39;s the source code:\r\n```\r\n@Test\r\npublic void testGetUserByEmail() {\r\n\tString email = &quot;mail&quot;;\r\n\twhen(storeService.search(Mockito.anyString())).thenReturn(Mockito.any(Store.class));\r\n\tModelAndView mav = storeController.search(email);\r\n\tAssert.assertEquals(&quot;userDetail&quot;, mav.getViewName());\r\n}\r\n```\r\nhere&#39;s the service:\r\n```\r\npublic List&lt;Store&gt; listAllStore(){\r\n\tlogger.info(&quot;Before add repository to show all&quot;);\r\n\tList&lt;Store&gt; all_stores=(List&lt;Store&gt;) storeRepo.findAll();\r\n\tlogger.info(&quot;After add repository to show all&quot;);\r\n\tlogger.info(all_stores);\r\n\treturn all_stores;\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/rKfqb.png","title":"JUnit Testing. Type mismatch: cannot convert from Store to List&lt;Store&gt;","body":"<p>I think I miss the syntax at &quot;thenReturn&quot; part. What should I wrote for the source code?</p>\n<p><img src=\"https://i.stack.imgur.com/rKfqb.png\" alt=\"enter image description here\" /></p>\n<p>here's the source code:</p>\n<pre><code>@Test\npublic void testGetUserByEmail() {\n    String email = &quot;mail&quot;;\n    when(storeService.search(Mockito.anyString())).thenReturn(Mockito.any(Store.class));\n    ModelAndView mav = storeController.search(email);\n    Assert.assertEquals(&quot;userDetail&quot;, mav.getViewName());\n}\n</code></pre>\n<p>here's the service:</p>\n<pre><code>public List&lt;Store&gt; listAllStore(){\n    logger.info(&quot;Before add repository to show all&quot;);\n    List&lt;Store&gt; all_stores=(List&lt;Store&gt;) storeRepo.findAll();\n    logger.info(&quot;After add repository to show all&quot;);\n    logger.info(all_stores);\n    return all_stores;\n}\n</code></pre>\n"},{"tags":["java","nginx","ssl"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657531903,"post_id":72935982,"comment_id":128823740,"body_markdown":"Locally you are not using SSL, so your code works. When using Nginx you are using SSL, so your Client code must be adapted to perform the handshake. See this https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666.","body":"Locally you are not using SSL, so your code works. When using Nginx you are using SSL, so your Client code must be adapted to perform the handshake. See this <a href=\"https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/security/&hellip;</a>."},{"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"score":0,"creation_date":1657532991,"post_id":72935982,"comment_id":128824120,"body_markdown":"i&#39;m not connecting locally, i&#39;m just connecting directly, (by STOPPING nginx)","body":"i&#39;m not connecting locally, i&#39;m just connecting directly, (by STOPPING nginx)"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657535620,"post_id":72935982,"comment_id":128825062,"body_markdown":"The point is that when you stop Nginx you are accessing without SSL. When going through Nginx 8083 (SSL) you must perform the handshake on client side. You can easily perform a simple test, by opening another non SSL port on Nginx and see it works. You must perform the SSL Handshake on client side as it is exemplified here: https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666","body":"The point is that when you stop Nginx you are accessing without SSL. When going through Nginx 8083 (SSL) you must perform the handshake on client side. You can easily perform a simple test, by opening another non SSL port on Nginx and see it works. You must perform the SSL Handshake on client side as it is exemplified here: <a href=\"https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/security/&hellip;</a>"}],"owner":{"account_id":8812928,"reputation":51,"user_id":6585386,"display_name":"Mahdiyar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657529940,"creation_date":1657529940,"question_id":72935982,"body_markdown":"I have a ServerSocket that MUST uses SSL to communication, i configured SSL in Nginx. When i want to connect to `ServerSocket` the line `System.out.println(&quot;Connected to server&quot;)` printed but line `System.out.println(&quot;New Client Connected&quot;)` does NOT.\r\n\r\nServer:\r\n\r\n     new Thread(() -&gt; {\r\n            ServerSocket serverSocket;\r\n            try {\r\n                serverSocket = new ServerSocket(8085);\r\n                java.net.Socket socket = serverSocket.accept();\r\n                System.out.println(&quot;New Client Connected&quot;);\r\n\r\n                InputStream input = socket.getInputStream();\r\n\r\n                int i;\r\n                while ((i = input.read()) != -1)\r\n                    System.out.print(i + &quot; &quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\nClient:\r\n\r\n    try (Socket socket = new Socket(InetAddress.getByName(&quot;my.host.name&quot;), 8083)) {\r\n            System.out.println(&quot;Connected to server&quot;);\r\n\r\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\r\n            printWriter.println(&quot;Heelo from client&quot;);\r\n            printWriter.flush();\r\n\r\n        } catch (UnknownHostException ex) {\r\n        } catch (IOException ex) {\r\n    }\r\n\r\nNginx config:\r\n\r\n    server {\r\n        server_name java-app;\r\n        listen 8083 ssl;\r\n        listen [::]:443 ssl;\r\n\r\n        ssl_certificate /location/to/fullchain.pem;\r\n        ssl_certificate_key /location/to/privkey.pem;\r\n\r\n        location / {\r\n                proxy_pass http://localhost:8085;\r\n        }\r\n\t}\r\n\r\n\tserver {\r\n        server_name localhost-server;\r\n        listen 443 ssl;\r\n        listen [::]:443 ssl;\r\n        ssl_certificate /location/to/fullchain.pem;\r\n        ssl_certificate_key /location/to/privkey.pem;\r\n\r\n        location / {\r\n                proxy_pass http://localhost:8085;\r\n        }\r\n\t}\r\n\r\nI mapped my public 8083 port, to my local 8085 port.\r\n\r\n    my.host.name:8083 -&gt; localhost:8085\r\n\r\nBut when i disable Nginx at all and try to connect to `ServerSocket` directly by below code, every thing goes RIGHT. Notice the port now is `8085`\r\n\r\n    try (Socket socket = new Socket(InetAddress.getByName(&quot;my.host.name&quot;), 8085)) {\r\n        System.out.println(&quot;Connected to server&quot;);\r\n\r\n        PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\r\n        printWriter.println(&quot;Heelo from client&quot;);\r\n        printWriter.flush();\r\n\r\n    } catch (UnknownHostException ex) {\r\n    } catch (IOException ex) {}","title":"Nginx blocks ServerSocket communication in Java","body":"<p>I have a ServerSocket that MUST uses SSL to communication, i configured SSL in Nginx. When i want to connect to <code>ServerSocket</code> the line <code>System.out.println(&quot;Connected to server&quot;)</code> printed but line <code>System.out.println(&quot;New Client Connected&quot;)</code> does NOT.</p>\n<p>Server:</p>\n<pre><code> new Thread(() -&gt; {\n        ServerSocket serverSocket;\n        try {\n            serverSocket = new ServerSocket(8085);\n            java.net.Socket socket = serverSocket.accept();\n            System.out.println(&quot;New Client Connected&quot;);\n\n            InputStream input = socket.getInputStream();\n\n            int i;\n            while ((i = input.read()) != -1)\n                System.out.print(i + &quot; &quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }).start();\n</code></pre>\n<p>Client:</p>\n<pre><code>try (Socket socket = new Socket(InetAddress.getByName(&quot;my.host.name&quot;), 8083)) {\n        System.out.println(&quot;Connected to server&quot;);\n\n        PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\n        printWriter.println(&quot;Heelo from client&quot;);\n        printWriter.flush();\n\n    } catch (UnknownHostException ex) {\n    } catch (IOException ex) {\n}\n</code></pre>\n<p>Nginx config:</p>\n<pre><code>server {\n    server_name java-app;\n    listen 8083 ssl;\n    listen [::]:443 ssl;\n\n    ssl_certificate /location/to/fullchain.pem;\n    ssl_certificate_key /location/to/privkey.pem;\n\n    location / {\n            proxy_pass http://localhost:8085;\n    }\n}\n\nserver {\n    server_name localhost-server;\n    listen 443 ssl;\n    listen [::]:443 ssl;\n    ssl_certificate /location/to/fullchain.pem;\n    ssl_certificate_key /location/to/privkey.pem;\n\n    location / {\n            proxy_pass http://localhost:8085;\n    }\n}\n</code></pre>\n<p>I mapped my public 8083 port, to my local 8085 port.</p>\n<pre><code>my.host.name:8083 -&gt; localhost:8085\n</code></pre>\n<p>But when i disable Nginx at all and try to connect to <code>ServerSocket</code> directly by below code, every thing goes RIGHT. Notice the port now is <code>8085</code></p>\n<pre><code>try (Socket socket = new Socket(InetAddress.getByName(&quot;my.host.name&quot;), 8085)) {\n    System.out.println(&quot;Connected to server&quot;);\n\n    PrintWriter printWriter = new PrintWriter(socket.getOutputStream());\n    printWriter.println(&quot;Heelo from client&quot;);\n    printWriter.flush();\n\n} catch (UnknownHostException ex) {\n} catch (IOException ex) {}\n</code></pre>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1657482333,"post_id":72931356,"comment_id":128814891,"body_markdown":"What does &quot;debugging doesn&#39;t work&quot; mean? Are you debugging with a JDK? Is that class *supposed* to open automatically?","body":"What does &quot;debugging doesn&#39;t work&quot; mean? Are you debugging with a JDK? Is that class <i>supposed</i> to open automatically?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1657483831,"post_id":72931356,"comment_id":128815184,"body_markdown":"Some debug actions are related to the selected thread or/and selected stack trace element, but in your screenshot nothing is selected of the paused thread (see the tree in the _Debug_ view). Please tell what you would like to do and what you see actually happening compared to your expectations.","body":"Some debug actions are related to the selected thread or/and selected stack trace element, but in your screenshot nothing is selected of the paused thread (see the tree in the <i>Debug</i> view). Please tell what you would like to do and what you see actually happening compared to your expectations."}],"owner":{"account_id":23647025,"reputation":29,"user_id":17676514,"display_name":"Bufovis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657529901,"creation_date":1657481756,"question_id":72931356,"body_markdown":"When starting debugging, the `Class.class` file opens automatically and debugging doesn&#39;t work.\r\n\r\nI would appreciate any tips. \r\n\r\n[![Class.class_pic][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8pbCl.png","title":"Debugging in Eclipse: opens Class.class","body":"<p>When starting debugging, the <code>Class.class</code> file opens automatically and debugging doesn't work.</p>\n<p>I would appreciate any tips.</p>\n<p><a href=\"https://i.stack.imgur.com/8pbCl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8pbCl.png\" alt=\"Class.class_pic\" /></a></p>\n"},{"tags":["java","spring","spring-boot","validation","hibernate-validator"],"comments":[{"owner":{"account_id":1614068,"reputation":450,"user_id":1492248,"display_name":"nick kladis"},"score":0,"creation_date":1657453598,"post_id":72927804,"comment_id":128809178,"body_markdown":"Sorry about my wrong answer. i deleted it. I just realized you want value injection in the constructor. If i find something like this i will post it. I would advise you to use value injection in the controller constructor and use that string as value.","body":"Sorry about my wrong answer. i deleted it. I just realized you want value injection in the constructor. If i find something like this i will post it. I would advise you to use value injection in the controller constructor and use that string as value."},{"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"score":0,"creation_date":1657531933,"post_id":72927804,"comment_id":128823744,"body_markdown":"Yes, I believe it&#39;s not possible to inject values directly into the regex. As an alt option I&#39;m doing exactly what you have just suggested. Thanks for the help tho.","body":"Yes, I believe it&#39;s not possible to inject values directly into the regex. As an alt option I&#39;m doing exactly what you have just suggested. Thanks for the help tho."}],"answers":[{"tags":[],"owner":{"account_id":25778544,"reputation":66,"user_id":19524472,"display_name":"Raju Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657529645,"creation_date":1657529645,"answer_id":72935935,"question_id":72927804,"body_markdown":"Use @Pattern instead of @Email","title":"How to insert Spring application values in validation annotation","body":"<p>Use @Pattern instead of @Email</p>\n"}],"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657529645,"creation_date":1657449166,"question_id":72927804,"body_markdown":"In my following rest controller I&#39;m requesting email-id from the user.\r\n\r\n``` java\r\n@GetMapping(&quot;/user/{email}&quot;)\r\npublic Mono&lt;Document&gt; getDocumentsById(\r\n            @NotNull @Email(regexp = &quot;${email.regex}&quot;) @PathVariable String email) {\r\n\r\n   return documentService.getDocumentById(email);\r\n}\r\n```\r\nTo validate email I have applied a very simple regex, whose value is stored in application.yml\r\n\r\n``` yaml\r\nemail:\r\n    regex: &quot;^[A-Za-z0-9._%+-]+@google.com$&quot;\r\n```\r\n\r\nBut I&#39;m not able to get the value here and I end up receiving the following message:\r\n\r\n``` \r\njavax.validation.ValidationException: \r\nHV000032: Unable to initialize org.hibernate.validator.internal.constraintvalidators.bv.EmailValidator.\r\n```\r\n\r\nCan someone guide me if this is possible or if I&#39;m making any mistake. This regular expression is working fine when I replace ${email.regex} with actual String value in the annotation.","title":"How to insert Spring application values in validation annotation","body":"<p>In my following rest controller I'm requesting email-id from the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/user/{email}&quot;)\npublic Mono&lt;Document&gt; getDocumentsById(\n            @NotNull @Email(regexp = &quot;${email.regex}&quot;) @PathVariable String email) {\n\n   return documentService.getDocumentById(email);\n}\n</code></pre>\n<p>To validate email I have applied a very simple regex, whose value is stored in application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>email:\n    regex: &quot;^[A-Za-z0-9._%+-]+@google.com$&quot;\n</code></pre>\n<p>But I'm not able to get the value here and I end up receiving the following message:</p>\n<pre><code>javax.validation.ValidationException: \nHV000032: Unable to initialize org.hibernate.validator.internal.constraintvalidators.bv.EmailValidator.\n</code></pre>\n<p>Can someone guide me if this is possible or if I'm making any mistake. This regular expression is working fine when I replace ${email.regex} with actual String value in the annotation.</p>\n"},{"tags":["java","methods","return","try-catch"],"comments":[{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1512801289,"post_id":47726002,"comment_id":82412578,"body_markdown":"it is because of the return type, in your case return type is int. if it is void you dont need to return anything","body":"it is because of the return type, in your case return type is int. if it is void you dont need to return anything"}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1512802416,"creation_date":1512801694,"answer_id":47726062,"question_id":47726002,"body_markdown":"&gt; In case of j = 0 exception will be thrown and caught (by catch). And message will be printed. The question is: If I do not want to return any result from this method in the case of dividing by zero I still MUST return some value or there is another way? Using &#39;throw&#39; from catch clause?\r\n\r\nYou must either return a value matching the signature (`int` in this example) or `throw` something, otherwise the program will not compile.\r\n\r\n&gt; And another observation: if I uncomment last `return result` statement I got an error message: \r\nvariable result might not have been initialized\r\n\r\nThe `result` variable is assigned in a `try` block.\r\nThe compiler doesn&#39;t know at which exact point the exception might occur.\r\nIf an exception occurs before the assignment is completed,\r\nthen at the point of the `return result` statement,\r\nthe variable `result` might not have a value.\r\nThe solution is to set a value before the `try` block.\r\n\r\n&gt; And if I comment last &#39;return result&#39; I got an error message:\r\nmissing return statement\r\nBut I&#39;ve already included return statement in try clause.\r\n\r\nIn this example, if an exception occurs in the `try` block,\r\nthen the `catch` block and the rest of the body of the function is executed,\r\nand there is no other `return` statement to match the signature of the method.\r\nYou must return an `int` value on all execution paths.","title":"Method return statement vs try-catch","body":"<blockquote>\n  <p>In case of j = 0 exception will be thrown and caught (by catch). And message will be printed. The question is: If I do not want to return any result from this method in the case of dividing by zero I still MUST return some value or there is another way? Using 'throw' from catch clause?</p>\n</blockquote>\n\n<p>You must either return a value matching the signature (<code>int</code> in this example) or <code>throw</code> something, otherwise the program will not compile.</p>\n\n<blockquote>\n  <p>And another observation: if I uncomment last <code>return result</code> statement I got an error message: \n  variable result might not have been initialized</p>\n</blockquote>\n\n<p>The <code>result</code> variable is assigned in a <code>try</code> block.\nThe compiler doesn't know at which exact point the exception might occur.\nIf an exception occurs before the assignment is completed,\nthen at the point of the <code>return result</code> statement,\nthe variable <code>result</code> might not have a value.\nThe solution is to set a value before the <code>try</code> block.</p>\n\n<blockquote>\n  <p>And if I comment last 'return result' I got an error message:\n  missing return statement\n  But I've already included return statement in try clause.</p>\n</blockquote>\n\n<p>In this example, if an exception occurs in the <code>try</code> block,\nthen the <code>catch</code> block and the rest of the body of the function is executed,\nand there is no other <code>return</code> statement to match the signature of the method.\nYou must return an <code>int</code> value on all execution paths.</p>\n"},{"tags":[],"owner":{"account_id":1128860,"reputation":354,"user_id":1115422,"display_name":"recursion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512801935,"creation_date":1512801765,"answer_id":47726070,"question_id":47726002,"body_markdown":"What you want to achieve can be achieved  by below sample code\r\n\r\n&gt; As ArithmeticException is RuntimeException and in case of j=0 exception will be propagated to caller function.\r\n\r\n    int methodName(int i, int j) {\r\n                        return i/j;\r\n                   }","title":"Method return statement vs try-catch","body":"<p>What you want to achieve can be achieved  by below sample code</p>\n\n<blockquote>\n  <p>As ArithmeticException is RuntimeException and in case of j=0 exception will be propagated to caller function.</p>\n</blockquote>\n\n<pre><code>int methodName(int i, int j) {\n                    return i/j;\n               }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7055568,"reputation":537,"user_id":5403076,"accept_rate":100,"display_name":"JeffBship"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512802139,"creation_date":1512802139,"answer_id":47726102,"question_id":47726002,"body_markdown":"Maybe something like this:\r\n\r\n      static int methodName(int i, int j) {\r\n        if (j == 0) throw new ArithmeticException();\r\n        return i/j;\r\n      }\r\n\r\n\r\nYou could also use Integer type for result and initialize it to null and your code would compile:\r\n\r\n    Integer result = null;\r\n\r\n\r\nEither way, the calling code will need to handle the exception or the possible null value.\r\n","title":"Method return statement vs try-catch","body":"<p>Maybe something like this:</p>\n\n<pre><code>  static int methodName(int i, int j) {\n    if (j == 0) throw new ArithmeticException();\n    return i/j;\n  }\n</code></pre>\n\n<p>You could also use Integer type for result and initialize it to null and your code would compile:</p>\n\n<pre><code>Integer result = null;\n</code></pre>\n\n<p>Either way, the calling code will need to handle the exception or the possible null value.</p>\n"},{"tags":[],"owner":{"account_id":10608746,"reputation":1362,"user_id":7813290,"accept_rate":100,"display_name":"Jamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512824035,"creation_date":1512802663,"answer_id":47726158,"question_id":47726002,"body_markdown":"One thing that you are probably observing is the `scope` of the variable.\r\n\r\nWhen one wants to call a `void` method so that its `return`ing *nothing*; yet, still have it changing the values of a variable, one can put the variable they want changed in the global scope.  \r\n\r\nAn example of how this looks is demo below:\r\n\r\n\r\n    public class MyClassName{\r\n    \t//global scope int\r\n    \tpublic static int result;\r\n    \t//main method\r\n    \tpublic static void main(String[] args){\r\n    \t\t//Let&#39;s see what we start at\r\n    \t\tSystem.out.println(&quot;By default im at: &quot; + result);\r\n    \t\t//Attempt to set global variable as the result of a 0 division\r\n    \t\tmethodName(1,0);\r\n    \t\tSystem.out.println(&quot;I tried to divide by zero but I&#39;m still at: &quot;+result);\r\n    \t\t//Attempt to perform normal calculation 25/5\r\n    \t\tmethodName(25, 5);\r\n    \t\tSystem.out.println(&quot;25 divided by 5 is: &quot;+result);\r\n    \t}\r\n    \t//method that changes global variable - void means it returns nothing\r\n    \tpublic static void methodName(int i, int j) {\r\n    \t\t\ttry {\r\n    \t\t\t\t//try 1 / 0\r\n    \t\t\t\tresult =  i / j; \r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e) {\r\n    \t\t\t\tSystem.out.println(&quot;CATCH:I failed to divide by zero.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    }\r\n\r\nOutput:\r\n\r\n    By default im at: 0\r\n    CATCH:I failed to divide by zero.\r\n    I tried to divide by zero but I&#39;m still at: 0\r\n    25 divided by 5 is: 5\r\n\r\nPlease note the positioning of the global variable, outside the main method.\r\nIn this example, the value of the variable `result` is still changed, but is not necessarily `return`ed.","title":"Method return statement vs try-catch","body":"<p>One thing that you are probably observing is the <code>scope</code> of the variable.</p>\n\n<p>When one wants to call a <code>void</code> method so that its <code>return</code>ing <em>nothing</em>; yet, still have it changing the values of a variable, one can put the variable they want changed in the global scope.  </p>\n\n<p>An example of how this looks is demo below:</p>\n\n<pre><code>public class MyClassName{\n    //global scope int\n    public static int result;\n    //main method\n    public static void main(String[] args){\n        //Let's see what we start at\n        System.out.println(\"By default im at: \" + result);\n        //Attempt to set global variable as the result of a 0 division\n        methodName(1,0);\n        System.out.println(\"I tried to divide by zero but I'm still at: \"+result);\n        //Attempt to perform normal calculation 25/5\n        methodName(25, 5);\n        System.out.println(\"25 divided by 5 is: \"+result);\n    }\n    //method that changes global variable - void means it returns nothing\n    public static void methodName(int i, int j) {\n            try {\n                //try 1 / 0\n                result =  i / j; \n            }\n            catch (Exception e) {\n                System.out.println(\"CATCH:I failed to divide by zero.\");\n            }\n        }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>By default im at: 0\nCATCH:I failed to divide by zero.\nI tried to divide by zero but I'm still at: 0\n25 divided by 5 is: 5\n</code></pre>\n\n<p>Please note the positioning of the global variable, outside the main method.\nIn this example, the value of the variable <code>result</code> is still changed, but is not necessarily <code>return</code>ed.</p>\n"}],"owner":{"account_id":10914616,"reputation":129,"user_id":8022820,"display_name":"RickSanch3z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2089,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47726062,"answer_count":4,"score":1,"last_activity_date":1657529600,"creation_date":1512800998,"question_id":47726002,"body_markdown":"As far as I know in Java errors can be reported in two ways: return values and exceptions.\r\n\r\nFor example, code below:\r\n\r\n```java\r\nint methodName(int i, int j) {\r\n    int result;\r\n    \r\n    try {\r\n        result =  i / j; \r\n        return result;\r\n        // in the case of j = 0, ArtithmeticException() will be thrown\r\n    }\r\n    catch (Exception e) {\r\n        System.out.println(&quot;Some message&quot;);\r\n    }\r\n    \r\n    //return result;\r\n}\r\n```\r\n\r\nIn the case of `j = 0`, an exception will be thrown and caught (by the catch), and &quot;Some message&quot; will be printed.\r\n\r\nThe question is: If I do not want to return any result from this method in the case of a divide by zero, MUST I return some value or there is another way? I.e. using a &#39;throw&#39; in the catch clause?\r\n\r\nAnd another observation: if I uncomment the last **&#39;return result&#39;** statement I get the error message: \r\n\r\n&gt; variable result might not have been initialized\r\n\r\nAnd if I comment last **&#39;return result&#39;** I get the error message:\r\n\r\n&gt; missing return statement\r\n\r\nBut I&#39;ve already included the return statement in the try clause.\r\n\r\nThanks!","title":"Method return statement vs try-catch","body":"<p>As far as I know in Java errors can be reported in two ways: return values and exceptions.</p>\n<p>For example, code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int methodName(int i, int j) {\n    int result;\n    \n    try {\n        result =  i / j; \n        return result;\n        // in the case of j = 0, ArtithmeticException() will be thrown\n    }\n    catch (Exception e) {\n        System.out.println(&quot;Some message&quot;);\n    }\n    \n    //return result;\n}\n</code></pre>\n<p>In the case of <code>j = 0</code>, an exception will be thrown and caught (by the catch), and &quot;Some message&quot; will be printed.</p>\n<p>The question is: If I do not want to return any result from this method in the case of a divide by zero, MUST I return some value or there is another way? I.e. using a 'throw' in the catch clause?</p>\n<p>And another observation: if I uncomment the last <strong>'return result'</strong> statement I get the error message:</p>\n<blockquote>\n<p>variable result might not have been initialized</p>\n</blockquote>\n<p>And if I comment last <strong>'return result'</strong> I get the error message:</p>\n<blockquote>\n<p>missing return statement</p>\n</blockquote>\n<p>But I've already included the return statement in the try clause.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","embedded-jetty"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1657519473,"post_id":72933898,"comment_id":128820068,"body_markdown":"Spring Boot supports JavaEE **not** JakartaEE. Jetty11 is a JakartaEE implementation and as such isn&#39;t supported by Spring Boot 2.7.x. Use Jetty10 which should be feature comparable with Jetty11 but is a JavaEE implementation.","body":"Spring Boot supports JavaEE <b>not</b> JakartaEE. Jetty11 is a JakartaEE implementation and as such isn&#39;t supported by Spring Boot 2.7.x. Use Jetty10 which should be feature comparable with Jetty11 but is a JavaEE implementation."},{"owner":{"account_id":2582569,"reputation":371,"user_id":2238913,"display_name":"gauravbhatt13"},"score":0,"creation_date":1657520211,"post_id":72933898,"comment_id":128820239,"body_markdown":"Thanks Denium, I better switch to tomcat as Jetty 10 has the vulnerability and there is no specific reason for me to use jetty. Thanks again.","body":"Thanks Denium, I better switch to tomcat as Jetty 10 has the vulnerability and there is no specific reason for me to use jetty. Thanks again."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1657542266,"post_id":72933898,"comment_id":128827480,"body_markdown":"The latest releases of Jetty 10.x, Jetty 10.0.10 and 10.0.11, have no vulnerabilities.","body":"The latest releases of Jetty 10.x, Jetty 10.0.10 and 10.0.11, have no vulnerabilities."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1657542385,"post_id":72933898,"comment_id":128827524,"body_markdown":"Eclipse Jetty Dev here, the most recent release of [Jetty 9.4.48.v20220622, has no vulnerabilities too](https://github.com/eclipse/jetty.project/issues/8277).","body":"Eclipse Jetty Dev here, the most recent release of <a href=\"https://github.com/eclipse/jetty.project/issues/8277\" rel=\"nofollow noreferrer\">Jetty 9.4.48.v20220622, has no vulnerabilities too</a>."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1657588153,"post_id":72933898,"comment_id":128841291,"body_markdown":"@gauravbhatt13 the advisory now has a fixed version range - https://github.com/advisories/GHSA-8mpp-f3f7-xc28","body":"@gauravbhatt13 the advisory now has a fixed version range - <a href=\"https://github.com/advisories/GHSA-8mpp-f3f7-xc28\" rel=\"nofollow noreferrer\">github.com/advisories/GHSA-8mpp-f3f7-xc28</a>"}],"owner":{"account_id":2582569,"reputation":371,"user_id":2238913,"display_name":"gauravbhatt13"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657529476,"creation_date":1657515635,"question_id":72933898,"body_markdown":"Jetty 9.x reported a vulnerability which is fixed in Jetty 11.x and in doing the upgrade it seems that Spring boot doesn&#39;t support it and throws \r\n\r\n&gt; java.lang.IncompatibleClassChangeError: Class org.eclipse.jetty.webapp.WebAppContext$Context does not implement the requested interface javax.servlet.ServletContext\r\n","title":"Spring Boot 2.7.1 not working with Jetty 11","body":"<p>Jetty 9.x reported a vulnerability which is fixed in Jetty 11.x and in doing the upgrade it seems that Spring boot doesn't support it and throws</p>\n<blockquote>\n<p>java.lang.IncompatibleClassChangeError: Class org.eclipse.jetty.webapp.WebAppContext$Context does not implement the requested interface javax.servlet.ServletContext</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","android-dialog"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657526906,"post_id":72935307,"comment_id":128822120,"body_markdown":"Different activities or single activity with different fragments?","body":"Different activities or single activity with different fragments?"},{"owner":{"account_id":14629980,"reputation":772,"user_id":14599955,"display_name":"Tehleel Mir"},"score":0,"creation_date":1657526936,"post_id":72935307,"comment_id":128822129,"body_markdown":"different activities","body":"different activities"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657527203,"post_id":72935307,"comment_id":128822221,"body_markdown":"for showing loader? and are you expecting top activity only ?","body":"for showing loader? and are you expecting top activity only ?"},{"owner":{"account_id":14629980,"reputation":772,"user_id":14599955,"display_name":"Tehleel Mir"},"score":0,"creation_date":1657527485,"post_id":72935307,"comment_id":128822314,"body_markdown":"sorry mate, didn&#39;t understand","body":"sorry mate, didn&#39;t understand"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657527718,"post_id":72935307,"comment_id":128822404,"body_markdown":"My questions is You&#39;re in activity A and api called then you navigated to the different activity B. Why you want listen the changes in the B activity.","body":"My questions is You&#39;re in activity A and api called then you navigated to the different activity B. Why you want listen the changes in the B activity."}],"answers":[{"tags":[],"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657527664,"creation_date":1657527664,"answer_id":72935589,"question_id":72935307,"body_markdown":"It depends on how complicated you want to do it. A &quot;good approach&quot; is to have some BaseFragment, BaseActivity, BaseViewModel(BasePresenter) in your application. I say &quot;good approach&quot;, because you might know the concept of &quot;extend is evil&quot; and &quot;favor composition over inheritance&quot;, so you should watch out for not making the base classes too heavy. \r\n\r\nBut you can put some error handling(notification) logic in the base classes. For example, you can have some &quot;singleton&quot; or something with a lifecycle equal to the screens you navigate through. There you put the Network logic. \r\n\r\nYou observe the result from different VMs as part of different Activities. Just plain Observer pattern and you might return a boolean result &quot;handled&quot; from the observers so you show the dialog in only one Activity. \r\n\r\nWhen you receive the result in the VM - call(expose some stream of data,etc) the BaseActivity to show the dialog.   ","title":"How to display dialog on any screen (fragment or activity) in android","body":"<p>It depends on how complicated you want to do it. A &quot;good approach&quot; is to have some BaseFragment, BaseActivity, BaseViewModel(BasePresenter) in your application. I say &quot;good approach&quot;, because you might know the concept of &quot;extend is evil&quot; and &quot;favor composition over inheritance&quot;, so you should watch out for not making the base classes too heavy.</p>\n<p>But you can put some error handling(notification) logic in the base classes. For example, you can have some &quot;singleton&quot; or something with a lifecycle equal to the screens you navigate through. There you put the Network logic.</p>\n<p>You observe the result from different VMs as part of different Activities. Just plain Observer pattern and you might return a boolean result &quot;handled&quot; from the observers so you show the dialog in only one Activity.</p>\n<p>When you receive the result in the VM - call(expose some stream of data,etc) the BaseActivity to show the dialog.</p>\n"},{"tags":[],"owner":{"account_id":22364145,"reputation":91,"user_id":16580236,"display_name":"Brambora0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657527742,"creation_date":1657527742,"answer_id":72935606,"question_id":72935307,"body_markdown":"If you want to show `FragmentA` as dialog on background operation response change fragments supper class to `FragmentDialog`. This works only if you use Fragment not Activity. And show it by this code: \r\n\r\n```\r\nfun showResponse(fragmentManager:FragmentManager) {\r\n    val responseFragment = FragmentA()//or name of your Fragment\r\n    responseFragment.show(fragmentManager, &quot;&quot;)\r\n}\r\n```\r\nIf you want to show dialog from activity or do not show `FragmentA`, create class `ResponseDialog` with super class `DialogFragment`. In this class in method `onCreateDialog` you can design your dialog (add text, buttons, images...).\r\n\r\n```\r\nclass ResponseDialog: DialogFragment() {\r\n\r\n    override fun onCreateDialog(savedInstanceState: Bundle): Dialog {\r\n        return activity?.let {\r\n            val builder = AlertDialog.Builder(it)\r\n            builder.setMessage(&quot;data downloaded&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;,\r\n                            DialogInterface.OnClickListener { dialog, id -&gt;\r\n                                //positive button action here dissmis dialog\r\n                            })\r\n\r\n         \r\n            builder.create()\r\n        } ?: throw IllegalStateException(&quot;Activity cannot be null&quot;)\r\n    }\r\n}\r\n```\r\nAnd show it by this method:\r\n```\r\nfun showResponse(fragmentManager:FragmentManager) {\r\n    val responseFragment = ResponseDialog()\r\n    responseFragment.show(fragmentManager, &quot;&quot;)\r\n}\r\n```\r\n\r\n[Android dialogs documentation][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/dialogs","title":"How to display dialog on any screen (fragment or activity) in android","body":"<p>If you want to show <code>FragmentA</code> as dialog on background operation response change fragments supper class to <code>FragmentDialog</code>. This works only if you use Fragment not Activity. And show it by this code:</p>\n<pre><code>fun showResponse(fragmentManager:FragmentManager) {\n    val responseFragment = FragmentA()//or name of your Fragment\n    responseFragment.show(fragmentManager, &quot;&quot;)\n}\n</code></pre>\n<p>If you want to show dialog from activity or do not show <code>FragmentA</code>, create class <code>ResponseDialog</code> with super class <code>DialogFragment</code>. In this class in method <code>onCreateDialog</code> you can design your dialog (add text, buttons, images...).</p>\n<pre><code>class ResponseDialog: DialogFragment() {\n\n    override fun onCreateDialog(savedInstanceState: Bundle): Dialog {\n        return activity?.let {\n            val builder = AlertDialog.Builder(it)\n            builder.setMessage(&quot;data downloaded&quot;)\n                    .setPositiveButton(&quot;Ok&quot;,\n                            DialogInterface.OnClickListener { dialog, id -&gt;\n                                //positive button action here dissmis dialog\n                            })\n\n         \n            builder.create()\n        } ?: throw IllegalStateException(&quot;Activity cannot be null&quot;)\n    }\n}\n</code></pre>\n<p>And show it by this method:</p>\n<pre><code>fun showResponse(fragmentManager:FragmentManager) {\n    val responseFragment = ResponseDialog()\n    responseFragment.show(fragmentManager, &quot;&quot;)\n}\n</code></pre>\n<p><a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">Android dialogs documentation</a></p>\n"},{"tags":[],"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657529167,"creation_date":1657529167,"answer_id":72935850,"question_id":72935307,"body_markdown":"Create a [transparent activity][1] and in its onCreate method show your dialog.\r\nSet an OnDismissListener for the dialog and in this callback finish the activity.\r\nEvery where you need showing your dialog you can start this transparent activity\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2700683/8738231","title":"How to display dialog on any screen (fragment or activity) in android","body":"<p>Create a <a href=\"https://stackoverflow.com/a/2700683/8738231\">transparent activity</a> and in its onCreate method show your dialog.\nSet an OnDismissListener for the dialog and in this callback finish the activity.\nEvery where you need showing your dialog you can start this transparent activity</p>\n"}],"owner":{"account_id":14629980,"reputation":772,"user_id":14599955,"display_name":"Tehleel Mir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72935850,"answer_count":3,"score":0,"last_activity_date":1657529167,"creation_date":1657525971,"question_id":72935307,"body_markdown":"User is in Fragment/Activity &quot;A&quot; &lt;br&gt;\r\nIn the onCreate() of screen &quot;A&quot; i fire some network call on a background thread. \r\nUser navigates to some other Fragment/Activity, now when i get the response from the network i need to show the dialog no matter wherever the user is in the app. \r\n\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n**How can i achieve this behavior? using DialogFragment**","title":"How to display dialog on any screen (fragment or activity) in android","body":"<p>User is in Fragment/Activity &quot;A&quot; <br>\nIn the onCreate() of screen &quot;A&quot; i fire some network call on a background thread.\nUser navigates to some other Fragment/Activity, now when i get the response from the network i need to show the dialog no matter wherever the user is in the app.</p>\n<p><br><br></p>\n<p><strong>How can i achieve this behavior? using DialogFragment</strong></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1164213,"reputation":431,"user_id":1143156,"accept_rate":58,"display_name":"Rickky13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657515149,"creation_date":1657515149,"answer_id":72933855,"question_id":72929686,"body_markdown":"It seems that the link you posted is not active anymore `&quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;` \r\n\r\non chrome it sends a redirection to it&#39;s https endpoint:\r\n[![enter image description here][1]][1]\r\n\r\nWhen tried using `restTemplate.getForEntity(url, Object.class)` it shows a 302-redirect, modern browsers will automatically redirect hence it&#39;s transparent for the user.\r\n\r\n&gt; &lt;302,[Location:&quot;https://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;,\r\n&gt; Connection:&quot;close&quot;]&gt;\r\n\r\nTry to directly use its https endpoint, but this also means you need to handle the security certs [guide][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oBULp.png\r\n  [2]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965","title":"JSON contents answered from an API returns null (with Spring boot)","body":"<p>It seems that the link you posted is not active anymore <code>&quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;</code></p>\n<p>on chrome it sends a redirection to it's https endpoint:\n<a href=\"https://i.stack.imgur.com/oBULp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oBULp.png\" alt=\"enter image description here\" /></a></p>\n<p>When tried using <code>restTemplate.getForEntity(url, Object.class)</code> it shows a 302-redirect, modern browsers will automatically redirect hence it's transparent for the user.</p>\n<blockquote>\n<p>&lt;302,[Location:&quot;https://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;,\nConnection:&quot;close&quot;]&gt;</p>\n</blockquote>\n<p>Try to directly use its https endpoint, but this also means you need to handle the security certs <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965\">guide</a></p>\n"}],"owner":{"account_id":16335266,"reputation":3,"user_id":11797650,"display_name":"asdiasx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933855,"answer_count":1,"score":0,"last_activity_date":1657528157,"creation_date":1657467095,"question_id":72929686,"body_markdown":"I&#39;m learning to consume API with Spring boot and faced the following problem:\r\n\r\nThe URL &quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot; returns a JSON with the last results from Brazil&#39;s Lottery.\r\n\r\nWhen trying to receive this output with a Spring controller:\r\n\r\n```\r\n@GetMapping(value = &quot;/loterias&quot;)\r\npublic String getLotteryResults() {\r\n    String url = &quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;;\r\n    RestTemplate rest = new RestTemplate();\r\n    Object results = rest.getForObject(url, Object.class);\r\n\r\n    return results.toString();\r\n```\r\n\r\nI receive the following error message:\r\n\r\n&gt; 2022-07-10 12:22:14.692[0;39m [31mERROR[0;39m [35m17456[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because &quot;results&quot; is null] with root cause\r\n\r\nI&#39;m following the tutorial from &quot;https://www.geeksforgeeks.org/how-to-call-or-consume-external-api-in-spring-boot/&quot; (it works using the new link &quot;https://restcountries.com/v3.1/all&quot;).\r\n\r\nI had already tried the same output class as in the example with no success... Any hints on what can be done in this case?","title":"JSON contents answered from an API returns null (with Spring boot)","body":"<p>I'm learning to consume API with Spring boot and faced the following problem:</p>\n<p>The URL &quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot; returns a JSON with the last results from Brazil's Lottery.</p>\n<p>When trying to receive this output with a Spring controller:</p>\n<pre><code>@GetMapping(value = &quot;/loterias&quot;)\npublic String getLotteryResults() {\n    String url = &quot;http://servicebus2.caixa.gov.br/portaldeloterias/api/home/ultimos-resultados&quot;;\n    RestTemplate rest = new RestTemplate();\n    Object results = rest.getForObject(url, Object.class);\n\n    return results.toString();\n</code></pre>\n<p>I receive the following error message:</p>\n<blockquote>\n<p>2022-07-10 12:22:14.692[0;39m [31mERROR[0;39m [35m17456[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because &quot;results&quot; is null] with root cause</p>\n</blockquote>\n<p>I'm following the tutorial from &quot;https://www.geeksforgeeks.org/how-to-call-or-consume-external-api-in-spring-boot/&quot; (it works using the new link &quot;https://restcountries.com/v3.1/all&quot;).</p>\n<p>I had already tried the same output class as in the example with no success... Any hints on what can be done in this case?</p>\n"},{"tags":["java","node.js","encryption","aes","node-crypto"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657527937,"creation_date":1657527616,"answer_id":72935585,"question_id":72932201,"body_markdown":"The Java code uses only the first 16 bytes of the SHA256 hash as key, so the hash has to be truncated accordingly:\r\n\r\n```js\r\nvar keyStr = &#39;ENCRYPTION_KEY&#39;;\r\nvar hashPwd = crypto.createHash(&#39;sha256&#39;).update(keyStr, &#39;utf8&#39;).digest();\r\nvar keyBuffer = Buffer.from(hashPwd.subarray(0, 16));\r\n```\r\n\r\nA 16 bytes key corresponds to AES-128, so `&#39;aes-128-ecb&#39;` has to be used for decryption (and not `&#39;aes-256-ecb&#39;`). Furthermore, the ciphertext is Base64url encoded, so it has to be Base64url decoded (and not hex decoded):\r\n\r\n```js\r\nvar encryptedData = &#39;dkcvstQcGMQUJ1EJbHs3eY6j_0DjWqYTDGmedmUZwWs=&#39;;\r\nvar decipherIV = crypto.createDecipheriv(&#39;aes-128-ecb&#39;, keyBuffer,&#39;&#39;);\r\nvar output = Buffer.concat([decipherIV.update(encryptedData, &#39;base64url&#39;), decipherIV.final()]);\r\n```\r\n\r\n`output` is a buffer and may have to be UTF-8 decoded:\r\n\r\n```js\r\nconsole.log(output.toString(&#39;utf8&#39;)); // &#167;3.1: The fee is $3,000.\r\n```\r\n\r\nWith these changes, the NodeJS code decrypts the ciphertext created with the Java code.\r\n\r\n---------------------\r\n\r\nSecurity:&lt;br&gt;\r\n- The ECB mode is insecure and should not be used. Nowadays authenticated encryption is usually applied (such as GCM), or at least a mode with an IV (such as CBC).\r\n- Using a (fast) digest like SHA256 as key derivation is insecure. More secure is a dedicated key derivation function like Argon2 or PBKDF2.\r\n- In the Java code, the `Cipher` object is instantiated with the algorithm (`&quot;AES&quot;`) alone. This is not robust because then the provider-dependent default values are applied for mode and padding. For SunJCE, these are ECB and PKCS#5 padding, to which the NodeJS code is tailored. For other providers this may differ, so that the NodeJS code would then no longer be compatible. Therefore, it should be fully specified, e.g. `&quot;AES/ECB/PKCS5Padding&quot;`. \r\n- Similarly, when encoding the plaintext with `getBytes()`, the encoding should be specified, otherwise the platform-dependent default encoding is used.","title":"&#39;ERR_OSSL_EVP_WRONG_FINAL_BLOCK_LENGTH&#39; while decryption in node js","body":"<p>The Java code uses only the first 16 bytes of the SHA256 hash as key, so the hash has to be truncated accordingly:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var keyStr = 'ENCRYPTION_KEY';\nvar hashPwd = crypto.createHash('sha256').update(keyStr, 'utf8').digest();\nvar keyBuffer = Buffer.from(hashPwd.subarray(0, 16));\n</code></pre>\n<p>A 16 bytes key corresponds to AES-128, so <code>'aes-128-ecb'</code> has to be used for decryption (and not <code>'aes-256-ecb'</code>). Furthermore, the ciphertext is Base64url encoded, so it has to be Base64url decoded (and not hex decoded):</p>\n<pre class=\"lang-js prettyprint-override\"><code>var encryptedData = 'dkcvstQcGMQUJ1EJbHs3eY6j_0DjWqYTDGmedmUZwWs=';\nvar decipherIV = crypto.createDecipheriv('aes-128-ecb', keyBuffer,'');\nvar output = Buffer.concat([decipherIV.update(encryptedData, 'base64url'), decipherIV.final()]);\n</code></pre>\n<p><code>output</code> is a buffer and may have to be UTF-8 decoded:</p>\n<pre class=\"lang-js prettyprint-override\"><code>console.log(output.toString('utf8')); // §3.1: The fee is $3,000.\n</code></pre>\n<p>With these changes, the NodeJS code decrypts the ciphertext created with the Java code.</p>\n<hr />\n<p>Security:<br></p>\n<ul>\n<li>The ECB mode is insecure and should not be used. Nowadays authenticated encryption is usually applied (such as GCM), or at least a mode with an IV (such as CBC).</li>\n<li>Using a (fast) digest like SHA256 as key derivation is insecure. More secure is a dedicated key derivation function like Argon2 or PBKDF2.</li>\n<li>In the Java code, the <code>Cipher</code> object is instantiated with the algorithm (<code>&quot;AES&quot;</code>) alone. This is not robust because then the provider-dependent default values are applied for mode and padding. For SunJCE, these are ECB and PKCS#5 padding, to which the NodeJS code is tailored. For other providers this may differ, so that the NodeJS code would then no longer be compatible. Therefore, it should be fully specified, e.g. <code>&quot;AES/ECB/PKCS5Padding&quot;</code>.</li>\n<li>Similarly, when encoding the plaintext with <code>getBytes()</code>, the encoding should be specified, otherwise the platform-dependent default encoding is used.</li>\n</ul>\n"}],"owner":{"account_id":6745913,"reputation":11,"user_id":5197541,"display_name":"Shik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657527937,"creation_date":1657490942,"question_id":72932201,"body_markdown":"I have used AES encryption in java as below and trying to decrypt in javascript \r\n\r\nJAVA :\r\n\r\n\t    byte[] input = &quot;data&quot;.getBytes();\t\t\r\n\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\tbyte[] thedigest = md.digest(&quot;ENCRYPTION_KEY&quot;.getBytes(&quot;UTF-8&quot;));\r\n\t\tSecretKeySpec skc = new SecretKeySpec(Arrays.copyOf(thedigest, 16), &quot;AES&quot;);\r\n\t\tCipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t\tcipher.init(Cipher.ENCRYPT_MODE, skc);\r\n\t\t\r\n\t\tbyte[] cipherText = new byte[cipher.getOutputSize(input.length)];\r\n\t\tint ctLength = cipher.update(input, 0, input.length, cipherText, 0);\r\n\t\tctLength += cipher.doFinal(cipherText, ctLength);\r\n\t\t\t\r\n\t\tString encryptData = Base64.getUrlEncoder().encodeToString(cipherText);\r\n\t\t// Base64.encodeToString(cipherText, Base64.DEFAULT);\r\n\r\n\t\tSystem.out.println(&quot;encryptString:.......... &quot;+encryptData);\r\n\r\nNODEJS:\r\n\r\n    var crypto = require(&#39;crypto&#39;);\r\n    let keyStr = &quot;ENCRYPTION_KEY&quot;;\r\n    var text = &#39;infodba&#39;;\r\n    var hashPwd =crypto.createHash(&#39;sha256&#39;).update(keyStr,&#39;utf8&#39;).digest();\r\n    var key=[] ;\r\n    for (i = 0; i &lt; 16; i++) {\r\n      key[i] = hashPwd[i];\r\n    }\r\n    var keyBuffer = new Buffer(hashPwd);\r\n    var decipherIV = crypto.createDecipheriv(&#39;aes-256-ecb&#39;, keyBuffer,&#39;&#39;);\r\n    var cipherTxtBuffer = new Buffer(&#39;encryptedData&#39;,&#39;hex&#39;);\r\n    var output = decipherIV.update(cipherTxtBuffer);\r\n    output= output+decipherIV.final();\r\n    console.log(&quot;Dec Output &quot;+output);\r\n\r\n\t\t\r\nWhile running the node JS code getting error \r\n\r\ninternal/crypto/cipher.js:174\r\n  const ret = this[kHandle].final();                     ^\r\n\r\nError: error:0606506D:digital envelope routines:EVP_DecryptFinal_ex:wrong final block length\r\n    at Decipheriv.final (internal/crypto/cipher.js:174:29)\r\n    at deciphers (D:\\TestJS\\index.js:32:30)\r\n\t\t","title":"&#39;ERR_OSSL_EVP_WRONG_FINAL_BLOCK_LENGTH&#39; while decryption in node js","body":"<p>I have used AES encryption in java as below and trying to decrypt in javascript</p>\n<p>JAVA :</p>\n<pre><code>    byte[] input = &quot;data&quot;.getBytes();       \n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte[] thedigest = md.digest(&quot;ENCRYPTION_KEY&quot;.getBytes(&quot;UTF-8&quot;));\n    SecretKeySpec skc = new SecretKeySpec(Arrays.copyOf(thedigest, 16), &quot;AES&quot;);\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, skc);\n    \n    byte[] cipherText = new byte[cipher.getOutputSize(input.length)];\n    int ctLength = cipher.update(input, 0, input.length, cipherText, 0);\n    ctLength += cipher.doFinal(cipherText, ctLength);\n        \n    String encryptData = Base64.getUrlEncoder().encodeToString(cipherText);\n    // Base64.encodeToString(cipherText, Base64.DEFAULT);\n\n    System.out.println(&quot;encryptString:.......... &quot;+encryptData);\n</code></pre>\n<p>NODEJS:</p>\n<pre><code>var crypto = require('crypto');\nlet keyStr = &quot;ENCRYPTION_KEY&quot;;\nvar text = 'infodba';\nvar hashPwd =crypto.createHash('sha256').update(keyStr,'utf8').digest();\nvar key=[] ;\nfor (i = 0; i &lt; 16; i++) {\n  key[i] = hashPwd[i];\n}\nvar keyBuffer = new Buffer(hashPwd);\nvar decipherIV = crypto.createDecipheriv('aes-256-ecb', keyBuffer,'');\nvar cipherTxtBuffer = new Buffer('encryptedData','hex');\nvar output = decipherIV.update(cipherTxtBuffer);\noutput= output+decipherIV.final();\nconsole.log(&quot;Dec Output &quot;+output);\n\n    \n</code></pre>\n<p>While running the node JS code getting error</p>\n<p>internal/crypto/cipher.js:174\nconst ret = this[kHandle].final();                     ^</p>\n<p>Error: error:0606506D:digital envelope routines:EVP_DecryptFinal_ex:wrong final block length\nat Decipheriv.final (internal/crypto/cipher.js:174:29)\nat deciphers (D:\\TestJS\\index.js:32:30)</p>\n"},{"tags":["java","rmi","ehcache"],"answers":[{"tags":[],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1405078494,"creation_date":1405078494,"answer_id":24696785,"question_id":24687153,"body_markdown":"After many hours of debugging in JDK and ehcache source codes I figured it out.\r\n\r\nMy core incorrect assumption was that something is wrong with Windows node where I see the error. Turned out it was linux node that supplies incorrect address.\r\n\r\nOfficial Ehcache FAQ [says][1]:\r\n\r\n&gt; This is caused by a 2008 change to the Ubuntu/Debian Linux default\r\n&gt; network configuration. Essentially, the Java call\r\n&gt; InetAddress.getLocalHost(); always returns the loopback address, which\r\n&gt; is 127.0.0.1. Why? Because in these recent distros, a system call of $\r\n&gt; hostname always returns an address mapped onto the loopback device,\r\n&gt; and this causes Ehcache&#39;s RMI peer creation logic to always assign the\r\n&gt; loopback address, which causes the error you are seeing. All you need\r\n&gt; to do is crack open the network config and make sure that the hostname\r\n&gt; of the machine returns a valid network address accessible by other\r\n&gt; peers on the network.\r\n\r\nLinux node was getting &quot;127.0.0.1&quot; in following method of class `java.rmi.registry.LocateRegistry`\r\n\r\n    public static Registry getRegistry(String host, int port, RMIClientSocketFactory csf) throws RemoteException\r\n    {\r\n        Registry registry = null;\r\n\r\n        if (port &lt;= 0)\r\n            port = Registry.REGISTRY_PORT;\r\n\r\n        if (host == null || host.length() == 0) {\r\n            // If host is blank (as returned by &quot;file:&quot; URL in 1.0.2 used in\r\n            // java.rmi.Naming), try to convert to real local host name so\r\n            // that the RegistryImpl&#39;s checkAccess will not fail.\r\n            try {\r\n                host = java.net.InetAddress.getLocalHost().getHostAddress();\r\n            } catch (Exception e) {\r\n                // If that failed, at least try &quot;&quot; (localhost) anyway...\r\n                host = &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        LiveRef liveRef = new LiveRef(new ObjID(ObjID.REGISTRY_ID), new TCPEndpoint(host, port, csf, null), false);\r\n        RemoteRef ref = (csf == null) ? new UnicastRef(liveRef) : new UnicastRef2(liveRef);\r\n\r\n        return (Registry) Util.createProxy(RegistryImpl.class, ref, false);\r\n    }\r\n\r\nMy Windows node was receiving it in following method of class `net.sf.ehcache.distribution.ManualRMICacheManagerPeerProvider` where it calls `lookupRemoteCachePeer`\r\n\r\n    public final synchronized List listRemoteCachePeers(Ehcache cache) throws CacheException {\r\n        List remoteCachePeers = new ArrayList();\r\n        List staleList = new ArrayList();\r\n        for (Iterator iterator = peerUrls.keySet().iterator(); iterator.hasNext();) {\r\n            String rmiUrl = (String) iterator.next();\r\n            String rmiUrlCacheName = extractCacheName(rmiUrl);\r\n\r\n            if (!rmiUrlCacheName.equals(cache.getName())) {\r\n                continue;\r\n            }\r\n            Date date = (Date) peerUrls.get(rmiUrl);\r\n            if (!stale(date)) {\r\n                CachePeer cachePeer = null;\r\n                try {\r\n                    cachePeer = lookupRemoteCachePeer(rmiUrl);\r\n                    remoteCachePeers.add(cachePeer);\r\n                } catch (Exception e) {\r\n                    if (LOG.isDebugEnabled()) {\r\n                        LOG.debug(&quot;Looking up rmiUrl &quot; + rmiUrl + &quot; through exception &quot; + e.getMessage()\r\n                                + &quot;. This may be normal if a node has gone offline. Or it may indicate network connectivity&quot;\r\n                                + &quot; difficulties&quot;, e);\r\n                    }\r\n                }\r\n            } else {\r\n                    LOG.debug(&quot;rmiUrl {} should never be stale for a manually configured cluster.&quot;, rmiUrl);\r\n                staleList.add(rmiUrl);\r\n            }\r\n\r\n        }\r\n\r\n        //Remove any stale remote peers. Must be done here to avoid concurrent modification exception.\r\n        for (int i = 0; i &lt; staleList.size(); i++) {\r\n            String rmiUrl = (String) staleList.get(i);\r\n            peerUrls.remove(rmiUrl);\r\n        }\r\n        return remoteCachePeers;\r\n    }\r\n\r\nOfficial advice from Terracotta is to modify `hosts` file which seems too brutal to me. I concluded that it would be easier for Ops team to simply supply correct binding address in command line of my server which looks like this\r\n\r\n    java -Djava.rmi.server.hostname=192.168.10.128 -jar services.jar\r\n\r\n\r\n  [1]: http://ehcache.org/documentation/faq#with-replicated-caching-on-ubuntu-or-debian-why-am-i-see-the-warning-below","title":"One of ehcache nodes mistakenly tries to connect to 127.0.0.1","body":"<p>After many hours of debugging in JDK and ehcache source codes I figured it out.</p>\n\n<p>My core incorrect assumption was that something is wrong with Windows node where I see the error. Turned out it was linux node that supplies incorrect address.</p>\n\n<p>Official Ehcache FAQ <a href=\"http://ehcache.org/documentation/faq#with-replicated-caching-on-ubuntu-or-debian-why-am-i-see-the-warning-below\" rel=\"noreferrer\">says</a>:</p>\n\n<blockquote>\n  <p>This is caused by a 2008 change to the Ubuntu/Debian Linux default\n  network configuration. Essentially, the Java call\n  InetAddress.getLocalHost(); always returns the loopback address, which\n  is 127.0.0.1. Why? Because in these recent distros, a system call of $\n  hostname always returns an address mapped onto the loopback device,\n  and this causes Ehcache's RMI peer creation logic to always assign the\n  loopback address, which causes the error you are seeing. All you need\n  to do is crack open the network config and make sure that the hostname\n  of the machine returns a valid network address accessible by other\n  peers on the network.</p>\n</blockquote>\n\n<p>Linux node was getting \"127.0.0.1\" in following method of class <code>java.rmi.registry.LocateRegistry</code></p>\n\n<pre><code>public static Registry getRegistry(String host, int port, RMIClientSocketFactory csf) throws RemoteException\n{\n    Registry registry = null;\n\n    if (port &lt;= 0)\n        port = Registry.REGISTRY_PORT;\n\n    if (host == null || host.length() == 0) {\n        // If host is blank (as returned by \"file:\" URL in 1.0.2 used in\n        // java.rmi.Naming), try to convert to real local host name so\n        // that the RegistryImpl's checkAccess will not fail.\n        try {\n            host = java.net.InetAddress.getLocalHost().getHostAddress();\n        } catch (Exception e) {\n            // If that failed, at least try \"\" (localhost) anyway...\n            host = \"\";\n        }\n    }\n\n    LiveRef liveRef = new LiveRef(new ObjID(ObjID.REGISTRY_ID), new TCPEndpoint(host, port, csf, null), false);\n    RemoteRef ref = (csf == null) ? new UnicastRef(liveRef) : new UnicastRef2(liveRef);\n\n    return (Registry) Util.createProxy(RegistryImpl.class, ref, false);\n}\n</code></pre>\n\n<p>My Windows node was receiving it in following method of class <code>net.sf.ehcache.distribution.ManualRMICacheManagerPeerProvider</code> where it calls <code>lookupRemoteCachePeer</code></p>\n\n<pre><code>public final synchronized List listRemoteCachePeers(Ehcache cache) throws CacheException {\n    List remoteCachePeers = new ArrayList();\n    List staleList = new ArrayList();\n    for (Iterator iterator = peerUrls.keySet().iterator(); iterator.hasNext();) {\n        String rmiUrl = (String) iterator.next();\n        String rmiUrlCacheName = extractCacheName(rmiUrl);\n\n        if (!rmiUrlCacheName.equals(cache.getName())) {\n            continue;\n        }\n        Date date = (Date) peerUrls.get(rmiUrl);\n        if (!stale(date)) {\n            CachePeer cachePeer = null;\n            try {\n                cachePeer = lookupRemoteCachePeer(rmiUrl);\n                remoteCachePeers.add(cachePeer);\n            } catch (Exception e) {\n                if (LOG.isDebugEnabled()) {\n                    LOG.debug(\"Looking up rmiUrl \" + rmiUrl + \" through exception \" + e.getMessage()\n                            + \". This may be normal if a node has gone offline. Or it may indicate network connectivity\"\n                            + \" difficulties\", e);\n                }\n            }\n        } else {\n                LOG.debug(\"rmiUrl {} should never be stale for a manually configured cluster.\", rmiUrl);\n            staleList.add(rmiUrl);\n        }\n\n    }\n\n    //Remove any stale remote peers. Must be done here to avoid concurrent modification exception.\n    for (int i = 0; i &lt; staleList.size(); i++) {\n        String rmiUrl = (String) staleList.get(i);\n        peerUrls.remove(rmiUrl);\n    }\n    return remoteCachePeers;\n}\n</code></pre>\n\n<p>Official advice from Terracotta is to modify <code>hosts</code> file which seems too brutal to me. I concluded that it would be easier for Ops team to simply supply correct binding address in command line of my server which looks like this</p>\n\n<pre><code>java -Djava.rmi.server.hostname=192.168.10.128 -jar services.jar\n</code></pre>\n"}],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24696785,"answer_count":1,"score":1,"last_activity_date":1657527777,"creation_date":1405030325,"question_id":24687153,"body_markdown":"Could you guys help me understand why one of ehcache nodes mistakenly tries to connect to 127.0.0.1 ?\r\n\r\nI&#39;m using ehcache 2.8.3. One of my node is running under VMWare in NAT mode. Therefore host machine has ip `192.168.10.1` (Windows 7) and one in VMWare is `192.168.10.128` (CentOS 6).\r\n\r\nI have following ehcache config\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:noNamespaceSchemaLocation=&quot;ehcache.xsd&quot;\r\n         updateCheck=&quot;true&quot; monitoring=&quot;autodetect&quot;\r\n         dynamicConfig=&quot;true&quot;&gt;\r\n\r\n    &lt;cacheManagerPeerProviderFactory class=&quot;net.sf.ehcache.distribution.RMICacheManagerPeerProviderFactory&quot;\r\n                                     properties=&quot;peerDiscovery=manual, rmiUrls=//192.168.10.128:51000/myCache1|//192.168.10.1:51000/myCache1&quot;/&gt;\r\n\r\n    &lt;cacheManagerPeerListenerFactory class=&quot;net.sf.ehcache.distribution.RMICacheManagerPeerListenerFactory&quot;\r\n                                     properties=&quot;hostName=0.0.0.0,port=51000,socketTimeoutMillis=2000&quot;/&gt;\r\n\r\n    &lt;diskStore path=&quot;java.io.tmpdir&quot;/&gt;\r\n\r\n    &lt;defaultCache\r\n            maxEntriesLocalHeap=&quot;10000&quot;\r\n            eternal=&quot;false&quot;\r\n            timeToIdleSeconds=&quot;120&quot;\r\n            timeToLiveSeconds=&quot;120&quot;\r\n            diskSpoolBufferSizeMB=&quot;30&quot;\r\n            maxEntriesLocalDisk=&quot;10000000&quot;\r\n            diskExpiryThreadIntervalSeconds=&quot;120&quot;\r\n            memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n            statistics=&quot;false&quot;&gt;\r\n        &lt;persistence strategy=&quot;localTempSwap&quot;/&gt;\r\n    &lt;/defaultCache&gt;\r\n\r\n    &lt;cache name=&quot;myCache1&quot;\r\n           maxEntriesLocalHeap=&quot;10000&quot;\r\n           maxEntriesLocalDisk=&quot;10000&quot;\r\n           eternal=&quot;false&quot;\r\n           diskSpoolBufferSizeMB=&quot;20&quot;\r\n           timeToIdleSeconds=&quot;300&quot;\r\n           timeToLiveSeconds=&quot;600&quot;\r\n           memoryStoreEvictionPolicy=&quot;LFU&quot;\r\n           transactionalMode=&quot;off&quot;&gt;\r\n        &lt;persistence strategy=&quot;localTempSwap&quot;/&gt;\r\n\r\n        &lt;cacheEventListenerFactory class=&quot;net.sf.ehcache.distribution.RMICacheReplicatorFactory&quot;/&gt;\r\n    &lt;/cache&gt;\r\n\r\n&lt;/ehcache&gt;\r\n\r\nMessages from `192.168.10.128` to `192.168.10.1` get routed successfully. But opposite direction doesn&#39;t work. I get following error in log on `192.168.10.1`\r\n\r\n    2014-07-11 02:02:19.260 +0400 DEBUG Lookup URL //192.168.10.128:51000/myCache1\r\n    2014-07-11 02:02:20.262 +0400 DEBUG Lookup URL //192.168.10.1:51000/myCache1\r\n    2014-07-11 02:02:21.264 +0400 WARN  Unable to send message to remote peer.  Message was: Connection refused to host: 127.0.0.1; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n    java.rmi.ConnectException: Connection refused to host: 127.0.0.1; nested exception is:\r\n            java.net.ConnectException: Connection refused: connect\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:619) ~[na:1.7.0_60]\r\n            at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216) ~[na:1.7.0_60]\r\n            at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202) ~[na:1.7.0_60]\r\n            at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:129) ~[na:1.7.0_60]\r\n            at net.sf.ehcache.distribution.RMICachePeer_Stub.send(Unknown Source) ~[services.jar:1.1]\r\n            at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.writeReplicationQueue(RMIAsynchronousCacheReplicator.java:314) [services.jar:1.1]\r\n            at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.replicationThreadMain(RMIAsynchronousCacheReplicator.java:127) [services.jar:1.1]\r\n            at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.access$000(RMIAsynchronousCacheReplicator.java:58) [services.jar:1.1]\r\n            at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator$ReplicationThread.run(RMIAsynchronousCacheReplicator.java:389) [services.jar:1.1]\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n            at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.7.0_60]\r\n            at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.7.0_60]\r\n            at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) ~[na:1.7.0_60]\r\n            at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) ~[na:1.7.0_60]\r\n            at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) ~[na:1.7.0_60]\r\n            at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.7.0_60]\r\n            at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.7.0_60]\r\n            at java.net.Socket.connect(Socket.java:579) ~[na:1.7.0_60]\r\n            at java.net.Socket.connect(Socket.java:528) ~[na:1.7.0_60]\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:425) ~[na:1.7.0_60]\r\n            at java.net.Socket.&lt;init&gt;(Socket.java:208) ~[na:1.7.0_60]\r\n            at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40) ~[na:1.7.0_60]\r\n            at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:147) ~[na:1.7.0_60]\r\n            at net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory.createSocket(ConfigurableRMIClientSocketFactory.java:71) ~[services.jar:1.1]\r\n            at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613) ~[na:1.7.0_60]\r\n            ... 8 common frames omitted\r\n\r\nWhy is it trying to connect to 127.0.0.1 if I don&#39;t it anywhere in config file ?\r\n\r\nI can telnet to 192.168.10.128:51000 from 192.168.10.1.\r\n\r\nI also tried enabling bootstraping and started seeing following log message\r\n\r\n    2014-07-11 02:35:30.515 +0400 DEBUG cache peers: [RMICachePeer_Stub[UnicastRef2 [liveRef: [endpoint:[127.0.0.1:18405,net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory@7d0](remote),objID:[-43892557:1472247d06b:-7fff, -5287536613776006259]]]]]\r\n    2014-07-11 02:35:30.516 +0400 DEBUG Bootstrapping myCache1 from RMICachePeer_Stub[UnicastRef2 [liveRef: [endpoint:[127.0.0.1:18405,net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory@7d0](remote),objID:[-43892557:1472247d06b:-7fff, -5287536613776006259]]]]\r\n\r\nWhy does it think I have peer on `127.0.0.1:18405` ?","title":"One of ehcache nodes mistakenly tries to connect to 127.0.0.1","body":"<p>Could you guys help me understand why one of ehcache nodes mistakenly tries to connect to 127.0.0.1 ?</p>\n\n<p>I'm using ehcache 2.8.3. One of my node is running under VMWare in NAT mode. Therefore host machine has ip <code>192.168.10.1</code> (Windows 7) and one in VMWare is <code>192.168.10.128</code> (CentOS 6).</p>\n\n<p>I have following ehcache config</p>\n\n<p>\n</p>\n\n<pre><code>&lt;cacheManagerPeerProviderFactory class=\"net.sf.ehcache.distribution.RMICacheManagerPeerProviderFactory\"\n                                 properties=\"peerDiscovery=manual, rmiUrls=//192.168.10.128:51000/myCache1|//192.168.10.1:51000/myCache1\"/&gt;\n\n&lt;cacheManagerPeerListenerFactory class=\"net.sf.ehcache.distribution.RMICacheManagerPeerListenerFactory\"\n                                 properties=\"hostName=0.0.0.0,port=51000,socketTimeoutMillis=2000\"/&gt;\n\n&lt;diskStore path=\"java.io.tmpdir\"/&gt;\n\n&lt;defaultCache\n        maxEntriesLocalHeap=\"10000\"\n        eternal=\"false\"\n        timeToIdleSeconds=\"120\"\n        timeToLiveSeconds=\"120\"\n        diskSpoolBufferSizeMB=\"30\"\n        maxEntriesLocalDisk=\"10000000\"\n        diskExpiryThreadIntervalSeconds=\"120\"\n        memoryStoreEvictionPolicy=\"LRU\"\n        statistics=\"false\"&gt;\n    &lt;persistence strategy=\"localTempSwap\"/&gt;\n&lt;/defaultCache&gt;\n\n&lt;cache name=\"myCache1\"\n       maxEntriesLocalHeap=\"10000\"\n       maxEntriesLocalDisk=\"10000\"\n       eternal=\"false\"\n       diskSpoolBufferSizeMB=\"20\"\n       timeToIdleSeconds=\"300\"\n       timeToLiveSeconds=\"600\"\n       memoryStoreEvictionPolicy=\"LFU\"\n       transactionalMode=\"off\"&gt;\n    &lt;persistence strategy=\"localTempSwap\"/&gt;\n\n    &lt;cacheEventListenerFactory class=\"net.sf.ehcache.distribution.RMICacheReplicatorFactory\"/&gt;\n&lt;/cache&gt;\n</code></pre>\n\n<p></p>\n\n<p>Messages from <code>192.168.10.128</code> to <code>192.168.10.1</code> get routed successfully. But opposite direction doesn't work. I get following error in log on <code>192.168.10.1</code></p>\n\n<pre><code>2014-07-11 02:02:19.260 +0400 DEBUG Lookup URL //192.168.10.128:51000/myCache1\n2014-07-11 02:02:20.262 +0400 DEBUG Lookup URL //192.168.10.1:51000/myCache1\n2014-07-11 02:02:21.264 +0400 WARN  Unable to send message to remote peer.  Message was: Connection refused to host: 127.0.0.1; nested exception is:\n        java.net.ConnectException: Connection refused: connect\njava.rmi.ConnectException: Connection refused to host: 127.0.0.1; nested exception is:\n        java.net.ConnectException: Connection refused: connect\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:619) ~[na:1.7.0_60]\n        at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216) ~[na:1.7.0_60]\n        at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202) ~[na:1.7.0_60]\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:129) ~[na:1.7.0_60]\n        at net.sf.ehcache.distribution.RMICachePeer_Stub.send(Unknown Source) ~[services.jar:1.1]\n        at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.writeReplicationQueue(RMIAsynchronousCacheReplicator.java:314) [services.jar:1.1]\n        at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.replicationThreadMain(RMIAsynchronousCacheReplicator.java:127) [services.jar:1.1]\n        at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator.access$000(RMIAsynchronousCacheReplicator.java:58) [services.jar:1.1]\n        at net.sf.ehcache.distribution.RMIAsynchronousCacheReplicator$ReplicationThread.run(RMIAsynchronousCacheReplicator.java:389) [services.jar:1.1]\nCaused by: java.net.ConnectException: Connection refused: connect\n        at java.net.DualStackPlainSocketImpl.connect0(Native Method) ~[na:1.7.0_60]\n        at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) ~[na:1.7.0_60]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) ~[na:1.7.0_60]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) ~[na:1.7.0_60]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) ~[na:1.7.0_60]\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.7.0_60]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.7.0_60]\n        at java.net.Socket.connect(Socket.java:579) ~[na:1.7.0_60]\n        at java.net.Socket.connect(Socket.java:528) ~[na:1.7.0_60]\n        at java.net.Socket.&lt;init&gt;(Socket.java:425) ~[na:1.7.0_60]\n        at java.net.Socket.&lt;init&gt;(Socket.java:208) ~[na:1.7.0_60]\n        at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40) ~[na:1.7.0_60]\n        at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:147) ~[na:1.7.0_60]\n        at net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory.createSocket(ConfigurableRMIClientSocketFactory.java:71) ~[services.jar:1.1]\n        at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613) ~[na:1.7.0_60]\n        ... 8 common frames omitted\n</code></pre>\n\n<p>Why is it trying to connect to 127.0.0.1 if I don't it anywhere in config file ?</p>\n\n<p>I can telnet to 192.168.10.128:51000 from 192.168.10.1.</p>\n\n<p>I also tried enabling bootstraping and started seeing following log message</p>\n\n<pre><code>2014-07-11 02:35:30.515 +0400 DEBUG cache peers: [RMICachePeer_Stub[UnicastRef2 [liveRef: [endpoint:[127.0.0.1:18405,net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory@7d0](remote),objID:[-43892557:1472247d06b:-7fff, -5287536613776006259]]]]]\n2014-07-11 02:35:30.516 +0400 DEBUG Bootstrapping myCache1 from RMICachePeer_Stub[UnicastRef2 [liveRef: [endpoint:[127.0.0.1:18405,net.sf.ehcache.distribution.ConfigurableRMIClientSocketFactory@7d0](remote),objID:[-43892557:1472247d06b:-7fff, -5287536613776006259]]]]\n</code></pre>\n\n<p>Why does it think I have peer on <code>127.0.0.1:18405</code> ?</p>\n"},{"tags":["java","rdf","jena","shacl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657386815,"post_id":72920488,"comment_id":128800367,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10117141,"reputation":338,"user_id":7475446,"display_name":"user0221441"},"score":0,"creation_date":1657484169,"post_id":72920488,"comment_id":128815239,"body_markdown":"Kindly mark  the solution as the answer if it helps/works for you. Thanks!","body":"Kindly mark  the solution as the answer if it helps/works for you. Thanks!"},{"owner":{"account_id":15032752,"reputation":29,"user_id":10850275,"display_name":"N.Omar"},"score":0,"creation_date":1657484444,"post_id":72920488,"comment_id":128815301,"body_markdown":"I want to see every type of object : project for example. And my intention is to validate this file using shacl, I guess without specifing the type of my object I can not validate its with shacl. Did you got the its ?","body":"I want to see every type of object : project for example. And my intention is to validate this file using shacl, I guess without specifing the type of my object I can not validate its with shacl. Did you got the its ?"}],"answers":[{"tags":[],"owner":{"account_id":10117141,"reputation":338,"user_id":7475446,"display_name":"user0221441"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657527437,"creation_date":1657402057,"answer_id":72924741,"question_id":72920488,"body_markdown":"I assume `dataset` is a `Model` object. You can use the `setNsPrefixes(String prefix, String URI)` on your `Model` object as shown below.\r\n\r\n```\r\ndataset.setNsPrefix(&quot;ex&quot;, &quot;http://tge.test.com/&quot; )\r\n```\r\n\r\nRunning `RDFDataMgr.write(System.out, dataset, Lang.TRIG);` then should fetch your expected results. As for shacl validation,\r\n\r\n```\r\nimport org.apache.jena.shacl.Shapes;\r\nimport org.apache.jena.shacl.ValidationReport;\r\nimport org.apache.jena.shacl.lib.ShLib;\r\nimport org.apache.jena.graph.Graph;\r\nimport org.apache.jena.riot.RDFDataMgr;\r\n\r\nGraph shapesGraph = RDFDataMgr.loadGraph(&quot;shapes/file/path&quot;); //load your shapes graph\r\nShapes shapes = Shapes.parse(shapesGraph); //parse it to a Shapes object\r\n\r\n\r\nGraph dataGraph = dataset.getGraph(); \r\nValidationReport report = ShaclValidator.get().validate(shapes, dataGraph); // do the validation\r\n\r\n//print reports\r\nShLib.printReport(report); \r\nSystem.out.println();\r\nRDFDataMgr.write(System.out, report.getModel(), Lang.TTL);\r\n```\r\n\r\nEDIT 1: Example SHACL Shape\r\n-------------------\r\n\r\n\r\n```\r\n@prefix sh:&lt;http://www.w3.org/ns/shacl#&gt;.\r\n@prefix ex:&lt;http://tge.test.com/&gt;.\r\n\r\nex:MyShape \r\n    a sh:NodeShape;\r\n    # target instances(objects) of class ex:Project\r\n    sh:targetClass ex:Project;\r\n    # an example property shape to validate that each project must have a\r\n    # creator, or rather an object along the predicate ex:creator\r\n    sh:property [\r\n        a sh:PropertyShape;\r\n        sh:path ex:creator;\r\n        sh:minCount 1;\r\n        ] .\r\n\r\n```","title":"Can not see name of objects or prefixes in my generated lang.TRIG or lang.NQUADS file","body":"<p>I assume <code>dataset</code> is a <code>Model</code> object. You can use the <code>setNsPrefixes(String prefix, String URI)</code> on your <code>Model</code> object as shown below.</p>\n<pre><code>dataset.setNsPrefix(&quot;ex&quot;, &quot;http://tge.test.com/&quot; )\n</code></pre>\n<p>Running <code>RDFDataMgr.write(System.out, dataset, Lang.TRIG);</code> then should fetch your expected results. As for shacl validation,</p>\n<pre><code>import org.apache.jena.shacl.Shapes;\nimport org.apache.jena.shacl.ValidationReport;\nimport org.apache.jena.shacl.lib.ShLib;\nimport org.apache.jena.graph.Graph;\nimport org.apache.jena.riot.RDFDataMgr;\n\nGraph shapesGraph = RDFDataMgr.loadGraph(&quot;shapes/file/path&quot;); //load your shapes graph\nShapes shapes = Shapes.parse(shapesGraph); //parse it to a Shapes object\n\n\nGraph dataGraph = dataset.getGraph(); \nValidationReport report = ShaclValidator.get().validate(shapes, dataGraph); // do the validation\n\n//print reports\nShLib.printReport(report); \nSystem.out.println();\nRDFDataMgr.write(System.out, report.getModel(), Lang.TTL);\n</code></pre>\n<h2>EDIT 1: Example SHACL Shape</h2>\n<pre><code>@prefix sh:&lt;http://www.w3.org/ns/shacl#&gt;.\n@prefix ex:&lt;http://tge.test.com/&gt;.\n\nex:MyShape \n    a sh:NodeShape;\n    # target instances(objects) of class ex:Project\n    sh:targetClass ex:Project;\n    # an example property shape to validate that each project must have a\n    # creator, or rather an object along the predicate ex:creator\n    sh:property [\n        a sh:PropertyShape;\n        sh:path ex:creator;\n        sh:minCount 1;\n        ] .\n\n</code></pre>\n"}],"owner":{"account_id":15032752,"reputation":29,"user_id":10850275,"display_name":"N.Omar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657527437,"creation_date":1657361165,"question_id":72920488,"body_markdown":"I have a datatset and I create a ttl file after any changement of my dataset.\r\nThe output of my file after using is something like :\r\n       \r\n\r\n RDFDataMgr.write(System.out, dataset, Lang.TRIG);\r\n\r\n    &lt;http://tge.test.com/pro&gt;\r\n            &lt;http://tge.test.com/creator&gt;\r\n                    &quot;Alice&quot; ;\r\n           &lt;http://tge.test.com/date&gt;  &quot;08.07.2022 16:07:24&quot; ;\r\n           &lt;http://tge.test.com/projectName&gt;\r\n                    &quot;project15&quot; .\r\n    \r\n    &lt;http://tge.test.com/project2&gt;\r\n           &lt;http://tge.test.com/creator&gt;\r\n                    &quot;MyName&quot; ;\r\n            &lt;http://tge.test.com/date&gt;  &quot;09.07.2022 10:24:03&quot; ;\r\n            &lt;http://tge.test.com/projectName&gt;\r\n                    &quot;project2&quot; .\r\n\r\n**I would like that my ttl file would like something like this :**\r\n\r\n    @prefix ex: &lt;http://tge.test.com/&gt; .\r\n    ex:project15\r\n        a ex:Project;\r\n        ex:projectName &quot;project15&quot;;\r\n        ex:date &quot;08.07.2022 16:07:24&quot;;\r\n        ex:creator &quot;Alice&quot; .\r\n    \r\n    \r\n    ex:project2\r\n        a ex:Project;\r\n        ex:projectName &quot;project2&quot;;\r\n        ex:date &quot;09.07.2022 10:24:03&quot;;\r\n        ex:creator &quot;MyName&quot; .\r\n\r\n\r\n**I want to see every type of object : project for example.**\r\nAnd my intention is to validate this file using shacl, I guess without specifing the type of my object I can not validate its with shacl.\r\n\r\n\r\n","title":"Can not see name of objects or prefixes in my generated lang.TRIG or lang.NQUADS file","body":"<p>I have a datatset and I create a ttl file after any changement of my dataset.\nThe output of my file after using is something like :</p>\n<p>RDFDataMgr.write(System.out, dataset, Lang.TRIG);</p>\n<pre><code>&lt;http://tge.test.com/pro&gt;\n        &lt;http://tge.test.com/creator&gt;\n                &quot;Alice&quot; ;\n       &lt;http://tge.test.com/date&gt;  &quot;08.07.2022 16:07:24&quot; ;\n       &lt;http://tge.test.com/projectName&gt;\n                &quot;project15&quot; .\n\n&lt;http://tge.test.com/project2&gt;\n       &lt;http://tge.test.com/creator&gt;\n                &quot;MyName&quot; ;\n        &lt;http://tge.test.com/date&gt;  &quot;09.07.2022 10:24:03&quot; ;\n        &lt;http://tge.test.com/projectName&gt;\n                &quot;project2&quot; .\n</code></pre>\n<p><strong>I would like that my ttl file would like something like this :</strong></p>\n<pre><code>@prefix ex: &lt;http://tge.test.com/&gt; .\nex:project15\n    a ex:Project;\n    ex:projectName &quot;project15&quot;;\n    ex:date &quot;08.07.2022 16:07:24&quot;;\n    ex:creator &quot;Alice&quot; .\n\n\nex:project2\n    a ex:Project;\n    ex:projectName &quot;project2&quot;;\n    ex:date &quot;09.07.2022 10:24:03&quot;;\n    ex:creator &quot;MyName&quot; .\n</code></pre>\n<p><strong>I want to see every type of object : project for example.</strong>\nAnd my intention is to validate this file using shacl, I guess without specifing the type of my object I can not validate its with shacl.</p>\n"},{"tags":["java","relative-path","web.xml"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1657534975,"post_id":72935564,"comment_id":128824827,"body_markdown":"did you try without the slash, so only &lt;param-value&gt;WebApp.ini&lt;/param-value&gt; or &lt;param-value&gt;./WebApp.ini&lt;/param-value&gt;?","body":"did you try without the slash, so only &lt;param-value&gt;WebApp.ini&lt;/param-value&gt; or &lt;param-value&gt;./WebApp.ini&lt;/param-value&gt;?"},{"owner":{"account_id":1310475,"reputation":121,"user_id":1258560,"display_name":"apifeez"},"score":0,"creation_date":1657535521,"post_id":72935564,"comment_id":128825020,"body_markdown":"Yes i already tried its not working.\nMy file present inside WebContent/Web-INF folder.","body":"Yes i already tried its not working. My file present inside WebContent/Web-INF folder."}],"owner":{"account_id":1310475,"reputation":121,"user_id":1258560,"display_name":"apifeez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657527426,"creation_date":1657527426,"question_id":72935564,"body_markdown":"Below is the web.xml path I added for WebApp.ini I am receiving file not found Exception but if I give the exact path i.e WAS container then war then its working.\r\n \r\n\r\n    &lt;context-param&gt;\r\n    \t\t&lt;description&gt;\r\n    \t\t&lt;/description&gt;\r\n    \t\t&lt;param-name&gt;InitFileName&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WebApp.ini&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\t","title":"How to specify a Relative file path in web.xml file for my .ini file","body":"<p>Below is the web.xml path I added for WebApp.ini I am receiving file not found Exception but if I give the exact path i.e WAS container then war then its working.</p>\n<pre><code>&lt;context-param&gt;\n        &lt;description&gt;\n        &lt;/description&gt;\n        &lt;param-name&gt;InitFileName&lt;/param-name&gt;\n        &lt;param-value&gt;/WebApp.ini&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":["java","maven","content-management-system","magnolia"],"answers":[{"tags":[],"owner":{"account_id":2829074,"reputation":4369,"user_id":2431018,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657527419,"creation_date":1657527419,"answer_id":72935561,"question_id":72910981,"body_markdown":"There are 2 types of templates that Magnolia supports if you want to use it to render content as well as supply it. There is a page template that is associated with over page and then there is a component template that is used to render components within the page. Each page can have only one page template associated with them while it can contain multiple components of different type and multiple instances of those components as well.\r\n\r\n\r\nFrom what I can see, your first guide will only create structure for templates in the generated module, but not actual templates. And your second guide will only create templating function and component template to demonstrate that function, but not a page template.\r\n\r\nSo first, you should check that in your module structure, somewhere under `/src/main/resources/&lt;your module name&gt;/templates`  you have subfolder called `pages` and in that folder you have defined page template. And second, you might want to follow [this guide][1] for creating and registering page template.\r\n\r\nOr if you want to skip java module altogether and do it just as a light module you can follow the [guide here][2].\r\n\r\n\r\n  [1]: https://documentation.magnolia-cms.com/display/DOCS57/Creating+a+page+template\r\n  [2]: https://docs.magnolia-cms.com/product-docs/6.2/Getting-started-with-Magnolia/Hello-Magnolia.html#_creating_the_page_template","title":"How to add a custom java module into magnolia CMS?","body":"<p>There are 2 types of templates that Magnolia supports if you want to use it to render content as well as supply it. There is a page template that is associated with over page and then there is a component template that is used to render components within the page. Each page can have only one page template associated with them while it can contain multiple components of different type and multiple instances of those components as well.</p>\n<p>From what I can see, your first guide will only create structure for templates in the generated module, but not actual templates. And your second guide will only create templating function and component template to demonstrate that function, but not a page template.</p>\n<p>So first, you should check that in your module structure, somewhere under <code>/src/main/resources/&lt;your module name&gt;/templates</code>  you have subfolder called <code>pages</code> and in that folder you have defined page template. And second, you might want to follow <a href=\"https://documentation.magnolia-cms.com/display/DOCS57/Creating+a+page+template\" rel=\"nofollow noreferrer\">this guide</a> for creating and registering page template.</p>\n<p>Or if you want to skip java module altogether and do it just as a light module you can follow the <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Getting-started-with-Magnolia/Hello-Magnolia.html#_creating_the_page_template\" rel=\"nofollow noreferrer\">guide here</a>.</p>\n"}],"owner":{"account_id":25758720,"reputation":11,"user_id":19509996,"display_name":"Kirill Artamonov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657527419,"creation_date":1657281148,"question_id":72910981,"body_markdown":"I have created a minimal web app with maven following the [tutorial][1]\r\n\r\nI want to add my own Java components into the webapp. I found these guides: [guide1][2] and [guide2][3]\r\n\r\n\r\n  [1]: https://docs.magnolia-cms.com/product-docs/6.2/Developing/Bundles-and-webapps/Creating-a-custom-webapp-with-Maven/Creating-a-minimal-webapp-with-Maven.html\r\n  [2]: https://docs.magnolia-cms.com/product-docs/6.2/Developing/Development-how-tos/How-to-create-and-use-a-custom-Magnolia-Maven-module-for-custom-Java-components.html\r\n  [3]: https://github.com/rbpayne/magnolia-cms-templating-function\r\n\r\nBut I still cannot make a page in Pages App using templates from links above (just do not have that templates)\r\n\r\nWhat am I doing wrong? Should I try smth else? Thanks.","title":"How to add a custom java module into magnolia CMS?","body":"<p>I have created a minimal web app with maven following the <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Developing/Bundles-and-webapps/Creating-a-custom-webapp-with-Maven/Creating-a-minimal-webapp-with-Maven.html\" rel=\"nofollow noreferrer\">tutorial</a></p>\n<p>I want to add my own Java components into the webapp. I found these guides: <a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Developing/Development-how-tos/How-to-create-and-use-a-custom-Magnolia-Maven-module-for-custom-Java-components.html\" rel=\"nofollow noreferrer\">guide1</a> and <a href=\"https://github.com/rbpayne/magnolia-cms-templating-function\" rel=\"nofollow noreferrer\">guide2</a></p>\n<p>But I still cannot make a page in Pages App using templates from links above (just do not have that templates)</p>\n<p>What am I doing wrong? Should I try smth else? Thanks.</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","completable-future"],"comments":[{"owner":{"account_id":147773,"reputation":9594,"user_id":359120,"accept_rate":82,"display_name":"Salil"},"score":0,"creation_date":1657531385,"post_id":72935540,"comment_id":128823565,"body_markdown":"CompletableFuture is used to chain async operations. I think you would be better off using a thread pool (executor service), and submitting the DB operations to it.","body":"CompletableFuture is used to chain async operations. I think you would be better off using a thread pool (executor service), and submitting the DB operations to it."}],"owner":{"account_id":14393116,"reputation":47,"user_id":10397208,"display_name":"Himanshu Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657527275,"creation_date":1657527275,"question_id":72935540,"body_markdown":"I am working on a spring boot app where I am receiving a callback from a 3rd party api and that 3rd party also expects a response.\r\n\r\nThere are multiple db operations that I need to perform and to avoid data inconsistency during load I am using a SQS queue to push data and do all the operation.\r\n\r\nThe Thing is I also want to send the response back to the 3rd party immediately and the DB operations will be running in the background.\r\n\r\nHow is this possible with the **SQS** queue and **CompletableFuture**?\r\n\r\nHere&#39;s the snippet:\r\n\r\n    // this method is a SQS Listener. \r\n   \r\n\r\n     public PaymentCallback acceptPaymentForPendingOrders(String callbackRequest) {\r\n            PaymentCallbackRequest paymentCallbackRequest = decryptCallBackResponse(callbackRequest);\r\n               \r\n            // here&#39;s all the DB operations I am doing async.\r\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(new Runnable() {\r\n                @Override\r\n                @Transactional\r\n                public void run() {\r\n                    try {\r\n                        orderSettlingRequest.setPaymentId(savedPayment.getId());\r\n                        ResponseEntity response = orderServiceClient.settleBtoBOrders(orderSettlingRequest);\r\n    \r\n                    } catch (Exception e) {\r\n                        //credit the full amount to wallet of the user\r\n                        log.error(&quot;Error occurred while settling b2b orders using credit&quot;,e);\r\n                    }\r\n                }\r\n            });\r\n           \r\n            //sending response immediately not waiting for asnyc operations.\r\n            return paymentCallbackRepo.save(paymentCallback);\r\n    \r\n        }\r\n\r\nCan I do this when using queue? Is this feasible?","title":"How to use CompletableFuture inside a sqs queue listener in spring boot?","body":"<p>I am working on a spring boot app where I am receiving a callback from a 3rd party api and that 3rd party also expects a response.</p>\n<p>There are multiple db operations that I need to perform and to avoid data inconsistency during load I am using a SQS queue to push data and do all the operation.</p>\n<p>The Thing is I also want to send the response back to the 3rd party immediately and the DB operations will be running in the background.</p>\n<p>How is this possible with the <strong>SQS</strong> queue and <strong>CompletableFuture</strong>?</p>\n<p>Here's the snippet:</p>\n<pre><code>// this method is a SQS Listener. \n\n\n public PaymentCallback acceptPaymentForPendingOrders(String callbackRequest) {\n        PaymentCallbackRequest paymentCallbackRequest = decryptCallBackResponse(callbackRequest);\n           \n        // here's all the DB operations I am doing async.\n        CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(new Runnable() {\n            @Override\n            @Transactional\n            public void run() {\n                try {\n                    orderSettlingRequest.setPaymentId(savedPayment.getId());\n                    ResponseEntity response = orderServiceClient.settleBtoBOrders(orderSettlingRequest);\n\n                } catch (Exception e) {\n                    //credit the full amount to wallet of the user\n                    log.error(&quot;Error occurred while settling b2b orders using credit&quot;,e);\n                }\n            }\n        });\n       \n        //sending response immediately not waiting for asnyc operations.\n        return paymentCallbackRepo.save(paymentCallback);\n\n    }\n</code></pre>\n<p>Can I do this when using queue? Is this feasible?</p>\n"},{"tags":["java","project-reactor","webflux","retrywhen"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1642594086,"post_id":70770215,"comment_id":125110849,"body_markdown":"If I&#39;m not wrong, `someInjectedService.doSomething(...)` will indeed technically be called only once, it&#39;s the returned mono that will be retried.","body":"If I&#39;m not wrong, <code>someInjectedService.doSomething(...)</code> will indeed technically be called only once, it&#39;s the returned mono that will be retried."},{"owner":{"account_id":3475009,"reputation":1139,"user_id":2908457,"accept_rate":100,"display_name":"Hatik"},"score":0,"creation_date":1642594212,"post_id":70770215,"comment_id":125110908,"body_markdown":"@sp00m hi, any idea on how I can approach this?","body":"@sp00m hi, any idea on how I can approach this?"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1642594615,"post_id":70770215,"comment_id":125111053,"body_markdown":"You could `Mono.defer(() -&gt; someInjectedService.doSomething(someParam))` to ensure the method is effectively called again, which should make your test pass.","body":"You could <code>Mono.defer(() -&gt; someInjectedService.doSomething(someParam))</code> to ensure the method is effectively called again, which should make your test pass."},{"owner":{"account_id":3475009,"reputation":1139,"user_id":2908457,"accept_rate":100,"display_name":"Hatik"},"score":1,"creation_date":1642594837,"post_id":70770215,"comment_id":125111159,"body_markdown":"@sp00m thank you, solution is so easy, do you mind posting it as an answer?","body":"@sp00m thank you, solution is so easy, do you mind posting it as an answer?"},{"owner":{"account_id":14139471,"reputation":192,"user_id":10214762,"display_name":"Denis"},"score":0,"creation_date":1657528969,"post_id":70770215,"comment_id":128822767,"body_markdown":"I faced the same problem, could you please explain, in the example above, where this line should be added?\n\n    Mono.defer(() -&gt; someInjectedService.doSomething(someParam))","body":"I faced the same problem, could you please explain, in the example above, where this line should be added?      Mono.defer(() -&gt; someInjectedService.doSomething(someParam))"},{"owner":{"account_id":3475009,"reputation":1139,"user_id":2908457,"accept_rate":100,"display_name":"Hatik"},"score":1,"creation_date":1657557707,"post_id":70770215,"comment_id":128833862,"body_markdown":"@Denis Hi, it should be added right after `return`, replace this line `return someInjectedService.doSomething(someParam)` with `return Mono.defer(() -&gt; someInjectedService... Bla bla)`","body":"@Denis Hi, it should be added right after <code>return</code>, replace this line <code>return someInjectedService.doSomething(someParam)</code> with <code>return Mono.defer(() -&gt; someInjectedService... Bla bla)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642605538,"creation_date":1642605538,"answer_id":70773150,"question_id":70770215,"body_markdown":"`someInjectedService.doSomething(...)` will indeed technically be called only once.\r\n\r\nYou could use `Mono.defer(() -&gt; someInjectedService.doSomething(someParam))` instead, to ensure the method is effectively called again, which should make your test pass.","title":"Unit testing retry in Spring Webflux with mocked response","body":"<p><code>someInjectedService.doSomething(...)</code> will indeed technically be called only once.</p>\n<p>You could use <code>Mono.defer(() -&gt; someInjectedService.doSomething(someParam))</code> instead, to ensure the method is effectively called again, which should make your test pass.</p>\n"}],"owner":{"account_id":3475009,"reputation":1139,"user_id":2908457,"accept_rate":100,"display_name":"Hatik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3317,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70773150,"answer_count":1,"score":5,"last_activity_date":1657526798,"creation_date":1642593569,"question_id":70770215,"body_markdown":"During unit testing retry the response of the mock seems cached, or most probably I am doing something wrong.\r\n\r\nI am trying to request something, if error happened then retry twice with delay of 1 second.\r\n```\r\n  public Mono&lt;Object&gt; someMethod(String someParam) {\r\n    return someInjectedService.doSomething(someParam)\r\n        .doOnError(ex -&gt; System.out.println(ex + &quot;: &quot; + System.currentTimeMillis()))\r\n        .retryWhen(Retry.fixedDelay(2, Duration.ofSeconds(1)).filter(ex -&gt; ex instanceof SomeCustomException))\r\n        .doOnSuccess(result -&gt; doSomethingOnSuccess(result));\r\n  }\r\n```\r\nMy test:\r\n```\r\n  @Test\r\n  void testshouldRequestThrice_whenErrorOccurs() {\r\n    // Given\r\n    String someParam = &quot;testParam&quot;;\r\n    when(someInjectedService.doSomething(someParam))\r\n        .thenReturn(Mono.error(new SomeCustomException(&quot;SomeCustomException&quot;))) // 1st response\r\n        .thenReturn(Mono.error(new SomeCustomException(&quot;SomeCustomException&quot;))) // 2nd response\r\n        .thenReturn(Mono.just(&quot;SomeValidResponse&quot;)); // 3rd valid response\r\n\r\n    // When\r\n    var result = testService.someMethod(someParam).block();\r\n\r\n    // Then\r\n    // Initial request, followed by two retries\r\n    verify(someInjectedService, times(3)).doSomething(someParam);\r\n  }\r\n```\r\nhere `someInjectedService` is a mock.\r\nMy plan was to return an exception twice, and on third request return valid response. But what I get is:\r\n\r\n&gt; org.mockito.exceptions.verification.TooFewActualInvocations: \r\nsomeInjectedService.doSomething(&quot;testParam&quot;);\r\n\r\n&gt; Wanted 3 times:\r\n-&gt; at shouldRequestThrice_whenErrorOccurs(test.java:138)\r\n\r\n&gt; But was 1 time:\r\n\r\nWhile I do see 3 prints from `.doOnError(ex -&gt; System.out.println(ex + &quot;: &quot; + System.currentTimeMillis()))` block, I feel like the actual request is sent only once.\r\n\r\nThank you in advance,","title":"Unit testing retry in Spring Webflux with mocked response","body":"<p>During unit testing retry the response of the mock seems cached, or most probably I am doing something wrong.</p>\n<p>I am trying to request something, if error happened then retry twice with delay of 1 second.</p>\n<pre><code>  public Mono&lt;Object&gt; someMethod(String someParam) {\n    return someInjectedService.doSomething(someParam)\n        .doOnError(ex -&gt; System.out.println(ex + &quot;: &quot; + System.currentTimeMillis()))\n        .retryWhen(Retry.fixedDelay(2, Duration.ofSeconds(1)).filter(ex -&gt; ex instanceof SomeCustomException))\n        .doOnSuccess(result -&gt; doSomethingOnSuccess(result));\n  }\n</code></pre>\n<p>My test:</p>\n<pre><code>  @Test\n  void testshouldRequestThrice_whenErrorOccurs() {\n    // Given\n    String someParam = &quot;testParam&quot;;\n    when(someInjectedService.doSomething(someParam))\n        .thenReturn(Mono.error(new SomeCustomException(&quot;SomeCustomException&quot;))) // 1st response\n        .thenReturn(Mono.error(new SomeCustomException(&quot;SomeCustomException&quot;))) // 2nd response\n        .thenReturn(Mono.just(&quot;SomeValidResponse&quot;)); // 3rd valid response\n\n    // When\n    var result = testService.someMethod(someParam).block();\n\n    // Then\n    // Initial request, followed by two retries\n    verify(someInjectedService, times(3)).doSomething(someParam);\n  }\n</code></pre>\n<p>here <code>someInjectedService</code> is a mock.\nMy plan was to return an exception twice, and on third request return valid response. But what I get is:</p>\n<blockquote>\n<p>org.mockito.exceptions.verification.TooFewActualInvocations:\nsomeInjectedService.doSomething(&quot;testParam&quot;);</p>\n</blockquote>\n<blockquote>\n<p>Wanted 3 times:\n-&gt; at shouldRequestThrice_whenErrorOccurs(test.java:138)</p>\n</blockquote>\n<blockquote>\n<p>But was 1 time:</p>\n</blockquote>\n<p>While I do see 3 prints from <code>.doOnError(ex -&gt; System.out.println(ex + &quot;: &quot; + System.currentTimeMillis()))</code> block, I feel like the actual request is sent only once.</p>\n<p>Thank you in advance,</p>\n"},{"tags":["java","string","variables","arraylist"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657526745,"creation_date":1657526745,"answer_id":72935453,"question_id":72935342,"body_markdown":"You can store any kind of object in an `ArrayList`.\r\n\r\nYou could define your own class `Booking` that contains information about a booking:\r\n\r\n    public class Booking {\r\n        // ... whatever information is necessary for a booking\r\n    }\r\n\r\nAnd then define a class `User` that contains information about a user, including a list of bookings:\r\n\r\n    public class User {\r\n        private String name;\r\n        private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Booking&gt; getBookings() {\r\n            return bookings;\r\n        }\r\n\r\n        // ... other methods as necessary\r\n    }\r\n\r\nAnd then you can make an `ArrayList` of `User` objects, where each `User` object contains a list of `Booking` objects:\r\n\r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();","title":"Is there a way to create a variable in JAVA that stores a arraylist and each element in the arraylist has its own list? name of elements given by user","body":"<p>You can store any kind of object in an <code>ArrayList</code>.</p>\n<p>You could define your own class <code>Booking</code> that contains information about a booking:</p>\n<pre><code>public class Booking {\n    // ... whatever information is necessary for a booking\n}\n</code></pre>\n<p>And then define a class <code>User</code> that contains information about a user, including a list of bookings:</p>\n<pre><code>public class User {\n    private String name;\n    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;Booking&gt; getBookings() {\n        return bookings;\n    }\n\n    // ... other methods as necessary\n}\n</code></pre>\n<p>And then you can make an <code>ArrayList</code> of <code>User</code> objects, where each <code>User</code> object contains a list of <code>Booking</code> objects:</p>\n<pre><code>List&lt;User&gt; users = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":19461183,"reputation":3,"user_id":19524901,"display_name":"Mokksh Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72935453,"answer_count":1,"score":0,"last_activity_date":1657526745,"creation_date":1657526199,"question_id":72935342,"body_markdown":"[Image of variable hierarchy (Please Check)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8mfev.jpg\r\n\r\nI want this specific variable to be a list of usernames, and each of these users will have some bookings... I tried adding an arraylist within an arraylist but that doesnt allow the user to name the usernames, they have to be predefined, please give me a method to do this.","title":"Is there a way to create a variable in JAVA that stores a arraylist and each element in the arraylist has its own list? name of elements given by user","body":"<p><a href=\"https://i.stack.imgur.com/8mfev.jpg\" rel=\"nofollow noreferrer\">Image of variable hierarchy (Please Check)</a></p>\n<p>I want this specific variable to be a list of usernames, and each of these users will have some bookings... I tried adding an arraylist within an arraylist but that doesnt allow the user to name the usernames, they have to be predefined, please give me a method to do this.</p>\n"},{"tags":["java","spring","github","swagger"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1657531235,"post_id":72935411,"comment_id":128823511,"body_markdown":"Did you expect to see the Swagger UI interactive doc page inside GitHub? (The part that&#39;s on the right side of the editor.)","body":"Did you expect to see the Swagger UI interactive doc page inside GitHub? (The part that&#39;s on the right side of the editor.)"},{"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"score":0,"creation_date":1657531733,"post_id":72935411,"comment_id":128823682,"body_markdown":"Yes, I would like to see that","body":"Yes, I would like to see that"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1657534682,"post_id":72935411,"comment_id":128824750,"body_markdown":"Maybe this could help: https://github.com/marketplace/actions/swagger-ui-action\nOr: https://github.com/marketplace/actions/swagger-ui","body":"Maybe this could help: <a href=\"https://github.com/marketplace/actions/swagger-ui-action\" rel=\"nofollow noreferrer\">github.com/marketplace/actions/swagger-ui-action</a> Or: <a href=\"https://github.com/marketplace/actions/swagger-ui\" rel=\"nofollow noreferrer\">github.com/marketplace/actions/swagger-ui</a>"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657526740,"creation_date":1657526556,"question_id":72935411,"body_markdown":"I was creating a yml file through the Swagger page, and everything is showing up correctly:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I push the changes to github, I hope to see them the same way, but I see the following:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t know if I&#39;m missing some configuration or something in the project. This **project** is a **Spring project**, with **Java 11**, and the dependency I&#39;m using to comment on the project is the following:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThe path of the yml file is the **resources** folder.\r\n\r\n  [1]: https://i.stack.imgur.com/SwEM3.png\r\n  [2]: https://i.stack.imgur.com/sJdD8.png","title":"How to use Swagger with Github?","body":"<p>I was creating a yml file through the Swagger page, and everything is showing up correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/SwEM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwEM3.png\" alt=\"enter image description here\" /></a></p>\n<p>When I push the changes to github, I hope to see them the same way, but I see the following:</p>\n<p><a href=\"https://i.stack.imgur.com/sJdD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJdD8.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know if I'm missing some configuration or something in the project. This <strong>project</strong> is a <strong>Spring project</strong>, with <strong>Java 11</strong>, and the dependency I'm using to comment on the project is the following:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;1.5.20&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The path of the yml file is the <strong>resources</strong> folder.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657526681,"creation_date":1657526681,"answer_id":72935440,"question_id":72922723,"body_markdown":"As explained in the [WebDriverManager doc][1], when you use the method `create()` for building `WebDriver` objects, WebDriverManager includes a shutdown hook that watches these objects correctly released before shutting down the JVM. If you want to avoid this behavior, you can use the method `avoidShutdownHook()`, for instance as follows:\r\n\r\n```\r\nWebDriver driver = WebDriverManager.chromedriver().avoidShutdownHook().create();\r\n```\r\n\r\n  [1]: https://bonigarcia.dev/webdrivermanager/","title":"Why does browser closes automatically when latest version of WebDriverManager (5 onward) is used, is its new feature?","body":"<p>As explained in the <a href=\"https://bonigarcia.dev/webdrivermanager/\" rel=\"nofollow noreferrer\">WebDriverManager doc</a>, when you use the method <code>create()</code> for building <code>WebDriver</code> objects, WebDriverManager includes a shutdown hook that watches these objects correctly released before shutting down the JVM. If you want to avoid this behavior, you can use the method <code>avoidShutdownHook()</code>, for instance as follows:</p>\n<pre><code>WebDriver driver = WebDriverManager.chromedriver().avoidShutdownHook().create();\n</code></pre>\n"}],"owner":{"account_id":2330814,"reputation":504,"user_id":2044296,"accept_rate":24,"display_name":"user2044296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72935440,"answer_count":1,"score":1,"last_activity_date":1657526705,"creation_date":1657381302,"question_id":72922723,"body_markdown":"I recently created a new Selenium Maven project using the latest version(5.2.1) of WebDriverManager but I found that without using driver.quit() or driver.close() method, the browser closed automatically after test execution, is it a new feature of WebDriverManager (5 onward)?","title":"Why does browser closes automatically when latest version of WebDriverManager (5 onward) is used, is its new feature?","body":"<p>I recently created a new Selenium Maven project using the latest version(5.2.1) of WebDriverManager but I found that without using driver.quit() or driver.close() method, the browser closed automatically after test execution, is it a new feature of WebDriverManager (5 onward)?</p>\n"},{"tags":["java","spring","rest","maven","servlets"],"answers":[{"tags":[],"owner":{"account_id":8702736,"reputation":11399,"user_id":6511967,"display_name":"Wilson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1467376186,"creation_date":1467376186,"answer_id":38145496,"question_id":38145024,"body_markdown":"Your cause is\r\n\r\n&gt; nested exception is java.lang.ClassCastException:\r\n&gt; org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb\r\n&gt; cannot be cast to\r\n&gt; org.springframework.web.accept.ContentNegotiationManager\r\n\r\nThis is probably due to both `&lt;mvc:annotation-driven /&gt;` and `@EnableWebMvc` are used together. As they are not complementary, either use `@EnableWebMvc` with Java based config or `&lt;mvc:annotation-driven /&gt;` with xml. ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>Your cause is</p>\n\n<blockquote>\n  <p>nested exception is java.lang.ClassCastException:\n  org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb\n  cannot be cast to\n  org.springframework.web.accept.ContentNegotiationManager</p>\n</blockquote>\n\n<p>This is probably due to both <code>&lt;mvc:annotation-driven /&gt;</code> and <code>@EnableWebMvc</code> are used together. As they are not complementary, either use <code>@EnableWebMvc</code> with Java based config or <code>&lt;mvc:annotation-driven /&gt;</code> with xml. </p>\n"},{"tags":[],"owner":{"account_id":101630,"reputation":747,"user_id":273294,"display_name":"Raja Fawad"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1641988126,"creation_date":1519448344,"answer_id":48959537,"question_id":38145024,"body_markdown":"for me removing following from pom.xml fixed the issue\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas i was also using \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>for me removing following from pom.xml fixed the issue</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as i was also using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17760223,"reputation":156,"user_id":12896358,"display_name":"Sahil Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589737583,"creation_date":1589737583,"answer_id":61856173,"question_id":38145024,"body_markdown":"In your User.java class add `@javax.persistence.Id` above `getUserID()` method\r\n\r\njust like this...\r\n\r\n    @javax.persistence.Id\r\n    public int getUserID() {\r\n        return userID;\r\n    }\r\n\r\nIt worked for me.\r\n    ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>In your User.java class add <code>@javax.persistence.Id</code> above <code>getUserID()</code> method</p>\n\n<p>just like this...</p>\n\n<pre><code>@javax.persistence.Id\npublic int getUserID() {\n    return userID;\n}\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7769028,"reputation":327,"user_id":5879277,"display_name":"Test1 Test2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602636911,"creation_date":1602636911,"answer_id":64345117,"question_id":38145024,"body_markdown":"\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nI received the same error. I removed the version.\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThis effectively downloaded:  &lt;javax-validation.version&gt;2.0.1.Final&lt;/javax-validation.version&gt; which works without the error. ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<pre><code>    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I received the same error. I removed the version.</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This effectively downloaded:  &lt;javax-validation.version&gt;2.0.1.Final&lt;/javax-validation.version&gt; which works without the error.</p>\n"},{"tags":[],"owner":{"account_id":25670477,"reputation":3,"user_id":19434812,"display_name":"Mohamed Bigi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657526332,"creation_date":1657526332,"answer_id":72935370,"question_id":38145024,"body_markdown":"    &lt;dependency&gt;\r\n     &lt;groupid&gt;javax.validation&lt;/groupid&gt;\r\n     &lt;artifactId&gt;validation-api&lt;/artifactid&gt;\r\n     &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nFor me, adding the version to the javax.validation dependency worked, it forced it to download the correct version","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<pre><code>&lt;dependency&gt;\n &lt;groupid&gt;javax.validation&lt;/groupid&gt;\n &lt;artifactId&gt;validation-api&lt;/artifactid&gt;\n &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For me, adding the version to the javax.validation dependency worked, it forced it to download the correct version</p>\n"}],"owner":{"account_id":8740817,"reputation":133,"user_id":6537955,"display_name":"Ram K Bharathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80467,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":38145496,"answer_count":5,"score":13,"last_activity_date":1657526332,"creation_date":1467374823,"question_id":38145024,"body_markdown":"Am creating a simple REST service using Springframework with Tomcat. The response should have to be in json like {&quot;id&quot;:&quot;101&quot;,&quot;name&quot;:&quot;Ram&quot;} .When ever I run, am getting the following error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:603)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n    root cause\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\t    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:181)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n    root cause\r\n\r\n    java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.mvcContentNegotiationManager(&lt;generated&gt;)\r\n\torg.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:359)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.CGLIB$requestMappingHandlerAdapter$18(&lt;generated&gt;)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e$$FastClassBySpringCGLIB$$3589a606.invoke(&lt;generated&gt;)\r\n\torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.requestMappingHandlerAdapter(&lt;generated&gt;)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.lang.reflect.Method.invoke(Method.java:497)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nFrom here the following are my java codes and xml files.\r\n\r\nPOM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LimitlessREST&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;LimitlessREST&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;!-- Jackson JSON Mapper --&gt;\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n         &lt;version&gt;1.9.13&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n         &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n     &lt;display-name&gt;LimitlessREST&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt; \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;!-- max time of the session //--&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    &lt;!-- default page //--&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n\r\n\r\nfront-controller-servlet.xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    &lt;context:component-scan base-package=&quot;json.&quot; /&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n&lt;/beans&gt;\r\n\r\n\r\njson/User.java\r\n\r\n    package json;\r\n    public class User {\r\n    private int userID;\r\n    private String userName;\r\n    \r\n    public User(){\r\n        \r\n    }\r\n\r\n    public int getUserID() {\r\n        return userID;\r\n    }\r\n\r\n    public void setUserID(int userID) {\r\n        this.userID = userID;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }    \r\n    }\r\n\r\njson/UserService.java\r\n\r\n    package json;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n\r\n    @EnableWebMvc\r\n    @Controller\r\n    public class UserService {\r\n    \r\n    \r\n    @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.GET, produces = {&quot;application/json&quot;})\r\n    public @ResponseBody User getUser(){\r\n        User us = new User();\r\n        us.setUserID(101);\r\n        us.setUserName(&quot;Ram&quot;);\r\n        return us;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nUsing Netbeans as IDE, Tomcat 8.0.34 and Springframework 3.2.12.RELEASE.","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>Am creating a simple REST service using Springframework with Tomcat. The response should have to be in json like {\"id\":\"101\",\"name\":\"Ram\"} .When ever I run, am getting the following error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:603)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n\nroot cause\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:181)\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n\nroot cause\n\njava.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.mvcContentNegotiationManager(&lt;generated&gt;)\norg.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:359)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.CGLIB$requestMappingHandlerAdapter$18(&lt;generated&gt;)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e$$FastClassBySpringCGLIB$$3589a606.invoke(&lt;generated&gt;)\norg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\norg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.requestMappingHandlerAdapter(&lt;generated&gt;)\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:497)\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>From here the following are my java codes and xml files.</p>\n\n<p>POM.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;json&lt;/groupId&gt;\n&lt;artifactId&gt;LimitlessREST&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;LimitlessREST&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;!-- Jackson JSON Mapper --&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n     &lt;version&gt;1.9.13&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n     &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;compilerArguments&gt;\n                    &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                        &lt;silent&gt;true&lt;/silent&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;javax&lt;/groupId&gt;\n                                &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                &lt;version&gt;7.0&lt;/version&gt;\n                                &lt;type&gt;jar&lt;/type&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n &lt;display-name&gt;LimitlessREST&lt;/display-name&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt; \n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;!-- max time of the session //--&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;\n        30\n    &lt;/session-timeout&gt;\n&lt;/session-config&gt;\n&lt;!-- default page //--&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p></p>\n\n<p>front-controller-servlet.xml</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans     \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n&lt;context:component-scan base-package=\"json.\" /&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<p></p>\n\n<p>json/User.java</p>\n\n<pre><code>package json;\npublic class User {\nprivate int userID;\nprivate String userName;\n\npublic User(){\n\n}\n\npublic int getUserID() {\n    return userID;\n}\n\npublic void setUserID(int userID) {\n    this.userID = userID;\n}\n\npublic String getUserName() {\n    return userName;\n}\n\npublic void setUserName(String userName) {\n    this.userName = userName;\n}    \n}\n</code></pre>\n\n<p>json/UserService.java</p>\n\n<pre><code>package json;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n\n@EnableWebMvc\n@Controller\npublic class UserService {\n\n\n@RequestMapping(value = \"/user\", method = RequestMethod.GET, produces = {\"application/json\"})\npublic @ResponseBody User getUser(){\n    User us = new User();\n    us.setUserID(101);\n    us.setUserName(\"Ram\");\n    return us;\n}\n\n}\n</code></pre>\n\n<p>Using Netbeans as IDE, Tomcat 8.0.34 and Springframework 3.2.12.RELEASE.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657521192,"post_id":72934495,"comment_id":128820505,"body_markdown":"`Data::getId` is a method reference to the `getId()` method inside class `Data`. It is basically equivalent to the lambda `(Data d) -&gt; d.getId()`. I&#39;m not 100% sure on your second question but I&#39;m pretty sure the compiler can&#39;t resolve double method references. In that case you&#39;d need to either use 2 calls to `map()`, e.g. `map(Data::getId).map(InnerClass::getRealId)` or use a normal lambda like `d-&gt;d.getId().getRealId()`.","body":"<code>Data::getId</code> is a method reference to the <code>getId()</code> method inside class <code>Data</code>. It is basically equivalent to the lambda <code>(Data d) -&gt; d.getId()</code>. I&#39;m not 100% sure on your second question but I&#39;m pretty sure the compiler can&#39;t resolve double method references. In that case you&#39;d need to either use 2 calls to <code>map()</code>, e.g. <code>map(Data::getId).map(InnerClass::getRealId)</code> or use a normal lambda like <code>d-&gt;d.getId().getRealId()</code>."},{"owner":{"account_id":17734936,"reputation":440,"user_id":12876529,"display_name":"Sanjay Sahani"},"score":0,"creation_date":1657521553,"post_id":72934495,"comment_id":128820601,"body_markdown":"@Thomas ok so I have another question after your ans.\nHow will I apply your ans in this case?\n```Comparator.nullsLast(Data::getId)```?","body":"@Thomas ok so I have another question after your ans. How will I apply your ans in this case? <code>Comparator.nullsLast(Data::getId)</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657522687,"post_id":72934495,"comment_id":128820901,"body_markdown":"You mean how to get the real id in this case? Use the lambda version. There are other options but this would be the easiest. If `getId()` could return `null` you can handle this inside the lambda.","body":"You mean how to get the real id in this case? Use the lambda version. There are other options but this would be the easiest. If <code>getId()</code> could return <code>null</code> you can handle this inside the lambda."}],"answers":[{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657525334,"creation_date":1657522098,"answer_id":72934679,"question_id":72934495,"body_markdown":"&gt; what is :: called inside map?\r\n\r\n[Method References][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n\r\n&gt; if I have another object inside getId say getRealId so how will I write it?\r\nFor example:\r\n\r\n```lisMap.map(x -&gt; x.getId().getRealId()).collect(Collectors.toList());```\r\n\r\n/upd Depending on @Thomas&#39;s comment I should add that it is possible to rewrite this code as consecutive map chain.\r\n\r\nFor example:\r\n```listMap.map(Data::getId).map(Id::getRealId).collect(Collectors.toList());```\r\nAssuming that `Data::getId` returns `Id` object.","title":"What is :: called and how to iterate inner object inside of map lambda function in java","body":"<blockquote>\n<p>what is :: called inside map?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Method References</a></p>\n<blockquote>\n<p>if I have another object inside getId say getRealId so how will I write it?\nFor example:</p>\n</blockquote>\n<p><code>lisMap.map(x -&gt; x.getId().getRealId()).collect(Collectors.toList());</code></p>\n<p>/upd Depending on @Thomas's comment I should add that it is possible to rewrite this code as consecutive map chain.</p>\n<p>For example:\n<code>listMap.map(Data::getId).map(Id::getRealId).collect(Collectors.toList());</code>\nAssuming that <code>Data::getId</code> returns <code>Id</code> object.</p>\n"}],"owner":{"account_id":17734936,"reputation":440,"user_id":12876529,"display_name":"Sanjay Sahani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657525334,"creation_date":1657520924,"question_id":72934495,"body_markdown":"I have see an answer like\r\n\r\n```lisMap.map(Data::getId)).collect(Collectors.toList());```\r\n\r\nI understand that it is getting value as getId inside map.\r\nBut I have 2 questrions here.\r\n\r\n1)what is **::** called inside map?\r\n\r\n2)if I have another object inside getId say getRealId so how will I write it? ```Data::getId::getRealId?```\r\n\r\nI&#39;m new to java functions, I hope my question is understandable","title":"What is :: called and how to iterate inner object inside of map lambda function in java","body":"<p>I have see an answer like</p>\n<p><code>lisMap.map(Data::getId)).collect(Collectors.toList());</code></p>\n<p>I understand that it is getting value as getId inside map.\nBut I have 2 questrions here.</p>\n<p>1)what is <strong>::</strong> called inside map?</p>\n<p>2)if I have another object inside getId say getRealId so how will I write it? <code>Data::getId::getRealId?</code></p>\n<p>I'm new to java functions, I hope my question is understandable</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","command"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1657524872,"post_id":72934570,"comment_id":128821557,"body_markdown":"Please post code as actual code and format logs and stacktraces as code as well.","body":"Please post code as actual code and format logs and stacktraces as code as well."}],"answers":[{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657524656,"creation_date":1657524656,"answer_id":72935087,"question_id":72934570,"body_markdown":"**Provide empty constructor with no args in your Student entity**\r\nand make sure **You have given right mappings from your entity using @Column(name=&quot;columnNameInDatabaseTable&quot;)** to the columns of table in database \r\nYour error says **You have not provided the Empty constructor in your Student Entity** -&gt; &quot;org.springframework.orm.jpa.JpaSystemException: No default constructor for entity: : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity: : com.example.demo.student.Student&quot;\r\n\r\nWhy do we need an empty constructor in Entity?\r\nAn empty constructor is needed to create a new instance via reflection by your persistence framework. If you don&#39;t provide any additional constructors with arguments for the class, you don&#39;t need to provide an empty constructor because you get one per default. \r\n","title":"Failed to execute CommandLineRunner - Java Spring","body":"<p><strong>Provide empty constructor with no args in your Student entity</strong>\nand make sure <strong>You have given right mappings from your entity using @Column(name=&quot;columnNameInDatabaseTable&quot;)</strong> to the columns of table in database\nYour error says <strong>You have not provided the Empty constructor in your Student Entity</strong> -&gt; &quot;org.springframework.orm.jpa.JpaSystemException: No default constructor for entity: : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity: : com.example.demo.student.Student&quot;</p>\n<p>Why do we need an empty constructor in Entity?\nAn empty constructor is needed to create a new instance via reflection by your persistence framework. If you don't provide any additional constructors with arguments for the class, you don't need to provide an empty constructor because you get one per default.</p>\n"}],"owner":{"account_id":13611818,"reputation":11,"user_id":9819069,"display_name":"coderj001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657524956,"answer_count":1,"score":0,"last_activity_date":1657524840,"creation_date":1657521410,"question_id":72934570,"body_markdown":"I tried to add insert data in to table student using command runner on spring boot project, I get &quot;Failed to execute CommandLineRunner &quot; error\r\n[![https://i.stack.imgur.com/RrELv.png](https://i.stack.imgur.com/RrELv.png)](https://i.stack.imgur.com/RrELv.png)\r\n\r\nAdding those line of code it cause error,\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-11 06:26:12.993 ERROR 197537 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at jdk.proxy6/jdk.proxy6.$Proxy115.saveAll(Unknown Source) ~[na:na]\r\n        at com.example.demo.student.StudentConfig.lambda$0(StudentConfig.java:22) ~[classes/:na]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        ... 8 common frames omitted\r\nCaused by: org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\r\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at jdk.proxy6/jdk.proxy6.$Proxy113.merge(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:700) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        ... 17 common frames omitted\r\n\r\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\nHibernate:\r\n\r\n    drop table if exists student cascade\r\nHibernate:\r\n\r\n    drop sequence if exists student_sequence\r\n\r\n2022-07-11 06:26:13.051  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...\r\n2022-07-11 06:26:13.056  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.\r\n```\r\nAfter commenting the code it&#39;s works properly.","title":"Failed to execute CommandLineRunner - Java Spring","body":"<p>I tried to add insert data in to table student using command runner on spring boot project, I get &quot;Failed to execute CommandLineRunner &quot; error\n<a href=\"https://i.stack.imgur.com/RrELv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrELv.png\" alt=\"https://i.stack.imgur.com/RrELv.png\" /></a></p>\n<p>Adding those line of code it cause error,</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-11 06:26:12.993 ERROR 197537 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\nCaused by: org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n        at jdk.proxy6/jdk.proxy6.$Proxy115.saveAll(Unknown Source) ~[na:na]\n        at com.example.demo.student.StudentConfig.lambda$0(StudentConfig.java:22) ~[classes/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.1.jar:2.7.1]\n        ... 8 common frames omitted\nCaused by: org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\n        at jdk.proxy6/jdk.proxy6.$Proxy113.merge(Unknown Source) ~[na:na]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:700) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n        ... 17 common frames omitted\n\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\nHibernate:\n\n    drop table if exists student cascade\nHibernate:\n\n    drop sequence if exists student_sequence\n\n2022-07-11 06:26:13.051  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...\n2022-07-11 06:26:13.056  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.\n</code></pre>\n<p>After commenting the code it's works properly.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646843294,"post_id":71410711,"comment_id":126225494,"body_markdown":"Maybe more details on what you need specifically. If you can execute queries, what are you looking to do that is outside of that skill - &quot;Select user.login, user.email, person from User user where ..&quot; isn&#39;t very different a query from &quot;Select user from User user where..&quot;, or &quot;select person from People person&quot;, the later of which will give you person instances that should include their referenced user","body":"Maybe more details on what you need specifically. If you can execute queries, what are you looking to do that is outside of that skill - &quot;Select user.login, user.email, person from User user where ..&quot; isn&#39;t very different a query from &quot;Select user from User user where..&quot;, or &quot;select person from People person&quot;, the later of which will give you person instances that should include their referenced user"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1646900794,"post_id":71410711,"comment_id":126239105,"body_markdown":"@Chris I want to get in my Tuple these properties: - firstName and lastName from People entity - login and userType from Users entity; (in mysql terms: `SELECT first_name, last_name, users.login, users.user_type FROM database.people FULL JOIN database.users ON user_idusers = users.idusers;\n`) this Tuple will be used to filling Vaadin Grid with all of users","body":"@Chris I want to get in my Tuple these properties: - firstName and lastName from People entity - login and userType from Users entity; (in mysql terms: <code>SELECT first_name, last_name, users.login, users.user_type FROM database.people FULL JOIN database.users ON user_idusers = users.idusers; </code>) this Tuple will be used to filling Vaadin Grid with all of users"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1646927973,"post_id":71410711,"comment_id":126249913,"body_markdown":"Not a fan of tuple queries as they must bypass entity caching mechanisms, but what you have is similar to the first query I suggested with a join. &quot;Select p.firstName, p.lastName, u.login, u.userType from People p join p.user u&quot;","body":"Not a fan of tuple queries as they must bypass entity caching mechanisms, but what you have is similar to the first query I suggested with a join. &quot;Select p.firstName, p.lastName, u.login, u.userType from People p join p.user u&quot;"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647278795,"post_id":71410711,"comment_id":126326312,"body_markdown":"@Chris could you check my post now?","body":"@Chris could you check my post now?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647279196,"post_id":71410711,"comment_id":126326457,"body_markdown":"Why are you using a native query (SQL) instead of a JPQL query? JPQL gives you validation of your queries, that the columns exist as your model changes, and should be easier for devs using your entities to read and understand. Your PersonUserMapping&#39;s userType definition is incorrect, as the error states you are forcing it to look for &quot;userType&quot; which doesn&#39;t exist in the returned result set. You need it to look for &#39;user_type&#39;, or change your query to return &#39;userType&#39; instead.","body":"Why are you using a native query (SQL) instead of a JPQL query? JPQL gives you validation of your queries, that the columns exist as your model changes, and should be easier for devs using your entities to read and understand. Your PersonUserMapping&#39;s userType definition is incorrect, as the error states you are forcing it to look for &quot;userType&quot; which doesn&#39;t exist in the returned result set. You need it to look for &#39;user_type&#39;, or change your query to return &#39;userType&#39; instead."},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647508023,"post_id":71410711,"comment_id":126390325,"body_markdown":"@Chris now when I used `TypedQuery&lt;Object[]&gt; q = entityManager.createQuery(&quot;Select p.personid, concat(p.firstName,  p.lastName) as name, u.login, u.userType from People p join Users u&quot;,Object[].class);` (which I later convert to `PersonUserMap`), it throws exception `You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1`, which makes me completely dumbfounded :/","body":"@Chris now when I used <code>TypedQuery&lt;Object[]&gt; q = entityManager.createQuery(&quot;Select p.personid, concat(p.firstName,  p.lastName) as name, u.login, u.userType from People p join Users u&quot;,Object[].class);</code> (which I later convert to <code>PersonUserMap</code>), it throws exception <code>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1</code>, which makes me completely dumbfounded :/"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647528894,"post_id":71410711,"comment_id":126398285,"body_markdown":"Show the SQL it generates (turn SQL logging on) and the full error. And the database and driver versions","body":"Show the SQL it generates (turn SQL logging on) and the full error. And the database and driver versions"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647591083,"post_id":71410711,"comment_id":126413891,"body_markdown":"`Hibernate: \n    select\n        people0_.personid as col_0_0_,\n        concat(people0_.first_name,\n        &#39; &#39;,\n        people0_.last_name) as col_1_0_,\n        users1_.login as col_2_0_,\n        users1_.user_type as col_3_0_ \n    from\n        people people0_ \n    inner join\n        users users1_ \n            on` (well, it makes sense why it throws error since there&#39;s no join condition; also it makes inner join, when I need full join)\n\nfull error: https://pastebin.com/Si480yVy\n\nDB: mysql  Ver 8.0.27\nconnector: mysql connector/j 8.0.27","body":"<code>Hibernate:      select         people0_.personid as col_0_0_,         concat(people0_.first_name,         &#39; &#39;,         people0_.last_name) as col_1_0_,         users1_.login as col_2_0_,         users1_.user_type as col_3_0_      from         people people0_      inner join         users users1_              on</code> (well, it makes sense why it throws error since there&#39;s no join condition; also it makes inner join, when I need full join)  full error: <a href=\"https://pastebin.com/Si480yVy\" rel=\"nofollow noreferrer\">pastebin.com/Si480yVy</a>  DB: mysql  Ver 8.0.27 connector: mysql connector/j 8.0.27"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647596121,"post_id":71410711,"comment_id":126415407,"body_markdown":"@Chris also I just clarified how I want resulting table to look","body":"@Chris also I just clarified how I want resulting table to look"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647616150,"post_id":71410711,"comment_id":126422556,"body_markdown":"I didn&#39;t notice you had &quot;from People p join Users u&quot; as your query - Why didn&#39;t you use &quot;from People p join p.user u&quot; as suggested? JPA doesn&#39;t have full joins - it isn&#39;t universally supported on databases, so right and left joins are all that are offered. You should be easily able to make your native query work - I have you the solution in my second post with the &#39;userType&#39; being incorrect as &#39;user_type&#39; is what would be returned.","body":"I didn&#39;t notice you had &quot;from People p join Users u&quot; as your query - Why didn&#39;t you use &quot;from People p join p.user u&quot; as suggested? JPA doesn&#39;t have full joins - it isn&#39;t universally supported on databases, so right and left joins are all that are offered. You should be easily able to make your native query work - I have you the solution in my second post with the &#39;userType&#39; being incorrect as &#39;user_type&#39; is what would be returned."}],"answers":[{"tags":[],"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648552477,"creation_date":1648552477,"answer_id":71661002,"question_id":71410711,"body_markdown":"Thanks for @Chris help I finally got somewhere; my set mapping is looking like this:\r\n```\r\n@SqlResultSetMapping(\r\n\tname = &quot;PersonUserMapping&quot;,\r\n\tclasses = @ConstructorResult(\r\n\t\tcolumns = { @ColumnResult(name = &quot;personid&quot;, type=Integer.class),\r\n\t\t\t@ColumnResult(name = &quot;name&quot;),\r\n\t\t\t@ColumnResult(name = &quot;login&quot;),\r\n\t\t\t@ColumnResult(name = &quot;user_type&quot;,type = UserType.class)},\r\n\t\ttargetClass = PersonUserMap.class))\r\n```\r\nand my query looks like this\r\n```\r\nQuery q = entityManager.createNativeQuery(&quot;select personid, concat(first_name, &#39; &#39;, last_name) as &#39;name&#39;, users.login, users.user_type from aspirejestracja.people&quot;\r\n\t\t\t\t+ &quot; full join aspirejestracja.users on user_idusers = users.idusers &quot;, &quot;PersonUserMapping&quot;);\r\n``` \r\n\r\nnow I can display all users which I need :)","title":"Spring Data JPA/Hibernate - using EntityManager for queries","body":"<p>Thanks for @Chris help I finally got somewhere; my set mapping is looking like this:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;PersonUserMapping&quot;,\n    classes = @ConstructorResult(\n        columns = { @ColumnResult(name = &quot;personid&quot;, type=Integer.class),\n            @ColumnResult(name = &quot;name&quot;),\n            @ColumnResult(name = &quot;login&quot;),\n            @ColumnResult(name = &quot;user_type&quot;,type = UserType.class)},\n        targetClass = PersonUserMap.class))\n</code></pre>\n<p>and my query looks like this</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;select personid, concat(first_name, ' ', last_name) as 'name', users.login, users.user_type from aspirejestracja.people&quot;\n                + &quot; full join aspirejestracja.users on user_idusers = users.idusers &quot;, &quot;PersonUserMapping&quot;);\n</code></pre>\n<p>now I can display all users which I need :)</p>\n"}],"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71661002,"answer_count":1,"score":-1,"last_activity_date":1657524656,"creation_date":1646835132,"question_id":71410711,"body_markdown":"I have these entities, from which I want get List of Tuples containing information from both of them: [![Users and People Entities][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/asrcK.png\r\n\r\nwhich should look like this:\r\n```\r\n+--------+-----+---------+\r\n|name    |login|user_type|\r\n+--------+-----+---------+\r\n|        |admin|admin    |\r\n|John Doe|john |user     |\r\n|Jane Doe|janed|user     |\r\n|........|.....|.........|\r\n```\r\nThe thing is, my JPA skill got quite rusty and I forgot how to use Entity Managers. I know how to make basic JPQL queries or build-in stuff, but sadly it&#39;s not enough for me (since I need to use that list for filling up table in my UI). So, how did I should use Entity Managers? (if I should use that at all ;) )\r\n\r\nEdit: now I think that using DTO projection is better;  here&#39;s my mapping class\r\n```\r\npublic class PersonUserMap {\r\n\tprivate Integer personID;\r\n\tprivate String name;\r\n\tprivate String login;\r\n\tprivate UserType userType;\r\n\tpublic Integer getPersonID() {\r\n\t\treturn personID;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic String getLogin() {\r\n\t\treturn login;\r\n\t}\r\n\tpublic UserType getUserType() { //custom Enum\r\n\t\treturn userType;\r\n\t}\r\n}\r\n```\r\nmy annotation in People class:\r\n```\r\n@SqlResultSetMapping(\r\n\tname = &quot;PersonUserMapping&quot;,\r\n\tclasses = @ConstructorResult(\r\n\t\tcolumns = { @ColumnResult(name = &quot;personID&quot;, type=Integer.class),\r\n\t\t\t@ColumnResult(name = &quot;name&quot;),\r\n\t\t\t@ColumnResult(name = &quot;login&quot;),\r\n\t\t\t@ColumnResult(name = &quot;userType&quot;,type = UserType.class)},\r\n\t\ttargetClass = PersonUserMap.class))\r\n```\r\n\r\nand when using native query like this: \r\n\r\n    Query q = entityManager.createNativeQuery(&quot;Select p.personid, p.first_name || &#39; &#39; || p.last_name as name, u.login, u.user_type from people p join users u on p.user_idusers = u.idusers&quot;,&quot;PersonUserMapping&quot;);\r\n\r\n it throws exception `Could not resolve column name in result set [userType]`","title":"Spring Data JPA/Hibernate - using EntityManager for queries","body":"<p>I have these entities, from which I want get List of Tuples containing information from both of them: <a href=\"https://i.stack.imgur.com/asrcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/asrcK.png\" alt=\"Users and People Entities\" /></a></p>\n<p>which should look like this:</p>\n<pre><code>+--------+-----+---------+\n|name    |login|user_type|\n+--------+-----+---------+\n|        |admin|admin    |\n|John Doe|john |user     |\n|Jane Doe|janed|user     |\n|........|.....|.........|\n</code></pre>\n<p>The thing is, my JPA skill got quite rusty and I forgot how to use Entity Managers. I know how to make basic JPQL queries or build-in stuff, but sadly it's not enough for me (since I need to use that list for filling up table in my UI). So, how did I should use Entity Managers? (if I should use that at all ;) )</p>\n<p>Edit: now I think that using DTO projection is better;  here's my mapping class</p>\n<pre><code>public class PersonUserMap {\n    private Integer personID;\n    private String name;\n    private String login;\n    private UserType userType;\n    public Integer getPersonID() {\n        return personID;\n    }\n    public String getName() {\n        return name;\n    }\n    public String getLogin() {\n        return login;\n    }\n    public UserType getUserType() { //custom Enum\n        return userType;\n    }\n}\n</code></pre>\n<p>my annotation in People class:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;PersonUserMapping&quot;,\n    classes = @ConstructorResult(\n        columns = { @ColumnResult(name = &quot;personID&quot;, type=Integer.class),\n            @ColumnResult(name = &quot;name&quot;),\n            @ColumnResult(name = &quot;login&quot;),\n            @ColumnResult(name = &quot;userType&quot;,type = UserType.class)},\n        targetClass = PersonUserMap.class))\n</code></pre>\n<p>and when using native query like this:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;Select p.personid, p.first_name || ' ' || p.last_name as name, u.login, u.user_type from people p join users u on p.user_idusers = u.idusers&quot;,&quot;PersonUserMapping&quot;);\n</code></pre>\n<p>it throws exception <code>Could not resolve column name in result set [userType]</code></p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657523021,"creation_date":1657523021,"answer_id":72934844,"question_id":72934700,"body_markdown":"You could use a temporary Set in your static block\r\n\r\n```java\r\npublic static final Set&lt;String&gt; IDS;\r\nstatic {\r\n    final Set&lt;String&gt; temp = new HashSet&lt;&gt;();\r\n    // Run your query and add ids to temp\r\n    IDS = Collections.unmodifiableSet(temp);\r\n}\r\n```","title":"Expose `final static Set` of a class","body":"<p>You could use a temporary Set in your static block</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Set&lt;String&gt; IDS;\nstatic {\n    final Set&lt;String&gt; temp = new HashSet&lt;&gt;();\n    // Run your query and add ids to temp\n    IDS = Collections.unmodifiableSet(temp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657523065,"creation_date":1657523065,"answer_id":72934851,"question_id":72934700,"body_markdown":"Try this.\r\n\r\n\tpublic static final Set&lt;String&gt; IDS;\r\n\tstatic {\r\n\t\tSet&lt;String&gt; set = new HashSet&lt;&gt;();\r\n\t\tset.add(&quot;a&quot;);\r\n\t\tset.add(&quot;b&quot;);\r\n\t\tset.add(&quot;c&quot;);\r\n\t\tIDS = Collections.unmodifiableSet(set);\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(IDS);\r\n\t\tIDS.add(&quot;x&quot;);\r\n\t}\r\n\r\noutput:\r\n\r\n    [a, b, c]\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\r\n","title":"Expose `final static Set` of a class","body":"<p>Try this.</p>\n<pre><code>public static final Set&lt;String&gt; IDS;\nstatic {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    set.add(&quot;a&quot;);\n    set.add(&quot;b&quot;);\n    set.add(&quot;c&quot;);\n    IDS = Collections.unmodifiableSet(set);\n}\n\n\npublic static void main(String[] args) {\n    System.out.println(IDS);\n    IDS.add(&quot;x&quot;);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[a, b, c]\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657524411,"creation_date":1657524411,"answer_id":72935038,"question_id":72934700,"body_markdown":"If you want to expose a set (or any other collection) from your class, you could use `java.util.Collections#unmodifiableSet`. It is very lightweight, because it just wraps your set and proxies all non-modifying calls to the underlying set.\r\n\r\nAnd keep the state hidden. One class should at most expose constants, better add a getter for the collection.","title":"Expose `final static Set` of a class","body":"<p>If you want to expose a set (or any other collection) from your class, you could use <code>java.util.Collections#unmodifiableSet</code>. It is very lightweight, because it just wraps your set and proxies all non-modifying calls to the underlying set.</p>\n<p>And keep the state hidden. One class should at most expose constants, better add a getter for the collection.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72934851,"answer_count":3,"score":0,"last_activity_date":1657524411,"creation_date":1657522249,"question_id":72934700,"body_markdown":"I have a class that has:  \r\n`public static final Set&lt;String&gt; IDS = new HashSet&lt;&gt;();`,  \r\nwhose values are initiated in a static block after running some query (Therefore I can&#39;t declare it as `unmodifiableSet`).  \r\n\r\nNow that other classes need to use `IDS` but apparently I don&#39;t want to let them get direct access to it to avoid `IDS` being changed by callers.  \r\nTo achieve this, one way I can think of, is to \r\n1. make `IDS` private\r\n2. create a getter method that will `return new HashSet&lt;&gt;(IDS)` (or `ImmutableSet` as I&#39;m using `Guava`)  \r\n\r\n\r\nBut wondering if there are better ways?","title":"Expose `final static Set` of a class","body":"<p>I have a class that has:<br />\n<code>public static final Set&lt;String&gt; IDS = new HashSet&lt;&gt;();</code>,<br />\nwhose values are initiated in a static block after running some query (Therefore I can't declare it as <code>unmodifiableSet</code>).</p>\n<p>Now that other classes need to use <code>IDS</code> but apparently I don't want to let them get direct access to it to avoid <code>IDS</code> being changed by callers.<br />\nTo achieve this, one way I can think of, is to</p>\n<ol>\n<li>make <code>IDS</code> private</li>\n<li>create a getter method that will <code>return new HashSet&lt;&gt;(IDS)</code> (or <code>ImmutableSet</code> as I'm using <code>Guava</code>)</li>\n</ol>\n<p>But wondering if there are better ways?</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657321452,"post_id":72917644,"comment_id":128790977,"body_markdown":"I&#39;m not sure if `read` can return 0 in some cases when there are no bytes immediately available, and yet return a positive number on subsequent calls. The first thing I would check is, are you actually getting data from the input stream. Also, if you are using at least Java 9 or later it might be better and easier to use `is.transferTo(zipStream)`.","body":"I&#39;m not sure if <code>read</code> can return 0 in some cases when there are no bytes immediately available, and yet return a positive number on subsequent calls. The first thing I would check is, are you actually getting data from the input stream. Also, if you are using at least Java 9 or later it might be better and easier to use <code>is.transferTo(zipStream)</code>."},{"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"score":0,"creation_date":1657322689,"post_id":72917644,"comment_id":128791146,"body_markdown":"I see that outputStream is null.","body":"I see that outputStream is null."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657327664,"post_id":72917644,"comment_id":128791772,"body_markdown":"The `zipStream` is `null`? Maybe you should just try using a `ByteArrayOutputStream` for now, until you get the read working.","body":"The <code>zipStream</code> is <code>null</code>? Maybe you should just try using a <code>ByteArrayOutputStream</code> for now, until you get the read working."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":2,"creation_date":1657341107,"post_id":72917644,"comment_id":128793075,"body_markdown":"I replicated Attempt 1 code and it works for me. Check your image url.","body":"I replicated Attempt 1 code and it works for me. Check your image url."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1657344644,"post_id":72917644,"comment_id":128793428,"body_markdown":"@DavidConrad it can&#39;t. `read` will block until it can read at least 1 byte. It doesn&#39;t necessarily fill all space available, but it will fill at least 1 byte. If it can&#39;t, it&#39;ll wait. If the stream ends, it returns -1. I think the only way to get `0` out, is to call `byte[] b = new byte[0]; in.read(b)`, which academic (pointless).","body":"@DavidConrad it can&#39;t. <code>read</code> will block until it can read at least 1 byte. It doesn&#39;t necessarily fill all space available, but it will fill at least 1 byte. If it can&#39;t, it&#39;ll wait. If the stream ends, it returns -1. I think the only way to get <code>0</code> out, is to call <code>byte[] b = new byte[0]; in.read(b)</code>, which academic (pointless)."},{"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"score":0,"creation_date":1657809214,"post_id":72917644,"comment_id":128903079,"body_markdown":"The issue was the URL.","body":"The issue was the URL."}],"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657524362,"creation_date":1657319969,"question_id":72917644,"body_markdown":"I&#39;m trying to get an image from a URL and add the image to a zipfile. When I try to read from the stream (`read(buf)) &gt; 0`), the condition is always false. I&#39;m not understanding what I&#39;m missing. Any ideas?\r\n\r\n    File tempZipFile = File.createTempFile(&quot;zip_images&quot;, &quot;.zip&quot;);\r\n    ZipOutputStream zipStream = new ZipOutputStream(new FileOutputStream(tempZipFile));\r\n    byte[] buf = new byte[1024];\r\n    String imageUrl = &quot;&quot;;\r\n\r\nAttempt 1:\r\n\r\n    InputStream is;\r\n    is = new URL(imageUrl).openStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    while ((len = is.read(buf)) &gt; 0) {\r\n    \tzipStream.write(buf, 0, len);\r\n    }\r\n\r\nAttempt 2:\r\n\r\n    URL url = new URL(imageUrl);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    InputStream is = connection.getInputStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    while ((len = urlStream.read(buf)) &gt; 0) {\r\n    \tzipStream.write(buf, 0, len);\r\n    }  \r\n\r\nAttempt 3:\r\n\r\n    URL url = new URL(imageUrl);\r\n    InputStream is = url.openStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    \r\n    while ((len = is.read(buf)) &gt; 0) {\r\n        os.write(b, 0, len);\r\n    }\r\n    \r\n  ","title":"input stream read is always empty","body":"<p>I'm trying to get an image from a URL and add the image to a zipfile. When I try to read from the stream (<code>read(buf)) &gt; 0</code>), the condition is always false. I'm not understanding what I'm missing. Any ideas?</p>\n<pre><code>File tempZipFile = File.createTempFile(&quot;zip_images&quot;, &quot;.zip&quot;);\nZipOutputStream zipStream = new ZipOutputStream(new FileOutputStream(tempZipFile));\nbyte[] buf = new byte[1024];\nString imageUrl = &quot;&quot;;\n</code></pre>\n<p>Attempt 1:</p>\n<pre><code>InputStream is;\nis = new URL(imageUrl).openStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\nwhile ((len = is.read(buf)) &gt; 0) {\n    zipStream.write(buf, 0, len);\n}\n</code></pre>\n<p>Attempt 2:</p>\n<pre><code>URL url = new URL(imageUrl);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(&quot;GET&quot;);\nInputStream is = connection.getInputStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\nwhile ((len = urlStream.read(buf)) &gt; 0) {\n    zipStream.write(buf, 0, len);\n}  \n</code></pre>\n<p>Attempt 3:</p>\n<pre><code>URL url = new URL(imageUrl);\nInputStream is = url.openStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\n\nwhile ((len = is.read(buf)) &gt; 0) {\n    os.write(b, 0, len);\n}\n</code></pre>\n"},{"tags":["java","jpa","jakarta-ee","jpql"],"comments":[{"owner":{"account_id":211184,"reputation":4921,"user_id":463202,"accept_rate":92,"display_name":"Gonzalo Garcia Lasurtegui"},"score":0,"creation_date":1321903329,"post_id":8217144,"comment_id":10102794,"body_markdown":"are you using a custom enum? Can you update the document to show the Status enum?","body":"are you using a custom enum? Can you update the document to show the Status enum?"}],"answers":[{"tags":[],"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1321902658,"creation_date":1321902658,"answer_id":8217175,"question_id":8217144,"body_markdown":"I think you should use your (fully qualified) `Status` enum instead of literal value, so something like this: (assuming your `Status` enum is in `com.myexample` package)\r\n\r\n    @NamedQuery(name = &quot;Question.allApproved&quot;, \r\n                query = &quot;SELECT q \r\n                         FROM Question q \r\n                         WHERE q.status = com.myexample.Status.APPROVED&quot;).\r\n\r\n","title":"Problems with making a query when using Enum in entity","body":"<p>I think you should use your (fully qualified) <code>Status</code> enum instead of literal value, so something like this: (assuming your <code>Status</code> enum is in <code>com.myexample</code> package)</p>\n\n<pre><code>@NamedQuery(name = \"Question.allApproved\", \n            query = \"SELECT q \n                     FROM Question q \n                     WHERE q.status = com.myexample.Status.APPROVED\").\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328516,"reputation":644,"user_id":1272886,"display_name":"Tom Silverman"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1462027973,"creation_date":1462027973,"answer_id":36956358,"question_id":8217144,"body_markdown":"4 years since the initial post, there are some developments. Using spring 4 and  Hibernate 4 it&#39;s now possible to &#39;trick&#39; Hibernate using a SpEL expression. For example:\r\n\r\nThe enum:\r\n\r\n    package com.mycompany.enums\r\n    \r\n    public enum Status {\r\n        INITIAL, PENDING, REJECTED, APPROVED, SHIPPED, DELIVERED, COMPLETE;\r\n    }\r\n\r\nHere&#39;s a wrapper class called &#39;Filter&#39; which we&#39;ll pass to the repository filtering method. \r\n\r\n    package com.mycompany.enums\r\n    \r\n    public class Filter implements Serializable {\r\n    \r\n        /** The id of the filtered item */\r\n        private Integer id;\r\n        /** The status of the filtered item */\r\n        private Status status;\r\n        // more filter criteria here...\r\n    \r\n        // getters, setters, equals(), hashCode() - omitted for brevity\r\n    \r\n        /**\r\n         * Returns the name of the status constant or null if the status is null. This is used in the repositories to filter\r\n         * queries by the status using a the SPEL (T) expression, taking advantage of the status qualified name. For example:\r\n         * {@code :#{T(com.mycompany.enums.Status).#filter.statusName}}\r\n         *\r\n         * @return the status constant name or null if the status is null\r\n         */\r\n        public String getStatusName() {\r\n            return null == status ? status : status.name();\r\n        }\r\n    \r\n     }\r\n\r\n\r\nFinally, in the repository, we can now use the Filter class as the single parameter and make the query translate what appears to be a mixture of literals and SpEL expressions to a Status object:\r\n\r\nThe repository:\r\n\r\n    package com.mycompany.repository\r\n    \r\n    @Repository\r\n    public interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\r\n    \r\n        @Query(&quot;SELECT o from Order o &quot;\r\n                + &quot;WHERE o.id = COALESCE(:#{#filter.id},o.id) &quot;\r\n                + &quot;AND o.status = COALESCE(:#{T(com.mycompany.enums.Status).#filter.statusName},o.status)&quot;)\r\n        public List&lt;Order&gt; getFilteredOrders(@Param(value = &quot;filter&quot;) Filter filter);\r\n    }\r\n\r\nThis works perfectly, but for some odd reason I haven&#39;t figured out yet, if you enable SQL debugging in Hibernate and turn on the binder logging, you&#39;ll not be able to see Hibernate binding this expression to query variables.  ","title":"Problems with making a query when using Enum in entity","body":"<p>4 years since the initial post, there are some developments. Using spring 4 and  Hibernate 4 it's now possible to 'trick' Hibernate using a SpEL expression. For example:</p>\n\n<p>The enum:</p>\n\n<pre><code>package com.mycompany.enums\n\npublic enum Status {\n    INITIAL, PENDING, REJECTED, APPROVED, SHIPPED, DELIVERED, COMPLETE;\n}\n</code></pre>\n\n<p>Here's a wrapper class called 'Filter' which we'll pass to the repository filtering method. </p>\n\n<pre><code>package com.mycompany.enums\n\npublic class Filter implements Serializable {\n\n    /** The id of the filtered item */\n    private Integer id;\n    /** The status of the filtered item */\n    private Status status;\n    // more filter criteria here...\n\n    // getters, setters, equals(), hashCode() - omitted for brevity\n\n    /**\n     * Returns the name of the status constant or null if the status is null. This is used in the repositories to filter\n     * queries by the status using a the SPEL (T) expression, taking advantage of the status qualified name. For example:\n     * {@code :#{T(com.mycompany.enums.Status).#filter.statusName}}\n     *\n     * @return the status constant name or null if the status is null\n     */\n    public String getStatusName() {\n        return null == status ? status : status.name();\n    }\n\n }\n</code></pre>\n\n<p>Finally, in the repository, we can now use the Filter class as the single parameter and make the query translate what appears to be a mixture of literals and SpEL expressions to a Status object:</p>\n\n<p>The repository:</p>\n\n<pre><code>package com.mycompany.repository\n\n@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\n\n    @Query(\"SELECT o from Order o \"\n            + \"WHERE o.id = COALESCE(:#{#filter.id},o.id) \"\n            + \"AND o.status = COALESCE(:#{T(com.mycompany.enums.Status).#filter.statusName},o.status)\")\n    public List&lt;Order&gt; getFilteredOrders(@Param(value = \"filter\") Filter filter);\n}\n</code></pre>\n\n<p>This works perfectly, but for some odd reason I haven't figured out yet, if you enable SQL debugging in Hibernate and turn on the binder logging, you'll not be able to see Hibernate binding this expression to query variables.  </p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98208,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":8217175,"answer_count":2,"score":112,"last_activity_date":1657523799,"creation_date":1321902490,"question_id":8217144,"body_markdown":"I have the following in a Question entity:\r\n\r\n    @NamedQuery(name = &quot;Question.allApproved&quot;,\r\n        query = &quot;SELECT q FROM Question q WHERE q.status = &#39;APPROVED&#39;&quot;)\r\n\r\nand\r\n\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate Status status;\r\n\r\n\t// usual accessors\r\n\r\nI am getting this exception:\r\n\r\n\r\n&gt; Exception Description: Error compiling the query\r\n&gt; [Question.countApproved: `SELECT COUNT(q) FROM Question q WHERE q.status = &#39;APPROVED&#39;`], line 1, column 47: invalid enum equal\r\n&gt; expression, cannot compare enum value of type\r\n&gt; `[myCompnay.application.Status]` with a non enum value\r\n&gt; of type `[java.lang.String]`. \tat\r\n&gt; org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:501)\r\n\r\nHow do I fix this?\r\n\r\n","title":"Problems with making a query when using Enum in entity","body":"<p>I have the following in a Question entity:</p>\n\n<pre><code>@NamedQuery(name = \"Question.allApproved\",\n    query = \"SELECT q FROM Question q WHERE q.status = 'APPROVED'\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Enumerated(EnumType.STRING)\nprivate Status status;\n\n// usual accessors\n</code></pre>\n\n<p>I am getting this exception:</p>\n\n<blockquote>\n  <p>Exception Description: Error compiling the query\n  [Question.countApproved: <code>SELECT COUNT(q) FROM Question q WHERE q.status = 'APPROVED'</code>], line 1, column 47: invalid enum equal\n  expression, cannot compare enum value of type\n  <code>[myCompnay.application.Status]</code> with a non enum value\n  of type <code>[java.lang.String]</code>.     at\n  org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:501)</p>\n</blockquote>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1657495214,"post_id":72932438,"comment_id":128816877,"body_markdown":"You&#39;re calling object.getString(&quot;customer&quot;), not &quot;name&quot;.","body":"You&#39;re calling object.getString(&quot;customer&quot;), not &quot;name&quot;."},{"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"score":0,"creation_date":1657502295,"post_id":72932438,"comment_id":128817723,"body_markdown":"you should post the content of s, so others don&#39;t need to guess the content of json.","body":"you should post the content of s, so others don&#39;t need to guess the content of json."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1657503357,"post_id":72932438,"comment_id":128817848,"body_markdown":"there is no array in the json posted.","body":"there is no array in the json posted."}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657520477,"creation_date":1657520172,"answer_id":72934393,"question_id":72932438,"body_markdown":"First of all, there is no json array inside your json content. Json array is an array inside the json content. No such array exists in your json content. To give an example, assuming the name field is inside an array. It should have looked like this then:\r\n\r\n    {\r\n      &quot;name&quot;: [\r\n        {\r\n          &quot;personName&quot;: &quot;Adene Jonah&quot;\r\n        },\r\n        {\r\n          &quot;personName&quot;: &quot;abc&quot;\r\n        }\r\n      ],\r\n      &quot;address&quot;: &quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,\r\n      &quot;util&quot;: &quot;Demo Utility&quot;,\r\n      &quot;minimumAmount&quot;: &quot;500&quot;\r\n    }\r\n\r\nA json array starts with a [ sign and actually encloses many arrays. So if we give an example on the name field, it can contain many names. But your json content is a pure json object. You can check this from sites like these. [JSON Beautifier][1]\r\n\r\n\r\n  [1]: https://codebeautify.org/jsonviewer","title":"How to set JSONObject to textview","body":"<p>First of all, there is no json array inside your json content. Json array is an array inside the json content. No such array exists in your json content. To give an example, assuming the name field is inside an array. It should have looked like this then:</p>\n<pre><code>{\n  &quot;name&quot;: [\n    {\n      &quot;personName&quot;: &quot;Adene Jonah&quot;\n    },\n    {\n      &quot;personName&quot;: &quot;abc&quot;\n    }\n  ],\n  &quot;address&quot;: &quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,\n  &quot;util&quot;: &quot;Demo Utility&quot;,\n  &quot;minimumAmount&quot;: &quot;500&quot;\n}\n</code></pre>\n<p>A json array starts with a [ sign and actually encloses many arrays. So if we give an example on the name field, it can contain many names. But your json content is a pure json object. You can check this from sites like these. <a href=\"https://codebeautify.org/jsonviewer\" rel=\"nofollow noreferrer\">JSON Beautifier</a></p>\n"}],"owner":{"account_id":6455760,"reputation":11,"user_id":5001229,"display_name":"Innocent Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657523402,"creation_date":1657494506,"question_id":72932438,"body_markdown":"I have been trying to set textview to &quot;name&quot; value from the json array responds but not working but if I run this code\r\n\r\n    @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            //view_member__progressBar.setVisibility(View.GONE);\r\n\r\n            try {\r\n                JSONObject object = new JSONObject(s);\r\n\r\n                detail.setText(object.getString(&quot;customer&quot;));\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nI will get this result\r\n\r\n    {&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo Utility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;}\r\n\r\nbut if I run this code below I will get nothing\r\n\r\n     @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            //view_member__progressBar.setVisibility(View.GONE);\r\n\r\n            try {\r\n                JSONObject object = new JSONObject(s);\r\n                JSONArray ar = new JSONArray();\r\n                ar =object.getJSONArray(&quot;customer&quot;);\r\n\r\n\r\n                detail.setText(ar.getString(0).);\r\n\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nthis is the value of s\r\n\r\n    {&quot;status&quot;:&quot;00&quot;,&quot;message&quot;:&quot;OK&quot;,&quot;access_token&quot;:&quot;22071108062392&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe\r\n34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo\r\nUtility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;},&quot;response_hash&quot;:&quot;4a0d9cf3a7d63c5b0f9087931bef5540a0665add&quot;}","title":"How to set JSONObject to textview","body":"<p>I have been trying to set textview to &quot;name&quot; value from the json array responds but not working but if I run this code</p>\n<pre><code>@Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        //view_member__progressBar.setVisibility(View.GONE);\n\n        try {\n            JSONObject object = new JSONObject(s);\n\n            detail.setText(object.getString(&quot;customer&quot;));\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I will get this result</p>\n<pre><code>{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo Utility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;}\n</code></pre>\n<p>but if I run this code below I will get nothing</p>\n<pre><code> @Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        //view_member__progressBar.setVisibility(View.GONE);\n\n        try {\n            JSONObject object = new JSONObject(s);\n            JSONArray ar = new JSONArray();\n            ar =object.getJSONArray(&quot;customer&quot;);\n\n\n            detail.setText(ar.getString(0).);\n\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>this is the value of s</p>\n<pre><code>{&quot;status&quot;:&quot;00&quot;,&quot;message&quot;:&quot;OK&quot;,&quot;access_token&quot;:&quot;22071108062392&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe\n</code></pre>\n<p>34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo\nUtility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;},&quot;response_hash&quot;:&quot;4a0d9cf3a7d63c5b0f9087931bef5540a0665add&quot;}</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":9735764,"reputation":3,"user_id":7219049,"display_name":"John Ng"},"score":0,"creation_date":1657468468,"post_id":72929608,"comment_id":128812116,"body_markdown":"Sorry andrewJames, I&#39;ve added the full stack trace just now.","body":"Sorry andrewJames, I&#39;ve added the full stack trace just now."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1657468671,"post_id":72929608,"comment_id":128812150,"body_markdown":"Thank you for the update. &quot;_Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute_&quot; - take a look at [What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?](https://stackoverflow.com/q/42198050/12567365) for initial troubleshooting. You can update the question with your findings, if that does not resolve the problem.","body":"Thank you for the update. &quot;<i>Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute</i>&quot; - take a look at <a href=\"https://stackoverflow.com/q/42198050/12567365\">What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?</a> for initial troubleshooting. You can update the question with your findings, if that does not resolve the problem."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1657469037,"post_id":72929608,"comment_id":128812249,"body_markdown":"Also, &quot;_template: &quot;design&quot; - line 15, col 28_&quot; is where you should be looking.","body":"Also, &quot;<i>template: &quot;design&quot; - line 15, col 28</i>&quot; is where you should be looking."}],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657523085,"creation_date":1657523085,"answer_id":72934853,"question_id":72929608,"body_markdown":"From incomplete template code I&#39;m asuming the error is due to the fact that you only set a taco attriubte in your controller `model.addAttribute(&quot;taco&quot;, new Taco());` but call a design object in view `&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;` You&#39;d either have to change the `${design}` to `${taco}` or define a seperate design attirbute","title":"How to fix Thymeleaf th:field unexpected error","body":"<p>From incomplete template code I'm asuming the error is due to the fact that you only set a taco attriubte in your controller <code>model.addAttribute(&quot;taco&quot;, new Taco());</code> but call a design object in view <code>&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;</code> You'd either have to change the <code>${design}</code> to <code>${taco}</code> or define a seperate design attirbute</p>\n"}],"owner":{"account_id":9735764,"reputation":3,"user_id":7219049,"display_name":"John Ng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72934853,"answer_count":1,"score":0,"last_activity_date":1657523085,"creation_date":1657466497,"question_id":72929608,"body_markdown":"I am new to Spring Boot and Thymeleaf. I tried to follow some example but got error as below with no any ideas...\r\n\r\nMy Spring Boot version is 2.7.1 and Java 17\r\n\r\nentity:\r\n\r\n    @Data\r\n    public class Taco {\r\n        private String name;\r\n        private List&lt;Ingredient&gt; ingredients;\r\n    }\r\n\r\ncontroller:\r\n\r\n    @Slf4j\r\n    @Controller\r\n    @RequestMapping(&quot;/design&quot;)\r\n    @SessionAttributes(&quot;tacoOrder&quot;)\r\n    public class DesignTacoController {\r\n    \r\n        @ModelAttribute\r\n        public void addIngredientsToModel(Model model) {\r\n            List&lt;Ingredient&gt; ingredients = Arrays.asList(\r\n                    new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),\r\n                    new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),\r\n                    new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),\r\n                    new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),\r\n                    new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),\r\n                    new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),\r\n                    new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),\r\n                    new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),\r\n                    new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),\r\n                    new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)\r\n            );\r\n    \r\n            Type[] types = Ingredient.Type.values();\r\n            for (Type type : types) {\r\n                model.addAttribute(type.toString().toLowerCase(),\r\n                        filterByType(ingredients, type));\r\n            }\r\n        }\r\n    \r\n        @GetMapping\r\n        public String showDesignForm(Model model) {\r\n            model.addAttribute(&quot;taco&quot;, new Taco());\r\n            return &quot;design&quot;;\r\n        }\r\n        private Iterable&lt;Ingredient&gt; filterByType(\r\n                List&lt;Ingredient&gt; ingredients, Type type) {\r\n            return ingredients\r\n                    .stream()\r\n                    .filter(x -&gt; x.getType().equals(type))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nview: \r\n\r\n    &lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;\r\n        &lt;div&gt;\r\n            &lt;h3&gt;Name your taco creation:&lt;/h3&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;&lt;br/&gt;\r\n            &lt;button&gt;Submit your taco&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nThe `th:field` will get 500 internal error when I open this web page....\r\n\r\nI&#39;ve google and take a look in Thymeleaf document, but seems the th:field usage is correct.\r\n\r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/design.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;design&quot; - line 15, col 28)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;design&quot; - line 15, col 28)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\r\n    \tat org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute\r\n    \tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n    \tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n    \tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n    \tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 63 more","title":"How to fix Thymeleaf th:field unexpected error","body":"<p>I am new to Spring Boot and Thymeleaf. I tried to follow some example but got error as below with no any ideas...</p>\n<p>My Spring Boot version is 2.7.1 and Java 17</p>\n<p>entity:</p>\n<pre><code>@Data\npublic class Taco {\n    private String name;\n    private List&lt;Ingredient&gt; ingredients;\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@Slf4j\n@Controller\n@RequestMapping(&quot;/design&quot;)\n@SessionAttributes(&quot;tacoOrder&quot;)\npublic class DesignTacoController {\n\n    @ModelAttribute\n    public void addIngredientsToModel(Model model) {\n        List&lt;Ingredient&gt; ingredients = Arrays.asList(\n                new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),\n                new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),\n                new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),\n                new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),\n                new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),\n                new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),\n                new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),\n                new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),\n                new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),\n                new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)\n        );\n\n        Type[] types = Ingredient.Type.values();\n        for (Type type : types) {\n            model.addAttribute(type.toString().toLowerCase(),\n                    filterByType(ingredients, type));\n        }\n    }\n\n    @GetMapping\n    public String showDesignForm(Model model) {\n        model.addAttribute(&quot;taco&quot;, new Taco());\n        return &quot;design&quot;;\n    }\n    private Iterable&lt;Ingredient&gt; filterByType(\n            List&lt;Ingredient&gt; ingredients, Type type) {\n        return ingredients\n                .stream()\n                .filter(x -&gt; x.getType().equals(type))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>view:</p>\n<pre><code>&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;\n    &lt;div&gt;\n        &lt;h3&gt;Name your taco creation:&lt;/h3&gt;\n        &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;&lt;br/&gt;\n        &lt;button&gt;Submit your taco&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The <code>th:field</code> will get 500 internal error when I open this web page....</p>\n<p>I've google and take a look in Thymeleaf document, but seems the th:field usage is correct.</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/design.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;design&quot; - line 15, col 28)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;design&quot; - line 15, col 28)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\n    at org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\n    at org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\n    at org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\n    at org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'design' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 63 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","gson"],"answers":[{"tags":[],"owner":{"account_id":25766907,"reputation":1,"user_id":19516648,"display_name":"Pavaz97"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657522832,"creation_date":1657439369,"answer_id":72926940,"question_id":72926847,"body_markdown":"Your object data is a simple object because you need that data like this for parsing:\r\n\r\n    Data{\r\n    List&lt;String&gt; RECORD;\r\n    }\r\n  \r\nso your principal class:\r\n\r\n    Class{\r\n        String id;\r\n        String resourceName;\r\n        Data data;\r\n    }\r\n\r\n And not a map key-value. In this way you shouldn&#39;t have any problems\r\n\r\n\r\n\r\n","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>Your object data is a simple object because you need that data like this for parsing:</p>\n<pre><code>Data{\nList&lt;String&gt; RECORD;\n}\n</code></pre>\n<p>so your principal class:</p>\n<pre><code>Class{\n    String id;\n    String resourceName;\n    Data data;\n}\n</code></pre>\n<p>And not a map key-value. In this way you shouldn't have any problems</p>\n"},{"tags":[],"owner":{"account_id":1164213,"reputation":431,"user_id":1143156,"accept_rate":58,"display_name":"Rickky13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657512891,"creation_date":1657460651,"answer_id":72928936,"question_id":72926847,"body_markdown":"Hi this is because of the line:\r\n\r\n    Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\r\n        \r\nwhen you use toString method it doesn&#39;t convert the object into a legit JSON Object, try and use ObjectMapper. i.e.\r\n\r\n    Map&lt;String, Object&gt; map = gson.fromJson(objectMapper.writeValueAsString(json), Map.class);\r\n\r\nQuick Comparison of the difference :\r\n\r\n - ToString Produces:\r\n\r\n&gt; {RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n\r\n - writeValueAsString Produces:\r\n\r\n&gt; {&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\r\n\r\n\r\n\r\nCode Snippet:\r\n\r\n        Gson gson = new Gson();\r\n        Object json = valueobject.getData(); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n        String jsonString = gson.toJson(json); //{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\r\n        Map&lt;String, Object&gt; map = gson.fromJson(jsonString, Map.class); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n        ArrayList x = (ArrayList) map.get(&quot;RECORD&quot;);\r\n        x.get(0); //{STATE=TORONTO CITY}\r\n        x.get(1); //{WORK=SERVICE}\r\n\r\n\r\n\r\n\r\n\r\n","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>Hi this is because of the line:</p>\n<pre><code>Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\n    \n</code></pre>\n<p>when you use toString method it doesn't convert the object into a legit JSON Object, try and use ObjectMapper. i.e.</p>\n<pre><code>Map&lt;String, Object&gt; map = gson.fromJson(objectMapper.writeValueAsString(json), Map.class);\n</code></pre>\n<p>Quick Comparison of the difference :</p>\n<ul>\n<li>ToString Produces:</li>\n</ul>\n<blockquote>\n<p>{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}</p>\n</blockquote>\n<ul>\n<li>writeValueAsString Produces:</li>\n</ul>\n<blockquote>\n<p>{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}</p>\n</blockquote>\n<p>Code Snippet:</p>\n<pre><code>    Gson gson = new Gson();\n    Object json = valueobject.getData(); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\n    String jsonString = gson.toJson(json); //{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\n    Map&lt;String, Object&gt; map = gson.fromJson(jsonString, Map.class); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\n    ArrayList x = (ArrayList) map.get(&quot;RECORD&quot;);\n    x.get(0); //{STATE=TORONTO CITY}\n    x.get(1); //{WORK=SERVICE}\n</code></pre>\n"}],"owner":{"account_id":18667216,"reputation":47,"user_id":13606911,"display_name":"krishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657522832,"creation_date":1657438306,"question_id":72926847,"body_markdown":"EXCEPTION - **com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;**\r\n\r\nThis is My POST REQUEST. \r\nWhere Data is an Object, id &amp; resource is String\r\n```\r\nprivate String id;\r\nprivate String resourceName;\r\nprivate Object data;\r\n```\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;150&quot;,\r\n    &quot;resourceName&quot;: &quot;Fabrik-Resource&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;RECORD&quot;: [\r\n            {\r\n                &quot;STATE&quot;: &quot;TORONTO CITY&quot;\r\n            },\r\n            {\r\n                &quot;WORK&quot;: &quot;SERVICE&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n``Now if i give Space between TORONTO CITY`` ,It will give me an exception\r\n\r\n```com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;```\r\n\r\n\r\nbut when I send requests without spaces as keys and values like - \r\n\r\n```&quot;data&quot;: {\r\n        &quot;RECORD&quot;: [\r\n            {\r\n                &quot;STATE&quot;: &quot;TORONTOCITY&quot;\r\n            },\r\n            {\r\n                &quot;WORK&quot;: &quot;SERVICE&quot;\r\n            }\r\n        ]\r\n    }\r\n```\r\n\r\nIt work **but not with Space**\r\n\r\nCODE - \r\n\r\n```@PostMapping(path=&quot;/dummy&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;MasterBlockChainResponse&gt; dummy(@RequestBody(required=false) Masterpayload valueobject) {\r\n\t\tGson gson = new Gson();\r\n\t\tMasterBlockChainResponse response = new MasterBlockChainResponse();\r\n\t\tObject json = valueobject.getData();\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\r\n\t\tresponse.setId(valueobject.getId());\r\n\t\tresponse.setResourceName(valueobject.getResourceName());\r\n\t\tresponse.setData(map);\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(response);\r\n\t\t\r\n\t}\r\n```","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>EXCEPTION - <strong>com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;</strong></p>\n<p>This is My POST REQUEST.\nWhere Data is an Object, id &amp; resource is String</p>\n<pre><code>private String id;\nprivate String resourceName;\nprivate Object data;\n</code></pre>\n<pre><code>{\n    &quot;id&quot;: &quot;150&quot;,\n    &quot;resourceName&quot;: &quot;Fabrik-Resource&quot;,\n    &quot;data&quot;: {\n        &quot;RECORD&quot;: [\n            {\n                &quot;STATE&quot;: &quot;TORONTO CITY&quot;\n            },\n            {\n                &quot;WORK&quot;: &quot;SERVICE&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p><code>Now if i give Space between TORONTO CITY</code> ,It will give me an exception</p>\n<p><code>com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;</code></p>\n<p>but when I send requests without spaces as keys and values like -</p>\n<pre><code>        &quot;RECORD&quot;: [\n            {\n                &quot;STATE&quot;: &quot;TORONTOCITY&quot;\n            },\n            {\n                &quot;WORK&quot;: &quot;SERVICE&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>It work <strong>but not with Space</strong></p>\n<p>CODE -</p>\n<pre><code>    public ResponseEntity&lt;MasterBlockChainResponse&gt; dummy(@RequestBody(required=false) Masterpayload valueobject) {\n        Gson gson = new Gson();\n        MasterBlockChainResponse response = new MasterBlockChainResponse();\n        Object json = valueobject.getData();\n        \n        Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\n        response.setId(valueobject.getId());\n        response.setResourceName(valueobject.getResourceName());\n        response.setData(map);\n        \n        return ResponseEntity.status(HttpStatus.OK).body(response);\n        \n    }\n</code></pre>\n"},{"tags":["java","android","android-activity"],"answers":[{"tags":[],"owner":{"account_id":16846220,"reputation":58,"user_id":12180320,"display_name":"Thazin Soe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657522332,"creation_date":1657522332,"answer_id":72934721,"question_id":72934363,"body_markdown":"Can you try like following reference? \r\n\r\nhttps://developer.android.com/training/basics/intents/result#custom\r\nhttps://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture\r\n\r\n    public class PickRingtone extends ActivityResultContract&lt;Integer, Uri&gt; {\r\n        @NonNull\r\n        @Override\r\n        public Intent createIntent(@NonNull Context context, @NonNull Integer ringtoneType) {\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, ringtoneType.intValue());\r\n            return intent;\r\n        }\r\n    \r\n        @Override\r\n        public Uri parseResult(int resultCode, @Nullable Intent result) {\r\n            if (resultCode != Activity.RESULT_OK || result == null) {\r\n                return null;\r\n            }\r\n            return result.getParcelableExtra(RingtoneManager.EXTRA_RINGTONE_PICKED_URI);\r\n        }\r\n    }\r\n\r\n","title":"How to pass data from a alertDialog to ActivityResultLauncher","body":"<p>Can you try like following reference?</p>\n<p><a href=\"https://developer.android.com/training/basics/intents/result#custom\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result#custom</a>\n<a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture</a></p>\n<pre><code>public class PickRingtone extends ActivityResultContract&lt;Integer, Uri&gt; {\n    @NonNull\n    @Override\n    public Intent createIntent(@NonNull Context context, @NonNull Integer ringtoneType) {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, ringtoneType.intValue());\n        return intent;\n    }\n\n    @Override\n    public Uri parseResult(int resultCode, @Nullable Intent result) {\n        if (resultCode != Activity.RESULT_OK || result == null) {\n            return null;\n        }\n        return result.getParcelableExtra(RingtoneManager.EXTRA_RINGTONE_PICKED_URI);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13220100,"reputation":33,"user_id":9547157,"display_name":"Wong Yat Cheong Jacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657522332,"creation_date":1657519927,"question_id":72934363,"body_markdown":"I am creating an android app with a activity of showing an alertDialog to let user take a photo of a item.\r\n    \r\n    // Inside AlertDialog on a Button Onclick function:\r\n    Intent camIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    camIntent.putExtra(&quot;GET_PRODUCT_ID&quot;, product_id);\r\n    activityResultLauncherStartCamera.launch(camIntent);\r\n\r\nOn activityResultLauncher, how can i get the &quot;product_id&quot; ?\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncherStartCamera = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;(){\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        \r\n                        // Both Return a null\r\n                        String product_id = data.getStringExtra(&quot;GET_PRODUCT_ID&quot;)\r\n                        String product_id = getIntent().getStringExtra(&quot;GET_PRODUCT_ID&quot;)\r\n\r\n                        // Check if old image file exist...\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\nI need to check if there is a same image file created before and delete it after the user complete to take a new images.","title":"How to pass data from a alertDialog to ActivityResultLauncher","body":"<p>I am creating an android app with a activity of showing an alertDialog to let user take a photo of a item.</p>\n<pre><code>// Inside AlertDialog on a Button Onclick function:\nIntent camIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\ncamIntent.putExtra(&quot;GET_PRODUCT_ID&quot;, product_id);\nactivityResultLauncherStartCamera.launch(camIntent);\n</code></pre>\n<p>On activityResultLauncher, how can i get the &quot;product_id&quot; ?</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncherStartCamera = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;(){\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == Activity.RESULT_OK){\n                    Intent data = result.getData();\n                    \n                    // Both Return a null\n                    String product_id = data.getStringExtra(&quot;GET_PRODUCT_ID&quot;)\n                    String product_id = getIntent().getStringExtra(&quot;GET_PRODUCT_ID&quot;)\n\n                    // Check if old image file exist...\n                }\n            }\n        }\n);\n</code></pre>\n<p>I need to check if there is a same image file created before and delete it after the user complete to take a new images.</p>\n"},{"tags":["java","mysql","sorting","collections","comparator"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1448890712,"post_id":33999947,"comment_id":55755408,"body_markdown":"AFAIK java handels the `_` different then they are getting handelt in sql when you are sorting. But the cause of this could be your local language setting.","body":"AFAIK java handels the <code>_</code> different then they are getting handelt in sql when you are sorting. But the cause of this could be your local language setting."},{"owner":{"account_id":4452672,"reputation":89,"user_id":3624028,"display_name":"JBALI"},"score":0,"creation_date":1448891398,"post_id":33999947,"comment_id":55755841,"body_markdown":"how did you do it inside ur code?","body":"how did you do it inside ur code?"},{"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"score":0,"creation_date":1448892821,"post_id":33999947,"comment_id":55756787,"body_markdown":"Possible duplicate of [MySQL &#39;Order By&#39; - sorting alphanumeric correctly](http://stackoverflow.com/questions/8557172/mysql-order-by-sorting-alphanumeric-correctly)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8557172/mysql-order-by-sorting-alphanumeric-correctly\">MySQL &#39;Order By&#39; - sorting alphanumeric correctly</a>"}],"answers":[{"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657521611,"creation_date":1448893098,"answer_id":34000712,"question_id":33999947,"body_markdown":"Use [`Collator`][1]:\r\n\r\n&gt; The Collator class performs locale-sensitive String comparison. You use this class to build searching and sorting routines for natural language text.\r\n\r\nAnd code will be:\r\n\r\n    Collator coll = Collator.getInstance(Locale.US);\r\n    coll.setStrength(Collator.IDENTICAL); \r\n    Collections.sort(words, coll);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html","title":"Java sorting is not the same with MySQL sorting","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>:</p>\n<blockquote>\n<p>The Collator class performs locale-sensitive String comparison. You use this class to build searching and sorting routines for natural language text.</p>\n</blockquote>\n<p>And code will be:</p>\n<pre><code>Collator coll = Collator.getInstance(Locale.US);\ncoll.setStrength(Collator.IDENTICAL); \nCollections.sort(words, coll);\n</code></pre>\n"}],"owner":{"account_id":2214779,"reputation":834,"user_id":1955701,"accept_rate":38,"display_name":"Bohdan Nesteruk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34000712,"answer_count":1,"score":4,"last_activity_date":1657521611,"creation_date":1448890665,"question_id":33999947,"body_markdown":"I need to check the sorting in the table and table content is given by MySQL. I&#39;m trying the following:\r\n`Collections.sort(sorted, String.CASE_INSENSITIVE_ORDER);`\r\n\r\nAnd get the following result:     \r\n`tes3@test.com `   \r\n`test4@test.com `   \r\n`test5@test.com`   \r\n`test@test.com `   \r\n`test_user@mail.com`    \r\n`user-og@driver.com`   \r\n    \r\nAnd this is what I get from MySQL by query:     \r\n`SELECT &#39;email&#39; FROM &#39;user&#39; WHERE 1 ORDER BY &#39;user&#39;.&#39;email&#39; ASC ` :    \r\n\r\n`tes3@test.com `    \r\n`test_user@mail.com `    \r\n`test@test.com `    \r\n`test4@test.com `   \r\n`test5@test.com`   \r\n`user-og@driver.com`\r\n\r\n\r\nSeems like Java sorts according to ASCII table: \r\nhttp://www.asciitable.com/\r\n   `4 (52) - @ (64) - _ (95)`  \r\n\r\nBut in MySQL result the order is ` _ -&gt; @ -&gt; 4`   \r\n\r\nThe `email` field collation is: `utf8_unicode_ci`    \r\nWhat is the problem and is there any comparator to make ordering in the same way? \r\n\r\n","title":"Java sorting is not the same with MySQL sorting","body":"<p>I need to check the sorting in the table and table content is given by MySQL. I'm trying the following:\n<code>Collections.sort(sorted, String.CASE_INSENSITIVE_ORDER);</code></p>\n<p>And get the following result:<br />\n<code>tes3@test.com </code><br />\n<code>test4@test.com </code><br />\n<code>test5@test.com</code><br />\n<code>test@test.com </code><br />\n<code>test_user@mail.com</code><br />\n<code>user-og@driver.com</code></p>\n<p>And this is what I get from MySQL by query:<br />\n<code>SELECT 'email' FROM 'user' WHERE 1 ORDER BY 'user'.'email' ASC </code> :</p>\n<p><code>tes3@test.com </code><br />\n<code>test_user@mail.com </code><br />\n<code>test@test.com </code><br />\n<code>test4@test.com </code><br />\n<code>test5@test.com</code><br />\n<code>user-og@driver.com</code></p>\n<p>Seems like Java sorts according to ASCII table:\n<a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">http://www.asciitable.com/</a>\n<code>4 (52) - @ (64) - _ (95)</code></p>\n<p>But in MySQL result the order is <code> _ -&gt; @ -&gt; 4</code></p>\n<p>The <code>email</code> field collation is: <code>utf8_unicode_ci</code><br />\nWhat is the problem and is there any comparator to make ordering in the same way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1657521089,"post_id":72934502,"comment_id":128820476,"body_markdown":"Do you know how to sort lists in general? Do you know how to sort lists of strings in general? If so, what did you try so far, and if not, what research did you do? - If you have done all this, what exactly are your requirements for sorting? Does the default collator produce the wrong results?","body":"Do you know how to sort lists in general? Do you know how to sort lists of strings in general? If so, what did you try so far, and if not, what research did you do? - If you have done all this, what exactly are your requirements for sorting? Does the default collator produce the wrong results?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1657522489,"post_id":72934502,"comment_id":128820848,"body_markdown":"You&#39;d normally use a `Collator` for locale specific sorting, but I just tried that, and it looks like Locales hi, hi_IN and hi_IN_#Deva don&#39;t have the sorting rules you expect.","body":"You&#39;d normally use a <code>Collator</code> for locale specific sorting, but I just tried that, and it looks like Locales hi, hi_IN and hi_IN_#Deva don&#39;t have the sorting rules you expect."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657544967,"post_id":72934502,"comment_id":128828562,"body_markdown":"Does this answer your question? [How to sort a List&lt;Object&gt; alphabetically using Object name field](https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field\">How to sort a List&lt;Object&gt; alphabetically using Object name field</a>"}],"owner":{"account_id":25778494,"reputation":1,"user_id":19524432,"display_name":"Ompal Singh Deora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657521439,"creation_date":1657520956,"question_id":72934502,"body_markdown":"How to sort the List of strings containing Hindi names or using special characters or using digits in Java?  \r\n\r\nFor example:\r\n```none\r\ninput:\r\n[!@#,hindi,अभिवादन,12dhs]\r\noutput:\r\n[अभिवादन,!@#,12dhs,hindi]\r\n```","title":"How to sort the List of strings containing Hindi names or using special characters or using digits in Java?","body":"<p>How to sort the List of strings containing Hindi names or using special characters or using digits in Java?</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>input:\n[!@#,hindi,अभिवादन,12dhs]\noutput:\n[अभिवादन,!@#,12dhs,hindi]\n</code></pre>\n"},{"tags":["java","spring","pdf","pdfbox"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1657522249,"post_id":72934558,"comment_id":128820777,"body_markdown":"You could try profiling/sampling while your application is loading different pdf files and then compare the collected data to find any differences.","body":"You could try profiling/sampling while your application is loading different pdf files and then compare the collected data to find any differences."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1657527276,"post_id":72934558,"comment_id":128822243,"body_markdown":"What version are you using? Can you share the file? And how is this related to spring?","body":"What version are you using? Can you share the file? And how is this related to spring?"},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1657609941,"post_id":72934558,"comment_id":128845074,"body_markdown":"@TilmanHausherr I can not share the file for security reasons. I am using version 2.0.24 of pdfbox.","body":"@TilmanHausherr I can not share the file for security reasons. I am using version 2.0.24 of pdfbox."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1657612067,"post_id":72934558,"comment_id":128845698,"body_markdown":"The current version is 2.0.26. Also try to run PDFDebugger in the latest 3.0 alpha and look at the status line https://www.apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/debugger-app-3.0.0-alpha3.jar","body":"The current version is 2.0.26. Also try to run PDFDebugger in the latest 3.0 alpha and look at the status line <a href=\"https://www.apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/debugger-app-3.0.0-alpha3.jar\" rel=\"nofollow noreferrer\">apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/&hellip;</a>"}],"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657521327,"creation_date":1657521327,"question_id":72934558,"body_markdown":"I am using **pdfbox** library for loading any pdf file\r\n\r\nthe code snippet is as below\r\n\r\n```PDDocument pdfDocument = PDDocument.load(pdfFile)```\r\n\r\nThis code is working for most of the case \r\nbut for some of the files (even for small files like 20mb), this function takes more than 5 minutes to laod the file.\r\n\r\nI had tried uploading a 60 mb file this function is not taking that much time but in some cases, it takes a longer time.\r\n\r\nCan anyone tell me in what kind of content it will take time? \r\n\r\nAnd what should we do for that kind of content?","title":"PDDocument.load() function taking more time to load file","body":"<p>I am using <strong>pdfbox</strong> library for loading any pdf file</p>\n<p>the code snippet is as below</p>\n<p><code>PDDocument pdfDocument = PDDocument.load(pdfFile)</code></p>\n<p>This code is working for most of the case\nbut for some of the files (even for small files like 20mb), this function takes more than 5 minutes to laod the file.</p>\n<p>I had tried uploading a 60 mb file this function is not taking that much time but in some cases, it takes a longer time.</p>\n<p>Can anyone tell me in what kind of content it will take time?</p>\n<p>And what should we do for that kind of content?</p>\n"},{"tags":["java","postgresql","amazon-web-services","identity-management","aws-iam-policy"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1657033204,"post_id":72866351,"comment_id":128710309,"body_markdown":"Did you `grant rds_iam to root`?  You didn&#39;t describe going that, and based on the error it looks like you didn&#39;t.","body":"Did you <code>grant rds_iam to root</code>?  You didn&#39;t describe going that, and based on the error it looks like you didn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657521252,"creation_date":1657519131,"answer_id":72934269,"question_id":72866351,"body_markdown":"First all i had a bug - i used the db name instead DBI resource ID\r\n\r\n**This is the expected format:** \r\n\r\n    arn:aws:rds-db:region:account-id:dbuser:DbiResourceId/db-user-name\r\n\r\n                \r\n\r\nand here is the code\r\n\r\n    data &quot;aws_iam_policy_document&quot; &quot;policy_fooweb_job&quot; {\r\n      statement {\r\n        actions = [\r\n          &quot;rds-db:connect&quot;\r\n        ]\r\n        effect = &quot;Allow&quot;\r\n        resources = [\r\n          &quot;arn:aws:rds-db:${var.region}:${data.aws_caller_identity.current.account_id}:dbuser:${data.aws_db_instance.database.resource_id}/someUser&quot;\r\n        ]\r\n      }\r\n    }\r\n    \r\n    ## get the db instance\r\n    data &quot;aws_db_instance&quot; &quot;database&quot; {\r\n      db_instance_identifier = &quot;company-oltp1&quot;\r\n    }\r\n\r\n","title":"Connect to RDS using IAM result password error","body":"<p>First all i had a bug - i used the db name instead DBI resource ID</p>\n<p><strong>This is the expected format:</strong></p>\n<pre><code>arn:aws:rds-db:region:account-id:dbuser:DbiResourceId/db-user-name\n\n            \n</code></pre>\n<p>and here is the code</p>\n<pre><code>data &quot;aws_iam_policy_document&quot; &quot;policy_fooweb_job&quot; {\n  statement {\n    actions = [\n      &quot;rds-db:connect&quot;\n    ]\n    effect = &quot;Allow&quot;\n    resources = [\n      &quot;arn:aws:rds-db:${var.region}:${data.aws_caller_identity.current.account_id}:dbuser:${data.aws_db_instance.database.resource_id}/someUser&quot;\n    ]\n  }\n}\n\n## get the db instance\ndata &quot;aws_db_instance&quot; &quot;database&quot; {\n  db_instance_identifier = &quot;company-oltp1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72934269,"answer_count":1,"score":0,"last_activity_date":1657521252,"creation_date":1657010106,"question_id":72866351,"body_markdown":"Hello i have create an RDS on AWS, and created a policy\r\nwith this permission based on [this link][1]\r\n\r\n    {\r\n       &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n       &quot;Statement&quot;: [\r\n          {\r\n             &quot;Effect&quot;: &quot;Allow&quot;,\r\n             &quot;Action&quot;: [\r\n                 &quot;rds-db:connect&quot;\r\n             ],\r\n             &quot;Resource&quot;: [\r\n                 &quot;arn:aws:rds-db:us-east-2:1234567890:dbuser:db-ABCDEFGHIJKL01234/db_user&quot;\r\n             ]\r\n          }\r\n       ]\r\n    }\r\n\r\n\r\nI&#39;ve have a general user that defined with a spesific password\r\n\r\ni tried login with the user but instead of the password i tried to set \r\nauth token link in [this guide][2] \r\n\r\n\r\n     private static Properties setMySqlConnectionProperties() {\r\n            Properties mysqlConnectionProperties = new Properties();\r\n            mysqlConnectionProperties.setProperty(&quot;verifyServerCertificate&quot;,&quot;true&quot;);\r\n            mysqlConnectionProperties.setProperty(&quot;useSSL&quot;, &quot;true&quot;);\r\n            mysqlConnectionProperties.setProperty(&quot;user&quot;,DB_USER);\r\n            mysqlConnectionProperties.setProperty(&quot;password&quot;,generateAuthToken());\r\n            return mysqlConnectionProperties;\r\n        }\r\n\r\n\r\n\t\r\n\r\n    public static String generateAuthToken(String region, String hostName, int port, String username) {\r\n    \r\n    \t\tRdsIamAuthTokenGenerator generator = RdsIamAuthTokenGenerator.builder()\r\n    \t\t\t\t.credentials(new DefaultAWSCredentialsProviderChain())\r\n    \t\t\t\t.region(region)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tString authToken = generator.getAuthToken(\r\n    \t\t\t\tGetIamAuthTokenRequest.builder()\r\n    \t\t\t\t\t\t.hostname(hostName)\r\n    \t\t\t\t\t\t.port(port)\r\n    \t\t\t\t\t\t.userName(username)\r\n    \t\t\t\t\t\t.build());\r\n    \r\n    \t\treturn authToken;\r\n    \t}\r\n\r\nIm using in my case with postgresql \r\nand it result this error\r\n\r\n    &quot;FATAL: password authentication failed for user \\&quot;root\\&quot;&quot;,&quot;error.stack_trace&quot;:&quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user \\&quot;root\\&quot;\r\n\r\n\r\nmy root user should support with IAM, what can i validate in order to fix it\r\n\r\nbelow you can see from AWS, that my policy is defined \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html\r\n  [2]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\r\n  [3]: https://i.stack.imgur.com/pZjNw.png","title":"Connect to RDS using IAM result password error","body":"<p>Hello i have create an RDS on AWS, and created a policy\nwith this permission based on <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html\" rel=\"nofollow noreferrer\">this link</a></p>\n<pre><code>{\n   &quot;Version&quot;: &quot;2012-10-17&quot;,\n   &quot;Statement&quot;: [\n      {\n         &quot;Effect&quot;: &quot;Allow&quot;,\n         &quot;Action&quot;: [\n             &quot;rds-db:connect&quot;\n         ],\n         &quot;Resource&quot;: [\n             &quot;arn:aws:rds-db:us-east-2:1234567890:dbuser:db-ABCDEFGHIJKL01234/db_user&quot;\n         ]\n      }\n   ]\n}\n</code></pre>\n<p>I've have a general user that defined with a spesific password</p>\n<p>i tried login with the user but instead of the password i tried to set\nauth token link in <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\" rel=\"nofollow noreferrer\">this guide</a></p>\n<pre><code> private static Properties setMySqlConnectionProperties() {\n        Properties mysqlConnectionProperties = new Properties();\n        mysqlConnectionProperties.setProperty(&quot;verifyServerCertificate&quot;,&quot;true&quot;);\n        mysqlConnectionProperties.setProperty(&quot;useSSL&quot;, &quot;true&quot;);\n        mysqlConnectionProperties.setProperty(&quot;user&quot;,DB_USER);\n        mysqlConnectionProperties.setProperty(&quot;password&quot;,generateAuthToken());\n        return mysqlConnectionProperties;\n    }\n\n\n\n\npublic static String generateAuthToken(String region, String hostName, int port, String username) {\n\n        RdsIamAuthTokenGenerator generator = RdsIamAuthTokenGenerator.builder()\n                .credentials(new DefaultAWSCredentialsProviderChain())\n                .region(region)\n                .build();\n\n        String authToken = generator.getAuthToken(\n                GetIamAuthTokenRequest.builder()\n                        .hostname(hostName)\n                        .port(port)\n                        .userName(username)\n                        .build());\n\n        return authToken;\n    }\n</code></pre>\n<p>Im using in my case with postgresql\nand it result this error</p>\n<pre><code>&quot;FATAL: password authentication failed for user \\&quot;root\\&quot;&quot;,&quot;error.stack_trace&quot;:&quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user \\&quot;root\\&quot;\n</code></pre>\n<p>my root user should support with IAM, what can i validate in order to fix it</p>\n<p>below you can see from AWS, that my policy is defined</p>\n<p><a href=\"https://i.stack.imgur.com/pZjNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZjNw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455379484,"creation_date":1455379484,"answer_id":35382052,"question_id":35369748,"body_markdown":"It looks like you are using the [DynamoDB Document API][1] and not the low level API.  When you are [querying][2] using the Document API all of the low level considerations such as paging are taken care for you, but you can optionally interact with these lower level aspects.\r\n\r\nBased on the code snippet you provided, the Document API library will take care of loading in additional pages when you reach the end of each page so there is nothing extra you need to do, your code should work!  This is the real benefit of using the Document API because it takes care of a lot of redundant boiler plate code for common use cases.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/JavaDocumentAPIItemCRUD.html\r\n  [2]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryingJavaDocumentAPI.html","title":"DynamoDB query get more than 1m of data - example in Java","body":"<p>It looks like you are using the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/JavaDocumentAPIItemCRUD.html\" rel=\"nofollow\">DynamoDB Document API</a> and not the low level API.  When you are <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryingJavaDocumentAPI.html\" rel=\"nofollow\">querying</a> using the Document API all of the low level considerations such as paging are taken care for you, but you can optionally interact with these lower level aspects.</p>\n\n<p>Based on the code snippet you provided, the Document API library will take care of loading in additional pages when you reach the end of each page so there is nothing extra you need to do, your code should work!  This is the real benefit of using the Document API because it takes care of a lot of redundant boiler plate code for common use cases.</p>\n"}],"owner":{"account_id":1377092,"reputation":575,"user_id":1310898,"accept_rate":21,"display_name":"fredy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657520945,"creation_date":1455301826,"question_id":35369748,"body_markdown":"I&#39;m trying to run a query and get all items. it seems that not all items are retrieved and I need to run the query again with the start key.\r\n\r\nFrom the documentation \r\n\r\n&gt; For either a Query or Scan operation, DynamoDB might return a LastEvaluatedKey value if the operation did not return all matching items in the table. To get the full count of items that match, take the LastEvaluatedKey value from the previous request and use it as the ExclusiveStartKey value in the next request. Repeat this until DynamoDB no longer returns a LastEvaluatedKey value.\r\n\r\nCan you give a code example how to wrap this code to run the query again with the lastEvaluatedKey?\r\n\r\n    \t\tQuerySpec spec = new QuerySpec()\r\n\t    .withKeyConditionExpression(&quot;userName = :userName and #a between :startRange and :endRange&quot;)\r\n\t    .withValueMap(valueMap)\r\n\t    .withScanIndexForward(false)\r\n\t    .withNameMap(nameMap);\r\n    \t\t\r\n\t\tItemCollection&lt;QueryOutcome&gt; items = table.query(spec);\r\n\r\n\t\tIterator&lt;Item&gt; iterator = items.iterator();\r\n\t\twhile (iterator.hasNext()) { ....\r\n","title":"DynamoDB query get more than 1m of data - example in Java","body":"<p>I'm trying to run a query and get all items. it seems that not all items are retrieved and I need to run the query again with the start key.</p>\n<p>From the documentation</p>\n<blockquote>\n<p>For either a Query or Scan operation, DynamoDB might return a LastEvaluatedKey value if the operation did not return all matching items in the table. To get the full count of items that match, take the LastEvaluatedKey value from the previous request and use it as the ExclusiveStartKey value in the next request. Repeat this until DynamoDB no longer returns a LastEvaluatedKey value.</p>\n</blockquote>\n<p>Can you give a code example how to wrap this code to run the query again with the lastEvaluatedKey?</p>\n<pre><code>        QuerySpec spec = new QuerySpec()\n    .withKeyConditionExpression(&quot;userName = :userName and #a between :startRange and :endRange&quot;)\n    .withValueMap(valueMap)\n    .withScanIndexForward(false)\n    .withNameMap(nameMap);\n        \n    ItemCollection&lt;QueryOutcome&gt; items = table.query(spec);\n\n    Iterator&lt;Item&gt; iterator = items.iterator();\n    while (iterator.hasNext()) { ....\n</code></pre>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":237591,"reputation":26585,"user_id":505893,"accept_rate":83,"display_name":"bluish"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1657520403,"creation_date":1297174541,"answer_id":4934106,"question_id":4933707,"body_markdown":"From the least severe to the most one:\r\n\r\n    ALL &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\r\n\r\nIf you choose one of them log4j will generate all messages of that type and of more severe type.\r\n\r\nPurposes:\r\n\r\n - `ALL`: generates all messages*\r\n - `DEBUG`: debug messages\r\n - `INFO`: information that aren&#39;t problems\r\n - `WARN`: not error but something that could cause a future error\r\n - `ERROR`: something went wrong, a problem that the application manages, the application could be stopped or not, usually must be reported\r\n - `FATAL`: an error that crashes the application\r\n - `OFF`: generates no messages*\r\n\r\n\r\n(*) these are only keywords; for these categories there are no methods `all(msg)` and `off(msg)`, like we have `error(msg)` or `debug(msg)`.\r\n\r\nUsually\r\n * during development I set\r\n     * logging on file to `ALL` or `DEBUG`\r\n * when deployed I set\r\n     * logging on file to `INFO` or `WARN`\r\n     * logging via email to `ERROR`","title":"What does rootCategory in log4j.properties mean?","body":"<p>From the least severe to the most one:</p>\n<pre><code>ALL &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\n</code></pre>\n<p>If you choose one of them log4j will generate all messages of that type and of more severe type.</p>\n<p>Purposes:</p>\n<ul>\n<li><code>ALL</code>: generates all messages*</li>\n<li><code>DEBUG</code>: debug messages</li>\n<li><code>INFO</code>: information that aren't problems</li>\n<li><code>WARN</code>: not error but something that could cause a future error</li>\n<li><code>ERROR</code>: something went wrong, a problem that the application manages, the application could be stopped or not, usually must be reported</li>\n<li><code>FATAL</code>: an error that crashes the application</li>\n<li><code>OFF</code>: generates no messages*</li>\n</ul>\n<p>(*) these are only keywords; for these categories there are no methods <code>all(msg)</code> and <code>off(msg)</code>, like we have <code>error(msg)</code> or <code>debug(msg)</code>.</p>\n<p>Usually</p>\n<ul>\n<li>during development I set\n<ul>\n<li>logging on file to <code>ALL</code> or <code>DEBUG</code></li>\n</ul>\n</li>\n<li>when deployed I set\n<ul>\n<li>logging on file to <code>INFO</code> or <code>WARN</code></li>\n<li>logging via email to <code>ERROR</code></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":235146,"reputation":11962,"user_id":501767,"accept_rate":80,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20580,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4934106,"answer_count":1,"score":11,"last_activity_date":1657520572,"creation_date":1297172272,"question_id":4933707,"body_markdown":"`log4j.rootCategory` field in log4j.properties can have 4 different values, namely: `DEBUG`, `WARN`, `INFO` and `ERROR`. \r\n\r\nCan you tell me which is most suitable for which cases?","title":"What does rootCategory in log4j.properties mean?","body":"<p><code>log4j.rootCategory</code> field in log4j.properties can have 4 different values, namely: <code>DEBUG</code>, <code>WARN</code>, <code>INFO</code> and <code>ERROR</code>.</p>\n<p>Can you tell me which is most suitable for which cases?</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1657232724,"post_id":72904798,"comment_id":128768920,"body_markdown":"You&#39;ll need to be more clear what you are trying to do, and include details, but have a [look at jpackage.](https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html)","body":"You&#39;ll need to be more clear what you are trying to do, and include details, but have a <a href=\"https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">look at jpackage.</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657268590,"post_id":72904798,"comment_id":128775152,"body_markdown":"Have you tried to run the created jar via `java -jar ...`?","body":"Have you tried to run the created jar via <code>java -jar ...</code>?"},{"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"score":0,"creation_date":1657275803,"post_id":72904798,"comment_id":128777626,"body_markdown":"Yes i did, but still needs to have the folder of &quot;scr&quot; in the same place as the .jar","body":"Yes i did, but still needs to have the folder of &quot;scr&quot; in the same place as the .jar"},{"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"score":0,"creation_date":1657275894,"post_id":72904798,"comment_id":128777654,"body_markdown":"Okey to be more clear, i want o to create a uniq .jar that runs the program. I mean , I dont want the need to have the &quot;scr&quot; folder in the smae place, and the program to generete the extra folder i  another place or maybe inside the same &quot;.jar&quot;","body":"Okey to be more clear, i want o to create a uniq .jar that runs the program. I mean , I dont want the need to have the &quot;scr&quot; folder in the smae place, and the program to generete the extra folder i  another place or maybe inside the same &quot;.jar&quot;"}],"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657520192,"creation_date":1657232270,"question_id":72904798,"body_markdown":"I been working on a personal project,that makes a local db for the stock of a store, and I didnt be able to create a Maven runnable that dosent need to be with the &quot;scr&quot; folder \r\n\r\n![enter image description here][1] . \r\n\r\nIn addition I also wan to dont create extra folders. I leave there  pomp file with the pluging I use. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;Bets21&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Bets21&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;manifestEntries&gt;\r\n                        &lt;Main-Class&gt;gui.ApplicationLauncher&lt;/Main-Class&gt;\r\n                        &lt;Build-Number&gt;123&lt;/Build-Number&gt;\r\n                      &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/hAs95.png","title":"Java Maven Jar runnable without extra folders","body":"<p>I been working on a personal project,that makes a local db for the stock of a store, and I didnt be able to create a Maven runnable that dosent need to be with the &quot;scr&quot; folder</p>\n<p><img src=\"https://i.stack.imgur.com/hAs95.png\" alt=\"enter image description here\" /> .</p>\n<p>In addition I also wan to dont create extra folders. I leave there  pomp file with the pluging I use.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Bets21&lt;/groupId&gt;\n&lt;artifactId&gt;Bets21&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.19.1&lt;/version&gt;\n&lt;configuration&gt;\n&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Main-Class&gt;gui.ApplicationLauncher&lt;/Main-Class&gt;\n                    &lt;Build-Number&gt;123&lt;/Build-Number&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","dictionary","nested","hashmap"],"comments":[{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1657519408,"post_id":72934200,"comment_id":128820053,"body_markdown":"if the nested map is already present in the first map, then this should suffice ```map1.get(object.getId).put(&quot;p1&quot;,object)```. You dont need to fiddle with the first map.","body":"if the nested map is already present in the first map, then this should suffice <code>map1.get(object.getId).put(&quot;p1&quot;,object)</code>. You dont need to fiddle with the first map."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1657520002,"post_id":72934200,"comment_id":128820186,"body_markdown":"What is `Obzect`? Can you provide more details about what exactly do you want to do?","body":"What is <code>Obzect</code>? Can you provide more details about what exactly do you want to do?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1657520100,"post_id":72934200,"comment_id":128820212,"body_markdown":"Obzect is object. Its actually an instance of a model. i dont know why if i write &lt;object&gt; it disappears. So i made a typo.","body":"Obzect is object. Its actually an instance of a model. i dont know why if i write &lt;object&gt; it disappears. So i made a typo."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1657521019,"post_id":72934200,"comment_id":128820454,"body_markdown":"May be `guava cache` is a better choice. You can provide more details about what do you want to do. `map1.get(object.getId).put(&quot;p1&quot;, object)` @UjjwalKuikel ?","body":"May be <code>guava cache</code> is a better choice. You can provide more details about what do you want to do. <code>map1.get(object.getId).put(&quot;p1&quot;, object)</code> @UjjwalKuikel ?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1657524677,"post_id":72934200,"comment_id":128821507,"body_markdown":"Hi, The issue has been solved. Thanks for the input anyway!","body":"Hi, The issue has been solved. Thanks for the input anyway!"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657519600,"creation_date":1657519600,"answer_id":72934322,"question_id":72934200,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\trecord Obzect(String getId) {}\r\n\t\tObzect object = new Obzect(&quot;id&quot;);\r\n\r\n\t\tHashMap&lt;String, HashMap&lt;String, Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\r\n\t\tmap1.computeIfAbsent(object.getId, k -&gt; new HashMap&lt;&gt;()).put(&quot;p1&quot;, object);\r\n\r\n\t\tSystem.out.println(map1);\r\n    }\r\n\r\noutput:\r\n\r\n    {id={p1=Obzect[getId=id]}}\r\n","title":"How to insert in a nested hashmap?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    record Obzect(String getId) {}\n    Obzect object = new Obzect(&quot;id&quot;);\n\n    HashMap&lt;String, HashMap&lt;String, Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\n    map1.computeIfAbsent(object.getId, k -&gt; new HashMap&lt;&gt;()).put(&quot;p1&quot;, object);\n\n    System.out.println(map1);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>{id={p1=Obzect[getId=id]}}\n</code></pre>\n"}],"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72934322,"answer_count":1,"score":-2,"last_activity_date":1657519600,"creation_date":1657518490,"question_id":72934200,"body_markdown":"I have a nested hashmap like\r\n```\r\nHashMap&lt;String,HashMap&lt;String,Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\r\n```\r\nThe first map key will be `object.getId` and key of second map can be &quot;p1&quot;,&quot;p2&quot; or such based on some conditions.\r\nI am trying to insert into a hashmap without creating an instance for second map.\r\n\r\n```\r\nmap1.put(object.getId,map1.get(object.getId).put(&quot;p1&quot;,object));\r\n```\r\n\r\nI am getting error message\r\n```\r\nRequired Type: hashmap\r\nProvided Type: object\r\n```\r\n\r\nHow to correct this?\r\n\r\n\r\n\r\n","title":"How to insert in a nested hashmap?","body":"<p>I have a nested hashmap like</p>\n<pre><code>HashMap&lt;String,HashMap&lt;String,Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\n</code></pre>\n<p>The first map key will be <code>object.getId</code> and key of second map can be &quot;p1&quot;,&quot;p2&quot; or such based on some conditions.\nI am trying to insert into a hashmap without creating an instance for second map.</p>\n<pre><code>map1.put(object.getId,map1.get(object.getId).put(&quot;p1&quot;,object));\n</code></pre>\n<p>I am getting error message</p>\n<pre><code>Required Type: hashmap\nProvided Type: object\n</code></pre>\n<p>How to correct this?</p>\n"},{"tags":["java","eclipse","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1496230248,"post_id":44279883,"comment_id":75573614,"body_markdown":"Can you consider providing the following info: 1. Selenium version? 2. IEDriverServer version? 3. IE version? 4. Error stack trace. Thanks","body":"Can you consider providing the following info: 1. Selenium version? 2. IEDriverServer version? 3. IE version? 4. Error stack trace. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496235923,"creation_date":1496222911,"answer_id":44280879,"question_id":44279883,"body_markdown":"In Selenium there is no any hierarchy in windows. Parent and child windows are named so just for our convention. But from selenium&#39;s perspective everything is just an another Window.\r\n\r\nBelow code gives some idea,\r\n\r\n    //Get the current window address\r\n\tSet&lt;String&gt; parent = driver.getWindowHandle();\r\n\t\t\t\r\n\t//Get the all window addresses that are opened by selenium. This includes the parent window too\r\n\tSet&lt;String&gt; all = driver.getWindowHandles();\r\n\t\t\t\r\n\t\r\n    //Assume this is the element you need to interact and it is present in some window.\r\n\tString XPATH = &quot;.//&quot;;\r\n\t\r\n\t//Now iterate through all windows and search for the element you need to interact with.\r\n\tfor(String now:all)\r\n\t{\r\n\r\n\t\tdriver.switchTo().window(now);\r\n\t\tif(driver.findElements(By.xpath(XPATH)).size()&gt;0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Element found in the window &quot;+now+ &quot; &quot;+driver.getTitle());\r\n\t\t\t//DO YOUR ACTUAL STUFF\r\n\t\t}\r\n\t}\r\n\r\nHope this helps you. Thanks.","title":"How to Handle great grand child windows in selenium webdriver","body":"<p>In Selenium there is no any hierarchy in windows. Parent and child windows are named so just for our convention. But from selenium's perspective everything is just an another Window.</p>\n\n<p>Below code gives some idea,</p>\n\n<pre><code>//Get the current window address\nSet&lt;String&gt; parent = driver.getWindowHandle();\n\n//Get the all window addresses that are opened by selenium. This includes the parent window too\nSet&lt;String&gt; all = driver.getWindowHandles();\n\n\n//Assume this is the element you need to interact and it is present in some window.\nString XPATH = \".//\";\n\n//Now iterate through all windows and search for the element you need to interact with.\nfor(String now:all)\n{\n\n    driver.switchTo().window(now);\n    if(driver.findElements(By.xpath(XPATH)).size()&gt;0)\n    {\n        System.out.println(\"Element found in the window \"+now+ \" \"+driver.getTitle());\n        //DO YOUR ACTUAL STUFF\n    }\n}\n</code></pre>\n\n<p>Hope this helps you. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":25778362,"reputation":1,"user_id":19524321,"display_name":"deva rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657519380,"creation_date":1657519380,"answer_id":72934299,"question_id":44279883,"body_markdown":"\r\n        //parent window=1\r\n        driver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\r\n\tString mainwinid = driver.getWindowHandle();\r\n\t\r\n        //parent+child window\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\r\n\tSet&lt;String&gt; childparentwinid = driver.getWindowHandles();\r\n\tchildparentwinid.remove(mainwinid);\r\n        driver.switchTo().window((String)childparentwinid.toArray()[0]);\r\n\r\n         //parent + child + grand child\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\r\n\tSet&lt;String&gt; AllIds = driver.getWindowHandles();\r\n\tSystem.out.println(AllIds);\r\n\r\n\tArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(AllIds);  \r\n\t String ChildWindowID = al.get(2);  \r\n\tdriver.switchTo().window(ChildWindowID);\r\n\t\r\n       //perform action on grand child window\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\t\t \t","title":"How to Handle great grand child windows in selenium webdriver","body":"<pre><code>    //parent window=1\n    driver.findElement(By.xpath(&quot;path&quot;)).click();\n\nString mainwinid = driver.getWindowHandle();\n\n    //parent+child window\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n\nSet&lt;String&gt; childparentwinid = driver.getWindowHandles();\nchildparentwinid.remove(mainwinid);\n    driver.switchTo().window((String)childparentwinid.toArray()[0]);\n\n     //parent + child + grand child\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n\nSet&lt;String&gt; AllIds = driver.getWindowHandles();\nSystem.out.println(AllIds);\n\nArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(AllIds);  \n String ChildWindowID = al.get(2);  \ndriver.switchTo().window(ChildWindowID);\n\n   //perform action on grand child window\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n            \n</code></pre>\n"}],"owner":{"account_id":11014497,"reputation":1,"user_id":8090756,"display_name":"Nishant Omar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657519380,"creation_date":1496220284,"question_id":44279883,"body_markdown":"In my application, I am handling great grand child windows. Windows are coming in recursive manner like window A-&gt; click on A -&gt; window B opens -&gt; click on B -&gt; window C opens -&gt; click on C window -&gt; window D opens.\r\nSo I am storing windows in List and using if, else if conditions so that insertion can be maintained but while executing code some time it is switching to all windows and sometimes it is not switching to great grand child window. My code is mention as below.\r\n\r\n\r\n\r\n    public class DDE_finnone {\r\n\r\n\t\r\n\tWebDriver driver;\r\n\tWebDriverWait wait;\r\n\tString app_id= &quot;1894562&quot;;\r\n\t\r\n\t@BeforeTest\r\n\tpublic void setupapplication(){\r\n\t\t\r\n\t\tFile filepath = new File(&quot;C:\\\\Automation_Softwares\\\\IEDriverServer\\\\IEDriverServer.exe&quot;);\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, filepath.getAbsolutePath());\r\n\r\n\t\tdriver = new InternetExplorerDriver();\r\n\r\n\t\tjava.util.ResourceBundle.clearCache();\r\n\r\n\t\twait = new WebDriverWait(driver, 20);\r\n\r\n\t\tdriver.get(&quot;http://retail.herofincorp.com:7031/finnsso/gateway/SSOGateway?requestID=7000002&quot;);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void DDE() throws Throwable{\r\n\t\r\n\t\tdriver.manage().timeouts().implicitlyWait(100, TimeUnit.SECONDS);\r\n\r\n\t\t/*---------------------------------- CAS MAIN SCREEN ------------------------*/\r\n\r\n\t\tList&lt;String&gt; browsertabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tSystem.out.println(browsertabs);\r\n\r\n\t\tdriver.switchTo().window(browsertabs.get(0));\r\n\r\n\t\tdriver.findElement(By.name(&quot;TxtUID&quot;)).sendKeys(&quot;testname&quot;);\r\n\r\n\t\tdriver.findElement(By.name(&quot;TxtPWD&quot;)).sendKeys(&quot;Testpwd&quot;);\r\n\r\n\t\tdriver.findElement(By.name(&quot;DataAction&quot;)).click();\r\n\r\n\t\t// Screenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (wait.until(ExpectedConditions.alertIsPresent()) != null) {\r\n\r\n\t\t\t\tString alertmessage = driver.switchTo().alert().getText();\r\n\r\n\t\t\t\tSystem.out.println(alertmessage);\r\n\r\n\t\t\t}\r\n\t\t} catch (NoAlertPresentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t// Screenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tdriver.switchTo().alert().accept();\r\n\r\n\t\tdriver.findElement(By.name(&quot;btnCAS&quot;)).click();\r\n\r\n\t\tdriver.switchTo().window(browsertabs.get(0));\r\n\r\n\t\t/*-------------------------- Retail Screen ----------------------*/\r\n\r\n\t\tList&lt;String&gt; FinnoneCAS1 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(FinnoneCAS1);\r\n\r\n\t\tSystem.out.println(FinnoneCAS1);\r\n\r\n\t\tdriver.switchTo().window(FinnoneCAS1.get(0));\r\n\r\n\t\tString title5 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title5);\r\n\r\n\t\tif (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(FinnoneCAS1.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;frameForwardToApp&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;banner&quot;));\r\n\t\t\r\n\t\tWebElement areasection = driver.findElement(By.id(&quot;selBranch&quot;));\r\n\r\n\t\tareasection.clear();\r\n\r\n\t\tThread.sleep(1000);\r\n\r\n\t\tareasection.sendKeys(&quot;delhi&quot;);\r\n\r\n\t//\tThread.sleep(2000);\r\n\r\n\t\tareasection.sendKeys(Keys.TAB);\r\n\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t// \tScreenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tdriver.switchTo().parentFrame();\r\n\r\n\t\tdriver.switchTo().frame(&quot;contents&quot;);\r\n\r\n\t\tActions move_AutoLoan1 = new Actions(driver);\r\n\r\n\t\tWebElement Auto_loan1 = driver.findElement(By.linkText(&quot;Auto Loan&quot;));\r\n\r\n\t\tmove_AutoLoan1.moveToElement(Auto_loan1).build().perform();\r\n\t\t\r\n\t\tWebElement DDEsearch = driver.findElement(By.linkText(&quot;Detail Data Entry&quot;));\r\n\t\t\r\n\t\twait.until(ExpectedConditions.visibilityOf(DDEsearch));\t\t\r\n\r\n\t//\tWebElement allsearch = driver.findElement(By.linkText(&quot;All&quot;));\r\n\r\n\t//\twait.until(ExpectedConditions.visibilityOf(allsearch));\r\n\r\n\t\tDDEsearch.click();\r\n\t\t\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;main&quot;));\r\n\r\n\t\tWebElement searchappId = driver.findElement(By.id(&quot;txtApplication&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchappId));\r\n\r\n\t\t// Excel should start\r\n\r\n\t\tsearchappId.sendKeys(app_id);\r\n\r\n\t//\tScreenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tThread.sleep(1000);\r\n\r\n\t\tWebElement searchbtn = driver.findElement(By.name(&quot;btnSearch&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchbtn));\r\n\r\n\t\tsearchbtn.click();\r\n\r\n\t\tWebElement linkappid = driver.findElement(By.xpath(&quot;//table[@class=&#39;TABLEATTRIBUTES&#39;]/tbody/tr[2]/td[1]/a&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(linkappid));\r\n\r\n\t\tlinkappid.click();\r\n\r\n\t\tdriver.switchTo().window(FinnoneCAS1.get(0));\t\r\n\t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\r\n\t\t\r\n\t\t/*-------------- DDE ------------------------------------*/\r\n\r\n\t\tList&lt;String&gt; DDEscreen = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(DDEscreen);\r\n\r\n\t\tSystem.out.println(DDEscreen);\r\n\r\n\t\tdriver.switchTo().window(DDEscreen.get(2));\r\n\r\n\t\tSystem.out.println(DDEscreen.get(2));\r\n\r\n\t\tString title2 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title2);\r\n\r\n\t\tif (title2.equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(DDEscreen.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(DDEscreen.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\tWebElement demographic = driver.findElement(By.id(&quot;apy_b0i2text&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(demographic));\r\n\t\t\r\n\t\tdemographic.click();\r\n\r\n\t\tWebElement customername = driver.findElement(By.xpath(&quot;//table[@class=&#39;TABLEATTRIBUTES&#39;]/tbody/tr[2]/td[1]/a&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(customername));\r\n\r\n\t\tcustomername.click();\r\n\r\n\t\tWebElement personaltab = driver.findElement(By.id(&quot;apy_b1i1font&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(personaltab));\r\n\r\n\t\tSystem.out.println(personaltab.getText());\r\n\r\n\t\tWebElement qualification = driver.findElement(By.id(&quot;selEduQualification&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(qualification));\r\n\r\n\t\tqualification.sendKeys(&quot;Graduate&quot;);\r\n\r\n\t\tqualification.sendKeys(Keys.TAB);\r\n\r\n\t\t/*------------ Education window ------------*/\r\n\t\t\r\n\t\tList&lt;String&gt; educationwindow = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(educationwindow);\r\n\r\n\t\tSystem.out.println(educationwindow);\r\n\r\n\t\tdriver.switchTo().window(educationwindow.get(3));\r\n\r\n\t\tString title6 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title6);\r\n\r\n\t\tif (title6.equalsIgnoreCase(&quot;1894562-----NISHANT&#160;&#160;OMAR&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(2));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\tWebElement searchcriteriaGo = driver.findElement(By.name(&quot;B1&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchcriteriaGo));\r\n\r\n\t\tsearchcriteriaGo.click();\r\n\t\t\r\n\t\tdriver.switchTo().window(educationwindow.get(0));\r\n\r\n\t\t/*-----------------Return from Education Window  -----------------------*/\r\n\r\n\t\tList&lt;String&gt; returneducationdetails = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(returneducationdetails);\r\n\r\n\t\tSystem.out.println(returneducationdetails);\r\n\r\n\t\tdriver.switchTo().window(returneducationdetails.get(2));\r\n\r\n\t\tSystem.out.println(returneducationdetails.get(2));\r\n\r\n\t\tString title21 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title21);\r\n\r\n\t\tif (title21.equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(returneducationdetails.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(returneducationdetails.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\t\t\r\n    }\r\n\r\n","title":"How to Handle great grand child windows in selenium webdriver","body":"<p>In my application, I am handling great grand child windows. Windows are coming in recursive manner like window A-> click on A -> window B opens -> click on B -> window C opens -> click on C window -> window D opens.\nSo I am storing windows in List and using if, else if conditions so that insertion can be maintained but while executing code some time it is switching to all windows and sometimes it is not switching to great grand child window. My code is mention as below.</p>\n\n<pre><code>public class DDE_finnone {\n\n\nWebDriver driver;\nWebDriverWait wait;\nString app_id= \"1894562\";\n\n@BeforeTest\npublic void setupapplication(){\n\n    File filepath = new File(\"C:\\\\Automation_Softwares\\\\IEDriverServer\\\\IEDriverServer.exe\");\n\n    System.setProperty(\"webdriver.ie.driver\", filepath.getAbsolutePath());\n\n    driver = new InternetExplorerDriver();\n\n    java.util.ResourceBundle.clearCache();\n\n    wait = new WebDriverWait(driver, 20);\n\n    driver.get(\"http://retail.herofincorp.com:7031/finnsso/gateway/SSOGateway?requestID=7000002\");\n}\n\n@Test\npublic void DDE() throws Throwable{\n\n    driver.manage().timeouts().implicitlyWait(100, TimeUnit.SECONDS);\n\n    /*---------------------------------- CAS MAIN SCREEN ------------------------*/\n\n    List&lt;String&gt; browsertabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    System.out.println(browsertabs);\n\n    driver.switchTo().window(browsertabs.get(0));\n\n    driver.findElement(By.name(\"TxtUID\")).sendKeys(\"testname\");\n\n    driver.findElement(By.name(\"TxtPWD\")).sendKeys(\"Testpwd\");\n\n    driver.findElement(By.name(\"DataAction\")).click();\n\n    // Screenshotpath = fn_screenshot(Screenshotpath);\n\n    try {\n\n        if (wait.until(ExpectedConditions.alertIsPresent()) != null) {\n\n            String alertmessage = driver.switchTo().alert().getText();\n\n            System.out.println(alertmessage);\n\n        }\n    } catch (NoAlertPresentException e) {\n        e.printStackTrace();\n    }\n\n    // Screenshotpath = fn_screenshot(Screenshotpath);\n\n    driver.switchTo().alert().accept();\n\n    driver.findElement(By.name(\"btnCAS\")).click();\n\n    driver.switchTo().window(browsertabs.get(0));\n\n    /*-------------------------- Retail Screen ----------------------*/\n\n    List&lt;String&gt; FinnoneCAS1 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(FinnoneCAS1);\n\n    System.out.println(FinnoneCAS1);\n\n    driver.switchTo().window(FinnoneCAS1.get(0));\n\n    String title5 = driver.getTitle();\n\n    System.out.println(title5);\n\n    if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(FinnoneCAS1.get(1));\n\n        System.out.println(driver.getTitle());\n    }\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"frameForwardToApp\"));\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"banner\"));\n\n    WebElement areasection = driver.findElement(By.id(\"selBranch\"));\n\n    areasection.clear();\n\n    Thread.sleep(1000);\n\n    areasection.sendKeys(\"delhi\");\n\n//  Thread.sleep(2000);\n\n    areasection.sendKeys(Keys.TAB);\n\n    Thread.sleep(3000);\n\n//  Screenshotpath = fn_screenshot(Screenshotpath);\n\n    driver.switchTo().parentFrame();\n\n    driver.switchTo().frame(\"contents\");\n\n    Actions move_AutoLoan1 = new Actions(driver);\n\n    WebElement Auto_loan1 = driver.findElement(By.linkText(\"Auto Loan\"));\n\n    move_AutoLoan1.moveToElement(Auto_loan1).build().perform();\n\n    WebElement DDEsearch = driver.findElement(By.linkText(\"Detail Data Entry\"));\n\n    wait.until(ExpectedConditions.visibilityOf(DDEsearch));     \n\n//  WebElement allsearch = driver.findElement(By.linkText(\"All\"));\n\n//  wait.until(ExpectedConditions.visibilityOf(allsearch));\n\n    DDEsearch.click();\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"main\"));\n\n    WebElement searchappId = driver.findElement(By.id(\"txtApplication\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchappId));\n\n    // Excel should start\n\n    searchappId.sendKeys(app_id);\n\n//  Screenshotpath = fn_screenshot(Screenshotpath);\n\n    Thread.sleep(1000);\n\n    WebElement searchbtn = driver.findElement(By.name(\"btnSearch\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchbtn));\n\n    searchbtn.click();\n\n    WebElement linkappid = driver.findElement(By.xpath(\"//table[@class='TABLEATTRIBUTES']/tbody/tr[2]/td[1]/a\"));\n\n    wait.until(ExpectedConditions.visibilityOf(linkappid));\n\n    linkappid.click();\n\n    driver.switchTo().window(FinnoneCAS1.get(0));   \n\n    System.out.println(driver.getTitle());\n\n\n    /*-------------- DDE ------------------------------------*/\n\n    List&lt;String&gt; DDEscreen = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(DDEscreen);\n\n    System.out.println(DDEscreen);\n\n    driver.switchTo().window(DDEscreen.get(2));\n\n    System.out.println(DDEscreen.get(2));\n\n    String title2 = driver.getTitle();\n\n    System.out.println(title2);\n\n    if (title2.equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(DDEscreen.get(1));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(DDEscreen.get(0));\n\n        System.out.println(driver.getTitle());\n    }\n\n    WebElement demographic = driver.findElement(By.id(\"apy_b0i2text\"));\n\n    wait.until(ExpectedConditions.visibilityOf(demographic));\n\n    demographic.click();\n\n    WebElement customername = driver.findElement(By.xpath(\"//table[@class='TABLEATTRIBUTES']/tbody/tr[2]/td[1]/a\"));\n\n    wait.until(ExpectedConditions.visibilityOf(customername));\n\n    customername.click();\n\n    WebElement personaltab = driver.findElement(By.id(\"apy_b1i1font\"));\n\n    wait.until(ExpectedConditions.visibilityOf(personaltab));\n\n    System.out.println(personaltab.getText());\n\n    WebElement qualification = driver.findElement(By.id(\"selEduQualification\"));\n\n    wait.until(ExpectedConditions.visibilityOf(qualification));\n\n    qualification.sendKeys(\"Graduate\");\n\n    qualification.sendKeys(Keys.TAB);\n\n    /*------------ Education window ------------*/\n\n    List&lt;String&gt; educationwindow = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(educationwindow);\n\n    System.out.println(educationwindow);\n\n    driver.switchTo().window(educationwindow.get(3));\n\n    String title6 = driver.getTitle();\n\n    System.out.println(title6);\n\n    if (title6.equalsIgnoreCase(\"1894562-----NISHANT  OMAR\")) {\n\n        driver.switchTo().window(educationwindow.get(0));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(educationwindow.get(1));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(educationwindow.get(2));\n\n        System.out.println(driver.getTitle());\n    }\n\n    WebElement searchcriteriaGo = driver.findElement(By.name(\"B1\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchcriteriaGo));\n\n    searchcriteriaGo.click();\n\n    driver.switchTo().window(educationwindow.get(0));\n\n    /*-----------------Return from Education Window  -----------------------*/\n\n    List&lt;String&gt; returneducationdetails = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(returneducationdetails);\n\n    System.out.println(returneducationdetails);\n\n    driver.switchTo().window(returneducationdetails.get(2));\n\n    System.out.println(returneducationdetails.get(2));\n\n    String title21 = driver.getTitle();\n\n    System.out.println(title21);\n\n    if (title21.equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(returneducationdetails.get(0));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(returneducationdetails.get(1));\n\n        System.out.println(driver.getTitle());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","post","caching","idempotent"],"comments":[{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1673954260,"post_id":72898423,"comment_id":132606935,"body_markdown":"Did you implement for idempotency?","body":"Did you implement for idempotency?"}],"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657519000,"creation_date":1657199412,"question_id":72898423,"body_markdown":"I want to implement idempotency-key for POST method in springboot.\r\n\r\neg: http://localhost:8020/project/createStudent\r\n\r\nAbove is my POST method invocation. I will pass student details in body along with idempotency-key in header.\r\n \r\nWhat I want to achieve is that when the request is sent, then  the idempotency-key and api response must be stored in a key cache only on successful creation of record. On subsequent POST requests made with same data, the cache should be verified against the idempotency-key for duplicates. And if the key is found then just send Conflict(409) response. \r\nI know how to send an idempotency key in header and I also know that we could use @Cacheable in springboot to cache the response. But, I haven&#39;t found a solution to below\r\n1. How to implement @Cachable to store the cache based on idempotency key sent from client. (Every distinct record will have a new idempotency-key)\r\n2. How to verify if a response object/record is present in cache by passing an idempotency-key.  \r\n\r\n\r\nThere are many solution on the internet but they don&#39;t talk about saving and retrieving cache based on idempotency-key. They just ask to define a method with @Cacheable and rest will happen automatically. ","title":"Implementing Idempotency-key for a POST method in Springboot","body":"<p>I want to implement idempotency-key for POST method in springboot.</p>\n<p>eg: http://localhost:8020/project/createStudent</p>\n<p>Above is my POST method invocation. I will pass student details in body along with idempotency-key in header.</p>\n<p>What I want to achieve is that when the request is sent, then  the idempotency-key and api response must be stored in a key cache only on successful creation of record. On subsequent POST requests made with same data, the cache should be verified against the idempotency-key for duplicates. And if the key is found then just send Conflict(409) response.\nI know how to send an idempotency key in header and I also know that we could use @Cacheable in springboot to cache the response. But, I haven't found a solution to below</p>\n<ol>\n<li>How to implement @Cachable to store the cache based on idempotency key sent from client. (Every distinct record will have a new idempotency-key)</li>\n<li>How to verify if a response object/record is present in cache by passing an idempotency-key.</li>\n</ol>\n<p>There are many solution on the internet but they don't talk about saving and retrieving cache based on idempotency-key. They just ask to define a method with @Cacheable and rest will happen automatically.</p>\n"},{"tags":["java","reflections"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657482681,"post_id":72931440,"comment_id":128814960,"body_markdown":"Why don&#39;t you just make `ConsoleController` and `HttpController` extend `Controller`, instead of trying to have multiple levels of annotation?","body":"Why don&#39;t you just make <code>ConsoleController</code> and <code>HttpController</code> extend <code>Controller</code>, instead of trying to have multiple levels of annotation?"},{"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"score":0,"creation_date":1657483259,"post_id":72931440,"comment_id":128815087,"body_markdown":"Because, as far as I know, annotations can not have extends. If I&#39;m mistaken with this, please do enlighten me. Another reason is that the task I&#39;ve been given is to make a Spring boot clone and Spring uses this method (though it is possible they search for each separatly)","body":"Because, as far as I know, annotations can not have extends. If I&#39;m mistaken with this, please do enlighten me. Another reason is that the task I&#39;ve been given is to make a Spring boot clone and Spring uses this method (though it is possible they search for each separatly)"},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1657484369,"post_id":72931440,"comment_id":128815284,"body_markdown":"could you please extend your question to outline more details about what you&#39;re looking for... You say &quot;but I&#39;d love to just be able to add a new Controller annotation with only needing to annotate that annotation with @Controller.&quot; maybe if you could give us a code example of what that looks like as Im not entirely sure what you mean.","body":"could you please extend your question to outline more details about what you&#39;re looking for... You say &quot;but I&#39;d love to just be able to add a new Controller annotation with only needing to annotate that annotation with @Controller.&quot; maybe if you could give us a code example of what that looks like as Im not entirely sure what you mean."},{"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"score":0,"creation_date":1657486748,"post_id":72931440,"comment_id":128815740,"body_markdown":"Changed the code to better exlain the issue.","body":"Changed the code to better exlain the issue."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657490278,"post_id":72931440,"comment_id":128816228,"body_markdown":"Sorry, I didn&#39;t realise it wasn&#39;t possible to extend annotations.  You might want to have a look at [this answer](https://stackoverflow.com/a/18585833) which seems to do something like what you&#39;re looking for.  I&#39;m not sure if it meets your needs or not.","body":"Sorry, I didn&#39;t realise it wasn&#39;t possible to extend annotations.  You might want to have a look at <a href=\"https://stackoverflow.com/a/18585833\">this answer</a> which seems to do something like what you&#39;re looking for.  I&#39;m not sure if it meets your needs or not."}],"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657518648,"creation_date":1657482544,"question_id":72931440,"body_markdown":"I&#39;m trying to get multiple levels of annotation in one go. I find it kind of hard to explain in words, so let&#39;s consider the following example.\r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Controller\r\npublic @interface HttpController {\r\n}\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Controller\r\npublic @interface ConsoleController {\r\n}\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Controller {\r\n}\r\n\r\n@Controller\r\npublic class TestOne {\r\n}\r\n\r\n@HttpController\r\npublic class TestTwo {\r\n}\r\n\r\n@ConsoleController\r\npublic class TestThree {\r\n}\r\n\r\npublic class demo {\r\n  public static void main(String[] args) {\r\n    Reflections reflections = new Reflections(\r\n       new ConfigurationBuilder()\r\n          .setUrls(\r\n                ClasspathHelper.forPackage(\r\n                Demo.class.getPackageName()))\r\n          .setScanners(new SubTypesScanner(false),\r\n                new TypeAnnotationsScanner())\r\n          .filterInputsBy(it -&gt;\r\n                it.startsWith(Demo.class.getPackageName())));\r\n\r\n    reflections.getTypesAnnotatedWith(Controller.class).forEach(class -&gt; \r\n      System.out.print(class.getSimpleName() + &quot; &quot;)\r\n    )\r\n  }\r\n}\r\n```\r\nIf you have the above class and run in the `Demo` class, you would get `TestOne` as output. I&#39;m trying to find a way to get `TestOne TestTwo TestThree` as output in this situation. If I were to then add the following code, I&#39;d have to change nothing to my Reflection code for it to work.\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Controller\r\n    public @interface AnotherController{\r\n    }\r\n\r\n    @AnotherController\r\n      public class TestFour{\r\n    }","title":"How do you get Java reflections to look for multiple levels of annotation","body":"<p>I'm trying to get multiple levels of annotation in one go. I find it kind of hard to explain in words, so let's consider the following example.</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface HttpController {\n}\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface ConsoleController {\n}\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Controller {\n}\n\n@Controller\npublic class TestOne {\n}\n\n@HttpController\npublic class TestTwo {\n}\n\n@ConsoleController\npublic class TestThree {\n}\n\npublic class demo {\n  public static void main(String[] args) {\n    Reflections reflections = new Reflections(\n       new ConfigurationBuilder()\n          .setUrls(\n                ClasspathHelper.forPackage(\n                Demo.class.getPackageName()))\n          .setScanners(new SubTypesScanner(false),\n                new TypeAnnotationsScanner())\n          .filterInputsBy(it -&gt;\n                it.startsWith(Demo.class.getPackageName())));\n\n    reflections.getTypesAnnotatedWith(Controller.class).forEach(class -&gt; \n      System.out.print(class.getSimpleName() + &quot; &quot;)\n    )\n  }\n}\n</code></pre>\n<p>If you have the above class and run in the <code>Demo</code> class, you would get <code>TestOne</code> as output. I'm trying to find a way to get <code>TestOne TestTwo TestThree</code> as output in this situation. If I were to then add the following code, I'd have to change nothing to my Reflection code for it to work.</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface AnotherController{\n}\n\n@AnotherController\n  public class TestFour{\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1657475869,"post_id":72930682,"comment_id":128813647,"body_markdown":"They&#39;re the same values, but using scientific/engineering notation.","body":"They&#39;re the same values, but using scientific/engineering notation."},{"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"score":0,"creation_date":1657475930,"post_id":72930682,"comment_id":128813657,"body_markdown":"@jonrsharpe yes i know that, but unfortunately, the output was considered as wrong","body":"@jonrsharpe yes i know that, but unfortunately, the output was considered as wrong"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1657477024,"post_id":72930682,"comment_id":128813845,"body_markdown":"What is the point of creating a `PrintWriter` for `System.out` that is already a `PrintWriter`? Why didn&#39;t you just use `System.out.println(&quot;foo&quot;);`?","body":"What is the point of creating a <code>PrintWriter</code> for <code>System.out</code> that is already a <code>PrintWriter</code>? Why didn&#39;t you just use <code>System.out.println(&quot;foo&quot;);</code>?"},{"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"score":0,"creation_date":1657477527,"post_id":72930682,"comment_id":128813946,"body_markdown":"@cyberbrain i believe this has nothing to do with the main question.","body":"@cyberbrain i believe this has nothing to do with the main question."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657479615,"post_id":72930682,"comment_id":128814343,"body_markdown":"That is just the natural &quot;toString&quot; of doubles. Java considers this easier to read and uses it as the default. You can disable that if you really dont want it. Instead of just printing out the double, you would basically use `printf` with the appropriate specifiers, or `DecimalFormatter`. The linked duplicate shows you how to do that, so you get the &quot;expected output&quot; instead.","body":"That is just the natural &quot;toString&quot; of doubles. Java considers this easier to read and uses it as the default. You can disable that if you really dont want it. Instead of just printing out the double, you would basically use <code>printf</code> with the appropriate specifiers, or <code>DecimalFormatter</code>. The linked duplicate shows you how to do that, so you get the &quot;expected output&quot; instead."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1657479747,"post_id":72930682,"comment_id":128814375,"body_markdown":"You are right, the PrintWriter thing does not cause your issue. But @cyberbrain mentioned it, because it is a flaw in your code and you should change it regardless.","body":"You are right, the PrintWriter thing does not cause your issue. But @cyberbrain mentioned it, because it is a flaw in your code and you should change it regardless."}],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657476249,"creation_date":1657475937,"answer_id":72930710,"question_id":72930682,"body_markdown":"`Math.pow` won&#39;t guarantee 100% accuracy on large integer values beyond some threshold (see [this question](https://stackoverflow.com/questions/3793838/which-is-the-first-integer-that-an-ieee-754-float-is-incapable-of-representing-e) for details) because floats and doubles cannot accurately represent all integers supported by the `long` type. Therefore, I would recommend you to use a `BigInteger`, which also has a `pow` function and will give you correctly formatted results out of the box.","title":"Math.pow() returns [float]E[int]","body":"<p><code>Math.pow</code> won't guarantee 100% accuracy on large integer values beyond some threshold (see <a href=\"https://stackoverflow.com/questions/3793838/which-is-the-first-integer-that-an-ieee-754-float-is-incapable-of-representing-e\">this question</a> for details) because floats and doubles cannot accurately represent all integers supported by the <code>long</code> type. Therefore, I would recommend you to use a <code>BigInteger</code>, which also has a <code>pow</code> function and will give you correctly formatted results out of the box.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657518646,"creation_date":1657476943,"answer_id":72930814,"question_id":72930682,"body_markdown":"The method you use has the following signature: `static double pow(double a, double b)`. This means, the parameters will automatically be cast to `double` and it&#39;s return value is also a `double`.\r\n\r\nThere is no overload for a `long` return value so you will either have to cast the result manually to `long` with this: `n - (long)Math.pow(10, l-1)`.\r\n\r\nEdit: or use another solution like the `BigInteger` one, but be aware that BigInteger (and BigDecimal) only accepts `int` as exponent, not `long` and not `BigInteger`.","title":"Math.pow() returns [float]E[int]","body":"<p>The method you use has the following signature: <code>static double pow(double a, double b)</code>. This means, the parameters will automatically be cast to <code>double</code> and it's return value is also a <code>double</code>.</p>\n<p>There is no overload for a <code>long</code> return value so you will either have to cast the result manually to <code>long</code> with this: <code>n - (long)Math.pow(10, l-1)</code>.</p>\n<p>Edit: or use another solution like the <code>BigInteger</code> one, but be aware that BigInteger (and BigDecimal) only accepts <code>int</code> as exponent, not <code>long</code> and not <code>BigInteger</code>.</p>\n"}],"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657479540,"answer_count":2,"score":0,"last_activity_date":1657518646,"creation_date":1657475691,"question_id":72930682,"body_markdown":"I was working on some problem in codeforces just for practice and the implementation I came up with is based on using the `Math.pow()` method in Java:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class TestClass {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyScanner sc = new MyScanner();\r\n    \t\tout = new PrintWriter(new BufferedOutputStream(System.out));\r\n    \t\tlong t = sc.nextLong();\r\n    \r\n    \t\t//note that &quot;MyScanner&quot; is a pre-defined class for buffered input \r\n    \t\t//just to make it easier to call the methods\r\n    \t\t\r\n    \t\twhile (t-- &gt; 0){\r\n    \t\t\tString m = sc.next();\r\n    \t\t\tlong l = m.length(), n = Long.parseLong(m);\r\n    \t\t\tout.println(n - Math.pow(10, l-1));\r\n    \t\t}\r\n    \t\tout.close();\t\r\n    \t}\r\n    }\r\n\r\nI/O example: the input can be too big, that&#39;s why I used the long datatype.\r\n\r\nInput:\r\n\r\n\n    7  \r\n    1  \r\n    2  \r\n    178  \r\n    20  \r\n    999999999  \r\n    9000  \r\n    987654321  \n\n\r\n\rOutput:\r\n\r\n\n    0  \r\n    1  \r\n    78  \r\n    10  \r\n    899999999  \r\n    8000  \r\n    887654321  \n\n\r\n\r\nbut instead I get this:    \r\n\r\n\n    0.0  \r\n    1.0  \r\n    78.0  \r\n    10.0  \r\n    8.99999999E8  \r\n    8000.0  \r\n    8.87654321E8  \n\n\r\n\r\nas you can see, my solution seems to be correct, but the output was in different form.","title":"Math.pow() returns [float]E[int]","body":"<p>I was working on some problem in codeforces just for practice and the implementation I came up with is based on using the <code>Math.pow()</code> method in Java:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class TestClass {\n    public static void main(String[] args) {\n        MyScanner sc = new MyScanner();\n        out = new PrintWriter(new BufferedOutputStream(System.out));\n        long t = sc.nextLong();\n\n        //note that &quot;MyScanner&quot; is a pre-defined class for buffered input \n        //just to make it easier to call the methods\n        \n        while (t-- &gt; 0){\n            String m = sc.next();\n            long l = m.length(), n = Long.parseLong(m);\n            out.println(n - Math.pow(10, l-1));\n        }\n        out.close();    \n    }\n}\n</code></pre>\n<p>I/O example: the input can be too big, that's why I used the long datatype.</p>\n<p>Input:</p>\n<pre><code>7  \n1  \n2  \n178  \n20  \n999999999  \n9000  \n987654321  \n</code></pre>\n<p>Output:</p>\n<pre><code>0  \n1  \n78  \n10  \n899999999  \n8000  \n887654321  \n</code></pre>\n<p>but instead I get this:</p>\n<pre><code>0.0  \n1.0  \n78.0  \n10.0  \n8.99999999E8  \n8000.0  \n8.87654321E8  \n</code></pre>\n<p>as you can see, my solution seems to be correct, but the output was in different form.</p>\n"},{"tags":["java","github-actions","workflow"],"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1657520911,"post_id":72934005,"comment_id":128820419,"body_markdown":"Please create a [minimal reproducer](https://stackoverflow.com/help/minimal-reproducible-example). The snippet you showed looks (syntactically) okay.","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducer</a>. The snippet you showed looks (syntactically) okay."},{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1657521008,"post_id":72934005,"comment_id":128820449,"body_markdown":"Also note that `acitons-setup-java` is available as `v3` and better use major tags [unless you need a very specific  version](https://stackoverflow.com/a/70196496/1080523).","body":"Also note that <code>acitons-setup-java</code> is available as <code>v3</code> and better use major tags <a href=\"https://stackoverflow.com/a/70196496/1080523\">unless you need a very specific  version</a>."}],"owner":{"account_id":10055014,"reputation":5,"user_id":7433503,"display_name":"Camila L. Oliveira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657516610,"creation_date":1657516610,"question_id":72934005,"body_markdown":"I tried to create my first workflow and I have doubts about how to fix it\r\n\r\n      name: Setup Java JDK\r\n      uses: actions/setup-java@v1.3.0\r\n      with:\r\n        # The Java version to make available on the path. Takes a whole or semver Java version, or 1.x syntax (e.g. 1.8 =&gt; Java 8.x)\r\n        java-version: &#39;1.8&#39;\r\n        # The package type (jre, jdk, jdk+fx)\r\n        java-package: jdk\r\n        # The architecture (x86, x64) of the package.\r\n        architecture: # optional, default is x64\r\n        # Path to where the compressed JDK is located. The path could be in your source repository or a local path on the agent.\r\n        jdkFile: # optional\r\n        # ID of the distributionManagement repository in the pom.xml file. Default is `github`\r\n        server-id: # optional\r\n        # Environment variable name for the username for authentication to the Apache Maven repository. Default is $GITHUB_ACTOR\r\n        server-username: # optional\r\n        # Environment variable name for password or token for authentication to the Apache Maven repository. Default is $GITHUB_TOKEN\r\n        server-password: # optional\r\n        # Path to where the settings.xml file will be written. Default is ~/.m2.\r\n        settings-path: # optional\r\n\r\nThey show me a error of a bad indentation on a map entry in `actions/setup-java`","title":"Bad Identation on a Map Entry in GitHub Actions","body":"<p>I tried to create my first workflow and I have doubts about how to fix it</p>\n<pre><code>  name: Setup Java JDK\n  uses: actions/setup-java@v1.3.0\n  with:\n    # The Java version to make available on the path. Takes a whole or semver Java version, or 1.x syntax (e.g. 1.8 =&gt; Java 8.x)\n    java-version: '1.8'\n    # The package type (jre, jdk, jdk+fx)\n    java-package: jdk\n    # The architecture (x86, x64) of the package.\n    architecture: # optional, default is x64\n    # Path to where the compressed JDK is located. The path could be in your source repository or a local path on the agent.\n    jdkFile: # optional\n    # ID of the distributionManagement repository in the pom.xml file. Default is `github`\n    server-id: # optional\n    # Environment variable name for the username for authentication to the Apache Maven repository. Default is $GITHUB_ACTOR\n    server-username: # optional\n    # Environment variable name for password or token for authentication to the Apache Maven repository. Default is $GITHUB_TOKEN\n    server-password: # optional\n    # Path to where the settings.xml file will be written. Default is ~/.m2.\n    settings-path: # optional\n</code></pre>\n<p>They show me a error of a bad indentation on a map entry in <code>actions/setup-java</code></p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1321865360,"creation_date":1321858892,"answer_id":8208303,"question_id":8183554,"body_markdown":" * &lt;h2&gt;Using JasperReports API&lt;/h2&gt;\r\nIf you are using [JasperReports API][1] you should set report name with help of [JasperPrint.setName(java.lang.String name)][2] method.\r\n\r\nThe sample: \r\n\r\n        JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\r\n        \r\n        JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\r\n        if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\r\n            jrPrint.setName(reportName);\r\n        }\r\n\r\n        PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();\r\n        printRequestAttributeSet.add(MediaSizeName.ISO_A4);\r\n\r\n        PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();\r\n        printServiceAttributeSet.add(new PrinterName(&quot;PDFCreator&quot;, null));\r\n\r\n        JRPrintServiceExporter exporter = new JRPrintServiceExporter();\r\n\r\n        exporter.setParameter(JRExporterParameter.JASPER_PRINT, jrPrint);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.TRUE);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);\r\n        \r\n        exporter.exportReport();\r\n\r\n * &lt;h2&gt;Using iReport (editing report template)&lt;/h2&gt;\r\nYou can set report name in report template with help of ***`name`*** attribute:\r\n\r\n        &lt;jasperReport .. name=&quot;Sample report name to print&quot; ..&gt;\r\n\r\n\r\n  [1]: http://jasperreports.sourceforge.net/api/index.html\r\n  [2]: http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JasperPrint.html#setName%28java.lang.String%29","title":"How to change Jasper report Print name","body":"<ul>\n<li><h2>Using JasperReports API</h2>\nIf you are using <a href=\"http://jasperreports.sourceforge.net/api/index.html\" rel=\"noreferrer\">JasperReports API</a> you should set report name with help of <a href=\"http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JasperPrint.html#setName%28java.lang.String%29\" rel=\"noreferrer\">JasperPrint.setName(java.lang.String name)</a> method.</li>\n</ul>\n\n<p>The sample: </p>\n\n<pre><code>    JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\n\n    JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\n    if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\n        jrPrint.setName(reportName);\n    }\n\n    PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();\n    printRequestAttributeSet.add(MediaSizeName.ISO_A4);\n\n    PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();\n    printServiceAttributeSet.add(new PrinterName(\"PDFCreator\", null));\n\n    JRPrintServiceExporter exporter = new JRPrintServiceExporter();\n\n    exporter.setParameter(JRExporterParameter.JASPER_PRINT, jrPrint);\n    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);\n    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);\n    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.TRUE);\n    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);\n\n    exporter.exportReport();\n</code></pre>\n\n<ul>\n<li><h2>Using iReport (editing report template)</h2>\n\n<p>You can set report name in report template with help of <strong><em><code>name</code></em></strong> attribute:</p>\n\n<pre><code>&lt;jasperReport .. name=\"Sample report name to print\" ..&gt;\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4502828,"reputation":11,"user_id":3660982,"display_name":"Paulo Barata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400678343,"creation_date":1400678343,"answer_id":23784401,"question_id":8183554,"body_markdown":"I&#39;ve found this by accident, if you put a &#39;/&#39; before the name you want, it will remove the &quot;JasperReports -&quot; string from the print name.\r\n\r\n    JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\r\n    if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\r\n            jrPrint.setName(&#39;/&#39;+reportName);\r\n        }","title":"How to change Jasper report Print name","body":"<p>I've found this by accident, if you put a '/' before the name you want, it will remove the \"JasperReports -\" string from the print name.</p>\n\n<pre><code>JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\nif (reportName != null &amp;&amp; reportName.length() &gt; 0) {\n        jrPrint.setName('/'+reportName);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13872886,"reputation":1,"user_id":10015469,"display_name":"M7852396541"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530383733,"creation_date":1530382565,"answer_id":51117419,"question_id":8183554,"body_markdown":"I was having the same problem as you and I&#39;m glad that I think I found a way to work on the problem.\r\n\r\nhttps://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java\r\n\r\nLine 404:\r\n    \r\n    printerJob.setJobName(&quot;JasperReports - &quot; + jasperPrint.getName());\r\n\r\nSo apparently we just need to edit this line of code (remove the &quot; &quot;JasperReports - &quot; + &quot; part) and compile it and use our custom jar distribution package.\r\n\r\nMy only problem right now is that I have not tested it yet because I have never compiled a package from source. I will update my answer when I have figured out how to compile and tested it.","title":"How to change Jasper report Print name","body":"<p>I was having the same problem as you and I'm glad that I think I found a way to work on the problem.</p>\n\n<p><a href=\"https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java\" rel=\"nofollow noreferrer\">https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java</a></p>\n\n<p>Line 404:</p>\n\n<pre><code>printerJob.setJobName(\"JasperReports - \" + jasperPrint.getName());\n</code></pre>\n\n<p>So apparently we just need to edit this line of code (remove the \" \"JasperReports - \" + \" part) and compile it and use our custom jar distribution package.</p>\n\n<p>My only problem right now is that I have not tested it yet because I have never compiled a package from source. I will update my answer when I have figured out how to compile and tested it.</p>\n"},{"tags":[],"owner":{"account_id":25778093,"reputation":21,"user_id":19524085,"display_name":"rainywindow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657516510,"creation_date":1657516510,"answer_id":72933994,"question_id":8183554,"body_markdown":"printRequestAttributeSet will overwite setJobName without prefix (&quot;JasperReports - &quot;).\r\nI am using japserreports-6.14\r\n\r\n    printRequestAttributeSet.add(\r\n     new JobName(&quot;My software&quot;, null));\r\n\r\n\r\n\r\n","title":"How to change Jasper report Print name","body":"<p>printRequestAttributeSet will overwite setJobName without prefix (&quot;JasperReports - &quot;).\nI am using japserreports-6.14</p>\n<pre><code>printRequestAttributeSet.add(\n new JobName(&quot;My software&quot;, null));\n</code></pre>\n"}],"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8208303,"answer_count":4,"score":5,"last_activity_date":1657516510,"creation_date":1321624664,"question_id":8183554,"body_markdown":" When I send the jasper report to print, the printer shows the document name as &quot;jasper report-report name&quot; (When there is a printing que, document name is also &quot;jasper report&quot; ). How can I change it to another name?","title":"How to change Jasper report Print name","body":"<p>When I send the jasper report to print, the printer shows the document name as \"jasper report-report name\" (When there is a printing que, document name is also \"jasper report\" ). How can I change it to another name?</p>\n"},{"tags":["java","maven","compilation","resources"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1657517560,"post_id":72933663,"comment_id":128819689,"body_markdown":"please execute with debug logs ... `mvn -X compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;` and examine output","body":"please execute with debug logs ... <code>mvn -X compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code> and examine output"}],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657516225,"creation_date":1657516225,"answer_id":72933951,"question_id":72933663,"body_markdown":"Try specifying java version in properties tag inside pom\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\nAlso check out this [link][1], maybe you&#39;ll find something new there\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-java-version","title":"mvn compile OK, but mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot; fails","body":"<p>Try specifying java version in properties tag inside pom</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Also check out this <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">link</a>, maybe you'll find something new there</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933951,"answer_count":1,"score":0,"last_activity_date":1657516225,"creation_date":1657513152,"question_id":72933663,"body_markdown":"I&#39;ve refered to this post: https://stackoverflow.com/questions/20806470/resource-specification-not-allowed-here-for-source-level-below-1-7\r\n\r\nI used the solution, but didn&#39;t solve problem.\r\n\r\nWell I&#39;m not using eclipse but jdk 1.8 + vscode on win10, using maven to generate a new project:\r\n\r\n```mvn archetype:generate```\r\n\r\nadd these lines in my pom.xml inside the top level ```&lt;project&gt;``` tag:\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThen I have this code:\r\n```\r\npublic static void main(String[] args) {\r\n        try(Scanner sc = new Scanner(System.in)) { // Error!\r\n            String infix;\r\n            while(! (infix = sc.nextLine()).isEmpty()) {\r\n                \r\n            }\r\n        }\r\n    }\r\n```\r\nUsing ```mvn compile``` ok, but using ```mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;``` will fail:\r\n\r\nIt reports error:\r\n```\r\nmvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;\r\n\r\n[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ myalgos ---\r\n[WARNING] \r\njava.lang.Error: Unresolved compilation problem: \r\n        Resource specification not allowed here for source level below 1.7\r\n\r\n    at mygroup.TestExpression.main (TestExpression.java:8)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:748)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nYou could see I&#39;ve specified maven-compiler-plugin version ```3.8.0```, while command line output showed ```exec-maven-plugin:3.0.0:```.\r\n\r\nI&#39;m not sure if this was the reason, what&#39;s the difference between ```mvn compile ``` and ``` mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;```?\r\n\r\nHow to solve this problem(compile+run in one step)?\r\n\r\nThanks!","title":"mvn compile OK, but mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot; fails","body":"<p>I've refered to this post: <a href=\"https://stackoverflow.com/questions/20806470/resource-specification-not-allowed-here-for-source-level-below-1-7\">Resource specification not allowed here for source level below 1.7</a></p>\n<p>I used the solution, but didn't solve problem.</p>\n<p>Well I'm not using eclipse but jdk 1.8 + vscode on win10, using maven to generate a new project:</p>\n<p><code>mvn archetype:generate</code></p>\n<p>add these lines in my pom.xml inside the top level <code>&lt;project&gt;</code> tag:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Then I have this code:</p>\n<pre><code>public static void main(String[] args) {\n        try(Scanner sc = new Scanner(System.in)) { // Error!\n            String infix;\n            while(! (infix = sc.nextLine()).isEmpty()) {\n                \n            }\n        }\n    }\n</code></pre>\n<p>Using <code>mvn compile</code> ok, but using <code>mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code> will fail:</p>\n<p>It reports error:</p>\n<pre><code>mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;\n\n[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ myalgos ---\n[WARNING] \njava.lang.Error: Unresolved compilation problem: \n        Resource specification not allowed here for source level below 1.7\n\n    at mygroup.TestExpression.main (TestExpression.java:8)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:748)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>You could see I've specified maven-compiler-plugin version <code>3.8.0</code>, while command line output showed <code>exec-maven-plugin:3.0.0:</code>.</p>\n<p>I'm not sure if this was the reason, what's the difference between <code>mvn compile </code> and <code> mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code>?</p>\n<p>How to solve this problem(compile+run in one step)?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":16846220,"reputation":58,"user_id":12180320,"display_name":"Thazin Soe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657515169,"creation_date":1657515169,"answer_id":72933859,"question_id":72933645,"body_markdown":"Can you try with following reference?\r\n\r\nhttps://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure","title":"Problem detection when retrofit2 onFailure","body":"<p>Can you try with following reference?</p>\n<p><a href=\"https://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure</a></p>\n"}],"owner":{"account_id":23296117,"reputation":13,"user_id":19514652,"display_name":"Husky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657515169,"creation_date":1657512930,"question_id":72933645,"body_markdown":"I have been trying to solve the problem for 3-4 months, PLEASE read carefully and help, thank you.\r\n\r\nI am using retrofit2 to retrieve data from the server.\r\n\r\n```@Override\r\npublic void onFailure(Throwable t) {\r\nToast.makeText(MainActivity.this, t.getMessage(), Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\nOnFailure I saw something strange. First, I set the toast &quot;internet is off&quot; to onFailure. But then I look and the domain doesn&#39;t exist. It is giving the user the impression that your internet is off. How the internet is off, the internet is not working (the internet is on but not working) and domen doesn&#39;t exist detect and show display the appropriate toast.\r\n\r\nNow I&#39;m getting one toast onFailure (same message to all) even if internet is off, internet is on, internet is down and domain is not available:\r\n\r\n```\r\nto resolve host &quot;(domen)&quot;: No adress...\r\n```\r\n","title":"Problem detection when retrofit2 onFailure","body":"<p>I have been trying to solve the problem for 3-4 months, PLEASE read carefully and help, thank you.</p>\n<p>I am using retrofit2 to retrieve data from the server.</p>\n<pre><code>public void onFailure(Throwable t) {\nToast.makeText(MainActivity.this, t.getMessage(), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>OnFailure I saw something strange. First, I set the toast &quot;internet is off&quot; to onFailure. But then I look and the domain doesn't exist. It is giving the user the impression that your internet is off. How the internet is off, the internet is not working (the internet is on but not working) and domen doesn't exist detect and show display the appropriate toast.</p>\n<p>Now I'm getting one toast onFailure (same message to all) even if internet is off, internet is on, internet is down and domain is not available:</p>\n<pre><code>to resolve host &quot;(domen)&quot;: No adress...\n</code></pre>\n"},{"tags":["java","selenium","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657515168,"creation_date":1657514831,"answer_id":72933828,"question_id":72926982,"body_markdown":"You have to understand the concept of static in Java.\r\n\r\nA static method is a method that belongs to a class but does not belong to an instance of that class and this method can be called without the instance or object of that class.\r\n\r\nHere you are accessing non-static method staticly.\r\n\r\n    public static void iEnterUsername(){\r\n       testIds.username.sendKeys(&quot;username&quot;);\r\n    }\r\n\r\nAlso, you are using PageFactory, so you need to use `PageFactory. initElements()` static method which takes the driver instance of the given class and the class type, and returns a Page Object with its fields fully initialized.\r\n\r\n**Solution:**\r\n\r\n\r\n**Using Static Approach: Bad Approach Not Recommended**\r\n\r\nYou have to create a constructor and pass the driver instance to it, also initializing `PageFactory.initElements(driver, this);`\r\n\r\n public Class testIds{\r\n       WebDriver driver;\r\n    \r\n       public testIds (WebDriver driver){\r\n            this.driver = driver;\r\n            PageFactory.initElements(driver, this);\r\n       }\r\n    \r\n    \r\n       @FindBy (id=&quot;username&quot;)\r\n       public static WebElement username;\r\n\r\n    }\r\n\r\nIn Test Class:\r\n\r\n    public static void iEnterUsername(){\r\n           testIds t = testIds(driver);\r\n           testIds.username.sendKeys(&quot;username&quot;);\r\n        }\r\n\r\n**Other Solution: Standard and Correct Approach**\r\n\r\n    public Class testIds{\r\n       WebDriver driver;\r\n    \r\n       public testIds (WebDriver driver){\r\n            this.driver = driver;\r\n            PageFactory.initElements(driver, this);\r\n       }\r\n    \r\n    \r\n       @FindBy (id=&quot;username&quot;)\r\n       public WebElement username;\r\n\r\n       public WebElement getUserName(){\r\n        return username;\r\n      }\r\n    }\r\n\r\n**Test Class:**\r\n\r\n    public static void iEnterUsername(){\r\n       testIds t = testIds(driver);\r\n       testIds.getUserName().sendKeys(&quot;username&quot;);\r\n    }\r\n\r\n\r\n","title":"Trying to get value from a java class returns null","body":"<p>You have to understand the concept of static in Java.</p>\n<p>A static method is a method that belongs to a class but does not belong to an instance of that class and this method can be called without the instance or object of that class.</p>\n<p>Here you are accessing non-static method staticly.</p>\n<pre><code>public static void iEnterUsername(){\n   testIds.username.sendKeys(&quot;username&quot;);\n}\n</code></pre>\n<p>Also, you are using PageFactory, so you need to use <code>PageFactory. initElements()</code> static method which takes the driver instance of the given class and the class type, and returns a Page Object with its fields fully initialized.</p>\n<p><strong>Solution:</strong></p>\n<p><strong>Using Static Approach: Bad Approach Not Recommended</strong></p>\n<p>You have to create a constructor and pass the driver instance to it, also initializing <code>PageFactory.initElements(driver, this);</code></p>\n<p>public Class testIds{\nWebDriver driver;</p>\n<pre><code>   public testIds (WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n   }\n\n\n   @FindBy (id=&quot;username&quot;)\n   public static WebElement username;\n\n}\n</code></pre>\n<p>In Test Class:</p>\n<pre><code>public static void iEnterUsername(){\n       testIds t = testIds(driver);\n       testIds.username.sendKeys(&quot;username&quot;);\n    }\n</code></pre>\n<p><strong>Other Solution: Standard and Correct Approach</strong></p>\n<pre><code>public Class testIds{\n   WebDriver driver;\n\n   public testIds (WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n   }\n\n\n   @FindBy (id=&quot;username&quot;)\n   public WebElement username;\n\n   public WebElement getUserName(){\n    return username;\n  }\n}\n</code></pre>\n<p><strong>Test Class:</strong></p>\n<pre><code>public static void iEnterUsername(){\n   testIds t = testIds(driver);\n   testIds.getUserName().sendKeys(&quot;username&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16341122,"reputation":47,"user_id":11802015,"display_name":"Andreas Panteli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657515168,"creation_date":1657439891,"question_id":72926982,"body_markdown":"I am trying to create a `java` file that will include all the IDs I&#39;ll need to call in my selenium with java project, but each time I call one of the values I get the message that it is null.\r\n\r\n&gt; Cannot read field &quot;username&quot; because\r\n&gt; &quot;testScenarios.Actions.testStepActions.testIds&quot; is null\r\n\r\nmy class is:\r\n```java\r\npublic Class testIds{\r\n   @FindBy (id=&quot;username&quot;)\r\n   public WebElement username;\r\n}\r\n```\r\nand the way i call it in my code is:\r\n\r\n```java\r\npublic static void iEnterUsername(){\r\n   testIds.username.sendKeys(&quot;username&quot;);\r\n}\r\n```\r\n\r\nI am sure that I imported the class in the file I am trying to call but I am not entirely sure what I am doing wrong and few searches didn&#39;t bear fruit.\r\n\r\nCan you please help in what I am doing wrong?\r\n","title":"Trying to get value from a java class returns null","body":"<p>I am trying to create a <code>java</code> file that will include all the IDs I'll need to call in my selenium with java project, but each time I call one of the values I get the message that it is null.</p>\n<blockquote>\n<p>Cannot read field &quot;username&quot; because\n&quot;testScenarios.Actions.testStepActions.testIds&quot; is null</p>\n</blockquote>\n<p>my class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Class testIds{\n   @FindBy (id=&quot;username&quot;)\n   public WebElement username;\n}\n</code></pre>\n<p>and the way i call it in my code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void iEnterUsername(){\n   testIds.username.sendKeys(&quot;username&quot;);\n}\n</code></pre>\n<p>I am sure that I imported the class in the file I am trying to call but I am not entirely sure what I am doing wrong and few searches didn't bear fruit.</p>\n<p>Can you please help in what I am doing wrong?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1657514675,"post_id":72933772,"comment_id":128819233,"body_markdown":"Yes, the array has size 6. Which means the elements are numbered from 0 to 5. There is no element 6 in a 6-element array.","body":"Yes, the array has size 6. Which means the elements are numbered from 0 to 5. There is no element 6 in a 6-element array."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657514914,"post_id":72933772,"comment_id":128819258,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":0,"creation_date":1657515000,"post_id":72933772,"comment_id":128819270,"body_markdown":"Try an arraylist instead of a static array.  Static arrays cannot change their size once created.  I am surprised the equivalent code works in C - you&#39;re possibly overwriting the stack frame but the system has not detected it before the program finished.","body":"Try an arraylist instead of a static array.  Static arrays cannot change their size once created.  I am surprised the equivalent code works in C - you&#39;re possibly overwriting the stack frame but the system has not detected it before the program finished."},{"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"score":0,"creation_date":1657515148,"post_id":72933772,"comment_id":128819301,"body_markdown":"@cup static array do change their size I am practicing Dsa for many months in c and c++ I am using the same code and it works","body":"@cup static array do change their size I am practicing Dsa for many months in c and c++ I am using the same code and it works"},{"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"score":0,"creation_date":1657515310,"post_id":72933772,"comment_id":128819322,"body_markdown":"But how this code is working in c++ then and not in java","body":"But how this code is working in c++ then and not in java"},{"owner":{"account_id":138122,"reputation":1694,"user_id":342842,"display_name":"Immersive"},"score":0,"creation_date":1657516303,"post_id":72933772,"comment_id":128819481,"body_markdown":"C and (maybe) C++ don&#39;t inherently check for array overrun.  It &#39;works&#39; because the memory slot exists, but it&#39;s wrong because that memory slot is probably allocated to something else.  You can&#39;t see the error because the values that are being overwritten, ```int size = 6```, is replaced by the same value, ```arr[6] = 6;```","body":"C and (maybe) C++ don&#39;t inherently check for array overrun.  It &#39;works&#39; because the memory slot exists, but it&#39;s wrong because that memory slot is probably allocated to something else.  You can&#39;t see the error because the values that are being overwritten, <code>int size = 6</code>, is replaced by the same value, <code>arr[6] = 6;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25415813,"reputation":208,"user_id":19222764,"display_name":"John Haggerty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657514953,"creation_date":1657514953,"answer_id":72933842,"question_id":72933772,"body_markdown":"An array of size 6 has indices 0, 1, 2, 3, 4, and 5. An index of 6 is one past the end of the array. Since you&#39;re passing in 6 for `size`, `i = size-1` sets `i` to 5, and then you index `arr[i+1]` which is `arr[6]`, which is an invalid index.\r\n\r\nSince you intend to increase the array size by 1, you probably just need to actually do that before the loop starts. According to https://stackoverflow.com/questions/28549489/how-to-add-an-element-at-the-end-of-an-array , arrays in Java have a fixed length, so you probably want to use `ArrayList` instead. Then you can just call `.add(0)` to add an element to the end of the array, which will give your loop the space it needs to shift everything over.","title":"While Adding element in the array I got an index out of range error but why I don&#39;t why?","body":"<p>An array of size 6 has indices 0, 1, 2, 3, 4, and 5. An index of 6 is one past the end of the array. Since you're passing in 6 for <code>size</code>, <code>i = size-1</code> sets <code>i</code> to 5, and then you index <code>arr[i+1]</code> which is <code>arr[6]</code>, which is an invalid index.</p>\n<p>Since you intend to increase the array size by 1, you probably just need to actually do that before the loop starts. According to <a href=\"https://stackoverflow.com/questions/28549489/how-to-add-an-element-at-the-end-of-an-array\">How to add an element at the end of an array?</a> , arrays in Java have a fixed length, so you probably want to use <code>ArrayList</code> instead. Then you can just call <code>.add(0)</code> to add an element to the end of the array, which will give your loop the space it needs to shift everything over.</p>\n"}],"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657515562,"answer_count":1,"score":0,"last_activity_date":1657514953,"creation_date":1657514132,"question_id":72933772,"body_markdown":"```java\r\nimport java.util.Arrays;\r\nimport java.lang.String;\r\npublic class Adding_elements_Array{\r\n\t\tstatic void add(int []arr,int element,int index,int size){\r\n\t\t\tfor(int i=size-1;i&gt;=index;i++){\r\n\t\t\t\tarr[i+1]=arr[i];\r\n\t\t\t}\r\n\t\t\tarr[index]=element; \r\n\t\t}\r\n\tpublic static void main(String[] args){\r\n\t\tint []arr={1,2,3,4,5,6};\r\n\t\tint size=6;\r\n\t\tint element=7,index=2;\r\n\t\tadd(arr,element,index,size);\r\n\t\tsize+=1;\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t}\r\n}\r\n```\r\n```java\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6\r\n        at Adding_elements_Array.add(Adding_elements_Array.java:6)\r\n        at Adding_elements_Array.main(Adding_elements_Array.java:14)\r\n```\r\nThe above code is giving me this exception but the size of the array is 6 I tried many things but it is giving me the same exception I am using the same logic to code in C++ and the program in C++ is working but in java, it is not working. When I am giving the size 5 it is working but the program replaced 3 not moved it to the following index.\r\n```\r\nThe output must be:\r\n[1,2,7,3,4,5,6]\r\n```","title":"While Adding element in the array I got an index out of range error but why I don&#39;t why?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.lang.String;\npublic class Adding_elements_Array{\n        static void add(int []arr,int element,int index,int size){\n            for(int i=size-1;i&gt;=index;i++){\n                arr[i+1]=arr[i];\n            }\n            arr[index]=element; \n        }\n    public static void main(String[] args){\n        int []arr={1,2,3,4,5,6};\n        int size=6;\n        int element=7,index=2;\n        add(arr,element,index,size);\n        size+=1;\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6\n        at Adding_elements_Array.add(Adding_elements_Array.java:6)\n        at Adding_elements_Array.main(Adding_elements_Array.java:14)\n</code></pre>\n<p>The above code is giving me this exception but the size of the array is 6 I tried many things but it is giving me the same exception I am using the same logic to code in C++ and the program in C++ is working but in java, it is not working. When I am giving the size 5 it is working but the program replaced 3 not moved it to the following index.</p>\n<pre><code>The output must be:\n[1,2,7,3,4,5,6]\n</code></pre>\n"},{"tags":["java","android","android-layout","two-way-binding"],"comments":[{"owner":{"account_id":4460600,"reputation":453,"user_id":3629588,"display_name":"Muneesh"},"score":0,"creation_date":1657513618,"post_id":72933653,"comment_id":128819092,"body_markdown":"Whenever text changes in edittext, calculate the result and post the value in livedata, and observe the livedata in textview in layout.","body":"Whenever text changes in edittext, calculate the result and post the value in livedata, and observe the livedata in textview in layout."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1657514085,"post_id":72933653,"comment_id":128819155,"body_markdown":"@Muneesh Ok. That makes sense. I was over complicating things, thank you.","body":"@Muneesh Ok. That makes sense. I was over complicating things, thank you."}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657513279,"creation_date":1657513035,"question_id":72933653,"body_markdown":"Is it possible to subtract the values of two EditTexts together, and displaying their result in a TextView using two-way data binding?","title":"Showing results of subtractions using Two-Way Data binding","body":"<p>Is it possible to subtract the values of two EditTexts together, and displaying their result in a TextView using two-way data binding?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1657476671,"post_id":72930584,"comment_id":128813791,"body_markdown":"What does `model.getArtistImage()` return? A URL? A bitmap?","body":"What does <code>model.getArtistImage()</code> return? A URL? A bitmap?"},{"owner":{"account_id":19211404,"reputation":79,"user_id":14037141,"display_name":"Chad Davis"},"score":0,"creation_date":1657476753,"post_id":72930584,"comment_id":128813803,"body_markdown":"@TylerV URL from Firestore","body":"@TylerV URL from Firestore"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657477708,"creation_date":1657477030,"answer_id":72930828,"question_id":72930584,"body_markdown":"You can use a library like [Glide](https://github.com/bumptech/glide) or [Picasso](https://square.github.io/picasso/) to load the image from a given URL. Both libraries have lots of extra options for things like making the image round, adding a placeholder image while it loads, or adding an error image to show if it can&#39;t load.\r\n\r\n**With Glide:**\r\n\r\n*You can pass in a context to the adapter constructor, or get it from the holder root view to use with Glide*\r\n\r\n```java\r\n@Override\r\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n    holder.artistName.setText(model.getArtistName());\r\n    holder.artistClass.setText(model.getArtistClass());\r\n    Glide.with(holder.itemView)\r\n         .load(model.getArtistImage())\r\n         .into(holder.artistImage);\r\n}\r\n```\r\n\r\n**With Picasso:**\r\n\r\n```java\r\n@Override\r\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n    holder.artistName.setText(model.getArtistName());\r\n    holder.artistClass.setText(model.getArtistClass());\r\n    Picasso.get()\r\n           .load(model.getArtistImage())\r\n           .into(holder.artistImage);\r\n}\r\n```","title":"Firestore - RecycleView - Image holder","body":"<p>You can use a library like <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> or <a href=\"https://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> to load the image from a given URL. Both libraries have lots of extra options for things like making the image round, adding a placeholder image while it loads, or adding an error image to show if it can't load.</p>\n<p><strong>With Glide:</strong></p>\n<p><em>You can pass in a context to the adapter constructor, or get it from the holder root view to use with Glide</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n    Glide.with(holder.itemView)\n         .load(model.getArtistImage())\n         .into(holder.artistImage);\n}\n</code></pre>\n<p><strong>With Picasso:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n    Picasso.get()\n           .load(model.getArtistImage())\n           .into(holder.artistImage);\n}\n</code></pre>\n"}],"owner":{"account_id":19211404,"reputation":79,"user_id":14037141,"display_name":"Chad Davis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72930828,"answer_count":1,"score":0,"last_activity_date":1657512841,"creation_date":1657474750,"question_id":72930584,"body_markdown":"I don&#39;t know how to write a holder for an image. I already have 2 texts set, but I don&#39;t know what the holder for the image should look like. Can you help me tell what the writeup for the image should look like in order for it to appear correctly?\r\n\r\n    holder.artistImage.setImageResource(model.getArtistImage());\r\n\r\nMy code:\r\n\r\n    public class ArtistsAdapter extends FirestoreRecyclerAdapter&lt;ArtistsModel, ArtistsAdapter.holder&gt; {\r\n\r\n\r\n    /**\r\n     * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\r\n     * FirestoreRecyclerOptions} for configuration options.\r\n     *\r\n     * @param options\r\n     */\r\n    public ArtistsAdapter(@NonNull FirestoreRecyclerOptions&lt;ArtistsModel&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n\r\n        holder.artistName.setText(model.getArtistName());\r\n        holder.artistClass.setText(model.getArtistClass());\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.artistrow, parent, false);\r\n        return new holder(view);\r\n    }\r\n\r\n    class holder extends RecyclerView.ViewHolder{\r\n\r\n        TextView artistName, artistClass;\r\n        ImageView artistImage;\r\n\r\n\r\n        public holder(@NonNull View itemView) {\r\n            super(itemView);\r\n            View view = itemView;\r\n\r\n            artistName = view.findViewById(R.id.tvartist_name);\r\n            artistClass = view.findViewById(R.id.tvartist_class);\r\n            artistImage = view.findViewById(R.id.ivartist_photo);\r\n\r\n        }\r\n\r\n\r\n    }","title":"Firestore - RecycleView - Image holder","body":"<p>I don't know how to write a holder for an image. I already have 2 texts set, but I don't know what the holder for the image should look like. Can you help me tell what the writeup for the image should look like in order for it to appear correctly?</p>\n<pre><code>holder.artistImage.setImageResource(model.getArtistImage());\n</code></pre>\n<p>My code:</p>\n<pre><code>public class ArtistsAdapter extends FirestoreRecyclerAdapter&lt;ArtistsModel, ArtistsAdapter.holder&gt; {\n\n\n/**\n * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\n * FirestoreRecyclerOptions} for configuration options.\n *\n * @param options\n */\npublic ArtistsAdapter(@NonNull FirestoreRecyclerOptions&lt;ArtistsModel&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n\n}\n\n@NonNull\n@Override\npublic holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.artistrow, parent, false);\n    return new holder(view);\n}\n\nclass holder extends RecyclerView.ViewHolder{\n\n    TextView artistName, artistClass;\n    ImageView artistImage;\n\n\n    public holder(@NonNull View itemView) {\n        super(itemView);\n        View view = itemView;\n\n        artistName = view.findViewById(R.id.tvartist_name);\n        artistClass = view.findViewById(R.id.tvartist_class);\n        artistImage = view.findViewById(R.id.ivartist_photo);\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657512661,"creation_date":1657512661,"answer_id":72933617,"question_id":72933244,"body_markdown":"The simple answer is: It doesn&#39;t matter. Java has a clear, and public, spec. The JLS, the JVMS, and the javadoc of the core library. Java implementations do exactly what those 3 documents state, and you may trust that somehow it &#39;works&#39;. This isn&#39;t as trite as it sounds, for example, the JMM (Java Memory Model, part of the JVMS if memory serves) lays out all sorts of things a JVM &#39;may&#39; do in regards to re-ordering instructions and caching local writes, which is tricky, because it means if you mess that up, given that it is a &#39;may&#39;, a JVM may not actually bug out, even though your code _is_ buggy, in that a JVM may do X, and if it does that, your code breaks; just that on your machine, at this time, with this song playing on your music player, the JVM chose never to do X, so you can&#39;t observe the problem.\r\n\r\nFortunately, the BIO stuff mostly has no `may` in it.\r\n\r\nHere is the basic outlay of BIO in java:\r\n\r\n* You call `.read()` `.read(byte[])`, or `.read(byte[], off, len)`.\r\n* (This is no guarantee; an implementation detail; a JVM is not required to do it this way): The JVM will read &#39;as much as is currently available&#39; (hence, `.read(some100SizedByteArr)` may read only 50 bytes, even though if you call `read` again it&#39;ll read more bytes: 50 so happened to be &#39;ready&#39; in the network buffer. Lots of folks get that wrong and think `.read(byte[])` will fill the byte array if it can. Nope. That would make it impossible to write code that processes data as it comes in!\r\n* (Again, no guarantee): Given that byte arrays can be shoved around in memory, you&#39;d think that&#39;s a problem, but it really isn&#39;t: That byte[] is __guaranteed__ not to magically grow new bytes in it, there is __no way__ with the BIO API to say: Just fill this array as the bytes fly in over the wire. The only way to fill that array is to call `.read()` on your inputstream. That is a blocking operation, and the JVM can therefore &#39;deal with it&#39; as it pleases. Perhaps the native layer simply locks out the garbage collector until data is returned (this isn&#39;t as pricey as it sounds; the `.read()` method, once at least 1 byte can be returned, returns quickly, it doesn&#39;t wait for more data beyond the first byte, at least, that&#39;s how most JVMs do it). Perhaps it will read the data into a cloned buffer that lives out of heap and blits it over into your array later (sounds inefficient, perhaps, but a JVM is free to do it this way). Possibly the JVM marks that byte array specifically as off-limits for movement of any sort but the GC just collects &#39;around&#39; it. It doesn&#39;t matter - a JVM can do whatever it wants. As long as it guarantees that `.read(byte[]):\r\n\r\n* Blocks until EOF is reached (in which case it returns `-1`), or at least 1 byte is available.\r\n* Fills the byte array with the bytes so returned.\r\n* Marks the inputstream as having &#39;consumed&#39; all that you just got.\r\n* Returns a value representing how many bytes have been filled.\r\n\r\nThat&#39;s sort of the point of java: The how is irrelevant. Had the how not been irrelevant, writing a JVM for a new platform could be either impossible or require full virtualization, making it incredibly slow. The docs give themselves some &#39;may&#39; clauses exactly so that this can be avoided.\r\n\r\nOne place where `may` does show up in BIO: When you `.interrupt()` a thread that is currently locked in a BIO `.write()` call (and the bytes haven&#39;t all been sent yet, let&#39;s say the network is slow and you sent a big array), o a BIO `.read()` call (it blocks until at least 1 byte is available; let&#39;s say the other side isn&#39;t sending anything) - then what happens? The docs leave it out. It &#39;may&#39; result in an `IOException` being thrown, thus ending the read/write call, with a message indicating you interrupted it. Or, `.interrupt()` does nothing, and it is in fact impossible to interrupt a thread frozen on a BIO call. Most JVMs do the exception thing (fortunately), but the docs leave room - if for whatever reason the underlying OS/arch don&#39;t make that feasible, then a JVM is free not to do anything if you attempt to `interrupt()`. Conclusion: If you want to write proper &#39;write once run anywhere&#39; code you can&#39;t rely on the idea that you can `.interrupt()` BIO freezes.\r\n","title":"Why doesn&#39;t traditional Java BIO api need direct buffer?","body":"<p>The simple answer is: It doesn't matter. Java has a clear, and public, spec. The JLS, the JVMS, and the javadoc of the core library. Java implementations do exactly what those 3 documents state, and you may trust that somehow it 'works'. This isn't as trite as it sounds, for example, the JMM (Java Memory Model, part of the JVMS if memory serves) lays out all sorts of things a JVM 'may' do in regards to re-ordering instructions and caching local writes, which is tricky, because it means if you mess that up, given that it is a 'may', a JVM may not actually bug out, even though your code <em>is</em> buggy, in that a JVM may do X, and if it does that, your code breaks; just that on your machine, at this time, with this song playing on your music player, the JVM chose never to do X, so you can't observe the problem.</p>\n<p>Fortunately, the BIO stuff mostly has no <code>may</code> in it.</p>\n<p>Here is the basic outlay of BIO in java:</p>\n<ul>\n<li><p>You call <code>.read()</code> <code>.read(byte[])</code>, or <code>.read(byte[], off, len)</code>.</p>\n</li>\n<li><p>(This is no guarantee; an implementation detail; a JVM is not required to do it this way): The JVM will read 'as much as is currently available' (hence, <code>.read(some100SizedByteArr)</code> may read only 50 bytes, even though if you call <code>read</code> again it'll read more bytes: 50 so happened to be 'ready' in the network buffer. Lots of folks get that wrong and think <code>.read(byte[])</code> will fill the byte array if it can. Nope. That would make it impossible to write code that processes data as it comes in!</p>\n</li>\n<li><p>(Again, no guarantee): Given that byte arrays can be shoved around in memory, you'd think that's a problem, but it really isn't: That byte[] is <strong>guaranteed</strong> not to magically grow new bytes in it, there is <strong>no way</strong> with the BIO API to say: Just fill this array as the bytes fly in over the wire. The only way to fill that array is to call <code>.read()</code> on your inputstream. That is a blocking operation, and the JVM can therefore 'deal with it' as it pleases. Perhaps the native layer simply locks out the garbage collector until data is returned (this isn't as pricey as it sounds; the <code>.read()</code> method, once at least 1 byte can be returned, returns quickly, it doesn't wait for more data beyond the first byte, at least, that's how most JVMs do it). Perhaps it will read the data into a cloned buffer that lives out of heap and blits it over into your array later (sounds inefficient, perhaps, but a JVM is free to do it this way). Possibly the JVM marks that byte array specifically as off-limits for movement of any sort but the GC just collects 'around' it. It doesn't matter - a JVM can do whatever it wants. As long as it guarantees that `.read(byte[]):</p>\n</li>\n<li><p>Blocks until EOF is reached (in which case it returns <code>-1</code>), or at least 1 byte is available.</p>\n</li>\n<li><p>Fills the byte array with the bytes so returned.</p>\n</li>\n<li><p>Marks the inputstream as having 'consumed' all that you just got.</p>\n</li>\n<li><p>Returns a value representing how many bytes have been filled.</p>\n</li>\n</ul>\n<p>That's sort of the point of java: The how is irrelevant. Had the how not been irrelevant, writing a JVM for a new platform could be either impossible or require full virtualization, making it incredibly slow. The docs give themselves some 'may' clauses exactly so that this can be avoided.</p>\n<p>One place where <code>may</code> does show up in BIO: When you <code>.interrupt()</code> a thread that is currently locked in a BIO <code>.write()</code> call (and the bytes haven't all been sent yet, let's say the network is slow and you sent a big array), o a BIO <code>.read()</code> call (it blocks until at least 1 byte is available; let's say the other side isn't sending anything) - then what happens? The docs leave it out. It 'may' result in an <code>IOException</code> being thrown, thus ending the read/write call, with a message indicating you interrupted it. Or, <code>.interrupt()</code> does nothing, and it is in fact impossible to interrupt a thread frozen on a BIO call. Most JVMs do the exception thing (fortunately), but the docs leave room - if for whatever reason the underlying OS/arch don't make that feasible, then a JVM is free not to do anything if you attempt to <code>interrupt()</code>. Conclusion: If you want to write proper 'write once run anywhere' code you can't rely on the idea that you can <code>.interrupt()</code> BIO freezes.</p>\n"}],"owner":{"account_id":2848663,"reputation":387,"user_id":2446324,"display_name":"Jiankuan Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933617,"answer_count":1,"score":0,"last_activity_date":1657512661,"creation_date":1657507483,"question_id":72933244,"body_markdown":"Since JDK 1.4, Direct Buffer was introduced along with Java NIO. One reason of it is Java GC may move the memory. Therefore the buffer data must be put off heap.\r\n\r\nI&#39;m wondering why traditional Java blocking IO api (BIO) doesn&#39;t need a direct buffer? Does BIO use something like direct buffer internally, or are there some other mechanisms to avoid the &quot;memory movement&quot; problem?","title":"Why doesn&#39;t traditional Java BIO api need direct buffer?","body":"<p>Since JDK 1.4, Direct Buffer was introduced along with Java NIO. One reason of it is Java GC may move the memory. Therefore the buffer data must be put off heap.</p>\n<p>I'm wondering why traditional Java blocking IO api (BIO) doesn't need a direct buffer? Does BIO use something like direct buffer internally, or are there some other mechanisms to avoid the &quot;memory movement&quot; problem?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"score":0,"creation_date":1657511556,"post_id":72933353,"comment_id":128818797,"body_markdown":"There could be situation that my string value coming like `&quot;This is the code ABC xyz use for something&quot;`. In that case I have to have the `&quot;ABC&quot;` only filter as well.","body":"There could be situation that my string value coming like <code>&quot;This is the code ABC xyz use for something&quot;</code>. In that case I have to have the <code>&quot;ABC&quot;</code> only filter as well."},{"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"score":0,"creation_date":1657511577,"post_id":72933353,"comment_id":128818800,"body_markdown":"This code finds the groups match your pattern &quot;(ABC|ABC :).*&quot;, and your string has only one matched group &quot;ABC : xyz...&quot;, so it only has one item in list.","body":"This code finds the groups match your pattern &quot;(ABC|ABC :).*&quot;, and your string has only one matched group &quot;ABC : xyz...&quot;, so it only has one item in list."},{"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"score":0,"creation_date":1657511683,"post_id":72933353,"comment_id":128818815,"body_markdown":"With your regex, all possible matches as you mentioned should be: &quot;ABC&quot;, &quot;ABC :&quot;, &quot;ABC : &quot;, &quot;ABC : x&quot;, ... so on.","body":"With your regex, all possible matches as you mentioned should be: &quot;ABC&quot;, &quot;ABC :&quot;, &quot;ABC : &quot;, &quot;ABC : x&quot;, ... so on."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657511957,"creation_date":1657511957,"answer_id":72933559,"question_id":72933353,"body_markdown":"What you describe just isn&#39;t how regex engines work. They do not find all possible variant search results; they simply consume and give you all results, moving forward. In other words, had you written:\r\n\r\n```\r\nString my_regex = &quot;(ABC|ABC :)&quot;; // note, get rid of the .*\r\nString myString = &quot;This is the code ABC : xyz use for something ABC again&quot;;\r\n```\r\n\r\nThen you&#39;d get 2 results back - `ABC :` and `ABC`.\r\n\r\nYes, the regex could just as easily match just the `ABC` part instead of the `ABC :` part and it would still be valid. However, regexp matching is by default &#39;greedy&#39; - it will match as much as it can. For some operators (specifically, `*` and `+`) you can use the non-greedy variants: `*?` and `+?` which will match as little as possible.\r\n\r\nIn other words, given:\r\n\r\n```\r\nString regex = &quot;(a*?)(a+)&quot;;\r\nString myString = &quot;aaaaa&quot;;\r\n```\r\n\r\nThen group 1 would match 0 `a` (that&#39;s the shortest string that can match `(a*?)` whilst still being able to match the entire regex to the input), and group 2 would be `aaaaa`.\r\n\r\nIf, on the other hand, you wrote `(a*)(a+)`, then group 1 would be `aaaa` and group 2 would be `a`. It is not possible to ask the regexp engine to provide for you the combinatory explosion, with every possible length of &#39;a&#39; - which appears to be what you want. The regexp API that ships with java does not have any option to do this, nor does any other regexp API I know of, so you&#39;d have to write that yourself, perhaps. I admit I haven&#39;t scoured the web for every possible alternate regex engine impl for java, there are a bunch of third party libraries, perhaps one of them can do it.\r\n\r\nNB: I said at the start: Get rid of the .*. That&#39;s because otherwise it&#39;s still just the one match: `ABC : xyz use for something ABC again` is the longest possible match and given that regex engines are greedy, that&#39;s what you will get: It is a valid &#39;interpretation&#39; of your string (1 match), consuming the most - that&#39;s how it works.\r\n\r\nNB2: Greediness can never change whether a regex even matches or not. It just changes which of the input is assigned to which group, and when `find()`ing more than once (which `.results()` does - it `find()`s until no more matches are found - which matches you get.\r\n","title":"Get all possible matches in a regex match (In Java)?","body":"<p>What you describe just isn't how regex engines work. They do not find all possible variant search results; they simply consume and give you all results, moving forward. In other words, had you written:</p>\n<pre><code>String my_regex = &quot;(ABC|ABC :)&quot;; // note, get rid of the .*\nString myString = &quot;This is the code ABC : xyz use for something ABC again&quot;;\n</code></pre>\n<p>Then you'd get 2 results back - <code>ABC :</code> and <code>ABC</code>.</p>\n<p>Yes, the regex could just as easily match just the <code>ABC</code> part instead of the <code>ABC :</code> part and it would still be valid. However, regexp matching is by default 'greedy' - it will match as much as it can. For some operators (specifically, <code>*</code> and <code>+</code>) you can use the non-greedy variants: <code>*?</code> and <code>+?</code> which will match as little as possible.</p>\n<p>In other words, given:</p>\n<pre><code>String regex = &quot;(a*?)(a+)&quot;;\nString myString = &quot;aaaaa&quot;;\n</code></pre>\n<p>Then group 1 would match 0 <code>a</code> (that's the shortest string that can match <code>(a*?)</code> whilst still being able to match the entire regex to the input), and group 2 would be <code>aaaaa</code>.</p>\n<p>If, on the other hand, you wrote <code>(a*)(a+)</code>, then group 1 would be <code>aaaa</code> and group 2 would be <code>a</code>. It is not possible to ask the regexp engine to provide for you the combinatory explosion, with every possible length of 'a' - which appears to be what you want. The regexp API that ships with java does not have any option to do this, nor does any other regexp API I know of, so you'd have to write that yourself, perhaps. I admit I haven't scoured the web for every possible alternate regex engine impl for java, there are a bunch of third party libraries, perhaps one of them can do it.</p>\n<p>NB: I said at the start: Get rid of the .*. That's because otherwise it's still just the one match: <code>ABC : xyz use for something ABC again</code> is the longest possible match and given that regex engines are greedy, that's what you will get: It is a valid 'interpretation' of your string (1 match), consuming the most - that's how it works.</p>\n<p>NB2: Greediness can never change whether a regex even matches or not. It just changes which of the input is assigned to which group, and when <code>find()</code>ing more than once (which <code>.results()</code> does - it <code>find()</code>s until no more matches are found - which matches you get.</p>\n"}],"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933559,"answer_count":1,"score":0,"last_activity_date":1657511957,"creation_date":1657509440,"question_id":72933353,"body_markdown":"I am using a regex to match few possible values in a string that coming with my objects, there I need to get all possible values that are matching from my string as below,\r\n\r\nIf my string value is `&quot;This is the code ABC : xyz use for something&quot;`.\r\n\r\nHere is my code that I am using to extract matchers,\r\n\r\n    String my_regex = &quot;(ABC|ABC :).*&quot;;\r\n    \r\n    List &lt;String&gt; matchers = Pattern.compile(my_regex, Pattern.CASE_INSENSITIVE)\r\n                                    .matcher(my_string)\r\n                                    .results()\r\n                                    .map(MatchResult::group)\r\n                                    .collect(Collection.toList());\r\n\r\nI am expecting the 2 list items as the output &gt; {&quot;ABC&quot;, &quot;ABC :&quot;}, But I am only getting one. Help would be highly appreciated. ","title":"Get all possible matches in a regex match (In Java)?","body":"<p>I am using a regex to match few possible values in a string that coming with my objects, there I need to get all possible values that are matching from my string as below,</p>\n<p>If my string value is <code>&quot;This is the code ABC : xyz use for something&quot;</code>.</p>\n<p>Here is my code that I am using to extract matchers,</p>\n<pre><code>String my_regex = &quot;(ABC|ABC :).*&quot;;\n\nList &lt;String&gt; matchers = Pattern.compile(my_regex, Pattern.CASE_INSENSITIVE)\n                                .matcher(my_string)\n                                .results()\n                                .map(MatchResult::group)\n                                .collect(Collection.toList());\n</code></pre>\n<p>I am expecting the 2 list items as the output &gt; {&quot;ABC&quot;, &quot;ABC :&quot;}, But I am only getting one. Help would be highly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":1,"creation_date":1467608015,"post_id":38177140,"comment_id":63781429,"body_markdown":"Please take a look [here](http://www.java-made-easy.com/variable-scope.html)","body":"Please take a look <a href=\"http://www.java-made-easy.com/variable-scope.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1351835,"reputation":5211,"user_id":1291235,"accept_rate":60,"display_name":"Moonlit"},"score":0,"creation_date":1467608299,"post_id":38177140,"comment_id":63781509,"body_markdown":"Long story short: The scope of a variable defines the section of the code in which the variable is visible. In general, variables defined within a block are not accessible outside that block. You can learn what this means by looking at the links posted above, it is not too difficult.","body":"Long story short: The scope of a variable defines the section of the code in which the variable is visible. In general, variables defined within a block are not accessible outside that block. You can learn what this means by looking at the links posted above, it is not too difficult."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1467612508,"creation_date":1467608422,"answer_id":38177231,"question_id":38177140,"body_markdown":"A local variable&lt;sup&gt;1&lt;/sup&gt; is &quot;in scope&quot; if code can access it and out of scope if it can&#39;t. In Java, variables are scoped to the block (`{}`) they&#39;re declared in. So:\r\n\r\n    void foo() {\r\n        int a = 42;\r\n\r\n        if (/*some condition*/) {\r\n            String q = &quot;Life, the Universe, and Everything&quot;;\r\n\r\n            // 1. Both `a` and `q` are in scope here\r\n            System.out.println(a);\r\n            System.out.println(q);\r\n            if (/*another condition*/) {\r\n                // 2. Both `a` and `q` are in scope here, too\r\n                System.out.println(a);\r\n                System.out.println(q);\r\n            }\r\n        }\r\n\r\n        // 3. Only `a` is in scope here\r\n        System.out.println(a);\r\n        System.out.println(q); // ERROR, `q` is not in scope\r\n    }\r\n\r\nNote (1), (2), and (3) above:\r\n\r\n1. The code can access `q` because `q` is declared in the same block as the code; tt can access `a` because it&#39;s declared in the containing block.\r\n\r\n2. The code can access `q` because it&#39;s declared in the containing block; it can access `a` because it&#39;s in the next block out.\r\n\r\n3. The code can access `a`, but not `q`, because `q` isn&#39;t declared in the block or any of the blocks (or a couple of other things) containing it.\r\n\r\nWhen figuring out what an unqualified identifier (like `a` or `q` above, as opposed to the `foo` in `this.foo` or the `toLowerCase` in `q.toLowerCase`, which are *qualified*) is, the Java compiler will look in each of these places, one after the other, until it finds a match:\r\n\r\n* For a variable with that name in the innermost block\r\n* For a variable with that name in the next block out, and so on\r\n* For a *field*&lt;sup&gt;2&lt;/sup&gt; or *method* (generally: *member*) with that name in the current class\r\n* For a class with that name from a package that&#39;s been imported\r\n* For a package with that name\r\n\r\nThere are a few others for that list (I&#39;m not going to get into static imports with a beginner).\r\n\r\nThere&#39;s a lot more to scope, I suggest working through some tutorials and/or a beginning Java book for more.\r\n\r\n----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; &quot;local variable&quot; vs. &quot;variable&quot; - The [Java Language Specification][1] uses &quot;variable&quot; in a more general way than most people do in common speech. When I say &quot;variable&quot; in this answer, I mean what the JLS calls a &quot;*local* variable&quot;.\r\n\r\n&lt;sup&gt;2&lt;/sup&gt; &quot;field&quot; - The JLS calls fields &quot;variables&quot; in some places (and &quot;fields&quot; in other places), hence (1) above. :-)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/index.html","title":"What is &#39;scope&#39; in Java?","body":"<p>A local variable<sup>1</sup> is \"in scope\" if code can access it and out of scope if it can't. In Java, variables are scoped to the block (<code>{}</code>) they're declared in. So:</p>\n\n<pre><code>void foo() {\n    int a = 42;\n\n    if (/*some condition*/) {\n        String q = \"Life, the Universe, and Everything\";\n\n        // 1. Both `a` and `q` are in scope here\n        System.out.println(a);\n        System.out.println(q);\n        if (/*another condition*/) {\n            // 2. Both `a` and `q` are in scope here, too\n            System.out.println(a);\n            System.out.println(q);\n        }\n    }\n\n    // 3. Only `a` is in scope here\n    System.out.println(a);\n    System.out.println(q); // ERROR, `q` is not in scope\n}\n</code></pre>\n\n<p>Note (1), (2), and (3) above:</p>\n\n<ol>\n<li><p>The code can access <code>q</code> because <code>q</code> is declared in the same block as the code; tt can access <code>a</code> because it's declared in the containing block.</p></li>\n<li><p>The code can access <code>q</code> because it's declared in the containing block; it can access <code>a</code> because it's in the next block out.</p></li>\n<li><p>The code can access <code>a</code>, but not <code>q</code>, because <code>q</code> isn't declared in the block or any of the blocks (or a couple of other things) containing it.</p></li>\n</ol>\n\n<p>When figuring out what an unqualified identifier (like <code>a</code> or <code>q</code> above, as opposed to the <code>foo</code> in <code>this.foo</code> or the <code>toLowerCase</code> in <code>q.toLowerCase</code>, which are <em>qualified</em>) is, the Java compiler will look in each of these places, one after the other, until it finds a match:</p>\n\n<ul>\n<li>For a variable with that name in the innermost block</li>\n<li>For a variable with that name in the next block out, and so on</li>\n<li>For a <em>field</em><sup>2</sup> or <em>method</em> (generally: <em>member</em>) with that name in the current class</li>\n<li>For a class with that name from a package that's been imported</li>\n<li>For a package with that name</li>\n</ul>\n\n<p>There are a few others for that list (I'm not going to get into static imports with a beginner).</p>\n\n<p>There's a lot more to scope, I suggest working through some tutorials and/or a beginning Java book for more.</p>\n\n<hr>\n\n<p><sup>1</sup> \"local variable\" vs. \"variable\" - The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/index.html\" rel=\"noreferrer\">Java Language Specification</a> uses \"variable\" in a more general way than most people do in common speech. When I say \"variable\" in this answer, I mean what the JLS calls a \"<em>local</em> variable\".</p>\n\n<p><sup>2</sup> \"field\" - The JLS calls fields \"variables\" in some places (and \"fields\" in other places), hence (1) above. :-)</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467610784,"creation_date":1467610784,"answer_id":38177588,"question_id":38177140,"body_markdown":"From [Section 6.3 of the Java Language Specification][1]:\r\n\r\n&gt; The _scope_ of a declaration is the region of the program within which the entity declared by the declaration can be referred to using a simple name, provided it is visible.\r\n\r\nThis concept of _scope_ applies to many kinds of entities in Java: everything from local variables to top-level classes and packages. Even when just talking about variables, there are many cases, from local variables to statically imported fields from another class to the parameter of an exception handler in a `catch` clause of a `try` statement. For details, read the JLS or search the web for &quot;Java scope&quot; and read one or more of the many tutorials on the subject that show up.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3","title":"What is &#39;scope&#39; in Java?","body":"<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3\" rel=\"nofollow\">Section 6.3 of the Java Language Specification</a>:</p>\n\n<blockquote>\n  <p>The <em>scope</em> of a declaration is the region of the program within which the entity declared by the declaration can be referred to using a simple name, provided it is visible.</p>\n</blockquote>\n\n<p>This concept of <em>scope</em> applies to many kinds of entities in Java: everything from local variables to top-level classes and packages. Even when just talking about variables, there are many cases, from local variables to statically imported fields from another class to the parameter of an exception handler in a <code>catch</code> clause of a <code>try</code> statement. For details, read the JLS or search the web for \"Java scope\" and read one or more of the many tutorials on the subject that show up.</p>\n"}],"owner":{"account_id":6642482,"reputation":161,"user_id":6542066,"display_name":"Dhruv Erry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6498,"favorite_count":0,"down_vote_count":8,"up_vote_count":13,"accepted_answer_id":38177231,"answer_count":2,"score":5,"last_activity_date":1657511526,"creation_date":1467607828,"question_id":38177140,"body_markdown":"I just started coding. I want to use a switch statement twice for the same variable, and I was told that to do this the variable would have to be &#39;in scope&#39;.\r\n\r\nBeing a beginner, I have no idea what that means. So what does being in scope mean? And, if a variable isn&#39;t in scope, how do I make it in scope?\r\n","title":"What is &#39;scope&#39; in Java?","body":"<p>I just started coding. I want to use a switch statement twice for the same variable, and I was told that to do this the variable would have to be 'in scope'.</p>\n\n<p>Being a beginner, I have no idea what that means. So what does being in scope mean? And, if a variable isn't in scope, how do I make it in scope?</p>\n"},{"tags":["java","spring-boot","intellij-idea","apache-kafka"],"comments":[{"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"score":0,"creation_date":1657516516,"post_id":72933502,"comment_id":128819511,"body_markdown":"Can you add failure message?","body":"Can you add failure message?"},{"owner":{"account_id":25777667,"reputation":11,"user_id":19523740,"display_name":"Steven Hay"},"score":0,"creation_date":1657526646,"post_id":72933502,"comment_id":128822042,"body_markdown":"There is no failure message specifically, the new message listener simply never gets called and so the CountDownLatch is never decreased. If the message does reach the original listener then a JsonProcessingException will occur because the original listener has: `var fRecord = objectMapper.readValue(consumerRecord.value(), Request.class);``","body":"There is no failure message specifically, the new message listener simply never gets called and so the CountDownLatch is never decreased. If the message does reach the original listener then a JsonProcessingException will occur because the original listener has: `var fRecord = objectMapper.readValue(consumerRecord.value(), Request.class);``"}],"owner":{"account_id":25777667,"reputation":11,"user_id":19523740,"display_name":"Steven Hay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657511414,"creation_date":1657511235,"question_id":72933502,"body_markdown":"I have a few Embedded Kafka tests, here is the simplest of the bunch:\r\n\r\n```java\r\n@SpringBootTest\r\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class KafkaConsumerTest {\r\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    @Autowired\r\n    private KafkaListenerEndpointRegistry registry;\r\n\r\n    @Autowired\r\n    private MessageListener messageListener;\r\n\r\n    @Value(&quot;${kafka.fulfillment-topic}&quot;)\r\n    private String topic;\r\n\r\n\r\n    @Test\r\n    public void messageListenerShouldReceiveMessage() throws InterruptedException {\r\n        var fulfillmentContainer = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry.getListenerContainer(&quot;fulfillment-listener&quot;);\r\n        fulfillmentContainer.stop();\r\n\r\n        var latch = new CountDownLatch(1);\r\n        fulfillmentContainer.getContainerProperties().setMessageListener(\r\n                (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) (consumerRecord, acknowledgment, consumer) -&gt; latch.countDown());\r\n        fulfillmentContainer.start();\r\n\r\n        var result = kafkaTemplate.send(topic, &quot;hello, world!&quot;);\r\n        Assertions.assertThat(latch.await(10, TimeUnit.MINUTES)).isTrue();\r\n    }\r\n}\r\n```\r\n\r\nAnd then, I have a listener setup in a non-test class:\r\n\r\n```java\r\n@KafkaListener(id = &quot;fulfillment-listener&quot;, topics = &quot;${kafka.fulfillment-topic}&quot;, groupId = &quot;test-group&quot;)\r\npublic void listenForFulfillment(ConsumerRecord&lt;?, String&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n    acknowledgment.acknowledge();\r\n\r\n    taskExecutor.execute(() -&gt; {\r\n        // do stuff\r\n    });\r\n}\r\n```\r\n\r\nThe purpose of the test is to intercept the call to this listener and confirm it happened. If I wish, I could forward the message onto the original listener (which I do in other tests). The issue is, when I run this via IntellJ it passes and the request is intercepted.\r\n\r\nIf I run this test on the terminal, it fails and the message is sent directly to the original listener ever touching my new one. Furthermore, if I simply stop the container via .stop() and never start it again then running via IntelliJ the message (as I would expect) never reaches the original listener, however running via the terminal `mvn test`, even when the container is stopped, the message somehow reaches the original listener.\r\n\r\nThis is happening for every single one of my Kafka tests and I have no idea how to solve it. All of them succeed when run via IntelliJ&#39;s built in test runner and yet they *all* fail when run via `mvn test`. If anyone has any insight into why, please let me know.\r\n\r\nAdditional info:\r\nJDK: \r\n```sh\r\n➜  ~ java -version\r\nopenjdk version &quot;17.0.3&quot; 2022-04-19\r\nOpenJDK Runtime Environment (build 17.0.3+7-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Debian-1deb11u1, mixed mode, sharing)\r\n```\r\n\r\nDependencies:\r\n```xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Embedded Kafka tests only succeeding when run from IntelliJ, fail on terminal","body":"<p>I have a few Embedded Kafka tests, here is the simplest of the bunch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic class KafkaConsumerTest {\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Autowired\n    private KafkaListenerEndpointRegistry registry;\n\n    @Autowired\n    private MessageListener messageListener;\n\n    @Value(&quot;${kafka.fulfillment-topic}&quot;)\n    private String topic;\n\n\n    @Test\n    public void messageListenerShouldReceiveMessage() throws InterruptedException {\n        var fulfillmentContainer = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry.getListenerContainer(&quot;fulfillment-listener&quot;);\n        fulfillmentContainer.stop();\n\n        var latch = new CountDownLatch(1);\n        fulfillmentContainer.getContainerProperties().setMessageListener(\n                (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) (consumerRecord, acknowledgment, consumer) -&gt; latch.countDown());\n        fulfillmentContainer.start();\n\n        var result = kafkaTemplate.send(topic, &quot;hello, world!&quot;);\n        Assertions.assertThat(latch.await(10, TimeUnit.MINUTES)).isTrue();\n    }\n}\n</code></pre>\n<p>And then, I have a listener setup in a non-test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;fulfillment-listener&quot;, topics = &quot;${kafka.fulfillment-topic}&quot;, groupId = &quot;test-group&quot;)\npublic void listenForFulfillment(ConsumerRecord&lt;?, String&gt; consumerRecord, Acknowledgment acknowledgment) {\n    acknowledgment.acknowledge();\n\n    taskExecutor.execute(() -&gt; {\n        // do stuff\n    });\n}\n</code></pre>\n<p>The purpose of the test is to intercept the call to this listener and confirm it happened. If I wish, I could forward the message onto the original listener (which I do in other tests). The issue is, when I run this via IntellJ it passes and the request is intercepted.</p>\n<p>If I run this test on the terminal, it fails and the message is sent directly to the original listener ever touching my new one. Furthermore, if I simply stop the container via .stop() and never start it again then running via IntelliJ the message (as I would expect) never reaches the original listener, however running via the terminal <code>mvn test</code>, even when the container is stopped, the message somehow reaches the original listener.</p>\n<p>This is happening for every single one of my Kafka tests and I have no idea how to solve it. All of them succeed when run via IntelliJ's built in test runner and yet they <em>all</em> fail when run via <code>mvn test</code>. If anyone has any insight into why, please let me know.</p>\n<p>Additional info:\nJDK:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>➜  ~ java -version\nopenjdk version &quot;17.0.3&quot; 2022-04-19\nOpenJDK Runtime Environment (build 17.0.3+7-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657510642,"creation_date":1657510642,"answer_id":72933453,"question_id":72932996,"body_markdown":"There is no way to disable keys in the keyboard, especially not conditionally.  You can use digits in the xml, but all that does is apply a textwatcher which eliminates changes that aren&#39;t what it expects, and its not conditional.\r\n\r\nYou can get what you want fairly easily though.  Create a new TextWatcher with the following function:\r\n\r\n    void onTextChanged (CharSequence s, \r\n                    int start, \r\n                    int before, \r\n                    int count) {\r\n        String newText = s.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\r\n        if(newText.charAt(0) == &#39;\\n&#39;) {\r\n            newText = newText.substring(1);\r\n        }\r\n        if(!s.toString().equals(newText)) {\r\n           setText(newText);\r\n        }\r\n    }\r\n    \r\nBasically, that looks for any double newlines an replaces it with single newlines.  Then it chops off any leading newlines.  If either of those things changes the string (if any of them were found) it sets the text to that new string formed by fixing them.  If not, it exits without changing the text.","title":"How to prevent user for going new line when the current line is empty in edittext android?","body":"<p>There is no way to disable keys in the keyboard, especially not conditionally.  You can use digits in the xml, but all that does is apply a textwatcher which eliminates changes that aren't what it expects, and its not conditional.</p>\n<p>You can get what you want fairly easily though.  Create a new TextWatcher with the following function:</p>\n<pre><code>void onTextChanged (CharSequence s, \n                int start, \n                int before, \n                int count) {\n    String newText = s.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\n    if(newText.charAt(0) == '\\n') {\n        newText = newText.substring(1);\n    }\n    if(!s.toString().equals(newText)) {\n       setText(newText);\n    }\n}\n</code></pre>\n<p>Basically, that looks for any double newlines an replaces it with single newlines.  Then it chops off any leading newlines.  If either of those things changes the string (if any of them were found) it sets the text to that new string formed by fixing them.  If not, it exits without changing the text.</p>\n"}],"owner":{"display_name":"user16971245"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657510642,"creation_date":1657503638,"question_id":72932996,"body_markdown":"**I have this code for printing bullet and number in my edit text**\r\n\r\n&gt; XML File\r\n\r\n    &lt;com.example.nutrifood.myEditText\r\n                android:id=&quot;@+id/mealIngredientsInput&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:cursorVisible=&quot;true&quot;\r\n                android:fontFamily=&quot;@font/hindmadurai_regular&quot;\r\n                android:gravity=&quot;top&quot;\r\n                android:inputType=&quot;textMultiLine&quot;\r\n                android:minLines=&quot;4&quot;\r\n                android:paddingStart=&quot;25dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:textColor=&quot;@color/light&quot;\r\n                android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n&gt; myEditText.java\r\n\r\n\r\n\r\npublic class myEditText extends androidx.appcompat.widget.AppCompatEditText {\r\n\r\n    public Rect rect = new Rect();\r\n    public Paint paint = new Paint();\r\n    private myEditText editTextinput = findViewById(R.id.editTextinput);\r\n    boolean isTyping;\r\n\r\n    public myEditText(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        \r\n       ...\r\n\r\n        editTextInput.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\r\n                if (text.length() == 0) {\r\n                    isTyping = false;\r\n                    return;\r\n                }            \r\n                isTyping = true;\r\n            }\r\n\r\n         ...\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        if (isTyping) {\r\n            int baseline = getBaseline();\r\n            for (int i = 0; i &lt; getLineCount(); i++) {\r\n                canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\r\n                baseline += getLineHeight();\r\n            }\r\n        }\r\n        super.onDraw(canvas);\r\n    }\r\n}\r\n\r\nThis will give me the output like this.\r\n\r\n• One\r\n\r\n• Two\r\n\r\n•\r\n\r\n•\r\n\r\n•\r\n\r\nIs there a way to disable the new line in keyboard when the current line is empty?\r\n\r\n","title":"How to prevent user for going new line when the current line is empty in edittext android?","body":"<p><strong>I have this code for printing bullet and number in my edit text</strong></p>\n<blockquote>\n<p>XML File</p>\n</blockquote>\n<pre><code>&lt;com.example.nutrifood.myEditText\n            android:id=&quot;@+id/mealIngredientsInput&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:cursorVisible=&quot;true&quot;\n            android:fontFamily=&quot;@font/hindmadurai_regular&quot;\n            android:gravity=&quot;top&quot;\n            android:inputType=&quot;textMultiLine&quot;\n            android:minLines=&quot;4&quot;\n            android:paddingStart=&quot;25dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:textColor=&quot;@color/light&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n</code></pre>\n<blockquote>\n<p>myEditText.java</p>\n</blockquote>\n<p>public class myEditText extends androidx.appcompat.widget.AppCompatEditText {</p>\n<pre><code>public Rect rect = new Rect();\npublic Paint paint = new Paint();\nprivate myEditText editTextinput = findViewById(R.id.editTextinput);\nboolean isTyping;\n\npublic myEditText(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    \n   ...\n\n    editTextInput.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\n            if (text.length() == 0) {\n                isTyping = false;\n                return;\n            }            \n            isTyping = true;\n        }\n\n     ...\n    });\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    if (isTyping) {\n        int baseline = getBaseline();\n        for (int i = 0; i &lt; getLineCount(); i++) {\n            canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\n            baseline += getLineHeight();\n        }\n    }\n    super.onDraw(canvas);\n}\n</code></pre>\n<p>}</p>\n<p>This will give me the output like this.</p>\n<p>• One</p>\n<p>• Two</p>\n<p>•</p>\n<p>•</p>\n<p>•</p>\n<p>Is there a way to disable the new line in keyboard when the current line is empty?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657508548,"creation_date":1657508548,"answer_id":72933301,"question_id":72933049,"body_markdown":"You are missing one open and close parenthesis to make them in one capturing group:\r\n\r\n    .*POST  \\/api\\/user\\/register((?!client : 1)[\\s\\S])*?client : 2\r\n\r\n","title":"Regex for matching content between two string in multiple lines","body":"<p>You are missing one open and close parenthesis to make them in one capturing group:</p>\n<pre><code>.*POST  \\/api\\/user\\/register((?!client : 1)[\\s\\S])*?client : 2\n</code></pre>\n"}],"owner":{"account_id":18758401,"reputation":33,"user_id":13677874,"display_name":"hxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72933301,"answer_count":1,"score":1,"last_activity_date":1657508548,"creation_date":1657504646,"question_id":72933049,"body_markdown":"I&#39;m trying to get content between &quot;POST  /api/user/register&quot; and &quot;client : 2&quot; in log text.\r\nUse this regex:\r\n```\r\n.*POST  \\/api\\/user\\/register(?!client : 1)[\\s\\S]*?client : 2\r\n```\r\nLog text:\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n```\r\nThe match reuslt is：\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\nThe result include between &quot;POST  /api/user/register&quot; and  &quot;client : 1&quot;,How to exculde that?\r\nThe result I want is：\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```","title":"Regex for matching content between two string in multiple lines","body":"<p>I'm trying to get content between &quot;POST  /api/user/register&quot; and &quot;client : 2&quot; in log text.\nUse this regex:</p>\n<pre><code>.*POST  \\/api\\/user\\/register(?!client : 1)[\\s\\S]*?client : 2\n</code></pre>\n<p>Log text:</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n</code></pre>\n<p>The match reuslt is：</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<p>The result include between &quot;POST  /api/user/register&quot; and  &quot;client : 1&quot;,How to exculde that?\nThe result I want is：</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657508455,"creation_date":1657508455,"answer_id":72933298,"question_id":72933066,"body_markdown":"If `zone` argument is not passed to `@scheduled` then it will use server&#39;s default time zone,\r\nto change it you can send `zone` parameter like :\r\n\r\n    @Scheduled(cron = &quot;0/5 * * ? * *&quot;, zone=&quot;IST&quot;)\r\n\r\nReference:[Spring Api doc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"Are Spring @Scheduled cron expressions in system default timezone or UTC?","body":"<p>If <code>zone</code> argument is not passed to <code>@scheduled</code> then it will use server's default time zone,\nto change it you can send <code>zone</code> parameter like :</p>\n<pre><code>@Scheduled(cron = &quot;0/5 * * ? * *&quot;, zone=&quot;IST&quot;)\n</code></pre>\n<p>Reference:<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">Spring Api doc</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657542139,"accepted_answer_id":72933298,"answer_count":1,"score":1,"last_activity_date":1657508455,"creation_date":1657504845,"question_id":72933066,"body_markdown":"Are the Spring `@Scheduled` [cron expressions](https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions) using the system default timezone or UTC?\r\n","title":"Are Spring @Scheduled cron expressions in system default timezone or UTC?","body":"<p>Are the Spring <code>@Scheduled</code> <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">cron expressions</a> using the system default timezone or UTC?</p>\n"},{"tags":["java","mysql","hibernate","jpa","cascade"],"comments":[{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1384853944,"post_id":14875793,"comment_id":29892661,"body_markdown":"Have you found a solution to this problem using jpa? I&#39;m having the same problem and I don&#39;t want to use a bidirectional relation, creating lazy fetching on the parent.","body":"Have you found a solution to this problem using jpa? I&#39;m having the same problem and I don&#39;t want to use a bidirectional relation, creating lazy fetching on the parent."}],"answers":[{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1583092231,"creation_date":1360867819,"answer_id":14881934,"question_id":14875793,"body_markdown":"JPA does offer possibility to [cascade][1] operations (merge, persist, refresh, remove) to associated entities. Logic is in JPA and does not utilize database cascades.\r\n\r\n    @OneToMany(cascade=CascadeType.REMOVE)\r\n\r\nThere is no JPA standard compliant way to do cascades with database cascades. If such a cascades are preferred, we have to fall back to Hibernate specific construct: [@OnDelete][2]. It works with `@OneToMany` at least, but there used to be some problems in the past with `@OneToOne` and `@OnDelete`.\r\n\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n\r\n\r\nBe aware that adding this annotation to an existing constraint will not update it. You may have to manually drop it first to properly update the schema.\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\r\n  [2]: http://docs.jboss.org/hibernate/core/3.6/javadocs/","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>JPA does offer possibility to <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\" rel=\"noreferrer\">cascade</a> operations (merge, persist, refresh, remove) to associated entities. Logic is in JPA and does not utilize database cascades.</p>\n\n<pre><code>@OneToMany(cascade=CascadeType.REMOVE)\n</code></pre>\n\n<p>There is no JPA standard compliant way to do cascades with database cascades. If such a cascades are preferred, we have to fall back to Hibernate specific construct: <a href=\"http://docs.jboss.org/hibernate/core/3.6/javadocs/\" rel=\"noreferrer\">@OnDelete</a>. It works with <code>@OneToMany</code> at least, but there used to be some problems in the past with <code>@OneToOne</code> and <code>@OnDelete</code>.</p>\n\n<pre><code>@OnDelete(action = OnDeleteAction.CASCADE)\n</code></pre>\n\n<p>Be aware that adding this annotation to an existing constraint will not update it. You may have to manually drop it first to properly update the schema.</p>\n"},{"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1383223738,"creation_date":1383182783,"answer_id":19696859,"question_id":14875793,"body_markdown":"There is no clean cut means to do this in JPA. The following will get you what you want...\r\nYou can use `CascadeType.DELETE`, however this annotation only applies to the objects in the `EntityManager`, not the database. You want to be sure that `ON DELETE CASCADE` is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the `ddl` file, you&#39;ll notice that `ON DELETE CASCADE` is not part of the constraint. Add `ON DELETE CASCADE` to actual SQL in the `ddl` file, then update your database schema from the ddl. This will fix your problem .\r\n\r\nThis [link][1] shows how to use `ON DELETE CASCADE` on for `CONSTRAINT` in MySQL. You do this on the constraint. You can also do it in a `CREATE TABLE` or `ALTER TABLE` statement. It&#39;s likely that JPA creates the constraint in an `ALTER TABLE` statement. Simply add `ON DELETE CASCADE` to that statement.\r\n\r\nNote that some JPA implementors do provide a means for this functionality.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\r\n\r\nLastly, Hibernate does supply this functionality using the `OnDelete(action = OnDeleteAction.CASCADE)` annotation.","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>There is no clean cut means to do this in JPA. The following will get you what you want...\nYou can use <code>CascadeType.DELETE</code>, however this annotation only applies to the objects in the <code>EntityManager</code>, not the database. You want to be sure that <code>ON DELETE CASCADE</code> is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the <code>ddl</code> file, you'll notice that <code>ON DELETE CASCADE</code> is not part of the constraint. Add <code>ON DELETE CASCADE</code> to actual SQL in the <code>ddl</code> file, then update your database schema from the ddl. This will fix your problem .</p>\n\n<p>This <a href=\"http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\" rel=\"noreferrer\">link</a> shows how to use <code>ON DELETE CASCADE</code> on for <code>CONSTRAINT</code> in MySQL. You do this on the constraint. You can also do it in a <code>CREATE TABLE</code> or <code>ALTER TABLE</code> statement. It's likely that JPA creates the constraint in an <code>ALTER TABLE</code> statement. Simply add <code>ON DELETE CASCADE</code> to that statement.</p>\n\n<p>Note that some JPA implementors do provide a means for this functionality.</p>\n\n<p>Lastly, Hibernate does supply this functionality using the <code>OnDelete(action = OnDeleteAction.CASCADE)</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":8184088,"reputation":289,"user_id":6160375,"display_name":"Alex Torson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492781521,"creation_date":1492781521,"answer_id":43544089,"question_id":14875793,"body_markdown":"You can use Hibernate annotation `org.hibernate.annotations@OnDelete(action = OnDeleteAction.CASCADE)` on `UserAcc.userInfo`:\r\n\r\n    public class UserAcc implements Serializable {\r\n\r\n    ...\r\n\r\n    @OneToOne(mappedBy = &quot;userAcc&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private UserInfo userInfo;\r\n\r\n    ...\r\n\r\nthis will generate DDL `ON DELETE CASCADE` on foreign key in `UserInfo`  table.","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>You can use Hibernate annotation <code>org.hibernate.annotations@OnDelete(action = OnDeleteAction.CASCADE)</code> on <code>UserAcc.userInfo</code>:</p>\n\n<pre><code>public class UserAcc implements Serializable {\n\n...\n\n@OneToOne(mappedBy = \"userAcc\")\n@OnDelete(action = OnDeleteAction.CASCADE)\nprivate UserInfo userInfo;\n\n...\n</code></pre>\n\n<p>this will generate DDL <code>ON DELETE CASCADE</code> on foreign key in <code>UserInfo</code>  table.</p>\n"},{"tags":[],"owner":{"account_id":13955183,"reputation":305,"user_id":10077783,"display_name":"Montaser Sobaih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615253104,"creation_date":1615253104,"answer_id":66539490,"question_id":14875793,"body_markdown":"You can define the constraint manually by using @JoinColumn(`foreignKey = @ForeignKey(...)`) as follows:-\r\n\r\n    // UserInfo.java\r\n    @Entity\r\n    @Table(name = &quot;USERINFO&quot;)\r\n    public class UserInfo implements Serializable {\r\n    \r\n    private static final long serialVersionUID = 5924361831551833717L;\r\n    \r\n    @Id\r\n    @Column(name = &quot;USERINFO_ID&quot;, nullable=false)\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer userInfoId;\r\n    \r\n    @OneToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(\r\n            name=&quot;USERID&quot;, \r\n            nullable=false,\r\n            foreignKey = @ForeignKey(\r\n                    name=&quot;FK_USER_ID&quot;,\r\n                    foreignKeyDefinition = &quot;FOREIGN KEY (USERID) REFERENCES USERACCOUNT(USERID) ON UPDATE CASCADE ON DELETE CASCADE&quot;\r\n            )\r\n    )\r\n    private UserAcc userAcc;\r\n    \r\n    \r\n    public Integer getUserInfoId() {\r\n        return userInfoId;\r\n    }\r\n    \r\n    public void setUserInfoId(Integer userInfoId) {\r\n        this.userInfoId = userInfoId;\r\n    }\r\n    ...\r\n\r\nThis will add the constraint during generating DDL.\r\n\r\nAfter the generation process is completed, you can check the DDL of `USERINFO` table and you will find that the constraint has been added with the cascading actions as shown below:-\r\n\r\n    create table USERINFO(\r\n        ....,\r\n        ....,\r\n        ....,\r\n        ....,\r\n        constraint FK_USER_ID foreign key (USERID) references USERACCOUNT(USERID) on update cascade on delete cascade\r\n    );\r\n\r\n","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>You can define the constraint manually by using @JoinColumn(<code>foreignKey = @ForeignKey(...)</code>) as follows:-</p>\n<pre><code>// UserInfo.java\n@Entity\n@Table(name = &quot;USERINFO&quot;)\npublic class UserInfo implements Serializable {\n\nprivate static final long serialVersionUID = 5924361831551833717L;\n\n@Id\n@Column(name = &quot;USERINFO_ID&quot;, nullable=false)\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userInfoId;\n\n@OneToOne(cascade = {CascadeType.ALL})\n@JoinColumn(\n        name=&quot;USERID&quot;, \n        nullable=false,\n        foreignKey = @ForeignKey(\n                name=&quot;FK_USER_ID&quot;,\n                foreignKeyDefinition = &quot;FOREIGN KEY (USERID) REFERENCES USERACCOUNT(USERID) ON UPDATE CASCADE ON DELETE CASCADE&quot;\n        )\n)\nprivate UserAcc userAcc;\n\n\npublic Integer getUserInfoId() {\n    return userInfoId;\n}\n\npublic void setUserInfoId(Integer userInfoId) {\n    this.userInfoId = userInfoId;\n}\n...\n</code></pre>\n<p>This will add the constraint during generating DDL.</p>\n<p>After the generation process is completed, you can check the DDL of <code>USERINFO</code> table and you will find that the constraint has been added with the cascading actions as shown below:-</p>\n<pre><code>create table USERINFO(\n    ....,\n    ....,\n    ....,\n    ....,\n    constraint FK_USER_ID foreign key (USERID) references USERACCOUNT(USERID) on update cascade on delete cascade\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25665558,"reputation":1,"user_id":19430595,"display_name":"Aaron Gezai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657505967,"creation_date":1657422444,"answer_id":72925903,"question_id":14875793,"body_markdown":"please config your mySql alter the table forgein key `on update noaction` an `on delete no action`\r\nand apply \r\n```\r\n @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n```","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>please config your mySql alter the table forgein key <code>on update noaction</code> an <code>on delete no action</code>\nand apply</p>\n<pre><code> @OnDelete(action = OnDeleteAction.NO_ACTION)\n    private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":382345,"reputation":1223,"user_id":737515,"display_name":"toytoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34068,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":5,"score":15,"last_activity_date":1657505967,"creation_date":1360847982,"question_id":14875793,"body_markdown":"I am just wondering if there&#39;s such a way that I can have build my MySQL table as\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    ALTER TABLE `USERINFO`\r\n      ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`) \r\n        ON DELETE CASCADE \r\n        ON UPDATE CASCADE;\r\n\r\nHowever, I only got this in my DDL when hibernate ++ jpa starts to build my table having &quot;`&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;`&quot;\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    ALTER TABLE `USERINFO` ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`);\r\n\r\nIn my classes, I have these annotation setup,\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // UserAcc.java\r\n    @Entity\r\n    @Table(name = &quot;USERACC&quot;)\r\n    public class UserAcc implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -5527566248002296042L;\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;USERID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Integer userId;\r\n\t\r\n\r\n\t@OneToOne(mappedBy = &quot;userAcc&quot;)\r\n    private UserInfo userInfo;\r\n    ....\r\n\r\n    \r\n    public UserInfo getUserInfo() {\r\n        return userInfo;\r\n    }\r\n    public void setUserInfo(UserInfo userInfo) {\r\n        this.userInfo = userInfo;\r\n    }\r\n    ...\r\n\r\nand,\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // UserInfo.java\r\n    @Entity\r\n    @Table(name = &quot;USERINFO&quot;)\r\n    public class UserInfo implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 5924361831551833717L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;USERINFO_ID&quot;, nullable=false)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Integer userInfoId;\r\n\r\n\t@OneToOne(cascade = {CascadeType.ALL})\r\n\t@JoinColumn(name=&quot;USERID&quot;, nullable=false)\r\n\t@ForeignKey(name = &quot;FK_USER_ID&quot;)\r\n\tprivate UserAcc userAcc;\r\n\r\n\t\r\n\tpublic Integer getUserInfoId() {\r\n\t\treturn userInfoId;\r\n\t}\r\n\r\n\tpublic void setUserInfoId(Integer userInfoId) {\r\n\t\tthis.userInfoId = userInfoId;\r\n\t}\r\n    ...\r\n\r\nNote that, UserAccount table is the parent/main table here while UserInfo is an extended table normalize to another entity. Any answers would be greatly appreciated. I&#39;m just curious how it&#39;s done as I love to work also in MySQL. I am just really used to deleting a record from the parent table (USERACOUNT) which would would also allow me to cascade a delete thru child records dependent on the specific record from a parent/primary table.\r\n\r\nThanks!","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>I am just wondering if there's such a way that I can have build my MySQL table as</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE `USERINFO`\n  ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`) \n    ON DELETE CASCADE \n    ON UPDATE CASCADE;\n</code></pre>\n\n<p>However, I only got this in my DDL when hibernate ++ jpa starts to build my table having \"<code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;</code>\"</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE `USERINFO` ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`);\n</code></pre>\n\n<p>In my classes, I have these annotation setup,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// UserAcc.java\n@Entity\n@Table(name = \"USERACC\")\npublic class UserAcc implements Serializable {\n\nprivate static final long serialVersionUID = -5527566248002296042L;\n\n@Id\n@Column(name = \"USERID\")\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userId;\n\n\n@OneToOne(mappedBy = \"userAcc\")\nprivate UserInfo userInfo;\n....\n\n\npublic UserInfo getUserInfo() {\n    return userInfo;\n}\npublic void setUserInfo(UserInfo userInfo) {\n    this.userInfo = userInfo;\n}\n...\n</code></pre>\n\n<p>and,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// UserInfo.java\n@Entity\n@Table(name = \"USERINFO\")\npublic class UserInfo implements Serializable {\n\nprivate static final long serialVersionUID = 5924361831551833717L;\n\n@Id\n@Column(name = \"USERINFO_ID\", nullable=false)\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userInfoId;\n\n@OneToOne(cascade = {CascadeType.ALL})\n@JoinColumn(name=\"USERID\", nullable=false)\n@ForeignKey(name = \"FK_USER_ID\")\nprivate UserAcc userAcc;\n\n\npublic Integer getUserInfoId() {\n    return userInfoId;\n}\n\npublic void setUserInfoId(Integer userInfoId) {\n    this.userInfoId = userInfoId;\n}\n...\n</code></pre>\n\n<p>Note that, UserAccount table is the parent/main table here while UserInfo is an extended table normalize to another entity. Any answers would be greatly appreciated. I'm just curious how it's done as I love to work also in MySQL. I am just really used to deleting a record from the parent table (USERACOUNT) which would would also allow me to cascade a delete thru child records dependent on the specific record from a parent/primary table.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","oop","class"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":10,"creation_date":1360575733,"post_id":14809293,"comment_id":20743228,"body_markdown":"Actually, making it `final` does *prevent the modification of the field*. However, preventing the modification of the `Object` referred to by a field is more complicated.","body":"Actually, making it <code>final</code> does <i>prevent the modification of the field</i>. However, preventing the modification of the <code>Object</code> referred to by a field is more complicated."},{"owner":{"account_id":58209,"reputation":14498,"user_id":174335,"display_name":"Joren"},"score":22,"creation_date":1360577936,"post_id":14809293,"comment_id":20744218,"body_markdown":"There&#39;s a problem with your mental model if you think being able to modify an array to which you have a reference stored in a private field is the same as being able to modify a private field.","body":"There&#39;s a problem with your mental model if you think being able to modify an array to which you have a reference stored in a private field is the same as being able to modify a private field."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":46,"creation_date":1360591173,"post_id":14809293,"comment_id":20749535,"body_markdown":"If it&#39;s private, why expose it in the first place?","body":"If it&#39;s private, why expose it in the first place?"},{"owner":{"account_id":261004,"reputation":955,"user_id":544915,"accept_rate":100,"display_name":"drobson"},"score":1,"creation_date":1360601563,"post_id":14809293,"comment_id":20755260,"body_markdown":"Both OldCurmudgeon and sp00m anwsers are right. Which one to use depends on the situation. I would recommend you read Effective Java - Item 13: Minimize the accessibility of classes and members.","body":"Both OldCurmudgeon and sp00m anwsers are right. Which one to use depends on the situation. I would recommend you read Effective Java - Item 13: Minimize the accessibility of classes and members."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":7,"creation_date":1360617825,"post_id":14809293,"comment_id":20762894,"body_markdown":"It took me a while to figure this out but it always improves my code when I ensure that all data structures are completely encapsulated within their object--meaning there is no way to &quot;Get&quot; your &quot;arr&quot;, instead do whever you must inside the class or provide an iterator.","body":"It took me a while to figure this out but it always improves my code when I ensure that all data structures are completely encapsulated within their object--meaning there is no way to &quot;Get&quot; your &quot;arr&quot;, instead do whever you must inside the class or provide an iterator."},{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":0,"creation_date":1360820379,"post_id":14809293,"comment_id":20844077,"body_markdown":"I propose editing the title to `Prevent modification to a private array field?`.","body":"I propose editing the title to <code>Prevent modification to a private array field?</code>."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":2,"creation_date":1361272037,"post_id":14809293,"comment_id":20993509,"body_markdown":"I see nobody has mentioned Josh Bloch&#39;s Effective Java - `Item 39: Make defensive copies when needed`","body":"I see nobody has mentioned Josh Bloch&#39;s Effective Java - <code>Item 39: Make defensive copies when needed</code>"},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":9,"creation_date":1361878524,"post_id":14809293,"comment_id":21222317,"body_markdown":"Is anyone else also surprised why this question got so much attention?","body":"Is anyone else also surprised why this question got so much attention?"}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":10,"up_vote_count":175,"is_accepted":true,"score":165,"last_activity_date":1360575250,"creation_date":1360575250,"answer_id":14809315,"question_id":14809293,"body_markdown":"You must return a **copy** of your array.\r\n\r\n    public String[] getArr() {\r\n      return arr == null ? null : Arrays.copyOf(arr, arr.length);\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>You must return a <strong>copy</strong> of your array.</p>\n\n<pre><code>public String[] getArr() {\n  return arr == null ? null : Arrays.copyOf(arr, arr.length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2323814,"reputation":13662,"user_id":2038768,"display_name":"Mikhail Vladimirov"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1360575274,"creation_date":1360575274,"answer_id":14809325,"question_id":14809293,"body_markdown":"Modifier `private` protects only field itself from being accessed from other classes, but not the object references by this field.  If you need to protect referenced object, just do not give it out.  Change\r\n\r\n    public String [] getArr ()\r\n    {\r\n        return arr;\r\n    }\r\n\r\nto:\r\n\r\n    public String [] getArr ()\r\n    {\r\n        return arr.clone ();\r\n    }\r\n\r\nor to\r\n\r\n    public int getArrLength ()\r\n    {\r\n        return arr.length;\r\n    }\r\n\r\n    public String getArrElementAt (int index)\r\n    {\r\n        return arr [index];\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>Modifier <code>private</code> protects only field itself from being accessed from other classes, but not the object references by this field.  If you need to protect referenced object, just do not give it out.  Change</p>\n\n<pre><code>public String [] getArr ()\n{\n    return arr;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>public String [] getArr ()\n{\n    return arr.clone ();\n}\n</code></pre>\n\n<p>or to</p>\n\n<pre><code>public int getArrLength ()\n{\n    return arr.length;\n}\n\npublic String getArrElementAt (int index)\n{\n    return arr [index];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1657505396,"creation_date":1360575290,"answer_id":14809330,"question_id":14809293,"body_markdown":"Yes, you should return a copy of the array:\r\n\r\n\r\n    public String[] getArr()\r\n    {\r\n        return Arrays.copyOf(arr);\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>Yes, you should return a copy of the array:</p>\n<pre><code>public String[] getArr()\n{\n    return Arrays.copyOf(arr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":2,"up_vote_count":384,"is_accepted":false,"score":382,"last_activity_date":1360622098,"creation_date":1360575518,"answer_id":14809392,"question_id":14809293,"body_markdown":"If you can use a List instead of an array, [Collections provides an unmodifiable list](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)):\r\n\r\n    public List&lt;String&gt; getList() {\r\n        return Collections.unmodifiableList(list);\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>If you can use a List instead of an array, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"noreferrer\">Collections provides an unmodifiable list</a>:</p>\n\n<pre><code>public List&lt;String&gt; getList() {\n    return Collections.unmodifiableList(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167505,"reputation":950,"user_id":392348,"accept_rate":94,"display_name":"anthonyms"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1360575668,"creation_date":1360575668,"answer_id":14809438,"question_id":14809293,"body_markdown":"You could return a copy of the data. The caller who chooses to change the data will only be changing the copy\r\n\r\n    public class Test {\r\n    \tprivate static String[] arr = new String[] { &quot;1&quot;, &quot;2&quot; };\r\n    \r\n    \tpublic String[] getArr() {\r\n    \r\n    \t\tString[] b = new String[arr.length];\r\n    \r\n    \t\tSystem.arraycopy(arr, 0, b, 0, arr.length);\r\n    \r\n    \t\treturn b;\r\n    \t}\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>You could return a copy of the data. The caller who chooses to change the data will only be changing the copy</p>\n\n<pre><code>public class Test {\n    private static String[] arr = new String[] { \"1\", \"2\" };\n\n    public String[] getArr() {\n\n        String[] b = new String[arr.length];\n\n        System.arraycopy(arr, 0, b, 0, arr.length);\n\n        return b;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337801,"reputation":2525,"user_id":2056545,"accept_rate":80,"display_name":"michael_s"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1509096485,"creation_date":1360619374,"answer_id":14821488,"question_id":14809293,"body_markdown":"The `Collections.unmodifiableList` has already been mentioned - the `Arrays.asList()` strangely not! My solution would also be to use the list from the outside and wrap the array as follows:\r\n\r\n    String[] arr = new String[]{&quot;1&quot;, &quot;2&quot;}; \r\n    public List&lt;String&gt; getList() {\r\n        return Collections.unmodifiableList(Arrays.asList(arr));\r\n    }\r\n\r\nThe problem with copying the array is: if you&#39;re doing it every time you access the code and the array is big, you&#39;ll create a lot of work for the garbage collector for sure. So the copy is a simple but really bad approach - I&#39;d say &quot;cheap&quot;, but memory-expensive! Especially when you&#39;re having more than just 2 elements.\r\n\r\nIf you look at the source code of `Arrays.asList` and `Collections.unmodifiableList` there is actually not much created. The first just wraps the array without copying it, the second just wraps the list, making changes to it unavailable.\r\n\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>The <code>Collections.unmodifiableList</code> has already been mentioned - the <code>Arrays.asList()</code> strangely not! My solution would also be to use the list from the outside and wrap the array as follows:</p>\n\n<pre><code>String[] arr = new String[]{\"1\", \"2\"}; \npublic List&lt;String&gt; getList() {\n    return Collections.unmodifiableList(Arrays.asList(arr));\n}\n</code></pre>\n\n<p>The problem with copying the array is: if you're doing it every time you access the code and the array is big, you'll create a lot of work for the garbage collector for sure. So the copy is a simple but really bad approach - I'd say \"cheap\", but memory-expensive! Especially when you're having more than just 2 elements.</p>\n\n<p>If you look at the source code of <code>Arrays.asList</code> and <code>Collections.unmodifiableList</code> there is actually not much created. The first just wraps the array without copying it, the second just wraps the list, making changes to it unavailable.</p>\n"},{"tags":[],"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360633404,"creation_date":1360633404,"answer_id":14824136,"question_id":14809293,"body_markdown":"The nub of the problem is that you are returning a pointer to a mutable object. Oops.  Either you render the object immutable (the unmodifiable list solution) or you return a copy of the object.  \r\n\r\nAs a general matter, finality of objects does not protect objects from being changed if they are mutable.  These two problems are &quot;kissing cousins.&quot;\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>The nub of the problem is that you are returning a pointer to a mutable object. Oops.  Either you render the object immutable (the unmodifiable list solution) or you return a copy of the object.  </p>\n\n<p>As a general matter, finality of objects does not protect objects from being changed if they are mutable.  These two problems are \"kissing cousins.\"</p>\n"},{"tags":[],"owner":{"account_id":1737702,"reputation":3412,"user_id":1589880,"accept_rate":100,"display_name":"G M Ramesh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1381162417,"creation_date":1360645214,"answer_id":14825686,"question_id":14809293,"body_markdown":"at this point of view you should use system array copy:\r\n\r\n    public String[] getArr() {\r\n       if (arr != null) {\r\n          String[] arrcpy = new String[arr.length];\r\n          System.arraycopy(arr, 0, arrcpy, 0, arr.length);\r\n          return arrcpy;\r\n       } else\r\n          return null;\r\n       }\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>at this point of view you should use system array copy:</p>\n\n<pre><code>public String[] getArr() {\n   if (arr != null) {\n      String[] arrcpy = new String[arr.length];\n      System.arraycopy(arr, 0, arrcpy, 0, arr.length);\n      return arrcpy;\n   } else\n      return null;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2029842,"reputation":18250,"user_id":1813858,"display_name":"iTech"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360657895,"creation_date":1360657009,"answer_id":14828207,"question_id":14809293,"body_markdown":"You can also use [`ImmutableList`][1] which should be better than the standard `unmodifiableList`. The class is part of [Guava][2] libraries that was create by Google.\r\n\r\nHere is the description:\r\n\r\n&gt; Unlike Collections.unmodifiableList(java.util.List), which is a view of a separate collection that can still change, an instance of ImmutableList contains its own private data and will never change\r\n\r\nHere is a simple example of how to use it:\r\n\r\n    public class Test\r\n    {\r\n      private String[] arr = new String[]{&quot;1&quot;,&quot;2&quot;};    \r\n\r\n      public ImmutableList&lt;String&gt; getArr() \r\n      {\r\n        return ImmutableList.copyOf(arr);\r\n      }\r\n    }\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ImmutableList.html\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How do I prevent the modification of a private field in a class?","body":"<p>You can also use <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"noreferrer\"><code>ImmutableList</code></a> which should be better than the standard <code>unmodifiableList</code>. The class is part of <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> libraries that was create by Google.</p>\n\n<p>Here is the description:</p>\n\n<blockquote>\n  <p>Unlike Collections.unmodifiableList(java.util.List), which is a view of a separate collection that can still change, an instance of ImmutableList contains its own private data and will never change</p>\n</blockquote>\n\n<p>Here is a simple example of how to use it:</p>\n\n<pre><code>public class Test\n{\n  private String[] arr = new String[]{\"1\",\"2\"};    \n\n  public ImmutableList&lt;String&gt; getArr() \n  {\n    return ImmutableList.copyOf(arr);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406598802,"creation_date":1406598153,"answer_id":25007019,"question_id":14809293,"body_markdown":"Returning an unmodifiable list is a good idea. But a list that is made unmodifiable during the call to the getter method can still be changed by the class, or classes that are derived from the class.\r\n\r\nInstead you should make it clear to anybody that extends the class that the list should not be modified.\r\n\r\nSo in your example it could lead to the following code:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        public static final List&lt;String&gt; STRINGS =\r\n            Collections.unmodifiableList(\r\n                Arrays.asList(&quot;1&quot;, &quot;2&quot;));\r\n    \r\n        public final List&lt;String&gt; getStrings() {\r\n            return STRINGS;\r\n        }\r\n    }\r\n\r\nIn the above example I&#39;ve made the `STRINGS` field public, in principle you could do away with the method call, as the values are already known.\r\n\r\nYou could also assign the strings to a `private final List&lt;String&gt;` field made unmodifiable during construction of the class instance. Using a constant or instantiation arguments (of the constructor) depends on the design of the class.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        private final List&lt;String&gt; strings;\r\n    \r\n        public Test(final String ... strings) {\r\n            this.strings = Collections.unmodifiableList(Arrays\r\n                    .asList(strings));\r\n        }\r\n        \r\n        public final List&lt;String&gt; getStrings() {\r\n            return strings;\r\n        }\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>Returning an unmodifiable list is a good idea. But a list that is made unmodifiable during the call to the getter method can still be changed by the class, or classes that are derived from the class.</p>\n\n<p>Instead you should make it clear to anybody that extends the class that the list should not be modified.</p>\n\n<p>So in your example it could lead to the following code:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Test {\n    public static final List&lt;String&gt; STRINGS =\n        Collections.unmodifiableList(\n            Arrays.asList(\"1\", \"2\"));\n\n    public final List&lt;String&gt; getStrings() {\n        return STRINGS;\n    }\n}\n</code></pre>\n\n<p>In the above example I've made the <code>STRINGS</code> field public, in principle you could do away with the method call, as the values are already known.</p>\n\n<p>You could also assign the strings to a <code>private final List&lt;String&gt;</code> field made unmodifiable during construction of the class instance. Using a constant or instantiation arguments (of the constructor) depends on the design of the class.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Test {\n    private final List&lt;String&gt; strings;\n\n    public Test(final String ... strings) {\n        this.strings = Collections.unmodifiableList(Arrays\n                .asList(strings));\n    }\n\n    public final List&lt;String&gt; getStrings() {\n        return strings;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268641,"reputation":3440,"user_id":3346915,"accept_rate":71,"display_name":"Alex Tereshenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610898249,"creation_date":1610898249,"answer_id":65762674,"question_id":14809293,"body_markdown":"Since Java 9, an immutable list can also be constructed from a static factory method [`List.of()`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-) which results in just a bit fewer imports and code:\r\n\r\nWith an alias being returned from `getUsers()` when the original `users` fields can be modified:\r\n\r\n```\r\nclass Computer {\r\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\r\n    public String[] getUsers;\r\n\r\n    String[] getUsers() {\r\n        return this.users;\r\n    }\r\n}\r\n\r\nComputer c = new Computer();\r\nc.getUsers()[0] = &quot;me&quot;;\r\nfor (String user: c.getUsers()) {\r\n    System.out.println(user);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nme\r\nuser2\r\nuser3\r\n```\r\n\r\nUsing the immutable list:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nclass Computer {\r\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\r\n    public List&lt;String&gt; getUsers;\r\n\r\n    List&lt;String&gt; getUsers() {\r\n        return List.of(this.users);\r\n    }\r\n}\r\n\r\nComputer c = new Computer();\r\nc.getUsers().set(0, &quot;me&quot;);\r\nfor (String user: c.getUsers()) {\r\n    System.out.println(user);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nuser1\r\nuser2\r\nuser3\r\n```","title":"How do I prevent the modification of a private field in a class?","body":"<p>Since Java 9, an immutable list can also be constructed from a static factory method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\"><code>List.of()</code></a> which results in just a bit fewer imports and code:</p>\n<p>With an alias being returned from <code>getUsers()</code> when the original <code>users</code> fields can be modified:</p>\n<pre><code>class Computer {\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\n    public String[] getUsers;\n\n    String[] getUsers() {\n        return this.users;\n    }\n}\n\nComputer c = new Computer();\nc.getUsers()[0] = &quot;me&quot;;\nfor (String user: c.getUsers()) {\n    System.out.println(user);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>me\nuser2\nuser3\n</code></pre>\n<p>Using the immutable list:</p>\n<pre><code>import java.util.List;\n\nclass Computer {\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\n    public List&lt;String&gt; getUsers;\n\n    List&lt;String&gt; getUsers() {\n        return List.of(this.users);\n    }\n}\n\nComputer c = new Computer();\nc.getUsers().set(0, &quot;me&quot;);\nfor (String user: c.getUsers()) {\n    System.out.println(user);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>user1\nuser2\nuser3\n</code></pre>\n"}],"owner":{"account_id":120672,"reputation":40569,"user_id":313245,"accept_rate":81,"display_name":"Hossein"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16351,"favorite_count":0,"down_vote_count":6,"up_vote_count":174,"accepted_answer_id":14809315,"answer_count":11,"score":168,"last_activity_date":1657505396,"creation_date":1360575147,"question_id":14809293,"body_markdown":"Imagine that I have this class:\r\n\r\n    public class Test\r\n    {\r\n      private String[] arr = new String[]{&quot;1&quot;,&quot;2&quot;};    \r\n    \r\n      public String[] getArr() \r\n      {\r\n        return arr;\r\n      }\r\n    }\r\n\r\nNow, I have another class that uses the above class:\r\n\r\n    Test test = new Test();\r\n    test.getArr()[0] =&quot;some value!&quot;; //!!!\r\n\r\nSo this is the problem: I have accessed a private field of a class from outside!\r\nHow can I prevent this? I mean how can I make this array immutable? Does this mean that with every getter method you can work your way up to access the private field? (I don&#39;t want any libraries such as Guava. I just need to know the right way to do this).","title":"How do I prevent the modification of a private field in a class?","body":"<p>Imagine that I have this class:</p>\n\n<pre><code>public class Test\n{\n  private String[] arr = new String[]{\"1\",\"2\"};    \n\n  public String[] getArr() \n  {\n    return arr;\n  }\n}\n</code></pre>\n\n<p>Now, I have another class that uses the above class:</p>\n\n<pre><code>Test test = new Test();\ntest.getArr()[0] =\"some value!\"; //!!!\n</code></pre>\n\n<p>So this is the problem: I have accessed a private field of a class from outside!\nHow can I prevent this? I mean how can I make this array immutable? Does this mean that with every getter method you can work your way up to access the private field? (I don't want any libraries such as Guava. I just need to know the right way to do this).</p>\n"},{"tags":["java","android","ios","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657505232,"creation_date":1657505232,"answer_id":72933090,"question_id":72930196,"body_markdown":"In maven projects the libraries are downloaded dynamically by maven itself to the `.m2` directory in your home folder. This is handled seamlessly by maven and updated when you change/refresh the pom file.\r\n\r\nWhen you add a dependency on a cn1lib it&#39;s effectively a POM dependency and when you refresh or force refresh you should see maven fetching the dependency. Codename One Settings just adds a POM entry for you based on our listings, you then need to refresh the updated POM for a new version.","title":"How do you add cn1libs to the CodeRAD app generated by start.codenameone.com","body":"<p>In maven projects the libraries are downloaded dynamically by maven itself to the <code>.m2</code> directory in your home folder. This is handled seamlessly by maven and updated when you change/refresh the pom file.</p>\n<p>When you add a dependency on a cn1lib it's effectively a POM dependency and when you refresh or force refresh you should see maven fetching the dependency. Codename One Settings just adds a POM entry for you based on our listings, you then need to refresh the updated POM for a new version.</p>\n"}],"owner":{"account_id":4563750,"reputation":53,"user_id":3705306,"display_name":"EMS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657505232,"creation_date":1657471338,"question_id":72930196,"body_markdown":"Looking through the documentation for Codename One, the instructions for using the cn1libs indicate using the IDE plugins and the Codename One Preferences/Settings dialogs.  When I follow this process and review the resulting project, I do not see any references to the libraries where I would expect to see them in the project code.  Even doing a full text search through the Project does not appear to add the library as a dependency where I would expect it.  I am only seeing the library name in the overview.adoc file.\r\n\r\nSince the entire project structure is different for the CodeRAD project generated by the initializer webapp, and those projects are not recognized as Codename One projects IntelliJ (and hence do not have the Codename One Preferences/Settings dialogs available) how do we add the cn1libs to this initializer generated project?","title":"How do you add cn1libs to the CodeRAD app generated by start.codenameone.com","body":"<p>Looking through the documentation for Codename One, the instructions for using the cn1libs indicate using the IDE plugins and the Codename One Preferences/Settings dialogs.  When I follow this process and review the resulting project, I do not see any references to the libraries where I would expect to see them in the project code.  Even doing a full text search through the Project does not appear to add the library as a dependency where I would expect it.  I am only seeing the library name in the overview.adoc file.</p>\n<p>Since the entire project structure is different for the CodeRAD project generated by the initializer webapp, and those projects are not recognized as Codename One projects IntelliJ (and hence do not have the Codename One Preferences/Settings dialogs available) how do we add the cn1libs to this initializer generated project?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","textview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657121869,"post_id":72837092,"comment_id":128736110,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1657168732,"post_id":72837092,"comment_id":128747375,"body_markdown":"@AlexMamo  Suppose last time there were 500 quotes and then I added 100 more quotes in the excel and converted them to json and uploaded to firebase . Then the totalnumber shows for example 900 instead of 600, even if I navigate between different quotes it still shows the wrong number, so I have to restart the app to see the correct number.","body":"@AlexMamo  Suppose last time there were 500 quotes and then I added 100 more quotes in the excel and converted them to json and uploaded to firebase . Then the totalnumber shows for example 900 instead of 600, even if I navigate between different quotes it still shows the wrong number, so I have to restart the app to see the correct number."},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1657260213,"post_id":72837092,"comment_id":128772943,"body_markdown":"@AlexMamo Look at this https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view","body":"@AlexMamo Look at this <a href=\"https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/vi&zwnj;&#8203;ew</a>"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657374769,"post_id":72837092,"comment_id":128797868,"body_markdown":"Add your sample firebase json. and addValueEventListener always listenable.. You no need to fetch again. Do you have different methods in your class for reading quotes?\nRead this doc first---- https://firebase.google.com/docs/database/android/read-and-write","body":"Add your sample firebase json. and addValueEventListener always listenable.. You no need to fetch again. Do you have different methods in your class for reading quotes? Read this doc first---- <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a>"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657504734,"creation_date":1657504734,"answer_id":72933055,"question_id":72837092,"body_markdown":"Whenever your `onDataChange` is called, it gets a `DataSnapshot` with *all* data at the `Quotes` path in your database. You need to clear the existing data from the `quotes_list` list before rebuilding it.\r\n\r\n\r\n    databaseReference.addValueEventListener(new ValueEventListener() {\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n            quotes_list.clear(); // &#128072;\r\n            for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                model = dataSnapshot1.getValue(Model.class);\r\n                if (model != null) {\r\n                    quotes_list.add(model.getTitle());\r\n                    position = randomQ.nextInt(quotes_list.size());\r\n                    Log.d(TAG, quotes_list.toString());\r\n                }\r\n            }\r\n            quotesTxt.setText(quotes_list.get(position));\r\n            countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n            Log.d(TAG, quotes_list.toString());\r\n        }","title":"How to update textviews when data is updated in firebase","body":"<p>Whenever your <code>onDataChange</code> is called, it gets a <code>DataSnapshot</code> with <em>all</em> data at the <code>Quotes</code> path in your database. You need to clear the existing data from the <code>quotes_list</code> list before rebuilding it.</p>\n<pre><code>databaseReference.addValueEventListener(new ValueEventListener() {\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n        quotes_list.clear(); // 👈\n        for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n            model = dataSnapshot1.getValue(Model.class);\n            if (model != null) {\n                quotes_list.add(model.getTitle());\n                position = randomQ.nextInt(quotes_list.size());\n                Log.d(TAG, quotes_list.toString());\n            }\n        }\n        quotesTxt.setText(quotes_list.get(position));\n        countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n        Log.d(TAG, quotes_list.toString());\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18105926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1657504734,"creation_date":1656745121,"question_id":72837092,"body_markdown":"I have a quotes app, and what I do is I store new quotes in excel and then convert them to JSON (as well as the old ones), and then import the json file into Firebase. \r\n\r\nNow the problem is when I do this if my app is already running and I request a new quote to display, the total number of quotes (for example 1000) gets confusing. It doesn&#39;t display the correct total number unless I completely close my app and then reopen it. \r\n\r\nWould you please tell me how to update both texts (1. The total number 2. the textview showing the quotes) with the updated quotes, when an event occurs (e.g., clicking the nav buttons to bring next or previous quotes or like getting on resume)?\r\n\r\nLook at [this][1] \r\n\r\n&gt; (the text changed itself to 10001 when i just added one quote in the\r\n&gt; firebase and even the added quote is not displaying when i press the\r\n&gt; latest quote - which get the lastest added quote in firebase)\r\n\r\nIm using this right now to get data\r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\r\n            model = new Model();\r\n            quotes_list = new ArrayList&lt;&gt;();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                        model = dataSnapshot1.getValue(Model.class);\r\n                        if (model != null) {\r\n                            quotes_list.add(model.getTitle());\r\n                            position = randomQ.nextInt(quotes_list.size());\r\n                            Log.d(TAG, quotes_list.toString());\r\n    \r\n                        }\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                    Log.d(TAG, quotes_list.toString());\r\n                }\r\n\r\nModel\r\n\r\n    package com.example.philosophicalquotes.data;\r\n    \r\n    public class Model {\r\n        String title;\r\n    \r\n        public Model() {\r\n        }\r\n    \r\n        public Model(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view","title":"How to update textviews when data is updated in firebase","body":"<p>I have a quotes app, and what I do is I store new quotes in excel and then convert them to JSON (as well as the old ones), and then import the json file into Firebase.</p>\n<p>Now the problem is when I do this if my app is already running and I request a new quote to display, the total number of quotes (for example 1000) gets confusing. It doesn't display the correct total number unless I completely close my app and then reopen it.</p>\n<p>Would you please tell me how to update both texts (1. The total number 2. the textview showing the quotes) with the updated quotes, when an event occurs (e.g., clicking the nav buttons to bring next or previous quotes or like getting on resume)?</p>\n<p>Look at <a href=\"https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view\" rel=\"nofollow noreferrer\">this</a></p>\n<blockquote>\n<p>(the text changed itself to 10001 when i just added one quote in the\nfirebase and even the added quote is not displaying when i press the\nlatest quote - which get the lastest added quote in firebase)</p>\n</blockquote>\n<p>Im using this right now to get data</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\n        model = new Model();\n        quotes_list = new ArrayList&lt;&gt;();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n                    model = dataSnapshot1.getValue(Model.class);\n                    if (model != null) {\n                        quotes_list.add(model.getTitle());\n                        position = randomQ.nextInt(quotes_list.size());\n                        Log.d(TAG, quotes_list.toString());\n\n                    }\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n                Log.d(TAG, quotes_list.toString());\n            }\n</code></pre>\n<p>Model</p>\n<pre><code>package com.example.philosophicalquotes.data;\n\npublic class Model {\n    String title;\n\n    public Model() {\n    }\n\n    public Model(String title) {\n        this.title = title;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","unsupported-class-version"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1538805059,"creation_date":1538764497,"answer_id":52671484,"question_id":52671412,"body_markdown":"The error says it all:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\r\n&gt; Test has been compiled by a more recent version of the Java Runtime\r\n&gt; (class file version 55.0)...\r\n\r\nYou&#39;ve compiled for Java 11 ... but you&#39;re running an older JRE (Java 8).\r\n\r\nSUGGESTIONS: \r\n\r\n* recompile with `-source` and `-target` to target an earlier version of Java in your .class file, or\r\n\r\n* Upgrade your target JRE to Java 11\r\n\r\nEXAMPLE: `javac -target 8 -source 8 MyClass.java`\r\n\r\nFYI, these are the Java versions in each Java class file&#39;s header:\r\n\r\n&gt; https://en.wikipedia.org/wiki/Java_class_file\r\n&gt; \r\n&gt; * Java SE 11 = 55 (0x37 hex)\r\n&gt; * Java SE 10 = 54 (0x36 hex)\r\n&gt; * Java SE 9 = 53 (0x35 hex)\r\n&gt; * Java SE 8 = 52 (0x34 hex)\r\n&gt; * Java SE 7 = 51 (0x33 hex)\r\n&gt; * Java SE 6.0 = 50 (0x32 hex)\r\n&gt; * Java SE 5.0 = 49 (0x31 hex)\r\n&gt; * JDK 1.4 = 48 (0x30 hex)\r\n&gt; * JDK 1.3 = 47 (0x2F hex)\r\n&gt; * JDK 1.2 = 46 (0x2E hex)\r\n&gt; * JDK 1.1 = 45 (0x2D hex)\r\n\r\nAlso FYI, here are the command line options for javac:\r\n\r\n[Java SE 11 &gt; Tools &gt; javac](https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9)\r\n\r\nPS:\r\n\r\nYou may have multiple independent versions of Java installed at the same time.  Use the [alternatives](https://askubuntu.com/questions/121654/how-to-set-default-java-version/731862) command:\r\n\r\n* https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux\r\n","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>The error says it all:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsupportedClassVersionError:\n  Test has been compiled by a more recent version of the Java Runtime\n  (class file version 55.0)...</p>\n</blockquote>\n\n<p>You've compiled for Java 11 ... but you're running an older JRE (Java 8).</p>\n\n<p>SUGGESTIONS: </p>\n\n<ul>\n<li><p>recompile with <code>-source</code> and <code>-target</code> to target an earlier version of Java in your .class file, or</p></li>\n<li><p>Upgrade your target JRE to Java 11</p></li>\n</ul>\n\n<p>EXAMPLE: <code>javac -target 8 -source 8 MyClass.java</code></p>\n\n<p>FYI, these are the Java versions in each Java class file's header:</p>\n\n<blockquote>\n  <p><a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Java_class_file</a></p>\n  \n  <ul>\n  <li>Java SE 11 = 55 (0x37 hex)</li>\n  <li>Java SE 10 = 54 (0x36 hex)</li>\n  <li>Java SE 9 = 53 (0x35 hex)</li>\n  <li>Java SE 8 = 52 (0x34 hex)</li>\n  <li>Java SE 7 = 51 (0x33 hex)</li>\n  <li>Java SE 6.0 = 50 (0x32 hex)</li>\n  <li>Java SE 5.0 = 49 (0x31 hex)</li>\n  <li>JDK 1.4 = 48 (0x30 hex)</li>\n  <li>JDK 1.3 = 47 (0x2F hex)</li>\n  <li>JDK 1.2 = 46 (0x2E hex)</li>\n  <li>JDK 1.1 = 45 (0x2D hex)</li>\n  </ul>\n</blockquote>\n\n<p>Also FYI, here are the command line options for javac:</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9\" rel=\"noreferrer\">Java SE 11 > Tools > javac</a></p>\n\n<p>PS:</p>\n\n<p>You may have multiple independent versions of Java installed at the same time.  Use the <a href=\"https://askubuntu.com/questions/121654/how-to-set-default-java-version/731862\">alternatives</a> command:</p>\n\n<ul>\n<li><a href=\"https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux\" rel=\"noreferrer\">https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613886652,"creation_date":1613886652,"answer_id":66299525,"question_id":52671412,"body_markdown":"I also had this problem. This is my solution.\r\nThere was 2 Java versions installed (java 8 and Java SE Development kit 13). \r\nThis error occurs because of this 2 versions. Just uninstall old version and you are done.\r\n(*Java compiles .java file using SE Development kit and trying to execute using old version. So compatible errors occurs.)\r\n\r\nThen check java versions on cmd using `javac -version` and `java -version`. After uninstallation, both version codes must be same.","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>I also had this problem. This is my solution.\nThere was 2 Java versions installed (java 8 and Java SE Development kit 13).\nThis error occurs because of this 2 versions. Just uninstall old version and you are done.\n(*Java compiles .java file using SE Development kit and trying to execute using old version. So compatible errors occurs.)</p>\n<p>Then check java versions on cmd using <code>javac -version</code> and <code>java -version</code>. After uninstallation, both version codes must be same.</p>\n"},{"tags":[],"owner":{"account_id":22844295,"reputation":1,"user_id":16990834,"display_name":"shuisheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657504696,"creation_date":1657504696,"answer_id":72933053,"question_id":52671412,"body_markdown":"If you don&#39;t want to upgrade your Java version to Java11. Maybe you can change the version of neo4j to 3.x. neo4j 3.x compiled by Java 8, and the neo4j 4.x compiled by Java 11. \r\nHere is the download site of neo4j community edition, you can change your version of neo4j to adjust the local version of Java 8.\r\nhttps://neo4j.com/download-center/#community","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>If you don't want to upgrade your Java version to Java11. Maybe you can change the version of neo4j to 3.x. neo4j 3.x compiled by Java 8, and the neo4j 4.x compiled by Java 11.\nHere is the download site of neo4j community edition, you can change your version of neo4j to adjust the local version of Java 8.\n<a href=\"https://neo4j.com/download-center/#community\" rel=\"nofollow noreferrer\">https://neo4j.com/download-center/#community</a></p>\n"}],"owner":{"account_id":1089291,"reputation":375,"user_id":2583353,"display_name":"Mamun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62531,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52671484,"answer_count":3,"score":8,"last_activity_date":1657504696,"creation_date":1538764146,"question_id":52671412,"body_markdown":"I&#39;m trying to run a simple client-server program written in Java through Ubuntu terminal. I could compile the code successfully unfortunately, I can&#39;t run the code.\r\n\r\nServer class code:  \r\n\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Server \r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                    try \r\n                    {\r\n                            //create server Socket with demo port\r\n                            ServerSocket server = new ServerSocket(20);\r\n    \r\n                            //wait for server connection\r\n                            Socket s = server.accept();\r\n    \r\n                            //upon establishing connection, print \r\n                           // successful message\r\n                            System.out.println(&quot;connection eastablished&quot;);\r\n                    } \r\n                    catch (IOException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    }\r\n            }\r\n    }\r\n\r\nClient class code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    public class Client \r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                    try \r\n                    {\r\n                            //create client socket\r\n                            Socket client = new Socket(&quot;127.0.0.1&quot;, 20);\r\n\r\n                            //upon establishing connection, print                            \r\n                            //successful message\r\n                            System.out.println(&quot;connection eastablished&quot;);\r\n\r\n                    } \r\n                    catch (UnknownHostException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    } \r\n                    catch (IOException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    }\r\n            }\r\n    }\r\n\r\nDuring running the complied class, I&#39;m getting the following error:\r\n\r\n&gt; mamun@mamun:~$ java Test Error: A JNI error has occurred, please check\r\n&gt; your installation and try again Exception in thread &quot;main&quot;\r\n&gt; java.lang.UnsupportedClassVersionError: Test has been compiled by a\r\n&gt; more recent version of the Java Runtime (class file version 55.0),\r\n&gt; this version of the Java Runtime only recognizes class file versions\r\n&gt; up to 52.0 \tat java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n&gt; java.lang.ClassLoader.defineClass(ClassLoader.java:763) \tat\r\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n&gt; \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467) \tat\r\n&gt; java.net.URLClassLoader.access$100(URLClassLoader.java:73) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:368) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:362) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:361) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357) \tat \r\n&gt; sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n\r\n\r\nI&#39;ve tried to search stackoverflow and other forum and blogs to find a solution, I&#39;ve find some similar questions, tried the answers provided to those question but could find a solution for my problem. That&#39;s why I&#39;m adding this question here.\r\n\r\nLater, I&#39;ve try to write a very simple Java program, like just to print a greeting, this program also could be compiled but would not run producing the same error.\r\nI&#39;ve tried to execute the program from different folders except from the root folder. But all efforts produce the same result.\r\n\r\n    \r\n    public class Test\r\n    {\r\n            public static void main(String[] args)\r\n                    {\r\n                            System.out.println(&quot;Hello...&quot;);\r\n                    }\r\n    }\r\n\r\nI can perfectly work in Eclipse where my java version 8, problem occurs only when working in terminal.\r\n\r\nIn my Ubuntu jdk  version is 11 (which has been automatically been updated without my knowledge);\r\nMy Ubuntu version:18.04.1 LTS","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>I'm trying to run a simple client-server program written in Java through Ubuntu terminal. I could compile the code successfully unfortunately, I can't run the code.</p>\n\n<p>Server class code:  </p>\n\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server \n{\n        public static void main(String[] args)\n        {\n                try \n                {\n                        //create server Socket with demo port\n                        ServerSocket server = new ServerSocket(20);\n\n                        //wait for server connection\n                        Socket s = server.accept();\n\n                        //upon establishing connection, print \n                       // successful message\n                        System.out.println(\"connection eastablished\");\n                } \n                catch (IOException e) \n                {\n                        e.printStackTrace();\n                }\n        }\n}\n</code></pre>\n\n<p>Client class code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\npublic class Client \n{\n        public static void main(String[] args)\n        {\n                try \n                {\n                        //create client socket\n                        Socket client = new Socket(\"127.0.0.1\", 20);\n\n                        //upon establishing connection, print                            \n                        //successful message\n                        System.out.println(\"connection eastablished\");\n\n                } \n                catch (UnknownHostException e) \n                {\n                        e.printStackTrace();\n                } \n                catch (IOException e) \n                {\n                        e.printStackTrace();\n                }\n        }\n}\n</code></pre>\n\n<p>During running the complied class, I'm getting the following error:</p>\n\n<blockquote>\n  <p>mamun@mamun:~$ java Test Error: A JNI error has occurred, please check\n  your installation and try again Exception in thread \"main\"\n  java.lang.UnsupportedClassVersionError: Test has been compiled by a\n  more recent version of the Java Runtime (class file version 55.0),\n  this version of the Java Runtime only recognizes class file versions\n  up to 52.0    at java.lang.ClassLoader.defineClass1(Native Method)    at\n  java.lang.ClassLoader.defineClass(ClassLoader.java:763)   at\n  java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)     at\n  java.net.URLClassLoader.access$100(URLClassLoader.java:73)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:368)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:362)    at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:361)    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)     at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:357)     at \n  sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)</p>\n</blockquote>\n\n<p>I've tried to search stackoverflow and other forum and blogs to find a solution, I've find some similar questions, tried the answers provided to those question but could find a solution for my problem. That's why I'm adding this question here.</p>\n\n<p>Later, I've try to write a very simple Java program, like just to print a greeting, this program also could be compiled but would not run producing the same error.\nI've tried to execute the program from different folders except from the root folder. But all efforts produce the same result.</p>\n\n<pre><code>public class Test\n{\n        public static void main(String[] args)\n                {\n                        System.out.println(\"Hello...\");\n                }\n}\n</code></pre>\n\n<p>I can perfectly work in Eclipse where my java version 8, problem occurs only when working in terminal.</p>\n\n<p>In my Ubuntu jdk  version is 11 (which has been automatically been updated without my knowledge);\nMy Ubuntu version:18.04.1 LTS</p>\n"},{"tags":["java","arrays","bytebuffer","rocksdb"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1655434530,"post_id":72653173,"comment_id":128336897,"body_markdown":"Can you clarify a bit more what the KV pairs are and what kind of iteration you want","body":"Can you clarify a bit more what the KV pairs are and what kind of iteration you want"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655435432,"post_id":72653173,"comment_id":128336990,"body_markdown":"Could you post enough code for MRE? Take a look at: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Could you post enough code for MRE? Take a look at: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1655452423,"post_id":72653173,"comment_id":128340422,"body_markdown":"Wouldn&#39;t the database supply the next key in the range, since it _knows_ what the next key will be?","body":"Wouldn&#39;t the database supply the next key in the range, since it <i>knows</i> what the next key will be?"}],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657503564,"creation_date":1657503564,"answer_id":72932990,"question_id":72653173,"body_markdown":"You can either use a transaction DB and do a read-modify-write cycle\r\n\r\nor use the int64addition merge operator to do the increment at the key","title":"How to increment a byte array by one","body":"<p>You can either use a transaction DB and do a read-modify-write cycle</p>\n<p>or use the int64addition merge operator to do the increment at the key</p>\n"}],"owner":{"account_id":135025,"reputation":7826,"user_id":337546,"accept_rate":89,"display_name":"user_1357"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657503564,"creation_date":1655425761,"question_id":72653173,"body_markdown":"In RocksDB, we are able to perform range scan based on a key. We first seek to the start position by initializing byte[]. For example if your key is composed of two Long data types, we can initialize start byte[16] with `toBytes(Long.MinValue, Long.MinValue)` \r\n\r\nThen set endKey by doing something similar `toBytes(Long.MinValue, Long.MaxValue)`. Note that we only want to scan last 64 bit from `Long.MinValue` to `Long.MaxValue` using this key as example to show we can scan byte[] partially. \r\n\r\nSample code can be found below. How does `iter.next()` work below? We are essentially incrementing byte[16] from start until we hit the end key. In other words, how do we increment byte[] by one? (or increment one bit at a time just like integer addition??) When checking the source code, it jumps to `native` function.   \r\n   \r\n\r\n    val iter = newRocksIterator()\r\n\r\n    new Iterator[Entry] {\r\n      override def hasNext: Boolean = {\r\n        if (iter.isValid) {\r\n  \r\n          if (compareKeys(iter.key(), endKey) &gt; 0) false else true\r\n        } else {\r\n          false\r\n        }\r\n      }\r\n\r\n      override def next(): Entry = {\r\n        val value = Entry(iter.key, iter.value())\r\n        iter.next()\r\n\r\n        value\r\n      }\r\n    }\r\n","title":"How to increment a byte array by one","body":"<p>In RocksDB, we are able to perform range scan based on a key. We first seek to the start position by initializing byte[]. For example if your key is composed of two Long data types, we can initialize start byte[16] with <code>toBytes(Long.MinValue, Long.MinValue)</code></p>\n<p>Then set endKey by doing something similar <code>toBytes(Long.MinValue, Long.MaxValue)</code>. Note that we only want to scan last 64 bit from <code>Long.MinValue</code> to <code>Long.MaxValue</code> using this key as example to show we can scan byte[] partially.</p>\n<p>Sample code can be found below. How does <code>iter.next()</code> work below? We are essentially incrementing byte[16] from start until we hit the end key. In other words, how do we increment byte[] by one? (or increment one bit at a time just like integer addition??) When checking the source code, it jumps to <code>native</code> function.</p>\n<pre><code>val iter = newRocksIterator()\n\nnew Iterator[Entry] {\n  override def hasNext: Boolean = {\n    if (iter.isValid) {\n\n      if (compareKeys(iter.key(), endKey) &gt; 0) false else true\n    } else {\n      false\n    }\n  }\n\n  override def next(): Entry = {\n    val value = Entry(iter.key, iter.value())\n    iter.next()\n\n    value\n  }\n}\n</code></pre>\n"},{"tags":["java","android","multiprocessing","java-native-interface"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1657467624,"post_id":72929124,"comment_id":128811906,"body_markdown":"Could you give more details about what you&#39;re running in the new process, and what Java code you want to run in it?","body":"Could you give more details about what you&#39;re running in the new process, and what Java code you want to run in it?"},{"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"score":0,"creation_date":1657502755,"post_id":72929124,"comment_id":128817773,"body_markdown":"Thanks for your reminder. I add some detailed codes to the description.","body":"Thanks for your reminder. I add some detailed codes to the description."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657528669,"post_id":72929124,"comment_id":128822674,"body_markdown":"This all sounds like a massive XY problem. Why are you forking a subprocess in the first place? Can&#39;t this flow be replaced by an Android (native) activity?","body":"This all sounds like a massive XY problem. Why are you forking a subprocess in the first place? Can&#39;t this flow be replaced by an Android (native) activity?"},{"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"score":0,"creation_date":1657682795,"post_id":72929124,"comment_id":128866337,"body_markdown":"Well, I can&#39;t replace it with some Android activities since they need to be done in the command shell.","body":"Well, I can&#39;t replace it with some Android activities since they need to be done in the command shell."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657700336,"post_id":72929124,"comment_id":128870198,"body_markdown":"You can run arbitrary commands from Java (`System.runtime.exec`) so why not?","body":"You can run arbitrary commands from Java (<code>System.runtime.exec</code>) so why not?"}],"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657502808,"creation_date":1657462159,"question_id":72929124,"body_markdown":"I&#39;m working on an Android project on Android 11. Now I use ```Runtime.getRuntime().exec()``` to generate a new process to run some commands. However these commands will call JNI functions in the new process, where I found it pretty difficult to do so because the new process cannot access my cached JVM pointer in the main process. The function my command will call is like below:\r\n```\r\nstatic JavaVM* jvm;\r\nstatic JNIEnv* gloenv;\r\nstatic jclass glojc;\r\n\r\nvoid PyShowImage(PyObject* obj){\r\n    ...\r\n    jmethodID  showimage = (*gloenv).GetStaticMethodID(glojc,&quot;show_image&quot;,&quot;([F[II)V&quot;);\r\n    ...\r\n}\r\n``` \r\nBut I can&#39;t get JNIEnv and jclass variables in a traditional way because I directly dlopen and run the function from the JNI dynamic library (where JNI_OnLoad won&#39;t work). So I have to first get a JVM pointer. Is there a way to get or create JVM in Android 11.0?","title":"How to get JVM in a new process on Android?","body":"<p>I'm working on an Android project on Android 11. Now I use <code>Runtime.getRuntime().exec()</code> to generate a new process to run some commands. However these commands will call JNI functions in the new process, where I found it pretty difficult to do so because the new process cannot access my cached JVM pointer in the main process. The function my command will call is like below:</p>\n<pre><code>static JavaVM* jvm;\nstatic JNIEnv* gloenv;\nstatic jclass glojc;\n\nvoid PyShowImage(PyObject* obj){\n    ...\n    jmethodID  showimage = (*gloenv).GetStaticMethodID(glojc,&quot;show_image&quot;,&quot;([F[II)V&quot;);\n    ...\n}\n</code></pre>\n<p>But I can't get JNIEnv and jclass variables in a traditional way because I directly dlopen and run the function from the JNI dynamic library (where JNI_OnLoad won't work). So I have to first get a JVM pointer. Is there a way to get or create JVM in Android 11.0?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1656904783,"post_id":72851421,"comment_id":128676639,"body_markdown":"Do you have a memory leak?","body":"Do you have a memory leak?"},{"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"score":0,"creation_date":1656905102,"post_id":72851421,"comment_id":128676666,"body_markdown":"As in? The part where it fails is at the stage Combine-globally and Sort the kv pairs which i assume is very memory intensive. But even running with 1 worker with high memory having the same issue","body":"As in? The part where it fails is at the stage Combine-globally and Sort the kv pairs which i assume is very memory intensive. But even running with 1 worker with high memory having the same issue"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1656920515,"post_id":72851421,"comment_id":128679503,"body_markdown":"Try connecting a profiler and look at memory usage.","body":"Try connecting a profiler and look at memory usage."},{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1657138644,"post_id":72851421,"comment_id":128741937,"body_markdown":"How much data do you have in total? Will it all fit into memory at once?","body":"How much data do you have in total? Will it all fit into memory at once?"}],"answers":[{"tags":[],"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657502299,"creation_date":1657502299,"answer_id":72932898,"question_id":72851421,"body_markdown":"Noticed that the Current memory is still 3.75 GB, upgrading the worker machine type to n1-standard-2 worked","title":"Google dataflow fails with JVM after 8 consecutive periods for Combine globally","body":"<p>Noticed that the Current memory is still 3.75 GB, upgrading the worker machine type to n1-standard-2 worked</p>\n"}],"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657502299,"creation_date":1656904324,"question_id":72851421,"body_markdown":"In my pipeline I have around 4 million records and the flow is as follows\r\n\r\n1) Read all records from bigquery\r\n\r\n2) Transform to proto\r\n\r\n3) Combine globally and create a sorted kv based SST file which is later used for Rocksdb\r\n\r\nThis pipeline works for records upto 1.5 million but later fails with this error.\r\n\r\n\r\n&gt; Shutting down JVM after 8 consecutive periods of measured GC\r\n&gt; thrashing. Memory is used/total/max = 2481/2492/2492 MB, GC last/max =\r\n&gt; 97.50/97.50 %, #pushbacks=0, gc thrashing=true. Heap dump not written.\r\n\r\nThe error doesn&#39;t change even I used several optimizations suggested in various other threads such as \r\n1) Changing machine type to high memory\r\n2) Decreasing the accumulators (reduced the worker count to 1)\r\n3) Use ssd disk\r\n4) --experiments=shuffle_mode=service\r\n\r\nCurrent stats\r\n[![enter image description here][1]][1]\r\nI can&#39;t use a custom file sink as the underlying SST writer doesn&#39;t support writing from bytable channel as [here][2]\r\n\r\nAny insight on resolving this would be helpful\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IcU5I.png\r\n  [2]: https://stackoverflow.com/questions/72244923/output-sorted-kv-pcollection-to-a-sst-file-from-google-cloud-dataflow","title":"Google dataflow fails with JVM after 8 consecutive periods for Combine globally","body":"<p>In my pipeline I have around 4 million records and the flow is as follows</p>\n<ol>\n<li><p>Read all records from bigquery</p>\n</li>\n<li><p>Transform to proto</p>\n</li>\n<li><p>Combine globally and create a sorted kv based SST file which is later used for Rocksdb</p>\n</li>\n</ol>\n<p>This pipeline works for records upto 1.5 million but later fails with this error.</p>\n<blockquote>\n<p>Shutting down JVM after 8 consecutive periods of measured GC\nthrashing. Memory is used/total/max = 2481/2492/2492 MB, GC last/max =\n97.50/97.50 %, #pushbacks=0, gc thrashing=true. Heap dump not written.</p>\n</blockquote>\n<p>The error doesn't change even I used several optimizations suggested in various other threads such as</p>\n<ol>\n<li>Changing machine type to high memory</li>\n<li>Decreasing the accumulators (reduced the worker count to 1)</li>\n<li>Use ssd disk</li>\n<li>--experiments=shuffle_mode=service</li>\n</ol>\n<p>Current stats\n<a href=\"https://i.stack.imgur.com/IcU5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IcU5I.png\" alt=\"enter image description here\" /></a>\nI can't use a custom file sink as the underlying SST writer doesn't support writing from bytable channel as <a href=\"https://stackoverflow.com/questions/72244923/output-sorted-kv-pcollection-to-a-sst-file-from-google-cloud-dataflow\">here</a></p>\n<p>Any insight on resolving this would be helpful</p>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":1,"creation_date":1438091689,"post_id":31678344,"comment_id":51298501,"body_markdown":"Could you please provide an example which describes your problem?","body":"Could you please provide an example which describes your problem?"},{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":2,"creation_date":1438092534,"post_id":31678344,"comment_id":51299200,"body_markdown":"AFAIK, this is possible in languages (like c) where boolean is represented as int. But not in java, because you can get a boolean value using only comparison. bit operators on int will always only result in an int.","body":"AFAIK, this is possible in languages (like c) where boolean is represented as int. But not in java, because you can get a boolean value using only comparison. bit operators on int will always only result in an int."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1438093176,"creation_date":1438092592,"answer_id":31678816,"question_id":31678344,"body_markdown":"You need at least comparison to 0 and notionally this is what the CPU does for a comparison. e.g.\r\n\r\nEquals can be modelled as `^` as the bits have to be the same to return 0\r\n\r\n    (a ^ b) == 0\r\n\r\nif this was `C` you could drop the `== 0` as this can be implied with\r\n\r\n    !(a ^ b)\r\n\r\nbut in Java you can&#39;t convert an `int` to a `boolean` without at least some comparison.\r\n\r\nFor comparison you usually do a subtraction, though one which handles overflows.\r\n\r\n    (long) a - b &gt; 0 // same as a &gt; b\r\n\r\nsubtraction is the same as adding a negative and negative is the same as ~x+1 so you can do\r\n\r\n    (long) a + ~ (long) b + 1 &gt; 0\r\n\r\nto drop the `+1` you can change this to\r\n\r\n    (long) a + ~ (long) b &gt;= 0 // same as a &gt; b\r\n\r\nYou could implement `+` as a series of bit by bit operations with `&gt;&gt;` `&lt;&lt;` `&amp;` `|` and `^` but I wouldn&#39;t inflict that on you.","title":"Compare two integers using bit operator","body":"<p>You need at least comparison to 0 and notionally this is what the CPU does for a comparison. e.g.</p>\n\n<p>Equals can be modelled as <code>^</code> as the bits have to be the same to return 0</p>\n\n<pre><code>(a ^ b) == 0\n</code></pre>\n\n<p>if this was <code>C</code> you could drop the <code>== 0</code> as this can be implied with</p>\n\n<pre><code>!(a ^ b)\n</code></pre>\n\n<p>but in Java you can't convert an <code>int</code> to a <code>boolean</code> without at least some comparison.</p>\n\n<p>For comparison you usually do a subtraction, though one which handles overflows.</p>\n\n<pre><code>(long) a - b &gt; 0 // same as a &gt; b\n</code></pre>\n\n<p>subtraction is the same as adding a negative and negative is the same as ~x+1 so you can do</p>\n\n<pre><code>(long) a + ~ (long) b + 1 &gt; 0\n</code></pre>\n\n<p>to drop the <code>+1</code> you can change this to</p>\n\n<pre><code>(long) a + ~ (long) b &gt;= 0 // same as a &gt; b\n</code></pre>\n\n<p>You could implement <code>+</code> as a series of bit by bit operations with <code>&gt;&gt;</code> <code>&lt;&lt;</code> <code>&amp;</code> <code>|</code> and <code>^</code> but I wouldn't inflict that on you.</p>\n"},{"tags":[],"owner":{"account_id":2370246,"reputation":1892,"user_id":2757635,"display_name":"rhitz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438092803,"creation_date":1438092803,"answer_id":31678906,"question_id":31678344,"body_markdown":"# Using binary two’s complement notation #\r\n\r\n    int findMax( int x, int y)\r\n    {\r\n     int z = x - y;\r\n     int i  = (z  &gt;&gt;  31)  &amp;  0x1;\r\n     int  max  =  x - i  *  z;\r\n     return max;\r\n    }\r\n\r\nReference: [Here][1]\r\n\r\n\r\n  [1]: http://www.programmerinterview.com/index.php/general-miscellaneous/find-max-without-comparison/","title":"Compare two integers using bit operator","body":"<h1>Using binary two’s complement notation</h1>\n\n<pre><code>int findMax( int x, int y)\n{\n int z = x - y;\n int i  = (z  &gt;&gt;  31)  &amp;  0x1;\n int  max  =  x - i  *  z;\n return max;\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://www.programmerinterview.com/index.php/general-miscellaneous/find-max-without-comparison/\" rel=\"nofollow\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":23418,"reputation":4755,"user_id":58678,"accept_rate":83,"display_name":"hIpPy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657501692,"creation_date":1520957878,"answer_id":49261017,"question_id":31678344,"body_markdown":"You cannot convert `1` or `0` to `bool` without a comparison operator like Peter mentioned. It is still possible to get `max` without a comparison operator.\r\n\r\nI&#39;m using `bit` (1 or 0) instead of `int` to avoid confusion.\r\n\r\n\tbit msb(x):\r\n\t\treturn lsb(x &gt;&gt; 31)\r\n\tbit lsb(x):\r\n\t\treturn x &amp;1\r\n\r\n\t// returns 1 if x &lt; 0, 0 if x &gt;= 0\r\n\tbit isNegative(x):\r\n\t\treturn msb(x)\r\n\r\nWith these helpers `isGreater(a, b)` looks like,\r\n\r\n    // BUG: bug due to overflow when a is -ve and b is +ve\r\n    // returns 1 if a &gt; b, 0 if a &lt;= b\r\n    bit isGreater_BUG(a, b):\r\n    \treturn isNegative(b - a)\t// possible overflow\r\n\r\nWe need two helpers functions to detect same and different signs,\r\n\r\n\t// toggles lsb only\r\n\tbit toggle(x):\r\n\t\treturn lsb(~x)\r\n\r\n\t// returns 1 if a, b have same signs (0 is considered +ve).\r\n\tbit isSameSigns(a, b):\r\n\t\treturn toggle(isDiffSigns(a, b))\r\n\t// returns 1 if a, b have different signs (0 is considered +ve).\r\n\tbit isDiffSigns(a, b):\r\n\t\treturn msb(a ^ b)\r\n\r\nSo with the overflow issue fix,\r\n\r\n\t// returns 1 if a &gt; b, 0 if a &lt;= b\r\n\tbit isGreater(a, b):\r\n\t\treturn \r\n\t\t\t(isSameSigns(a, b) &amp; isNegative(b - a)) | \r\n\t\t\t(isDiffSigns(a, b) &amp; isNegative(b))\r\n\r\nNote that `isGreater` works correctly for inputs `5, 0` and `0, -5` also. \r\n\r\nIt&#39;s *trickier* to implement `isPositive(x)` properly as `0` will also be considered positive. So instead of using `isPositive(a - b)` above, `isNegative(b - a)` is used as `isNegative(x)` works correctly for `0`.\r\n\r\nNow max can be implemented as,\r\n\r\n\t// BUG: returns 0 when a == b instead of a (or b)\r\n\t// returns a if a &gt; b, b if b &gt; a\r\n\tint max_BUG(a, b):\r\n\t\treturn\r\n\t\t\tisGreater(a, b) * a +\t// returns 0 when a = b\r\n\t\t\tisGreater(b, a) * b\t\t//\r\n\r\nTo fix that, helper `isZero(x)` is used,\r\n\r\n\t// returns 1 if x is 0, else 0\r\n\tbit isZero(x):\r\n\t\t// x | -x will have msb 1 for a non-zero integer\r\n\t\t// and 0 for 0\r\n\t\treturn toggle(msb(x | -x))\r\n\r\nSo with the fix when `a = b`,\r\n\r\n    // returns 1 if a == b else 0\r\n    bit isEqual(a, b):\r\n    \treturn isZero(a - b) // or isZero(a ^ b)\r\n\r\n\tint max(a, b):\r\n\t\treturn\r\n\t\t\tisGreater(a, b) * a +\t// a &gt; b, so a\r\n\t\t\tisGreater(b, a) * b +\t// b &gt; a, so b\r\n\t\t\tisEqual(a, b) * a\t\t// a = b, so a (or b)\r\n\r\nThat said, if `isPositive(0)` returns 1 then `max(5, 5)` will return 10 instead of 5. So a correct `isPositive(x)` implementation will be,\r\n\r\n\t// returns 1 if x &gt; 0, 0 if x &lt;= 0\r\n    bit isPositive(x):\r\n    \treturn isNotZero(x) &amp; toggle(isNegative(x))\r\n\r\n\t// returns 1 if x != 0, else 0\r\n    bit isNotZero(x):\r\n    \treturn msb(x | -x)\r\n","title":"Compare two integers using bit operator","body":"<p>You cannot convert <code>1</code> or <code>0</code> to <code>bool</code> without a comparison operator like Peter mentioned. It is still possible to get <code>max</code> without a comparison operator.</p>\n<p>I'm using <code>bit</code> (1 or 0) instead of <code>int</code> to avoid confusion.</p>\n<pre><code>bit msb(x):\n    return lsb(x &gt;&gt; 31)\nbit lsb(x):\n    return x &amp;1\n\n// returns 1 if x &lt; 0, 0 if x &gt;= 0\nbit isNegative(x):\n    return msb(x)\n</code></pre>\n<p>With these helpers <code>isGreater(a, b)</code> looks like,</p>\n<pre><code>// BUG: bug due to overflow when a is -ve and b is +ve\n// returns 1 if a &gt; b, 0 if a &lt;= b\nbit isGreater_BUG(a, b):\n    return isNegative(b - a)    // possible overflow\n</code></pre>\n<p>We need two helpers functions to detect same and different signs,</p>\n<pre><code>// toggles lsb only\nbit toggle(x):\n    return lsb(~x)\n\n// returns 1 if a, b have same signs (0 is considered +ve).\nbit isSameSigns(a, b):\n    return toggle(isDiffSigns(a, b))\n// returns 1 if a, b have different signs (0 is considered +ve).\nbit isDiffSigns(a, b):\n    return msb(a ^ b)\n</code></pre>\n<p>So with the overflow issue fix,</p>\n<pre><code>// returns 1 if a &gt; b, 0 if a &lt;= b\nbit isGreater(a, b):\n    return \n        (isSameSigns(a, b) &amp; isNegative(b - a)) | \n        (isDiffSigns(a, b) &amp; isNegative(b))\n</code></pre>\n<p>Note that <code>isGreater</code> works correctly for inputs <code>5, 0</code> and <code>0, -5</code> also.</p>\n<p>It's <em>trickier</em> to implement <code>isPositive(x)</code> properly as <code>0</code> will also be considered positive. So instead of using <code>isPositive(a - b)</code> above, <code>isNegative(b - a)</code> is used as <code>isNegative(x)</code> works correctly for <code>0</code>.</p>\n<p>Now max can be implemented as,</p>\n<pre><code>// BUG: returns 0 when a == b instead of a (or b)\n// returns a if a &gt; b, b if b &gt; a\nint max_BUG(a, b):\n    return\n        isGreater(a, b) * a +   // returns 0 when a = b\n        isGreater(b, a) * b     //\n</code></pre>\n<p>To fix that, helper <code>isZero(x)</code> is used,</p>\n<pre><code>// returns 1 if x is 0, else 0\nbit isZero(x):\n    // x | -x will have msb 1 for a non-zero integer\n    // and 0 for 0\n    return toggle(msb(x | -x))\n</code></pre>\n<p>So with the fix when <code>a = b</code>,</p>\n<pre><code>// returns 1 if a == b else 0\nbit isEqual(a, b):\n    return isZero(a - b) // or isZero(a ^ b)\n\nint max(a, b):\n    return\n        isGreater(a, b) * a +   // a &gt; b, so a\n        isGreater(b, a) * b +   // b &gt; a, so b\n        isEqual(a, b) * a       // a = b, so a (or b)\n</code></pre>\n<p>That said, if <code>isPositive(0)</code> returns 1 then <code>max(5, 5)</code> will return 10 instead of 5. So a correct <code>isPositive(x)</code> implementation will be,</p>\n<pre><code>// returns 1 if x &gt; 0, 0 if x &lt;= 0\nbit isPositive(x):\n    return isNotZero(x) &amp; toggle(isNegative(x))\n\n// returns 1 if x != 0, else 0\nbit isNotZero(x):\n    return msb(x | -x)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2730922,"reputation":5179,"user_id":2354735,"accept_rate":67,"display_name":"Jet Blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529531506,"creation_date":1529531506,"answer_id":50957598,"question_id":31678344,"body_markdown":"    a ^ b = c                    // XOR the inputs\r\n                                 //  If a equals b, c is zero. Else c is some other value\r\n\r\n    c[0] | c[1] ... | c[n] = d   // OR the bits\r\n                                 //  If c equals zero, d equals zero. Else d equals 1\r\n\r\nNote: `a,b,c` are n-bit integers and `d` is a bit","title":"Compare two integers using bit operator","body":"<pre><code>a ^ b = c                    // XOR the inputs\n                             //  If a equals b, c is zero. Else c is some other value\n\nc[0] | c[1] ... | c[n] = d   // OR the bits\n                             //  If c equals zero, d equals zero. Else d equals 1\n</code></pre>\n\n<p>Note: <code>a,b,c</code> are n-bit integers and <code>d</code> is a bit</p>\n"},{"tags":[],"owner":{"account_id":6982894,"reputation":48,"user_id":8371174,"display_name":"Jayanta Debnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537556835,"creation_date":1537555045,"answer_id":52449418,"question_id":31678344,"body_markdown":"The solution in java without using a comparator operator:\r\n\r\n        int a = 10;\r\n        int b = 12;\r\n        boolean[] bol = new boolean[] {true};\r\n        \r\n        try {\r\n          boolean c = bol[a ^ b];\r\n          System.out.println(&quot;The two integers are equal!&quot;);\r\n        } catch (java.lang.ArrayIndexOutOfBoundsException e) {\r\n          System.out.println(&quot;The two integers are not equal!&quot;);\r\n          int z = a - b;\r\n          int i = (z &gt;&gt; 31) &amp; 0x1;\r\n          System.out.println(&quot;The bigger integer is &quot; + (a - i * z));\r\n        }","title":"Compare two integers using bit operator","body":"<p>The solution in java without using a comparator operator:</p>\n\n<pre><code>    int a = 10;\n    int b = 12;\n    boolean[] bol = new boolean[] {true};\n\n    try {\n      boolean c = bol[a ^ b];\n      System.out.println(\"The two integers are equal!\");\n    } catch (java.lang.ArrayIndexOutOfBoundsException e) {\n      System.out.println(\"The two integers are not equal!\");\n      int z = a - b;\n      int i = (z &gt;&gt; 31) &amp; 0x1;\n      System.out.println(\"The bigger integer is \" + (a - i * z));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13877192,"reputation":100,"user_id":11842333,"display_name":"Topa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615527784,"creation_date":1615526773,"answer_id":66594638,"question_id":31678344,"body_markdown":"I am going to assume you need an integer (0 or 1) because you will need a comparison to get a boolean from integer in java.\r\n\r\nHere, is a simple solution that doesn&#39;t use comparison but uses subtraction which can actually be done using bitwise operations (but not recommended because it takes a lot of cycles in software).\r\n\r\n```java\r\n// For equality,\r\n// 1. Perform r=a^b.\r\n//    If they are equal you get all bits 0. Otherwise some bits are 1.\r\n// 2. Cast it to a larger datatype 0 to have an extra bit for sign.\r\n//    You will need to clear the high bits because of signed casting.\r\n//    You can split it into two parts if you can&#39;t cast.\r\n// 3. Perform -r.\r\n//    If all bits are 0, you will get 0.\r\n//    If some bits are not 0, then you get a negative number.\r\n// 4. Shift right to extract MSB.\r\n//    This will give -1 (because of sign extension) for not equal and 0 for equal.\r\n//    You can easily convert it to 0 and 1 by adding 1 (I didn&#39;t include it in below function).\r\nint equality(int a, int b) {\r\n    long r = ((long)(a^b)) ^0xffffffffl;\r\n    return (int)(((long)-r) &gt;&gt; 63);\r\n}\r\n\r\n// For greater_than,\r\n// 1. Cast a and b to larger datatype to get more bits.\r\n//    You can split it into two parts if you can&#39;t cast.\r\n// 2. Perform b-a.\r\n//    If a&gt;b, then negative number (MSB is 1)\r\n//    If a&lt;=b, then positive number or zero (MSB is 0)\r\n// 3. Shift right to extract MSB.\r\n//    This will give -1 (because of sign extension) for greater than and 0 for not.\r\n//    You can easily convert it to 0 and 1 by negating it (I didn&#39;t include it in below function).\r\nint greater_than(int a, int b) {\r\n    long r = (long)b-(long)a;\r\n    return (int)(r &gt;&gt; 63);\r\n}\r\n\r\n```\r\n\r\nLess than is similar to greater but you swap a and b.\r\n\r\n**Trivia: These comparison functions are actually used in security (Cryptography) because the CPU comparison is not constant-time; aka not secure against timing attacks**.\r\n","title":"Compare two integers using bit operator","body":"<p>I am going to assume you need an integer (0 or 1) because you will need a comparison to get a boolean from integer in java.</p>\n<p>Here, is a simple solution that doesn't use comparison but uses subtraction which can actually be done using bitwise operations (but not recommended because it takes a lot of cycles in software).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// For equality,\n// 1. Perform r=a^b.\n//    If they are equal you get all bits 0. Otherwise some bits are 1.\n// 2. Cast it to a larger datatype 0 to have an extra bit for sign.\n//    You will need to clear the high bits because of signed casting.\n//    You can split it into two parts if you can't cast.\n// 3. Perform -r.\n//    If all bits are 0, you will get 0.\n//    If some bits are not 0, then you get a negative number.\n// 4. Shift right to extract MSB.\n//    This will give -1 (because of sign extension) for not equal and 0 for equal.\n//    You can easily convert it to 0 and 1 by adding 1 (I didn't include it in below function).\nint equality(int a, int b) {\n    long r = ((long)(a^b)) ^0xffffffffl;\n    return (int)(((long)-r) &gt;&gt; 63);\n}\n\n// For greater_than,\n// 1. Cast a and b to larger datatype to get more bits.\n//    You can split it into two parts if you can't cast.\n// 2. Perform b-a.\n//    If a&gt;b, then negative number (MSB is 1)\n//    If a&lt;=b, then positive number or zero (MSB is 0)\n// 3. Shift right to extract MSB.\n//    This will give -1 (because of sign extension) for greater than and 0 for not.\n//    You can easily convert it to 0 and 1 by negating it (I didn't include it in below function).\nint greater_than(int a, int b) {\n    long r = (long)b-(long)a;\n    return (int)(r &gt;&gt; 63);\n}\n\n</code></pre>\n<p>Less than is similar to greater but you swap a and b.</p>\n<p><strong>Trivia: These comparison functions are actually used in security (Cryptography) because the CPU comparison is not constant-time; aka not secure against timing attacks</strong>.</p>\n"}],"owner":{"account_id":5496119,"reputation":292,"user_id":4367180,"accept_rate":62,"display_name":"Zahid Hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17281,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":31678816,"answer_count":6,"score":10,"last_activity_date":1657501692,"creation_date":1438091591,"question_id":31678344,"body_markdown":"I need to compare two integer using Bit operator. \r\nI faced a problem where I have to compare two integers without using comparison operator.Using bit operator would help.But how? \r\n\r\nLets say \r\na = 4;\r\nb = 5;\r\n\r\nWe have to show  a is not equal to b. \r\nBut,I would like to extend it further ,say,we will show which is greater.Here b is greater..","title":"Compare two integers using bit operator","body":"<p>I need to compare two integer using Bit operator. \nI faced a problem where I have to compare two integers without using comparison operator.Using bit operator would help.But how? </p>\n\n<p>Lets say \na = 4;\nb = 5;</p>\n\n<p>We have to show  a is not equal to b. \nBut,I would like to extend it further ,say,we will show which is greater.Here b is greater..</p>\n"},{"tags":["java","android","sockets","client-server","eof"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1657490640,"post_id":72932121,"comment_id":128816278,"body_markdown":"`ObjectOutputStream` is not designed for passing objects between separate runtime engines (JVM vs. Android&#39;s ART). I recommend that you use something designed more for that role (JSON, XML, protobuf, etc.).","body":"<code>ObjectOutputStream</code> is not designed for passing objects between separate runtime engines (JVM vs. Android&#39;s ART). I recommend that you use something designed more for that role (JSON, XML, protobuf, etc.)."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1657491490,"post_id":72932121,"comment_id":128816383,"body_markdown":"Your code doesn&#39;t match the exception. The exception shows EOF in `readChar()` but there is no such line in `sendFile()`, it&#39;s been commented out. Please double-check that your example and your exceptions/error correspond. Showing an exception corresponding to a different version of the code will make it very difficult to get answers.","body":"Your code doesn&#39;t match the exception. The exception shows EOF in <code>readChar()</code> but there is no such line in <code>sendFile()</code>, it&#39;s been commented out. Please double-check that your example and your exceptions/error correspond. Showing an exception corresponding to a different version of the code will make it very difficult to get answers."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1657501366,"post_id":72932121,"comment_id":128817630,"body_markdown":"`EOFException` is *not* &#39;unexpected&#39; when using `ObjectInputStream`. It is what you will get when you reach the end of stream. You need to catch it separately and treat it normally, not as an error, by closing the stream and exiting the read loop.","body":"<code>EOFException</code> is <i>not</i> &#39;unexpected&#39; when using <code>ObjectInputStream</code>. It is what you will get when you reach the end of stream. You need to catch it separately and treat it normally, not as an error, by closing the stream and exiting the read loop."}],"owner":{"account_id":20484619,"reputation":17,"user_id":15032083,"display_name":"giannismparous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657501426,"answer_count":0,"score":0,"last_activity_date":1657501508,"creation_date":1657489832,"question_id":72932121,"body_markdown":"so I&#39;m making a messenger app in Android Studio. I have basically set up a server on my pc (a program running in Java) and a client (the android code). These 2 maintain an object input stream and an object output stream. When the client&#39;s code is executed (it&#39;s an async task), it writes some things to its output stream that end up to the input stream of the server successfully every time. However, when the server attempts to write to its output stream, the messages are successfully written and flushed (I have checked that the code after that is running so there is no problem in the writing part) but when the client tries to read from the input stream it crashes. And what&#39;s weird about it is that it doesn&#39;t happen all the time, it happens randomly. No idea how to fix it, the only thing the client does is read a boolean. \r\n\r\nThe error is this:\r\n```\r\n2022-07-10 21:34:47.823 11035-11084/com.example.smartchatters W/System.err: java.io.StreamCorruptedException: unexpected EOF in middle of data block\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2692)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2855)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2777)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readFully(DataInputStream.java:198)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readChar(DataInputStream.java:365)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.readChar(ObjectInputStream.java:2937)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream.readChar(ObjectInputStream.java:995)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.sendFile(Usernode.java:255)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.run(Usernode.java:217)\r\n\r\n```\r\n\r\nServer&#39;s code (thread, the publisherBrokerHelper() is executed first and then calls the sendFiles()):\r\n```\r\n public void publisherBrokerHelper() {\r\n    \ttry {\r\n\t    \tMultimediaFile item;\r\n\t        String r = &quot;&quot;;\r\n\t    \twhile (!r.equals(&quot;send&quot;)) {\r\n\t\t\t\titem = (MultimediaFile) in.readObject();\r\n\t\t\t\tr = new String(item.FileChunk, StandardCharsets.UTF_8);\r\n\t\t        System.out.println(&quot;Command: &quot;+r);\r\n\t\t        if (r.equals(&quot;send&quot;)) {\r\n\t\t            receiveFile(item.getName(),item.getExtension(),item);\r\n\t\t        }\r\n    \t\t}\r\n    \t} catch (ClassNotFoundException e) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper ClassNotFound error in run.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Connection with client terminated unexpectedly&quot;);\r\n\t\t}\r\n    }\r\n\r\n   public void receiveFile(String fileName,String fileExtension, MultimediaFile sendMessage) {\r\n    \tString topicName=null;\r\n    \tProfileName userName=null;\r\n    \tboolean verification=false;\r\n\t\ttry {\r\n\t\t\ttopicName = (String)in.readObject();\r\n\t\t\tuserName = (ProfileName)in.readObject();\r\n\t\t\tfor (int i=0;i&lt;localTopics.size();i++) {\r\n\t    \t\tif (localTopics.get(i).getName().equals(topicName)) {\r\n\t    \t\t\tcurrentTopic=localTopics.get(i);\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t\tfor (int i=0;i&lt;currentTopic.getSubscribedUsers().size();i++) {\r\n\t    \t\tif (currentTopic.getSubscribedUsers().get(i).getUsername().equals(userName.getUsername())) {\r\n\t    \t\t\tverification=true;\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t\tSystem.out.println(&quot;WOW&quot;);\r\n\t\t\tSystem.out.println(verification);\r\n\t\t\tif (verification)out.writeChar(&#39;Y&#39;);\r\n//\t\t\telse out.writeChar(&#39;N&#39;);\r\n//\t    \tout.flush();\r\n\t\t\tout.writeBoolean(verification);\r\n\t    \tout.flush();\r\n\t    \tSystem.out.println(&quot;WOW&quot;);\r\n\t\t} catch (ClassNotFoundException e1) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper ClassNotFound error in topic name fetch.&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IOException e1) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper IO error error in topic name fetch.&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n.\r\n.\r\n.\r\n}\r\n\r\n\r\n```\r\n\r\nClient&#39;s code (Async thread):\r\n```\r\n public void sendFile() {\r\n            try {\r\n                MultimediaFile item;\r\n                File file=null;\r\n                if (fileExtension!=null){\r\n                    file = new File(fileName+&quot;.&quot;+fileExtension);\r\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), &quot;send&quot;.length()+1,0);\r\n                }\r\n                else {\r\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, 0, &quot;send&quot;.length()+1,0);\r\n                }\r\n                item.FileChunk = &quot;send&quot;.getBytes(StandardCharsets.UTF_8);\r\n                out.writeObject(item);\r\n                out.flush();\r\n                out.writeObject(topicName);\r\n                out.flush();\r\n                out.writeObject(user);\r\n                out.flush();\r\n                System.out.println(&quot;in&quot;+in);\r\n                System.out.println(&quot;WOW&quot;);\r\n//                System.out.println(in.readChar());\r\n//                boolean verification;\r\n//                verification= in.readChar() == &#39;Y&#39;;\r\n                boolean verification=in.readBoolean();\r\n                if (!verification) {\r\n                    //System.out.println(&quot;Seems like you are trying to push in a topic that you don&#39;t belong&quot;);\r\n                    return;\r\n                }\r\n                if (fileExtension!=null) {\r\n                    InputStream FileStream = new FileInputStream(file);\r\n                    int count=1;\r\n                    item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count);\r\n                    while ((FileStream.read(item.FileChunk)) &gt; 0) {\r\n                        out.writeObject(item);\r\n                        out.flush();\r\n                        //System.out.println(&quot;Publisher sent &quot;+item.getChunkId()+&quot; chunk of file :&quot;+ item.getName()+&quot;.&quot;+item.getExtension());\r\n                        item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count+1);\r\n                        count++;\r\n                    }\r\n                    FileStream.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;UserNode IO error in sendFile.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n```\r\n","title":"Unexpected EOF exception when reading from ObjectInputStream","body":"<p>so I'm making a messenger app in Android Studio. I have basically set up a server on my pc (a program running in Java) and a client (the android code). These 2 maintain an object input stream and an object output stream. When the client's code is executed (it's an async task), it writes some things to its output stream that end up to the input stream of the server successfully every time. However, when the server attempts to write to its output stream, the messages are successfully written and flushed (I have checked that the code after that is running so there is no problem in the writing part) but when the client tries to read from the input stream it crashes. And what's weird about it is that it doesn't happen all the time, it happens randomly. No idea how to fix it, the only thing the client does is read a boolean.</p>\n<p>The error is this:</p>\n<pre><code>2022-07-10 21:34:47.823 11035-11084/com.example.smartchatters W/System.err: java.io.StreamCorruptedException: unexpected EOF in middle of data block\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2692)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2855)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2777)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readFully(DataInputStream.java:198)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readChar(DataInputStream.java:365)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.readChar(ObjectInputStream.java:2937)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream.readChar(ObjectInputStream.java:995)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.sendFile(Usernode.java:255)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.run(Usernode.java:217)\n\n</code></pre>\n<p>Server's code (thread, the publisherBrokerHelper() is executed first and then calls the sendFiles()):</p>\n<pre><code> public void publisherBrokerHelper() {\n        try {\n            MultimediaFile item;\n            String r = &quot;&quot;;\n            while (!r.equals(&quot;send&quot;)) {\n                item = (MultimediaFile) in.readObject();\n                r = new String(item.FileChunk, StandardCharsets.UTF_8);\n                System.out.println(&quot;Command: &quot;+r);\n                if (r.equals(&quot;send&quot;)) {\n                    receiveFile(item.getName(),item.getExtension(),item);\n                }\n            }\n        } catch (ClassNotFoundException e) {\n            System.err.println(&quot;PublisherBrokerHelper ClassNotFound error in run.&quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.err.println(&quot;Connection with client terminated unexpectedly&quot;);\n        }\n    }\n\n   public void receiveFile(String fileName,String fileExtension, MultimediaFile sendMessage) {\n        String topicName=null;\n        ProfileName userName=null;\n        boolean verification=false;\n        try {\n            topicName = (String)in.readObject();\n            userName = (ProfileName)in.readObject();\n            for (int i=0;i&lt;localTopics.size();i++) {\n                if (localTopics.get(i).getName().equals(topicName)) {\n                    currentTopic=localTopics.get(i);\n                    break;\n                }\n            }\n            for (int i=0;i&lt;currentTopic.getSubscribedUsers().size();i++) {\n                if (currentTopic.getSubscribedUsers().get(i).getUsername().equals(userName.getUsername())) {\n                    verification=true;\n                    break;\n                }\n            }\n            System.out.println(&quot;WOW&quot;);\n            System.out.println(verification);\n            if (verification)out.writeChar('Y');\n//          else out.writeChar('N');\n//          out.flush();\n            out.writeBoolean(verification);\n            out.flush();\n            System.out.println(&quot;WOW&quot;);\n        } catch (ClassNotFoundException e1) {\n            System.err.println(&quot;PublisherBrokerHelper ClassNotFound error in topic name fetch.&quot;);\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            System.err.println(&quot;PublisherBrokerHelper IO error error in topic name fetch.&quot;);\n            e1.printStackTrace();\n        }\n.\n.\n.\n}\n\n\n</code></pre>\n<p>Client's code (Async thread):</p>\n<pre><code> public void sendFile() {\n            try {\n                MultimediaFile item;\n                File file=null;\n                if (fileExtension!=null){\n                    file = new File(fileName+&quot;.&quot;+fileExtension);\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), &quot;send&quot;.length()+1,0);\n                }\n                else {\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, 0, &quot;send&quot;.length()+1,0);\n                }\n                item.FileChunk = &quot;send&quot;.getBytes(StandardCharsets.UTF_8);\n                out.writeObject(item);\n                out.flush();\n                out.writeObject(topicName);\n                out.flush();\n                out.writeObject(user);\n                out.flush();\n                System.out.println(&quot;in&quot;+in);\n                System.out.println(&quot;WOW&quot;);\n//                System.out.println(in.readChar());\n//                boolean verification;\n//                verification= in.readChar() == 'Y';\n                boolean verification=in.readBoolean();\n                if (!verification) {\n                    //System.out.println(&quot;Seems like you are trying to push in a topic that you don't belong&quot;);\n                    return;\n                }\n                if (fileExtension!=null) {\n                    InputStream FileStream = new FileInputStream(file);\n                    int count=1;\n                    item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count);\n                    while ((FileStream.read(item.FileChunk)) &gt; 0) {\n                        out.writeObject(item);\n                        out.flush();\n                        //System.out.println(&quot;Publisher sent &quot;+item.getChunkId()+&quot; chunk of file :&quot;+ item.getName()+&quot;.&quot;+item.getExtension());\n                        item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count+1);\n                        count++;\n                    }\n                    FileStream.close();\n                }\n            } catch (IOException e) {\n                System.err.println(&quot;UserNode IO error in sendFile.&quot;);\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java","encryption","public-key-encryption","private-key","ecdh"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1657502834,"post_id":72932840,"comment_id":128817784,"body_markdown":"I created an example using your code and it ran just fine. Most likely your are somehow corrupting the base64 strings after they are created but before they make it into your `generateXYZ` methods.","body":"I created an example using your code and it ran just fine. Most likely your are somehow corrupting the base64 strings after they are created but before they make it into your <code>generateXYZ</code> methods."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657504091,"post_id":72932840,"comment_id":128817923,"body_markdown":"@PresidentJamesK.Polk Did you attempt to run the methods: generatePrivateECDHKeyFromBase64(privKeyString); and generatePublicECDHKeyFromBase64(pubKeyString );? That should give the errors I am talking about :). If the Base64 was corrupted, my exception should be triggering when I attempt to decode the base64, but it seems to corrupt at the kf.generatePrivate(X509publicKey) lines.","body":"@PresidentJamesK.Polk Did you attempt to run the methods: generatePrivateECDHKeyFromBase64(privKeyString); and generatePublicECDHKeyFromBase64(pubKeyString );? That should give the errors I am talking about :). If the Base64 was corrupted, my exception should be triggering when I attempt to decode the base64, but it seems to corrupt at the kf.generatePrivate(X509publicKey) lines."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1657518053,"post_id":72932840,"comment_id":128819798,"body_markdown":"Corruption of base64 does NOT always cause decoding to fail. Check your data. I agree with (ex)Prez Jimmy this works with correct data. PS: calling base64 &#39;encrypted&#39; is false and may harmfully deceive people, though the compiler and JVM ignore it.","body":"Corruption of base64 does NOT always cause decoding to fail. Check your data. I agree with (ex)Prez Jimmy this works with correct data. PS: calling base64 &#39;encrypted&#39; is false and may harmfully deceive people, though the compiler and JVM ignore it."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657519163,"post_id":72932840,"comment_id":128820017,"body_markdown":"Interesting, ill give it a shot shortly, thanks!","body":"Interesting, ill give it a shot shortly, thanks!"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657501162,"creation_date":1657501162,"question_id":72932840,"body_markdown":"I am trying to turn a Base64 public and private ECDH key back into the `PublicKey` and `PrivateKey` type. I generate my serialized keys like this:\r\n\r\n\t\t\tKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n\t\t\tECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(secp256r1);\r\n\t\t\tkeyPairGenerator.initialize(ecParameterSpec);\r\n\t\t\tKeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\r\n\t\t\tPrivateKey privateKey = ecdhKeyPair.getPrivate();\r\n\t\t\tPublicKey publicKey = ecdhKeyPair.getPublic();\r\n\r\n\t\t\tString pubKeyString = Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n\t\t\tString privKeyString = Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\n\r\n\r\n\r\nHowever, my methods to turn the base64 serialized key back to their `PublicKey` and `PrivateKey` formats throw some exceptions. Here are the methods I wrote to do those conversions:\r\n\r\n    private static PublicKey generatePublicECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\r\n    \tbyte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\r\n    \tX509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(decodedKey);\r\n    \tKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    \r\n    \treturn kf.generatePublic(X509publicKey);\r\n    }\r\n    \r\n    private static PrivateKey generatePrivateECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\r\n    \tbyte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\r\n    \tPKCS8EncodedKeySpec X509publicKey = new PKCS8EncodedKeySpec(decodedKey);\r\n    \tKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    \r\n    \treturn kf.generatePrivate(X509publicKey);\r\n    }\r\n\r\n\r\n\r\nThe exception I get thrown looks like this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat com.vendify.temp.temp(temp.java:43)\r\n    \tat com.vendify.BackendDbApplication.main(BackendDbApplication.java:9)\r\n    Caused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\r\n    \tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\r\n    \tat com.vendify.temp.generatePrivateECDHKeyFromBase64(temp.java:60)\r\n    \tat com.vendify.temp.temp(temp.java:33)\r\n    \t... 1 more\r\n    Caused by: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\r\n    \tat java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\r\n    \t... 4 more\r\n\r\n\r\nI am a bit new to this, always just used the basic classes haha, so sorry for the super basic question. I would love to hear the solutions you guys got for this :)","title":"Java ECDH Base64 Serialization Consumption","body":"<p>I am trying to turn a Base64 public and private ECDH key back into the <code>PublicKey</code> and <code>PrivateKey</code> type. I generate my serialized keys like this:</p>\n<pre><code>        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\n        ECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(secp256r1);\n        keyPairGenerator.initialize(ecParameterSpec);\n        KeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\n        PrivateKey privateKey = ecdhKeyPair.getPrivate();\n        PublicKey publicKey = ecdhKeyPair.getPublic();\n\n        String pubKeyString = Base64.getEncoder().encodeToString(publicKey.getEncoded());\n        String privKeyString = Base64.getEncoder().encodeToString(privateKey.getEncoded());\n</code></pre>\n<p>However, my methods to turn the base64 serialized key back to their <code>PublicKey</code> and <code>PrivateKey</code> formats throw some exceptions. Here are the methods I wrote to do those conversions:</p>\n<pre><code>private static PublicKey generatePublicECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\n    byte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\n    X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(decodedKey);\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n\n    return kf.generatePublic(X509publicKey);\n}\n\nprivate static PrivateKey generatePrivateECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\n    byte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\n    PKCS8EncodedKeySpec X509publicKey = new PKCS8EncodedKeySpec(decodedKey);\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n\n    return kf.generatePrivate(X509publicKey);\n}\n</code></pre>\n<p>The exception I get thrown looks like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at com.vendify.temp.temp(temp.java:43)\n    at com.vendify.BackendDbApplication.main(BackendDbApplication.java:9)\nCaused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\n    at com.vendify.temp.generatePrivateECDHKeyFromBase64(temp.java:60)\n    at com.vendify.temp.temp(temp.java:33)\n    ... 1 more\nCaused by: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\n    at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\n    at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\n    ... 4 more\n</code></pre>\n<p>I am a bit new to this, always just used the basic classes haha, so sorry for the super basic question. I would love to hear the solutions you guys got for this :)</p>\n"},{"tags":["java","list","jdbc","resultset"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654679857,"post_id":72541900,"comment_id":128146246,"body_markdown":"Please provide a [mre] that includes the query and table structure you&#39;re querying, example data, and the problem your current code has with extracting the information you want.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes the query and table structure you&#39;re querying, example data, and the problem your current code has with extracting the information you want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1654688823,"post_id":72541900,"comment_id":128149706,"body_markdown":"*//Tried the below* Why? All you need is `return p;`","body":"<i>//Tried the below</i> Why? All you need is <code>return p;</code>"}],"answers":[{"tags":[],"owner":{"account_id":8332915,"reputation":89,"user_id":6260817,"display_name":"Fakhar uddin Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654675170,"creation_date":1654675170,"answer_id":72542088,"question_id":72541900,"body_markdown":"You cannot parse the whole array-list from resultset at once. you have to iterate through the resultset and put each record in your arraylist one by one. for example,\r\n\r\n    while(resultset.next()) {\r\n        siblings.add(new person(resultset.getString(&quot;firstName&quot;), resultset.getString(&quot;lastName&quot;)));\r\n    }","title":"extracting list from result set","body":"<p>You cannot parse the whole array-list from resultset at once. you have to iterate through the resultset and put each record in your arraylist one by one. for example,</p>\n<pre><code>while(resultset.next()) {\n    siblings.add(new person(resultset.getString(&quot;firstName&quot;), resultset.getString(&quot;lastName&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25207219,"reputation":1,"user_id":19045376,"display_name":"Evan Kirsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657500083,"creation_date":1657500083,"answer_id":72932789,"question_id":72541900,"body_markdown":"The jdbc won&#39;t allow the SQL type of `&quot;siblings&quot;` to be returned as an ArrayList java type. You should consult the documentation for your JDBC&#39;s valid return types for `&quot;siblings&quot;`. For example this is [Microsoft&#39;s documentation for the JDBC 4.0 on SQL server 2016&#39;s default return types][1]\r\n\r\nAssuming siblings is a numeric type, you could do:\r\n\r\n     Integer siblings = rs.getObject(&quot;siblings&quot;, Integer.class);\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-2016","title":"extracting list from result set","body":"<p>The jdbc won't allow the SQL type of <code>&quot;siblings&quot;</code> to be returned as an ArrayList java type. You should consult the documentation for your JDBC's valid return types for <code>&quot;siblings&quot;</code>. For example this is <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-2016\" rel=\"nofollow noreferrer\">Microsoft's documentation for the JDBC 4.0 on SQL server 2016's default return types</a></p>\n<p>Assuming siblings is a numeric type, you could do:</p>\n<pre><code> Integer siblings = rs.getObject(&quot;siblings&quot;, Integer.class);\n</code></pre>\n"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1657500083,"creation_date":1654674454,"question_id":72541900,"body_markdown":"I have a query running and I have the result in a `ResultSet`. I am trying to parse the result set to extract the information to a list.\r\n\r\n```java\r\nstatic List&lt;Person&gt; parsePeople(ResultSet rs) throws SQLException {\r\n\tList&lt;Person&gt; people = new ArrayList&lt;Offer&gt;();\r\n\twhile(rs.next()) {\r\n\t\tpeople.add(parsePerson(rs));\r\n\t}\r\n\treturn people;\r\n}\r\n\r\nstatic Person parsePerson(ResultSet rs) throws SQLException {\r\n\tPerson p= new Person();\r\n\tp.setFirstName(rs.getString(&quot;firstName&quot;));\t\t\r\n\tp.setLastName(rs.getString(&quot;lastName&quot;));\r\n\r\n    //Extracting the list for number of siblings gives an error\r\n\r\n\t//Tried the below\r\n     List&lt;Integer&gt;siblings= (List&lt;Integer&gt;) rs.getObject(&quot;siblings&quot;,ArrayList.class); //Fail\r\n\t\t\r\n\treturn p;\r\n}\r\n\r\nClass Person{\r\n    String firstName;\r\n    String lastName;\r\n    List&lt;Integer&gt; numberOfSiblings;\r\n}\r\n```\r\nHow to extract the list from the result set?\r\n\t\r\n","title":"extracting list from result set","body":"<p>I have a query running and I have the result in a <code>ResultSet</code>. I am trying to parse the result set to extract the information to a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Person&gt; parsePeople(ResultSet rs) throws SQLException {\n    List&lt;Person&gt; people = new ArrayList&lt;Offer&gt;();\n    while(rs.next()) {\n        people.add(parsePerson(rs));\n    }\n    return people;\n}\n\nstatic Person parsePerson(ResultSet rs) throws SQLException {\n    Person p= new Person();\n    p.setFirstName(rs.getString(&quot;firstName&quot;));      \n    p.setLastName(rs.getString(&quot;lastName&quot;));\n\n    //Extracting the list for number of siblings gives an error\n\n    //Tried the below\n     List&lt;Integer&gt;siblings= (List&lt;Integer&gt;) rs.getObject(&quot;siblings&quot;,ArrayList.class); //Fail\n        \n    return p;\n}\n\nClass Person{\n    String firstName;\n    String lastName;\n    List&lt;Integer&gt; numberOfSiblings;\n}\n</code></pre>\n<p>How to extract the list from the result set?</p>\n"},{"tags":["java","html","pdf","itext","flying-saucer"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":1,"creation_date":1535415674,"post_id":52048444,"comment_id":91047741,"body_markdown":"What does the pdf look like if you use iText 7 + pdfHTML?","body":"What does the pdf look like if you use iText 7 + pdfHTML?"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1535438060,"post_id":52048444,"comment_id":91053116,"body_markdown":"@AmedeeVanGasse I&#39;m not sure if we already support check boxes, but I&#39;m sure it&#39;s on the roadmap. If we do already support them, then please ask someone to update the FAQ entry [Can I convert an HTML form to a PDF?](https://developers.itextpdf.com/content/itext-7-converting-html-pdf-pdfhtml/chapter-7-frequently-asked-questions-about-pdfhtml/can-i-convert-html-form-pdf)","body":"@AmedeeVanGasse I&#39;m not sure if we already support check boxes, but I&#39;m sure it&#39;s on the roadmap. If we do already support them, then please ask someone to update the FAQ entry <a href=\"https://developers.itextpdf.com/content/itext-7-converting-html-pdf-pdfhtml/chapter-7-frequently-asked-questions-about-pdfhtml/can-i-convert-html-form-pdf\" rel=\"nofollow noreferrer\">Can I convert an HTML form to a PDF?</a>"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1535438423,"post_id":52048444,"comment_id":91053296,"body_markdown":"Is that IText7 Community? Is it in Maven repo? I only see Core in Maven which looks like the commercial one? (Using Gradle) Is it this https://mvnrepository.com/artifact/com.itextpdf/root and this https://mvnrepository.com/artifact/com.itextpdf/html2pdf ?","body":"Is that IText7 Community? Is it in Maven repo? I only see Core in Maven which looks like the commercial one? (Using Gradle) Is it this <a href=\"https://mvnrepository.com/artifact/com.itextpdf/root\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/root</a> and this <a href=\"https://mvnrepository.com/artifact/com.itextpdf/html2pdf\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/html2pdf</a> ?"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1535440283,"post_id":52048444,"comment_id":91054232,"body_markdown":"Core and Community are exactly the same code-wise. The only difference is the license.","body":"Core and Community are exactly the same code-wise. The only difference is the license."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1535442308,"post_id":52048444,"comment_id":91055405,"body_markdown":"Thanks. Are those links correct?","body":"Thanks. Are those links correct?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1536013254,"post_id":52048444,"comment_id":91263712,"body_markdown":"Thanks. So is t root and html2pdf that I need?","body":"Thanks. So is t root and html2pdf that I need?"},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":0,"creation_date":1657451795,"post_id":52048444,"comment_id":128808890,"body_markdown":"@AlGrant did you end up solving this? I too have just started rendering HTML with Boostrap CSS to PDFs via Flying Saucer and I&#39;m also seeing the clipping on the right hand edge.","body":"@AlGrant did you end up solving this? I too have just started rendering HTML with Boostrap CSS to PDFs via Flying Saucer and I&#39;m also seeing the clipping on the right hand edge."}],"answers":[{"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657496102,"creation_date":1657496102,"answer_id":72932549,"question_id":52048444,"body_markdown":"I had a similar problem when using Bootstrap 4.x. It seems you are using Bootstrap 4 as well:\r\n\r\n    https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\r\n\r\nMy &quot;clipped on right&quot; problem went away when I switched to Bootstrap 3.x.\r\n\r\nMost likely cause:\r\n\r\nFlying Saucer does not support &#39;Flex&#39;. Bootstrap 4.x uses Flex. Bootstrap 3 does not.\r\n\r\nFor me at least, everything worked perfectly when converting HTML to PDF when I switched to Bootstrap 3.x.","title":"Flying Saucer not rendering PDF","body":"<p>I had a similar problem when using Bootstrap 4.x. It seems you are using Bootstrap 4 as well:</p>\n<pre><code>https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\n</code></pre>\n<p>My &quot;clipped on right&quot; problem went away when I switched to Bootstrap 3.x.</p>\n<p>Most likely cause:</p>\n<p>Flying Saucer does not support 'Flex'. Bootstrap 4.x uses Flex. Bootstrap 3 does not.</p>\n<p>For me at least, everything worked perfectly when converting HTML to PDF when I switched to Bootstrap 3.x.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657496102,"creation_date":1535415182,"question_id":52048444,"body_markdown":"I am converting HTML form to PDF with Flying-Saucer but the PDF output doesn&#39;t have all the formatting (CSS &amp; Bootstrap Applied). It is also clipping the side of the page.\r\n\r\n&gt; The form rendered in HTML looks like:\r\n\r\n[![HTML][1]][1]\r\n\r\n&gt; But the PDF comes out as:\r\n\r\n[![PDF][2]][2]\r\n\r\nFrom the above it looks like its getting the panes with rounded edges, but no colors, so I presume its lacking the css.\r\n\r\nThe HTML relies on a external css file, boostrap css, and bootswatch css theme. So the css references in the html are:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/assessment.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css&quot;&gt;\r\n\r\nThe java to generate the PDF using Flying Saucer is:\r\n\r\n        @Qualifier(&quot;templateEngine&quot;)\r\n    @Autowired\r\n    private TemplateEngine templateEngine;\r\n    public void createPdf(String templateName, Map map) throws Exception {\r\n        Assert.notNull(templateName, &quot;The templateName can not be null&quot;);\r\n        Context ctx = new Context();\r\n        if (map != null) {\r\n            Iterator itMap = map.entrySet().iterator();\r\n            while (itMap.hasNext()) {\r\n                Map.Entry pair = (Map.Entry) itMap.next();\r\n                ctx.setVariable(pair.getKey().toString(), pair.getValue());\r\n            }\r\n        }\r\n\r\n        String processedHtml = templateEngine.process(templateName, ctx);\r\n        FileOutputStream os = null;\r\n        //String fileName = UUID.randomUUID().toString();\r\n        String fileName = &quot;Assessment.pdf&quot;;\r\n        try {\r\n            final File outputFile = File.createTempFile(fileName, &quot;.pdf&quot;);\r\n            os = new FileOutputStream(outputFile);\r\n\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.getSharedContext().getUserAgentCallback().setBaseURL(&quot;/resources/static/css&quot;);\r\n            renderer.setDocumentFromString(processedHtml);\r\n            renderer.layout();\r\n            renderer.createPDF(os, false);\r\n            renderer.finishPDF();\r\n\r\nI am not entirely sure that this path is correct:\r\n\r\n    renderer.getSharedContext().getUserAgentCallback().setBaseURL(&quot;/resources/static/css&quot;);\r\n\r\nFinally the project structure looks like:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/zcBlO.jpg\r\n  [2]: https://i.stack.imgur.com/umKAl.jpg\r\n  [3]: https://i.stack.imgur.com/jfIE3.jpg","title":"Flying Saucer not rendering PDF","body":"<p>I am converting HTML form to PDF with Flying-Saucer but the PDF output doesn't have all the formatting (CSS &amp; Bootstrap Applied). It is also clipping the side of the page.</p>\n\n<blockquote>\n  <p>The form rendered in HTML looks like:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/zcBlO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcBlO.jpg\" alt=\"HTML\"></a></p>\n\n<blockquote>\n  <p>But the PDF comes out as:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/umKAl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umKAl.jpg\" alt=\"PDF\"></a></p>\n\n<p>From the above it looks like its getting the panes with rounded edges, but no colors, so I presume its lacking the css.</p>\n\n<p>The HTML relies on a external css file, boostrap css, and bootswatch css theme. So the css references in the html are:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/assessment.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" integrity=\"sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB\" crossorigin=\"anonymous\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css\"&gt;\n</code></pre>\n\n<p>The java to generate the PDF using Flying Saucer is:</p>\n\n<pre><code>    @Qualifier(\"templateEngine\")\n@Autowired\nprivate TemplateEngine templateEngine;\npublic void createPdf(String templateName, Map map) throws Exception {\n    Assert.notNull(templateName, \"The templateName can not be null\");\n    Context ctx = new Context();\n    if (map != null) {\n        Iterator itMap = map.entrySet().iterator();\n        while (itMap.hasNext()) {\n            Map.Entry pair = (Map.Entry) itMap.next();\n            ctx.setVariable(pair.getKey().toString(), pair.getValue());\n        }\n    }\n\n    String processedHtml = templateEngine.process(templateName, ctx);\n    FileOutputStream os = null;\n    //String fileName = UUID.randomUUID().toString();\n    String fileName = \"Assessment.pdf\";\n    try {\n        final File outputFile = File.createTempFile(fileName, \".pdf\");\n        os = new FileOutputStream(outputFile);\n\n        ITextRenderer renderer = new ITextRenderer();\n        renderer.getSharedContext().getUserAgentCallback().setBaseURL(\"/resources/static/css\");\n        renderer.setDocumentFromString(processedHtml);\n        renderer.layout();\n        renderer.createPDF(os, false);\n        renderer.finishPDF();\n</code></pre>\n\n<p>I am not entirely sure that this path is correct:</p>\n\n<pre><code>renderer.getSharedContext().getUserAgentCallback().setBaseURL(\"/resources/static/css\");\n</code></pre>\n\n<p>Finally the project structure looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfIE3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfIE3.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657495798,"creation_date":1657495798,"answer_id":72932522,"question_id":72932249,"body_markdown":"It seems that thymeleaf did not passed the returned value from `__${user.getUsername()}__` as a string. Single quote marks are needed because after the first pass in thymeleaf the result of `${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;` will be `${challenge.isSolvedBy(&lt;result&gt;)}`. I don&#39;t know why it passed it as null and did not throw an error. The correct expression should include `&#39;` around the expression that needs to be passed as a string, because when writing the preprocessing statement like this `${challenge.isSolvedBy(&#39;__${user.getUsername()}__&#39;)}` the result after the first thymeleaf pass will be `${challenge.isSolvedBy(&#39;&lt;result&#39;)}` and thus thymeleaf will pass the result as a string to the method.","title":"Thymeleaf preprocessing returns null when calling an entity get method","body":"<p>It seems that thymeleaf did not passed the returned value from <code>__${user.getUsername()}__</code> as a string. Single quote marks are needed because after the first pass in thymeleaf the result of <code>${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;</code> will be <code>${challenge.isSolvedBy(&lt;result&gt;)}</code>. I don't know why it passed it as null and did not throw an error. The correct expression should include <code>'</code> around the expression that needs to be passed as a string, because when writing the preprocessing statement like this <code>${challenge.isSolvedBy('__${user.getUsername()}__')}</code> the result after the first thymeleaf pass will be <code>${challenge.isSolvedBy('&lt;result')}</code> and thus thymeleaf will pass the result as a string to the method.</p>\n"}],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932522,"answer_count":1,"score":0,"last_activity_date":1657495798,"creation_date":1657491548,"question_id":72932249,"body_markdown":"I&#39;m using preprocessing in thymeleaf to append a class in `&lt;i&gt;` based on whether the user solved a challenge or not. I&#39;m using a method `isSolvedBy` that takes a username string to check if the user solved the challenge. In the template, the username string is passed via calling another method `getUsername` that returns the username of the logged-in user. When calling `getUsername()`\r\n method it passes a null value to the caller function.\r\n\r\nController snippet:\r\n```\r\nmodel.addAttribute(&quot;user&quot;, user.get());\r\nmodel.addAttribute(&quot;score&quot;, user.get().getScore());\r\nmodel.addAttribute(&quot;rank&quot;, user.get().getUserRank());\r\n\r\nmodel.addAttribute(&quot;challenges&quot;, challengeList);\r\n\r\nString challengesNumber = Integer.toString(challengeList.size());\r\nmodel.addAttribute(&quot;challengesNumber&quot;, challengesNumber);\r\n\r\nreturn &quot;challenges&quot;;\r\n```\r\nchallenges view snippet:\r\n\r\n```\r\n&lt;a th:each=&quot;challenge: ${challenges}&quot; th:href=&quot;@{/challenge(id=${challenge.challengeId})}&quot; class=&quot;challenge-card white-text&quot; style=&quot;text-decoration: none&quot;&gt;\r\n    &lt;h3 style=&quot;margin-top: 5px;&quot; th:text=&quot;${challenge.challengeTitle}&quot; class=&quot;golden-text&quot;&gt;&lt;/h3&gt;\r\n    &lt;i th:classappend=&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;&gt;&lt;/i&gt;  &lt;!-- here is the preprocessing  --&gt;\r\n    &lt;div&gt;\r\n        &lt;h4 class=&quot;card-info&quot;&gt;Points: &lt;span class=&quot;golden-text&quot; th:text=&quot;${challenge.challengeScore}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\r\n        &lt;h4 class=&quot;card-info&quot;&gt;Level: &lt;span class=&quot;&quot; th:text=&quot;${challenge.level}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\r\n    &lt;/div&gt;\r\n&lt;/a&gt;\r\n```\r\n\r\nThis is the challenge.isSolvedBy method:\r\n```\r\n    public String isSolvedBy(String username)\r\n    {\r\n        System.out.println(username);       // this prints null\r\n\r\n        return &quot;solved-challenge&quot;;      // temporary return value\r\n    }\r\n```\r\n\r\nThis user.getUsername() method:\r\n```\r\n    public String getUsername() {\r\n        System.out.println(username);   // this prints the username value when called by thymeleaf\r\n        \r\n        return username;\r\n    }\r\n```\r\n\r\nWhen the controller is called everything works fine and the preprocessing statement `&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;` is executed without any errors but it passes a null value to `challenge.isSolvedBy()` method even though `user.getUsername()` will actually prints the actual username when it is called.\r\nHere is the actual output:\r\n\r\n```\r\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-07-11 01:09:07.366  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\nyousef [printed from getUsername method]\r\nnull [printed from isSolvedBy method]\r\nyousef [printed from getUsername method]\r\nnull [printed from isSolvedBy method]\r\n``` \r\n\r\nI&#39;m still learning spring MVC and Thymeleaf, so clearly I missed something but I can&#39;t figure what it is. \r\n\r\nAnyone know what is the problem?\r\n\r\nThanks in advance. \r\n","title":"Thymeleaf preprocessing returns null when calling an entity get method","body":"<p>I'm using preprocessing in thymeleaf to append a class in <code>&lt;i&gt;</code> based on whether the user solved a challenge or not. I'm using a method <code>isSolvedBy</code> that takes a username string to check if the user solved the challenge. In the template, the username string is passed via calling another method <code>getUsername</code> that returns the username of the logged-in user. When calling <code>getUsername()</code>\nmethod it passes a null value to the caller function.</p>\n<p>Controller snippet:</p>\n<pre><code>model.addAttribute(&quot;user&quot;, user.get());\nmodel.addAttribute(&quot;score&quot;, user.get().getScore());\nmodel.addAttribute(&quot;rank&quot;, user.get().getUserRank());\n\nmodel.addAttribute(&quot;challenges&quot;, challengeList);\n\nString challengesNumber = Integer.toString(challengeList.size());\nmodel.addAttribute(&quot;challengesNumber&quot;, challengesNumber);\n\nreturn &quot;challenges&quot;;\n</code></pre>\n<p>challenges view snippet:</p>\n<pre><code>&lt;a th:each=&quot;challenge: ${challenges}&quot; th:href=&quot;@{/challenge(id=${challenge.challengeId})}&quot; class=&quot;challenge-card white-text&quot; style=&quot;text-decoration: none&quot;&gt;\n    &lt;h3 style=&quot;margin-top: 5px;&quot; th:text=&quot;${challenge.challengeTitle}&quot; class=&quot;golden-text&quot;&gt;&lt;/h3&gt;\n    &lt;i th:classappend=&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;&gt;&lt;/i&gt;  &lt;!-- here is the preprocessing  --&gt;\n    &lt;div&gt;\n        &lt;h4 class=&quot;card-info&quot;&gt;Points: &lt;span class=&quot;golden-text&quot; th:text=&quot;${challenge.challengeScore}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n        &lt;h4 class=&quot;card-info&quot;&gt;Level: &lt;span class=&quot;&quot; th:text=&quot;${challenge.level}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n    &lt;/div&gt;\n&lt;/a&gt;\n</code></pre>\n<p>This is the challenge.isSolvedBy method:</p>\n<pre><code>    public String isSolvedBy(String username)\n    {\n        System.out.println(username);       // this prints null\n\n        return &quot;solved-challenge&quot;;      // temporary return value\n    }\n</code></pre>\n<p>This user.getUsername() method:</p>\n<pre><code>    public String getUsername() {\n        System.out.println(username);   // this prints the username value when called by thymeleaf\n        \n        return username;\n    }\n</code></pre>\n<p>When the controller is called everything works fine and the preprocessing statement <code>&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;</code> is executed without any errors but it passes a null value to <code>challenge.isSolvedBy()</code> method even though <code>user.getUsername()</code> will actually prints the actual username when it is called.\nHere is the actual output:</p>\n<pre><code>2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-07-11 01:09:07.366  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nyousef [printed from getUsername method]\nnull [printed from isSolvedBy method]\nyousef [printed from getUsername method]\nnull [printed from isSolvedBy method]\n</code></pre>\n<p>I'm still learning spring MVC and Thymeleaf, so clearly I missed something but I can't figure what it is.</p>\n<p>Anyone know what is the problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","testing","junit","junit5","suite"],"comments":[{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1591017941,"post_id":62132699,"comment_id":109889366,"body_markdown":"Looks like a limitation of the API to me","body":"Looks like a limitation of the API to me"}],"answers":[{"tags":[],"owner":{"account_id":268524,"reputation":571,"user_id":557331,"display_name":"Anant Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657495539,"creation_date":1657495539,"answer_id":72932499,"question_id":62132699,"body_markdown":"I was experiencing same issue. I had several files and in my case when i do run as suite some of them would be included and other would not. It was pretty frustrating as I can run them fine individually. \r\n\r\nIt turned out the one that were not included were those whose name did not end with Test. For example, ClassA wouldn&#39;t be added but once i renamed to  ClassATest it got added when running as suite package feature.  ","title":"JUnit5 Test Suite doesn&#39;t test all classes from a package","body":"<p>I was experiencing same issue. I had several files and in my case when i do run as suite some of them would be included and other would not. It was pretty frustrating as I can run them fine individually.</p>\n<p>It turned out the one that were not included were those whose name did not end with Test. For example, ClassA wouldn't be added but once i renamed to  ClassATest it got added when running as suite package feature.</p>\n"}],"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657495539,"creation_date":1591016106,"question_id":62132699,"body_markdown":"I&#39;ve got a Suite class as follows:\r\n```\r\npackage test.suite;\r\n\r\nimport org.junit.platform.runner.JUnitPlatform;\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.SuiteDisplayName;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(JUnitPlatform.class)\r\n@SuiteDisplayName(&quot;JUnit Platform Suite Demo&quot;)\r\n@SelectPackages(&quot;test&quot;)\r\npublic class Suite {\r\n\r\n}\r\n```\r\nAnd two identical test classes (they differ only by their name at the moment) in the same package called test:\r\n```\r\npackage test;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class testClass1 {\r\n\r\n    @Test\r\n    void mainA() {\r\n        assertTrue(42==42);\r\n    }\r\n```\r\nWhen I hit run on &#39;Suite&#39;, only testClass1 will be tested and testClass2 is left out. What am I missing? \r\n\r\nThe Suite should test classes even recursively from other subpackages in the given package if I&#39;m not mistaken.\r\n\r\n--EDIT:\r\nInitially I created two test classes for the same class, and the second test class gets ignored. If I add a third test class in the package, but this time for a separate class, that will get tested as expected.\r\n","title":"JUnit5 Test Suite doesn&#39;t test all classes from a package","body":"<p>I've got a Suite class as follows:</p>\n\n<pre><code>package test.suite;\n\nimport org.junit.platform.runner.JUnitPlatform;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.SuiteDisplayName;\nimport org.junit.runner.RunWith;\n\n@RunWith(JUnitPlatform.class)\n@SuiteDisplayName(\"JUnit Platform Suite Demo\")\n@SelectPackages(\"test\")\npublic class Suite {\n\n}\n</code></pre>\n\n<p>And two identical test classes (they differ only by their name at the moment) in the same package called test:</p>\n\n<pre><code>package test;\n\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class testClass1 {\n\n    @Test\n    void mainA() {\n        assertTrue(42==42);\n    }\n</code></pre>\n\n<p>When I hit run on 'Suite', only testClass1 will be tested and testClass2 is left out. What am I missing? </p>\n\n<p>The Suite should test classes even recursively from other subpackages in the given package if I'm not mistaken.</p>\n\n<p>--EDIT:\nInitially I created two test classes for the same class, and the second test class gets ignored. If I add a third test class in the package, but this time for a separate class, that will get tested as expected.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1542198349,"post_id":53300183,"comment_id":93480923,"body_markdown":"Storing values as csv in one column is no good db design. learn about normalization","body":"Storing values as csv in one column is no good db design. learn about normalization"},{"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"score":0,"creation_date":1542198474,"post_id":53300183,"comment_id":93481016,"body_markdown":"It is very simple exercise. I just wanted to do it fast and use object mapper to store and retrieve it from database.","body":"It is very simple exercise. I just wanted to do it fast and use object mapper to store and retrieve it from database."},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1542198886,"post_id":53300183,"comment_id":93481264,"body_markdown":"Please post EnumConverter source code.","body":"Please post EnumConverter source code."},{"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"score":0,"creation_date":1542200457,"post_id":53300183,"comment_id":93482155,"body_markdown":"@EugenCovaci I added it!","body":"@EugenCovaci I added it!"},{"owner":{"account_id":218158,"reputation":575,"user_id":3219180,"display_name":"garfield"},"score":0,"creation_date":1542206516,"post_id":53300183,"comment_id":93486141,"body_markdown":"@Jens, good point however some databases offer arrays as column types so if that&#39;s the case one could consider Vlad Mihalcea&#39;s library in order to map SQL arrays, see this:https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/","body":"@Jens, good point however some databases offer arrays as column types so if that&#39;s the case one could consider Vlad Mihalcea&#39;s library in order to map SQL arrays, see this:<a href=\"https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657495446,"creation_date":1657495446,"answer_id":72932490,"question_id":53300183,"body_markdown":"I was almost giving up when I found this example from the documentation,\r\n\r\n&gt; Example 4:  Apply a converter to an **element collection** of basic type:\r\n    **@ElementCollection**\r\n    // applies to each element in the collection\r\n   ...\r\n\r\n\r\nSo, even if you are auto applying a converter, just place that annotation below your list.\r\n\r\n```\r\n@ElementCollection\r\n@Column\r\n@Convert(converter = EnumConverter.class)\r\nList&lt;Enum&gt; listEnum;\r\n```","title":"Persist list of enumeration on JPA, converter not working","body":"<p>I was almost giving up when I found this example from the documentation,</p>\n<blockquote>\n<p>Example 4:  Apply a converter to an <strong>element collection</strong> of basic type:\n<strong>@ElementCollection</strong>\n// applies to each element in the collection\n...</p>\n</blockquote>\n<p>So, even if you are auto applying a converter, just place that annotation below your list.</p>\n<pre><code>@ElementCollection\n@Column\n@Convert(converter = EnumConverter.class)\nList&lt;Enum&gt; listEnum;\n</code></pre>\n"}],"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1657495446,"creation_date":1542198240,"question_id":53300183,"body_markdown":"I&#39;m trying to persist a list of enumeration on the database, using JPA and hibernate.\r\n\r\nMy model looks like that:\r\n\r\n    @Id\r\n    @Column\r\n    String id;\r\n\r\n    @Column\r\n    @Convert(converter = EnumConverter.class)\r\n    List&lt;Enum&gt; listEnum;\r\n\r\nAnd I would like to persist that list of `enum` as `String` and use a converter (`EnumConverter`) in order to store it and read it from the database. \r\n\r\nMy converter uses Jackson in order to serialize and deserialize. Example:\r\n\r\n    @Converter(autoApply = true)\r\n    public class EnumListConverter implements AttributeConverter&lt;List&lt;Enum&gt;, String&gt; {\r\n    \r\n        private final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(final List&lt;Enum&gt; list) {\r\n            try {\r\n                return objectMapper.writeValueAsString(list);\r\n            } catch (JsonProcessingException e) {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Enum&gt; convertToEntityAttribute(final String list) {\r\n            try {\r\n                return Arrays.asList(objectMapper.readValue(list, Enum[].class));\r\n            } catch (IOException e) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem that I&#39;m having is that is storing it fine, but when I try to get the code, it returns me an array of size 1 (type `ArrayList`) like the following instead of an array of size 3:\r\n\r\n    &quot;[&quot;Value1&quot;,&quot;Value2&quot;,&quot;Value3&quot;]&quot;\r\n\r\nI am using a `CrudRepository` with a simple native query:\r\n\r\n    SELECT list from the entity;\r\n\r\nDoes someone know what I&#39;m missing? I would like to have an `ArrayList` of three values instead of one with one value. When I debug the converter it does it right, so the problem has to be after converting.\r\n\r\n\r\n","title":"Persist list of enumeration on JPA, converter not working","body":"<p>I'm trying to persist a list of enumeration on the database, using JPA and hibernate.</p>\n\n<p>My model looks like that:</p>\n\n<pre><code>@Id\n@Column\nString id;\n\n@Column\n@Convert(converter = EnumConverter.class)\nList&lt;Enum&gt; listEnum;\n</code></pre>\n\n<p>And I would like to persist that list of <code>enum</code> as <code>String</code> and use a converter (<code>EnumConverter</code>) in order to store it and read it from the database. </p>\n\n<p>My converter uses Jackson in order to serialize and deserialize. Example:</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class EnumListConverter implements AttributeConverter&lt;List&lt;Enum&gt;, String&gt; {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public String convertToDatabaseColumn(final List&lt;Enum&gt; list) {\n        try {\n            return objectMapper.writeValueAsString(list);\n        } catch (JsonProcessingException e) {\n            return \"\";\n        }\n    }\n\n    @Override\n    public List&lt;Enum&gt; convertToEntityAttribute(final String list) {\n        try {\n            return Arrays.asList(objectMapper.readValue(list, Enum[].class));\n        } catch (IOException e) {\n            return new ArrayList&lt;&gt;();\n        }\n    }\n}\n</code></pre>\n\n<p>The problem that I'm having is that is storing it fine, but when I try to get the code, it returns me an array of size 1 (type <code>ArrayList</code>) like the following instead of an array of size 3:</p>\n\n<pre><code>\"[\"Value1\",\"Value2\",\"Value3\"]\"\n</code></pre>\n\n<p>I am using a <code>CrudRepository</code> with a simple native query:</p>\n\n<pre><code>SELECT list from the entity;\n</code></pre>\n\n<p>Does someone know what I'm missing? I would like to have an <code>ArrayList</code> of three values instead of one with one value. When I debug the converter it does it right, so the problem has to be after converting.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1657408516,"post_id":72925187,"comment_id":128803742,"body_markdown":"There is definitely something off about this when the formatting is corrected.","body":"There is definitely something off about this when the formatting is corrected."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657408551,"post_id":72925187,"comment_id":128803745,"body_markdown":"What is `myString`? I don&#39;t see that in the posted code.","body":"What is <code>myString</code>? I don&#39;t see that in the posted code."},{"owner":{"account_id":7214771,"reputation":289,"user_id":5507663,"display_name":"jeekiii"},"score":0,"creation_date":1657408588,"post_id":72925187,"comment_id":128803751,"body_markdown":"@Chris well he puts his closing brackets at the end of the line, not on a new line, which is I think messing with your correction of the formatting","body":"@Chris well he puts his closing brackets at the end of the line, not on a new line, which is I think messing with your correction of the formatting"},{"owner":{"account_id":7214771,"reputation":289,"user_id":5507663,"display_name":"jeekiii"},"score":0,"creation_date":1657408614,"post_id":72925187,"comment_id":128803757,"body_markdown":"@Chris if you fix by doing a newline before every } it should look ok? Would still be missing the end bracket. But yeah his code is a bit messed up, many problems with it, not a single one","body":"@Chris if you fix by doing a newline before every } it should look ok? Would still be missing the end bracket. But yeah his code is a bit messed up, many problems with it, not a single one"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":2,"creation_date":1657408842,"post_id":72925187,"comment_id":128803785,"body_markdown":"It&#39;s more than a simple display issue. There is a declaration for `String newString` _inside_ that set of braces, and then _outside_ the braces there is a return statement (`return newString`) which is not valid.","body":"It&#39;s more than a simple display issue. There is a declaration for <code>String newString</code> <i>inside</i> that set of braces, and then <i>outside</i> the braces there is a return statement (<code>return newString</code>) which is not valid."},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1657409527,"post_id":72925187,"comment_id":128803868,"body_markdown":"Yes, I missed the closing braces. Note: style is subjective, and everyone has their own, but that one&#39;s awful.","body":"Yes, I missed the closing braces. Note: style is subjective, and everyone has their own, but that one&#39;s awful."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657415765,"post_id":72925187,"comment_id":128804545,"body_markdown":"`if (boolean arrayOfArg([i]) = Character.isLetter(arrayOfArg[i]))` that not a valid Java by any means. It can&#39;t even serve as a pseudocode because it doesn&#39;t convey your intention in a clear way.","body":"<code>if (boolean arrayOfArg([i]) = Character.isLetter(arrayOfArg[i]))</code> that not a valid Java by any means. It can&#39;t even serve as a pseudocode because it doesn&#39;t convey your intention in a clear way."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657415830,"post_id":72925187,"comment_id":128804550,"body_markdown":"Provide a [*Minimal, Reproducible Example*](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>Minimal, Reproducible Example</i></a>."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657416762,"post_id":72925187,"comment_id":128804639,"body_markdown":"Your code does not compile.","body":"Your code does not compile."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657417236,"post_id":72925187,"comment_id":128804679,"body_markdown":"I suggest you provide examples of `myString` and `arg` and the `end result`.  Your explanation is not that clear.","body":"I suggest you provide examples of <code>myString</code> and <code>arg</code> and the <code>end result</code>.  Your explanation is not that clear."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657418589,"creation_date":1657414229,"answer_id":72925513,"question_id":72925187,"body_markdown":"Here is one way using streams.  Just create a stream of characters via the `chars()` method and allow only letters to pass thru.  Then each character to a String and join them together.  Then remove that result from the original passed string.\r\n\r\n```\r\nString myString = &quot;abcdTLK123efgh&quot;;\r\nString arg = &quot;TLK@@@123&quot;;\r\nString result = remove(arg, myString);\r\nSystem.out.println(&quot;Result = &quot; + result);\r\n```\r\nprints\r\n```\r\nResult = abcd123efgh\r\n\r\n```\r\nThe method\r\n\r\n- I modified the method to accept two strings.\r\n  - the one to remove characters(`arg`).\r\n  - and the from which to remove modified arg from `myString`\r\n- it works by\r\n  - streaming all the characters of arg.\r\n  - filtering out all but letters and digits\r\n  - joining them as a string.\r\n  - and then removing that filtered string from the myString.\r\n```\r\npublic static String remove(String arg, String myString) {\r\n\tif (myString == null || myString.isBlank()) {\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\treturn arg.chars().filter(\r\n\t\t\tch -&gt; Character.isLetter(ch))\r\n\t\t\t.mapToObj(Character::toString)\r\n\t\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\t\tCollectors.joining(),\r\n\t\t\t\t\tstr -&gt; myString.replace(str, &quot;&quot;)));\r\n}\r\n```\r\nNote:  If `myString` is null then assigning an empty string to it will contain nothing to change.  Nor an initial empty string. So I just returned an empty String if those conditions existed. ","title":"Removing alphabetical characters from a string","body":"<p>Here is one way using streams.  Just create a stream of characters via the <code>chars()</code> method and allow only letters to pass thru.  Then each character to a String and join them together.  Then remove that result from the original passed string.</p>\n<pre><code>String myString = &quot;abcdTLK123efgh&quot;;\nString arg = &quot;TLK@@@123&quot;;\nString result = remove(arg, myString);\nSystem.out.println(&quot;Result = &quot; + result);\n</code></pre>\n<p>prints</p>\n<pre><code>Result = abcd123efgh\n\n</code></pre>\n<p>The method</p>\n<ul>\n<li>I modified the method to accept two strings.\n<ul>\n<li>the one to remove characters(<code>arg</code>).</li>\n<li>and the from which to remove modified arg from <code>myString</code></li>\n</ul>\n</li>\n<li>it works by\n<ul>\n<li>streaming all the characters of arg.</li>\n<li>filtering out all but letters and digits</li>\n<li>joining them as a string.</li>\n<li>and then removing that filtered string from the myString.</li>\n</ul>\n</li>\n</ul>\n<pre><code>public static String remove(String arg, String myString) {\n    if (myString == null || myString.isBlank()) {\n        return &quot;&quot;;\n    }\n    return arg.chars().filter(\n            ch -&gt; Character.isLetter(ch))\n            .mapToObj(Character::toString)\n            .collect(Collectors.collectingAndThen(\n                    Collectors.joining(),\n                    str -&gt; myString.replace(str, &quot;&quot;)));\n}\n</code></pre>\n<p>Note:  If <code>myString</code> is null then assigning an empty string to it will contain nothing to change.  Nor an initial empty string. So I just returned an empty String if those conditions existed.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657495179,"creation_date":1657418569,"answer_id":72925708,"question_id":72925187,"body_markdown":"&gt; I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. \r\n\r\nThe good news is that you **can** solve it yourself.\r\n\r\nThe bad news is that the code above is in such a mess that it would be difficult **for you** to fix it by yourself.  (Given your current level understand of Java syntax, way of working, etcetera.)\r\n\r\n(Also, there is a long more wrong than the &quot;if it were not for ...&quot; ...)\r\n\r\n----------------\r\n\r\nSo here is what I advise you to do.\r\n\r\n1.  Save a copy of the current version of the (entire) class somewhere safe so that you can look it again if you need to, or revert to it.\r\n\r\n2.  Develop a model of what the method needs to do and how it will do it; see below.\r\n\r\n3.  Delete all lines of code between the first `{` and last `}` shown in the question.  **Yes.  Delete them.**\r\n\r\n4.  Compose the new version of the code, one line at a time.  As follows:\r\n\r\n    1.  Add a line.\r\n    2.  Compile the code (or let the IDE compile it for you).\r\n    3.  Read the compilation error(s) that just appeared.\r\n    4.  **Understand** the compilation errors.\r\n    5.  Make the necessary changes to fix the compilation errors.  **Don&#39;t** rely on your IDE&#39;s facility for suggesting corrections.  (The IDE doesn&#39;t understand your code, what you are going to add next, or what you are trying to achieve.  Its suggestions are liable to be unhelpful or even wrong.)\r\n    6.  Repeat until you have dealt with all of the compilation errors that were introduced.\r\n\r\n    7.  Now you are ready to add another line.\r\n\r\n5.  Once you have a complete method, you can then try to run it.\r\n\r\nYou will most likely find that the code doesn&#39;t work.  But at least it will be valid Java code.  And in the process of doing 4. above, you will (hopefully!) have learned enough Java syntax to be able to read and understand the code that you wrote.  And 2. will help you understand what the code you are writing *should* do.\r\n\r\n------------------------\r\n\r\nMy other observation is that it *looks* like you have been adding and removing statements to this code with no clear understanding of what they do or what needs to happen.  Maybe you started with some code that did something else ... correctly ... but it is hard to tell now.\r\n\r\nChanging things *randomly* to try to make the code work is not a sensible approach.  It *rarely* works.  You need to have a model (or plan) in your head or on paper (e.g. as pseudo-code or flowcharts) about how the code ought to work. \r\n\r\nProgramming is about 1) developing the model, then 2) translating the model into code.  The first part is the hard (and interesting) part. But if you skip the first part, the second part is an essentially random process, and unlikely to succeed.\r\n\r\nThe problem with starting with someone else&#39;s code is that you risk not developing a mental model of how *that* code works.  Let alone the model that you are aiming for.\r\n\r\n----------------------\r\n\r\nFinally, a professional programmer will use a version control system for their source code, and make relatively frequent commits of their code to their repository.  Among other things, that allows them to quickly &quot;roll back&quot; to an earlier version if they need to, or keep track of exactly what they changed.\r\n\r\nIt is probably too early for you to learn about (say) using Git ... but it *would* help you solve your problem if you could just &quot;roll back&quot; all of the changes where you were &quot;messing&quot; with the code to get it to work.","title":"Removing alphabetical characters from a string","body":"<blockquote>\n<p>I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string.</p>\n</blockquote>\n<p>The good news is that you <strong>can</strong> solve it yourself.</p>\n<p>The bad news is that the code above is in such a mess that it would be difficult <strong>for you</strong> to fix it by yourself.  (Given your current level understand of Java syntax, way of working, etcetera.)</p>\n<p>(Also, there is a long more wrong than the &quot;if it were not for ...&quot; ...)</p>\n<hr />\n<p>So here is what I advise you to do.</p>\n<ol>\n<li><p>Save a copy of the current version of the (entire) class somewhere safe so that you can look it again if you need to, or revert to it.</p>\n</li>\n<li><p>Develop a model of what the method needs to do and how it will do it; see below.</p>\n</li>\n<li><p>Delete all lines of code between the first <code>{</code> and last <code>}</code> shown in the question.  <strong>Yes.  Delete them.</strong></p>\n</li>\n<li><p>Compose the new version of the code, one line at a time.  As follows:</p>\n<ol>\n<li><p>Add a line.</p>\n</li>\n<li><p>Compile the code (or let the IDE compile it for you).</p>\n</li>\n<li><p>Read the compilation error(s) that just appeared.</p>\n</li>\n<li><p><strong>Understand</strong> the compilation errors.</p>\n</li>\n<li><p>Make the necessary changes to fix the compilation errors.  <strong>Don't</strong> rely on your IDE's facility for suggesting corrections.  (The IDE doesn't understand your code, what you are going to add next, or what you are trying to achieve.  Its suggestions are liable to be unhelpful or even wrong.)</p>\n</li>\n<li><p>Repeat until you have dealt with all of the compilation errors that were introduced.</p>\n</li>\n<li><p>Now you are ready to add another line.</p>\n</li>\n</ol>\n</li>\n<li><p>Once you have a complete method, you can then try to run it.</p>\n</li>\n</ol>\n<p>You will most likely find that the code doesn't work.  But at least it will be valid Java code.  And in the process of doing 4. above, you will (hopefully!) have learned enough Java syntax to be able to read and understand the code that you wrote.  And 2. will help you understand what the code you are writing <em>should</em> do.</p>\n<hr />\n<p>My other observation is that it <em>looks</em> like you have been adding and removing statements to this code with no clear understanding of what they do or what needs to happen.  Maybe you started with some code that did something else ... correctly ... but it is hard to tell now.</p>\n<p>Changing things <em>randomly</em> to try to make the code work is not a sensible approach.  It <em>rarely</em> works.  You need to have a model (or plan) in your head or on paper (e.g. as pseudo-code or flowcharts) about how the code ought to work.</p>\n<p>Programming is about 1) developing the model, then 2) translating the model into code.  The first part is the hard (and interesting) part. But if you skip the first part, the second part is an essentially random process, and unlikely to succeed.</p>\n<p>The problem with starting with someone else's code is that you risk not developing a mental model of how <em>that</em> code works.  Let alone the model that you are aiming for.</p>\n<hr />\n<p>Finally, a professional programmer will use a version control system for their source code, and make relatively frequent commits of their code to their repository.  Among other things, that allows them to quickly &quot;roll back&quot; to an earlier version if they need to, or keep track of exactly what they changed.</p>\n<p>It is probably too early for you to learn about (say) using Git ... but it <em>would</em> help you solve your problem if you could just &quot;roll back&quot; all of the changes where you were &quot;messing&quot; with the code to get it to work.</p>\n"}],"owner":{"account_id":25716775,"reputation":15,"user_id":19474419,"display_name":"roxyrox"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"closed_date":1657432267,"answer_count":2,"score":-6,"last_activity_date":1657495179,"creation_date":1657408247,"question_id":72925187,"body_markdown":"I am new to java. Trying to create a function to remove a given string &quot;arg&quot; from myString which is previously set and return a new string not affecting myString. I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. so if arg has a 7 in it that should still be included in the final string. characters being removed are case insensitive as well. \r\n\r\nI have edited the previous code and post, i can now run my code but I am not getting the correct results, I am trying to remove all numbers from arg before using it to remove all the characters. myString method is previously defined and working properly to return a string.\r\n\r\n For examplecurrent string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\r\n or &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\r\n\r\nthank you!\r\n\r\n\r\n\t\tpublic String remove(String arg) {\r\n\t\tchar[] charArray=arg.toCharArray();\r\n\t\tString result=&quot;&quot;;\r\n\t\tString newString=&quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; charArray.length; i++) {\r\n\t\t\tif (!Character.isDigit(charArray[i])) {\r\n                result = result + charArray[i];\r\n\t\t\t\treturn result;}}\r\n\r\n\t\tif (myString==null || myString==&quot;&quot;) {\r\n\t\t\t this.myString=&quot;&quot;;}\r\n\t\tif (myString!=null) {\r\n\t\t\t newString= myString.replaceAll(result,&quot;&quot;);}\r\n\t\treturn newString;\r\n\t  \t\r\n\t}","title":"Removing alphabetical characters from a string","body":"<p>I am new to java. Trying to create a function to remove a given string &quot;arg&quot; from myString which is previously set and return a new string not affecting myString. I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. so if arg has a 7 in it that should still be included in the final string. characters being removed are case insensitive as well.</p>\n<p>I have edited the previous code and post, i can now run my code but I am not getting the correct results, I am trying to remove all numbers from arg before using it to remove all the characters. myString method is previously defined and working properly to return a string.</p>\n<p>For examplecurrent string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\nor &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;</p>\n<p>thank you!</p>\n<pre><code>    public String remove(String arg) {\n    char[] charArray=arg.toCharArray();\n    String result=&quot;&quot;;\n    String newString=&quot;&quot;;\n    for (int i = 0; i &lt; charArray.length; i++) {\n        if (!Character.isDigit(charArray[i])) {\n            result = result + charArray[i];\n            return result;}}\n\n    if (myString==null || myString==&quot;&quot;) {\n         this.myString=&quot;&quot;;}\n    if (myString!=null) {\n         newString= myString.replaceAll(result,&quot;&quot;);}\n    return newString;\n    \n}\n</code></pre>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1657287686,"post_id":72912256,"comment_id":128781472,"body_markdown":"Indeed Powermock should work for static methods. You can check [this site](https://www.baeldung.com/intro-to-powermock).","body":"Indeed Powermock should work for static methods. You can check <a href=\"https://www.baeldung.com/intro-to-powermock\" rel=\"nofollow noreferrer\">this site</a>."},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1657289096,"post_id":72912256,"comment_id":128781997,"body_markdown":"It doesn&#39;t seem to fit my needs: I don&#39;t try to mock a static method. I try to test a static method that creates an instance which I want to mock.","body":"It doesn&#39;t seem to fit my needs: I don&#39;t try to mock a static method. I try to test a static method that creates an instance which I want to mock."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657494567,"creation_date":1657494567,"answer_id":72932443,"question_id":72912256,"body_markdown":"You need to mock constructor of `Generator` class.\r\n\r\n&lt;br&gt;**Solution 1: Using Mockito (Main preferable)**\r\n&lt;br&gt;Mockito suports mock construction since 3.5 version. [Documentation][1]\r\n&lt;br&gt;Add [mockito-inline][2] to your dependencies. It provides ability to generate mocks on constructor invocations.\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nMock constructor.\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\nclass ConverterTest {\r\n    @Test\r\n    public void convertTest(){\r\n        //create mock for Generator class constructor\r\n        try (MockedConstruction&lt;Generator&gt; mockedGenerator = Mockito.mockConstruction(Generator.class,\r\n                (mock, context) -&gt; {\r\n                    when(mock.generate()).thenReturn(&quot;123&quot;);\r\n                })) {\r\n\r\n            //execute Converter class under the test\r\n            String result = Converter.convert();\r\n            \r\n            //ensure that constructor was executed\r\n            Assertions.assertFalse(mockedGenerator.constructed().isEmpty());\r\n            //ensure the generate method was executed\r\n            verify(mockedGenerator.constructed().get(0), times(1)).generate();\r\n            //verify return value\r\n            Assertions.assertEquals(&quot;123&quot;, result);\r\n        }\r\n    }\r\n}\r\n```\r\n**Solution 2: Using PoserMock**\r\n&lt;br&gt;PowerMock [does not have JUnit 5 support][3], only Junit 4.\r\n&lt;br&gt;Example of mocking constructor via PowerMock\r\n```java\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(SubConverter.class)\r\npublic class ConverterTest {\r\n\r\n    @Mock\r\n    Generator generatorMock; //create Mock\r\n\r\n    @Test\r\n    public void convertTest() throws Exception {\r\n        //configure Mock\r\n        Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\r\n        //return mock when constructor is executing\r\n        PowerMockito.whenNew(Generator.class).withNoArguments().thenReturn(generatorMock);\r\n\r\n        //perform Converter under the test \r\n        String result = Converter.convert();\r\n\r\n        //check return value\r\n        Assert.assertEquals(&quot;123&quot;, result);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\r\n  [3]: https://github.com/powermock/powermock/issues/929","title":"How to mock an instance created by a static method?","body":"<p>You need to mock constructor of <code>Generator</code> class.</p>\n<p><br><strong>Solution 1: Using Mockito (Main preferable)</strong>\n<br>Mockito suports mock construction since 3.5 version. <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">Documentation</a>\n<br>Add <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\" rel=\"nofollow noreferrer\">mockito-inline</a> to your dependencies. It provides ability to generate mocks on constructor invocations.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Mock constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\nclass ConverterTest {\n    @Test\n    public void convertTest(){\n        //create mock for Generator class constructor\n        try (MockedConstruction&lt;Generator&gt; mockedGenerator = Mockito.mockConstruction(Generator.class,\n                (mock, context) -&gt; {\n                    when(mock.generate()).thenReturn(&quot;123&quot;);\n                })) {\n\n            //execute Converter class under the test\n            String result = Converter.convert();\n            \n            //ensure that constructor was executed\n            Assertions.assertFalse(mockedGenerator.constructed().isEmpty());\n            //ensure the generate method was executed\n            verify(mockedGenerator.constructed().get(0), times(1)).generate();\n            //verify return value\n            Assertions.assertEquals(&quot;123&quot;, result);\n        }\n    }\n}\n</code></pre>\n<p><strong>Solution 2: Using PoserMock</strong>\n<br>PowerMock <a href=\"https://github.com/powermock/powermock/issues/929\" rel=\"nofollow noreferrer\">does not have JUnit 5 support</a>, only Junit 4.\n<br>Example of mocking constructor via PowerMock</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(SubConverter.class)\npublic class ConverterTest {\n\n    @Mock\n    Generator generatorMock; //create Mock\n\n    @Test\n    public void convertTest() throws Exception {\n        //configure Mock\n        Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\n        //return mock when constructor is executing\n        PowerMockito.whenNew(Generator.class).withNoArguments().thenReturn(generatorMock);\n\n        //perform Converter under the test \n        String result = Converter.convert();\n\n        //check return value\n        Assert.assertEquals(&quot;123&quot;, result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72932443,"answer_count":1,"score":2,"last_activity_date":1657494567,"creation_date":1657287457,"question_id":72912256,"body_markdown":"I&#39;m testing legacy code that looks like this.\r\n\r\n```java\r\nclass Converter {\r\n  static String convert() {\r\n    SubConverter.subConvert();\r\n  }\r\n}\r\n```\r\n```java\r\nclass SubConverter {\r\n  static String subConvert() {\r\n    Generator generator = new Generator();\r\n    return generator.generate();\r\n  }\r\n}\r\n```\r\nMy goal is to test `Converter.convert`, mocking `generator.generate()`.\r\n\r\nThe test class looks like this:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nclass ConverterTest {\r\n\r\n  @Mock\r\n  Generator generatorMock;\r\n  \r\n  @Test\r\n  public void convertTest(){\r\n    MockitoAnnotations.openMocks(this);\r\n    Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\r\n    Converter.convert();\r\n    // some assertions\r\n  }\r\n}\r\n```\r\nThe actual implementation of `Generator.generate()` is used instead of the mock.\r\n\r\nI&#39;ve tried:\r\n```java\r\nimport org.mockito.InjectMocks;\r\n\r\n@InjectMocks\r\nConverter converterWithMock;\r\n```\r\n, testing `converterWithMock.convert()`, same result.\r\n\r\nI&#39;ve tried with PowerMockito, I can&#39;t make it work (maybe I use it the wrong way).\r\n\r\nWhat&#39;s the right way to do this?\r\n\r\nUsing **junit-jupiter 5.8.2** and **mockito 4.3.1**.","title":"How to mock an instance created by a static method?","body":"<p>I'm testing legacy code that looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Converter {\n  static String convert() {\n    SubConverter.subConvert();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class SubConverter {\n  static String subConvert() {\n    Generator generator = new Generator();\n    return generator.generate();\n  }\n}\n</code></pre>\n<p>My goal is to test <code>Converter.convert</code>, mocking <code>generator.generate()</code>.</p>\n<p>The test class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\n\nclass ConverterTest {\n\n  @Mock\n  Generator generatorMock;\n  \n  @Test\n  public void convertTest(){\n    MockitoAnnotations.openMocks(this);\n    Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\n    Converter.convert();\n    // some assertions\n  }\n}\n</code></pre>\n<p>The actual implementation of <code>Generator.generate()</code> is used instead of the mock.</p>\n<p>I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mockito.InjectMocks;\n\n@InjectMocks\nConverter converterWithMock;\n</code></pre>\n<p>, testing <code>converterWithMock.convert()</code>, same result.</p>\n<p>I've tried with PowerMockito, I can't make it work (maybe I use it the wrong way).</p>\n<p>What's the right way to do this?</p>\n<p>Using <strong>junit-jupiter 5.8.2</strong> and <strong>mockito 4.3.1</strong>.</p>\n"},{"tags":["java","class","output"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1657490734,"post_id":72932158,"comment_id":128816290,"body_markdown":"Don&#39;t have I/O code in the Car class but rather in the main class. In other words, get the println statement ***out*** of the `addDoor()` method. Instead, give Car a `public int getDoor()` method and call it in Main after adding doors.","body":"Don&#39;t have I/O code in the Car class but rather in the main class. In other words, get the println statement <b><i>out</i></b> of the <code>addDoor()</code> method. Instead, give Car a <code>public int getDoor()</code> method and call it in Main after adding doors."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657493513,"creation_date":1657493513,"answer_id":72932372,"question_id":72932158,"body_markdown":"Your requirement is to _add_ doors without _printing_ anything about the doors. The code you posted is doing both in one method: `this.door++` as well as `System.out.println()`. Instead, you need two different methods. Here&#39;s a way to edit what you posted to work like you want.\r\n\r\n1. Remove the `System.out.println()` from `addDoor()` (notice the lowercase first letter, that follows Java naming conventions). As you noted, you want to add a door without printing anything about the door totals. That would leave your method looking like this:\r\n\t```\r\n\tpublic void addDoor() {\r\n\t\tthis.door++;\r\n\t}\r\n\t```\r\n\r\n1. Make a new method in your `Car` class, call it `printDoorInfo()` or some such, and move your `println()` code there, like this:\r\n\t```\r\n\tpublic void printDoorInfo() {\r\n\t\tSystem.out.println(&quot;The car has &quot; + this.door + &quot; doors&quot;);\r\n\t}\r\n\t```\r\n1. In your calling code, after you have called `myCar.addDoor()` as many times as you like, call your new door info printer:\r\n\t```\r\n\tmyCar.printDoorInfo();\r\n\t```","title":"I just need one line for the output &quot;the car has 6 doors&quot;(the one with more doors).But the output will give as many (lines) doors as added to the code","body":"<p>Your requirement is to <em>add</em> doors without <em>printing</em> anything about the doors. The code you posted is doing both in one method: <code>this.door++</code> as well as <code>System.out.println()</code>. Instead, you need two different methods. Here's a way to edit what you posted to work like you want.</p>\n<ol>\n<li><p>Remove the <code>System.out.println()</code> from <code>addDoor()</code> (notice the lowercase first letter, that follows Java naming conventions). As you noted, you want to add a door without printing anything about the door totals. That would leave your method looking like this:</p>\n<pre><code>public void addDoor() {\n    this.door++;\n}\n</code></pre>\n</li>\n<li><p>Make a new method in your <code>Car</code> class, call it <code>printDoorInfo()</code> or some such, and move your <code>println()</code> code there, like this:</p>\n<pre><code>public void printDoorInfo() {\n    System.out.println(&quot;The car has &quot; + this.door + &quot; doors&quot;);\n}\n</code></pre>\n</li>\n<li><p>In your calling code, after you have called <code>myCar.addDoor()</code> as many times as you like, call your new door info printer:</p>\n<pre><code>myCar.printDoorInfo();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":3574446,"reputation":1,"user_id":17423323,"display_name":"user215072"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932372,"answer_count":1,"score":0,"last_activity_date":1657493513,"creation_date":1657490425,"question_id":72932158,"body_markdown":"```\r\npackage Car;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCar myCar = new Car();\r\n        myCar.AddDoor();\r\n        myCar.AddDoor();\r\n\t}\r\n\r\n}\r\n\r\nclass Car {\r\n\tpublic int door = 4;\r\n\t\r\n\tpublic void AddDoor() {\r\n\t\tthis.door++;\r\n\t\tSystem.out.println(&quot;The car has   &quot; + door + &quot; &quot; + &quot;doors&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"I just need one line for the output &quot;the car has 6 doors&quot;(the one with more doors).But the output will give as many (lines) doors as added to the code","body":"<pre><code>package Car;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Car myCar = new Car();\n        myCar.AddDoor();\n        myCar.AddDoor();\n    }\n\n}\n\nclass Car {\n    public int door = 4;\n    \n    public void AddDoor() {\n        this.door++;\n        System.out.println(&quot;The car has   &quot; + door + &quot; &quot; + &quot;doors&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657492370,"creation_date":1657492370,"answer_id":72932294,"question_id":72932058,"body_markdown":"I hope this helps you.\r\n\r\nFrom [documentation][1]:\r\n\r\n&gt; In the **Use Gradle from** list select one of the following options:\r\n&gt;\r\n&gt; **&#39;gradle-wrapper.properties&#39;** file: this is a recommended default option that uses Gradle wrapper.\r\n&gt;\r\n&gt; In this case you delegate the update of Gradle versions to Gradle and get an automatic Gradle download for the build. This option also lets you build with a precise Gradle version. The Gradle version is saved in the **gradle-wrapper.properties** file in the **gradle** directory of your project and helps you eliminate any Gradle version problems.\r\n&gt;\r\n&gt; **Specified location**: select this option if you want to manually download and use a specific Gradle version. Specify the location of your Gradle installation and JVM under which IntelliJ IDEA will run Gradle when you import the specified Gradle project and when you execute its tasks.\r\n\r\n  \r\n\r\n[1]: https://www.jetbrains.com/help/idea/gradle.html#gradle_version_install","title":"why do I have different versions of gradle and gradle wrapper?","body":"<p>I hope this helps you.</p>\n<p>From <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_version_install\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>In the <strong>Use Gradle from</strong> list select one of the following options:</p>\n<p><strong>'gradle-wrapper.properties'</strong> file: this is a recommended default option that uses Gradle wrapper.</p>\n<p>In this case you delegate the update of Gradle versions to Gradle and get an automatic Gradle download for the build. This option also lets you build with a precise Gradle version. The Gradle version is saved in the <strong>gradle-wrapper.properties</strong> file in the <strong>gradle</strong> directory of your project and helps you eliminate any Gradle version problems.</p>\n<p><strong>Specified location</strong>: select this option if you want to manually download and use a specific Gradle version. Specify the location of your Gradle installation and JVM under which IntelliJ IDEA will run Gradle when you import the specified Gradle project and when you execute its tasks.</p>\n</blockquote>\n"}],"owner":{"account_id":18065503,"reputation":1046,"user_id":13131510,"display_name":"Kosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657492370,"creation_date":1657488888,"question_id":72932058,"body_markdown":"Why do I have different versions of gradle and gradle wrapper?\r\n\r\n`gradle --version` returns `Gradle 7.4.2` while  `./gradlew --version` returns `Gradle 7.2`\r\n\r\nI use IntelliJ IDEA as IDE for my java project and my preferences are at default:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ej1uH.png\r\n\r\nIn my project in `gradle/wrapper/gradle-wrapper.properties` there is a line \r\n\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n\r\nBut why it does not match with my installed version?","title":"why do I have different versions of gradle and gradle wrapper?","body":"<p>Why do I have different versions of gradle and gradle wrapper?</p>\n<p><code>gradle --version</code> returns <code>Gradle 7.4.2</code> while  <code>./gradlew --version</code> returns <code>Gradle 7.2</code></p>\n<p>I use IntelliJ IDEA as IDE for my java project and my preferences are at default:<a href=\"https://i.stack.imgur.com/ej1uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ej1uH.png\" alt=\"enter image description here\" /></a></p>\n<p>In my project in <code>gradle/wrapper/gradle-wrapper.properties</code> there is a line</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.2-bin.zip</p>\n</blockquote>\n<p>But why it does not match with my installed version?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"score":0,"creation_date":1656682461,"post_id":72829986,"comment_id":128638402,"body_markdown":"May I know how to remove padding character?","body":"May I know how to remove padding character?"}],"answers":[{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656683236,"creation_date":1656682587,"answer_id":72830135,"question_id":72829986,"body_markdown":"When using `-d &quot;1&quot;` with `curl`, you try to: \r\n\r\n&gt; [send] the specified data in a POST request to the HTTP server, in the same way that a browser does when a user has filled in an HTML form and presses the submit button. This  will cause curl to pass the data to the server using the content-type application/x-www-form-urlencoded.\r\n\r\nThis essentially means that the payload is treated as key-value pairs separated by an ampersand (&amp;) character, while key and value are separated with the equals sign (=).\r\n\r\nIn your case, `1` is treated as the key and its value is missing, hence the `1=` you receive.\r\n\r\nIf you want to only consume plain text, you need to:\r\n\r\n1. Change `consumes = {MediaType.TEXT_PLAIN}`\r\n2. Use `curl -H &quot;Content-Type: text/plain; charset: utf-8&quot; -d &quot;1&quot; ...`","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>When using <code>-d &quot;1&quot;</code> with <code>curl</code>, you try to:</p>\n<blockquote>\n<p>[send] the specified data in a POST request to the HTTP server, in the same way that a browser does when a user has filled in an HTML form and presses the submit button. This  will cause curl to pass the data to the server using the content-type application/x-www-form-urlencoded.</p>\n</blockquote>\n<p>This essentially means that the payload is treated as key-value pairs separated by an ampersand (&amp;) character, while key and value are separated with the equals sign (=).</p>\n<p>In your case, <code>1</code> is treated as the key and its value is missing, hence the <code>1=</code> you receive.</p>\n<p>If you want to only consume plain text, you need to:</p>\n<ol>\n<li>Change <code>consumes = {MediaType.TEXT_PLAIN}</code></li>\n<li>Use <code>curl -H &quot;Content-Type: text/plain; charset: utf-8&quot; -d &quot;1&quot; ...</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657491991,"creation_date":1657491991,"answer_id":72932275,"question_id":72829986,"body_markdown":"Source : https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics\r\n\r\n**This helped me :** \r\n\r\n    @PostMapping(\r\n      path = &quot;/feedback&quot;,\r\n      consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public ResponseEntity&lt;String&gt; handleNonBrowserSubmissions(\r\n      @RequestParam MultiValueMap&lt;String,String&gt; paramMap) throws Exception {\r\n        // Save feedback data\r\n        return new ResponseEntity&lt;String&gt;(&quot;Thank you for submitting feedback&quot;, HttpStatus.OK);\r\n    }\r\n\r\nI just had to change the data type in the method argument to &quot;`@RequestParam MultiValueMap&lt;String,String&gt; paramMap`&quot;\r\n\r\n----------\r\n\r\nSo when I do `curl -d &#39;1&#39; http://localhost:1337/` , I had to extract the key separately like this :\r\n\r\n    String data = (String) ((Map.Entry) paramMap.entrySet().toArray()[0]).getKey();\r\n\r\n\r\n\r\n\r\n","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>Source : <a href=\"https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics</a></p>\n<p><strong>This helped me :</strong></p>\n<pre><code>@PostMapping(\n  path = &quot;/feedback&quot;,\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic ResponseEntity&lt;String&gt; handleNonBrowserSubmissions(\n  @RequestParam MultiValueMap&lt;String,String&gt; paramMap) throws Exception {\n    // Save feedback data\n    return new ResponseEntity&lt;String&gt;(&quot;Thank you for submitting feedback&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>I just had to change the data type in the method argument to &quot;<code>@RequestParam MultiValueMap&lt;String,String&gt; paramMap</code>&quot;</p>\n<hr />\n<p>So when I do <code>curl -d '1' http://localhost:1337/</code> , I had to extract the key separately like this :</p>\n<pre><code>String data = (String) ((Map.Entry) paramMap.entrySet().toArray()[0]).getKey();\n</code></pre>\n"}],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932275,"answer_count":2,"score":0,"last_activity_date":1657491991,"creation_date":1656681895,"question_id":72829986,"body_markdown":"I have a POST API in spring boot Restcontroller which accepts a string and returns back the string. But the recieved string value has special characters as &quot;=&quot;\r\n\r\n    @RestController\r\n    public class MyApi{\r\n        @PostMapping(path = &quot;/&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n        public String parseInput(@RequestBody String data)    {\r\n            return data;\r\n        }\r\n    }\r\n\r\n`curl -d &quot;1&quot; http://localhost:1337/` gives `1=` instead of `1`","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>I have a POST API in spring boot Restcontroller which accepts a string and returns back the string. But the recieved string value has special characters as &quot;=&quot;</p>\n<pre><code>@RestController\npublic class MyApi{\n    @PostMapping(path = &quot;/&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public String parseInput(@RequestBody String data)    {\n        return data;\n    }\n}\n</code></pre>\n<p><code>curl -d &quot;1&quot; http://localhost:1337/</code> gives <code>1=</code> instead of <code>1</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8796,"page":1196,"page_size":100}
