{"items":[{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656312093,"creation_date":1656312093,"answer_id":72767894,"question_id":72761174,"body_markdown":"Spring Data derived queries are intended (and useful) only for very simple queries. Those queries where you look at the name that you would naturally give such a method and would immediately know how to implement it in SQL or JPQL.\r\n\r\nAs soon as a query gets a little more complex we shouldn&#39;t use derived queries anymore, and often we can&#39;t even if we wanted to. For example query derivation doesn&#39;t have a way to control the precedence between `AND` and `OR`.\r\n\r\nFor all other queries we need to explicitly code the query one way or the others. And if you don&#39;t want your queries mixed with your repository, a named query is a very viable alternative.","title":"Is it really needed to use Spring Data JPA Named Queries?","body":"<p>Spring Data derived queries are intended (and useful) only for very simple queries. Those queries where you look at the name that you would naturally give such a method and would immediately know how to implement it in SQL or JPQL.</p>\n<p>As soon as a query gets a little more complex we shouldn't use derived queries anymore, and often we can't even if we wanted to. For example query derivation doesn't have a way to control the precedence between <code>AND</code> and <code>OR</code>.</p>\n<p>For all other queries we need to explicitly code the query one way or the others. And if you don't want your queries mixed with your repository, a named query is a very viable alternative.</p>\n"}],"owner":{"display_name":"user19254373"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656312093,"creation_date":1656242971,"question_id":72761174,"body_markdown":"After making some search on the web, I think that when using Spring Data JPA Named Queries, we need some extra implementation or definitions comparing to the derived or dynamic queries in Spring Data JPA. In this scene, I am really wondering that do we really need to use Spring Data JPA Named Queries?\r\n\r\n","title":"Is it really needed to use Spring Data JPA Named Queries?","body":"<p>After making some search on the web, I think that when using Spring Data JPA Named Queries, we need some extra implementation or definitions comparing to the derived or dynamic queries in Spring Data JPA. In this scene, I am really wondering that do we really need to use Spring Data JPA Named Queries?</p>\n"},{"tags":["java","data-structures","stack"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1656309455,"post_id":72767462,"comment_id":128530726,"body_markdown":"Your stack stores not `int` values but `Integer` values. Since `Integer` values are objects you must use `.equals()` to compare them.","body":"Your stack stores not <code>int</code> values but <code>Integer</code> values. Since <code>Integer</code> values are objects you must use <code>.equals()</code> to compare them."}],"answers":[{"tags":[],"owner":{"account_id":9497602,"reputation":93,"user_id":7060014,"display_name":"Rohit Dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656311817,"creation_date":1656310539,"answer_id":72767651,"question_id":72767462,"body_markdown":"Comparison will only work for values between -128 and 127\r\n\r\nThis snippet will return true\r\n\r\n    Stack&lt;Integer&gt; s1 = new Stack&lt;Integer&gt;();\r\n    Stack&lt;Integer&gt; s2 = new Stack&lt;Integer&gt;();\r\n    s1.push(127);\r\n    s2.push(127);\r\n    System.out.println(s1.peek() == s2.peek());\r\n\r\nWhereas, this will return false \r\n\r\n    Stack&lt;Integer&gt; s1 = new Stack&lt;Integer&gt;();\r\n    Stack&lt;Integer&gt; s2 = new Stack&lt;Integer&gt;();\r\n    s1.push(128);\r\n    s2.push(128);\r\n    System.out.println(s1.peek() == s2.peek());\r\n\r\nUse s1.peek().equals(s2.peek()) for values outside range [-128,127]","title":"stack1.peek() == stack2.peek() return false with the same elements in both stack in java","body":"<p>Comparison will only work for values between -128 and 127</p>\n<p>This snippet will return true</p>\n<pre><code>Stack&lt;Integer&gt; s1 = new Stack&lt;Integer&gt;();\nStack&lt;Integer&gt; s2 = new Stack&lt;Integer&gt;();\ns1.push(127);\ns2.push(127);\nSystem.out.println(s1.peek() == s2.peek());\n</code></pre>\n<p>Whereas, this will return false</p>\n<pre><code>Stack&lt;Integer&gt; s1 = new Stack&lt;Integer&gt;();\nStack&lt;Integer&gt; s2 = new Stack&lt;Integer&gt;();\ns1.push(128);\ns2.push(128);\nSystem.out.println(s1.peek() == s2.peek());\n</code></pre>\n<p>Use s1.peek().equals(s2.peek()) for values outside range [-128,127]</p>\n"}],"owner":{"account_id":14000392,"reputation":3,"user_id":10112197,"display_name":"Akshit Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656312920,"accepted_answer_id":72767651,"answer_count":1,"score":0,"last_activity_date":1656311817,"creation_date":1656309061,"question_id":72767462,"body_markdown":"I was solving the leetcode problem (link:https://leetcode.com/problems/min-stack/) by making two stacks, but in the pop function if I compare s.peek() == ss.peek() if statement does not execute why?\r\n```\r\nclass MinStack {\r\n        Stack &lt;Integer&gt; s = new Stack&lt;&gt;();\r\n        Stack &lt;Integer&gt; ss = new Stack&lt;&gt;();\r\n        \r\n    public MinStack() {\r\n       \r\n    }\r\n    \r\n    public void push(int val) {\r\n        if(ss.isEmpty() || val&lt;=ss.peek()) ss.push(val);\r\n        s.push(val);\r\n        return;\r\n    }\r\n    \r\n    public void pop() {\r\n        if(s.isEmpty()) return;\r\n        int a = s.peek();\r\n        int b = ss.peek();\r\n        \r\n        if(s.peek() == ss.peek(){\r\n        //this does not work\r\n            ss.pop();\r\n        }\r\n\r\n        if(a == b){\r\n            ss.pop();\r\n        }\r\n        s.pop();\r\n        return;\r\n    }\r\n    \r\n    public int top() {\r\n        if(s.isEmpty()) return -1;\r\n        return s.peek();\r\n    }\r\n    \r\n    public int getMin() {\r\n        if(ss.isEmpty()) return -1;\r\n        return ss.peek();\r\n    }\r\n}\r\n/**\r\n * Your MinStack object will be instantiated and called as such:\r\n * MinStack obj = new MinStack();\r\n * obj.push(val);\r\n * obj.pop();\r\n * int param_3 = obj.top();\r\n * int param_4 = obj.getMin();\r\n */\r\n```","title":"stack1.peek() == stack2.peek() return false with the same elements in both stack in java","body":"<p>I was solving the leetcode problem (link:<a href=\"https://leetcode.com/problems/min-stack/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/min-stack/</a>) by making two stacks, but in the pop function if I compare s.peek() == ss.peek() if statement does not execute why?</p>\n<pre><code>class MinStack {\n        Stack &lt;Integer&gt; s = new Stack&lt;&gt;();\n        Stack &lt;Integer&gt; ss = new Stack&lt;&gt;();\n        \n    public MinStack() {\n       \n    }\n    \n    public void push(int val) {\n        if(ss.isEmpty() || val&lt;=ss.peek()) ss.push(val);\n        s.push(val);\n        return;\n    }\n    \n    public void pop() {\n        if(s.isEmpty()) return;\n        int a = s.peek();\n        int b = ss.peek();\n        \n        if(s.peek() == ss.peek(){\n        //this does not work\n            ss.pop();\n        }\n\n        if(a == b){\n            ss.pop();\n        }\n        s.pop();\n        return;\n    }\n    \n    public int top() {\n        if(s.isEmpty()) return -1;\n        return s.peek();\n    }\n    \n    public int getMin() {\n        if(ss.isEmpty()) return -1;\n        return ss.peek();\n    }\n}\n/**\n * Your MinStack object will be instantiated and called as such:\n * MinStack obj = new MinStack();\n * obj.push(val);\n * obj.pop();\n * int param_3 = obj.top();\n * int param_4 = obj.getMin();\n */\n</code></pre>\n"},{"tags":["java","jsp","jstl"],"comments":[{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":1,"creation_date":1656076409,"post_id":72743425,"comment_id":128490191,"body_markdown":"It is not clear what you are asking. Are you trying to extract the color from your string? Or are you trying to list all categories with their value?","body":"It is not clear what you are asking. Are you trying to extract the color from your string? Or are you trying to list all categories with their value?"},{"owner":{"account_id":14702106,"reputation":13,"user_id":10617866,"display_name":"Serpher"},"score":0,"creation_date":1656104469,"post_id":72743425,"comment_id":128498649,"body_markdown":"@obourgain I&#39;m trying to get the name and its value. But these change positions in the array so it&#39;s not constant.","body":"@obourgain I&#39;m trying to get the name and its value. But these change positions in the array so it&#39;s not constant."}],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656311729,"creation_date":1656311729,"answer_id":72767837,"question_id":72743425,"body_markdown":"You can split the initial string and loop over each item to find the category you need:\r\n\r\n```html\r\n&lt;c:set var=&quot;string1&quot; value=&quot;22-04-19 20:34:00!Color::blue!Manufacturer::Ford!Seats::4!Climatronic::yes&quot; /&gt;\r\n\r\n&lt;c:set var=&quot;categories&quot; value = &quot;${fn:split(string1, &#39;!&#39;)}&quot; /&gt;\r\n&lt;c:forEach var=&quot;category&quot; items=&quot;${categories}&quot; varStatus=&quot;status&quot; &gt;\r\n    &lt;c:if test=&quot;${status.index != 0}&quot;&gt;\r\n        &lt;c:set var=&quot;decodedCategory&quot; value=&quot;${fn:split(category,&#39;::&#39;)}&quot; /&gt;\r\n        Category: &lt;c:out value=&quot;${decodedCategory[0]}&quot; /&gt;\r\n        Value: &lt;c:out value=&quot;${decodedCategory[1]}&quot; /&gt;\r\n        &lt;br /&gt;\r\n    &lt;/c:if&gt;\r\n&lt;/c:foreach&gt;\r\n```","title":"JSTL how to get dynamic token position","body":"<p>You can split the initial string and loop over each item to find the category you need:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:set var=&quot;string1&quot; value=&quot;22-04-19 20:34:00!Color::blue!Manufacturer::Ford!Seats::4!Climatronic::yes&quot; /&gt;\n\n&lt;c:set var=&quot;categories&quot; value = &quot;${fn:split(string1, '!')}&quot; /&gt;\n&lt;c:forEach var=&quot;category&quot; items=&quot;${categories}&quot; varStatus=&quot;status&quot; &gt;\n    &lt;c:if test=&quot;${status.index != 0}&quot;&gt;\n        &lt;c:set var=&quot;decodedCategory&quot; value=&quot;${fn:split(category,'::')}&quot; /&gt;\n        Category: &lt;c:out value=&quot;${decodedCategory[0]}&quot; /&gt;\n        Value: &lt;c:out value=&quot;${decodedCategory[1]}&quot; /&gt;\n        &lt;br /&gt;\n    &lt;/c:if&gt;\n&lt;/c:foreach&gt;\n</code></pre>\n"}],"owner":{"account_id":14702106,"reputation":13,"user_id":10617866,"display_name":"Serpher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656311729,"creation_date":1656070143,"question_id":72743425,"body_markdown":"I have something like this:\r\n\r\n**22-04-19 20:34:00!Color::blue!Manufacturer::Ford!Seats::4!Climatronic::yes**\r\n\r\nI want to get the name of the category and its value (category::value).\r\n\r\nThe problem is that these positions (category::value) can shift places. ForTokens is index is not good here as it can be one or 10 different tokens. \r\n\r\n    &lt;c:if test=&quot;${fn:contains(dataset, &#39;Color&#39;)}&quot;&gt;\r\n        &lt;c:set var=&quot;color1&quot; value=&quot;${fn:substringAfter(dataset, &#39;Color::&#39;)}&quot; /&gt;\r\n        &lt;c:set var=&quot;color2&quot; value=&quot;${fn:substringBefore(color1, &#39;!&#39;)}&quot; /&gt;\r\n    &lt;/c:if&gt;\r\n\r\nSomething like this will also not work as it will print out the same value until the new one will appear (will fill out all null cells). I&#39;m out of ideas.","title":"JSTL how to get dynamic token position","body":"<p>I have something like this:</p>\n<p><strong>22-04-19 20:34:00!Color::blue!Manufacturer::Ford!Seats::4!Climatronic::yes</strong></p>\n<p>I want to get the name of the category and its value (category::value).</p>\n<p>The problem is that these positions (category::value) can shift places. ForTokens is index is not good here as it can be one or 10 different tokens.</p>\n<pre><code>&lt;c:if test=&quot;${fn:contains(dataset, 'Color')}&quot;&gt;\n    &lt;c:set var=&quot;color1&quot; value=&quot;${fn:substringAfter(dataset, 'Color::')}&quot; /&gt;\n    &lt;c:set var=&quot;color2&quot; value=&quot;${fn:substringBefore(color1, '!')}&quot; /&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p>Something like this will also not work as it will print out the same value until the new one will appear (will fill out all null cells). I'm out of ideas.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1574289,"reputation":6940,"user_id":1461196,"accept_rate":76,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1496391868,"creation_date":1496391868,"answer_id":44324166,"question_id":44324060,"body_markdown":"From the Gradle Java plugin [docs](https://docs.gradle.org/3.3/userguide/java_plugin.html)\r\n\r\n[![build dependencies][1]][1]\r\n\r\nIt&#39;s dependencies are the check &amp; assemble task which you can see have their own dependencies\r\n\r\n  [1]: https://i.stack.imgur.com/iXo5v.png","title":"What does Gradle &#39;build&#39; task include exactly","body":"<p>From the Gradle Java plugin <a href=\"https://docs.gradle.org/3.3/userguide/java_plugin.html\" rel=\"noreferrer\">docs</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/iXo5v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iXo5v.png\" alt=\"build dependencies\"></a></p>\n\n<p>It's dependencies are the check &amp; assemble task which you can see have their own dependencies</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1564432973,"creation_date":1496392518,"answer_id":44324382,"question_id":44324060,"body_markdown":"You can use the [Gradle Task Tree Plugin](https://github.com/dorongold/gradle-task-tree) to see the task dependencies\r\n\r\neg:\r\n\r\n    plugins {\r\n        id &quot;com.dorongold.task-tree&quot; version &quot;1.3.1&quot;\r\n    }\r\n\r\nThen run\r\n\r\n    gradle build taskTree\r\n\r\nOutput\r\n\r\n    :build\r\n    +--- :assemble\r\n    |    \\--- :jar\r\n    |         \\--- :classes\r\n    |              +--- :compileJava\r\n    |              \\--- :processResources\r\n    \\--- :check\r\n         \\--- :test\r\n              +--- :classes\r\n              |    +--- :compileJava\r\n              |    \\--- :processResources\r\n              \\--- :testClasses\r\n                   +--- :compileTestJava\r\n                   |    \\--- :classes\r\n                   |         +--- :compileJava\r\n                   |         \\--- :processResources\r\n                   \\--- :processTestResources","title":"What does Gradle &#39;build&#39; task include exactly","body":"<p>You can use the <a href=\"https://github.com/dorongold/gradle-task-tree\" rel=\"noreferrer\">Gradle Task Tree Plugin</a> to see the task dependencies</p>\n\n<p>eg:</p>\n\n<pre><code>plugins {\n    id \"com.dorongold.task-tree\" version \"1.3.1\"\n}\n</code></pre>\n\n<p>Then run</p>\n\n<pre><code>gradle build taskTree\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>:build\n+--- :assemble\n|    \\--- :jar\n|         \\--- :classes\n|              +--- :compileJava\n|              \\--- :processResources\n\\--- :check\n     \\--- :test\n          +--- :classes\n          |    +--- :compileJava\n          |    \\--- :processResources\n          \\--- :testClasses\n               +--- :compileTestJava\n               |    \\--- :classes\n               |         +--- :compileJava\n               |         \\--- :processResources\n               \\--- :processTestResources\n</code></pre>\n"},{"tags":[],"owner":{"account_id":408656,"reputation":3489,"user_id":779449,"display_name":"Johnny Baloney"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1503444250,"creation_date":1503338967,"answer_id":45803271,"question_id":44324060,"body_markdown":"Starting with [version 4.0](https://docs.gradle.org/4.0/userguide/console.html#sec:console_build_output) you have to run `gradle build --console=plain` to see the complete list of task dependencies.\r\n\r\nIf you use `java-base` plugin then the dependencies are:\r\n\r\n    $ gradle build --console=plain\r\n    :assemble\r\n    :check\r\n    :build\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you use `java` (which [automatically applies](https://docs.gradle.org/current/userguide/standard_plugins.html#sec:language_plugins) `java-base`) then the dependencies are:\r\n\r\n    $ gradle build --console=plain\r\n    :compileJava\r\n    :processResources\r\n    :classes\r\n    :jar\r\n    :assemble\r\n    :compileTestJava\r\n    :processTestResources\r\n    :testClasses\r\n    :test\r\n    :check\r\n    :build\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn order to see the exact chain of dependencies shown in the pictures above I used a little Perl helper that can be run inside of a Gradle project. It produces a [dot][1] string describing dependency graph:\r\n\r\n    #/bin/perl\r\n    use strict;\r\n    \r\n    my @deps;\r\n    my %tasks;\r\n    \r\n    getDeps($ARGV[0]);\r\n    printDot();\r\n    \r\n    sub getDeps {\r\n        my $task = shift;\r\n        $tasks{$task} = &quot;&quot;;\r\n        chomp(my @subtasks = `gradle $task`);\r\n        @subtasks = grep { $_ =~ &quot;^:&quot; } @subtasks;\r\n        pop @subtasks;\r\n        foreach(@subtasks) {\r\n            my ($s) = $_ =~ &quot;^:(.*) &quot;;\r\n            push @deps, &quot;$task -&gt; $s;&quot;;\r\n            if(!defined $tasks{$s}) {getDeps($s)}\r\n        }\r\n    }\r\n    \r\n    sub printDot {\r\n        my $dot = &quot;digraph main {\\n&quot;;\r\n        if(@deps&gt;1) {\r\n            foreach(@deps) {$dot .= &quot;$_\\n&quot;}\r\n        } else {\r\n            $dot .= &quot;$ARGV[0];\\n&quot;;\r\n        }\r\n        print $dot . &quot;}&quot;;\r\n    }\r\n\r\nThen run the following to turn the output into a PNG image:\r\n\r\n    $ t=build; perl dependencies.pl $t | tred | dot -T png &gt; $t.png\r\n\r\nor ASCII text:\r\n\r\n    $ t=build; perl dependencies.pl $t | tred | graph-easy &gt; $t.txt\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/DOT_%28graph_description_language%29\r\n  [2]: https://i.stack.imgur.com/PWErg.png\r\n  [3]: https://i.stack.imgur.com/eQWXM.png","title":"What does Gradle &#39;build&#39; task include exactly","body":"<p>Starting with <a href=\"https://docs.gradle.org/4.0/userguide/console.html#sec:console_build_output\" rel=\"noreferrer\">version 4.0</a> you have to run <code>gradle build --console=plain</code> to see the complete list of task dependencies.</p>\n\n<p>If you use <code>java-base</code> plugin then the dependencies are:</p>\n\n<pre><code>$ gradle build --console=plain\n:assemble\n:check\n:build\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PWErg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PWErg.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you use <code>java</code> (which <a href=\"https://docs.gradle.org/current/userguide/standard_plugins.html#sec:language_plugins\" rel=\"noreferrer\">automatically applies</a> <code>java-base</code>) then the dependencies are:</p>\n\n<pre><code>$ gradle build --console=plain\n:compileJava\n:processResources\n:classes\n:jar\n:assemble\n:compileTestJava\n:processTestResources\n:testClasses\n:test\n:check\n:build\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eQWXM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eQWXM.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to see the exact chain of dependencies shown in the pictures above I used a little Perl helper that can be run inside of a Gradle project. It produces a <a href=\"https://en.wikipedia.org/wiki/DOT_%28graph_description_language%29\" rel=\"noreferrer\">dot</a> string describing dependency graph:</p>\n\n<pre><code>#/bin/perl\nuse strict;\n\nmy @deps;\nmy %tasks;\n\ngetDeps($ARGV[0]);\nprintDot();\n\nsub getDeps {\n    my $task = shift;\n    $tasks{$task} = \"\";\n    chomp(my @subtasks = `gradle $task`);\n    @subtasks = grep { $_ =~ \"^:\" } @subtasks;\n    pop @subtasks;\n    foreach(@subtasks) {\n        my ($s) = $_ =~ \"^:(.*) \";\n        push @deps, \"$task -&gt; $s;\";\n        if(!defined $tasks{$s}) {getDeps($s)}\n    }\n}\n\nsub printDot {\n    my $dot = \"digraph main {\\n\";\n    if(@deps&gt;1) {\n        foreach(@deps) {$dot .= \"$_\\n\"}\n    } else {\n        $dot .= \"$ARGV[0];\\n\";\n    }\n    print $dot . \"}\";\n}\n</code></pre>\n\n<p>Then run the following to turn the output into a PNG image:</p>\n\n<pre><code>$ t=build; perl dependencies.pl $t | tred | dot -T png &gt; $t.png\n</code></pre>\n\n<p>or ASCII text:</p>\n\n<pre><code>$ t=build; perl dependencies.pl $t | tred | graph-easy &gt; $t.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656311726,"creation_date":1629435051,"answer_id":68857139,"question_id":44324060,"body_markdown":"### In short:\r\nCompiles, tests and assembles the code into a JAR file\r\n\r\n\r\n### More info [here](https://spring.io/guides/gs/gradle/):\r\n\r\n&gt; You’ll use the gradle build task frequently. This task compiles,\r\n&gt; tests, and assembles the code into a JAR file. You can run it like\r\n&gt; this:\r\n&gt; \r\n&gt; \tgradle build\r\n&gt; \r\n&gt; After a few seconds, &quot;BUILD SUCCESSFUL&quot; indicates that the build has\r\n&gt; completed.\r\n&gt; \r\n&gt; To see the results of the build effort, take a look in the build\r\n&gt; folder. Therein you’ll find several directories, including these three\r\n&gt; notable folders:\r\n&gt; \r\n&gt; - classes. The project’s compiled .class files.\r\n&gt; - reports. Reports produced by the build (such as test reports).\r\n&gt; - libs. Assembled project libraries (usually JAR and/or WAR files).\r\n\r\n### Gradle Tasks view of Eclipse / Spring Tool Suite\r\n[![enter image description here][1]][1]\r\n\r\n\r\n### Sample dry-run:\r\n`gradlew build --dry-run`&lt;br&gt; \r\n`gradlew -m build` (Same as above)\r\n\r\n&gt; :compileJava SKIPPED&lt;br&gt; :processResources SKIPPED&lt;br&gt; :classes\r\n&gt; SKIPPED&lt;br&gt; :bootWarMainClassName SKIPPED&lt;br&gt; :bootWar SKIPPED&lt;br&gt;\r\n&gt; :bootStartScripts SKIPPED&lt;br&gt; :bootDistTar SKIPPED&lt;br&gt; :bootDistZip\r\n&gt; SKIPPED&lt;br&gt; :jar SKIPPED&lt;br&gt; :startScripts SKIPPED&lt;br&gt; :distTar\r\n&gt; SKIPPED&lt;br&gt; :distZip SKIPPED&lt;br&gt; :war SKIPPED&lt;br&gt; :assemble\r\n&gt; SKIPPED&lt;br&gt; :compileTestJava SKIPPED&lt;br&gt; :processTestResources\r\n&gt; SKIPPED&lt;br&gt; :testClasses SKIPPED&lt;br&gt; :test SKIPPED&lt;br&gt; :check\r\n&gt; SKIPPED&lt;br&gt; :build SKIPPED&lt;br&gt;\r\n&gt; \r\n&gt; BUILD SUCCESSFUL in 32s\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2dbNG.png","title":"What does Gradle &#39;build&#39; task include exactly","body":"<h3>In short:</h3>\n<p>Compiles, tests and assembles the code into a JAR file</p>\n<h3>More info <a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">here</a>:</h3>\n<blockquote>\n<p>You’ll use the gradle build task frequently. This task compiles,\ntests, and assembles the code into a JAR file. You can run it like\nthis:</p>\n<p>gradle build</p>\n<p>After a few seconds, &quot;BUILD SUCCESSFUL&quot; indicates that the build has\ncompleted.</p>\n<p>To see the results of the build effort, take a look in the build\nfolder. Therein you’ll find several directories, including these three\nnotable folders:</p>\n<ul>\n<li>classes. The project’s compiled .class files.</li>\n<li>reports. Reports produced by the build (such as test reports).</li>\n<li>libs. Assembled project libraries (usually JAR and/or WAR files).</li>\n</ul>\n</blockquote>\n<h3>Gradle Tasks view of Eclipse / Spring Tool Suite</h3>\n<p><a href=\"https://i.stack.imgur.com/2dbNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dbNG.png\" alt=\"enter image description here\" /></a></p>\n<h3>Sample dry-run:</h3>\n<p><code>gradlew build --dry-run</code><br>\n<code>gradlew -m build</code> (Same as above)</p>\n<blockquote>\n<p>:compileJava SKIPPED<br> :processResources SKIPPED<br> :classes\nSKIPPED<br> :bootWarMainClassName SKIPPED<br> :bootWar SKIPPED<br>\n:bootStartScripts SKIPPED<br> :bootDistTar SKIPPED<br> :bootDistZip\nSKIPPED<br> :jar SKIPPED<br> :startScripts SKIPPED<br> :distTar\nSKIPPED<br> :distZip SKIPPED<br> :war SKIPPED<br> :assemble\nSKIPPED<br> :compileTestJava SKIPPED<br> :processTestResources\nSKIPPED<br> :testClasses SKIPPED<br> :test SKIPPED<br> :check\nSKIPPED<br> :build SKIPPED<br></p>\n<p>BUILD SUCCESSFUL in 32s</p>\n</blockquote>\n"}],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21392,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":44324382,"answer_count":4,"score":45,"last_activity_date":1656311726,"creation_date":1496391496,"question_id":44324060,"body_markdown":"I have searched on Gradle docs and on the stackoverflow and some other places but I can&#39;t find information about what is bundled in this task in depth, or I missed it, if so please point me to the direction.\r\n\r\n- It comes from `java-base` plugin, right?\r\n- Running `gradle -q tasks` doesn&#39;t say much about it.\r\n\r\n&gt; build - Assembles and tests this project.\r\n\r\n- Running `gradle help --task build` shows detailed info, ok - but it show where the task is used, in which groups is included, type of a task, and paths.\r\n\r\n- I have tried to track manually what does comes with it, and noticed, compile, test etc tasks.\r\n\r\nI would like to know what exactly comes from Gradle build task, what are the task dependencies.\r\n","title":"What does Gradle &#39;build&#39; task include exactly","body":"<p>I have searched on Gradle docs and on the stackoverflow and some other places but I can't find information about what is bundled in this task in depth, or I missed it, if so please point me to the direction.</p>\n\n<ul>\n<li>It comes from <code>java-base</code> plugin, right?</li>\n<li>Running <code>gradle -q tasks</code> doesn't say much about it.</li>\n</ul>\n\n<blockquote>\n  <p>build - Assembles and tests this project.</p>\n</blockquote>\n\n<ul>\n<li><p>Running <code>gradle help --task build</code> shows detailed info, ok - but it show where the task is used, in which groups is included, type of a task, and paths.</p></li>\n<li><p>I have tried to track manually what does comes with it, and noticed, compile, test etc tasks.</p></li>\n</ul>\n\n<p>I would like to know what exactly comes from Gradle build task, what are the task dependencies.</p>\n"},{"tags":["java","keycloak","keycloak-services","keycloak-rest-api","keycloak-connect"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1656067484,"post_id":72742567,"comment_id":128486812,"body_markdown":"read the logs and find any more details (error message, stacktrace) when the error occurs","body":"read the logs and find any more details (error message, stacktrace) when the error occurs"},{"owner":{"account_id":6500089,"reputation":658,"user_id":5031257,"display_name":"Muhammed Yal&#231;ın Kuru"},"score":0,"creation_date":1656332463,"post_id":72742567,"comment_id":128538279,"body_markdown":"I think the issue not related to email configuration. Issue might be caused by varied JDK version. look at to https://stackoverflow.com/a/48694075/5031257","body":"I think the issue not related to email configuration. Issue might be caused by varied JDK version. look at to <a href=\"https://stackoverflow.com/a/48694075/5031257\">stackoverflow.com/a/48694075/5031257</a>"}],"answers":[{"tags":[],"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656067655,"creation_date":1656067655,"answer_id":72742920,"question_id":72742567,"body_markdown":"Apparently you should ensure your admin account has its email address set and then use that email address for the `From` field in configuration. You should also enable &quot;less secure apps&quot; in your gmail settings.\r\n\r\n@rounakcodes has described the steps in blog post here: https://dev.to/rounakcodes/keycloak-configure-realm-email-settings-gmail-3dfn","title":"Keycloak 15.1.0 forgot password","body":"<p>Apparently you should ensure your admin account has its email address set and then use that email address for the <code>From</code> field in configuration. You should also enable &quot;less secure apps&quot; in your gmail settings.</p>\n<p>@rounakcodes has described the steps in blog post here: <a href=\"https://dev.to/rounakcodes/keycloak-configure-realm-email-settings-gmail-3dfn\" rel=\"nofollow noreferrer\">https://dev.to/rounakcodes/keycloak-configure-realm-email-settings-gmail-3dfn</a></p>\n"}],"owner":{"account_id":25637101,"reputation":1,"user_id":19406544,"display_name":"nexuiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656311709,"creation_date":1656065991,"question_id":72742567,"body_markdown":"I&#39;ve tried in many ways to reset my password from keycloak standalone 15.1.0 but never succesed. Every time it&#39;s say &quot;We are sorry...An internal server error has occurred&quot;\r\nI set up already my realm with my email account and gmail host and i Enable Authentication and entered my credentials of the mail account. It&#39;s any another settings i need to do? \r\n\r\n[ScreenShot][1]\r\n\r\n:56:54,144 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-54) Uncaught server error: java.lang.NoSuchMethodError: java.nio.ByteBuffer.clear()Ljava/nio/ByteBuffer; at org.keycloak.vault.DefaultVaultRawSecret.close(DefaultVaultRawSecret.java:90) at org.keycloak.vault.DefaultVaultTranscriber.getStringSecret(DefaultVaultTranscriber.java:96) at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:144) at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:264) at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135) at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1013) at sun.reflect.GeneratedMethodAccessor841.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138) at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546) at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435) at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396) at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358) at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398) at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365) at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150) at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110) at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141) at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104) at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440) at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229) at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135) at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358) at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138) at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215) at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245) at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61) at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41) at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43) at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117) at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50) at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68) at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387) at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841) at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280) at java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xkr1q.png","title":"Keycloak 15.1.0 forgot password","body":"<p>I've tried in many ways to reset my password from keycloak standalone 15.1.0 but never succesed. Every time it's say &quot;We are sorry...An internal server error has occurred&quot;\nI set up already my realm with my email account and gmail host and i Enable Authentication and entered my credentials of the mail account. It's any another settings i need to do?</p>\n<p><a href=\"https://i.stack.imgur.com/xkr1q.png\" rel=\"nofollow noreferrer\">ScreenShot</a></p>\n<p>:56:54,144 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-54) Uncaught server error: java.lang.NoSuchMethodError: java.nio.ByteBuffer.clear()Ljava/nio/ByteBuffer; at org.keycloak.vault.DefaultVaultRawSecret.close(DefaultVaultRawSecret.java:90) at org.keycloak.vault.DefaultVaultTranscriber.getStringSecret(DefaultVaultTranscriber.java:96) at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:144) at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:264) at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135) at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1013) at sun.reflect.GeneratedMethodAccessor841.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138) at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546) at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435) at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396) at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358) at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398) at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365) at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150) at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110) at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141) at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104) at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440) at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229) at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135) at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358) at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138) at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215) at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245) at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61) at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129) at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41) at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43) at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39) at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61) at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131) at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84) at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68) at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68) at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117) at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60) at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77) at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50) at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68) at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52) at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269) at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133) at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130) at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48) at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43) at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530) at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249) at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78) at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99) at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387) at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841) at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35) at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486) at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377) at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280) at java.lang.Thread.run(Unknown Source)</p>\n"},{"tags":["java","ocsp"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1656323813,"post_id":72725193,"comment_id":128535195,"body_markdown":"There is no function to check solely for OCSP or more generally revocation. The CertPath API checks for validity _including_ but not limited to nonrevocation, which _can_ (at least with the usual providers) include OCSP. Yes it is not trivial. But you don&#39;t need to care about JSSE: while that provides hooks for TrustManager and KeyManager (and more), the _default_ calls the same CertPath API you can, adding some SSL/TLS-specific checks. Although I recommend using doc newer than java 7, which was already obsolete in 2016.","body":"There is no function to check solely for OCSP or more generally revocation. The CertPath API checks for validity <i>including</i> but not limited to nonrevocation, which <i>can</i> (at least with the usual providers) include OCSP. Yes it is not trivial. But you don&#39;t need to care about JSSE: while that provides hooks for TrustManager and KeyManager (and more), the <i>default</i> calls the same CertPath API you can, adding some SSL/TLS-specific checks. Although I recommend using doc newer than java 7, which was already obsolete in 2016."}],"owner":{"account_id":22509486,"reputation":67,"user_id":16704621,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656311428,"creation_date":1655963858,"question_id":72725193,"body_markdown":"How to check with Java and OCSP that the certificate is not revoked? For me the best choise would be use some programmatic solution, because I&#39;m calling the OCSP check from the custom code. I want just call something like `OCSPChecker.checkCertificateRevocationStatus` method.\r\n\r\nThe Oracle has the internal `sun.security.provider.certpath.OCSP` class for this, but it&#39;s not good habit to use the internal class.\r\n\r\n[This Stackoverflow page][1] offers deep information about the issue, but further link resources [Java Secure Socket Extension (JSSE)\r\nReference Guide][2] and [Java PKI Programmer&#39;s Guide][3] seem quite complicated.\r\n\r\nSo what is the easiest way to do the certificate revocation check programatically with OCSP and Java? I prefer basic public Java API solution, but also simple open source libraries could be used.\r\n\r\n  [1]: https://stackoverflow.com/questions/40821619/which-java-api-should-i-use-for-implementing-certificate-verification-with-ocsp\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AppC","title":"How to check with Java and OCSP that the certificate is not revoked","body":"<p>How to check with Java and OCSP that the certificate is not revoked? For me the best choise would be use some programmatic solution, because I'm calling the OCSP check from the custom code. I want just call something like <code>OCSPChecker.checkCertificateRevocationStatus</code> method.</p>\n<p>The Oracle has the internal <code>sun.security.provider.certpath.OCSP</code> class for this, but it's not good habit to use the internal class.</p>\n<p><a href=\"https://stackoverflow.com/questions/40821619/which-java-api-should-i-use-for-implementing-certificate-verification-with-ocsp\">This Stackoverflow page</a> offers deep information about the issue, but further link resources <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html\" rel=\"nofollow noreferrer\">Java Secure Socket Extension (JSSE)\nReference Guide</a> and <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AppC\" rel=\"nofollow noreferrer\">Java PKI Programmer's Guide</a> seem quite complicated.</p>\n<p>So what is the easiest way to do the certificate revocation check programatically with OCSP and Java? I prefer basic public Java API solution, but also simple open source libraries could be used.</p>\n"},{"tags":["java","multithreading","async-await","executorservice","runnable"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1656310468,"post_id":72767356,"comment_id":128530962,"body_markdown":"try first calling `shutdown()` and `awaitTermination()` afterwards.","body":"try first calling <code>shutdown()</code> and <code>awaitTermination()</code> afterwards."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656314274,"post_id":72767356,"comment_id":128531983,"body_markdown":"You shouldn&#39;t call `awaitTermination` **before** calling `shutdown()` or `shutdownNow()`.","body":"You shouldn&#39;t call <code>awaitTermination</code> <b>before</b> calling <code>shutdown()</code> or <code>shutdownNow()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656311348,"creation_date":1656310586,"answer_id":72767660,"question_id":72767356,"body_markdown":"&gt; Seems the ExecutorService.awaitXXX and shutdown() doesn&#39;t block the\r\n&gt; main thread\r\n\r\nMethod `awaitTermination()` does **block** the calling thread, but you&#39;ve specified the timeout of `0` seconds. Quote from the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)):\r\n \r\n&gt; Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first.\r\n\r\nIn case if you expected that `awaitTermination()` will interrupt submitted tasks, then your expectation is wrong, it wouldn&#39;t do that. This method only allows you to specify the period to wait and reports whether executor is done or not.\r\n\r\n&gt; **Returns:**\r\ntrue if this executor terminated and false if the timeout elapsed before termination\r\n\r\nMethod [`shutdown()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()) also will **not** interrupt any tasks that are previously submitted:\r\n\r\n&gt; Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.\r\n\r\nIf you wish to try to interrupt submitted tasks, use [`shutdownNow()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()).\r\n\r\n&gt; Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.\r\n\r\n*Note:* usage of `shutdown()` is a preferred approach.","title":"Does java ExecutorService.awaitTermination() block the main thread and wait?","body":"<blockquote>\n<p>Seems the ExecutorService.awaitXXX and shutdown() doesn't block the\nmain thread</p>\n</blockquote>\n<p>Method <code>awaitTermination()</code> does <strong>block</strong> the calling thread, but you've specified the timeout of <code>0</code> seconds. Quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first.</p>\n</blockquote>\n<p>In case if you expected that <code>awaitTermination()</code> will interrupt submitted tasks, then your expectation is wrong, it wouldn't do that. This method only allows you to specify the period to wait and reports whether executor is done or not.</p>\n<blockquote>\n<p><strong>Returns:</strong>\ntrue if this executor terminated and false if the timeout elapsed before termination</p>\n</blockquote>\n<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>shutdown()</code></a> also will <strong>not</strong> interrupt any tasks that are previously submitted:</p>\n<blockquote>\n<p>Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.</p>\n</blockquote>\n<p>If you wish to try to interrupt submitted tasks, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()\" rel=\"nofollow noreferrer\"><code>shutdownNow()</code></a>.</p>\n<blockquote>\n<p>Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.</p>\n</blockquote>\n<p><em>Note:</em> usage of <code>shutdown()</code> is a preferred approach.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656310894,"creation_date":1656310894,"answer_id":72767691,"question_id":72767356,"body_markdown":"From [the Javadocs of `ExecutorService#awaitTermination`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)):\r\n\r\n&gt; Blocks until all tasks have completed execution **after** a shutdown request\r\n\r\nThis means that `awaitTermination` will only work after a shutdown request so you need to call `shutdown()` before `awaitTermination()`.\r\n\r\nFurthermore, as [the other answer by @Alexander Ivanchenko](https://stackoverflow.com/a/72767660/10871900) mentions, setting a timeout of 0L will not wait for anything and `awaitTermination` indicates whether the thread terminated in time via a return value. The `InterruptedException` is thrown if your main thread is interrupted by another thread.","title":"Does java ExecutorService.awaitTermination() block the main thread and wait?","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">the Javadocs of <code>ExecutorService#awaitTermination</code></a>:</p>\n<blockquote>\n<p>Blocks until all tasks have completed execution <strong>after</strong> a shutdown request</p>\n</blockquote>\n<p>This means that <code>awaitTermination</code> will only work after a shutdown request so you need to call <code>shutdown()</code> before <code>awaitTermination()</code>.</p>\n<p>Furthermore, as <a href=\"https://stackoverflow.com/a/72767660/10871900\">the other answer by @Alexander Ivanchenko</a> mentions, setting a timeout of 0L will not wait for anything and <code>awaitTermination</code> indicates whether the thread terminated in time via a return value. The <code>InterruptedException</code> is thrown if your main thread is interrupted by another thread.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72767660,"answer_count":2,"score":-2,"last_activity_date":1656311348,"creation_date":1656308094,"question_id":72767356,"body_markdown":"I&#39;ve this test code:\r\n```\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n    executor.execute(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        try {\r\n          System.out.println(&quot;run begins&quot;);\r\n          Thread.sleep(1000);\r\n          System.out.println(&quot;run ends&quot;);\r\n        } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    });\r\n    try {\r\n      executor.awaitTermination(0L, TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n    executor.shutdown();\r\n    System.out.println(&quot;-----------&quot;);\r\n```\r\nI expected that, as the Runnable should sleep 1s and then ends, then executor await its termination and shutdown, finally, ```System.out.println(&quot;-----------&quot;);``` is executed.\r\n\r\nBut the real output is:\r\n```\r\n-----------\r\nrun begins\r\nrun ends\r\n```\r\n\r\nThe execution sequence doesn&#39;t make much sense to me. Seems the ExecutorService.awaitXXX and shutdown() doesn&#39;t block the main thread. The ```System.out.println(&quot;-----------&quot;);``` was the first code line to print, and then the Runnable code.\r\n\r\nIs this the designed behavior? \r\n\r\nIf yes, then my question is: if awaitXXXX method doesn&#39;t block the main thread, how does the main thread know when ```ExecutorService``` is done? ","title":"Does java ExecutorService.awaitTermination() block the main thread and wait?","body":"<p>I've this test code:</p>\n<pre><code>    ExecutorService executor = Executors.newFixedThreadPool(3);\n    executor.execute(new Runnable() {\n      @Override\n      public void run() {\n        try {\n          System.out.println(&quot;run begins&quot;);\n          Thread.sleep(1000);\n          System.out.println(&quot;run ends&quot;);\n        } catch (InterruptedException e) {\n          e.printStackTrace();\n        }\n      }\n    });\n    try {\n      executor.awaitTermination(0L, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n    executor.shutdown();\n    System.out.println(&quot;-----------&quot;);\n</code></pre>\n<p>I expected that, as the Runnable should sleep 1s and then ends, then executor await its termination and shutdown, finally, <code>System.out.println(&quot;-----------&quot;);</code> is executed.</p>\n<p>But the real output is:</p>\n<pre><code>-----------\nrun begins\nrun ends\n</code></pre>\n<p>The execution sequence doesn't make much sense to me. Seems the ExecutorService.awaitXXX and shutdown() doesn't block the main thread. The <code>System.out.println(&quot;-----------&quot;);</code> was the first code line to print, and then the Runnable code.</p>\n<p>Is this the designed behavior?</p>\n<p>If yes, then my question is: if awaitXXXX method doesn't block the main thread, how does the main thread know when <code>ExecutorService</code> is done?</p>\n"},{"tags":["java","firebase","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645605000,"post_id":71233172,"comment_id":125913146,"body_markdown":"There is no attempt in your code that does that. Can you please share the core where you are trying to a random document?","body":"There is no attempt in your code that does that. Can you please share the core where you are trying to a random document?"}],"answers":[{"tags":[],"owner":{"account_id":23998144,"reputation":155,"user_id":17983433,"display_name":"Gum Naam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656311105,"creation_date":1645886453,"answer_id":71277530,"question_id":71233172,"body_markdown":"`Collections.shuffle` randomize the list and will show random data each time recyclerview is refreshed. Update your code like this:\r\n\r\n     databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    EntrepreneurModel EntrepreneurModel = dataSnapshot.getValue(EntrepreneurModel.class);\r\n                    EntrepreneurList.add(EntrepreneurModel);\r\n                    Collections.shuffle(EntrepreneurList); \r\n                }","title":"how to get Random data from Firebase in android studio","body":"<p><code>Collections.shuffle</code> randomize the list and will show random data each time recyclerview is refreshed. Update your code like this:</p>\n<pre><code> databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                EntrepreneurModel EntrepreneurModel = dataSnapshot.getValue(EntrepreneurModel.class);\n                EntrepreneurList.add(EntrepreneurModel);\n                Collections.shuffle(EntrepreneurList); \n            }\n</code></pre>\n"}],"owner":{"display_name":"user17524957"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71277530,"answer_count":1,"score":0,"last_activity_date":1656311105,"creation_date":1645603130,"question_id":71233172,"body_markdown":"I want to display random data or quotes from firebase Recyclerview in android studio using java. How to load random data from firebase?\r\n\r\n     EntrepreneurRV = (RecyclerView) findViewById(R.id.EntrepreneurRV);\r\n        EntrepreneurRV.setLayoutManager(new LinearLayoutManager(this));\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Entrepreneur Quotes&quot;);\r\n        EntrepreneurRV.setHasFixedSize(true);\r\n\r\n\r\n        EntrepreneurList = new ArrayList&lt;&gt;();\r\n        EntrepreneurAdapter = new EntrepreneurAdapter(this, EntrepreneurList);\r\n        EntrepreneurRV.setAdapter(EntrepreneurAdapter);\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    EntrepreneurModel EntrepreneurModel = dataSnapshot.getValue(EntrepreneurModel.class);\r\n                    EntrepreneurList.add(EntrepreneurModel);\r\n                }\r\n\r\n                EntrepreneurAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }","title":"how to get Random data from Firebase in android studio","body":"<p>I want to display random data or quotes from firebase Recyclerview in android studio using java. How to load random data from firebase?</p>\n<pre><code> EntrepreneurRV = (RecyclerView) findViewById(R.id.EntrepreneurRV);\n    EntrepreneurRV.setLayoutManager(new LinearLayoutManager(this));\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Entrepreneur Quotes&quot;);\n    EntrepreneurRV.setHasFixedSize(true);\n\n\n    EntrepreneurList = new ArrayList&lt;&gt;();\n    EntrepreneurAdapter = new EntrepreneurAdapter(this, EntrepreneurList);\n    EntrepreneurRV.setAdapter(EntrepreneurAdapter);\n\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                EntrepreneurModel EntrepreneurModel = dataSnapshot.getValue(EntrepreneurModel.class);\n                EntrepreneurList.add(EntrepreneurModel);\n            }\n\n            EntrepreneurAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":3407171,"reputation":344,"user_id":2857972,"display_name":"DEVAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656310680,"creation_date":1656310680,"answer_id":72767673,"question_id":72518405,"body_markdown":"I had to write the custom marshal and unmarshal logic to achieve the result\r\n\r\n    import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\r\n    \r\n    \r\n        @XmlJavaTypeAdapter(TestAdapter.class)\r\n        public enum Test\r\n        {\r\n         A,\r\n         B,\r\n         C\r\n        }\r\n    \r\n        public class TestAdapter extends XmlAdapter&lt;Test, Test&gt;\r\n        {\r\n            public Test unmarshal(Test v) throws Exception\r\n            {\r\n                if (v == Test.C)\r\n                {\r\n                    return null;\r\n                }\r\n                return v;\r\n            }\r\n        \r\n            public Test marshal(Test v) throws Exception\r\n            {\r\n                if (v == Test.C)\r\n                {\r\n                    return null;\r\n                }\r\n                return v;\r\n            }\r\n        }\r\n\r\n","title":"Javax XmlTransient not working for a enum field","body":"<p>I had to write the custom marshal and unmarshal logic to achieve the result</p>\n<pre><code>import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\n\n\n    @XmlJavaTypeAdapter(TestAdapter.class)\n    public enum Test\n    {\n     A,\n     B,\n     C\n    }\n\n    public class TestAdapter extends XmlAdapter&lt;Test, Test&gt;\n    {\n        public Test unmarshal(Test v) throws Exception\n        {\n            if (v == Test.C)\n            {\n                return null;\n            }\n            return v;\n        }\n    \n        public Test marshal(Test v) throws Exception\n        {\n            if (v == Test.C)\n            {\n                return null;\n            }\n            return v;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3407171,"reputation":344,"user_id":2857972,"display_name":"DEVAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656310680,"creation_date":1654522019,"question_id":72518405,"body_markdown":"I have the following Enum class \r\n```\r\npublic enum Test\r\n{\r\n A,\r\n B,\r\n C\r\n}\r\n```\r\nand the xml generated for this is\r\n\r\n```\r\n&lt;xs:simpleType name=&quot;Test&quot;&gt;\r\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n&lt;xs:enumeration value=&quot;A&quot;/&gt;\r\n&lt;xs:enumeration value=&quot;B&quot;/&gt;\r\n&lt;xs:enumeration value=&quot;C&quot;/&gt;\r\n&lt;/xs:restriction&gt;\r\n&lt;/xs:simpleType&gt;\r\n```\r\n\r\nI don&#39;t want to include the C value in xml as I am using this for some internal logic only\r\n\r\nBasically, I want the following generated xml\r\n\r\n```\r\n&lt;xs:simpleType name=&quot;Test&quot;&gt;\r\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n&lt;xs:enumeration value=&quot;A&quot;/&gt;\r\n&lt;xs:enumeration value=&quot;B&quot;/&gt;\r\n&lt;/xs:restriction&gt;\r\n&lt;/xs:simpleType&gt;\r\n```\r\nI tried the below code but it&#39;s not working\r\n\r\n```\r\npublic enum Test\r\n{\r\n A,\r\n B,\r\n @XmlTransient\r\n C\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Javax XmlTransient not working for a enum field","body":"<p>I have the following Enum class</p>\n<pre><code>public enum Test\n{\n A,\n B,\n C\n}\n</code></pre>\n<p>and the xml generated for this is</p>\n<pre><code>&lt;xs:simpleType name=&quot;Test&quot;&gt;\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\n&lt;xs:enumeration value=&quot;A&quot;/&gt;\n&lt;xs:enumeration value=&quot;B&quot;/&gt;\n&lt;xs:enumeration value=&quot;C&quot;/&gt;\n&lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n<p>I don't want to include the C value in xml as I am using this for some internal logic only</p>\n<p>Basically, I want the following generated xml</p>\n<pre><code>&lt;xs:simpleType name=&quot;Test&quot;&gt;\n&lt;xs:restriction base=&quot;xs:string&quot;&gt;\n&lt;xs:enumeration value=&quot;A&quot;/&gt;\n&lt;xs:enumeration value=&quot;B&quot;/&gt;\n&lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n<p>I tried the below code but it's not working</p>\n<pre><code>public enum Test\n{\n A,\n B,\n @XmlTransient\n C\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":8564274,"reputation":131,"user_id":6417269,"display_name":"Alberto Vazquez"},"score":1,"creation_date":1655906815,"post_id":72716310,"comment_id":128443587,"body_markdown":"Dude it is necessary use a RecyclerView or what about of LinearLayout orientation horizontal, and 3 views inside of it. Is possible use RecyclerView but i think the LinearLayout adjust better for your case","body":"Dude it is necessary use a RecyclerView or what about of LinearLayout orientation horizontal, and 3 views inside of it. Is possible use RecyclerView but i think the LinearLayout adjust better for your case"},{"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"score":0,"creation_date":1655909326,"post_id":72716310,"comment_id":128444860,"body_markdown":"I think you mean fit three items on the screen but you still have other ones inside the `RecyclerView`,  I had the same issue in the past so look at my question it may help you https://stackoverflow.com/questions/72509294/how-to-fit-number-of-imageviews-inside-recyclerview","body":"I think you mean fit three items on the screen but you still have other ones inside the <code>RecyclerView</code>,  I had the same issue in the past so look at my question it may help you <a href=\"https://stackoverflow.com/questions/72509294/how-to-fit-number-of-imageviews-inside-recyclerview\" title=\"how to fit number of imageviews inside recyclerview\">stackoverflow.com/questions/72509294/&hellip;</a>"},{"owner":{"account_id":20000842,"reputation":51,"user_id":14659821,"display_name":"Vivekajee"},"score":0,"creation_date":1656130653,"post_id":72716310,"comment_id":128501931,"body_markdown":"@AimanAlyosofi actually in different different screen size that item count is varying 2.5,3&amp;3.5 items like that","body":"@AimanAlyosofi actually in different different screen size that item count is varying 2.5,3&amp;3.5 items like that"},{"owner":{"account_id":20000842,"reputation":51,"user_id":14659821,"display_name":"Vivekajee"},"score":0,"creation_date":1656130785,"post_id":72716310,"comment_id":128501945,"body_markdown":"@AlbertoVazquez without Recycler view how can we call dynamic data in that.","body":"@AlbertoVazquez without Recycler view how can we call dynamic data in that."}],"owner":{"account_id":20000842,"reputation":51,"user_id":14659821,"display_name":"Vivekajee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656310396,"creation_date":1655904081,"question_id":72716310,"body_markdown":"Please help Me,\r\n\r\nI am trying to create a specific type of recycler view which can have always 3 items in all kind of mobile phone. Whether that mobile is having 4 inch display or 6.5 inch display.\r\n\r\n\r\nPlease tell me if that is possible or not.\r\n\r\nmy code of xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;100dp&quot;\r\n    android:id=&quot;@+id/recomended&quot;\r\n    android:layout_margin=&quot;6dp&quot;\r\n    android:background=&quot;@drawable/graycurverdbtn&quot;\r\n    android:layout_height=&quot;170dp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;85dp&quot;\r\n\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        android:src=&quot;@drawable/mountain&quot;&gt;\r\n\r\n    &lt;/ImageView&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n\r\n\r\n        &gt;\r\n\r\n        &lt;TextView\r\n\r\n            android:id=&quot;@+id/pinkbtn&quot;\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:background=&quot;@drawable/pinkcurvedbtn&quot;\r\n            android:gravity=&quot;center&quot;\r\n        android:padding=&quot;3dp&quot;\r\n            android:text=&quot;Recomended&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;9dp&quot;&gt;\r\n\r\n        &lt;/TextView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n\r\n        android:layout_below=&quot;@id/image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n\r\n        android:layout_margin=&quot;8dp&quot;\r\n     &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textStyle=&quot;normal&quot;\r\n                android:layout_margin=&quot;6dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textSize=&quot;10sp&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:text=&quot;Pest control&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n            &lt;View\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:background=&quot;@color/grey&quot;&gt;&lt;/View&gt;\r\n            &lt;TextView\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:id=&quot;@+id/shopname&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;10dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:text=&quot;K02BgbhdAf&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n            &lt;TextView\r\n                android:visibility=&quot;gone&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:drawableLeft=&quot;@drawable/graylocation&quot;\r\n                android:text=&quot;Airport Road&quot;\r\n                android:id=&quot;@+id/address&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;normal&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nThis is my Adapter code\r\n```\r\npublic class OurrecomendedAdapter extends RecyclerView.Adapter&lt;OurrecomendedAdapter.MyViewHolder&gt; {\r\n\r\n    private List&lt;HomeResponse.Recommend&gt; ourrecomendedlist = new ArrayList&lt;&gt;();\r\n    private Context context;\r\n    public static int recomendedid=0;\r\n    public OurrecomendedAdapter(List&lt;HomeResponse.Recommend&gt; list, Context context) {\r\n        this.ourrecomendedlist = list;\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.recomemdedservices_item, parent, false);\r\n//        itemView.setLayoutParams(new ViewGroup.LayoutParams((int) (parent.getWidth() * 0.3),ViewGroup.LayoutParams.MATCH_PARENT));\r\n        return new MyViewHolder(itemView);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n\r\n        holder.title.setText(ourrecomendedlist.get(position).getCategory().getSlug());\r\n        holder.shopname.setText(ourrecomendedlist.get(position).getCategory().getName());\r\n\r\n        Picasso.get().load(ourrecomendedlist.get(position).getImage()).into(holder.image, new Callback() {\r\n            @Override\r\n           public void onSuccess() {\r\n\r\n           }\r\n\r\n            @Override\r\n            public void onError(Exception e) {\r\n\r\n            }\r\n        });\r\n        holder.recomended.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(ourrecomendedlist.get(position).getCategory().getName().toString().equalsIgnoreCase(&quot;salon for women&quot;) || ourrecomendedlist.get(position).getCategory().getName().toString().equalsIgnoreCase(&quot;salon for men&quot;)){\r\n\r\n                    AppCompatActivity activity = (AppCompatActivity) context;\r\n                    WomensalonlistFragment subc = new WomensalonlistFragment();\r\n                    Bundle args = new Bundle();\r\n                    args.putString(&quot;id&quot;, ourrecomendedlist.get(position).getProductcategoryId().toString());\r\n                    args.putString(&quot;title&quot;, ourrecomendedlist.get(position).getName());\r\n                    subc.setArguments(args);\r\n\r\n                    activity.getSupportFragmentManager().beginTransaction().addToBackStack(null).\r\n                            replace(R.id.nav_host_fragment, subc).commit();\r\n                }\r\n                else\r\n                {\r\n\r\n                    typeListid= ourrecomendedlist.get(position).getId().toString();\r\n                    Intent intent= new Intent(context, ProductdetailsActivity.class);\r\n                    intent.putExtra(&quot;productId&quot;,typeListid);\r\n                    context.startActivity(intent);\r\n\r\n\r\n                    HomeFragment.vendormainid=ourrecomendedlist.get(position).getId().toString();\r\n\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return this.ourrecomendedlist.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView name,title,shopname,address,pinkbtn;\r\n        Button addtocart;\r\n        ImageView image;\r\n        RelativeLayout recomended;\r\n\r\n        MyViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            addtocart=itemView.findViewById(R.id.addtocart);\r\n\r\n            image=itemView.findViewById(R.id.image);\r\n            title=itemView.findViewById(R.id.title);\r\n            shopname=itemView.findViewById(R.id.shopname);\r\n            address=itemView.findViewById(R.id.address);\r\n            recomended=itemView.findViewById(R.id.recomended);\r\n            name=itemView.findViewById(R.id.name);\r\n            pinkbtn=itemView.findViewById(R.id.pinkbtn);\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nin this i need to display our output as 3 items in each aspect-ratio mobile.\r\nbut I&#39;m unable to achieve that. If I&#39;m opening in big screen mobile then it&#39;s showing 3.5 items and in small device some times it&#39;s showing 2.75 items.\r\n\r\nKindly help me in that how to achieve that exact output.","title":"Create the Recycler view with fixed item count in horizontal scroll","body":"<p>Please help Me,</p>\n<p>I am trying to create a specific type of recycler view which can have always 3 items in all kind of mobile phone. Whether that mobile is having 4 inch display or 6.5 inch display.</p>\n<p>Please tell me if that is possible or not.</p>\n<p>my code of xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;100dp&quot;\n    android:id=&quot;@+id/recomended&quot;\n    android:layout_margin=&quot;6dp&quot;\n    android:background=&quot;@drawable/graycurverdbtn&quot;\n    android:layout_height=&quot;170dp&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;85dp&quot;\n\n        android:scaleType=&quot;fitCenter&quot;\n        android:src=&quot;@drawable/mountain&quot;&gt;\n\n    &lt;/ImageView&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:gravity=&quot;center&quot;\n\n\n        &gt;\n\n        &lt;TextView\n\n            android:id=&quot;@+id/pinkbtn&quot;\n\n            android:layout_width=&quot;match_parent&quot;\n\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:background=&quot;@drawable/pinkcurvedbtn&quot;\n            android:gravity=&quot;center&quot;\n        android:padding=&quot;3dp&quot;\n            android:text=&quot;Recomended&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;9dp&quot;&gt;\n\n        &lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n\n        android:layout_below=&quot;@id/image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n\n        android:layout_margin=&quot;8dp&quot;\n     &gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n            &lt;TextView\n                android:id=&quot;@+id/title&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textStyle=&quot;normal&quot;\n                android:layout_margin=&quot;6dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textSize=&quot;10sp&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:text=&quot;Pest control&quot;&gt;\n\n            &lt;/TextView&gt;\n            &lt;View\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                android:background=&quot;@color/grey&quot;&gt;&lt;/View&gt;\n            &lt;TextView\n                android:layout_margin=&quot;8dp&quot;\n                android:id=&quot;@+id/shopname&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textSize=&quot;10dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:text=&quot;K02BgbhdAf&quot;&gt;\n\n            &lt;/TextView&gt;\n            &lt;TextView\n                android:visibility=&quot;gone&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:drawableLeft=&quot;@drawable/graylocation&quot;\n                android:text=&quot;Airport Road&quot;\n                android:id=&quot;@+id/address&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;normal&quot;&gt;\n\n            &lt;/TextView&gt;\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This is my Adapter code</p>\n<pre><code>public class OurrecomendedAdapter extends RecyclerView.Adapter&lt;OurrecomendedAdapter.MyViewHolder&gt; {\n\n    private List&lt;HomeResponse.Recommend&gt; ourrecomendedlist = new ArrayList&lt;&gt;();\n    private Context context;\n    public static int recomendedid=0;\n    public OurrecomendedAdapter(List&lt;HomeResponse.Recommend&gt; list, Context context) {\n        this.ourrecomendedlist = list;\n        this.context = context;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.recomemdedservices_item, parent, false);\n//        itemView.setLayoutParams(new ViewGroup.LayoutParams((int) (parent.getWidth() * 0.3),ViewGroup.LayoutParams.MATCH_PARENT));\n        return new MyViewHolder(itemView);\n\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n\n        holder.title.setText(ourrecomendedlist.get(position).getCategory().getSlug());\n        holder.shopname.setText(ourrecomendedlist.get(position).getCategory().getName());\n\n        Picasso.get().load(ourrecomendedlist.get(position).getImage()).into(holder.image, new Callback() {\n            @Override\n           public void onSuccess() {\n\n           }\n\n            @Override\n            public void onError(Exception e) {\n\n            }\n        });\n        holder.recomended.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(ourrecomendedlist.get(position).getCategory().getName().toString().equalsIgnoreCase(&quot;salon for women&quot;) || ourrecomendedlist.get(position).getCategory().getName().toString().equalsIgnoreCase(&quot;salon for men&quot;)){\n\n                    AppCompatActivity activity = (AppCompatActivity) context;\n                    WomensalonlistFragment subc = new WomensalonlistFragment();\n                    Bundle args = new Bundle();\n                    args.putString(&quot;id&quot;, ourrecomendedlist.get(position).getProductcategoryId().toString());\n                    args.putString(&quot;title&quot;, ourrecomendedlist.get(position).getName());\n                    subc.setArguments(args);\n\n                    activity.getSupportFragmentManager().beginTransaction().addToBackStack(null).\n                            replace(R.id.nav_host_fragment, subc).commit();\n                }\n                else\n                {\n\n                    typeListid= ourrecomendedlist.get(position).getId().toString();\n                    Intent intent= new Intent(context, ProductdetailsActivity.class);\n                    intent.putExtra(&quot;productId&quot;,typeListid);\n                    context.startActivity(intent);\n\n\n                    HomeFragment.vendormainid=ourrecomendedlist.get(position).getId().toString();\n\n                }\n\n\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return this.ourrecomendedlist.size();\n    }\n\n    class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView name,title,shopname,address,pinkbtn;\n        Button addtocart;\n        ImageView image;\n        RelativeLayout recomended;\n\n        MyViewHolder(View itemView) {\n            super(itemView);\n\n            addtocart=itemView.findViewById(R.id.addtocart);\n\n            image=itemView.findViewById(R.id.image);\n            title=itemView.findViewById(R.id.title);\n            shopname=itemView.findViewById(R.id.shopname);\n            address=itemView.findViewById(R.id.address);\n            recomended=itemView.findViewById(R.id.recomended);\n            name=itemView.findViewById(R.id.name);\n            pinkbtn=itemView.findViewById(R.id.pinkbtn);\n\n\n\n        }\n\n    }\n}\n\n</code></pre>\n<p>in this i need to display our output as 3 items in each aspect-ratio mobile.\nbut I'm unable to achieve that. If I'm opening in big screen mobile then it's showing 3.5 items and in small device some times it's showing 2.75 items.</p>\n<p>Kindly help me in that how to achieve that exact output.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1319601064,"creation_date":1319601064,"answer_id":7898553,"question_id":7898446,"body_markdown":"I think in Maven2 there is no way to achieve this, because this is what POM inheritance is for \r\n.  However there is one trick that I can think of:\r\n\r\nAssume you have the right to upload artifact to your internal artifact repository.  You may create an empty JAR, deploy it as log4j:log4j, with a obviously abnormal version (e.g. log4j:log4j:9999 ).  Add such dependency in your project-child.  Then it will override the dependency of parent to depends on a in-fact-empty JAR.","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>I think in Maven2 there is no way to achieve this, because this is what POM inheritance is for \n.  However there is one trick that I can think of:</p>\n\n<p>Assume you have the right to upload artifact to your internal artifact repository.  You may create an empty JAR, deploy it as log4j:log4j, with a obviously abnormal version (e.g. log4j:log4j:9999 ).  Add such dependency in your project-child.  Then it will override the dependency of parent to depends on a in-fact-empty JAR.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319607336,"creation_date":1319606716,"answer_id":7898973,"question_id":7898446,"body_markdown":"If I understand the question, what you need is something like the following.  It pulls in a dependency and excludes that dependency from adding to its dependency list.  Often this is used if you want to inject a newer version of a package instead of the one referenced in the other package.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t...\r\n\t\t&lt;/exclusions&gt;\r\n\t\t...\r\n\r\nIf you are instead talking about a `&lt;parent&gt;` relationship then I&#39;m not sure there is a way to do this.  Can you switch from being a `&lt;parent&gt;` to a `&lt;dependency&gt;`?","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>If I understand the question, what you need is something like the following.  It pulls in a dependency and excludes that dependency from adding to its dependency list.  Often this is used if you want to inject a newer version of a package instead of the one referenced in the other package.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.15&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n            &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        ...\n    &lt;/exclusions&gt;\n    ...\n</code></pre>\n\n<p>If you are instead talking about a <code>&lt;parent&gt;</code> relationship then I'm not sure there is a way to do this.  Can you switch from being a <code>&lt;parent&gt;</code> to a <code>&lt;dependency&gt;</code>?</p>\n"},{"tags":[],"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1319622391,"creation_date":1319622391,"answer_id":7901049,"question_id":7898446,"body_markdown":"I don&#39;t know of a way of actually excluding a dependency, but you can exclude it from the target distribution, but it&#39;s a bit of a hack. You need to change the scope of the dependency to something that you can exclude in the final distribution.\r\n\r\nSo, say that my parent had a dependency on junit 4.8, in my pom you say:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.8&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSo we&#39;re changing the scope to provided. For an explanation of how this works, see my answer to [NoClassDefFoundError: org/junit/AfterClass during annotation processing][1].  Unfortunately, this doesn&#39;t affect the build, but when you&#39;re copying the dependencies for the final distribution, you can use the `excludeScope` configuration element to not copy the dependency into the final distribution:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;copy-libs&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7373105/noclassdeffounderror-org-junit-afterclass-during-annotation-processing/7375380#7375380","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>I don't know of a way of actually excluding a dependency, but you can exclude it from the target distribution, but it's a bit of a hack. You need to change the scope of the dependency to something that you can exclude in the final distribution.</p>\n\n<p>So, say that my parent had a dependency on junit 4.8, in my pom you say:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.8&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So we're changing the scope to provided. For an explanation of how this works, see my answer to <a href=\"https://stackoverflow.com/questions/7373105/noclassdeffounderror-org-junit-afterclass-during-annotation-processing/7375380#7375380\">NoClassDefFoundError: org/junit/AfterClass during annotation processing</a>.  Unfortunately, this doesn't affect the build, but when you're copying the dependencies for the final distribution, you can use the <code>excludeScope</code> configuration element to not copy the dependency into the final distribution:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;copy-libs&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n            &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7087199,"reputation":103,"user_id":5423660,"display_name":"fwc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458938019,"creation_date":1458938019,"answer_id":36227599,"question_id":7898446,"body_markdown":"One hacky way to accomplish this is to specify the dependency in project-child but with &#39;test&#39; scope (or whatever lightest-weight scope is available).  This will &quot;hide&quot; the scope specified in project-parent so that it is available only to test code, and unavailable to non-test code at both compile and runtime.\r\n\r\nI came across this bug-feature mostly by mistake.  In my case, my project-child had a project-sibling with a &#39;compile&#39; scope dependency, while project-parent had the same dependency specified (actually inherited from a grandparent) with &#39;provided&#39; scope.  project-child was an executable however that depended on project-sibling, and so a NoClassDefFoundError was thrown at runtime from project-sibling since project-child&#39;s runtime classpath was being used, which didn&#39;t include the &#39;provided&#39; dependency.  I fixed this by moving the &#39;compile&#39; dependency from project-sibling to project-parent so that the &#39;compile&#39; would &quot;hide&quot; the &#39;provided&#39;.","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>One hacky way to accomplish this is to specify the dependency in project-child but with 'test' scope (or whatever lightest-weight scope is available).  This will \"hide\" the scope specified in project-parent so that it is available only to test code, and unavailable to non-test code at both compile and runtime.</p>\n\n<p>I came across this bug-feature mostly by mistake.  In my case, my project-child had a project-sibling with a 'compile' scope dependency, while project-parent had the same dependency specified (actually inherited from a grandparent) with 'provided' scope.  project-child was an executable however that depended on project-sibling, and so a NoClassDefFoundError was thrown at runtime from project-sibling since project-child's runtime classpath was being used, which didn't include the 'provided' dependency.  I fixed this by moving the 'compile' dependency from project-sibling to project-parent so that the 'compile' would \"hide\" the 'provided'.</p>\n"},{"tags":[],"owner":{"account_id":2817551,"reputation":227,"user_id":2422180,"display_name":"aluenkinglee"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492596621,"creation_date":1492596621,"answer_id":43492649,"question_id":7898446,"body_markdown":"I have met the same question just like you.\r\nIn my project, let call the parent pom is parent.pom. parent defined the log4j, slf4j like this:\r\n\r\n    \t   &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${slf4j-api.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${slf4j-api.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${slf4j-log4j12.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\nchild project invoke some dependency in child.pom. But I don&#39;t want the log4j-1.2.x dependency and want to increase the version of slf4j.\r\n\r\nSo. I add the dependency of parent\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myartifactId&lt;/artifactId&gt;\r\n            &lt;version&gt;${my parent version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\nand use **exclusions** to remove the **log4j** \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myartifactId&lt;/artifactId&gt;\r\n            &lt;version&gt;${my parent version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n       \r\nand explicitly add the slf4j and log4j2&#39;s dependency in child pom\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen use **mvn dependency:tree** to show the dependency list, still see the log4j\r\n\r\n    [INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.2.0:compile\r\n    [INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\r\n    [INFO] |  +- org.scala-lang:scala-library:jar:2.10.4:compile\r\n    [INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\r\n    [INFO] |  |  +- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\r\n    [INFO] |  |  +- log4j:log4j:jar:1.2.17:compile\r\n\r\nwell, let&#39;s add the exclusions on that dependency...remove this guy.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.1.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen run the command again to check the dependency list. OK! clear~\r\n\r\nHope that can help you :&gt;\r\n\r\n","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>I have met the same question just like you.\nIn my project, let call the parent pom is parent.pom. parent defined the log4j, slf4j like this:</p>\n\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j-log4j12.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>child project invoke some dependency in child.pom. But I don't want the log4j-1.2.x dependency and want to increase the version of slf4j.</p>\n\n<p>So. I add the dependency of parent</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;parent&lt;/groupId&gt;\n        &lt;artifactId&gt;myartifactId&lt;/artifactId&gt;\n        &lt;version&gt;${my parent version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and use <strong>exclusions</strong> to remove the <strong>log4j</strong> </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;parent&lt;/groupId&gt;\n        &lt;artifactId&gt;myartifactId&lt;/artifactId&gt;\n        &lt;version&gt;${my parent version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and explicitly add the slf4j and log4j2's dependency in child pom</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n        &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n        &lt;version&gt;3.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>then use <strong>mvn dependency:tree</strong> to show the dependency list, still see the log4j</p>\n\n<pre><code>[INFO] +- org.apache.kafka:kafka_2.10:jar:0.8.2.0:compile\n[INFO] |  +- com.yammer.metrics:metrics-core:jar:2.2.0:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.10.4:compile\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.4.6:compile\n[INFO] |  |  +- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\n[INFO] |  |  +- log4j:log4j:jar:1.2.17:compile\n</code></pre>\n\n<p>well, let's add the exclusions on that dependency...remove this guy.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;0.10.1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>then run the command again to check the dependency list. OK! clear~</p>\n\n<p>Hope that can help you :></p>\n"},{"tags":[],"owner":{"account_id":2509719,"reputation":651,"user_id":2182500,"display_name":"Laguh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570716722,"creation_date":1570716722,"answer_id":58324973,"question_id":7898446,"body_markdown":"I have managed to exclude a transient dependency from a parent pom. By re-importing it in `&lt;dependencymanagement&gt;` and then setting exclusion por the dependency I wanted out. like this eg.:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>I have managed to exclude a transient dependency from a parent pom. By re-importing it in <code>&lt;dependencymanagement&gt;</code> and then setting exclusion por the dependency I wanted out. like this eg.:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656310218,"creation_date":1656309881,"answer_id":72767566,"question_id":7898446,"body_markdown":"1) find out actual base package for your unwanted dependency\r\n\r\n&gt; mvn dependency:tree\r\n\r\nAnalyse this output and find out actual base package for your unwanted dependency\r\n\r\n2) now add dependency of base package again in child pom and use exclude tag\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;base group id&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;base artifact id&lt;/artifactId&gt;\r\n\t&lt;version&gt;version&lt;/version&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;your unwanted dependency group id&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;your unwanted dependency artifact id&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n3) check again \r\n\r\n&gt; mvn dependency:tree\r\n\r\nunwanted dependency should be removed.","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<ol>\n<li>find out actual base package for your unwanted dependency</li>\n</ol>\n<blockquote>\n<p>mvn dependency:tree</p>\n</blockquote>\n<p>Analyse this output and find out actual base package for your unwanted dependency</p>\n<ol start=\"2\">\n<li>now add dependency of base package again in child pom and use exclude tag</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;base group id&lt;/groupId&gt;\n    &lt;artifactId&gt;base artifact id&lt;/artifactId&gt;\n    &lt;version&gt;version&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;your unwanted dependency group id&lt;/groupId&gt;\n            &lt;artifactId&gt;your unwanted dependency artifact id&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"3\">\n<li>check again</li>\n</ol>\n<blockquote>\n<p>mvn dependency:tree</p>\n</blockquote>\n<p>unwanted dependency should be removed.</p>\n"}],"owner":{"account_id":276181,"reputation":1989,"user_id":569472,"accept_rate":57,"display_name":"Smartmarkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62673,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":7898553,"answer_count":7,"score":42,"last_activity_date":1656310218,"creation_date":1319599688,"question_id":7898446,"body_markdown":"For example, I have 2 Maven projects. One is &quot;project-parent&quot;. The other is &quot;project-child&quot;. Obviously, &quot;project-child&quot; is the sub project of &quot;project-parent&quot;. \r\n\r\n&quot;project-parent&quot; has a dependency of log4j. But I want to exclude it from the &quot;project-child&quot;. Is there a way?\r\n\r\nYou might say I should move log4j from &quot;project-parent&quot; to &quot;project-child&quot;. That is totally correct. **But the assumption is I CANNOT modify &quot;project-parent&quot;&#39;s POM.**\r\n\r\nThanks in advance.  ","title":"How to exclude a dependency from parent&#39;s project in Maven?","body":"<p>For example, I have 2 Maven projects. One is \"project-parent\". The other is \"project-child\". Obviously, \"project-child\" is the sub project of \"project-parent\". </p>\n\n<p>\"project-parent\" has a dependency of log4j. But I want to exclude it from the \"project-child\". Is there a way?</p>\n\n<p>You might say I should move log4j from \"project-parent\" to \"project-child\". That is totally correct. <strong>But the assumption is I CANNOT modify \"project-parent\"'s POM.</strong></p>\n\n<p>Thanks in advance.  </p>\n"},{"tags":["javascript","java","angular","typescript","jsp"],"answers":[{"tags":[],"owner":{"account_id":4376310,"reputation":3350,"user_id":3569246,"accept_rate":68,"display_name":"JoannaFalkowska"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655820392,"creation_date":1655815094,"answer_id":72700920,"question_id":72693926,"body_markdown":"Well, it would be good if your team first fully grasped what are the implications of MFEs or WebComponents as tools.\r\n\r\n---\r\n\r\nMicro Frontends are self-contained, stateful, full-fledged, and **fully black-box** applications. Maybe it would help your team to think about them as `iframe`s. \r\n\r\nYou stick a MFE app somewhere on your page, and that is _it_. It does its own thing. The host app just hosts all the MFE apps on all the different http ports, but it doesn&#39;t know anything about what&#39;s going on inside of them. \r\n\r\nIn the simplest classic example, there is no communication between the host and the apps, and the apps also never ever talk to each other. AFAIR, if you wanted them to communicate, it&#39;s theoretically possible to do that via http (since they do actually live on specific ports), or wild shenanigans like utilizing `LocalStorage`. But it&#39;s generally not easy.\r\n\r\n---\r\n\r\nWebComponents, on the other hand, are just raw components that do one specific thing. They are also black boxes, but usually super tiny and thin. You can think of them as something like `input`.\r\n\r\nAn `input` knows how it should be styled, it knows which raw browser Web APIs it should talk to, it knows that it should render text in response to the user typing on their keyboard, and how to expose a couple values and events to the external world. But ultimately, an `input` in itself is pretty dumb and can hardly be called an &quot;application&quot;. It&#39;s just a small building block of the actual modern JS app.\r\n\r\n`input`s also don&#39;t talk to each other - why would they - but they expose clear, native html APIs for input and output, so the host app can very easily talk to them and make use of them. The host is still responsible for actually knowing how to do that though.\r\n\r\n---\r\n\r\nAs for your use case, your options depend on your team&#39;s technical and business needs.\r\n\r\n1. MFE Federation is a pretty strictly defined type of architecture. It might work in your use case, but you&#39;ll need to consider that trying to organize any kind of communication between these separate apps later on is asking for trouble.\r\n\r\n2. On the other hand, if you really want to just have a bunch of modern JS components that you could stick anywhere in your existing JSP code, then WebComponents might be your best bet. IIRC, Angular components [can be built and used as WebComponents][1] like in your example, so it could be viable to write them in Angular (and then possibly migrate the entire app to an actual Angular SPA sometime later). The problem is that these components won&#39;t do anything by themselves, they still need the host page to actually use them.\r\n\r\n3. It might also viable to write just one application with a bunch of lazy-loaded modules - which the standard straightforward case in modern Angular - and let it live under some specific routes. You would then just start rewriting pages in Angular one by one. Nobody likes that, but sometimes it&#39;s just what has to be done. As an upside, in that case at least you would have an actual modern Angular app as the host for all the JS components, instead of whatever JSP thing you currently have.\r\n\r\n4. In theory you can mix-and-match approaches 2. and 3., with some pages only partially using the new shiny WebComponents, and some pages fully rewritten. It&#39;s probably what will have to eventually happen, but I&#39;d try to initially stick to just 2 or just 3, to make the first steps of the migration simpler for your inexperienced devs.\r\n\r\n---\r\n\r\nWhether you choose Webpack MFE Federation, JS/Angular WebComponents, or a simple Angular SPA, I would strongly recommend looking into [NX][2], which is a very powerful, framework-agnostic JS monorepo toolset. Among other features, it should help you solve the problem of managing the code between teams.\r\n\r\nWith NX, you can add arbitrary tags to all of your  modules, and make the linter track and ban the dependencies between specific tags. As a simple example, your could say that modules tagged `team-a` cannot be used by `team-b` or `team-c`, so that Team A can safely do whatever they want in them without breaking anything that other teams actively use.\r\n\r\n\r\n  [1]: https://indepth.dev/posts/1116/angular-web-components-a-complete-guide\r\n  [2]: https://nx.dev/","title":"Migration to Angular: micro frontend w/ web components vs lazy loaded modules?","body":"<p>Well, it would be good if your team first fully grasped what are the implications of MFEs or WebComponents as tools.</p>\n<hr />\n<p>Micro Frontends are self-contained, stateful, full-fledged, and <strong>fully black-box</strong> applications. Maybe it would help your team to think about them as <code>iframe</code>s.</p>\n<p>You stick a MFE app somewhere on your page, and that is <em>it</em>. It does its own thing. The host app just hosts all the MFE apps on all the different http ports, but it doesn't know anything about what's going on inside of them.</p>\n<p>In the simplest classic example, there is no communication between the host and the apps, and the apps also never ever talk to each other. AFAIR, if you wanted them to communicate, it's theoretically possible to do that via http (since they do actually live on specific ports), or wild shenanigans like utilizing <code>LocalStorage</code>. But it's generally not easy.</p>\n<hr />\n<p>WebComponents, on the other hand, are just raw components that do one specific thing. They are also black boxes, but usually super tiny and thin. You can think of them as something like <code>input</code>.</p>\n<p>An <code>input</code> knows how it should be styled, it knows which raw browser Web APIs it should talk to, it knows that it should render text in response to the user typing on their keyboard, and how to expose a couple values and events to the external world. But ultimately, an <code>input</code> in itself is pretty dumb and can hardly be called an &quot;application&quot;. It's just a small building block of the actual modern JS app.</p>\n<p><code>input</code>s also don't talk to each other - why would they - but they expose clear, native html APIs for input and output, so the host app can very easily talk to them and make use of them. The host is still responsible for actually knowing how to do that though.</p>\n<hr />\n<p>As for your use case, your options depend on your team's technical and business needs.</p>\n<ol>\n<li><p>MFE Federation is a pretty strictly defined type of architecture. It might work in your use case, but you'll need to consider that trying to organize any kind of communication between these separate apps later on is asking for trouble.</p>\n</li>\n<li><p>On the other hand, if you really want to just have a bunch of modern JS components that you could stick anywhere in your existing JSP code, then WebComponents might be your best bet. IIRC, Angular components <a href=\"https://indepth.dev/posts/1116/angular-web-components-a-complete-guide\" rel=\"nofollow noreferrer\">can be built and used as WebComponents</a> like in your example, so it could be viable to write them in Angular (and then possibly migrate the entire app to an actual Angular SPA sometime later). The problem is that these components won't do anything by themselves, they still need the host page to actually use them.</p>\n</li>\n<li><p>It might also viable to write just one application with a bunch of lazy-loaded modules - which the standard straightforward case in modern Angular - and let it live under some specific routes. You would then just start rewriting pages in Angular one by one. Nobody likes that, but sometimes it's just what has to be done. As an upside, in that case at least you would have an actual modern Angular app as the host for all the JS components, instead of whatever JSP thing you currently have.</p>\n</li>\n<li><p>In theory you can mix-and-match approaches 2. and 3., with some pages only partially using the new shiny WebComponents, and some pages fully rewritten. It's probably what will have to eventually happen, but I'd try to initially stick to just 2 or just 3, to make the first steps of the migration simpler for your inexperienced devs.</p>\n</li>\n</ol>\n<hr />\n<p>Whether you choose Webpack MFE Federation, JS/Angular WebComponents, or a simple Angular SPA, I would strongly recommend looking into <a href=\"https://nx.dev/\" rel=\"nofollow noreferrer\">NX</a>, which is a very powerful, framework-agnostic JS monorepo toolset. Among other features, it should help you solve the problem of managing the code between teams.</p>\n<p>With NX, you can add arbitrary tags to all of your  modules, and make the linter track and ban the dependencies between specific tags. As a simple example, your could say that modules tagged <code>team-a</code> cannot be used by <code>team-b</code> or <code>team-c</code>, so that Team A can safely do whatever they want in them without breaking anything that other teams actively use.</p>\n"}],"owner":{"account_id":8905056,"reputation":2366,"user_id":6647188,"accept_rate":70,"display_name":"Kyle Vassella"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655832722,"accepted_answer_id":72700920,"answer_count":1,"score":1,"last_activity_date":1656309966,"creation_date":1655768172,"question_id":72693926,"body_markdown":"We have an large application spread across multiple teams, built with Java Server Pages. The goal is to migrate to Angular. A monolithic migration/launch was deemed not practical, so a gradual migration is preferred.\r\n\r\nThe idea is to use a Webpack 5 Module Federation app shell to load Angular micro frontend remotes into the existing JSP app. **The question is whether to load the remotes as Angular apps or Web Components**. The thought is that Web Components might allow them to embed a reusable microfrontend fragment into the JSPs in cases where they can&#39;t migrate an entire page at once, or they have components that will exist in both the unmigrated JSPs and the new Angular pages.\r\n\r\nAfter the migration, they&#39;ll either keep the micro frontend architecture if it&#39;s justified, or abandon it and merge the remotes into one Angular app.\r\n\r\nAnother alternative might be lazy loaded modules rather than opening the pandora&#39;s box of micro frontend architecture. Just informally split the app up into lazy loaded modules per team. Downside here is possibly more teams stepping on each others toes in the repository, but that&#39;s no different than how they&#39;ve been operating. Their concern about lazy loading modules is they don&#39;t think they&#39;ll be able to do something like this:\r\n\r\n    &lt;!-- my ancient JSP site. LOL page load with every click --&gt;\r\n    &lt;JSP-header&gt;&lt;/JSP-header&gt;\r\n\r\n    &lt;myAngularComponent&gt;&lt;/myAngularComponent&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://lawlcats.com/myAngularComponent.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;JSP-footer&gt;&lt;/JSP-footer&gt;\r\n\r\n\r\nAll in all, the proposed solution is incredibly complex. These teams are brand new to Angular and are already considering combining different frameworks within a micro frontend architecture, AND implementing web components. Sounds like a huge lift to me. I&#39;m also unsure if they&#39;ve considered how they&#39;ll manage the repository across teams.\r\n\r\nDoes anyone see room for improvement or flaws in this plan? **I&#39;d love suggestions for the micro frontend remotes being Angular vs Web Components, vs abandoning micro frontends altogether in favor of lazy loaded modules.** \r\n\r\n\r\n\r\n","title":"Migration to Angular: micro frontend w/ web components vs lazy loaded modules?","body":"<p>We have an large application spread across multiple teams, built with Java Server Pages. The goal is to migrate to Angular. A monolithic migration/launch was deemed not practical, so a gradual migration is preferred.</p>\n<p>The idea is to use a Webpack 5 Module Federation app shell to load Angular micro frontend remotes into the existing JSP app. <strong>The question is whether to load the remotes as Angular apps or Web Components</strong>. The thought is that Web Components might allow them to embed a reusable microfrontend fragment into the JSPs in cases where they can't migrate an entire page at once, or they have components that will exist in both the unmigrated JSPs and the new Angular pages.</p>\n<p>After the migration, they'll either keep the micro frontend architecture if it's justified, or abandon it and merge the remotes into one Angular app.</p>\n<p>Another alternative might be lazy loaded modules rather than opening the pandora's box of micro frontend architecture. Just informally split the app up into lazy loaded modules per team. Downside here is possibly more teams stepping on each others toes in the repository, but that's no different than how they've been operating. Their concern about lazy loading modules is they don't think they'll be able to do something like this:</p>\n<pre><code>&lt;!-- my ancient JSP site. LOL page load with every click --&gt;\n&lt;JSP-header&gt;&lt;/JSP-header&gt;\n\n&lt;myAngularComponent&gt;&lt;/myAngularComponent&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://lawlcats.com/myAngularComponent.js&quot;&gt;&lt;/script&gt;\n\n&lt;JSP-footer&gt;&lt;/JSP-footer&gt;\n</code></pre>\n<p>All in all, the proposed solution is incredibly complex. These teams are brand new to Angular and are already considering combining different frameworks within a micro frontend architecture, AND implementing web components. Sounds like a huge lift to me. I'm also unsure if they've considered how they'll manage the repository across teams.</p>\n<p>Does anyone see room for improvement or flaws in this plan? <strong>I'd love suggestions for the micro frontend remotes being Angular vs Web Components, vs abandoning micro frontends altogether in favor of lazy loaded modules.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3958636,"reputation":3522,"user_id":3266367,"display_name":"Zohaib Amir"},"score":3,"creation_date":1573049562,"post_id":58731977,"comment_id":103754460,"body_markdown":"show the xml code since the error occurs when inflating.","body":"show the xml code since the error occurs when inflating."},{"owner":{"account_id":348638,"reputation":2336,"user_id":683444,"accept_rate":80,"display_name":"PedroAGSantos"},"score":0,"creation_date":1573049891,"post_id":58731977,"comment_id":103754638,"body_markdown":"https://stackoverflow.com/questions/51864498/my-app-keeps-crashing-fatal-exception and as @ZohaibAmir said xml I think Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable this line","body":"<a href=\"https://stackoverflow.com/questions/51864498/my-app-keeps-crashing-fatal-exception\" title=\"my app keeps crashing fatal exception\">stackoverflow.com/questions/51864498/&hellip;</a> and as @ZohaibAmir said xml I think Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable this line"},{"owner":{"account_id":17045513,"reputation":11,"user_id":12332467,"display_name":"Charlie Saber"},"score":0,"creation_date":1573051954,"post_id":58731977,"comment_id":103755872,"body_markdown":"Thanks guys for the help! Updated my post with the xml files.","body":"Thanks guys for the help! Updated my post with the xml files."}],"answers":[{"tags":[],"owner":{"account_id":2527174,"reputation":449,"user_id":2807405,"display_name":"dmastra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573050101,"creation_date":1573050101,"answer_id":58732253,"question_id":58731977,"body_markdown":"Please look at this line in your log:\r\n\r\n&gt; Caused by: android.content.res.Resources$NotFoundException: Drawable\r\n&gt; android:color/primary_text_light with resource ID #0x1060003\r\n&gt;      Caused by: android.content.res.Resources$NotFoundException: File res/color/primary_text_light.xml from drawable resource ID #0x1060003\r\n\r\n\r\nIt seems that &#39;primary_text_light.xml&#39; does not exist or cannot be found","title":"Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer?","body":"<p>Please look at this line in your log:</p>\n\n<blockquote>\n  <p>Caused by: android.content.res.Resources$NotFoundException: Drawable\n  android:color/primary_text_light with resource ID #0x1060003\n       Caused by: android.content.res.Resources$NotFoundException: File res/color/primary_text_light.xml from drawable resource ID #0x1060003</p>\n</blockquote>\n\n<p>It seems that 'primary_text_light.xml' does not exist or cannot be found</p>\n"},{"tags":[],"owner":{"account_id":5023322,"reputation":1,"user_id":4036147,"display_name":"vladimir vesely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656309882,"creation_date":1656096663,"answer_id":72748274,"question_id":58731977,"body_markdown":"I had the same issue. So I started a new empty project without my own code at all. The same error! There was only one xml-file and it had only 18 lines, but `logcat` complains on `line#27`! \r\n\r\nSo I merely **upgraded gradle** and empty app loaded on real device successfully.\r\n\r\n - Android Studio Chipmunk | 2021.2.1 Patch1 for Windows 64\r\n - Android Gradle Plugin version 7.2.1\r\n - Gradle version 7.3.3\r\n","title":"Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer?","body":"<p>I had the same issue. So I started a new empty project without my own code at all. The same error! There was only one xml-file and it had only 18 lines, but <code>logcat</code> complains on <code>line#27</code>!</p>\n<p>So I merely <strong>upgraded gradle</strong> and empty app loaded on real device successfully.</p>\n<ul>\n<li>Android Studio Chipmunk | 2021.2.1 Patch1 for Windows 64</li>\n<li>Android Gradle Plugin version 7.2.1</li>\n<li>Gradle version 7.3.3</li>\n</ul>\n"}],"owner":{"account_id":17045513,"reputation":11,"user_id":12332467,"display_name":"Charlie Saber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656309882,"creation_date":1573049308,"question_id":58731977,"body_markdown":"I tried everything but cannot seem to solve this error. All the solutions I am finding are for pre-androidx codes. I think I added all dependencies needed, but it still would not work. I have also updated my android studio and all the dependencies to their most recent version. Any help would be appreciated. Below are code snippets from my Android Studio Project:\r\n\r\n\r\n\r\n**Logcat**\r\n```\r\n    --------- beginning of crash\r\n2019-11-06 16:01:16.819 5559-5559/com.example.scientificcalculator E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.scientificcalculator, PID: 5559\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.scientificcalculator/com.example.scientificcalculator.MainActivity}: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n     Caused by: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n     Caused by: android.view.InflateException: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:749)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:659)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:552)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\r\n        at com.example.scientificcalculator.MainActivity.onCreate(MainActivity.java:44)\r\n        at android.app.Activity.performCreate(Activity.java:6975)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n     Caused by: android.content.res.Resources$NotFoundException: Drawable android:color/primary_text_light with resource ID #0x1060003\r\n     Caused by: android.content.res.Resources$NotFoundException: File res/color/primary_text_light.xml from drawable resource ID #0x1060003\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:768)\r\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:600)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:885)\r\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:953)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:928)\r\n        at androidx.appcompat.widget.ActionBarContainer.&lt;init&gt;(ActionBarContainer.java:67)\r\n2019-11-06 16:01:16.825 5559-5559/com.example.scientificcalculator E/AndroidRuntime:     at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:749)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:659)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:552)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\r\n        at com.example.scientificcalculator.MainActivity.onCreate(MainActivity.java:44)\r\n        at android.app.Activity.performCreate(Activity.java:6975)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable\r\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:189)\r\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\r\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:142)\r\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1295)\r\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1254)\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:758)\r\n        \t\r\n```\r\n**Build.Gradle**\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.scientificcalculator&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation files(&#39;libs/javaluator-3.0.3.jar&#39;)\r\n}\r\n```\r\n**Styles**\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.scientificcalculator&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation files(&#39;libs/javaluator-3.0.3.jar&#39;)\r\n}\r\n```\r\n\r\n**Color**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;color name=&quot;calculator_background&quot;&gt;#2196F3&lt;/color&gt;\r\n    &lt;color name=&quot;calculator_foreground&quot;&gt;#135ba3&lt;/color&gt;\r\n    &lt;color name=&quot;calculator_color&quot;&gt;#d9dfe4&lt;/color&gt;\r\n    &lt;color name=&quot;calculator_screen&quot;&gt;#d1e3e7&lt;/color&gt;\r\n    &lt;color name=&quot;icons&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;divider&quot;&gt;#B6B6B6&lt;/color&gt;\r\n    &lt;color name=&quot;primary_text&quot;&gt;#212121&lt;/color&gt;\r\n&lt;/resources&gt;\r\n```\r\n","title":"Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer?","body":"<p>I tried everything but cannot seem to solve this error. All the solutions I am finding are for pre-androidx codes. I think I added all dependencies needed, but it still would not work. I have also updated my android studio and all the dependencies to their most recent version. Any help would be appreciated. Below are code snippets from my Android Studio Project:</p>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>    --------- beginning of crash\n2019-11-06 16:01:16.819 5559-5559/com.example.scientificcalculator E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.scientificcalculator, PID: 5559\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.scientificcalculator/com.example.scientificcalculator.MainActivity}: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: android.view.InflateException: Binary XML file line #27: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n     Caused by: android.view.InflateException: Binary XML file line #27: Error inflating class androidx.appcompat.widget.ActionBarContainer\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:749)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:659)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:552)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n        at com.example.scientificcalculator.MainActivity.onCreate(MainActivity.java:44)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: android.content.res.Resources$NotFoundException: Drawable android:color/primary_text_light with resource ID #0x1060003\n     Caused by: android.content.res.Resources$NotFoundException: File res/color/primary_text_light.xml from drawable resource ID #0x1060003\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:768)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:600)\n        at android.content.res.Resources.loadDrawable(Resources.java:885)\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:953)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:928)\n        at androidx.appcompat.widget.ActionBarContainer.&lt;init&gt;(ActionBarContainer.java:67)\n2019-11-06 16:01:16.825 5559-5559/com.example.scientificcalculator E/AndroidRuntime:     at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:749)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:659)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:552)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n        at com.example.scientificcalculator.MainActivity.onCreate(MainActivity.java:44)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #18: &lt;item&gt; tag requires a 'drawable' attribute or child tag defining a drawable\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:189)\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:142)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1295)\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1254)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:758)\n\n</code></pre>\n\n<p><strong>Build.Gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.scientificcalculator\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation files('libs/javaluator-3.0.3.jar')\n}\n</code></pre>\n\n<p><strong>Styles</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.scientificcalculator\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation files('libs/javaluator-3.0.3.jar')\n}\n</code></pre>\n\n<p><strong>Color</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"calculator_background\"&gt;#2196F3&lt;/color&gt;\n    &lt;color name=\"calculator_foreground\"&gt;#135ba3&lt;/color&gt;\n    &lt;color name=\"calculator_color\"&gt;#d9dfe4&lt;/color&gt;\n    &lt;color name=\"calculator_screen\"&gt;#d1e3e7&lt;/color&gt;\n    &lt;color name=\"icons\"&gt;#FFFFFF&lt;/color&gt;\n    &lt;color name=\"divider\"&gt;#B6B6B6&lt;/color&gt;\n    &lt;color name=\"primary_text\"&gt;#212121&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":9262643,"reputation":21,"user_id":6879153,"display_name":"A. Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474841750,"creation_date":1474841750,"answer_id":39692355,"question_id":39680504,"body_markdown":"I am using below Java code to replace one image in Word document (*.docx). Please share if anyone have better approach.\r\n\r\n        public XWPFDocument replaceImage(XWPFDocument document, String imageOldName, String imagePathNew, int newImageWidth, int newImageHeight) throws Exception {\r\n\t\ttry {\r\n\t\t\tLOG.info(&quot;replaceImage: old=&quot; + imageOldName + &quot;, new=&quot; + imagePathNew);\r\n\t\t\t\r\n\t\t\tint imageParagraphPos = -1;\r\n\t\t\tXWPFParagraph imageParagraph = null;\r\n\t\t\t\r\n\t\t\tList&lt;IBodyElement&gt; documentElements = document.getBodyElements();\r\n\t\t\tfor(IBodyElement documentElement : documentElements){\r\n\t\t\t\timageParagraphPos ++;\r\n\t\t\t\tif(documentElement instanceof XWPFParagraph){\r\n\t\t\t\t\timageParagraph = (XWPFParagraph) documentElement;\r\n\t\t\t\t\tif(imageParagraph != null &amp;&amp; imageParagraph.getCTP() != null &amp;&amp; imageParagraph.getCTP().toString().trim().indexOf(imageOldName) != -1) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (imageParagraph == null) {\r\n\t\t\t\tthrow new Exception(&quot;Unable to replace image data due to the exception:\\n&quot;\r\n\t\t\t\t\t\t+ &quot;&#39;&quot; + imageOldName + &quot;&#39; not found in in document.&quot;);\r\n\t\t\t}\r\n\t\t\tParagraphAlignment oldImageAlignment = imageParagraph.getAlignment();\r\n\t\t\t\r\n\t\t\t// remove old image\r\n\t\t\tdocument.removeBodyElement(imageParagraphPos);\r\n\t\t\t\r\n\t\t\t// now add new image\r\n\t\t\t\r\n\t\t\t// BELOW LINE WILL CREATE AN IMAGE\r\n\t\t\t// PARAGRAPH AT THE END OF THE DOCUMENT.\r\n\t\t\t// REMOVE THIS IMAGE PARAGRAPH AFTER \r\n\t\t\t// SETTING THE NEW IMAGE AT THE OLD IMAGE POSITION\r\n\t\t\tXWPFParagraph newImageParagraph = document.createParagraph();    \r\n\t\t    XWPFRun newImageRun = newImageParagraph.createRun();\r\n\t\t    //newImageRun.setText(newImageText);\r\n\t\t    newImageParagraph.setAlignment(oldImageAlignment);\r\n\t\t    try (FileInputStream is = new FileInputStream(imagePathNew)) {\r\n\t\t    \tnewImageRun.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, imagePathNew,\r\n                             Units.toEMU(newImageWidth), Units.toEMU(newImageHeight)); \r\n            } \r\n\t\t    \r\n\t\t    // set new image at the old image position\r\n\t\t    document.setParagraph(newImageParagraph, imageParagraphPos);\r\n\t\t    \r\n\t\t    // NOW REMOVE REDUNDANT IMAGE FORM THE END OF DOCUMENT\r\n\t\t    document.removeBodyElement(document.getBodyElements().size() - 1);\r\n\t\t    \r\n\t\t\treturn document;\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new Exception(&quot;Unable to replace image &#39;&quot; + imageOldName + &quot;&#39; due to the exception:\\n&quot; + e);\r\n\t\t} finally {\r\n\t\t\t// cleanup code\r\n\t\t}\r\n\t}\r\n\r\n\r\nPlease visit https://bitbucket.org/wishcoder/java-poi-word-document/wiki/Home for more examples like:\r\n\r\n - Open existing Microsoft Word Document (*.docx)\r\n - Clone Table in Word Document and add new data to cloned table\r\n - Update existing Table-&gt;Cell data in document\r\n - Update existing Hyper Link in document\r\n - Replace existing Image in document\r\n - Save update Microsoft Word Document (*.docx)\r\n\r\n","title":"Replace a image with Apache POI","body":"<p>I am using below Java code to replace one image in Word document (*.docx). Please share if anyone have better approach.</p>\n\n<pre><code>    public XWPFDocument replaceImage(XWPFDocument document, String imageOldName, String imagePathNew, int newImageWidth, int newImageHeight) throws Exception {\n    try {\n        LOG.info(\"replaceImage: old=\" + imageOldName + \", new=\" + imagePathNew);\n\n        int imageParagraphPos = -1;\n        XWPFParagraph imageParagraph = null;\n\n        List&lt;IBodyElement&gt; documentElements = document.getBodyElements();\n        for(IBodyElement documentElement : documentElements){\n            imageParagraphPos ++;\n            if(documentElement instanceof XWPFParagraph){\n                imageParagraph = (XWPFParagraph) documentElement;\n                if(imageParagraph != null &amp;&amp; imageParagraph.getCTP() != null &amp;&amp; imageParagraph.getCTP().toString().trim().indexOf(imageOldName) != -1) {\n                    break;\n                }\n            }\n        }\n\n        if (imageParagraph == null) {\n            throw new Exception(\"Unable to replace image data due to the exception:\\n\"\n                    + \"'\" + imageOldName + \"' not found in in document.\");\n        }\n        ParagraphAlignment oldImageAlignment = imageParagraph.getAlignment();\n\n        // remove old image\n        document.removeBodyElement(imageParagraphPos);\n\n        // now add new image\n\n        // BELOW LINE WILL CREATE AN IMAGE\n        // PARAGRAPH AT THE END OF THE DOCUMENT.\n        // REMOVE THIS IMAGE PARAGRAPH AFTER \n        // SETTING THE NEW IMAGE AT THE OLD IMAGE POSITION\n        XWPFParagraph newImageParagraph = document.createParagraph();    \n        XWPFRun newImageRun = newImageParagraph.createRun();\n        //newImageRun.setText(newImageText);\n        newImageParagraph.setAlignment(oldImageAlignment);\n        try (FileInputStream is = new FileInputStream(imagePathNew)) {\n            newImageRun.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, imagePathNew,\n                         Units.toEMU(newImageWidth), Units.toEMU(newImageHeight)); \n        } \n\n        // set new image at the old image position\n        document.setParagraph(newImageParagraph, imageParagraphPos);\n\n        // NOW REMOVE REDUNDANT IMAGE FORM THE END OF DOCUMENT\n        document.removeBodyElement(document.getBodyElements().size() - 1);\n\n        return document;\n    } catch (Exception e) {\n        throw new Exception(\"Unable to replace image '\" + imageOldName + \"' due to the exception:\\n\" + e);\n    } finally {\n        // cleanup code\n    }\n}\n</code></pre>\n\n<p>Please visit <a href=\"https://bitbucket.org/wishcoder/java-poi-word-document/wiki/Home\" rel=\"nofollow\">https://bitbucket.org/wishcoder/java-poi-word-document/wiki/Home</a> for more examples like:</p>\n\n<ul>\n<li>Open existing Microsoft Word Document (*.docx)</li>\n<li>Clone Table in Word Document and add new data to cloned table</li>\n<li>Update existing Table->Cell data in document</li>\n<li>Update existing Hyper Link in document</li>\n<li>Replace existing Image in document</li>\n<li>Save update Microsoft Word Document (*.docx)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24448437,"reputation":47,"user_id":18371004,"display_name":"sangeun jo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656308473,"creation_date":1656308417,"answer_id":72767387,"question_id":39680504,"body_markdown":"I recommend using transparent tables to track images. following code will replace table row 0 col 1 cell&#39;s picture.     \r\n \r\n\r\n    List&lt;XWPFParagraph&gt; paragraphs = table.getRow(0).getCell(1).getParagraphs(); \r\n        \r\n                for (XWPFParagraph para: paragraphs) {\r\n                    for (XWPFRun r : para.getRuns()) {\r\n                        CTR ctr = r.getCTR();\r\n                        List&lt;CTDrawing&gt; drawings = ctr.getDrawingList();\r\n                        for (int i = 0; i &lt; drawings.size(); i++) {\r\n                            ctr.removeDrawing(i);\r\n                        }\r\n                    }\r\n                }\r\n                \r\n        \r\n                XWPFParagraph paragraph = table.getRow(0).getCell(1).addParagraph(); \r\n                XWPFRun run = paragraph.createRun();\r\n                \r\n             \r\n     \r\n                FileInputStream fis = new FileInputStream(&#39;filepath&#39;);\r\n                run.addPicture(fis, XWPFDocument.PICTURE_TYPE_PNG, &quot;filename&quot;, Units.toEMU(200), Units.toEMU(60)); ","title":"Replace a image with Apache POI","body":"<p>I recommend using transparent tables to track images. following code will replace table row 0 col 1 cell's picture.</p>\n<pre><code>List&lt;XWPFParagraph&gt; paragraphs = table.getRow(0).getCell(1).getParagraphs(); \n    \n            for (XWPFParagraph para: paragraphs) {\n                for (XWPFRun r : para.getRuns()) {\n                    CTR ctr = r.getCTR();\n                    List&lt;CTDrawing&gt; drawings = ctr.getDrawingList();\n                    for (int i = 0; i &lt; drawings.size(); i++) {\n                        ctr.removeDrawing(i);\n                    }\n                }\n            }\n            \n    \n            XWPFParagraph paragraph = table.getRow(0).getCell(1).addParagraph(); \n            XWPFRun run = paragraph.createRun();\n            \n         \n \n            FileInputStream fis = new FileInputStream('filepath');\n            run.addPicture(fis, XWPFDocument.PICTURE_TYPE_PNG, &quot;filename&quot;, Units.toEMU(200), Units.toEMU(60)); \n</code></pre>\n"}],"owner":{"account_id":6681916,"reputation":31,"user_id":5154721,"display_name":"Cosmin Ivanciu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6057,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1656308473,"creation_date":1474747787,"question_id":39680504,"body_markdown":"I need help by replacing an image with another image in Word using Apache POI or any other library that might do the job. I know how to replace a word using Apache POI but I can&#39;t figure a way out to replace an image.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\r\n        String c22 = &quot;OTHER WORD&quot;;\r\n\r\n        try {\r\n            XWPFDocument doc = new XWPFDocument(OPCPackage.open(&quot;imagine.docx&quot;));\r\n            for (XWPFParagraph p : doc.getParagraphs()) {\r\n                List&lt;XWPFRun&gt; runs = p.getRuns();\r\n                if (runs != null) {\r\n                    for (XWPFRun r : runs) {\r\n                        String text = r.getText(0);\r\n                        if (text != null ) {\r\n                            String imgFile = &quot;imaginedeschis.jpg&quot;;\r\n                             try (FileInputStream is = new FileInputStream(imgFile)) {\r\n                                 r.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, imgFile,\r\n                                              Units.toEMU(200), Units.toEMU(200)); // 200x200 pixels\r\n                                 text = text.replace(&quot;1ST WORD&quot;, c22);\r\n                             } // 200x200 pixels\r\n                             r.setText(text, 0);\r\n                        }\r\n                    }\r\n                }  \r\n            }       \r\n            doc.write(new FileOutputStream(&quot;output.docx&quot;));\r\n        } catch (InvalidFormatException | IOException m){ }\r\n    }\r\n","title":"Replace a image with Apache POI","body":"<p>I need help by replacing an image with another image in Word using Apache POI or any other library that might do the job. I know how to replace a word using Apache POI but I can't figure a way out to replace an image.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws FileNotFoundException {\n\n    String c22 = \"OTHER WORD\";\n\n    try {\n        XWPFDocument doc = new XWPFDocument(OPCPackage.open(\"imagine.docx\"));\n        for (XWPFParagraph p : doc.getParagraphs()) {\n            List&lt;XWPFRun&gt; runs = p.getRuns();\n            if (runs != null) {\n                for (XWPFRun r : runs) {\n                    String text = r.getText(0);\n                    if (text != null ) {\n                        String imgFile = \"imaginedeschis.jpg\";\n                         try (FileInputStream is = new FileInputStream(imgFile)) {\n                             r.addPicture(is, XWPFDocument.PICTURE_TYPE_JPEG, imgFile,\n                                          Units.toEMU(200), Units.toEMU(200)); // 200x200 pixels\n                             text = text.replace(\"1ST WORD\", c22);\n                         } // 200x200 pixels\n                         r.setText(text, 0);\n                    }\n                }\n            }  \n        }       \n        doc.write(new FileOutputStream(\"output.docx\"));\n    } catch (InvalidFormatException | IOException m){ }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1656308759,"post_id":72767371,"comment_id":128530567,"body_markdown":"`--add-opens` has been a recognized option since Java 9.  Therefore you must be **using** Java 8 or earlier.  Check what `java -version` says.  Check what `$PATH` is set to.  Check what `shich java` says.","body":"<code>--add-opens</code> has been a recognized option since Java 9.  Therefore you must be <b>using</b> Java 8 or earlier.  Check what <code>java -version</code> says.  Check what <code>$PATH</code> is set to.  Check what <code>shich java</code> says."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656308891,"post_id":72767371,"comment_id":128530587,"body_markdown":"Also: ... if you are trying to use Java 18, why did you set `JAVA_HOME` and `JRE_HOME` like that?   And what *exactly* did you set them to?   And what are you actually running at this point?  What installer?","body":"Also: ... if you are trying to use Java 18, why did you set <code>JAVA_HOME</code> and <code>JRE_HOME</code> like that?   And what <i>exactly</i> did you set them to?   And what are you actually running at this point?  What installer?"},{"owner":{"account_id":19719747,"reputation":1,"user_id":14438377,"display_name":"aintgelic"},"score":0,"creation_date":1656309694,"post_id":72767371,"comment_id":128530789,"body_markdown":"`java -version` says: java version &quot;1.8.0_241&quot;, `shich java` says: command unrecognized.\n\nI&#39;ve edited `JRE_HOME` and `JAVA_HOME` to JDK-18","body":"<code>java -version</code> says: java version &quot;1.8.0_241&quot;, <code>shich java</code> says: command unrecognized.  I&#39;ve edited <code>JRE_HOME</code> and <code>JAVA_HOME</code> to JDK-18"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656310137,"post_id":72767371,"comment_id":128530872,"body_markdown":"1) What **precisely** did you set `JRE_HOME` and `JAVA_HOME` to?  If you set them to &quot;JDK-18&quot; that is completely wrong!   2) I meant `which java`.  3) In order to change things so that `java` runs Java 18 (rather than Java 8), you need to either change `PATH` or (on Linux, if configured that way) use `update-alternatives` to reconfigure the symlinks.","body":"1) What <b>precisely</b> did you set <code>JRE_HOME</code> and <code>JAVA_HOME</code> to?  If you set them to &quot;JDK-18&quot; that is completely wrong!   2) I meant <code>which java</code>.  3) In order to change things so that <code>java</code> runs Java 18 (rather than Java 8), you need to either change <code>PATH</code> or (on Linux, if configured that way) use <code>update-alternatives</code> to reconfigure the symlinks."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656310227,"post_id":72767371,"comment_id":128530891,"body_markdown":"I would also recommend that you read a tutorial on how your shell works.  You need to **understand** what `PATH` is doing.","body":"I would also recommend that you read a tutorial on how your shell works.  You need to <b>understand</b> what <code>PATH</code> is doing."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656313209,"post_id":72767371,"comment_id":128531674,"body_markdown":"I think Steven meant `which java` (or - if you&#39;re on Windows - `where java`)","body":"I think Steven meant <code>which java</code> (or - if you&#39;re on Windows - <code>where java</code>)"},{"owner":{"account_id":19719747,"reputation":1,"user_id":14438377,"display_name":"aintgelic"},"score":0,"creation_date":1656313355,"post_id":72767371,"comment_id":128531728,"body_markdown":"thanks for commenting, finally I had solved my problem by fixing `PATH` through this website [link] (https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/)","body":"thanks for commenting, finally I had solved my problem by fixing <code>PATH</code> through this website [link] (<a href=\"https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/\" rel=\"nofollow noreferrer\">happycoders.eu/java/&hellip;</a>)"}],"owner":{"account_id":19719747,"reputation":1,"user_id":14438377,"display_name":"aintgelic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656308228,"creation_date":1656308228,"question_id":72767371,"body_markdown":"I want to install software, but I got error\r\n\r\nUnrecognized option: --add-opens=java.desktop/javax.swing=ALL-UNNAMED\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\nalthough I have installed the required JDK-18\r\n\r\nMy system variables as follows\r\nmy JAVA_HOME is JDK 15.0.1\r\nmy JRE_HOME is JDK 14.0.1","title":"Unrecognized option: --add-opens=java.desktop/javax.swing=ALL-UNNAMED","body":"<p>I want to install software, but I got error</p>\n<p>Unrecognized option: --add-opens=java.desktop/javax.swing=ALL-UNNAMED\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.</p>\n<p>although I have installed the required JDK-18</p>\n<p>My system variables as follows\nmy JAVA_HOME is JDK 15.0.1\nmy JRE_HOME is JDK 14.0.1</p>\n"},{"tags":["java","multithreading","junit5","program-entry-point","junit-jupiter"],"comments":[{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1656316862,"post_id":72767349,"comment_id":128532758,"body_markdown":"*Example1 A junit test method. This will not print finally.* - Does it print &quot;run&quot;?","body":"<i>Example1 A junit test method. This will not print finally.</i> - Does it print &quot;run&quot;?"},{"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"score":0,"creation_date":1656316886,"post_id":72767349,"comment_id":128532770,"body_markdown":"Does this [post](https://stackoverflow.com/questions/16616590/thread-behaving-strangely-in-junit) answer your question?","body":"Does this <a href=\"https://stackoverflow.com/questions/16616590/thread-behaving-strangely-in-junit\">post</a> answer your question?"}],"owner":{"account_id":17375724,"reputation":1,"user_id":13616925,"display_name":"tangcheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656492267,"answer_count":0,"score":0,"last_activity_date":1656308064,"creation_date":1656308064,"question_id":72767349,"body_markdown":"**Example1**\r\nA `junit` test method. This will not print `finally`.\r\n```\r\n@Test\r\npublic void junit_Thread() {\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;run&quot;);\r\n            try {\r\n                Thread.sleep(3000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                System.out.println(&quot;finally&quot;);\r\n            }\r\n        }\r\n    }).start();\r\n    System.out.println(&quot;end&quot;);\r\n}\r\n```\r\n\r\n**Example2**\r\nA typical `main` method. This will wait for 3 seconds and print `finally`.\r\n```\r\npublic class MainThread {\r\n    public static void main(String[] args) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;run&quot;);\r\n                try {\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    System.out.println(&quot;finally&quot;);\r\n                }\r\n            }\r\n        }).start();\r\n        System.out.println(&quot;main thread exit&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI want to understand why *Example1* doesn&#39;t print `finally` as *Example2* does.\r\n","title":"Junit thread not terminate as java main method do","body":"<p><strong>Example1</strong>\nA <code>junit</code> test method. This will not print <code>finally</code>.</p>\n<pre><code>@Test\npublic void junit_Thread() {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;run&quot;);\n            try {\n                Thread.sleep(3000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } finally {\n                System.out.println(&quot;finally&quot;);\n            }\n        }\n    }).start();\n    System.out.println(&quot;end&quot;);\n}\n</code></pre>\n<p><strong>Example2</strong>\nA typical <code>main</code> method. This will wait for 3 seconds and print <code>finally</code>.</p>\n<pre><code>public class MainThread {\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(&quot;run&quot;);\n                try {\n                    Thread.sleep(3000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } finally {\n                    System.out.println(&quot;finally&quot;);\n                }\n            }\n        }).start();\n        System.out.println(&quot;main thread exit&quot;);\n    }\n}\n</code></pre>\n<p>I want to understand why <em>Example1</em> doesn't print <code>finally</code> as <em>Example2</em> does.</p>\n"},{"tags":["java","class","parsing","object"],"comments":[{"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"score":2,"creation_date":1458684708,"post_id":36166111,"comment_id":59969588,"body_markdown":"Could you reword; I&#39;m not sure what your actual question is","body":"Could you reword; I&#39;m not sure what your actual question is"},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1458684883,"post_id":36166111,"comment_id":59969659,"body_markdown":"I think you are in the right way, just need to add a method that takes the args and build you Card objects, add more logic to the constructor to verify the suit and rank  and a List&lt;Card&gt; to save the four objects you built. Use toString of Card to print the output","body":"I think you are in the right way, just need to add a method that takes the args and build you Card objects, add more logic to the constructor to verify the suit and rank  and a List&lt;Card&gt; to save the four objects you built. Use toString of Card to print the output"},{"owner":{"account_id":7939173,"reputation":31,"user_id":5993921,"accept_rate":33,"display_name":"Synergy76"},"score":0,"creation_date":1458685379,"post_id":36166111,"comment_id":59969879,"body_markdown":"Koitoer, would you mind expanding on how to build the Card objects? Like how should I go about it. We did this in class for formatting Dates but in this aspect I&#39;m having a hard time understanding how to take the String in Args, and make it a Int to be read and such. What kind of &quot;Logic&quot; would I add to the costructor?","body":"Koitoer, would you mind expanding on how to build the Card objects? Like how should I go about it. We did this in class for formatting Dates but in this aspect I&#39;m having a hard time understanding how to take the String in Args, and make it a Int to be read and such. What kind of &quot;Logic&quot; would I add to the costructor?"},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1656307649,"post_id":36166111,"comment_id":128530366,"body_markdown":"@Synergy76 check [here](https://stackoverflow.com/a/72766949/16177121) and tell me if it helped","body":"@Synergy76 check <a href=\"https://stackoverflow.com/a/72766949/16177121\">here</a> and tell me if it helped"}],"answers":[{"tags":[],"owner":{"account_id":3107812,"reputation":1398,"user_id":2804992,"accept_rate":95,"display_name":"gonephishing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458685309,"creation_date":1458685309,"answer_id":36166360,"question_id":36166111,"body_markdown":"For any java program, main method is the first thread that&#39;s get executed. You can think of it as an entrypoint for your code. Now, in your case the main method is present in the PlayCards class and so it gets executed first. Now this method can interact with the external world via arguments specified to it. Those arguments are passed to the code via a String array called args. You can see it present as an argument to the main method.\r\n\r\nNow you can access each argument individually as args[0], args[1] and so on. Since each of these elements is a string you can perform inbuilt string operations on top of them. split() is one such method. String tokenizer is one such class that does the same. You can read more about them on java docs.\r\n\r\nOnce you split the arguments like &quot;7-H&quot; to &quot;7&quot; and &quot;H&quot;, you can parse the Integer to string directly using something like parseInt() method. Again, you should read up on the documentation online. Now that you have converted &quot;7&quot; to 7, you can use either substitution or some other way to replace &quot;H&quot; by its number equivalent. \r\n\r\nFrom here it should be easy for you.","title":"Need Guidance on Parsing an Input in Java, Need to Specifically Use Classes, having a Hard time understanding Constructors","body":"<p>For any java program, main method is the first thread that's get executed. You can think of it as an entrypoint for your code. Now, in your case the main method is present in the PlayCards class and so it gets executed first. Now this method can interact with the external world via arguments specified to it. Those arguments are passed to the code via a String array called args. You can see it present as an argument to the main method.</p>\n\n<p>Now you can access each argument individually as args[0], args[1] and so on. Since each of these elements is a string you can perform inbuilt string operations on top of them. split() is one such method. String tokenizer is one such class that does the same. You can read more about them on java docs.</p>\n\n<p>Once you split the arguments like \"7-H\" to \"7\" and \"H\", you can parse the Integer to string directly using something like parseInt() method. Again, you should read up on the documentation online. Now that you have converted \"7\" to 7, you can use either substitution or some other way to replace \"H\" by its number equivalent. </p>\n\n<p>From here it should be easy for you.</p>\n"},{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656307499,"creation_date":1656303514,"answer_id":72766949,"question_id":36166111,"body_markdown":"Assignment Task\r\n---------------\r\n\r\n - In the assignment, It is given that you have to make two classes\r\n   `PlayingCards` consisting of the `main` function, hence it will be\r\n   the runner class and `Card` which will have two integer members\r\n   `rank` and `suit`.\r\n - The input will be a string in the form `7-H 4-S A-S K-D`, where each \r\n   the card is separated by a space.\r\n - The task is to convert each card into a `Card` object\r\n\r\nApproach\r\n--------\r\n\r\n - Firstly, convert the ***input-string*** to the array of different ***card-strings*** by splitting the string by ***white-space***.\r\n - After splitting, The array should look like `[&quot;7-H&quot;, &quot;4-S&quot;, &quot;A-S&quot;,\r\n   &quot;K-D&quot;]`.\r\n - Now, loop through the array and split each ***card-string*** again by\r\n   ***hyphen*** which will give ***rank-string*** and ***suit-string***\r\n - Now, Switch ***rank-string*** &amp; ***suit-string*** to get `rank` and\r\n   `suit`\r\n - Finally, Create `Card` object using the `rank` and `suit`\r\n\r\n## Solution ##\r\n\r\n**imports**\r\n```\r\nimport java.util.ArrayList;\r\n```\r\n\r\n**class Card**\r\n``` java\r\nclass Card {\r\n    private final int rank;\r\n    private final int suit;\r\n\r\n    Card(int rank, int suit) {\r\n        this.rank = rank;\r\n        this.suit = suit;\r\n    }\r\n\r\n    public String getCardDetails() {\r\n        String rankString;\r\n        if (rank &gt; 1 &amp;&amp; rank &lt;= 10) {\r\n            rankString = String.valueOf(rank);\r\n        } else {\r\n            rankString = switch (rank) {\r\n                case 11 -&gt; &quot;Jack&quot;;\r\n                case 12 -&gt; &quot;Queen&quot;;\r\n                case 13 -&gt; &quot;King&quot;;\r\n                case 14 -&gt; &quot;Ace&quot;;\r\n                default -&gt; &quot;&#128683;&quot;;\r\n            };\r\n        }\r\n        String suitSymbol = switch (suit) {\r\n            case 0 -&gt; &quot;♣&quot;;\r\n            case 1 -&gt; &quot;♦&quot;;\r\n            case 2 -&gt; &quot;♥&quot;;\r\n            case 3 -&gt; &quot;♠&quot;;\r\n            default -&gt; &quot;&#128683;&quot;;\r\n        };\r\n        return String.format(&quot;%s %s&quot;, rankString, suitSymbol);\r\n    }\r\n}\r\n```\r\n\r\n**class PlayingCards**\r\n``` java\r\npublic class PlayCards {\r\n    public static void main(String[] args) {\r\n        String input = &quot;7-S K-H 2-H 4-C J-D&quot;;\r\n        String[] inputs = input.split(&quot; &quot;);\r\n\r\n        ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n\r\n        for (String in : inputs) {\r\n            String[] temp = in.split(&quot;-&quot;);\r\n\r\n            int rank = switch (temp[0].charAt(0)) {\r\n                case &#39;J&#39; -&gt; 11;\r\n                case &#39;Q&#39; -&gt; 12;\r\n                case &#39;K&#39; -&gt; 13;\r\n                case &#39;A&#39; -&gt; 14;\r\n                default -&gt; Integer.parseInt(temp[0]);\r\n            };\r\n            int suit = switch (temp[1]) {\r\n                case &quot;S&quot; -&gt; 0;\r\n                case &quot;D&quot; -&gt; 1;\r\n                case &quot;H&quot; -&gt; 2;\r\n                case &quot;C&quot; -&gt; 3;\r\n                default -&gt; -1;\r\n            };\r\n            Card card = new Card(rank, suit);\r\n            cards.add(card);\r\n        }\r\n\r\n        for (Card card : cards) {\r\n            System.out.println(card.getCardDetails());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**output**\r\n```\r\n7♣\r\nKing♥\r\n2♥\r\n4♠\r\nJack♦\r\n```\r\n\r\n**split string without `split()` function**\r\n``` java\r\nString input = &quot;7-S K-H 2-H 4-C J-D&quot;;\r\nArrayList&lt;String&gt; subStrings = new ArrayList&lt;&gt;();\r\nint begin = 0, forward;\r\nfor (int i = 0; i &lt; input.length(); i++) {\r\n    if (input.charAt(i) == &#39; &#39;) {\r\n    forward = I;\r\n\r\n    StringBuilder str = new StringBuilder();\r\n    for (int j = begin; j &lt; forward; j++) {\r\n        str.append(input.charAt(j));\r\n    }\r\n    begin = i + 1;\r\n    subStrings.add(String.valueOf(str));\r\n    }\r\n}\r\nStringBuilder str = new StringBuilder();\r\nfor (int k = begin; k &lt; input.length(); k++) {\r\n    str.append(input.charAt(k));\r\n}\r\nsubStrings.add(String.valueOf(str));\r\n```\r\n**output**\r\n```\r\n[7-S, K-H, 2-H, 4-C, J-D]\r\n```","title":"Need Guidance on Parsing an Input in Java, Need to Specifically Use Classes, having a Hard time understanding Constructors","body":"<h2>Assignment Task</h2>\n<ul>\n<li>In the assignment, It is given that you have to make two classes\n<code>PlayingCards</code> consisting of the <code>main</code> function, hence it will be\nthe runner class and <code>Card</code> which will have two integer members\n<code>rank</code> and <code>suit</code>.</li>\n<li>The input will be a string in the form <code>7-H 4-S A-S K-D</code>, where each\nthe card is separated by a space.</li>\n<li>The task is to convert each card into a <code>Card</code> object</li>\n</ul>\n<h2>Approach</h2>\n<ul>\n<li>Firstly, convert the <em><strong>input-string</strong></em> to the array of different <em><strong>card-strings</strong></em> by splitting the string by <em><strong>white-space</strong></em>.</li>\n<li>After splitting, The array should look like <code>[&quot;7-H&quot;, &quot;4-S&quot;, &quot;A-S&quot;, &quot;K-D&quot;]</code>.</li>\n<li>Now, loop through the array and split each <em><strong>card-string</strong></em> again by\n<em><strong>hyphen</strong></em> which will give <em><strong>rank-string</strong></em> and <em><strong>suit-string</strong></em></li>\n<li>Now, Switch <em><strong>rank-string</strong></em> &amp; <em><strong>suit-string</strong></em> to get <code>rank</code> and\n<code>suit</code></li>\n<li>Finally, Create <code>Card</code> object using the <code>rank</code> and <code>suit</code></li>\n</ul>\n<h2>Solution</h2>\n<p><strong>imports</strong></p>\n<pre><code>import java.util.ArrayList;\n</code></pre>\n<p><strong>class Card</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Card {\n    private final int rank;\n    private final int suit;\n\n    Card(int rank, int suit) {\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n    public String getCardDetails() {\n        String rankString;\n        if (rank &gt; 1 &amp;&amp; rank &lt;= 10) {\n            rankString = String.valueOf(rank);\n        } else {\n            rankString = switch (rank) {\n                case 11 -&gt; &quot;Jack&quot;;\n                case 12 -&gt; &quot;Queen&quot;;\n                case 13 -&gt; &quot;King&quot;;\n                case 14 -&gt; &quot;Ace&quot;;\n                default -&gt; &quot;🚫&quot;;\n            };\n        }\n        String suitSymbol = switch (suit) {\n            case 0 -&gt; &quot;♣&quot;;\n            case 1 -&gt; &quot;♦&quot;;\n            case 2 -&gt; &quot;♥&quot;;\n            case 3 -&gt; &quot;♠&quot;;\n            default -&gt; &quot;🚫&quot;;\n        };\n        return String.format(&quot;%s %s&quot;, rankString, suitSymbol);\n    }\n}\n</code></pre>\n<p><strong>class PlayingCards</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayCards {\n    public static void main(String[] args) {\n        String input = &quot;7-S K-H 2-H 4-C J-D&quot;;\n        String[] inputs = input.split(&quot; &quot;);\n\n        ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n\n        for (String in : inputs) {\n            String[] temp = in.split(&quot;-&quot;);\n\n            int rank = switch (temp[0].charAt(0)) {\n                case 'J' -&gt; 11;\n                case 'Q' -&gt; 12;\n                case 'K' -&gt; 13;\n                case 'A' -&gt; 14;\n                default -&gt; Integer.parseInt(temp[0]);\n            };\n            int suit = switch (temp[1]) {\n                case &quot;S&quot; -&gt; 0;\n                case &quot;D&quot; -&gt; 1;\n                case &quot;H&quot; -&gt; 2;\n                case &quot;C&quot; -&gt; 3;\n                default -&gt; -1;\n            };\n            Card card = new Card(rank, suit);\n            cards.add(card);\n        }\n\n        for (Card card : cards) {\n            System.out.println(card.getCardDetails());\n        }\n    }\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>7♣\nKing♥\n2♥\n4♠\nJack♦\n</code></pre>\n<p><strong>split string without <code>split()</code> function</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;7-S K-H 2-H 4-C J-D&quot;;\nArrayList&lt;String&gt; subStrings = new ArrayList&lt;&gt;();\nint begin = 0, forward;\nfor (int i = 0; i &lt; input.length(); i++) {\n    if (input.charAt(i) == ' ') {\n    forward = I;\n\n    StringBuilder str = new StringBuilder();\n    for (int j = begin; j &lt; forward; j++) {\n        str.append(input.charAt(j));\n    }\n    begin = i + 1;\n    subStrings.add(String.valueOf(str));\n    }\n}\nStringBuilder str = new StringBuilder();\nfor (int k = begin; k &lt; input.length(); k++) {\n    str.append(input.charAt(k));\n}\nsubStrings.add(String.valueOf(str));\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>[7-S, K-H, 2-H, 4-C, J-D]\n</code></pre>\n"}],"owner":{"account_id":7939173,"reputation":31,"user_id":5993921,"accept_rate":33,"display_name":"Synergy76"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656307499,"creation_date":1458684185,"question_id":36166111,"body_markdown":"The Assignment i&#39;m trying to complete is below; I don&#39;t need the whole answer but any kind of help or guidance would be nice as my professor is dodging my questions. Thank you so much! Doing everything I can to grasp these concepts.\r\nHere is the Assignment: \r\nCreate a program called PlayCards. This class will use another class called Card. Put both classes in the same file, but create the program as &quot;PlayCards&quot;.\r\n\r\nCreate a class that represents a playing card (call it Card) and another class (call it PlayCards) that uses this class.\r\n\r\nCard will have two fields: rank and suit. Use ints for both rank and suit. For rank, use values 2 through 10 to represent ranks 2 through 10, and 11 for Jack, 12 for Queen, 13 for King, and 14 for Ace. For suit, use 0 for Clubs, 1 for Diamonds, 2 for Hearts, and 3 for Spades.\r\n\r\nOnly the PlayCards class will have a main() method. This method should read args of the form &quot;7-S K-H 2-H 4-C J-D&quot;. Each arg stands for a card. The first part is the rank and the second part is the suit. C is for Clubs, D is for Diamonds, H is for Hearts, and S is for Spades.\r\n\r\nFor each arg, your program must parse the arg, create a Card object representing the card. Example:\r\n\r\n4 ♥\r\nKing ♣\r\n2 ♠\r\nQueen ♦\r\n10 ♣\r\n\r\nTo print the suit symbols, use &quot;&amp;hearts;&quot;, &quot;&amp;clubs;&quot;, &quot;&amp;spades;&quot;, and &quot;&amp;diamonds;&quot;\r\n\r\nAnd Here is my Code so far:\r\n\r\n    class PlayCards\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Card c1 = new Card(17, 3);\r\n        }\r\n    }\r\n    class Card\r\n    {\r\n        private int Rank;\r\n        private int Suit;\r\n    \r\n        public Card() {\r\n            //Declaring of Object\r\n        }\r\n    \r\n         public Card(int Rank, int Suit) {\r\n            if (14 &lt; Rank || Rank &lt; 2) {\r\n                System.out.println(&quot;Error: This Card does not exist.&quot;)\r\n            }\r\n            System.out.println(&quot;Hi from the Card Constructor. The Key to successful completion of this assignment.&quot;);\r\n            this.Rank = Rank;\r\n            this.Suit = Suit;\r\n        }\r\n    }\r\n\r\n** I know it is small but that&#39;s only because I scrapped what I had the other file to start somewhat fresh. I had a way of doing it detecting the prescence of the characters with If statements, but i&#39;m having a hard time because it needs to be completed with Objects and an additional Class. As always Thank you to anyone who takes the time help, it is always beyond appreciated! - Synergy\r\n\r\n","title":"Need Guidance on Parsing an Input in Java, Need to Specifically Use Classes, having a Hard time understanding Constructors","body":"<p>The Assignment i'm trying to complete is below; I don't need the whole answer but any kind of help or guidance would be nice as my professor is dodging my questions. Thank you so much! Doing everything I can to grasp these concepts.\nHere is the Assignment: \nCreate a program called PlayCards. This class will use another class called Card. Put both classes in the same file, but create the program as \"PlayCards\".</p>\n\n<p>Create a class that represents a playing card (call it Card) and another class (call it PlayCards) that uses this class.</p>\n\n<p>Card will have two fields: rank and suit. Use ints for both rank and suit. For rank, use values 2 through 10 to represent ranks 2 through 10, and 11 for Jack, 12 for Queen, 13 for King, and 14 for Ace. For suit, use 0 for Clubs, 1 for Diamonds, 2 for Hearts, and 3 for Spades.</p>\n\n<p>Only the PlayCards class will have a main() method. This method should read args of the form \"7-S K-H 2-H 4-C J-D\". Each arg stands for a card. The first part is the rank and the second part is the suit. C is for Clubs, D is for Diamonds, H is for Hearts, and S is for Spades.</p>\n\n<p>For each arg, your program must parse the arg, create a Card object representing the card. Example:</p>\n\n<p>4 ♥\nKing ♣\n2 ♠\nQueen ♦\n10 ♣</p>\n\n<p>To print the suit symbols, use \"&hearts;\", \"&clubs;\", \"&spades;\", and \"&diamonds;\"</p>\n\n<p>And Here is my Code so far:</p>\n\n<pre><code>class PlayCards\n{\n    public static void main(String[] args)\n    {\n        Card c1 = new Card(17, 3);\n    }\n}\nclass Card\n{\n    private int Rank;\n    private int Suit;\n\n    public Card() {\n        //Declaring of Object\n    }\n\n     public Card(int Rank, int Suit) {\n        if (14 &lt; Rank || Rank &lt; 2) {\n            System.out.println(\"Error: This Card does not exist.\")\n        }\n        System.out.println(\"Hi from the Card Constructor. The Key to successful completion of this assignment.\");\n        this.Rank = Rank;\n        this.Suit = Suit;\n    }\n}\n</code></pre>\n\n<p>** I know it is small but that's only because I scrapped what I had the other file to start somewhat fresh. I had a way of doing it detecting the prescence of the characters with If statements, but i'm having a hard time because it needs to be completed with Objects and an additional Class. As always Thank you to anyone who takes the time help, it is always beyond appreciated! - Synergy</p>\n"},{"tags":["java","spring-boot","netbeans-8"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656170272,"post_id":72752717,"comment_id":128508558,"body_markdown":"[1] Please fix your title. As it stands it has no obvious relationship to the question. [2] Also, update your post to include an actual question, and the precise error you are getting within the body. The problem to be resolved is unclear. [3] Change your tag from [boot] to [spring-boot].","body":"[1] Please fix your title. As it stands it has no obvious relationship to the question. [2] Also, update your post to include an actual question, and the precise error you are getting within the body. The problem to be resolved is unclear. [3] Change your tag from [boot] to [spring-boot]."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656170383,"post_id":72752717,"comment_id":128508584,"body_markdown":"Also, there are literally hundreds of questions on SO citing the error message in your title. Please review the results of a search here for _is:question &quot;This application has no explicit mapping for /error, so you are seeing this as a fallback&quot;_ and you may be able to answer your own question.","body":"Also, there are literally hundreds of questions on SO citing the error message in your title. Please review the results of a search here for <i>is:question &quot;This application has no explicit mapping for /error, so you are seeing this as a fallback&quot;</i> and you may be able to answer your own question."}],"owner":{"account_id":2290661,"reputation":2679,"user_id":2013578,"accept_rate":82,"display_name":"Humphrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656307367,"creation_date":1656149205,"question_id":72752717,"body_markdown":"I am new to spring and am facing some challenges when I type in the url &quot;localhost:8082/login?name=overflow&quot;\r\n\r\nI get this  &quot;Welcome ${name}!&quot;. And if I put in the url this  &quot;localhost:8082/login&quot;. I get an error This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nAny help will be appreciated \r\n    \r\n    Application.properties file\r\n    \r\n    \r\n    spring.thymeleaf.prefix=classpath:/templates/mama/\r\n    spring.thymeleaf.suffix=.jsp\r\n    \r\n    logging.level.org.springframework.web=DEBUG\r\n    \r\n    \r\n    \r\n    Controller file \r\n    \r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    /**\r\n     *\r\n     * @author musa\r\n     */\r\n    @Controller\r\n    public class LoginController {\r\n        @RequestMapping(&quot;/login&quot;)\r\n        public String loginMessage(@RequestParam String name,ModelMap model){\r\n            \r\n            model.put(&quot;name&quot;, name);\r\n            //System.out.println(&quot;name is&quot; + name);\r\n                \r\n            return &quot;login&quot;;\r\n        }\r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    my login.jsp file \r\n    \r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;https://www.thymeleaf.org/&quot;&gt;\r\n        &lt;head&gt;\r\n    &lt;title&gt;First web application&lt;/title&gt;\r\n            &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt; Welcome ${name}!&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\n","title":"My jsp does not work in spring-boot and netbeans","body":"<p>I am new to spring and am facing some challenges when I type in the url &quot;localhost:8082/login?name=overflow&quot;</p>\n<p>I get this  &quot;Welcome ${name}!&quot;. And if I put in the url this  &quot;localhost:8082/login&quot;. I get an error This application has no explicit mapping for /error, so you are seeing this as a fallback.\nAny help will be appreciated</p>\n<pre><code>Application.properties file\n\n\nspring.thymeleaf.prefix=classpath:/templates/mama/\nspring.thymeleaf.suffix=.jsp\n\nlogging.level.org.springframework.web=DEBUG\n\n\n\nController file \n\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n/**\n *\n * @author musa\n */\n@Controller\npublic class LoginController {\n    @RequestMapping(&quot;/login&quot;)\n    public String loginMessage(@RequestParam String name,ModelMap model){\n        \n        model.put(&quot;name&quot;, name);\n        //System.out.println(&quot;name is&quot; + name);\n            \n        return &quot;login&quot;;\n    }\n    \n    \n}\n\n\nmy login.jsp file \n\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;https://www.thymeleaf.org/&quot;&gt;\n    &lt;head&gt;\n&lt;title&gt;First web application&lt;/title&gt;\n        &lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt; Welcome ${name}!&lt;/h1&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1655816164,"post_id":72614275,"comment_id":128416842,"body_markdown":"What do you mean by *You don&#39;t get list tags from Svelte*? the drop down options are not in the DOM as children of the `&lt;input&gt;` tag?","body":"What do you mean by <i>You don&#39;t get list tags from Svelte</i>? the drop down options are not in the DOM as children of the <code>&lt;input&gt;</code> tag?"},{"owner":{"account_id":3161137,"reputation":139,"user_id":2672227,"accept_rate":50,"display_name":"Swatcat"},"score":0,"creation_date":1655822241,"post_id":72614275,"comment_id":128419542,"body_markdown":"@Guy We are using Svelte which means it&#39;s an input (see the question for HTML element) and not a typical select","body":"@Guy We are using Svelte which means it&#39;s an input (see the question for HTML element) and not a typical select"},{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1655826804,"post_id":72614275,"comment_id":128421471,"body_markdown":"This is not what I asked, you should see the list of the options to choose in the html. By the way using svelte doesn&#39;t mean you can&#39;t create `&lt;select&gt;` dropdown.","body":"This is not what I asked, you should see the list of the options to choose in the html. By the way using svelte doesn&#39;t mean you can&#39;t create <code>&lt;select&gt;</code> dropdown."},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1655834142,"post_id":72614275,"comment_id":128423905,"body_markdown":"@GemmaMorriss - Is it possible to try following solution, look towards this approach\n1. Instead of  directly using Select, first we can click on the xpath\n     `webDriver.getWebDriver().findElement(By.xpath(xpath)).click();` and then find options generated or enter text using `sendKeys` so that autogenerated options are visible. \n2. Using `JavaScriptExecutor` we can first edit attribute `readonly=&quot;true&quot; ` to `readonly=&quot;false&quot;` in DOM and then try to find options, if these works","body":"@GemmaMorriss - Is it possible to try following solution, look towards this approach 1. Instead of  directly using Select, first we can click on the xpath      <code>webDriver.getWebDriver().findElement(By.xpath(xpath)).click(&zwnj;&#8203;);</code> and then find options generated or enter text using <code>sendKeys</code> so that autogenerated options are visible.  2. Using <code>JavaScriptExecutor</code> we can first edit attribute <code>readonly=&quot;true&quot; </code> to <code>readonly=&quot;false&quot;</code> in DOM and then try to find options, if these works"},{"owner":{"account_id":7051452,"reputation":2747,"user_id":5400362,"display_name":"Dev"},"score":0,"creation_date":1655874201,"post_id":72614275,"comment_id":128432042,"body_markdown":"What are the option under this dropdown? Can you post that html as well?  Also can you give us example of this case in some other public sites?","body":"What are the option under this dropdown? Can you post that html as well?  Also can you give us example of this case in some other public sites?"},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1656308870,"post_id":72614275,"comment_id":128530583,"body_markdown":"An input can&#39;t have children. You&#39;re not showing enough HTML for an answer.","body":"An input can&#39;t have children. You&#39;re not showing enough HTML for an answer."}],"answers":[{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655198840,"creation_date":1655198840,"answer_id":72614583,"question_id":72614275,"body_markdown":"    If Possible can you share pic of html code of the dropdown element\r\n\r\n    Select allOptions = new \r\n    Select(webDriver.getWebDriver().findElement(By.xpath(xpath)));\r\n    List&lt;WebElement&gt; elements = allOptions.getOptions();\r\n    List&lt;String&gt; options = new LinkedList&lt;String();\r\n    for(WebElement el: elements)\r\n    {\r\n        options.Add(el.getText());\r\n    }","title":"Selenium Access options for input drop-down list","body":"<pre><code>If Possible can you share pic of html code of the dropdown element\n\nSelect allOptions = new \nSelect(webDriver.getWebDriver().findElement(By.xpath(xpath)));\nList&lt;WebElement&gt; elements = allOptions.getOptions();\nList&lt;String&gt; options = new LinkedList&lt;String();\nfor(WebElement el: elements)\n{\n    options.Add(el.getText());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17829612,"reputation":158,"user_id":12949962,"display_name":"pwrngr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655276391,"creation_date":1655276391,"answer_id":72627098,"question_id":72614275,"body_markdown":" 1. Open DevTools -&gt; Sources\r\n 2. Click on the input -&gt; Press F8 to stop JS execution in the browser\r\n 3. Inspect dropdown option -&gt; Write down the xpath\r\n\r\n\r\n        public List&lt;string&gt; GetOptionsText(IWebDriver driver)\r\n        {\r\n            string parentInputXpath = &quot;inputXpath&quot;;\r\n            string optionXpath = &quot;optionXpath&quot;;\r\n            List&lt;string&gt; optionsText = new List&lt;string&gt;();\r\n\r\n            driver.FindElement(By.XPath(parentInputXpath)).Click();\r\n            options = driver.FindElement(By.XPath(parentInputXpath)).FindElements(By.XPath(optionXpath)).ToList();\r\n\r\n            if (options.Count == 0)\r\n                throw new NoSuchElementException(&quot;Dropdown options not found&quot;);\r\n\r\n            foreach (var option in options)\r\n            {\r\n                optionsText.Add(option.Text);\r\n            }\r\n            return optionsText;\r\n        }\r\n\r\nP.S: It would be also good to add implicit/explicit waits here.","title":"Selenium Access options for input drop-down list","body":"<ol>\n<li><p>Open DevTools -&gt; Sources</p>\n</li>\n<li><p>Click on the input -&gt; Press F8 to stop JS execution in the browser</p>\n</li>\n<li><p>Inspect dropdown option -&gt; Write down the xpath</p>\n<pre><code>public List&lt;string&gt; GetOptionsText(IWebDriver driver)\n{\n    string parentInputXpath = &quot;inputXpath&quot;;\n    string optionXpath = &quot;optionXpath&quot;;\n    List&lt;string&gt; optionsText = new List&lt;string&gt;();\n\n    driver.FindElement(By.XPath(parentInputXpath)).Click();\n    options = driver.FindElement(By.XPath(parentInputXpath)).FindElements(By.XPath(optionXpath)).ToList();\n\n    if (options.Count == 0)\n        throw new NoSuchElementException(&quot;Dropdown options not found&quot;);\n\n    foreach (var option in options)\n    {\n        optionsText.Add(option.Text);\n    }\n    return optionsText;\n}\n</code></pre>\n</li>\n</ol>\n<p>P.S: It would be also good to add implicit/explicit waits here.</p>\n"},{"tags":[],"owner":{"account_id":15761453,"reputation":61,"user_id":11373066,"display_name":"Harsh Chourasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655747153,"creation_date":1655747153,"answer_id":72691052,"question_id":72614275,"body_markdown":"although I&#39;m not a expert in selenium but just try to solve this problem. I create a index.html file to get the options from the dropdown menu. I only create a drop down menu in this index.html files its code is this:-\r\n```\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;title&gt;Document&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;span class=&quot;label&quot;&gt;Select Text&lt;/span&gt;\r\n            &lt;span class=&quot;box&quot;&gt;&lt;input readonly=&quot;true&quot; autocapitalize=&quot;none&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; spellcheck=&quot;false&quot; tabindex=&quot;0&quot; type=&quot;text&quot; aria-autocomplete=&quot;list&quot; id=&quot;datatext&quot; placeholder=&quot;Select an instance&quot; class=&quot;datatext&quot; &gt;\r\n                &lt;select class=&quot;contentselect&quot;\r\n                    id=&quot;contentselect&quot;&gt;\r\n                    &lt;option&gt;&lt;/option&gt;\r\n                    &lt;option value=&quot;one&quot;&gt;test1&lt;/option&gt;\r\n                    &lt;option value=&quot;two&quot;&gt;test2&lt;/option&gt;\r\n                    &lt;option value=&quot;two&quot;&gt;test3&lt;/option&gt;\r\n                    &lt;option value=&quot;two&quot;&gt;test4&lt;/option&gt;\r\n                    &lt;option value=&quot;two&quot;&gt;test5&lt;/option&gt;\r\n                    &lt;option value=&quot;two&quot;&gt;test6&lt;/option&gt;\r\n                &lt;/select&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;script&gt;\r\n            textfield = document.getElementById(&quot;datatext&quot;);\r\n            contentselect = document.getElementById(&quot;contentselect&quot;);\r\n    \r\n            contentselect.onchange = function () {\r\n                var text = contentselect.options[contentselect.selectedIndex].value\r\n                if (text != &quot;&quot;) {\r\n                    textfield.value += text;\r\n                }\r\n            }\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen I create a java file to read all the options from the index.html. Java code looks like:- \r\n```\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Goal Projects\\\\Webnovel API\\\\chromedriver.exe&quot;);\r\n    \r\n        WebDriver driver = new ChromeDriver();\r\n    \r\n        driver.get(&quot;http://127.0.0.1:5500/index.html&quot;);\r\n    \r\n        Select allOptions = new Select(driver.findElement(By.xpath(&quot;//select[@id=&#39;contentselect&#39;]&quot;)));\r\n        List&lt;WebElement&gt; elements = allOptions.getOptions();\r\n        List&lt;String&gt; options = new ArrayList&lt;String&gt;();\r\n        for (WebElement element : elements) {\r\n          options.add(element.getText());\r\n        }\r\n    \r\n        for (String s : options) System.out.println(s);\r\n      }\r\n```\r\n\r\nResult Output is like this:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**I think you are using wrong xpath you are using input xpath but you should use selection path.**\r\nI hope this will help you, Thanks for reading.\r\n\r\n  [1]: https://i.stack.imgur.com/07ISo.png\r\n  [2]: https://i.stack.imgur.com/oqjeB.png","title":"Selenium Access options for input drop-down list","body":"<p>although I'm not a expert in selenium but just try to solve this problem. I create a index.html file to get the options from the dropdown menu. I only create a drop down menu in this index.html files its code is this:-</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html lang=&quot;en&quot;&gt;\n    \n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n        &lt;title&gt;Document&lt;/title&gt;\n    &lt;/head&gt;\n    \n    &lt;body&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;span class=&quot;label&quot;&gt;Select Text&lt;/span&gt;\n            &lt;span class=&quot;box&quot;&gt;&lt;input readonly=&quot;true&quot; autocapitalize=&quot;none&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; spellcheck=&quot;false&quot; tabindex=&quot;0&quot; type=&quot;text&quot; aria-autocomplete=&quot;list&quot; id=&quot;datatext&quot; placeholder=&quot;Select an instance&quot; class=&quot;datatext&quot; &gt;\n                &lt;select class=&quot;contentselect&quot;\n                    id=&quot;contentselect&quot;&gt;\n                    &lt;option&gt;&lt;/option&gt;\n                    &lt;option value=&quot;one&quot;&gt;test1&lt;/option&gt;\n                    &lt;option value=&quot;two&quot;&gt;test2&lt;/option&gt;\n                    &lt;option value=&quot;two&quot;&gt;test3&lt;/option&gt;\n                    &lt;option value=&quot;two&quot;&gt;test4&lt;/option&gt;\n                    &lt;option value=&quot;two&quot;&gt;test5&lt;/option&gt;\n                    &lt;option value=&quot;two&quot;&gt;test6&lt;/option&gt;\n                &lt;/select&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;script&gt;\n            textfield = document.getElementById(&quot;datatext&quot;);\n            contentselect = document.getElementById(&quot;contentselect&quot;);\n    \n            contentselect.onchange = function () {\n                var text = contentselect.options[contentselect.selectedIndex].value\n                if (text != &quot;&quot;) {\n                    textfield.value += text;\n                }\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n    \n    &lt;/html&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/07ISo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/07ISo.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I create a java file to read all the options from the index.html. Java code looks like:-</p>\n<pre><code>    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Goal Projects\\\\Webnovel API\\\\chromedriver.exe&quot;);\n    \n        WebDriver driver = new ChromeDriver();\n    \n        driver.get(&quot;http://127.0.0.1:5500/index.html&quot;);\n    \n        Select allOptions = new Select(driver.findElement(By.xpath(&quot;//select[@id='contentselect']&quot;)));\n        List&lt;WebElement&gt; elements = allOptions.getOptions();\n        List&lt;String&gt; options = new ArrayList&lt;String&gt;();\n        for (WebElement element : elements) {\n          options.add(element.getText());\n        }\n    \n        for (String s : options) System.out.println(s);\n      }\n</code></pre>\n<p>Result Output is like this:-</p>\n<p><a href=\"https://i.stack.imgur.com/oqjeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqjeB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I think you are using wrong xpath you are using input xpath but you should use selection path.</strong>\nI hope this will help you, Thanks for reading.</p>\n"},{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656307006,"creation_date":1656307006,"answer_id":72767259,"question_id":72614275,"body_markdown":"I would try with sendKeys combination (you can experiment with ArrowDown, Tab, Enter) and then if it is not working for you - with JavaScript. You can set the text and then trigger onchange event if needed.\r\n\r\n    document.getElementById(&quot;select-instances&quot;).value = &quot;My value&quot;;\r\n\r\nor set the placeholder\r\n\r\n    document.getElementById(&quot;select-instances&quot;).setAttribute(&#39;placeholder&#39;,&#39;My value&#39;);\r\n\r\nReference:   \r\nhttps://stackoverflow.com/questions/52689880/what-is-javascriptexecutor-in-selenium\r\n\r\n","title":"Selenium Access options for input drop-down list","body":"<p>I would try with sendKeys combination (you can experiment with ArrowDown, Tab, Enter) and then if it is not working for you - with JavaScript. You can set the text and then trigger onchange event if needed.</p>\n<pre><code>document.getElementById(&quot;select-instances&quot;).value = &quot;My value&quot;;\n</code></pre>\n<p>or set the placeholder</p>\n<pre><code>document.getElementById(&quot;select-instances&quot;).setAttribute('placeholder','My value');\n</code></pre>\n<p>Reference:<br />\n<a href=\"https://stackoverflow.com/questions/52689880/what-is-javascriptexecutor-in-selenium\">What is JavaScriptExecutor in Selenium?</a></p>\n"}],"owner":{"account_id":3161137,"reputation":139,"user_id":2672227,"accept_rate":50,"display_name":"Swatcat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1286,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72767259,"answer_count":4,"score":1,"last_activity_date":1656307006,"creation_date":1655197485,"question_id":72614275,"body_markdown":"I have an input control that acts as a read-only drop-down list (Svelte is framework behind it).  How do I get a list of the drop-down options using Selenium and Java please? I have tried the select option:\r\n\r\n    Select allOptions = new Select(webDriver.getWebDriver().findElement(By.xpath(xpath)));\r\n\r\nI got exceptions saying that you cannot select on an input. Because the control is read-only you can&#39;t type into it to enter values.\r\n\r\n    &lt;input readonly=&quot;true&quot; autocapitalize=&quot;none&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; spellcheck=&quot;false&quot; tabindex=&quot;0&quot; type=&quot;text&quot; aria-autocomplete=&quot;list&quot; id=&quot;select-instances&quot; placeholder=&quot;Select an instance&quot; class=&quot;svelte-abcd&quot; style=&quot;&quot;&gt;\r\n\r\nI have researched answers here, for example [this one][1].  You don&#39;t get list tags from Svelte. Any suggestions or help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31036467/how-to-select-a-value-from-input-type-dropdown-using-selenium-webdriver","title":"Selenium Access options for input drop-down list","body":"<p>I have an input control that acts as a read-only drop-down list (Svelte is framework behind it).  How do I get a list of the drop-down options using Selenium and Java please? I have tried the select option:</p>\n<pre><code>Select allOptions = new Select(webDriver.getWebDriver().findElement(By.xpath(xpath)));\n</code></pre>\n<p>I got exceptions saying that you cannot select on an input. Because the control is read-only you can't type into it to enter values.</p>\n<pre><code>&lt;input readonly=&quot;true&quot; autocapitalize=&quot;none&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; spellcheck=&quot;false&quot; tabindex=&quot;0&quot; type=&quot;text&quot; aria-autocomplete=&quot;list&quot; id=&quot;select-instances&quot; placeholder=&quot;Select an instance&quot; class=&quot;svelte-abcd&quot; style=&quot;&quot;&gt;\n</code></pre>\n<p>I have researched answers here, for example <a href=\"https://stackoverflow.com/questions/31036467/how-to-select-a-value-from-input-type-dropdown-using-selenium-webdriver\">this one</a>.  You don't get list tags from Svelte. Any suggestions or help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","quartz"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656307042,"post_id":72767194,"comment_id":128530266,"body_markdown":"With transactional you have 1 long transaction for which a commit will be issued after the for loop finished. Without it you have x inidividual transactions each for one jobid.","body":"With transactional you have 1 long transaction for which a commit will be issued after the for loop finished. Without it you have x inidividual transactions each for one jobid."},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1656308358,"post_id":72767194,"comment_id":128530497,"body_markdown":"The method named *run* in *xxxService.class* can return immediately ,but  *run* of Job invoke delay","body":"The method named <i>run</i> in <i>xxxService.class</i> can return immediately ,but  <i>run</i> of Job invoke delay"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656308458,"post_id":72767194,"comment_id":128530515,"body_markdown":"Again the transaction is committed after the method has run. That is also the point at which quartz sees the triggers.","body":"Again the transaction is committed after the method has run. That is also the point at which quartz sees the triggers."},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1656309068,"post_id":72767194,"comment_id":128530638,"body_markdown":"How can i do if I stay *@Transactional* on the *run*","body":"How can i do if I stay <i>@Transactional</i> on the <i>run</i>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656310222,"post_id":72767194,"comment_id":128530890,"body_markdown":"If you want them to run immediatly you need an individual transaction for each trigger. Else there will be a delay, depending on the size of the list this might lead to Quartz thinking it missed a trigger and will execute using the misfire handler.","body":"If you want them to run immediatly you need an individual transaction for each trigger. Else there will be a delay, depending on the size of the list this might lead to Quartz thinking it missed a trigger and will execute using the misfire handler."}],"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656306144,"creation_date":1656306144,"question_id":72767194,"body_markdown":"  The task of job is simple, just output the time in console. I need a button for excuting the logic immediately.\r\n\r\n\r\n  XxxService.class\r\n\r\n```\r\n    @Override\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public void run(Long[] jobIds) {\r\n        for(Long jobId : jobIds){\r\n            ScheduleUtils. run(scheduler, this.getById(jobId));\r\n        }\r\n    }\r\n```\r\n\r\nScheduleUtils.class\r\n```\r\n    public static void run(Scheduler scheduler, ScheduleJobEntity scheduleJob) {\r\n        try {\r\n            JobDataMap dataMap = new JobDataMap();\r\n            dataMap.put(ScheduleJobEntity.JOB_PARAM_KEY, scheduleJob);\r\n            System.out.println(Thread.currentThread()+&quot;need hello...&quot;+new Date());\r\n            scheduler.triggerJob(getJobKey(scheduleJob.getJobId()), dataMap);\r\n        } catch (SchedulerException e) {\r\n            throw new RRException(&quot;run fail&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nMyJob:\r\n```\r\n@Data\r\n@Component(&quot;HelloJob&quot;)\r\npublic class HelloJob extends CustomJob {\r\n\r\n    public String jobDescription = &quot;演示Job&quot;;\r\n\r\n    @Override\r\n    public void run(String params) {\r\n        System.out.println(\r\n                Thread.currentThread() +&quot;hello...&quot;+new Date() + &quot;params: &quot; + params);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I add *@Transactional* on the *run(Long[] jobIds)*, the job does not run immediately and often run delay 15~20 seconds.\r\n```\r\nThread[http-nio-8500-exec-1,5,main]need hello...Mon Jun 27 12:55:02 CST 2022\r\n\r\n2022-06-27 12:55:24 INFO  [bear] QuartzScheduler_BearScheduler-DESKTOP-521BOOH1656305645549_MisfireHandler org.springframework.scheduling.quartz.LocalDataSourceJobStore Handling 1 trigger(s) that missed their scheduled fire-time.\r\nThread[BearScheduler_Worker-3,5,main]hello...Mon Jun 27 12:55:24 CST 2022params: aaaa,bbbbbbb\r\n```\r\n\r\nWhen I delete *@Transactional* on the *run(Long[] jobIds)*, the job will run immediately.\r\n\r\n```\r\nhread[http-nio-8500-exec-4,5,main]need hello...Mon Jun 27 12:59:40 CST 2022\r\nThread[BearScheduler_Worker-6,5,main]hello...Mon Jun 27 12:59:40 CST 2022params: aaaa,bbbbbbb\r\n```\r\n\r\nWhy my job is handled by MisfireHandler? Why the job can not run immediately when *@Transactional* on the method? If you know the reason,please help me. Thanks","title":"Quartz Job does not excute when I invoke triggerJob","body":"<p>The task of job is simple, just output the time in console. I need a button for excuting the logic immediately.</p>\n<p>XxxService.class</p>\n<pre><code>    @Override\n    @Transactional(rollbackFor = Exception.class)\n    public void run(Long[] jobIds) {\n        for(Long jobId : jobIds){\n            ScheduleUtils. run(scheduler, this.getById(jobId));\n        }\n    }\n</code></pre>\n<p>ScheduleUtils.class</p>\n<pre><code>    public static void run(Scheduler scheduler, ScheduleJobEntity scheduleJob) {\n        try {\n            JobDataMap dataMap = new JobDataMap();\n            dataMap.put(ScheduleJobEntity.JOB_PARAM_KEY, scheduleJob);\n            System.out.println(Thread.currentThread()+&quot;need hello...&quot;+new Date());\n            scheduler.triggerJob(getJobKey(scheduleJob.getJobId()), dataMap);\n        } catch (SchedulerException e) {\n            throw new RRException(&quot;run fail&quot;, e);\n        }\n    }\n</code></pre>\n<p>MyJob:</p>\n<pre><code>@Data\n@Component(&quot;HelloJob&quot;)\npublic class HelloJob extends CustomJob {\n\n    public String jobDescription = &quot;演示Job&quot;;\n\n    @Override\n    public void run(String params) {\n        System.out.println(\n                Thread.currentThread() +&quot;hello...&quot;+new Date() + &quot;params: &quot; + params);\n    }\n\n}\n</code></pre>\n<p>When I add <em>@Transactional</em> on the <em>run(Long[] jobIds)</em>, the job does not run immediately and often run delay 15~20 seconds.</p>\n<pre><code>Thread[http-nio-8500-exec-1,5,main]need hello...Mon Jun 27 12:55:02 CST 2022\n\n2022-06-27 12:55:24 INFO  [bear] QuartzScheduler_BearScheduler-DESKTOP-521BOOH1656305645549_MisfireHandler org.springframework.scheduling.quartz.LocalDataSourceJobStore Handling 1 trigger(s) that missed their scheduled fire-time.\nThread[BearScheduler_Worker-3,5,main]hello...Mon Jun 27 12:55:24 CST 2022params: aaaa,bbbbbbb\n</code></pre>\n<p>When I delete <em>@Transactional</em> on the <em>run(Long[] jobIds)</em>, the job will run immediately.</p>\n<pre><code>hread[http-nio-8500-exec-4,5,main]need hello...Mon Jun 27 12:59:40 CST 2022\nThread[BearScheduler_Worker-6,5,main]hello...Mon Jun 27 12:59:40 CST 2022params: aaaa,bbbbbbb\n</code></pre>\n<p>Why my job is handled by MisfireHandler? Why the job can not run immediately when <em>@Transactional</em> on the method? If you know the reason,please help me. Thanks</p>\n"},{"tags":["java","android","build.gradle","android-manifest"],"comments":[{"owner":{"account_id":5438659,"reputation":740,"user_id":4327305,"display_name":"Zahid Islam"},"score":1,"creation_date":1656272799,"post_id":72764442,"comment_id":128525765,"body_markdown":"Did you try clean and rebuild? Please try again before run your application","body":"Did you try clean and rebuild? Please try again before run your application"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656306207,"post_id":72764442,"comment_id":128530099,"body_markdown":"This isn&#39;t &#39;running&#39;, this is installing.","body":"This isn&#39;t &#39;running&#39;, this is installing."},{"owner":{"account_id":8883430,"reputation":391,"user_id":6632595,"display_name":"Md Mobinur Rahman"},"score":0,"creation_date":1656308183,"post_id":72764442,"comment_id":128530467,"body_markdown":"remove your project output folder and rebuild the project.","body":"remove your project output folder and rebuild the project."}],"answers":[{"tags":[],"owner":{"account_id":8851784,"reputation":93,"user_id":6610790,"display_name":"Ahmad.ak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656305385,"creation_date":1656305385,"answer_id":72767125,"question_id":72764442,"body_markdown":" In manifest file add android:exported=&quot;true&quot; in the launcher activity tag \r\n\r\n   \r\n           &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:alwaysRetainTaskState=&quot;true&quot;\r\n            android:configChanges=&quot;orientation|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;","title":"how to fix a running proplem android","body":"<p>In manifest file add android:exported=&quot;true&quot; in the launcher activity tag</p>\n<pre><code>       &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:alwaysRetainTaskState=&quot;true&quot;\n        android:configChanges=&quot;orientation|screenSize&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":25654902,"reputation":13,"user_id":19421515,"display_name":"Mahmoud Darwish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72767125,"answer_count":1,"score":0,"last_activity_date":1656305385,"creation_date":1656270566,"question_id":72764442,"body_markdown":"This problem is faced when I am copying another copy of a project that is similar by name and on the same disk but after a few seconds I noticed this and cancel the operation of copying the other project, unfortunately, it seems to override some of the files in the first project    \t\t\r\n\r\n\r\nError message when Running the first project :\r\n\r\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\n\r\n\r\n----------\r\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\n\r\nList of apks:\r\n[0] &#39;C:\\Users\\hp\\Desktop\\TrafficAccident\\app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\nInstallation failed due to: &#39;null&#39;\r\n\r\nHow to fix it?","title":"how to fix a running proplem android","body":"<p>This problem is faced when I am copying another copy of a project that is similar by name and on the same disk but after a few seconds I noticed this and cancel the operation of copying the other project, unfortunately, it seems to override some of the files in the first project</p>\n<p>Error message when Running the first project :</p>\n<p>The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</p>\n<hr />\n<p>The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</p>\n<p>List of apks:\n[0] 'C:\\Users\\hp\\Desktop\\TrafficAccident\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'null'</p>\n<p>How to fix it?</p>\n"},{"tags":["java","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1656303497,"post_id":72766877,"comment_id":128529722,"body_markdown":"I might be missing something, but have you checked the log rotation related configurations in the logback? For example here: https://stackoverflow.com/questions/50927845/how-to-enable-logback-to-rotate-the-log-files-every-x-minutes-5-minutes-30-minut To me it looks like a way to go","body":"I might be missing something, but have you checked the log rotation related configurations in the logback? For example here: <a href=\"https://stackoverflow.com/questions/50927845/how-to-enable-logback-to-rotate-the-log-files-every-x-minutes-5-minutes-30-minut\" title=\"how to enable logback to rotate the log files every x minutes 5 minutes 30 minut\">stackoverflow.com/questions/50927845/&hellip;</a> To me it looks like a way to go"},{"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"score":0,"creation_date":1656303692,"post_id":72766877,"comment_id":128529746,"body_markdown":"@MarkBramnik updated the question. I want to rotate the text files where I&#39;m writing JSON data from DB.","body":"@MarkBramnik updated the question. I want to rotate the text files where I&#39;m writing JSON data from DB."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1656304117,"post_id":72766877,"comment_id":128529794,"body_markdown":"When you write logs they&#39;re written line by line anyway, so the json should be converted to the string, because, `log.info` (and other methods) accepts String as a parameter. So when you rotate the log it will be done automatically by logback library regardless the fact that its a json here. As for &quot;some other location&quot; - basically you should define different appenders and attach them to the same logger.","body":"When you write logs they&#39;re written line by line anyway, so the json should be converted to the string, because, <code>log.info</code> (and other methods) accepts String as a parameter. So when you rotate the log it will be done automatically by logback library regardless the fact that its a json here. As for &quot;some other location&quot; - basically you should define different appenders and attach them to the same logger."},{"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"score":0,"creation_date":1656304829,"post_id":72766877,"comment_id":128529894,"body_markdown":"@MarkBramnik Okay got it. In my case the rotation is required not only for log files, but also the text files(where I&#39;m writing data from database) which will be in different location.","body":"@MarkBramnik Okay got it. In my case the rotation is required not only for log files, but also the text files(where I&#39;m writing data from database) which will be in different location."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1656310480,"post_id":72766877,"comment_id":128530965,"body_markdown":"There is no difference between &quot;log&quot; file and &quot;text&quot; file - both are text files. For both you control the format. Appender defines where to write (to file or maybe DB, network over socket, etc). So you should associate 2 different appenders with the same logger. Each appender will manage writing to the different location, and might have a different pattern (format of the message itself) as well as a different rotation policy (create a new file every time the log reaches 10Mb and keep up to 5 files like this) So it all depends on your actual configurations.","body":"There is no difference between &quot;log&quot; file and &quot;text&quot; file - both are text files. For both you control the format. Appender defines where to write (to file or maybe DB, network over socket, etc). So you should associate 2 different appenders with the same logger. Each appender will manage writing to the different location, and might have a different pattern (format of the message itself) as well as a different rotation policy (create a new file every time the log reaches 10Mb and keep up to 5 files like this) So it all depends on your actual configurations."}],"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1656304700,"creation_date":1656302497,"question_id":72766877,"body_markdown":"I have a spring boot service which writes data from DB as a JSON(string) to text files. \r\n\r\nSince, this goes on continuously 24X7, I want to do this in a rolling fashion as in when size limit of a file is reached, it should create new file, and also create new directory for each date.\r\n\r\nI have used logback-spring.xml configuration to write the logs to files in a rolling fashion as described above, but I can&#39;t find any library or framework that can write JSON(string) to a text file in such fashion and not only logs.\r\n\r\nCan I use logback configuration to write both logs and the JSON content to text files in a rolling out fashion or is there any other library that I can use or I have to manually code the rolling process in my java file?\r\n\r\n**Edit:**\r\nSo, I want to rotate the log files as defined in logback-spring.xml configuration but I also want to rotate the text files that I&#39;m writing to some other location.\r\n\r\n**Edit 2:**\r\nOkay, so I have data in 3 tables: table1, table2, table3. I&#39;m reading the data from these tables and writing to a text file using below code:\r\n\r\n\tprivate void processEntry(Map&lt;String, Object&gt; entry) {\r\n\r\n\t\tFileWriter writer;\r\n\t\tGson gson = new Gson();\r\n\t\tFile f = new File(CALL_DATA_FILE_PATH);\r\n\r\n\t\ttry {\r\n\t\t\tif (f.exists())\r\n\t\t\t\twriter = new FileWriter(CALL_DATA_FILE_PATH, true);\r\n\t\t\telse\r\n\t\t\t\twriter = new FileWriter(CALL_DATA_FILE_PATH);\r\n\r\n\t\t\t\r\n\t\t\tif (f.exists()) {\r\n\t\t\t\twriter.append(gson.toJson(entry) + &quot;,&quot;);\r\n\t\t\t\tlog.info(&quot;File exists, appending data to it&quot;);\r\n\t\t\t} else {\r\n\t\t\t\twriter.write(gson.toJson(entry) + &quot;, \\n&quot;);\r\n\t\t\t\tlog.info(&quot;File does not exist, writing data to new file&quot;);\r\n\t\t\t}\r\n\t\t\twriter.flush();\r\n\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nNow, I want to write the data and rotate the files based on date and time and don&#39;t want to manually handle that. Can this be achieved using logback configuration even if logback is currently used to write logs to specified location.\r\n\r\n**logback-spring.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n\t&lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\r\n\r\n\t&lt;appender name=&quot;Console&quot;\r\n\t\tclass=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n\t\t\t\t%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} -\r\n\t\t\t\t%msg%n\r\n\t\t\t&lt;/Pattern&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;appender name=&quot;RollingFile&quot;\r\n\t\tclass=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${LOGS}/logs.log&lt;/file&gt;\r\n\t\t&lt;encoder\r\n\t\t\tclass=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\r\n\t\t&lt;rollingPolicy\r\n\t\t\tclass=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;fileNamePattern&gt;${LOGS}/archived/%d{yyyy-MM-dd}/logs-%d{yyyy-MM-dd}.%i.log\r\n\t\t\t&lt;/fileNamePattern&gt;\r\n\t\t\t&lt;maxFileSize&gt;10KB&lt;/maxFileSize&gt;\r\n\t\t\t&lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n\t\t\t&lt;totalSizeCap&gt;100KB&lt;/totalSizeCap&gt;\r\n\t\t\t&lt;cleanHistoryOnStart&gt;false&lt;/cleanHistoryOnStart&gt;\r\n\t\t\t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;root level=&quot;trace&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n\t&lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Writing String to text files in a Rolling fashion Java","body":"<p>I have a spring boot service which writes data from DB as a JSON(string) to text files.</p>\n<p>Since, this goes on continuously 24X7, I want to do this in a rolling fashion as in when size limit of a file is reached, it should create new file, and also create new directory for each date.</p>\n<p>I have used logback-spring.xml configuration to write the logs to files in a rolling fashion as described above, but I can't find any library or framework that can write JSON(string) to a text file in such fashion and not only logs.</p>\n<p>Can I use logback configuration to write both logs and the JSON content to text files in a rolling out fashion or is there any other library that I can use or I have to manually code the rolling process in my java file?</p>\n<p><strong>Edit:</strong>\nSo, I want to rotate the log files as defined in logback-spring.xml configuration but I also want to rotate the text files that I'm writing to some other location.</p>\n<p><strong>Edit 2:</strong>\nOkay, so I have data in 3 tables: table1, table2, table3. I'm reading the data from these tables and writing to a text file using below code:</p>\n<pre><code>private void processEntry(Map&lt;String, Object&gt; entry) {\n\n    FileWriter writer;\n    Gson gson = new Gson();\n    File f = new File(CALL_DATA_FILE_PATH);\n\n    try {\n        if (f.exists())\n            writer = new FileWriter(CALL_DATA_FILE_PATH, true);\n        else\n            writer = new FileWriter(CALL_DATA_FILE_PATH);\n\n        \n        if (f.exists()) {\n            writer.append(gson.toJson(entry) + &quot;,&quot;);\n            log.info(&quot;File exists, appending data to it&quot;);\n        } else {\n            writer.write(gson.toJson(entry) + &quot;, \\n&quot;);\n            log.info(&quot;File does not exist, writing data to new file&quot;);\n        }\n        writer.flush();\n\n        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>Now, I want to write the data and rotate the files based on date and time and don't want to manually handle that. Can this be achieved using logback configuration even if logback is currently used to write logs to specified location.</p>\n<p><strong>logback-spring.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\n\n&lt;appender name=&quot;Console&quot;\n    class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} -\n            %msg%n\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;RollingFile&quot;\n    class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/logs.log&lt;/file&gt;\n    &lt;encoder\n        class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n        class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;${LOGS}/archived/%d{yyyy-MM-dd}/logs-%d{yyyy-MM-dd}.%i.log\n        &lt;/fileNamePattern&gt;\n        &lt;maxFileSize&gt;10KB&lt;/maxFileSize&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;totalSizeCap&gt;100KB&lt;/totalSizeCap&gt;\n        &lt;cleanHistoryOnStart&gt;false&lt;/cleanHistoryOnStart&gt;\n                \n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;trace&quot;&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","redis","publish-subscribe"],"answers":[{"tags":[],"owner":{"account_id":7541418,"reputation":1,"user_id":5725868,"display_name":"Matt Ho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654156502,"creation_date":1654156502,"answer_id":72472601,"question_id":72436006,"body_markdown":"I think you have to wait for the next release, someone has fixed it and just [merged into maim][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-redis/commit/14eebce19ccb08690f135dce87193f2e3771eaef","title":"Spring-Boot 2.7 Redis PUB/SUB fails startup on missing Redis connection","body":"<p>I think you have to wait for the next release, someone has fixed it and just <a href=\"https://github.com/spring-projects/spring-data-redis/commit/14eebce19ccb08690f135dce87193f2e3771eaef\" rel=\"nofollow noreferrer\">merged into maim</a></p>\n"},{"tags":[],"owner":{"account_id":7541418,"reputation":1,"user_id":5725868,"display_name":"Matt Ho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656302841,"creation_date":1656302397,"answer_id":72766870,"question_id":72436006,"body_markdown":"It looks like the [PR][1] didn&#39;t fix the issue in the latest release (2.7.1), it really &quot;works as intended&quot; to Spring team :\\\r\n\r\nHere&#39;s my workaround:\r\n\r\n`RedisMessageListenerContainer.Subscriber#initialize(...)` method is called when adding listener to the container, so what you need is to make sure the redis connection is available first, and then add the listener to container.\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic class MessageListenerSubscriber implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n  private RedisConnectionFactory connectionFactory;\r\n  private RedisMessageListenerContainer container;\r\n  private MessageListener listener;\r\n  private Collection&lt;? extends Topic&gt; topics;\r\n\r\n  @Async\r\n  @Override\r\n  public void onApplicationEvent(ApplicationReadyEvent event) {\r\n    var template = new RetryTemplateBuilder()\r\n      .maxAttempts(Integer.MAX_VALUE)\r\n      .fixedBackoff(5000)\r\n      .build();\r\n    template.execute(context -&gt; {\r\n      try {\r\n        var connection = connectionFactory.getConnection();\r\n        if (connection.isSubscribed()) {\r\n          log.debug(&quot;Retrieved connection is already subscribed; aborting listening&quot;);\r\n          return null;\r\n        }\r\n      } catch (Exception e) {\r\n        log.error(&quot;Connection failure occurred. Restarting subscription task after 5000 ms&quot;);\r\n        throw e;\r\n      }\r\n      this.container.addMessageListener(listener, topics);\r\n      log.debug(&quot;Listeners registered successfully after {} retries.&quot;, context.getRetryCount());\r\n      return null;\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nand the configuration looks like:\r\n\r\n```java\r\n@Bean\r\npublic RedisMessageListenerContainer container(LettuceConnectionFactory connectionFactory) {\r\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n    container.setConnectionFactory(connectionFactory);\r\n    return container;\r\n}\r\n\r\n@Bean\r\npublic MessageListenerAdapter listenerAdapter(RedisReceiver receiver) {\r\n    return new MessageListenerAdapter(receiver, &quot;receiveMessage&quot;);\r\n}\r\n\r\n@Bean\r\npublic MessageListenerSubscriber messageListenerSubscriber(\r\n    RedisConnectionFactory connectionFactory,\r\n    RedisMessageListenerContainer container,\r\n    MessageListenerAdapter listener){\r\n  return new MessageListenerSubscriber(\r\n    connectionFactory,\r\n    container,\r\n    listener,\r\n    List.of(new ChannelTopic(publishChannel))\r\n  );\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-redis/commit/14eebce19ccb08690f135dce87193f2e3771eaef","title":"Spring-Boot 2.7 Redis PUB/SUB fails startup on missing Redis connection","body":"<p>It looks like the <a href=\"https://github.com/spring-projects/spring-data-redis/commit/14eebce19ccb08690f135dce87193f2e3771eaef\" rel=\"nofollow noreferrer\">PR</a> didn't fix the issue in the latest release (2.7.1), it really &quot;works as intended&quot; to Spring team :\\</p>\n<p>Here's my workaround:</p>\n<p><code>RedisMessageListenerContainer.Subscriber#initialize(...)</code> method is called when adding listener to the container, so what you need is to make sure the redis connection is available first, and then add the listener to container.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class MessageListenerSubscriber implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  private RedisConnectionFactory connectionFactory;\n  private RedisMessageListenerContainer container;\n  private MessageListener listener;\n  private Collection&lt;? extends Topic&gt; topics;\n\n  @Async\n  @Override\n  public void onApplicationEvent(ApplicationReadyEvent event) {\n    var template = new RetryTemplateBuilder()\n      .maxAttempts(Integer.MAX_VALUE)\n      .fixedBackoff(5000)\n      .build();\n    template.execute(context -&gt; {\n      try {\n        var connection = connectionFactory.getConnection();\n        if (connection.isSubscribed()) {\n          log.debug(&quot;Retrieved connection is already subscribed; aborting listening&quot;);\n          return null;\n        }\n      } catch (Exception e) {\n        log.error(&quot;Connection failure occurred. Restarting subscription task after 5000 ms&quot;);\n        throw e;\n      }\n      this.container.addMessageListener(listener, topics);\n      log.debug(&quot;Listeners registered successfully after {} retries.&quot;, context.getRetryCount());\n      return null;\n    });\n  }\n}\n</code></pre>\n<p>and the configuration looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RedisMessageListenerContainer container(LettuceConnectionFactory connectionFactory) {\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory);\n    return container;\n}\n\n@Bean\npublic MessageListenerAdapter listenerAdapter(RedisReceiver receiver) {\n    return new MessageListenerAdapter(receiver, &quot;receiveMessage&quot;);\n}\n\n@Bean\npublic MessageListenerSubscriber messageListenerSubscriber(\n    RedisConnectionFactory connectionFactory,\n    RedisMessageListenerContainer container,\n    MessageListenerAdapter listener){\n  return new MessageListenerSubscriber(\n    connectionFactory,\n    container,\n    listener,\n    List.of(new ChannelTopic(publishChannel))\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":5215208,"reputation":339,"user_id":4170398,"accept_rate":45,"display_name":"kinglite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656302841,"creation_date":1653921117,"question_id":72436006,"body_markdown":"I have this configuration for my pub/sub implementation:\r\n\r\n    @Bean\r\n    public RedisMessageListenerContainer container(LettuceConnectionFactory connectionFactory,\r\n                                                   MessageListenerAdapter listenerAdapter) {\r\n\r\n        RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n        container.setConnectionFactory(connectionFactory);\r\n        container.addMessageListener(listenerAdapter, new ChannelTopic(publishChannel));\r\n        return container;\r\n    }\r\n\r\n    @Bean\r\n    public MessageListenerAdapter listenerAdapter(RedisReceiver receiver) {\r\n        return new MessageListenerAdapter(receiver, &quot;receiveMessage&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public StringRedisTemplate template(LettuceConnectionFactory connectionFactory) {\r\n        return new StringRedisTemplate(connectionFactory);\r\n    }\r\n\r\nThis code worked fine until I updated to Spring-Boot 2.7 (previously 2.6.7).\r\nNow this code throws the following error on startup, when my Redis is not running:\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;**container**&#39;; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/&lt;unresolved&gt;:6379\r\n\r\n(&quot;**container**&quot; is the Bean at the top in my code snippet)\r\n\r\nWhere or how can I configure that it catches the thrown exception on startup and just retries it again until the connection to Redis is available?\r\n\r\nUPDATE:\r\n\r\nDid some digging and this part of the code is the culprit:\r\n\r\nhttps://github.com/spring-projects/spring-data-redis/blob/main/src/main/java/org/springframework/data/redis/listener/RedisMessageListenerContainer.java#L1169\r\n\r\nIn comparison to the 2.6.x branch, where this was inside a try/catch (not sure though as it seems to be a completely different implementation), it is missing in version 2.7.","title":"Spring-Boot 2.7 Redis PUB/SUB fails startup on missing Redis connection","body":"<p>I have this configuration for my pub/sub implementation:</p>\n<pre><code>@Bean\npublic RedisMessageListenerContainer container(LettuceConnectionFactory connectionFactory,\n                                               MessageListenerAdapter listenerAdapter) {\n\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory);\n    container.addMessageListener(listenerAdapter, new ChannelTopic(publishChannel));\n    return container;\n}\n\n@Bean\npublic MessageListenerAdapter listenerAdapter(RedisReceiver receiver) {\n    return new MessageListenerAdapter(receiver, &quot;receiveMessage&quot;);\n}\n\n@Bean\npublic StringRedisTemplate template(LettuceConnectionFactory connectionFactory) {\n    return new StringRedisTemplate(connectionFactory);\n}\n</code></pre>\n<p>This code worked fine until I updated to Spring-Boot 2.7 (previously 2.6.7).\nNow this code throws the following error on startup, when my Redis is not running:</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean '<strong>container</strong>'; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/:6379</p>\n</blockquote>\n<p>(&quot;<strong>container</strong>&quot; is the Bean at the top in my code snippet)</p>\n<p>Where or how can I configure that it catches the thrown exception on startup and just retries it again until the connection to Redis is available?</p>\n<p>UPDATE:</p>\n<p>Did some digging and this part of the code is the culprit:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-redis/blob/main/src/main/java/org/springframework/data/redis/listener/RedisMessageListenerContainer.java#L1169\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-redis/blob/main/src/main/java/org/springframework/data/redis/listener/RedisMessageListenerContainer.java#L1169</a></p>\n<p>In comparison to the 2.6.x branch, where this was inside a try/catch (not sure though as it seems to be a completely different implementation), it is missing in version 2.7.</p>\n"},{"tags":["java","unity-game-engine","module","sdk","android-ndk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1656161368,"post_id":72751296,"comment_id":128506749,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":3385454,"reputation":731,"user_id":2841501,"display_name":"Paweł Łęgowski"},"score":0,"creation_date":1656212646,"post_id":72751296,"comment_id":128515243,"body_markdown":"Show us your preferences (Edit =&gt; Preferences =&gt; External Tools). There should be specified path to your NDK","body":"Show us your preferences (Edit =&gt; Preferences =&gt; External Tools). There should be specified path to your NDK"}],"owner":{"account_id":25643920,"reputation":9,"user_id":19412305,"display_name":"Axyzham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656302819,"creation_date":1656131876,"question_id":72751296,"body_markdown":"I am having a problem with Unity hub. I just finished my android game and downloaded the Android build support from unity hub. I don&#39;t know what happened but something went wrong and the NDK was not downloaded. I tried to download it again but Unity hub is showing that it is installed and not letting me reinstall it. While I try to build the game it shows NDK not found. So how do I download the JDK, and SDK files in unity?\r\n\r\n[This is what unity is showing][1]\r\n[This is shown in preferences][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezW9A.png\r\n  [2]: https://i.stack.imgur.com/ny3OE.png","title":"How can I reinstall a module in Unity","body":"<p>I am having a problem with Unity hub. I just finished my android game and downloaded the Android build support from unity hub. I don't know what happened but something went wrong and the NDK was not downloaded. I tried to download it again but Unity hub is showing that it is installed and not letting me reinstall it. While I try to build the game it shows NDK not found. So how do I download the JDK, and SDK files in unity?</p>\n<p><a href=\"https://i.stack.imgur.com/ezW9A.png\" rel=\"nofollow noreferrer\">This is what unity is showing</a>\n<a href=\"https://i.stack.imgur.com/ny3OE.png\" rel=\"nofollow noreferrer\">This is shown in preferences</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1656286886,"post_id":72765777,"comment_id":128527871,"body_markdown":"Did you accidentally name multiple classes `MainActivity`?","body":"Did you accidentally name multiple classes <code>MainActivity</code>?"},{"owner":{"account_id":25655838,"reputation":3,"user_id":19422257,"display_name":"Jos&#233; Mart&#237;n Carrillo"},"score":0,"creation_date":1656287041,"post_id":72765777,"comment_id":128527887,"body_markdown":"Yes I have changed that but the error continues.","body":"Yes I have changed that but the error continues."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1656288636,"post_id":72765777,"comment_id":128527997,"body_markdown":"Try pressing Ctrl + Shift + F, and search for &quot;onCreate&quot;. You should get exactly three results, with one in each of your three `Activities`.","body":"Try pressing Ctrl + Shift + F, and search for &quot;onCreate&quot;. You should get exactly three results, with one in each of your three <code>Activities</code>."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1656310823,"post_id":72765777,"comment_id":128531035,"body_markdown":"You messed up your code. Can I know how much buttons you&#39;re using and why you&#39;re using `public void onClick(View v)`?","body":"You messed up your code. Can I know how much buttons you&#39;re using and why you&#39;re using <code>public void onClick(View v)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2528175,"reputation":175,"user_id":2197072,"display_name":"senye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656291314,"creation_date":1656291314,"answer_id":72766103,"question_id":72765777,"body_markdown":"You may have two redundant onCreate methods. Activity class should have only one onCreate method. Please remove the method &#39;*public void onCreate(Bundle icicle)*&#39; from your code. The onCreate method shown on the above code hasn&#39;t any issue. So, you can leave it as it is. I hope this will solve your issue.\r\n","title":"error: method onCreate(Bundle) is already defined in class MainActivity public void onCreate(Bundle icicle) { ^","body":"<p>You may have two redundant onCreate methods. Activity class should have only one onCreate method. Please remove the method '<em>public void onCreate(Bundle icicle)</em>' from your code. The onCreate method shown on the above code hasn't any issue. So, you can leave it as it is. I hope this will solve your issue.</p>\n"}],"owner":{"account_id":25655838,"reputation":3,"user_id":19422257,"display_name":"Jos&#233; Mart&#237;n Carrillo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656303257,"accepted_answer_id":72766103,"answer_count":1,"score":-1,"last_activity_date":1656301503,"creation_date":1656286203,"question_id":72765777,"body_markdown":"I am new to programming and I was making an app in Android Studio. I wanted to make several buttons open a new Activity, but when repeating the process for the other buttons it gave me this error.\r\n\r\nThere&#39;s my code:\r\n\r\n    public class MainActivity extends AppCompatActivity  {\r\n        private Button button1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button1 = (Button) findViewById(R.id.octubre);\r\n            button1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    openActivity2();\r\n                }\r\n            });\r\n        }\r\n\r\n        public void openActivity2() {\r\n            Intent intent = new Intent(this, Activity2.class);\r\n            startActivity(intent);\r\n        }\r\n\r\n        private Button button2;\r\n\r\n        public void onClick(View v) {\r\n            Intent startIntent = new Intent(MainActivity.this, Activity3.class);\r\n            startActivity(startIntent);\r\n\r\n            button2 = (Button) findViewById(R.id.aucas);\r\n            button2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    openActivity3();\r\n                }\r\n            });\r\n        }\r\n\r\n        public void openActivity3() {\r\n            Intent intent = new Intent(this, Activity3.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n","title":"error: method onCreate(Bundle) is already defined in class MainActivity public void onCreate(Bundle icicle) { ^","body":"<p>I am new to programming and I was making an app in Android Studio. I wanted to make several buttons open a new Activity, but when repeating the process for the other buttons it gave me this error.</p>\n<p>There's my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  {\n    private Button button1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button1 = (Button) findViewById(R.id.octubre);\n        button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openActivity2();\n            }\n        });\n    }\n\n    public void openActivity2() {\n        Intent intent = new Intent(this, Activity2.class);\n        startActivity(intent);\n    }\n\n    private Button button2;\n\n    public void onClick(View v) {\n        Intent startIntent = new Intent(MainActivity.this, Activity3.class);\n        startActivity(startIntent);\n\n        button2 = (Button) findViewById(R.id.aucas);\n        button2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openActivity3();\n            }\n        });\n    }\n\n    public void openActivity3() {\n        Intent intent = new Intent(this, Activity3.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n"},{"tags":["java","math","rotation","rectangles"],"comments":[{"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"score":0,"creation_date":1656367855,"post_id":72765028,"comment_id":128550572,"body_markdown":"Something I noticed when playing with the standard answer for this problem is that the numbers calculate correctly only if the full image is exactly square. All bets are off when it is a rectangle, however. I tried spoofing it as a rectangle and then doing some adjustments before and after the calculation, but could never get it working correctly for arbitrary rotation angles.","body":"Something I noticed when playing with the standard answer for this problem is that the numbers calculate correctly only if the full image is exactly square. All bets are off when it is a rectangle, however. I tried spoofing it as a rectangle and then doing some adjustments before and after the calculation, but could never get it working correctly for arbitrary rotation angles."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656278380,"creation_date":1656278380,"answer_id":72765213,"question_id":72765028,"body_markdown":"I assume you created an [AffineTransform][1]. With that you need three transformations:\r\n\r\n1) translate the rectangle so it&#39;s center point is the origin\r\n2) rotate the rectangle by some angle\r\n3) translate the rectangle back to the position where it came from\r\n\r\nNow with this you were able to transform the rectangle&#39;s coordinates (corners) into new screen coordinates. What you need is a transformation to get from new screen coordinates back to coordinates inside your rectangle. I think it looks like this:\r\n\r\n1) translate the point the same as in step 1\r\n2) rotate by the negative angle\r\n3) undo step 1\r\n\r\nThese AffineTransforms can be applied quite efficiently, compared to your algorightm using trigonometry which even may have a limited range of validity.\r\n\r\nSee also https://stackoverflow.com/questions/20275424/rotating-image-with-affinetransform\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/geom/AffineTransform.html","title":"Java - get x,y coordinates after rotating a rectangle","body":"<p>I assume you created an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/geom/AffineTransform.html\" rel=\"nofollow noreferrer\">AffineTransform</a>. With that you need three transformations:</p>\n<ol>\n<li>translate the rectangle so it's center point is the origin</li>\n<li>rotate the rectangle by some angle</li>\n<li>translate the rectangle back to the position where it came from</li>\n</ol>\n<p>Now with this you were able to transform the rectangle's coordinates (corners) into new screen coordinates. What you need is a transformation to get from new screen coordinates back to coordinates inside your rectangle. I think it looks like this:</p>\n<ol>\n<li>translate the point the same as in step 1</li>\n<li>rotate by the negative angle</li>\n<li>undo step 1</li>\n</ol>\n<p>These AffineTransforms can be applied quite efficiently, compared to your algorightm using trigonometry which even may have a limited range of validity.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/20275424/rotating-image-with-affinetransform\">Rotating Image with AffineTransform</a></p>\n"}],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656301485,"creation_date":1656276541,"question_id":72765028,"body_markdown":"I can&#39;t seem to get the standard answer to work. I&#39;m trying to find the new x,y coordinates of a point inside a larger rectangle, after rotating the larger rectangle around its center. (The end goal is to calculate the 4 corners of a collision box inside the larger rectangle.)\r\n\r\nThe rectangle is 50W x 128H, and the point inside the rectangle is at 15,111. If I rotate this same rectangle 90 degrees clockwise in Photoshop around its center, the point becomes 17,15 inside the rectangle that is now 128W and 50H.\r\n\r\nHowever, if I use the formula I&#39;ve found 100 times around here for the same question, I get a completely different answer.\r\n\r\n```\r\nimport java.awt.*;\r\n\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        int width=50;\r\n        int height=128;\r\n        int cx = width/2;\r\n        int cy = height/2;\r\n\r\n        // should get 17,15\r\n        rotateXY(15,111,cx,cy,-90D); // returns 61,85, which is not even inside the image anymore\r\n        rotateXY(15,111,cx,cy,90D); // returns -11,66. \r\n    }\r\n\r\n\r\n    \r\n    public static void rotateXY(int x, int y, int cx, int cy, double degrees) {\r\n        // x, y - coordinates of a corner point of the square\r\n        // cx, cy - center of square coordinates\r\n\r\n        double angle = Math.toRadians(degrees);\r\n\r\n        double x1 = x - cx;\r\n        double y1 = y - cy;\r\n        \r\n        double x2 = x1 * Math.cos(angle) - y1 * Math.sin(angle);\r\n        double y2 = y1 * Math.cos(angle) + x1 * Math.sin(angle);\r\n        \r\n        int rx = (int) x2 + cx;\r\n        int ry = (int) y2 + cy;\r\n        System.out.println(rx + &quot;,&quot; + ry);\r\n    }\r\n\r\n}\r\n```\r\n\r\n[![Before rotating][1]][1]\r\n\r\n\r\n[![After rotating][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vyccc.png\r\n  [2]: https://i.stack.imgur.com/ebHZS.png\r\n\r\n\r\nThe method I used to rotate the image in java:\r\n\r\n```\r\n    public static BufferedImage rotate(BufferedImage bimg, Double angle) {\r\n        double sin = Math.abs(Math.sin(Math.toRadians(angle))),\r\n                cos = Math.abs(Math.cos(Math.toRadians(angle)));\r\n        int w = bimg.getWidth();\r\n        int h = bimg.getHeight();\r\n        int neww = (int) Math.floor(w*cos + h*sin),\r\n                newh = (int) Math.floor(h*cos + w*sin);\r\n        BufferedImage rotated = new BufferedImage(neww, newh, bimg.getType());\r\n        Graphics2D graphic = rotated.createGraphics();\r\n        graphic.translate((neww-w)/2, (newh-h)/2);\r\n        graphic.rotate(Math.toRadians(angle), w/2, h/2);\r\n        graphic.drawRenderedImage(bimg, null);\r\n        graphic.dispose();\r\n        return rotated;\r\n    }\r\n```","title":"Java - get x,y coordinates after rotating a rectangle","body":"<p>I can't seem to get the standard answer to work. I'm trying to find the new x,y coordinates of a point inside a larger rectangle, after rotating the larger rectangle around its center. (The end goal is to calculate the 4 corners of a collision box inside the larger rectangle.)</p>\n<p>The rectangle is 50W x 128H, and the point inside the rectangle is at 15,111. If I rotate this same rectangle 90 degrees clockwise in Photoshop around its center, the point becomes 17,15 inside the rectangle that is now 128W and 50H.</p>\n<p>However, if I use the formula I've found 100 times around here for the same question, I get a completely different answer.</p>\n<pre><code>import java.awt.*;\n\n\npublic class MyClass {\n    public static void main(String args[]) {\n        int width=50;\n        int height=128;\n        int cx = width/2;\n        int cy = height/2;\n\n        // should get 17,15\n        rotateXY(15,111,cx,cy,-90D); // returns 61,85, which is not even inside the image anymore\n        rotateXY(15,111,cx,cy,90D); // returns -11,66. \n    }\n\n\n    \n    public static void rotateXY(int x, int y, int cx, int cy, double degrees) {\n        // x, y - coordinates of a corner point of the square\n        // cx, cy - center of square coordinates\n\n        double angle = Math.toRadians(degrees);\n\n        double x1 = x - cx;\n        double y1 = y - cy;\n        \n        double x2 = x1 * Math.cos(angle) - y1 * Math.sin(angle);\n        double y2 = y1 * Math.cos(angle) + x1 * Math.sin(angle);\n        \n        int rx = (int) x2 + cx;\n        int ry = (int) y2 + cy;\n        System.out.println(rx + &quot;,&quot; + ry);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vyccc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyccc.png\" alt=\"Before rotating\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ebHZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebHZS.png\" alt=\"After rotating\" /></a></p>\n<p>The method I used to rotate the image in java:</p>\n<pre><code>    public static BufferedImage rotate(BufferedImage bimg, Double angle) {\n        double sin = Math.abs(Math.sin(Math.toRadians(angle))),\n                cos = Math.abs(Math.cos(Math.toRadians(angle)));\n        int w = bimg.getWidth();\n        int h = bimg.getHeight();\n        int neww = (int) Math.floor(w*cos + h*sin),\n                newh = (int) Math.floor(h*cos + w*sin);\n        BufferedImage rotated = new BufferedImage(neww, newh, bimg.getType());\n        Graphics2D graphic = rotated.createGraphics();\n        graphic.translate((neww-w)/2, (newh-h)/2);\n        graphic.rotate(Math.toRadians(angle), w/2, h/2);\n        graphic.drawRenderedImage(bimg, null);\n        graphic.dispose();\n        return rotated;\n    }\n</code></pre>\n"},{"tags":["java","android","search","searchview","android-search"],"answers":[{"tags":[],"owner":{"account_id":994698,"reputation":3741,"user_id":1010964,"accept_rate":100,"display_name":"Geralt_Encore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453494351,"creation_date":1453494351,"answer_id":34955345,"question_id":34955109,"body_markdown":"You can easily achieve it with [RxJava][1]. Also, you will need [RxAndroid][2] and [RxBinding][3] (but you probably already have them in your project if you are using RxJava).\r\n\r\n    RxTextView.textChangeEvents(yourEditText)\r\n              .debounce(1, TimeUnit.SECONDS)\r\n              .observeOn(AndroidSchedulers.mainThread())\r\n              .subscribe(performSearch());\r\n[Here][4] the full example by Kaushik Gopal.\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: https://github.com/ReactiveX/RxAndroid\r\n  [3]: https://github.com/JakeWharton/RxBinding\r\n  [4]: https://github.com/kaushikgopal/RxJava-Android-Samples/blob/master/app/src/main/java/com/morihacky/android/rxjava/fragments/DebounceSearchEmitterFragment.java","title":"Throttle onQueryTextChange in SearchView","body":"<p>You can easily achieve it with <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">RxJava</a>. Also, you will need <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"nofollow\">RxAndroid</a> and <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"nofollow\">RxBinding</a> (but you probably already have them in your project if you are using RxJava).</p>\n\n<pre><code>RxTextView.textChangeEvents(yourEditText)\n          .debounce(1, TimeUnit.SECONDS)\n          .observeOn(AndroidSchedulers.mainThread())\n          .subscribe(performSearch());\n</code></pre>\n\n<p><a href=\"https://github.com/kaushikgopal/RxJava-Android-Samples/blob/master/app/src/main/java/com/morihacky/android/rxjava/fragments/DebounceSearchEmitterFragment.java\" rel=\"nofollow\">Here</a> the full example by Kaushik Gopal.</p>\n"},{"tags":[],"owner":{"account_id":10750,"reputation":19881,"user_id":20446,"accept_rate":59,"display_name":"aherrick"},"down_vote_count":3,"up_vote_count":2,"is_accepted":true,"score":-1,"last_activity_date":1453731474,"creation_date":1453731474,"answer_id":34994785,"question_id":34955109,"body_markdown":"I ended up with a solution similar to below. That way it should fire once every half second.\r\n\r\n            public boolean onQueryTextChange(final String newText) {\r\n\r\n                if (newText.length() &gt; 3) {\r\n\r\n                    if (canRun) {\r\n                        canRun = false;\r\n                        handler.postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n\r\n                                canRun = true;\r\n                                handleLocationSearch(newText);\r\n                            }\r\n                        }, 500);\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }","title":"Throttle onQueryTextChange in SearchView","body":"<p>I ended up with a solution similar to below. That way it should fire once every half second.</p>\n\n<pre><code>        public boolean onQueryTextChange(final String newText) {\n\n            if (newText.length() &gt; 3) {\n\n                if (canRun) {\n                    canRun = false;\n                    handler.postDelayed(new Runnable() {\n                        @Override\n                        public void run() {\n\n                            canRun = true;\n                            handleLocationSearch(newText);\n                        }\n                    }, 500);\n                }\n            }\n\n            return false;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1512913,"reputation":1630,"user_id":1414578,"accept_rate":92,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1463943453,"creation_date":1463943453,"answer_id":37378359,"question_id":34955109,"body_markdown":"Building on aherrick&#39;s code, I have a better solution. Instead of using a boolean &#39;canRun&#39;, declare a runnable variable and clear the callback queue on the handler each time the query text is changed. This is the code I ended up using:\r\n\r\n    @Override\r\n    public boolean onQueryTextChange(final String newText) {\r\n        searchText = newText;\r\n         \r\n        // Remove all previous callbacks.\r\n        handler.removeCallbacks(runnable);\r\n    \r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Your code here.\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 500);\r\n\r\n        return false;\r\n    }","title":"Throttle onQueryTextChange in SearchView","body":"<p>Building on aherrick's code, I have a better solution. Instead of using a boolean 'canRun', declare a runnable variable and clear the callback queue on the handler each time the query text is changed. This is the code I ended up using:</p>\n\n<pre><code>@Override\npublic boolean onQueryTextChange(final String newText) {\n    searchText = newText;\n\n    // Remove all previous callbacks.\n    handler.removeCallbacks(runnable);\n\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            // Your code here.\n        }\n    };\n    handler.postDelayed(runnable, 500);\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1490595130,"creation_date":1490595130,"answer_id":43039061,"question_id":34955109,"body_markdown":"I&#39;ve come up to a solution using [RxJava][1], particularly it&#39;s [debounce][2] operator.\r\n\r\n[![][3]][3]\r\n\r\nWith Jake Wharton&#39;s handy [RxBinding][4], we&#39;ll have this:\r\n\r\n    RxSearchView.queryTextChanges(searchView)\r\n            .debounce(1, TimeUnit.SECONDS) // stream will go down after 1 second inactivity of user\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribe(new Consumer&lt;CharSequence&gt;() {\r\n                @Override\r\n                public void accept(@NonNull CharSequence charSequence) throws Exception {\r\n                    // perform necessary operation with `charSequence`\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: http://reactivex.io/documentation/operators/debounce.html\r\n  [3]: https://i.stack.imgur.com/j7PNY.png\r\n  [4]: https://github.com/JakeWharton/RxBinding","title":"Throttle onQueryTextChange in SearchView","body":"<p>I've come up to a solution using <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">RxJava</a>, particularly it's <a href=\"http://reactivex.io/documentation/operators/debounce.html\" rel=\"noreferrer\">debounce</a> operator.</p>\n\n<p><a href=\"https://i.stack.imgur.com/j7PNY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j7PNY.png\" alt=\"\"></a></p>\n\n<p>With Jake Wharton's handy <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"noreferrer\">RxBinding</a>, we'll have this:</p>\n\n<pre><code>RxSearchView.queryTextChanges(searchView)\n        .debounce(1, TimeUnit.SECONDS) // stream will go down after 1 second inactivity of user\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(new Consumer&lt;CharSequence&gt;() {\n            @Override\n            public void accept(@NonNull CharSequence charSequence) throws Exception {\n                // perform necessary operation with `charSequence`\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1623708,"reputation":1531,"user_id":1499750,"accept_rate":71,"display_name":"jc12"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1597187553,"creation_date":1524590092,"answer_id":50007453,"question_id":34955109,"body_markdown":"If you are using Kotlin and coroutines you could do the following:\r\n\r\n    var queryTextChangedJob: Job? = null\r\n\r\n    ...\r\n\r\n    fun onQueryTextChange(query: String) {\r\n\r\n        queryTextChangedJob?.cancel()\r\n        \r\n        queryTextChangedJob = launch(Dispatchers.Main) {\r\n            delay(500)\r\n            performSearch(query)\r\n        }\r\n    }","title":"Throttle onQueryTextChange in SearchView","body":"<p>If you are using Kotlin and coroutines you could do the following:</p>\n<pre><code>var queryTextChangedJob: Job? = null\n\n...\n\nfun onQueryTextChange(query: String) {\n\n    queryTextChangedJob?.cancel()\n    \n    queryTextChangedJob = launch(Dispatchers.Main) {\n        delay(500)\n        performSearch(query)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7543317,"reputation":987,"user_id":6325722,"display_name":"Johnny Five"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626947514,"creation_date":1553073522,"answer_id":55257259,"question_id":34955109,"body_markdown":"1) Create abstract class:\r\n\r\n       public abstract class DelayedOnQueryTextListener implements SearchView.OnQueryTextListener {\r\n\r\n        private Handler handler = new Handler();\r\n        private Runnable runnable;\r\n\r\n        @Override\r\n        public boolean onQueryTextSubmit(String s) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean onQueryTextChange(String s) {\r\n            handler.removeCallbacks(runnable);\r\n            runnable = () -&gt; onDelayerQueryTextChange(s);\r\n            handler.postDelayed(runnable, 400);\r\n            return true;\r\n        }\r\n\r\n        public abstract void onDelayedQueryTextChange(String query);\r\n    }\r\n\r\n2) Set it like this:\r\n\r\n       searchView.setOnQueryTextListener(new DelayedOnQueryTextListener() {\r\n            @Override\r\n            public void onDelayedQueryTextChange(String query) {\r\n                // Handle query\r\n            }\r\n        });","title":"Throttle onQueryTextChange in SearchView","body":"<ol>\n<li><p>Create abstract class:</p>\n<pre><code>public abstract class DelayedOnQueryTextListener implements SearchView.OnQueryTextListener {\n\n private Handler handler = new Handler();\n private Runnable runnable;\n\n @Override\n public boolean onQueryTextSubmit(String s) {\n     return false;\n }\n\n @Override\n public boolean onQueryTextChange(String s) {\n     handler.removeCallbacks(runnable);\n     runnable = () -&gt; onDelayerQueryTextChange(s);\n     handler.postDelayed(runnable, 400);\n     return true;\n }\n\n public abstract void onDelayedQueryTextChange(String query);\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Set it like this:</p>\n<pre><code>searchView.setOnQueryTextListener(new DelayedOnQueryTextListener() {\n     @Override\n     public void onDelayedQueryTextChange(String query) {\n         // Handle query\n     }\n });\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17610446,"reputation":655,"user_id":12778618,"display_name":"MaxB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593196745,"creation_date":1593182816,"answer_id":62597263,"question_id":34955109,"body_markdown":"**For Korlin**\r\n\r\nIn case of ```coroutineScope.launch(Dispatchers.Main) {}``` you may run into a problem ```Suspend function &#39;...&#39; should be called only from a coroutine or another suspend function```.\r\n\r\nI found the following way\r\n\r\n```\r\nprivate var queryTextChangedJob: Job? = null\r\nprivate lateinit var searchText: String\r\n```\r\n\r\nNext don&#39;t forget use ```implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.3.0-alpha05&quot;```\r\n\r\n\r\n```\r\noverride fun onQueryTextChange(newText: String?): Boolean {\r\n\r\n    val text = newText ?: return false\r\n    searchText = text\r\n\r\n    queryTextChangedJob?.cancel()\r\n    queryTextChangedJob = lifecycleScope.launch(Dispatchers.Main) {\r\n        println(&quot;async work started...&quot;)\r\n        delay(2000)\r\n        doSearch()\r\n        println(&quot;async work done!&quot;)\r\n    }\r\n\r\n    return false\r\n}\r\n```\r\n\r\nIf you want use ```launch``` inside ViewModel then use ```implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.0-alpha05&quot;```\r\n\r\n```\r\nqueryTextChangedJob = viewModelScope.launch(Dispatchers.Main) {\r\n        //...\r\n}\r\n```","title":"Throttle onQueryTextChange in SearchView","body":"<p><strong>For Korlin</strong></p>\n<p>In case of <code>coroutineScope.launch(Dispatchers.Main) {}</code> you may run into a problem <code>Suspend function '...' should be called only from a coroutine or another suspend function</code>.</p>\n<p>I found the following way</p>\n<pre><code>private var queryTextChangedJob: Job? = null\nprivate lateinit var searchText: String\n</code></pre>\n<p>Next don't forget use <code>implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.3.0-alpha05&quot;</code></p>\n<pre><code>override fun onQueryTextChange(newText: String?): Boolean {\n\n    val text = newText ?: return false\n    searchText = text\n\n    queryTextChangedJob?.cancel()\n    queryTextChangedJob = lifecycleScope.launch(Dispatchers.Main) {\n        println(&quot;async work started...&quot;)\n        delay(2000)\n        doSearch()\n        println(&quot;async work done!&quot;)\n    }\n\n    return false\n}\n</code></pre>\n<p>If you want use <code>launch</code> inside ViewModel then use <code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.0-alpha05&quot;</code></p>\n<pre><code>queryTextChangedJob = viewModelScope.launch(Dispatchers.Main) {\n        //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098025,"reputation":19076,"user_id":1866373,"accept_rate":55,"display_name":"Daniel Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627036925,"creation_date":1627036925,"answer_id":68497929,"question_id":34955109,"body_markdown":"Using Coroutines and Flow:\r\n\r\n    private fun SearchView.onQueryTextChanged(): ReceiveChannel&lt;String&gt; =\r\n        Channel&lt;String&gt;(capacity = Channel.UNLIMITED).also { channel -&gt;\r\n            setOnQueryTextListener(object : SearchView.OnQueryTextListener{\r\n                override fun onQueryTextSubmit(query: String?): Boolean {\r\n                    return false\r\n                }\r\n\r\n                override fun onQueryTextChange(newText: String?): Boolean {\r\n                    newText.orEmpty().let(channel::offer)\r\n                    return true\r\n                }\r\n            })\r\n        }\r\n\r\n    @ExperimentalCoroutinesApi\r\n    fun &lt;T&gt; ReceiveChannel&lt;T&gt;.debounce(time: Long, unit: TimeUnit = TimeUnit.MILLISECONDS, scope: CoroutineScope): ReceiveChannel&lt;T&gt; =\r\n        Channel&lt;T&gt;(capacity = Channel.CONFLATED).also { channel -&gt;\r\n            scope.launch {\r\n                var value = receive()\r\n                whileSelect {\r\n                    onTimeout(time) {\r\n                        channel.offer(value)\r\n                        value = receive()\r\n                        true\r\n                    }\r\n                    onReceive {\r\n                        value = it\r\n                        true\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nAnd add to your search view like this:\r\n\r\n    lifecycleScope.launch {\r\n       searchView.onQueryTextChanged().debounce(time = 500, scope = lifecycleScope).consumeEach { newText -&gt;\r\n              //Use debounced query\r\n       }\r\n    }","title":"Throttle onQueryTextChange in SearchView","body":"<p>Using Coroutines and Flow:</p>\n<pre><code>private fun SearchView.onQueryTextChanged(): ReceiveChannel&lt;String&gt; =\n    Channel&lt;String&gt;(capacity = Channel.UNLIMITED).also { channel -&gt;\n        setOnQueryTextListener(object : SearchView.OnQueryTextListener{\n            override fun onQueryTextSubmit(query: String?): Boolean {\n                return false\n            }\n\n            override fun onQueryTextChange(newText: String?): Boolean {\n                newText.orEmpty().let(channel::offer)\n                return true\n            }\n        })\n    }\n\n@ExperimentalCoroutinesApi\nfun &lt;T&gt; ReceiveChannel&lt;T&gt;.debounce(time: Long, unit: TimeUnit = TimeUnit.MILLISECONDS, scope: CoroutineScope): ReceiveChannel&lt;T&gt; =\n    Channel&lt;T&gt;(capacity = Channel.CONFLATED).also { channel -&gt;\n        scope.launch {\n            var value = receive()\n            whileSelect {\n                onTimeout(time) {\n                    channel.offer(value)\n                    value = receive()\n                    true\n                }\n                onReceive {\n                    value = it\n                    true\n                }\n            }\n        }\n    }\n</code></pre>\n<p>And add to your search view like this:</p>\n<pre><code>lifecycleScope.launch {\n   searchView.onQueryTextChanged().debounce(time = 500, scope = lifecycleScope).consumeEach { newText -&gt;\n          //Use debounced query\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10627020,"reputation":698,"user_id":7826372,"accept_rate":43,"display_name":"Islam Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656301414,"creation_date":1656300915,"answer_id":72766752,"question_id":34955109,"body_markdown":"I didn&#39;t find a solution that enable me to use some flow operators like `distinctUntilChanged` , utile I tried this approach, maybe someone need it:\r\n\r\nFirst create an extension function from **SearchView**\r\n\r\n    private fun SearchView.getQueryTextChangeStateFlow(): StateFlow&lt;String&gt; {\r\n        val query = MutableStateFlow(&quot;&quot;)\r\n        \r\n        setOnQueryTextListener(object : SearchView.OnQueryTextListener {\r\n            override fun onQueryTextSubmit(query: String?): Boolean {\r\n                return true\r\n            }\r\n            override fun onQueryTextChange(newText: String): Boolean {\r\n                query.value = newText\r\n                return true\r\n            }\r\n        })\r\n\r\n        return query\r\n    }\r\n\r\nThen \r\n\r\n     private fun setUpSearchStateFlow(searchView: SearchView) {\r\n        lifecycleScope.launch {\r\n            searchView.getQueryTextChangeStateFlow()\r\n                .debounce(300)\r\n                .distinctUntilChanged()\r\n                .map { query -&gt;\r\n                    startSearchRequestHere(query)\r\n                }\r\n                .flowOn(Dispatchers.Default)\r\n                .collect {}\r\n        }\r\n    }\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://blog.mindorks.com/instant-search-using-kotlin-flow-operators","title":"Throttle onQueryTextChange in SearchView","body":"<p>I didn't find a solution that enable me to use some flow operators like <code>distinctUntilChanged</code> , utile I tried this approach, maybe someone need it:</p>\n<p>First create an extension function from <strong>SearchView</strong></p>\n<pre><code>private fun SearchView.getQueryTextChangeStateFlow(): StateFlow&lt;String&gt; {\n    val query = MutableStateFlow(&quot;&quot;)\n    \n    setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n        override fun onQueryTextSubmit(query: String?): Boolean {\n            return true\n        }\n        override fun onQueryTextChange(newText: String): Boolean {\n            query.value = newText\n            return true\n        }\n    })\n\n    return query\n}\n</code></pre>\n<p>Then</p>\n<pre><code> private fun setUpSearchStateFlow(searchView: SearchView) {\n    lifecycleScope.launch {\n        searchView.getQueryTextChangeStateFlow()\n            .debounce(300)\n            .distinctUntilChanged()\n            .map { query -&gt;\n                startSearchRequestHere(query)\n            }\n            .flowOn(Dispatchers.Default)\n            .collect {}\n    }\n}\n</code></pre>\n<p><a href=\"https://blog.mindorks.com/instant-search-using-kotlin-flow-operators\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":10750,"reputation":19881,"user_id":20446,"accept_rate":59,"display_name":"aherrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11077,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":34994785,"answer_count":9,"score":16,"last_activity_date":1656301414,"creation_date":1453493446,"question_id":34955109,"body_markdown":"What&#39;s the best way to &quot;throttle&quot; `onQueryTextChange` so that my `performSearch()` method is called only once every second instead of every time the user types?\r\n\r\n    public boolean onQueryTextChange(final String newText) {\r\n        if (newText.length() &gt; 3) {\r\n            // throttle to call performSearch once every second\r\n            performSearch(nextText);\r\n        }\r\n        return false;\r\n    }","title":"Throttle onQueryTextChange in SearchView","body":"<p>What's the best way to \"throttle\" <code>onQueryTextChange</code> so that my <code>performSearch()</code> method is called only once every second instead of every time the user types?</p>\n\n<pre><code>public boolean onQueryTextChange(final String newText) {\n    if (newText.length() &gt; 3) {\n        // throttle to call performSearch once every second\n        performSearch(nextText);\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","jvm","g1gc"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656266104,"post_id":72763929,"comment_id":128524423,"body_markdown":"Are you using, or have you tried using, `-XX:G1PeriodicGCInterval`?","body":"Are you using, or have you tried using, <code>-XX:G1PeriodicGCInterval</code>?"},{"owner":{"account_id":989210,"reputation":5391,"user_id":1006944,"accept_rate":74,"display_name":"Selvakumar Ponnusamy"},"score":0,"creation_date":1656304644,"post_id":72763929,"comment_id":128529857,"body_markdown":"We use Java 11, I think `XX:G1PeriodicGCInterval` can be used in above Java 12","body":"We use Java 11, I think <code>XX:G1PeriodicGCInterval</code> can be used in above Java 12"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656348984,"post_id":72763929,"comment_id":128544988,"body_markdown":"Dang, ok. More info available about that flag [here](https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-g1-garbage-collector1.html#GUID-DA6296DD-9AAB-4955-8B5B-683651936155). From Amazon&#39;s [product page](https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc), corretto is available for OpenJDK 17 and 18 – maybe an option to consider going to a newer, post-11 version.","body":"Dang, ok. More info available about that flag <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-g1-garbage-collector1.html#GUID-DA6296DD-9AAB-4955-8B5B-683651936155\" rel=\"nofollow noreferrer\">here</a>. From Amazon&#39;s <a href=\"https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc\" rel=\"nofollow noreferrer\">product page</a>, corretto is available for OpenJDK 17 and 18 – maybe an option to consider going to a newer, post-11 version."}],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656271480,"creation_date":1656271480,"answer_id":72764545,"question_id":72763929,"body_markdown":"G1 Young phase includes two stop-the-world steps (marking and cleanup). It also includes some steps (Concurrent Start) which are concurrent.\r\n\r\nSo I would answer your question: yes, Young Collection halts/stop-the-world your application.\r\n\r\nYou can check G1 specifics [here](https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-g1-garbage-collector1.html#GUID-F1BE86FA-3EDC-4D4F-BDB4-4B044AD83180)","title":"Does G1 GC in Young generation halts the application","body":"<p>G1 Young phase includes two stop-the-world steps (marking and cleanup). It also includes some steps (Concurrent Start) which are concurrent.</p>\n<p>So I would answer your question: yes, Young Collection halts/stop-the-world your application.</p>\n<p>You can check G1 specifics <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-g1-garbage-collector1.html#GUID-F1BE86FA-3EDC-4D4F-BDB4-4B044AD83180\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656273702,"creation_date":1656273702,"answer_id":72764774,"question_id":72763929,"body_markdown":"I think this talk from Gil Tene is really useful: https://vimeo.com/374755640\r\nAround 45:30 they start classifying common (legacy) collectors including G1 GC which they describe as: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSTq1.png","title":"Does G1 GC in Young generation halts the application","body":"<p>I think this talk from Gil Tene is really useful: <a href=\"https://vimeo.com/374755640\" rel=\"nofollow noreferrer\">https://vimeo.com/374755640</a>\nAround 45:30 they start classifying common (legacy) collectors including G1 GC which they describe as:</p>\n<p><a href=\"https://i.stack.imgur.com/iSTq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSTq1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":989210,"reputation":5391,"user_id":1006944,"accept_rate":74,"display_name":"Selvakumar Ponnusamy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72764545,"answer_count":2,"score":1,"last_activity_date":1656301387,"creation_date":1656265733,"question_id":72763929,"body_markdown":"We use corretto java and using G1 gc.\r\n\r\nAs far as I know, the gc algorithms do halts the application while doing full gc for sometime not while young generation as it happens more frequently.\r\n\r\n\r\nBut some of articles mentioned that G1 gc halts the application in young generation too at the beginning of the GC to do some quick bookkeeping before it immediately resumes the application. Is it true ? Because during this time our health check failed and our Auto scaling group triggered scale out event.\r\n\r\n\r\nIs it true that G1 gc in young generation halts the application ?\r\n\r\n","title":"Does G1 GC in Young generation halts the application","body":"<p>We use corretto java and using G1 gc.</p>\n<p>As far as I know, the gc algorithms do halts the application while doing full gc for sometime not while young generation as it happens more frequently.</p>\n<p>But some of articles mentioned that G1 gc halts the application in young generation too at the beginning of the GC to do some quick bookkeeping before it immediately resumes the application. Is it true ? Because during this time our health check failed and our Auto scaling group triggered scale out event.</p>\n<p>Is it true that G1 gc in young generation halts the application ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":20250904,"reputation":11,"user_id":14852063,"display_name":"reinielfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656300579,"creation_date":1656297894,"question_id":72766541,"body_markdown":"So I have a many-to-many relationship that goes like this:\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;A&quot;)\r\npublic class A {\r\n    @Id\r\n    @SequenceGenerator(...)\r\n    @GeneratedValue(strategy = SEQUENCE, ...)\r\n    private Long id;\r\n\r\n    @ManyToMany(\r\n        cascade = CascadeType.PERSIST,\r\n        fetch = FetchType.EAGER\r\n    )\r\n    @JoinTable(...)\r\n    private Set&lt;B&gt; b;\r\n\r\n}\r\n```\r\n\r\nI have `cascade = CascadeType.PERSIST` in the many-to-many relationship so that when I save A, B is persisted along with it.\r\nBut, as you can see B has a @UniqueConstraint:\r\n\r\n```java\r\n@Entity\r\n@Table(\r\n    name=&quot;B&quot;,\r\n    uniqueConstraints = @UniqueConstraint(name = &quot;b_name_unique&quot;, columnNames = &quot;name&quot;)\r\n)\r\npublic class B {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;b_sequence&quot;, sequenceName = &quot;b_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;b_sequence&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;b&quot;)\r\n    private Set&lt;A&gt; a;\r\n\r\n}\r\n```\r\n\r\nThe problem is, of course, when try to save two different A entities with B entities with the same name, or even with the exact same B entity, it throws the following error:\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;b_name_unique&quot;\r\n  Detail: Key (name)=(myname) already exists.\r\n```\r\n\r\nWhich makes sense, since it&#39;s doing the following:\r\n\r\n```\r\nHibernate: insert into B (name, id) values (?, ?)\r\n\r\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [myname] &lt;--------------------\\\r\no.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]                            |\r\n                                                                                                              |\r\nHibernate: insert into B (name, id) values (?, ?)                                                             |\r\n                                                                                                              |\r\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [myname] &lt;--------------------|\r\no.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2] &lt;--------- +1 even though name is the same\r\no.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505                                                   |\r\no.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint &quot;b_name_unique&quot; &lt;---------/\r\n```\r\n\r\nWhat I want to do is find a way to save multiple A entities that have B entities in common. For example:\r\n\r\n```\r\nsave A(id=null, b=B(id=null, name=myname)) -&gt; find A(id=1, b=B(id=1, name=myname))\r\nsave A(id=null, b=B(id=null, name=myname)) -&gt; find A(id=2, b=B(id=1, name=myname))\r\n```\r\n\r\nThe only workaround I&#39;ve found so far is to:\r\n* make a set of all the common B entities in A entities and \r\n* save those first, and then \r\n* save the A entities. \r\n\r\nAnd that works somehow.\r\n","title":"How to do bulk inserts when you have a @UniqueConstraint in a related entity?","body":"<p>So I have a many-to-many relationship that goes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;A&quot;)\npublic class A {\n    @Id\n    @SequenceGenerator(...)\n    @GeneratedValue(strategy = SEQUENCE, ...)\n    private Long id;\n\n    @ManyToMany(\n        cascade = CascadeType.PERSIST,\n        fetch = FetchType.EAGER\n    )\n    @JoinTable(...)\n    private Set&lt;B&gt; b;\n\n}\n</code></pre>\n<p>I have <code>cascade = CascadeType.PERSIST</code> in the many-to-many relationship so that when I save A, B is persisted along with it.\nBut, as you can see B has a @UniqueConstraint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(\n    name=&quot;B&quot;,\n    uniqueConstraints = @UniqueConstraint(name = &quot;b_name_unique&quot;, columnNames = &quot;name&quot;)\n)\npublic class B {\n    @Id\n    @SequenceGenerator(name = &quot;b_sequence&quot;, sequenceName = &quot;b_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;b_sequence&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;b&quot;)\n    private Set&lt;A&gt; a;\n\n}\n</code></pre>\n<p>The problem is, of course, when try to save two different A entities with B entities with the same name, or even with the exact same B entity, it throws the following error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;b_name_unique&quot;\n  Detail: Key (name)=(myname) already exists.\n</code></pre>\n<p>Which makes sense, since it's doing the following:</p>\n<pre><code>Hibernate: insert into B (name, id) values (?, ?)\n\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [myname] &lt;--------------------\\\no.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]                            |\n                                                                                                              |\nHibernate: insert into B (name, id) values (?, ?)                                                             |\n                                                                                                              |\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [myname] &lt;--------------------|\no.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2] &lt;--------- +1 even though name is the same\no.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505                                                   |\no.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint &quot;b_name_unique&quot; &lt;---------/\n</code></pre>\n<p>What I want to do is find a way to save multiple A entities that have B entities in common. For example:</p>\n<pre><code>save A(id=null, b=B(id=null, name=myname)) -&gt; find A(id=1, b=B(id=1, name=myname))\nsave A(id=null, b=B(id=null, name=myname)) -&gt; find A(id=2, b=B(id=1, name=myname))\n</code></pre>\n<p>The only workaround I've found so far is to:</p>\n<ul>\n<li>make a set of all the common B entities in A entities and</li>\n<li>save those first, and then</li>\n<li>save the A entities.</li>\n</ul>\n<p>And that works somehow.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","postman"],"comments":[{"owner":{"account_id":183892,"reputation":1036,"user_id":419581,"accept_rate":100,"display_name":"r&#233;my"},"score":0,"creation_date":1656010709,"post_id":72735123,"comment_id":128474290,"body_markdown":"How do you inject your dependency invoiceRepository in the service. You could fe. @Autwired it?","body":"How do you inject your dependency invoiceRepository in the service. You could fe. @Autwired it?"}],"answers":[{"tags":[],"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656298850,"creation_date":1656013488,"answer_id":72735810,"question_id":72735123,"body_markdown":"For your service class, how are you declaring and creating `invoiceRepository`?  If it&#39;s like this:\r\n```java\r\nprivate InvoiceRepository invoiceRepository;\r\n```\r\n\r\nThen you need to add an `@Autowired`:\r\n```java\r\n@Autowired\r\nprivate InvoiceRepository invoiceRepository;\r\n```\r\n\r\nIf you do have it `@Autowired`, make sure your service class is annotated with `@Service`:\r\n```java\r\n@Service\r\npublic class InvoiceService {...}\r\n```\r\n\r\nIf you have that, make sure you aren&#39;t creating `InvoiceService` with `&quot;new&quot;` in your controller. Instead of:\r\n```Java\r\nprivate InvoiceService invoiceService = new InvoiceService();\r\n```\r\nor `&quot;new&quot;ing` it in a constructor,\r\nuse `@Autowire`\r\n```java\r\n@Autowire\r\nprivate InvoiceService invoiceService;","title":"500 Internal Server Error in spring boot post API","body":"<p>For your service class, how are you declaring and creating <code>invoiceRepository</code>?  If it's like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private InvoiceRepository invoiceRepository;\n</code></pre>\n<p>Then you need to add an <code>@Autowired</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate InvoiceRepository invoiceRepository;\n</code></pre>\n<p>If you do have it <code>@Autowired</code>, make sure your service class is annotated with <code>@Service</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class InvoiceService {...}\n</code></pre>\n<p>If you have that, make sure you aren't creating <code>InvoiceService</code> with <code>&quot;new&quot;</code> in your controller. Instead of:</p>\n<pre><code>private InvoiceService invoiceService = new InvoiceService();\n</code></pre>\n<p>or <code>&quot;new&quot;ing</code> it in a constructor,\nuse <code>@Autowire</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowire\nprivate InvoiceService invoiceService;\n</code></pre>\n"}],"owner":{"account_id":24821818,"reputation":157,"user_id":18702081,"display_name":"renad sahal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72735810,"answer_count":1,"score":1,"last_activity_date":1656298850,"creation_date":1656009507,"question_id":72735123,"body_markdown":"I&#39;m trying to create a post API in a spring boot app but it&#39;s not working and i can&#39;t find the issue in the code \r\n\r\n\r\n\r\nThis is **service**:  \r\n\r\n      @Transactional\r\n        public Invoice saveInvoice(Invoice invoice) {\r\n            Invoice newInvoice = invoiceRepository.save(invoice);\r\n            return newInvoice;\r\n        }\r\n\r\nThis is **the controller**:\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;Invoice&gt; addInvoice(@RequestBody InvoiceDTO invoice) {\r\n        try {\r\n            Invoice newInvoice = invoiceService\r\n                    .saveInvoice(new Invoice(invoice.getSerialNumber(), invoice.getStatus(), invoice.getCreatedDate()));\r\n            return new ResponseEntity&lt;&gt;(newInvoice, HttpStatus.CREATED);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\nand this is the **model** : \r\n\r\n    @Entity\r\n    @Table(name = &quot;invoice&quot;)\r\n    public class Invoice {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(name = &quot;serial_number&quot;)\r\n        private long serialNumber;\r\n        @Column(name = &quot;status&quot;)\r\n        private String status;\r\n        @Column(name = &quot;created_date&quot;)\r\n        private Timestamp createdDate;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        private boolean isDeleted;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;customer_id&quot;)\r\n        private Customer customer;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;employee_id&quot;)\r\n        private Employee employee;\r\n    \r\n        @OneToMany\r\n        private Set&lt;InvoiceHistory&gt; invoiceHistories;\r\n    \r\n        @ManyToMany\r\n        private Set&lt;Item&gt; items;\r\n    \r\n        public Invoice(long serialNumber, String status, Timestamp createdDate) {\r\n            this.serialNumber = serialNumber;\r\n            this.status = status;\r\n            this.createdDate = createdDate;\r\n            this.isDeleted = false;\r\n        }\r\n    }\r\n\r\nBut when I am running in in postman its returning 500 Internal Server Error\r\n \r\n\r\nUpdate error message : \r\n\r\n&gt; , message=Cannot invoke\r\n&gt; &quot;com.example.invoices.repository.IInvoiceRepository.save(Object)&quot;\r\n&gt; because &quot;this.invoiceRepository&quot; is null, path=/invoice/save}]\r\n\r\nwhere&#39;s the problem ?","title":"500 Internal Server Error in spring boot post API","body":"<p>I'm trying to create a post API in a spring boot app but it's not working and i can't find the issue in the code</p>\n<p>This is <strong>service</strong>:</p>\n<pre><code>  @Transactional\n    public Invoice saveInvoice(Invoice invoice) {\n        Invoice newInvoice = invoiceRepository.save(invoice);\n        return newInvoice;\n    }\n</code></pre>\n<p>This is <strong>the controller</strong>:</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;Invoice&gt; addInvoice(@RequestBody InvoiceDTO invoice) {\n    try {\n        Invoice newInvoice = invoiceService\n                .saveInvoice(new Invoice(invoice.getSerialNumber(), invoice.getStatus(), invoice.getCreatedDate()));\n        return new ResponseEntity&lt;&gt;(newInvoice, HttpStatus.CREATED);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n<p>and this is the <strong>model</strong> :</p>\n<pre><code>@Entity\n@Table(name = &quot;invoice&quot;)\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;serial_number&quot;)\n    private long serialNumber;\n    @Column(name = &quot;status&quot;)\n    private String status;\n    @Column(name = &quot;created_date&quot;)\n    private Timestamp createdDate;\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @OneToMany\n    private Set&lt;InvoiceHistory&gt; invoiceHistories;\n\n    @ManyToMany\n    private Set&lt;Item&gt; items;\n\n    public Invoice(long serialNumber, String status, Timestamp createdDate) {\n        this.serialNumber = serialNumber;\n        this.status = status;\n        this.createdDate = createdDate;\n        this.isDeleted = false;\n    }\n}\n</code></pre>\n<p>But when I am running in in postman its returning 500 Internal Server Error</p>\n<p>Update error message :</p>\n<blockquote>\n<p>, message=Cannot invoke\n&quot;com.example.invoices.repository.IInvoiceRepository.save(Object)&quot;\nbecause &quot;this.invoiceRepository&quot; is null, path=/invoice/save}]</p>\n</blockquote>\n<p>where's the problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1655064177,"post_id":72595373,"comment_id":128236159,"body_markdown":"In the first while, I think you want to increase `counter` after you do the if check, not before","body":"In the first while, I think you want to increase <code>counter</code> after you do the if check, not before"}],"answers":[{"tags":[],"owner":{"account_id":3368411,"reputation":9322,"user_id":2828341,"display_name":"lepsch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655327198,"creation_date":1655318656,"answer_id":72636396,"question_id":72595373,"body_markdown":"The problem is in the `for` statement (below). You&#39;re polling the queue and this changes its size. But the `for` is comparing this size with `i &lt; peopleInQueue.size()` on each interaction. `peopleInQueue.size()` is one less on each one and it stops prematurely because the comparison is false at some point.\r\n\r\n```java\r\nfor (int i=0; i &lt; peopleInQueue.size(); i++) {\r\n  ...\r\n  peopleInQueue.poll();\r\n  ...\r\n}\r\n```\r\n\r\nBelow is the table for each `for` interaction:\r\n\r\n| i | peopleInQueue.size() | peopleInQueue.peek() |\r\n|---|---|---|\r\n| 0 | 7 | Bruce Banner |\r\n| 1 | 6 | Steve Rogers |\r\n| 2 | 5 | Tony Stark |\r\n| 3 | 4 | Natalia Romanova |\r\n| 4 | 3 (**STOPS HERE**) | - |","title":"Queues in Java runs out of items sooner than expected","body":"<p>The problem is in the <code>for</code> statement (below). You're polling the queue and this changes its size. But the <code>for</code> is comparing this size with <code>i &lt; peopleInQueue.size()</code> on each interaction. <code>peopleInQueue.size()</code> is one less on each one and it stops prematurely because the comparison is false at some point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=0; i &lt; peopleInQueue.size(); i++) {\n  ...\n  peopleInQueue.poll();\n  ...\n}\n</code></pre>\n<p>Below is the table for each <code>for</code> interaction:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>i</th>\n<th>peopleInQueue.size()</th>\n<th>peopleInQueue.peek()</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>7</td>\n<td>Bruce Banner</td>\n</tr>\n<tr>\n<td>1</td>\n<td>6</td>\n<td>Steve Rogers</td>\n</tr>\n<tr>\n<td>2</td>\n<td>5</td>\n<td>Tony Stark</td>\n</tr>\n<tr>\n<td>3</td>\n<td>4</td>\n<td>Natalia Romanova</td>\n</tr>\n<tr>\n<td>4</td>\n<td>3 (<strong>STOPS HERE</strong>)</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655319955,"creation_date":1655319955,"answer_id":72636646,"question_id":72595373,"body_markdown":"You don&#39;t need `i` anywhere in your second for loop, so I would recommend that you use instead a while:\r\n```\r\nwhile (peopleInQueue.size() &gt; 0)\r\n```\r\n\r\nOr don&#39;t use the `size()` of the queue at all:\r\n```\r\nString name = peopleInQueue.poll();\r\nwhile (name != null) {\r\n  if (name.equals(&quot;You&quot;)) {\r\n    // do your stuff here\r\n  } else {\r\n    // do other stuff here\r\n  }\r\n  name = peopleInQueue.poll();\r\n}","title":"Queues in Java runs out of items sooner than expected","body":"<p>You don't need <code>i</code> anywhere in your second for loop, so I would recommend that you use instead a while:</p>\n<pre><code>while (peopleInQueue.size() &gt; 0)\n</code></pre>\n<p>Or don't use the <code>size()</code> of the queue at all:</p>\n<pre><code>String name = peopleInQueue.poll();\nwhile (name != null) {\n  if (name.equals(&quot;You&quot;)) {\n    // do your stuff here\n  } else {\n    // do other stuff here\n  }\n  name = peopleInQueue.poll();\n}\n</code></pre>\n"}],"owner":{"account_id":25401694,"reputation":39,"user_id":19211055,"display_name":"Brownbp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1655723636,"answer_count":2,"score":1,"last_activity_date":1656298762,"creation_date":1655063185,"question_id":72595373,"body_markdown":"In the `for` loop in the Java code below, the head person is removed from `peopleInQueue`, and it outputs his/her name and that he/she have purchased a ticket, then it outputs **your** position in the queue. When **you** are at the head position, it outputs that you can purchase **your** ticket and the looping is over.\r\n\r\nThe problem is if the input is of 7 items, for example:\r\n\r\n    Bruce Banner\r\n    Steve Rogers\r\n    Tony Stark\r\n    Natalia Romanova\r\n    Peter Parker\r\n    You\r\n    -1\r\n\r\nThen the actual output is the one below. However, it exits sooner than expected. Not even reaching `Peter Parker` or even the objective that is `You`.\r\n\r\n```\r\nWelcome to the ticketing service... \r\nYou are number 6 in the queue.\r\nBruce Banner has purchased a ticket.\r\nYou are now number 5\r\nSteve Rogers has purchased a ticket.\r\nYou are now number 4\r\nTony Stark has purchased a ticket.\r\nYou are now number 3\r\nNatalia Romanova has purchased a ticket.\r\nYou are now number 2\r\n```\r\n\r\nThe expected output should be like this:\r\n\r\n```\r\nWelcome to the ticketing service... \r\nYou are number 6 in the queue.\r\nBruce Banner has purchased a ticket.\r\nYou are now number 5\r\nSteve Rogers has purchased a ticket.\r\nYou are now number 4\r\nTony Stark has purchased a ticket.\r\nYou are now number 3\r\nNatalia Romanova has purchased a ticket.\r\nYou are now number 2\r\nPeter Parker has purchased a ticket.\r\nYou are now number 1\r\nYou can now purchase your ticket!\r\n```\r\n\r\nHere is the code:\r\n\r\n```java\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\nclass Main {\r\n   public static void main (String[] args) {\r\n      Queue&lt;String&gt; peopleInQueue = new LinkedList&lt;&gt;();\r\n      peopleInQueue.add(&quot;Bruce Banner&quot;);\r\n      peopleInQueue.add(&quot;Steve Rogers&quot;);\r\n      peopleInQueue.add(&quot;Tony Stark&quot;);\r\n      peopleInQueue.add(&quot;Natalia Romanova&quot;);\r\n      peopleInQueue.add(&quot;Peter Parker&quot;);\r\n      peopleInQueue.add(&quot;You&quot;);\r\n      peopleInQueue.add(&quot;-1&quot;);\r\n\r\n      int youPosition = 6;\r\n      \r\n      System.out.println(&quot;Welcome to the ticketing service... &quot;);\r\n      System.out.println(&quot;You are number &quot; + youPosition + &quot; in the queue.&quot;);\r\n       \r\n      for(int i=0;i&lt;peopleInQueue.size();i++){\r\n         String name = peopleInQueue.peek();\r\n         if(name.equals(&quot;You&quot;)){\r\n            System.out.println(&quot;You can now purchase your ticket!&quot;);\r\n            break;\r\n         }\r\n         else{\r\n            youPosition--;\r\n            peopleInQueue.poll();\r\n            System.out.println(name+ &quot;has purchased a ticket.&quot;);\r\n            System.out.println(&quot;You are now number &quot;+ youPosition);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n","title":"Queues in Java runs out of items sooner than expected","body":"<p>In the <code>for</code> loop in the Java code below, the head person is removed from <code>peopleInQueue</code>, and it outputs his/her name and that he/she have purchased a ticket, then it outputs <strong>your</strong> position in the queue. When <strong>you</strong> are at the head position, it outputs that you can purchase <strong>your</strong> ticket and the looping is over.</p>\n<p>The problem is if the input is of 7 items, for example:</p>\n<pre><code>Bruce Banner\nSteve Rogers\nTony Stark\nNatalia Romanova\nPeter Parker\nYou\n-1\n</code></pre>\n<p>Then the actual output is the one below. However, it exits sooner than expected. Not even reaching <code>Peter Parker</code> or even the objective that is <code>You</code>.</p>\n<pre><code>Welcome to the ticketing service... \nYou are number 6 in the queue.\nBruce Banner has purchased a ticket.\nYou are now number 5\nSteve Rogers has purchased a ticket.\nYou are now number 4\nTony Stark has purchased a ticket.\nYou are now number 3\nNatalia Romanova has purchased a ticket.\nYou are now number 2\n</code></pre>\n<p>The expected output should be like this:</p>\n<pre><code>Welcome to the ticketing service... \nYou are number 6 in the queue.\nBruce Banner has purchased a ticket.\nYou are now number 5\nSteve Rogers has purchased a ticket.\nYou are now number 4\nTony Stark has purchased a ticket.\nYou are now number 3\nNatalia Romanova has purchased a ticket.\nYou are now number 2\nPeter Parker has purchased a ticket.\nYou are now number 1\nYou can now purchase your ticket!\n</code></pre>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedList;\nimport java.util.Queue;\n\nclass Main {\n   public static void main (String[] args) {\n      Queue&lt;String&gt; peopleInQueue = new LinkedList&lt;&gt;();\n      peopleInQueue.add(&quot;Bruce Banner&quot;);\n      peopleInQueue.add(&quot;Steve Rogers&quot;);\n      peopleInQueue.add(&quot;Tony Stark&quot;);\n      peopleInQueue.add(&quot;Natalia Romanova&quot;);\n      peopleInQueue.add(&quot;Peter Parker&quot;);\n      peopleInQueue.add(&quot;You&quot;);\n      peopleInQueue.add(&quot;-1&quot;);\n\n      int youPosition = 6;\n      \n      System.out.println(&quot;Welcome to the ticketing service... &quot;);\n      System.out.println(&quot;You are number &quot; + youPosition + &quot; in the queue.&quot;);\n       \n      for(int i=0;i&lt;peopleInQueue.size();i++){\n         String name = peopleInQueue.peek();\n         if(name.equals(&quot;You&quot;)){\n            System.out.println(&quot;You can now purchase your ticket!&quot;);\n            break;\n         }\n         else{\n            youPosition--;\n            peopleInQueue.poll();\n            System.out.println(name+ &quot;has purchased a ticket.&quot;);\n            System.out.println(&quot;You are now number &quot;+ youPosition);\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656297181,"creation_date":1656297181,"answer_id":72766482,"question_id":72750544,"body_markdown":"So end up having one mapper and manually mapping the type classes. Do not create 2 mappers, Pet logic get overwritten by auto generated mapper impl \r\n\r\n    @Mapper\r\n    public interface StoreEntityMapper {\r\n   \r\n    StoreEntity toStoreEntity(Store store);\r\n    Store to Store(StoreEntity store); \r\n\r\n    default PetEntity toPetEntity(Pet pet){\r\n       if(Pet instanceof Dog ){\r\n          Dog animal = new Dog();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n      if(Pet instanceof Pig){\r\n           Pig animal = new Pig();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n         if(Pet instanceof Cat ){\r\n          Cat animal = new Cat();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n      return null;\r\n    }\r\n    default Pet to Pet (PetEntity pet){\r\n    if(Pet instanceof DogEntity ){\r\n          DogEntity animal = new DogEntity();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n      if(PetEntity instanceof PigEntity){\r\n           PigEntity animal = new PigEntity();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n         if(PetEntity instanceof CatEntity ){\r\n          CatEntity = new CatEntity();\r\n          animal.setName(pet.getName());\r\n           set all prop \r\n          return animal;\r\n       }\r\n      return null;\r\n    }\r\n\r\n","title":"How properly map multiple level inheritance object","body":"<p>So end up having one mapper and manually mapping the type classes. Do not create 2 mappers, Pet logic get overwritten by auto generated mapper impl</p>\n<pre><code>@Mapper\npublic interface StoreEntityMapper {\n\nStoreEntity toStoreEntity(Store store);\nStore to Store(StoreEntity store); \n\ndefault PetEntity toPetEntity(Pet pet){\n   if(Pet instanceof Dog ){\n      Dog animal = new Dog();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n  if(Pet instanceof Pig){\n       Pig animal = new Pig();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n     if(Pet instanceof Cat ){\n      Cat animal = new Cat();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n  return null;\n}\ndefault Pet to Pet (PetEntity pet){\nif(Pet instanceof DogEntity ){\n      DogEntity animal = new DogEntity();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n  if(PetEntity instanceof PigEntity){\n       PigEntity animal = new PigEntity();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n     if(PetEntity instanceof CatEntity ){\n      CatEntity = new CatEntity();\n      animal.setName(pet.getName());\n       set all prop \n      return animal;\n   }\n  return null;\n}\n</code></pre>\n"}],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72766482,"answer_count":1,"score":1,"last_activity_date":1656297181,"creation_date":1656117528,"question_id":72750544,"body_markdown":"i have the following classes \r\n\r\n    public class Store   {\r\n         @JsonProperty(&quot;name&quot;)\r\n          private String name;\r\n          \r\n          @JsonProperty(&quot;pets&quot;)\r\n          @Valid\r\n          private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\r\n          \r\n          getters/setters\r\n          }\r\n\r\nPet model\r\n\r\n\r\n\r\n\r\n    JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;type&quot;, visible = true)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;),\r\n      @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;),\r\n      @JsonSubTypes.Type(value = Pig.class, name = &quot;pig&quot;),\r\n    })\r\n    \r\n    public class Pet   {\r\n      /**\r\n       * Gets or Sets evidenceType\r\n       */\r\n      public enum TypeEnum {\r\n        CAT(&quot;cat&quot;),\r\n        \r\n        DOG(&quot;dog&quot;),\r\n        \r\n        PIG(&quot;pig&quot;);\r\n        }\r\n    }\r\n\r\nType classes\r\n\r\n    public class Cat extends Pet{\r\n    }\r\n    public class Dog extends Pet{\r\n    }\r\n    public class Pig extends Pet{\r\n    }\r\n\r\nHow properly map this classes?\r\n\r\n    @Mapper\r\n    public interface StoreEntityMapper {\r\n    StoreEntity toStoreEntity(Store store);\r\n    Store to Store(StoreEntity store);\r\n    \r\n    }\r\n    @Mapper\r\n    public interface PetEntityMapper {\r\n    PetEntity toPetEntity(Pet pet);\r\n    Pet to Pet (PetEntity pet);\r\n    \r\n    }","title":"How properly map multiple level inheritance object","body":"<p>i have the following classes</p>\n<pre><code>public class Store   {\n     @JsonProperty(&quot;name&quot;)\n      private String name;\n      \n      @JsonProperty(&quot;pets&quot;)\n      @Valid\n      private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\n      \n      getters/setters\n      }\n</code></pre>\n<p>Pet model</p>\n<pre><code>JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = Cat.class, name = &quot;cat&quot;),\n  @JsonSubTypes.Type(value = Dog.class, name = &quot;dog&quot;),\n  @JsonSubTypes.Type(value = Pig.class, name = &quot;pig&quot;),\n})\n\npublic class Pet   {\n  /**\n   * Gets or Sets evidenceType\n   */\n  public enum TypeEnum {\n    CAT(&quot;cat&quot;),\n    \n    DOG(&quot;dog&quot;),\n    \n    PIG(&quot;pig&quot;);\n    }\n}\n</code></pre>\n<p>Type classes</p>\n<pre><code>public class Cat extends Pet{\n}\npublic class Dog extends Pet{\n}\npublic class Pig extends Pet{\n}\n</code></pre>\n<p>How properly map this classes?</p>\n<pre><code>@Mapper\npublic interface StoreEntityMapper {\nStoreEntity toStoreEntity(Store store);\nStore to Store(StoreEntity store);\n\n}\n@Mapper\npublic interface PetEntityMapper {\nPetEntity toPetEntity(Pet pet);\nPet to Pet (PetEntity pet);\n\n}\n</code></pre>\n"},{"tags":["java","hashmap","thread-safety"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656229226,"post_id":72759064,"comment_id":128517084,"body_markdown":"Note: the updated version isn&#39;t correct either.  `Collections.synchronizedSet` etc will return collections that use a different mutex ... so you won&#39;t get proper mutual exclusion versus the parent map.","body":"Note: the updated version isn&#39;t correct either.  <code>Collections.synchronizedSet</code> etc will return collections that use a different mutex ... so you won&#39;t get proper mutual exclusion versus the parent map."},{"owner":{"account_id":10536282,"reputation":164,"user_id":7764065,"display_name":"Javid"},"score":0,"creation_date":1656229533,"post_id":72759064,"comment_id":128517132,"body_markdown":"How about if I make other synchronized set and collection class that take my lock?","body":"How about if I make other synchronized set and collection class that take my lock?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656229611,"post_id":72759064,"comment_id":128517144,"body_markdown":"Well that would be a way to do it.  Look (again) at how `java.utils.Collections` achieves it.","body":"Well that would be a way to do it.  Look (again) at how <code>java.utils.Collections</code> achieves it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656228959,"creation_date":1656225770,"answer_id":72759442,"question_id":72759064,"body_markdown":"&gt; is this a thread safe class ?\r\n\r\nAs far as I can tell, mostly yes.\r\n\r\nHowever, the `keySet`, `values` and `entrySet` methods all return collections implemented by `HashMap`.  They are not synchronized in any way, so they are not thread-safe.   And since they can be used to access and update the `SynchronizedHashMap` itself, this will compromise the thread-safety of the other methods.\r\n\r\nNote that `java.utils.Collections` handles this by having those methods return synchronized collections that share the same lock object as the parent `Map`.\r\n\r\nBut even this has a caveat on thread-safety; see the [javadoc][1] for `Collections.synchronizeMap` for details.\r\n\r\nThe updated version is still not correct.  The collections returned by those 3 methods need to lock the same mutex as you are using in your `SynchronizedHashMap` class.  There is no easy way to do that.\r\n\r\n&gt; Can I say this is a wrapper around `HashMap` class?\r\n\r\nTechnically, no.  There is no distinct `HashMap` inside the &quot;wrapper&quot;.\r\n\r\n&gt; I don&#39;t know how to write unit test for testing thread safe too.\r\n\r\nTesting thread-safety is difficult.  Testing can only demonstrate that \r\na class is NOT thread-safe.  It can&#39;t show that it is.  \r\n\r\nYou are better of *analyzing* the code.  Or better still, use the concurrency classes provided by the Java SE libraries ... which have been thoroughly tested AND analyzed by programmers who really understand concurrency.  (And reviewed by thousands of other people who like reading OpenJDK source code.)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedMap(java.util.Map)","title":"Create custom Thread Safe HashMap","body":"<blockquote>\n<p>is this a thread safe class ?</p>\n</blockquote>\n<p>As far as I can tell, mostly yes.</p>\n<p>However, the <code>keySet</code>, <code>values</code> and <code>entrySet</code> methods all return collections implemented by <code>HashMap</code>.  They are not synchronized in any way, so they are not thread-safe.   And since they can be used to access and update the <code>SynchronizedHashMap</code> itself, this will compromise the thread-safety of the other methods.</p>\n<p>Note that <code>java.utils.Collections</code> handles this by having those methods return synchronized collections that share the same lock object as the parent <code>Map</code>.</p>\n<p>But even this has a caveat on thread-safety; see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedMap(java.util.Map)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Collections.synchronizeMap</code> for details.</p>\n<p>The updated version is still not correct.  The collections returned by those 3 methods need to lock the same mutex as you are using in your <code>SynchronizedHashMap</code> class.  There is no easy way to do that.</p>\n<blockquote>\n<p>Can I say this is a wrapper around <code>HashMap</code> class?</p>\n</blockquote>\n<p>Technically, no.  There is no distinct <code>HashMap</code> inside the &quot;wrapper&quot;.</p>\n<blockquote>\n<p>I don't know how to write unit test for testing thread safe too.</p>\n</blockquote>\n<p>Testing thread-safety is difficult.  Testing can only demonstrate that\na class is NOT thread-safe.  It can't show that it is.</p>\n<p>You are better of <em>analyzing</em> the code.  Or better still, use the concurrency classes provided by the Java SE libraries ... which have been thoroughly tested AND analyzed by programmers who really understand concurrency.  (And reviewed by thousands of other people who like reading OpenJDK source code.)</p>\n"}],"owner":{"account_id":10536282,"reputation":164,"user_id":7764065,"display_name":"Javid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656278666,"accepted_answer_id":72759442,"answer_count":1,"score":-1,"last_activity_date":1656296860,"creation_date":1656220636,"question_id":72759064,"body_markdown":"In a task they asked me to create a tread safe custom HashMap.\r\n\r\nI got an idea from Collections.SynchronizedCollection of java and created this class.\r\n\r\n    public final class SynchronizedHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n    \r\n        private final Object lock = new Object();\r\n    \r\n        public SynchronizedHashMap(int initialCapacity, float loadFactor) {\r\n            super(initialCapacity, loadFactor);\r\n        }\r\n        public SynchronizedHashMap(int initialCapacity) {\r\n            super(initialCapacity);\r\n        }\r\n        public SynchronizedHashMap() {\r\n            super();\r\n        }\r\n        public SynchronizedHashMap(Map&lt;? extends K, ? extends V&gt; m) {\r\n            super(m);\r\n        }\r\n    \r\n        private void sync(Runnable runnable) {\r\n            synchronized (lock) {\r\n                runnable.run();\r\n            }\r\n        }\r\n    \r\n        private &lt;T&gt; void sync(Consumer&lt;T&gt; consumer, T t) {\r\n            synchronized (lock) {\r\n                consumer.accept(t);\r\n            }\r\n        }\r\n    \r\n        private &lt;T&gt; T sync(Supplier&lt;T&gt; supplier) {\r\n            synchronized (lock) {\r\n                return supplier.get();\r\n            }\r\n        }\r\n    \r\n        private &lt;T, R&gt; R sync(Function&lt;T, R&gt; function, T t) {\r\n            synchronized (lock) {\r\n                return function.apply(t);\r\n            }\r\n        }\r\n    \r\n        private &lt;T, U, R&gt; R sync(BiFunction&lt;T, U, R&gt; function, T t, U u) {\r\n            synchronized (lock) {\r\n                return function.apply(t, u);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return sync(super::size);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() {\r\n            return sync(super::isEmpty);\r\n        }\r\n    \r\n        @Override\r\n        public V get(Object key) {\r\n            return sync(super::get, key);\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsKey(Object key) {\r\n            return sync(super::containsKey, key);\r\n        }\r\n    \r\n        @Override\r\n        public V put(K key, V value) {\r\n            return sync(super::put, key, value);\r\n        }\r\n    \r\n        @Override\r\n        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\r\n            sync(super::putAll, m);\r\n        }\r\n    \r\n        @Override\r\n        public V remove(Object key) {\r\n            synchronized (lock) {\r\n                return super.remove(key);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void clear() {\r\n            sync(super::clear);\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsValue(Object value) {\r\n            return sync(super::containsValue, value);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;K&gt; keySet() {\r\n            return sync(super::keySet);\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;V&gt; values() {\r\n            return sync(super::values);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n            return sync(super::entrySet);\r\n        }\r\n    \r\n        @Override\r\n        public V getOrDefault(Object key, V defaultValue) {\r\n            return sync(super::getOrDefault, key, defaultValue);\r\n        }\r\n    \r\n        @Override\r\n        public V putIfAbsent(K key, V value) {\r\n            return sync(super::putIfAbsent, key, value);\r\n        }\r\n    \r\n        @Override\r\n        public boolean remove(Object key, Object value) {\r\n            return sync(super::remove, key, value);\r\n        }\r\n    \r\n        @Override\r\n        public boolean replace(K key, V oldValue, V newValue) {\r\n            synchronized (lock) {\r\n                return super.replace(key, oldValue, newValue);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public V replace(K key, V value) {\r\n            return sync(super::replace, key, value);\r\n        }\r\n    \r\n        @Override\r\n        public V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction) {\r\n            return sync(super::computeIfAbsent, key, mappingFunction);\r\n        }\r\n    \r\n        @Override\r\n        public V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\r\n            return sync(super::computeIfPresent, key, remappingFunction);\r\n        }\r\n    \r\n        @Override\r\n        public V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\r\n            return sync(super::compute, key, remappingFunction);\r\n        }\r\n    \r\n        @Override\r\n        public V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction) {\r\n            synchronized (lock) {\r\n                return super.merge(key, value, remappingFunction);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n            sync(super::forEach, action);\r\n        }\r\n    \r\n        @Override\r\n        public void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function) {\r\n            sync(super::replaceAll, function);\r\n        }\r\n    \r\n        @Override\r\n        public Object clone() {\r\n            return sync(super::clone);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return sync(super::equals, o);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return sync(super::hashCode);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return sync(super::toString);\r\n        }\r\n    }\r\n\r\nMy questions are: \r\n\r\nis this a thread safe class ?\r\n\r\nCan I say this is a wrapper around HashMap class?\r\n\r\nactually I don&#39;t know how to write unit test for testing thread safe too.\r\n\r\nUpdate\r\n\r\nI added and changed this methods from Stephen&#39;s answer.\r\n\r\n    @Override\r\n    public Set&lt;K&gt; keySet() {\r\n        return sync(this::synchronizedKeySet);\r\n    }\r\n\r\n    private Set&lt;K&gt; synchronizedKeySet() {\r\n        return Collections.synchronizedSet(super.keySet());\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;V&gt; values() {\r\n        return sync(this::synchronizedValues);\r\n    }\r\n\r\n    private Collection&lt;V&gt; synchronizedValues() {\r\n        return Collections.synchronizedCollection(super.values());\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n        return sync(this::synchronizedEntrySet);\r\n    }\r\n\r\n    private Set&lt;Entry&lt;K, V&gt;&gt; synchronizedEntrySet() {\r\n        return Collections.synchronizedSet(super.entrySet());\r\n    }\r\n\r\nIs this change solves keySet, values and entrySet methods?","title":"Create custom Thread Safe HashMap","body":"<p>In a task they asked me to create a tread safe custom HashMap.</p>\n<p>I got an idea from Collections.SynchronizedCollection of java and created this class.</p>\n<pre><code>public final class SynchronizedHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n\n    private final Object lock = new Object();\n\n    public SynchronizedHashMap(int initialCapacity, float loadFactor) {\n        super(initialCapacity, loadFactor);\n    }\n    public SynchronizedHashMap(int initialCapacity) {\n        super(initialCapacity);\n    }\n    public SynchronizedHashMap() {\n        super();\n    }\n    public SynchronizedHashMap(Map&lt;? extends K, ? extends V&gt; m) {\n        super(m);\n    }\n\n    private void sync(Runnable runnable) {\n        synchronized (lock) {\n            runnable.run();\n        }\n    }\n\n    private &lt;T&gt; void sync(Consumer&lt;T&gt; consumer, T t) {\n        synchronized (lock) {\n            consumer.accept(t);\n        }\n    }\n\n    private &lt;T&gt; T sync(Supplier&lt;T&gt; supplier) {\n        synchronized (lock) {\n            return supplier.get();\n        }\n    }\n\n    private &lt;T, R&gt; R sync(Function&lt;T, R&gt; function, T t) {\n        synchronized (lock) {\n            return function.apply(t);\n        }\n    }\n\n    private &lt;T, U, R&gt; R sync(BiFunction&lt;T, U, R&gt; function, T t, U u) {\n        synchronized (lock) {\n            return function.apply(t, u);\n        }\n    }\n\n    @Override\n    public int size() {\n        return sync(super::size);\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return sync(super::isEmpty);\n    }\n\n    @Override\n    public V get(Object key) {\n        return sync(super::get, key);\n    }\n\n    @Override\n    public boolean containsKey(Object key) {\n        return sync(super::containsKey, key);\n    }\n\n    @Override\n    public V put(K key, V value) {\n        return sync(super::put, key, value);\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {\n        sync(super::putAll, m);\n    }\n\n    @Override\n    public V remove(Object key) {\n        synchronized (lock) {\n            return super.remove(key);\n        }\n    }\n\n    @Override\n    public void clear() {\n        sync(super::clear);\n    }\n\n    @Override\n    public boolean containsValue(Object value) {\n        return sync(super::containsValue, value);\n    }\n\n    @Override\n    public Set&lt;K&gt; keySet() {\n        return sync(super::keySet);\n    }\n\n    @Override\n    public Collection&lt;V&gt; values() {\n        return sync(super::values);\n    }\n\n    @Override\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n        return sync(super::entrySet);\n    }\n\n    @Override\n    public V getOrDefault(Object key, V defaultValue) {\n        return sync(super::getOrDefault, key, defaultValue);\n    }\n\n    @Override\n    public V putIfAbsent(K key, V value) {\n        return sync(super::putIfAbsent, key, value);\n    }\n\n    @Override\n    public boolean remove(Object key, Object value) {\n        return sync(super::remove, key, value);\n    }\n\n    @Override\n    public boolean replace(K key, V oldValue, V newValue) {\n        synchronized (lock) {\n            return super.replace(key, oldValue, newValue);\n        }\n    }\n\n    @Override\n    public V replace(K key, V value) {\n        return sync(super::replace, key, value);\n    }\n\n    @Override\n    public V computeIfAbsent(K key, Function&lt;? super K, ? extends V&gt; mappingFunction) {\n        return sync(super::computeIfAbsent, key, mappingFunction);\n    }\n\n    @Override\n    public V computeIfPresent(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\n        return sync(super::computeIfPresent, key, remappingFunction);\n    }\n\n    @Override\n    public V compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction) {\n        return sync(super::compute, key, remappingFunction);\n    }\n\n    @Override\n    public V merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction) {\n        synchronized (lock) {\n            return super.merge(key, value, remappingFunction);\n        }\n    }\n\n    @Override\n    public void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\n        sync(super::forEach, action);\n    }\n\n    @Override\n    public void replaceAll(BiFunction&lt;? super K, ? super V, ? extends V&gt; function) {\n        sync(super::replaceAll, function);\n    }\n\n    @Override\n    public Object clone() {\n        return sync(super::clone);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        return sync(super::equals, o);\n    }\n\n    @Override\n    public int hashCode() {\n        return sync(super::hashCode);\n    }\n\n    @Override\n    public String toString() {\n        return sync(super::toString);\n    }\n}\n</code></pre>\n<p>My questions are:</p>\n<p>is this a thread safe class ?</p>\n<p>Can I say this is a wrapper around HashMap class?</p>\n<p>actually I don't know how to write unit test for testing thread safe too.</p>\n<p>Update</p>\n<p>I added and changed this methods from Stephen's answer.</p>\n<pre><code>@Override\npublic Set&lt;K&gt; keySet() {\n    return sync(this::synchronizedKeySet);\n}\n\nprivate Set&lt;K&gt; synchronizedKeySet() {\n    return Collections.synchronizedSet(super.keySet());\n}\n\n@Override\npublic Collection&lt;V&gt; values() {\n    return sync(this::synchronizedValues);\n}\n\nprivate Collection&lt;V&gt; synchronizedValues() {\n    return Collections.synchronizedCollection(super.values());\n}\n\n@Override\npublic Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n    return sync(this::synchronizedEntrySet);\n}\n\nprivate Set&lt;Entry&lt;K, V&gt;&gt; synchronizedEntrySet() {\n    return Collections.synchronizedSet(super.entrySet());\n}\n</code></pre>\n<p>Is this change solves keySet, values and entrySet methods?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656157228,"creation_date":1656157228,"answer_id":72753550,"question_id":72753053,"body_markdown":"It is recommended to use class `BigDecimal` rather than `Double` for monetary amounts. I don&#39;t think you need to deal with calculations involving number of days. Just use methods `isBefore` and `isAfter`. First get the date that is 52 weeks before today. Then get the date which is 156 weeks before today. Then see whether the movie release date is after the first date or after the second date and before the first date or before the second date.\r\n```java\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\n\r\npublic record Movie(LocalDate dateReleased) {\r\n    static BigDecimal getPrice(Movie movie, Integer weeksToRent) {\r\n        LocalDate newest = LocalDate.now().minusWeeks(52);\r\n        LocalDate middle = LocalDate.now().minusWeeks(156);\r\n        BigDecimal price;\r\n        if (movie.dateReleased().isAfter(newest)) {\r\n            price = new BigDecimal(&quot;5.00&quot;);\r\n        }\r\n        else if (movie.dateReleased().isAfter(middle)) {\r\n            price = new BigDecimal(&quot;3.49&quot;);\r\n        }\r\n        else {\r\n            price = new BigDecimal(&quot;1.99&quot;);\r\n        }\r\n        return price.multiply(BigDecimal.valueOf(weeksToRent.longValue()));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Movie movie = new Movie(LocalDate.of(2020, Month.JUNE, 6));\r\n        System.out.println(getPrice(movie, 2));\r\n    }\r\n}\r\n```\r\nThe output of the above code is:\r\n```none\r\n6.98\r\n```\r\nsince the movie release date is more than 52 weeks ago but less than 156 weeks ago which makes the price per week 3.49 and because the requested rental period is two weeks, the total price is 3.49 &amp;times; 2","title":"Movie rental price calculator depending on release date in Java","body":"<p>It is recommended to use class <code>BigDecimal</code> rather than <code>Double</code> for monetary amounts. I don't think you need to deal with calculations involving number of days. Just use methods <code>isBefore</code> and <code>isAfter</code>. First get the date that is 52 weeks before today. Then get the date which is 156 weeks before today. Then see whether the movie release date is after the first date or after the second date and before the first date or before the second date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.time.Month;\n\npublic record Movie(LocalDate dateReleased) {\n    static BigDecimal getPrice(Movie movie, Integer weeksToRent) {\n        LocalDate newest = LocalDate.now().minusWeeks(52);\n        LocalDate middle = LocalDate.now().minusWeeks(156);\n        BigDecimal price;\n        if (movie.dateReleased().isAfter(newest)) {\n            price = new BigDecimal(&quot;5.00&quot;);\n        }\n        else if (movie.dateReleased().isAfter(middle)) {\n            price = new BigDecimal(&quot;3.49&quot;);\n        }\n        else {\n            price = new BigDecimal(&quot;1.99&quot;);\n        }\n        return price.multiply(BigDecimal.valueOf(weeksToRent.longValue()));\n    }\n\n    public static void main(String[] args) {\n        Movie movie = new Movie(LocalDate.of(2020, Month.JUNE, 6));\n        System.out.println(getPrice(movie, 2));\n    }\n}\n</code></pre>\n<p>The output of the above code is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>6.98\n</code></pre>\n<p>since the movie release date is more than 52 weeks ago but less than 156 weeks ago which makes the price per week 3.49 and because the requested rental period is two weeks, the total price is 3.49 × 2</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656157986,"creation_date":1656157604,"answer_id":72753588,"question_id":72753053,"body_markdown":"[`Period.between()`][1] always return an amount of time with date-based values (years, months, days).\r\nEg:\r\n```\r\nLocalDate today  = LocalDate.now();\r\nLocalDate releaseDate = today.minusWeeks(54);\r\nPeriod period = Period.between(releaseDate, today);\r\nSystem.out.println(period);\r\n```\r\noutput\r\n```\r\nP1Y13D\r\n```\r\nNow if I call [`period.getDays()`][2] it will give `13` as output because it returns the amount of days of this `period`.I think the same thing is happening in your logic also.\r\n\r\n------------------------------------------\r\nOther easy ways of calculating number of days between two dates.&lt;br/&gt;\r\n**Using [ChronoUnit][3]**\r\n```\r\nlong days = ChronoUnit.DAYS.between(releaseDate, today);\r\n```\r\n**Using [Duration][4]**(most suitable in situations that measure machine-based time).\r\n```\r\nlong days = Duration.between(releaseDate.atStartOfDay(),today.atStartOfDay()).toDays();\r\n```\r\nOutput is `378` for both cases.\r\n\r\n\r\n\r\nIn your case it&#39;s preferrable to use `ChronoUnit` since you are only interested in days. \r\n\r\n[This page][5] here is very useful in explaining which is best for which scenario.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#between-java.time.LocalDate-java.time.LocalDate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getDays--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/datetime/iso/period.html","title":"Movie rental price calculator depending on release date in Java","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#between-java.time.LocalDate-java.time.LocalDate-\" rel=\"nofollow noreferrer\"><code>Period.between()</code></a> always return an amount of time with date-based values (years, months, days).\nEg:</p>\n<pre><code>LocalDate today  = LocalDate.now();\nLocalDate releaseDate = today.minusWeeks(54);\nPeriod period = Period.between(releaseDate, today);\nSystem.out.println(period);\n</code></pre>\n<p>output</p>\n<pre><code>P1Y13D\n</code></pre>\n<p>Now if I call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Period.html#getDays--\" rel=\"nofollow noreferrer\"><code>period.getDays()</code></a> it will give <code>13</code> as output because it returns the amount of days of this <code>period</code>.I think the same thing is happening in your logic also.</p>\n<hr />\n<p>Other easy ways of calculating number of days between two dates.<br/>\n<strong>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\">ChronoUnit</a></strong></p>\n<pre><code>long days = ChronoUnit.DAYS.between(releaseDate, today);\n</code></pre>\n<p><strong>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a></strong>(most suitable in situations that measure machine-based time).</p>\n<pre><code>long days = Duration.between(releaseDate.atStartOfDay(),today.atStartOfDay()).toDays();\n</code></pre>\n<p>Output is <code>378</code> for both cases.</p>\n<p>In your case it's preferrable to use <code>ChronoUnit</code> since you are only interested in days.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">This page</a> here is very useful in explaining which is best for which scenario.</p>\n"},{"tags":[],"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656293012,"creation_date":1656168848,"answer_id":72754866,"question_id":72753053,"body_markdown":"Thank you guys! I think I got it. I combined all your answers and my own knowledge.\r\nI tested it and it works with my inputs. Here is my solution: \r\n\r\n    static String getPrice(Movie movie, Long weeksToRent) {\r\n\r\n        LocalDate newMovieClassUntil = movie.getReleaseDate().plusWeeks(52);\r\n        LocalDate regularMovieClassUntil = movie.getReleaseDate().plusWeeks(156);\r\n\r\n        Long daysTilChangeToRegularClass = ChronoUnit.DAYS.between(LocalDate.now(), newMovieClassUntil);\r\n        Long daysTilChangeToOldClass = ChronoUnit.DAYS.between(LocalDate.now(), regularMovieClassUntil);\r\n\r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\r\n        Double price = 0D;\r\n        Long rentTimeInDays = weeksToRent*7;\r\n\r\n        if (daysTilChangeToRegularClass &gt; 0 &amp;&amp; (daysTilChangeToRegularClass - rentTimeInDays &gt; 0)){\r\n            price = weeksToRent * 5.00D;\r\n        }\r\n        else if(daysTilChangeToRegularClass &gt; 0 &amp;&amp; (daysTilChangeToRegularClass - rentTimeInDays &lt; 0)){\r\n            price = weeksToRent * ((5.00 / rentTimeInDays * daysTilChangeToRegularClass) + (3.49 / rentTimeInDays * (rentTimeInDays - daysTilChangeToRegularClass)));\r\n        }\r\n        else if(daysTilChangeToRegularClass &lt;= 0 &amp;&amp; daysTilChangeToOldClass &gt; 0 &amp;&amp; (daysTilChangeToOldClass - rentTimeInDays &gt; 0)){\r\n            price = weeksToRent * 3.49D;\r\n        }\r\n        else if (daysTilChangeToRegularClass &lt;= 0 &amp;&amp; daysTilChangeToOldClass &gt; 0 &amp;&amp; (daysTilChangeToOldClass - rentTimeInDays &lt; 0)){\r\n            price = weeksToRent * ((3.49 / rentTimeInDays * daysTilChangeToOldClass) + (1.99 / rentTimeInDays * (rentTimeInDays - daysTilChangeToOldClass)));\r\n        }\r\n        else {\r\n            price = 1.99D * weeksToRent;\r\n        }\r\n        \r\n     return decimalFormat.format(price);\r\n    }","title":"Movie rental price calculator depending on release date in Java","body":"<p>Thank you guys! I think I got it. I combined all your answers and my own knowledge.\nI tested it and it works with my inputs. Here is my solution:</p>\n<pre><code>static String getPrice(Movie movie, Long weeksToRent) {\n\n    LocalDate newMovieClassUntil = movie.getReleaseDate().plusWeeks(52);\n    LocalDate regularMovieClassUntil = movie.getReleaseDate().plusWeeks(156);\n\n    Long daysTilChangeToRegularClass = ChronoUnit.DAYS.between(LocalDate.now(), newMovieClassUntil);\n    Long daysTilChangeToOldClass = ChronoUnit.DAYS.between(LocalDate.now(), regularMovieClassUntil);\n\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00&quot;);\n    Double price = 0D;\n    Long rentTimeInDays = weeksToRent*7;\n\n    if (daysTilChangeToRegularClass &gt; 0 &amp;&amp; (daysTilChangeToRegularClass - rentTimeInDays &gt; 0)){\n        price = weeksToRent * 5.00D;\n    }\n    else if(daysTilChangeToRegularClass &gt; 0 &amp;&amp; (daysTilChangeToRegularClass - rentTimeInDays &lt; 0)){\n        price = weeksToRent * ((5.00 / rentTimeInDays * daysTilChangeToRegularClass) + (3.49 / rentTimeInDays * (rentTimeInDays - daysTilChangeToRegularClass)));\n    }\n    else if(daysTilChangeToRegularClass &lt;= 0 &amp;&amp; daysTilChangeToOldClass &gt; 0 &amp;&amp; (daysTilChangeToOldClass - rentTimeInDays &gt; 0)){\n        price = weeksToRent * 3.49D;\n    }\n    else if (daysTilChangeToRegularClass &lt;= 0 &amp;&amp; daysTilChangeToOldClass &gt; 0 &amp;&amp; (daysTilChangeToOldClass - rentTimeInDays &lt; 0)){\n        price = weeksToRent * ((3.49 / rentTimeInDays * daysTilChangeToOldClass) + (1.99 / rentTimeInDays * (rentTimeInDays - daysTilChangeToOldClass)));\n    }\n    else {\n        price = 1.99D * weeksToRent;\n    }\n    \n return decimalFormat.format(price);\n}\n</code></pre>\n"}],"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1656293012,"creation_date":1656152500,"question_id":72753053,"body_markdown":"I&#39;m trying to create method, that calculates rental price of an movie depending on its release date. If movie is not older then 52 weeks, price per week is 5.00, if its between 52 - 156 weeks, price is 3.49 and if its more then 156 weeks, price is 1.99per week. If turning the rent time price class changes, then it should calculate price according to that. The one I created is calculating always like its not older then 52 weeks.\r\n\r\n    static Double getPrice(Movie movie, Integer weeksToRent) {\r\n        Double price = 0d;\r\n        Integer daysSinceMovieReleased = (Period.between(LocalDate.now(), movie.getReleaseDate()).getDays()*(-1));\r\n        Integer daysToChangeFee;\r\n        Integer daysToRent = weeksToRent * 7;\r\n        \r\n        if (daysSinceMovieReleased &gt; 1092) {\r\n            price = 1.99d * weeksToRent;\r\n        } else if (daysSinceMovieReleased &gt; 364) {\r\n            daysToChangeFee = 1092 - daysSinceMovieReleased;\r\n            if (daysToChangeFee &lt;= daysToRent) {\r\n                price = 3.49d * weeksToRent;\r\n            } else {\r\n                Integer daysWithNewFee = daysToRent - daysToChangeFee;\r\n                Integer daysWithOldFee = daysToRent - daysWithNewFee;\r\n                price = weeksToRent * (3.49d / daysToRent * daysWithOldFee + 1.99d / daysToRent * daysWithNewFee);\r\n            }\r\n        } else {\r\n            daysToChangeFee = 364 - daysSinceMovieReleased;\r\n            if (daysToChangeFee &gt;= daysToRent) {\r\n                price = 5.0d * weeksToRent;\r\n            } else {\r\n                Integer daysWithNewFee = daysToRent - daysToChangeFee;\r\n                Integer daysWithOldFee = daysToRent - daysWithNewFee;\r\n                price = weeksToRent * (5.0d / daysToRent * daysWithOldFee + 3.49d / daysToRent * daysWithNewFee);\r\n            }\r\n        }\r\n        return price;\r\n    }\r\n\r\nI converted weeks to days -&gt; 52 weeks = 364 days | 156 weeks = 1092 days\r\n\r\nAnd multiplied daysSinceMovieReleased with -1 because without it, the value was negative.\r\n","title":"Movie rental price calculator depending on release date in Java","body":"<p>I'm trying to create method, that calculates rental price of an movie depending on its release date. If movie is not older then 52 weeks, price per week is 5.00, if its between 52 - 156 weeks, price is 3.49 and if its more then 156 weeks, price is 1.99per week. If turning the rent time price class changes, then it should calculate price according to that. The one I created is calculating always like its not older then 52 weeks.</p>\n<pre><code>static Double getPrice(Movie movie, Integer weeksToRent) {\n    Double price = 0d;\n    Integer daysSinceMovieReleased = (Period.between(LocalDate.now(), movie.getReleaseDate()).getDays()*(-1));\n    Integer daysToChangeFee;\n    Integer daysToRent = weeksToRent * 7;\n    \n    if (daysSinceMovieReleased &gt; 1092) {\n        price = 1.99d * weeksToRent;\n    } else if (daysSinceMovieReleased &gt; 364) {\n        daysToChangeFee = 1092 - daysSinceMovieReleased;\n        if (daysToChangeFee &lt;= daysToRent) {\n            price = 3.49d * weeksToRent;\n        } else {\n            Integer daysWithNewFee = daysToRent - daysToChangeFee;\n            Integer daysWithOldFee = daysToRent - daysWithNewFee;\n            price = weeksToRent * (3.49d / daysToRent * daysWithOldFee + 1.99d / daysToRent * daysWithNewFee);\n        }\n    } else {\n        daysToChangeFee = 364 - daysSinceMovieReleased;\n        if (daysToChangeFee &gt;= daysToRent) {\n            price = 5.0d * weeksToRent;\n        } else {\n            Integer daysWithNewFee = daysToRent - daysToChangeFee;\n            Integer daysWithOldFee = daysToRent - daysWithNewFee;\n            price = weeksToRent * (5.0d / daysToRent * daysWithOldFee + 3.49d / daysToRent * daysWithNewFee);\n        }\n    }\n    return price;\n}\n</code></pre>\n<p>I converted weeks to days -&gt; 52 weeks = 364 days | 156 weeks = 1092 days</p>\n<p>And multiplied daysSinceMovieReleased with -1 because without it, the value was negative.</p>\n"},{"tags":["java","android","material-components","material-components-android","android-chips"],"comments":[{"owner":{"account_id":4441086,"reputation":2767,"user_id":3615605,"accept_rate":69,"display_name":"MathankumarK"},"score":0,"creation_date":1572610778,"post_id":58658962,"comment_id":103621318,"body_markdown":"Chip(parent.context, null, R.style.Theme_MaterialComponents )","body":"Chip(parent.context, null, R.style.Theme_MaterialComponents )"},{"owner":{"account_id":5539585,"reputation":6127,"user_id":5710014,"accept_rate":37,"display_name":"blackHawk"},"score":0,"creation_date":1572611114,"post_id":58658962,"comment_id":103621447,"body_markdown":"doesnt work application crashing","body":"doesnt work application crashing"}],"answers":[{"tags":[],"owner":{"account_id":3924372,"reputation":1386,"user_id":3245482,"display_name":"ditn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572610236,"creation_date":1572610236,"answer_id":58659036,"question_id":58658962,"body_markdown":"You can specify a theme just for that particular Chip which inherits from `Theme.MaterialComponents`, whilst not having to modify your app-wide AppCompat theme:\r\n\r\n```xml\r\n&lt;com.google.android.material.chip.Chip\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:theme=&quot;@style/Theme.MaterialComponents&quot;/&gt;\r\n```","title":"This component requires that you specify a valid TextAppearance attribute","body":"<p>You can specify a theme just for that particular Chip which inherits from <code>Theme.MaterialComponents</code>, whilst not having to modify your app-wide AppCompat theme:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.chip.Chip\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/Theme.MaterialComponents\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572860849,"creation_date":1572610665,"answer_id":58659122,"question_id":58658962,"body_markdown":"You can check the [official documentation][1]:\r\n\r\n&gt; Your app theme should inherit from a **Material Components theme**.  \r\nIf you **can&#39;t change** your theme, you can do one of the following:\r\n\r\n&gt; - Inherit from one of our Material Components [**Bridge themes**][2]\r\n&gt; - Continue to inherit from an [**AppCompat theme**][3] and add some new theme attributes to your theme.\r\n\r\nFor the Chip you can also define the layout as follows:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;com.google.android.material.chip.Chip\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.Chip.Filter&quot;\r\n        .../&gt;\r\n\r\nand then use this code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Chip chip =\r\n          (Chip) getLayoutInflater().inflate(R.layout.single_chip_layout, chipGroup, false);\r\n    //...\r\n    chipGroup.addView(chip);\r\n\r\n\r\n  [1]: https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#4-change-your-app-theme-to-inherit-from-a-material-components-theme\r\n  [2]: https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#bridge-themes\r\n  [3]: https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#app-compat-themes","title":"This component requires that you specify a valid TextAppearance attribute","body":"<p>You can check the <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#4-change-your-app-theme-to-inherit-from-a-material-components-theme\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n\n<blockquote>\n  <p>Your app theme should inherit from a <strong>Material Components theme</strong>.<br>\n  If you <strong>can't change</strong> your theme, you can do one of the following:</p>\n  \n  <ul>\n  <li>Inherit from one of our Material Components <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#bridge-themes\" rel=\"nofollow noreferrer\"><strong>Bridge themes</strong></a></li>\n  <li>Continue to inherit from an <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/getting-started.md#app-compat-themes\" rel=\"nofollow noreferrer\"><strong>AppCompat theme</strong></a> and add some new theme attributes to your theme.</li>\n  </ul>\n</blockquote>\n\n<p>For the Chip you can also define the layout as follows:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.chip.Chip\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    style=\"@style/Widget.MaterialComponents.Chip.Filter\"\n    .../&gt;\n</code></pre>\n\n<p>and then use this code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Chip chip =\n      (Chip) getLayoutInflater().inflate(R.layout.single_chip_layout, chipGroup, false);\n//...\nchipGroup.addView(chip);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25636924,"reputation":1,"user_id":19406384,"display_name":"TimeFine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656292567,"creation_date":1656061741,"answer_id":72741634,"question_id":58658962,"body_markdown":"   ``` &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;com.google.android.material.chip.Chip \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:theme=&quot;@style/Theme.MaterialComponents&quot;   (add theme)\r\n    style=&quot;@style/Widget.MaterialComponents.Chip.Filter&quot;  (add style)\r\n    app:chipMinTouchTargetSize=&quot;0dp&quot;  (clear around chip padding)\r\n    ...\r\n   /&gt;\r\n```\r\n\r\nthen\r\n\r\n```\r\n//create chip\r\nval chip = layoutInflater.inflate(R.layout.chip_layout, chipGroup, false) as Chip\r\n//add chip\r\nchipGroup.addView(chip )\r\n```\r\n","title":"This component requires that you specify a valid TextAppearance attribute","body":"<pre><code>&lt;com.google.android.material.chip.Chip \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n android:theme=&quot;@style/Theme.MaterialComponents&quot;   (add theme)\n style=&quot;@style/Widget.MaterialComponents.Chip.Filter&quot;  (add style)\n app:chipMinTouchTargetSize=&quot;0dp&quot;  (clear around chip padding)\n ...\n/&gt;\n</code></pre>\n<p>then</p>\n<pre><code>//create chip\nval chip = layoutInflater.inflate(R.layout.chip_layout, chipGroup, false) as Chip\n//add chip\nchipGroup.addView(chip )\n</code></pre>\n"}],"owner":{"account_id":5539585,"reputation":6127,"user_id":5710014,"accept_rate":37,"display_name":"blackHawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58659122,"answer_count":3,"score":3,"last_activity_date":1656292567,"creation_date":1572609895,"question_id":58658962,"body_markdown":"My app theme extends from AppCompat but I want to use Chip dynamically but when I added Chips dynamically app crashing with exception\r\n\r\n    This component requires that you specify a valid TextAppearance attribute. Update your app theme to inherit from Theme.MaterialComponents (or a descendant).\r\n\r\n\r\nbut when I extend app theme to Material app doesn&#39;t crash and filter chips works fine but my problem is I dont want to extend theme from Material because it effects my app UI, how can I use chip in this scenario?\r\n\r\nEdit:\r\nused bridge, it saves from crashing but when I click chip it does not change appearance of chip that I was clicked\r\n\r\n    Chip chip = new Chip(getContext());\r\n            ChipDrawable chipDrawable = ChipDrawable.createFromAttributes(getContext(), null, 0, R.style.Widget_MaterialComponents_Chip_Filter);\r\n            chip.setChipDrawable(chipDrawable);\r\n            chip.setCheckable(true);\r\n            chip.setText(itemArrayList.get(i).getName());\r\n            binding.rvReport.addView(chip);\r\n\r\nThanks","title":"This component requires that you specify a valid TextAppearance attribute","body":"<p>My app theme extends from AppCompat but I want to use Chip dynamically but when I added Chips dynamically app crashing with exception</p>\n\n<pre><code>This component requires that you specify a valid TextAppearance attribute. Update your app theme to inherit from Theme.MaterialComponents (or a descendant).\n</code></pre>\n\n<p>but when I extend app theme to Material app doesn't crash and filter chips works fine but my problem is I dont want to extend theme from Material because it effects my app UI, how can I use chip in this scenario?</p>\n\n<p>Edit:\nused bridge, it saves from crashing but when I click chip it does not change appearance of chip that I was clicked</p>\n\n<pre><code>Chip chip = new Chip(getContext());\n        ChipDrawable chipDrawable = ChipDrawable.createFromAttributes(getContext(), null, 0, R.style.Widget_MaterialComponents_Chip_Filter);\n        chip.setChipDrawable(chipDrawable);\n        chip.setCheckable(true);\n        chip.setText(itemArrayList.get(i).getName());\n        binding.rvReport.addView(chip);\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656289853,"creation_date":1656289853,"answer_id":72766011,"question_id":72765859,"body_markdown":"This is intentional...\r\nIf you look at the actual menu shortcuts, you will never find just a single characters there. The reason is that menu is never focused, until activated, and single characters in many cases will be recognized as input into your UI instead of menu activation. \r\nCombinations of keys used for shortcuts, be it a menu or something else, are usually rarely used in editors or input fields combinations of characters and modifier keys(shift, control/command, alt/option), where character somehow corresponds to the operation, which makes it easier to remember. For example, Open - command-O, Get Info - command-I\r\n\r\n \r\n","title":"JavaFX Mac System Menu not accepting keyboard accelerators without shortcut key","body":"<p>This is intentional...\nIf you look at the actual menu shortcuts, you will never find just a single characters there. The reason is that menu is never focused, until activated, and single characters in many cases will be recognized as input into your UI instead of menu activation.\nCombinations of keys used for shortcuts, be it a menu or something else, are usually rarely used in editors or input fields combinations of characters and modifier keys(shift, control/command, alt/option), where character somehow corresponds to the operation, which makes it easier to remember. For example, Open - command-O, Get Info - command-I</p>\n"}],"owner":{"account_id":8630871,"reputation":167,"user_id":6462504,"display_name":"Nick B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72766011,"answer_count":1,"score":0,"last_activity_date":1656289853,"creation_date":1656287377,"question_id":72765859,"body_markdown":"In our JavaFX application, we use the System Menu property (useSystemMenuBarProperty) for [MenuBar][1] to create a more seamless JavaFX menu for Mac OS users.\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/MenuBar.html\r\n\r\nWe&#39;ve noticed that keyboard accelerators linked to this MenuBar when in System Menu configuration cannot be single characters and looks like may need a Shortcut Down combination? In the example below the &quot;D&quot; shortcut action will never fire, but the &quot;S&quot; keycode plus shortcut down will fire.\r\n\r\nMy question would be is this intentional or a bug that anyone else has noticed ?\r\n\r\n\r\n    MenuBar menuBar = new MenuBar(new Menu(&quot;Example&quot;));\r\n    MenuItem menuItem1 = new MenuItem(&quot;Test Menu Item&quot;);\r\n    menuItem1.setOnAction(action -&gt; System.out.println(&quot;Menu 1 pressed&quot;));\r\n    //This keyboard accelerator will never fire\r\n    menuItem1.setAccelerator(new KeyCodeCombination(KeyCode.D));\r\n    menuBar.getMenus().get(0).getItems().add(menuItem1);\r\n    \r\n    MenuItem menuItem2 = new MenuItem(&quot;Test Menu Item 2&quot;);\r\n    //This accelerator will work as it has Shortcut Down added\r\n    menuItem2.setAccelerator(new KeyCodeCombination(KeyCode.S, KeyCombination.SHORTCUT_DOWN));\r\n    menuItem2.setOnAction(action -&gt; System.out.println(&quot;Menu 2 pressed&quot;));\r\n    menuBar.getMenus().get(0).getItems().add(menuItem2);\r\n\r\n    menuBar.setUseSystemMenuBar(true);\r\n\r\n\r\n\r\n\r\n","title":"JavaFX Mac System Menu not accepting keyboard accelerators without shortcut key","body":"<p>In our JavaFX application, we use the System Menu property (useSystemMenuBarProperty) for <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/MenuBar.html\" rel=\"nofollow noreferrer\">MenuBar</a> to create a more seamless JavaFX menu for Mac OS users.</p>\n<p>We've noticed that keyboard accelerators linked to this MenuBar when in System Menu configuration cannot be single characters and looks like may need a Shortcut Down combination? In the example below the &quot;D&quot; shortcut action will never fire, but the &quot;S&quot; keycode plus shortcut down will fire.</p>\n<p>My question would be is this intentional or a bug that anyone else has noticed ?</p>\n<pre><code>MenuBar menuBar = new MenuBar(new Menu(&quot;Example&quot;));\nMenuItem menuItem1 = new MenuItem(&quot;Test Menu Item&quot;);\nmenuItem1.setOnAction(action -&gt; System.out.println(&quot;Menu 1 pressed&quot;));\n//This keyboard accelerator will never fire\nmenuItem1.setAccelerator(new KeyCodeCombination(KeyCode.D));\nmenuBar.getMenus().get(0).getItems().add(menuItem1);\n\nMenuItem menuItem2 = new MenuItem(&quot;Test Menu Item 2&quot;);\n//This accelerator will work as it has Shortcut Down added\nmenuItem2.setAccelerator(new KeyCodeCombination(KeyCode.S, KeyCombination.SHORTCUT_DOWN));\nmenuItem2.setOnAction(action -&gt; System.out.println(&quot;Menu 2 pressed&quot;));\nmenuBar.getMenus().get(0).getItems().add(menuItem2);\n\nmenuBar.setUseSystemMenuBar(true);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656288695,"creation_date":1656288695,"answer_id":72765933,"question_id":72765912,"body_markdown":"It&#39;s not showing up as null because you are assigning a new ArrayList to the variable here:\r\n\r\n```postLists = new ArrayList&lt;&gt;();```\r\n\r\nSo instead of checking for null, you should be checking if the list is empty.\r\n","title":"Populate list before calling method Java","body":"<p>It's not showing up as null because you are assigning a new ArrayList to the variable here:</p>\n<p><code>postLists = new ArrayList&lt;&gt;();</code></p>\n<p>So instead of checking for null, you should be checking if the list is empty.</p>\n"}],"owner":{"account_id":7300320,"reputation":119,"user_id":15729173,"display_name":"user13477176"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656288695,"creation_date":1656288229,"question_id":72765912,"body_markdown":"I am creating a social app and as soon as the user opens the app, they are suppose to see random posts that I load from the database.\r\n\r\nBut I don&#39;t see that and I have to click on the `Random` tab to see the posts. So my guess is that the list isn&#39;t populated with data by the time the method `readRandPosts();` gets called. It&#39;s not showing up as null so I have no clue what&#39;s wrong. I&#39;ve checked multiple answers on here and still found nothing to solve my problem. Can someone please help me see what I&#39;m doing wrong ?\r\n\r\n    private RecyclerView recyclerView;\r\n    private PostAdapter postAdapter;\r\n    private List&lt;Post&gt; postLists;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        HomeFragment homeFragment = new HomeFragment();\r\n\r\n        homeFragment.post = post;\r\n\r\n        //////////////////////////// recycler view //////////////////////////////\r\n        recyclerView = (VideoPlayerRecyclerView) view.findViewById(R.id.recyclerview);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\r\n        //layoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(postAdapter);\r\n        layoutManager.setReverseLayout(false);\r\n        layoutManager.setStackFromEnd(false);\r\n        VerticalSpacingItemDecorator itemDecorator = new VerticalSpacingItemDecorator(0);\r\n        recyclerView.addItemDecoration(itemDecorator);\r\n\r\n        postLists = new ArrayList&lt;&gt;();\r\n        //postLists.clear();\r\n        postAdapter = new PostAdapter(getContext(), postLists);\r\n        recyclerView.setAdapter(postAdapter);\r\n\r\n        progressBar = view.findViewById(R.id.progress_circular);\r\n\r\n        followingBtn = view.findViewById(R.id.followingBtn);\r\n        randomBtn = view.findViewById(R.id.randomBtn);\r\n\r\n        followingBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                checkFollowing();\r\n\r\n                Toast.makeText(getContext(), &quot;Following&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        randomBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                readRandPosts();\r\n                //Toast.makeText(getContext(), &quot;Random&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        readRandPosts();\r\n\r\n        if (postLists != null) {\r\n\r\n            //Toast.makeText(getContext(), &quot;not null.&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n\r\n            Toast.makeText(getContext(), &quot;Posts are null.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n--------------------------------------------------------------------------------------------------\r\n\r\n    private void readRandPosts() {\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Video_Posts&quot;);\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                postLists.clear();\r\n                for (DataSnapshot snapshot:dataSnapshot.getChildren()) {\r\n\r\n                    Post post = snapshot.getValue(Post.class);\r\n                    assert post != null;\r\n\r\n                    if (user != null ) {\r\n\r\n                        DatabaseReference dbref = FirebaseDatabase.getInstance().getReference(&quot;Follow&quot;)\r\n                                .child(post.getPublisher())\r\n                                .child(&quot;followers&quot;)\r\n                                .child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n                        dbref.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                                if (!dataSnapshot.exists()) {\r\n\r\n                                    postLists.add(post);\r\n                                    //Collections.shuffle(postLists);\r\n                                } else {\r\n                                    //postLists.add(post);\r\n                                    Toast.makeText(getContext(), &quot;Nothing to show.&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n                            }\r\n                        });\r\n\r\n                    } else {\r\n\r\n                        Toast.makeText(getContext(), &quot;User null.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n\r\n                if(postLists == null ) {\r\n\r\n                    progressBar.setVisibility(View.GONE);\r\n                    Toast.makeText(getContext(), &quot;No data&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                //Collections.reverse(postLists);\r\n\r\n                postAdapter.notifyDataSetChanged();\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }","title":"Populate list before calling method Java","body":"<p>I am creating a social app and as soon as the user opens the app, they are suppose to see random posts that I load from the database.</p>\n<p>But I don't see that and I have to click on the <code>Random</code> tab to see the posts. So my guess is that the list isn't populated with data by the time the method <code>readRandPosts();</code> gets called. It's not showing up as null so I have no clue what's wrong. I've checked multiple answers on here and still found nothing to solve my problem. Can someone please help me see what I'm doing wrong ?</p>\n<pre><code>private RecyclerView recyclerView;\nprivate PostAdapter postAdapter;\nprivate List&lt;Post&gt; postLists;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n    HomeFragment homeFragment = new HomeFragment();\n\n    homeFragment.post = post;\n\n    //////////////////////////// recycler view //////////////////////////////\n    recyclerView = (VideoPlayerRecyclerView) view.findViewById(R.id.recyclerview);\n    LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\n    //layoutManager.setOrientation(RecyclerView.VERTICAL);\n    recyclerView.setLayoutManager(layoutManager);\n    recyclerView.setAdapter(postAdapter);\n    layoutManager.setReverseLayout(false);\n    layoutManager.setStackFromEnd(false);\n    VerticalSpacingItemDecorator itemDecorator = new VerticalSpacingItemDecorator(0);\n    recyclerView.addItemDecoration(itemDecorator);\n\n    postLists = new ArrayList&lt;&gt;();\n    //postLists.clear();\n    postAdapter = new PostAdapter(getContext(), postLists);\n    recyclerView.setAdapter(postAdapter);\n\n    progressBar = view.findViewById(R.id.progress_circular);\n\n    followingBtn = view.findViewById(R.id.followingBtn);\n    randomBtn = view.findViewById(R.id.randomBtn);\n\n    followingBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            checkFollowing();\n\n            Toast.makeText(getContext(), &quot;Following&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n    randomBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            readRandPosts();\n            //Toast.makeText(getContext(), &quot;Random&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    readRandPosts();\n\n    if (postLists != null) {\n\n        //Toast.makeText(getContext(), &quot;not null.&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n\n        Toast.makeText(getContext(), &quot;Posts are null.&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    return view;\n}\n</code></pre>\n<hr />\n<pre><code>private void readRandPosts() {\n\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Video_Posts&quot;);\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            postLists.clear();\n            for (DataSnapshot snapshot:dataSnapshot.getChildren()) {\n\n                Post post = snapshot.getValue(Post.class);\n                assert post != null;\n\n                if (user != null ) {\n\n                    DatabaseReference dbref = FirebaseDatabase.getInstance().getReference(&quot;Follow&quot;)\n                            .child(post.getPublisher())\n                            .child(&quot;followers&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n                    dbref.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                            if (!dataSnapshot.exists()) {\n\n                                postLists.add(post);\n                                //Collections.shuffle(postLists);\n                            } else {\n                                //postLists.add(post);\n                                Toast.makeText(getContext(), &quot;Nothing to show.&quot;, Toast.LENGTH_SHORT).show();\n\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n                        }\n                    });\n\n                } else {\n\n                    Toast.makeText(getContext(), &quot;User null.&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            if(postLists == null ) {\n\n                progressBar.setVisibility(View.GONE);\n                Toast.makeText(getContext(), &quot;No data&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n            //Collections.reverse(postLists);\n\n            postAdapter.notifyDataSetChanged();\n            progressBar.setVisibility(View.GONE);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","sql","spring-boot"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":3,"creation_date":1656264847,"post_id":72763777,"comment_id":128524161,"body_markdown":"Just store the birthday in de DB and calculate the age whenever you need it?","body":"Just store the birthday in de DB and calculate the age whenever you need it?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":2,"creation_date":1656265009,"post_id":72763777,"comment_id":128524197,"body_markdown":"Storing a birthdate makes sense, updating the &quot;age&quot; does not. It&#39;s trivial to calculate an age given a birthdate (today - birthdate = age). However, it will take work to update the age along the way, every day, forever, for all users, also handling cases when the &quot;age updater&quot; doesn&#39;t run, crashes for some reason, etc. Just stick with birthdate.","body":"Storing a birthdate makes sense, updating the &quot;age&quot; does not. It&#39;s trivial to calculate an age given a birthdate (today - birthdate = age). However, it will take work to update the age along the way, every day, forever, for all users, also handling cases when the &quot;age updater&quot; doesn&#39;t run, crashes for some reason, etc. Just stick with birthdate."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656265194,"post_id":72763777,"comment_id":128524234,"body_markdown":"As everyone else has said, store the birthday.","body":"As everyone else has said, store the birthday."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1656269708,"post_id":72763777,"comment_id":128525136,"body_markdown":"This is a good example why rule no. 1 in database design is don&#39;t store redundant data, data that can be calculated from other data (or found elsewhere) (unless you have a very strong argument why you really have to).","body":"This is a good example why rule no. 1 in database design is don&#39;t store redundant data, data that can be calculated from other data (or found elsewhere) (unless you have a very strong argument why you really have to)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656321451,"post_id":72763777,"comment_id":128534376,"body_markdown":"As for storing birth date, that is a vital piece of private information which should not be casually recorded. Doing so may even be a violation of privacy laws in some jurisdictions.","body":"As for storing birth date, that is a vital piece of private information which should not be casually recorded. Doing so may even be a violation of privacy laws in some jurisdictions."}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656268059,"creation_date":1656265118,"answer_id":72763872,"question_id":72763777,"body_markdown":"You should not store the age because is always changing. Age should be calculated every time you query persons information. You already have a solution in Java, you could also do it using SQL.","title":"Java - How to calculate age by considering birthday date on database","body":"<p>You should not store the age because is always changing. Age should be calculated every time you query persons information. You already have a solution in Java, you could also do it using SQL.</p>\n"},{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656286135,"creation_date":1656286135,"answer_id":72765774,"question_id":72763777,"body_markdown":"It&#39;s not ideal, but since you seem to really need to do it, you could use Spring @Scheduler annotation and create a Scheduler that will run once every 24 hours getting the age and the birthday of every user.\r\nYou could then compare the dates just like you mentioned, using:\r\n```Period.between(birthday, now).getYears();```\r\nIf the result is the same as the age column, don&#39;t do anything. If it&#39;s not, update the age.","title":"Java - How to calculate age by considering birthday date on database","body":"<p>It's not ideal, but since you seem to really need to do it, you could use Spring @Scheduler annotation and create a Scheduler that will run once every 24 hours getting the age and the birthday of every user.\nYou could then compare the dates just like you mentioned, using:\n<code>Period.between(birthday, now).getYears();</code>\nIf the result is the same as the age column, don't do anything. If it's not, update the age.</p>\n"}],"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72763872,"answer_count":2,"score":0,"last_activity_date":1656286135,"creation_date":1656264425,"question_id":72763777,"body_markdown":"I&#39;m trying to solve this problem but i can&#39;t find a good solution. \r\nWhen an user register on my website, among other data, I&#39;m asking for the birthday date.\r\nAs well as the birthday date, I&#39;d also like to add on the database the actual age of the user so, in order to do that, I&#39;m using this code (added into the class User.java):\r\n\r\n    private LocalDate dateOfBirth;\r\n\t\r\n\tprivate int actualAge = ageCalculator(dateOfBirth);\r\n\t\r\n\tpublic int ageCalculator(LocalDate data) {\r\n\t\tLocalDate d = LocalDate.now();\r\n\t\tif(data != null) {\r\n\t\t\treturn Period.between(data, d).getYears();\r\n\t\t}else {\r\n\t\t\treturn //error message;\r\n\t\t}\r\n\t}\r\n    \r\nThe problem is that this code, is working just in the right moment an user register on the website. \r\nFor example: let&#39;s say tomorrow I&#39;ll turn 30 and I register on the website today (that I&#39;m still 29). So, on the database will be added the age &quot;29&quot;. But tomorrow, that I&#39;ll turn 30, the age on the database will still be 29.\r\nThere is a way to automatically update the age? \r\nI was thinking about to get the birthday date of every user with a Query - by month - and update the age. \r\nLet me explain better: now we are in June, so with the query I&#39;ll select all the users who were born in June and if the month and the day of their birthday is the same to the month and day of the LocalDate.now(), then I increase the age by 1.\r\nDo you have any suggestion? Thanks for the help/advices.","title":"Java - How to calculate age by considering birthday date on database","body":"<p>I'm trying to solve this problem but i can't find a good solution.\nWhen an user register on my website, among other data, I'm asking for the birthday date.\nAs well as the birthday date, I'd also like to add on the database the actual age of the user so, in order to do that, I'm using this code (added into the class User.java):</p>\n<pre><code>private LocalDate dateOfBirth;\n\nprivate int actualAge = ageCalculator(dateOfBirth);\n\npublic int ageCalculator(LocalDate data) {\n    LocalDate d = LocalDate.now();\n    if(data != null) {\n        return Period.between(data, d).getYears();\n    }else {\n        return //error message;\n    }\n}\n</code></pre>\n<p>The problem is that this code, is working just in the right moment an user register on the website.\nFor example: let's say tomorrow I'll turn 30 and I register on the website today (that I'm still 29). So, on the database will be added the age &quot;29&quot;. But tomorrow, that I'll turn 30, the age on the database will still be 29.\nThere is a way to automatically update the age?\nI was thinking about to get the birthday date of every user with a Query - by month - and update the age.\nLet me explain better: now we are in June, so with the query I'll select all the users who were born in June and if the month and the day of their birthday is the same to the month and day of the LocalDate.now(), then I increase the age by 1.\nDo you have any suggestion? Thanks for the help/advices.</p>\n"},{"tags":["java","apache-camel","apache-camel-k"],"answers":[{"tags":[],"owner":{"account_id":9772558,"reputation":11,"user_id":7243867,"display_name":"kvas1r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656285431,"creation_date":1656285431,"answer_id":72765727,"question_id":72765178,"body_markdown":"The right solution that the Azure Service Bus docs were attempting to allude to is to batch up the results as a list of objects or messages and pass that into the Azure producer. \r\n\r\nThe key to do this in Apache Camel is to use an [Aggregator][1].  This, couple with a completion interval in the code below allows the pipe to bunch up messages together and send to the Service Bus in batches. \r\n\r\n```\r\npublic class SampleKafkaConsumer extends RouteBuilder {\r\n  @Override\r\n  public void configure() throws Exception {\r\n    log.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\r\n    from(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\r\n             + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\r\n             + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\r\n             + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\r\n             + &quot;&amp;groupId={{consumer.group}}&quot;\r\n             + &quot;&amp;lingerMs={{consumer.lingerMs}}&quot;\r\n             + &quot;&amp;producerBatchSize={{consumer.producerBatchSize}}&quot;\r\n             + &quot;&amp;saslJaasConfig={{consumer.saslJaasConfig}}&quot;\r\n             + &quot;&amp;saslMechanism={{consumer.saslMechanism}}&quot;\r\n             + &quot;&amp;securityProtocol={{consumer.securityProtocol}}&quot;)\r\n             .routeId(&quot;Kafka&quot;)\r\n             .aggregate(new AzureAggregationStrategy()).constant(true)\r\n             .completionInterval(300L)\r\n             .to(&quot;azure-servicebus:topic?connectionString={{producer.connectionString}}&amp;producerOperation=sendMessages&quot;);\r\n             \r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.17.x/eips/aggregate-eip.html","title":"How should the azure service bus be configured for sending messages in batch?","body":"<p>The right solution that the Azure Service Bus docs were attempting to allude to is to batch up the results as a list of objects or messages and pass that into the Azure producer.</p>\n<p>The key to do this in Apache Camel is to use an <a href=\"https://camel.apache.org/components/3.17.x/eips/aggregate-eip.html\" rel=\"nofollow noreferrer\">Aggregator</a>.  This, couple with a completion interval in the code below allows the pipe to bunch up messages together and send to the Service Bus in batches.</p>\n<pre><code>public class SampleKafkaConsumer extends RouteBuilder {\n  @Override\n  public void configure() throws Exception {\n    log.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\n    from(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\n             + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\n             + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\n             + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\n             + &quot;&amp;groupId={{consumer.group}}&quot;\n             + &quot;&amp;lingerMs={{consumer.lingerMs}}&quot;\n             + &quot;&amp;producerBatchSize={{consumer.producerBatchSize}}&quot;\n             + &quot;&amp;saslJaasConfig={{consumer.saslJaasConfig}}&quot;\n             + &quot;&amp;saslMechanism={{consumer.saslMechanism}}&quot;\n             + &quot;&amp;securityProtocol={{consumer.securityProtocol}}&quot;)\n             .routeId(&quot;Kafka&quot;)\n             .aggregate(new AzureAggregationStrategy()).constant(true)\n             .completionInterval(300L)\n             .to(&quot;azure-servicebus:topic?connectionString={{producer.connectionString}}&amp;producerOperation=sendMessages&quot;);\n             \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9772558,"reputation":11,"user_id":7243867,"display_name":"kvas1r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656285431,"creation_date":1656278075,"question_id":72765178,"body_markdown":"The objective is to consume records from kafka and redirect to the Azure Service Bus.  The kafka consumer can be configured, and confirmed while debugging, to consume thousands of messages each time it polls the kafka topic.  \r\n\r\nThe Azure Service Bus, on the other hand, will always publish a single message.  So when this integration runs, the kafka logs will show that thousands of messages were received, then the Azure Service Bus logs will iterate over each one sending one at a time to the queue.  This takes several minutes per iteration slowing the process down significantly. \r\n\r\nThe component [documentation][1] writes that a setting to send in batches is the default, but is less than clear on precisely how to achieve that. \r\n```\r\npublic class SampleKafkaConsumer extends RouteBuilder {\r\n  @Override\r\n  public void configure() throws Exception {\r\n\tlog.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\r\n\tfrom(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\r\n             + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\r\n             + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\r\n             + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\r\n             + &quot;&amp;groupId={{consumer.group}}&quot;\r\n             + &quot;&amp;lingerMs={{consumer.lingerMs}}&quot;\r\n             + &quot;&amp;producerBatchSize={{consumer.producerBatchSize}}&quot;\r\n             + &quot;&amp;saslJaasConfig={{consumer.saslJaasConfig}}&quot;\r\n             + &quot;&amp;saslMechanism={{consumer.saslMechanism}}&quot;\r\n             + &quot;&amp;securityProtocol={{consumer.securityProtocol}}&quot;)\r\n             .routeId(&quot;Kafka&quot;)\r\n             .to(&quot;azure-servicebus:topic?connectionString={{producer.connectionString}}&amp;producerOperation=sendMessages&quot;);\r\n             \r\n  }\r\n}\r\n```\r\n\r\nAny insight on how to approach this?  \r\n\r\n  [1]: https://camel.apache.org/components/3.17.x/azure-servicebus-component.html\r\n  [2]: https://camel.apache.org/components/3.17.x/eips/polling-consumer.html","title":"How should the azure service bus be configured for sending messages in batch?","body":"<p>The objective is to consume records from kafka and redirect to the Azure Service Bus.  The kafka consumer can be configured, and confirmed while debugging, to consume thousands of messages each time it polls the kafka topic.</p>\n<p>The Azure Service Bus, on the other hand, will always publish a single message.  So when this integration runs, the kafka logs will show that thousands of messages were received, then the Azure Service Bus logs will iterate over each one sending one at a time to the queue.  This takes several minutes per iteration slowing the process down significantly.</p>\n<p>The component <a href=\"https://camel.apache.org/components/3.17.x/azure-servicebus-component.html\" rel=\"nofollow noreferrer\">documentation</a> writes that a setting to send in batches is the default, but is less than clear on precisely how to achieve that.</p>\n<pre><code>public class SampleKafkaConsumer extends RouteBuilder {\n  @Override\n  public void configure() throws Exception {\n    log.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\n    from(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\n             + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\n             + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\n             + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\n             + &quot;&amp;groupId={{consumer.group}}&quot;\n             + &quot;&amp;lingerMs={{consumer.lingerMs}}&quot;\n             + &quot;&amp;producerBatchSize={{consumer.producerBatchSize}}&quot;\n             + &quot;&amp;saslJaasConfig={{consumer.saslJaasConfig}}&quot;\n             + &quot;&amp;saslMechanism={{consumer.saslMechanism}}&quot;\n             + &quot;&amp;securityProtocol={{consumer.securityProtocol}}&quot;)\n             .routeId(&quot;Kafka&quot;)\n             .to(&quot;azure-servicebus:topic?connectionString={{producer.connectionString}}&amp;producerOperation=sendMessages&quot;);\n             \n  }\n}\n</code></pre>\n<p>Any insight on how to approach this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1656281106,"post_id":72765443,"comment_id":128527190,"body_markdown":"Add a `break;` inside the `if` block (after `System.out.println(&quot;they are the same&quot;);`)","body":"Add a <code>break;</code> inside the <code>if</code> block (after <code>System.out.println(&quot;they are the same&quot;);</code>)"},{"owner":{"account_id":17784899,"reputation":391,"user_id":12915212,"display_name":"MouseWarrior"},"score":0,"creation_date":1656281210,"post_id":72765443,"comment_id":128527200,"body_markdown":"That ended up in weird behavior as the overall programs prompts the user again after executing this method.","body":"That ended up in weird behavior as the overall programs prompts the user again after executing this method."},{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1656281254,"post_id":72765443,"comment_id":128527212,"body_markdown":"Do `correctGuesses` and `wordArray` have the same length?","body":"Do <code>correctGuesses</code> and <code>wordArray</code> have the same length?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656281462,"post_id":72765443,"comment_id":128527250,"body_markdown":"Are you intentionally comparing each element of `wordArray` with every element of `correctGuesses`, rather than just the element with the same index? Step through your program with the debugger.","body":"Are you intentionally comparing each element of <code>wordArray</code> with every element of <code>correctGuesses</code>, rather than just the element with the same index? Step through your program with the debugger."},{"owner":{"account_id":17784899,"reputation":391,"user_id":12915212,"display_name":"MouseWarrior"},"score":0,"creation_date":1656281497,"post_id":72765443,"comment_id":128527258,"body_markdown":"They are the same length and I am intentionally comparing each element of wordArray with every element in correctGuesses. About to step through with debugger.","body":"They are the same length and I am intentionally comparing each element of wordArray with every element in correctGuesses. About to step through with debugger."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656281623,"post_id":72765443,"comment_id":128527271,"body_markdown":"Thanks, then imagine what happens if wordArray = &quot;aa&quot; and correctGuesses = &quot;ab&quot;, or better, run the debugger and see what happens. Is it what you expect?","body":"Thanks, then imagine what happens if wordArray = &quot;aa&quot; and correctGuesses = &quot;ab&quot;, or better, run the debugger and see what happens. Is it what you expect?"},{"owner":{"account_id":17784899,"reputation":391,"user_id":12915212,"display_name":"MouseWarrior"},"score":0,"creation_date":1656281840,"post_id":72765443,"comment_id":128527304,"body_markdown":"Break actually fixed it. Coincidentally when I added break the first time, my IDE bugged out resulting in the weird behavior I mentioned and needed a restart.","body":"Break actually fixed it. Coincidentally when I added break the first time, my IDE bugged out resulting in the weird behavior I mentioned and needed a restart."}],"answers":[{"tags":[],"owner":{"account_id":24795396,"reputation":76,"user_id":18678158,"display_name":"Erxuan Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656281538,"creation_date":1656281538,"answer_id":72765493,"question_id":72765443,"body_markdown":"Currently you are not comparing the corresponding indices of the two arrays, because you have defined a double for loop with two different variables.\r\nWith your code above it loops through each element of wordArray and compares every element of correctGuesses array for each wordArray element.\r\n\r\nTo get what you want, you only want to have one for loop which iterates n-times where n is the length of the smaller array.","title":"not inputting values into array, even though its going into the if loop","body":"<p>Currently you are not comparing the corresponding indices of the two arrays, because you have defined a double for loop with two different variables.\nWith your code above it loops through each element of wordArray and compares every element of correctGuesses array for each wordArray element.</p>\n<p>To get what you want, you only want to have one for loop which iterates n-times where n is the length of the smaller array.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656285311,"creation_date":1656281622,"answer_id":72765501,"question_id":72765443,"body_markdown":"You are overriding the correct character at the next iteration when your code hits the `else` case.\r\n\r\nAnd it also seems like you don&#39;t need a nested loop to check whether a character in the array of guesses a matches a character in the containing correct characters (in case if characters at the same position need to be compared).\r\n\r\n    public static void displayWord(char[] correctGuesses, char[] wordArray) {\r\n        int len = Math.min(correctGuesses.length, wordArray.length);\r\n        char[] displayedWord = new char[len];\r\n        for(int i = 0; i &lt; len; i++) {\r\n            if(wordArray[i] == correctGuesses[i]) {\r\n                displayedWord[i] = wordArray[i];\r\n                System.out.println(&quot;they are the same &quot; + wordArray[i]);\r\n            } else displayedWord[i] = &#39;?&#39;;\r\n        }\r\n        \r\n        for(char c : displayedWord) {\r\n            System.out.print(c);\r\n        }\r\n    }\r\n\r\n`main()` \r\n\r\n    public static void main(String[] args) {\r\n        displayWord(new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;},new char[]{&#39;e&#39;, &#39;b&#39;, &#39;e&#39;});\r\n    }\r\n\r\n*Output:*\r\n```\r\nthey are the same b\r\n?b?\r\n```","title":"not inputting values into array, even though its going into the if loop","body":"<p>You are overriding the correct character at the next iteration when your code hits the <code>else</code> case.</p>\n<p>And it also seems like you don't need a nested loop to check whether a character in the array of guesses a matches a character in the containing correct characters (in case if characters at the same position need to be compared).</p>\n<pre><code>public static void displayWord(char[] correctGuesses, char[] wordArray) {\n    int len = Math.min(correctGuesses.length, wordArray.length);\n    char[] displayedWord = new char[len];\n    for(int i = 0; i &lt; len; i++) {\n        if(wordArray[i] == correctGuesses[i]) {\n            displayedWord[i] = wordArray[i];\n            System.out.println(&quot;they are the same &quot; + wordArray[i]);\n        } else displayedWord[i] = '?';\n    }\n    \n    for(char c : displayedWord) {\n        System.out.print(c);\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    displayWord(new char[]{'a', 'b', 'c'},new char[]{'e', 'b', 'e'});\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>they are the same b\n?b?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23401683,"reputation":274,"user_id":17464757,"display_name":"Game dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656281741,"creation_date":1656281741,"answer_id":72765517,"question_id":72765443,"body_markdown":"### That&#39;s because you are overeating the displayedWord, even if the char was found\r\nUse break when you find the char to get out of the loop\r\n\r\n## here is the code\r\n\r\n    public static void displayWord(char[] correctGuesses, char[] wordArray) {\r\n        char[] displayedWord = new char[wordArray.length];\r\n        for(int i = 0; i &lt; wordArray.length; i++) {\r\n            for(int j = 0; j &lt; correctGuesses.length; j++) {\r\n                if(wordArray[i] == correctGuesses[j]) {\r\n                    displayedWord[i] = wordArray[i];\r\n                    System.out.println(&quot;they are the same&quot;);\r\n                    break;\r\n                } else displayedWord[i] = &#39;?&#39;;\r\n            }\r\n        }\r\n        for(char c : displayedWord) {\r\n            System.out.print(c);\r\n        }\r\n    }","title":"not inputting values into array, even though its going into the if loop","body":"<h3>That's because you are overeating the displayedWord, even if the char was found</h3>\n<p>Use break when you find the char to get out of the loop</p>\n<h2>here is the code</h2>\n<pre><code>public static void displayWord(char[] correctGuesses, char[] wordArray) {\n    char[] displayedWord = new char[wordArray.length];\n    for(int i = 0; i &lt; wordArray.length; i++) {\n        for(int j = 0; j &lt; correctGuesses.length; j++) {\n            if(wordArray[i] == correctGuesses[j]) {\n                displayedWord[i] = wordArray[i];\n                System.out.println(&quot;they are the same&quot;);\n                break;\n            } else displayedWord[i] = '?';\n        }\n    }\n    for(char c : displayedWord) {\n        System.out.print(c);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17784899,"reputation":391,"user_id":12915212,"display_name":"MouseWarrior"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1656285311,"creation_date":1656280979,"question_id":72765443,"body_markdown":"I have a method called displayWord that is supposed to compare each index of an array with another array and if the indexes match, it is supposed to execute this line ```\r\ndisplayedWord[i] = wordArray[i]```. When I print the displayedWord, they are all question marks even thought the print statement executes so I know it is going into the if block.\r\n\r\nWhy is displayedWord always questions marks when I print it?\r\n\r\n```\r\npublic static void displayWord(char[] correctGuesses, char[] wordArray) {\r\n\t\tchar[] displayedWord = new char[wordArray.length];\r\n\t\tfor(int i = 0; i &lt; wordArray.length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; correctGuesses.length; j++) {\r\n\t\t\t\tif(wordArray[i] == correctGuesses[j]) {\r\n\t\t\t\t\tdisplayedWord[i] = wordArray[i];\r\n\t\t\t\t\tSystem.out.println(&quot;they are the same&quot;);\r\n\t\t\t\t} else displayedWord[i] = &#39;?&#39;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(char c : displayedWord) {\r\n\t\t\tSystem.out.print(c);\r\n\t\t}\r\n\t}\r\n```","title":"not inputting values into array, even though its going into the if loop","body":"<p>I have a method called displayWord that is supposed to compare each index of an array with another array and if the indexes match, it is supposed to execute this line <code> displayedWord[i] = wordArray[i]</code>. When I print the displayedWord, they are all question marks even thought the print statement executes so I know it is going into the if block.</p>\n<p>Why is displayedWord always questions marks when I print it?</p>\n<pre><code>public static void displayWord(char[] correctGuesses, char[] wordArray) {\n        char[] displayedWord = new char[wordArray.length];\n        for(int i = 0; i &lt; wordArray.length; i++) {\n            for(int j = 0; j &lt; correctGuesses.length; j++) {\n                if(wordArray[i] == correctGuesses[j]) {\n                    displayedWord[i] = wordArray[i];\n                    System.out.println(&quot;they are the same&quot;);\n                } else displayedWord[i] = '?';\n            }\n        }\n        for(char c : displayedWord) {\n            System.out.print(c);\n        }\n    }\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19463947,"reputation":81,"user_id":14237618,"display_name":"TwisteMisted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656283939,"creation_date":1656283529,"answer_id":72765637,"question_id":72762295,"body_markdown":"I think [this guide][1] can help you.\r\n\r\nUse `Model` to return rates. It&#39;s more easier than your approach. Something like this.\r\n\r\n    @GetMapping(&quot;/show-contents&quot;)\r\n    public String showAllRates(Model model){\r\n        model.addAttribute(&quot;rates&quot;, service.showAllRates());\r\n        model.addAttribute(&quot;mode&quot;, &quot;ALL_CONTENTS&quot;);\r\n        return &quot;databasecontents&quot;;\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-model-model-map-model-view","title":"Display PostgreSQL DB contents back to HTML with Thymeleaf and JSP","body":"<p>I think <a href=\"https://www.baeldung.com/spring-mvc-model-model-map-model-view\" rel=\"nofollow noreferrer\">this guide</a> can help you.</p>\n<p>Use <code>Model</code> to return rates. It's more easier than your approach. Something like this.</p>\n<pre><code>@GetMapping(&quot;/show-contents&quot;)\npublic String showAllRates(Model model){\n    model.addAttribute(&quot;rates&quot;, service.showAllRates());\n    model.addAttribute(&quot;mode&quot;, &quot;ALL_CONTENTS&quot;);\n    return &quot;databasecontents&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656283939,"creation_date":1656252589,"question_id":72762295,"body_markdown":"I am creating a Spring Boot application in which I have to consume this [API](https://bitpay.com/api/rates), add it&#39;s JSON contents to a PostgreSQL DB and adding also a timestamp column to capture and save the exact point of data transmission. Now I want to transmit back to my webpage the contents, I&#39;ve collected so far.\r\n\r\nI searched [here](https://tecnotabs.com/spring-boot-project-with-jpa-mysql-and-jsp/) and although everything works fine, I am not able to display my data back to my webpage. I am providing a screenshot sample from my webpage, as well as my code so far. You can see also the HTML code at the end of this post.\r\n\r\n 1. Is it possible to play with Thymeleaf and JSP, on HTML at the same time?\r\n 2. Any help would be appreciated\r\n\r\n[![Results][1]][1]\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**EntityClass**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\n@Table\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class BitPayRates {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;bitpay_sequence&quot;,\r\n            sequenceName = &quot;bitpay_sequence&quot;,\r\n            allocationSize = 1\r\n            )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;bitpay_sequence&quot;\r\n    )\r\n    private Integer id;\r\n    private String code;\r\n    private String name;\r\n    private Long rate;\r\n\r\n    private java.time.LocalDateTime timestamp;\r\n\r\n    protected BitPayRates() {\r\n    }\r\n\r\n    public BitPayRates(String code, String name, Long rate, LocalDateTime timestamp) {\r\n        this.code = code;\r\n        this.name = name;\r\n        this.rate = rate;\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    // Getters and setters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;BitPayRates{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, code=&#39;&quot; + code + &#39;\\&#39;&#39; +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, rate=&quot; + rate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Controller Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n//The controller for the project, which handles HTTP requests\r\n@RestController\r\npublic class RestSpringBootController {\r\n\r\n    //Dependency injection to connect with Service layer\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public RestSpringBootController(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/bitpay&quot;)\r\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData(){\r\n        return service.getData();\r\n    }\r\n}\r\n```\r\n**Controller 2 Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay.controller;\r\n\r\nimport com.andrekreou.iot.bitpay.service.Service;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n@Controller\r\npublic class WelcomeController {\r\n\r\n    Service service;\r\n\r\n    @Autowired\r\n    public WelcomeController(Service service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @Value(&quot;${welcome.message}&quot;)\r\n    private String message;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String main(Model model){\r\n        model.addAttribute(&quot;message&quot;, message);\r\n\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String mainWithParam(\r\n            @RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;&quot;)\r\n            String name, Model model){\r\n        model.addAttribute(&quot;message&quot;, name);\r\n\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/show-contents&quot;)\r\n    public String showAllRates(HttpServletRequest request){\r\n        request.setAttribute(&quot;rates&quot;, service.showAllRates());\r\n        request.setAttribute(&quot;mode&quot;,&quot;ALL_CONTENTS&quot;);\r\n        return &quot;databasecontents&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Service Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay.service;\r\n\r\nimport com.andrekreou.iot.bitpay.model.BitPayRates;\r\nimport com.andrekreou.iot.bitpay.repository.BitPayRatesRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n//The service layer class for business logic implementation\r\n@org.springframework.stereotype.Service\r\n@Transactional\r\npublic class Service {\r\n\r\n    //Dependency injection to connect with Repository layer\r\n    private final BitPayRatesRepo bitPayRatesRepo;\r\n\r\n    @Autowired\r\n    public Service(BitPayRatesRepo bitPayRatesRepo) {\r\n        this.bitPayRatesRepo = bitPayRatesRepo;\r\n    }\r\n\r\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData() {\r\n        return Collections.singletonList(bitPayRatesRepo.findAll());\r\n    }\r\n\r\n    public List&lt;BitPayRates&gt; showAllRates(){\r\n        List&lt;BitPayRates&gt; rates = new ArrayList&lt;&gt;();\r\n        rates.addAll(bitPayRatesRepo.findAll());\r\n\r\n        return rates;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Repository Interface**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n//Interface that multiple classes can use and connects with data JPA\r\n//The JPA is a map that takes the variables mapped in BitPayRates class\r\n//as first parameter and as second, returns the data type of the Id.\r\n@Repository\r\npublic interface BitPayRatesRepo\r\n        extends JpaRepository&lt;BitPayRates,Integer&gt; {\r\n\r\n}\r\n```\r\n\r\n**Configuration Class**\r\n\r\n```\r\npackage com.andrekreou.iot.bitpay;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.ParameterizedTypeReference;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n//The configuration class to fetch data from url and execute the insertion\r\n//of the data into the PostgreSQL database\r\n@Configuration\r\npublic class BitPayRatesConfig {\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(BitPayRatesRepo bitPayRatesRepo) {\r\n        return args -&gt; {\r\n\r\n            String url = &quot;https://bitpay.com/api/rates&quot;;\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            ResponseEntity&lt;List&lt;BitPayRates&gt;&gt; postEntity = restTemplate.exchange(\r\n                url,\r\n                HttpMethod.GET,\r\n                null,\r\n                new ParameterizedTypeReference&lt;&gt;() {\r\n                });\r\n\r\n\r\n        List&lt;BitPayRates&gt; results = postEntity.getBody();\r\n        bitPayRatesRepo.saveAll(results);\r\n        System.out.println(results);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n**HTML Code**\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/main.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;#news&quot;&gt;News&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;#contact&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;IoT Application&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n\r\n&lt;c:when test=&quot;${mode==&#39;ALL_CONTENTS&#39; }&quot;&gt;\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;h3&gt;Database Contents&lt;/h3&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;Id&lt;/th&gt;\r\n                    &lt;th&gt;Code&lt;/th&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Rate&lt;/th&gt;\r\n                    &lt;th&gt;Timestamp&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n\r\n                &lt;c:forEach var=&quot;rate&quot; items=&quot;${rates}&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.id}&quot;/&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.code}&quot;/&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.name&#39;&quot;/&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.rate}&quot;/&gt; &lt;/td&gt;\r\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.timestamp}&quot;/&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/c:forEach&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/c:when&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n**POM.XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.andrekreou&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;iot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;iot&lt;/name&gt;\r\n\t&lt;description&gt;MSc Thesis&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.45&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.7-1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jl5W3.png","title":"Display PostgreSQL DB contents back to HTML with Thymeleaf and JSP","body":"<p>I am creating a Spring Boot application in which I have to consume this <a href=\"https://bitpay.com/api/rates\" rel=\"nofollow noreferrer\">API</a>, add it's JSON contents to a PostgreSQL DB and adding also a timestamp column to capture and save the exact point of data transmission. Now I want to transmit back to my webpage the contents, I've collected so far.</p>\n<p>I searched <a href=\"https://tecnotabs.com/spring-boot-project-with-jpa-mysql-and-jsp/\" rel=\"nofollow noreferrer\">here</a> and although everything works fine, I am not able to display my data back to my webpage. I am providing a screenshot sample from my webpage, as well as my code so far. You can see also the HTML code at the end of this post.</p>\n<ol>\n<li>Is it possible to play with Thymeleaf and JSP, on HTML at the same time?</li>\n<li>Any help would be appreciated</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jl5W3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jl5W3.png\" alt=\"Results\" /></a></p>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>EntityClass</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BitPayRates {\n    @Id\n    @SequenceGenerator(\n            name = &quot;bitpay_sequence&quot;,\n            sequenceName = &quot;bitpay_sequence&quot;,\n            allocationSize = 1\n            )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;bitpay_sequence&quot;\n    )\n    private Integer id;\n    private String code;\n    private String name;\n    private Long rate;\n\n    private java.time.LocalDateTime timestamp;\n\n    protected BitPayRates() {\n    }\n\n    public BitPayRates(String code, String name, Long rate, LocalDateTime timestamp) {\n        this.code = code;\n        this.name = name;\n        this.rate = rate;\n        this.timestamp = timestamp;\n    }\n\n    // Getters and setters\n\n    @Override\n    public String toString() {\n        return &quot;BitPayRates{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, code='&quot; + code + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, rate=&quot; + rate +\n                '}';\n    }\n}\n\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n//The controller for the project, which handles HTTP requests\n@RestController\npublic class RestSpringBootController {\n\n    //Dependency injection to connect with Service layer\n    private final Service service;\n\n    @Autowired\n    public RestSpringBootController(Service service) {\n        this.service = service;\n    }\n\n    @GetMapping(path = &quot;/bitpay&quot;)\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData(){\n        return service.getData();\n    }\n}\n</code></pre>\n<p><strong>Controller 2 Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay.controller;\n\nimport com.andrekreou.iot.bitpay.service.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport javax.servlet.http.HttpServletRequest;\n\n@Controller\npublic class WelcomeController {\n\n    Service service;\n\n    @Autowired\n    public WelcomeController(Service service) {\n        this.service = service;\n    }\n\n    @Value(&quot;${welcome.message}&quot;)\n    private String message;\n\n    @GetMapping(&quot;/&quot;)\n    public String main(Model model){\n        model.addAttribute(&quot;message&quot;, message);\n\n        return &quot;welcome&quot;;\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String mainWithParam(\n            @RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;&quot;)\n            String name, Model model){\n        model.addAttribute(&quot;message&quot;, name);\n\n        return &quot;welcome&quot;;\n    }\n\n    @GetMapping(&quot;/show-contents&quot;)\n    public String showAllRates(HttpServletRequest request){\n        request.setAttribute(&quot;rates&quot;, service.showAllRates());\n        request.setAttribute(&quot;mode&quot;,&quot;ALL_CONTENTS&quot;);\n        return &quot;databasecontents&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>Service Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay.service;\n\nimport com.andrekreou.iot.bitpay.model.BitPayRates;\nimport com.andrekreou.iot.bitpay.repository.BitPayRatesRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport javax.transaction.Transactional;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n//The service layer class for business logic implementation\n@org.springframework.stereotype.Service\n@Transactional\npublic class Service {\n\n    //Dependency injection to connect with Repository layer\n    private final BitPayRatesRepo bitPayRatesRepo;\n\n    @Autowired\n    public Service(BitPayRatesRepo bitPayRatesRepo) {\n        this.bitPayRatesRepo = bitPayRatesRepo;\n    }\n\n    public List&lt;List&lt;BitPayRates&gt;&gt; getData() {\n        return Collections.singletonList(bitPayRatesRepo.findAll());\n    }\n\n    public List&lt;BitPayRates&gt; showAllRates(){\n        List&lt;BitPayRates&gt; rates = new ArrayList&lt;&gt;();\n        rates.addAll(bitPayRatesRepo.findAll());\n\n        return rates;\n    }\n}\n\n</code></pre>\n<p><strong>Repository Interface</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n//Interface that multiple classes can use and connects with data JPA\n//The JPA is a map that takes the variables mapped in BitPayRates class\n//as first parameter and as second, returns the data type of the Id.\n@Repository\npublic interface BitPayRatesRepo\n        extends JpaRepository&lt;BitPayRates,Integer&gt; {\n\n}\n</code></pre>\n<p><strong>Configuration Class</strong></p>\n<pre><code>package com.andrekreou.iot.bitpay;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.ParameterizedTypeReference;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n//The configuration class to fetch data from url and execute the insertion\n//of the data into the PostgreSQL database\n@Configuration\npublic class BitPayRatesConfig {\n\n    @Bean\n    CommandLineRunner commandLineRunner(BitPayRatesRepo bitPayRatesRepo) {\n        return args -&gt; {\n\n            String url = &quot;https://bitpay.com/api/rates&quot;;\n            RestTemplate restTemplate = new RestTemplate();\n\n            ResponseEntity&lt;List&lt;BitPayRates&gt;&gt; postEntity = restTemplate.exchange(\n                url,\n                HttpMethod.GET,\n                null,\n                new ParameterizedTypeReference&lt;&gt;() {\n                });\n\n\n        List&lt;BitPayRates&gt; results = postEntity.getBody();\n        bitPayRatesRepo.saveAll(results);\n        System.out.println(results);\n        };\n    }\n}\n</code></pre>\n<p><strong>HTML Code</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/main.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;#news&quot;&gt;News&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;#contact&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;IoT Application&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n\n&lt;c:when test=&quot;${mode=='ALL_CONTENTS' }&quot;&gt;\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;h3&gt;Database Contents&lt;/h3&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Id&lt;/th&gt;\n                    &lt;th&gt;Code&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Rate&lt;/th&gt;\n                    &lt;th&gt;Timestamp&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n\n                &lt;c:forEach var=&quot;rate&quot; items=&quot;${rates}&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.id}&quot;/&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.code}&quot;/&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.name'&quot;/&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.rate}&quot;/&gt; &lt;/td&gt;\n                        &lt;td&gt; &lt;c:out value=&quot;${rate.timestamp}&quot;/&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/c:forEach&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/c:when&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.andrekreou&lt;/groupId&gt;\n    &lt;artifactId&gt;iot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;iot&lt;/name&gt;\n    &lt;description&gt;MSc Thesis&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n            &lt;version&gt;0.45&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7-1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656281218,"post_id":72765453,"comment_id":128527203,"body_markdown":"Read the Javadoc for `String.format`.","body":"Read the Javadoc for <code>String.format</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656281934,"post_id":72765453,"comment_id":128527323,"body_markdown":"Also look at String.substring and Integer.parseInt","body":"Also look at String.substring and Integer.parseInt"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656282025,"post_id":72765453,"comment_id":128527331,"body_markdown":"Extract the number from the input.  For example, LP00999, the number extracted would be 999.  Add 1 to 999 which gives you 1000.  Then create a string that starts with &quot;LP&quot; followed by &quot;0&quot;s and the number 1000.  You will need to compute how many &quot;0&quot; to append to LP before you append the number 1000.","body":"Extract the number from the input.  For example, LP00999, the number extracted would be 999.  Add 1 to 999 which gives you 1000.  Then create a string that starts with &quot;LP&quot; followed by &quot;0&quot;s and the number 1000.  You will need to compute how many &quot;0&quot; to append to LP before you append the number 1000."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656281303,"creation_date":1656281303,"answer_id":72765476,"question_id":72765453,"body_markdown":"You could use formatted io. A format string with `%s` to indicate a `String` for the &quot;LP&quot; component. And then `%05d` to indicate five decimals zero filled. For example,\r\n\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\tSystem.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, i);\r\n\t}\r\n\r\nOutputs\r\n\r\n    LP00000\r\n    LP00001\r\n    LP00002\r\n    LP00003\r\n    LP00004\r\n    LP00005\r\n    LP00006\r\n    LP00007\r\n    LP00008\r\n    LP00009\r\n\r\n","title":"Format 00001 number","body":"<p>You could use formatted io. A format string with <code>%s</code> to indicate a <code>String</code> for the &quot;LP&quot; component. And then <code>%05d</code> to indicate five decimals zero filled. For example,</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    System.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, i);\n}\n</code></pre>\n<p>Outputs</p>\n<pre><code>LP00000\nLP00001\nLP00002\nLP00003\nLP00004\nLP00005\nLP00006\nLP00007\nLP00008\nLP00009\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656283462,"creation_date":1656283462,"answer_id":72765633,"question_id":72765453,"body_markdown":"If **LP** is a pattern (always 2 characters at the begining of the string), you could do this:\r\n\r\n    String text = &quot;LP00001&quot;;\r\n    int numericValue = Integer.parseInt(text.substring(2)) + 1;\r\n    System.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, numericValue);","title":"Format 00001 number","body":"<p>If <strong>LP</strong> is a pattern (always 2 characters at the begining of the string), you could do this:</p>\n<pre><code>String text = &quot;LP00001&quot;;\nint numericValue = Integer.parseInt(text.substring(2)) + 1;\nSystem.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, numericValue);\n</code></pre>\n"}],"owner":{"account_id":19216643,"reputation":191,"user_id":14041268,"display_name":"Джейк Морган"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1656326746,"accepted_answer_id":72765633,"answer_count":2,"score":-1,"last_activity_date":1656283462,"creation_date":1656281110,"question_id":72765453,"body_markdown":"For example, I get the input number LP00001, LP00023, LP00010 in text format. How can I get a number (1, 23, 10) based on the data received, add one, and form, for example, LP00002, LP00024, LP00011?\r\n\r\n    System.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, i);\r\n\r\n \r\nit suits me, I don&#39;t understand how I can extract the number itself\r\n\r\nI need a number that is for example in LP00032, that is, in fact I should get 32\r\n","title":"Format 00001 number","body":"<p>For example, I get the input number LP00001, LP00023, LP00010 in text format. How can I get a number (1, 23, 10) based on the data received, add one, and form, for example, LP00002, LP00024, LP00011?</p>\n<pre><code>System.out.printf(&quot;%s%05d%n&quot;, &quot;LP&quot;, i);\n</code></pre>\n<p>it suits me, I don't understand how I can extract the number itself</p>\n<p>I need a number that is for example in LP00032, that is, in fact I should get 32</p>\n"},{"tags":["java","android","kotlin","build","reference"],"answers":[{"tags":[],"owner":{"account_id":3341553,"reputation":2234,"user_id":2807741,"accept_rate":69,"display_name":"Diego Perez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656282809,"creation_date":1656282809,"answer_id":72765591,"question_id":72765111,"body_markdown":"OK, in the end it was extremely simple and stupid. In the &quot;Global&quot; module, and due to a previous problem, I had commented the next gradle line:\r\n\r\n    apply plugin: &#39;kotlin-android&#39;\r\n\r\nAnd after uncommenting it now the problem got resolved.\r\n\r\nThanks to me :)\r\n","title":"Android Kotlin migration: Unresolved Reference","body":"<p>OK, in the end it was extremely simple and stupid. In the &quot;Global&quot; module, and due to a previous problem, I had commented the next gradle line:</p>\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n<p>And after uncommenting it now the problem got resolved.</p>\n<p>Thanks to me :)</p>\n"}],"owner":{"account_id":3341553,"reputation":2234,"user_id":2807741,"accept_rate":69,"display_name":"Diego Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656282809,"creation_date":1656277253,"question_id":72765111,"body_markdown":"I&#39;m migrating my multi-module Android app from Java to Kotlin, and being in an advanced stage have come across with the next issue:\r\n\r\nAndroid Studio complains with &quot;Reference not found&quot; from class from another module when building. The weird thing is that there is no Lint underlined text in red, in fact intellisense (auto-complete) detects all the packages until &quot;AppSettings&quot; with no problems, but cannot build.\r\n\r\nI can&#39;t paste much code, but at least a screenshot of the problem.\r\n\r\n[![AppSettings unresolved reference][1]][1]\r\n\r\nAny suggestions? (already cleaned project, reset cache and built again and the issue persists.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/le5O8.png","title":"Android Kotlin migration: Unresolved Reference","body":"<p>I'm migrating my multi-module Android app from Java to Kotlin, and being in an advanced stage have come across with the next issue:</p>\n<p>Android Studio complains with &quot;Reference not found&quot; from class from another module when building. The weird thing is that there is no Lint underlined text in red, in fact intellisense (auto-complete) detects all the packages until &quot;AppSettings&quot; with no problems, but cannot build.</p>\n<p>I can't paste much code, but at least a screenshot of the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/le5O8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/le5O8.png\" alt=\"AppSettings unresolved reference\" /></a></p>\n<p>Any suggestions? (already cleaned project, reset cache and built again and the issue persists.</p>\n"},{"tags":["java","cluster-analysis","weka","k-means"],"answers":[{"tags":[],"owner":{"account_id":1461321,"reputation":981,"user_id":1375573,"accept_rate":20,"display_name":"svural"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1405536849,"creation_date":1405536849,"answer_id":24788508,"question_id":23872807,"body_markdown":"Your life would be much easier if you use Windows version of Weka with GUI. \r\n\r\nIn cluster tab there is a button for ignoring attributes like ID.\r\n\r\nAnd for Id to cluster assignments; after your are done with clustering algorithm you chose, right click the result on left of the screen, then visualize results and then save. ","title":"Get cluster assignments in Weka","body":"<p>Your life would be much easier if you use Windows version of Weka with GUI. </p>\n\n<p>In cluster tab there is a button for ignoring attributes like ID.</p>\n\n<p>And for Id to cluster assignments; after your are done with clustering algorithm you chose, right click the result on left of the screen, then visualize results and then save. </p>\n"},{"tags":[],"owner":{"account_id":1874255,"reputation":121,"user_id":1695828,"display_name":"Sujit Pal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1656282254,"creation_date":1419386029,"answer_id":27630476,"question_id":23872807,"body_markdown":"I realize this is an old question, but I came here looking for an answer as well, and then was able to figure it out myself, so putting my solution here for the next person with this problem. In my case, the clustering component is part of a Java application, so I don&#39;t have the option of using the Weka workbench. Here is what I did to pull out the id along with the cluster assignments.\r\n\r\n    int[] assignments = kmeans.getAssignments();\r\n    for (int i = 0; i &lt; assignments.length; i++) {\r\n      int id = (int) data.instance(i).value(0); // cast from double\r\n      System.out.printf(&quot;ID %d -&gt; Cluster %d \\n&quot;, id, assignments[i]);\r\n    }\r\n\r\nUnlike the OP, I did not build my Instances from DataSource.getDataSet(), I built this manually from a database table, but the id field was the first one in my case as well, so I think the code above should work. I had a custom distance function that skipped the id field when computing similarity.\r\n","title":"Get cluster assignments in Weka","body":"<p>I realize this is an old question, but I came here looking for an answer as well, and then was able to figure it out myself, so putting my solution here for the next person with this problem. In my case, the clustering component is part of a Java application, so I don't have the option of using the Weka workbench. Here is what I did to pull out the id along with the cluster assignments.</p>\n<pre><code>int[] assignments = kmeans.getAssignments();\nfor (int i = 0; i &lt; assignments.length; i++) {\n  int id = (int) data.instance(i).value(0); // cast from double\n  System.out.printf(&quot;ID %d -&gt; Cluster %d \\n&quot;, id, assignments[i]);\n}\n</code></pre>\n<p>Unlike the OP, I did not build my Instances from DataSource.getDataSet(), I built this manually from a database table, but the id field was the first one in my case as well, so I think the code above should work. I had a custom distance function that skipped the id field when computing similarity.</p>\n"}],"owner":{"account_id":329674,"reputation":2693,"user_id":653331,"accept_rate":85,"display_name":"p_mcp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24788508,"answer_count":2,"score":1,"last_activity_date":1656282254,"creation_date":1401115944,"question_id":23872807,"body_markdown":"I have a CSV file as follows:\r\n\r\n    id,at1,at2,at3\r\n    1072,0.5,0.2,0.7\r\n    1092,0.2,0.5,0.7\r\n    ...\r\n\r\nI&#39;ve loaded it in in Weka for clustering:\r\n\r\n    DataSource source = new DataSource(&quot;test.csv&quot;);\r\n    Instances data = source.getDataSet();\r\n    kmeans.buildClusterer(data);\r\n\r\n**Question #1:** How do I set the first column as an ID? ie. ignoring the first column for clustering purposes.\r\n\r\nI then try to print out the assignments:\r\n\r\n    int[] assignments = kmeans.getAssignments();\r\n    int i = 0;\r\n    for (int clusterNum : assignments) {\r\n        System.out.printf(&quot;Instance %d -&gt; Cluster %d \\n&quot;, i, clusterNum);\r\n        i++;\r\n    }\r\n\r\nThis prints:\r\n\r\n    Instance 1 -&gt; Cluster 0 \r\n    Instance 2 -&gt; Cluster 2\r\n    ...\r\n\r\n**Question #2:** How do I refer to the ID when printing out the assignments? For example:\r\n\r\n    Instance 1072 -&gt; Cluster 0\r\n    Instance 1092 -&gt; Cluster 2","title":"Get cluster assignments in Weka","body":"<p>I have a CSV file as follows:</p>\n\n<pre><code>id,at1,at2,at3\n1072,0.5,0.2,0.7\n1092,0.2,0.5,0.7\n...\n</code></pre>\n\n<p>I've loaded it in in Weka for clustering:</p>\n\n<pre><code>DataSource source = new DataSource(\"test.csv\");\nInstances data = source.getDataSet();\nkmeans.buildClusterer(data);\n</code></pre>\n\n<p><strong>Question #1:</strong> How do I set the first column as an ID? ie. ignoring the first column for clustering purposes.</p>\n\n<p>I then try to print out the assignments:</p>\n\n<pre><code>int[] assignments = kmeans.getAssignments();\nint i = 0;\nfor (int clusterNum : assignments) {\n    System.out.printf(\"Instance %d -&gt; Cluster %d \\n\", i, clusterNum);\n    i++;\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Instance 1 -&gt; Cluster 0 \nInstance 2 -&gt; Cluster 2\n...\n</code></pre>\n\n<p><strong>Question #2:</strong> How do I refer to the ID when printing out the assignments? For example:</p>\n\n<pre><code>Instance 1072 -&gt; Cluster 0\nInstance 1092 -&gt; Cluster 2\n</code></pre>\n"},{"tags":["java","android","apache-poi"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1656282216,"post_id":72765537,"comment_id":128527348,"body_markdown":"You do not have access to files in `Documents/`, except for those that your app put there originally.","body":"You do not have access to files in <code>Documents&#47;</code>, except for those that your app put there originally."},{"owner":{"account_id":23151411,"reputation":27,"user_id":17253357,"display_name":"Robert"},"score":0,"creation_date":1656283077,"post_id":72765537,"comment_id":128527426,"body_markdown":"So I assume that means that there exists no way to grant permissions to your app to allow it to read a file in there that it did not write? Where on the filesystem could I put it so that the app can read it?","body":"So I assume that means that there exists no way to grant permissions to your app to allow it to read a file in there that it did not write? Where on the filesystem could I put it so that the app can read it?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1656284661,"post_id":72765537,"comment_id":128527619,"body_markdown":"&quot;Where on the filesystem could I put it so that the app can read it?&quot; -- locations identified by methods on `Context`, such as `getExternalFilesDir()`. Or, if you can work purely with streams, use the Storage Access Framework and let the user choose the file via `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument`.","body":"&quot;Where on the filesystem could I put it so that the app can read it?&quot; -- locations identified by methods on <code>Context</code>, such as <code>getExternalFilesDir()</code>. Or, if you can work purely with streams, use the Storage Access Framework and let the user choose the file via <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code>."},{"owner":{"account_id":23151411,"reputation":27,"user_id":17253357,"display_name":"Robert"},"score":0,"creation_date":1656287145,"post_id":72765537,"comment_id":128527902,"body_markdown":"getExternalFilesDir() gave me `/storage/emulated/0/Android/data/com.example.planner/files` as the root directory of what is available to my app, but when I go into the emulator file browser, it says that I cannot view the contents of the data directory in `/storage/emulated/0/Android/` because permission is denied. Is there any other way for me to upload a file to the emulator from my computer then read it in the app?","body":"getExternalFilesDir() gave me <code>&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.example.planner&#47;files</code> as the root directory of what is available to my app, but when I go into the emulator file browser, it says that I cannot view the contents of the data directory in <code>&#47;storage&#47;emulated&#47;0&#47;Android&#47;</code> because permission is denied. Is there any other way for me to upload a file to the emulator from my computer then read it in the app?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1656296109,"post_id":72765537,"comment_id":128528877,"body_markdown":"The file browser has no access to your apps private storage location as it is another app. But your app has.","body":"The file browser has no access to your apps private storage location as it is another app. But your app has."},{"owner":{"account_id":23151411,"reputation":27,"user_id":17253357,"display_name":"Robert"},"score":0,"creation_date":1656303092,"post_id":72765537,"comment_id":128529678,"body_markdown":"Sorry to (kind of) ask the same thing twice, but is there any way to upload a file from computer and have the phone be able to read it in my app? In my development environment this would be uploading it through the file browser in Android Studio to the emulator. Using a physical device, one would upload it via USB.","body":"Sorry to (kind of) ask the same thing twice, but is there any way to upload a file from computer and have the phone be able to read it in my app? In my development environment this would be uploading it through the file browser in Android Studio to the emulator. Using a physical device, one would upload it via USB."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1656329418,"post_id":72765537,"comment_id":128537107,"body_markdown":"I do not use the emulator much beyond running automated tests. On hardware, you have access to the cited directory using USB. Or, if you only need read access, the user could create a directory off of the root of what the Android SDK refers to as &quot;external storage&quot; (`/storage/emulated/0/` in your example above) and put the file in there.","body":"I do not use the emulator much beyond running automated tests. On hardware, you have access to the cited directory using USB. Or, if you only need read access, the user could create a directory off of the root of what the Android SDK refers to as &quot;external storage&quot; (<code>&#47;storage&#47;emulated&#47;0&#47;</code> in your example above) and put the file in there."}],"owner":{"account_id":23151411,"reputation":27,"user_id":17253357,"display_name":"Robert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656282039,"creation_date":1656282039,"question_id":72765537,"body_markdown":"I am trying to read an Excel file in the documents folder (/storage/emulated/0/Documents/). I have gotten the Apache POI library included in my project, and it builds and runs.\r\nUpon opening the relevant activity, I run `ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1001);`.\r\nthe `public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)` function is called properly, and it contains `super.onRequestPermissionsResult(requestCode, permissions, grantResults);` After calling that first function, I try to run the following line of code: `InputStream inp = new FileInputStream(Environment.getExternalStorageDirectory() + &quot;/&quot; + Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;todo.xlsx&quot;);` For some reason, this error: \r\n`open failed: EACCES (Permission denied)` is displayed before it tells me that the permission is granted, which is a Log.d statement after `super.onRequestPermissionsResult`, but before my attempt to access the file with POI.\r\nI have the appropriate `&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;` line in AndroidManifest.xml.\r\n","title":"Android Filesystem Permissions and POI","body":"<p>I am trying to read an Excel file in the documents folder (/storage/emulated/0/Documents/). I have gotten the Apache POI library included in my project, and it builds and runs.\nUpon opening the relevant activity, I run <code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1001);</code>.\nthe <code>public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)</code> function is called properly, and it contains <code>super.onRequestPermissionsResult(requestCode, permissions, grantResults);</code> After calling that first function, I try to run the following line of code: <code>InputStream inp = new FileInputStream(Environment.getExternalStorageDirectory() + &quot;/&quot; + Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;todo.xlsx&quot;);</code> For some reason, this error:\n<code>open failed: EACCES (Permission denied)</code> is displayed before it tells me that the permission is granted, which is a Log.d statement after <code>super.onRequestPermissionsResult</code>, but before my attempt to access the file with POI.\nI have the appropriate <code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;</code> line in AndroidManifest.xml.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1656281613,"post_id":72763833,"comment_id":128527269,"body_markdown":"Please edit your question to include the exact error message and stack trace you, which you can find in the logcat output.","body":"Please edit your question to include the exact error message and stack trace you, which you can find in the logcat output."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1656316451,"post_id":72763833,"comment_id":128532607,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1656328341,"post_id":72763833,"comment_id":128536710,"body_markdown":"@AlexMamo the problem has been solved by writing the code in OnBindViewHolder","body":"@AlexMamo the problem has been solved by writing the code in OnBindViewHolder"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656281573,"creation_date":1656264804,"question_id":72763833,"body_markdown":"I have a recycler view that is being populated by firebase database. On the item.xml I have a button alongside data. On clicking the button on each item, I want to save supplier name in my database. Get error: nullpointer exception as my class Suppliers remains null. What is causing it?\r\n\r\nCode\r\n\r\n    public class recyclerAdapter extends RecyclerView.Adapter&lt;recyclerAdapter.MyViewHolder&gt; {\r\n        Context context;\r\n    \r\n        ArrayList&lt;supplierClass&gt; list;\r\n    \r\n    \r\n        public recyclerAdapter(Context context, ArrayList&lt;supplierClass&gt; list) {\r\n            this.context = context;\r\n            this.list = list;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n            return  new MyViewHolder(v);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n    \r\n            supplierClass sc = list.get(position);\r\n            holder.sName.setText(sc.getsName());\r\n            holder.materialName.setText(sc.getMaterialName());\r\n            holder.CATEGORY.setText(sc.getCATEGORY());\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            TextView sName,materialName,CATEGORY;\r\n            Button btnSelect;\r\n            DatabaseReference ref;\r\n            FirebaseUser user= FirebaseAuth.getInstance().getCurrentUser();\r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                sName = itemView.findViewById(R.id.lblSupplierName);\r\n                materialName = itemView.findViewById(R.id.lblMaterial);\r\n                CATEGORY = itemView.findViewById(R.id.lblLocation);\r\n                btnSelect=itemView.findViewById(R.id.btnSelect);\r\n                supplierClass sc=new supplierClass();\r\n                String id=user.getUid();\r\n                btnSelect.setOnClickListener(v -&gt; {\r\n                   \r\n                    ref= FirebaseDatabase.getInstance().getReference(&quot;dashboard&quot;);\r\n                    ref.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            ref.child(id).setValue(sc.getsName());\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                });\r\n    \r\n            }\r\n        }\r\n\r\n","title":"write to Firebaseon recycler adapter","body":"<p>I have a recycler view that is being populated by firebase database. On the item.xml I have a button alongside data. On clicking the button on each item, I want to save supplier name in my database. Get error: nullpointer exception as my class Suppliers remains null. What is causing it?</p>\n<p>Code</p>\n<pre><code>public class recyclerAdapter extends RecyclerView.Adapter&lt;recyclerAdapter.MyViewHolder&gt; {\n    Context context;\n\n    ArrayList&lt;supplierClass&gt; list;\n\n\n    public recyclerAdapter(Context context, ArrayList&lt;supplierClass&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return  new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n        supplierClass sc = list.get(position);\n        holder.sName.setText(sc.getsName());\n        holder.materialName.setText(sc.getMaterialName());\n        holder.CATEGORY.setText(sc.getCATEGORY());\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView sName,materialName,CATEGORY;\n        Button btnSelect;\n        DatabaseReference ref;\n        FirebaseUser user= FirebaseAuth.getInstance().getCurrentUser();\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            sName = itemView.findViewById(R.id.lblSupplierName);\n            materialName = itemView.findViewById(R.id.lblMaterial);\n            CATEGORY = itemView.findViewById(R.id.lblLocation);\n            btnSelect=itemView.findViewById(R.id.btnSelect);\n            supplierClass sc=new supplierClass();\n            String id=user.getUid();\n            btnSelect.setOnClickListener(v -&gt; {\n               \n                ref= FirebaseDatabase.getInstance().getReference(&quot;dashboard&quot;);\n                ref.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        ref.child(id).setValue(sc.getsName());\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n\n            });\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1656280692,"post_id":72765399,"comment_id":128527126,"body_markdown":"Why not simply mask everything but the circular disk?","body":"Why not simply mask everything but the circular disk?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1656300805,"post_id":72765399,"comment_id":128529382,"body_markdown":"There is always the option to use an image that uses solid color in one area but transparent pixels around that, like some of the images seen [here](https://stackoverflow.com/a/19209651/418556). The first two groups of images (geometric shapes and chess pieces) both use this technique. If the images will only ever be used like this and are supplied with the program, it makes sense to do this once only.","body":"There is always the option to use an image that uses solid color in one area but transparent pixels around that, like some of the images seen <a href=\"https://stackoverflow.com/a/19209651/418556\">here</a>. The first two groups of images (geometric shapes and chess pieces) both use this technique. If the images will only ever be used like this and are supplied with the program, it makes sense to do this once only."}],"owner":{"account_id":25389812,"reputation":1,"user_id":19422072,"display_name":"Alan Tao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656280777,"answer_count":0,"score":0,"last_activity_date":1656280456,"creation_date":1656280423,"question_id":72765399,"body_markdown":"Currently, the closest drawImage() has the following signature:\r\n``` java\r\npublic abstract boolean drawImage(java.awt.Image img, int dx1,int dy1, int dx2, int dy2, int sx1, int sy1, int sx2, int sy2, java.awt.image.ImageObserver observe);\r\n```\r\nThis method draws a rectangular subset of an image onto a Graphics context. However, I want to only draw a circular section of an image. How do I do this?\r\n\r\nThanks","title":"Is there a drawImage() function that draws a circular subset of an image onto the screen?","body":"<p>Currently, the closest drawImage() has the following signature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract boolean drawImage(java.awt.Image img, int dx1,int dy1, int dx2, int dy2, int sx1, int sy1, int sx2, int sy2, java.awt.image.ImageObserver observe);\n</code></pre>\n<p>This method draws a rectangular subset of an image onto a Graphics context. However, I want to only draw a circular section of an image. How do I do this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","date","spring-data-jpa"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1656258639,"post_id":72762862,"comment_id":128522798,"body_markdown":"I assume you are asking about mapping the fields in the CSV to the fields of database table.","body":"I assume you are asking about mapping the fields in the CSV to the fields of database table."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1656260705,"post_id":72762862,"comment_id":128523268,"body_markdown":"Yes, I referred Entity in my Spring Data JPA. ANy idea?","body":"Yes, I referred Entity in my Spring Data JPA. ANy idea?"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1656280103,"post_id":72762862,"comment_id":128527026,"body_markdown":"@ChengThao Chico? Are you there?","body":"@ChengThao Chico? Are you there?"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656261901,"creation_date":1656261901,"answer_id":72763443,"question_id":72762862,"body_markdown":"&gt; _1. Should I use String for the choice field as it may be null (empty string) in the csv file?_\r\n\r\nYou could parse the csv value as `String`, and use `Integer.parseInt()` before writing to the database (so that you write either a valid number, or `null` when the csv value isn&#39;t parseable).\r\n\r\n&gt; _2. Should I make the reference field PK or even if it is unique, I think it is better to use a Long id field and add @Column(unique = true) for the reference field. Is that right?_\r\n\r\nThere are a number of considerations for how to choose a primary key, whether uniqueness makes sense, how to handle duplicates for the unique value (fail the new addition? add a related row? update existing row, overwriting existing values?). You could make an entire post about this question.\r\n\r\n&gt; _3. For the startDate field, I think I should use LocalDate, instead of Date as it is deprecated. Is that true?_\r\n\r\nSure, [`java.time.LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) would be a good choice.\r\n\r\nA bit pedantic, but: various _methods_ on [`java.util.Date()`](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html) have been deprecated, but `Date` itself is not deprecated. In general though, there are better choices available in the `java.time` package (like `LocalDate`).\r\n\r\n","title":"Should I use String or int for nullable numeric values?","body":"<blockquote>\n<p><em>1. Should I use String for the choice field as it may be null (empty string) in the csv file?</em></p>\n</blockquote>\n<p>You could parse the csv value as <code>String</code>, and use <code>Integer.parseInt()</code> before writing to the database (so that you write either a valid number, or <code>null</code> when the csv value isn't parseable).</p>\n<blockquote>\n<p><em>2. Should I make the reference field PK or even if it is unique, I think it is better to use a Long id field and add @Column(unique = true) for the reference field. Is that right?</em></p>\n</blockquote>\n<p>There are a number of considerations for how to choose a primary key, whether uniqueness makes sense, how to handle duplicates for the unique value (fail the new addition? add a related row? update existing row, overwriting existing values?). You could make an entire post about this question.</p>\n<blockquote>\n<p><em>3. For the startDate field, I think I should use LocalDate, instead of Date as it is deprecated. Is that true?</em></p>\n</blockquote>\n<p>Sure, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> would be a good choice.</p>\n<p>A bit pedantic, but: various <em>methods</em> on <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date()</code></a> have been deprecated, but <code>Date</code> itself is not deprecated. In general though, there are better choices available in the <code>java.time</code> package (like <code>LocalDate</code>).</p>\n"}],"owner":{"display_name":"user19254373"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72763443,"answer_count":1,"score":-1,"last_activity_date":1656280158,"creation_date":1656257197,"question_id":72762862,"body_markdown":"I am trying to read a csv file having these fields and values:\r\n\r\n```\r\n// &quot;reference&quot;         &quot;choice&quot;,    &quot;startDate&quot;\r\n// &quot;123&quot;,              &quot;3&quot;,         &quot;06.03.1987&quot;\r\n// &quot;Set 1&quot;,            &quot;1&quot;,         &quot;11.06.1999&quot;\r\n// &quot;Set 2&quot;,            &quot;2&quot;,         &quot;05.07.2002&quot;\r\n// &quot;Set 3&quot;,            &quot;&quot;,          &quot;05.07.2002&quot;\r\n```\r\n\r\nThe `reference` field is unique and the `choice` field may be null. In this scene, for my Entity definition:\r\n\r\n**1.** Should I use `String` for the `choice` field as it may be null (empty string) in the csv file? \r\n\r\n**2.** Should I make the `reference` field PK or even if it is unique, I think it is better to use a `Long` id field and add `@Column(unique = true)` for the `reference` field. Is that right?\r\n\r\n**3.** For the `startDate` field, I think I should use `LocalDate`, instead of `Date` as it is deprecated. Is that true? \r\n\r\n","title":"Should I use String or int for nullable numeric values?","body":"<p>I am trying to read a csv file having these fields and values:</p>\n<pre><code>// &quot;reference&quot;         &quot;choice&quot;,    &quot;startDate&quot;\n// &quot;123&quot;,              &quot;3&quot;,         &quot;06.03.1987&quot;\n// &quot;Set 1&quot;,            &quot;1&quot;,         &quot;11.06.1999&quot;\n// &quot;Set 2&quot;,            &quot;2&quot;,         &quot;05.07.2002&quot;\n// &quot;Set 3&quot;,            &quot;&quot;,          &quot;05.07.2002&quot;\n</code></pre>\n<p>The <code>reference</code> field is unique and the <code>choice</code> field may be null. In this scene, for my Entity definition:</p>\n<p><strong>1.</strong> Should I use <code>String</code> for the <code>choice</code> field as it may be null (empty string) in the csv file?</p>\n<p><strong>2.</strong> Should I make the <code>reference</code> field PK or even if it is unique, I think it is better to use a <code>Long</code> id field and add <code>@Column(unique = true)</code> for the <code>reference</code> field. Is that right?</p>\n<p><strong>3.</strong> For the <code>startDate</code> field, I think I should use <code>LocalDate</code>, instead of <code>Date</code> as it is deprecated. Is that true?</p>\n"},{"tags":["java","string","character"],"comments":[{"owner":{"account_id":3599827,"reputation":13913,"user_id":3003365,"display_name":"kaylum"},"score":2,"creation_date":1656279660,"post_id":72765322,"comment_id":128526965,"body_markdown":"Please do not tag spam. Tag only the language that the code is written in.","body":"Please do not tag spam. Tag only the language that the code is written in."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1656279748,"post_id":72765322,"comment_id":128526976,"body_markdown":"Why would you tag this with c and c++?","body":"Why would you tag this with c and c++?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1656279878,"post_id":72765322,"comment_id":128526990,"body_markdown":"`in.next()` is going to tokenize on whitespace. Use `in.nextLine()` instead.","body":"<code>in.next()</code> is going to tokenize on whitespace. Use <code>in.nextLine()</code> instead."},{"owner":{"account_id":25479879,"reputation":1,"user_id":19276425,"display_name":"Wesam Alboishe"},"score":0,"creation_date":1656280045,"post_id":72765322,"comment_id":128527012,"body_markdown":"Sorry, I was thinking it maybe c, cpp and java have the same issue","body":"Sorry, I was thinking it maybe c, cpp and java have the same issue"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656281649,"post_id":72765322,"comment_id":128527276,"body_markdown":"By the way, `charAt` is legacy, and yields surprising results when used with characters outside the [Basic Multilingual Plane](https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane). Learn to use code point integers instead.","body":"By the way, <code>charAt</code> is legacy, and yields surprising results when used with characters outside the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\">Basic Multilingual Plane</a>. Learn to use code point integers instead."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656279936,"creation_date":1656279936,"answer_id":72765355,"question_id":72765322,"body_markdown":"`text.charAt(i) == &#39; &#39;` will not be true since you use `Scanner`&#39;s `next` method and thus your `text` variable will not contain a space.\r\n\r\nBy default a `Scanner`&#39;s delimeter is whitespace, so your call of\r\n\r\n    String text = in.next();\r\n\r\nwill cause `text` to only contain data up until the first space of your input. You can verify this using a `System.out.println(text)`.\r\n\r\nUse `String text = in.nextLine();` instead.","title":"How can I check if the character equal space?","body":"<p><code>text.charAt(i) == ' '</code> will not be true since you use <code>Scanner</code>'s <code>next</code> method and thus your <code>text</code> variable will not contain a space.</p>\n<p>By default a <code>Scanner</code>'s delimeter is whitespace, so your call of</p>\n<pre><code>String text = in.next();\n</code></pre>\n<p>will cause <code>text</code> to only contain data up until the first space of your input. You can verify this using a <code>System.out.println(text)</code>.</p>\n<p>Use <code>String text = in.nextLine();</code> instead.</p>\n"}],"owner":{"account_id":25479879,"reputation":1,"user_id":19276425,"display_name":"Wesam Alboishe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72765355,"answer_count":1,"score":-3,"last_activity_date":1656279936,"creation_date":1656279628,"question_id":72765322,"body_markdown":"I need to check if the array of character [i] equal space or not\r\n\r\n**Please look at the code:**\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\tpublic static void main(String[] args) {\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;\\tplease enter text&quot;);\r\n\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\tString text = in.next();\r\n\r\n\t\tfor(int i =0;i&lt;text.length();i++)\r\n\t\t{\r\n\t\t\tif(text.charAt(i) == &#39;a&#39;) // case a\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;it is  &gt; a&quot;);\r\n\t\t\t}\r\n\t\t\telse if(text.charAt(i) == &#39; &#39;) // case space\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;it is a  &gt; space&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}// main\r\n}\r\n\r\nWhene (text.charAt(i) == &#39; &#39;) TRUE\r\nIt doesn&#39;t do the statement\r\n","title":"How can I check if the character equal space?","body":"<p>I need to check if the array of character [i] equal space or not</p>\n<p><strong>Please look at the code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\npublic static void main(String[] args) {\n\n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;\\tplease enter text&quot;);\n    System.out.print(&quot;\\t&quot;);\n    String text = in.next();\n\n    for(int i =0;i&lt;text.length();i++)\n    {\n        if(text.charAt(i) == 'a') // case a\n        {\n            System.out.println(&quot;it is  &gt; a&quot;);\n        }\n        else if(text.charAt(i) == ' ') // case space\n        {\n            System.out.println(&quot;it is a  &gt; space&quot;);\n        }\n    }\n    \n    \n}// main\n</code></pre>\n<p>}</p>\n<p>Whene (text.charAt(i) == ' ') TRUE\nIt doesn't do the statement</p>\n"},{"tags":["java","github"],"answers":[{"tags":[],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656278934,"creation_date":1656278934,"answer_id":72765256,"question_id":72762613,"body_markdown":"Finally figured out the issue, it was twofold:\r\n\r\n1) When adding stuff to the treeBuilder the path isn&#39;t the path to the file on your disk but the path that it should be in the github repository\r\n\r\n2) You need to call on the updateTo(commitSHA) for it to register correctly on Gitub","title":"hub4j github-api - Set/Get Local repository root?","body":"<p>Finally figured out the issue, it was twofold:</p>\n<ol>\n<li><p>When adding stuff to the treeBuilder the path isn't the path to the file on your disk but the path that it should be in the github repository</p>\n</li>\n<li><p>You need to call on the updateTo(commitSHA) for it to register correctly on Gitub</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656278934,"creation_date":1656255106,"question_id":72762613,"body_markdown":"Where exactly is the root set when you fetch a repo through hub4j&#39;s github-api? I found [this](https://stackoverflow.com/a/56295800/1959534) example that detailed how you could add files from local however I&#39;m not able to get it working, guessing it&#39;s because the root is located somewhere else compared to the test file I&#39;m trying to upload. So my question, how can I see/set the local root when creating/fetching repositories?","title":"hub4j github-api - Set/Get Local repository root?","body":"<p>Where exactly is the root set when you fetch a repo through hub4j's github-api? I found <a href=\"https://stackoverflow.com/a/56295800/1959534\">this</a> example that detailed how you could add files from local however I'm not able to get it working, guessing it's because the root is located somewhere else compared to the test file I'm trying to upload. So my question, how can I see/set the local root when creating/fetching repositories?</p>\n"},{"tags":["java","javafx","audioclip"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656302854,"post_id":72765038,"comment_id":128529658,"body_markdown":"Consider making your code [modular](https://www.oracle.com/corporate/features/understanding-java-9-modules.html).","body":"Consider making your code <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">modular</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656278745,"creation_date":1656278745,"answer_id":72765235,"question_id":72765038,"body_markdown":"In your project, create a `resources` folder and add the `OWMusic.mp3` file inside. If this does not work, ensure the folder is added to your project&#39;s classpath. This last step depends more on your build system (ant/maven/gradle) and less the concise IDE you are using.\r\n\r\nSee also https://stackoverflow.com/questions/27934796/how-do-i-add-a-resources-folder-to-my-java-project-in-eclipse","title":"How can i import a .mp3 file into Eclipse used for an audioClip in JavaFX","body":"<p>In your project, create a <code>resources</code> folder and add the <code>OWMusic.mp3</code> file inside. If this does not work, ensure the folder is added to your project's classpath. This last step depends more on your build system (ant/maven/gradle) and less the concise IDE you are using.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/27934796/how-do-i-add-a-resources-folder-to-my-java-project-in-eclipse\">How do I add a resources folder to my Java project in Eclipse</a></p>\n"}],"owner":{"account_id":25655318,"reputation":9,"user_id":19421849,"display_name":"niMtAndoX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1656315771,"answer_count":1,"score":0,"last_activity_date":1656278745,"creation_date":1656276612,"question_id":72765038,"body_markdown":"I want to add an AudioClip to my Game. I used Java and JavaFX and wrote my Code in Eclipse. \r\nThe error that shows up is \r\n&gt;java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5e355576) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5e355576&gt;\r\n\r\nThis is the code where i tried to initiliaze my AudioCLip\r\n\r\n```public AudioClip OWMusic = new AudioClip(getClass().getResource(&quot;/OWMusic.mp3&quot;).toExternalForm());```\r\n","title":"How can i import a .mp3 file into Eclipse used for an audioClip in JavaFX","body":"<p>I want to add an AudioClip to my Game. I used Java and JavaFX and wrote my Code in Eclipse.\nThe error that shows up is</p>\n<blockquote>\n<p>java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5e355576) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5e355576&gt;</p>\n</blockquote>\n<p>This is the code where i tried to initiliaze my AudioCLip</p>\n<p><code>public AudioClip OWMusic = new AudioClip(getClass().getResource(&quot;/OWMusic.mp3&quot;).toExternalForm());</code></p>\n"},{"tags":["javascript","java","android-studio","webview"],"answers":[{"tags":[],"owner":{"account_id":25623399,"reputation":19,"user_id":19394897,"display_name":"Dewald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656278267,"creation_date":1655987671,"answer_id":72730254,"question_id":72729598,"body_markdown":"I figured it out after a lot of trial and error. I needed to add webSettings.setDomStorageEnabled(true);","title":"Javascript file not loading in android webview. Loads on mobile browser and desktop browser","body":"<p>I figured it out after a lot of trial and error. I needed to add webSettings.setDomStorageEnabled(true);</p>\n"}],"owner":{"account_id":25623399,"reputation":19,"user_id":19394897,"display_name":"Dewald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656278322,"creation_date":1655984651,"question_id":72729598,"body_markdown":"As the title says, the Javascript of a certain page is not being executed. It does work on desktop and the mobile browser but not in the webview. As far as I understand I have enabled javascript.\r\n\r\n**Code**\r\n\r\n    package com.example.eduquiz;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity; \r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mywebView=(WebView) findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient());\r\n            mywebView.loadUrl(&quot;https://eduquizitmda.000webhostapp.com/&quot;);\r\n            WebSettings webSettings=mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            \r\n        }\r\n    \r\n        public class mywebClient extends WebViewClient{\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon){\r\n                super.onPageStarted(view,url,favicon);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view,String url){\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n        @Override\r\n        public void onBackPressed(){\r\n            if(mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            }\r\n            else{\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n    }","title":"Javascript file not loading in android webview. Loads on mobile browser and desktop browser","body":"<p>As the title says, the Javascript of a certain page is not being executed. It does work on desktop and the mobile browser but not in the webview. As far as I understand I have enabled javascript.</p>\n<p><strong>Code</strong></p>\n<pre><code>package com.example.eduquiz;\n\nimport androidx.appcompat.app.AppCompatActivity; \nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mywebView=(WebView) findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient());\n        mywebView.loadUrl(&quot;https://eduquizitmda.000webhostapp.com/&quot;);\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        \n    }\n\n    public class mywebClient extends WebViewClient{\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed(){\n        if(mywebView.canGoBack()) {\n            mywebView.goBack();\n        }\n        else{\n            super.onBackPressed();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","docker","macos","gradle"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656217464,"post_id":72758047,"comment_id":128515697,"body_markdown":"would you mind providing full output from exec.sh? BTW, I do believe those code samples won&#39;t work in docker env: master branch uses spring boot 2.7.0 which is not compatible with gradle 6.5","body":"would you mind providing full output from exec.sh? BTW, I do believe those code samples won&#39;t work in docker env: master branch uses spring boot 2.7.0 which is not compatible with gradle 6.5"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1656238624,"post_id":72758047,"comment_id":128518533,"body_markdown":"If this is in a Docker context, the Docker image has its own Java installation and its own environment; it sees neither the JDK on your host nor the `$JAVA_HOME` environment variable you have set.  Do you have the image&#39;s Dockerfile, or any other source code required to demonstrate the issue?","body":"If this is in a Docker context, the Docker image has its own Java installation and its own environment; it sees neither the JDK on your host nor the <code>$JAVA_HOME</code> environment variable you have set.  Do you have the image&#39;s Dockerfile, or any other source code required to demonstrate the issue?"},{"owner":{"account_id":4108391,"reputation":77,"user_id":3371683,"display_name":"Aphorism44"},"score":0,"creation_date":1656276888,"post_id":72758047,"comment_id":128526506,"body_markdown":"@AndreyB.Panfilov I updated as requested. One thing - I did update the Dockerfile to the below to try and version it correctly:\n\nFROM gradle:7.4.2-jdk11","body":"@AndreyB.Panfilov I updated as requested. One thing - I did update the Dockerfile to the below to try and version it correctly:  FROM gradle:7.4.2-jdk11"}],"owner":{"account_id":4108391,"reputation":77,"user_id":3371683,"display_name":"Aphorism44"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656276767,"creation_date":1656201346,"question_id":72758047,"body_markdown":"The Gradle project I&#39;m trying to build is from [this example on GitHub.][1] (per the README, I&#39;m running the exec.sh script).\r\n\r\nI am trying to build a Gradle Docker image on my MacBook Pro (Big Sur v 11.6.6), but as many other SO entries mentioned, I keep getting this common error:\r\n\r\n    &gt; #7 0.301 ERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\r\n    &gt; #7 0.301 \r\n    &gt; #7 0.301 Please set the JAVA_HOME variable in your environment to match the\r\n    &gt; #7 0.301 location of your Java installation.\r\n\r\nHowever, I&#39;ve set JAVA_HOME to an entirely different value, and when I echo it on my terminal, I get that correct value:\r\n\r\n    echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\r\n\r\nAnd\r\n\r\n    /usr/libexec/java_home       \r\n    /Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\r\n\r\nI&#39;ve gone through all the SO entries on this, and the solution is usually to set the JAVA_HOME variable to the correct value. However, in this case, I&#39;ve successfully set that variable.\r\n\r\nMy shell is:\r\n\r\n    echo $SHELL\r\n    /bin/zsh\r\n\r\nSo I added JAVA_HOME to .zshrc as well.\r\n\r\nWhy, then, does Gradle keep telling me I&#39;m using a different value? I&#39;ve been Googling this error all today, and have not found this precise situation.\r\n\r\nNOTE: I did read https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set, but that&#39;s for Ubuntu, and the suggested fixes didn&#39;t work.\r\n\r\nI also added a &quot;gradle.properties&quot; to the root of my project and added the following line, but that didn&#39;t help either:\r\n\r\n    org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\r\n\r\nThe output I get from running &quot;exec.sh&quot; is:\r\n\r\n    sh exec.sh\r\n    [+] Building 1.0s (8/8) FINISHED                                                \r\n     =&gt; [internal] load build definition from Dockerfile                       0.0s\r\n     =&gt; =&gt; transferring dockerfile: 119B                                       0.0s\r\n     =&gt; [internal] load .dockerignore                                          0.0s\r\n     =&gt; =&gt; transferring context: 117B                                          0.0s\r\n     =&gt; [internal] load metadata for docker.io/library/gradle:7.4.2-jdk11      0.6s\r\n     =&gt; [1/4] FROM docker.io/library/gradle:7.4.2-jdk11@sha256:66e99844e0687a  0.0s\r\n     =&gt; [internal] load build context                                          0.0s\r\n     =&gt; =&gt; transferring context: 14.03kB                                       0.0s\r\n     =&gt; CACHED [2/4] WORKDIR /tmp                                              0.0s\r\n     =&gt; CACHED [3/4] ADD . /tmp                                                0.0s\r\n     =&gt; ERROR [4/4] RUN gradle build                                           0.3s\r\n    ------\r\n     &gt; [4/4] RUN gradle build:\r\n    #8 0.286 \r\n    #8 0.286 ERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\r\n    #8 0.286 \r\n    #8 0.286 Please set the JAVA_HOME variable in your environment to match the\r\n    #8 0.286 location of your Java installation.\r\n    #8 0.286 \r\n    ------\r\n    executor failed running [/bin/sh -c gradle build]: exit code: 1\r\n    Unable to find image &#39;auth0/[IMAGENAME]:latest&#39; locally\r\n    docker: Error response from daemon: pull access denied for auth0/[IMAGENAME], repository does not exist or may require &#39;docker login&#39;: denied: requested access to the resource is denied.\r\n    See &#39;docker run --help&#39;.\r\n\r\nI can also confirm that I can run the app *outside* of Docker, so that is where I&#39;m making a mistake.\r\n\r\n\r\n  [1]: https://github.com/auth0-samples/auth0-spring-boot-login-samples/tree/master/mvc-login","title":"Gradle is showing different JAVA_HOME version that I set","body":"<p>The Gradle project I'm trying to build is from <a href=\"https://github.com/auth0-samples/auth0-spring-boot-login-samples/tree/master/mvc-login\" rel=\"nofollow noreferrer\">this example on GitHub.</a> (per the README, I'm running the exec.sh script).</p>\n<p>I am trying to build a Gradle Docker image on my MacBook Pro (Big Sur v 11.6.6), but as many other SO entries mentioned, I keep getting this common error:</p>\n<pre><code>&gt; #7 0.301 ERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\n&gt; #7 0.301 \n&gt; #7 0.301 Please set the JAVA_HOME variable in your environment to match the\n&gt; #7 0.301 location of your Java installation.\n</code></pre>\n<p>However, I've set JAVA_HOME to an entirely different value, and when I echo it on my terminal, I get that correct value:</p>\n<pre><code>echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\n</code></pre>\n<p>And</p>\n<pre><code>/usr/libexec/java_home       \n/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\n</code></pre>\n<p>I've gone through all the SO entries on this, and the solution is usually to set the JAVA_HOME variable to the correct value. However, in this case, I've successfully set that variable.</p>\n<p>My shell is:</p>\n<pre><code>echo $SHELL\n/bin/zsh\n</code></pre>\n<p>So I added JAVA_HOME to .zshrc as well.</p>\n<p>Why, then, does Gradle keep telling me I'm using a different value? I've been Googling this error all today, and have not found this precise situation.</p>\n<p>NOTE: I did read <a href=\"https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\">Gradle finds wrong JAVA_HOME even though it&#39;s correctly set</a>, but that's for Ubuntu, and the suggested fixes didn't work.</p>\n<p>I also added a &quot;gradle.properties&quot; to the root of my project and added the following line, but that didn't help either:</p>\n<pre><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-12.0.2.jdk/Contents/Home\n</code></pre>\n<p>The output I get from running &quot;exec.sh&quot; is:</p>\n<pre><code>sh exec.sh\n[+] Building 1.0s (8/8) FINISHED                                                \n =&gt; [internal] load build definition from Dockerfile                       0.0s\n =&gt; =&gt; transferring dockerfile: 119B                                       0.0s\n =&gt; [internal] load .dockerignore                                          0.0s\n =&gt; =&gt; transferring context: 117B                                          0.0s\n =&gt; [internal] load metadata for docker.io/library/gradle:7.4.2-jdk11      0.6s\n =&gt; [1/4] FROM docker.io/library/gradle:7.4.2-jdk11@sha256:66e99844e0687a  0.0s\n =&gt; [internal] load build context                                          0.0s\n =&gt; =&gt; transferring context: 14.03kB                                       0.0s\n =&gt; CACHED [2/4] WORKDIR /tmp                                              0.0s\n =&gt; CACHED [3/4] ADD . /tmp                                                0.0s\n =&gt; ERROR [4/4] RUN gradle build                                           0.3s\n------\n &gt; [4/4] RUN gradle build:\n#8 0.286 \n#8 0.286 ERROR: JAVA_HOME is set to an invalid directory: /opt/java/openjdk\n#8 0.286 \n#8 0.286 Please set the JAVA_HOME variable in your environment to match the\n#8 0.286 location of your Java installation.\n#8 0.286 \n------\nexecutor failed running [/bin/sh -c gradle build]: exit code: 1\nUnable to find image 'auth0/[IMAGENAME]:latest' locally\ndocker: Error response from daemon: pull access denied for auth0/[IMAGENAME], repository does not exist or may require 'docker login': denied: requested access to the resource is denied.\nSee 'docker run --help'.\n</code></pre>\n<p>I can also confirm that I can run the app <em>outside</em> of Docker, so that is where I'm making a mistake.</p>\n"},{"tags":["java","maven","applet"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1656261435,"post_id":72762344,"comment_id":128523434,"body_markdown":"You might be interested in https://openwebstart.com/","body":"You might be interested in <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\">openwebstart.com</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656264400,"post_id":72762344,"comment_id":128524076,"body_markdown":"*I&#39;ve set the java.location.path flag to the path where they&#39;re at.* Never heard of that. What you need is `-Djava.library.path=/where/those/dylib/files/are` *These third-party jars I’m using are signed (base Java jar with Java classes and jars containing OS specific native libraries).* Yes, but that&#39;s no longer relevant. They were signed as their origin was the Web","body":"<i>I&#39;ve set the java.location.path flag to the path where they&#39;re at.</i> Never heard of that. What you need is <code>-Djava.library.path=&#47;where&#47;those&#47;dylib&#47;files&#47;are</code> <i>These third-party jars I’m using are signed (base Java jar with Java classes and jars containing OS specific native libraries).</i> Yes, but that&#39;s no longer relevant. They were signed as their origin was the Web"},{"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"score":0,"creation_date":1656276471,"post_id":72762344,"comment_id":128526443,"body_markdown":"@g00se yup, sorry. My mistake. That&#39;s the flag I set.\n`-Djava.library.path=&quot;/Users/me/java/apps&quot;` is what I&#39;m using. Is that correct?\n\n\nI have another app that uses an SDK as a library located somewhere else and that works just fine. I just can&#39;t figure out why these specific libraries can&#39;t be found.","body":"@g00se yup, sorry. My mistake. That&#39;s the flag I set. <code>-Djava.library.path=&quot;&#47;Users&#47;me&#47;java&#47;apps&quot;</code> is what I&#39;m using. Is that correct?   I have another app that uses an SDK as a library located somewhere else and that works just fine. I just can&#39;t figure out why these specific libraries can&#39;t be found."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656278040,"post_id":72762344,"comment_id":128526701,"body_markdown":"There&#39;s not really enough detail. The path itself might be ok. It could be one of the dependent libraries is missing. Can you please post the full error verbatim","body":"There&#39;s not really enough detail. The path itself might be ok. It could be one of the dependent libraries is missing. Can you please post the full error verbatim"},{"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"score":0,"creation_date":1656279102,"post_id":72762344,"comment_id":128526882,"body_markdown":"`Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native_lib in java.library.path: /Users/me/java/apps\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\n\tat java.base/java.lang.System.loadLibrary(System.java:2015)\n\tat com.me.WebInterface.ConnTest.main(ConnTest.java:9)`","body":"<code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native_lib in java.library.path: &#47;Users&#47;me&#47;java&#47;apps \tat java.base&#47;java.lang.ClassLoader.loadLibrary(ClassLoader.java&zwnj;&#8203;:2434) \tat java.base&#47;java.lang.Runtime.loadLibrary0(Runtime.java:848) \tat java.base&#47;java.lang.System.loadLibrary(System.java:2015) \tat com.me.WebInterface.ConnTest.main(ConnTest.java:9)</code>"},{"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"score":0,"creation_date":1656279270,"post_id":72762344,"comment_id":128526911,"body_markdown":"@g00se: Also, if I use `System.load` with full path to library I get:\n`Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /Users/me/java/apps/libnative_lib.dylib\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\n\tat java.base/java.lang.Runtime.load0(Runtime.java:785)\n\tat java.base/java.lang.System.load(System.java:1979)\n\tat com.me.WebInterface.ConnTest.main(ConnTest.java:9)`","body":"@g00se: Also, if I use <code>System.load</code> with full path to library I get: <code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: &#47;Users&#47;me&#47;java&#47;apps&#47;libnative_lib.dylib \tat java.base&#47;java.lang.ClassLoader.loadLibrary(ClassLoader.java&zwnj;&#8203;:2398) \tat java.base&#47;java.lang.Runtime.load0(Runtime.java:785) \tat java.base&#47;java.lang.System.load(System.java:1979) \tat com.me.WebInterface.ConnTest.main(ConnTest.java:9)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1656280151,"post_id":72762344,"comment_id":128527031,"body_markdown":"I think you might be up against some problems with library types and system architecture and therefore not strictly  Java issues. You might be better also posting in OsX and C/C++","body":"I think you might be up against some problems with library types and system architecture and therefore not strictly  Java issues. You might be better also posting in OsX and C/C++"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1656280218,"post_id":72762344,"comment_id":128527039,"body_markdown":"`java.lang.UnsatisfiedLinkError: Can&#39;t load library: /Users/me/java/apps/libnative_lib.dylib` — And does that file exist?","body":"<code>java.lang.UnsatisfiedLinkError: Can&#39;t load library: &#47;Users&#47;me&#47;java&#47;apps&#47;libnative_lib.dylib</code> — And does that file exist?"},{"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"score":0,"creation_date":1656280553,"post_id":72762344,"comment_id":128527103,"body_markdown":"@VGR yes it does. That’s why I have no idea what might be happening! I never had this issue.","body":"@VGR yes it does. That’s why I have no idea what might be happening! I never had this issue."},{"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"score":0,"creation_date":1656289157,"post_id":72762344,"comment_id":128528053,"body_markdown":"Changing the Java SDK version seemed to do it. Thanks!","body":"Changing the Java SDK version seemed to do it. Thanks!"}],"owner":{"account_id":18306147,"reputation":28,"user_id":13329919,"display_name":"jonasmylesx"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656276292,"creation_date":1656252903,"question_id":72762344,"body_markdown":"This applet was run through javaws. The jnlp file allows me to download the base jar, as well as some native libraries, compacted in separate jars for each OS.\r\nWith java support ending for browsers, I wanted to allow the applet to run as a normal app on the client, but with a web server on top of it.\r\n\r\nSo far, I can call methods on the main/base jar. However, this jar calls `System.loadLibrary` to load such native libraries. However, I always get an UnsatisfiedLinkError.\r\nThe native library jars are dependencies of the project, and I&#39;ve even tried extracting the dylib and dll files from the jars. I&#39;ve set the java.library.path flag to the path where they&#39;re at.\r\n\r\nNonetheless, I still get `java.lang.UnsatisfiedLinkError: no library in java.library.path: /Users/me/java/apps`.\r\nThe web server I&#39;m using is NanoHTTPD.\r\n\r\nCan dependencies access local files? Do I need to give java permission to access the directory? Do I need to name the jars containing these native libraries accordingly?\r\n\r\nI&#39;m on MacOS (the lib files follow the naming convention &quot;lib{{LIBRARY_NAME}}.dylib&quot;).\r\n\r\nThese third-party jars I’m using are signed\r\n(base Java jar with Java classes and jars containing OS specific native libraries).","title":"Java: Using applet JAR as a maven dependency with native libraries","body":"<p>This applet was run through javaws. The jnlp file allows me to download the base jar, as well as some native libraries, compacted in separate jars for each OS.\nWith java support ending for browsers, I wanted to allow the applet to run as a normal app on the client, but with a web server on top of it.</p>\n<p>So far, I can call methods on the main/base jar. However, this jar calls <code>System.loadLibrary</code> to load such native libraries. However, I always get an UnsatisfiedLinkError.\nThe native library jars are dependencies of the project, and I've even tried extracting the dylib and dll files from the jars. I've set the java.library.path flag to the path where they're at.</p>\n<p>Nonetheless, I still get <code>java.lang.UnsatisfiedLinkError: no library in java.library.path: /Users/me/java/apps</code>.\nThe web server I'm using is NanoHTTPD.</p>\n<p>Can dependencies access local files? Do I need to give java permission to access the directory? Do I need to name the jars containing these native libraries accordingly?</p>\n<p>I'm on MacOS (the lib files follow the naming convention &quot;lib{{LIBRARY_NAME}}.dylib&quot;).</p>\n<p>These third-party jars I’m using are signed\n(base Java jar with Java classes and jars containing OS specific native libraries).</p>\n"},{"tags":["java","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656269985,"post_id":72764296,"comment_id":128525201,"body_markdown":"You create a `ConstraintValidator` implementation as part of a custom constraint annotation.","body":"You create a <code>ConstraintValidator</code> implementation as part of a custom constraint annotation."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1656270570,"post_id":72764296,"comment_id":128525319,"body_markdown":"Are you asking the more fundamental question as to [why Java has interfaces](https://stackoverflow.com/q/3528420/12567365) in the first place? (If so, I would say its not primarily to &quot;make coding more quick or more efficient&quot;).","body":"Are you asking the more fundamental question as to <a href=\"https://stackoverflow.com/q/3528420/12567365\">why Java has interfaces</a> in the first place? (If so, I would say its not primarily to &quot;make coding more quick or more efficient&quot;)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1656275622,"post_id":72764296,"comment_id":128526316,"body_markdown":"Minor point: If your platform supports it, you may want to use the newer [Jakarta API](https://jakarta.ee/specifications/webprofile/9/apidocs/jakarta/validation/constraintvalidator) instead of the older [javax API](https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html). See [Maven](https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api) - this is used by the latest versions of [Hibernate Validator](https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/7.0.4.Final).","body":"Minor point: If your platform supports it, you may want to use the newer <a href=\"https://jakarta.ee/specifications/webprofile/9/apidocs/jakarta/validation/constraintvalidator\" rel=\"nofollow noreferrer\">Jakarta API</a> instead of the older <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\">javax API</a>. See <a href=\"https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api\" rel=\"nofollow noreferrer\">Maven</a> - this is used by the latest versions of <a href=\"https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/7.0.4.Final\" rel=\"nofollow noreferrer\">Hibernate Validator</a>."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656275910,"creation_date":1656274900,"answer_id":72764880,"question_id":72764296,"body_markdown":"The purpose is to define custom validation-logic for a custom annotation. \r\n\r\n### Purpose of `ConstraintValidator`\r\nIn the given example the `ConstraintValidator` implementation can be used as annotation on your property (assuming `ContactNumberConstraint` is a `public @interface`, defined as annotation for fields):\r\n```\r\n@ContactNumberConstraint\r\nString contactField;\r\n```\r\nAs such shorthand it combines several validations like otherwise have to be listed separately:\r\n```\r\n@NotNull  // contactField != null\r\n@Pattern(regexp=&quot;[0-9]+&quot; )  // contactField.matches(&quot;[0-9]+&quot;)\r\n@Length(min=9, max=13)  // (contactField.length() &gt; 8) &amp;&amp; (contactField.length() &lt; 14)\r\nString contactField;\r\n```\r\n\r\nHere the implemented `ConstraintValidator` is used to validate the property, for example if used as parameter (in a REST-controller, or any other validated method).\r\n\r\n### How does it make coding more quick or more efficient?\r\nWith this pair of annotation and validator you can simply declare a rather complex validation at any field or class by just annotating the field - by **adding one line**. Spring would care about initiating the validation. It executes the logic defined in validator and handles errors.\r\n\r\nThis predefined validation component as pair of annotation-interface and validator can be reused easily at many places (reduce code duplication), it can be composed and allows giving complex validations a name (using an expressive annotation name). Through its declarative way (annotation) it is loosely coupled.\r\n\r\nMore on benefits of [Java Bean Validation][1] (JSR 303, 380)\r\n\r\n### See also\r\n\r\n* [Validation in Java Applications - DZone Java](https://dzone.com/articles/validation-in-java-applications)\r\n* [Java Bean Validation Basics | Baeldung](https://www.baeldung.com/javax-validation)\r\n\r\n\r\n  [1]: https://beanvalidation.org/","title":"Java ConstraintValidator Purpose","body":"<p>The purpose is to define custom validation-logic for a custom annotation.</p>\n<h3>Purpose of <code>ConstraintValidator</code></h3>\n<p>In the given example the <code>ConstraintValidator</code> implementation can be used as annotation on your property (assuming <code>ContactNumberConstraint</code> is a <code>public @interface</code>, defined as annotation for fields):</p>\n<pre><code>@ContactNumberConstraint\nString contactField;\n</code></pre>\n<p>As such shorthand it combines several validations like otherwise have to be listed separately:</p>\n<pre><code>@NotNull  // contactField != null\n@Pattern(regexp=&quot;[0-9]+&quot; )  // contactField.matches(&quot;[0-9]+&quot;)\n@Length(min=9, max=13)  // (contactField.length() &gt; 8) &amp;&amp; (contactField.length() &lt; 14)\nString contactField;\n</code></pre>\n<p>Here the implemented <code>ConstraintValidator</code> is used to validate the property, for example if used as parameter (in a REST-controller, or any other validated method).</p>\n<h3>How does it make coding more quick or more efficient?</h3>\n<p>With this pair of annotation and validator you can simply declare a rather complex validation at any field or class by just annotating the field - by <strong>adding one line</strong>. Spring would care about initiating the validation. It executes the logic defined in validator and handles errors.</p>\n<p>This predefined validation component as pair of annotation-interface and validator can be reused easily at many places (reduce code duplication), it can be composed and allows giving complex validations a name (using an expressive annotation name). Through its declarative way (annotation) it is loosely coupled.</p>\n<p>More on benefits of <a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">Java Bean Validation</a> (JSR 303, 380)</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://dzone.com/articles/validation-in-java-applications\" rel=\"nofollow noreferrer\">Validation in Java Applications - DZone Java</a></li>\n<li><a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">Java Bean Validation Basics | Baeldung</a></li>\n</ul>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72764880,"answer_count":1,"score":2,"last_activity_date":1656276087,"creation_date":1656269114,"question_id":72764296,"body_markdown":"I am trying to understand the purpose of Java&#39;s [`ConstraintValidator`][1] interface. \r\n\r\nIt&#39;s an interface, however how does it make coding more quick or more efficient? Trying to understand benefits of using it with our team.\r\n\r\n\r\nFrom Baeldung&#39;s [Spring MVC Custom Validation](https://www.baeldung.com/spring-mvc-custom-validator):\r\n\r\n&gt; The validation class implements the ConstraintValidator interface, and\r\n&gt; must also implement the isValid method; it&#39;s in this method that we\r\n&gt; defined our validation rules.\r\n&gt; \r\n&gt; Naturally, we&#39;re going with a simple validation rule here in order to\r\n&gt; show how the validator works.\r\n&gt; \r\n&gt; ConstraintValidator defines the logic to validate a given constraint\r\n&gt; for a given object. Implementations must comply with the following\r\n&gt; restrictions:\r\n\r\n\r\n**Code Example:**\r\n\r\n    public class ContactNumberValidator implements \r\n      ConstraintValidator&lt;ContactNumberConstraint, String&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ContactNumberConstraint contactNumber) {\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String contactField,\r\n          ConstraintValidatorContext cxt) {\r\n            return contactField != null &amp;&amp; contactField.matches(&quot;[0-9]+&quot;)\r\n              &amp;&amp; (contactField.length() &gt; 8) &amp;&amp; (contactField.length() &lt; 14);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html","title":"Java ConstraintValidator Purpose","body":"<p>I am trying to understand the purpose of Java's <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\"><code>ConstraintValidator</code></a> interface.</p>\n<p>It's an interface, however how does it make coding more quick or more efficient? Trying to understand benefits of using it with our team.</p>\n<p>From Baeldung's <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">Spring MVC Custom Validation</a>:</p>\n<blockquote>\n<p>The validation class implements the ConstraintValidator interface, and\nmust also implement the isValid method; it's in this method that we\ndefined our validation rules.</p>\n<p>Naturally, we're going with a simple validation rule here in order to\nshow how the validator works.</p>\n<p>ConstraintValidator defines the logic to validate a given constraint\nfor a given object. Implementations must comply with the following\nrestrictions:</p>\n</blockquote>\n<p><strong>Code Example:</strong></p>\n<pre><code>public class ContactNumberValidator implements \n  ConstraintValidator&lt;ContactNumberConstraint, String&gt; {\n\n    @Override\n    public void initialize(ContactNumberConstraint contactNumber) {\n    }\n\n    @Override\n    public boolean isValid(String contactField,\n      ConstraintValidatorContext cxt) {\n        return contactField != null &amp;&amp; contactField.matches(&quot;[0-9]+&quot;)\n          &amp;&amp; (contactField.length() &gt; 8) &amp;&amp; (contactField.length() &lt; 14);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","inputstream"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1656269202,"post_id":72764198,"comment_id":128525032,"body_markdown":"You don&#39;t really need to read all the lines, do you? Just two at a time, and then write them in the opposite order, then the next two, and write again. The only trick is to deal with the odd line and not try to read a line after it.","body":"You don&#39;t really need to read all the lines, do you? Just two at a time, and then write them in the opposite order, then the next two, and write again. The only trick is to deal with the odd line and not try to read a line after it."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1656269532,"post_id":72764198,"comment_id":128525091,"body_markdown":"You could use the `java.nio.file.Files.lines()` method to count file lines in a text file but this would also count blank lines (if there are any).","body":"You could use the <code>java.nio.file.Files.lines()</code> method to count file lines in a text file but this would also count blank lines (if there are any)."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1656270053,"post_id":72764198,"comment_id":128525209,"body_markdown":"You can also use an `ArrayList&lt;String&gt;` or `List&lt;String&gt;` which can grow dynamically. There is no need to get the file lines count. You can easily convert the List to an String[] Array (if you like) once  the file reading is complete: `String[] myStringArray = list.toArray(new String[list.size()]);`.","body":"You can also use an <code>ArrayList&lt;String&gt;</code> or <code>List&lt;String&gt;</code> which can grow dynamically. There is no need to get the file lines count. You can easily convert the List to an String[] Array (if you like) once  the file reading is complete: <code>String[] myStringArray = list.toArray(new String[list.size()]);</code>."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656276040,"creation_date":1656276040,"answer_id":72764986,"question_id":72764198,"body_markdown":"Read first line.\r\nIf there&#39;s more lines to read, read second line and print second line.\r\nPrint first line.\r\nRepeat until there&#39;s no more lines to read.\r\n\r\n```\r\nScanner s = new Scanner(&quot;1\\n2\\n3\\n4\\n5&quot;);\r\nwhile(s.hasNextLine()){\r\n  String first = s.nextLine();\r\n  if (s.hasNextLine())System.out.println(s.nextLine());\r\n  System.out.println(first);\r\n}\r\n```","title":"to scan a file and get the number of lines in the file and also assigning each line to a slot in an array","body":"<p>Read first line.\nIf there's more lines to read, read second line and print second line.\nPrint first line.\nRepeat until there's no more lines to read.</p>\n<pre><code>Scanner s = new Scanner(&quot;1\\n2\\n3\\n4\\n5&quot;);\nwhile(s.hasNextLine()){\n  String first = s.nextLine();\n  if (s.hasNextLine())System.out.println(s.nextLine());\n  System.out.println(first);\n}\n</code></pre>\n"}],"owner":{"account_id":25654717,"reputation":1,"user_id":19421359,"display_name":"Agrim Chhibber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656276040,"creation_date":1656268222,"question_id":72764198,"body_markdown":"    public static void flipLines(Scanner input) {\r\n        int count = 0;\r\n        \r\n        while (input.hasNextLine()) {\r\n            count++;\r\n        }\r\n\r\n        String[] arrayLines = new String[count];;\r\n        while (input.hasNextLine()) {\r\n            for (int i = 0; i &lt; count; i++) {\r\n            arrayLines[i] = input.nextLine();\r\n            }\r\n        }\r\n\r\n        if (count % 2 == 0) {\r\n            for (int i = 0; i &lt; count; i = i + 2) {\r\n                String temp = arrayLines[i];\r\n                arrayLines[i] = arrayLines[i + 1];\r\n                arrayLines[i + 1] = temp;\r\n            }\r\n        }\r\n        else {\r\n            for (int i = 0; i &lt; count - 1; i = i + 2) {\r\n                String temp = arrayLines[i];\r\n                arrayLines[i] = arrayLines[i + 1];\r\n                arrayLines[i + 1] = temp;\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n        for (int i = 0; i &lt; arrayLines.length; i++) {\r\n            System.out.println(arrayLines[i]);\r\n        }\r\n        input.close();\r\n    }\r\n\r\nSo basically in this program I&#39;m supposed to scan an input file and writes to the console the same file’s contents with each pair of lines reversed in order. If the file contains an odd number of lines, leave the last line unmodified.\r\n\r\nIn order to do that I tried to use a while loop to get the count of total number of lines in a file and and then use another while loop to assign each line of the file to a slot in an array which i can later swap and print out. \r\n\r\nBut the thing about using two ```while (input.hasNextLine())``` is that after the first loop the scanner cursor stops at the end of the file and then the program is unable to read any lines. But if I only use one ```while (input.hasNextLine())``` then I can&#39;t get the count of lines and at the same time assign the lines to an array because the array doesn&#39;t have a size determined.\r\n\r\nCan someone please help me around with this?","title":"to scan a file and get the number of lines in the file and also assigning each line to a slot in an array","body":"<pre><code>public static void flipLines(Scanner input) {\n    int count = 0;\n    \n    while (input.hasNextLine()) {\n        count++;\n    }\n\n    String[] arrayLines = new String[count];;\n    while (input.hasNextLine()) {\n        for (int i = 0; i &lt; count; i++) {\n        arrayLines[i] = input.nextLine();\n        }\n    }\n\n    if (count % 2 == 0) {\n        for (int i = 0; i &lt; count; i = i + 2) {\n            String temp = arrayLines[i];\n            arrayLines[i] = arrayLines[i + 1];\n            arrayLines[i + 1] = temp;\n        }\n    }\n    else {\n        for (int i = 0; i &lt; count - 1; i = i + 2) {\n            String temp = arrayLines[i];\n            arrayLines[i] = arrayLines[i + 1];\n            arrayLines[i + 1] = temp;\n        }\n    }\n    System.out.println();\n\n    for (int i = 0; i &lt; arrayLines.length; i++) {\n        System.out.println(arrayLines[i]);\n    }\n    input.close();\n}\n</code></pre>\n<p>So basically in this program I'm supposed to scan an input file and writes to the console the same file’s contents with each pair of lines reversed in order. If the file contains an odd number of lines, leave the last line unmodified.</p>\n<p>In order to do that I tried to use a while loop to get the count of total number of lines in a file and and then use another while loop to assign each line of the file to a slot in an array which i can later swap and print out.</p>\n<p>But the thing about using two <code>while (input.hasNextLine())</code> is that after the first loop the scanner cursor stops at the end of the file and then the program is unable to read any lines. But if I only use one <code>while (input.hasNextLine())</code> then I can't get the count of lines and at the same time assign the lines to an array because the array doesn't have a size determined.</p>\n<p>Can someone please help me around with this?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656275831,"creation_date":1656275831,"answer_id":72764963,"question_id":72764926,"body_markdown":"Add an `ImageView` to the right side of your `ListView` item layout and set it to be visible just after calling `startActivity()`. Or, if this is making the checkmarks visible too soon, you can use `startActivityForResult()`, which will allow you to set the `ImageView`&#39;s visibility only upon returning to `Activity` A. If your `ListView` isn&#39;t using custom item layouts, you&#39;ll need to [learn how to do that](https://javapapers.com/android/android-listview-custom-layout-tutorial/).","title":"Listview display tick icon when open","body":"<p>Add an <code>ImageView</code> to the right side of your <code>ListView</code> item layout and set it to be visible just after calling <code>startActivity()</code>. Or, if this is making the checkmarks visible too soon, you can use <code>startActivityForResult()</code>, which will allow you to set the <code>ImageView</code>'s visibility only upon returning to <code>Activity</code> A. If your <code>ListView</code> isn't using custom item layouts, you'll need to <a href=\"https://javapapers.com/android/android-listview-custom-layout-tutorial/\" rel=\"nofollow noreferrer\">learn how to do that</a>.</p>\n"}],"owner":{"account_id":24682230,"reputation":1,"user_id":18575813,"display_name":"Riio Nazario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656275831,"creation_date":1656275364,"question_id":72764926,"body_markdown":"I assume that I have activity A, activity B, and activity C. in activity A there is a listview that displays the name of activity B and C. how do I display the tick icon on the listview in activity A when I finish opening activity B or activity C like the example image below.\r\n\r\n[example][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HlreA.jpg","title":"Listview display tick icon when open","body":"<p>I assume that I have activity A, activity B, and activity C. in activity A there is a listview that displays the name of activity B and C. how do I display the tick icon on the listview in activity A when I finish opening activity B or activity C like the example image below.</p>\n<p><a href=\"https://i.stack.imgur.com/HlreA.jpg\" rel=\"nofollow noreferrer\">example</a></p>\n"},{"tags":["java","xml","spring","spring-boot","soap"],"comments":[{"owner":{"account_id":1850603,"reputation":912,"user_id":1677222,"display_name":"Mohamed El-Beltagy"},"score":0,"creation_date":1686691111,"post_id":72741201,"comment_id":134833545,"body_markdown":"Thank you @AlexanderBond. Your question actually solved my exact same issue :smile:\nWrapping request and response objects in `jakarta.xml.bind.JAXBElement` was the solution for me. The only difference (and that&#39;s why you&#39;re getting a `null` when you try to get the value), is that Jakarta is only supported by Spring Boot 3.x.","body":"Thank you @AlexanderBond. Your question actually solved my exact same issue :smile: Wrapping request and response objects in <code>jakarta.xml.bind.JAXBElement</code> was the solution for me. The only difference (and that&#39;s why you&#39;re getting a <code>null</code> when you try to get the value), is that Jakarta is only supported by Spring Boot 3.x."}],"answers":[{"tags":[],"owner":{"account_id":17084789,"reputation":27,"user_id":12362368,"display_name":"DimasG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656067896,"creation_date":1656067896,"answer_id":72742977,"question_id":72741201,"body_markdown":"In DefaultWsdl11Definition  as I see targetNameSpace is different to that in xsd.\r\nAnd in ServletRegistrationBean /ws/* should be /webservice/*","title":"Spring Boot SOAP Web Service &quot;No adapter for endpoint&quot; in response","body":"<p>In DefaultWsdl11Definition  as I see targetNameSpace is different to that in xsd.\nAnd in ServletRegistrationBean /ws/* should be /webservice/*</p>\n"},{"tags":[],"owner":{"account_id":25090354,"reputation":53,"user_id":18942064,"display_name":"Alexander Bond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656275416,"creation_date":1656275416,"answer_id":72764928,"question_id":72741201,"body_markdown":"I&#39;ve fixed this issue by downgrading Jaxb2 Maven Plugin to version 2.5.0. Last available version of this plugin (3.1.0) generates classes with jakarta imports, while 2.5.0 generates classes with javax imports.\r\n\r\nIf someone will accidentally step on this question and you know how to fix this with jakarta imports, please let me know.\r\n\r\nFinal pom file for my project looks like this (no JAXBElement needed in the controller):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.demo.spring.webservice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo-spring-webservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo-spring-webservice&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot WebServices&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t&lt;source&gt;${project.basedir}/src/main/resources/xsd&lt;/source&gt;\r\n\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Spring Boot SOAP Web Service &quot;No adapter for endpoint&quot; in response","body":"<p>I've fixed this issue by downgrading Jaxb2 Maven Plugin to version 2.5.0. Last available version of this plugin (3.1.0) generates classes with jakarta imports, while 2.5.0 generates classes with javax imports.</p>\n<p>If someone will accidentally step on this question and you know how to fix this with jakarta imports, please let me know.</p>\n<p>Final pom file for my project looks like this (no JAXBElement needed in the controller):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.demo.spring.webservice&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-spring-webservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-spring-webservice&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot WebServices&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;${project.basedir}/src/main/resources/xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb/&lt;/outputDirectory&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":25090354,"reputation":53,"user_id":18942064,"display_name":"Alexander Bond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72764928,"answer_count":2,"score":3,"last_activity_date":1656275416,"creation_date":1656059622,"question_id":72741201,"body_markdown":"I&#39;m trying to dig into Spring SOAP web services and JAXB class generation. Following spring.io tutorial, I&#39;ve managed to create simple web service app, but it&#39;s not answering to my request as it supposed to. \r\nHere is my code, configuration (**UPD** fixed, thanks to DimasG, but still not working):\r\n\r\n```java\r\n@EnableWs\r\n@Configuration\r\npublic class WebServiceConfiguration extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public ServletRegistrationBean registrationBean(ApplicationContext context) {\r\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n        servlet.setApplicationContext(context);\r\n        servlet.setTransformWsdlLocations(true);\r\n        return new ServletRegistrationBean(servlet, &quot;/ws/*&quot;);\r\n    }\r\n\r\n    @Bean(name = &quot;employees&quot;)\r\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schema) {\r\n        DefaultWsdl11Definition definition = new DefaultWsdl11Definition();\r\n        definition.setPortTypeName(&quot;EmployeesPort&quot;);\r\n        definition.setLocationUri(&quot;/ws&quot;);\r\n        definition.setTargetNamespace(&quot;http://spring/demo/webservice&quot;);\r\n        definition.setSchema(schema);\r\n        return definition;\r\n    }\r\n\r\n    @Bean\r\n    public XsdSchema employeesSchema() {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;xsd/employees.xsd&quot;));\r\n    }\r\n\r\n}\r\n```\r\nXSD schema file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://spring/demo/webservice&quot;\r\n           targetNamespace=&quot;http://spring/demo/webservice&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n\r\n    &lt;xs:element name=&quot;getEmployeeRequest&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n    &lt;xs:element name=&quot;getEmployeeResponse&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;employee&quot; type=&quot;tns:employee&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n    &lt;xs:complexType name=&quot;employee&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;age&quot; type=&quot;xs:int&quot;/&gt;\r\n            &lt;xs:element name=&quot;position&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;gender&quot; type=&quot;tns:gender&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:simpleType name=&quot;gender&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:enumeration value=&quot;M&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;F&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\nEndpoint:\r\n```java\r\n@Endpoint\r\npublic class EmployeeWebService {\r\n\r\n    private static final String NAMESPACE_URI = &quot;http://spring/demo/webservice&quot;;\r\n\r\n    private final List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        employees.addAll(\r\n                Arrays.asList(\r\n                        createEmployee(&quot;John Doe&quot;, 30, Gender.M, &quot;Manager&quot;),\r\n                        createEmployee(&quot;Jane Doe&quot;, 27, Gender.F, &quot;QA&quot;),\r\n                        createEmployee(&quot;Bob Johns&quot;, 28, Gender.M, &quot;Programmer&quot;),\r\n                        createEmployee(&quot;Tiffany Collins&quot;, 24, Gender.F, &quot;CEO&quot;),\r\n                        createEmployee(&quot;Alice&quot;, 25, Gender.F, &quot;Secretary&quot;)\r\n                )\r\n        );\r\n    }\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getEmployeeRequest&quot;)\r\n    @ResponsePayload\r\n    public GetEmployeeResponse get(@RequestPayload GetEmployeeRequest request) {\r\n        Employee found = employees.stream()\r\n                .filter(emp -&gt; emp.getName().equals(request.getName()))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Not found&quot;));\r\n        GetEmployeeResponse response = new GetEmployeeResponse();\r\n        response.setEmployee(found);\r\n        return response;\r\n    }\r\n\r\n}\r\n```\r\nSOAP getEmployeeRequest:\r\n```xml\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                  xmlns:gs=&quot;http://spring/demo/webservice&quot;&gt;\r\n    &lt;soapenv:Header/&gt;\r\n    &lt;soapenv:Body&gt;\r\n        &lt;gs:getEmployeeRequest&gt;\r\n            &lt;gs:name&gt;Alice&lt;/gs:name&gt;\r\n        &lt;/gs:getEmployeeRequest&gt;\r\n    &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\nWith provided code I&#39;m getting fault message back:\r\n```xml\r\n&lt;faultstring xml:lang=&quot;en&quot;&gt;No adapter for endpoint [public spring.demo.webservice.GetEmployeeResponse com.abondarenkodev.demo.spring.webservice.controller.EmployeeWebService.get(spring.demo.webservice.GetEmployeeRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?&lt;/faultstring&gt;\r\n```\r\nI&#39;ve found one possible solution to wrap response and request classes with JAXBElement.\r\nEndpoint method with it looks like this:\r\n```java\r\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getEmployeeRequest&quot;)\r\n@ResponsePayload\r\npublic JAXBElement&lt;GetEmployeeResponse&gt; get(@RequestPayload JAXBElement&lt;GetEmployeeRequest&gt; request) {\r\n    Employee found = employees.stream()\r\n            .filter(emp -&gt; emp.getName().equals(request.getValue().getName()))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new RuntimeException(&quot;Not found&quot;));\r\n    GetEmployeeResponse response = new GetEmployeeResponse();\r\n    response.setEmployee(found);\r\n    return new JAXBElement&lt;&gt;(\r\n            QName.valueOf(&quot;GetEmployeeResponse&quot;),\r\n            GetEmployeeResponse.class,\r\n            response\r\n    );\r\n}\r\n```\r\nThere are two options for JAXBElement: jakarta.xml.bind.JAXBElement and javax.xml.bind.JAXBElement. With jakarta element I got same &#39;No adapter&#39; message, with javax element I&#39;m getting my &quot;Not found&quot; Exception, because request.getValue() is coming as null.\r\n[![enter image description here][1]][1]\r\nSecond possible solution that I&#39;ve found is to check if request and response generated classes are annotated with XmlRootElement, and they are indeed annotated.\r\nHere is my pom file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.abondarenkodev.demo.spring.webservice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-soap-demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-soap-demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot WebServices&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdom2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t&lt;source&gt;${project.basedir}/src/main/resources/xsd&lt;/source&gt;\r\n\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI will appreciate any help.\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CQoqO.jpg","title":"Spring Boot SOAP Web Service &quot;No adapter for endpoint&quot; in response","body":"<p>I'm trying to dig into Spring SOAP web services and JAXB class generation. Following spring.io tutorial, I've managed to create simple web service app, but it's not answering to my request as it supposed to.\nHere is my code, configuration (<strong>UPD</strong> fixed, thanks to DimasG, but still not working):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWs\n@Configuration\npublic class WebServiceConfiguration extends WsConfigurerAdapter {\n\n    @Bean\n    public ServletRegistrationBean registrationBean(ApplicationContext context) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(context);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, &quot;/ws/*&quot;);\n    }\n\n    @Bean(name = &quot;employees&quot;)\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema schema) {\n        DefaultWsdl11Definition definition = new DefaultWsdl11Definition();\n        definition.setPortTypeName(&quot;EmployeesPort&quot;);\n        definition.setLocationUri(&quot;/ws&quot;);\n        definition.setTargetNamespace(&quot;http://spring/demo/webservice&quot;);\n        definition.setSchema(schema);\n        return definition;\n    }\n\n    @Bean\n    public XsdSchema employeesSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(&quot;xsd/employees.xsd&quot;));\n    }\n\n}\n</code></pre>\n<p>XSD schema file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://spring/demo/webservice&quot;\n           targetNamespace=&quot;http://spring/demo/webservice&quot; elementFormDefault=&quot;qualified&quot;&gt;\n\n    &lt;xs:element name=&quot;getEmployeeRequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:element name=&quot;getEmployeeResponse&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;employee&quot; type=&quot;tns:employee&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n    &lt;xs:complexType name=&quot;employee&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;age&quot; type=&quot;xs:int&quot;/&gt;\n            &lt;xs:element name=&quot;position&quot; type=&quot;xs:string&quot;/&gt;\n            &lt;xs:element name=&quot;gender&quot; type=&quot;tns:gender&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:simpleType name=&quot;gender&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:enumeration value=&quot;M&quot;/&gt;\n            &lt;xs:enumeration value=&quot;F&quot;/&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>Endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Endpoint\npublic class EmployeeWebService {\n\n    private static final String NAMESPACE_URI = &quot;http://spring/demo/webservice&quot;;\n\n    private final List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n\n    @PostConstruct\n    public void init() {\n        employees.addAll(\n                Arrays.asList(\n                        createEmployee(&quot;John Doe&quot;, 30, Gender.M, &quot;Manager&quot;),\n                        createEmployee(&quot;Jane Doe&quot;, 27, Gender.F, &quot;QA&quot;),\n                        createEmployee(&quot;Bob Johns&quot;, 28, Gender.M, &quot;Programmer&quot;),\n                        createEmployee(&quot;Tiffany Collins&quot;, 24, Gender.F, &quot;CEO&quot;),\n                        createEmployee(&quot;Alice&quot;, 25, Gender.F, &quot;Secretary&quot;)\n                )\n        );\n    }\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getEmployeeRequest&quot;)\n    @ResponsePayload\n    public GetEmployeeResponse get(@RequestPayload GetEmployeeRequest request) {\n        Employee found = employees.stream()\n                .filter(emp -&gt; emp.getName().equals(request.getName()))\n                .findFirst()\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Not found&quot;));\n        GetEmployeeResponse response = new GetEmployeeResponse();\n        response.setEmployee(found);\n        return response;\n    }\n\n}\n</code></pre>\n<p>SOAP getEmployeeRequest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n                  xmlns:gs=&quot;http://spring/demo/webservice&quot;&gt;\n    &lt;soapenv:Header/&gt;\n    &lt;soapenv:Body&gt;\n        &lt;gs:getEmployeeRequest&gt;\n            &lt;gs:name&gt;Alice&lt;/gs:name&gt;\n        &lt;/gs:getEmployeeRequest&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>With provided code I'm getting fault message back:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;faultstring xml:lang=&quot;en&quot;&gt;No adapter for endpoint [public spring.demo.webservice.GetEmployeeResponse com.abondarenkodev.demo.spring.webservice.controller.EmployeeWebService.get(spring.demo.webservice.GetEmployeeRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?&lt;/faultstring&gt;\n</code></pre>\n<p>I've found one possible solution to wrap response and request classes with JAXBElement.\nEndpoint method with it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getEmployeeRequest&quot;)\n@ResponsePayload\npublic JAXBElement&lt;GetEmployeeResponse&gt; get(@RequestPayload JAXBElement&lt;GetEmployeeRequest&gt; request) {\n    Employee found = employees.stream()\n            .filter(emp -&gt; emp.getName().equals(request.getValue().getName()))\n            .findFirst()\n            .orElseThrow(() -&gt; new RuntimeException(&quot;Not found&quot;));\n    GetEmployeeResponse response = new GetEmployeeResponse();\n    response.setEmployee(found);\n    return new JAXBElement&lt;&gt;(\n            QName.valueOf(&quot;GetEmployeeResponse&quot;),\n            GetEmployeeResponse.class,\n            response\n    );\n}\n</code></pre>\n<p>There are two options for JAXBElement: jakarta.xml.bind.JAXBElement and javax.xml.bind.JAXBElement. With jakarta element I got same 'No adapter' message, with javax element I'm getting my &quot;Not found&quot; Exception, because request.getValue() is coming as null.\n<a href=\"https://i.stack.imgur.com/CQoqO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQoqO.jpg\" alt=\"enter image description here\" /></a>\nSecond possible solution that I've found is to check if request and response generated classes are annotated with XmlRootElement, and they are indeed annotated.\nHere is my pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.abondarenkodev.demo.spring.webservice&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-soap-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-soap-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot WebServices&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n            &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;${project.basedir}/src/main/resources/xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb/&lt;/outputDirectory&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I will appreciate any help.\nThank you.</p>\n"},{"tags":["java","algorithm","distance","euclidean-distance"],"comments":[{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656260229,"post_id":72763174,"comment_id":128523149,"body_markdown":"As far as I&#39;m concerned, I think you want to know the longest distance between two nodes dynamically. You can think of a sorted tree and you put each node based on a distance from a certain coordinate point. So, the leftmost and rightmost nodes are the farthest nodes.","body":"As far as I&#39;m concerned, I think you want to know the longest distance between two nodes dynamically. You can think of a sorted tree and you put each node based on a distance from a certain coordinate point. So, the leftmost and rightmost nodes are the farthest nodes."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1656291117,"post_id":72763174,"comment_id":128528286,"body_markdown":"Do you mean `\\sum_i (x_i - p)^2`?","body":"Do you mean <code>\\sum_i (x_i - p)^2</code>?"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656275304,"creation_date":1656259624,"question_id":72763174,"body_markdown":"So I am trying to pick out the farthest node for each iteration. I start by randomly picking the first node, then continueing by picking the farthest node from the first one.\r\n\r\nFrom there I have two nodes which I want to compare in distance (I am using the euclidean metric) with the rest of the nodes. Then I add the one that is farthest away over both already picked nodes and continue this process, until I have chosen k nodes.\r\n\r\n````\r\nNode maxDistNode = null;\r\n\t\tk = k - pickedNodes.size(); //in this case pickedNodes has 2 entries already\r\n\t\twhile(k &gt; 0) {\r\n\t\t\tfor(Node pickedN: pickedNodes) {\r\n\t\t\t\tfor(Node notpickedN: allNodes) { \r\n\t\t\t\t\tif(notpickedN.distance &lt; distanceBetween(notpickedN, pickedN)) { //distanceBetween(Node a, Node b) is method that returns Math.hypot(a.x - b.x, a.x - b.x)\r\n\t\t\t\t\t\tnotpickedN.distance = distanceBetween(notpickedN, pickedN);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmaxDistNode = Collections.max(allNodes, new Comparator&lt;Node&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic int compare(Node o1, Node o2) {\r\n\t\t\t\t\t\tif(o1.distance &gt; o2.distance) {\r\n\t\t\t\t\t\t\treturn 1; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(o1.distance == o2.distance) {\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(maxDistNode != null) {\r\n\t\t\t\tmaxDistNode.setPicked(true);\r\n\t\t\t\tpickedNodes.add(maxDistNode);\r\n\t\t\t\tallNodes.remove(maxDistNode);\r\n\t\t\t\t--k;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n````\r\nNodes have initially a distance of Integer.MIN_VALUE given. Now the problem is, that this works fine for when k is very small, though when ever I want to search for more nodes this will give me the same one for k-times. Therefore I am left with many duplicate nodes.\r\nHow can I change this so I can get the farthest node over all newly added and old pickNodes?","title":"How can I change my algorithm to get the farthest node for each iteration?","body":"<p>So I am trying to pick out the farthest node for each iteration. I start by randomly picking the first node, then continueing by picking the farthest node from the first one.</p>\n<p>From there I have two nodes which I want to compare in distance (I am using the euclidean metric) with the rest of the nodes. Then I add the one that is farthest away over both already picked nodes and continue this process, until I have chosen k nodes.</p>\n<pre><code>Node maxDistNode = null;\n        k = k - pickedNodes.size(); //in this case pickedNodes has 2 entries already\n        while(k &gt; 0) {\n            for(Node pickedN: pickedNodes) {\n                for(Node notpickedN: allNodes) { \n                    if(notpickedN.distance &lt; distanceBetween(notpickedN, pickedN)) { //distanceBetween(Node a, Node b) is method that returns Math.hypot(a.x - b.x, a.x - b.x)\n                        notpickedN.distance = distanceBetween(notpickedN, pickedN);\n                    }\n                }\n                maxDistNode = Collections.max(allNodes, new Comparator&lt;Node&gt;() {\n                    @Override\n                    public int compare(Node o1, Node o2) {\n                        if(o1.distance &gt; o2.distance) {\n                            return 1; \n                        }\n                        if(o1.distance == o2.distance) {\n                            return 0;\n                        }\n                        return -1;\n                    }\n                });\n            }\n            if(maxDistNode != null) {\n                maxDistNode.setPicked(true);\n                pickedNodes.add(maxDistNode);\n                allNodes.remove(maxDistNode);\n                --k;\n            }\n            \n        }\n</code></pre>\n<p>Nodes have initially a distance of Integer.MIN_VALUE given. Now the problem is, that this works fine for when k is very small, though when ever I want to search for more nodes this will give me the same one for k-times. Therefore I am left with many duplicate nodes.\nHow can I change this so I can get the farthest node over all newly added and old pickNodes?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":6551055,"reputation":380,"user_id":5065445,"display_name":"Tomas Jacko"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1435668848,"creation_date":1435668848,"answer_id":31138881,"question_id":27909100,"body_markdown":"I think you have problem with count query. Usually the specification is use for data query a and count query. And for count query there is no &quot;Media&quot;. I use this workaround :\r\n\r\n    Class&lt;?&gt; clazz = query.getResultType();\r\n    if (clazz.equals(Media.class)) {\r\n        root.fetch(&quot;channel&quot;);\r\n    }\r\n\r\nThis use fetch only for data query a not for count query.","title":"Eager fetching in a Spring Specification","body":"<p>I think you have problem with count query. Usually the specification is use for data query a and count query. And for count query there is no \"Media\". I use this workaround :</p>\n\n<pre><code>Class&lt;?&gt; clazz = query.getResultType();\nif (clazz.equals(Media.class)) {\n    root.fetch(\"channel\");\n}\n</code></pre>\n\n<p>This use fetch only for data query a not for count query.</p>\n"},{"tags":[],"owner":{"account_id":2590179,"reputation":91,"user_id":2245054,"display_name":"Eugene"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1491815552,"creation_date":1491815552,"answer_id":43319158,"question_id":27909100,"body_markdown":"For example:\r\n\r\n    public Predicate toPredicate(Root&lt;Person&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n    \t\t\t\tif (Long.class != query.getResultType()) {\r\n    \t\t\t\t\troot.fetch(Person_.addresses);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn cb.conjunction();\r\n    \t\t\t}","title":"Eager fetching in a Spring Specification","body":"<p>For example:</p>\n\n<pre><code>public Predicate toPredicate(Root&lt;Person&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n                if (Long.class != query.getResultType()) {\n                    root.fetch(Person_.addresses);\n                }\n                return cb.conjunction();\n            }\n</code></pre>\n"}],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6796,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1656275222,"creation_date":1421090008,"question_id":27909100,"body_markdown":"We have a Media object:\r\n\r\n    public class Media implements Serializable {\r\n\r\n\t    @Id\r\n    \t@GeneratedValue(strategy = IDENTITY)\r\n    \t@Column(insertable = false, updatable = false)\r\n    \tprivate Long id;\r\n        // other attributes\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n     \t@JoinColumn(name = &quot;channelId&quot;, referencedColumnName = &quot;id&quot;)\r\n    \tprivate Channel channel;\r\n        // getters, setters, hashCode, equals, etc.\r\n}\r\n\r\nThe eager fetch of the channel parent works in regular repository methods, but not when using a Specification.\r\n\r\nHere&#39;s the Specification:\r\n\r\n\tpublic class MediaSpecs {\r\n\r\n\tpublic static Specification&lt;Media&gt; search(final Long partnerId, final Integer width, final Integer height,\r\n\t\t\tfinal String channelType) {\r\n\r\n\t\treturn new Specification&lt;Media&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Predicate toPredicate(Root&lt;Media&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n \t\t\t\tPredicate restrictions = cb.equal(root.get(&quot;archived&quot;), false);\r\n\t\t\t\t// other restrictions are and-ed together\r\n\t\t    \tif (channelType != null) {\r\n\t    \t\t\t\tJoin&lt;Media, ChannelType&gt; join = root.join(&quot;channel&quot;).join(&quot;orgChannelType&quot;).join(&quot;type&quot;);\r\n    \t\t\t\trestrictions = cb.and(cb.equal(join.get(&quot;type&quot;), channelType));\r\n    \t\t\t}\r\n                return restrictions;\r\n\t\t    }\r\n\t\t};\r\n    }\r\n\r\nThe &quot;search&quot; spec works correctly when channelType is specified, so the join is working. How do I specify that the joins should be eagerly fetched?\r\n\r\nI tried adding\r\n\r\n    Fetch&lt;Media, ChannelType&gt; fetch = root.fetch(&quot;channel&quot;).fetch(&quot;orgChannelType&quot;).fetch(&quot;type&quot;);\r\n\r\nThen Hibernate throws an exception:\r\n\r\norg.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias4 ...\r\n\r\nHow do I add the associations to the select list?\r\n\r\nThanks.","title":"Eager fetching in a Spring Specification","body":"<p>We have a Media object:</p>\n\n<pre><code>public class Media implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(insertable = false, updatable = false)\n    private Long id;\n    // other attributes\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"channelId\", referencedColumnName = \"id\")\n    private Channel channel;\n    // getters, setters, hashCode, equals, etc.\n</code></pre>\n\n<p>}</p>\n\n<p>The eager fetch of the channel parent works in regular repository methods, but not when using a Specification.</p>\n\n<p>Here's the Specification:</p>\n\n<pre><code>public class MediaSpecs {\n\npublic static Specification&lt;Media&gt; search(final Long partnerId, final Integer width, final Integer height,\n        final String channelType) {\n\n    return new Specification&lt;Media&gt;() {\n\n        @Override\n        public Predicate toPredicate(Root&lt;Media&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n            Predicate restrictions = cb.equal(root.get(\"archived\"), false);\n            // other restrictions are and-ed together\n            if (channelType != null) {\n                    Join&lt;Media, ChannelType&gt; join = root.join(\"channel\").join(\"orgChannelType\").join(\"type\");\n                restrictions = cb.and(cb.equal(join.get(\"type\"), channelType));\n            }\n            return restrictions;\n        }\n    };\n}\n</code></pre>\n\n<p>The \"search\" spec works correctly when channelType is specified, so the join is working. How do I specify that the joins should be eagerly fetched?</p>\n\n<p>I tried adding</p>\n\n<pre><code>Fetch&lt;Media, ChannelType&gt; fetch = root.fetch(\"channel\").fetch(\"orgChannelType\").fetch(\"type\");\n</code></pre>\n\n<p>Then Hibernate throws an exception:</p>\n\n<p>org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=generatedAlias4 ...</p>\n\n<p>How do I add the associations to the select list?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","java","processbuilder","virtual-environment"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656272714,"creation_date":1656272714,"answer_id":72764673,"question_id":72764455,"body_markdown":"That command doesn&#39;t look valid to me. You may be confused about what ProcessBuilder does / how windows (or any OS) works.\r\n\r\nWhen you type a command in a dosbox or terminal, you&#39;re __sending it to the shell__ - on linux, probably `/bin/bash`, or zsh or whatnot. On windows, you&#39;re sending it to `cmd.exe`. That program (so, bash or cmd) then __decodes__ what you typed and does all sorts of fancy things to it, and then it in turns asks the underlying kernel to actually go run that app.\r\n\r\nJava&#39;s ProcessBuilder __does not__ invoke cmd/bash/zsh, it is a sibling to cmd/bash/zsh - it also does some fancy things, but far fewer fancy things. On windows, even the OS (or rather, the tool) does some fancy things whereas on linux it does not.\r\n\r\nIn general, trying to even guess whether the tool you run does fancy things, and which fancy things java&#39;s ProcessBuilder does, is not a sound way to write dependable software. Especially considering the relative hardship of testing this, given that it involves invoking external stuff.\r\n\r\nHence, you should opt out. Of all the fancy things. Thus:\r\n\r\n* Always call the command with a complete and absolute path.\r\n* Always use the multi-string/list version, never rely on java to split on spaces.\r\n* Never use `*`, `?` or any other glob. Write out each and every parameter in full.\r\n* Do not try to use `&gt;` or `&amp;` or any other &#39;symbol that means something specific&#39;. An OS doesn&#39;t support any of this stuff - you just pass [A] the full path to an executable and [B] a bunch of strings that the kernel will _directly_ pass to the process without doing any processing on it. If you want to do stuff to standard out, error out, or standard in - then use Process&#39;s methods to do this.\r\n\r\nThose `&amp;`s in your command sure look like shellisms to me.\r\n\r\nTo fix:\r\n\r\n* You can tell the process which directory to run in, so there is no need for a `cd` command.\r\n* You should write the absolute path to CMD.exe. You can ask the environment. You&#39;re now relying on a combination of a properly configured PATH + the undefined behaviour of the JVM that does a bare minimum of fancy things (turning relative paths to absolute ones by PATH-scanning is a &#39;fancy thing&#39; you should not be relying on).\r\n* I don&#39;t know what that `&amp;` thing is, but you don&#39;t want that.\r\n* If `activate` is a script (shouldn&#39;t that end in `.bat` or `.js` or `.vbs` or whatnot?), run that, then run python separately. If `activate` sets things in the local environment table, make a script file that runs both and run the script instead.\r\n* Running `python` is not a good idea. Run `C:\\whatever\\python.exe`.\r\n\r\nYou have the right idea for `activate`, more or less (you&#39;re in a known dir and then write an actual path. If `python.exe` is guaranteeed to be in that OCR dir, run `.\\\\python.exe`, not `python`.\r\n","title":"Java ProcessBuilder cant run &quot;.\\venv\\Scripts\\active&quot; in windows","body":"<p>That command doesn't look valid to me. You may be confused about what ProcessBuilder does / how windows (or any OS) works.</p>\n<p>When you type a command in a dosbox or terminal, you're <strong>sending it to the shell</strong> - on linux, probably <code>/bin/bash</code>, or zsh or whatnot. On windows, you're sending it to <code>cmd.exe</code>. That program (so, bash or cmd) then <strong>decodes</strong> what you typed and does all sorts of fancy things to it, and then it in turns asks the underlying kernel to actually go run that app.</p>\n<p>Java's ProcessBuilder <strong>does not</strong> invoke cmd/bash/zsh, it is a sibling to cmd/bash/zsh - it also does some fancy things, but far fewer fancy things. On windows, even the OS (or rather, the tool) does some fancy things whereas on linux it does not.</p>\n<p>In general, trying to even guess whether the tool you run does fancy things, and which fancy things java's ProcessBuilder does, is not a sound way to write dependable software. Especially considering the relative hardship of testing this, given that it involves invoking external stuff.</p>\n<p>Hence, you should opt out. Of all the fancy things. Thus:</p>\n<ul>\n<li>Always call the command with a complete and absolute path.</li>\n<li>Always use the multi-string/list version, never rely on java to split on spaces.</li>\n<li>Never use <code>*</code>, <code>?</code> or any other glob. Write out each and every parameter in full.</li>\n<li>Do not try to use <code>&gt;</code> or <code>&amp;</code> or any other 'symbol that means something specific'. An OS doesn't support any of this stuff - you just pass [A] the full path to an executable and [B] a bunch of strings that the kernel will <em>directly</em> pass to the process without doing any processing on it. If you want to do stuff to standard out, error out, or standard in - then use Process's methods to do this.</li>\n</ul>\n<p>Those <code>&amp;</code>s in your command sure look like shellisms to me.</p>\n<p>To fix:</p>\n<ul>\n<li>You can tell the process which directory to run in, so there is no need for a <code>cd</code> command.</li>\n<li>You should write the absolute path to CMD.exe. You can ask the environment. You're now relying on a combination of a properly configured PATH + the undefined behaviour of the JVM that does a bare minimum of fancy things (turning relative paths to absolute ones by PATH-scanning is a 'fancy thing' you should not be relying on).</li>\n<li>I don't know what that <code>&amp;</code> thing is, but you don't want that.</li>\n<li>If <code>activate</code> is a script (shouldn't that end in <code>.bat</code> or <code>.js</code> or <code>.vbs</code> or whatnot?), run that, then run python separately. If <code>activate</code> sets things in the local environment table, make a script file that runs both and run the script instead.</li>\n<li>Running <code>python</code> is not a good idea. Run <code>C:\\whatever\\python.exe</code>.</li>\n</ul>\n<p>You have the right idea for <code>activate</code>, more or less (you're in a known dir and then write an actual path. If <code>python.exe</code> is guaranteeed to be in that OCR dir, run <code>.\\\\python.exe</code>, not <code>python</code>.</p>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656275166,"creation_date":1656275166,"answer_id":72764912,"question_id":72764455,"body_markdown":"Convert command as a single string instead of passing separate arguments to the `ProcessBuilder`.\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;,&quot;cd C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR &amp; .\\\\venv\\\\Scripts\\\\activate &amp; python main.py&quot;);\r\n\r\nAnother way could be, if all command has to run under same folder, then change `ProcessBuilder` working directory using `directory` method:\r\n\r\n    Path rootDir = Paths.get(&quot;C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR&quot;);\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, &quot;.\\\\venv\\\\Scripts\\\\activate &amp; python main.py&quot;);\r\n    processBuilder.directory(rootDir.toFile());\r\n    Process process = processBuilder.start();\r\n    process.waitFor();\r\n\r\n","title":"Java ProcessBuilder cant run &quot;.\\venv\\Scripts\\active&quot; in windows","body":"<p>Convert command as a single string instead of passing separate arguments to the <code>ProcessBuilder</code>.</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;,&quot;cd C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR &amp; .\\\\venv\\\\Scripts\\\\activate &amp; python main.py&quot;);\n</code></pre>\n<p>Another way could be, if all command has to run under same folder, then change <code>ProcessBuilder</code> working directory using <code>directory</code> method:</p>\n<pre><code>Path rootDir = Paths.get(&quot;C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR&quot;);\nProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, &quot;.\\\\venv\\\\Scripts\\\\activate &amp; python main.py&quot;);\nprocessBuilder.directory(rootDir.toFile());\nProcess process = processBuilder.start();\nprocess.waitFor();\n</code></pre>\n"}],"owner":{"account_id":15211194,"reputation":15,"user_id":10975954,"display_name":"Murat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72764673,"answer_count":2,"score":0,"last_activity_date":1656275166,"creation_date":1656270700,"question_id":72764455,"body_markdown":"Using Java&#39;s ProcessBuilder, I try to run a python script with activating virtual environment but i&#39;m getting error like &#39;.\\venv\\Scripts\\activate&quot; &quot;&#39; is not recognized as an internal or external command.\r\n\r\nIn command window cmd, I can use &quot;.\\venv\\Scripts\\activate&quot; directly with no problem but in my code at below, error occured.\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;,&quot;cd C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR&quot;, &quot;&amp; .\\\\venv\\\\Scripts\\\\activate&quot;, &quot;&amp; python main.py&quot;);\r\n        ","title":"Java ProcessBuilder cant run &quot;.\\venv\\Scripts\\active&quot; in windows","body":"<p>Using Java's ProcessBuilder, I try to run a python script with activating virtual environment but i'm getting error like '.\\venv\\Scripts\\activate&quot; &quot;' is not recognized as an internal or external command.</p>\n<p>In command window cmd, I can use &quot;.\\venv\\Scripts\\activate&quot; directly with no problem but in my code at below, error occured.</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;,&quot;cd C:\\\\Users\\\\onurc\\\\PycharmProjects\\\\OCR&quot;, &quot;&amp; .\\\\venv\\\\Scripts\\\\activate&quot;, &quot;&amp; python main.py&quot;);\n    \n</code></pre>\n"},{"tags":["java","dynamic-programming"],"owner":{"account_id":3276608,"reputation":67,"user_id":2758424,"display_name":"Mrunal Deole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656273888,"creation_date":1656273888,"question_id":72764791,"body_markdown":"The problem statement is given here : https://practice.geeksforgeeks.org/problems/word-wrap1646/1#\r\n\r\nThis it the solution I came up with.\r\n```\r\nclass Solution\r\n{\r\n    public int solveWordWrap (int[] nums, int k)\r\n    {\r\n        return solveWordWrap(0,nums,k);\r\n    }\r\n    \r\n    private int solveWordWrap(int startIndx, int[] nums, int k){\r\n        \r\n        if(startIndx &gt;= nums.length-1)\r\n            return 0;\r\n        \r\n        int min = Integer.MAX_VALUE;\r\n        \r\n        int charCount = 0;\r\n        int words = 0;\r\n        for(int i = startIndx; i &lt; nums.length; i++){\r\n            charCount = charCount + nums[i];\r\n            words++;\r\n            if(charCount+words-1 &lt;= k)\r\n                min = Math.min( (int)Math.pow(k - (charCount+ words-1),2) + solveWordWrap(i+1,nums,k),min);\r\n            else\r\n                break;\r\n        }\r\n        \r\n        return min;\r\n    }\r\n}\r\n```\r\n\r\nFor the input\r\n``` \r\nnums = {10,6,5,3,1,10,8,2}\r\nk = 12\r\n```\r\n\r\nThe correct solution is 45, but my code is outputting 46.\r\n\r\nI am not able to find the error.\r\n","title":"Need help in figuring out bug in Word Wrap problem DP solution","body":"<p>The problem statement is given here : <a href=\"https://practice.geeksforgeeks.org/problems/word-wrap1646/1#\" rel=\"nofollow noreferrer\">https://practice.geeksforgeeks.org/problems/word-wrap1646/1#</a></p>\n<p>This it the solution I came up with.</p>\n<pre><code>class Solution\n{\n    public int solveWordWrap (int[] nums, int k)\n    {\n        return solveWordWrap(0,nums,k);\n    }\n    \n    private int solveWordWrap(int startIndx, int[] nums, int k){\n        \n        if(startIndx &gt;= nums.length-1)\n            return 0;\n        \n        int min = Integer.MAX_VALUE;\n        \n        int charCount = 0;\n        int words = 0;\n        for(int i = startIndx; i &lt; nums.length; i++){\n            charCount = charCount + nums[i];\n            words++;\n            if(charCount+words-1 &lt;= k)\n                min = Math.min( (int)Math.pow(k - (charCount+ words-1),2) + solveWordWrap(i+1,nums,k),min);\n            else\n                break;\n        }\n        \n        return min;\n    }\n}\n</code></pre>\n<p>For the input</p>\n<pre><code>nums = {10,6,5,3,1,10,8,2}\nk = 12\n</code></pre>\n<p>The correct solution is 45, but my code is outputting 46.</p>\n<p>I am not able to find the error.</p>\n"},{"tags":["java","maven","azure-pipelines"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1655506342,"post_id":72664883,"comment_id":128356541,"body_markdown":"What is missing? What dependencies are marked as provided? Etc. I doubt anyone will be able to help too much without any specifics.","body":"What is missing? What dependencies are marked as provided? Etc. I doubt anyone will be able to help too much without any specifics."},{"owner":{"account_id":3978340,"reputation":71,"user_id":3280964,"display_name":"user3280964"},"score":0,"creation_date":1655526452,"post_id":72664883,"comment_id":128358465,"body_markdown":"pom.xml had some dependencies marked at provided.  After your comment I removed the &quot;provided&quot; attribute and it didn&#39;t help.   Thinking about it some more, it makes sense that it didn&#39;t make a difference.  Because if that&#39;s what was broken, it would have failed on the self-hosted agent as well.  This question is more general than &quot;why doesn&#39;t it work&quot;, I&#39;m asking what could possibly cause the environments to behave differently if they are apparently identical.   In the end it&#39;s a question of build reproducibility (or at least near-reproducibility)","body":"pom.xml had some dependencies marked at provided.  After your comment I removed the &quot;provided&quot; attribute and it didn&#39;t help.   Thinking about it some more, it makes sense that it didn&#39;t make a difference.  Because if that&#39;s what was broken, it would have failed on the self-hosted agent as well.  This question is more general than &quot;why doesn&#39;t it work&quot;, I&#39;m asking what could possibly cause the environments to behave differently if they are apparently identical.   In the end it&#39;s a question of build reproducibility (or at least near-reproducibility)"},{"owner":{"account_id":3978340,"reputation":71,"user_id":3280964,"display_name":"user3280964"},"score":0,"creation_date":1655526588,"post_id":72664883,"comment_id":128358483,"body_markdown":"In theory env1(code + pom) = env2(code + pom) but mine are not equal. That must mean that it&#39;s env1(code + pom + x) = env2(code + pom + x).   I&#39;m asking what x is.  Forget about my specific issue, what are the ingredients that make up a reproducible build?","body":"In theory env1(code + pom) = env2(code + pom) but mine are not equal. That must mean that it&#39;s env1(code + pom + x) = env2(code + pom + x).   I&#39;m asking what x is.  Forget about my specific issue, what are the ingredients that make up a reproducible build?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1655534990,"post_id":72664883,"comment_id":128359273,"body_markdown":"Which scopes do you use?","body":"Which scopes do you use?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655547292,"post_id":72664883,"comment_id":128361142,"body_markdown":"Have you defined all versions of all plugins in your build...also not using any kind of version range... without the pom files it&#39;s hard to tell... Do you have dependencies which are architecture dependent? Also using the same Maven version? (mvn --version output ?)","body":"Have you defined all versions of all plugins in your build...also not using any kind of version range... without the pom files it&#39;s hard to tell... Do you have dependencies which are architecture dependent? Also using the same Maven version? (mvn --version output ?)"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1655548673,"post_id":72664883,"comment_id":128361379,"body_markdown":"I would take the build output of Maven and make a diff. @khmarbaise&#39;s guess is plausible.","body":"I would take the build output of Maven and make a diff. @khmarbaise&#39;s guess is plausible."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655548960,"post_id":72664883,"comment_id":128361421,"body_markdown":"That would be the first to do so... compare the log output of both builds... to have at least a starting point...","body":"That would be the first to do so... compare the log output of both builds... to have at least a starting point..."},{"owner":{"account_id":3978340,"reputation":71,"user_id":3280964,"display_name":"user3280964"},"score":0,"creation_date":1655944655,"post_id":72664883,"comment_id":128454563,"body_markdown":"As per @JFabianMeier suggestion, I&#39;m comparing the diff.  It&#39;s slow going because lot of the same dependencies are showing up in different order, so it&#39;s confusing the diff algorithm. In the end I think this is the way to untangle it","body":"As per @JFabianMeier suggestion, I&#39;m comparing the diff.  It&#39;s slow going because lot of the same dependencies are showing up in different order, so it&#39;s confusing the diff algorithm. In the end I think this is the way to untangle it"}],"answers":[{"tags":[],"owner":{"account_id":3978340,"reputation":71,"user_id":3280964,"display_name":"user3280964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656272043,"creation_date":1656272043,"answer_id":72764604,"question_id":72664883,"body_markdown":"Thanks for the comments, they helped me figure it out.   For some reason I needed to bring in a very specific .m2 folder from the other system for things to succeed.  I&#39;m guessing this is related to &quot;compile&quot; vs &quot;runtime&quot;.   Still trying to figure that out, but at least things make sense now.","title":"Why is identical mvn build on different agents producing different results?","body":"<p>Thanks for the comments, they helped me figure it out.   For some reason I needed to bring in a very specific .m2 folder from the other system for things to succeed.  I'm guessing this is related to &quot;compile&quot; vs &quot;runtime&quot;.   Still trying to figure that out, but at least things make sense now.</p>\n"}],"owner":{"account_id":3978340,"reputation":71,"user_id":3280964,"display_name":"user3280964"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72764604,"answer_count":1,"score":0,"last_activity_date":1656272043,"creation_date":1655500755,"question_id":72664883,"body_markdown":"My unit tests for a Java app in Azure pipelines are failing even though they are fine when I build the same code elsewhere.   Failed unit tests are mostly java.lang.NoClassDefFoundError type of errors and inspection of the produced WAR file confirms that some dependencies are in fact missing.\r\n\r\nI went as far as keeping everything the same and switching from Azure&#39;s build agents to a self hosted one. \r\n\r\nResults: \r\n\r\n - Self hosted: success\r\n - Azure agent: failure\r\n\r\nHere are the parts of the tool-chain that I verified are identical:\r\n\r\n - Java version (pulling in specific JDK using JavaToolInstaller@0)\r\n - Maven version (made sure to install identical mvn version on self hosted agent as Azure)\r\n - Same pipeline except for build agent\r\n - Source code (building the same commit)\r\n - Same Linux 64bit architecture\r\n - blew away $AGENT_USER_HOME\\\\.m2 directory to make sure there was nothing funny left over\r\n \r\nI&#39;m checking these versions from the pipeline itself (by echoing vars).  And when I say identical, I mean that down to build number not just similar version.  The only thing that is slightly different is version displayed by uname: 5.13.0-1025-azure vs 5.REDACTED-generic, but that should not make any difference\r\n\r\nWhat am I missing that could make a difference?  I thought that if I have the same java,pom,m2 and mvn, I&#39;m guaranteed identical WAR.  It should even have the same hash or not?\r\n\r\nWhat am I missing that&#39;s creating the difference?\r\n\r\nThank you\r\n","title":"Why is identical mvn build on different agents producing different results?","body":"<p>My unit tests for a Java app in Azure pipelines are failing even though they are fine when I build the same code elsewhere.   Failed unit tests are mostly java.lang.NoClassDefFoundError type of errors and inspection of the produced WAR file confirms that some dependencies are in fact missing.</p>\n<p>I went as far as keeping everything the same and switching from Azure's build agents to a self hosted one.</p>\n<p>Results:</p>\n<ul>\n<li>Self hosted: success</li>\n<li>Azure agent: failure</li>\n</ul>\n<p>Here are the parts of the tool-chain that I verified are identical:</p>\n<ul>\n<li>Java version (pulling in specific JDK using JavaToolInstaller@0)</li>\n<li>Maven version (made sure to install identical mvn version on self hosted agent as Azure)</li>\n<li>Same pipeline except for build agent</li>\n<li>Source code (building the same commit)</li>\n<li>Same Linux 64bit architecture</li>\n<li>blew away $AGENT_USER_HOME\\.m2 directory to make sure there was nothing funny left over</li>\n</ul>\n<p>I'm checking these versions from the pipeline itself (by echoing vars).  And when I say identical, I mean that down to build number not just similar version.  The only thing that is slightly different is version displayed by uname: 5.13.0-1025-azure vs 5.REDACTED-generic, but that should not make any difference</p>\n<p>What am I missing that could make a difference?  I thought that if I have the same java,pom,m2 and mvn, I'm guaranteed identical WAR.  It should even have the same hash or not?</p>\n<p>What am I missing that's creating the difference?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","jakarta-mail","gmail-api","multipartconfig"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1599589433,"post_id":63799386,"comment_id":112818209,"body_markdown":"What exactly are you trying to do? What is the source of input?","body":"What exactly are you trying to do? What is the source of input?"},{"owner":{"account_id":19396763,"reputation":33,"user_id":14184287,"display_name":"Shivansh Bajpai"},"score":0,"creation_date":1599590710,"post_id":63799386,"comment_id":112818672,"body_markdown":"In a nutshell I want to fetch file from frontend and send mail via code attached with file that I received from frontend","body":"In a nutshell I want to fetch file from frontend and send mail via code attached with file that I received from frontend"},{"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"score":0,"creation_date":1599639642,"post_id":63799386,"comment_id":112832018,"body_markdown":"So for clarifying your intentions: do you want to basically attach a file through your front-end and then send it attached to a mail using Gmail API right? What is the issue you encounter when using a [Multipart upload](https://developers.google.com/gmail/api/guides/uploads#multipart)?","body":"So for clarifying your intentions: do you want to basically attach a file through your front-end and then send it attached to a mail using Gmail API right? What is the issue you encounter when using a <a href=\"https://developers.google.com/gmail/api/guides/uploads#multipart\" rel=\"nofollow noreferrer\">Multipart upload</a>?"},{"owner":{"account_id":19396763,"reputation":33,"user_id":14184287,"display_name":"Shivansh Bajpai"},"score":0,"creation_date":1599721670,"post_id":63799386,"comment_id":112862226,"body_markdown":"@MateoRandwolf   I need to know what changes can I make in this code   so that  I don&#39;t have to use file path to attach file in this code","body":"@MateoRandwolf   I need to know what changes can I make in this code   so that  I don&#39;t have to use file path to attach file in this code"},{"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"score":0,"creation_date":1599831870,"post_id":63799386,"comment_id":112905167,"body_markdown":"So, do you basically want to send an email with Gmail API which has an attachment? And you don&#39;t want to write the file path to attach this file to the email content?","body":"So, do you basically want to send an email with Gmail API which has an attachment? And you don&#39;t want to write the file path to attach this file to the email content?"},{"owner":{"account_id":19396763,"reputation":33,"user_id":14184287,"display_name":"Shivansh Bajpai"},"score":0,"creation_date":1599854795,"post_id":63799386,"comment_id":112914767,"body_markdown":"@MateoRandwolf   excatly","body":"@MateoRandwolf   excatly"},{"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"score":0,"creation_date":1600167925,"post_id":63799386,"comment_id":112996488,"body_markdown":"Are you Ok then with a solution that just basically takes the file obtained in the frontend with ```input``` of type ```file``` and then converts that file object into a base64 object to then be used by your backend to attach it to your mail? Is that what you wanted? To take the file from the front-end, convert it into an object to then be used in the backend as a simple object so that you dont have to store it as a file in your backend?","body":"Are you Ok then with a solution that just basically takes the file obtained in the frontend with <code>input</code> of type <code>file</code> and then converts that file object into a base64 object to then be used by your backend to attach it to your mail? Is that what you wanted? To take the file from the front-end, convert it into an object to then be used in the backend as a simple object so that you dont have to store it as a file in your backend?"},{"owner":{"account_id":19396763,"reputation":33,"user_id":14184287,"display_name":"Shivansh Bajpai"},"score":0,"creation_date":1600276242,"post_id":63799386,"comment_id":113039489,"body_markdown":"@MateoRandwolf   Yes Yes","body":"@MateoRandwolf   Yes Yes"}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599589565,"creation_date":1599589565,"answer_id":63799648,"question_id":63799386,"body_markdown":"This is kind of a shot in the dark because I don&#39;t believe I truly understand the question. If the question is; *How can I use a File instead of a MultipartFile and obtain an InputStream* then the answer would be to use an existing library like `Files.newInputStream` with a `Path` as the parameter.\r\n\r\n```\r\nPath path = Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;my&quot;, &quot;file&quot;);\r\n\r\ntry (InputStream input = Files.newInputStream(path)) {\r\n\r\n}\r\n```","title":"Send attached in mail java","body":"<p>This is kind of a shot in the dark because I don't believe I truly understand the question. If the question is; <em>How can I use a File instead of a MultipartFile and obtain an InputStream</em> then the answer would be to use an existing library like <code>Files.newInputStream</code> with a <code>Path</code> as the parameter.</p>\n<pre><code>Path path = Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;my&quot;, &quot;file&quot;);\n\ntry (InputStream input = Files.newInputStream(path)) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656270491,"creation_date":1600326953,"answer_id":63933032,"question_id":63799386,"body_markdown":"From [this other Stack Overflow answer](https://stackoverflow.com/a/57272491/12835757) *(this answer is posted as a community wiki)* you can get in your front-end the file object and convert it into a base64 object as follows: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const toBase64 = file =&gt; new Promise((resolve, reject) =&gt; {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () =&gt; resolve(reader.result);\r\n        reader.onerror = error =&gt; reject(error);\r\n    });\r\n\r\n    async function Main() {\r\n       const file = document.querySelector(&#39;#myfile&#39;).files[0];\r\n       console.log(await toBase64(file));\r\n    }\r\n\r\n    Main();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen, with this Base64 object you could send it to the backend with a ```PUT``` request to then attach it to the email following Gmail API instructions for multipart upload. \r\n","title":"Send attached in mail java","body":"<p>From <a href=\"https://stackoverflow.com/a/57272491/12835757\">this other Stack Overflow answer</a> <em>(this answer is posted as a community wiki)</em> you can get in your front-end the file object and convert it into a base64 object as follows:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const toBase64 = file =&gt; new Promise((resolve, reject) =&gt; {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () =&gt; resolve(reader.result);\n    reader.onerror = error =&gt; reject(error);\n});\n\nasync function Main() {\n   const file = document.querySelector('#myfile').files[0];\n   console.log(await toBase64(file));\n}\n\nMain();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then, with this Base64 object you could send it to the backend with a <code>PUT</code> request to then attach it to the email following Gmail API instructions for multipart upload.</p>\n"}],"owner":{"account_id":19396763,"reputation":33,"user_id":14184287,"display_name":"Shivansh Bajpai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656270491,"creation_date":1599588401,"question_id":63799386,"body_markdown":"Here in this it works perfectly fine but instead of using the recieved file I have use file path\r\nHow can I do that \r\nI though converting it into input stream would do some good but there is no constructor with input stream\r\nPlease let me know \r\nThanks in advance\r\n```\r\n@RequestMapping(&quot;/SendMail&quot;)\r\n\tpublic String mail(@RequestParam(&quot;prescription&quot;) MultipartFile prescription,@RequestParam(&quot;email&quot;) String email,HttpSession session) {\r\n\t\ttry {\r\n\t\t\tcustomer ct=custServ.customerExists(email);\r\n\t\t\tInputStream in = prescription.getInputStream();\r\n\t\t\tString filename=prescription.getName();\r\n\t\t\tif(ct!=null){\r\n                final String SEmail=&quot;email@gmail.com&quot;;\r\n                final String SPass=&quot;passowrd&quot;;\r\n                final String REmail=email;\r\n                final String Sub=&quot;Your prescription is here!&quot;;\r\n                //mail send Code\r\n            Properties props=new Properties();\r\n            props.put(&quot;mail.smtp.host&quot;,&quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.socketFactory.port&quot;,&quot;465&quot;);\r\n            props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;,&quot;true&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;,&quot;465&quot;);\r\n            Session ses=Session.getInstance(props,\r\n            new javax.mail.Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication(){\r\n                    return new PasswordAuthentication(SEmail,SPass);\r\n                }\r\n            }\r\n            );\r\n            Message message=new MimeMessage(ses);\r\n            message.setFrom(new InternetAddress(SEmail));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(REmail));\r\n            message.setSubject(Sub);\r\n            \r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n             messageBodyPart.setText(&quot;This is your prescription here&quot;);\r\n             Multipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n            messageBodyPart = new MimeBodyPart(); \r\n            \r\n           // File filep=new File(prescription);\r\n            DataSource source = new FileDataSource(&quot;C:\\\\Users\\\\Narci\\\\Desktop\\\\frontend\\\\Myqr3.jpg&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(source));\r\n            messageBodyPart.setFileName(filename);\r\n            multipart.addBodyPart(messageBodyPart);\r\n             message.setContent(multipart);\r\n            \r\n            Transport.send(message);\r\n            session.setAttribute(&quot;msg&quot;,&quot;Mail Sent successfully.&quot;);\r\n            }\r\n\t\t\telse{\r\n                session.setAttribute(&quot;msg&quot;, &quot;Wrong Emial ID&quot;);\r\n            }\r\n\t\t\treturn &quot;Doctor&quot;;\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\te.printStackTrace();\r\n\t\treturn &quot;Error&quot;;\r\n\t\t}\r\n\t} ```\r\n\r\n","title":"Send attached in mail java","body":"<p>Here in this it works perfectly fine but instead of using the recieved file I have use file path\nHow can I do that\nI though converting it into input stream would do some good but there is no constructor with input stream\nPlease let me know\nThanks in advance</p>\n<pre><code>@RequestMapping(&quot;/SendMail&quot;)\n    public String mail(@RequestParam(&quot;prescription&quot;) MultipartFile prescription,@RequestParam(&quot;email&quot;) String email,HttpSession session) {\n        try {\n            customer ct=custServ.customerExists(email);\n            InputStream in = prescription.getInputStream();\n            String filename=prescription.getName();\n            if(ct!=null){\n                final String SEmail=&quot;email@gmail.com&quot;;\n                final String SPass=&quot;passowrd&quot;;\n                final String REmail=email;\n                final String Sub=&quot;Your prescription is here!&quot;;\n                //mail send Code\n            Properties props=new Properties();\n            props.put(&quot;mail.smtp.host&quot;,&quot;smtp.gmail.com&quot;);\n            props.put(&quot;mail.smtp.socketFactory.port&quot;,&quot;465&quot;);\n            props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.put(&quot;mail.smtp.auth&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.port&quot;,&quot;465&quot;);\n            Session ses=Session.getInstance(props,\n            new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication(){\n                    return new PasswordAuthentication(SEmail,SPass);\n                }\n            }\n            );\n            Message message=new MimeMessage(ses);\n            message.setFrom(new InternetAddress(SEmail));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(REmail));\n            message.setSubject(Sub);\n            \n            BodyPart messageBodyPart = new MimeBodyPart();\n             messageBodyPart.setText(&quot;This is your prescription here&quot;);\n             Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n            messageBodyPart = new MimeBodyPart(); \n            \n           // File filep=new File(prescription);\n            DataSource source = new FileDataSource(&quot;C:\\\\Users\\\\Narci\\\\Desktop\\\\frontend\\\\Myqr3.jpg&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(source));\n            messageBodyPart.setFileName(filename);\n            multipart.addBodyPart(messageBodyPart);\n             message.setContent(multipart);\n            \n            Transport.send(message);\n            session.setAttribute(&quot;msg&quot;,&quot;Mail Sent successfully.&quot;);\n            }\n            else{\n                session.setAttribute(&quot;msg&quot;, &quot;Wrong Emial ID&quot;);\n            }\n            return &quot;Doctor&quot;;\n        }\n        catch(Exception e) {\n        e.printStackTrace();\n        return &quot;Error&quot;;\n        }\n    } ```\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa","criteria"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656255131,"post_id":72762464,"comment_id":128521924,"body_markdown":"I do believe `treat` might help: `cb.treat(root.join(&quot;partner&quot;), Entity1.class).get(...) or cb.treat(root.join(&quot;partner&quot;), Entity2.class).get(...)`","body":"I do believe <code>treat</code> might help: <code>cb.treat(root.join(&quot;partner&quot;), Entity1.class).get(...) or cb.treat(root.join(&quot;partner&quot;), Entity2.class).get(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656270354,"creation_date":1656264741,"answer_id":72763825,"question_id":72762464,"body_markdown":"Because category is not a field of `PartnerEntity`, you \r\ncannot search that field directly, you need first a join \r\nwith the other entities.\r\n\r\nThis query should work:\r\n```\r\nCriteriaBuilder cb = em.getCriteriaBuilder();\r\nCriteriaQuery&lt;MoralEntity&gt; query = cb.createQuery( MoralEntity.class );\r\nRoot&lt;MoralEntity&gt; root = query.from( MoralEntity.class );\r\nJoin&lt;MoralEntity, PartnerEntity&gt; partnerJoin = root\r\n\t\t.join( &quot;partner&quot; );\r\n\r\n// OPTIONAL: This will remove all Entity3 entries\r\npartnerJoin.on( partnerJoin.type().in( Entity1.class, Entity2.class ) );\r\n\r\nPath&lt;Object&gt; code1 = cb.treat( partnerJoin, Entity1.class )\r\n\t\t.get( &quot;category&quot; ).get( &quot;code&quot; );\r\nPredicate p1 = cb.equal( code1, &quot;ABC&quot; );\r\n\r\nPath&lt;Object&gt; code2 = cb.treat( partnerJoin, Entity2.class )\r\n\t\t.get( &quot;category&quot; ).get( &quot;code&quot; );\r\nPredicate p2 = cb.equal( code2, &quot;ABC&quot; );\r\n\r\nquery.where( cb.or( p1, p2 ) );\r\n\r\nList&lt;MoralEntity&gt; resultList = em.createQuery( query ).getResultList();\r\n```\r\n\r\nBut, this criteria will generate a SQL query that uses three joins with `PartnerEntity`:\r\n```\r\n    select\r\n        ormreactiv0_.internalId as internal1_0_,\r\n        ormreactiv0_.fk_partner as fk_partn2_0_ \r\n    from\r\n        Moral ormreactiv0_ \r\n    inner join\r\n        Partner ormreactiv1_ \r\n            on ormreactiv0_.fk_partner=ormreactiv1_.internalId \r\n            and (\r\n                ormreactiv1_.pType in (?, ?)\r\n            ) \r\n            inner join\r\n                Partner ormreactiv2_ \r\n                    on ormreactiv0_.fk_partner=ormreactiv2_.internalId \r\n            inner join\r\n                Partner ormreactiv3_ \r\n                    on ormreactiv0_.fk_partner=ormreactiv3_.internalId \r\n            where\r\n                ormreactiv2_.code=? \r\n                or ormreactiv3_.code=?\r\n```\r\n\r\nIf this causes performance issues, I would consider moving the `category` field to the super class `PartnerEntity` or use a native query.\r\n\r\n\r\n","title":"search in inheritance entities by criteria","body":"<p>Because category is not a field of <code>PartnerEntity</code>, you\ncannot search that field directly, you need first a join\nwith the other entities.</p>\n<p>This query should work:</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;MoralEntity&gt; query = cb.createQuery( MoralEntity.class );\nRoot&lt;MoralEntity&gt; root = query.from( MoralEntity.class );\nJoin&lt;MoralEntity, PartnerEntity&gt; partnerJoin = root\n        .join( &quot;partner&quot; );\n\n// OPTIONAL: This will remove all Entity3 entries\npartnerJoin.on( partnerJoin.type().in( Entity1.class, Entity2.class ) );\n\nPath&lt;Object&gt; code1 = cb.treat( partnerJoin, Entity1.class )\n        .get( &quot;category&quot; ).get( &quot;code&quot; );\nPredicate p1 = cb.equal( code1, &quot;ABC&quot; );\n\nPath&lt;Object&gt; code2 = cb.treat( partnerJoin, Entity2.class )\n        .get( &quot;category&quot; ).get( &quot;code&quot; );\nPredicate p2 = cb.equal( code2, &quot;ABC&quot; );\n\nquery.where( cb.or( p1, p2 ) );\n\nList&lt;MoralEntity&gt; resultList = em.createQuery( query ).getResultList();\n</code></pre>\n<p>But, this criteria will generate a SQL query that uses three joins with <code>PartnerEntity</code>:</p>\n<pre><code>    select\n        ormreactiv0_.internalId as internal1_0_,\n        ormreactiv0_.fk_partner as fk_partn2_0_ \n    from\n        Moral ormreactiv0_ \n    inner join\n        Partner ormreactiv1_ \n            on ormreactiv0_.fk_partner=ormreactiv1_.internalId \n            and (\n                ormreactiv1_.pType in (?, ?)\n            ) \n            inner join\n                Partner ormreactiv2_ \n                    on ormreactiv0_.fk_partner=ormreactiv2_.internalId \n            inner join\n                Partner ormreactiv3_ \n                    on ormreactiv0_.fk_partner=ormreactiv3_.internalId \n            where\n                ormreactiv2_.code=? \n                or ormreactiv3_.code=?\n</code></pre>\n<p>If this causes performance issues, I would consider moving the <code>category</code> field to the super class <code>PartnerEntity</code> or use a native query.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72763825,"answer_count":1,"score":0,"last_activity_date":1656270354,"creation_date":1656253800,"question_id":72762464,"body_markdown":"\r\nI have root entity:\r\n\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;MORAL&quot;)\r\n    public class MoralEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n    \tprivate String internalId;\r\n    \r\n    \t@OneToOne(cascade = CascadeType.ALL, optional = true)\r\n    \t@JoinColumn(name = &quot;fk_partner&quot;, nullable = true, updatable = true)\r\n    \tprivate PartnerEntity partner;\r\n    \t\r\n    }\r\n\r\nwhich have relation to parent entity:\r\n\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;pType&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public class PartnerEntity implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \tprivate String internalId;\r\n    \r\n    \t@Column(insertable = false, updatable = false)\r\n    \tprivate String pType;\r\n    \t\r\n    }\r\n\r\nAnd there is child entities:\r\n\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;E1&quot;)\r\n    public class Entity1 extends PartnerEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Embedded\r\n    \tprivate CategoryEntity category;\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;E2&quot;)\r\n    public class Entity2 extends PartnerEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Embedded\r\n    \tprivate CategoryEntity category;\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;E3&quot;)\r\n    public class Entity3 extends PartnerEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    }\r\n\r\nI want to search all MoralEntity where partner.category.code = &quot;ABC&quot;.\r\n    \r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;MoralEntity&gt; query = cb.createQuery(MoralEntity.class);\r\n    Root&lt;MoralEntity&gt; root = query.from(MoralEntity.class);\r\n    \r\n    Join&lt;MoralEntity, PartnerEntity&gt; moralPartnerJoin = root.join(&quot;partner&quot;);","title":"search in inheritance entities by criteria","body":"<p>I have root entity:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;MORAL&quot;)\npublic class MoralEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String internalId;\n\n    @OneToOne(cascade = CascadeType.ALL, optional = true)\n    @JoinColumn(name = &quot;fk_partner&quot;, nullable = true, updatable = true)\n    private PartnerEntity partner;\n    \n}\n</code></pre>\n<p>which have relation to parent entity:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;pType&quot;, discriminatorType = DiscriminatorType.STRING)\npublic class PartnerEntity implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String internalId;\n\n    @Column(insertable = false, updatable = false)\n    private String pType;\n    \n}\n</code></pre>\n<p>And there is child entities:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;E1&quot;)\npublic class Entity1 extends PartnerEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    @Embedded\n    private CategoryEntity category;\n\n}\n\n@Entity\n@DiscriminatorValue(&quot;E2&quot;)\npublic class Entity2 extends PartnerEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    @Embedded\n    private CategoryEntity category;\n\n}\n\n@Entity\n@DiscriminatorValue(&quot;E3&quot;)\npublic class Entity3 extends PartnerEntity {\n\n    private static final long serialVersionUID = 1L;\n\n}\n</code></pre>\n<p>I want to search all MoralEntity where partner.category.code = &quot;ABC&quot;.</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;MoralEntity&gt; query = cb.createQuery(MoralEntity.class);\nRoot&lt;MoralEntity&gt; root = query.from(MoralEntity.class);\n\nJoin&lt;MoralEntity, PartnerEntity&gt; moralPartnerJoin = root.join(&quot;partner&quot;);\n</code></pre>\n"},{"tags":["java","android","encryption","base64","rsa"],"comments":[{"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1482227696,"post_id":41231733,"comment_id":69678444,"body_markdown":"Your URL encoding is not agree with `Table 2: The &quot;URL and Filename safe&quot; Base 64 Alphabet`  of RFC4648. The character `=` should not be encoded as  `,`. I think this is not the problem, but you can review it. I","body":"Your URL encoding is not agree with <code>Table 2: The &quot;URL and Filename safe&quot; Base 64 Alphabet</code>  of RFC4648. The character <code>=</code> should not be encoded as  <code>,</code>. I think this is not the problem, but you can review it. I"},{"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1482227808,"post_id":41231733,"comment_id":69678518,"body_markdown":"Note also that in android you can encode to base64url using `Base64.URL_SAFE`. In fact in a POST request you also would not need to send with base64url encoding. It would be enough with base64","body":"Note also that in android you can encode to base64url using <code>Base64.URL_SAFE</code>. In fact in a POST request you also would not need to send with base64url encoding. It would be enough with base64"},{"owner":{"account_id":3804275,"reputation":1717,"user_id":4792132,"accept_rate":92,"display_name":"HomerPlata"},"score":0,"creation_date":1482232262,"post_id":41231733,"comment_id":69681387,"body_markdown":"Thanks Pedro. The non-standard URL encoding is not the issue, since I decode it in a similar way. I will try to focus more on the actual Base64 encoding.","body":"Thanks Pedro. The non-standard URL encoding is not the issue, since I decode it in a similar way. I will try to focus more on the actual Base64 encoding."}],"answers":[{"tags":[],"owner":{"account_id":3804275,"reputation":1717,"user_id":4792132,"accept_rate":92,"display_name":"HomerPlata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1482240931,"creation_date":1482240931,"answer_id":41243646,"question_id":41231733,"body_markdown":"Solved it! The issue was that I was using the same ALGORITHM String for Cipher, KeyFactory etc. I split this into two different Strings, and the full solution for my problem is...\r\n\r\nAndroid Code\r\n------------\r\n\r\n    private void exampleMethod(){\r\n        String messageString = &quot;This actually works in Java AND Android!&quot;;\r\n    \r\n        String serverPubKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjS7T3WJ+VLucnUP5WYryeg+hhOjZZl5VxwvJAgo4GrXaXdernTPtmXnOSUlbhd928QRCip7D3rLwJNvGIwhPa6coA+YQnj+aHQC02AvCJP/9jpeNmm5MASZfYFXrdmOrMhAPpDZ4rUk1mqtvpwBkYmW3VbMtG336wT1bAIKPHCZuI2n6glupJvs8gK0NuIoAPRlxiQmQD7NCcRx1Et4JmqOMIRC+HqdGv9GGqC/0PB0Fv6LXi8GdzJQPMdoRLR0rvVykNeIzmcimejoIVjI78XUZeB1hF7p55h6W4C4Xm/PrnzKuXw4lBVehZtRhyIvNO62G/eNEZ3tup1/m+vkzHQIDAQAB&quot;;\r\n    \r\n        String encryptedMessageString = getUrlEncodedCipherText(messageString, serverPubKey, Base64.NO_WRAP);\r\n        System.out.println(&quot;encryptedMessageString: &quot; + encryptedMessageString);\r\n        /**\r\n         * This works! Ciphertext always comes out different, as expected, and decodes successfully when fed into Java application.\r\n         */\r\n    }\r\n    \r\n    public static String getUrlEncodedCipherText(String plainText, String pubKey, int base64Type){\r\n        try {\r\n            final PublicKey publicKey = loadPublicKey(pubKey, base64Type);\r\n            final byte[] cipherBytes = encrypt(plainText, publicKey);\r\n            String cipherText = base64Encode(cipherBytes, base64Type);\r\n            String urlEncodedCipherText = urlEncode(cipherText);\r\n            return urlEncodedCipherText;\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static final String ALGORITHM = &quot;RSA&quot;;\r\n\tpublic static final String CIPHER_ALGORITHM = &quot;RSA/ECB/PKCS1Padding&quot;;\r\n    \r\n    public static PublicKey loadPublicKey(String stored, int base64Type) throws GeneralSecurityException {\r\n        String pubKey = stored.replace(BEGIN_PUBLIC_KEY, &quot;&quot;);\r\n        pubKey = pubKey.replace(END_PUBLIC_KEY, &quot;&quot;);\r\n    \r\n        byte[] data = Base64.decode(pubKey, base64Type);\r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n        KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\r\n        PublicKey pub = fact.generatePublic(spec);\r\n        return pub;\r\n    }\r\n    \r\n    public static byte[] encrypt(String text, PublicKey key) {\r\n        byte[] cipherText = null;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            cipherText = cipher.doFinal(text.getBytes());\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return cipherText;\r\n    }\r\n    \r\n    public static String base64Encode(byte[] cipherBytes, int base64Type){\r\n        byte[] base64Cipher = Base64.encode(cipherBytes, base64Type);\r\n        return new String(base64Cipher);\r\n    }\r\n    \r\n    public static String urlEncode(String text){\r\n        return text.replace(&quot;+&quot;, &quot;-&quot;).replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;=&quot;, &quot;,&quot;);\r\n    }\r\n\r\n\r\nJava Code\r\n---------\r\n\r\n    private void exampleMethod(){\r\n        String pubKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjS7T3WJ+VLucnUP5WYryeg+hhOjZZl5VxwvJAgo4GrXaXdernTPtmXnOSUlbhd928QRCip7D3rLwJNvGIwhPa6coA+YQnj+aHQC02AvCJP/9jpeNmm5MASZfYFXrdmOrMhAPpDZ4rUk1mqtvpwBkYmW3VbMtG336wT1bAIKPHCZuI2n6glupJvs8gK0NuIoAPRlxiQmQD7NCcRx1Et4JmqOMIRC+HqdGv9GGqC/0PB0Fv6LXi8GdzJQPMdoRLR0rvVykNeIzmcimejoIVjI78XUZeB1hF7p55h6W4C4Xm/PrnzKuXw4lBVehZtRhyIvNO62G/eNEZ3tup1/m+vkzHQIDAQAB&quot;;\r\n        String privKey = &quot;MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCNLtPdYn5Uu5ydQ/lZivJ6D6GE6NlmXlXHC8kCCjgatdpd16udM+2Zec5JSVuF33bxBEKKnsPesvAk28YjCE9rpygD5hCeP5odALTYC8Ik//2Ol42abkwBJl9gVet2Y6syEA+kNnitSTWaq2+nAGRiZbdVsy0bffrBPVsAgo8cJm4jafqCW6km+zyArQ24igA9GXGJCZAPs0JxHHUS3gmao4whEL4ep0a/0YaoL/Q8HQW/oteLwZ3MlA8x2hEtHSu9XKQ14jOZyKZ6OghWMjvxdRl4HWEXunnmHpbgLheb8+ufMq5fDiUFV6Fm1GHIi807rYb940Rne26nX+b6+TMdAgMBAAECggEAOHrlUwmWFHvBmcCZvlKx0lbyfONSJXvTwP9b+K7x5u2dYDFpfEhL4zwxZGwuaw4M3TqhDCeboDnhjD1HtLgcXarPfU/KkiRLmRKxRkTd9ENcwnCqu38odMVPHpEA06nn0O1P9Je+C0TgZvHyhtLHVf3vLB+0Ce2KJUhQYZHZgp7dBt0jgsGlEvQTtc1q3UtElNYbcPdLhg16Dcvw93+C+CWizUxHKl2VAxYBz5fGBxa+Cc6xbj4OGd0mvK9Z+71cX8sgp+WIdSV3a2SZrwYq8XxdtJJfdOwPc6LE56Ul9y3fE/biG8DM8ysu7g4C2K1tjKBTq1Rzz4NBCaGwkWQwGQKBgQDCX5nOiHYi0OYoE3WEVYVuEaf/YljurMiU4xYsy3bXzI42S+iKfVHz+/tvTrXSE0n6AdJnDHyP7mncFZodaurYR90S9VW3P+aOGoysmOmBRWW30xyIZ1g5+PJ9xPzoBfyc/AGHO5w5roY7Gg5myUC+UbucFU+9/JHUVoGV8yFz+wKBgQC58f8iY37sXf/sguv0YHpUV1suPWT90kxC25eRQz0lHWIIw4gfGXI7Tf2vtx7hUPK1z3X9lPiTsqmZIRKPrvykD8djmpfZEOzZlLxxhHUZMZppx19xSsgHaespCZir68aytBWn7FOVpehJP7MWaJurg03V8Cv0NSPU5JhN/j8xxwKBgQCkb6I78oAWtilvz/6EJKGL244HZJkd2bibFH4HCV4R9HB/CLrCpoB1a0BsCueQwFa+FVp9aTfbv/N4iCHoLzJcJHeneTu5mmqe32ERBw/MF/yUhhnGX79o0+25brQSSjZKTHuyf0CMH9RZHZL/a9TE7XpM8k6SyKBKRaC9TYGIjwKBgDZG10x4coIYZi3pgWqSBuM7pJf4v9P/YNdbNgDm+aAt1YHtYXyCdv+solJ6R39Jm69KYYylwXGLg0n5h2t9jq1tFayTYaOw9xIEAoW4Pl4eRo597fQp+f2AA261KGV2q0danb+okjVqekV3XJU778S+zSeXtZzRLiZkm7iYcGXdAoGAUEbRAsopG+blDBmuC5Fhr7Grof9lw/zRgfl516n9oujOmDY8Sl4F7jHkgKzOL1CpvMbRswr6G3tmpJMYGNy0HVX4n4QAiIvEraLUtLlh7LotUiU8zzjniK7HPANoOsQxEi6iUR6jWRf0LKgckE9aaUJjvljj1Hr4PbFpny2gjD4=&quot;;\r\n    \r\n        String message = &quot;This actually works in Java AND Android!&quot;;\r\n        String encryptedMessage = getUrlEncodedCipherText(message, pubKey);\r\n    \r\n        try {\r\n            byte[] base64Decoded = Base64.decodeBase64(encryptedMessage.getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n            String decryptedMessage = decrypt(base64Decoded, loadPrivateKey(privKey));\r\n            System.out.println(&quot;decryptedMessage: &quot; + decryptedMessage);\r\n            /**\r\n             * This works! Ciphertext always comes out different, as expected, and decodes successfully.\r\n             */\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public static String getUrlEncodedCipherText(String plainText, String pubKey){\r\n        try {\r\n            final PublicKey publicKey = loadPublicKey(pubKey);\r\n            final byte[] cipherBytes = encrypt(plainText, publicKey);\r\n            String cipherText = base64Encode(cipherBytes);\r\n            String urlEncodedCipherText = urlEncode(cipherText);\r\n            return urlEncodedCipherText;\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static final String ALGORITHM = &quot;RSA&quot;;\r\n\tpublic static final String CIPHER_ALGORITHM = &quot;RSA/ECB/PKCS1Padding&quot;;\r\n    \r\n    public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\r\n        String pubKey = stored.replace(BEGIN_PUBLIC_KEY, &quot;&quot;);\r\n        pubKey = pubKey.replace(END_PUBLIC_KEY, &quot;&quot;);\r\n    \r\n        byte[] data = Base64.decodeBase64(pubKey);\r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n        KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\r\n        PublicKey pub = fact.generatePublic(spec);\r\n        return pub;\r\n    }\r\n    \r\n    public static byte[] encrypt(String text, PublicKey key) {\r\n        byte[] cipherText = null;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            cipherText = cipher.doFinal(text.getBytes());\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return cipherText;\r\n    }\r\n    \r\n    public static String decrypt(byte[] encrypted, PrivateKey key) {\r\n        byte[] decryptedText = null;\r\n        try {\r\n            final Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            decryptedText = cipher.doFinal(encrypted);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return new String(decryptedText);\r\n    }\r\n    \r\n    public static String base64Encode(byte[] cipherBytes){\r\n        byte[] base64Cipher = Base64.encodeBase64(cipherBytes);\r\n        return new String(base64Cipher);\r\n    }\r\n    \r\n    public static String urlEncode(String text){\r\n        return text.replace(&quot;+&quot;, &quot;-&quot;).replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;=&quot;, &quot;,&quot;);\r\n    }","title":"RSA Encryption disparity between Android and Java environments","body":"<p>Solved it! The issue was that I was using the same ALGORITHM String for Cipher, KeyFactory etc. I split this into two different Strings, and the full solution for my problem is...</p>\n\n<h2>Android Code</h2>\n\n<pre><code>private void exampleMethod(){\n    String messageString = \"This actually works in Java AND Android!\";\n\n    String serverPubKey = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjS7T3WJ+VLucnUP5WYryeg+hhOjZZl5VxwvJAgo4GrXaXdernTPtmXnOSUlbhd928QRCip7D3rLwJNvGIwhPa6coA+YQnj+aHQC02AvCJP/9jpeNmm5MASZfYFXrdmOrMhAPpDZ4rUk1mqtvpwBkYmW3VbMtG336wT1bAIKPHCZuI2n6glupJvs8gK0NuIoAPRlxiQmQD7NCcRx1Et4JmqOMIRC+HqdGv9GGqC/0PB0Fv6LXi8GdzJQPMdoRLR0rvVykNeIzmcimejoIVjI78XUZeB1hF7p55h6W4C4Xm/PrnzKuXw4lBVehZtRhyIvNO62G/eNEZ3tup1/m+vkzHQIDAQAB\";\n\n    String encryptedMessageString = getUrlEncodedCipherText(messageString, serverPubKey, Base64.NO_WRAP);\n    System.out.println(\"encryptedMessageString: \" + encryptedMessageString);\n    /**\n     * This works! Ciphertext always comes out different, as expected, and decodes successfully when fed into Java application.\n     */\n}\n\npublic static String getUrlEncodedCipherText(String plainText, String pubKey, int base64Type){\n    try {\n        final PublicKey publicKey = loadPublicKey(pubKey, base64Type);\n        final byte[] cipherBytes = encrypt(plainText, publicKey);\n        String cipherText = base64Encode(cipherBytes, base64Type);\n        String urlEncodedCipherText = urlEncode(cipherText);\n        return urlEncodedCipherText;\n    }\n    catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic static final String ALGORITHM = \"RSA\";\npublic static final String CIPHER_ALGORITHM = \"RSA/ECB/PKCS1Padding\";\n\npublic static PublicKey loadPublicKey(String stored, int base64Type) throws GeneralSecurityException {\n    String pubKey = stored.replace(BEGIN_PUBLIC_KEY, \"\");\n    pubKey = pubKey.replace(END_PUBLIC_KEY, \"\");\n\n    byte[] data = Base64.decode(pubKey, base64Type);\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n    KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\n    PublicKey pub = fact.generatePublic(spec);\n    return pub;\n}\n\npublic static byte[] encrypt(String text, PublicKey key) {\n    byte[] cipherText = null;\n    try {\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        cipherText = cipher.doFinal(text.getBytes());\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cipherText;\n}\n\npublic static String base64Encode(byte[] cipherBytes, int base64Type){\n    byte[] base64Cipher = Base64.encode(cipherBytes, base64Type);\n    return new String(base64Cipher);\n}\n\npublic static String urlEncode(String text){\n    return text.replace(\"+\", \"-\").replace(\"/\", \"_\").replace(\"=\", \",\");\n}\n</code></pre>\n\n<h2>Java Code</h2>\n\n<pre><code>private void exampleMethod(){\n    String pubKey = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjS7T3WJ+VLucnUP5WYryeg+hhOjZZl5VxwvJAgo4GrXaXdernTPtmXnOSUlbhd928QRCip7D3rLwJNvGIwhPa6coA+YQnj+aHQC02AvCJP/9jpeNmm5MASZfYFXrdmOrMhAPpDZ4rUk1mqtvpwBkYmW3VbMtG336wT1bAIKPHCZuI2n6glupJvs8gK0NuIoAPRlxiQmQD7NCcRx1Et4JmqOMIRC+HqdGv9GGqC/0PB0Fv6LXi8GdzJQPMdoRLR0rvVykNeIzmcimejoIVjI78XUZeB1hF7p55h6W4C4Xm/PrnzKuXw4lBVehZtRhyIvNO62G/eNEZ3tup1/m+vkzHQIDAQAB\";\n    String privKey = \"MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCNLtPdYn5Uu5ydQ/lZivJ6D6GE6NlmXlXHC8kCCjgatdpd16udM+2Zec5JSVuF33bxBEKKnsPesvAk28YjCE9rpygD5hCeP5odALTYC8Ik//2Ol42abkwBJl9gVet2Y6syEA+kNnitSTWaq2+nAGRiZbdVsy0bffrBPVsAgo8cJm4jafqCW6km+zyArQ24igA9GXGJCZAPs0JxHHUS3gmao4whEL4ep0a/0YaoL/Q8HQW/oteLwZ3MlA8x2hEtHSu9XKQ14jOZyKZ6OghWMjvxdRl4HWEXunnmHpbgLheb8+ufMq5fDiUFV6Fm1GHIi807rYb940Rne26nX+b6+TMdAgMBAAECggEAOHrlUwmWFHvBmcCZvlKx0lbyfONSJXvTwP9b+K7x5u2dYDFpfEhL4zwxZGwuaw4M3TqhDCeboDnhjD1HtLgcXarPfU/KkiRLmRKxRkTd9ENcwnCqu38odMVPHpEA06nn0O1P9Je+C0TgZvHyhtLHVf3vLB+0Ce2KJUhQYZHZgp7dBt0jgsGlEvQTtc1q3UtElNYbcPdLhg16Dcvw93+C+CWizUxHKl2VAxYBz5fGBxa+Cc6xbj4OGd0mvK9Z+71cX8sgp+WIdSV3a2SZrwYq8XxdtJJfdOwPc6LE56Ul9y3fE/biG8DM8ysu7g4C2K1tjKBTq1Rzz4NBCaGwkWQwGQKBgQDCX5nOiHYi0OYoE3WEVYVuEaf/YljurMiU4xYsy3bXzI42S+iKfVHz+/tvTrXSE0n6AdJnDHyP7mncFZodaurYR90S9VW3P+aOGoysmOmBRWW30xyIZ1g5+PJ9xPzoBfyc/AGHO5w5roY7Gg5myUC+UbucFU+9/JHUVoGV8yFz+wKBgQC58f8iY37sXf/sguv0YHpUV1suPWT90kxC25eRQz0lHWIIw4gfGXI7Tf2vtx7hUPK1z3X9lPiTsqmZIRKPrvykD8djmpfZEOzZlLxxhHUZMZppx19xSsgHaespCZir68aytBWn7FOVpehJP7MWaJurg03V8Cv0NSPU5JhN/j8xxwKBgQCkb6I78oAWtilvz/6EJKGL244HZJkd2bibFH4HCV4R9HB/CLrCpoB1a0BsCueQwFa+FVp9aTfbv/N4iCHoLzJcJHeneTu5mmqe32ERBw/MF/yUhhnGX79o0+25brQSSjZKTHuyf0CMH9RZHZL/a9TE7XpM8k6SyKBKRaC9TYGIjwKBgDZG10x4coIYZi3pgWqSBuM7pJf4v9P/YNdbNgDm+aAt1YHtYXyCdv+solJ6R39Jm69KYYylwXGLg0n5h2t9jq1tFayTYaOw9xIEAoW4Pl4eRo597fQp+f2AA261KGV2q0danb+okjVqekV3XJU778S+zSeXtZzRLiZkm7iYcGXdAoGAUEbRAsopG+blDBmuC5Fhr7Grof9lw/zRgfl516n9oujOmDY8Sl4F7jHkgKzOL1CpvMbRswr6G3tmpJMYGNy0HVX4n4QAiIvEraLUtLlh7LotUiU8zzjniK7HPANoOsQxEi6iUR6jWRf0LKgckE9aaUJjvljj1Hr4PbFpny2gjD4=\";\n\n    String message = \"This actually works in Java AND Android!\";\n    String encryptedMessage = getUrlEncodedCipherText(message, pubKey);\n\n    try {\n        byte[] base64Decoded = Base64.decodeBase64(encryptedMessage.getBytes(Charset.forName(\"UTF-8\")));\n        String decryptedMessage = decrypt(base64Decoded, loadPrivateKey(privKey));\n        System.out.println(\"decryptedMessage: \" + decryptedMessage);\n        /**\n         * This works! Ciphertext always comes out different, as expected, and decodes successfully.\n         */\n    }\n    catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\npublic static String getUrlEncodedCipherText(String plainText, String pubKey){\n    try {\n        final PublicKey publicKey = loadPublicKey(pubKey);\n        final byte[] cipherBytes = encrypt(plainText, publicKey);\n        String cipherText = base64Encode(cipherBytes);\n        String urlEncodedCipherText = urlEncode(cipherText);\n        return urlEncodedCipherText;\n    }\n    catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic static final String ALGORITHM = \"RSA\";\npublic static final String CIPHER_ALGORITHM = \"RSA/ECB/PKCS1Padding\";\n\npublic static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\n    String pubKey = stored.replace(BEGIN_PUBLIC_KEY, \"\");\n    pubKey = pubKey.replace(END_PUBLIC_KEY, \"\");\n\n    byte[] data = Base64.decodeBase64(pubKey);\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n    KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\n    PublicKey pub = fact.generatePublic(spec);\n    return pub;\n}\n\npublic static byte[] encrypt(String text, PublicKey key) {\n    byte[] cipherText = null;\n    try {\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        cipherText = cipher.doFinal(text.getBytes());\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cipherText;\n}\n\npublic static String decrypt(byte[] encrypted, PrivateKey key) {\n    byte[] decryptedText = null;\n    try {\n        final Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        decryptedText = cipher.doFinal(encrypted);\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n    return new String(decryptedText);\n}\n\npublic static String base64Encode(byte[] cipherBytes){\n    byte[] base64Cipher = Base64.encodeBase64(cipherBytes);\n    return new String(base64Cipher);\n}\n\npublic static String urlEncode(String text){\n    return text.replace(\"+\", \"-\").replace(\"/\", \"_\").replace(\"=\", \",\");\n}\n</code></pre>\n"}],"owner":{"account_id":3804275,"reputation":1717,"user_id":4792132,"accept_rate":92,"display_name":"HomerPlata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41243646,"answer_count":1,"score":6,"last_activity_date":1656269622,"creation_date":1482184934,"question_id":41231733,"body_markdown":"Firstly, apologies for the amount of code I&#39;m about to post. I&#39;m trying to use the RSA public key from my Java application to encrypt a message in an Android app, and then send the ciphertext back to a Java environment for decryption, but upon attempting to decrypt I always get this error:\r\n\r\n    javax.crypto.BadPaddingException: Decryption error\r\n    \tat sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:380)\r\n    \tat sun.security.rsa.RSAPadding.unpad(RSAPadding.java:291)\r\n    \tat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:356)\r\n    \tat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:382)\r\n    \tat javax.crypto.Cipher.doFinal(Cipher.java:2087)\r\n        ...\r\n\r\nThe ciphertext does contain the correct number of bytes (512), so it&#39;s confusing to see a &quot;bad padding&quot; exception. Other similar posts on SO have suggested using &quot;RSA/ECB/PKCS1Padding&quot; as the algorithm, but this does not work.\r\n\r\nAnnoyingly, encryption and decryption in the Android environment (using Base64.URL_SAFE as the &#39;base64Type&#39;) works just fine, I just can&#39;t seem to get the initial encryption working with the public key produced via Java.\r\n\r\nI have extracted the bare minimum code into examples, as shown below:\r\n\r\nAndroid Code\r\n------------\r\n\r\n    private void exampleMethod(){\r\n        String messageString = &quot;Why does this not work in Android?&quot;;\r\n    \r\n        String serverPubKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoApIBIna77xq4j+M2RmyIhsB++41NHcY4KIPfX4VP4ADnkO+7ejbs4le/twrPtYGESVPF9czSMB5bzmTBZtq0jC8oT/6wiDIBlSuzo4fBrGociBIuaOjyG/j3ZhpcWpWPXuzER+ehuQ+8hZkMuJdK9IodqPR+5jmCef4rXoKObwS02LYQ1co5dEmtZVQRmmeYaVnWibd/s1d4KKGvSzXap3YBTf8peH5UGIQrLOTqvX0bo34xFxmj5U0H3xudnnwuVAlQlj9KiHPPABuwNtm1buRKJb5HZhSCveyT/2YAOmQqGrVN/nALtlZyTDZNs//Vp1zb9exSuG0t5xFc+pn4QIDAQAB&quot;;\r\n    \r\n        String encryptedMessageString = getUrlEncodedCipherText(messageString, serverPubKey, Base64.NO_WRAP);\r\n        /**\r\n         * CipherText is ALWAYS the same and does not decrypt: DA_-RpCki-mjF6tSwiP2IhuW2UfPzZC7A9oVTTNptjT73HtROiQZvUC0Z2veJ5VwVx4toolvLErQmKKoQlqELSD756bu8ohEQwgJ4Xsu-3tXv-uEi5a9a_u19WnNLIF7tayDUhFeD2RzNvW895y1v-D30TvQRskNCFJfnjaytr_vmcVv8HrXURCmG6AMltaqdN72zh8p6VkKcjXSLiCApH957GXSqJCRzxbaQwf8X5EJfn8CQrPDGbE3gdhc2_hFwXQNIdxPxrOLtVbaFp9i_4GRWXJ6E2jHttV2bDv_uSVIz3OBzh7EkJiCnl3c904sH8QZae8c3SQyrTxVL7EpIA,,\r\n         */\r\n    }\r\n    \r\n    public static String getUrlEncodedCipherText(String plainText, String pubKey, int base64Type){\r\n        try {\r\n            final PublicKey publicKey = loadPublicKey(pubKey, base64Type);\r\n            final byte[] cipherBytes = encrypt(plainText, publicKey);\r\n            String cipherText = base64Encode(cipherBytes, base64Type);\r\n            String urlEncodedCipherText = urlEncode(cipherText);\r\n            return urlEncodedCipherText;\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static final String ALGORITHM = &quot;RSA&quot;;\r\n    \r\n    public static PublicKey loadPublicKey(String stored, int base64Type) throws GeneralSecurityException {\r\n        String pubKey = stored.replace(BEGIN_PUBLIC_KEY, &quot;&quot;);\r\n        pubKey = pubKey.replace(END_PUBLIC_KEY, &quot;&quot;);\r\n    \r\n        byte[] data = Base64.decode(pubKey, base64Type);\r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n        KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\r\n        PublicKey pub = fact.generatePublic(spec);\r\n        return pub;\r\n    }\r\n    \r\n    public static byte[] encrypt(String text, PublicKey key) {\r\n        byte[] cipherText = null;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            cipherText = cipher.doFinal(text.getBytes());\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return cipherText;\r\n    }\r\n    \r\n    public static String base64Encode(byte[] cipherBytes, int base64Type){\r\n        byte[] base64Cipher = Base64.encode(cipherBytes, base64Type);\r\n        return new String(base64Cipher);\r\n    }\r\n    \r\n    public static String urlEncode(String text){\r\n        return text.replace(&quot;+&quot;, &quot;-&quot;).replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;=&quot;, &quot;,&quot;);\r\n    }\r\n\r\n\r\nJava Code\r\n---------\r\n\r\n    private void exampleMethod(){\r\n        String pubKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoApIBIna77xq4j+M2RmyIhsB++41NHcY4KIPfX4VP4ADnkO+7ejbs4le/twrPtYGESVPF9czSMB5bzmTBZtq0jC8oT/6wiDIBlSuzo4fBrGociBIuaOjyG/j3ZhpcWpWPXuzER+ehuQ+8hZkMuJdK9IodqPR+5jmCef4rXoKObwS02LYQ1co5dEmtZVQRmmeYaVnWibd/s1d4KKGvSzXap3YBTf8peH5UGIQrLOTqvX0bo34xFxmj5U0H3xudnnwuVAlQlj9KiHPPABuwNtm1buRKJb5HZhSCveyT/2YAOmQqGrVN/nALtlZyTDZNs//Vp1zb9exSuG0t5xFc+pn4QIDAQAB&quot;;\r\n        String privKey = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCgCkgEidrvvGriP4zZGbIiGwH77jU0dxjgog99fhU/gAOeQ77t6NuziV7+3Cs+1gYRJU8X1zNIwHlvOZMFm2rSMLyhP/rCIMgGVK7Ojh8GsahyIEi5o6PIb+PdmGlxalY9e7MRH56G5D7yFmQy4l0r0ih2o9H7mOYJ5/itego5vBLTYthDVyjl0Sa1lVBGaZ5hpWdaJt3+zV3gooa9LNdqndgFN/yl4flQYhCss5Oq9fRujfjEXGaPlTQffG52efC5UCVCWP0qIc88AG7A22bVu5EolvkdmFIK97JP/ZgA6ZCoatU3+cAu2VnJMNk2z/9WnXNv17FK4bS3nEVz6mfhAgMBAAECggEBAIax4IchV0jqdbLR9cNK4yfdP0A/7jun+SImg48FLPDy1xi+v9UQZMioV3F88FDEZPrNQdI45wrWI94+wMS5V6BsMHYumOgGGxNo9m8WInrJz5GuJkdHuLMbqNZ6TlSMQOUiVUWWLSAuveOWgOJqriwRhsjDfBmbSBESUbP/wNdxX42RJudKJbVUV07urjFc3VAUrX+Sbj9KMZRe10pOzes7WKq9NMyQuitLcwCPzs2pQoXW1LdZYrVSi6MOqE1WHSL6VAgPx3cHYl7yznhspLmvDgnKTwnVbRo3BBwkxNbpvZXzgJBLEPLUtLqwNLKkU0aSF9MT5TABx4tfCaRQIiECgYEA70980I9mK74tjXlFrMKaLGigjHBss+Q/b7cRAtlQAhVOn0FCqz4Fc4iBri0iPekVIZ09lRehacEstTR8JBImMW2mqGyMwBbPaqQOf6xZ0pIoYb0ODAIjUNTWoBEr72+ko5HjaoQbxeb2QGUhMe/t3M1CMsrETEQTdA+qNP5C61UCgYEAqzOL7sSsNfTYbAF156qPPqx1IyXNqu0wbKa/zufCxGlFJDkaYoYIECKdLbpI2fqJsENqpZHgOnT0+LbqhFn07NIe1zT/zf0rh7w5fqxqy3Srs4+Mj6HwTIC7QpeXjiHxQuVrfi2W2ZatjQi8froxtEj3mpYKHsl0Ia89JSczQl0CgYAqHPXdCe8z8XK4u8esIE7bU8o1DK/EdH1JXpDqzG1NAIzmb6iY1ABHlZUknqKw/GyQjshAjXkFUE5a0RKrkloQRriWWQvn3dvAa4B1rVHdQYVDte5b5KBsYBgo8PynVSFG+6xmmTr996gMKv/NduiH+8MThyVGOpCl0v/j9X63RQKBgEmOhir6eXtdTbdqETyOPamR82o8jddIvauRIYxGa5p0GG7t0fZO3BwCo0HIbhCp4orHDIVC3fJ/2dkazjw7Yk52ISYZ8WaRxig1qQZSEjiEUll97ciwrUxRayO7ejRpRP2XEM5PzCaE5OBZxpM0cLKjPy8+E+8SY0Etx7m01ANJAoGBALUubgeKx1fut80YHLDmxOiTg9olFJi83Lj1TPQ0fRCXdJX6pHCSypBScoXuJYVwuIavHhTf8DPQ6OONq/V3DXKsGLydK/2E5yg+bz3qYfYslb3vDkZovNJDmfoyR0XakWbUTotntUQqodLk8Q9klHKp6oy+MkGY57R5OhIZBGPa&quot;;\r\n    \r\n        String message = &quot;Why does this not work in Android?&quot;;\r\n        String encryptedMessage = getUrlEncodedCipherText(message, pubKey);\r\n    \r\n        try {\r\n            byte[] base64Decoded = Base64.decodeBase64(encryptedMessage.getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n            String decryptedMessage = decrypt(base64Decoded, loadPrivateKey(privKey));\r\n            System.out.println(&quot;decryptedMessage: &quot; + decryptedMessage);\r\n            /**\r\n             * This works! Ciphertext always comes out different, as expected, and decodes successfully.\r\n             */\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public static String getUrlEncodedCipherText(String plainText, String pubKey){\r\n        try {\r\n            final PublicKey publicKey = loadPublicKey(pubKey);\r\n            final byte[] cipherBytes = encrypt(plainText, publicKey);\r\n            String cipherText = base64Encode(cipherBytes);\r\n            String urlEncodedCipherText = urlEncode(cipherText);\r\n            return urlEncodedCipherText;\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    public static final String ALGORITHM = &quot;RSA&quot;;\r\n    \r\n    public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\r\n        String pubKey = stored.replace(BEGIN_PUBLIC_KEY, &quot;&quot;);\r\n        pubKey = pubKey.replace(END_PUBLIC_KEY, &quot;&quot;);\r\n    \r\n        byte[] data = Base64.decodeBase64(pubKey);\r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n        KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\r\n        PublicKey pub = fact.generatePublic(spec);\r\n        return pub;\r\n    }\r\n    \r\n    public static byte[] encrypt(String text, PublicKey key) {\r\n        byte[] cipherText = null;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            cipherText = cipher.doFinal(text.getBytes());\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return cipherText;\r\n    }\r\n    \r\n    public static String decrypt(byte[] encrypted, PrivateKey key) {\r\n        byte[] decryptedText = null;\r\n        try {\r\n            final Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            decryptedText = cipher.doFinal(encrypted);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return new String(decryptedText);\r\n    }\r\n    \r\n    public static String base64Encode(byte[] cipherBytes){\r\n        byte[] base64Cipher = Base64.encodeBase64(cipherBytes);\r\n        return new String(base64Cipher);\r\n    }\r\n    \r\n    public static String urlEncode(String text){\r\n        return text.replace(&quot;+&quot;, &quot;-&quot;).replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;=&quot;, &quot;,&quot;);\r\n    }\r\n\r\n\r\nI&#39;m aware that the problem has to be to do with difference in the way Android and Java interpret the RSA algorithm, and/or differences with the Base64 encode/decode, but I&#39;m stumped. Any assistance greatly appreciated.","title":"RSA Encryption disparity between Android and Java environments","body":"<p>Firstly, apologies for the amount of code I'm about to post. I'm trying to use the RSA public key from my Java application to encrypt a message in an Android app, and then send the ciphertext back to a Java environment for decryption, but upon attempting to decrypt I always get this error:</p>\n\n<pre><code>javax.crypto.BadPaddingException: Decryption error\n    at sun.security.rsa.RSAPadding.unpadV15(RSAPadding.java:380)\n    at sun.security.rsa.RSAPadding.unpad(RSAPadding.java:291)\n    at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:356)\n    at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:382)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2087)\n    ...\n</code></pre>\n\n<p>The ciphertext does contain the correct number of bytes (512), so it's confusing to see a \"bad padding\" exception. Other similar posts on SO have suggested using \"RSA/ECB/PKCS1Padding\" as the algorithm, but this does not work.</p>\n\n<p>Annoyingly, encryption and decryption in the Android environment (using Base64.URL_SAFE as the 'base64Type') works just fine, I just can't seem to get the initial encryption working with the public key produced via Java.</p>\n\n<p>I have extracted the bare minimum code into examples, as shown below:</p>\n\n<h2>Android Code</h2>\n\n<pre><code>private void exampleMethod(){\n    String messageString = \"Why does this not work in Android?\";\n\n    String serverPubKey = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoApIBIna77xq4j+M2RmyIhsB++41NHcY4KIPfX4VP4ADnkO+7ejbs4le/twrPtYGESVPF9czSMB5bzmTBZtq0jC8oT/6wiDIBlSuzo4fBrGociBIuaOjyG/j3ZhpcWpWPXuzER+ehuQ+8hZkMuJdK9IodqPR+5jmCef4rXoKObwS02LYQ1co5dEmtZVQRmmeYaVnWibd/s1d4KKGvSzXap3YBTf8peH5UGIQrLOTqvX0bo34xFxmj5U0H3xudnnwuVAlQlj9KiHPPABuwNtm1buRKJb5HZhSCveyT/2YAOmQqGrVN/nALtlZyTDZNs//Vp1zb9exSuG0t5xFc+pn4QIDAQAB\";\n\n    String encryptedMessageString = getUrlEncodedCipherText(messageString, serverPubKey, Base64.NO_WRAP);\n    /**\n     * CipherText is ALWAYS the same and does not decrypt: DA_-RpCki-mjF6tSwiP2IhuW2UfPzZC7A9oVTTNptjT73HtROiQZvUC0Z2veJ5VwVx4toolvLErQmKKoQlqELSD756bu8ohEQwgJ4Xsu-3tXv-uEi5a9a_u19WnNLIF7tayDUhFeD2RzNvW895y1v-D30TvQRskNCFJfnjaytr_vmcVv8HrXURCmG6AMltaqdN72zh8p6VkKcjXSLiCApH957GXSqJCRzxbaQwf8X5EJfn8CQrPDGbE3gdhc2_hFwXQNIdxPxrOLtVbaFp9i_4GRWXJ6E2jHttV2bDv_uSVIz3OBzh7EkJiCnl3c904sH8QZae8c3SQyrTxVL7EpIA,,\n     */\n}\n\npublic static String getUrlEncodedCipherText(String plainText, String pubKey, int base64Type){\n    try {\n        final PublicKey publicKey = loadPublicKey(pubKey, base64Type);\n        final byte[] cipherBytes = encrypt(plainText, publicKey);\n        String cipherText = base64Encode(cipherBytes, base64Type);\n        String urlEncodedCipherText = urlEncode(cipherText);\n        return urlEncodedCipherText;\n    }\n    catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic static final String ALGORITHM = \"RSA\";\n\npublic static PublicKey loadPublicKey(String stored, int base64Type) throws GeneralSecurityException {\n    String pubKey = stored.replace(BEGIN_PUBLIC_KEY, \"\");\n    pubKey = pubKey.replace(END_PUBLIC_KEY, \"\");\n\n    byte[] data = Base64.decode(pubKey, base64Type);\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n    KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\n    PublicKey pub = fact.generatePublic(spec);\n    return pub;\n}\n\npublic static byte[] encrypt(String text, PublicKey key) {\n    byte[] cipherText = null;\n    try {\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        cipherText = cipher.doFinal(text.getBytes());\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cipherText;\n}\n\npublic static String base64Encode(byte[] cipherBytes, int base64Type){\n    byte[] base64Cipher = Base64.encode(cipherBytes, base64Type);\n    return new String(base64Cipher);\n}\n\npublic static String urlEncode(String text){\n    return text.replace(\"+\", \"-\").replace(\"/\", \"_\").replace(\"=\", \",\");\n}\n</code></pre>\n\n<h2>Java Code</h2>\n\n<pre><code>private void exampleMethod(){\n    String pubKey = \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoApIBIna77xq4j+M2RmyIhsB++41NHcY4KIPfX4VP4ADnkO+7ejbs4le/twrPtYGESVPF9czSMB5bzmTBZtq0jC8oT/6wiDIBlSuzo4fBrGociBIuaOjyG/j3ZhpcWpWPXuzER+ehuQ+8hZkMuJdK9IodqPR+5jmCef4rXoKObwS02LYQ1co5dEmtZVQRmmeYaVnWibd/s1d4KKGvSzXap3YBTf8peH5UGIQrLOTqvX0bo34xFxmj5U0H3xudnnwuVAlQlj9KiHPPABuwNtm1buRKJb5HZhSCveyT/2YAOmQqGrVN/nALtlZyTDZNs//Vp1zb9exSuG0t5xFc+pn4QIDAQAB\";\n    String privKey = \"MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCgCkgEidrvvGriP4zZGbIiGwH77jU0dxjgog99fhU/gAOeQ77t6NuziV7+3Cs+1gYRJU8X1zNIwHlvOZMFm2rSMLyhP/rCIMgGVK7Ojh8GsahyIEi5o6PIb+PdmGlxalY9e7MRH56G5D7yFmQy4l0r0ih2o9H7mOYJ5/itego5vBLTYthDVyjl0Sa1lVBGaZ5hpWdaJt3+zV3gooa9LNdqndgFN/yl4flQYhCss5Oq9fRujfjEXGaPlTQffG52efC5UCVCWP0qIc88AG7A22bVu5EolvkdmFIK97JP/ZgA6ZCoatU3+cAu2VnJMNk2z/9WnXNv17FK4bS3nEVz6mfhAgMBAAECggEBAIax4IchV0jqdbLR9cNK4yfdP0A/7jun+SImg48FLPDy1xi+v9UQZMioV3F88FDEZPrNQdI45wrWI94+wMS5V6BsMHYumOgGGxNo9m8WInrJz5GuJkdHuLMbqNZ6TlSMQOUiVUWWLSAuveOWgOJqriwRhsjDfBmbSBESUbP/wNdxX42RJudKJbVUV07urjFc3VAUrX+Sbj9KMZRe10pOzes7WKq9NMyQuitLcwCPzs2pQoXW1LdZYrVSi6MOqE1WHSL6VAgPx3cHYl7yznhspLmvDgnKTwnVbRo3BBwkxNbpvZXzgJBLEPLUtLqwNLKkU0aSF9MT5TABx4tfCaRQIiECgYEA70980I9mK74tjXlFrMKaLGigjHBss+Q/b7cRAtlQAhVOn0FCqz4Fc4iBri0iPekVIZ09lRehacEstTR8JBImMW2mqGyMwBbPaqQOf6xZ0pIoYb0ODAIjUNTWoBEr72+ko5HjaoQbxeb2QGUhMe/t3M1CMsrETEQTdA+qNP5C61UCgYEAqzOL7sSsNfTYbAF156qPPqx1IyXNqu0wbKa/zufCxGlFJDkaYoYIECKdLbpI2fqJsENqpZHgOnT0+LbqhFn07NIe1zT/zf0rh7w5fqxqy3Srs4+Mj6HwTIC7QpeXjiHxQuVrfi2W2ZatjQi8froxtEj3mpYKHsl0Ia89JSczQl0CgYAqHPXdCe8z8XK4u8esIE7bU8o1DK/EdH1JXpDqzG1NAIzmb6iY1ABHlZUknqKw/GyQjshAjXkFUE5a0RKrkloQRriWWQvn3dvAa4B1rVHdQYVDte5b5KBsYBgo8PynVSFG+6xmmTr996gMKv/NduiH+8MThyVGOpCl0v/j9X63RQKBgEmOhir6eXtdTbdqETyOPamR82o8jddIvauRIYxGa5p0GG7t0fZO3BwCo0HIbhCp4orHDIVC3fJ/2dkazjw7Yk52ISYZ8WaRxig1qQZSEjiEUll97ciwrUxRayO7ejRpRP2XEM5PzCaE5OBZxpM0cLKjPy8+E+8SY0Etx7m01ANJAoGBALUubgeKx1fut80YHLDmxOiTg9olFJi83Lj1TPQ0fRCXdJX6pHCSypBScoXuJYVwuIavHhTf8DPQ6OONq/V3DXKsGLydK/2E5yg+bz3qYfYslb3vDkZovNJDmfoyR0XakWbUTotntUQqodLk8Q9klHKp6oy+MkGY57R5OhIZBGPa\";\n\n    String message = \"Why does this not work in Android?\";\n    String encryptedMessage = getUrlEncodedCipherText(message, pubKey);\n\n    try {\n        byte[] base64Decoded = Base64.decodeBase64(encryptedMessage.getBytes(Charset.forName(\"UTF-8\")));\n        String decryptedMessage = decrypt(base64Decoded, loadPrivateKey(privKey));\n        System.out.println(\"decryptedMessage: \" + decryptedMessage);\n        /**\n         * This works! Ciphertext always comes out different, as expected, and decodes successfully.\n         */\n    }\n    catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\npublic static String getUrlEncodedCipherText(String plainText, String pubKey){\n    try {\n        final PublicKey publicKey = loadPublicKey(pubKey);\n        final byte[] cipherBytes = encrypt(plainText, publicKey);\n        String cipherText = base64Encode(cipherBytes);\n        String urlEncodedCipherText = urlEncode(cipherText);\n        return urlEncodedCipherText;\n    }\n    catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic static final String ALGORITHM = \"RSA\";\n\npublic static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\n    String pubKey = stored.replace(BEGIN_PUBLIC_KEY, \"\");\n    pubKey = pubKey.replace(END_PUBLIC_KEY, \"\");\n\n    byte[] data = Base64.decodeBase64(pubKey);\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n    KeyFactory fact = KeyFactory.getInstance(ALGORITHM);\n    PublicKey pub = fact.generatePublic(spec);\n    return pub;\n}\n\npublic static byte[] encrypt(String text, PublicKey key) {\n    byte[] cipherText = null;\n    try {\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        cipherText = cipher.doFinal(text.getBytes());\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cipherText;\n}\n\npublic static String decrypt(byte[] encrypted, PrivateKey key) {\n    byte[] decryptedText = null;\n    try {\n        final Cipher cipher = Cipher.getInstance(ALGORITHM);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        decryptedText = cipher.doFinal(encrypted);\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n    return new String(decryptedText);\n}\n\npublic static String base64Encode(byte[] cipherBytes){\n    byte[] base64Cipher = Base64.encodeBase64(cipherBytes);\n    return new String(base64Cipher);\n}\n\npublic static String urlEncode(String text){\n    return text.replace(\"+\", \"-\").replace(\"/\", \"_\").replace(\"=\", \",\");\n}\n</code></pre>\n\n<p>I'm aware that the problem has to be to do with difference in the way Android and Java interpret the RSA algorithm, and/or differences with the Base64 encode/decode, but I'm stumped. Any assistance greatly appreciated.</p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1655890912,"post_id":72707463,"comment_id":128437253,"body_markdown":"You cannot set the docker image name from within the build file.","body":"You cannot set the docker image name from within the build file."},{"owner":{"account_id":2130119,"reputation":6881,"user_id":1891133,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1655898330,"post_id":72707463,"comment_id":128439976,"body_markdown":"You cannot set the name but you can add a [LABEL](https://docs.docker.com/engine/reference/builder/#label) on build","body":"You cannot set the name but you can add a <a href=\"https://docs.docker.com/engine/reference/builder/#label\" rel=\"nofollow noreferrer\">LABEL</a> on build"}],"answers":[{"tags":[],"owner":{"account_id":1217409,"reputation":9612,"user_id":1184717,"accept_rate":54,"display_name":"Mr."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655866887,"creation_date":1655866887,"answer_id":72709196,"question_id":72707463,"body_markdown":"look at [`docker build` usage](https://docs.docker.com/engine/reference/builder/#usage)\r\n\r\n&gt; You can specify a repository and tag at which to save the new image if the build succeeds:\r\n&gt; \r\n&gt; ```shell\r\n&gt; $ docker build -t shykes/myapp:1.0.2\r\n&gt; ```","title":"how to set docker image name as a file name it creates while building","body":"<p>look at <a href=\"https://docs.docker.com/engine/reference/builder/#usage\" rel=\"nofollow noreferrer\"><code>docker build</code> usage</a></p>\n<blockquote>\n<p>You can specify a repository and tag at which to save the new image if the build succeeds:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ docker build -t shykes/myapp:1.0.2\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23295571,"reputation":61,"user_id":17377031,"display_name":"MrZorkiPongi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656269407,"creation_date":1656161741,"answer_id":72754031,"question_id":72707463,"body_markdown":"So as Thorbj&#248;rn Ravn, Andersen and Max advised I changed my approach.\r\ni set it outside and put it right with the image build command.\r\nThanks for the help everyone!\r\n[command help][1]\r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/commandline/build/","title":"how to set docker image name as a file name it creates while building","body":"<p>So as Thorbjørn Ravn, Andersen and Max advised I changed my approach.\ni set it outside and put it right with the image build command.\nThanks for the help everyone!\n<a href=\"https://docs.docker.com/engine/reference/commandline/build/\" rel=\"nofollow noreferrer\">command help</a></p>\n"}],"owner":{"account_id":23295571,"reputation":61,"user_id":17377031,"display_name":"MrZorkiPongi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72754031,"answer_count":2,"score":0,"last_activity_date":1656269407,"creation_date":1655848092,"question_id":72707463,"body_markdown":"So i want to set the docker image name as a file it creates.\r\nthe stages inside the dockerfile are: set new version for pom.xml, compile, package\r\nall using mvn.\r\ni want to set the docker image name as the artifact the build creates\r\nExample: my-app-1.0.1\r\n```\r\nFROM maven:3-jdk-8-alpine AS build\r\nADD . /my-app\r\nWORKDIR /my-app\r\nRUN mvn versions:set -DnewVersion=&quot;1.0.1&quot;\r\nRUN mvn compile\r\nRUN mvn package\r\n\r\n\r\nFROM openjdk:8-jdk-alpine\r\nCOPY --from=build /my-app/target/my-app-1.0.1.jar my-app-1.0.1.jar\r\nENTRYPOINT [&quot;java&quot; &quot;-cp&quot; &quot;my-app-1.0.1.jar&quot; &quot;com.mycompany.app.App&quot;]\r\n\r\n```\r\n\r\nThanks!\r\n\r\n\r\n","title":"how to set docker image name as a file name it creates while building","body":"<p>So i want to set the docker image name as a file it creates.\nthe stages inside the dockerfile are: set new version for pom.xml, compile, package\nall using mvn.\ni want to set the docker image name as the artifact the build creates\nExample: my-app-1.0.1</p>\n<pre><code>FROM maven:3-jdk-8-alpine AS build\nADD . /my-app\nWORKDIR /my-app\nRUN mvn versions:set -DnewVersion=&quot;1.0.1&quot;\nRUN mvn compile\nRUN mvn package\n\n\nFROM openjdk:8-jdk-alpine\nCOPY --from=build /my-app/target/my-app-1.0.1.jar my-app-1.0.1.jar\nENTRYPOINT [&quot;java&quot; &quot;-cp&quot; &quot;my-app-1.0.1.jar&quot; &quot;com.mycompany.app.App&quot;]\n\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","server","client","rmi","classcastexception"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1654253013,"post_id":72488408,"comment_id":128052245,"body_markdown":"Shouldn&#39;t your playground be Serializable?","body":"Shouldn&#39;t your playground be Serializable?"},{"owner":{"account_id":18958537,"reputation":11,"user_id":19263323,"display_name":"Robert Darminow"},"score":0,"creation_date":1654253089,"post_id":72488408,"comment_id":128052270,"body_markdown":"I could add it. But it wouldn&#39;t change the error","body":"I could add it. But it wouldn&#39;t change the error"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654270612,"post_id":72488408,"comment_id":128058581,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654576976,"post_id":72488408,"comment_id":128117222,"body_markdown":"You can&#39;t export an object that doesn&#39;t implement `Remote`, and exporting it doesn&#39;t constitute sending it to the client anyway. You need to return it as the result of a remote method.","body":"You can&#39;t export an object that doesn&#39;t implement <code>Remote</code>, and exporting it doesn&#39;t constitute sending it to the client anyway. You need to return it as the result of a remote method."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655340788,"post_id":72488408,"comment_id":128312084,"body_markdown":"@close-voters VTR. The problem in the question is trivial to spot if you know anything about RMI, and there is nothing missing from the question for that purpose. Please don&#39;t pile on with the close-votes to things you personally don&#39;t understand.","body":"@close-voters VTR. The problem in the question is trivial to spot if you know anything about RMI, and there is nothing missing from the question for that purpose. Please don&#39;t pile on with the close-votes to things you personally don&#39;t understand."}],"owner":{"account_id":18958537,"reputation":11,"user_id":19263323,"display_name":"Robert Darminow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656268989,"creation_date":1654252833,"question_id":72488408,"body_markdown":"     Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class Design.Playground cannot be cast to class java.rmi.Remote (Design.Playground is in unnamed module of loader &#39;app&#39;; java.rmi.Remote is in module java.rmi of loader &#39;bootstrap&#39;)\r\n    at Game.Game$3.mouseClicked(Game.java:100)\r\n\r\nThe Server is Player 1.\r\n\r\nThe Client is Player 2.\r\n\r\nIs it not possible to transfer the Playground to the Client?\r\n\r\n\r\n```\r\npackage RMI;\r\n\r\nimport Design.*;\r\nimport Game.Game;\r\n\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.rmi.server.UnicastRemoteObject;\r\n\r\npublic class Server extends UnicastRemoteObject implements BattleshipServer {\r\n\r\n    private Playground p1 = new Playground();\r\n    private Playground p2 = new Playground();\r\n    private boolean hostTurn = true;\r\n    private boolean winner = false;\r\n\r\n    public Server() throws RemoteException {\r\n        super();\r\n    }\r\n    public static void main(String[] args) throws RemoteException, NotBoundException {\r\n        BattleshipServer server = new Server();\r\n        Registry registry = LocateRegistry.createRegistry(1099);\r\n        registry.rebind(&quot;BattleshipServer&quot;, server);\r\n        System.out.println(&quot;Server ready&quot;);\r\n        server.game(true);\r\n    }\r\n    @Override\r\n    public boolean getHostTurn() {\r\n        return hostTurn;\r\n    }\r\n    @Override\r\n    public void changeHostTurn() {\r\n        hostTurn = !hostTurn;\r\n    }\r\n    @Override\r\n    public boolean getWinner() {\r\n        return winner;\r\n    }\r\n    @Override\r\n    public void changeWinner() {\r\n        winner = true;\r\n    }\r\n    @Override\r\n    public String game(boolean host) throws RemoteException {\r\n        Game game = new Game(this);\r\n        game.game(host);\r\n        return &quot;Yes&quot;;\r\n    }\r\n    @Override\r\n    public Game getGame() throws RemoteException {\r\n        return new Game(this);\r\n    }\r\n    @Override\r\n    public Playground getPlayground(int p) throws RemoteException {\r\n        if(p==1) return p1;\r\n        if(p==2) return p2;\r\n        return null;\r\n    }\r\n    @Override\r\n    public void sendPlayground(Playground playground, int p) throws RemoteException {\r\n        if(p==1) p1 = (Playground) UnicastRemoteObject.exportObject((Remote) playground,1099);\r\n        if(p==2) p2 = (Playground) UnicastRemoteObject.exportObject((Remote) playground,1099);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\npackage RMI;\r\n\r\nimport Game.Game;\r\n\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\n\r\npublic class Client {\r\n    private final BattleshipServer server;\r\n\r\n    public Client(String ip, int port) throws RemoteException, NotBoundException {\r\n        Registry registry = LocateRegistry.getRegistry(ip,port);\r\n        server = (BattleshipServer) registry.lookup(&quot;BattleshipServer&quot;);\r\n    }\r\n    public String method() throws RemoteException, NotBoundException {\r\n        Game game = server.getGame();\r\n        game.game(false);\r\n        //return server.game(false);\r\n        return &quot;&quot;;\r\n    }\r\n    public static void main(String[] args) throws RemoteException, NotBoundException {\r\n        Client client = new Client(&quot;localhost&quot;, 1099);\r\n        System.out.println(client.method());\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage RMI;\r\n\r\nimport Design.*;\r\nimport Game.Game;\r\n\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\n\r\npublic interface BattleshipServer extends Remote {\r\n    String game(boolean host) throws RemoteException, NotBoundException;\r\n    Game getGame() throws RemoteException;\r\n    Playground getPlayground(int p) throws RemoteException;\r\n    void sendPlayground(Playground playground, int p) throws RemoteException;\r\n    boolean getHostTurn() throws RemoteException;\r\n    void changeHostTurn() throws  RemoteException;\r\n    boolean getWinner() throws RemoteException;\r\n    void changeWinner() throws RemoteException;\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage Game;\r\n\r\nimport Design.*;\r\nimport RMI.*;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.rmi.RemoteException;\r\n\r\npublic class Game {\r\n\r\n    private final Server server;\r\n\r\n    public Game(Server server){\r\n        this.server = server;\r\n    }\r\n\r\n    private int turn = 7;\r\n    private boolean firstHit = true;\r\n    private boolean hit = false;\r\n    private final BattleshipFrame frame = new BattleshipFrame();\r\n\r\n    //Playground erstellen und Schiffliste erstellen\r\n    private Playground playground = new Playground();\r\n    private Playground enemyPlayground = new Playground();\r\n\r\n    public void game(boolean host) {\r\n\r\n        frame.initialGUI(10, playground);\r\n        frame.initialGUI(21, enemyPlayground);\r\n        enemyPlayground.enabled(false);\r\n\r\n        final int[] zaehler = {0};\r\n        final int[] x1 = {0};\r\n        final int[] y1 = {0};\r\n        final int[] x2 = {0};\r\n        final int[] y2 = {0};\r\n\r\n        frame.getHostGameButton().addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n\r\n            }\r\n        });\r\n        frame.getJoinGameButton().addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n\r\n            }\r\n        });\r\n\r\n        for (int i = 0; i &lt; playground.getPlayground().length; i++) {\r\n            for (int j = 0; j &lt; playground.getPlayground()[i].length; j++) {\r\n                int finalI = i;\r\n                int finalJ = j;\r\n                playground.getPlayground()[i][j].addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e){\r\n                        if(playground.getPlayground()[finalI][finalJ].isEnabled()) {\r\n                            if (turn &gt; -1) {\r\n                                int size = 0;\r\n                                if (turn == 7 || turn == 6) size = 4;\r\n                                if (turn == 5 || turn == 4 || turn == 3) size = 3;\r\n                                if (turn == 2 || turn == 1 || turn == 0) size = 2;\r\n\r\n                                if (zaehler[0] == 0) {\r\n                                    frame.setText(&quot;Server playground kopiert&quot;);\r\n                                    frame.setText(&quot;Server playground kopiert&quot;);\r\n                                    frame.setText(&quot;Server playground kopiert&quot;);\r\n                                    frame.setText(&quot;Server playground kopiert&quot;);\r\n\r\n                                    x1[0] = finalI;\r\n                                    y1[0] = finalJ;\r\n                                    playground.getPlayground()[finalI][finalJ].setEnabled(false);\r\n                                    playground.changeButtons(finalI, finalJ, size, false);\r\n                                }\r\n                                if (zaehler[0] == 1) {\r\n                                    x2[0] = finalI;\r\n                                    y2[0] = finalJ;\r\n                                }\r\n                                zaehler[0]++;\r\n\r\n                                if (zaehler[0] == 2) {\r\n                                    placeShip(x1[0], y1[0], x2[0], y2[0], size);\r\n                                    playground.changeButtons(finalI, finalJ, size, true);\r\n                                    if (turn != 6 &amp;&amp; turn != 3) playground.disableNotPlaceable(size);\r\n                                    else playground.disableNotPlaceable(size - 1);\r\n                                    zaehler[0] = 0;\r\n                                    turn--;\r\n                                    if(turn == -1) {\r\n                                        enemyPlayground = enemyPlayground.copyPlayground(playground, 1);\r\n                                        enemyPlayground.enabled(false);\r\n                                    }\r\n                                }\r\n                            } else if (turn == -1) {\r\n                                if (host &amp;&amp; server.getHostTurn()) {\r\n                                    try {\r\n                                        server.sendPlayground(enemyPlayground, 1);\r\n                                    } catch (RemoteException ex) {\r\n                                        ex.printStackTrace();\r\n                                    }\r\n                                    server.changeHostTurn();\r\n                                    turn--;\r\n                                    System.out.println(&quot;Server playground kopiert&quot;);\r\n                                } else if(!(host || server.getHostTurn())) {\r\n                                    try {\r\n                                        server.sendPlayground(enemyPlayground, 2);\r\n                                    } catch (RemoteException ex) {\r\n                                        ex.printStackTrace();\r\n                                    }\r\n                                    server.changeHostTurn();\r\n                                    turn--;\r\n                                    System.out.println(&quot;Client playground kopiert&quot;);\r\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\r\n                            } else if (turn == -2) {\r\n                                if (host &amp;&amp; server.getHostTurn()) {\r\n                                    try {\r\n                                        playground = playground.copyPlayground(server.getPlayground(2), 1);\r\n                                        server.changeHostTurn();\r\n                                        System.out.println(&quot;Client playground auf Server kopiert&quot;);\r\n                                    } catch (RemoteException ex) {\r\n                                        ex.printStackTrace();\r\n                                    }\r\n                                    turn--;\r\n                                } else if(host &amp;&amp; !server.getHostTurn()) System.out.println(&quot;Bitte auf Client warten&quot;);\r\n                                else if (!(host || server.getHostTurn())) {\r\n                                    try {\r\n                                        playground = playground.copyPlayground(server.getPlayground(1), 1);\r\n                                        server.changeHostTurn();\r\n                                        System.out.println(&quot;Server playground auf Client kopiert&quot;);\r\n                                    } catch (RemoteException ex) {\r\n                                        ex.printStackTrace();\r\n                                    }\r\n                                    turn--;\r\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\r\n                                playground.enabled(true);\r\n                            } else if (turn == -3) {\r\n                                if (host &amp;&amp; server.getHostTurn()) {\r\n                                    if(server.getWinner()) {\r\n                                        System.out.println(&quot;Du hast leider verloren!&quot;);\r\n                                        turn = Integer.MIN_VALUE;\r\n                                    } else {\r\n                                        try {\r\n                                            server.sendPlayground(playground, 2);\r\n                                        } catch (RemoteException ex) {\r\n                                            ex.printStackTrace();\r\n                                        }\r\n                                        playground.getPlayground()[finalI][finalJ].setEnabled(false);\r\n                                        hit(finalI, finalJ, playground);\r\n                                    }\r\n                                    if(firstHit &amp;&amp; !hit) firstHit = false;\r\n                                    else if(!firstHit){\r\n                                        try {\r\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(1), 2);\r\n                                        } catch (RemoteException ex) {\r\n                                            ex.printStackTrace();\r\n                                        }\r\n                                    }\r\n                                    if(hit) hit = false;\r\n                                    else server.changeHostTurn();\r\n                                } else if(host &amp;&amp; !server.getHostTurn()) System.out.println(&quot;Bitte auf Client warten&quot;);\r\n                                else if(!(host || server.getHostTurn())) {\r\n                                    if(server.getWinner()) {\r\n                                        System.out.println(&quot;Du hast leider verloren!&quot;);\r\n                                        turn = Integer.MIN_VALUE;\r\n                                    } else {\r\n                                        try {\r\n                                            server.sendPlayground(playground, 1);\r\n                                        } catch (RemoteException ex) {\r\n                                            ex.printStackTrace();\r\n                                        }\r\n                                        playground.getPlayground()[finalI][finalJ].setEnabled(false);\r\n                                        hit(finalI, finalJ, playground);\r\n                                    }\r\n                                    try {\r\n                                        enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(2), 2);\r\n                                    } catch (RemoteException ex) {\r\n                                        ex.printStackTrace();\r\n                                    }\r\n                                    if(hit) hit = false;\r\n                                    else server.changeHostTurn();\r\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\r\n\r\n                                enemyPlayground.enabled(false);\r\n                                //if(!(host || server.getHostTurn()) || (host &amp;&amp; server.getHostTurn()))\r\n                                    playground.enabled((true));\r\n\r\n                                if (playground.getShipList().isEmpty()) {\r\n                                    turn = Integer.MIN_VALUE;\r\n                                    if(host) {\r\n                                        System.out.println(&quot;HOST GEWONNEN&quot;);\r\n                                        server.changeHostTurn();\r\n                                        server.changeWinner();\r\n                                        try {\r\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(1), 2);\r\n                                        } catch (RemoteException ex) {\r\n                                            ex.printStackTrace();\r\n                                        }\r\n                                    } else {\r\n                                        System.out.println(&quot;CLIENT GEWONNEN&quot;);\r\n                                        server.changeHostTurn();\r\n                                        server.changeWinner();\r\n                                        try {\r\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(2), 2);\r\n                                        } catch (RemoteException ex) {\r\n                                            ex.printStackTrace();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    public void placeShip(int x1, int y1, int x2, int y2, int size) {\r\n        int [][] pos = new int[2][size];\r\n        boolean vertical = y1 - y2 != 0;\r\n        for(int i = 0; i &lt; size; i++) {\r\n            if(!vertical &amp;&amp; x2 &gt; x1) {\r\n                pos[0][i] = x1+i;\r\n                pos[1][i] = y1;\r\n                playground.getPlayground()[x1+i][y1].setEnabled(false);\r\n                playground.getPlayground()[x1+i][y1].setBackground(playground.getShipColor());\r\n            }\r\n            if(!vertical &amp;&amp; x1 &gt; x2) {\r\n                pos[0][i] = x1-i;\r\n                pos[1][i] = y1;\r\n                playground.getPlayground()[x1-i][y1].setEnabled(false);\r\n                playground.getPlayground()[x1-i][y1].setBackground(playground.getShipColor());\r\n            }\r\n            if(vertical &amp;&amp; y2 &gt; y1) {\r\n                pos[0][i] = x1;\r\n                pos[1][i] = y1+i;\r\n                playground.getPlayground()[x1][y1+i].setEnabled(false);\r\n                playground.getPlayground()[x1][y1+i].setBackground(playground.getShipColor());\r\n            }\r\n            if(vertical &amp;&amp; y1 &gt; y2) {\r\n                pos[0][i] = x1;\r\n                pos[1][i] = y1-i;\r\n                playground.getPlayground()[x1][y1-i].setEnabled(false);\r\n                playground.getPlayground()[x1][y1-i].setBackground(playground.getShipColor());\r\n            }\r\n        }\r\n        playground.getShipList().add(new Ship(size,pos));\r\n    }\r\n    public void shipDestroyed() {\r\n        for (int i = 0; i &lt; playground.getShipList().size(); i++) {\r\n            boolean destroyed = true;\r\n            for (int j = 0; j &lt; playground.getShipList().get(i).getSize(); j++) {\r\n                if (!playground.getPlayground()[playground.getShipList().get(i).getPos()[0][j]][playground.getShipList().get(i).getPos()[1][j]].getBackground().equals(Color.ORANGE)){\r\n                    destroyed = false;\r\n                }\r\n            }\r\n            if (destroyed){\r\n                for (int j = 0; j &lt; playground.getShipList().get(i).getSize(); j++) {\r\n                    playground.getPlayground()[playground.getShipList().get(i).getPos()[0][j]][playground.getShipList().get(i).getPos()[1][j]].setBackground(Color.RED);\r\n                }\r\n                playground.getShipList().remove(i);\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; playground.getPlayground().length; i++) {\r\n            for (int j = 0; j &lt; playground.getPlayground()[i].length; j++) {\r\n                if(playground.hasNeighbor(i,j,Color.RED) &amp;&amp; !playground.getPlayground()[i][j].getBackground().equals(Color.RED)){\r\n                        playground.getPlayground()[i][j].setEnabled(false);\r\n                        playground.getPlayground()[i][j].setBackground(Color.GRAY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void hit(int x, int y, Playground playground) {\r\n        for (Ship ship : playground.getShipList()) {\r\n            for (int j = 0; j &lt; ship.getSize(); j++) {\r\n                if (ship.getPos()[0][j] == x &amp;&amp; ship.getPos()[1][j] == y) {\r\n                    playground.getPlayground()[ship.getPos()[0][j]][ship.getPos()[1][j]].setBackground(Color.ORANGE);\r\n                    hit = true;\r\n                    shipDestroyed();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        playground.getPlayground()[x][y].setBackground(Color.WHITE);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage Design;\r\n\r\nimport Game.Ship;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Playground implements Serializable {\r\n\r\n    private final JButton [][] playground = new JButton[10][10];\r\n    private final List&lt;Ship&gt; shipList = new ArrayList&lt;&gt;();\r\n    private final Color waterColor = new Color(80, 150, 255);\r\n    private final Color shipColor = new Color(0,0,0);\r\n\r\n    public Playground(){\r\n        for (int i = 0; i &lt; playground.length; i++) {\r\n            for (int j = 0; j &lt; playground[i].length; j++) {\r\n                playground[i][j] = new JButton();\r\n                playground[i][j].setPreferredSize(new Dimension(20,20));\r\n                playground[i][j].setBackground(waterColor);\r\n            }\r\n        }\r\n    }\r\n    public JButton[][] getPlayground() {\r\n        return playground;\r\n    }\r\n\r\n    public Color getShipColor(){\r\n        return shipColor;\r\n    }\r\n\r\n    public List&lt;Ship&gt; getShipList(){\r\n        return shipList;\r\n    }\r\n\r\n    public boolean hasNeighbor(int x, int y, Color color) {\r\n        boolean hasNeighbor = false;\r\n        try{\r\n            if (playground[x+1][y].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x+1][y+1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x+1][y-1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x][y+1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if ( playground[x][y-1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x-1][y].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x-1][y+1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        try{\r\n            if (playground[x-1][y-1].getBackground().equals(color)) {\r\n                hasNeighbor = true;\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){}\r\n        return hasNeighbor;\r\n    }\r\n    public void changeButtons(int x, int y, int size, boolean change) {\r\n        size--;\r\n        for (int i = 0; i &lt; playground.length; i++) {\r\n            for (int j = 0; j &lt; playground[i].length; j++) {\r\n                if(change){\r\n                    if(!playground[i][j].getBackground().equals(shipColor) &amp;&amp; !hasNeighbor(i,j,shipColor)) {\r\n                        playground[i][j].setBackground(waterColor);\r\n                        playground[i][j].setEnabled(true);\r\n                    }\r\n                    if(hasNeighbor(i,j,shipColor) &amp;&amp; !playground[i][j].getBackground().equals(shipColor)) {\r\n                        playground[i][j].setBackground(Color.GRAY);\r\n                        playground[i][j].setEnabled(false);\r\n                    }\r\n                }\r\n                else{\r\n                    if(!((i==x+size &amp;&amp; j==y)|| (i==x-size &amp;&amp; j==y) || (i==x &amp;&amp; j==y+size) || (i==x &amp;&amp; j==y-size)) &amp;&amp; !playground[i][j].getBackground().equals(shipColor)) {\r\n                            playground[i][j].setBackground(Color.GRAY);\r\n                            playground[i][j].setEnabled(false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void disableNotPlaceable(int size) {\r\n        size--;\r\n        for (int i = 0; i &lt; playground.length; i++) {\r\n            for (int j = 0; j &lt; playground[i].length; j++) {\r\n                boolean placeable = false;\r\n                try {\r\n                    if (playground[i][j+size].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\r\n                        placeable = true;\r\n                    }\r\n                } catch (ArrayIndexOutOfBoundsException ignored) {\r\n                }\r\n                try {\r\n                    if (playground[i][j-size].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\r\n                        placeable = true;\r\n                    }\r\n                } catch (ArrayIndexOutOfBoundsException ignored) {\r\n                }\r\n                try {\r\n                    if (playground[i+size][j].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\r\n                        placeable = true;\r\n                    }\r\n                } catch (ArrayIndexOutOfBoundsException ignored) {\r\n                }\r\n                try {\r\n                    if (playground[i-size][j].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\r\n                        placeable = true;\r\n                    }\r\n                } catch (ArrayIndexOutOfBoundsException ignored) {\r\n                }\r\n                if (!(placeable || playground[i][j].getBackground().equals(shipColor) || playground[i][j].getBackground().equals(Color.GRAY))) {\r\n                    playground[i][j].setBackground(Color.GRAY);\r\n                    playground[i][j].setEnabled(false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void clear(){\r\n        for (JButton[] jButtons : playground) {\r\n            for (JButton jButton : jButtons) {\r\n                jButton.setBackground(waterColor);\r\n                jButton.setEnabled(true);\r\n            }\r\n        }\r\n        for(int i=shipList.size()-1;i&gt;=0;i--){\r\n            shipList.remove(i);\r\n        }\r\n    }\r\n    public Playground copyPlayground(Playground playground, int mode) {\r\n        clear();\r\n        for(int i=0;i&lt;this.playground.length;i++) {\r\n            for(int j=0;j&lt;this.playground[i].length;j++) {\r\n                if(mode == 1) {\r\n                    if(playground.getPlayground()[i][j].getBackground().equals(shipColor)) {\r\n                        this.getPlayground()[i][j].setBackground(playground.getPlayground()[i][j].getBackground());\r\n                    }\r\n                } else if(mode == 2) this.getPlayground()[i][j].setBackground(playground.getPlayground()[i][j].getBackground());\r\n            }\r\n        }\r\n        for (int i=0;i&lt;playground.getShipList().size();i++) {\r\n            if(playground.getShipList().size()&gt;0) {\r\n                this.getShipList().add(playground.getShipList().get(i));\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    public void enabled(boolean enable){\r\n        for (JButton[] jButtons : this.playground) {\r\n            for (JButton jButton : jButtons) {\r\n                if(jButton.getBackground().equals(waterColor) &amp;&amp; enable) jButton.setEnabled(true);\r\n                else if(!enable) jButton.setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"I&#39;m currently trying to do battleships with RMI and would like to transfer the playground to the other client, but it woudn&#39;t work","body":"<pre><code> Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class Design.Playground cannot be cast to class java.rmi.Remote (Design.Playground is in unnamed module of loader 'app'; java.rmi.Remote is in module java.rmi of loader 'bootstrap')\nat Game.Game$3.mouseClicked(Game.java:100)\n</code></pre>\n<p>The Server is Player 1.</p>\n<p>The Client is Player 2.</p>\n<p>Is it not possible to transfer the Playground to the Client?</p>\n<pre><code>package RMI;\n\nimport Design.*;\nimport Game.Game;\n\nimport java.rmi.NotBoundException;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.server.UnicastRemoteObject;\n\npublic class Server extends UnicastRemoteObject implements BattleshipServer {\n\n    private Playground p1 = new Playground();\n    private Playground p2 = new Playground();\n    private boolean hostTurn = true;\n    private boolean winner = false;\n\n    public Server() throws RemoteException {\n        super();\n    }\n    public static void main(String[] args) throws RemoteException, NotBoundException {\n        BattleshipServer server = new Server();\n        Registry registry = LocateRegistry.createRegistry(1099);\n        registry.rebind(&quot;BattleshipServer&quot;, server);\n        System.out.println(&quot;Server ready&quot;);\n        server.game(true);\n    }\n    @Override\n    public boolean getHostTurn() {\n        return hostTurn;\n    }\n    @Override\n    public void changeHostTurn() {\n        hostTurn = !hostTurn;\n    }\n    @Override\n    public boolean getWinner() {\n        return winner;\n    }\n    @Override\n    public void changeWinner() {\n        winner = true;\n    }\n    @Override\n    public String game(boolean host) throws RemoteException {\n        Game game = new Game(this);\n        game.game(host);\n        return &quot;Yes&quot;;\n    }\n    @Override\n    public Game getGame() throws RemoteException {\n        return new Game(this);\n    }\n    @Override\n    public Playground getPlayground(int p) throws RemoteException {\n        if(p==1) return p1;\n        if(p==2) return p2;\n        return null;\n    }\n    @Override\n    public void sendPlayground(Playground playground, int p) throws RemoteException {\n        if(p==1) p1 = (Playground) UnicastRemoteObject.exportObject((Remote) playground,1099);\n        if(p==2) p2 = (Playground) UnicastRemoteObject.exportObject((Remote) playground,1099);\n    }\n}\n\n\n</code></pre>\n<pre><code>package RMI;\n\nimport Game.Game;\n\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\npublic class Client {\n    private final BattleshipServer server;\n\n    public Client(String ip, int port) throws RemoteException, NotBoundException {\n        Registry registry = LocateRegistry.getRegistry(ip,port);\n        server = (BattleshipServer) registry.lookup(&quot;BattleshipServer&quot;);\n    }\n    public String method() throws RemoteException, NotBoundException {\n        Game game = server.getGame();\n        game.game(false);\n        //return server.game(false);\n        return &quot;&quot;;\n    }\n    public static void main(String[] args) throws RemoteException, NotBoundException {\n        Client client = new Client(&quot;localhost&quot;, 1099);\n        System.out.println(client.method());\n    }\n}\n\n</code></pre>\n<pre><code>package RMI;\n\nimport Design.*;\nimport Game.Game;\n\nimport java.rmi.NotBoundException;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\n\npublic interface BattleshipServer extends Remote {\n    String game(boolean host) throws RemoteException, NotBoundException;\n    Game getGame() throws RemoteException;\n    Playground getPlayground(int p) throws RemoteException;\n    void sendPlayground(Playground playground, int p) throws RemoteException;\n    boolean getHostTurn() throws RemoteException;\n    void changeHostTurn() throws  RemoteException;\n    boolean getWinner() throws RemoteException;\n    void changeWinner() throws RemoteException;\n}\n\n</code></pre>\n<pre><code>package Game;\n\nimport Design.*;\nimport RMI.*;\n\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.rmi.RemoteException;\n\npublic class Game {\n\n    private final Server server;\n\n    public Game(Server server){\n        this.server = server;\n    }\n\n    private int turn = 7;\n    private boolean firstHit = true;\n    private boolean hit = false;\n    private final BattleshipFrame frame = new BattleshipFrame();\n\n    //Playground erstellen und Schiffliste erstellen\n    private Playground playground = new Playground();\n    private Playground enemyPlayground = new Playground();\n\n    public void game(boolean host) {\n\n        frame.initialGUI(10, playground);\n        frame.initialGUI(21, enemyPlayground);\n        enemyPlayground.enabled(false);\n\n        final int[] zaehler = {0};\n        final int[] x1 = {0};\n        final int[] y1 = {0};\n        final int[] x2 = {0};\n        final int[] y2 = {0};\n\n        frame.getHostGameButton().addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n\n            }\n        });\n        frame.getJoinGameButton().addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n\n            }\n        });\n\n        for (int i = 0; i &lt; playground.getPlayground().length; i++) {\n            for (int j = 0; j &lt; playground.getPlayground()[i].length; j++) {\n                int finalI = i;\n                int finalJ = j;\n                playground.getPlayground()[i][j].addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e){\n                        if(playground.getPlayground()[finalI][finalJ].isEnabled()) {\n                            if (turn &gt; -1) {\n                                int size = 0;\n                                if (turn == 7 || turn == 6) size = 4;\n                                if (turn == 5 || turn == 4 || turn == 3) size = 3;\n                                if (turn == 2 || turn == 1 || turn == 0) size = 2;\n\n                                if (zaehler[0] == 0) {\n                                    frame.setText(&quot;Server playground kopiert&quot;);\n                                    frame.setText(&quot;Server playground kopiert&quot;);\n                                    frame.setText(&quot;Server playground kopiert&quot;);\n                                    frame.setText(&quot;Server playground kopiert&quot;);\n\n                                    x1[0] = finalI;\n                                    y1[0] = finalJ;\n                                    playground.getPlayground()[finalI][finalJ].setEnabled(false);\n                                    playground.changeButtons(finalI, finalJ, size, false);\n                                }\n                                if (zaehler[0] == 1) {\n                                    x2[0] = finalI;\n                                    y2[0] = finalJ;\n                                }\n                                zaehler[0]++;\n\n                                if (zaehler[0] == 2) {\n                                    placeShip(x1[0], y1[0], x2[0], y2[0], size);\n                                    playground.changeButtons(finalI, finalJ, size, true);\n                                    if (turn != 6 &amp;&amp; turn != 3) playground.disableNotPlaceable(size);\n                                    else playground.disableNotPlaceable(size - 1);\n                                    zaehler[0] = 0;\n                                    turn--;\n                                    if(turn == -1) {\n                                        enemyPlayground = enemyPlayground.copyPlayground(playground, 1);\n                                        enemyPlayground.enabled(false);\n                                    }\n                                }\n                            } else if (turn == -1) {\n                                if (host &amp;&amp; server.getHostTurn()) {\n                                    try {\n                                        server.sendPlayground(enemyPlayground, 1);\n                                    } catch (RemoteException ex) {\n                                        ex.printStackTrace();\n                                    }\n                                    server.changeHostTurn();\n                                    turn--;\n                                    System.out.println(&quot;Server playground kopiert&quot;);\n                                } else if(!(host || server.getHostTurn())) {\n                                    try {\n                                        server.sendPlayground(enemyPlayground, 2);\n                                    } catch (RemoteException ex) {\n                                        ex.printStackTrace();\n                                    }\n                                    server.changeHostTurn();\n                                    turn--;\n                                    System.out.println(&quot;Client playground kopiert&quot;);\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\n                            } else if (turn == -2) {\n                                if (host &amp;&amp; server.getHostTurn()) {\n                                    try {\n                                        playground = playground.copyPlayground(server.getPlayground(2), 1);\n                                        server.changeHostTurn();\n                                        System.out.println(&quot;Client playground auf Server kopiert&quot;);\n                                    } catch (RemoteException ex) {\n                                        ex.printStackTrace();\n                                    }\n                                    turn--;\n                                } else if(host &amp;&amp; !server.getHostTurn()) System.out.println(&quot;Bitte auf Client warten&quot;);\n                                else if (!(host || server.getHostTurn())) {\n                                    try {\n                                        playground = playground.copyPlayground(server.getPlayground(1), 1);\n                                        server.changeHostTurn();\n                                        System.out.println(&quot;Server playground auf Client kopiert&quot;);\n                                    } catch (RemoteException ex) {\n                                        ex.printStackTrace();\n                                    }\n                                    turn--;\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\n                                playground.enabled(true);\n                            } else if (turn == -3) {\n                                if (host &amp;&amp; server.getHostTurn()) {\n                                    if(server.getWinner()) {\n                                        System.out.println(&quot;Du hast leider verloren!&quot;);\n                                        turn = Integer.MIN_VALUE;\n                                    } else {\n                                        try {\n                                            server.sendPlayground(playground, 2);\n                                        } catch (RemoteException ex) {\n                                            ex.printStackTrace();\n                                        }\n                                        playground.getPlayground()[finalI][finalJ].setEnabled(false);\n                                        hit(finalI, finalJ, playground);\n                                    }\n                                    if(firstHit &amp;&amp; !hit) firstHit = false;\n                                    else if(!firstHit){\n                                        try {\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(1), 2);\n                                        } catch (RemoteException ex) {\n                                            ex.printStackTrace();\n                                        }\n                                    }\n                                    if(hit) hit = false;\n                                    else server.changeHostTurn();\n                                } else if(host &amp;&amp; !server.getHostTurn()) System.out.println(&quot;Bitte auf Client warten&quot;);\n                                else if(!(host || server.getHostTurn())) {\n                                    if(server.getWinner()) {\n                                        System.out.println(&quot;Du hast leider verloren!&quot;);\n                                        turn = Integer.MIN_VALUE;\n                                    } else {\n                                        try {\n                                            server.sendPlayground(playground, 1);\n                                        } catch (RemoteException ex) {\n                                            ex.printStackTrace();\n                                        }\n                                        playground.getPlayground()[finalI][finalJ].setEnabled(false);\n                                        hit(finalI, finalJ, playground);\n                                    }\n                                    try {\n                                        enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(2), 2);\n                                    } catch (RemoteException ex) {\n                                        ex.printStackTrace();\n                                    }\n                                    if(hit) hit = false;\n                                    else server.changeHostTurn();\n                                } else if(!host &amp;&amp; server.getHostTurn()) System.out.println(&quot;Bitte auf Server warten&quot;);\n\n                                enemyPlayground.enabled(false);\n                                //if(!(host || server.getHostTurn()) || (host &amp;&amp; server.getHostTurn()))\n                                    playground.enabled((true));\n\n                                if (playground.getShipList().isEmpty()) {\n                                    turn = Integer.MIN_VALUE;\n                                    if(host) {\n                                        System.out.println(&quot;HOST GEWONNEN&quot;);\n                                        server.changeHostTurn();\n                                        server.changeWinner();\n                                        try {\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(1), 2);\n                                        } catch (RemoteException ex) {\n                                            ex.printStackTrace();\n                                        }\n                                    } else {\n                                        System.out.println(&quot;CLIENT GEWONNEN&quot;);\n                                        server.changeHostTurn();\n                                        server.changeWinner();\n                                        try {\n                                            enemyPlayground = enemyPlayground.copyPlayground(server.getPlayground(2), 2);\n                                        } catch (RemoteException ex) {\n                                            ex.printStackTrace();\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n        }\n    }\n    public void placeShip(int x1, int y1, int x2, int y2, int size) {\n        int [][] pos = new int[2][size];\n        boolean vertical = y1 - y2 != 0;\n        for(int i = 0; i &lt; size; i++) {\n            if(!vertical &amp;&amp; x2 &gt; x1) {\n                pos[0][i] = x1+i;\n                pos[1][i] = y1;\n                playground.getPlayground()[x1+i][y1].setEnabled(false);\n                playground.getPlayground()[x1+i][y1].setBackground(playground.getShipColor());\n            }\n            if(!vertical &amp;&amp; x1 &gt; x2) {\n                pos[0][i] = x1-i;\n                pos[1][i] = y1;\n                playground.getPlayground()[x1-i][y1].setEnabled(false);\n                playground.getPlayground()[x1-i][y1].setBackground(playground.getShipColor());\n            }\n            if(vertical &amp;&amp; y2 &gt; y1) {\n                pos[0][i] = x1;\n                pos[1][i] = y1+i;\n                playground.getPlayground()[x1][y1+i].setEnabled(false);\n                playground.getPlayground()[x1][y1+i].setBackground(playground.getShipColor());\n            }\n            if(vertical &amp;&amp; y1 &gt; y2) {\n                pos[0][i] = x1;\n                pos[1][i] = y1-i;\n                playground.getPlayground()[x1][y1-i].setEnabled(false);\n                playground.getPlayground()[x1][y1-i].setBackground(playground.getShipColor());\n            }\n        }\n        playground.getShipList().add(new Ship(size,pos));\n    }\n    public void shipDestroyed() {\n        for (int i = 0; i &lt; playground.getShipList().size(); i++) {\n            boolean destroyed = true;\n            for (int j = 0; j &lt; playground.getShipList().get(i).getSize(); j++) {\n                if (!playground.getPlayground()[playground.getShipList().get(i).getPos()[0][j]][playground.getShipList().get(i).getPos()[1][j]].getBackground().equals(Color.ORANGE)){\n                    destroyed = false;\n                }\n            }\n            if (destroyed){\n                for (int j = 0; j &lt; playground.getShipList().get(i).getSize(); j++) {\n                    playground.getPlayground()[playground.getShipList().get(i).getPos()[0][j]][playground.getShipList().get(i).getPos()[1][j]].setBackground(Color.RED);\n                }\n                playground.getShipList().remove(i);\n            }\n        }\n        for (int i = 0; i &lt; playground.getPlayground().length; i++) {\n            for (int j = 0; j &lt; playground.getPlayground()[i].length; j++) {\n                if(playground.hasNeighbor(i,j,Color.RED) &amp;&amp; !playground.getPlayground()[i][j].getBackground().equals(Color.RED)){\n                        playground.getPlayground()[i][j].setEnabled(false);\n                        playground.getPlayground()[i][j].setBackground(Color.GRAY);\n                }\n            }\n        }\n    }\n    public void hit(int x, int y, Playground playground) {\n        for (Ship ship : playground.getShipList()) {\n            for (int j = 0; j &lt; ship.getSize(); j++) {\n                if (ship.getPos()[0][j] == x &amp;&amp; ship.getPos()[1][j] == y) {\n                    playground.getPlayground()[ship.getPos()[0][j]][ship.getPos()[1][j]].setBackground(Color.ORANGE);\n                    hit = true;\n                    shipDestroyed();\n                    return;\n                }\n            }\n        }\n        playground.getPlayground()[x][y].setBackground(Color.WHITE);\n    }\n}\n</code></pre>\n<pre><code>package Design;\n\nimport Game.Ship;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Playground implements Serializable {\n\n    private final JButton [][] playground = new JButton[10][10];\n    private final List&lt;Ship&gt; shipList = new ArrayList&lt;&gt;();\n    private final Color waterColor = new Color(80, 150, 255);\n    private final Color shipColor = new Color(0,0,0);\n\n    public Playground(){\n        for (int i = 0; i &lt; playground.length; i++) {\n            for (int j = 0; j &lt; playground[i].length; j++) {\n                playground[i][j] = new JButton();\n                playground[i][j].setPreferredSize(new Dimension(20,20));\n                playground[i][j].setBackground(waterColor);\n            }\n        }\n    }\n    public JButton[][] getPlayground() {\n        return playground;\n    }\n\n    public Color getShipColor(){\n        return shipColor;\n    }\n\n    public List&lt;Ship&gt; getShipList(){\n        return shipList;\n    }\n\n    public boolean hasNeighbor(int x, int y, Color color) {\n        boolean hasNeighbor = false;\n        try{\n            if (playground[x+1][y].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x+1][y+1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x+1][y-1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x][y+1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if ( playground[x][y-1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x-1][y].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x-1][y+1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        try{\n            if (playground[x-1][y-1].getBackground().equals(color)) {\n                hasNeighbor = true;\n            }\n        }\n        catch (ArrayIndexOutOfBoundsException ignored){}\n        return hasNeighbor;\n    }\n    public void changeButtons(int x, int y, int size, boolean change) {\n        size--;\n        for (int i = 0; i &lt; playground.length; i++) {\n            for (int j = 0; j &lt; playground[i].length; j++) {\n                if(change){\n                    if(!playground[i][j].getBackground().equals(shipColor) &amp;&amp; !hasNeighbor(i,j,shipColor)) {\n                        playground[i][j].setBackground(waterColor);\n                        playground[i][j].setEnabled(true);\n                    }\n                    if(hasNeighbor(i,j,shipColor) &amp;&amp; !playground[i][j].getBackground().equals(shipColor)) {\n                        playground[i][j].setBackground(Color.GRAY);\n                        playground[i][j].setEnabled(false);\n                    }\n                }\n                else{\n                    if(!((i==x+size &amp;&amp; j==y)|| (i==x-size &amp;&amp; j==y) || (i==x &amp;&amp; j==y+size) || (i==x &amp;&amp; j==y-size)) &amp;&amp; !playground[i][j].getBackground().equals(shipColor)) {\n                            playground[i][j].setBackground(Color.GRAY);\n                            playground[i][j].setEnabled(false);\n                    }\n                }\n            }\n        }\n    }\n    public void disableNotPlaceable(int size) {\n        size--;\n        for (int i = 0; i &lt; playground.length; i++) {\n            for (int j = 0; j &lt; playground[i].length; j++) {\n                boolean placeable = false;\n                try {\n                    if (playground[i][j+size].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\n                        placeable = true;\n                    }\n                } catch (ArrayIndexOutOfBoundsException ignored) {\n                }\n                try {\n                    if (playground[i][j-size].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\n                        placeable = true;\n                    }\n                } catch (ArrayIndexOutOfBoundsException ignored) {\n                }\n                try {\n                    if (playground[i+size][j].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\n                        placeable = true;\n                    }\n                } catch (ArrayIndexOutOfBoundsException ignored) {\n                }\n                try {\n                    if (playground[i-size][j].getBackground().equals(waterColor) &amp;&amp; playground[i][j].getBackground().equals(waterColor)) {\n                        placeable = true;\n                    }\n                } catch (ArrayIndexOutOfBoundsException ignored) {\n                }\n                if (!(placeable || playground[i][j].getBackground().equals(shipColor) || playground[i][j].getBackground().equals(Color.GRAY))) {\n                    playground[i][j].setBackground(Color.GRAY);\n                    playground[i][j].setEnabled(false);\n                }\n            }\n        }\n    }\n    public void clear(){\n        for (JButton[] jButtons : playground) {\n            for (JButton jButton : jButtons) {\n                jButton.setBackground(waterColor);\n                jButton.setEnabled(true);\n            }\n        }\n        for(int i=shipList.size()-1;i&gt;=0;i--){\n            shipList.remove(i);\n        }\n    }\n    public Playground copyPlayground(Playground playground, int mode) {\n        clear();\n        for(int i=0;i&lt;this.playground.length;i++) {\n            for(int j=0;j&lt;this.playground[i].length;j++) {\n                if(mode == 1) {\n                    if(playground.getPlayground()[i][j].getBackground().equals(shipColor)) {\n                        this.getPlayground()[i][j].setBackground(playground.getPlayground()[i][j].getBackground());\n                    }\n                } else if(mode == 2) this.getPlayground()[i][j].setBackground(playground.getPlayground()[i][j].getBackground());\n            }\n        }\n        for (int i=0;i&lt;playground.getShipList().size();i++) {\n            if(playground.getShipList().size()&gt;0) {\n                this.getShipList().add(playground.getShipList().get(i));\n            }\n        }\n        return this;\n    }\n    public void enabled(boolean enable){\n        for (JButton[] jButtons : this.playground) {\n            for (JButton jButton : jButtons) {\n                if(jButton.getBackground().equals(waterColor) &amp;&amp; enable) jButton.setEnabled(true);\n                else if(!enable) jButton.setEnabled(false);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","integer","reverse"],"comments":[{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1389493965,"post_id":21070506,"comment_id":31687739,"body_markdown":"Check out [this](http://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo) link.","body":"Check out <a href=\"http://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo\">this</a> link."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389494006,"creation_date":1389494006,"answer_id":21070621,"question_id":21070506,"body_markdown":"    public static int reverse(int x) {\r\n      boolean pos = x &gt;= +0;\r\n      int y = (pos) ? x : -x;\r\n      StringBuilder sb = new StringBuilder(\r\n          String.valueOf(y));\r\n      sb.reverse();\r\n      int z = Integer.parseInt(sb.toString());\r\n      return pos ? z : -z;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n      for (int i = -10; i &lt; 11; i++) {\r\n        System.out.printf(&quot;%d r= &#39;%d&#39;\\n&quot;, i, reverse(i));\r\n      }\r\n    }\r\n\r\nOutputs\r\n\r\n    -10 r= &#39;-1&#39;\r\n    -9 r= &#39;-9&#39;\r\n    -8 r= &#39;-8&#39;\r\n    -7 r= &#39;-7&#39;\r\n    -6 r= &#39;-6&#39;\r\n    -5 r= &#39;-5&#39;\r\n    -4 r= &#39;-4&#39;\r\n    -3 r= &#39;-3&#39;\r\n    -2 r= &#39;-2&#39;\r\n    -1 r= &#39;-1&#39;\r\n    0 r= &#39;0&#39;\r\n    1 r= &#39;1&#39;\r\n    2 r= &#39;2&#39;\r\n    3 r= &#39;3&#39;\r\n    4 r= &#39;4&#39;\r\n    5 r= &#39;5&#39;\r\n    6 r= &#39;6&#39;\r\n    7 r= &#39;7&#39;\r\n    8 r= &#39;8&#39;\r\n    9 r= &#39;9&#39;\r\n    10 r= &#39;1&#39;\r\n\r\nDid you notice the reverse of 10 and -10? Or 20? You could just return a String, for example\r\n\r\n    public static String reverse(int x) {\r\n      boolean pos = x &gt;= +0;\r\n      int y = (pos) ? x : -x;\r\n      StringBuilder sb = new StringBuilder(\r\n          String.valueOf(y));\r\n      sb.reverse();\r\n      if (!pos) {\r\n        sb.insert(0, &#39;-&#39;);\r\n      }\r\n      return sb.toString();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n      for (int i = -10; i &lt; 11; i++) {\r\n        System.out.printf(&quot;%d r= &#39;%s&#39;\\n&quot;, i, reverse(i));\r\n      }\r\n    }\r\n\r\nWorks as I would expect.","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code>public static int reverse(int x) {\n  boolean pos = x &gt;= +0;\n  int y = (pos) ? x : -x;\n  StringBuilder sb = new StringBuilder(\n      String.valueOf(y));\n  sb.reverse();\n  int z = Integer.parseInt(sb.toString());\n  return pos ? z : -z;\n}\n\npublic static void main(String[] args) {\n  for (int i = -10; i &lt; 11; i++) {\n    System.out.printf(\"%d r= '%d'\\n\", i, reverse(i));\n  }\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>-10 r= '-1'\n-9 r= '-9'\n-8 r= '-8'\n-7 r= '-7'\n-6 r= '-6'\n-5 r= '-5'\n-4 r= '-4'\n-3 r= '-3'\n-2 r= '-2'\n-1 r= '-1'\n0 r= '0'\n1 r= '1'\n2 r= '2'\n3 r= '3'\n4 r= '4'\n5 r= '5'\n6 r= '6'\n7 r= '7'\n8 r= '8'\n9 r= '9'\n10 r= '1'\n</code></pre>\n\n<p>Did you notice the reverse of 10 and -10? Or 20? You could just return a String, for example</p>\n\n<pre><code>public static String reverse(int x) {\n  boolean pos = x &gt;= +0;\n  int y = (pos) ? x : -x;\n  StringBuilder sb = new StringBuilder(\n      String.valueOf(y));\n  sb.reverse();\n  if (!pos) {\n    sb.insert(0, '-');\n  }\n  return sb.toString();\n}\n\npublic static void main(String[] args) {\n  for (int i = -10; i &lt; 11; i++) {\n    System.out.printf(\"%d r= '%s'\\n\", i, reverse(i));\n  }\n}\n</code></pre>\n\n<p>Works as I would expect.</p>\n"},{"tags":[],"owner":{"account_id":3797788,"reputation":194,"user_id":3186503,"display_name":"suh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389497367,"creation_date":1389497367,"answer_id":21070958,"question_id":21070506,"body_markdown":"If you are required to return a 32 bit int, and still need to know if there was an overflow perhaps you could use a flag as an extra parameter. If you were using c or c++ you could use pointers to set the flag, or in Java you can use an array (since Java objects pass by value). \r\n\r\nJava example:\r\n\r\n    public class Solution {\r\n    \r\n         public static int reverse(int x, Boolean[] overflowed) {\r\n                int ret = 0;\r\n                boolean zero = false;\r\n                boolean inputIsNegative = x &lt; 0;\r\n                while (!zero) {\r\n                    ret = ret * 10 + (x % 10);\r\n                    x /= 10;\r\n                    if(x == 0){\r\n                        zero = true;\r\n                    }\r\n                }\r\n                //Set the flag\r\n                if ( (inputIsNegative &amp;&amp; (ret &gt; 0)) || ((!inputIsNegative) &amp;&amp; (ret &lt; 0)))\r\n                    overflowed[0] = new Boolean(true);\r\n                else\r\n                    overflowed[0] = new Boolean(false);\r\n                return ret;\r\n            }\r\n    \r\n        public static void main(String[] args) {\r\n            int s = 1000000004;\r\n            Boolean[]  flag = {null};\r\n            System.out.println(s);\r\n            int n = reverse(s,flag); //reverse() will set the flag.\r\n            System.out.println(flag[0].booleanValue() ? &quot;Error: Overflow&quot;: n );\r\n    \r\n        }\r\n    }\r\n\r\nNotice if the reversed number is too large for a 32 bit integer the flag will be set.\r\nHope this helps.","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>If you are required to return a 32 bit int, and still need to know if there was an overflow perhaps you could use a flag as an extra parameter. If you were using c or c++ you could use pointers to set the flag, or in Java you can use an array (since Java objects pass by value). </p>\n\n<p>Java example:</p>\n\n<pre><code>public class Solution {\n\n     public static int reverse(int x, Boolean[] overflowed) {\n            int ret = 0;\n            boolean zero = false;\n            boolean inputIsNegative = x &lt; 0;\n            while (!zero) {\n                ret = ret * 10 + (x % 10);\n                x /= 10;\n                if(x == 0){\n                    zero = true;\n                }\n            }\n            //Set the flag\n            if ( (inputIsNegative &amp;&amp; (ret &gt; 0)) || ((!inputIsNegative) &amp;&amp; (ret &lt; 0)))\n                overflowed[0] = new Boolean(true);\n            else\n                overflowed[0] = new Boolean(false);\n            return ret;\n        }\n\n    public static void main(String[] args) {\n        int s = 1000000004;\n        Boolean[]  flag = {null};\n        System.out.println(s);\n        int n = reverse(s,flag); //reverse() will set the flag.\n        System.out.println(flag[0].booleanValue() ? \"Error: Overflow\": n );\n\n    }\n}\n</code></pre>\n\n<p>Notice if the reversed number is too large for a 32 bit integer the flag will be set.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3146997,"reputation":6116,"user_id":2661290,"display_name":"Vikram Bhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389511869,"creation_date":1389511869,"answer_id":21072346,"question_id":21070506,"body_markdown":"Use string to store the reverse and then print or use long or BigInt","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Use string to store the reverse and then print or use long or BigInt</p>\n"},{"tags":[],"owner":{"account_id":3802366,"reputation":277,"user_id":3155630,"display_name":"Charles Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392705237,"creation_date":1392705237,"answer_id":21846014,"question_id":21070506,"body_markdown":"My soluton for this problem is to convert integer inputed to c-string, then everthing will be easy.\r\n\r\n    class Solution {\r\n    public:\r\n      int reverse(int x) {\r\n    \tchar str[11];\r\n    \tbool isNegative = false;\r\n    \tint i;\r\n    \tint ret = 0;\r\n\r\n    \tif ( x &lt; 0 ) {\r\n    \t\tisNegative = true;\r\n    \t\tx = -x;\r\n    \t}\r\n\r\n    \ti = 0;\r\n    \twhile ( x != 0 ) {\r\n    \t\tstr[i++] = x % 10 + &#39;0&#39;;\r\n    \t\tx = x / 10;\r\n    \t}\r\n    \tstr[i] = &#39;\\0&#39;;\r\n\r\n    \tif ( (isNegative &amp;&amp; strlen(str) == 10 &amp;&amp; strcmp(str, &quot;2147483648&quot;) &gt; 0) || (!isNegative &amp;&amp; strlen(str) == 10 &amp;&amp; strcmp(str, &quot;2147483647&quot;) &gt; 0) ) {\r\n    \t\tcout &lt;&lt; &quot;Out of range!&quot; &lt;&lt; endl;\r\n    \t\tthrow new exception();\r\n    \t}\r\n\r\n    \ti = 0;\r\n    \tint strLen = (int)strlen(str);\r\n    \twhile ( str[i] != &#39;\\0&#39; ) {\r\n    \t\tret += ((str[i] - &#39;0&#39;) * pow(10.0, strLen - 1 - i));\r\n    \t\ti++;\r\n    \t}\r\n\r\n    \treturn (isNegative ? -ret : ret);\r\n    }\r\n};","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>My soluton for this problem is to convert integer inputed to c-string, then everthing will be easy.</p>\n\n<pre><code>class Solution {\npublic:\n  int reverse(int x) {\n    char str[11];\n    bool isNegative = false;\n    int i;\n    int ret = 0;\n\n    if ( x &lt; 0 ) {\n        isNegative = true;\n        x = -x;\n    }\n\n    i = 0;\n    while ( x != 0 ) {\n        str[i++] = x % 10 + '0';\n        x = x / 10;\n    }\n    str[i] = '\\0';\n\n    if ( (isNegative &amp;&amp; strlen(str) == 10 &amp;&amp; strcmp(str, \"2147483648\") &gt; 0) || (!isNegative &amp;&amp; strlen(str) == 10 &amp;&amp; strcmp(str, \"2147483647\") &gt; 0) ) {\n        cout &lt;&lt; \"Out of range!\" &lt;&lt; endl;\n        throw new exception();\n    }\n\n    i = 0;\n    int strLen = (int)strlen(str);\n    while ( str[i] != '\\0' ) {\n        ret += ((str[i] - '0') * pow(10.0, strLen - 1 - i));\n        i++;\n    }\n\n    return (isNegative ? -ret : ret);\n}\n</code></pre>\n\n<p>};</p>\n"},{"tags":[],"owner":{"account_id":2055088,"reputation":971,"user_id":1833065,"accept_rate":83,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421296914,"creation_date":1421296914,"answer_id":27956921,"question_id":21070506,"body_markdown":"    public class Solution {\r\n        /**\r\n         * OVERFLOW\r\n         * @param x\r\n         * @return\r\n         */\r\n        public int reverse(int x) {\r\n            int sign = x&gt;0? 1: -1;\r\n            x *= sign;\r\n            int ret = 0;\r\n            while(x&gt;0) {\r\n                ret *= 10;\r\n                if(ret&lt;0 || x&gt;10&amp;&amp;ret*10/10!=ret) // overflow\r\n                    return 0;\r\n    \r\n                ret += x%10;\r\n                x /= 10;\r\n            }\r\n            return ret*sign;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            assert new Solution().reverse(-2147483412)==-2147483412;\r\n        }\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code>public class Solution {\n    /**\n     * OVERFLOW\n     * @param x\n     * @return\n     */\n    public int reverse(int x) {\n        int sign = x&gt;0? 1: -1;\n        x *= sign;\n        int ret = 0;\n        while(x&gt;0) {\n            ret *= 10;\n            if(ret&lt;0 || x&gt;10&amp;&amp;ret*10/10!=ret) // overflow\n                return 0;\n\n            ret += x%10;\n            x /= 10;\n        }\n        return ret*sign;\n    }\n\n    public static void main(String[] args) {\n        assert new Solution().reverse(-2147483412)==-2147483412;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4100771,"reputation":371,"user_id":3366372,"display_name":"user3366372"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1506923430,"creation_date":1424054549,"answer_id":28533815,"question_id":21070506,"body_markdown":"There&#39;s no need for any data type other than int.\r\nJust make sure when there&#39;s an operation that increases a number, reversing the operation should give you the previous number. Otherwise, there&#39;s overflow.\r\n\r\n    public int reverse(int x) {\r\n    \tint y = 0;\r\n        \r\n        while(x != 0) {\r\n        \tint yy = y*10 + x%10;\r\n        \t\r\n        \tif ((yy - x%10)/10 != y) return 0;\r\n        \telse y = yy;\r\n        \t\r\n        \tx = x/10;\t\r\n        }\r\n    \treturn y;\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>There's no need for any data type other than int.\nJust make sure when there's an operation that increases a number, reversing the operation should give you the previous number. Otherwise, there's overflow.</p>\n\n<pre><code>public int reverse(int x) {\n    int y = 0;\n\n    while(x != 0) {\n        int yy = y*10 + x%10;\n\n        if ((yy - x%10)/10 != y) return 0;\n        else y = yy;\n\n        x = x/10;   \n    }\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1008265,"reputation":1269,"user_id":1021397,"display_name":"Jiaji Li"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1492583054,"creation_date":1426174789,"answer_id":29014111,"question_id":21070506,"body_markdown":"Above most of the answers having a trivial problem is that the int variable possibly might overflow. You can try this : x = -2147483648 as parameter.\r\nThere has an easy way to solve the problem. Convert x to long, and check if the result &gt;= Integer.MAX_VALUE, otherwise return 0.\r\nThe solution passed all test cases on https://leetcode.com/problems/reverse-integer/\r\n    &lt;p&gt;\r\n    This is a java version.\r\n\r\n    public int reverse(int x) {\r\n    \t\tlong k = x;\r\n            boolean isNegtive = false;        \r\n            if(k &lt; 0){\r\n            \tk = 0 - k;\r\n            \tisNegtive = true;\r\n            }\r\n            \r\n            long result = 0;\r\n            while(k != 0){\r\n                result *= 10;\r\n                result += k % 10;\r\n                k /= 10;\r\n            }\r\n            \r\n            if(result &gt; Integer.MAX_VALUE) return 0;\r\n            return isNegtive  ? 0 - ((int)result) : (int)result;\r\n        }\r\n\r\n&lt;p&gt;\r\nC# version\r\n\r\n        public int Reverse(int x)\r\n        {\r\n            long value = 0;\r\n            bool negative = x &lt; 0;\r\n            long y = x;\r\n            y = Math.Abs(y);\r\n\r\n            while (y &gt; 0)\r\n            {\r\n                value *= 10;\r\n                value += y % 10;\r\n                y /= 10;\r\n            }\r\n\r\n            if(value &gt; int.MaxValue)\r\n            {\r\n                return int.MaxValue;\r\n            }\r\n\r\n            int ret = (int)value;\r\n\r\n            if (negative)\r\n            {\r\n                return 0 - ret;\r\n            }\r\n            else\r\n            {\r\n                return ret;\r\n            }\r\n        }\r\n    \r\n&lt;p&gt;\r\nPython version\r\n&lt;p&gt;\r\n\r\n    def reverse(self, x):                \r\n        isNegative = x &lt; 0\r\n        ret = 0\r\n        x = abs(x)\r\n        while x &gt; 0:\r\n            ret *= 10\r\n            ret += x % 10\r\n            x /= 10\r\n        if ret &gt; 1&lt;&lt;31:\r\n            return 0\r\n                         \r\n        if isNegative:\r\n            return 0 - ret\r\n        else:\r\n            return ret","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Above most of the answers having a trivial problem is that the int variable possibly might overflow. You can try this : x = -2147483648 as parameter.\nThere has an easy way to solve the problem. Convert x to long, and check if the result >= Integer.MAX_VALUE, otherwise return 0.\nThe solution passed all test cases on <a href=\"https://leetcode.com/problems/reverse-integer/\" rel=\"noreferrer\">https://leetcode.com/problems/reverse-integer/</a>\n    <p>\n    This is a java version.</p>\n\n<pre><code>public int reverse(int x) {\n        long k = x;\n        boolean isNegtive = false;        \n        if(k &lt; 0){\n            k = 0 - k;\n            isNegtive = true;\n        }\n\n        long result = 0;\n        while(k != 0){\n            result *= 10;\n            result += k % 10;\n            k /= 10;\n        }\n\n        if(result &gt; Integer.MAX_VALUE) return 0;\n        return isNegtive  ? 0 - ((int)result) : (int)result;\n    }\n</code></pre>\n\n<p><p>\nC# version</p>\n\n<pre><code>    public int Reverse(int x)\n    {\n        long value = 0;\n        bool negative = x &lt; 0;\n        long y = x;\n        y = Math.Abs(y);\n\n        while (y &gt; 0)\n        {\n            value *= 10;\n            value += y % 10;\n            y /= 10;\n        }\n\n        if(value &gt; int.MaxValue)\n        {\n            return int.MaxValue;\n        }\n\n        int ret = (int)value;\n\n        if (negative)\n        {\n            return 0 - ret;\n        }\n        else\n        {\n            return ret;\n        }\n    }\n</code></pre>\n\n<p><p>\nPython version\n<p></p>\n\n<pre><code>def reverse(self, x):                \n    isNegative = x &lt; 0\n    ret = 0\n    x = abs(x)\n    while x &gt; 0:\n        ret *= 10\n        ret += x % 10\n        x /= 10\n    if ret &gt; 1&lt;&lt;31:\n        return 0\n\n    if isNegative:\n        return 0 - ret\n    else:\n        return ret\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6487299,"reputation":41,"user_id":5022431,"display_name":"Apurva Kumar Sinha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434605671,"creation_date":1434603366,"answer_id":30906725,"question_id":21070506,"body_markdown":"This java code handles the overflow condition:\r\n   \r\n    public int reverse(int x) {\r\n        \r\n        long reverse = 0;\r\n\t    while( x != 0 ) {\r\n\t       reverse = reverse * 10 + x % 10;\r\n\t       x = x/10;\r\n\t    }\r\n\r\n\t    if(reverse &gt; Integer.MAX_VALUE || reverse &lt; Integer.MIN_VALUE) {\r\n\t        return 0;\r\n\t    } else {\r\n\t        return (int) reverse;\r\n        }\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>This java code handles the overflow condition:</p>\n\n<pre><code>public int reverse(int x) {\n\n    long reverse = 0;\n    while( x != 0 ) {\n       reverse = reverse * 10 + x % 10;\n       x = x/10;\n    }\n\n    if(reverse &gt; Integer.MAX_VALUE || reverse &lt; Integer.MIN_VALUE) {\n        return 0;\n    } else {\n        return (int) reverse;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5944252,"reputation":11,"user_id":4674319,"display_name":"nimmi chhabra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463658205,"creation_date":1463652219,"answer_id":37319983,"question_id":21070506,"body_markdown":"    public class Solution {\r\n        public int Reverse(int x) {\r\n            \r\n                var sign = x &lt; 0 ? -1 : 1;\r\n            \r\n                var reverse = 0;\r\n                \r\n                if (x == int.MinValue)\r\n                {\r\n                    return 0;\r\n                }\r\n                x = Math.Abs(x);\r\n            \r\n                while(x &gt; 0)\r\n                {\r\n                    var remainder = x % 10;\r\n                \r\n                    if (reverse &gt; ((int.MaxValue - remainder)/10))\r\n                    {\r\n                        return 0;\r\n                    }\r\n    \r\n                    reverse = (reverse*10) + remainder;\r\n    \r\n                    x = x/10;\r\n                }\r\n    \r\n                return sign * Convert.ToInt32(reverse);\r\n            \r\n        }\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code>public class Solution {\n    public int Reverse(int x) {\n\n            var sign = x &lt; 0 ? -1 : 1;\n\n            var reverse = 0;\n\n            if (x == int.MinValue)\n            {\n                return 0;\n            }\n            x = Math.Abs(x);\n\n            while(x &gt; 0)\n            {\n                var remainder = x % 10;\n\n                if (reverse &gt; ((int.MaxValue - remainder)/10))\n                {\n                    return 0;\n                }\n\n                reverse = (reverse*10) + remainder;\n\n                x = x/10;\n            }\n\n            return sign * Convert.ToInt32(reverse);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544409,"reputation":5735,"user_id":913845,"display_name":"Zar Shardan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478387226,"creation_date":1478387226,"answer_id":40444216,"question_id":21070506,"body_markdown":"This works:\r\n\r\n\tpublic class Solution {\r\n\t\tpublic int reverse(int x) {\r\n\t\t\tlong tmp = Math.abs((long)x);\r\n\t\t\tlong res = 0;\r\n\t\t\t\r\n\t\t\twhile(tmp &gt;= 10){\r\n\t\t\t\tres += tmp%10;\r\n\t\t\t\tres*=10;\r\n\t\t\t\ttmp=tmp/10;          \r\n\t\t\t}  \r\n\t\r\n\t\t\tres+=tmp;\r\n\t\t\t\r\n\t\t\tif(x&lt;0){\r\n\t\t\t\tres = -res;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn (res&gt;Integer.MAX_VALUE||res&lt;Integer.MIN_VALUE)? 0: (int)res; \r\n\t\t}\r\n\t}\r\n\r\nI tried to improve the performance a bit but all I could come up with was this:\r\n\r\n\tpublic class Solution {\r\n\t\tpublic int reverse(int x) {\r\n\t\t\t\r\n\t\t\tlong tmp = x;\r\n\t\t\tlong res = 0;\r\n\t\t\t\r\n\t\t\tif(x&gt;0){\r\n\t\t\t\twhile(tmp &gt;= 10){\r\n\t\t\t\t\tres += tmp%10;\r\n\t\t\t\t\tres*=10;\r\n\t\t\t\t\ttmp=tmp/10;          \r\n\t\t\t\t}  \r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\twhile(tmp &lt;= -10){\r\n\t\t\t\t\tres += tmp%10;\r\n\t\t\t\t\tres*=10;\r\n\t\t\t\t\ttmp=tmp/10;          \r\n\t\t\t\t}  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tres+=tmp;\r\n\t\t\t\r\n\t\t\treturn (res&gt;Integer.MAX_VALUE||res&lt;Integer.MIN_VALUE)? 0: (int)res; \r\n\t\t}\r\n\t}\r\n\r\nIts C# equivalent runs 5% faster than the 1st version on my machine, but their server says it is slower, which can&#39;t be - I got rid of extra function call here, otherwise it is essentially the same. It places me between 60-30% depending on the language (C# or Java). Maybe their benchmarking code is not very good - if you submit several times - resulting times vary a lot.","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>This works:</p>\n\n<pre><code>public class Solution {\n    public int reverse(int x) {\n        long tmp = Math.abs((long)x);\n        long res = 0;\n\n        while(tmp &gt;= 10){\n            res += tmp%10;\n            res*=10;\n            tmp=tmp/10;          \n        }  \n\n        res+=tmp;\n\n        if(x&lt;0){\n            res = -res;\n        }\n\n        return (res&gt;Integer.MAX_VALUE||res&lt;Integer.MIN_VALUE)? 0: (int)res; \n    }\n}\n</code></pre>\n\n<p>I tried to improve the performance a bit but all I could come up with was this:</p>\n\n<pre><code>public class Solution {\n    public int reverse(int x) {\n\n        long tmp = x;\n        long res = 0;\n\n        if(x&gt;0){\n            while(tmp &gt;= 10){\n                res += tmp%10;\n                res*=10;\n                tmp=tmp/10;          \n            }  \n        }\n        else{\n            while(tmp &lt;= -10){\n                res += tmp%10;\n                res*=10;\n                tmp=tmp/10;          \n            }  \n        }\n\n        res+=tmp;\n\n        return (res&gt;Integer.MAX_VALUE||res&lt;Integer.MIN_VALUE)? 0: (int)res; \n    }\n}\n</code></pre>\n\n<p>Its C# equivalent runs 5% faster than the 1st version on my machine, but their server says it is slower, which can't be - I got rid of extra function call here, otherwise it is essentially the same. It places me between 60-30% depending on the language (C# or Java). Maybe their benchmarking code is not very good - if you submit several times - resulting times vary a lot.</p>\n"},{"tags":[],"owner":{"account_id":7065041,"reputation":205,"user_id":5408636,"display_name":"Aakarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479879010,"creation_date":1479879010,"answer_id":40756731,"question_id":21070506,"body_markdown":"Here we will use long to handle the the over flow:\r\n\r\n \r\n\r\n    public class Solution {\r\n     public int reverse(int A) {\r\n        // use long to monitor Overflow\r\n        long result = 0;\r\n        while (A != 0) {\r\n            result = result * 10 + (A % 10);\r\n            A = A / 10;\r\n        }\r\n        if (result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE) {\r\n            return 0;\r\n        } else {\r\n            return (int) result;\r\n        }\r\n     }\r\n    }\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Here we will use long to handle the the over flow:</p>\n\n<pre><code>public class Solution {\n public int reverse(int A) {\n    // use long to monitor Overflow\n    long result = 0;\n    while (A != 0) {\n        result = result * 10 + (A % 10);\n        A = A / 10;\n    }\n    if (result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE) {\n        return 0;\n    } else {\n        return (int) result;\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10813634,"reputation":1,"user_id":7953440,"display_name":"Abhisek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500497797,"creation_date":1500494583,"answer_id":45200021,"question_id":21070506,"body_markdown":"Well This Suitable Code in Java Can be:-\r\n\r\n    public class Solution {\r\n        public int reverse(int x) {\r\n        \r\n\t\t    int r;\r\n            long s = 0;\r\n        \r\n            while(x != 0)\r\n           {\r\n                r = x % 10;\r\n            \r\n                s = (s * 10) + r;\r\n            \r\n                x = x/10;\r\n            }\r\n            if(s &gt;= Integer.MAX_VALUE || s &lt;= Integer.MIN_VALUE) return 0;\r\n            else\r\n                return (int)s;  \r\n        }\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Well This Suitable Code in Java Can be:-</p>\n\n<pre><code>public class Solution {\n    public int reverse(int x) {\n\n        int r;\n        long s = 0;\n\n        while(x != 0)\n       {\n            r = x % 10;\n\n            s = (s * 10) + r;\n\n            x = x/10;\n        }\n        if(s &gt;= Integer.MAX_VALUE || s &lt;= Integer.MIN_VALUE) return 0;\n        else\n            return (int)s;  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9257983,"reputation":61,"user_id":6876137,"display_name":"Gemini Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503464141,"creation_date":1503464141,"answer_id":45830899,"question_id":21070506,"body_markdown":"My solution without using long:\r\n\r\n\r\n    public class ReverseInteger {\r\n    \r\n        public static void main(String[] args) {\r\n            int input = Integer.MAX_VALUE;\r\n            int output = reverse(input);\r\n            System.out.println(output);\r\n        }\r\n    \r\n        public static int reverse(int x) {\r\n            int remainder = 0;\r\n            int result = 0;\r\n    \r\n            if (x &lt; 10 &amp;&amp; x &gt; -10) {\r\n                return x;\r\n            }\r\n    \r\n            while (x != 0) {\r\n                remainder = x % 10;\r\n    \r\n                int absResult = Math.abs(result);\r\n                int maxResultMultipliedBy10 = Integer.MAX_VALUE / 10;\r\n                if (absResult &gt; maxResultMultipliedBy10) {\r\n                    return 0;\r\n                }\r\n    \r\n                int resultMultipliedBy10 = absResult * 10;\r\n    \r\n                int maxRemainder = Integer.MAX_VALUE - resultMultipliedBy10;\r\n                if (remainder &gt; maxRemainder) {\r\n                    return 0;\r\n                }\r\n    \r\n                result = result * 10 + remainder;\r\n                x = x / 10;\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>My solution without using long:</p>\n\n<pre><code>public class ReverseInteger {\n\n    public static void main(String[] args) {\n        int input = Integer.MAX_VALUE;\n        int output = reverse(input);\n        System.out.println(output);\n    }\n\n    public static int reverse(int x) {\n        int remainder = 0;\n        int result = 0;\n\n        if (x &lt; 10 &amp;&amp; x &gt; -10) {\n            return x;\n        }\n\n        while (x != 0) {\n            remainder = x % 10;\n\n            int absResult = Math.abs(result);\n            int maxResultMultipliedBy10 = Integer.MAX_VALUE / 10;\n            if (absResult &gt; maxResultMultipliedBy10) {\n                return 0;\n            }\n\n            int resultMultipliedBy10 = absResult * 10;\n\n            int maxRemainder = Integer.MAX_VALUE - resultMultipliedBy10;\n            if (remainder &gt; maxRemainder) {\n                return 0;\n            }\n\n            result = result * 10 + remainder;\n            x = x / 10;\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2842678,"reputation":206,"user_id":2441951,"display_name":"redEyeProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511737749,"creation_date":1511731455,"answer_id":47501169,"question_id":21070506,"body_markdown":"\r\n\r\n----------\r\nSolution In Swift 4.0 (in reference to problem from https://leetcode.com/problems/reverse-integer/description/)\r\n\r\n    func reverse(_ x : Int) -&gt; Int {\r\n        \r\n        var stringConversion = String(x)\r\n        var negativeCharacter = false\r\n        var finalreversedString = String()\r\n        let signedInt = 2147483647 //Max for Int 32\r\n        let unSignedInt = -2147483647 // Min for Int 32\r\n        \r\n        if stringConversion.contains(&quot;-&quot;){\r\n            stringConversion.removeFirst()\r\n            negativeCharacter = true\r\n        }\r\n        \r\n        var reversedString = String(stringConversion.reversed())\r\n        if reversedString.first == &quot;0&quot; {\r\n            reversedString.removeFirst()\r\n        }\r\n        if negativeCharacter {\r\n            finalreversedString = &quot;-\\(reversedString)&quot;\r\n        } else {\r\n            finalreversedString = reversedString\r\n        }\r\n        \r\n        return  (x == 0 || Int(finalreversedString)! &gt; signedInt || Int(finalreversedString)! &lt; unSignedInt) ?  0 :  Int(finalreversedString)!\r\n        \r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<hr>\n\n<p>Solution In Swift 4.0 (in reference to problem from <a href=\"https://leetcode.com/problems/reverse-integer/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/reverse-integer/description/</a>)</p>\n\n<pre><code>func reverse(_ x : Int) -&gt; Int {\n\n    var stringConversion = String(x)\n    var negativeCharacter = false\n    var finalreversedString = String()\n    let signedInt = 2147483647 //Max for Int 32\n    let unSignedInt = -2147483647 // Min for Int 32\n\n    if stringConversion.contains(\"-\"){\n        stringConversion.removeFirst()\n        negativeCharacter = true\n    }\n\n    var reversedString = String(stringConversion.reversed())\n    if reversedString.first == \"0\" {\n        reversedString.removeFirst()\n    }\n    if negativeCharacter {\n        finalreversedString = \"-\\(reversedString)\"\n    } else {\n        finalreversedString = reversedString\n    }\n\n    return  (x == 0 || Int(finalreversedString)! &gt; signedInt || Int(finalreversedString)! &lt; unSignedInt) ?  0 :  Int(finalreversedString)!\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13203047,"reputation":1,"user_id":9535740,"display_name":"Noy Miran"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1521732808,"creation_date":1521732808,"answer_id":49432678,"question_id":21070506,"body_markdown":"Note that there are previous solutions that do not work for input: 1000000045\r\ntry this:\r\n\r\n    public int reverse(int A) {\r\n        int reverse=0;\r\n        int num=A;\r\n        boolean flag=false;\r\n        if(A&lt;0)\r\n        {\r\n        num=(-1)*A;\r\n        flag=true;\r\n        }\r\n\r\n        int prevnum=0;\r\n        while(num&gt;0)\r\n        {\r\n        \tint currDigit=num%10;\r\n            reverse=reverse*10+currDigit;\r\n  \r\n        if((reverse-currDigit)/10!=prevnum)\r\n            \treturn 0;\r\n            num=num/10;  \r\n            prevnum=reverse;\r\n        }\r\n        \r\n        if(flag==true)\r\n       reverse= reverse*-1;\r\n    return reverse;\r\n    }\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Note that there are previous solutions that do not work for input: 1000000045\ntry this:</p>\n\n<pre><code>public int reverse(int A) {\n    int reverse=0;\n    int num=A;\n    boolean flag=false;\n    if(A&lt;0)\n    {\n    num=(-1)*A;\n    flag=true;\n    }\n\n    int prevnum=0;\n    while(num&gt;0)\n    {\n        int currDigit=num%10;\n        reverse=reverse*10+currDigit;\n\n    if((reverse-currDigit)/10!=prevnum)\n            return 0;\n        num=num/10;  \n        prevnum=reverse;\n    }\n\n    if(flag==true)\n   reverse= reverse*-1;\nreturn reverse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13722417,"reputation":1,"user_id":9901997,"display_name":"liupu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550821488,"creation_date":1550821488,"answer_id":54822316,"question_id":21070506,"body_markdown":"here is the JavaScript solution.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /**\r\n     * @param {number} x\r\n     * @return {number}\r\n     */\r\n    var reverse = function(x) {\r\n        var stop = false;\r\n        var res = 0;\r\n        while(!stop){\r\n            res = res *10 + (x % 10);\r\n            x = parseInt(x/10);\r\n            if(x==0){\r\n                stop = true;\r\n            }\r\n        }\r\n        return (res &lt;= 0x7fffffff &amp;&amp; res &gt;= -0x80000000) ? res : 0\r\n    };\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>here is the JavaScript solution.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\r\n * @param {number} x\r\n * @return {number}\r\n */\r\nvar reverse = function(x) {\r\n    var stop = false;\r\n    var res = 0;\r\n    while(!stop){\r\n        res = res *10 + (x % 10);\r\n        x = parseInt(x/10);\r\n        if(x==0){\r\n            stop = true;\r\n        }\r\n    }\r\n    return (res &lt;= 0x7fffffff &amp;&amp; res &gt;= -0x80000000) ? res : 0\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":8608727,"reputation":615,"user_id":6495981,"display_name":"jeevjyot singh chhabda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558420134,"creation_date":1558420134,"answer_id":56232305,"question_id":21070506,"body_markdown":"Taking care if the input is negative\r\n\r\n```\r\npublic int reverse(int x) \r\n{\r\n        \r\n        long result = 0;\r\n        int res;\r\n        int num = Math.abs(x);\r\n        \r\n        while(num!=0)\r\n        {\r\n            int rem = num%10;\r\n            result = result *10 + rem;\r\n            num = num / 10;\r\n        }\r\n        \r\n    if(result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE) \r\n    {\r\n        return 0;\r\n    } \r\n    else \r\n    {\r\n        res = (int)result;\r\n        return x &lt; 0 ? -res : res;\r\n    }\r\n        \r\n}\r\n```","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Taking care if the input is negative</p>\n\n<pre><code>public int reverse(int x) \n{\n\n        long result = 0;\n        int res;\n        int num = Math.abs(x);\n\n        while(num!=0)\n        {\n            int rem = num%10;\n            result = result *10 + rem;\n            num = num / 10;\n        }\n\n    if(result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE) \n    {\n        return 0;\n    } \n    else \n    {\n        res = (int)result;\n        return x &lt; 0 ? -res : res;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9171642,"reputation":1,"user_id":6818915,"display_name":"Pratibha Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561113683,"creation_date":1561113683,"answer_id":56701844,"question_id":21070506,"body_markdown":"This solution in Java will work:\r\n\r\n    class Solution {\r\n    \tpublic int reverse(int x) {\r\n    \t\tlong rev = 0, remainder = 0;\r\n    \t\tlong number = x;\r\n    \r\n    \t\twhile (number != 0) {\r\n    \t\t\tremainder = number % 10;\r\n    \t\t\trev = rev * 10 + remainder;\r\n    \t\t\tnumber = number / 10;\r\n    \t\t}\r\n    \t\tif (rev &gt;= Integer.MAX_VALUE || rev &lt;= Integer.MIN_VALUE || x &gt;= Integer.MAX_VALUE || x &lt;= Integer.MIN_VALUE)\r\n    \t\t\treturn 0;\r\n    \t\telse\r\n    \t\t\treturn (int) rev;\r\n    \r\n    \t}\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>This solution in Java will work:</p>\n\n<pre><code>class Solution {\n    public int reverse(int x) {\n        long rev = 0, remainder = 0;\n        long number = x;\n\n        while (number != 0) {\n            remainder = number % 10;\n            rev = rev * 10 + remainder;\n            number = number / 10;\n        }\n        if (rev &gt;= Integer.MAX_VALUE || rev &lt;= Integer.MIN_VALUE || x &gt;= Integer.MAX_VALUE || x &lt;= Integer.MIN_VALUE)\n            return 0;\n        else\n            return (int) rev;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17261145,"reputation":240,"user_id":12498994,"display_name":"Xgh05t"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580071364,"creation_date":1578493464,"answer_id":59647892,"question_id":21070506,"body_markdown":"This is an old question, but anyway let me have a go at it too! I just solved it on leetcode. With this check, you never hit the overflow/ underflow in either direction, and I think the code is more concise than all the listed codes. It passes all test cases.\r\n```\r\npublic int reverse(int x) {\r\n    int y = 0;\r\n    while(x != 0) {\r\n        if(y &gt; Integer.MAX_VALUE/10 || y &lt; Integer.MIN_VALUE/10) return 0;\r\n        y *= 10;\r\n        y += x % 10;\r\n        x /= 10;\r\n    }\r\n    return y;\r\n}\r\n```","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>This is an old question, but anyway let me have a go at it too! I just solved it on leetcode. With this check, you never hit the overflow/ underflow in either direction, and I think the code is more concise than all the listed codes. It passes all test cases.</p>\n\n<pre><code>public int reverse(int x) {\n    int y = 0;\n    while(x != 0) {\n        if(y &gt; Integer.MAX_VALUE/10 || y &lt; Integer.MIN_VALUE/10) return 0;\n        y *= 10;\n        y += x % 10;\n        x /= 10;\n    }\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8916922,"reputation":63,"user_id":6655151,"display_name":"FoxRiver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578853094,"creation_date":1578853094,"answer_id":59706805,"question_id":21070506,"body_markdown":"Much simpler solution. Ensure that intermittent result does not exceed INT_MAX or get below INT_MIN\r\n\r\n    int reverse(int x) {\r\n        \r\n        int y = 0;\r\n\r\n        while(x != 0) {\r\n        \r\n            if ( (long)y*10 + x%10 &gt; INT_MAX || (long)y*10 + x%10 &lt; INT_MIN) {\r\n\r\n                std::cout &lt;&lt; &quot;overflow occurred&quot; &lt;&lt; &#39;\\n&#39;\r\n                return 0;\r\n            }\r\n        \r\n            y = y*10 + x%10;\r\n            x = x/10;   \r\n        }\r\n        \r\n        return y;\r\n    }","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Much simpler solution. Ensure that intermittent result does not exceed INT_MAX or get below INT_MIN</p>\n\n<pre><code>int reverse(int x) {\n\n    int y = 0;\n\n    while(x != 0) {\n\n        if ( (long)y*10 + x%10 &gt; INT_MAX || (long)y*10 + x%10 &lt; INT_MIN) {\n\n            std::cout &lt;&lt; \"overflow occurred\" &lt;&lt; '\\n'\n            return 0;\n        }\n\n        y = y*10 + x%10;\n        x = x/10;   \n    }\n\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19504296,"reputation":1,"user_id":14269663,"display_name":"Manisha Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599998821,"creation_date":1599998821,"answer_id":63870587,"question_id":21070506,"body_markdown":"Here is the solution coded in JS(Javascript, it has passed all the 1032 test cases successfully in Leetcode for the problem (**https://leetcode.com/problems/reverse-integer**), also as asked in the question about the same.\r\n\r\n```\r\n\r\n/**\r\n * @param {number} x\r\n * @return {number}\r\n */\r\nvar reverse = function(x) {\r\n    let oldNum = x, newNum = 0, digits = 0, negativeNum = false;\r\n    if(oldNum &lt; 0){\r\n        negativeNum = true;\r\n    }\r\n    \r\n    let absVal = Math.abs(x);\r\n    while(absVal != 0){\r\n        let r = Math.trunc(absVal % 10);        \r\n        newNum = (newNum*10) + r; digits++;\r\n        absVal = Math.floor(absVal/10);\r\n    }\r\n    if( !(newNum &lt; Number.MAX_VALUE &amp;&amp; newNum &gt;= -2147483648 &amp;&amp; newNum &lt;= 2147483647)){\r\n        return 0;    \r\n    }\r\n    return negativeNum ? -newNum :newNum;   \r\n};\r\n\r\n```","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Here is the solution coded in JS(Javascript, it has passed all the 1032 test cases successfully in Leetcode for the problem (<strong><a href=\"https://leetcode.com/problems/reverse-integer\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/reverse-integer</a></strong>), also as asked in the question about the same.</p>\n<pre><code>\n/**\n * @param {number} x\n * @return {number}\n */\nvar reverse = function(x) {\n    let oldNum = x, newNum = 0, digits = 0, negativeNum = false;\n    if(oldNum &lt; 0){\n        negativeNum = true;\n    }\n    \n    let absVal = Math.abs(x);\n    while(absVal != 0){\n        let r = Math.trunc(absVal % 10);        \n        newNum = (newNum*10) + r; digits++;\n        absVal = Math.floor(absVal/10);\n    }\n    if( !(newNum &lt; Number.MAX_VALUE &amp;&amp; newNum &gt;= -2147483648 &amp;&amp; newNum &lt;= 2147483647)){\n        return 0;    \n    }\n    return negativeNum ? -newNum :newNum;   \n};\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19504308,"reputation":1,"user_id":14269841,"display_name":"Manisha Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600003628,"creation_date":1600003628,"answer_id":63871340,"question_id":21070506,"body_markdown":"Here is the solution coded in JS(Javascript, it has passed all the 1032 test cases successfully in Leetcode for the problem (**https://leetcode.com/problems/reverse-integer**), also as asked in the question about the same.\r\n\r\n```\r\n\r\n/**\r\n * @param {number} x\r\n * @return {number}\r\n */\r\nvar reverse = function(x) {\r\n    let oldNum = x, newNum = 0, digits = 0, negativeNum = false;\r\n    if(oldNum &lt; 0){\r\n        negativeNum = true;\r\n    }\r\n    \r\n    let absVal = Math.abs(x);\r\n    while(absVal != 0){\r\n        let r = Math.trunc(absVal % 10);        \r\n        newNum = (newNum*10) + r; digits++;\r\n        absVal = Math.floor(absVal/10);\r\n    }\r\n    if( !(newNum &lt; Number.MAX_VALUE &amp;&amp; newNum &gt;= -2147483648 &amp;&amp; newNum &lt;= 2147483647)){\r\n        return 0;    \r\n    }\r\n    return negativeNum ? -newNum :newNum;   \r\n};\r\n\r\n```\r\n\r\nThe earlier answer was posted by the same user (unregistered). Consider this one.","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Here is the solution coded in JS(Javascript, it has passed all the 1032 test cases successfully in Leetcode for the problem (<strong><a href=\"https://leetcode.com/problems/reverse-integer\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/reverse-integer</a></strong>), also as asked in the question about the same.</p>\n<pre><code>\n/**\n * @param {number} x\n * @return {number}\n */\nvar reverse = function(x) {\n    let oldNum = x, newNum = 0, digits = 0, negativeNum = false;\n    if(oldNum &lt; 0){\n        negativeNum = true;\n    }\n    \n    let absVal = Math.abs(x);\n    while(absVal != 0){\n        let r = Math.trunc(absVal % 10);        \n        newNum = (newNum*10) + r; digits++;\n        absVal = Math.floor(absVal/10);\n    }\n    if( !(newNum &lt; Number.MAX_VALUE &amp;&amp; newNum &gt;= -2147483648 &amp;&amp; newNum &lt;= 2147483647)){\n        return 0;    \n    }\n    return negativeNum ? -newNum :newNum;   \n};\n\n</code></pre>\n<p>The earlier answer was posted by the same user (unregistered). Consider this one.</p>\n"},{"tags":[],"owner":{"account_id":12273979,"reputation":364,"user_id":11559773,"display_name":"Yeasin Arafath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600023511,"creation_date":1600023511,"answer_id":63874468,"question_id":21070506,"body_markdown":"Last night, i have tried this same problem and i have found a simple solution in python, which is given below, here after checking the number type positive or negative, though i have tried in different section for both of them, i have convert the negative number into positive and before returning the reverse number, i had converted the number into negative.\r\n\r\nFor handling overflow, i have just simply checked with the upper limit of our 32-bit signed number and lower limit of the number, and it accepted my answer, thank you.\r\n\r\n````\r\nclass Solution:\r\n    def reverse(self, x: int):\r\n        reverse = 0\r\n        if x &gt; 0:\r\n            while x != 0:\r\n                remainder = x % 10\r\n                if reverse &gt; (2147483647/10):\r\n                    return 0\r\n                reverse = reverse * 10 + remainder\r\n                x = int(x / 10)\r\n            return reverse\r\n\r\n        elif x &lt; 0:\r\n            x = x * (-1)\r\n            while x != 0:\r\n                remainder = x % 10\r\n                if reverse &gt; ((2147483648)/10):\r\n                    return 0\r\n                reverse = reverse * 10 + remainder\r\n                x = int(x / 10)\r\n            reverse = reverse * (-1)\r\n            return reverse\r\n\r\n        else: \r\n            return 0\r\n````","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>Last night, i have tried this same problem and i have found a simple solution in python, which is given below, here after checking the number type positive or negative, though i have tried in different section for both of them, i have convert the negative number into positive and before returning the reverse number, i had converted the number into negative.</p>\n<p>For handling overflow, i have just simply checked with the upper limit of our 32-bit signed number and lower limit of the number, and it accepted my answer, thank you.</p>\n<pre><code>class Solution:\n    def reverse(self, x: int):\n        reverse = 0\n        if x &gt; 0:\n            while x != 0:\n                remainder = x % 10\n                if reverse &gt; (2147483647/10):\n                    return 0\n                reverse = reverse * 10 + remainder\n                x = int(x / 10)\n            return reverse\n\n        elif x &lt; 0:\n            x = x * (-1)\n            while x != 0:\n                remainder = x % 10\n                if reverse &gt; ((2147483648)/10):\n                    return 0\n                reverse = reverse * 10 + remainder\n                x = int(x / 10)\n            reverse = reverse * (-1)\n            return reverse\n\n        else: \n            return 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18027011,"reputation":1,"user_id":13102683,"display_name":"di0nys1s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613877760,"creation_date":1613877760,"answer_id":66298838,"question_id":21070506,"body_markdown":"There are several good solutions posted. Here is my JS solution:\r\n\r\n\r\n    const reverse = function (x) {\r\n      const strReversed = x.toString().split(&quot;&quot;).reverse().join(&quot;&quot;);\r\n      rv =\r\n        parseInt(strReversed) &gt; Math.pow(2, 31)\r\n          ? 0\r\n          : Math.sign(x) * parseInt(strReversed);\r\n    \r\n      return rv;\r\n    };","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>There are several good solutions posted. Here is my JS solution:</p>\n<pre><code>const reverse = function (x) {\n  const strReversed = x.toString().split(&quot;&quot;).reverse().join(&quot;&quot;);\n  rv =\n    parseInt(strReversed) &gt; Math.pow(2, 31)\n      ? 0\n      : Math.sign(x) * parseInt(strReversed);\n\n  return rv;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20964017,"reputation":21,"user_id":15402797,"display_name":"Himanshu sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615836301,"creation_date":1615836301,"answer_id":66644427,"question_id":21070506,"body_markdown":"you can try this code using strings in java\r\n```\r\nclass Solution {\r\n    public int reverse(int x) {\r\n        int n = Math.abs(x);\r\n        String num = Integer.toString(n);\r\n        StringBuilder sb = new StringBuilder(num);\r\n        sb.reverse();\r\n        String sb1;\r\n    \r\n        sb1 = sb.toString();\r\n        \r\n        int foo;\r\n        try {\r\n            foo = Integer.parseInt(sb1);\r\n        }\r\n        catch (NumberFormatException e){\r\n            foo = 0;\r\n        }\r\n        if(x &lt; 0){\r\n            foo *= -1;\r\n        }\r\n        \r\n        return foo;\r\n    }\r\n}\r\n```","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>you can try this code using strings in java</p>\n<pre><code>class Solution {\n    public int reverse(int x) {\n        int n = Math.abs(x);\n        String num = Integer.toString(n);\n        StringBuilder sb = new StringBuilder(num);\n        sb.reverse();\n        String sb1;\n    \n        sb1 = sb.toString();\n        \n        int foo;\n        try {\n            foo = Integer.parseInt(sb1);\n        }\n        catch (NumberFormatException e){\n            foo = 0;\n        }\n        if(x &lt; 0){\n            foo *= -1;\n        }\n        \n        return foo;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22222101,"reputation":1,"user_id":16459562,"display_name":"KingLarry007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629233096,"creation_date":1629223350,"answer_id":68822087,"question_id":21070506,"body_markdown":"I got all 1032 cases to work in python, I don&#39;t know how to remove multiple 0&#39;s such as 100, 1000, 10000 etc thus I used my if statement multiple times lol.\r\n\r\n    class Solution:\r\n    def reverse(self, x: int) -&gt; int:\r\n            string = &quot;&quot;\r\n            y = str(x)\r\n            ab = list(reversed(y))\r\n    \r\n            if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\r\n                ab.remove(&quot;0&quot;)\r\n                if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\r\n                    ab.remove(&quot;0&quot;)\r\n                    if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\r\n                        ab.remove(&quot;0&quot;)\r\n                        if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\r\n                            ab.remove(&quot;0&quot;)\r\n                            if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\r\n                                ab.remove(&quot;0&quot;)\r\n    \r\n            if ab[-1] == &quot;-&quot;:\r\n                ab.remove(&quot;-&quot;)\r\n                ab.insert(0, &quot;-&quot;)\r\n    \r\n            for i in ab:\r\n                string += i\r\n\r\n            if int(string) &gt; 2**31 - 1 or int(string) &lt; -2**31:\r\n                return 0\r\n            \r\n            return string\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>I got all 1032 cases to work in python, I don't know how to remove multiple 0's such as 100, 1000, 10000 etc thus I used my if statement multiple times lol.</p>\n<pre><code>class Solution:\ndef reverse(self, x: int) -&gt; int:\n        string = &quot;&quot;\n        y = str(x)\n        ab = list(reversed(y))\n\n        if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\n            ab.remove(&quot;0&quot;)\n            if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\n                ab.remove(&quot;0&quot;)\n                if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\n                    ab.remove(&quot;0&quot;)\n                    if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\n                        ab.remove(&quot;0&quot;)\n                        if len(ab) &gt; 1 and ab[0] == &quot;0&quot;:\n                            ab.remove(&quot;0&quot;)\n\n        if ab[-1] == &quot;-&quot;:\n            ab.remove(&quot;-&quot;)\n            ab.insert(0, &quot;-&quot;)\n\n        for i in ab:\n            string += i\n\n        if int(string) &gt; 2**31 - 1 or int(string) &lt; -2**31:\n            return 0\n        \n        return string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429532,"reputation":99,"user_id":7013524,"display_name":"g&#252;ven seckin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631481654,"creation_date":1631481654,"answer_id":69155298,"question_id":21070506,"body_markdown":"```\r\n public static int reverse(int x) {\r\n\r\n        if (x == 0) return 0;\r\n        int sum = 0;\r\n        int y = 0;\r\n        while (x != 0) {\r\n            int value = (x % 10);\r\n            x = x - value;\r\n            y = sum;\r\n            sum = (sum * 10) + value;\r\n            if(sum / 10 != y) return 0;\r\n            x = x / 10;\r\n        }\r\n        return sum;\r\n    }\r\n```\r\nExtracting the first digit and dividing x to ten until x will be equal to 0. Therefore integer will be tokenized its digits.\r\nEvery extracted value will be adding the sum value after multiplying the sum by 10. Because adding a new digit means that adding a new 10th to the sum value. Also added if block to check any corruption of data because after 9th digit data will be corrupted.\r\n\r\n\r\n1032 / 1032 test cases passed. \r\n\r\nStatus: Accepted\r\n\r\nRuntime: 3 ms\r\n\r\nMemory Usage: 38 MB","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code> public static int reverse(int x) {\n\n        if (x == 0) return 0;\n        int sum = 0;\n        int y = 0;\n        while (x != 0) {\n            int value = (x % 10);\n            x = x - value;\n            y = sum;\n            sum = (sum * 10) + value;\n            if(sum / 10 != y) return 0;\n            x = x / 10;\n        }\n        return sum;\n    }\n</code></pre>\n<p>Extracting the first digit and dividing x to ten until x will be equal to 0. Therefore integer will be tokenized its digits.\nEvery extracted value will be adding the sum value after multiplying the sum by 10. Because adding a new digit means that adding a new 10th to the sum value. Also added if block to check any corruption of data because after 9th digit data will be corrupted.</p>\n<p>1032 / 1032 test cases passed.</p>\n<p>Status: Accepted</p>\n<p>Runtime: 3 ms</p>\n<p>Memory Usage: 38 MB</p>\n"},{"tags":[],"owner":{"account_id":15692743,"reputation":476,"user_id":11323252,"display_name":"Rohit Chaurasiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631539149,"creation_date":1631539149,"answer_id":69163428,"question_id":21070506,"body_markdown":"    Public int reverse(int A) {\r\n    \t\tint N, sum = 0;\r\n    \t\tint rem = 0;\r\n    \t\tboolean flag = false;\r\n    \t\tint max = Integer.MAX_VALUE;\r\n    \t\tint min = Integer.MIN_VALUE;\r\n    \r\n    \t\tif (A &lt; 0) {\r\n    \t\t\tflag = true;\r\n    \t\t\tA = A * -1;} // 123 // 10 1\r\n    \t\twhile (A &gt; 0) {\r\n    \t\t\trem = A % 10;\r\n    \t\t\tif (flag == true) {\r\n    \t\t\t\tif ((min + rem) / 10 &gt; -sum) {\r\n    \t\t\t\t\treturn 0;}}else{\r\n    \t\t\t\tif ((max - rem) / 10 &lt; sum) {\r\n    \t\t\t\t\treturn 0;}}\r\n    \t\t\tsum = (sum * 10) + rem;\r\n    \t\t\tA = A / 10;}\r\n    \t\treturn (flag == true) ? —sum : sum;}}\r\n    #java #Algo\r\n\r\n","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code>Public int reverse(int A) {\n        int N, sum = 0;\n        int rem = 0;\n        boolean flag = false;\n        int max = Integer.MAX_VALUE;\n        int min = Integer.MIN_VALUE;\n\n        if (A &lt; 0) {\n            flag = true;\n            A = A * -1;} // 123 // 10 1\n        while (A &gt; 0) {\n            rem = A % 10;\n            if (flag == true) {\n                if ((min + rem) / 10 &gt; -sum) {\n                    return 0;}}else{\n                if ((max - rem) / 10 &lt; sum) {\n                    return 0;}}\n            sum = (sum * 10) + rem;\n            A = A / 10;}\n        return (flag == true) ? —sum : sum;}}\n#java #Algo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22546296,"reputation":1,"user_id":16736153,"display_name":"Kartik Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656268958,"creation_date":1656268931,"answer_id":72764267,"question_id":21070506,"body_markdown":"```class Solution:\r\n    def reverse(self, x: int) -&gt; int:\r\n        if x&lt;=-2**31 or x&gt;=2**31-1:\r\n            \r\n            return 0\r\n        else:\r\n            result = 0\r\n            number = x\r\n            number = abs(number)\r\n            while (number) &gt; 0:\r\n                newNumber = number % 10\r\n                result = result * 10 + newNumber\r\n                number = (number // 10)\r\n\r\n            if x&lt;0:\r\n                result = &quot;-&quot;+str(result)\r\n                if int(result)&lt;=-2**31:\r\n                    return 0\r\n                return result\r\n            else:\r\n                if result&gt;=2**31-1:\r\n                    return 0\r\n                return result\r\nif __name__ == &#39;__main__&#39;:\r\n    obj = Solution()\r\n    print(obj.reverse(1534236469))\r\n```","title":"Reverse Integer leetcode -- how to handle overflow","body":"<pre><code>    def reverse(self, x: int) -&gt; int:\n        if x&lt;=-2**31 or x&gt;=2**31-1:\n            \n            return 0\n        else:\n            result = 0\n            number = x\n            number = abs(number)\n            while (number) &gt; 0:\n                newNumber = number % 10\n                result = result * 10 + newNumber\n                number = (number // 10)\n\n            if x&lt;0:\n                result = &quot;-&quot;+str(result)\n                if int(result)&lt;=-2**31:\n                    return 0\n                return result\n            else:\n                if result&gt;=2**31-1:\n                    return 0\n                return result\nif __name__ == '__main__':\n    obj = Solution()\n    print(obj.reverse(1534236469))\n</code></pre>\n"}],"owner":{"account_id":3497729,"reputation":2149,"user_id":2925372,"accept_rate":77,"display_name":"CSnerd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34057,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":29,"score":11,"last_activity_date":1656268958,"creation_date":1389493020,"question_id":21070506,"body_markdown":"The problem is:\r\nReverse digits of an integer.\r\n\r\nExample1: x = 123, return 321\r\n\r\nExample2: x = -123, return -321\r\n\r\n\r\nDid you notice that the reversed integer might overflow? Assume the input is a 32-bit integer, then the reverse of 1000000003 overflows. How should you handle such cases?\r\n\r\nThrow an exception? Good, but what if throwing an exception is not an option? You would then have to re-design the function (ie, add an extra parameter).\r\n\r\nThe solution from the website I search is:\r\n\r\n    public class Solution {\r\n    \r\n    \t public static int reverse(int x) {\r\n    \t        int ret = 0;\r\n    \t        boolean zero = false;\r\n    \t        while (!zero) {\r\n    \t            ret = ret * 10 + (x % 10);\r\n    \t            x /= 10;      \r\n    \t            if(x == 0){\r\n    \t                zero = true;\r\n    \t            }\r\n    \t        }\r\n    \t        return ret;   \r\n    \t    }\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tint s = 1000000003;\r\n    \t\tSystem.out.println(reverse(s));\r\n    \t}\r\n    \r\n    }\r\n\r\nHowever when `s = 1000000003`, the console prints `-1294967295` instead of `3000000001`. So this solution still does not solve the overflow problem if we cannot use exception. Any help here?(Although there is a hint: add an extra parameter, I still cannot figure out what parameter I should add)","title":"Reverse Integer leetcode -- how to handle overflow","body":"<p>The problem is:\nReverse digits of an integer.</p>\n\n<p>Example1: x = 123, return 321</p>\n\n<p>Example2: x = -123, return -321</p>\n\n<p>Did you notice that the reversed integer might overflow? Assume the input is a 32-bit integer, then the reverse of 1000000003 overflows. How should you handle such cases?</p>\n\n<p>Throw an exception? Good, but what if throwing an exception is not an option? You would then have to re-design the function (ie, add an extra parameter).</p>\n\n<p>The solution from the website I search is:</p>\n\n<pre><code>public class Solution {\n\n     public static int reverse(int x) {\n            int ret = 0;\n            boolean zero = false;\n            while (!zero) {\n                ret = ret * 10 + (x % 10);\n                x /= 10;      \n                if(x == 0){\n                    zero = true;\n                }\n            }\n            return ret;   \n        }\n\n    public static void main(String[] args) {\n        int s = 1000000003;\n        System.out.println(reverse(s));\n    }\n\n}\n</code></pre>\n\n<p>However when <code>s = 1000000003</code>, the console prints <code>-1294967295</code> instead of <code>3000000001</code>. So this solution still does not solve the overflow problem if we cannot use exception. Any help here?(Although there is a hint: add an extra parameter, I still cannot figure out what parameter I should add)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"score":0,"creation_date":1433015707,"post_id":30550716,"comment_id":49173444,"body_markdown":"Do have that app previously installed on your device ?","body":"Do have that app previously installed on your device ?"},{"owner":{"account_id":2742528,"reputation":1108,"user_id":2363734,"accept_rate":90,"display_name":"dcgenjin"},"score":0,"creation_date":1433015796,"post_id":30550716,"comment_id":49173479,"body_markdown":"I uninstalled it from settings &gt; apps &gt; (the app in question) &gt; &quot;uninstall&quot; button","body":"I uninstalled it from settings &gt; apps &gt; (the app in question) &gt; &quot;uninstall&quot; button"},{"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"score":0,"creation_date":1433015847,"post_id":30550716,"comment_id":49173494,"body_markdown":"Even after uninstalling your app, now when you try to install, it gives the same error ?","body":"Even after uninstalling your app, now when you try to install, it gives the same error ?"},{"owner":{"account_id":2742528,"reputation":1108,"user_id":2363734,"accept_rate":90,"display_name":"dcgenjin"},"score":0,"creation_date":1433015893,"post_id":30550716,"comment_id":49173510,"body_markdown":"Yes. I made sure to uninstall the app before attempting to install from download.","body":"Yes. I made sure to uninstall the app before attempting to install from download."},{"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"score":0,"creation_date":1433016072,"post_id":30550716,"comment_id":49173575,"body_markdown":"I am assuming `edu.osu.expandablelistviewtest1` is the package name of your app. Not sure but try restarting phone or sign it with the same key that you did before. Its complaining that you sign it with a different key.. but ideally uninstalling should have worked..","body":"I am assuming <code>edu.osu.expandablelistviewtest1</code> is the package name of your app. Not sure but try restarting phone or sign it with the same key that you did before. Its complaining that you sign it with a different key.. but ideally uninstalling should have worked.."}],"answers":[{"tags":[],"owner":{"account_id":2742528,"reputation":1108,"user_id":2363734,"accept_rate":90,"display_name":"dcgenjin"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1433016477,"creation_date":1433016477,"answer_id":30550848,"question_id":30550716,"body_markdown":"Well, I feel sheepish. After all that, the issue was that in newer versions of Android, uninstalling in the manner I mentioned above only uninstalls for that specific user.\r\n\r\nThe answer is to go to settings &gt; apps &gt; (app in question) and then to select &quot;uninstall for all users&quot; from the &quot;...&quot; menu in the upper right.\r\n\r\nSo for future Google searchers:\r\n\r\nInstallAppProgress﹕ Installation error code: -7 evidently means you have to completely uninstall a previous version of your app, such as previous debug versions, etc.","title":"Error code -7 when trying to install release APK","body":"<p>Well, I feel sheepish. After all that, the issue was that in newer versions of Android, uninstalling in the manner I mentioned above only uninstalls for that specific user.</p>\n\n<p>The answer is to go to settings > apps > (app in question) and then to select \"uninstall for all users\" from the \"...\" menu in the upper right.</p>\n\n<p>So for future Google searchers:</p>\n\n<p>InstallAppProgress﹕ Installation error code: -7 evidently means you have to completely uninstall a previous version of your app, such as previous debug versions, etc.</p>\n"},{"tags":[],"owner":{"account_id":69332,"reputation":893,"user_id":201780,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435403611,"creation_date":1435403611,"answer_id":31088117,"question_id":30550716,"body_markdown":"The error code constants for **PackageInstaller** are defined in [PackageManager][1] class with prefixes like **INSTALL_FAILED_**.\r\n\r\n(the link corresponds to a code revision from Jun 25 2015, so by the time you read this, the code might change.)\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/78db19c25a3a18d9ccf19b91be17e791e4fd782c/core/java/android/content/pm/PackageManager.java#397","title":"Error code -7 when trying to install release APK","body":"<p>The error code constants for <strong>PackageInstaller</strong> are defined in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/78db19c25a3a18d9ccf19b91be17e791e4fd782c/core/java/android/content/pm/PackageManager.java#397\" rel=\"nofollow\">PackageManager</a> class with prefixes like <strong>INSTALL_FAILED_</strong>.</p>\n\n<p>(the link corresponds to a code revision from Jun 25 2015, so by the time you read this, the code might change.)</p>\n"}],"owner":{"account_id":2742528,"reputation":1108,"user_id":2363734,"accept_rate":90,"display_name":"dcgenjin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6324,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30550848,"answer_count":2,"score":11,"last_activity_date":1656268493,"creation_date":1433015600,"question_id":30550716,"body_markdown":"I&#39;ve taken all appropriate steps to create the release APK. (&lt;a href=&quot;http://www.techotopia.com/index.php/Generating_a_Signed_Release_APK_File_in_Android_Studio&quot;&gt;Demonstration of steps required&lt;/a&gt;)\r\n\r\nMy device (Nexus 7 2012) is set to allow installs from unknown sources.\r\n\r\nI emailed the APK (app-release.apk) to myself and attempted to open it from GMail, as this should work.\r\n\r\nEDIT: I apologize, I also should have included that I did uninstall the app from settings &gt; apps &gt; (app in question) &gt; &quot;uninstall&quot; button.\r\n\r\nHowever, the app immediately fails to load, with only the following logcat info:\r\n\r\n    05-30 14:44:41.689      466-497/? W/PackageManager﹕ Package edu.osu.expandablelistviewtest1 signatures do not match the previously installed version; ignoring!\r\n    05-30 14:44:41.914      466-497/? I/art﹕ Explicit concurrent mark sweep GC freed 74971(3MB) AllocSpace objects, 22(1348KB) LOS objects, 33% free, 28MB/43MB, paused 9.752ms total 220.463ms\r\n    05-30 14:44:41.927  20704-20704/? D/InstallAppProgress﹕ Installation error code: -7\r\n    05-30 14:44:43.094  20704-20704/? I/InstallAppProgress﹕ Finished installing edu.osu.expandablelistviewtest1\r\n\r\nI&#39;ve tried every search string I can think of and can&#39;t find any information on error -7&#39;s meaning. Looking at the &lt;a href=&quot;https://android.googlesource.com/platform/packages/apps/PackageInstaller/+/47fe118e0178e9d72c98073ff588ee5cf353258e/src/com/android/packageinstaller/InstallAppProgress.java&quot;&gt;code on GitHub&lt;/a&gt;, we see the following code:\r\n\r\n    public void handleMessage(Message msg) {\r\n      ...\r\n      if (msg.arg1 == PackageManager.INSTALL_SUCCEEDED) {\r\n        ...\r\n      } else if (msg.arg1 == PackageManager.INSTALL_FAILED_INSUFFICIENT_STORAGE){\r\n        ...\r\n       } else {\r\n        // Generic error handling for all other error codes.\r\n        centerTextDrawable.setLevel(1);\r\n        centerExplanationLabel = getExplanationFromErrorCode(msg.arg1);\r\n        centerTextLabel = R.string.install_failed;\r\n        mLaunchButton.setVisibility(View.INVISIBLE);\r\n      }\r\n      ...\r\n      private int getExplanationFromErrorCode(int errCode) {\r\n        Log.d(TAG, &quot;Installation error code: &quot; + errCode);\r\n        switch (errCode) {\r\n        case PackageManager.INSTALL_FAILED_INVALID_APK:\r\n          return R.string.install_failed_invalid_apk;\r\n        case PackageManager.INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES:\r\n          return R.string.install_failed_inconsistent_certificates;\r\n        case PackageManager.INSTALL_FAILED_OLDER_SDK:\r\n          return R.string.install_failed_older_sdk;\r\n        case PackageManager.INSTALL_FAILED_CPU_ABI_INCOMPATIBLE:\r\n          return R.string.install_failed_cpu_abi_incompatible;\r\n        default:\r\n          return -1;\r\n        }\r\n      }\r\n      ...\r\n    }\r\n\r\n...so we have no way of knowing what the &quot;-7&quot; means. (Beyond that it is none of the switch cases.)\r\n\r\nI&#39;m open to any ideas / suggestions. Thank you.","title":"Error code -7 when trying to install release APK","body":"<p>I've taken all appropriate steps to create the release APK. (<a href=\"http://www.techotopia.com/index.php/Generating_a_Signed_Release_APK_File_in_Android_Studio\">Demonstration of steps required</a>)</p>\n\n<p>My device (Nexus 7 2012) is set to allow installs from unknown sources.</p>\n\n<p>I emailed the APK (app-release.apk) to myself and attempted to open it from GMail, as this should work.</p>\n\n<p>EDIT: I apologize, I also should have included that I did uninstall the app from settings > apps > (app in question) > \"uninstall\" button.</p>\n\n<p>However, the app immediately fails to load, with only the following logcat info:</p>\n\n<pre><code>05-30 14:44:41.689      466-497/? W/PackageManager﹕ Package edu.osu.expandablelistviewtest1 signatures do not match the previously installed version; ignoring!\n05-30 14:44:41.914      466-497/? I/art﹕ Explicit concurrent mark sweep GC freed 74971(3MB) AllocSpace objects, 22(1348KB) LOS objects, 33% free, 28MB/43MB, paused 9.752ms total 220.463ms\n05-30 14:44:41.927  20704-20704/? D/InstallAppProgress﹕ Installation error code: -7\n05-30 14:44:43.094  20704-20704/? I/InstallAppProgress﹕ Finished installing edu.osu.expandablelistviewtest1\n</code></pre>\n\n<p>I've tried every search string I can think of and can't find any information on error -7's meaning. Looking at the <a href=\"https://android.googlesource.com/platform/packages/apps/PackageInstaller/+/47fe118e0178e9d72c98073ff588ee5cf353258e/src/com/android/packageinstaller/InstallAppProgress.java\">code on GitHub</a>, we see the following code:</p>\n\n<pre><code>public void handleMessage(Message msg) {\n  ...\n  if (msg.arg1 == PackageManager.INSTALL_SUCCEEDED) {\n    ...\n  } else if (msg.arg1 == PackageManager.INSTALL_FAILED_INSUFFICIENT_STORAGE){\n    ...\n   } else {\n    // Generic error handling for all other error codes.\n    centerTextDrawable.setLevel(1);\n    centerExplanationLabel = getExplanationFromErrorCode(msg.arg1);\n    centerTextLabel = R.string.install_failed;\n    mLaunchButton.setVisibility(View.INVISIBLE);\n  }\n  ...\n  private int getExplanationFromErrorCode(int errCode) {\n    Log.d(TAG, \"Installation error code: \" + errCode);\n    switch (errCode) {\n    case PackageManager.INSTALL_FAILED_INVALID_APK:\n      return R.string.install_failed_invalid_apk;\n    case PackageManager.INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES:\n      return R.string.install_failed_inconsistent_certificates;\n    case PackageManager.INSTALL_FAILED_OLDER_SDK:\n      return R.string.install_failed_older_sdk;\n    case PackageManager.INSTALL_FAILED_CPU_ABI_INCOMPATIBLE:\n      return R.string.install_failed_cpu_abi_incompatible;\n    default:\n      return -1;\n    }\n  }\n  ...\n}\n</code></pre>\n\n<p>...so we have no way of knowing what the \"-7\" means. (Beyond that it is none of the switch cases.)</p>\n\n<p>I'm open to any ideas / suggestions. Thank you.</p>\n"},{"tags":["java","lwjgl","slick2d"],"owner":{"account_id":20365637,"reputation":37,"user_id":14939053,"display_name":"Wolfsurge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656267939,"creation_date":1656265942,"question_id":72763950,"body_markdown":"EDIT:\r\nFixed by putting:\r\n```\r\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\r\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\r\n```\r\njust after `glEnable(GL_TEXTURE_2D);` in the texture rendering method!\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n\r\nSo, when I maximise my game&#39;s window, the textures will have lines between them, like this:\r\n[lines][1]\r\n\r\n\r\nHowever, when it&#39;s in 800x600, it looks like this:\r\n[what it looks like in 800x600][2]\r\n\r\nI am using Slick2d to load the textures, if that is what is causing the issue.\r\n\r\n```\r\n        if (Display.wasResized()) {\r\n            glViewport(0, 0, Display.getWidth(), Display.getHeight());\r\n        }\r\n\r\n        glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n        glEnable(GL_TEXTURE_2D);\r\n\r\n        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\r\n\r\n        // Enable alpha blending\r\n        glEnable(GL_BLEND);\r\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\n\r\n        glViewport(0,0, Display.getWidth(), Display.getHeight());\r\n        glMatrixMode(GL_MODELVIEW);\r\n\r\n        glMatrixMode(GL_PROJECTION);\r\n        glLoadIdentity();\r\n        glOrtho(0, Display.getWidth(), Display.getHeight(), 0, 1, -1);\r\n        glMatrixMode(GL_MODELVIEW);\r\n```\r\n\r\nThat is what is in the `while(!Display.isCloseRequested())` loop.\r\n\r\nMy texture rendering method has this inside:\r\n```\r\n        glEnable(GL_TEXTURE_2D);\r\n        glDisable(GL_BLEND);\r\n\r\n        texture.bind();\r\n\r\n        glBegin(GL_QUADS);\r\n\r\n        glTexCoord2d(0, 0);\r\n        glVertex2d(x, y);\r\n\r\n        glTexCoord2d(1, 0);\r\n        glVertex2d(x + width, y);\r\n\r\n        glTexCoord2d(1, 1);\r\n        glVertex2d(x + width, y + height);\r\n\r\n        glTexCoord2d(0, 1);\r\n        glVertex2d(x, y + height);\r\n\r\n        glEnd();\r\n\r\n        glEnable(GL_BLEND);\r\n        glDisable(GL_TEXTURE_2D);\r\n```\r\n\r\nAny help would be greatly appreciated :)\r\n\r\n  [1]: https://i.stack.imgur.com/sPTTV.png\r\n  [2]: https://i.stack.imgur.com/m1vzu.png\r\n\r\n","title":"LWJGL 2 rendering lines between textures when window is maximise (Slick2D)","body":"<p>EDIT:\nFixed by putting:</p>\n<pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n</code></pre>\n<p>just after <code>glEnable(GL_TEXTURE_2D);</code> in the texture rendering method!</p>\n<p><br><br><br></p>\n<p>So, when I maximise my game's window, the textures will have lines between them, like this:\n<a href=\"https://i.stack.imgur.com/sPTTV.png\" rel=\"nofollow noreferrer\">lines</a></p>\n<p>However, when it's in 800x600, it looks like this:\n<a href=\"https://i.stack.imgur.com/m1vzu.png\" rel=\"nofollow noreferrer\">what it looks like in 800x600</a></p>\n<p>I am using Slick2d to load the textures, if that is what is causing the issue.</p>\n<pre><code>        if (Display.wasResized()) {\n            glViewport(0, 0, Display.getWidth(), Display.getHeight());\n        }\n\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        glEnable(GL_TEXTURE_2D);\n\n        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n\n        // Enable alpha blending\n        glEnable(GL_BLEND);\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n\n        glViewport(0,0, Display.getWidth(), Display.getHeight());\n        glMatrixMode(GL_MODELVIEW);\n\n        glMatrixMode(GL_PROJECTION);\n        glLoadIdentity();\n        glOrtho(0, Display.getWidth(), Display.getHeight(), 0, 1, -1);\n        glMatrixMode(GL_MODELVIEW);\n</code></pre>\n<p>That is what is in the <code>while(!Display.isCloseRequested())</code> loop.</p>\n<p>My texture rendering method has this inside:</p>\n<pre><code>        glEnable(GL_TEXTURE_2D);\n        glDisable(GL_BLEND);\n\n        texture.bind();\n\n        glBegin(GL_QUADS);\n\n        glTexCoord2d(0, 0);\n        glVertex2d(x, y);\n\n        glTexCoord2d(1, 0);\n        glVertex2d(x + width, y);\n\n        glTexCoord2d(1, 1);\n        glVertex2d(x + width, y + height);\n\n        glTexCoord2d(0, 1);\n        glVertex2d(x, y + height);\n\n        glEnd();\n\n        glEnable(GL_BLEND);\n        glDisable(GL_TEXTURE_2D);\n</code></pre>\n<p>Any help would be greatly appreciated :)</p>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":6565240,"reputation":1,"user_id":8390962,"display_name":"kzonix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656267750,"creation_date":1656267750,"answer_id":72764158,"question_id":72590977,"body_markdown":"Play provides a plugin for managing JDBC connection pools. You can configure as many databases as you need.\r\n\r\nAs per [documentation][1] of Play Framework, it provides two examples: \r\n - the first one for java;\r\n - the second one for scala.\r\n\r\nIt provides two identical APIs depending on the language you choose. \r\nFor instance, if you use `enablePlugins(PlayJava)` then the appropriate dependency is `javaJdbc`.\r\n\r\nSimilar to other package structures, it makes an only a difference in the imports \r\n\r\n**java**\r\n```\r\nimport play.db.*;\r\n```\r\nvs\r\n\r\n**scala**\r\n```\r\nimport play.api.db._\r\n```\r\n\r\n  [1]: https://ibb.co/NrnCYTw","title":"Java Play - difference between jdbc and javaJdbc library dependencies","body":"<p>Play provides a plugin for managing JDBC connection pools. You can configure as many databases as you need.</p>\n<p>As per <a href=\"https://ibb.co/NrnCYTw\" rel=\"nofollow noreferrer\">documentation</a> of Play Framework, it provides two examples:</p>\n<ul>\n<li>the first one for java;</li>\n<li>the second one for scala.</li>\n</ul>\n<p>It provides two identical APIs depending on the language you choose.\nFor instance, if you use <code>enablePlugins(PlayJava)</code> then the appropriate dependency is <code>javaJdbc</code>.</p>\n<p>Similar to other package structures, it makes an only a difference in the imports</p>\n<p><strong>java</strong></p>\n<pre><code>import play.db.*;\n</code></pre>\n<p>vs</p>\n<p><strong>scala</strong></p>\n<pre><code>import play.api.db._\n</code></pre>\n"}],"owner":{"account_id":9118599,"reputation":457,"user_id":6784881,"display_name":"Talos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656267750,"creation_date":1655026408,"question_id":72590977,"body_markdown":"Is there any difference between `jdbc` and `javaJdbc` library dependency in Java Play framework 2.8.x that you declare inside `build.sbt` ?\r\n\r\nFor example, in [documentation](https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Configuring-JDBC-connection-pools) autor uses\r\n```\r\nlibraryDependencies ++= Seq(\r\n  javaJdbc\r\n)\r\n```\r\n\r\nHowever, I&#39;ve seen successfully using only `jdbc`\r\n```\r\nlibraryDependencies ++= Seq(\r\n  jdbc\r\n)\r\n```","title":"Java Play - difference between jdbc and javaJdbc library dependencies","body":"<p>Is there any difference between <code>jdbc</code> and <code>javaJdbc</code> library dependency in Java Play framework 2.8.x that you declare inside <code>build.sbt</code> ?</p>\n<p>For example, in <a href=\"https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Configuring-JDBC-connection-pools\" rel=\"nofollow noreferrer\">documentation</a> autor uses</p>\n<pre><code>libraryDependencies ++= Seq(\n  javaJdbc\n)\n</code></pre>\n<p>However, I've seen successfully using only <code>jdbc</code></p>\n<pre><code>libraryDependencies ++= Seq(\n  jdbc\n)\n</code></pre>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1656053778,"post_id":72732334,"comment_id":128482204,"body_markdown":"I would keep it simple and use the item writer to write valid items, and an ItemProcessListener to report invalid items where needed.","body":"I would keep it simple and use the item writer to write valid items, and an ItemProcessListener to report invalid items where needed."}],"answers":[{"tags":[],"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656026391,"creation_date":1656013479,"answer_id":72735805,"question_id":72732334,"body_markdown":"I did that:\r\n 1. I created 2 writers and tie them with a CompositeItemWriter\r\n 2. I pass a DTO with reference to the error for failure or/and the reference data processed with success.\r\n 3. The DTO is only for passing through processor to writers.\r\n 4. Each writer check if DTO has your respective data. If success data is there, work success data, otherwise return. If error data is there, work error data, otherwise return. CompositeItemWriter will always call all writers inside of it.\r\n\r\nTo be clear, in my case I had a reader that read information from a table. A pool of processors that processed the information, and at the end, populated a DTO. The DTO was only for take information from the processor to the CompositeItemWriter. The DTO had reference to two objects, one for success and another for error. Each writer checked its field on the DTO.\r\n\r\nMaybe is possible to define [Spring Batch Flow][1] for your case as well. It would be the most elegant way, but you have to study the documentation to see the best way to implement it. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#conditionalFlow","title":"Runtime writer based on processor result in Spring Batch","body":"<p>I did that:</p>\n<ol>\n<li>I created 2 writers and tie them with a CompositeItemWriter</li>\n<li>I pass a DTO with reference to the error for failure or/and the reference data processed with success.</li>\n<li>The DTO is only for passing through processor to writers.</li>\n<li>Each writer check if DTO has your respective data. If success data is there, work success data, otherwise return. If error data is there, work error data, otherwise return. CompositeItemWriter will always call all writers inside of it.</li>\n</ol>\n<p>To be clear, in my case I had a reader that read information from a table. A pool of processors that processed the information, and at the end, populated a DTO. The DTO was only for take information from the processor to the CompositeItemWriter. The DTO had reference to two objects, one for success and another for error. Each writer checked its field on the DTO.</p>\n<p>Maybe is possible to define <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#conditionalFlow\" rel=\"nofollow noreferrer\">Spring Batch Flow</a> for your case as well. It would be the most elegant way, but you have to study the documentation to see the best way to implement it.</p>\n"},{"tags":[],"owner":{"account_id":8086019,"reputation":27,"user_id":6093554,"display_name":"Vinicius de Andrade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656266595,"creation_date":1656266595,"answer_id":72764028,"question_id":72732334,"body_markdown":"I have solved the problem after days!\r\nFirst, I got a Classifier Writer. It decide which writer choose based in\r\nmy object property.\r\n\r\nI highlight that before the classifier, I had to deal with the main problem, which was the BeanValidation processor.\r\n\r\nAs a bean validation processor, it works with just :\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;Sample,Sample&gt; validate() {\r\n      return new BeanValidatingItemProcessor&lt;&gt;();\r\n    }\r\n\r\nBut I need to know if the validation will fail. So I tryed use a try/catch inside the method above and use the *.process(sample)* to see that. Inexplicably the method throws NPE.\r\n\r\nI solved this making a bean:\r\n\r\n\r\n    @Configuration\r\n    public class Beans {\r\n    \r\n        @Bean\r\n        public ValidatingItemProcessor&lt;Sample&gt; validatorBean() {\r\n            return new BeanValidatingItemProcessor&lt;Sample&gt;();\r\n        }\r\n    }\r\n\r\nand injecting it in my processor. Finally it works.\r\n\r\nThank you all.\r\n","title":"Runtime writer based on processor result in Spring Batch","body":"<p>I have solved the problem after days!\nFirst, I got a Classifier Writer. It decide which writer choose based in\nmy object property.</p>\n<p>I highlight that before the classifier, I had to deal with the main problem, which was the BeanValidation processor.</p>\n<p>As a bean validation processor, it works with just :</p>\n<pre><code>@Bean\npublic ItemProcessor&lt;Sample,Sample&gt; validate() {\n  return new BeanValidatingItemProcessor&lt;&gt;();\n}\n</code></pre>\n<p>But I need to know if the validation will fail. So I tryed use a try/catch inside the method above and use the <em>.process(sample)</em> to see that. Inexplicably the method throws NPE.</p>\n<p>I solved this making a bean:</p>\n<pre><code>@Configuration\npublic class Beans {\n\n    @Bean\n    public ValidatingItemProcessor&lt;Sample&gt; validatorBean() {\n        return new BeanValidatingItemProcessor&lt;Sample&gt;();\n    }\n}\n</code></pre>\n<p>and injecting it in my processor. Finally it works.</p>\n<p>Thank you all.</p>\n"}],"owner":{"account_id":8086019,"reputation":27,"user_id":6093554,"display_name":"Vinicius de Andrade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656266595,"creation_date":1655996273,"question_id":72732334,"body_markdown":"I need help. I wish to change in runtime the itemWriter based on processor result\r\n\r\n    @Configuration\r\n    public class StepConfig {\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public Step step(\r\n        ItemReader&lt;Sample&gt; itemReader,\r\n        ItemProcessor&lt;Sample, Sample&gt; beanProcessor,\r\n        ItemWriter&lt;Sample&gt; itemWriter\r\n    ) {\r\n        return stepBuilderFactory.get(&quot;our step&quot;)\r\n                .&lt;Sample, Sample&gt;chunk(1)\r\n                .reader(itemReader)\r\n                .processor(beanProcessor).listener(new ProcessorListener())\r\n                .writer(itemWriter)\r\n                .build();\r\n    }\r\n}\r\n\r\nMy processor is a bean validation processor. If the validation succeed, I need a success writer. If it throws exception, I need to execute a exception writer.\r\nHow can I do that?\r\n\r\nThanks!","title":"Runtime writer based on processor result in Spring Batch","body":"<p>I need help. I wish to change in runtime the itemWriter based on processor result</p>\n<pre><code>@Configuration\npublic class StepConfig {\n@Autowired\nprivate StepBuilderFactory stepBuilderFactory;\n\n@Bean\npublic Step step(\n    ItemReader&lt;Sample&gt; itemReader,\n    ItemProcessor&lt;Sample, Sample&gt; beanProcessor,\n    ItemWriter&lt;Sample&gt; itemWriter\n) {\n    return stepBuilderFactory.get(&quot;our step&quot;)\n            .&lt;Sample, Sample&gt;chunk(1)\n            .reader(itemReader)\n            .processor(beanProcessor).listener(new ProcessorListener())\n            .writer(itemWriter)\n            .build();\n}\n</code></pre>\n<p>}</p>\n<p>My processor is a bean validation processor. If the validation succeed, I need a success writer. If it throws exception, I need to execute a exception writer.\nHow can I do that?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656261809,"creation_date":1656261467,"answer_id":72763403,"question_id":72763157,"body_markdown":"You should not store the individual row views as class members in the adapter, nor should the User be stored there, since they will be overridden every time a row is created. Instead of this\r\n\r\n```java\r\nTextView title_cList;\r\n//... later in getView()\r\ntitle_cList = convertView.findViewById(R.id.cTitle_cList);\r\n```\r\nuse this inside `getView()` and remove the views as class members.\r\n\r\n```java\r\nTextView title_cList = convertView.findViewById(R.id.cTitle_cList);\r\n```\r\n\r\nThe code in `getView()` is called for every row, but your callback is run later after the class member was changed to refer to a different row.\r\n\r\nYou should probably also remove these from the adapter (although this might not cause the current errors, it could introduce other errors if you tried to use them for anything later):\r\n\r\n```java\r\nUser con;\r\nUser rec;\r\n```\r\n\r\nsince those can change for each row, and instead use local variables in the callback, probably something like this:\r\n\r\n```java\r\nfor (QueryDocumentSnapshot document : task.getResult()) {\r\n    Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n    User user = document.toObject(User.class);\r\n    firestoreCallBack.onCallback(user);\r\n}\r\n```","title":"Firestore does not query on every Listview custom adapter","body":"<p>You should not store the individual row views as class members in the adapter, nor should the User be stored there, since they will be overridden every time a row is created. Instead of this</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextView title_cList;\n//... later in getView()\ntitle_cList = convertView.findViewById(R.id.cTitle_cList);\n</code></pre>\n<p>use this inside <code>getView()</code> and remove the views as class members.</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextView title_cList = convertView.findViewById(R.id.cTitle_cList);\n</code></pre>\n<p>The code in <code>getView()</code> is called for every row, but your callback is run later after the class member was changed to refer to a different row.</p>\n<p>You should probably also remove these from the adapter (although this might not cause the current errors, it could introduce other errors if you tried to use them for anything later):</p>\n<pre class=\"lang-java prettyprint-override\"><code>User con;\nUser rec;\n</code></pre>\n<p>since those can change for each row, and instead use local variables in the callback, probably something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (QueryDocumentSnapshot document : task.getResult()) {\n    Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\n    User user = document.toObject(User.class);\n    firestoreCallBack.onCallback(user);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656266075,"creation_date":1656266075,"answer_id":72763966,"question_id":72763157,"body_markdown":"```\r\n   View finalConvertView1 = convertView;\r\n        readRec(new FirestoreCallBack() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onCallback(User user) {\r\n                Log.d(&quot;RECIPIENT READ OUTSIDE&quot;, rec.getFname());\r\n                recipient_cList = finalConvertView1.findViewById(R.id.cRec_cList);\r\n                recipient_cList.setText(&quot;To: &quot;+rec.getFname()+&quot;: &quot;+rec.getPost()+&quot; at &quot;+rec.getCname());\r\n            }\r\n        }, consignment.getRecipient());\r\n```\r\n\r\nI tried to bring down the module initialization (```findViewById```) into the convertview this way and it worked","title":"Firestore does not query on every Listview custom adapter","body":"<pre><code>   View finalConvertView1 = convertView;\n        readRec(new FirestoreCallBack() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onCallback(User user) {\n                Log.d(&quot;RECIPIENT READ OUTSIDE&quot;, rec.getFname());\n                recipient_cList = finalConvertView1.findViewById(R.id.cRec_cList);\n                recipient_cList.setText(&quot;To: &quot;+rec.getFname()+&quot;: &quot;+rec.getPost()+&quot; at &quot;+rec.getCname());\n            }\n        }, consignment.getRecipient());\n</code></pre>\n<p>I tried to bring down the module initialization (<code>findViewById</code>) into the convertview this way and it worked</p>\n"}],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72763403,"answer_count":2,"score":1,"last_activity_date":1656266075,"creation_date":1656259507,"question_id":72763157,"body_markdown":"So this is the source code of my adapter: \r\n\r\n```\r\npackage com.example.consigness;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.List;\r\n\r\npublic class ConsignmentAdapter extends ArrayAdapter&lt;Consignment&gt; {\r\n\r\n    TextView title_cList;\r\n    TextView consignor_cList;\r\n    TextView recipient_cList;\r\n    TextView desc_cList;\r\n    TextView status_cList;\r\n\r\n    //get Database\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    User con;\r\n    User rec;\r\n\r\n    public ConsignmentAdapter(Context context, List&lt;Consignment&gt; object){\r\n        super(context,0, object);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent){\r\n\r\n        if(convertView == null){\r\n            convertView =  ((Activity)getContext()).getLayoutInflater().inflate(R.layout.consignment_list,parent,false);\r\n        }\r\n\r\n        title_cList = convertView.findViewById(R.id.cTitle_cList);\r\n        consignor_cList = convertView.findViewById(R.id.cCons_cList);\r\n        recipient_cList = convertView.findViewById(R.id.cRec_cList);\r\n        desc_cList = convertView.findViewById(R.id.cDesc_cList);\r\n        status_cList = convertView.findViewById(R.id.cStatus_cList);\r\n\r\n        Consignment consignment = getItem(position);\r\n\r\n        title_cList.setText(consignment.getTitle());\r\n\r\n        consignor_cList.setText(&quot;By: &quot;+consignment.getConsignee());\r\n        readData(new FirestoreCallBack() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onCallback(User user) {\r\n                Log.d(&quot;CONSIGNOR READ OUTSIDE&quot;, con.getFname());\r\n                consignor_cList.setText(&quot;By: &quot;+con.getFname()+&quot;: &quot;+con.getPost()+&quot; at &quot;+con.getCname());\r\n            }\r\n        }, consignment.getConsignee());\r\n\r\n\r\n        recipient_cList.setText(&quot;To: &quot;+consignment.getRecipient());\r\n        readRec(new FirestoreCallBack() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onCallback(User user) {\r\n                Log.d(&quot;RECIPIENT READ OUTSIDE&quot;, rec.getFname());\r\n                recipient_cList.setText(&quot;To: &quot;+rec.getFname()+&quot;: &quot;+rec.getPost()+&quot; at &quot;+rec.getCname());\r\n            }\r\n        }, consignment.getRecipient());\r\n\r\n\r\n        desc_cList.setText(consignment.getDesc());\r\n        status_cList.setText(&quot;Status: &quot;+consignment.getStatus());\r\n\r\n        return convertView;\r\n    }\r\n\r\n    private interface FirestoreCallBack{\r\n        void onCallback(User user);\r\n    }\r\n\r\n    private void readData(ConsignmentAdapter.FirestoreCallBack firestoreCallBack, String id){\r\n        db.collection(&quot;Users&quot;)\r\n                .whereEqualTo(&quot;uid&quot;, id)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                                User user = document.toObject(User.class);\r\n                                con = user;\r\n                            }\r\n                            firestoreCallBack.onCallback(con);\r\n                        } else {\r\n                            Log.d(&quot;CHECK&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void readRec(ConsignmentAdapter.FirestoreCallBack firestoreCallBack, String id){\r\n        db.collection(&quot;Users&quot;)\r\n                .whereEqualTo(&quot;uid&quot;, id)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                                User user = document.toObject(User.class);\r\n                                rec = user;\r\n                            }\r\n                            firestoreCallBack.onCallback(rec);\r\n                        } else {\r\n                            Log.d(&quot;CHECK&quot;, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I am trying to do is, change the value of two of my Textviews, consignor_cList and recipient_cList from a firestore query. \r\n\r\nInitially, both these textviews are having text value as String uid of my firestore document. I want to use these id, query the whole document and use the document data into the textviews. \r\n\r\nBefore:\r\n```\r\nconsignor_cList.setText(&quot;By: &quot;+consignment.getConsignee());\r\n```\r\n\r\nAfter:\r\n```\r\n readData(new FirestoreCallBack() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onCallback(User user) {\r\n                Log.d(&quot;CONSIGNOR READ OUTSIDE&quot;, con.getFname());\r\n                consignor_cList.setText(&quot;By: &quot;+con.getFname()+&quot;: &quot;+con.getPost()+&quot; at &quot;+con.getCname());\r\n            }\r\n        }, consignment.getConsignee());\r\n```\r\n\r\nI am using a Firestore callBack function for this. \r\n\r\nPROBLEM:\r\nIts not that the code is not working. It is. I can see from my log that my program is having successful queries. Then these queries are supposed to setText to by Textview. BUT BUT BUT, its only happening for the first list item and not the rest, sometimes with the first and last item and not the rest. \r\n\r\nThis has to be my senior project. I wish some genius come up tonight and give me a solution. \r\n\r\nI will also share a screenshot of the output. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z05u3.jpg","title":"Firestore does not query on every Listview custom adapter","body":"<p>So this is the source code of my adapter:</p>\n<pre><code>package com.example.consigness;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.List;\n\npublic class ConsignmentAdapter extends ArrayAdapter&lt;Consignment&gt; {\n\n    TextView title_cList;\n    TextView consignor_cList;\n    TextView recipient_cList;\n    TextView desc_cList;\n    TextView status_cList;\n\n    //get Database\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n    User con;\n    User rec;\n\n    public ConsignmentAdapter(Context context, List&lt;Consignment&gt; object){\n        super(context,0, object);\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent){\n\n        if(convertView == null){\n            convertView =  ((Activity)getContext()).getLayoutInflater().inflate(R.layout.consignment_list,parent,false);\n        }\n\n        title_cList = convertView.findViewById(R.id.cTitle_cList);\n        consignor_cList = convertView.findViewById(R.id.cCons_cList);\n        recipient_cList = convertView.findViewById(R.id.cRec_cList);\n        desc_cList = convertView.findViewById(R.id.cDesc_cList);\n        status_cList = convertView.findViewById(R.id.cStatus_cList);\n\n        Consignment consignment = getItem(position);\n\n        title_cList.setText(consignment.getTitle());\n\n        consignor_cList.setText(&quot;By: &quot;+consignment.getConsignee());\n        readData(new FirestoreCallBack() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onCallback(User user) {\n                Log.d(&quot;CONSIGNOR READ OUTSIDE&quot;, con.getFname());\n                consignor_cList.setText(&quot;By: &quot;+con.getFname()+&quot;: &quot;+con.getPost()+&quot; at &quot;+con.getCname());\n            }\n        }, consignment.getConsignee());\n\n\n        recipient_cList.setText(&quot;To: &quot;+consignment.getRecipient());\n        readRec(new FirestoreCallBack() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onCallback(User user) {\n                Log.d(&quot;RECIPIENT READ OUTSIDE&quot;, rec.getFname());\n                recipient_cList.setText(&quot;To: &quot;+rec.getFname()+&quot;: &quot;+rec.getPost()+&quot; at &quot;+rec.getCname());\n            }\n        }, consignment.getRecipient());\n\n\n        desc_cList.setText(consignment.getDesc());\n        status_cList.setText(&quot;Status: &quot;+consignment.getStatus());\n\n        return convertView;\n    }\n\n    private interface FirestoreCallBack{\n        void onCallback(User user);\n    }\n\n    private void readData(ConsignmentAdapter.FirestoreCallBack firestoreCallBack, String id){\n        db.collection(&quot;Users&quot;)\n                .whereEqualTo(&quot;uid&quot;, id)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\n                                User user = document.toObject(User.class);\n                                con = user;\n                            }\n                            firestoreCallBack.onCallback(con);\n                        } else {\n                            Log.d(&quot;CHECK&quot;, &quot;Error getting documents: &quot;, task.getException());\n                        }\n                    }\n                });\n    }\n\n    private void readRec(ConsignmentAdapter.FirestoreCallBack firestoreCallBack, String id){\n        db.collection(&quot;Users&quot;)\n                .whereEqualTo(&quot;uid&quot;, id)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                Log.d(&quot;CHECK&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\n                                User user = document.toObject(User.class);\n                                rec = user;\n                            }\n                            firestoreCallBack.onCallback(rec);\n                        } else {\n                            Log.d(&quot;CHECK&quot;, &quot;Error getting documents: &quot;, task.getException());\n                        }\n                    }\n                });\n    }\n}\n\n</code></pre>\n<p>What I am trying to do is, change the value of two of my Textviews, consignor_cList and recipient_cList from a firestore query.</p>\n<p>Initially, both these textviews are having text value as String uid of my firestore document. I want to use these id, query the whole document and use the document data into the textviews.</p>\n<p>Before:</p>\n<pre><code>consignor_cList.setText(&quot;By: &quot;+consignment.getConsignee());\n</code></pre>\n<p>After:</p>\n<pre><code> readData(new FirestoreCallBack() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onCallback(User user) {\n                Log.d(&quot;CONSIGNOR READ OUTSIDE&quot;, con.getFname());\n                consignor_cList.setText(&quot;By: &quot;+con.getFname()+&quot;: &quot;+con.getPost()+&quot; at &quot;+con.getCname());\n            }\n        }, consignment.getConsignee());\n</code></pre>\n<p>I am using a Firestore callBack function for this.</p>\n<p>PROBLEM:\nIts not that the code is not working. It is. I can see from my log that my program is having successful queries. Then these queries are supposed to setText to by Textview. BUT BUT BUT, its only happening for the first list item and not the rest, sometimes with the first and last item and not the rest.</p>\n<p>This has to be my senior project. I wish some genius come up tonight and give me a solution.</p>\n<p>I will also share a screenshot of the output.</p>\n<p><a href=\"https://i.stack.imgur.com/z05u3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z05u3.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-cloud-config","spring-cloud-config-server","spring-cloud-config-client"],"answers":[{"tags":[],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656265649,"creation_date":1656265649,"answer_id":72763923,"question_id":72743544,"body_markdown":"After few retries i came up the solution and it is working as expected.\r\nwhat we need to do first is to add actuators dependency.\r\n\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n\r\nNow in the application.properties we need to enable below property so that actuator can perform the restart.\r\n\r\n    management.endpoint.restart.enabled=true\r\n\r\nNow finally we need to call the restart method from RestartEndpoint class so that it can restart our application.\r\n\r\n    @Autowire\r\n    RestartEndpoint restartEndpoint;\r\n    \r\n    public void reloadConfigs(){\r\n        restartEndpoint.restart();\r\n    }\r\n\r\nPlease give suggestion if solution require any improvement.","title":"Refreshing configurations of microservices based on messaging topic","body":"<p>After few retries i came up the solution and it is working as expected.\nwhat we need to do first is to add actuators dependency.</p>\n<pre><code>implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n</code></pre>\n<p>Now in the application.properties we need to enable below property so that actuator can perform the restart.</p>\n<pre><code>management.endpoint.restart.enabled=true\n</code></pre>\n<p>Now finally we need to call the restart method from RestartEndpoint class so that it can restart our application.</p>\n<pre><code>@Autowire\nRestartEndpoint restartEndpoint;\n\npublic void reloadConfigs(){\n    restartEndpoint.restart();\n}\n</code></pre>\n<p>Please give suggestion if solution require any improvement.</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72763923,"answer_count":1,"score":0,"last_activity_date":1656265649,"creation_date":1656070810,"question_id":72743544,"body_markdown":"I have a spring cloud configserver in place and we are using s3 as a version control. &lt;br/&gt;\r\nI have activemq for sending topics which will later be consumed by the microservices. Now we need to refresh the configuration of microservices depending upon the value of the topic which we send in activemq. &lt;br/&gt;\r\nLets say we only need to refresh the configs of the microservice only when we see a value &#39;REFRESH&#39; in the topic, otherwise no change.&lt;br/&gt;\r\nAlso we do nt want to call the actuator /refresh ,/monitor or /busrefresh endpoint to refresh the configs because we need to reload based on the topic value.","title":"Refreshing configurations of microservices based on messaging topic","body":"<p>I have a spring cloud configserver in place and we are using s3 as a version control. <br/>\nI have activemq for sending topics which will later be consumed by the microservices. Now we need to refresh the configuration of microservices depending upon the value of the topic which we send in activemq. <br/>\nLets say we only need to refresh the configs of the microservice only when we see a value 'REFRESH' in the topic, otherwise no change.<br/>\nAlso we do nt want to call the actuator /refresh ,/monitor or /busrefresh endpoint to refresh the configs because we need to reload based on the topic value.</p>\n"},{"tags":["python","java"],"answers":[{"tags":[],"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656224810,"creation_date":1656224810,"answer_id":72759352,"question_id":72759259,"body_markdown":"Yes, it should be easily doable using a library such as [Py4J][1], which can connect to your Java class from Python. All you have to do is to import the library, connect to the JVM like this:\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n    gateway = JavaGateway()  \r\n\r\nand you can call methods in the Java class like you were calling methods in Python. In your case, you would call the constructor first, like this:\r\n\r\n    java_object = gateway.jvm.mypackage.ServerPinger()\r\n\r\nThen run whatever function you want. I&#39;ll take the `ping()` method as an example:\r\n\r\n    return_object = java_object.ping(&quot;address&quot;)\r\n\r\nThe documentation in the above link is extensive and can show you how to do anything you want. Also refer to [this answer][2] written by the author of the library.\r\n\r\n\r\n  [1]: https://www.py4j.org/index.html\r\n  [2]: https://stackoverflow.com/a/3793523/3730626","title":"Can I pass arguments from a Python program to a Java Program, and vice versa?","body":"<p>Yes, it should be easily doable using a library such as <a href=\"https://www.py4j.org/index.html\" rel=\"nofollow noreferrer\">Py4J</a>, which can connect to your Java class from Python. All you have to do is to import the library, connect to the JVM like this:</p>\n<pre><code>from py4j.java_gateway import JavaGateway\ngateway = JavaGateway()  \n</code></pre>\n<p>and you can call methods in the Java class like you were calling methods in Python. In your case, you would call the constructor first, like this:</p>\n<pre><code>java_object = gateway.jvm.mypackage.ServerPinger()\n</code></pre>\n<p>Then run whatever function you want. I'll take the <code>ping()</code> method as an example:</p>\n<pre><code>return_object = java_object.ping(&quot;address&quot;)\n</code></pre>\n<p>The documentation in the above link is extensive and can show you how to do anything you want. Also refer to <a href=\"https://stackoverflow.com/a/3793523/3730626\">this answer</a> written by the author of the library.</p>\n"},{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656226042,"creation_date":1656226042,"answer_id":72759462,"question_id":72759259,"body_markdown":"A better approach would be to use RESTful APIs for communication between multiple applications.\r\n\r\nYou can use [Spring][1] for Java, [Flask][2] for Python. \r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n  [2]: https://pythonbasics.org/flask-rest-api/","title":"Can I pass arguments from a Python program to a Java Program, and vice versa?","body":"<p>A better approach would be to use RESTful APIs for communication between multiple applications.</p>\n<p>You can use <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">Spring</a> for Java, <a href=\"https://pythonbasics.org/flask-rest-api/\" rel=\"nofollow noreferrer\">Flask</a> for Python.</p>\n"}],"owner":{"account_id":24737023,"reputation":38,"user_id":18624251,"display_name":"Dre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72759352,"answer_count":2,"score":1,"last_activity_date":1656265297,"creation_date":1656223607,"question_id":72759259,"body_markdown":"I would like to have my Python program have a loop where it sends an argument to a Java program, the Java program returns some value, and if the Python program sees that the value is what it is looking for, the loop stops. The specific Java program is [linked][1] here. My python program looks online for Minecraft server IPs and I want the Java program to return data on them. Is this possible?\r\n\r\n\r\n  [1]: https://gist.github.com/MrMicky-FR/4b24689fb0625dd4ad6db7f7285163cc","title":"Can I pass arguments from a Python program to a Java Program, and vice versa?","body":"<p>I would like to have my Python program have a loop where it sends an argument to a Java program, the Java program returns some value, and if the Python program sees that the value is what it is looking for, the loop stops. The specific Java program is <a href=\"https://gist.github.com/MrMicky-FR/4b24689fb0625dd4ad6db7f7285163cc\" rel=\"nofollow noreferrer\">linked</a> here. My python program looks online for Minecraft server IPs and I want the Java program to return data on them. Is this possible?</p>\n"},{"tags":["java","kotlin","gradle","intellij-idea","korge"],"answers":[{"tags":[],"owner":{"account_id":3729317,"reputation":1797,"user_id":3102234,"display_name":"Horațiu Udrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656264915,"creation_date":1656264915,"answer_id":72763844,"question_id":72760640,"body_markdown":"I can&#39;t find the answer in the documentation either, but after going through the Gradle plugin source files, it appears that they are using the `addDependency` function in the `korge {}` block. In your case it would look something like this:\r\n\r\n```kotlin\r\nkorge {\r\n  id = &quot;amap3.amap3&quot;\r\n  targetJvm()\r\n\r\n  addDependency(&quot;jvmMainImplementation&quot;, &quot;com.google.code.gson:gson:2.9.0&quot;)\r\n}\r\n```","title":"Korge gradle setup for JVM target","body":"<p>I can't find the answer in the documentation either, but after going through the Gradle plugin source files, it appears that they are using the <code>addDependency</code> function in the <code>korge {}</code> block. In your case it would look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>korge {\n  id = &quot;amap3.amap3&quot;\n  targetJvm()\n\n  addDependency(&quot;jvmMainImplementation&quot;, &quot;com.google.code.gson:gson:2.9.0&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":11275997,"reputation":120,"user_id":8270036,"display_name":"Pylvain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72763844,"answer_count":1,"score":1,"last_activity_date":1656264915,"creation_date":1656238348,"question_id":72760640,"body_markdown":"I want to try the Korge libs on the JVM.\r\nI used the Korge IntelliJ plugin to create a new project.\r\nMy build.gradle.kts looks like this :\r\n  ```kotlin\r\nimport com.soywiz.korge.gradle.*\r\n\r\nbuildscript {\r\n\tval korgePluginVersion: String by project\r\n\r\n\trepositories {\r\n\t\tmavenLocal()\r\n\t\tmavenCentral()\r\n\t\tgoogle()\r\n\t\tmaven { url = uri(&quot;https://plugins.gradle.org/m2/&quot;) }\r\n\t}\r\n\tdependencies {\r\n\t\tclasspath(&quot;com.soywiz.korlibs.korge.plugins:korge-gradle-plugin:$korgePluginVersion&quot;)\r\n\t}\r\n}\r\n\r\napply&lt;KorgeGradlePlugin&gt;()\r\n\r\nkorge {\r\n\tid = &quot;amap3.amap3&quot;\r\n\ttargetJvm()\r\n}\r\n```\r\nI&#39;ve copied the commonMain code into the jvmMain folder and running the project with the runJvm command.\r\nI&#39;ve looked into the examples on the korge doc and github, but i can&#39;t manage to solve the following silly question :\r\nIf I have a java dependency from maven, let&#39;s say \r\n```kotlin\r\nimplementation(&quot;com.google.code.gson:gson:2.9.0&quot;)\r\n```\r\n\r\nwhere do I put it in this file ?\r\n\r\nThank you very much for your attention","title":"Korge gradle setup for JVM target","body":"<p>I want to try the Korge libs on the JVM.\nI used the Korge IntelliJ plugin to create a new project.\nMy build.gradle.kts looks like this :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.soywiz.korge.gradle.*\n\nbuildscript {\n  val korgePluginVersion: String by project\n\n  repositories {\n      mavenLocal()\n      mavenCentral()\n      google()\n      maven { url = uri(&quot;https://plugins.gradle.org/m2/&quot;) }\n  }\n  dependencies {\n      classpath(&quot;com.soywiz.korlibs.korge.plugins:korge-gradle-plugin:$korgePluginVersion&quot;)\n  }\n}\n\napply&lt;KorgeGradlePlugin&gt;()\n\nkorge {\n  id = &quot;amap3.amap3&quot;\n  targetJvm()\n}\n</code></pre>\n<p>I've copied the commonMain code into the jvmMain folder and running the project with the runJvm command.\nI've looked into the examples on the korge doc and github, but i can't manage to solve the following silly question :\nIf I have a java dependency from maven, let's say</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>implementation(&quot;com.google.code.gson:gson:2.9.0&quot;)\n</code></pre>\n<p>where do I put it in this file ?</p>\n<p>Thank you very much for your attention</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1656241209,"post_id":72760024,"comment_id":128518984,"body_markdown":"Do you need to `close()` JsonGenerator at the end?","body":"Do you need to <code>close()</code> JsonGenerator at the end?"}],"answers":[{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656264889,"creation_date":1656235441,"answer_id":72760327,"question_id":72760024,"body_markdown":"Issue is not closing the generator, updated code : \r\n\r\n    import com.fasterxml.jackson.core.JsonFactory;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    \r\n    public class JsonGeneratorTest {\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n    \r\n            var out = new StringWriter();\r\n    \r\n            JsonFactory factory = new JsonFactory();\r\n            JsonGenerator generator = factory.createGenerator(out);\r\n    \r\n            generator.useDefaultPrettyPrinter();\r\n    \r\n            generator.writeStartObject();\r\n            generator.writeStringField(&quot;name&quot;, &quot;zhangsan&quot;);\r\n            generator.writeNumberField(&quot;age&quot;, 18);\r\n            generator.writeEndObject();\r\n            generator.close();\r\n    \r\n            generator.getCurrentValue();\r\n            System.out.println(&quot;Output : &quot;+out);\r\n            System.out.println(&quot;generator : &quot;+out.getBuffer().toString());\r\n            System.out.println(&quot;getCurrentValue : &quot;+generator.getCurrentValue());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nprints : \r\n\r\n        Output : {\r\n      &quot;name&quot; : &quot;zhangsan&quot;,\r\n      &quot;age&quot; : 18\r\n    }\r\n    generator : {\r\n      &quot;name&quot; : &quot;zhangsan&quot;,\r\n      &quot;age&quot; : 18\r\n    }\r\n    getCurrentValue : null\r\n\r\n\r\n\r\n","title":"How to write output of JsonGenerator?","body":"<p>Issue is not closing the generator, updated code :</p>\n<pre><code>import com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport java.io.IOException;\nimport java.io.StringWriter;\n\npublic class JsonGeneratorTest {\n\n    public static void main(String args[]) throws IOException {\n\n        var out = new StringWriter();\n\n        JsonFactory factory = new JsonFactory();\n        JsonGenerator generator = factory.createGenerator(out);\n\n        generator.useDefaultPrettyPrinter();\n\n        generator.writeStartObject();\n        generator.writeStringField(&quot;name&quot;, &quot;zhangsan&quot;);\n        generator.writeNumberField(&quot;age&quot;, 18);\n        generator.writeEndObject();\n        generator.close();\n\n        generator.getCurrentValue();\n        System.out.println(&quot;Output : &quot;+out);\n        System.out.println(&quot;generator : &quot;+out.getBuffer().toString());\n        System.out.println(&quot;getCurrentValue : &quot;+generator.getCurrentValue());\n\n    }\n\n}\n</code></pre>\n<p>prints :</p>\n<pre><code>    Output : {\n  &quot;name&quot; : &quot;zhangsan&quot;,\n  &quot;age&quot; : 18\n}\ngenerator : {\n  &quot;name&quot; : &quot;zhangsan&quot;,\n  &quot;age&quot; : 18\n}\ngetCurrentValue : null\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72760327,"answer_count":1,"score":0,"last_activity_date":1656264889,"creation_date":1656232218,"question_id":72760024,"body_markdown":"I&#39;m attempting to write the output of data generated by `JsonGenerator` to console using :  \r\n\r\n    import com.fasterxml.jackson.core.JsonFactory;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    \r\n    public class JsonGeneratorTest {\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n    \r\n            var out = new StringWriter();\r\n    \r\n            JsonFactory factory = new JsonFactory();\r\n            JsonGenerator generator = factory.createGenerator(out);\r\n    \r\n            generator.useDefaultPrettyPrinter();\r\n    \r\n            generator.writeStartObject();\r\n            generator.writeStringField(&quot;name&quot;, &quot;zhangsan&quot;);\r\n            generator.writeNumberField(&quot;age&quot;, 18);\r\n            generator.writeEndObject();\r\n    \r\n            System.out.println(&quot;Output : &quot;+out.toString());\r\n    \r\n            System.out.println(&quot;generator : &quot;+out.getBuffer().toString());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nFrom the Java docs - https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/StringWriter.html: \r\n\r\n[![getBuffer\r\npublic StringBuffer getBuffer()\r\nReturn the string buffer itself.\r\nReturns:\r\nStringBuffer holding the current buffer value.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhcYF.png\r\n\r\nShouldn&#39;t the current value written to the Json generator be outputted when I use : \r\n\r\n    out.getBuffer().toString()\r\n\r\n","title":"How to write output of JsonGenerator?","body":"<p>I'm attempting to write the output of data generated by <code>JsonGenerator</code> to console using :</p>\n<pre><code>import com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.core.JsonGenerator;\n\nimport java.io.IOException;\nimport java.io.StringWriter;\n\npublic class JsonGeneratorTest {\n\n    public static void main(String args[]) throws IOException {\n\n        var out = new StringWriter();\n\n        JsonFactory factory = new JsonFactory();\n        JsonGenerator generator = factory.createGenerator(out);\n\n        generator.useDefaultPrettyPrinter();\n\n        generator.writeStartObject();\n        generator.writeStringField(&quot;name&quot;, &quot;zhangsan&quot;);\n        generator.writeNumberField(&quot;age&quot;, 18);\n        generator.writeEndObject();\n\n        System.out.println(&quot;Output : &quot;+out.toString());\n\n        System.out.println(&quot;generator : &quot;+out.getBuffer().toString());\n\n    }\n\n}\n</code></pre>\n<p>From the Java docs - <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/StringWriter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/StringWriter.html</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/bhcYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhcYF.png\" alt=\"getBuffer\npublic StringBuffer getBuffer()\nReturn the string buffer itself.\nReturns:\nStringBuffer holding the current buffer value.\" /></a></p>\n<p>Shouldn't the current value written to the Json generator be outputted when I use :</p>\n<pre><code>out.getBuffer().toString()\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22846489,"reputation":91,"user_id":16992749,"display_name":"danky"},"score":0,"creation_date":1656187264,"post_id":72756925,"comment_id":128512096,"body_markdown":"I&#39;m not familiar with what you&#39;re doing, but is the connection established? It seems that you are trying to get a connection but there is no connection, leading it to be null. Make sure the connection is established before getting it.","body":"I&#39;m not familiar with what you&#39;re doing, but is the connection established? It seems that you are trying to get a connection but there is no connection, leading it to be null. Make sure the connection is established before getting it."},{"owner":{"account_id":17495199,"reputation":1,"user_id":12686526,"display_name":"Bibek Bhattarai"},"score":0,"creation_date":1656187543,"post_id":72756925,"comment_id":128512139,"body_markdown":"I found the solution. I had configured jar in buildpath only. When i later copied it to lib folder, everything worked.","body":"I found the solution. I had configured jar in buildpath only. When i later copied it to lib folder, everything worked."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656264709,"post_id":72756925,"comment_id":128524129,"body_markdown":"Don&#39;t catch exceptions and continue on as if nothing happened, and please include any exception stacktrace in your question.","body":"Don&#39;t catch exceptions and continue on as if nothing happened, and please include any exception stacktrace in your question."}],"owner":{"account_id":17495199,"reputation":1,"user_id":12686526,"display_name":"Bibek Bhattarai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656264769,"answer_count":0,"score":0,"last_activity_date":1656264749,"creation_date":1656186424,"question_id":72756925,"body_markdown":"I can&#39;t establish a connection with database. Even though the same code is working fine in Swing projects, it doesn&#39;t work in dynamic web project\r\n```java\r\npublic class RegisterDao {\r\n\t\r\n\tpublic static final String URL = &quot;jdbc:mysql://localhost:3306/userdb&quot;;\r\n\tpublic static final String USERNAME = &quot;root&quot;;\r\n\tpublic static final String PASSWORD = &quot;&quot;;\r\n\tpublic static final String DRIVER_CLASSNAME = &quot;com.mysql.jdbc.Driver&quot;;\r\n\tpublic static Connection con = null;\r\n\t\r\n\t\r\n\tpublic void loadDriver(String DRIVER_CLASSNAME) {\r\n\t\ttry {\r\n\t\t\tClass.forName(DRIVER_CLASSNAME);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static Connection getConnection() {\r\n\t\ttry {\r\n\t\t\tString name = &quot;Bibek&quot;;\r\n\t\t\tcon = DriverManager.getConnection(URL, USERNAME, PASSWORD);\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tSystem.out.println(con);\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn con;\r\n\t}\r\n```\r\n\r\nI am getting null for the connection return. I have looked in every aspect and nothing seems to be wrong with the code, but I keep on getting connection is null.","title":"I can&#39;t establish a connection with database. Even though the same code is working fine in Swing projects, it doesn&#39;t work in dynamic web project","body":"<p>I can't establish a connection with database. Even though the same code is working fine in Swing projects, it doesn't work in dynamic web project</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RegisterDao {\n    \n    public static final String URL = &quot;jdbc:mysql://localhost:3306/userdb&quot;;\n    public static final String USERNAME = &quot;root&quot;;\n    public static final String PASSWORD = &quot;&quot;;\n    public static final String DRIVER_CLASSNAME = &quot;com.mysql.jdbc.Driver&quot;;\n    public static Connection con = null;\n    \n    \n    public void loadDriver(String DRIVER_CLASSNAME) {\n        try {\n            Class.forName(DRIVER_CLASSNAME);\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    public static Connection getConnection() {\n        try {\n            String name = &quot;Bibek&quot;;\n            con = DriverManager.getConnection(URL, USERNAME, PASSWORD);\n            System.out.println(name);\n            System.out.println(con);\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        return con;\n    }\n</code></pre>\n<p>I am getting null for the connection return. I have looked in every aspect and nothing seems to be wrong with the code, but I keep on getting connection is null.</p>\n"},{"tags":["java","android","json","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656264434,"creation_date":1656264434,"answer_id":72763782,"question_id":72762551,"body_markdown":"`Vector Asset Import Wizard` did not worked for me a few times after some upgrades or unknown reasons.\r\n\r\nClip Art was showing any icon, although `sdk` path had `icons` folder.\r\n\r\nPlease, try these steps below. Let me know, if it does not work for you. Hope it helps.\r\n\r\nSteps to recreate vector `icons` folder\r\n- Go to your Android `sdk` directory\r\n- Remove or rename `icons` folder\r\n- Try to create a new Vector Asset.\r\n\r\nAndroid Studio will create a new `icons` folder.\r\n","title":"Click on Clip Art icon on Vector asset import wizard doesn&#39;t working","body":"<p><code>Vector Asset Import Wizard</code> did not worked for me a few times after some upgrades or unknown reasons.</p>\n<p>Clip Art was showing any icon, although <code>sdk</code> path had <code>icons</code> folder.</p>\n<p>Please, try these steps below. Let me know, if it does not work for you. Hope it helps.</p>\n<p>Steps to recreate vector <code>icons</code> folder</p>\n<ul>\n<li>Go to your Android <code>sdk</code> directory</li>\n<li>Remove or rename <code>icons</code> folder</li>\n<li>Try to create a new Vector Asset.</li>\n</ul>\n<p>Android Studio will create a new <code>icons</code> folder.</p>\n"}],"owner":{"account_id":25621868,"reputation":3,"user_id":19393618,"display_name":"Alaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72763782,"answer_count":1,"score":0,"last_activity_date":1656264434,"creation_date":1656254566,"question_id":72762551,"body_markdown":"Clicking on Clip Art Button on Vector Asset Import Wizard causes an android studio JSON de-serializing exception of material icons metadata file and nothing happening\r\n\r\n**Exception**\r\n```\r\nError obtaining metadata file\r\n\r\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Not a JSON Object: &quot;ٹل›ذ&quot;\r\n\tat com.google.gson.Gson.fromJson(Gson.java:944)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:870)\r\n\tat com.android.tools.idea.material.icons.metadata.MaterialIconsMetadata$Companion.parse(MaterialIconsMetadata.kt:47)\r\n\tat com.android.tools.idea.material.icons.utils.MaterialIconsUtils.getMetadata(MaterialIconsUtils.kt:92)\r\n\tat com.android.tools.idea.npw.assetstudio.MaterialVdIconsProvider$Companion.loadMaterialVdIcons(MaterialVdIconsProvider.kt:89)\r\n\tat com.android.tools.idea.npw.assetstudio.MaterialVdIconsProvider.loadMaterialVdIcons(MaterialVdIconsProvider.kt)\r\n\tat com.android.tools.idea.npw.assetstudio.ui.IconPickerDialog.&lt;init&gt;(IconPickerDialog.java:237)\r\n\tat com.android.tools.idea.npw.assetstudio.ui.IconPickerDialog.&lt;init&gt;(IconPickerDialog.java:155)\r\n\tat com.android.tools.idea.npw.assetstudio.ui.VectorIconButton.lambda$new$0(VectorIconButton.java:61)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n\r\n/*other code*/\r\n```\r\n\r\nI can&#39;t import Vector Asset to my project what can I do to resolve this issue ?","title":"Click on Clip Art icon on Vector asset import wizard doesn&#39;t working","body":"<p>Clicking on Clip Art Button on Vector Asset Import Wizard causes an android studio JSON de-serializing exception of material icons metadata file and nothing happening</p>\n<p><strong>Exception</strong></p>\n<pre><code>Error obtaining metadata file\n\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Not a JSON Object: &quot;ٹل›ذ&quot;\n    at com.google.gson.Gson.fromJson(Gson.java:944)\n    at com.google.gson.Gson.fromJson(Gson.java:870)\n    at com.android.tools.idea.material.icons.metadata.MaterialIconsMetadata$Companion.parse(MaterialIconsMetadata.kt:47)\n    at com.android.tools.idea.material.icons.utils.MaterialIconsUtils.getMetadata(MaterialIconsUtils.kt:92)\n    at com.android.tools.idea.npw.assetstudio.MaterialVdIconsProvider$Companion.loadMaterialVdIcons(MaterialVdIconsProvider.kt:89)\n    at com.android.tools.idea.npw.assetstudio.MaterialVdIconsProvider.loadMaterialVdIcons(MaterialVdIconsProvider.kt)\n    at com.android.tools.idea.npw.assetstudio.ui.IconPickerDialog.&lt;init&gt;(IconPickerDialog.java:237)\n    at com.android.tools.idea.npw.assetstudio.ui.IconPickerDialog.&lt;init&gt;(IconPickerDialog.java:155)\n    at com.android.tools.idea.npw.assetstudio.ui.VectorIconButton.lambda$new$0(VectorIconButton.java:61)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\n\n/*other code*/\n</code></pre>\n<p>I can't import Vector Asset to my project what can I do to resolve this issue ?</p>\n"},{"tags":["java","android","react-native","expo"],"comments":[{"owner":{"account_id":4061706,"reputation":2162,"user_id":3338080,"display_name":"Guille Acosta"},"score":0,"creation_date":1661283847,"post_id":72763769,"comment_id":129734473,"body_markdown":"did you get any insight on this issue to share? I need to list the android dependencies from a react native project and it is not as straightforward as an iOS project.","body":"did you get any insight on this issue to share? I need to list the android dependencies from a react native project and it is not as straightforward as an iOS project."}],"owner":{"account_id":25653936,"reputation":11,"user_id":19420729,"display_name":"devGG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656264332,"creation_date":1656264332,"question_id":72763769,"body_markdown":"As most people familiar with Expo are aware, development has been a breeze thanks to  its many layers of abstraction. \r\n\r\nHowever, I&#39;ve hit a wall and need to break out of my Expo bubble. I don&#39;t mean ejecting or re-writing the entire app. What I mean is to start gaining awereness of what&#39;s going on under the hood. This question specifically refers to dependency management &amp; bundling.\r\n\r\nI&#39;m no expert on Android development, but I do have some basics. As far as I understand, dependencies are managed in a Java-like fashion. With concepts like the Java package, and tools like Gradle.\r\n\r\nExpo manages dependencies using a NodeJS fashion. With concepts like the package.json and tools like npm/yarn.\r\n\r\nWhen the time comes to build the android binary, Expo does something with the Javascript code &amp; bundles it along several Andriod dependencies required for the project to run.\r\n\r\nTherefore, what I need to get is a full list of all the Android native dependencies the\r\nresulting binary will include. i.e: com.company.example:identifier:x.y.z\r\n\r\nI&#39;ve used JADX to de-compile a resulting .aab from Expo and while the result is quite insightful, it&#39;s missing a reliable manifest listing all the bundled packages. Said manifest might not even exist, as all the bundled packages will probably be included along the rest of the source code, so there&#39;s no need to list them separetly. A manifest like that would make most sense before building. It does have an Android Manifest, but that one doesn&#39;t list dependencies.\r\n\r\nWhat I did though, is to cd into the de-compiled project and run the command:\r\n\r\n    grep -rh . -e &#39;^package.\\+;&#39; | sort -u &gt; packages.log\r\n\r\nThe output looks promising, but I&#39;m no expert and I need to be 100% sure before telling my boss. Decompiling isn&#39;t always 100% reliable due to some code being impossible to decode.\r\n\r\n\r\nI&#39;ve also tried expo prebuild but the resulting gradle files will not list all dependencies directly. Instead they require dependencies defined in a package.json using a weird directive like so:\r\n\r\n    url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\r\n\r\nNot sure how to manually execute that directive, or how that gets eventually translated to native android dependencies (i.e com.facebook.react.uimanager).\r\n\r\nPlease, I need help listing all the Android dependencies for an Expo project and being 100% sure about it.\r\n\r\n","title":"How to list all Android dependencies from an Expo project?","body":"<p>As most people familiar with Expo are aware, development has been a breeze thanks to  its many layers of abstraction.</p>\n<p>However, I've hit a wall and need to break out of my Expo bubble. I don't mean ejecting or re-writing the entire app. What I mean is to start gaining awereness of what's going on under the hood. This question specifically refers to dependency management &amp; bundling.</p>\n<p>I'm no expert on Android development, but I do have some basics. As far as I understand, dependencies are managed in a Java-like fashion. With concepts like the Java package, and tools like Gradle.</p>\n<p>Expo manages dependencies using a NodeJS fashion. With concepts like the package.json and tools like npm/yarn.</p>\n<p>When the time comes to build the android binary, Expo does something with the Javascript code &amp; bundles it along several Andriod dependencies required for the project to run.</p>\n<p>Therefore, what I need to get is a full list of all the Android native dependencies the\nresulting binary will include. i.e: com.company.example:identifier:x.y.z</p>\n<p>I've used JADX to de-compile a resulting .aab from Expo and while the result is quite insightful, it's missing a reliable manifest listing all the bundled packages. Said manifest might not even exist, as all the bundled packages will probably be included along the rest of the source code, so there's no need to list them separetly. A manifest like that would make most sense before building. It does have an Android Manifest, but that one doesn't list dependencies.</p>\n<p>What I did though, is to cd into the de-compiled project and run the command:</p>\n<pre><code>grep -rh . -e '^package.\\+;' | sort -u &gt; packages.log\n</code></pre>\n<p>The output looks promising, but I'm no expert and I need to be 100% sure before telling my boss. Decompiling isn't always 100% reliable due to some code being impossible to decode.</p>\n<p>I've also tried expo prebuild but the resulting gradle files will not list all dependencies directly. Instead they require dependencies defined in a package.json using a weird directive like so:</p>\n<pre><code>url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\n</code></pre>\n<p>Not sure how to manually execute that directive, or how that gets eventually translated to native android dependencies (i.e com.facebook.react.uimanager).</p>\n<p>Please, I need help listing all the Android dependencies for an Expo project and being 100% sure about it.</p>\n"},{"tags":["java","android","url","webview"],"comments":[{"owner":{"account_id":4044774,"reputation":3998,"user_id":3326331,"accept_rate":73,"display_name":"Sagar Pilkhwal"},"score":0,"creation_date":1409751778,"post_id":25645891,"comment_id":40072046,"body_markdown":"how about `String webUrl = webView.getUrl();`","body":"how about <code>String webUrl = webView.getUrl();</code>"}],"answers":[{"tags":[],"owner":{"account_id":3442380,"reputation":374,"user_id":2884012,"display_name":"Taylor Frey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409755158,"creation_date":1409755158,"answer_id":25647185,"question_id":25645891,"body_markdown":"@SagarP is correct. `webView.getUrl()` will return the URL according to the [WebView Documentation][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/WebView.html#getUrl()","title":"How to get current url from webview?","body":"<p>@SagarP is correct. <code>webView.getUrl()</code> will return the URL according to the <a href=\"http://developer.android.com/reference/android/webkit/WebView.html#getUrl()\" rel=\"nofollow\">WebView Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":24074354,"reputation":102,"user_id":18049904,"display_name":"Mpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656264213,"creation_date":1656264187,"answer_id":72763748,"question_id":25645891,"body_markdown":"` webView.loadUrl(&quot;THE URL&quot;);`","title":"How to get current url from webview?","body":"<p><code> webView.loadUrl(&quot;THE URL&quot;);</code></p>\n"}],"owner":{"account_id":4523707,"reputation":6025,"user_id":3676184,"accept_rate":17,"display_name":"Pavya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656264213,"creation_date":1409751530,"question_id":25645891,"body_markdown":"I am developing an android application in which I am using `Webview` object. I am sending an `url` and couple parameters to `Webview` object. Please check below line.\r\n\r\n    String url = &quot;www.myurl.com&quot;;\r\n    webView.postUrl(url,EncodingUtils.getBytes(postStr, &quot;utf-8&quot;));\r\n\r\nFor now, I can see my `url` in `webview`. This url has couple submission functionality, At the end of scenario, it sends me to success url. But I am not getting that `url` pro-grammatically. I have used To get that url using below function of webview.\r\n            \r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n        view.loadUrl(url);\r\n    } \r\n\r\nIt&#39;s working for earlier `urls` but its not getting for final `url`.\r\n\r\nHow to do that?\r\n\r\n","title":"How to get current url from webview?","body":"<p>I am developing an android application in which I am using <code>Webview</code> object. I am sending an <code>url</code> and couple parameters to <code>Webview</code> object. Please check below line.</p>\n\n<pre><code>String url = \"www.myurl.com\";\nwebView.postUrl(url,EncodingUtils.getBytes(postStr, \"utf-8\"));\n</code></pre>\n\n<p>For now, I can see my <code>url</code> in <code>webview</code>. This url has couple submission functionality, At the end of scenario, it sends me to success url. But I am not getting that <code>url</code> pro-grammatically. I have used To get that url using below function of webview.</p>\n\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\n    view.loadUrl(url);\n} \n</code></pre>\n\n<p>It's working for earlier <code>urls</code> but its not getting for final <code>url</code>.</p>\n\n<p>How to do that?</p>\n"},{"tags":["java","android","accessibility","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655539602,"creation_date":1655539602,"answer_id":72667706,"question_id":72351912,"body_markdown":"the question is not clear, but maybe this will help you:-\r\n```\r\n@Override \r\npublic void onAccessibilityEvent(AccessibilityEvent event) {\r\n\tAccessibilityNodeInfo source = event.getSource(); \r\n\r\n\tif (source == null) {\r\n\t\treturn; \r\n\t} \r\n\tList&lt;AccessibilityNodeInfo&gt; findAccessibilityNodeInfosByViewId = source.findAccessibilityNodeInfosByViewId(&quot;YOUR PACKAGE NAME:id/RESOURCE ID FROM WHERE YOU WANT DATA&quot;); \r\n\r\n\tif (findAccessibilityNodeInfosByViewId.size() &gt; 0) {\r\n\t\tAccessibilityNodeInfo parent = (AccessibilityNodeInfo) findAccessibilityNodeInfosByViewId.get(0);\r\n\t\t// You can also traverse the list if required data is deep in view hierarchy. \r\n\t\tString requiredText = parent.getText().toString();\r\n\t\tLog.i(&quot;Required Text&quot;, requiredText);\r\n\t}\r\n}\r\n```\r\nalso read this [tutorial](https://web.archive.org/web/20161228170758/http://axovel.com/blog/2016/05/06/taking-accessibility-service-to-next-level-android/)","title":"How to use an android accessibility service to detect which view the user touched?","body":"<p>the question is not clear, but maybe this will help you:-</p>\n<pre><code>@Override \npublic void onAccessibilityEvent(AccessibilityEvent event) {\n    AccessibilityNodeInfo source = event.getSource(); \n\n    if (source == null) {\n        return; \n    } \n    List&lt;AccessibilityNodeInfo&gt; findAccessibilityNodeInfosByViewId = source.findAccessibilityNodeInfosByViewId(&quot;YOUR PACKAGE NAME:id/RESOURCE ID FROM WHERE YOU WANT DATA&quot;); \n\n    if (findAccessibilityNodeInfosByViewId.size() &gt; 0) {\n        AccessibilityNodeInfo parent = (AccessibilityNodeInfo) findAccessibilityNodeInfosByViewId.get(0);\n        // You can also traverse the list if required data is deep in view hierarchy. \n        String requiredText = parent.getText().toString();\n        Log.i(&quot;Required Text&quot;, requiredText);\n    }\n}\n</code></pre>\n<p>also read this <a href=\"https://web.archive.org/web/20161228170758/http://axovel.com/blog/2016/05/06/taking-accessibility-service-to-next-level-android/\" rel=\"nofollow noreferrer\">tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":894472,"reputation":5501,"user_id":932052,"accept_rate":94,"display_name":"Quintin Balsdon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656263609,"creation_date":1655969473,"answer_id":72726219,"question_id":72351912,"body_markdown":"You can get the view&#39;s id, but I think you can only access the `AccessibilityNodeInfo` associated with the view - I don&#39;t think you have access to the view itself. You can [check the docs][1] for more information on this.\r\n\r\n```\r\n    // kotlin code\r\n    event.source.viewIdResourceName\r\n    // or\r\n    findFocusedViewInfo().viewIdResourceName\r\n```\r\n\r\nAccording to the [docs][0]:\r\n&gt; Gets the fully qualified resource name of the source view&#39;s id.&lt;br/&gt;&lt;br/&gt;Note: The primary usage of this API is for UI test automation and in order to report the source view id of an AccessibilityNodeInfo the client has to set the AccessibilityServiceInfo#FLAG_REPORT_VIEW_IDS flag when configuring the AccessibilityService. \r\n\r\n[0]: https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo#getViewIdResourceName()\r\n[1]: https://developer.android.com/reference/android/view/accessibility/AccessibilityEvent","title":"How to use an android accessibility service to detect which view the user touched?","body":"<p>You can get the view's id, but I think you can only access the <code>AccessibilityNodeInfo</code> associated with the view - I don't think you have access to the view itself. You can <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityEvent\" rel=\"nofollow noreferrer\">check the docs</a> for more information on this.</p>\n<pre><code>    // kotlin code\n    event.source.viewIdResourceName\n    // or\n    findFocusedViewInfo().viewIdResourceName\n</code></pre>\n<p>According to the <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo#getViewIdResourceName()\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Gets the fully qualified resource name of the source view's id.<br/><br/>Note: The primary usage of this API is for UI test automation and in order to report the source view id of an AccessibilityNodeInfo the client has to set the AccessibilityServiceInfo#FLAG_REPORT_VIEW_IDS flag when configuring the AccessibilityService.</p>\n</blockquote>\n"}],"owner":{"display_name":"user15603244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72726219,"answer_count":2,"score":0,"last_activity_date":1656263609,"creation_date":1653323387,"question_id":72351912,"body_markdown":"There&#39;s something that android TalkBack does that I want to do too. Specifically it&#39;s to identify the view that the user touched. I made this so far:\r\n\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n        if (event.getEventType() == AccessibilityEvent.TYPE_VIEW_CLICKED) {\r\n\r\n            //This only shows the package of the activity that the view is in, I want to identify the view itself\r\n            Toast.makeText(this, &quot;&quot; + event.getSource().getPackageName(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"How to use an android accessibility service to detect which view the user touched?","body":"<p>There's something that android TalkBack does that I want to do too. Specifically it's to identify the view that the user touched. I made this so far:</p>\n<pre><code>@Override\npublic void onAccessibilityEvent(AccessibilityEvent event) {\n    if (event.getEventType() == AccessibilityEvent.TYPE_VIEW_CLICKED) {\n\n        //This only shows the package of the activity that the view is in, I want to identify the view itself\n        Toast.makeText(this, &quot;&quot; + event.getSource().getPackageName(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","splash-screen"],"comments":[{"owner":{"account_id":413031,"reputation":2240,"user_id":786434,"accept_rate":75,"display_name":"Brian"},"score":2,"creation_date":1656086190,"post_id":72746385,"comment_id":128493737,"body_markdown":"You should probably better try to ask the contributors of the lib.","body":"You should probably better try to ask the contributors of the lib."},{"owner":{"account_id":16944838,"reputation":43,"user_id":12255804,"display_name":"Mahmoud Reda"},"score":0,"creation_date":1656102035,"post_id":72746385,"comment_id":128498111,"body_markdown":"unfortunately he doesn&#39;t respond that&#39;s why I wanted some help in here instead. @Brian","body":"unfortunately he doesn&#39;t respond that&#39;s why I wanted some help in here instead. @Brian"},{"owner":{"account_id":413031,"reputation":2240,"user_id":786434,"accept_rate":75,"display_name":"Brian"},"score":0,"creation_date":1656102272,"post_id":72746385,"comment_id":128498155,"body_markdown":"I&#39;m afraid that&#39;s not how SO nor open source works ;-) Just fork, adjust to your needs, and use.","body":"I&#39;m afraid that&#39;s not how SO nor open source works ;-) Just fork, adjust to your needs, and use."}],"owner":{"account_id":16944838,"reputation":43,"user_id":12255804,"display_name":"Mahmoud Reda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656263231,"creation_date":1656085015,"question_id":72746385,"body_markdown":"I&#39;m new to third party libraries, I&#39;m using a splash screen as a start activity to my project. [AwsomeSplashScreen][1]\r\n\r\nthere&#39;s attribute called titleFont which takes String! , i can&#39;t change to any font. already tried so many ways but the problem that it takes only String and the font i use will only be Int or Typeface (converting it to String doesn&#39;t solve the problem). It says a problem with the assets folder.\r\n\r\nNote that the library is old and font is now in resources file not assets folder, already tried to make assets directory with fonts in it but the issue.\r\n\r\nEdit: I&#39;ve tried another third party library [Splashy][2]\r\n\r\nI found 2 dependencies in Android Arsenal, The first one is\r\n\r\n`implementation &#39;com.github.rahuldange09:Splashy:v1.1.0&#39;`\r\nwhich works fine but doesn&#39;t have any functions to change fonts.\r\n\r\nThe second one is \r\n    `implementation &#39;com.rbddevs.splashy:splashy:1.3.0&#39;`\r\nwhich is not working at all and even Splashy class is not implemented.\r\nSo can you help me with that please.\r\n\r\n\r\n  [1]: https://github.com/ViksaaSkool/AwesomeSplash\r\n  [2]: https://github.com/rahuldange09/Splashy","title":"Can&#39;t change a custom font in third party library","body":"<p>I'm new to third party libraries, I'm using a splash screen as a start activity to my project. <a href=\"https://github.com/ViksaaSkool/AwesomeSplash\" rel=\"nofollow noreferrer\">AwsomeSplashScreen</a></p>\n<p>there's attribute called titleFont which takes String! , i can't change to any font. already tried so many ways but the problem that it takes only String and the font i use will only be Int or Typeface (converting it to String doesn't solve the problem). It says a problem with the assets folder.</p>\n<p>Note that the library is old and font is now in resources file not assets folder, already tried to make assets directory with fonts in it but the issue.</p>\n<p>Edit: I've tried another third party library <a href=\"https://github.com/rahuldange09/Splashy\" rel=\"nofollow noreferrer\">Splashy</a></p>\n<p>I found 2 dependencies in Android Arsenal, The first one is</p>\n<p><code>implementation 'com.github.rahuldange09:Splashy:v1.1.0'</code>\nwhich works fine but doesn't have any functions to change fonts.</p>\n<p>The second one is\n<code>implementation 'com.rbddevs.splashy:splashy:1.3.0'</code>\nwhich is not working at all and even Splashy class is not implemented.\nSo can you help me with that please.</p>\n"},{"tags":["java","while-loop","integer"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1656253052,"post_id":72762318,"comment_id":128521471,"body_markdown":"Looks like int overflow, no?  The largest int allowed is 2147483647","body":"Looks like int overflow, no?  The largest int allowed is 2147483647"},{"owner":{"account_id":25653256,"reputation":1,"user_id":19420184,"display_name":"Santhosh N S"},"score":0,"creation_date":1656253149,"post_id":72762318,"comment_id":128521485,"body_markdown":"nope its within [-2^31, 2^31 - 1]","body":"nope its within [-2^31, 2^31 - 1]"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1656253196,"post_id":72762318,"comment_id":128521496,"body_markdown":"No, not as the while loop is iterating and changing the value of the number. What happens if you use BigInteger or long?","body":"No, not as the while loop is iterating and changing the value of the number. What happens if you use BigInteger or long?"},{"owner":{"account_id":25653256,"reputation":1,"user_id":19420184,"display_name":"Santhosh N S"},"score":0,"creation_date":1656253431,"post_id":72762318,"comment_id":128521555,"body_markdown":"the req is within the int range,so its customary,got it anyway,tnx!","body":"the req is within the int range,so its customary,got it anyway,tnx!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1656253509,"post_id":72762318,"comment_id":128521585,"body_markdown":"With long, your code works, no? And what do you mean by your statement above, about &quot;req&quot;?","body":"With long, your code works, no? And what do you mean by your statement above, about &quot;req&quot;?"},{"owner":{"account_id":25653256,"reputation":1,"user_id":19420184,"display_name":"Santhosh N S"},"score":0,"creation_date":1656253690,"post_id":72762318,"comment_id":128521630,"body_markdown":"it works for long,req is requirement.","body":"it works for long,req is requirement."},{"owner":{"account_id":25653256,"reputation":1,"user_id":19420184,"display_name":"Santhosh N S"},"score":0,"creation_date":1656253737,"post_id":72762318,"comment_id":128521641,"body_markdown":"just curious on how the loop works once it exceeds the range of the variable","body":"just curious on how the loop works once it exceeds the range of the variable"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656254436,"post_id":72762318,"comment_id":128521755,"body_markdown":"@SanthoshNS  The loop works normally since it is  based on a valid integer which is being constantly divided by 10.  The problem is that you start with a valid integer but when you reversed it overflows because the original value ends in 9.  The reversed result is a separate value from the one being used in the loop so the loop is unaffected by the conversion.  If the original value ended in `1` it would work as written.  If it ended with `2` it would overflow (and  in that case become negative).","body":"@SanthoshNS  The loop works normally since it is  based on a valid integer which is being constantly divided by 10.  The problem is that you start with a valid integer but when you reversed it overflows because the original value ends in 9.  The reversed result is a separate value from the one being used in the loop so the loop is unaffected by the conversion.  If the original value ended in <code>1</code> it would work as written.  If it ended with <code>2</code> it would overflow (and  in that case become negative)."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656263122,"creation_date":1656253932,"answer_id":72762479,"question_id":72762318,"body_markdown":"It  is definitely int overflow.\r\n```\r\nint num = 1534236469,temp=num;\r\nint sum = 0;\r\nwhile (temp != 0) {\r\n    int digit = temp % 10;\r\n    temp = temp / 10;\r\n    sum = ((sum * 10) + digit);\r\n    System.out.printf(&quot;%,14d  %,14d%n&quot;,sum, Integer.MAX_VALUE);\r\n}\r\n```\r\nprints\r\n```\r\n             9   2,147,483,647\r\n            96   2,147,483,647\r\n           964   2,147,483,647\r\n         9,646   2,147,483,647\r\n        96,463   2,147,483,647\r\n       964,632   2,147,483,647\r\n     9,646,324   2,147,483,647\r\n    96,463,243   2,147,483,647\r\n   964,632,435   2,147,483,647\r\n 1,056,389,759   2,147,483,647\r\n```\r\nCompare the left to the int maximum on the right. What happens when you compute the last value and multiply `964,632,435` by `10`?\r\n\r\nExtract from the [Java Language Specification - multiplication operator](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.17.1)\r\n\r\n&quot;*If an integer multiplication overflows, then the result is the low-order bits of the\r\nmathematical product as represented in some sufficiently large two&#39;s-complement\r\nformat. As a result, if overflow occurs, then the sign of the result may not be the\r\nsame as the sign of the mathematical product of the two operand values*&quot;\r\n\r\nHere is an example.\r\n```\r\nlong v = 964_632_435;\r\nv *= 10;\r\nSystem.out.println(&quot;long value * 10 = &quot; + v);\r\nv = v&amp;Integer.MAX_VALUE; // mask off high order 33 bits in the long\r\n                         // remember that largest int value is 31 bit value\r\n                         // of all ones or x7FFF_FFFF\r\nSystem.out.println(&quot;long after mask = &quot; + v);\r\nSystem.out.println(&quot;long adding 1   = &quot; + (v+1));\r\n```\r\nprints\r\n```\r\nlong value * 10 = 9646324350\r\nlong after mask = 1056389758\r\nlong adding 1   = 1056389759\r\n```\r\nAnd one final example using bit strings.\r\n```\r\nString bits = Long.toBinaryString(9646324350L);\r\nSystem.out.println(&quot;long value = &quot;  + bits);\r\nint len = bits.length();\r\n\r\nbits = bits.substring(len-31, len);\r\nSystem.out.println(&quot;low order 31 bits = &quot; + bits);\r\nint val = Integer.parseInt(bits,2);\r\nSystem.out.println(&quot;Overflow value = &quot; + val);\r\n```\r\nprints\r\n```\r\nlong value = 1000111110111101110011101001111110\r\nlow order 31 bits = 0111110111101110011101001111110\r\nOverflow value = 1056389758  (before adding 1)\r\n\r\n","title":"Random output at last iteration for reversing an integer","body":"<p>It  is definitely int overflow.</p>\n<pre><code>int num = 1534236469,temp=num;\nint sum = 0;\nwhile (temp != 0) {\n    int digit = temp % 10;\n    temp = temp / 10;\n    sum = ((sum * 10) + digit);\n    System.out.printf(&quot;%,14d  %,14d%n&quot;,sum, Integer.MAX_VALUE);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>             9   2,147,483,647\n            96   2,147,483,647\n           964   2,147,483,647\n         9,646   2,147,483,647\n        96,463   2,147,483,647\n       964,632   2,147,483,647\n     9,646,324   2,147,483,647\n    96,463,243   2,147,483,647\n   964,632,435   2,147,483,647\n 1,056,389,759   2,147,483,647\n</code></pre>\n<p>Compare the left to the int maximum on the right. What happens when you compute the last value and multiply <code>964,632,435</code> by <code>10</code>?</p>\n<p>Extract from the <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.17.1\" rel=\"nofollow noreferrer\">Java Language Specification - multiplication operator</a></p>\n<p>&quot;<em>If an integer multiplication overflows, then the result is the low-order bits of the\nmathematical product as represented in some sufficiently large two's-complement\nformat. As a result, if overflow occurs, then the sign of the result may not be the\nsame as the sign of the mathematical product of the two operand values</em>&quot;</p>\n<p>Here is an example.</p>\n<pre><code>long v = 964_632_435;\nv *= 10;\nSystem.out.println(&quot;long value * 10 = &quot; + v);\nv = v&amp;Integer.MAX_VALUE; // mask off high order 33 bits in the long\n                         // remember that largest int value is 31 bit value\n                         // of all ones or x7FFF_FFFF\nSystem.out.println(&quot;long after mask = &quot; + v);\nSystem.out.println(&quot;long adding 1   = &quot; + (v+1));\n</code></pre>\n<p>prints</p>\n<pre><code>long value * 10 = 9646324350\nlong after mask = 1056389758\nlong adding 1   = 1056389759\n</code></pre>\n<p>And one final example using bit strings.</p>\n<pre><code>String bits = Long.toBinaryString(9646324350L);\nSystem.out.println(&quot;long value = &quot;  + bits);\nint len = bits.length();\n\nbits = bits.substring(len-31, len);\nSystem.out.println(&quot;low order 31 bits = &quot; + bits);\nint val = Integer.parseInt(bits,2);\nSystem.out.println(&quot;Overflow value = &quot; + val);\n</code></pre>\n<p>prints</p>\n<pre><code>long value = 1000111110111101110011101001111110\nlow order 31 bits = 0111110111101110011101001111110\nOverflow value = 1056389758  (before adding 1)\n\n</code></pre>\n"}],"owner":{"account_id":25653256,"reputation":1,"user_id":19420184,"display_name":"Santhosh N S"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656253666,"answer_count":1,"score":0,"last_activity_date":1656263122,"creation_date":1656252753,"question_id":72762318,"body_markdown":"I am trying to reverse an int,following is my code\r\n\r\n```\r\nint num = 1534236469,temp=num;\r\n\r\nwhile (temp != 0) {\r\n\tdigit = temp % 10;\r\n\ttemp = temp / 10;\r\n\tsum = ((sum * 10) + digit);\r\n}\r\n```\r\nAt the 2nd final iteration i get 964632435,which is as expected,but at the last iteration out of nowhere i get 1056389759..\r\n\r\nCan someone help me understand what is happening here?","title":"Random output at last iteration for reversing an integer","body":"<p>I am trying to reverse an int,following is my code</p>\n<pre><code>int num = 1534236469,temp=num;\n\nwhile (temp != 0) {\n    digit = temp % 10;\n    temp = temp / 10;\n    sum = ((sum * 10) + digit);\n}\n</code></pre>\n<p>At the 2nd final iteration i get 964632435,which is as expected,but at the last iteration out of nowhere i get 1056389759..</p>\n<p>Can someone help me understand what is happening here?</p>\n"},{"tags":["java","dmx512"],"answers":[{"tags":[],"owner":{"account_id":12536703,"reputation":1444,"user_id":9123163,"display_name":"ltd9938"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579553620,"creation_date":1579553620,"answer_id":59830696,"question_id":59723851,"body_markdown":"I ported a DmxPy to Java a little over a year ago. It worked for my needs with an ENTEC DMX USB Pro. See if this works for you.\r\n\r\nLink: [https://github.com/trevordavies095/DmxJava][1]\r\n\r\nInstantiate: `DmxJava dmx = new DmxJava();`\r\n\r\nSet a DMX address&#39;s value: `dmx.setChannel(dmx_address, value);`\r\n\r\nDMX packet to be sent `byte[] dmx_packet = dmx.render();` You can now send the packet to the ENTTEC using whatever serial library you are using.\r\n\r\n\r\n  [1]: https://github.com/trevordavies095/DmxJava","title":"Controlling Lights with Enttec Open Dmx USB in java?","body":"<p>I ported a DmxPy to Java a little over a year ago. It worked for my needs with an ENTEC DMX USB Pro. See if this works for you.</p>\n\n<p>Link: <a href=\"https://github.com/trevordavies095/DmxJava\" rel=\"nofollow noreferrer\">https://github.com/trevordavies095/DmxJava</a></p>\n\n<p>Instantiate: <code>DmxJava dmx = new DmxJava();</code></p>\n\n<p>Set a DMX address's value: <code>dmx.setChannel(dmx_address, value);</code></p>\n\n<p>DMX packet to be sent <code>byte[] dmx_packet = dmx.render();</code> You can now send the packet to the ENTTEC using whatever serial library you are using.</p>\n"},{"tags":[],"owner":{"account_id":7393243,"reputation":128,"user_id":5626029,"display_name":"ricardo.scholz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656262863,"creation_date":1656262863,"answer_id":72763568,"question_id":59723851,"body_markdown":"I use Juanjo&#39;s lib (https://sourceforge.net/projects/opendmxjavajni/). DMX512 protocol is pretty simple. Main concepts are:\r\n\r\nUniverse: you can choose any universe, starting from 0, up to ~65K. A universe is a isolated network of fixtures, and has 512 channels each. Most entry-level DMX/USB interfaces work with only one universe.\r\n\r\nChannel: each channel supports an integer value between 0 and 255. Some fixtures use only one channel (for instance, a dimmer), some use more than one (an RGB fixture, using a channel for dimmer, and other 3 for red, green and blue, for instance), and some may get really complex, using a huge ammount of channels (ex.: a moving head). You&#39;ll have to understand what are the channels used by the actual fixtures you want to use (channel n: dimmer, channel n+1: red, etc.). Usually you can set the &quot;n&quot; value in the fixture configurations.\r\n\r\nTo connect your DMX/USB interface, use:\r\n\r\n    OpenDmx.connect(OpenDmx.OPENDMX_TX)\r\n\r\nUsually, you&#39;ll want to run an infinite loop, in which you control what goes on each channel. Just update the DMX array (an array of &#39;ints&#39;), considering that channel 1 will be at position 0, and so on untill position 511. The interface will keep updating your fixtures accordingly.\r\n\r\n    OpenDmx.setValue(channel,value);\r\n\r\nJuanjo&#39;s lib has several examples that might be useful.\r\n\r\nGood luck.","title":"Controlling Lights with Enttec Open Dmx USB in java?","body":"<p>I use Juanjo's lib (<a href=\"https://sourceforge.net/projects/opendmxjavajni/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/opendmxjavajni/</a>). DMX512 protocol is pretty simple. Main concepts are:</p>\n<p>Universe: you can choose any universe, starting from 0, up to ~65K. A universe is a isolated network of fixtures, and has 512 channels each. Most entry-level DMX/USB interfaces work with only one universe.</p>\n<p>Channel: each channel supports an integer value between 0 and 255. Some fixtures use only one channel (for instance, a dimmer), some use more than one (an RGB fixture, using a channel for dimmer, and other 3 for red, green and blue, for instance), and some may get really complex, using a huge ammount of channels (ex.: a moving head). You'll have to understand what are the channels used by the actual fixtures you want to use (channel n: dimmer, channel n+1: red, etc.). Usually you can set the &quot;n&quot; value in the fixture configurations.</p>\n<p>To connect your DMX/USB interface, use:</p>\n<pre><code>OpenDmx.connect(OpenDmx.OPENDMX_TX)\n</code></pre>\n<p>Usually, you'll want to run an infinite loop, in which you control what goes on each channel. Just update the DMX array (an array of 'ints'), considering that channel 1 will be at position 0, and so on untill position 511. The interface will keep updating your fixtures accordingly.</p>\n<pre><code>OpenDmx.setValue(channel,value);\n</code></pre>\n<p>Juanjo's lib has several examples that might be useful.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":14495076,"reputation":23,"user_id":12092381,"display_name":"Ethan Pervere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59830696,"answer_count":2,"score":1,"last_activity_date":1656262863,"creation_date":1578948028,"question_id":59723851,"body_markdown":"I am starting a project in java where I want to control a Lights from my computer using a Terminal Window.  I am using a piece of hardware called an Enttec Open DMX USB Converter.  So I am writing this question, to ask the community if anyone has an idea of how to send data to this Enttec device to control lights.  Where would I start? I already know how to write terminal command aliases and execute .jar files so I don&#39;t need help with that.\r\n\r\nWhat I have tried so far is to look at an open source project called &quot;Open Lighting Project&quot; that I know can control the device and learn how it works and how can possibly make my program.  But I got stuck looking at the java code folder in the Github Repository, trying to find a DmxData.java class that it says OlaClient.java is importing. So I am very confused where it is getting it from. \r\n\r\nI have also tried looking at the developer tools on the Enttec Website, and they don&#39;t work.  More Specifically I looked at the file package called Java Wrapper, and tried running the test and kept failing every time with different errors.\r\n\r\nThese are the links:\r\n\r\n**Enttec Device:**\r\nhttps://www.enttec.com/product/controls/dmx-usb-interfaces/open-dmx-usb/\r\n\r\n**Open Lighting Architecture Github Repository:**\r\nhttps://github.com/OpenLightingProject/ola\r\n\r\nAny help would be appreciated!\r\n\r\nThanks!","title":"Controlling Lights with Enttec Open Dmx USB in java?","body":"<p>I am starting a project in java where I want to control a Lights from my computer using a Terminal Window.  I am using a piece of hardware called an Enttec Open DMX USB Converter.  So I am writing this question, to ask the community if anyone has an idea of how to send data to this Enttec device to control lights.  Where would I start? I already know how to write terminal command aliases and execute .jar files so I don't need help with that.</p>\n\n<p>What I have tried so far is to look at an open source project called \"Open Lighting Project\" that I know can control the device and learn how it works and how can possibly make my program.  But I got stuck looking at the java code folder in the Github Repository, trying to find a DmxData.java class that it says OlaClient.java is importing. So I am very confused where it is getting it from. </p>\n\n<p>I have also tried looking at the developer tools on the Enttec Website, and they don't work.  More Specifically I looked at the file package called Java Wrapper, and tried running the test and kept failing every time with different errors.</p>\n\n<p>These are the links:</p>\n\n<p><strong>Enttec Device:</strong>\n<a href=\"https://www.enttec.com/product/controls/dmx-usb-interfaces/open-dmx-usb/\" rel=\"nofollow noreferrer\">https://www.enttec.com/product/controls/dmx-usb-interfaces/open-dmx-usb/</a></p>\n\n<p><strong>Open Lighting Architecture Github Repository:</strong>\n<a href=\"https://github.com/OpenLightingProject/ola\" rel=\"nofollow noreferrer\">https://github.com/OpenLightingProject/ola</a></p>\n\n<p>Any help would be appreciated!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","pyspark","pycharm"],"comments":[{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656259392,"post_id":72763025,"comment_id":128522977,"body_markdown":"You&#39;d better write your error stack trace to let us know more precicely","body":"You&#39;d better write your error stack trace to let us know more precicely"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656259443,"post_id":72763025,"comment_id":128522985,"body_markdown":"Take a look at\n https://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po?page=2&amp;tab=modifieddesc#tab-top","body":"Take a look at  <a href=\"https://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po?page=2&amp;tab=modifieddesc#tab-top\" title=\"pyspark exception java gateway process exited before sending the driver its po\">stackoverflow.com/questions/31841509/&hellip;</a>"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656259563,"post_id":72763025,"comment_id":128523008,"body_markdown":"Yes, I realised without the trace back it was very vague,  I have added that now","body":"Yes, I realised without the trace back it was very vague,  I have added that now"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656259668,"post_id":72763025,"comment_id":128523025,"body_markdown":"Based on your error I think this link will help you:\nhttps://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/","body":"Based on your error I think this link will help you: <a href=\"https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\" rel=\"nofollow noreferrer\">sparkbyexamples.com/pyspark/&hellip;</a>"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656259704,"post_id":72763025,"comment_id":128523035,"body_markdown":"Have you set $JAVA_HOME and PYSPARK_SUBMIT_ARGS?","body":"Have you set $JAVA_HOME and PYSPARK_SUBMIT_ARGS?"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656260081,"post_id":72763025,"comment_id":128523115,"body_markdown":"I am on windows, I have previously gotten it setup on a virtual linux machine but this time i need to use my windows.","body":"I am on windows, I have previously gotten it setup on a virtual linux machine but this time i need to use my windows."},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656260433,"post_id":72763025,"comment_id":128523194,"body_markdown":"See this: \nhttps://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html","body":"See this:  <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">confluence.atlassian.com/doc/&hellip;</a>"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656260456,"post_id":72763025,"comment_id":128523199,"body_markdown":"If it solves your problem, let me know to post it as an answer","body":"If it solves your problem, let me know to post it as an answer"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656261118,"post_id":72763025,"comment_id":128523356,"body_markdown":"it has fixed the initial problem yes, now running into Py4JJavaError: An error occurred while calling o8.set., it looks like a java compatibility issue","body":"it has fixed the initial problem yes, now running into Py4JJavaError: An error occurred while calling o8.set., it looks like a java compatibility issue"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656261364,"post_id":72763025,"comment_id":128523420,"body_markdown":"It looks like an incompatibility issue between your PySpark version and your Python version. You&#39;d better write them down in your question too. See this:\nhttps://stackoverflow.com/questions/41840296/pyspark-in-ipython-notebook-raises-py4jjavaerror-when-using-count-and-first","body":"It looks like an incompatibility issue between your PySpark version and your Python version. You&#39;d better write them down in your question too. See this: <a href=\"https://stackoverflow.com/questions/41840296/pyspark-in-ipython-notebook-raises-py4jjavaerror-when-using-count-and-first\" title=\"pyspark in ipython notebook raises py4jjavaerror when using count and first\">stackoverflow.com/questions/41840296/&hellip;</a>"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656261817,"post_id":72763025,"comment_id":128523520,"body_markdown":"thank you, it probably needs a fresh question where I specify all my versions/environmenbts, Appreciate your time!","body":"thank you, it probably needs a fresh question where I specify all my versions/environmenbts, Appreciate your time!"},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656261982,"post_id":72763025,"comment_id":128523552,"body_markdown":"Yes, I think it needs to be another question. I&#39;ll write down my comments as an answer.","body":"Yes, I think it needs to be another question. I&#39;ll write down my comments as an answer."},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656278464,"post_id":72763025,"comment_id":128526777,"body_markdown":"Successfully installed py4j-0.10.9, i had 0.10.9.5 installed which was causing my new errors. long day but thankfullly found out.","body":"Successfully installed py4j-0.10.9, i had 0.10.9.5 installed which was causing my new errors. long day but thankfullly found out."}],"answers":[{"tags":[],"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656262495,"creation_date":1656262495,"answer_id":72763518,"question_id":72763025,"body_markdown":"Based on your error logs, I think you need to specify the $JAVA_HOME variable on your system. \r\n\r\nThis link may help:\r\n\r\n[https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/][1]\r\n\r\nIn Linux:\r\n\r\nexport JAVA_HOME=(Path to the JDK, e.x: /usr/lib/jvm/java-11-openjdk-amd64)\r\n\r\nAnd after that, you need to save it in your ~/.bashrc (If you use bash)\r\n\r\n    vi ~/.bashrc\r\n    export JAVA_HOME=(Path to the JDK, e.x: /usr/lib/jvm/java-11-openjdk-amd64)\r\n\r\nThen:\r\n\r\n\r\n    source ~/.bashrc\r\n\r\n(You can see the above link)\r\n\r\nIn windows:\r\n\r\nGo to the edit **system environment** window on your My Computer.\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSee this:\r\n[https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html][4]\r\n\r\n\r\n  [1]: https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\r\n  [2]: https://i.stack.imgur.com/uozC2.png\r\n  [3]: https://i.stack.imgur.com/O1X2t.png\r\n  [4]: https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html","title":"Java error Java gateway process exited before sending its port number","body":"<p>Based on your error logs, I think you need to specify the $JAVA_HOME variable on your system.</p>\n<p>This link may help:</p>\n<p><a href=\"https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/pyspark/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-port-number/</a></p>\n<p>In Linux:</p>\n<p>export JAVA_HOME=(Path to the JDK, e.x: /usr/lib/jvm/java-11-openjdk-amd64)</p>\n<p>And after that, you need to save it in your ~/.bashrc (If you use bash)</p>\n<pre><code>vi ~/.bashrc\nexport JAVA_HOME=(Path to the JDK, e.x: /usr/lib/jvm/java-11-openjdk-amd64)\n</code></pre>\n<p>Then:</p>\n<pre><code>source ~/.bashrc\n</code></pre>\n<p>(You can see the above link)</p>\n<p>In windows:</p>\n<p>Go to the edit <strong>system environment</strong> window on your My Computer.</p>\n<p><a href=\"https://i.stack.imgur.com/uozC2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uozC2.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/O1X2t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1X2t.png\" alt=\"enter image description here\" /></a></p>\n<p>See this:\n<a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html</a></p>\n"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72763518,"answer_count":1,"score":0,"last_activity_date":1656262495,"creation_date":1656258594,"question_id":72763025,"body_markdown":"I used pip install pyspark in a python enviroment, java is installed but when i try to initialise a spark session I get a java error Java gateway process exited before sending its port number\r\n\r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;CustomerChurn&quot;) \\\r\n        .master(&quot;local&quot;) \\\r\n        .config() \\\r\n        .getOrCreate()\r\n\r\n\r\n\r\n\r\n\r\n    RuntimeError                              Traceback (most recent call last)\r\n    Input In [3], in &lt;cell line: 3&gt;()\r\n          1 findspark.init()\r\n          3 spark = SparkSession \\\r\n          4     .builder \\\r\n          5     .appName(&quot;CustomerChurn&quot;) \\\r\n          6     .master(&quot;local&quot;) \\\r\n          7     .config() \\\r\n    ----&gt; 8     .getOrCreate()\r\n    \r\n    File ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\sql\\session.py:269, in SparkSession.Builder.getOrCreate(self)\r\n        267     sparkConf.set(key, value)\r\n        268 # This SparkContext may be an existing one.\r\n    --&gt; 269 sc = SparkContext.getOrCreate(sparkConf)\r\n        270 # Do not update `SparkConf` for existing `SparkContext`, as it&#39;s shared\r\n        271 # by all sessions.\r\n        272 session = SparkSession(sc, options=self._options)\r\n    \r\n    File ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:483, in SparkContext.getOrCreate(cls, conf)\r\n        481 with SparkContext._lock:\r\n        482     if SparkContext._active_spark_context is None:\r\n    --&gt; 483         SparkContext(conf=conf or SparkConf())\r\n        484     assert SparkContext._active_spark_context is not None\r\n        485     return SparkContext._active_spark_context\r\n    \r\n    File ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:195, in SparkContext.__init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls, udf_profiler_cls)\r\n        189 if gateway is not None and gateway.gateway_parameters.auth_token is None:\r\n        190     raise ValueError(\r\n        191         &quot;You are trying to pass an insecure Py4j gateway to Spark. This&quot;\r\n        192         &quot; is not allowed as it is a security risk.&quot;\r\n        193     )\r\n    --&gt; 195 SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n        196 try:\r\n        197     self._do_init(\r\n        198         master,\r\n        199         appName,\r\n       (...)\r\n        208         udf_profiler_cls,\r\n        209     )\r\n    \r\n    File ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:417, in SparkContext._ensure_initialized(cls, instance, gateway, conf)\r\n        415 with SparkContext._lock:\r\n        416     if not SparkContext._gateway:\r\n    --&gt; 417         SparkContext._gateway = gateway or launch_gateway(conf)\r\n        418         SparkContext._jvm = SparkContext._gateway.jvm\r\n        420     if instance:\r\n    \r\n    File ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\java_gateway.py:106, in launch_gateway(conf, popen_kwargs)\r\n        103     time.sleep(0.1)\r\n        105 if not os.path.isfile(conn_info_file):\r\n    --&gt; 106     raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\n        108 with open(conn_info_file, &quot;rb&quot;) as info:\r\n        109     gateway_port = read_int(info)\r\n    \r\n    RuntimeError: Java gateway process exited before sending its port number\r\n\r\n\r\n\r\n\r\n\r\nthe run time error is posted above, I have not seen this type of error in other posts","title":"Java error Java gateway process exited before sending its port number","body":"<p>I used pip install pyspark in a python enviroment, java is installed but when i try to initialise a spark session I get a java error Java gateway process exited before sending its port number</p>\n<pre><code>spark = SparkSession \\\n    .builder \\\n    .appName(&quot;CustomerChurn&quot;) \\\n    .master(&quot;local&quot;) \\\n    .config() \\\n    .getOrCreate()\n\n\n\n\n\nRuntimeError                              Traceback (most recent call last)\nInput In [3], in &lt;cell line: 3&gt;()\n      1 findspark.init()\n      3 spark = SparkSession \\\n      4     .builder \\\n      5     .appName(&quot;CustomerChurn&quot;) \\\n      6     .master(&quot;local&quot;) \\\n      7     .config() \\\n----&gt; 8     .getOrCreate()\n\nFile ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\sql\\session.py:269, in SparkSession.Builder.getOrCreate(self)\n    267     sparkConf.set(key, value)\n    268 # This SparkContext may be an existing one.\n--&gt; 269 sc = SparkContext.getOrCreate(sparkConf)\n    270 # Do not update `SparkConf` for existing `SparkContext`, as it's shared\n    271 # by all sessions.\n    272 session = SparkSession(sc, options=self._options)\n\nFile ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:483, in SparkContext.getOrCreate(cls, conf)\n    481 with SparkContext._lock:\n    482     if SparkContext._active_spark_context is None:\n--&gt; 483         SparkContext(conf=conf or SparkConf())\n    484     assert SparkContext._active_spark_context is not None\n    485     return SparkContext._active_spark_context\n\nFile ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:195, in SparkContext.__init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls, udf_profiler_cls)\n    189 if gateway is not None and gateway.gateway_parameters.auth_token is None:\n    190     raise ValueError(\n    191         &quot;You are trying to pass an insecure Py4j gateway to Spark. This&quot;\n    192         &quot; is not allowed as it is a security risk.&quot;\n    193     )\n--&gt; 195 SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n    196 try:\n    197     self._do_init(\n    198         master,\n    199         appName,\n   (...)\n    208         udf_profiler_cls,\n    209     )\n\nFile ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\context.py:417, in SparkContext._ensure_initialized(cls, instance, gateway, conf)\n    415 with SparkContext._lock:\n    416     if not SparkContext._gateway:\n--&gt; 417         SparkContext._gateway = gateway or launch_gateway(conf)\n    418         SparkContext._jvm = SparkContext._gateway.jvm\n    420     if instance:\n\nFile ~\\anaconda3\\envs\\CustomerChurnProject\\lib\\site-packages\\pyspark\\java_gateway.py:106, in launch_gateway(conf, popen_kwargs)\n    103     time.sleep(0.1)\n    105 if not os.path.isfile(conn_info_file):\n--&gt; 106     raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\n    108 with open(conn_info_file, &quot;rb&quot;) as info:\n    109     gateway_port = read_int(info)\n\nRuntimeError: Java gateway process exited before sending its port number\n</code></pre>\n<p>the run time error is posted above, I have not seen this type of error in other posts</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656254557,"creation_date":1656254557,"answer_id":72762550,"question_id":72762491,"body_markdown":"you should move your check inside the loop, so it will check every time before the next loop is executed.\r\nIn your code, the check is only performed once.\r\n\r\n```java\r\npublic class tryout1 {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList entries = new ArrayList();\r\n        Scanner obj1 = new Scanner(System.in);\r\n        System.out.println(&quot;enter numbers&quot;);\r\n        \r\n        do {\r\n             // get the next int\r\n             int i = obj1.nextInt();\r\n             entries.add(i);\r\n        } while (obj1.hasNextInt()); // &lt;- check here for nextInt\r\n\r\n        System.out.println(entries);\r\n    }\r\n}\r\n```","title":"infinite array list of user entries","body":"<p>you should move your check inside the loop, so it will check every time before the next loop is executed.\nIn your code, the check is only performed once.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class tryout1 {\n\n    public static void main(String[] args) {\n        ArrayList entries = new ArrayList();\n        Scanner obj1 = new Scanner(System.in);\n        System.out.println(&quot;enter numbers&quot;);\n        \n        do {\n             // get the next int\n             int i = obj1.nextInt();\n             entries.add(i);\n        } while (obj1.hasNextInt()); // &lt;- check here for nextInt\n\n        System.out.println(entries);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25653448,"reputation":3,"user_id":19420336,"display_name":"Emye22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72762550,"answer_count":1,"score":0,"last_activity_date":1656262398,"creation_date":1656254008,"question_id":72762491,"body_markdown":"I want to have an `ArrayList` that records user entries and ends when it receives a **non-integer** value but I am getting an **infinite** loop and I don&#39;t know why.\r\n```java\r\npublic class Tryout1 \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        ArrayList entries = new ArrayList();\r\n        Scanner obj1 = new Scanner(System.in);\r\n        System.out.println(&quot;enter numbers&quot;);\r\n        int i = obj1.nextInt();\r\n        boolean accumulating = obj1.hasNextInt(); //check int\r\n\r\n        while(accumulating) {\r\n            entries.add(i);\r\n        }                                                                                \r\n        System.out.println(entries);\r\n    }\r\n}\r\n```","title":"infinite array list of user entries","body":"<p>I want to have an <code>ArrayList</code> that records user entries and ends when it receives a <strong>non-integer</strong> value but I am getting an <strong>infinite</strong> loop and I don't know why.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tryout1 \n{\n    public static void main(String[] args) \n    {\n        ArrayList entries = new ArrayList();\n        Scanner obj1 = new Scanner(System.in);\n        System.out.println(&quot;enter numbers&quot;);\n        int i = obj1.nextInt();\n        boolean accumulating = obj1.hasNextInt(); //check int\n\n        while(accumulating) {\n            entries.add(i);\n        }                                                                                \n        System.out.println(entries);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1625765959,"post_id":68305017,"comment_id":120721369,"body_markdown":"Could it be using a source for random that is low on entropy have a look at https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator","body":"Could it be using a source for random that is low on entropy have a look at <a href=\"https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator\" title=\"how to deal with a slow securerandom generator\">stackoverflow.com/questions/137212/&hellip;</a>"},{"owner":{"account_id":11168499,"reputation":87,"user_id":8196323,"display_name":"TasteMyBomb"},"score":1,"creation_date":1625833737,"post_id":68305017,"comment_id":120739498,"body_markdown":"Thank you, this thing fixed my mistake.","body":"Thank you, this thing fixed my mistake."},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1625842416,"post_id":68305017,"comment_id":120743067,"body_markdown":"Happy to help I&#39;ll add this as an answer I am not sure if this is considered a duplicate or not, I&#39;ll leave that to others to decide.","body":"Happy to help I&#39;ll add this as an answer I am not sure if this is considered a duplicate or not, I&#39;ll leave that to others to decide."}],"answers":[{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625842566,"creation_date":1625842566,"answer_id":68318838,"question_id":68305017,"body_markdown":"This sounds a lot like an issue with your random number generator and the required levels or entropy to create the random number, have a look at this answer https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator.\r\n\r\nYou will see advice that will help to decide how you want your secure randoms to be generated. What you decide to use will depend completely on your requirements, but be aware of the potential slowness of using /dev/random.","title":"Spring Boot app takes a lot to load for the first time","body":"<p>This sounds a lot like an issue with your random number generator and the required levels or entropy to create the random number, have a look at this answer <a href=\"https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator\">How to deal with a slow SecureRandom generator?</a>.</p>\n<p>You will see advice that will help to decide how you want your secure randoms to be generated. What you decide to use will depend completely on your requirements, but be aware of the potential slowness of using /dev/random.</p>\n"}],"owner":{"account_id":11168499,"reputation":87,"user_id":8196323,"display_name":"TasteMyBomb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68318838,"answer_count":1,"score":1,"last_activity_date":1656261807,"creation_date":1625759992,"question_id":68305017,"body_markdown":"I am having a lot of issues regarding my Spring Boot application that is starting as normal, but when I access a page that is secured by Spring security, it takes a lot of time to load the page.\r\n\r\nIf I click on the /userpage icon, then the login screen should appear if not logged in. Well, in this case the display of login screen takes up to 5 minutes. Same thing for the /process_login (the link created to produce the login).\r\n\r\nThings that I did from the internet:\r\n1. I did placed `logging.level.org.springframework.boot.autoconfigure=DEBUG` in the application.properties, nothing relevant in the logs\r\n\r\n2. I start the application on a 1CPU, 1GB RAM virtual machine on OceanDigital. There were no issues of this type on my Idea editor on my PC. The db is a MongoCluster from MongoAtlas.\r\n\r\n3. I think it is related to the application start-up options. I start the application like this: `./mvnw spring-boot:run &amp;` or `man spring-boot:run &amp;` (I add &amp; to make it work in the background.) \r\n\r\n4. ByCrpyt len is 4.\r\n\r\nAfter the login is performed, then any other request, including a new login is done with easy, in a matter of ms.\r\n\r\nAny suggestions?\r\n\r\n**UPDATE**\r\n\r\nWhen I connect with the Idea Editor to the remote server and run on it, this issue does not appear. So I still think it is a matter of start-up command or configuration.\r\n\r\n**UPDATE 2**\r\n\r\nI got this Warn: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [607,720] milliseconds.\r\n","title":"Spring Boot app takes a lot to load for the first time","body":"<p>I am having a lot of issues regarding my Spring Boot application that is starting as normal, but when I access a page that is secured by Spring security, it takes a lot of time to load the page.</p>\n<p>If I click on the /userpage icon, then the login screen should appear if not logged in. Well, in this case the display of login screen takes up to 5 minutes. Same thing for the /process_login (the link created to produce the login).</p>\n<p>Things that I did from the internet:</p>\n<ol>\n<li><p>I did placed <code>logging.level.org.springframework.boot.autoconfigure=DEBUG</code> in the application.properties, nothing relevant in the logs</p>\n</li>\n<li><p>I start the application on a 1CPU, 1GB RAM virtual machine on OceanDigital. There were no issues of this type on my Idea editor on my PC. The db is a MongoCluster from MongoAtlas.</p>\n</li>\n<li><p>I think it is related to the application start-up options. I start the application like this: <code>./mvnw spring-boot:run &amp;</code> or <code>man spring-boot:run &amp;</code> (I add &amp; to make it work in the background.)</p>\n</li>\n<li><p>ByCrpyt len is 4.</p>\n</li>\n</ol>\n<p>After the login is performed, then any other request, including a new login is done with easy, in a matter of ms.</p>\n<p>Any suggestions?</p>\n<p><strong>UPDATE</strong></p>\n<p>When I connect with the Idea Editor to the remote server and run on it, this issue does not appear. So I still think it is a matter of start-up command or configuration.</p>\n<p><strong>UPDATE 2</strong></p>\n<p>I got this Warn: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [607,720] milliseconds.</p>\n"},{"tags":["java","batch-file"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1656077454,"post_id":72744314,"comment_id":128490624,"body_markdown":"Your question is not clear. If you run your `.bat` file from a [command prompt](https://en.wikipedia.org/wiki/Cmd.exe), then, after it starts running, does it prompt the user to enter a password and wait for the user to enter something? If that is the case, then do you want your Java program to simulate the user entering his password?","body":"Your question is not clear. If you run your <code>.bat</code> file from a <a href=\"https://en.wikipedia.org/wiki/Cmd.exe\" rel=\"nofollow noreferrer\">command prompt</a>, then, after it starts running, does it prompt the user to enter a password and wait for the user to enter something? If that is the case, then do you want your Java program to simulate the user entering his password?"},{"owner":{"account_id":24528645,"reputation":11,"user_id":18440953,"display_name":"Bohdan Kyryliuk"},"score":0,"creation_date":1656088576,"post_id":72744314,"comment_id":128494468,"body_markdown":"@Abra I run .bat file by method openBat, then it is waiting while the user enter a password. So method printing should write to the opened .bat file command (in my case password). So, yes, I want that Java will enter password instead of user","body":"@Abra I run .bat file by method openBat, then it is waiting while the user enter a password. So method printing should write to the opened .bat file command (in my case password). So, yes, I want that Java will enter password instead of user"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656100565,"post_id":72744314,"comment_id":128497760,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656137367,"post_id":72744314,"comment_id":128502584,"body_markdown":"It looks to me like you want to launch some application and that application prompts the user to enter a password, for example when you open a password-protected PDF file with [Adobe Acrobat Reader](https://get.adobe.com/reader/). It also looks like you want to first launch the application and then execute a separate [Windows] batch file that simply sends the password to the launched application. I don&#39;t think this is possible. What application are you trying to launch?","body":"It looks to me like you want to launch some application and that application prompts the user to enter a password, for example when you open a password-protected PDF file with <a href=\"https://get.adobe.com/reader/\" rel=\"nofollow noreferrer\">Adobe Acrobat Reader</a>. It also looks like you want to first launch the application and then execute a separate [Windows] batch file that simply sends the password to the launched application. I don&#39;t think this is possible. What application are you trying to launch?"},{"owner":{"account_id":24528645,"reputation":11,"user_id":18440953,"display_name":"Bohdan Kyryliuk"},"score":0,"creation_date":1656181943,"post_id":72744314,"comment_id":128510975,"body_markdown":"@Abra, I’ve created a bat file, and when I open this file it is waiting for the password, that user has to insert. The program I am trying to make should work in the following way:\n1) open this bat file, that is already created\n2) when this bat file is waiting for the user password, my program has to write it instead of student.\nSo it looks like my program opens bat file and at once insert the password here. Just imagine that the user has to write password there, but my program does it instead of user.","body":"@Abra, I’ve created a bat file, and when I open this file it is waiting for the password, that user has to insert. The program I am trying to make should work in the following way: 1) open this bat file, that is already created 2) when this bat file is waiting for the user password, my program has to write it instead of student. So it looks like my program opens bat file and at once insert the password here. Just imagine that the user has to write password there, but my program does it instead of user."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656261784,"creation_date":1656261784,"answer_id":72763430,"question_id":72744314,"body_markdown":"I still don&#39;t think I completely understand your question. If you just want to simulate the user entering a value to a batch file via a java program, then the below code does that.\r\n\r\nFirst I wrote a batch file.\r\n```none\r\n@echo off\r\nset /P pw=\r\necho You entered: %pw%\r\n```\r\nIt simply waits for the user to enter a value and assigns that value to a variable named `pw`. After the user enters the value, the batch file displays the entered value.\r\n\r\nHere is the java code that runs the above batch file and enters a value.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/C&quot;, &quot;getusrpw.bat&quot;);\r\n        try {\r\n            Process p = pb.start(); // throws java.io.IOException\r\n            BufferedReader stdout = p.inputReader();\r\n            BufferedReader stderr = p.errorReader();\r\n            BufferedWriter stdin = p.outputWriter();\r\n            stdin.write(&quot;secret&quot;);\r\n            stdin.newLine();\r\n            stdin.flush();\r\n            String output = stdout.readLine();\r\n            while (output != null) {\r\n                System.out.println(&quot;OUT&gt; &quot; + output);\r\n                output = stdout.readLine();\r\n            }\r\n            String error = stderr.readLine();\r\n            while (error != null) {\r\n                System.out.println(&quot;ERR&gt; &quot; + error);\r\n                error = stderr.readLine();\r\n            }\r\n            int exitStatus = p.waitFor(); // throws java.lang.InterruptedException\r\n            System.out.println(&quot;Process exit status = &quot; + exitStatus);\r\n        }\r\n        catch (InterruptedException | IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n* The name of the batch file is `getusrpw.bat`.\r\n* `stdout` is for reading output generated by the batch file.\r\n* `stderr` is for reading error output. Note that there may be no error output.\r\n* `stdin` is for sending input to the batch file.\r\n* Note that methods `inputReader`, `outputWriter` and `errorReader` were added in JDK 17. If you are using an earlier version, use methods `getInputStream`, `getOutputStream` and `getErrorStream`, respectively.\r\n* The Java program enters the value *secret*.\r\n* The Java program prints the output generated by the batch file.\r\n\r\nWhen I run the above Java code, it produces the following output:\r\n```none\r\nOUT&gt; You entered: secret\r\nProcess exit status = 0\r\n```\r\n","title":"Printing commands to bat/cmd file with Java","body":"<p>I still don't think I completely understand your question. If you just want to simulate the user entering a value to a batch file via a java program, then the below code does that.</p>\n<p>First I wrote a batch file.</p>\n<pre class=\"lang-none prettyprint-override\"><code>@echo off\nset /P pw=\necho You entered: %pw%\n</code></pre>\n<p>It simply waits for the user to enter a value and assigns that value to a variable named <code>pw</code>. After the user enters the value, the batch file displays the entered value.</p>\n<p>Here is the java code that runs the above batch file and enters a value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/C&quot;, &quot;getusrpw.bat&quot;);\n        try {\n            Process p = pb.start(); // throws java.io.IOException\n            BufferedReader stdout = p.inputReader();\n            BufferedReader stderr = p.errorReader();\n            BufferedWriter stdin = p.outputWriter();\n            stdin.write(&quot;secret&quot;);\n            stdin.newLine();\n            stdin.flush();\n            String output = stdout.readLine();\n            while (output != null) {\n                System.out.println(&quot;OUT&gt; &quot; + output);\n                output = stdout.readLine();\n            }\n            String error = stderr.readLine();\n            while (error != null) {\n                System.out.println(&quot;ERR&gt; &quot; + error);\n                error = stderr.readLine();\n            }\n            int exitStatus = p.waitFor(); // throws java.lang.InterruptedException\n            System.out.println(&quot;Process exit status = &quot; + exitStatus);\n        }\n        catch (InterruptedException | IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>The name of the batch file is <code>getusrpw.bat</code>.</li>\n<li><code>stdout</code> is for reading output generated by the batch file.</li>\n<li><code>stderr</code> is for reading error output. Note that there may be no error output.</li>\n<li><code>stdin</code> is for sending input to the batch file.</li>\n<li>Note that methods <code>inputReader</code>, <code>outputWriter</code> and <code>errorReader</code> were added in JDK 17. If you are using an earlier version, use methods <code>getInputStream</code>, <code>getOutputStream</code> and <code>getErrorStream</code>, respectively.</li>\n<li>The Java program enters the value <em>secret</em>.</li>\n<li>The Java program prints the output generated by the batch file.</li>\n</ul>\n<p>When I run the above Java code, it produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OUT&gt; You entered: secret\nProcess exit status = 0\n</code></pre>\n"}],"owner":{"account_id":24528645,"reputation":11,"user_id":18440953,"display_name":"Bohdan Kyryliuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656261784,"creation_date":1656074905,"question_id":72744314,"body_markdown":"How to print commands to bat/cmd file using Java? I have created a method that opens this `bat` file and now the program should write commands to this `bat` file. For instance, I have a string variable &quot;Command&quot; and the program must write this command to `bat` file.\r\n\r\nHere I attach the code.\r\n\r\n    private static void openBat(){\r\n        File file = new File(lockerPath);\r\n        try {\r\n            if (file.exists()) {\r\n                Process pro = Runtime.getRuntime().exec(&quot;rundll32 url.dll,FileProtocolHandler &quot; + lockerPath);\r\n                pro.waitFor();\r\n            } else {\r\n                System.out.println(&quot;file does not exist&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\nThis is the code to open `bat` file, and the next code is to write commands:\r\n\r\n    private static void printing(int password ){\r\n        try {\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, lockerPath);\r\n            Process process = processBuilder.start();\r\n            process.waitFor();\r\n            List&lt;String&gt; commands = new ArrayList&lt;&gt;();\r\n            commands.add(String.valueOf(password));\r\n            processBuilder.command(commands);\r\n        }catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nIt doesn&#39;t write anything to the file.  \r\nI will be very grateful for your help.\r\n\r\n","title":"Printing commands to bat/cmd file with Java","body":"<p>How to print commands to bat/cmd file using Java? I have created a method that opens this <code>bat</code> file and now the program should write commands to this <code>bat</code> file. For instance, I have a string variable &quot;Command&quot; and the program must write this command to <code>bat</code> file.</p>\n<p>Here I attach the code.</p>\n<pre><code>private static void openBat(){\n    File file = new File(lockerPath);\n    try {\n        if (file.exists()) {\n            Process pro = Runtime.getRuntime().exec(&quot;rundll32 url.dll,FileProtocolHandler &quot; + lockerPath);\n            pro.waitFor();\n        } else {\n            System.out.println(&quot;file does not exist&quot;);\n        }\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n<p>This is the code to open <code>bat</code> file, and the next code is to write commands:</p>\n<pre><code>private static void printing(int password ){\n    try {\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/C&quot;, lockerPath);\n        Process process = processBuilder.start();\n        process.waitFor();\n        List&lt;String&gt; commands = new ArrayList&lt;&gt;();\n        commands.add(String.valueOf(password));\n        processBuilder.command(commands);\n    }catch (Exception ex){\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>It doesn't write anything to the file.<br />\nI will be very grateful for your help.</p>\n"},{"tags":["java","splash-screen"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1492101266,"post_id":43397247,"comment_id":73855826,"body_markdown":"I’m afraid there is no other way.  The [SplashScreen documentation](http://docs.oracle.com/javase/8/docs/api/java/awt/SplashScreen.html) doesn’t explicitly mention the `-jar` option (though I read it as implied), but it makes it clear that there are only two ways to initialize the splash image.","body":"I’m afraid there is no other way.  The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/SplashScreen.html\" rel=\"nofollow noreferrer\">SplashScreen documentation</a> doesn’t explicitly mention the <code>-jar</code> option (though I read it as implied), but it makes it clear that there are only two ways to initialize the splash image."}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656260458,"creation_date":1656260458,"answer_id":72763279,"question_id":43397247,"body_markdown":"You can add a `Class-Path` entry to your jar manifest, so you can use the `-jar` option while still finding your dependencies.","title":"Can&#39;t get SplashScreen-Image and classpath to work at the same time","body":"<p>You can add a <code>Class-Path</code> entry to your jar manifest, so you can use the <code>-jar</code> option while still finding your dependencies.</p>\n"}],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72763279,"answer_count":1,"score":2,"last_activity_date":1656260458,"creation_date":1492100385,"question_id":43397247,"body_markdown":"I have the following structure:\r\n\r\n    myapp.jar\r\n    lib/\r\n\r\n`myapp.jar` is an executable jar that includes a splash screen image resource and uses the `SplashScreen-Image` manifest entry.  `lib/` contains a bunch of other jar files.\r\n\r\nIf I run `java -jar myapp.jar`, the splash screen is displayed but (as expected) the program can&#39;t find its dependencies in `lib/`.\r\n\r\nIf I run `java -cp myapp.jar:lib/* mypackage.MainClass`, it finds its dependencies but the splash screen is not shown.  `SplashScreen.getSplashScreen()` returns null.\r\n\r\nIf I run `java -cp myapp.jar:lib/* -splash:images/splash.jpg mypackage.MainClass`, the splash screen still doesn&#39;t work.  Apparently it&#39;s treating `images/splash.jpg` as a relative filesystem path, not a classpath resource.\r\n\r\nTrying to combine `-cp` with `-jar`, i.e., `java -cp myapp.jar:lib/* -jar myapp.jar` behaves exactly like `java -jar myapp.jar`.  `-cp` is apparently ignored with `-jar`.\r\n\r\nIs there any solution besides supplying the splash image separately from the executable jar?","title":"Can&#39;t get SplashScreen-Image and classpath to work at the same time","body":"<p>I have the following structure:</p>\n\n<pre><code>myapp.jar\nlib/\n</code></pre>\n\n<p><code>myapp.jar</code> is an executable jar that includes a splash screen image resource and uses the <code>SplashScreen-Image</code> manifest entry.  <code>lib/</code> contains a bunch of other jar files.</p>\n\n<p>If I run <code>java -jar myapp.jar</code>, the splash screen is displayed but (as expected) the program can't find its dependencies in <code>lib/</code>.</p>\n\n<p>If I run <code>java -cp myapp.jar:lib/* mypackage.MainClass</code>, it finds its dependencies but the splash screen is not shown.  <code>SplashScreen.getSplashScreen()</code> returns null.</p>\n\n<p>If I run <code>java -cp myapp.jar:lib/* -splash:images/splash.jpg mypackage.MainClass</code>, the splash screen still doesn't work.  Apparently it's treating <code>images/splash.jpg</code> as a relative filesystem path, not a classpath resource.</p>\n\n<p>Trying to combine <code>-cp</code> with <code>-jar</code>, i.e., <code>java -cp myapp.jar:lib/* -jar myapp.jar</code> behaves exactly like <code>java -jar myapp.jar</code>.  <code>-cp</code> is apparently ignored with <code>-jar</code>.</p>\n\n<p>Is there any solution besides supplying the splash image separately from the executable jar?</p>\n"},{"tags":["java","recursion","backtracking","recursive-backtracking","coin-change"],"comments":[{"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"score":0,"creation_date":1654770364,"post_id":72558190,"comment_id":128173454,"body_markdown":"I&#39;m either overlooking something or your code does not generate a tree structure, but rather a list with coin values, without a way to distinct between &#39;branches&#39;. I&#39;d suggest generating an actual tree (List of Lists or see https://stackoverflow.com/questions/3522454/how-to-implement-a-tree-data-structure-in-java). After that &#39;just&#39; count the number of coins in each solution and take the lowest coin amount as the best solution (maybe multiple solutions).","body":"I&#39;m either overlooking something or your code does not generate a tree structure, but rather a list with coin values, without a way to distinct between &#39;branches&#39;. I&#39;d suggest generating an actual tree (List of Lists or see <a href=\"https://stackoverflow.com/questions/3522454/how-to-implement-a-tree-data-structure-in-java\" title=\"how to implement a tree data structure in java\">stackoverflow.com/questions/3522454/&hellip;</a>). After that &#39;just&#39; count the number of coins in each solution and take the lowest coin amount as the best solution (maybe multiple solutions)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1654770968,"post_id":72558190,"comment_id":128173666,"body_markdown":"What do you mean by saying *optimal combination*? What are the criteria?","body":"What do you mean by saying <i>optimal combination</i>? What are the criteria?"},{"owner":{"account_id":25334690,"reputation":43,"user_id":19154007,"display_name":"Mar"},"score":0,"creation_date":1654772032,"post_id":72558190,"comment_id":128174021,"body_markdown":"@AlexanderIvanchenko Shortest possible list of coin values. For instance, if the amount is 5, the optimal combination would be 3+2, not 3+1+1 or 2+1+1+1 or 1+1+1+1+1.","body":"@AlexanderIvanchenko Shortest possible list of coin values. For instance, if the amount is 5, the optimal combination would be 3+2, not 3+1+1 or 2+1+1+1 or 1+1+1+1+1."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1656516598,"post_id":72558190,"comment_id":128593615,"body_markdown":"Ah yes, with the coins `{5,4,1}`  and the target value of 8 the optimal solution is 4+4, but the greedy algorithm will find 5+1+1+1 first.","body":"Ah yes, with the coins <code>{5,4,1}</code>  and the target value of 8 the optimal solution is 4+4, but the greedy algorithm will find 5+1+1+1 first."}],"owner":{"account_id":25334690,"reputation":43,"user_id":19154007,"display_name":"Mar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656260429,"creation_date":1654768195,"question_id":72558190,"body_markdown":"I&#39;m trying to solve the &quot;Coin Change Problem&quot; by implementing a recursive backtracking algorithm which will analyze all possible outcomes and show the optimal combination of coins. Unfortunately, I have no idea how I can compare the different branches of the tree diagram that is being created. Any idea?\r\n\r\n```\r\npublic class CoinChange_Backtracking {\r\n\t\t\r\n\tstatic int[] coins = {3, 2, 1};\r\n\tstatic int amount = 3;\r\n\tstatic int index_coins = 0;\r\n\tstatic LinkedList ll = new LinkedList();\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//Start Recursion and display result.\r\n\t\tll = recursiveFunction(coins, amount, index_coins, ll);\r\n\t\tll.print();\r\n\t}\r\n\r\n\t\r\n\tpublic static LinkedList recursiveFunction(int[] coins, int amount, int index_coins, LinkedList ll) {\r\n\t\t//The current coin is being omitted. (If index_coins + 1 is still within range.)\r\n\t\tif ((index_coins + 1) &lt; coins.length) {\r\n\t\t\trecursiveFunction(coins, amount, index_coins + 1, ll);\r\n\t\t}\r\n\t\t\r\n\t\t//The current coin is not being omitted. (If there is still some change left and value of change isn&#39;t lower than value of current coin.)\r\n\t\tif (amount != 0) {\r\n            if (amount &gt;= coins[index_coins]) {\r\n\t\t\t\tll.add(coins[index_coins]);\r\n\t\t\t\tll = recursiveFunction(coins, amount - coins[index_coins], index_coins, ll);\r\n            }\r\n\t\t}\r\n\t\treturn ll;\r\n\t}\r\n}\r\n```","title":"Recursive backtracking algorithm for the &#39;coin change problem&#39;","body":"<p>I'm trying to solve the &quot;Coin Change Problem&quot; by implementing a recursive backtracking algorithm which will analyze all possible outcomes and show the optimal combination of coins. Unfortunately, I have no idea how I can compare the different branches of the tree diagram that is being created. Any idea?</p>\n<pre><code>public class CoinChange_Backtracking {\n        \n    static int[] coins = {3, 2, 1};\n    static int amount = 3;\n    static int index_coins = 0;\n    static LinkedList ll = new LinkedList();\n    \n    \n    public static void main(String[] args) {\n        //Start Recursion and display result.\n        ll = recursiveFunction(coins, amount, index_coins, ll);\n        ll.print();\n    }\n\n    \n    public static LinkedList recursiveFunction(int[] coins, int amount, int index_coins, LinkedList ll) {\n        //The current coin is being omitted. (If index_coins + 1 is still within range.)\n        if ((index_coins + 1) &lt; coins.length) {\n            recursiveFunction(coins, amount, index_coins + 1, ll);\n        }\n        \n        //The current coin is not being omitted. (If there is still some change left and value of change isn't lower than value of current coin.)\n        if (amount != 0) {\n            if (amount &gt;= coins[index_coins]) {\n                ll.add(coins[index_coins]);\n                ll = recursiveFunction(coins, amount - coins[index_coins], index_coins, ll);\n            }\n        }\n        return ll;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","rest","http-status-code-415"],"comments":[{"owner":{"account_id":3809738,"reputation":673,"user_id":3161062,"accept_rate":50,"display_name":"jojo_Berlin"},"score":0,"creation_date":1656241161,"post_id":72758913,"comment_id":128518977,"body_markdown":"what media/type do you send in the header ? :)","body":"what media/type do you send in the header ? :)"}],"answers":[{"tags":[],"owner":{"account_id":25331664,"reputation":14,"user_id":19419803,"display_name":"Niko Aneli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656247049,"creation_date":1656247049,"answer_id":72761670,"question_id":72758913,"body_markdown":"the problem is this line\r\n\r\n@PostMapping(value = &quot;/director&quot;, consumes = {&quot;*/*&quot;})\r\n when i tried to recreate your situation it went on internal error you should either remove &quot;consumes&quot; entirely or write application/json in it and write that in postman as well","title":"Http status 415 Unsupported Media type error with JSON POST","body":"<p>the problem is this line</p>\n<p>@PostMapping(value = &quot;/director&quot;, consumes = {&quot;<em>/</em>&quot;})\nwhen i tried to recreate your situation it went on internal error you should either remove &quot;consumes&quot; entirely or write application/json in it and write that in postman as well</p>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656260360,"creation_date":1656260360,"answer_id":72763267,"question_id":72758913,"body_markdown":"Try `consumes=&quot;application/*&quot;`\r\n\r\nI&#39;ll prefer to define cosumers data type using \r\n\r\n`cosumes = MediaType.APPLICATION_JSON`\r\n\r\nor if it&#39;s support multiple type like json and XML by define:\r\n\r\n  `consumes = {MediaType.APPLICATION_JSON, MediaType.APPLICATION_JSON_VALUE}`. \r\n\r\nSee more examples from [spring documentation][1]. \r\n\r\n\r\nAlso, it&#39;s good practice to return HTTP status code 201 with a body on the successful creation of a resource (Director). The body can be information returned to the client back like id etc. Like \r\n\r\n`return new ResponseEntity.status(HttpStatus.CREATED).build()` \r\n\r\nor with body \r\n\r\n`return new ResponseEntity.status(HttpStatus.CREATED).body(/** your response object here **/).build()` \r\n\r\nMake sure add `produces` annotation just `consumes` on method `addDirector`.\r\n\r\nHere is [ResponseEntity][2] and [MediaType][3] documentation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#consumes\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html","title":"Http status 415 Unsupported Media type error with JSON POST","body":"<p>Try <code>consumes=&quot;application/*&quot;</code></p>\n<p>I'll prefer to define cosumers data type using</p>\n<p><code>cosumes = MediaType.APPLICATION_JSON</code></p>\n<p>or if it's support multiple type like json and XML by define:</p>\n<p><code>consumes = {MediaType.APPLICATION_JSON, MediaType.APPLICATION_JSON_VALUE}</code>.</p>\n<p>See more examples from <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#consumes\" rel=\"nofollow noreferrer\">spring documentation</a>.</p>\n<p>Also, it's good practice to return HTTP status code 201 with a body on the successful creation of a resource (Director). The body can be information returned to the client back like id etc. Like</p>\n<p><code>return new ResponseEntity.status(HttpStatus.CREATED).build()</code></p>\n<p>or with body</p>\n<p><code>return new ResponseEntity.status(HttpStatus.CREATED).body(/** your response object here **/).build()</code></p>\n<p>Make sure add <code>produces</code> annotation just <code>consumes</code> on method <code>addDirector</code>.</p>\n<p>Here is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">ResponseEntity</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"nofollow noreferrer\">MediaType</a> documentation.</p>\n"}],"owner":{"account_id":25650483,"reputation":21,"user_id":19417796,"display_name":"IStyped"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656260360,"creation_date":1656218015,"question_id":72758913,"body_markdown":"I get the HTTP 415 Unsupported Media Type error when I try to send a POST request to the server. `Content-Type: application/json` does not solve the problem. The get method works fine. I understand that it may be a matter of ManyToOne dependency, but I can&#39;t decide how to write a request.\r\n\r\nEnity class:\r\n```java\r\n    @Entity\r\n    @Table(name = &quot;director&quot;)\r\n    @Data\r\n    public class Director {\r\n        @Id\r\n        @Column\r\n        private int id;\r\n    \r\n        @Column\r\n        private String name;\r\n    \r\n        @Column\r\n        private String surname;\r\n    \r\n        @Column\r\n        private String post;\r\n    \r\n        @Column\r\n        private int numberPhone;\r\n    \r\n        @OneToMany(mappedBy = &quot;directorFromProjectActivities&quot;)\r\n        @JsonManagedReference\r\n        private List&lt;ProjectActivities&gt; projectActivitiesList;\r\n```\r\nRestController:\r\n```java\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class RestControllerDirector {\r\n    import org.example.dao.IDao;\r\n    import org.example.entity.Director;\r\n    import org.example.services.IService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import java.util.List;\r\n        @PostMapping(value = &quot;/director&quot;, consumes = {&quot;*/*&quot;})\r\n        public void addDirector(@RequestBody Director director){\r\n            dao.add(director);\r\n        }\r\n    }\r\n```\r\nJSON I&#39;m sending a postman:\r\n```json\r\n    {\r\n        &quot;id&quot;: 100,\r\n        &quot;name&quot;: &quot;Alex&quot;,\r\n        &quot;surname&quot;: &quot;Round&quot;,\r\n        &quot;post&quot;: &quot;HR&quot;,\r\n        &quot;numberPhone&quot;: 82171788\r\n    }\r\n```\r\ndependence jackson:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow is it possible to solve this problem?","title":"Http status 415 Unsupported Media type error with JSON POST","body":"<p>I get the HTTP 415 Unsupported Media Type error when I try to send a POST request to the server. <code>Content-Type: application/json</code> does not solve the problem. The get method works fine. I understand that it may be a matter of ManyToOne dependency, but I can't decide how to write a request.</p>\n<p>Enity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name = &quot;director&quot;)\n    @Data\n    public class Director {\n        @Id\n        @Column\n        private int id;\n    \n        @Column\n        private String name;\n    \n        @Column\n        private String surname;\n    \n        @Column\n        private String post;\n    \n        @Column\n        private int numberPhone;\n    \n        @OneToMany(mappedBy = &quot;directorFromProjectActivities&quot;)\n        @JsonManagedReference\n        private List&lt;ProjectActivities&gt; projectActivitiesList;\n</code></pre>\n<p>RestController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RestController\n    @RequestMapping(&quot;/api&quot;)\n    public class RestControllerDirector {\n    import org.example.dao.IDao;\n    import org.example.entity.Director;\n    import org.example.services.IService;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.web.bind.annotation.*;\n    import java.util.List;\n        @PostMapping(value = &quot;/director&quot;, consumes = {&quot;*/*&quot;})\n        public void addDirector(@RequestBody Director director){\n            dao.add(director);\n        }\n    }\n</code></pre>\n<p>JSON I'm sending a postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;id&quot;: 100,\n        &quot;name&quot;: &quot;Alex&quot;,\n        &quot;surname&quot;: &quot;Round&quot;,\n        &quot;post&quot;: &quot;HR&quot;,\n        &quot;numberPhone&quot;: 82171788\n    }\n</code></pre>\n<p>dependence jackson:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n  &lt;version&gt;2.13.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How is it possible to solve this problem?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656260169,"creation_date":1656260169,"answer_id":72763247,"question_id":72755689,"body_markdown":"I finally were able to solve this after being inspired by some Googling. It do indeed seem that getting the session bean from the SessionAuthentication class that implement the permissionEvaluator does not work. \r\n\r\nHowever, what did work was injecting the session bean into the class that created the class with the permissionEvaluator interface like this: \r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n    public class SessionSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n    \r\n        @Resource(name = &quot;returnSession&quot;)\r\n        Session mainsession;\r\n        \r\n        @Override  \r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            DefaultMethodSecurityExpressionHandler expressionHandler = \r\n              new DefaultMethodSecurityExpressionHandler();\r\n            expressionHandler.setPermissionEvaluator(new SessionAuthentication(this.mainsession));\r\n            return expressionHandler;\r\n        }\r\n    }\r\n\r\n\r\nAnd then changing the code from above to this: \r\n\r\n    public class SessionAuthentication implements PermissionEvaluator{\r\n        \r\n        private Session session;\r\n        \r\n        public SessionAuthentication(Session session){\r\n            this.session = session;\r\n        }\r\n\r\nAnd this works totally fine. ","title":"Problem injecting Session Bean into PermissionEvaluator","body":"<p>I finally were able to solve this after being inspired by some Googling. It do indeed seem that getting the session bean from the SessionAuthentication class that implement the permissionEvaluator does not work.</p>\n<p>However, what did work was injecting the session bean into the class that created the class with the permissionEvaluator interface like this:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SessionSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n\n    @Resource(name = &quot;returnSession&quot;)\n    Session mainsession;\n    \n    @Override  \n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        DefaultMethodSecurityExpressionHandler expressionHandler = \n          new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(new SessionAuthentication(this.mainsession));\n        return expressionHandler;\n    }\n}\n</code></pre>\n<p>And then changing the code from above to this:</p>\n<pre><code>public class SessionAuthentication implements PermissionEvaluator{\n    \n    private Session session;\n    \n    public SessionAuthentication(Session session){\n        this.session = session;\n    }\n</code></pre>\n<p>And this works totally fine.</p>\n"}],"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656260169,"creation_date":1656175832,"question_id":72755689,"body_markdown":"I have a setup for detailed authorization where I get a session bean to check if a user is logged in. This however do not seem to work, as the session bean become null, even if doing the same way have worked fine in other classes. \r\nI want to access a Session Bean in the follow class: \r\n\r\n```\r\npackage spring.boardgame.registerboardgame.session;\r\n\r\nimport org.springframework.security.access.PermissionEvaluator;\r\nimport org.springframework.security.access.expression.DenyAllPermissionEvaluator;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport java.io.Serializable;\r\nimport java.util.Map;\r\nimport javax.annotation.Resource;\r\n\r\n\r\npublic class SessionAuthentication implements PermissionEvaluator{\r\n    \r\n    @Resource(name = &quot;returnSession&quot;)\r\n    Session session;\r\n    \r\n    @Override\r\n    public boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\r\n        System.out.println(&quot;evaluating lower&quot;);\r\n        if(this.session == null || this.session.getUser() == null){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission) {\r\n        System.out.println(&quot;evaluating even lower&quot;);\r\n        if(this.session == null || this.session.getUser() == null){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThis work totally fine in &quot;normal&quot; classes, so what do I do wrong here?\r\nThe Beans are initiated here: \r\n\r\n```\r\npackage spring.boardgame.registerboardgame.session;\r\n\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n\r\n\r\n@Configuration\r\npublic class SessionConfiguration {\r\n    @Bean\r\n    public Session returnSession() {\r\n        return new Session();\r\n    }\r\n}\r\n\r\n```","title":"Problem injecting Session Bean into PermissionEvaluator","body":"<p>I have a setup for detailed authorization where I get a session bean to check if a user is logged in. This however do not seem to work, as the session bean become null, even if doing the same way have worked fine in other classes.\nI want to access a Session Bean in the follow class:</p>\n<pre><code>package spring.boardgame.registerboardgame.session;\n\nimport org.springframework.security.access.PermissionEvaluator;\nimport org.springframework.security.access.expression.DenyAllPermissionEvaluator;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport java.io.Serializable;\nimport java.util.Map;\nimport javax.annotation.Resource;\n\n\npublic class SessionAuthentication implements PermissionEvaluator{\n    \n    @Resource(name = &quot;returnSession&quot;)\n    Session session;\n    \n    @Override\n    public boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\n        System.out.println(&quot;evaluating lower&quot;);\n        if(this.session == null || this.session.getUser() == null){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    \n    @Override\n    public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission) {\n        System.out.println(&quot;evaluating even lower&quot;);\n        if(this.session == null || this.session.getUser() == null){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    \n}\n</code></pre>\n<p>This work totally fine in &quot;normal&quot; classes, so what do I do wrong here?\nThe Beans are initiated here:</p>\n<pre><code>package spring.boardgame.registerboardgame.session;\n\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n\n@Configuration\npublic class SessionConfiguration {\n    @Bean\n    public Session returnSession() {\n        return new Session();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","runtime-error","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1656260426,"post_id":72763095,"comment_id":128523188,"body_markdown":"That stack trace is not from Java 8 as it includes the &#39;java.base&#39; module - which means it is Java 9 or later. The InaccessibleObjectException is also Java 9 or later.","body":"That stack trace is not from Java 8 as it includes the &#39;java.base&#39; module - which means it is Java 9 or later. The InaccessibleObjectException is also Java 9 or later."},{"owner":{"account_id":6404691,"reputation":1890,"user_id":7760910,"accept_rate":73,"display_name":"whatsinthename"},"score":0,"creation_date":1677262432,"post_id":72763095,"comment_id":133309686,"body_markdown":"You are using either two java versions or `&gt;11`","body":"You are using either two java versions or <code>&gt;11</code>"}],"answers":[{"tags":[],"owner":{"account_id":8941573,"reputation":39,"user_id":6670412,"display_name":"Xianxun Ye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656260033,"creation_date":1656260033,"answer_id":72763225,"question_id":72763095,"body_markdown":"What is the flink version? \r\n\r\nBeginning from flink1.15, the support of Java 8 is now deprecated and removed (FLINK-25247). The Flink community recommends all users migrate to Java 11.","title":"Getting error in the .print() of Flink in java in eclipse","body":"<p>What is the flink version?</p>\n<p>Beginning from flink1.15, the support of Java 8 is now deprecated and removed (FLINK-25247). The Flink community recommends all users migrate to Java 11.</p>\n"}],"owner":{"account_id":25653881,"reputation":1,"user_id":19420681,"display_name":"Sakshi Bhatia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656260033,"creation_date":1656259036,"question_id":72763095,"body_markdown":"While trying to execute a basic Flink program in eclipse, I&#39;m getting error due to .print() called by datastream_name.print() for printing my datastream.\r\n\r\n*using Java8*\r\n\r\nERROR\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private final byte[] java.lang.String.value accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @776aec5c\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:106)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:69)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.clean(StreamExecutionEnvironment.java:2139)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.clean(DataStream.java:203)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.addSink(DataStream.java:1243)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.writeUsingOutputFormat(DataStream.java:1144)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.writeAsText(DataStream.java:1004)\r\n\tat orgname.testProjectFlink.App.main(App.java:19)\r\n```\r\n\r\n","title":"Getting error in the .print() of Flink in java in eclipse","body":"<p>While trying to execute a basic Flink program in eclipse, I'm getting error due to .print() called by datastream_name.print() for printing my datastream.</p>\n<p><em>using Java8</em></p>\n<p>ERROR</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make field private final byte[] java.lang.String.value accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @776aec5c\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:106)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:132)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:69)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.clean(StreamExecutionEnvironment.java:2139)\n    at org.apache.flink.streaming.api.datastream.DataStream.clean(DataStream.java:203)\n    at org.apache.flink.streaming.api.datastream.DataStream.addSink(DataStream.java:1243)\n    at org.apache.flink.streaming.api.datastream.DataStream.writeUsingOutputFormat(DataStream.java:1144)\n    at org.apache.flink.streaming.api.datastream.DataStream.writeAsText(DataStream.java:1004)\n    at orgname.testProjectFlink.App.main(App.java:19)\n</code></pre>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":0,"creation_date":1656260060,"post_id":72763176,"comment_id":128523112,"body_markdown":"I think you’re complicating things for yourself. Try to rethink the structure of your code. Avoid inheriting behavior. Try to use composition instead. See this question: https://stackoverflow.com/q/49002/11451","body":"I think you’re complicating things for yourself. Try to rethink the structure of your code. Avoid inheriting behavior. Try to use composition instead. See this question: <a href=\"https://stackoverflow.com/q/49002/11451\">stackoverflow.com/q/49002/11451</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1656260084,"post_id":72763176,"comment_id":128523116,"body_markdown":"No, the JLS clearly states that an implementation inherited from a parent class will always &quot;win&quot; over a default interface methods. That&#39;s also why default methods for `equals`, `hashCode` and `toString` aren&#39;t possible.","body":"No, the JLS clearly states that an implementation inherited from a parent class will always &quot;win&quot; over a default interface methods. That&#39;s also why default methods for <code>equals</code>, <code>hashCode</code> and <code>toString</code> aren&#39;t possible."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656260880,"post_id":72763176,"comment_id":128523302,"body_markdown":"You might reasonably make a new subtype of ParentClass that is a subinterface of ParentInterface, do all the super. logic there, and subclass that instead of ParentClass.","body":"You might reasonably make a new subtype of ParentClass that is a subinterface of ParentInterface, do all the super. logic there, and subclass that instead of ParentClass."}],"owner":{"account_id":22365058,"reputation":49,"user_id":16580991,"display_name":"willkroboth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656259662,"creation_date":1656259662,"question_id":72763176,"body_markdown":"I have a class that extends another class and implements an interface. The parent interface has a default method with the same signature as a method in the parent class, like below.\r\n```java\r\nclass ParentClass {\r\n    public void doSomething(){\r\n        System.out.println(&quot;Class method called&quot;);\r\n    }\r\n}\r\n\r\ninterface ParentInterface {\r\n    default void doSomething(){\r\n        System.out.println(&quot;Interface method called&quot;);\r\n    }\r\n}\r\n\r\nclass Child extends ParentClass implements ParentInterface {\r\n\r\n}\r\n```\r\nAt the moment, when `doSomething()` is called on an instance of the `Child` class, the version of the method from the parent class is run (Printing `&quot;Class method called&quot;`). However, I want the `Child` class to use the version of the method defined in the parent interface (Printing `&quot;Interface method called&quot;`). \r\n\r\nOne way to do this is to override the `doSomething()` in the `Child` class and tell it to choose `ParentInterface.super.doSomething()` like so:\r\n```java\r\nclass Child extends ParentClass implements ParentInterface {\r\n    public void doSomething() {\r\n        ParentInterface.super.doSomething();\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, I have a lot of methods in `ParentInterface` and a lot of classes that implement `ParentInterface` and extend various classes that have their own version of the methods of `ParentInterface`. I&#39;ve been very confused by some bugs because I was assuming a method call was going to `ParentInterface` when it was actually going to the parent class. In all cases, I would prefer if the default methods defined in the interface were always chosen over their corresponding methods from the class.\r\n\r\nIs there some way that I can make my child classes default to using `ParentInterface`&#39;s methods without having to override each conflicting method in the child class?","title":"Java: Is there a way to make a parent interface&#39;s default methods override a parent class&#39;s methods automatically in a child class?","body":"<p>I have a class that extends another class and implements an interface. The parent interface has a default method with the same signature as a method in the parent class, like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ParentClass {\n    public void doSomething(){\n        System.out.println(&quot;Class method called&quot;);\n    }\n}\n\ninterface ParentInterface {\n    default void doSomething(){\n        System.out.println(&quot;Interface method called&quot;);\n    }\n}\n\nclass Child extends ParentClass implements ParentInterface {\n\n}\n</code></pre>\n<p>At the moment, when <code>doSomething()</code> is called on an instance of the <code>Child</code> class, the version of the method from the parent class is run (Printing <code>&quot;Class method called&quot;</code>). However, I want the <code>Child</code> class to use the version of the method defined in the parent interface (Printing <code>&quot;Interface method called&quot;</code>).</p>\n<p>One way to do this is to override the <code>doSomething()</code> in the <code>Child</code> class and tell it to choose <code>ParentInterface.super.doSomething()</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Child extends ParentClass implements ParentInterface {\n    public void doSomething() {\n        ParentInterface.super.doSomething();\n    }\n}\n</code></pre>\n<p>Unfortunately, I have a lot of methods in <code>ParentInterface</code> and a lot of classes that implement <code>ParentInterface</code> and extend various classes that have their own version of the methods of <code>ParentInterface</code>. I've been very confused by some bugs because I was assuming a method call was going to <code>ParentInterface</code> when it was actually going to the parent class. In all cases, I would prefer if the default methods defined in the interface were always chosen over their corresponding methods from the class.</p>\n<p>Is there some way that I can make my child classes default to using <code>ParentInterface</code>'s methods without having to override each conflicting method in the child class?</p>\n"},{"tags":["python","java","python-3.x","kivy","android-gps"],"answers":[{"tags":[],"owner":{"account_id":23959045,"reputation":49,"user_id":17949437,"display_name":"Chorche Wolloh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656258875,"creation_date":1656258875,"answer_id":72763072,"question_id":72734309,"body_markdown":"So after looking through Kivy Discord server (which I recommend to anyone who&#39;s using Kivy), I&#39;ve found out that solution with using plyer-s fork version from HyTurtle is working.\r\n\r\nTo do so, for anyone who&#39;s struggling with the same issue, add this master link to buildozer requirments - https://github.com/HyTurtle/plyer/archive/master.zip like that \r\n```\r\nrequirements = python3,kivy, https://github.com/HyTurtle/plyer/archive/master.zip\r\n```\r\n\r\nAnd dont forget to run &#39;buildozer -v android clean&#39; command to remove previously installed plyer version if you had one.\r\n\r\nWhoohoo!","title":"Issues with Plyers GPS module on Android 12 device","body":"<p>So after looking through Kivy Discord server (which I recommend to anyone who's using Kivy), I've found out that solution with using plyer-s fork version from HyTurtle is working.</p>\n<p>To do so, for anyone who's struggling with the same issue, add this master link to buildozer requirments - <a href=\"https://github.com/HyTurtle/plyer/archive/master.zip\" rel=\"nofollow noreferrer\">https://github.com/HyTurtle/plyer/archive/master.zip</a> like that</p>\n<pre><code>requirements = python3,kivy, https://github.com/HyTurtle/plyer/archive/master.zip\n</code></pre>\n<p>And dont forget to run 'buildozer -v android clean' command to remove previously installed plyer version if you had one.</p>\n<p>Whoohoo!</p>\n"}],"owner":{"account_id":23959045,"reputation":49,"user_id":17949437,"display_name":"Chorche Wolloh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72763072,"answer_count":1,"score":2,"last_activity_date":1656258875,"creation_date":1656005278,"question_id":72734309,"body_markdown":"I&#39;ve been having issues with Plyers GPS module, and cannot fix them. I&#39;ve already tried advices from this Github thread - https://github.com/kivy/plyer/issues/657. I&#39;ve tried modifying gps.py with  changes from a pull-request, tried requesting both permissions in a single runtime request (not sure if I did that correctly), tried adding Support Compat 28.0.0 in buildozer specs, as well as the aar file in the app directory as well.\r\n\r\nNot only that, but I&#39;ve also tried some advices from this blog post - https://www.msale.com/blog-2/2019/8/10/technology-at-msale-tips-amp-tricks-part-2-kivy-runtime-permissions-on-android and added two methods to check and grant required permissions.\r\n\r\nNothing seems to work, and I&#39;m kind of lost here.\r\n\r\nHere&#39;s my main.py code:\r\n```\r\nfrom kivy.app import App\r\nfrom kivy.lang import Builder\r\nfrom plyer import gps\r\nfrom permissions.location import check_permission, ask_permission\r\n\r\n    Button:\r\n        text: &quot;Request ACCESS_FINE_LOCATION&quot;\r\n        on_release: \r\n            app.request_location_permission()\r\n    Button:\r\n        text: &#39;Start GPS&#39;\r\n        on_press: app.start_gps()\r\n    Button:\r\n        text: &#39;Stop GPS&#39;\r\n        on_press: app.stop_gps()\r\n    Label:\r\n        id: label\r\n        text: &#39;&#39;\r\n&#39;&#39;&#39;\r\n\r\nclass TestApp(App):\r\n\r\n    bg_gps = &#39;&#39;\r\n\r\n    def set_coordinates(self, **kwargs):\r\n        # self.root.ids.label.text = f&#39;lat: {kwargs[&quot;lat&quot;]}, lon: #{kwargs[&quot;lon&quot;]},&#39;\r\n        print(kwargs)\r\n        print(&#39;SET_COORDINATES IS WORKING&#39;)\r\n\r\n    def on_start(self):\r\n        gps.configure(on_location=self.set_coordinates)\r\n        print(&#39;GPS configured on START&#39;)\r\n        gps.start()\r\n        print(&#39;GPS started on START&#39;)\r\n\r\n    def start_gps(self):\r\n        gps.configure(on_location=self.set_coordinates)\r\n        print(&#39;GPS configured&#39;)\r\n        gps.start()\r\n        print(&#39;GPS started&#39;)\r\n\r\n    def stop_gps(self):\r\n        gps.stop()\r\n        print(&#39;STOPPED&#39;)\r\n        \r\n    def check_location_permission(self):\r\n        check_permission(&quot;android.permission.ACCESS_FINE_LOCATION&quot;)\r\n        check_permission(&quot;android.permission.ACCESS_COARSE_LOCATION&quot;)\r\n\r\n    def request_location_permission(self):\r\n        ask_permission(&quot;android.permission.ACCESS_FINE_LOCATION&quot;)\r\n        ask_permission(&quot;android.permission.ACCESS_COARSE_LOCATION&quot;)\r\n\r\n    def build(self):\r\n        return Builder.load_string(KV)\r\n\r\n\r\nTestApp().run()\r\n```\r\n\r\nHere&#39;s content of location.py: \r\n```\r\nfrom jnius import autoclass\r\nfrom kivy.logger import Logger\r\n\r\nPythonActivity = autoclass(&quot;org.kivy.android.PythonActivity&quot;).mActivity\r\nContext = autoclass(&#39;android.content.Context&#39;)\r\nContextCompat = autoclass(&#39;android.support.v4.content.ContextCompat&#39;)\r\n\r\ndef check_permission(permission, activity=PythonActivity):\r\n    permission_status = ContextCompat.checkSelfPermission(activity, permission)\r\n    Logger.info(permission_status)\r\n    permission_granted = 0 == permission_status\r\n    Logger.info(&quot;Permission Status: {}&quot;.format(permission_granted))\r\n    return permission_granted\r\n\r\ndef ask_permission(permission, activity=PythonActivity):\r\n    PythonActivity.requestPermissions([permission])\r\n```\r\n\r\nHere&#39;s my buildozer spec file (I&#39;ve tried changing android.api from 31 to 28 and others with no result):\r\n```\r\n[app]\r\n\r\n# (str) Title of your application\r\ntitle = TestApp\r\n\r\n# (str) Package name\r\npackage.name = myapp\r\n\r\n# (str) Package domain (needed for android/ios packaging)\r\npackage.domain = org.test\r\n\r\n# (str) Source code where the main.py live\r\nsource.dir = .\r\n\r\n# (list) Source files to include (let empty to include all the files)\r\nsource.include_exts = py,png,jpg,kv,atlas\r\n\r\n# (list) List of inclusions using pattern matching\r\n#source.include_patterns = assets/*,images/*.png\r\n\r\n# (list) Source files to exclude (let empty to not exclude anything)\r\n#source.exclude_exts = spec\r\n\r\n# (list) List of directory to exclude (let empty to not exclude anything)\r\n#source.exclude_dirs = tests, bin, venv\r\n\r\n# (list) List of exclusions using pattern matching\r\n# Do not prefix with &#39;./&#39;\r\n#source.exclude_patterns = license,images/*/*.jpg\r\n\r\n# (str) Application versioning (method 1)\r\nversion = 0.1\r\n\r\n# (str) Application versioning (method 2)\r\n# version.regex = __version__ = [&#39;&quot;](.*)[&#39;&quot;]\r\n# version.filename = %(source.dir)s/main.py\r\n\r\n# (list) Application requirements\r\n# comma separated e.g. requirements = sqlite3,kivy\r\nrequirements = python3,kivy,plyer,jnius\r\n\r\n# (str) Custom source folders for requirements\r\n# Sets custom source for any requirements with recipes\r\n# requirements.source.kivy = ../../kivy\r\n\r\n# (str) Presplash of the application\r\n#presplash.filename = %(source.dir)s/data/presplash.png\r\n\r\n# (str) Icon of the application\r\n#icon.filename = %(source.dir)s/data/icon.png\r\n\r\n# (str) Supported orientation (one of landscape, sensorLandscape, portrait or all)\r\norientation = portrait\r\n\r\n# (list) List of service to declare\r\n#services = NAME:ENTRYPOINT_TO_PY,NAME2:ENTRYPOINT2_TO_PY\r\n\r\n#\r\n# OSX Specific\r\n#\r\n\r\n#\r\n# author = &#169; Copyright Info\r\n\r\n# change the major version of python used by the app\r\nosx.python_version = 3.7.3\r\n\r\n# Kivy version to use\r\nosx.kivy_version = 2.1.0\r\n\r\n#\r\n# Android specific\r\n#\r\n\r\n# (bool) Indicate if the application should be fullscreen or not\r\nfullscreen = 0\r\n\r\n# (string) Presplash background color (for android toolchain)\r\n# Supported formats are: #RRGGBB #AARRGGBB or one of the following names:\r\n# red, blue, green, black, white, gray, cyan, magenta, yellow, lightgray,\r\n# darkgray, grey, lightgrey, darkgrey, aqua, fuchsia, lime, maroon, navy,\r\n# olive, purple, silver, teal.\r\n#android.presplash_color = #FFFFFF\r\n\r\n# (string) Presplash animation using Lottie format.\r\n# see https://lottiefiles.com/ for examples and https://airbnb.design/lottie/\r\n# for general documentation.\r\n# Lottie files can be created using various tools, like Adobe After Effect or Synfig.\r\n#android.presplash_lottie = &quot;path/to/lottie/file.json&quot;\r\n\r\n# (str) Adaptive icon of the application (used if Android API level is 26+ at runtime)\r\n#icon.adaptive_foreground.filename = %(source.dir)s/data/icon_fg.png\r\n#icon.adaptive_background.filename = %(source.dir)s/data/icon_bg.png\r\n\r\n# (list) Permissions\r\nandroid.permissions = INTERNET,ACCESS_FINE_LOCATION,ACCESS_COARSE_LOCATION\r\n\r\n# (list) features (adds uses-feature -tags to manifest)\r\n#android.features = android.hardware.usb.host\r\n\r\n# (int) Target Android API, should be as high as possible.\r\nandroid.api = 31\r\n\r\n# (int) Minimum API your APK / AAB will support.\r\n#android.minapi = 21\r\n\r\n# (int) Android SDK version to use\r\n#android.sdk = 20\r\n\r\n# (str) Android NDK version to use\r\n#android.ndk = 19b\r\n\r\n# (int) Android NDK API to use. This is the minimum API your app will support, it should usually match android.minapi.\r\n#android.ndk_api = 21\r\n\r\n# (bool) Use --private data storage (True) or --dir public storage (False)\r\n#android.private_storage = True\r\n\r\n# (str) Android NDK directory (if empty, it will be automatically downloaded.)\r\n#android.ndk_path =\r\n\r\n# (str) Android SDK directory (if empty, it will be automatically downloaded.)\r\n#android.sdk_path =\r\n\r\n# (str) ANT directory (if empty, it will be automatically downloaded.)\r\n#android.ant_path =\r\n\r\n# (bool) If True, then skip trying to update the Android sdk\r\n# This can be useful to avoid excess Internet downloads or save time\r\n# when an update is due and you just want to test/build your package\r\n# android.skip_update = False\r\n\r\n# (bool) If True, then automatically accept SDK license\r\n# agreements. This is intended for automation only. If set to False,\r\n# the default, you will be shown the license when first running\r\n# buildozer.\r\n# android.accept_sdk_license = False\r\n\r\n# (str) Android entry point, default is ok for Kivy-based app\r\n#android.entrypoint = org.kivy.android.PythonActivity\r\n\r\n# (str) Full name including package path of the Java class that implements Android Activity\r\n# use that parameter together with android.entrypoint to set custom Java class instead of PythonActivity\r\n#android.activity_class_name = org.kivy.android.PythonActivity\r\n\r\n# (str) Extra xml to write directly inside the &lt;manifest&gt; element of AndroidManifest.xml\r\n# use that parameter to provide a filename from where to load your custom XML code\r\n#android.extra_manifest_xml = ./src/android/extra_manifest.xml\r\n\r\n# (str) Extra xml to write directly inside the &lt;manifest&gt;&lt;application&gt; tag of AndroidManifest.xml\r\n# use that parameter to provide a filename from where to load your custom XML arguments:\r\n#android.extra_manifest_application_arguments = ./src/android/extra_manifest_application_arguments.xml\r\n\r\n# (str) Full name including package path of the Java class that implements Python Service\r\n# use that parameter to set custom Java class instead of PythonService\r\n#android.service_class_name = org.kivy.android.PythonService\r\n\r\n# (str) Android app theme, default is ok for Kivy-based app\r\n# android.apptheme = &quot;@android:style/Theme.NoTitleBar&quot;\r\n\r\n# (list) Pattern to whitelist for the whole project\r\n#android.whitelist =\r\n\r\n# (str) Path to a custom whitelist file\r\n#android.whitelist_src =\r\n\r\n# (str) Path to a custom blacklist file\r\n#android.blacklist_src =\r\n\r\n# (list) List of Java .jar files to add to the libs so that pyjnius can access\r\n# their classes. Don&#39;t add jars that you do not need, since extra jars can slow\r\n# down the build process. Allows wildcards matching, for example:\r\n# OUYA-ODK/libs/*.jar\r\n#android.add_jars = foo.jar,bar.jar,path/to/more/*.jar\r\n\r\n# (list) List of Java files to add to the android project (can be java or a\r\n# directory containing the files)\r\n#android.add_src =\r\n\r\n# (list) Android AAR archives to add\r\nandroid.add_aars = support-compat-28.0.0.aar\r\n\r\n# (list) Put these files or directories in the apk assets directory.\r\n# Either form may be used, and assets need not be in &#39;source.include_exts&#39;.\r\n# 1) android.add_assets = source_asset_relative_path\r\n# 2) android.add_assets = source_asset_path:destination_asset_relative_path\r\n#android.add_assets =\r\n\r\n# (list) Gradle dependencies to add\r\n#android.gradle_dependencies =\r\n\r\n# (bool) Enable AndroidX support. Enable when &#39;android.gradle_dependencies&#39;\r\n# contains an &#39;androidx&#39; package, or any package from Kotlin source.\r\n# android.enable_androidx requires android.api &gt;= 28\r\n#android.enable_androidx = False\r\n\r\n# (list) add java compile options\r\n# this can for example be necessary when importing certain java libraries using the &#39;android.gradle_dependencies&#39; option\r\n# see https://developer.android.com/studio/write/java8-support for further information\r\n# android.add_compile_options = &quot;sourceCompatibility = 1.8&quot;, &quot;targetCompatibility = 1.8&quot;\r\n\r\n# (list) Gradle repositories to add {can be necessary for some android.gradle_dependencies}\r\n# please enclose in double quotes \r\n# e.g. android.gradle_repositories = &quot;maven { url &#39;https://kotlin.bintray.com/ktor&#39; }&quot;\r\n#android.add_gradle_repositories =\r\n\r\n# (list) packaging options to add \r\n# see https://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.PackagingOptions.html\r\n# can be necessary to solve conflicts in gradle_dependencies\r\n# please enclose in double quotes \r\n# e.g. android.add_packaging_options = &quot;exclude &#39;META-INF/common.kotlin_module&#39;&quot;, &quot;exclude &#39;META-INF/*.kotlin_module&#39;&quot;\r\n#android.add_packaging_options =\r\n\r\n# (list) Java classes to add as activities to the manifest.\r\n#android.add_activities = com.example.ExampleActivity\r\n\r\n# (str) OUYA Console category. Should be one of GAME or APP\r\n# If you leave this blank, OUYA support will not be enabled\r\n#android.ouya.category = GAME\r\n\r\n# (str) Filename of OUYA Console icon. It must be a 732x412 png image.\r\n#android.ouya.icon.filename = %(source.dir)s/data/ouya_icon.png\r\n\r\n# (str) XML file to include as an intent filters in &lt;activity&gt; tag\r\n#android.manifest.intent_filters =\r\n\r\n# (str) launchMode to set for the main activity\r\n#android.manifest.launch_mode = standard\r\n\r\n# (list) Android additional libraries to copy into libs/armeabi\r\n#android.add_libs_armeabi = libs/android/*.so\r\n#android.add_libs_armeabi_v7a = libs/android-v7/*.so\r\n#android.add_libs_arm64_v8a = libs/android-v8/*.so\r\n#android.add_libs_x86 = libs/android-x86/*.so\r\n#android.add_libs_mips = libs/android-mips/*.so\r\n\r\n# (bool) Indicate whether the screen should stay on\r\n# Don&#39;t forget to add the WAKE_LOCK permission if you set this to True\r\n#android.wakelock = False\r\n\r\n# (list) Android application meta-data to set (key=value format)\r\n#android.meta_data =\r\n\r\n# (list) Android library project to add (will be added in the\r\n# project.properties automatically.)\r\n#android.library_references =\r\n\r\n# (list) Android shared libraries which will be added to AndroidManifest.xml using &lt;uses-library&gt; tag\r\n#android.uses_library =\r\n\r\n# (str) Android logcat filters to use\r\nandroid.logcat_filters = *:S python:D\r\n\r\n# (bool) Android logcat only display log for activity&#39;s pid\r\n#android.logcat_pid_only = False\r\n\r\n# (str) Android additional adb arguments\r\n#android.adb_args = -H host.docker.internal\r\n\r\n# (bool) Copy library instead of making a libpymodules.so\r\n#android.copy_libs = 1\r\n\r\n# (list) The Android archs to build for, choices: armeabi-v7a, arm64-v8a, x86, x86_64\r\n# In past, was `android.arch` as we weren&#39;t supporting builds for multiple archs at the same time.\r\nandroid.archs = arm64-v8a, armeabi-v7a\r\n\r\n# (int) overrides automatic versionCode computation (used in build.gradle)\r\n# this is not the same as app version and should only be edited if you know what you&#39;re doing\r\n# android.numeric_version = 1\r\n\r\n# (bool) enables Android auto backup feature (Android API &gt;=23)\r\nandroid.allow_backup = True\r\n\r\n# (str) XML file for custom backup rules (see official auto backup documentation)\r\n# android.backup_rules =\r\n\r\n# (str) If you need to insert variables into your AndroidManifest.xml file,\r\n# you can do so with the manifestPlaceholders property.\r\n# This property takes a map of key-value pairs. (via a string)\r\n# Usage example : android.manifest_placeholders = [myCustomUrl:\\&quot;org.kivy.customurl\\&quot;]\r\n# android.manifest_placeholders = [:]\r\n\r\n# (bool) disables the compilation of py to pyc/pyo files when packaging\r\n# android.no-compile-pyo = True\r\n\r\n# (str) The format used to package the app for release mode (aab or apk).\r\n# android.release_artifact = aab\r\n\r\n#\r\n# Python for android (p4a) specific\r\n#\r\n\r\n# (str) python-for-android URL to use for checkout\r\n#p4a.url =\r\n\r\n# (str) python-for-android fork to use in case if p4a.url is not specified, defaults to upstream (kivy)\r\n#p4a.fork = kivy\r\n\r\n# (str) python-for-android branch to use, defaults to master\r\n#p4a.branch = master\r\n\r\n# (str) python-for-android specific commit to use, defaults to HEAD, must be within p4a.branch\r\n#p4a.commit = HEAD\r\n\r\n# (str) python-for-android git clone directory (if empty, it will be automatically cloned from github)\r\n#p4a.source_dir =\r\n\r\n# (str) The directory in which python-for-android should look for your own build recipes (if any)\r\n#p4a.local_recipes =\r\n\r\n# (str) Filename to the hook for p4a\r\n#p4a.hook =\r\n\r\n# (str) Bootstrap to use for android builds\r\n# p4a.bootstrap = sdl2\r\n\r\n# (int) port number to specify an explicit --port= p4a argument (eg for bootstrap flask)\r\n#p4a.port =\r\n\r\n# Control passing the --use-setup-py vs --ignore-setup-py to p4a\r\n# &quot;in the future&quot; --use-setup-py is going to be the default behaviour in p4a, right now it is not\r\n# Setting this to false will pass --ignore-setup-py, true will pass --use-setup-py\r\n# NOTE: this is general setuptools integration, having pyproject.toml is enough, no need to generate\r\n# setup.py if you&#39;re using Poetry, but you need to add &quot;toml&quot; to source.include_exts.\r\n#p4a.setup_py = false\r\n\r\n# (str) extra command line arguments to pass when invoking pythonforandroid.toolchain\r\n#p4a.extra_args =\r\n\r\n\r\n#\r\n# iOS specific\r\n#\r\n\r\n# (str) Path to a custom kivy-ios folder\r\n#ios.kivy_ios_dir = ../kivy-ios\r\n# Alternately, specify the URL and branch of a git checkout:\r\nios.kivy_ios_url = https://github.com/kivy/kivy-ios\r\nios.kivy_ios_branch = master\r\n\r\n# Another platform dependency: ios-deploy\r\n# Uncomment to use a custom checkout\r\n#ios.ios_deploy_dir = ../ios_deploy\r\n# Or specify URL and branch\r\nios.ios_deploy_url = https://github.com/phonegap/ios-deploy\r\nios.ios_deploy_branch = 1.10.0\r\n\r\n# (bool) Whether or not to sign the code\r\nios.codesign.allowed = false\r\n\r\n# (str) Name of the certificate to use for signing the debug version\r\n# Get a list of available identities: buildozer ios list_identities\r\n#ios.codesign.debug = &quot;iPhone Developer: &lt;lastname&gt; &lt;firstname&gt; (&lt;hexstring&gt;)&quot;\r\n\r\n# (str) The development team to use for signing the debug version\r\n#ios.codesign.development_team.debug = &lt;hexstring&gt;\r\n\r\n# (str) Name of the certificate to use for signing the release version\r\n#ios.codesign.release = %(ios.codesign.debug)s\r\n\r\n# (str) The development team to use for signing the release version\r\n#ios.codesign.development_team.release = &lt;hexstring&gt;\r\n\r\n# (str) URL pointing to .ipa file to be installed\r\n# This option should be defined along with `display_image_url` and `full_size_image_url` options.\r\n#ios.manifest.app_url =\r\n\r\n# (str) URL pointing to an icon (57x57px) to be displayed during download\r\n# This option should be defined along with `app_url` and `full_size_image_url` options.\r\n#ios.manifest.display_image_url =\r\n\r\n# (str) URL pointing to a large icon (512x512px) to be used by iTunes\r\n# This option should be defined along with `app_url` and `display_image_url` options.\r\n#ios.manifest.full_size_image_url =\r\n\r\n\r\n[buildozer]\r\n\r\n# (int) Log level (0 = error only, 1 = info, 2 = debug (with command output))\r\nlog_level = 2\r\n\r\n# (int) Display warning if buildozer is run as root (0 = False, 1 = True)\r\nwarn_on_root = 1\r\n\r\n# (str) Path to build artifact storage, absolute or relative to spec file\r\n# build_dir = ./.buildozer\r\n\r\n# (str) Path to build output (i.e. .apk, .aab, .ipa) storage\r\n# bin_dir = ./bin\r\n\r\n#    -----------------------------------------------------------------------------\r\n#    List as sections\r\n#\r\n#    You can define all the &quot;list&quot; as [section:key].\r\n#    Each line will be considered as a option to the list.\r\n#    Let&#39;s take [app] / source.exclude_patterns.\r\n#    Instead of doing:\r\n#\r\n#[app]\r\n#source.exclude_patterns = license,data/audio/*.wav,data/images/original/*\r\n#\r\n#    This can be translated into:\r\n#\r\n#[app:source.exclude_patterns]\r\n#license\r\n#data/audio/*.wav\r\n#data/images/original/*\r\n#\r\n\r\n\r\n#    -----------------------------------------------------------------------------\r\n#    Profiles\r\n#\r\n#    You can extend section / key with a profile\r\n#    For example, you want to deploy a demo version of your application without\r\n#    HD content. You could first change the title to add &quot;(demo)&quot; in the name\r\n#    and extend the excluded directories to remove the HD content.\r\n#\r\n#[app@demo]\r\n#title = My Application (demo)\r\n#\r\n#[app:source.exclude_patterns@demo]\r\n#images/hd/*\r\n#\r\n#    Then, invoke the command line with the &quot;demo&quot; profile:\r\n#\r\n#buildozer --profile demo android debug\r\n```\r\n\r\nAnd finally here&#39;s error code from Buildozer when trying to run and deploy using VM:\r\n```\r\n06-23 18:35:16.935 29021 29021 I python  : ===== Python/java method missing ======\r\n06-23 18:35:16.935 29021 29021 I python  : Python class:&lt;plyer.platforms.android.gps._LocationListener object at 0x6fb4da2300&gt;\r\n06-23 18:35:16.935 29021 29021 I python  : Java method name:onLocationChanged\r\n06-23 18:35:16.935 29021 29021 I python  : Signature: (Ljava/util/List;)V\r\n06-23 18:35:16.935 29021 29021 I python  : =======================================\r\n06-23 18:35:16.935 29021 29021 I python  : \r\n06-23 18:35:16.936 29021 29021 I python  :  Traceback (most recent call last):\r\n06-23 18:35:16.937 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 50, in jnius.jnius.PythonJavaClass.invoke\r\n06-23 18:35:16.937 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 74, in jnius.jnius.PythonJavaClass._invoke\r\n06-23 18:35:16.937 29021 29021 I python  :  NotImplementedError: The method (&#39;onLocationChanged&#39;, (&#39;V&#39;, (&#39;Ljava/util/List;&#39;,))) is not implemented\r\n06-23 18:35:17.811 29021 29021 I python  : \r\n06-23 18:35:17.811 29021 29021 I python  : ===== Python/java method missing ======\r\n06-23 18:35:17.811 29021 29021 I python  : Python class:&lt;plyer.platforms.android.gps._LocationListener object at 0x6fb4da2300&gt;\r\n06-23 18:35:17.811 29021 29021 I python  : Java method name:onLocationChanged\r\n06-23 18:35:17.811 29021 29021 I python  : Signature: (Ljava/util/List;)V\r\n06-23 18:35:17.811 29021 29021 I python  : =======================================\r\n06-23 18:35:17.811 29021 29021 I python  : \r\n06-23 18:35:17.813 29021 29021 I python  :  Traceback (most recent call last):\r\n06-23 18:35:17.814 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 50, in jnius.jnius.PythonJavaClass.invoke\r\n06-23 18:35:17.814 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 74, in jnius.jnius.PythonJavaClass._invoke\r\n06-23 18:35:17.815 29021 29021 I python  :  NotImplementedError: The method (&#39;onLocationChanged&#39;, (&#39;V&#39;, (&#39;Ljava/util/List;&#39;,))) is not implemented\r\n```\r\n\r\nPerhaps people that are more knowledgable in Java (I know zero of it), Python, kivy and other things can assist me.","title":"Issues with Plyers GPS module on Android 12 device","body":"<p>I've been having issues with Plyers GPS module, and cannot fix them. I've already tried advices from this Github thread - <a href=\"https://github.com/kivy/plyer/issues/657\" rel=\"nofollow noreferrer\">https://github.com/kivy/plyer/issues/657</a>. I've tried modifying gps.py with  changes from a pull-request, tried requesting both permissions in a single runtime request (not sure if I did that correctly), tried adding Support Compat 28.0.0 in buildozer specs, as well as the aar file in the app directory as well.</p>\n<p>Not only that, but I've also tried some advices from this blog post - <a href=\"https://www.msale.com/blog-2/2019/8/10/technology-at-msale-tips-amp-tricks-part-2-kivy-runtime-permissions-on-android\" rel=\"nofollow noreferrer\">https://www.msale.com/blog-2/2019/8/10/technology-at-msale-tips-amp-tricks-part-2-kivy-runtime-permissions-on-android</a> and added two methods to check and grant required permissions.</p>\n<p>Nothing seems to work, and I'm kind of lost here.</p>\n<p>Here's my main.py code:</p>\n<pre><code>from kivy.app import App\nfrom kivy.lang import Builder\nfrom plyer import gps\nfrom permissions.location import check_permission, ask_permission\n\n    Button:\n        text: &quot;Request ACCESS_FINE_LOCATION&quot;\n        on_release: \n            app.request_location_permission()\n    Button:\n        text: 'Start GPS'\n        on_press: app.start_gps()\n    Button:\n        text: 'Stop GPS'\n        on_press: app.stop_gps()\n    Label:\n        id: label\n        text: ''\n'''\n\nclass TestApp(App):\n\n    bg_gps = ''\n\n    def set_coordinates(self, **kwargs):\n        # self.root.ids.label.text = f'lat: {kwargs[&quot;lat&quot;]}, lon: #{kwargs[&quot;lon&quot;]},'\n        print(kwargs)\n        print('SET_COORDINATES IS WORKING')\n\n    def on_start(self):\n        gps.configure(on_location=self.set_coordinates)\n        print('GPS configured on START')\n        gps.start()\n        print('GPS started on START')\n\n    def start_gps(self):\n        gps.configure(on_location=self.set_coordinates)\n        print('GPS configured')\n        gps.start()\n        print('GPS started')\n\n    def stop_gps(self):\n        gps.stop()\n        print('STOPPED')\n        \n    def check_location_permission(self):\n        check_permission(&quot;android.permission.ACCESS_FINE_LOCATION&quot;)\n        check_permission(&quot;android.permission.ACCESS_COARSE_LOCATION&quot;)\n\n    def request_location_permission(self):\n        ask_permission(&quot;android.permission.ACCESS_FINE_LOCATION&quot;)\n        ask_permission(&quot;android.permission.ACCESS_COARSE_LOCATION&quot;)\n\n    def build(self):\n        return Builder.load_string(KV)\n\n\nTestApp().run()\n</code></pre>\n<p>Here's content of location.py:</p>\n<pre><code>from jnius import autoclass\nfrom kivy.logger import Logger\n\nPythonActivity = autoclass(&quot;org.kivy.android.PythonActivity&quot;).mActivity\nContext = autoclass('android.content.Context')\nContextCompat = autoclass('android.support.v4.content.ContextCompat')\n\ndef check_permission(permission, activity=PythonActivity):\n    permission_status = ContextCompat.checkSelfPermission(activity, permission)\n    Logger.info(permission_status)\n    permission_granted = 0 == permission_status\n    Logger.info(&quot;Permission Status: {}&quot;.format(permission_granted))\n    return permission_granted\n\ndef ask_permission(permission, activity=PythonActivity):\n    PythonActivity.requestPermissions([permission])\n</code></pre>\n<p>Here's my buildozer spec file (I've tried changing android.api from 31 to 28 and others with no result):</p>\n<pre><code>[app]\n\n# (str) Title of your application\ntitle = TestApp\n\n# (str) Package name\npackage.name = myapp\n\n# (str) Package domain (needed for android/ios packaging)\npackage.domain = org.test\n\n# (str) Source code where the main.py live\nsource.dir = .\n\n# (list) Source files to include (let empty to include all the files)\nsource.include_exts = py,png,jpg,kv,atlas\n\n# (list) List of inclusions using pattern matching\n#source.include_patterns = assets/*,images/*.png\n\n# (list) Source files to exclude (let empty to not exclude anything)\n#source.exclude_exts = spec\n\n# (list) List of directory to exclude (let empty to not exclude anything)\n#source.exclude_dirs = tests, bin, venv\n\n# (list) List of exclusions using pattern matching\n# Do not prefix with './'\n#source.exclude_patterns = license,images/*/*.jpg\n\n# (str) Application versioning (method 1)\nversion = 0.1\n\n# (str) Application versioning (method 2)\n# version.regex = __version__ = ['&quot;](.*)['&quot;]\n# version.filename = %(source.dir)s/main.py\n\n# (list) Application requirements\n# comma separated e.g. requirements = sqlite3,kivy\nrequirements = python3,kivy,plyer,jnius\n\n# (str) Custom source folders for requirements\n# Sets custom source for any requirements with recipes\n# requirements.source.kivy = ../../kivy\n\n# (str) Presplash of the application\n#presplash.filename = %(source.dir)s/data/presplash.png\n\n# (str) Icon of the application\n#icon.filename = %(source.dir)s/data/icon.png\n\n# (str) Supported orientation (one of landscape, sensorLandscape, portrait or all)\norientation = portrait\n\n# (list) List of service to declare\n#services = NAME:ENTRYPOINT_TO_PY,NAME2:ENTRYPOINT2_TO_PY\n\n#\n# OSX Specific\n#\n\n#\n# author = © Copyright Info\n\n# change the major version of python used by the app\nosx.python_version = 3.7.3\n\n# Kivy version to use\nosx.kivy_version = 2.1.0\n\n#\n# Android specific\n#\n\n# (bool) Indicate if the application should be fullscreen or not\nfullscreen = 0\n\n# (string) Presplash background color (for android toolchain)\n# Supported formats are: #RRGGBB #AARRGGBB or one of the following names:\n# red, blue, green, black, white, gray, cyan, magenta, yellow, lightgray,\n# darkgray, grey, lightgrey, darkgrey, aqua, fuchsia, lime, maroon, navy,\n# olive, purple, silver, teal.\n#android.presplash_color = #FFFFFF\n\n# (string) Presplash animation using Lottie format.\n# see https://lottiefiles.com/ for examples and https://airbnb.design/lottie/\n# for general documentation.\n# Lottie files can be created using various tools, like Adobe After Effect or Synfig.\n#android.presplash_lottie = &quot;path/to/lottie/file.json&quot;\n\n# (str) Adaptive icon of the application (used if Android API level is 26+ at runtime)\n#icon.adaptive_foreground.filename = %(source.dir)s/data/icon_fg.png\n#icon.adaptive_background.filename = %(source.dir)s/data/icon_bg.png\n\n# (list) Permissions\nandroid.permissions = INTERNET,ACCESS_FINE_LOCATION,ACCESS_COARSE_LOCATION\n\n# (list) features (adds uses-feature -tags to manifest)\n#android.features = android.hardware.usb.host\n\n# (int) Target Android API, should be as high as possible.\nandroid.api = 31\n\n# (int) Minimum API your APK / AAB will support.\n#android.minapi = 21\n\n# (int) Android SDK version to use\n#android.sdk = 20\n\n# (str) Android NDK version to use\n#android.ndk = 19b\n\n# (int) Android NDK API to use. This is the minimum API your app will support, it should usually match android.minapi.\n#android.ndk_api = 21\n\n# (bool) Use --private data storage (True) or --dir public storage (False)\n#android.private_storage = True\n\n# (str) Android NDK directory (if empty, it will be automatically downloaded.)\n#android.ndk_path =\n\n# (str) Android SDK directory (if empty, it will be automatically downloaded.)\n#android.sdk_path =\n\n# (str) ANT directory (if empty, it will be automatically downloaded.)\n#android.ant_path =\n\n# (bool) If True, then skip trying to update the Android sdk\n# This can be useful to avoid excess Internet downloads or save time\n# when an update is due and you just want to test/build your package\n# android.skip_update = False\n\n# (bool) If True, then automatically accept SDK license\n# agreements. This is intended for automation only. If set to False,\n# the default, you will be shown the license when first running\n# buildozer.\n# android.accept_sdk_license = False\n\n# (str) Android entry point, default is ok for Kivy-based app\n#android.entrypoint = org.kivy.android.PythonActivity\n\n# (str) Full name including package path of the Java class that implements Android Activity\n# use that parameter together with android.entrypoint to set custom Java class instead of PythonActivity\n#android.activity_class_name = org.kivy.android.PythonActivity\n\n# (str) Extra xml to write directly inside the &lt;manifest&gt; element of AndroidManifest.xml\n# use that parameter to provide a filename from where to load your custom XML code\n#android.extra_manifest_xml = ./src/android/extra_manifest.xml\n\n# (str) Extra xml to write directly inside the &lt;manifest&gt;&lt;application&gt; tag of AndroidManifest.xml\n# use that parameter to provide a filename from where to load your custom XML arguments:\n#android.extra_manifest_application_arguments = ./src/android/extra_manifest_application_arguments.xml\n\n# (str) Full name including package path of the Java class that implements Python Service\n# use that parameter to set custom Java class instead of PythonService\n#android.service_class_name = org.kivy.android.PythonService\n\n# (str) Android app theme, default is ok for Kivy-based app\n# android.apptheme = &quot;@android:style/Theme.NoTitleBar&quot;\n\n# (list) Pattern to whitelist for the whole project\n#android.whitelist =\n\n# (str) Path to a custom whitelist file\n#android.whitelist_src =\n\n# (str) Path to a custom blacklist file\n#android.blacklist_src =\n\n# (list) List of Java .jar files to add to the libs so that pyjnius can access\n# their classes. Don't add jars that you do not need, since extra jars can slow\n# down the build process. Allows wildcards matching, for example:\n# OUYA-ODK/libs/*.jar\n#android.add_jars = foo.jar,bar.jar,path/to/more/*.jar\n\n# (list) List of Java files to add to the android project (can be java or a\n# directory containing the files)\n#android.add_src =\n\n# (list) Android AAR archives to add\nandroid.add_aars = support-compat-28.0.0.aar\n\n# (list) Put these files or directories in the apk assets directory.\n# Either form may be used, and assets need not be in 'source.include_exts'.\n# 1) android.add_assets = source_asset_relative_path\n# 2) android.add_assets = source_asset_path:destination_asset_relative_path\n#android.add_assets =\n\n# (list) Gradle dependencies to add\n#android.gradle_dependencies =\n\n# (bool) Enable AndroidX support. Enable when 'android.gradle_dependencies'\n# contains an 'androidx' package, or any package from Kotlin source.\n# android.enable_androidx requires android.api &gt;= 28\n#android.enable_androidx = False\n\n# (list) add java compile options\n# this can for example be necessary when importing certain java libraries using the 'android.gradle_dependencies' option\n# see https://developer.android.com/studio/write/java8-support for further information\n# android.add_compile_options = &quot;sourceCompatibility = 1.8&quot;, &quot;targetCompatibility = 1.8&quot;\n\n# (list) Gradle repositories to add {can be necessary for some android.gradle_dependencies}\n# please enclose in double quotes \n# e.g. android.gradle_repositories = &quot;maven { url 'https://kotlin.bintray.com/ktor' }&quot;\n#android.add_gradle_repositories =\n\n# (list) packaging options to add \n# see https://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.PackagingOptions.html\n# can be necessary to solve conflicts in gradle_dependencies\n# please enclose in double quotes \n# e.g. android.add_packaging_options = &quot;exclude 'META-INF/common.kotlin_module'&quot;, &quot;exclude 'META-INF/*.kotlin_module'&quot;\n#android.add_packaging_options =\n\n# (list) Java classes to add as activities to the manifest.\n#android.add_activities = com.example.ExampleActivity\n\n# (str) OUYA Console category. Should be one of GAME or APP\n# If you leave this blank, OUYA support will not be enabled\n#android.ouya.category = GAME\n\n# (str) Filename of OUYA Console icon. It must be a 732x412 png image.\n#android.ouya.icon.filename = %(source.dir)s/data/ouya_icon.png\n\n# (str) XML file to include as an intent filters in &lt;activity&gt; tag\n#android.manifest.intent_filters =\n\n# (str) launchMode to set for the main activity\n#android.manifest.launch_mode = standard\n\n# (list) Android additional libraries to copy into libs/armeabi\n#android.add_libs_armeabi = libs/android/*.so\n#android.add_libs_armeabi_v7a = libs/android-v7/*.so\n#android.add_libs_arm64_v8a = libs/android-v8/*.so\n#android.add_libs_x86 = libs/android-x86/*.so\n#android.add_libs_mips = libs/android-mips/*.so\n\n# (bool) Indicate whether the screen should stay on\n# Don't forget to add the WAKE_LOCK permission if you set this to True\n#android.wakelock = False\n\n# (list) Android application meta-data to set (key=value format)\n#android.meta_data =\n\n# (list) Android library project to add (will be added in the\n# project.properties automatically.)\n#android.library_references =\n\n# (list) Android shared libraries which will be added to AndroidManifest.xml using &lt;uses-library&gt; tag\n#android.uses_library =\n\n# (str) Android logcat filters to use\nandroid.logcat_filters = *:S python:D\n\n# (bool) Android logcat only display log for activity's pid\n#android.logcat_pid_only = False\n\n# (str) Android additional adb arguments\n#android.adb_args = -H host.docker.internal\n\n# (bool) Copy library instead of making a libpymodules.so\n#android.copy_libs = 1\n\n# (list) The Android archs to build for, choices: armeabi-v7a, arm64-v8a, x86, x86_64\n# In past, was `android.arch` as we weren't supporting builds for multiple archs at the same time.\nandroid.archs = arm64-v8a, armeabi-v7a\n\n# (int) overrides automatic versionCode computation (used in build.gradle)\n# this is not the same as app version and should only be edited if you know what you're doing\n# android.numeric_version = 1\n\n# (bool) enables Android auto backup feature (Android API &gt;=23)\nandroid.allow_backup = True\n\n# (str) XML file for custom backup rules (see official auto backup documentation)\n# android.backup_rules =\n\n# (str) If you need to insert variables into your AndroidManifest.xml file,\n# you can do so with the manifestPlaceholders property.\n# This property takes a map of key-value pairs. (via a string)\n# Usage example : android.manifest_placeholders = [myCustomUrl:\\&quot;org.kivy.customurl\\&quot;]\n# android.manifest_placeholders = [:]\n\n# (bool) disables the compilation of py to pyc/pyo files when packaging\n# android.no-compile-pyo = True\n\n# (str) The format used to package the app for release mode (aab or apk).\n# android.release_artifact = aab\n\n#\n# Python for android (p4a) specific\n#\n\n# (str) python-for-android URL to use for checkout\n#p4a.url =\n\n# (str) python-for-android fork to use in case if p4a.url is not specified, defaults to upstream (kivy)\n#p4a.fork = kivy\n\n# (str) python-for-android branch to use, defaults to master\n#p4a.branch = master\n\n# (str) python-for-android specific commit to use, defaults to HEAD, must be within p4a.branch\n#p4a.commit = HEAD\n\n# (str) python-for-android git clone directory (if empty, it will be automatically cloned from github)\n#p4a.source_dir =\n\n# (str) The directory in which python-for-android should look for your own build recipes (if any)\n#p4a.local_recipes =\n\n# (str) Filename to the hook for p4a\n#p4a.hook =\n\n# (str) Bootstrap to use for android builds\n# p4a.bootstrap = sdl2\n\n# (int) port number to specify an explicit --port= p4a argument (eg for bootstrap flask)\n#p4a.port =\n\n# Control passing the --use-setup-py vs --ignore-setup-py to p4a\n# &quot;in the future&quot; --use-setup-py is going to be the default behaviour in p4a, right now it is not\n# Setting this to false will pass --ignore-setup-py, true will pass --use-setup-py\n# NOTE: this is general setuptools integration, having pyproject.toml is enough, no need to generate\n# setup.py if you're using Poetry, but you need to add &quot;toml&quot; to source.include_exts.\n#p4a.setup_py = false\n\n# (str) extra command line arguments to pass when invoking pythonforandroid.toolchain\n#p4a.extra_args =\n\n\n#\n# iOS specific\n#\n\n# (str) Path to a custom kivy-ios folder\n#ios.kivy_ios_dir = ../kivy-ios\n# Alternately, specify the URL and branch of a git checkout:\nios.kivy_ios_url = https://github.com/kivy/kivy-ios\nios.kivy_ios_branch = master\n\n# Another platform dependency: ios-deploy\n# Uncomment to use a custom checkout\n#ios.ios_deploy_dir = ../ios_deploy\n# Or specify URL and branch\nios.ios_deploy_url = https://github.com/phonegap/ios-deploy\nios.ios_deploy_branch = 1.10.0\n\n# (bool) Whether or not to sign the code\nios.codesign.allowed = false\n\n# (str) Name of the certificate to use for signing the debug version\n# Get a list of available identities: buildozer ios list_identities\n#ios.codesign.debug = &quot;iPhone Developer: &lt;lastname&gt; &lt;firstname&gt; (&lt;hexstring&gt;)&quot;\n\n# (str) The development team to use for signing the debug version\n#ios.codesign.development_team.debug = &lt;hexstring&gt;\n\n# (str) Name of the certificate to use for signing the release version\n#ios.codesign.release = %(ios.codesign.debug)s\n\n# (str) The development team to use for signing the release version\n#ios.codesign.development_team.release = &lt;hexstring&gt;\n\n# (str) URL pointing to .ipa file to be installed\n# This option should be defined along with `display_image_url` and `full_size_image_url` options.\n#ios.manifest.app_url =\n\n# (str) URL pointing to an icon (57x57px) to be displayed during download\n# This option should be defined along with `app_url` and `full_size_image_url` options.\n#ios.manifest.display_image_url =\n\n# (str) URL pointing to a large icon (512x512px) to be used by iTunes\n# This option should be defined along with `app_url` and `display_image_url` options.\n#ios.manifest.full_size_image_url =\n\n\n[buildozer]\n\n# (int) Log level (0 = error only, 1 = info, 2 = debug (with command output))\nlog_level = 2\n\n# (int) Display warning if buildozer is run as root (0 = False, 1 = True)\nwarn_on_root = 1\n\n# (str) Path to build artifact storage, absolute or relative to spec file\n# build_dir = ./.buildozer\n\n# (str) Path to build output (i.e. .apk, .aab, .ipa) storage\n# bin_dir = ./bin\n\n#    -----------------------------------------------------------------------------\n#    List as sections\n#\n#    You can define all the &quot;list&quot; as [section:key].\n#    Each line will be considered as a option to the list.\n#    Let's take [app] / source.exclude_patterns.\n#    Instead of doing:\n#\n#[app]\n#source.exclude_patterns = license,data/audio/*.wav,data/images/original/*\n#\n#    This can be translated into:\n#\n#[app:source.exclude_patterns]\n#license\n#data/audio/*.wav\n#data/images/original/*\n#\n\n\n#    -----------------------------------------------------------------------------\n#    Profiles\n#\n#    You can extend section / key with a profile\n#    For example, you want to deploy a demo version of your application without\n#    HD content. You could first change the title to add &quot;(demo)&quot; in the name\n#    and extend the excluded directories to remove the HD content.\n#\n#[app@demo]\n#title = My Application (demo)\n#\n#[app:source.exclude_patterns@demo]\n#images/hd/*\n#\n#    Then, invoke the command line with the &quot;demo&quot; profile:\n#\n#buildozer --profile demo android debug\n</code></pre>\n<p>And finally here's error code from Buildozer when trying to run and deploy using VM:</p>\n<pre><code>06-23 18:35:16.935 29021 29021 I python  : ===== Python/java method missing ======\n06-23 18:35:16.935 29021 29021 I python  : Python class:&lt;plyer.platforms.android.gps._LocationListener object at 0x6fb4da2300&gt;\n06-23 18:35:16.935 29021 29021 I python  : Java method name:onLocationChanged\n06-23 18:35:16.935 29021 29021 I python  : Signature: (Ljava/util/List;)V\n06-23 18:35:16.935 29021 29021 I python  : =======================================\n06-23 18:35:16.935 29021 29021 I python  : \n06-23 18:35:16.936 29021 29021 I python  :  Traceback (most recent call last):\n06-23 18:35:16.937 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 50, in jnius.jnius.PythonJavaClass.invoke\n06-23 18:35:16.937 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 74, in jnius.jnius.PythonJavaClass._invoke\n06-23 18:35:16.937 29021 29021 I python  :  NotImplementedError: The method ('onLocationChanged', ('V', ('Ljava/util/List;',))) is not implemented\n06-23 18:35:17.811 29021 29021 I python  : \n06-23 18:35:17.811 29021 29021 I python  : ===== Python/java method missing ======\n06-23 18:35:17.811 29021 29021 I python  : Python class:&lt;plyer.platforms.android.gps._LocationListener object at 0x6fb4da2300&gt;\n06-23 18:35:17.811 29021 29021 I python  : Java method name:onLocationChanged\n06-23 18:35:17.811 29021 29021 I python  : Signature: (Ljava/util/List;)V\n06-23 18:35:17.811 29021 29021 I python  : =======================================\n06-23 18:35:17.811 29021 29021 I python  : \n06-23 18:35:17.813 29021 29021 I python  :  Traceback (most recent call last):\n06-23 18:35:17.814 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 50, in jnius.jnius.PythonJavaClass.invoke\n06-23 18:35:17.814 29021 29021 I python  :    File &quot;jnius/jnius_proxy.pxi&quot;, line 74, in jnius.jnius.PythonJavaClass._invoke\n06-23 18:35:17.815 29021 29021 I python  :  NotImplementedError: The method ('onLocationChanged', ('V', ('Ljava/util/List;',))) is not implemented\n</code></pre>\n<p>Perhaps people that are more knowledgable in Java (I know zero of it), Python, kivy and other things can assist me.</p>\n"},{"tags":["java","selenium","testng-eclipse"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656257386,"creation_date":1656257386,"answer_id":72762887,"question_id":72755662,"body_markdown":"Your main issue is the *incompatibility* between the version of the `binaries` you are using as follows:\r\n\r\nYou have downloaded and used chromedriver=103.0 which got initiated successfully. But your are still using chrome=102\r\n\r\nRelease Notes of [*ChromeDriver v103*][1] clearly mentions the following :\r\n\r\nSupports Chrome `version 103`\r\n\r\n\r\n***Solution***\r\n\r\n*Solution Ensure that:*\r\n\r\nChrome Browser is updated to current chrome=103\r\n\r\n\r\n  [1]: https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt","title":"selenium/java- java.net.SocketException: Connection reset","body":"<p>Your main issue is the <em>incompatibility</em> between the version of the <code>binaries</code> you are using as follows:</p>\n<p>You have downloaded and used chromedriver=103.0 which got initiated successfully. But your are still using chrome=102</p>\n<p>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt\" rel=\"nofollow noreferrer\"><em>ChromeDriver v103</em></a> clearly mentions the following :</p>\n<p>Supports Chrome <code>version 103</code></p>\n<p><em><strong>Solution</strong></em></p>\n<p><em>Solution Ensure that:</em></p>\n<p>Chrome Browser is updated to current chrome=103</p>\n"}],"owner":{"account_id":25647814,"reputation":1,"user_id":19415625,"display_name":"Misiek Er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656257386,"creation_date":1656175561,"question_id":72755662,"body_markdown":"I&#39;m running into error: java.net.SocketException: Connection reset and I have no idea why :(\r\n\r\nI just updated my chromdriver into the same version as my browser and still getting this error. I&#39;m out of ideas.\r\nCode below.\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853}) on port 63488\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nJun 25, 2022 6:34:30 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected upstream dialect: W3C\r\nJun 25, 2022 6:34:30 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 103, so returning the closest version found: 102\r\nJun 25, 2022 6:34:30 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nINFO: Found CDP implementation for version 103 of 102\r\nNieoczekiwany bl?d:\r\nJun 25, 2022 6:34:33 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nThanks for help :)","title":"selenium/java- java.net.SocketException: Connection reset","body":"<p>I'm running into error: java.net.SocketException: Connection reset and I have no idea why :(</p>\n<p>I just updated my chromdriver into the same version as my browser and still getting this error. I'm out of ideas.\nCode below.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 103.0.5060.53 (a1711811edd74ff1cf2150f36ffa3b0dae40b17f-refs/branch-heads/5060@{#853}) on port 63488\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nJun 25, 2022 6:34:30 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected upstream dialect: W3C\nJun 25, 2022 6:34:30 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 103, so returning the closest version found: 102\nJun 25, 2022 6:34:30 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found CDP implementation for version 103 of 102\nNieoczekiwany bl?d:\nJun 25, 2022 6:34:33 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Thanks for help :)</p>\n"},{"tags":["java","android","permissions","android-manifest"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1376496569,"post_id":18236801,"comment_id":26737324,"body_markdown":"This isn&#39;t an appropriate format for a FAQ-style StackOverflow post. Ask a question, then answer your own question.","body":"This isn&#39;t an appropriate format for a FAQ-style StackOverflow post. Ask a question, then answer your own question."},{"owner":{"account_id":3175016,"reputation":347,"user_id":2683103,"accept_rate":83,"display_name":"Alexis Le Compte"},"score":0,"creation_date":1376496689,"post_id":18236801,"comment_id":26737396,"body_markdown":"Ho... I am going to edit the question according to your comment then.","body":"Ho... I am going to edit the question according to your comment then."},{"owner":{"account_id":3175016,"reputation":347,"user_id":2683103,"accept_rate":83,"display_name":"Alexis Le Compte"},"score":0,"creation_date":1376497081,"post_id":18236801,"comment_id":26737663,"body_markdown":"I can&#39;t post my answer yet, but for those who would read this, I suggest to have a look at the [PackageManager class](http://developer.android.com/reference/android/content/pm/PackageManager.html)","body":"I can&#39;t post my answer yet, but for those who would read this, I suggest to have a look at the <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html\" rel=\"nofollow noreferrer\">PackageManager class</a>"},{"owner":{"account_id":5702445,"reputation":2127,"user_id":4507021,"accept_rate":60,"display_name":"Danil Shaykhutdinov"},"score":0,"creation_date":1477655490,"post_id":18236801,"comment_id":67865914,"body_markdown":"see my answer below, in xamarin studio implementation http://stackoverflow.com/a/40304410/4507021","body":"see my answer below, in xamarin studio implementation <a href=\"http://stackoverflow.com/a/40304410/4507021\">stackoverflow.com/a/40304410/4507021</a>"}],"answers":[{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":5,"up_vote_count":36,"is_accepted":true,"score":31,"last_activity_date":1560362917,"creation_date":1376499971,"answer_id":18237962,"question_id":18236801,"body_markdown":"You can get an application&#39;s requested permissions (they may not be granted) using _PackageManager_:\r\n\r\n````java\r\nPackageInfo info = getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_PERMISSIONS);\r\nString[] permissions = info.requestedPermissions;//This array contains the requested permissions.\r\n````\r\n\r\nI have used this in a utility method to check if the expected permission is declared:\r\n\r\n    //for example, permission can be &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n    public boolean hasPermission(String permission) \r\n    {\r\n        try {\r\n            PackageInfo info = getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_PERMISSIONS);\r\n            if (info.requestedPermissions != null) {\r\n                for (String p : info.requestedPermissions) {\r\n                    if (p.equals(permission)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>You can get an application's requested permissions (they may not be granted) using <em>PackageManager</em>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PackageInfo info = getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_PERMISSIONS);\nString[] permissions = info.requestedPermissions;//This array contains the requested permissions.\n</code></pre>\n\n<p>I have used this in a utility method to check if the expected permission is declared:</p>\n\n<pre><code>//for example, permission can be \"android.permission.WRITE_EXTERNAL_STORAGE\"\npublic boolean hasPermission(String permission) \n{\n    try {\n        PackageInfo info = getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_PERMISSIONS);\n        if (info.requestedPermissions != null) {\n            for (String p : info.requestedPermissions) {\n                if (p.equals(permission)) {\n                    return true;\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1473385365,"creation_date":1473385365,"answer_id":39402580,"question_id":18236801,"body_markdown":"Use this:\r\n\r\n    public static String getListOfPermissions(final Context context)\r\n    {\r\n    \tString _permissions = &quot;&quot;;\r\n    \r\n    \ttry\r\n    \t{\r\n    \t\tfinal AssetManager _am = context.createPackageContext(context.getPackageName(), 0).getAssets();\r\n    \t\tfinal XmlResourceParser _xmlParser = _am.openXmlResourceParser(0, &quot;AndroidManifest.xml&quot;);\r\n    \t\tint _eventType = _xmlParser.getEventType();\r\n    \t\twhile (_eventType != XmlPullParser.END_DOCUMENT)\r\n    \t\t{\r\n    \t\t\tif ((_eventType == XmlPullParser.START_TAG) &amp;&amp; &quot;uses-permission&quot;.equals(_xmlParser.getName()))\r\n    \t\t\t{\r\n    \t\t\t\tfor (byte i = 0; i &lt; _xmlParser.getAttributeCount(); i ++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (_xmlParser.getAttributeName(i).equals(&quot;name&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t_permissions += _xmlParser.getAttributeValue(i) + &quot;\\n&quot;;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t_eventType = _xmlParser.nextToken();\r\n    \t\t}\r\n    \t\t_xmlParser.close(); // Pervents memory leak.\r\n    \t}\r\n    \tcatch (final XmlPullParserException exception)\r\n    \t{\r\n    \t\texception.printStackTrace();\r\n    \t}\r\n    \tcatch (final PackageManager.NameNotFoundException exception)\r\n    \t{\r\n    \t\texception.printStackTrace();\r\n    \t}\r\n    \tcatch (final IOException exception)\r\n    \t{\r\n    \t\texception.printStackTrace();\r\n    \t}\r\n    \r\n    \treturn _permissions;\r\n    }\r\n    // Test: Log.wtf(&quot;test&quot;, getListOfPermissions(getApplicationContext()));","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>Use this:</p>\n\n<pre><code>public static String getListOfPermissions(final Context context)\n{\n    String _permissions = \"\";\n\n    try\n    {\n        final AssetManager _am = context.createPackageContext(context.getPackageName(), 0).getAssets();\n        final XmlResourceParser _xmlParser = _am.openXmlResourceParser(0, \"AndroidManifest.xml\");\n        int _eventType = _xmlParser.getEventType();\n        while (_eventType != XmlPullParser.END_DOCUMENT)\n        {\n            if ((_eventType == XmlPullParser.START_TAG) &amp;&amp; \"uses-permission\".equals(_xmlParser.getName()))\n            {\n                for (byte i = 0; i &lt; _xmlParser.getAttributeCount(); i ++)\n                {\n                    if (_xmlParser.getAttributeName(i).equals(\"name\"))\n                    {\n                        _permissions += _xmlParser.getAttributeValue(i) + \"\\n\";\n                    }\n                }\n            }\n            _eventType = _xmlParser.nextToken();\n        }\n        _xmlParser.close(); // Pervents memory leak.\n    }\n    catch (final XmlPullParserException exception)\n    {\n        exception.printStackTrace();\n    }\n    catch (final PackageManager.NameNotFoundException exception)\n    {\n        exception.printStackTrace();\n    }\n    catch (final IOException exception)\n    {\n        exception.printStackTrace();\n    }\n\n    return _permissions;\n}\n// Test: Log.wtf(\"test\", getListOfPermissions(getApplicationContext()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1656256628,"creation_date":1485999640,"answer_id":41992932,"question_id":18236801,"body_markdown":"Here&#39;s a useful utility method that does just that (in both Java &amp; Kotlin).\r\n\r\n## Java\r\n\r\n    public static String[] retrievePermissions(Context context) {\r\n        final var pkgName = context.getPackageName();\r\n        try {\r\n            return context\r\n                    .getPackageManager()\r\n                    .getPackageInfo(pkgName, PackageManager.GET_PERMISSIONS)\r\n                    .requestedPermissions;\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n             return new String[0];\r\n             // Better to throw a custom exception since this should never happen unless the API has changed somehow.\r\n        }\r\n    }\r\n\r\n## Kotlin\r\n\r\n    fun retrievePermissions(context: Context): Array&lt;String&gt; {\r\n        val pkgName = context.getPackageName()\r\n        try {\r\n            return context\r\n                    .packageManager\r\n                    .getPackageInfo(pkgName, PackageManager.GET_PERMISSIONS)\r\n                    .requestedPermissions\r\n        } catch (e: PackageManager.NameNotFoundException) {\r\n            return emptyArray&lt;String&gt;()\r\n            // Better to throw a custom exception since this should never happen unless the API has changed somehow.\r\n        }\r\n    }\r\n\r\nYou can [get a working class from this gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/AnixPasBesoin/431cab2a9945a14cb009309719d0f828\r\n","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>Here's a useful utility method that does just that (in both Java &amp; Kotlin).</p>\n<h2>Java</h2>\n<pre><code>public static String[] retrievePermissions(Context context) {\n    final var pkgName = context.getPackageName();\n    try {\n        return context\n                .getPackageManager()\n                .getPackageInfo(pkgName, PackageManager.GET_PERMISSIONS)\n                .requestedPermissions;\n    } catch (PackageManager.NameNotFoundException e) {\n         return new String[0];\n         // Better to throw a custom exception since this should never happen unless the API has changed somehow.\n    }\n}\n</code></pre>\n<h2>Kotlin</h2>\n<pre><code>fun retrievePermissions(context: Context): Array&lt;String&gt; {\n    val pkgName = context.getPackageName()\n    try {\n        return context\n                .packageManager\n                .getPackageInfo(pkgName, PackageManager.GET_PERMISSIONS)\n                .requestedPermissions\n    } catch (e: PackageManager.NameNotFoundException) {\n        return emptyArray&lt;String&gt;()\n        // Better to throw a custom exception since this should never happen unless the API has changed somehow.\n    }\n}\n</code></pre>\n<p>You can <a href=\"https://gist.github.com/AnixPasBesoin/431cab2a9945a14cb009309719d0f828\" rel=\"nofollow noreferrer\">get a working class from this gist</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user9089961"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1533725359,"creation_date":1533725003,"answer_id":51744685,"question_id":18236801,"body_markdown":"I have a simple C# code, &quot;using System.Xml&quot;\r\n\r\n    private void ShowPermissions()\r\n       {\r\n        XmlDocument doc = new XmlDocument();\r\n        doc.Load(&quot;c:\\\\manifest.xml&quot;);\r\n\r\n        XmlNodeList nodeList = doc.GetElementsByTagName(&quot;uses-permission&quot;);\r\n\r\n\r\n        foreach(XmlNode node in nodeList)\r\n        {\r\n            XmlAttributeCollection Attr = node.Attributes;\r\n            string Permission=Attr[&quot;android:permission&quot;].Value;\r\n\r\n            MessageBox.Show(Permission);\r\n        }\r\n    }\r\n","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>I have a simple C# code, \"using System.Xml\"</p>\n\n<pre><code>private void ShowPermissions()\n   {\n    XmlDocument doc = new XmlDocument();\n    doc.Load(\"c:\\\\manifest.xml\");\n\n    XmlNodeList nodeList = doc.GetElementsByTagName(\"uses-permission\");\n\n\n    foreach(XmlNode node in nodeList)\n    {\n        XmlAttributeCollection Attr = node.Attributes;\n        string Permission=Attr[\"android:permission\"].Value;\n\n        MessageBox.Show(Permission);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10059343,"reputation":4094,"user_id":7436566,"display_name":"OhhhThatVarun"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1635329744,"creation_date":1635329744,"answer_id":69736806,"question_id":18236801,"body_markdown":"If anyone is looking for a short `Kotlin` Version\r\n\r\n```\r\nfun Manifest.getDeclaredPermissions(context: Context): Array&lt;String&gt; {\r\n    return context.packageManager.getPackageInfo(context.packageName, PackageManager.GET_PERMISSIONS).requestedPermissions\r\n}\r\n```","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>If anyone is looking for a short <code>Kotlin</code> Version</p>\n<pre><code>fun Manifest.getDeclaredPermissions(context: Context): Array&lt;String&gt; {\n    return context.packageManager.getPackageInfo(context.packageName, PackageManager.GET_PERMISSIONS).requestedPermissions\n}\n</code></pre>\n"}],"owner":{"account_id":3175016,"reputation":347,"user_id":2683103,"accept_rate":83,"display_name":"Alexis Le Compte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19503,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":18237962,"answer_count":5,"score":28,"last_activity_date":1656256628,"creation_date":1376496349,"question_id":18236801,"body_markdown":"I have to programmatically retrieve permissions from the manifest.xml of an android application and I don&#39;t know how to do it.\r\n\r\nI read [the post here][1] but I am not entirely satisfied by the answers. \r\n  [1]: https://stackoverflow.com/questions/2097813/how-to-parse-the-androidmanifest-xml-file-inside-an-apk-package\r\nI guess there should be a class in the android API which would allow to retrieve information from the manifest.\r\n\r\nThank you.\r\n","title":"Programmatically retrieve permissions from manifest.xml in android","body":"<p>I have to programmatically retrieve permissions from the manifest.xml of an android application and I don't know how to do it.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/2097813/how-to-parse-the-androidmanifest-xml-file-inside-an-apk-package\">the post here</a> but I am not entirely satisfied by the answers. \nI guess there should be a class in the android API which would allow to retrieve information from the manifest.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","ubuntu","javac","wsl-2"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1646543443,"post_id":71357170,"comment_id":126147354,"body_markdown":"WSL makes no difference _whatsoever_ -- it&#39;s downloading the same package used by any other Ubuntu. The important question is _exactly_ which jdk package you installed. Use `dpkg -l` to show that, not `java --version`. (If it&#39;s not shown in `dpkg`, that tells us you didn&#39;t install it the Ubuntu way, which gives us a place to start on tracking down the problem)","body":"WSL makes no difference <i>whatsoever</i> -- it&#39;s downloading the same package used by any other Ubuntu. The important question is <i>exactly</i> which jdk package you installed. Use <code>dpkg -l</code> to show that, not <code>java --version</code>. (If it&#39;s not shown in <code>dpkg</code>, that tells us you didn&#39;t install it the Ubuntu way, which gives us a place to start on tracking down the problem)"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1646543587,"post_id":71357170,"comment_id":126147369,"body_markdown":"...mind, since you solved the problem by uninstalling/reinstalling, it&#39;s probably no longer possible to figure out how the problem was generated in the first place, and thus impossible to edit a [mre] into the question to make its answer reproducible/testable/verifiable (and thus to allow the bounds of its applicability to be determined and documented). Under the circumstances, I would generally suggest deleting the question.","body":"...mind, since you solved the problem by uninstalling/reinstalling, it&#39;s probably no longer possible to figure out how the problem was generated in the first place, and thus impossible to edit a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> into the question to make its answer reproducible/testable/verifiable (and thus to allow the bounds of its applicability to be determined and documented). Under the circumstances, I would generally suggest deleting the question."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1646543771,"post_id":71357170,"comment_id":126147384,"body_markdown":"...no `java-17-openjdk-amd64` is shown in https://packages.ubuntu.com/focal/allpackages (the list of official packages for Ubuntu 20.04.3).","body":"...no <code>java-17-openjdk-amd64</code> is shown in <a href=\"https://packages.ubuntu.com/focal/allpackages\" rel=\"nofollow noreferrer\">packages.ubuntu.com/focal/allpackages</a> (the list of official packages for Ubuntu 20.04.3)."},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1677642162,"post_id":71357170,"comment_id":133376781,"body_markdown":"I am not sure, but unlike previous version, I am able to run a .java file directly with `java MyClass.java` without running a javac command before to create a .class file. (Directly running java MyClass.java is not generating a .class but straight away runs the program)","body":"I am not sure, but unlike previous version, I am able to run a .java file directly with <code>java MyClass.java</code> without running a javac command before to create a .class file. (Directly running java MyClass.java is not generating a .class but straight away runs the program)"}],"answers":[{"tags":[],"owner":{"account_id":2123450,"reputation":35,"user_id":1886218,"display_name":"Jason deMello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646543106,"creation_date":1646429816,"answer_id":71357454,"question_id":71357170,"body_markdown":"I&#39;m unsure which directions I used to install Open JDK before, but I followed the following instructions to remove and re-install: https://www.linuxcapable.com/how-to-install-openjdk-17-on-ubuntu-20-04/\r\n\r\nI now have &#39;javac&#39; in java-17-openjdk-amd64/bin.\r\n\r\nWhew.","title":"Where is &#39;javac&#39; in java-17-openjdk-amd64?","body":"<p>I'm unsure which directions I used to install Open JDK before, but I followed the following instructions to remove and re-install: <a href=\"https://www.linuxcapable.com/how-to-install-openjdk-17-on-ubuntu-20-04/\" rel=\"nofollow noreferrer\">https://www.linuxcapable.com/how-to-install-openjdk-17-on-ubuntu-20-04/</a></p>\n<p>I now have 'javac' in java-17-openjdk-amd64/bin.</p>\n<p>Whew.</p>\n"},{"tags":[],"owner":{"account_id":25226526,"reputation":1,"user_id":19062301,"display_name":"Mrical Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651936704,"creation_date":1651936704,"answer_id":72153828,"question_id":71357170,"body_markdown":"This worked for me\r\n\r\n    sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/lib/jvm/jdk-17/bin/javac&quot; 1","title":"Where is &#39;javac&#39; in java-17-openjdk-amd64?","body":"<p>This worked for me</p>\n<pre><code>sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/lib/jvm/jdk-17/bin/javac&quot; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6128384,"reputation":1609,"user_id":4779501,"accept_rate":80,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656256529,"creation_date":1656256529,"answer_id":72762787,"question_id":71357170,"body_markdown":"RHEL/RockyLinux/CentOs/AlmaLinux etc: javac is in &quot;devel&quot; package\r\n\r\n    dnf -y install java-17-openjdk\r\n    dnf -y install java-17-openjdk-devel\r\n\r\nThen set default versions\r\n\r\n     alternatives --config java\r\n     alternatives --config javac\r\n\r\n","title":"Where is &#39;javac&#39; in java-17-openjdk-amd64?","body":"<p>RHEL/RockyLinux/CentOs/AlmaLinux etc: javac is in &quot;devel&quot; package</p>\n<pre><code>dnf -y install java-17-openjdk\ndnf -y install java-17-openjdk-devel\n</code></pre>\n<p>Then set default versions</p>\n<pre><code> alternatives --config java\n alternatives --config javac\n</code></pre>\n"}],"owner":{"account_id":2123450,"reputation":35,"user_id":1886218,"display_name":"Jason deMello"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656256529,"creation_date":1646427710,"question_id":71357170,"body_markdown":"**Win10 WSL 2 over an Ubuntu layer**\r\n\r\n**Ubuntu:** lsb_release -a\\\r\n     No LSB modules are available.\\\r\n     Distributor ID: Ubuntu\\\r\n     Description:    Ubuntu 20.04.3 LTS\\\r\n     Release:        20.04\\\r\n     Codename:       focal\\\r\n\r\n**Java:** java --version\\\r\n     openjdk 17.0.1 2021-10-19\\\r\n     OpenJDK Runtime Environment (build 17.0.1+12-Ubuntu-120.04)\\\r\n     OpenJDK 64-Bit Server VM (build 17.0.1+12-Ubuntu-120.04, mixed mode, Sharing)\r\n\r\nI&#39;ve successfully installed openjdk 17.0.1, but there is no &#39;javac&#39; command in bin (such as exists in ***java-11-openjdk-amd64/bin***). There is no javac counterpart in ***java-17-openjdk-amd64/bin***.\r\n\r\nI&#39;ve googled, oogled, and bugled to no great gain. In my experience, this means I&#39;m missing something simple.\r\n\r\nSomeone please guide me here. What gives? How can I get the &#39;javac&#39; command in openjdk 17.0.1, or how do I use that SDK to create a class?","title":"Where is &#39;javac&#39; in java-17-openjdk-amd64?","body":"<p><strong>Win10 WSL 2 over an Ubuntu layer</strong></p>\n<p><strong>Ubuntu:</strong> lsb_release -a<br />\nNo LSB modules are available.<br />\nDistributor ID: Ubuntu<br />\nDescription:    Ubuntu 20.04.3 LTS<br />\nRelease:        20.04<br />\nCodename:       focal\\</p>\n<p><strong>Java:</strong> java --version<br />\nopenjdk 17.0.1 2021-10-19<br />\nOpenJDK Runtime Environment (build 17.0.1+12-Ubuntu-120.04)<br />\nOpenJDK 64-Bit Server VM (build 17.0.1+12-Ubuntu-120.04, mixed mode, Sharing)</p>\n<p>I've successfully installed openjdk 17.0.1, but there is no 'javac' command in bin (such as exists in <em><strong>java-11-openjdk-amd64/bin</strong></em>). There is no javac counterpart in <em><strong>java-17-openjdk-amd64/bin</strong></em>.</p>\n<p>I've googled, oogled, and bugled to no great gain. In my experience, this means I'm missing something simple.</p>\n<p>Someone please guide me here. What gives? How can I get the 'javac' command in openjdk 17.0.1, or how do I use that SDK to create a class?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8760,"page":1232,"page_size":100}
