{"items":[{"tags":["java","image","crop"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1315819496,"post_id":7385616,"comment_id":8918065,"body_markdown":"I would have thought that was fairly easy to do yourself with a few loops to check whole rows/columns were the same colour. (Or the empty colour)","body":"I would have thought that was fairly easy to do yourself with a few loops to check whole rows/columns were the same colour. (Or the empty colour)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":5,"creation_date":1315819769,"post_id":7385616,"comment_id":8918140,"body_markdown":"BTW: converting line art to JPEG seems a bad choice. Why not use PNG?","body":"BTW: converting line art to JPEG seems a bad choice. Why not use PNG?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1315820194,"post_id":7385616,"comment_id":8918235,"body_markdown":"Do the PDFs also include the whitespace or are the appropriately-sized for the content? If they are correctly sized, then you might want to check each step of your conversion pipeline if it&#39;s discarding some size information.","body":"Do the PDFs also include the whitespace or are the appropriately-sized for the content? If they are correctly sized, then you might want to check each step of your conversion pipeline if it&#39;s discarding some size information."}],"answers":[{"tags":[],"owner":{"account_id":366679,"reputation":24153,"user_id":712358,"accept_rate":62,"display_name":"Mike Kwan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1315821434,"creation_date":1315819977,"answer_id":7385833,"question_id":7385616,"body_markdown":"It can be done in JAI as is demonstrated in [this thread][1]. Or here&#39;s some Java code I just wrote which can be used to do it:\r\n\r\n    public class TrimWhite {\r\n        private BufferedImage img;\r\n        \r\n        public TrimWhite(File input) {\r\n            try {\r\n                img = ImageIO.read(input);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException( &quot;Problem reading image&quot;, e );\r\n            }\r\n        }\r\n        \r\n        public void trim() {\r\n            int width  = getTrimmedWidth();\r\n            int height = getTrimmedHeight();\r\n            \r\n            BufferedImage newImg = new BufferedImage(width, height,\r\n                    BufferedImage.TYPE_INT_RGB);\r\n            Graphics g = newImg.createGraphics();\r\n            g.drawImage( img, 0, 0, null );\r\n            img = newImg;\r\n        }\r\n        \r\n        public void write(File f) {\r\n            try {\r\n                ImageIO.write(img, &quot;bmp&quot;, f);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException( &quot;Problem writing image&quot;, e );\r\n            }\r\n        }\r\n        \r\n        private int getTrimmedWidth() {\r\n            int height       = this.img.getHeight();\r\n            int width        = this.img.getWidth();\r\n            int trimmedWidth = 0;\r\n            \r\n            for(int i = 0; i &lt; height; i++) {\r\n                for(int j = width - 1; j &gt;= 0; j--) {\r\n                    if(img.getRGB(j, i) != Color.WHITE.getRGB() &amp;&amp;\r\n                            j &gt; trimmedWidth) {\r\n                        trimmedWidth = j;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return trimmedWidth;\r\n        }\r\n        \r\n        private int getTrimmedHeight() {\r\n            int width         = this.img.getWidth();\r\n            int height        = this.img.getHeight();\r\n            int trimmedHeight = 0;\r\n            \r\n            for(int i = 0; i &lt; width; i++) {\r\n                for(int j = height - 1; j &gt;= 0; j--) {\r\n                    if(img.getRGB(i, j) != Color.WHITE.getRGB() &amp;&amp;\r\n                            j &gt; trimmedHeight) {\r\n                        trimmedHeight = j;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return trimmedHeight;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            TrimWhite trim = new TrimWhite(new File(&quot;...\\\\someInput.bmp&quot;));\r\n            trim.trim();\r\n            trim.write(new File(&quot;...\\\\someOutput.bmp&quot;));\r\n        }\r\n    }\r\n\r\n  [1]: http://www.java.net/node/668973\r\n","title":"Crop/trim a JPG file with empty space with Java","body":"<p>It can be done in JAI as is demonstrated in <a href=\"http://www.java.net/node/668973\" rel=\"noreferrer\">this thread</a>. Or here's some Java code I just wrote which can be used to do it:</p>\n\n<pre><code>public class TrimWhite {\n    private BufferedImage img;\n\n    public TrimWhite(File input) {\n        try {\n            img = ImageIO.read(input);\n        } catch (IOException e) {\n            throw new RuntimeException( \"Problem reading image\", e );\n        }\n    }\n\n    public void trim() {\n        int width  = getTrimmedWidth();\n        int height = getTrimmedHeight();\n\n        BufferedImage newImg = new BufferedImage(width, height,\n                BufferedImage.TYPE_INT_RGB);\n        Graphics g = newImg.createGraphics();\n        g.drawImage( img, 0, 0, null );\n        img = newImg;\n    }\n\n    public void write(File f) {\n        try {\n            ImageIO.write(img, \"bmp\", f);\n        } catch (IOException e) {\n            throw new RuntimeException( \"Problem writing image\", e );\n        }\n    }\n\n    private int getTrimmedWidth() {\n        int height       = this.img.getHeight();\n        int width        = this.img.getWidth();\n        int trimmedWidth = 0;\n\n        for(int i = 0; i &lt; height; i++) {\n            for(int j = width - 1; j &gt;= 0; j--) {\n                if(img.getRGB(j, i) != Color.WHITE.getRGB() &amp;&amp;\n                        j &gt; trimmedWidth) {\n                    trimmedWidth = j;\n                    break;\n                }\n            }\n        }\n\n        return trimmedWidth;\n    }\n\n    private int getTrimmedHeight() {\n        int width         = this.img.getWidth();\n        int height        = this.img.getHeight();\n        int trimmedHeight = 0;\n\n        for(int i = 0; i &lt; width; i++) {\n            for(int j = height - 1; j &gt;= 0; j--) {\n                if(img.getRGB(i, j) != Color.WHITE.getRGB() &amp;&amp;\n                        j &gt; trimmedHeight) {\n                    trimmedHeight = j;\n                    break;\n                }\n            }\n        }\n\n        return trimmedHeight;\n    }\n\n    public static void main(String[] args) {\n        TrimWhite trim = new TrimWhite(new File(\"...\\\\someInput.bmp\"));\n        trim.trim();\n        trim.write(new File(\"...\\\\someOutput.bmp\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042059,"reputation":302,"user_id":1047895,"accept_rate":29,"display_name":"JannGabriel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1456845181,"creation_date":1431027868,"answer_id":30110298,"question_id":7385616,"body_markdown":"For Android users, here is an example using Mike Kwan Answer:\r\n\r\n        public static Bitmap TrimImage(Bitmap bmp) {\r\n        int imgHeight = bmp.getHeight();\r\n        int imgWidth  = bmp.getWidth();\r\n\r\n        //TRIM WIDTH\r\n        int widthStart  = imgWidth;\r\n        int widthEnd = 0;\r\n        for(int i = 0; i &lt; imgHeight; i++) {\r\n            for(int j = imgWidth - 1; j &gt;= 0; j--) {\r\n                if(bmp.getPixel(j, i) != Color.TRANSPARENT &amp;&amp;\r\n                        j &lt; widthStart) {\r\n                    widthStart = j;\r\n                }\r\n                if(bmp.getPixel(j, i) != Color.TRANSPARENT &amp;&amp;\r\n                        j &gt; widthEnd) {\r\n                    widthEnd = j;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        //TRIM HEIGHT\r\n        int heightStart = imgHeight;\r\n        int heightEnd = 0;\r\n        for(int i = 0; i &lt; imgWidth; i++) {\r\n            for(int j = imgHeight - 1; j &gt;= 0; j--) {\r\n                if(bmp.getPixel(i, j) != Color.TRANSPARENT &amp;&amp;\r\n                        j &lt; heightStart) {\r\n                    heightStart = j;\r\n                }\r\n                if(bmp.getPixel(i, j) != Color.TRANSPARENT &amp;&amp;\r\n                        j &gt; heightEnd) {\r\n                    heightEnd = j;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        int finalWidth = widthEnd - widthStart;\r\n        int finalHeight = heightEnd - heightStart;\r\n\r\n        return Bitmap.createBitmap(bmp, widthStart,heightStart,finalWidth, finalHeight);\r\n    }\r\n\r\nHope this help someone :)\r\n\r\nEDIT:\r\n\r\nGuys, I just updated my answer cuz last code was just trimming the end of the image, not the beginning. This one is working just great :)","title":"Crop/trim a JPG file with empty space with Java","body":"<p>For Android users, here is an example using Mike Kwan Answer:</p>\n\n<pre><code>    public static Bitmap TrimImage(Bitmap bmp) {\n    int imgHeight = bmp.getHeight();\n    int imgWidth  = bmp.getWidth();\n\n    //TRIM WIDTH\n    int widthStart  = imgWidth;\n    int widthEnd = 0;\n    for(int i = 0; i &lt; imgHeight; i++) {\n        for(int j = imgWidth - 1; j &gt;= 0; j--) {\n            if(bmp.getPixel(j, i) != Color.TRANSPARENT &amp;&amp;\n                    j &lt; widthStart) {\n                widthStart = j;\n            }\n            if(bmp.getPixel(j, i) != Color.TRANSPARENT &amp;&amp;\n                    j &gt; widthEnd) {\n                widthEnd = j;\n                break;\n            }\n        }\n    }\n    //TRIM HEIGHT\n    int heightStart = imgHeight;\n    int heightEnd = 0;\n    for(int i = 0; i &lt; imgWidth; i++) {\n        for(int j = imgHeight - 1; j &gt;= 0; j--) {\n            if(bmp.getPixel(i, j) != Color.TRANSPARENT &amp;&amp;\n                    j &lt; heightStart) {\n                heightStart = j;\n            }\n            if(bmp.getPixel(i, j) != Color.TRANSPARENT &amp;&amp;\n                    j &gt; heightEnd) {\n                heightEnd = j;\n                break;\n            }\n        }\n    }\n\n    int finalWidth = widthEnd - widthStart;\n    int finalHeight = heightEnd - heightStart;\n\n    return Bitmap.createBitmap(bmp, widthStart,heightStart,finalWidth, finalHeight);\n}\n</code></pre>\n\n<p>Hope this help someone :)</p>\n\n<p>EDIT:</p>\n\n<p>Guys, I just updated my answer cuz last code was just trimming the end of the image, not the beginning. This one is working just great :)</p>\n"},{"tags":[],"owner":{"account_id":24687086,"reputation":1,"user_id":18580126,"display_name":"rayray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648232181,"creation_date":1648220117,"answer_id":71618985,"question_id":7385616,"body_markdown":"This is the fastest.\r\n\r\n    public static Bitmap TrimBitmap(Bitmap bmp) {\r\n        final int imgHeight = bmp.getHeight();\r\n        final int imgWidth  = bmp.getWidth();\r\n\r\n        //Take Data\r\n        int[] pixels = new int[imgWidth * imgHeight];\r\n        bmp.getPixels(pixels, 0, imgWidth, 0, 0, imgWidth, imgHeight);\r\n        int[] horizontalData=new int[imgHeight],verticalData=new int[imgWidth];\r\n        int num=0;\r\n        for (int pixel:pixels){\r\n            horizontalData[num/imgWidth]|=pixel;\r\n            verticalData[num%imgWidth]|=pixel;\r\n            num++;\r\n        }\r\n\r\n\r\n        \r\n\r\n\r\n        //TRIM WIDTH - RIGHT\r\n        int endWidth  = imgWidth;\r\n        for(int x = imgWidth - 1; x &gt;= 0; x--) {\r\n            int data = verticalData[x];\r\n            if ((data&gt;&gt;24)!=0)\r\n                break;\r\n            endWidth--;\r\n        }\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        //TRIM HEIGHT - BOTTOM\r\n        int endHeight = imgHeight;\r\n        for(int x = imgHeight - 1; x &gt;= 0; x--) {\r\n            int data =horizontalData[x];\r\n            if ((data&gt;&gt;24)!=0)\r\n                break;\r\n            endHeight--;\r\n        }\r\n\r\n\r\n        return Bitmap.createBitmap(\r\n                bmp,\r\n                0,\r\n                0,\r\n                endWidth,\r\n                endHeight\r\n        );\r\n\r\n    }","title":"Crop/trim a JPG file with empty space with Java","body":"<p>This is the fastest.</p>\n<pre><code>public static Bitmap TrimBitmap(Bitmap bmp) {\n    final int imgHeight = bmp.getHeight();\n    final int imgWidth  = bmp.getWidth();\n\n    //Take Data\n    int[] pixels = new int[imgWidth * imgHeight];\n    bmp.getPixels(pixels, 0, imgWidth, 0, 0, imgWidth, imgHeight);\n    int[] horizontalData=new int[imgHeight],verticalData=new int[imgWidth];\n    int num=0;\n    for (int pixel:pixels){\n        horizontalData[num/imgWidth]|=pixel;\n        verticalData[num%imgWidth]|=pixel;\n        num++;\n    }\n\n\n    \n\n\n    //TRIM WIDTH - RIGHT\n    int endWidth  = imgWidth;\n    for(int x = imgWidth - 1; x &gt;= 0; x--) {\n        int data = verticalData[x];\n        if ((data&gt;&gt;24)!=0)\n            break;\n        endWidth--;\n    }\n\n\n\n    \n\n\n    //TRIM HEIGHT - BOTTOM\n    int endHeight = imgHeight;\n    for(int x = imgHeight - 1; x &gt;= 0; x--) {\n        int data =horizontalData[x];\n        if ((data&gt;&gt;24)!=0)\n            break;\n        endHeight--;\n    }\n\n\n    return Bitmap.createBitmap(\n            bmp,\n            0,\n            0,\n            endWidth,\n            endHeight\n    );\n\n}\n</code></pre>\n"}],"owner":{"account_id":50391,"reputation":11219,"user_id":150325,"accept_rate":100,"display_name":"Christopher Klewes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10828,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":7385833,"answer_count":3,"score":10,"last_activity_date":1648232181,"creation_date":1315818868,"question_id":7385616,"body_markdown":"Is there a framework which is able to remove the white space (rectangular) of an image. We create Image Thumbnails from technical drawings which are unfortunately in PDF format. We convert the PDF to SVG and then to JPG. Often the technical drawings are very small and now placed in the upper left corner of the thumbnail:\r\n\r\n    +---------+----------------------+\r\n    |         |                      |\r\n    | (image) |                      |\r\n    |         |                      |\r\n    +---------+                      |\r\n    |                                |\r\n    |                                |\r\n    |                                |\r\n    |                                |\r\n    |              (empty space)     |\r\n    |                                |\r\n    |                                |\r\n    +--------------------------------+\r\n\r\nSo how can I easily remove the empty space and shrink the JPG file?","title":"Crop/trim a JPG file with empty space with Java","body":"<p>Is there a framework which is able to remove the white space (rectangular) of an image. We create Image Thumbnails from technical drawings which are unfortunately in PDF format. We convert the PDF to SVG and then to JPG. Often the technical drawings are very small and now placed in the upper left corner of the thumbnail:</p>\n\n<pre><code>+---------+----------------------+\n|         |                      |\n| (image) |                      |\n|         |                      |\n+---------+                      |\n|                                |\n|                                |\n|                                |\n|                                |\n|              (empty space)     |\n|                                |\n|                                |\n+--------------------------------+\n</code></pre>\n\n<p>So how can I easily remove the empty space and shrink the JPG file?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":83152,"reputation":1668,"user_id":233333,"accept_rate":62,"display_name":"Martin Berger"},"score":0,"creation_date":1618931596,"post_id":51628040,"comment_id":118749635,"body_markdown":"You are incrementing by +1 when closing a block. In your case on index 6, when adding 7 to the stack, you should not increment. After that while block: \n`if (heights.size() &gt; 0 &amp;&amp; heights.top() == H[i]) {\n                heights.push(H[i]);    \n            } else {\n                heights.push(H[i]);\n                blocks++;\n            }`","body":"You are incrementing by +1 when closing a block. In your case on index 6, when adding 7 to the stack, you should not increment. After that while block:  <code>if (heights.size() &gt; 0 &amp;&amp; heights.top() == H[i]) {                 heights.push(H[i]);                 } else {                 heights.push(H[i]);                 blocks++;             }</code>"}],"answers":[{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1533112200,"creation_date":1533112200,"answer_id":51628709,"question_id":51628040,"body_markdown":"I find the bug and though it may be good to share. The reason is the new height is lesser than the `peek` value, we will keep popping the entities. So if the stack is not empty, the new height will be the same or higher than the stack peeks value. \r\n\r\nIf the new height will be the same, it means we already add a block for the height and will not add a new block. A condition is needed for the situation, \r\n\r\n                   if (!stack.isEmpty() &amp;&amp; H[i] == stack.peek()) {\r\n                        continue;\r\n                    }\r\n\r\nThe code is provided below provides `100% score`, \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public int solution(int[] H) {\r\n    \r\n            Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n    \r\n            stack.push(H[0]);\r\n            int count = 1;\r\n    \r\n            int N = H.length;\r\n    \r\n            for (int i = 1; i &lt; N; i++) {\r\n    \r\n                if (H[i] == stack.peek()) {\r\n                    continue;\r\n                } else if (H[i] &gt; stack.peek()) {\r\n                    stack.push(H[i]);\r\n                    count++;\r\n                } else {\r\n    \r\n                    while (!stack.isEmpty() &amp;&amp; H[i] &lt; stack.peek()) {\r\n                        stack.pop();\r\n                    }\r\n    \r\n                    /*\r\n                     * the new entity is either in same elevation or higher\r\n                     * */\r\n    \r\n                    /*\r\n                    * if in same elevation, we already added the block, so keep iterating\r\n                    * */\r\n                    if (!stack.isEmpty() &amp;&amp; H[i] == stack.peek()) {\r\n                        continue;\r\n                    }\r\n    \r\n                    stack.push(H[i]);\r\n                    count++;\r\n                }\r\n            }\r\n    \r\n            return count;\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5yPd.png","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>I find the bug and though it may be good to share. The reason is the new height is lesser than the <code>peek</code> value, we will keep popping the entities. So if the stack is not empty, the new height will be the same or higher than the stack peeks value. </p>\n\n<p>If the new height will be the same, it means we already add a block for the height and will not add a new block. A condition is needed for the situation, </p>\n\n<pre><code>               if (!stack.isEmpty() &amp;&amp; H[i] == stack.peek()) {\n                    continue;\n                }\n</code></pre>\n\n<p>The code is provided below provides <code>100% score</code>, </p>\n\n<p><a href=\"https://i.stack.imgur.com/V5yPd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V5yPd.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public int solution(int[] H) {\n\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\n        stack.push(H[0]);\n        int count = 1;\n\n        int N = H.length;\n\n        for (int i = 1; i &lt; N; i++) {\n\n            if (H[i] == stack.peek()) {\n                continue;\n            } else if (H[i] &gt; stack.peek()) {\n                stack.push(H[i]);\n                count++;\n            } else {\n\n                while (!stack.isEmpty() &amp;&amp; H[i] &lt; stack.peek()) {\n                    stack.pop();\n                }\n\n                /*\n                 * the new entity is either in same elevation or higher\n                 * */\n\n                /*\n                * if in same elevation, we already added the block, so keep iterating\n                * */\n                if (!stack.isEmpty() &amp;&amp; H[i] == stack.peek()) {\n                    continue;\n                }\n\n                stack.push(H[i]);\n                count++;\n            }\n        }\n\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9192715,"reputation":1003,"user_id":6832617,"display_name":"Francisco Sandi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548795220,"creation_date":1548795220,"answer_id":54429409,"question_id":51628040,"body_markdown":"If someone is still interested in this exercise, I share my Python solution (100% in Codility)\r\n\r\n    def solution(H):\r\n        stack, count = [], 1\r\n        for i in H:\r\n            if stack:\r\n                if i == stack[-1]:\r\n                    continue\r\n                if i &lt; stack[-1]:\r\n                    while stack and stack[-1] &gt; i:\r\n                        stack.pop()\r\n                if stack:\r\n                    if i &gt; stack[-1]:\r\n                        count+=1\r\n                        stack.append(i)\r\n                else:\r\n                    count+=1\r\n                    stack.append(i)\r\n            else:\r\n                stack.append(i)\r\n        return count","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>If someone is still interested in this exercise, I share my Python solution (100% in Codility)</p>\n\n<pre><code>def solution(H):\n    stack, count = [], 1\n    for i in H:\n        if stack:\n            if i == stack[-1]:\n                continue\n            if i &lt; stack[-1]:\n                while stack and stack[-1] &gt; i:\n                    stack.pop()\n            if stack:\n                if i &gt; stack[-1]:\n                    count+=1\n                    stack.append(i)\n            else:\n                count+=1\n                stack.append(i)\n        else:\n            stack.append(i)\n    return count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7221025,"reputation":1355,"user_id":5511520,"accept_rate":68,"display_name":"Mike Belyakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559780305,"creation_date":1559780305,"answer_id":56469556,"question_id":51628040,"body_markdown":"Ruby 100%\r\n\r\n```\r\ndef solution(h)\r\n  h.inject([1, [h.first]]) do |(blocks, stack), n|\r\n    next [blocks+1, stack.push(n)]    if stack.last &lt; n\r\n    stack.pop while stack.any? &amp;&amp; stack.last &gt; n\r\n    next [blocks, stack] if stack.last == n\r\n    \r\n   [blocks+1, stack.push(n)]\r\n  end.first\r\nend\r\n```","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>Ruby 100%</p>\n\n<pre><code>def solution(h)\n  h.inject([1, [h.first]]) do |(blocks, stack), n|\n    next [blocks+1, stack.push(n)]    if stack.last &lt; n\n    stack.pop while stack.any? &amp;&amp; stack.last &gt; n\n    next [blocks, stack] if stack.last == n\n\n   [blocks+1, stack.push(n)]\n  end.first\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16948190,"reputation":19,"user_id":12258422,"display_name":"Tigran Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572889101,"creation_date":1572889101,"answer_id":58698520,"question_id":51628040,"body_markdown":"in c# (100% in Codility)\r\n\r\n    public int solution(int[] H) {\r\n       \r\n            Stack&lt;int&gt; stack = new Stack&lt;int&gt;();\r\n\r\n            stack.Push(H[0]);\r\n            int count = 1;\r\n\r\n\r\n\r\n            for (int i = 1; i &lt; H.Length; i++)\r\n            {\r\n\r\n                if (H[i] == stack.Peek())\r\n                {\r\n                    continue;\r\n                }\r\n                else if (H[i] &gt; stack.Peek())\r\n                {\r\n                    stack.Push(H[i]);\r\n                    count++;\r\n                }\r\n                else\r\n                {\r\n\r\n                    while (!(stack.Count==0) &amp;&amp; H[i] &lt; stack.Peek())\r\n                    {\r\n                        stack.Pop();\r\n                    }\r\n                if (!(stack.Count==0) &amp;&amp; H[i] == stack.Peek()) {\r\n                    continue;\r\n                }\r\n\r\n\r\n                    stack.Push(H[i]);\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            return count;\r\n    }\r\n","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>in c# (100% in Codility)</p>\n\n<pre><code>public int solution(int[] H) {\n\n        Stack&lt;int&gt; stack = new Stack&lt;int&gt;();\n\n        stack.Push(H[0]);\n        int count = 1;\n\n\n\n        for (int i = 1; i &lt; H.Length; i++)\n        {\n\n            if (H[i] == stack.Peek())\n            {\n                continue;\n            }\n            else if (H[i] &gt; stack.Peek())\n            {\n                stack.Push(H[i]);\n                count++;\n            }\n            else\n            {\n\n                while (!(stack.Count==0) &amp;&amp; H[i] &lt; stack.Peek())\n                {\n                    stack.Pop();\n                }\n            if (!(stack.Count==0) &amp;&amp; H[i] == stack.Peek()) {\n                continue;\n            }\n\n\n                stack.Push(H[i]);\n                count++;\n            }\n        }\n\n        return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2769605,"reputation":371,"user_id":2384464,"display_name":"Dinakar Prasad Maurya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576208308,"creation_date":1576208308,"answer_id":59315815,"question_id":51628040,"body_markdown":"&gt; Python Solution\r\n\r\nHere is my solution\r\n[Solution with steps details][1]\r\n\r\n[Codility python 100%][2]\r\n\r\n\r\n    def solution(H):\r\n    &quot;&quot;&quot;\r\n    Codility 100%\r\n    https://app.codility.com/demo/results/trainingQKD6JP-PHA/\r\n\r\n    Idea is to use stack concept\r\n    Compute the minimum number of blocks needed to build the wall.\r\n    To build the wall start taking blocks of height one by one.\r\n    We need to take care of -\r\n     - the blocked should not be used again\r\n     - this is done only up to blocks height is greater than current\r\n     - why we are using last 8 height block if there is already 8 height block used in previous step?\r\n        reason is 8 is not present in stack top\r\n\r\n\r\n    8,\r\n     8,----- can not use because on stack top 8 is already there\r\n      5,\r\n       7,\r\n        9,\r\n         8,\r\n          7,------ can not use because on stack top 7 is already there\r\n           4,\r\n            8,\r\n\r\n    This is just example with height, see steps of output for details\r\n     skip8           skip7\r\n                |           |\r\n    |           |   |       |\r\n    |       |   |   |       |\r\n    |       |   |   |       |\r\n    |   |   |   |   |       |\r\n    |   |   |   |   |   |   |\r\n    |   |   |   |   |   |   |\r\n    |   |   |   |   |   |   |\r\n    |   |   |   |   |   |   |\r\n\r\nUsed blocks-\r\n    8\r\n    5\r\n    7\r\n    9\r\n    8\r\n    4\r\n    8\r\n\r\n    &quot;&quot;&quot;\r\n\r\n    block_count = 0\r\n    # stack is used to hold height used to building and remove all the blocks from it,\r\n    #  if any of the block of stack is greater than current block(to be added for building)\r\n    stack = []\r\n    for height in H:\r\n        print(&quot; &quot;)\r\n        print(&quot;Current Height &quot; + str(height))\r\n        print(&quot;Current stack &quot; + str(stack))\r\n        # Remove all blocks that are bigger than current height, stack should not be empty\r\n        while stack and stack[-1] &gt; height:\r\n            stack.pop()\r\n        print(&quot;After remove bigger blocks than current height &quot; + str(stack))\r\n\r\n        # stack is not empty and top item of stack is equal to current height\r\n        if stack and stack[-1] == height:\r\n            # Already used this size of block\r\n            print(&quot;Already used this size of block &quot; + str(height))\r\n            continue\r\n        else:\r\n            # new block is required, push it&#39;s size to the stack\r\n            block_count += 1\r\n            stack.append(height)\r\n            print(&quot;Add this block.... &quot; + str(height) + &quot; Minimum Blocks &quot; + str(block_count))\r\n\r\n    return block_count\r\n\r\n\r\n  [1]: https://github.com/dinkar1708/coding_interview/blob/master/codility/stack_queue_stone_wall.py\r\n  [2]: https://app.codility.com/demo/results/trainingQKD6JP-PHA/","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<blockquote>\n  <p>Python Solution</p>\n</blockquote>\n\n<p>Here is my solution\n<a href=\"https://github.com/dinkar1708/coding_interview/blob/master/codility/stack_queue_stone_wall.py\" rel=\"nofollow noreferrer\">Solution with steps details</a></p>\n\n<p><a href=\"https://app.codility.com/demo/results/trainingQKD6JP-PHA/\" rel=\"nofollow noreferrer\">Codility python 100%</a></p>\n\n<pre><code>def solution(H):\n\"\"\"\nCodility 100%\nhttps://app.codility.com/demo/results/trainingQKD6JP-PHA/\n\nIdea is to use stack concept\nCompute the minimum number of blocks needed to build the wall.\nTo build the wall start taking blocks of height one by one.\nWe need to take care of -\n - the blocked should not be used again\n - this is done only up to blocks height is greater than current\n - why we are using last 8 height block if there is already 8 height block used in previous step?\n    reason is 8 is not present in stack top\n\n\n8,\n 8,----- can not use because on stack top 8 is already there\n  5,\n   7,\n    9,\n     8,\n      7,------ can not use because on stack top 7 is already there\n       4,\n        8,\n\nThis is just example with height, see steps of output for details\n skip8           skip7\n            |           |\n|           |   |       |\n|       |   |   |       |\n|       |   |   |       |\n|   |   |   |   |       |\n|   |   |   |   |   |   |\n|   |   |   |   |   |   |\n|   |   |   |   |   |   |\n|   |   |   |   |   |   |\n</code></pre>\n\n<p>Used blocks-\n    8\n    5\n    7\n    9\n    8\n    4\n    8</p>\n\n<pre><code>\"\"\"\n\nblock_count = 0\n# stack is used to hold height used to building and remove all the blocks from it,\n#  if any of the block of stack is greater than current block(to be added for building)\nstack = []\nfor height in H:\n    print(\" \")\n    print(\"Current Height \" + str(height))\n    print(\"Current stack \" + str(stack))\n    # Remove all blocks that are bigger than current height, stack should not be empty\n    while stack and stack[-1] &gt; height:\n        stack.pop()\n    print(\"After remove bigger blocks than current height \" + str(stack))\n\n    # stack is not empty and top item of stack is equal to current height\n    if stack and stack[-1] == height:\n        # Already used this size of block\n        print(\"Already used this size of block \" + str(height))\n        continue\n    else:\n        # new block is required, push it's size to the stack\n        block_count += 1\n        stack.append(height)\n        print(\"Add this block.... \" + str(height) + \" Minimum Blocks \" + str(block_count))\n\nreturn block_count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3809591,"reputation":53,"user_id":3160961,"display_name":"Cichy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591017983,"creation_date":1591014031,"answer_id":62132050,"question_id":51628040,"body_markdown":"Another one in Java. Simpler, because I used assumption that height &gt; 0.\r\n\r\n```Java\r\n    public int solution(int[] hs) {\r\n        int squares = 0;\r\n        Stack&lt;Integer&gt; s = new Stack&lt;&gt;();\r\n        s.push(0);\r\n\r\n        for (int h: hs) {\r\n            while (s.peek() &gt; h) {\r\n                s.pop();\r\n            }\r\n            if (s.peek() != h) {\r\n                s.push(h);\r\n                ++squares;\r\n            }\r\n        }\r\n\r\n        return squares;\r\n    }\r\n```","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>Another one in Java. Simpler, because I used assumption that height > 0.</p>\n\n<pre><code>    public int solution(int[] hs) {\n        int squares = 0;\n        Stack&lt;Integer&gt; s = new Stack&lt;&gt;();\n        s.push(0);\n\n        for (int h: hs) {\n            while (s.peek() &gt; h) {\n                s.pop();\n            }\n            if (s.peek() != h) {\n                s.push(h);\n                ++squares;\n            }\n        }\n\n        return squares;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7112181,"reputation":483,"user_id":5520012,"display_name":"Booo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606513735,"creation_date":1606513735,"answer_id":65044189,"question_id":51628040,"body_markdown":"100% C++ in Codility\r\n\r\n```\r\n#include &lt;stack&gt;\r\n\r\nint solution(vector&lt;int&gt; &amp;H) {\r\n    int cnt{0};\r\n    std::stack&lt;int&gt; reusedStone;\r\n\r\n    for (auto h : H) {\r\n        if (reusedStone.empty() || (h &gt; reusedStone.top())) {\r\n            reusedStone.push(h); cnt++;\r\n        } else if (h &lt; reusedStone.top()) {\r\n            while ((!reusedStone.empty()) &amp;&amp; (h &lt; reusedStone.top())) {\r\n                reusedStone.pop();\r\n            }\r\n            if ((!reusedStone.empty()) &amp;&amp; (h == reusedStone.top())) {\r\n                continue;\r\n            } else {\r\n                reusedStone.push(h); cnt++;\r\n            }\r\n        }\r\n    }\r\n\r\n    return cnt;\r\n}\r\n``` ","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>100% C++ in Codility</p>\n<pre><code>#include &lt;stack&gt;\n\nint solution(vector&lt;int&gt; &amp;H) {\n    int cnt{0};\n    std::stack&lt;int&gt; reusedStone;\n\n    for (auto h : H) {\n        if (reusedStone.empty() || (h &gt; reusedStone.top())) {\n            reusedStone.push(h); cnt++;\n        } else if (h &lt; reusedStone.top()) {\n            while ((!reusedStone.empty()) &amp;&amp; (h &lt; reusedStone.top())) {\n                reusedStone.pop();\n            }\n            if ((!reusedStone.empty()) &amp;&amp; (h == reusedStone.top())) {\n                continue;\n            } else {\n                reusedStone.push(h); cnt++;\n            }\n        }\n    }\n\n    return cnt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6580315,"reputation":151,"user_id":5084782,"display_name":"Derrick Njeru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606834239,"creation_date":1606834239,"answer_id":65092801,"question_id":51628040,"body_markdown":"A simpler java solution.\r\n\r\n    public int solution(int[] H) {\r\n        //block count\r\n        int count = 0;\r\n        // stack is used to hold height used to building and remove all the blocks from it,\r\n        // if any of the block of stack is greater than current block(is to be added for building)\r\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n\r\n        for (int a : H) {\r\n            // Remove all blocks that are bigger than current height, stack should not be empty\r\n            while (!stack.isEmpty() &amp;&amp; a &lt; stack.peek()) {\r\n                stack.pop();\r\n            }\r\n            //new block is required, push it&#39;s size to the stack\r\n            if (stack.isEmpty() || a &gt; stack.peek()) {\r\n                count++;\r\n                stack.push(a);\r\n            }\r\n\r\n        }\r\n        return count;\r\n    }","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>A simpler java solution.</p>\n<pre><code>public int solution(int[] H) {\n    //block count\n    int count = 0;\n    // stack is used to hold height used to building and remove all the blocks from it,\n    // if any of the block of stack is greater than current block(is to be added for building)\n    Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n\n    for (int a : H) {\n        // Remove all blocks that are bigger than current height, stack should not be empty\n        while (!stack.isEmpty() &amp;&amp; a &lt; stack.peek()) {\n            stack.pop();\n        }\n        //new block is required, push it's size to the stack\n        if (stack.isEmpty() || a &gt; stack.peek()) {\n            count++;\n            stack.push(a);\n        }\n\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5937709,"reputation":584,"user_id":4670107,"accept_rate":89,"display_name":"noviewpoint"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646381024,"creation_date":1645523840,"answer_id":71219191,"question_id":51628040,"body_markdown":"My 100% JavaScript solution with O(N) time complexity:\r\n\r\n    function solution(H) {\r\n\r\n        let numBlocks = 0;\r\n        const blocksHeights = [0];\r\n\r\n        for (const height of H) {\r\n\r\n            while (blocksHeights[blocksHeights.length - 1] &gt; height) {\r\n                blocksHeights.pop();\r\n            }\r\n\r\n            if (blocksHeights[blocksHeights.length - 1] !== height) {\r\n                blocksHeights.push(height);\r\n                numBlocks++;\r\n            }\r\n\r\n        }\r\n\r\n        return numBlocks;\r\n    \r\n    }","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>My 100% JavaScript solution with O(N) time complexity:</p>\n<pre><code>function solution(H) {\n\n    let numBlocks = 0;\n    const blocksHeights = [0];\n\n    for (const height of H) {\n\n        while (blocksHeights[blocksHeights.length - 1] &gt; height) {\n            blocksHeights.pop();\n        }\n\n        if (blocksHeights[blocksHeights.length - 1] !== height) {\n            blocksHeights.push(height);\n            numBlocks++;\n        }\n\n    }\n\n    return numBlocks;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4289805,"reputation":527,"user_id":3506483,"accept_rate":33,"display_name":"fricadelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648231668,"creation_date":1648231668,"answer_id":71621367,"question_id":51628040,"body_markdown":"My python solution (100% success rate on Codility)\r\n\r\n    import math\r\n    \r\n    def solution(H):\r\n        nb_blocks = 0\r\n        horizon = [math.inf]\r\n    \r\n        for h in H:\r\n            while horizon and h &lt; horizon[-1]:\r\n                horizon.pop()\r\n    \r\n            if (horizon and h &gt; horizon[-1]) or (not horizon):\r\n                horizon.append(h)\r\n                nb_blocks += 1\r\n    \r\n    \r\n        return nb_blocks\r\n\r\n","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>My python solution (100% success rate on Codility)</p>\n<pre><code>import math\n\ndef solution(H):\n    nb_blocks = 0\n    horizon = [math.inf]\n\n    for h in H:\n        while horizon and h &lt; horizon[-1]:\n            horizon.pop()\n\n        if (horizon and h &gt; horizon[-1]) or (not horizon):\n            horizon.append(h)\n            nb_blocks += 1\n\n\n    return nb_blocks\n</code></pre>\n"}],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5477,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51628709,"answer_count":10,"score":6,"last_activity_date":1648231668,"creation_date":1533109799,"question_id":51628040,"body_markdown":"I write to solve a Codility problem provided below, \r\n\r\nYou are going to build a stone wall. The wall should be straight and N meters long, and its thickness should be constant; however, it should have different heights in different places. The height of the wall is specified by an array H of N positive integers. H[I] is the height of the wall from I to I+1 meters to the right of its left end. In particular, H[0] is the height of the wall&#39;s left end and H[N−1] is the height of the wall&#39;s right end.\r\n\r\nThe wall should be built of cuboid stone blocks (that is, all sides of such blocks are rectangular). Your task is to compute the minimum number of blocks needed to build the wall.\r\n\r\nWrite a function:\r\n\r\n    class Solution { public int solution(int[] H); }\r\n\r\nthat, given an array H of N positive integers specifying the height of the wall, returns the minimum number of blocks needed to build it.\r\n\r\nFor example, given array H containing N = 9 integers:\r\n\r\n      H[0] = 8    H[1] = 8    H[2] = 5\r\n      H[3] = 7    H[4] = 9    H[5] = 8\r\n      H[6] = 7    H[7] = 4    H[8] = 8\r\n\r\nthe function should return 7. The figure shows one possible arrangement of seven blocks.\r\n\r\nAssume that:\r\n\r\nN is an integer within the range [1..100,000];\r\neach element of array H is an integer within the range [1..1,000,000,000].\r\nComplexity:\r\n\r\nexpected worst-case time complexity is O(N);\r\nexpected worst-case space complexity is O(N) (not counting the storage required for input arguments).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI write a solution for the provided problem. The algorithm and code is provided below, \r\n\r\n\r\nAlgorithm\r\n\r\n\r\n&gt; i.   set block count = 1 and start iterating from the 2nd element of the array\r\n&gt;\r\n&gt; ii.  if the current depth is same as previous, keep going\r\n&gt;\r\n&gt; iii. If the current depth is higher, push that in the stack and increase the count\r\n&gt;\r\n&gt;  iv.  If the current depth is lower, keep poping till the current depth &gt;= peek. Afterward, if the stack size = 0 or higher, increase the block count by 1\r\n\r\nThe code,\r\n\r\n    public static int solution(int[] H) {\r\n    \r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n    \r\n        stack.push(H[0]);\r\n        int count = 1;\r\n    \r\n        int N = H.length;\r\n    \r\n        for (int i = 1; i &lt; N; i++) {\r\n    \r\n            if (H[i] == stack.peek()) {\r\n                continue;\r\n            } else if (H[i] &gt; stack.peek()) {\r\n                stack.push(H[i]);\r\n                count++;\r\n            } else {\r\n    \r\n                while (!stack.isEmpty() &amp;&amp; H[i] &lt; stack.peek()) {\r\n                    stack.pop();\r\n                }\r\n    \r\n                stack.push(H[i]);\r\n                count++;\r\n            }\r\n        }\r\n    \r\n        return count;\r\n    }\r\n\r\n\r\nThe solution doesn&#39;t provide the correct answer and I can&#39;t find the bug even after spending some time in debugging. Can anyone see that?\r\n\r\n\r\nThe test set is provided below and the answer is 7 (I get 8).\r\n\r\n        int[] H = new int[9];\r\n\r\n        H[0] = 8;\r\n        H[1] = 8;\r\n        H[2] = 5;\r\n        H[3] = 7;\r\n        H[4] = 9;\r\n        H[5] = 8;\r\n        H[6] = 7;\r\n        H[7] = 4;\r\n        H[8] = 8;\r\n\r\nThank you. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yFHnb.png\r\n\r\n\r\n\r\n\r\n","title":"Cover &quot;Manhattan skyline&quot; using the minimum number of rectangles","body":"<p>I write to solve a Codility problem provided below,</p>\n<p>You are going to build a stone wall. The wall should be straight and N meters long, and its thickness should be constant; however, it should have different heights in different places. The height of the wall is specified by an array H of N positive integers. H[I] is the height of the wall from I to I+1 meters to the right of its left end. In particular, H[0] is the height of the wall's left end and H[N−1] is the height of the wall's right end.</p>\n<p>The wall should be built of cuboid stone blocks (that is, all sides of such blocks are rectangular). Your task is to compute the minimum number of blocks needed to build the wall.</p>\n<p>Write a function:</p>\n<pre><code>class Solution { public int solution(int[] H); }\n</code></pre>\n<p>that, given an array H of N positive integers specifying the height of the wall, returns the minimum number of blocks needed to build it.</p>\n<p>For example, given array H containing N = 9 integers:</p>\n<pre><code>  H[0] = 8    H[1] = 8    H[2] = 5\n  H[3] = 7    H[4] = 9    H[5] = 8\n  H[6] = 7    H[7] = 4    H[8] = 8\n</code></pre>\n<p>the function should return 7. The figure shows one possible arrangement of seven blocks.</p>\n<p>Assume that:</p>\n<p>N is an integer within the range [1..100,000];\neach element of array H is an integer within the range [1..1,000,000,000].\nComplexity:</p>\n<p>expected worst-case time complexity is O(N);\nexpected worst-case space complexity is O(N) (not counting the storage required for input arguments).</p>\n<p><a href=\"https://i.stack.imgur.com/yFHnb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yFHnb.png\" alt=\"enter image description here\" /></a></p>\n<p>I write a solution for the provided problem. The algorithm and code is provided below,</p>\n<p>Algorithm</p>\n<blockquote>\n<p>i.   set block count = 1 and start iterating from the 2nd element of the array</p>\n<p>ii.  if the current depth is same as previous, keep going</p>\n<p>iii. If the current depth is higher, push that in the stack and increase the count</p>\n<p>iv.  If the current depth is lower, keep poping till the current depth &gt;= peek. Afterward, if the stack size = 0 or higher, increase the block count by 1</p>\n</blockquote>\n<p>The code,</p>\n<pre><code>public static int solution(int[] H) {\n\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\n    stack.push(H[0]);\n    int count = 1;\n\n    int N = H.length;\n\n    for (int i = 1; i &lt; N; i++) {\n\n        if (H[i] == stack.peek()) {\n            continue;\n        } else if (H[i] &gt; stack.peek()) {\n            stack.push(H[i]);\n            count++;\n        } else {\n\n            while (!stack.isEmpty() &amp;&amp; H[i] &lt; stack.peek()) {\n                stack.pop();\n            }\n\n            stack.push(H[i]);\n            count++;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n<p>The solution doesn't provide the correct answer and I can't find the bug even after spending some time in debugging. Can anyone see that?</p>\n<p>The test set is provided below and the answer is 7 (I get 8).</p>\n<pre><code>    int[] H = new int[9];\n\n    H[0] = 8;\n    H[1] = 8;\n    H[2] = 5;\n    H[3] = 7;\n    H[4] = 9;\n    H[5] = 8;\n    H[6] = 7;\n    H[7] = 4;\n    H[8] = 8;\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","layout","vaadin","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":5165059,"reputation":4342,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520843497,"creation_date":1520843497,"answer_id":49230954,"question_id":49182445,"body_markdown":"I found a solution (although the FormLayout seems to behave strange):\r\n\r\nInstead of calling `setSizeFull()` I call `setSizeUndefined()` to let the FormLayout just wrap the space it needs for its child components. This allows the wrapping layout to center the FormLayout.\r\n\r\n*What I was not able to do*: I could not set the FormLayout to full width and align its children centered.","title":"Vaadin FormLayout does not align centered","body":"<p>I found a solution (although the FormLayout seems to behave strange):</p>\n\n<p>Instead of calling <code>setSizeFull()</code> I call <code>setSizeUndefined()</code> to let the FormLayout just wrap the space it needs for its child components. This allows the wrapping layout to center the FormLayout.</p>\n\n<p><em>What I was not able to do</em>: I could not set the FormLayout to full width and align its children centered.</p>\n"},{"tags":[],"owner":{"account_id":11251758,"reputation":21,"user_id":8252672,"display_name":"alisemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648231520,"creation_date":1648231520,"answer_id":71621343,"question_id":49182445,"body_markdown":"I encountered the same issue with Vaadin 23. Using `setSizeUndefined()` did not work. Instead, I solved it with wrapping the FormLayout inside a HorizontalLayout component. \r\n\r\nSolution:\r\n\r\n    private void createUIComponents() {\r\n        add(new Label(&quot;HEADER&quot;));\r\n        add(new HorizontalLayout(createRegistrationForm()));\r\n        //add(createRegistrationForm());\r\n        add(new Label(&quot;TEST&quot;));\r\n    }\r\n\r\nNote: It seems `addComponent()` is now replaced with `add()` in newer versions.","title":"Vaadin FormLayout does not align centered","body":"<p>I encountered the same issue with Vaadin 23. Using <code>setSizeUndefined()</code> did not work. Instead, I solved it with wrapping the FormLayout inside a HorizontalLayout component.</p>\n<p>Solution:</p>\n<pre><code>private void createUIComponents() {\n    add(new Label(&quot;HEADER&quot;));\n    add(new HorizontalLayout(createRegistrationForm()));\n    //add(createRegistrationForm());\n    add(new Label(&quot;TEST&quot;));\n}\n</code></pre>\n<p>Note: It seems <code>addComponent()</code> is now replaced with <code>add()</code> in newer versions.</p>\n"}],"owner":{"account_id":5165059,"reputation":4342,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49230954,"answer_count":2,"score":0,"last_activity_date":1648231520,"creation_date":1520543167,"question_id":49182445,"body_markdown":"I have a VerticalLayout wrapping a Label and a FormLayout. The VerticalLayout aligns its components centered per default. The Label is aligned centered as expected. The FormLayout not.\r\n\r\nWhen I look at the component tree in the debug view the FormLayout has a width, spanning over the whole width of the VerticalLayout. But its children (textfields) are aligned to the left and have a lower width (I think the default value). \r\n\r\nMy code:\r\n\r\n    @SpringView(name = RegisterView.VIEW_NAME)\r\n    @DesignRoot\r\n    public class RegisterView extends VerticalLayout implements View {\r\n\r\n        protected static final String VIEW_NAME = &quot;register&quot;;\r\n\r\n        @PostConstruct\r\n        void init() {\r\n            setSizeFull();\r\n            setDefaultComponentAlignment(Alignment.MIDDLE_CENTER);\r\n            createUIComponents();\r\n            setSpacing(true);\r\n        }\r\n\r\n        private void createUIComponents() {\r\n            addComponent(new Label(&quot;HEADER&quot;));\r\n            addComponent(createRegistrationForm());\r\n            addComponent(new Label(&quot;TEST&quot;));\r\n        }\r\n\r\n        private FormLayout createRegistrationForm() {\r\n            final FormLayout layout = new FormLayout();\r\n            final TextField firstNameTextField = new TextField(&quot;firstName&quot;);\r\n            final TextField lastnameTextField = new TextField(&quot;lastname&quot;);\r\n            layout.addComponents(firstNameTextField, lastnameTextField);\r\n            return layout;\r\n    }\r\n\r\nWhat am I doing wrong, how can I center the FormLayout inside of the VerticalLayout?","title":"Vaadin FormLayout does not align centered","body":"<p>I have a VerticalLayout wrapping a Label and a FormLayout. The VerticalLayout aligns its components centered per default. The Label is aligned centered as expected. The FormLayout not.</p>\n\n<p>When I look at the component tree in the debug view the FormLayout has a width, spanning over the whole width of the VerticalLayout. But its children (textfields) are aligned to the left and have a lower width (I think the default value). </p>\n\n<p>My code:</p>\n\n<pre><code>@SpringView(name = RegisterView.VIEW_NAME)\n@DesignRoot\npublic class RegisterView extends VerticalLayout implements View {\n\n    protected static final String VIEW_NAME = \"register\";\n\n    @PostConstruct\n    void init() {\n        setSizeFull();\n        setDefaultComponentAlignment(Alignment.MIDDLE_CENTER);\n        createUIComponents();\n        setSpacing(true);\n    }\n\n    private void createUIComponents() {\n        addComponent(new Label(\"HEADER\"));\n        addComponent(createRegistrationForm());\n        addComponent(new Label(\"TEST\"));\n    }\n\n    private FormLayout createRegistrationForm() {\n        final FormLayout layout = new FormLayout();\n        final TextField firstNameTextField = new TextField(\"firstName\");\n        final TextField lastnameTextField = new TextField(\"lastname\");\n        layout.addComponents(firstNameTextField, lastnameTextField);\n        return layout;\n}\n</code></pre>\n\n<p>What am I doing wrong, how can I center the FormLayout inside of the VerticalLayout?</p>\n"},{"tags":["java","guice"],"answers":[{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648231224,"creation_date":1648185890,"answer_id":71612529,"question_id":71611712,"body_markdown":"**Edit**\r\n\r\nI did not know `MessageDigest` is a single use class. You showed an injection of that class, which by definition cannot provide multiple instances. So the question is flawed. \r\n\r\nYou must fix the problem by binding a factory function that creates an MD rather than the MD itself.  E.g. a Supplier:\r\n\r\n```java\r\nfinal MessageDigestModule extends AbstractModule {\r\n  @Provide\r\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\r\n    return () -&gt; MessageDigest.getInstance(&quot;MD5&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThen when creating the injector, install `new MessageDigestModule()`. \r\nYou will use `@Inject Supplier&lt;MessageDigest&gt; md5DigestSupplier;`. At the places where  you need one, you&#39;ll say `md5DigestSupplier.get()`.\r\n\r\nIf you&#39;ll need more than one kind of `MessageDigest`, then you should declare annotations and use them to separate the bindings.\r\n\r\n```\r\n@BindingAnnotation @Target({ FIELD, PARAMETER, METHOD }) @Retention(RUNTIME)\r\n@interface Md5 {}\r\n@BindingAnnotation @Target({ FIELD, PARAMETER, METHOD }) @Retention(RUNTIME)\r\n@interface Sha256 {}\r\n```\r\nand then\r\n```\r\nfinal MessageDigestModule extends AbstractModule {\r\n  @Provide\r\n  @Md5\r\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\r\n    return () -&gt; MessageDigest.getInstance(&quot;MD5&quot;);\r\n  }\r\n  @Provide\r\n  @Sha256\r\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\r\n    return () -&gt; MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd then finally:\r\n\r\n```\r\n@Inject\r\n@Sha256\r\nSupplier&lt;MessageDigest&gt; sha128DigestSupplier;\r\n```","title":"Create MessageDigest with Guice","body":"<p><strong>Edit</strong></p>\n<p>I did not know <code>MessageDigest</code> is a single use class. You showed an injection of that class, which by definition cannot provide multiple instances. So the question is flawed.</p>\n<p>You must fix the problem by binding a factory function that creates an MD rather than the MD itself.  E.g. a Supplier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final MessageDigestModule extends AbstractModule {\n  @Provide\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\n    return () -&gt; MessageDigest.getInstance(&quot;MD5&quot;);\n  }\n}\n</code></pre>\n<p>Then when creating the injector, install <code>new MessageDigestModule()</code>.\nYou will use <code>@Inject Supplier&lt;MessageDigest&gt; md5DigestSupplier;</code>. At the places where  you need one, you'll say <code>md5DigestSupplier.get()</code>.</p>\n<p>If you'll need more than one kind of <code>MessageDigest</code>, then you should declare annotations and use them to separate the bindings.</p>\n<pre><code>@BindingAnnotation @Target({ FIELD, PARAMETER, METHOD }) @Retention(RUNTIME)\n@interface Md5 {}\n@BindingAnnotation @Target({ FIELD, PARAMETER, METHOD }) @Retention(RUNTIME)\n@interface Sha256 {}\n</code></pre>\n<p>and then</p>\n<pre><code>final MessageDigestModule extends AbstractModule {\n  @Provide\n  @Md5\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\n    return () -&gt; MessageDigest.getInstance(&quot;MD5&quot;);\n  }\n  @Provide\n  @Sha256\n  Supplier&lt;MessageDigest&gt; provideMd5Digest() {\n    return () -&gt; MessageDigest.getInstance(&quot;SHA-256&quot;);\n  }\n}\n</code></pre>\n<p>And then finally:</p>\n<pre><code>@Inject\n@Sha256\nSupplier&lt;MessageDigest&gt; sha128DigestSupplier;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1648204886,"creation_date":1648193902,"answer_id":71613516,"question_id":71611712,"body_markdown":"`MessageDigest` is a very special class. All its instances are one-use only. Therefore it must be injected very carefully.\r\n\r\nFirst, you&#39;ll have to tell Guice to create multiple instances of the class. This is done as below in your `Module` class.\r\n\r\n```\r\n@Provides\r\nMessageDigest provideMD5() throws NoSuchAlgorithmException {\r\n  return MessageDigest.getInstance(&quot;MD5&quot;);\r\n}\r\n```\r\n\r\nThen, once you have your provider that can create instances everytime, it&#39;s injected, you might not actually want only one instance per injected instance. So you will probably have to do the following:\r\n\r\n```\r\n@Inject\r\nProvider&lt;MessageDigest&gt; md5Provider;\r\n\r\n...\r\n\r\n// Later in the class\r\nMessageDigest md5 = md5Provider.get();\r\n```","title":"Create MessageDigest with Guice","body":"<p><code>MessageDigest</code> is a very special class. All its instances are one-use only. Therefore it must be injected very carefully.</p>\n<p>First, you'll have to tell Guice to create multiple instances of the class. This is done as below in your <code>Module</code> class.</p>\n<pre><code>@Provides\nMessageDigest provideMD5() throws NoSuchAlgorithmException {\n  return MessageDigest.getInstance(&quot;MD5&quot;);\n}\n</code></pre>\n<p>Then, once you have your provider that can create instances everytime, it's injected, you might not actually want only one instance per injected instance. So you will probably have to do the following:</p>\n<pre><code>@Inject\nProvider&lt;MessageDigest&gt; md5Provider;\n\n...\n\n// Later in the class\nMessageDigest md5 = md5Provider.get();\n</code></pre>\n"}],"owner":{"account_id":3059409,"reputation":1537,"user_id":2592409,"accept_rate":85,"display_name":"Neeraj Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71613516,"answer_count":2,"score":1,"last_activity_date":1648231224,"creation_date":1648177474,"question_id":71611712,"body_markdown":"I&#39;m trying to find a way to initialize MessageDigest with Guice. Currently I have this:\r\n```\r\npublic class MyClass {\r\n\r\n\tMessageDigest md;\r\n\t\r\n\tpublic MyClass() {\r\n\t\ttry {\r\n\t\t\tmd = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n....\r\n}\r\n```\r\nI&#39;m trying to see if it can written as:\r\n```\r\n@Inject\r\nMessageDigest md;\r\n```\r\nBut how do I make Guice call ```MessageDigest.getInstance(&quot;MD5&quot;)``` ?","title":"Create MessageDigest with Guice","body":"<p>I'm trying to find a way to initialize MessageDigest with Guice. Currently I have this:</p>\n<pre><code>public class MyClass {\n\n    MessageDigest md;\n    \n    public MyClass() {\n        try {\n            md = MessageDigest.getInstance(&quot;MD5&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n....\n}\n</code></pre>\n<p>I'm trying to see if it can written as:</p>\n<pre><code>@Inject\nMessageDigest md;\n</code></pre>\n<p>But how do I make Guice call <code>MessageDigest.getInstance(&quot;MD5&quot;)</code> ?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1648034857,"post_id":71586360,"comment_id":126520465,"body_markdown":"What number do you expect `Integer.parseInt(&quot;some val&quot;, 27)` to return?","body":"What number do you expect <code>Integer.parseInt(&quot;some val&quot;, 27)</code> to return?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1648034904,"post_id":71586360,"comment_id":126520484,"body_markdown":"All the characters in &quot;Kona&quot; are digits in base 27. The characters in &quot;some val&quot; are not. You can parse letters as digits in base 36 instead of 27 (if that&#39;s something like what you were trying to do), but that won&#39;t work for the space.","body":"All the characters in &quot;Kona&quot; are digits in base 27. The characters in &quot;some val&quot; are not. You can parse letters as digits in base 36 instead of 27 (if that&#39;s something like what you were trying to do), but that won&#39;t work for the space."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1648034936,"post_id":71586360,"comment_id":126520503,"body_markdown":"@JonSkeet I don&#39;t know exactly, with the radix (with Kona in doc) it should return something","body":"@JonSkeet I don&#39;t know exactly, with the radix (with Kona in doc) it should return something"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1648035014,"post_id":71586360,"comment_id":126520532,"body_markdown":"Should it? Definitely? How do you expect it to treat the space? What do you expect `Character.digit(&#39; &#39;, 27)` to return?","body":"Should it? Definitely? How do you expect it to treat the space? What do you expect <code>Character.digit(&#39; &#39;, 27)</code> to return?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1648035600,"post_id":71586360,"comment_id":126520787,"body_markdown":"@JonSkeet 20 ? like %20 ? Different radix are here to make it works with all different chars. How do you think I should do ?","body":"@JonSkeet 20 ? like %20 ? Different radix are here to make it works with all different chars. How do you think I should do ?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1648035669,"post_id":71586360,"comment_id":126520811,"body_markdown":"@Elikill58: Well %20 is indicating a decimal value of 32, just in hex... but what I&#39;m suggesting to you is that you&#39;re asserting that `Integer.parseInt(&quot;some val&quot;, 27)` should return without throwing an exception, but that doesn&#39;t seem to be what the documentation says.","body":"@Elikill58: Well %20 is indicating a decimal value of 32, just in hex... but what I&#39;m suggesting to you is that you&#39;re asserting that <code>Integer.parseInt(&quot;some val&quot;, 27)</code> should return without throwing an exception, but that doesn&#39;t seem to be what the documentation says."}],"answers":[{"tags":[],"owner":{"account_id":3387140,"reputation":33,"user_id":2842873,"display_name":"Sandip Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648038834,"creation_date":1648036475,"answer_id":71586764,"question_id":71586360,"body_markdown":"Based on below wikipedia link of numeral system, Java will check each character of your input string against the range of radix parameter and if its not in range than it will throw exception.\r\n\r\nVisit https://en.wikipedia.org/wiki/List_of_numeral_systems,\r\n\r\nApart from that, Below is explanation from geeksforgeek site.\r\n\r\n- The string is null or of zero-length\r\n- The value represented by the string is not a value of type int\r\n- Specifically for the parseInt(String s, int radix) variant of the function: \r\n  * The second argument radix is either smaller than **Character.MIN_RADIX** or larger than **Character.MAX_RADIX**\r\n    * \r\n\r\n&gt; Each character of input string has min and max radix parameter.\r\n\r\n  * Any character of the string is not a digit of the specified radix, except that the first character may be a minus sign ‘-‘ (‘\\u002D’) or plus sign ‘+’ (‘\\u002B’) provided that the string is longer than length 1\r\n\r\n## Custom logic for conversion ##\r\n```\r\nString name = &quot;some val&quot;;\r\nlong key = 0;\r\nfor (int i = 0;i&lt;name.length();i++)\r\n    key+= (name.charAt(i) - &#39;a&#39;+1 ) * Math.pow(26,name.length() - i - 1 );\r\nSystem.out.println(key);\r\n```\r\nAbove code is taken https://stackoverflow.com/questions/58945955/converting-name-to-a-key-using-radix-26\r\n","title":"How to encrypt a string with another key?","body":"<p>Based on below wikipedia link of numeral system, Java will check each character of your input string against the range of radix parameter and if its not in range than it will throw exception.</p>\n<p>Visit <a href=\"https://en.wikipedia.org/wiki/List_of_numeral_systems\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_numeral_systems</a>,</p>\n<p>Apart from that, Below is explanation from geeksforgeek site.</p>\n<ul>\n<li>The string is null or of zero-length</li>\n<li>The value represented by the string is not a value of type int</li>\n<li>Specifically for the parseInt(String s, int radix) variant of the function:\n<ul>\n<li>The second argument radix is either smaller than <strong>Character.MIN_RADIX</strong> or larger than <strong>Character.MAX_RADIX</strong>\n*</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Each character of input string has min and max radix parameter.</p>\n</blockquote>\n<ul>\n<li>Any character of the string is not a digit of the specified radix, except that the first character may be a minus sign ‘-‘ (‘\\u002D’) or plus sign ‘+’ (‘\\u002B’) provided that the string is longer than length 1</li>\n</ul>\n<h2>Custom logic for conversion</h2>\n<pre><code>String name = &quot;some val&quot;;\nlong key = 0;\nfor (int i = 0;i&lt;name.length();i++)\n    key+= (name.charAt(i) - 'a'+1 ) * Math.pow(26,name.length() - i - 1 );\nSystem.out.println(key);\n</code></pre>\n<p>Above code is taken <a href=\"https://stackoverflow.com/questions/58945955/converting-name-to-a-key-using-radix-26\">Converting name to a key using radix-26</a></p>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648231165,"creation_date":1648231165,"answer_id":71621276,"question_id":71586360,"body_markdown":"I was looking to encrypt with another string. I get the idea to multiply both, and so convert them into int. But, it seems to have informations lost with operation.\r\n\r\nSo, I searched for another way, and I found this one:\r\n```java\r\nprivate static final String ALGORITHM = &quot;AES&quot;;\r\nprivate static final Key MY_KEY = new SecretKeySpec(&quot;16-char priv key&quot;.getBytes(), ALGORITHM);\r\n\r\nprivate Cipher getCipher(int mode) throws Exception {\r\n\tCipher c = Cipher.getInstance(ALGORITHM);\r\n\tc.init(mode, MY_KEY);\r\n\treturn c;\r\n}\r\n\r\npublic String encrypt(String valueToEnc) throws Exception {\r\n\treturn Base64.getEncoder().encodeToString(getCipher(Cipher.ENCRYPT_MODE).doFinal(valueToEnc.getBytes()));\r\n}\r\n\r\npublic String decrypt(String encryptedValue) throws Exception {\r\n\treturn new String(getCipher(Cipher.DECRYPT_MODE).doFinal(Base64.getDecoder().decode(encryptedValue)));\r\n}\r\n```\r\n\r\nHow it works ? It encrypt and decrypt with a key. This key should be a 16-chars one. Also, to make it easier to show/send/receive, it&#39;s converted into base 64.\r\n\r\nExample of how to use:\r\n```java\r\nString myVal = &quot;some val&quot;;\r\nString encrypt = encrypt(myVal);\r\nSystem.out.println(&quot;Encrypt: &quot; + encrypt);\r\nString decrypt = decrypt(encrypt);\r\nSystem.out.println(&quot;Decrypt: &quot; + decrypt);\r\n```\r\nOutput:\r\n```\r\nEncrypt: ERJZ7ZOJcNpQEAvrb6wPOA==\r\nDecrypt: some val\r\n```","title":"How to encrypt a string with another key?","body":"<p>I was looking to encrypt with another string. I get the idea to multiply both, and so convert them into int. But, it seems to have informations lost with operation.</p>\n<p>So, I searched for another way, and I found this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String ALGORITHM = &quot;AES&quot;;\nprivate static final Key MY_KEY = new SecretKeySpec(&quot;16-char priv key&quot;.getBytes(), ALGORITHM);\n\nprivate Cipher getCipher(int mode) throws Exception {\n    Cipher c = Cipher.getInstance(ALGORITHM);\n    c.init(mode, MY_KEY);\n    return c;\n}\n\npublic String encrypt(String valueToEnc) throws Exception {\n    return Base64.getEncoder().encodeToString(getCipher(Cipher.ENCRYPT_MODE).doFinal(valueToEnc.getBytes()));\n}\n\npublic String decrypt(String encryptedValue) throws Exception {\n    return new String(getCipher(Cipher.DECRYPT_MODE).doFinal(Base64.getDecoder().decode(encryptedValue)));\n}\n</code></pre>\n<p>How it works ? It encrypt and decrypt with a key. This key should be a 16-chars one. Also, to make it easier to show/send/receive, it's converted into base 64.</p>\n<p>Example of how to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myVal = &quot;some val&quot;;\nString encrypt = encrypt(myVal);\nSystem.out.println(&quot;Encrypt: &quot; + encrypt);\nString decrypt = decrypt(encrypt);\nSystem.out.println(&quot;Decrypt: &quot; + decrypt);\n</code></pre>\n<p>Output:</p>\n<pre><code>Encrypt: ERJZ7ZOJcNpQEAvrb6wPOA==\nDecrypt: some val\n</code></pre>\n"}],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71621276,"answer_count":2,"score":0,"last_activity_date":1648231165,"creation_date":1648034676,"question_id":71586360,"body_markdown":"I have a string than I want to encrypt to send it over an insecure channel.\r\n\r\nI want to:\r\n\r\nConvert to int `my-val` &amp; `my-private-key`. Then, multiply both. Send it. When receiving it, divide by `my-private-key` converted as int and get `my-val`.\r\n\r\nI tried to used `Integer.parseInt` and `Integer.toString` as suggested [here](https://stackoverflow.com/a/19607058/10952503). It seems to work with `System.out.println(Integer.parseInt(&quot;Kona&quot;, 27));` (as Java&#39;s documentation said)\r\n\r\nSo I made this:\r\n\r\n```\r\nint base = 27;\r\nString key = &quot;some key&quot;;\r\nString cmd = &quot;some val&quot;;\r\nint based = Integer.parseInt(cmd, base);\r\nSystem.out.println(&quot;Based: &quot; + based);\r\nint crypted = based * Integer.parseInt(key, base);\r\nSystem.out.println(&quot;Crypted: &quot; + crypted);\r\n// here use un-secure channel to send/receive\r\nint received = crypted;\r\nint back = received / Integer.parseInt(key, base);\r\nSystem.out.println(&quot;Get back: &quot; + back);\r\nSystem.out.println(&quot;Final result: &quot; + Integer.toString(back, base));\r\n```\r\n\r\nBut I get `Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;some val&quot;` at the 4st line.\r\n\r\nI tried with base 10, 16, 27, 32. Even if I understand why 10 &amp; 16 doesn&#39;t work, why 27 &amp; 32 don&#39;t ? How can I fix it ?","title":"How to encrypt a string with another key?","body":"<p>I have a string than I want to encrypt to send it over an insecure channel.</p>\n<p>I want to:</p>\n<p>Convert to int <code>my-val</code> &amp; <code>my-private-key</code>. Then, multiply both. Send it. When receiving it, divide by <code>my-private-key</code> converted as int and get <code>my-val</code>.</p>\n<p>I tried to used <code>Integer.parseInt</code> and <code>Integer.toString</code> as suggested <a href=\"https://stackoverflow.com/a/19607058/10952503\">here</a>. It seems to work with <code>System.out.println(Integer.parseInt(&quot;Kona&quot;, 27));</code> (as Java's documentation said)</p>\n<p>So I made this:</p>\n<pre><code>int base = 27;\nString key = &quot;some key&quot;;\nString cmd = &quot;some val&quot;;\nint based = Integer.parseInt(cmd, base);\nSystem.out.println(&quot;Based: &quot; + based);\nint crypted = based * Integer.parseInt(key, base);\nSystem.out.println(&quot;Crypted: &quot; + crypted);\n// here use un-secure channel to send/receive\nint received = crypted;\nint back = received / Integer.parseInt(key, base);\nSystem.out.println(&quot;Get back: &quot; + back);\nSystem.out.println(&quot;Final result: &quot; + Integer.toString(back, base));\n</code></pre>\n<p>But I get <code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;some val&quot;</code> at the 4st line.</p>\n<p>I tried with base 10, 16, 27, 32. Even if I understand why 10 &amp; 16 doesn't work, why 27 &amp; 32 don't ? How can I fix it ?</p>\n"},{"tags":["java","spring-boot","java-8","passwords","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1648237784,"post_id":71621122,"comment_id":126582384,"body_markdown":"this looks like you are using a mish-mash of incompatible jars - can you check your classpath and ensure that all the jar versions match? - this is far easier if you use a build tool like gradle or maven - which work out all the transitive dependencies and can be made to warn if they are incompatible","body":"this looks like you are using a mish-mash of incompatible jars - can you check your classpath and ensure that all the jar versions match? - this is far easier if you use a build tool like gradle or maven - which work out all the transitive dependencies and can be made to warn if they are incompatible"},{"owner":{"account_id":19812316,"reputation":1,"user_id":14510819,"display_name":"Akram Shaha"},"score":0,"creation_date":1649143214,"post_id":71621122,"comment_id":126794368,"body_markdown":"thank you. yes there is jar version mismatch in my project setup. I have tried running it on different system with same configuration and it works.","body":"thank you. yes there is jar version mismatch in my project setup. I have tried running it on different system with same configuration and it works."}],"owner":{"account_id":19812316,"reputation":1,"user_id":14510819,"display_name":"Akram Shaha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648230294,"creation_date":1648230294,"question_id":71621122,"body_markdown":"org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException: Fail to save: an error occurs while saving the package : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream (org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @588ab592; java.util.zip.ZipFile$ZipFileInputStream is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n&gt; I am using java 1.8 with apache poi 3.17\r\n\r\n\r\nHere is my code :\r\n```\r\ntry {\r\n      POIFSFileSystem fs = new POIFSFileSystem();\r\n      EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\r\n      Encryptor encryptor = info.getEncryptor();\r\n      encryptor.confirmPassword(&quot;abcdef&quot;);\r\n\r\n      OPCPackage opc = OPCPackage.open(new File(filePathPass), PackageAccess.READ_WRITE);\r\n      OutputStream os = encryptor.getDataStream(fs);\r\n      opc.save(os);\r\n      opc.close();\r\n\r\n      FileOutputStream fos = new FileOutputStream(filePathPass);\r\n      fs.writeFilesystem(fos);\r\n      fos.close();\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n","title":"I am trying to make .docx file password protected using apache poi but it gives me below exception","body":"<p>org.apache.poi.openxml4j.exceptions.OpenXML4JRuntimeException: Fail to save: an error occurs while saving the package : class org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream cannot be cast to class java.util.zip.ZipFile$ZipFileInputStream (org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @588ab592; java.util.zip.ZipFile$ZipFileInputStream is in module java.base of loader 'bootstrap')</p>\n<blockquote>\n<p>I am using java 1.8 with apache poi 3.17</p>\n</blockquote>\n<p>Here is my code :</p>\n<pre><code>try {\n      POIFSFileSystem fs = new POIFSFileSystem();\n      EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\n      Encryptor encryptor = info.getEncryptor();\n      encryptor.confirmPassword(&quot;abcdef&quot;);\n\n      OPCPackage opc = OPCPackage.open(new File(filePathPass), PackageAccess.READ_WRITE);\n      OutputStream os = encryptor.getDataStream(fs);\n      opc.save(os);\n      opc.close();\n\n      FileOutputStream fos = new FileOutputStream(filePathPass);\n      fs.writeFilesystem(fos);\n      fos.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","javax.validation"],"comments":[{"owner":{"display_name":"user17888319"},"score":0,"creation_date":1648216827,"post_id":71617834,"comment_id":126575217,"body_markdown":"Does anybody else have any idea?","body":"Does anybody else have any idea?"},{"owner":{"display_name":"user17888319"},"score":0,"creation_date":1648223628,"post_id":71617834,"comment_id":126577943,"body_markdown":"But I use `javax.validation` and I think that answer cannot solve my problem. Can it?","body":"But I use <code>javax.validation</code> and I think that answer cannot solve my problem. Can it?"},{"owner":{"display_name":"user17888319"},"score":0,"creation_date":1648224216,"post_id":71617834,"comment_id":126578171,"body_markdown":"@İsmailY. Amigo? Any reply please?","body":"@İsmailY. Amigo? Any reply please?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648229968,"creation_date":1648223688,"answer_id":71619795,"question_id":71617834,"body_markdown":"`${fieldName}` could not be retrieved easily inside the annotation without major modifications inside the core mechanism that makes the evaluation.\r\n\r\nAn easier way to achieve what you want, considering that for each field the name would be different, is the following.\r\n\r\nInside properties file put the property \r\n\r\n    validation.amount.positiveOrZero= value must be positive or zero\r\n\r\nAnd then define the annotation in the code as\r\n\r\n    @PositiveOrZero(message = &quot;The quantity {validation.amount.positiveOrZero}&quot;)\r\n    int quantity;\r\n\r\n**Edit:**\r\nIt seems that the property should not be defined in a simple application.properties file but in another file named `ValidationMessages.properties` in the classpath.\r\n\r\nAs documented [here][1]\r\n\r\n&gt; setValidationMessageSource(MessageSource messageSource) Specify a\r\n&gt; custom Spring MessageSource for resolving validation messages, instead\r\n&gt; of relying on **JSR-303&#39;s default &quot;ValidationMessages.properties&quot; bundle\r\n&gt; in the classpath.**\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html","title":"Java validation: Cannot interpolate field name in validation message","body":"<p><code>${fieldName}</code> could not be retrieved easily inside the annotation without major modifications inside the core mechanism that makes the evaluation.</p>\n<p>An easier way to achieve what you want, considering that for each field the name would be different, is the following.</p>\n<p>Inside properties file put the property</p>\n<pre><code>validation.amount.positiveOrZero= value must be positive or zero\n</code></pre>\n<p>And then define the annotation in the code as</p>\n<pre><code>@PositiveOrZero(message = &quot;The quantity {validation.amount.positiveOrZero}&quot;)\nint quantity;\n</code></pre>\n<p><strong>Edit:</strong>\nIt seems that the property should not be defined in a simple application.properties file but in another file named <code>ValidationMessages.properties</code> in the classpath.</p>\n<p>As documented <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>setValidationMessageSource(MessageSource messageSource) Specify a\ncustom Spring MessageSource for resolving validation messages, instead\nof relying on <strong>JSR-303's default &quot;ValidationMessages.properties&quot; bundle\nin the classpath.</strong></p>\n</blockquote>\n"}],"owner":{"display_name":"user17888319"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71619795,"answer_count":1,"score":1,"last_activity_date":1648229968,"creation_date":1648215352,"question_id":71617834,"body_markdown":"I tried the approach mentioned on [How get property name in a validation message](https://stackoverflow.com/questions/30809402/javax-validation-how-get-property-name-in-a-validation-message), but cannot apply it to the following situation. \r\n\r\n\r\n```\r\n@Data\r\npublic class CompanyRequest {\r\n\r\n    @PositiveOrZero(message = &quot;validation.amount.positiveOrZero&quot;)\r\n    int quantity;\r\n\r\n    // code omitted for brevity\r\n\r\n}\r\n```\r\n\r\nHere is my `*.properties` file having message:\r\n\r\n```\r\nvalidation.amount.positiveOrZero=The ${fieldName} value must be positive or zero\r\n```\r\n\r\nSo, how can I use the property name in the validation message? ","title":"Java validation: Cannot interpolate field name in validation message","body":"<p>I tried the approach mentioned on <a href=\"https://stackoverflow.com/questions/30809402/javax-validation-how-get-property-name-in-a-validation-message\">How get property name in a validation message</a>, but cannot apply it to the following situation.</p>\n<pre><code>@Data\npublic class CompanyRequest {\n\n    @PositiveOrZero(message = &quot;validation.amount.positiveOrZero&quot;)\n    int quantity;\n\n    // code omitted for brevity\n\n}\n</code></pre>\n<p>Here is my <code>*.properties</code> file having message:</p>\n<pre><code>validation.amount.positiveOrZero=The ${fieldName} value must be positive or zero\n</code></pre>\n<p>So, how can I use the property name in the validation message?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1648229150,"post_id":71618579,"comment_id":126579862,"body_markdown":"It&#39;s done all the time with two methods, one calling the other with the default-Parameter","body":"It&#39;s done all the time with two methods, one calling the other with the default-Parameter"}],"answers":[{"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648228680,"creation_date":1648228680,"answer_id":71620811,"question_id":71618579,"body_markdown":"I think Arbitrary Number of Arguments may work for you.\r\n\r\nhttp://java.sun.com/docs/books/tutorial/java/javaOO/arguments.html#varargs\r\n\r\nSo the Bean now will be only one like:\r\n\r\n```\r\npublic String getMessageWithArgs(@Header(&quot;functionId&quot;) String functionId, \r\n            @Header(&quot;arguments&quot;) String... arguments) {\r\n        String messageId = arguments[0];\r\n        //Doing something to get the message\r\n        return message;\r\n    }\r\n```\r\n\r\nI&#39;m not sure if it can be like that, but it might be a way can help..","title":"Making a bean parameter optional","body":"<p>I think Arbitrary Number of Arguments may work for you.</p>\n<p><a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/arguments.html#varargs\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/java/javaOO/arguments.html#varargs</a></p>\n<p>So the Bean now will be only one like:</p>\n<pre><code>public String getMessageWithArgs(@Header(&quot;functionId&quot;) String functionId, \n            @Header(&quot;arguments&quot;) String... arguments) {\n        String messageId = arguments[0];\n        //Doing something to get the message\n        return message;\n    }\n</code></pre>\n<p>I'm not sure if it can be like that, but it might be a way can help..</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648229403,"creation_date":1648229403,"answer_id":71620958,"question_id":71618579,"body_markdown":"If your goal is to keep only one method, keep only the method where you have all arguments knowing that if the header `arguments` has not been set, its value will be `null`.\r\n\r\n\r\n    public String getMessage(@Header(&quot;functionId&quot;) String functionId,\r\n            @Header(&quot;messageId&quot;) String messageId, \r\n            @Header(&quot;arguments&quot;) List&lt;String&gt;  arguments) {\r\n        if (arguments == null || arguments.isEmpty()) {\r\n           // No arguments have been provided\r\n        } else {\r\n           // Arguments have been provided\r\n        }\r\n        return message;\r\n    }\r\n","title":"Making a bean parameter optional","body":"<p>If your goal is to keep only one method, keep only the method where you have all arguments knowing that if the header <code>arguments</code> has not been set, its value will be <code>null</code>.</p>\n<pre><code>public String getMessage(@Header(&quot;functionId&quot;) String functionId,\n        @Header(&quot;messageId&quot;) String messageId, \n        @Header(&quot;arguments&quot;) List&lt;String&gt;  arguments) {\n    if (arguments == null || arguments.isEmpty()) {\n       // No arguments have been provided\n    } else {\n       // Arguments have been provided\n    }\n    return message;\n}\n</code></pre>\n"}],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71620958,"answer_count":2,"score":2,"last_activity_date":1648229403,"creation_date":1648218425,"question_id":71618579,"body_markdown":"I have the below route and bean to get the message from the property file. In some message I have to replace the arguments in the message. Therefore I have looked for a solution without writing 2 methods in the bean one with arguments (`getMessageWithArgs`) and the second without arguments (`getMessage`).\r\n\r\nIs it doable to get rid of `getMessageWithArgs` in the bean by using DSL in the route or to make the arguments in the `getMessage` optional so I have at the end one method in the bean?\r\n\r\n**Route**\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n    \r\n    \tfrom(&quot;activemq:queue:1234&quot;)\r\n    \t\t.setHeader(&quot;functionId&quot;, simple(FUNCTION_ID))\r\n    \t\t.process(new Processor() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void process(Exchange exchange) throws Exception {\r\n    \t\t\t\tMessage message = exchange.getIn();\r\n                    message.setHeader(&quot;messageId&quot;, &quot;notice_1234_error_messageBox_1&quot;);\r\n    //\t\t\t\tList&lt;String&gt; arguments = Arrays.asList(&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;);\r\n    //\t\t\t\tmessage.setHeader(&quot;arguments&quot;, arguments);\r\n    \t\t\t}\t\r\n    \t\t})\r\n    \t.setHeader(&quot;message&quot;).method(&quot;messageBean&quot;, &quot;getMessage( ${header.functionId}, ${header.messageId})&quot;)\r\n    \t//.setHeader(&quot;message&quot;).method(&quot;messageBean&quot;, &quot;getMessageWithArgs( ${header.functionId}, ${header.messageId}, ${header.arguments})&quot;) \r\n    \t.log(&quot;after calling getMessageWithoutValidation: ${body}&quot;);\r\n    }\r\n\r\n\r\n----------------------------\r\n\r\n**Bean**\r\n\r\n    @Component\r\n    public class MessageBean {\r\n    \r\n    \tpublic String getMessage(@Header(&quot;functionId&quot;) String functionId, \r\n                @Header(&quot;messageId&quot;) String messageId) {\r\n            //Doing something to get the message\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getMessageWithArgs(@Header(&quot;functionId&quot;) String functionId,\r\n    \t\t\t@Header(&quot;messageId&quot;) String messageId, \r\n                @Header(&quot;arguments&quot;) List&lt;String&gt;  arguments) {\r\n    \t\t//Doing something to get the message\r\n    \t\treturn message;\r\n    \t}\r\n    }\r\n\r\n","title":"Making a bean parameter optional","body":"<p>I have the below route and bean to get the message from the property file. In some message I have to replace the arguments in the message. Therefore I have looked for a solution without writing 2 methods in the bean one with arguments (<code>getMessageWithArgs</code>) and the second without arguments (<code>getMessage</code>).</p>\n<p>Is it doable to get rid of <code>getMessageWithArgs</code> in the bean by using DSL in the route or to make the arguments in the <code>getMessage</code> optional so I have at the end one method in the bean?</p>\n<p><strong>Route</strong></p>\n<pre><code>@Override\npublic void configure() throws Exception {\n\n    from(&quot;activemq:queue:1234&quot;)\n        .setHeader(&quot;functionId&quot;, simple(FUNCTION_ID))\n        .process(new Processor() {\n            @Override\n            public void process(Exchange exchange) throws Exception {\n                Message message = exchange.getIn();\n                message.setHeader(&quot;messageId&quot;, &quot;notice_1234_error_messageBox_1&quot;);\n//              List&lt;String&gt; arguments = Arrays.asList(&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;);\n//              message.setHeader(&quot;arguments&quot;, arguments);\n            }   \n        })\n    .setHeader(&quot;message&quot;).method(&quot;messageBean&quot;, &quot;getMessage( ${header.functionId}, ${header.messageId})&quot;)\n    //.setHeader(&quot;message&quot;).method(&quot;messageBean&quot;, &quot;getMessageWithArgs( ${header.functionId}, ${header.messageId}, ${header.arguments})&quot;) \n    .log(&quot;after calling getMessageWithoutValidation: ${body}&quot;);\n}\n</code></pre>\n<hr />\n<p><strong>Bean</strong></p>\n<pre><code>@Component\npublic class MessageBean {\n\n    public String getMessage(@Header(&quot;functionId&quot;) String functionId, \n            @Header(&quot;messageId&quot;) String messageId) {\n        //Doing something to get the message\n        return message;\n    }\n\n\n    public String getMessageWithArgs(@Header(&quot;functionId&quot;) String functionId,\n            @Header(&quot;messageId&quot;) String messageId, \n            @Header(&quot;arguments&quot;) List&lt;String&gt;  arguments) {\n        //Doing something to get the message\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jsf","primefaces"],"comments":[{"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"score":0,"creation_date":1484334575,"post_id":41641707,"comment_id":70483374,"body_markdown":"check if you have extra spaces in pom.xml","body":"check if you have extra spaces in pom.xml"},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484334641,"post_id":41641707,"comment_id":70483410,"body_markdown":"Would formatting the text using netbeans fix that.","body":"Would formatting the text using netbeans fix that."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1484334911,"post_id":41641707,"comment_id":70483551,"body_markdown":"How can you have that error when `org.primefaces` isn&#39;t in the POM?","body":"How can you have that error when <code>org.primefaces</code> isn&#39;t in the POM?"},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484335051,"post_id":41641707,"comment_id":70483618,"body_markdown":"What would I have to add? Link?","body":"What would I have to add? Link?"},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484335362,"post_id":41641707,"comment_id":70483762,"body_markdown":"I don&#39;t know what more I can do beside pasted all whole code.","body":"I don&#39;t know what more I can do beside pasted all whole code."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1484336158,"post_id":41641707,"comment_id":70484139,"body_markdown":"Can you run a console maven output for the command `mvn install` from your folder application? So we can see what exactly is the error with your POM. You of course will need maven on your path to run it from your console. (windows, linux, whatever)","body":"Can you run a console maven output for the command <code>mvn install</code> from your folder application? So we can see what exactly is the error with your POM. You of course will need maven on your path to run it from your console. (windows, linux, whatever)"},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484336278,"post_id":41641707,"comment_id":70484201,"body_markdown":"I don&#39;t know how to do that that. Can I just get a copy of someone&#39;s Pom.xml","body":"I don&#39;t know how to do that that. Can I just get a copy of someone&#39;s Pom.xml"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1484336433,"post_id":41641707,"comment_id":70484280,"body_markdown":"Type it yourself instead of copypasting.","body":"Type it yourself instead of copypasting."},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484342190,"post_id":41641707,"comment_id":70486976,"body_markdown":"What&#39;s the difference","body":"What&#39;s the difference"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1484349598,"post_id":41641707,"comment_id":70489692,"body_markdown":"No additional accidental wrong charachters","body":"No additional accidental wrong charachters"},{"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"score":0,"creation_date":1484598108,"post_id":41641707,"comment_id":70565905,"body_markdown":"So do I only need to add the dependency to Pom.xml","body":"So do I only need to add the dependency to Pom.xml"}],"owner":{"account_id":10029138,"reputation":43,"user_id":7416387,"display_name":"Gova DEster"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648229170,"creation_date":1484334231,"question_id":41641707,"body_markdown":"Can I have an updated process on how to download primefaces with maven.\r\n\r\nI tried using the process provided by primefaces.org but, I get errors in the pom.xml file.\r\n\r\n[Error 1][1]\r\n\r\n**This is the description of the error.**\r\n\r\nNon-parseable POM C:\\Users\\phili_000.SHELTON5\\Documents\\ AVA8\\EE\\pom.xml: expected START_TAG or END_TAG not TEXT (position: TEXT seen ...&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\\ua0\\ua0\\r\\n            \\ua0\\ua0\\ua0&lt;a... @26:18) \r\n\r\nMisspelled Word\r\n\r\nTurn selected text to property\r\n----\r\nI have looked for videos and posts that will help me but non seem to work.\r\nI did find a post some were that had the same error message. \r\n\r\nThis [guy][2] was trying to install a framework like I was. Maybe that post will help answer this question.\r\n\r\n**What I did**\r\n\r\nI copied and pasted:\r\n\r\n    &lt;dependency&gt;&#160;&#160;\r\n    &#160;&#160;&#160;&#160;&lt;groupId&gt;org.primefaces&lt;/groupId&gt;&#160;&#160;\r\n    &#160;&#160;&#160;&#160;&lt;artifactId&gt;primefaces&lt;/artifactId&gt;&#160;&#160;\r\n    &#160;&#160;&#160;&#160;&lt;version&gt;6.0&lt;/version&gt;&#160;&#160;\r\n    &lt;/dependency&gt;&#160;&#160;\r\n\r\n**That, In this:** \r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n[1]: https://i.stack.imgur.com/4ttYY.png\r\n  [2]: https://issues.apache.org/jira/browse/MNG-5848\r\n\r\n**What I want**\r\nI want an updated process on how to download primefaces with marven.\r\n\r\n\r\n**FIle: pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;EE&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;EE&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n          \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                &lt;silent&gt;true&lt;/silent&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                        &lt;version&gt;7.0&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"maven primefaces downloading error: Non-parseable POM","body":"<p>Can I have an updated process on how to download primefaces with maven.</p>\n<p>I tried using the process provided by primefaces.org but, I get errors in the pom.xml file.</p>\n<p><a href=\"https://i.stack.imgur.com/4ttYY.png\" rel=\"nofollow noreferrer\">Error 1</a></p>\n<p><strong>This is the description of the error.</strong></p>\n<p>Non-parseable POM C:\\Users\\phili_000.SHELTON5\\Documents\\ AVA8\\EE\\pom.xml: expected START_TAG or END_TAG not TEXT (position: TEXT seen ...org.primefaces\\ua0\\ua0\\r\\n            \\ua0\\ua0\\ua0&lt;a... @26:18)</p>\n<p>Misspelled Word</p>\n<h2>Turn selected text to property</h2>\n<p>I have looked for videos and posts that will help me but non seem to work.\nI did find a post some were that had the same error message.</p>\n<p>This <a href=\"https://issues.apache.org/jira/browse/MNG-5848\" rel=\"nofollow noreferrer\">guy</a> was trying to install a framework like I was. Maybe that post will help answer this question.</p>\n<p><strong>What I did</strong></p>\n<p>I copied and pasted:</p>\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.primefaces&lt;/groupId&gt;  \n    &lt;artifactId&gt;primefaces&lt;/artifactId&gt;  \n    &lt;version&gt;6.0&lt;/version&gt;  \n&lt;/dependency&gt;  \n</code></pre>\n<p><strong>That, In this:</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>What I want</strong>\nI want an updated process on how to download primefaces with marven.</p>\n<p><strong>FIle: pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;EE&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;EE&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n      \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648285488,"post_id":71620767,"comment_id":126589545,"body_markdown":"Is any of the Toast messages displayed? Is any of the onComplete even triggered?","body":"Is any of the Toast messages displayed? Is any of the onComplete even triggered?"},{"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"score":0,"creation_date":1648297825,"post_id":71620767,"comment_id":126591659,"body_markdown":"@AlexMamo Nope. The only toast that is working is when it fails to register a user. When it does register a user it just exists the activity without any toast.","body":"@AlexMamo Nope. The only toast that is working is when it fails to register a user. When it does register a user it just exists the activity without any toast."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648456960,"post_id":71620767,"comment_id":126619521,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1648854643,"post_id":71620767,"comment_id":126737758,"body_markdown":"use `addOnFailureListener()` to display the error that occurs to the user.","body":"use <code>addOnFailureListener()</code> to display the error that occurs to the user."}],"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648228699,"creation_date":1648228389,"question_id":71620767,"body_markdown":"I am trying to be able to register users into my database.\r\nAfter I register the users they are being added to my firebase authentication which is great but nothing is changed in my Realtime Database.\r\nIt&#39;s worth mentioning that my Firebase location isn&#39;t in the US.\r\nI have tried many different things:\r\n1. Put the firebase link inide of the &quot;getInstance()&quot;\r\n2. Replace the current google-services file with an updated one, including the Firebase&#39;s link inside of it\r\n3. use getReferenceFromUrl() with the firebase&#39;s link inside of it.\r\n\r\nNone of those seemed to work.\r\n\r\nMain part of the code in which I&#39;m trying to register the user:\r\n```\r\n  mAuth.createUserWithEmailAndPassword(email,password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            User user = new User(name, email, password);\r\n\r\n                            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                                    .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                                    .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                    if (task.isSuccessful()){\r\n                                        Toast.makeText(RegisterUser.this, &quot;User Registered&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                    }else{\r\n                                        Toast.makeText(RegisterUser.this, &quot;Failed to register user&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                                    }\r\n\r\n                                }\r\n                            });\r\n\r\n                        }else{\r\n                            Toast.makeText(RegisterUser.this, &quot;Failed to register user&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n```\r\n\r\nThese are the Realtime Database rules:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;true&quot;,\r\n    &quot;.write&quot;: &quot;true&quot;\r\n  }\r\n}\r\n```\r\n\r\nIt&#39;s worth noting that I have tried everything I found, including an answer to the same question in this site. Unfortunately none seem to work for me so I had to ask to understand the issue.\r\n\r\nThanks.","title":"Users added to Firebase Authentication but not to RealTime Database","body":"<p>I am trying to be able to register users into my database.\nAfter I register the users they are being added to my firebase authentication which is great but nothing is changed in my Realtime Database.\nIt's worth mentioning that my Firebase location isn't in the US.\nI have tried many different things:</p>\n<ol>\n<li>Put the firebase link inide of the &quot;getInstance()&quot;</li>\n<li>Replace the current google-services file with an updated one, including the Firebase's link inside of it</li>\n<li>use getReferenceFromUrl() with the firebase's link inside of it.</li>\n</ol>\n<p>None of those seemed to work.</p>\n<p>Main part of the code in which I'm trying to register the user:</p>\n<pre><code>  mAuth.createUserWithEmailAndPassword(email,password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()){\n                            User user = new User(name, email, password);\n\n                            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                                    .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                                    .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                    if (task.isSuccessful()){\n                                        Toast.makeText(RegisterUser.this, &quot;User Registered&quot;, Toast.LENGTH_SHORT).show();\n\n                                    }else{\n                                        Toast.makeText(RegisterUser.this, &quot;Failed to register user&quot;, Toast.LENGTH_SHORT).show();\n\n\n                                    }\n\n                                }\n                            });\n\n                        }else{\n                            Toast.makeText(RegisterUser.this, &quot;Failed to register user&quot;, Toast.LENGTH_SHORT).show();\n\n\n                        }\n\n                    }\n                });\n\n</code></pre>\n<p>These are the Realtime Database rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;true&quot;,\n    &quot;.write&quot;: &quot;true&quot;\n  }\n}\n</code></pre>\n<p>It's worth noting that I have tried everything I found, including an answer to the same question in this site. Unfortunately none seem to work for me so I had to ask to understand the issue.</p>\n<p>Thanks.</p>\n"},{"tags":["java","hadoop","hdfs","kerberos","on-premises-instances"],"comments":[{"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"score":1,"creation_date":1648225151,"post_id":71619986,"comment_id":126578514,"body_markdown":"Connection refused or timeout usually means that host:port are inaccessible from the place where your run the application. First, try to &quot;telnet&quot; there","body":"Connection refused or timeout usually means that host:port are inaccessible from the place where your run the application. First, try to &quot;telnet&quot; there"},{"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"score":1,"creation_date":1648225166,"post_id":71619986,"comment_id":126578520,"body_markdown":"telnet 10.30.20.40 50070","body":"telnet 10.30.20.40 50070"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":1,"creation_date":1648226451,"post_id":71619986,"comment_id":126578954,"body_markdown":"Please add the relevant parts of the stacktrace. I guess it&#39;s not the webhdfs connection that&#39;s the problem, but the kerberos connection. A stacktrace will confirm that.","body":"Please add the relevant parts of the stacktrace. I guess it&#39;s not the webhdfs connection that&#39;s the problem, but the kerberos connection. A stacktrace will confirm that."},{"owner":{"account_id":14237742,"reputation":741,"user_id":10454562,"display_name":"Venkatesh Gotimukul"},"score":0,"creation_date":1648226920,"post_id":71619986,"comment_id":126579107,"body_markdown":"@GeertPt I added the stack traces.","body":"@GeertPt I added the stack traces."},{"owner":{"account_id":14237742,"reputation":741,"user_id":10454562,"display_name":"Venkatesh Gotimukul"},"score":0,"creation_date":1648227040,"post_id":71619986,"comment_id":126579149,"body_markdown":"@IgorKanshyn I am able to ping those hosts without port, with port I am getting &quot;Could not find host&quot;. I removed port from code but it still results in same error","body":"@IgorKanshyn I am able to ping those hosts without port, with port I am getting &quot;Could not find host&quot;. I removed port from code but it still results in same error"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1648263187,"post_id":71619986,"comment_id":126586851,"body_markdown":"I suppose &quot;my_username&quot; in your UGI call is actually a kerberos principal.","body":"I suppose &quot;my_username&quot; in your UGI call is actually a kerberos principal."},{"owner":{"account_id":14237742,"reputation":741,"user_id":10454562,"display_name":"Venkatesh Gotimukul"},"score":0,"creation_date":1648270527,"post_id":71619986,"comment_id":126587497,"body_markdown":"@mazaneicha yes it is a kerberos principal.","body":"@mazaneicha yes it is a kerberos principal."},{"owner":{"account_id":14237742,"reputation":741,"user_id":10454562,"display_name":"Venkatesh Gotimukul"},"score":0,"creation_date":1648279622,"post_id":71619986,"comment_id":126588616,"body_markdown":"@mazaneicha It is part of the keytab file but for some reason this is where it is failing &quot;failure to login: for principal:&quot; I printed the principals using ktutils and I do see my principal in the keytab file","body":"@mazaneicha It is part of the keytab file but for some reason this is where it is failing &quot;failure to login: for principal:&quot; I printed the principals using ktutils and I do see my principal in the keytab file"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":1,"creation_date":1648301741,"post_id":71619986,"comment_id":126592411,"body_markdown":"Maybe you can add `-Dsun.security.krb5.debug=true` when running your code, and see if output gives any hints.","body":"Maybe you can add <code>-Dsun.security.krb5.debug=true</code> when running your code, and see if output gives any hints."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648227975,"creation_date":1648227975,"answer_id":71620676,"question_id":71619986,"body_markdown":"As I suspected, the problem is not with the WebHDFS, but with Kerberos.\r\n\r\nLook into the krb5.conf file to see what `kdc` you are trying to connect with. You can probably not access it from your client.","title":"javax.security.auth.login.LoginException: Receive timed out - while trying to connect to hadoop On-prem machine","body":"<p>As I suspected, the problem is not with the WebHDFS, but with Kerberos.</p>\n<p>Look into the krb5.conf file to see what <code>kdc</code> you are trying to connect with. You can probably not access it from your client.</p>\n"}],"owner":{"account_id":14237742,"reputation":741,"user_id":10454562,"display_name":"Venkatesh Gotimukul"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648227975,"creation_date":1648224572,"question_id":71619986,"body_markdown":"I am trying to connect to a hadoop On-prem node to list files or create HDFS object. I got all the necessary files from the machine like hdfs-site.xml, core-site.xml, krb5.conf and keytab as well.\r\n\r\nBelow is the method to get hdfs \r\n\r\n    public org.apache.hadoop.fs.FileSystem getHdfsOnPrem(String coreSiteXml, String hdfsSiteXml, String krb5confLoc, String keyTabLoc){\r\n\r\n    // Setup the configuration object.\r\n\r\n    try {\r\n\r\n        Configuration config = new Configuration();\r\n\r\n        config.addResource(new org.apache.hadoop.fs.Path(coreSiteXml));\r\n        config.addResource(new org.apache.hadoop.fs.Path(hdfsSiteXml));\r\n        config.set(&quot;hadoop.security.authentication&quot;, &quot;Kerberos&quot;);\r\n        config.addResource(krb5confLoc);\r\n        config.set(&quot;fs.hdfs.impl&quot;,org.apache.hadoop.hdfs.DistributedFileSystem.class.getName());\r\n        config.set(&quot;fs.file.impl&quot;,org.apache.hadoop.fs.LocalFileSystem.class.getName());\r\n        System.setProperty(&quot;java.security.krb5.conf&quot;, krb5confLoc);\r\n        config.set(&quot;fs.defaultFS&quot;, &quot;webhdfs://10.30.20.40:50070&quot;);\r\n        config.set(&quot;fs.webhdfs.impl&quot;, org.apache.hadoop.hdfs.web.WebHdfsFileSystem.class.getName());\r\n        config.set(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;, &quot;required&quot;);\r\n        org.apache.hadoop.security.HadoopKerberosName.setConfiguration(config);\r\n        UserGroupInformation.setConfiguration(config);\r\n        UserGroupInformation.loginUserFromKeytab(&quot;my_username&quot;, keyTabLoc);\r\n        URI uri = URI.create(&quot;webhdfs://10.30.20.40:50070&quot;);\r\n        return org.apache.hadoop.fs.FileSystem.get(uri,config);\r\n    }\r\n    catch(Exception ex) {\r\n        ex.printStackTrace(new PrintWriter(errors));\r\n        LOGGER.error(errors.toString());\r\n        ex.printStackTrace();\r\n        return null;\r\n        }\r\n    }\r\n\r\n\r\nI tried adding below statement\r\n\r\n    [libdefaults]\r\n    udp_preference_limit = 1\r\n\r\nBut it results in Connection refused. Any pointers are appreciated.\r\n\r\nBelow is the complete stack trace for Receive timedout error\r\n\r\n    org.apache.hadoop.security.KerberosAuthException: failure to login: for principal: my_username from keytab C:\\Users\\username\\IdeaProjects\\my-project-name\\target\\classes\\my_username.user.keytab javax.security.auth.login.LoginException: Receive timed out\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1952)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytabAndReturnUGI(UserGroupInformation.java:1328)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:1114)\r\n    \tat com.tmus.qtm.k8s.edr.common.Utils.getHdfsOnPrem(Utils.java:152)\r\n    \tat com.tmus.qtm.k8s.edr.app.PrintFileNames.main(PrintFileNames.java:84)\r\n    Caused by: javax.security.auth.login.LoginException: Receive timed out\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:812)\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\r\n    \tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\r\n    \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\r\n    \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\r\n    \tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\r\n    \tat org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2031)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1942)\r\n    \t... 4 more\r\n    Caused by: java.net.SocketTimeoutException: Receive timed out\r\n    \tat java.net.DualStackPlainDatagramSocketImpl.socketReceiveOrPeekData(Native Method)\r\n    \tat java.net.DualStackPlainDatagramSocketImpl.receive0(DualStackPlainDatagramSocketImpl.java:124)\r\n    \tat java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)\r\n    \tat java.net.DatagramSocket.receive(DatagramSocket.java:812)\r\n    \tat sun.security.krb5.internal.UDPClient.receive(NetClient.java:206)\r\n    \tat sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:404)\r\n    \tat sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:364)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:348)\r\n    \tat sun.security.krb5.KdcComm.sendIfPossible(KdcComm.java:253)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:229)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:200)\r\n    \tat sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:316)\r\n    \tat sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:780)\r\n    \t... 18 more\r\n\r\n\r\nIf I add [libdefaults] udp_preference_limit = 1 to krb5.conf below is the stackTrace\r\n\r\n    org.apache.hadoop.security.KerberosAuthException: failure to login: for principal: my_username from keytab C:\\Users\\username\\IdeaProjects\\my_project\\target\\classes\\my_username.user.keytab javax.security.auth.login.LoginException: Connection refused: connect\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1952)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytabAndReturnUGI(UserGroupInformation.java:1328)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:1114)\r\n    \tat com.tmus.qtm.k8s.edr.common.Utils.getHdfsOnPrem(Utils.java:152)\r\n    \tat com.tmus.qtm.k8s.edr.app.PrintFileNames.main(PrintFileNames.java:84)\r\n    Caused by: javax.security.auth.login.LoginException: Connection refused: connect\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:812)\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\r\n    \tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\r\n    \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\r\n    \tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\r\n    \tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\r\n    \tat org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2031)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1942)\r\n    \t... 4 more\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:606)\r\n    \tat sun.security.krb5.internal.TCPClient.&lt;init&gt;(NetClient.java:63)\r\n    \tat sun.security.krb5.internal.NetClient.getInstance(NetClient.java:43)\r\n    \tat sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:401)\r\n    \tat sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:364)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:348)\r\n    \tat sun.security.krb5.KdcComm.sendIfPossible(KdcComm.java:253)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:229)\r\n    \tat sun.security.krb5.KdcComm.send(KdcComm.java:200)\r\n    \tat sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:316)\r\n    \tat sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n    \tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:780)\r\n    \t... 18 more\r\n\r\n","title":"javax.security.auth.login.LoginException: Receive timed out - while trying to connect to hadoop On-prem machine","body":"<p>I am trying to connect to a hadoop On-prem node to list files or create HDFS object. I got all the necessary files from the machine like hdfs-site.xml, core-site.xml, krb5.conf and keytab as well.</p>\n<p>Below is the method to get hdfs</p>\n<pre><code>public org.apache.hadoop.fs.FileSystem getHdfsOnPrem(String coreSiteXml, String hdfsSiteXml, String krb5confLoc, String keyTabLoc){\n\n// Setup the configuration object.\n\ntry {\n\n    Configuration config = new Configuration();\n\n    config.addResource(new org.apache.hadoop.fs.Path(coreSiteXml));\n    config.addResource(new org.apache.hadoop.fs.Path(hdfsSiteXml));\n    config.set(&quot;hadoop.security.authentication&quot;, &quot;Kerberos&quot;);\n    config.addResource(krb5confLoc);\n    config.set(&quot;fs.hdfs.impl&quot;,org.apache.hadoop.hdfs.DistributedFileSystem.class.getName());\n    config.set(&quot;fs.file.impl&quot;,org.apache.hadoop.fs.LocalFileSystem.class.getName());\n    System.setProperty(&quot;java.security.krb5.conf&quot;, krb5confLoc);\n    config.set(&quot;fs.defaultFS&quot;, &quot;webhdfs://10.30.20.40:50070&quot;);\n    config.set(&quot;fs.webhdfs.impl&quot;, org.apache.hadoop.hdfs.web.WebHdfsFileSystem.class.getName());\n    config.set(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;, &quot;required&quot;);\n    org.apache.hadoop.security.HadoopKerberosName.setConfiguration(config);\n    UserGroupInformation.setConfiguration(config);\n    UserGroupInformation.loginUserFromKeytab(&quot;my_username&quot;, keyTabLoc);\n    URI uri = URI.create(&quot;webhdfs://10.30.20.40:50070&quot;);\n    return org.apache.hadoop.fs.FileSystem.get(uri,config);\n}\ncatch(Exception ex) {\n    ex.printStackTrace(new PrintWriter(errors));\n    LOGGER.error(errors.toString());\n    ex.printStackTrace();\n    return null;\n    }\n}\n</code></pre>\n<p>I tried adding below statement</p>\n<pre><code>[libdefaults]\nudp_preference_limit = 1\n</code></pre>\n<p>But it results in Connection refused. Any pointers are appreciated.</p>\n<p>Below is the complete stack trace for Receive timedout error</p>\n<pre><code>org.apache.hadoop.security.KerberosAuthException: failure to login: for principal: my_username from keytab C:\\Users\\username\\IdeaProjects\\my-project-name\\target\\classes\\my_username.user.keytab javax.security.auth.login.LoginException: Receive timed out\n    at org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1952)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytabAndReturnUGI(UserGroupInformation.java:1328)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:1114)\n    at com.tmus.qtm.k8s.edr.common.Utils.getHdfsOnPrem(Utils.java:152)\n    at com.tmus.qtm.k8s.edr.app.PrintFileNames.main(PrintFileNames.java:84)\nCaused by: javax.security.auth.login.LoginException: Receive timed out\n    at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:812)\n    at com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\n    at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\n    at javax.security.auth.login.LoginContext.login(LoginContext.java:587)\n    at org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2031)\n    at org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1942)\n    ... 4 more\nCaused by: java.net.SocketTimeoutException: Receive timed out\n    at java.net.DualStackPlainDatagramSocketImpl.socketReceiveOrPeekData(Native Method)\n    at java.net.DualStackPlainDatagramSocketImpl.receive0(DualStackPlainDatagramSocketImpl.java:124)\n    at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)\n    at java.net.DatagramSocket.receive(DatagramSocket.java:812)\n    at sun.security.krb5.internal.UDPClient.receive(NetClient.java:206)\n    at sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:404)\n    at sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:364)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:348)\n    at sun.security.krb5.KdcComm.sendIfPossible(KdcComm.java:253)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:229)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:200)\n    at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:316)\n    at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n    at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:780)\n    ... 18 more\n</code></pre>\n<p>If I add [libdefaults] udp_preference_limit = 1 to krb5.conf below is the stackTrace</p>\n<pre><code>org.apache.hadoop.security.KerberosAuthException: failure to login: for principal: my_username from keytab C:\\Users\\username\\IdeaProjects\\my_project\\target\\classes\\my_username.user.keytab javax.security.auth.login.LoginException: Connection refused: connect\n    at org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1952)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytabAndReturnUGI(UserGroupInformation.java:1328)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:1114)\n    at com.tmus.qtm.k8s.edr.common.Utils.getHdfsOnPrem(Utils.java:152)\n    at com.tmus.qtm.k8s.edr.app.PrintFileNames.main(PrintFileNames.java:84)\nCaused by: javax.security.auth.login.LoginException: Connection refused: connect\n    at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:812)\n    at com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\n    at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\n    at javax.security.auth.login.LoginContext.login(LoginContext.java:587)\n    at org.apache.hadoop.security.UserGroupInformation$HadoopLoginContext.login(UserGroupInformation.java:2031)\n    at org.apache.hadoop.security.UserGroupInformation.doSubjectLogin(UserGroupInformation.java:1942)\n    ... 4 more\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:606)\n    at sun.security.krb5.internal.TCPClient.&lt;init&gt;(NetClient.java:63)\n    at sun.security.krb5.internal.NetClient.getInstance(NetClient.java:43)\n    at sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:401)\n    at sun.security.krb5.KdcComm$KdcCommunication.run(KdcComm.java:364)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:348)\n    at sun.security.krb5.KdcComm.sendIfPossible(KdcComm.java:253)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:229)\n    at sun.security.krb5.KdcComm.send(KdcComm.java:200)\n    at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:316)\n    at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n    at com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:780)\n    ... 18 more\n</code></pre>\n"},{"tags":["java","data-structures","graph","depth-first-search","directed-acyclic-graphs"],"comments":[{"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"score":0,"creation_date":1648182503,"post_id":71612123,"comment_id":126564993,"body_markdown":"@GhostCat sorry about &quot;better way&quot; fixed that. other than that I pasted the entire code. The inputs as well as the output and also a picture representation of the graph. I dont know what else I can do honestly.","body":"@GhostCat sorry about &quot;better way&quot; fixed that. other than that I pasted the entire code. The inputs as well as the output and also a picture representation of the graph. I dont know what else I can do honestly."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648183775,"post_id":71612123,"comment_id":126565165,"body_markdown":"Well, what is required here is: to debug the algorithm. Point is: when you do not know what your code is doing, then have your code PRINT its intermediate steps. Or learn how to use a debugger. Maybe you are &quot;lucky&quot; and somebody here does that for you here ... but in the end, such work is an essential part of learning programming. So my advice: go for the smallest example that exposes the problem (probably leave out &quot;b&quot;, &quot;c&quot;, and &quot;e&quot;). Use a piece of paper and a pen and &quot;run&quot; your algorithm using only that. Figure how it should behave.","body":"Well, what is required here is: to debug the algorithm. Point is: when you do not know what your code is doing, then have your code PRINT its intermediate steps. Or learn how to use a debugger. Maybe you are &quot;lucky&quot; and somebody here does that for you here ... but in the end, such work is an essential part of learning programming. So my advice: go for the smallest example that exposes the problem (probably leave out &quot;b&quot;, &quot;c&quot;, and &quot;e&quot;). Use a piece of paper and a pen and &quot;run&quot; your algorithm using only that. Figure how it should behave."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648183829,"post_id":71612123,"comment_id":126565177,"body_markdown":"Maybe that already exposes your problem to you. If not, you can then run your implementation and have that print key steps. Maybe the outcome deviates from your expectations. Then look WHY that is. That is how you can approach such problems.","body":"Maybe that already exposes your problem to you. If not, you can then run your implementation and have that print key steps. Maybe the outcome deviates from your expectations. Then look WHY that is. That is how you can approach such problems."},{"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"score":0,"creation_date":1648183994,"post_id":71612123,"comment_id":126565211,"body_markdown":"already been doing it. The logic for the DFS is where the culprit lies. idk how to clarify the logic even more. I myself am actually fuzzy on the logic. but The program should print something. and its not. I am still running the problem but I just wanted some fresh eyes on it.","body":"already been doing it. The logic for the DFS is where the culprit lies. idk how to clarify the logic even more. I myself am actually fuzzy on the logic. but The program should print something. and its not. I am still running the problem but I just wanted some fresh eyes on it."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648184183,"post_id":71612123,"comment_id":126565234,"body_markdown":"As said: when you do not understand what your code is doing: add MORE print statements. Worst case, do a print after every statement you have in your dfs method.","body":"As said: when you do not understand what your code is doing: add MORE print statements. Worst case, do a print after every statement you have in your dfs method."},{"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"score":1,"creation_date":1648227941,"post_id":71612123,"comment_id":126579442,"body_markdown":"Thought about everything and slept on it over night.. fixed it and posted.. but thanks for the help.","body":"Thought about everything and slept on it over night.. fixed it and posted.. but thanks for the help."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648239342,"post_id":71612123,"comment_id":126582787,"body_markdown":"Glad you got through it!","body":"Glad you got through it!"},{"owner":{"account_id":13521152,"reputation":174,"user_id":9754336,"display_name":"D3PSI"},"score":0,"creation_date":1648347369,"post_id":71612123,"comment_id":126600346,"body_markdown":"this implementation of DFS is weird on so many levels. why are you taking the recursive approach but are still using a stack datastructure? just decide on one of the approaches and maybe don&#39;t mix them together, makes your life easier: https://www.techiedelight.com/depth-first-search","body":"this implementation of DFS is weird on so many levels. why are you taking the recursive approach but are still using a stack datastructure? just decide on one of the approaches and maybe don&#39;t mix them together, makes your life easier: <a href=\"https://www.techiedelight.com/depth-first-search\" rel=\"nofollow noreferrer\">techiedelight.com/depth-first-search</a>"}],"answers":[{"tags":[],"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648227904,"creation_date":1648227904,"answer_id":71620658,"question_id":71612123,"body_markdown":"I re-did the dfs and print methods to this:\r\n\r\nnew DFS:\r\n\r\n - if root visited then cycle exists\r\n - if stack contains root val then branch has been traversed. just return\r\n - mark root to visited\r\n - dfs adjacent nodes\r\n - push root val to stack\r\n - mark root unvisited\r\n\r\nNew print() // returns topsort I should change the name I know\r\n\r\n - make a result stack and string builder\r\n - loop through map.keySet\r\n - if key.val not in stack -&gt; call dfs\r\n - pop stack to string builder\r\n - string\r\n\r\n```\r\n        public String print() {\r\n            Stack&lt;T&gt; stack = new Stack&lt;&gt;();\r\n            StringBuilder res = new StringBuilder();\r\n            for(T val: map.keySet()){\r\n                if (!stack.contains(val)) dfs(stack,map.get(val));\r\n            }\r\n            while(!stack.isEmpty()) res.append(stack.pop());\r\n            return res.toString();\r\n        }\r\n\r\n        public void dfs(Stack&lt;T&gt; stack, Node&lt;T&gt; root) {\r\n            if (root.visited) {\r\n                System.out.println(&quot;Cycle at :&quot; + root.val.toString());\r\n                System.exit(-1);\r\n            }\r\n            if (stack.contains(root.val)) return;\r\n            root.visited = true;\r\n            for (Node&lt;T&gt; n: root.adj) dfs(stack,n);\r\n            stack.add(root.val);\r\n            root.visited =false;\r\n        }\r\n```","title":"How do I print topological sort and also detect cycles?","body":"<p>I re-did the dfs and print methods to this:</p>\n<p>new DFS:</p>\n<ul>\n<li>if root visited then cycle exists</li>\n<li>if stack contains root val then branch has been traversed. just return</li>\n<li>mark root to visited</li>\n<li>dfs adjacent nodes</li>\n<li>push root val to stack</li>\n<li>mark root unvisited</li>\n</ul>\n<p>New print() // returns topsort I should change the name I know</p>\n<ul>\n<li>make a result stack and string builder</li>\n<li>loop through map.keySet</li>\n<li>if key.val not in stack -&gt; call dfs</li>\n<li>pop stack to string builder</li>\n<li>string</li>\n</ul>\n<pre><code>        public String print() {\n            Stack&lt;T&gt; stack = new Stack&lt;&gt;();\n            StringBuilder res = new StringBuilder();\n            for(T val: map.keySet()){\n                if (!stack.contains(val)) dfs(stack,map.get(val));\n            }\n            while(!stack.isEmpty()) res.append(stack.pop());\n            return res.toString();\n        }\n\n        public void dfs(Stack&lt;T&gt; stack, Node&lt;T&gt; root) {\n            if (root.visited) {\n                System.out.println(&quot;Cycle at :&quot; + root.val.toString());\n                System.exit(-1);\n            }\n            if (stack.contains(root.val)) return;\n            root.visited = true;\n            for (Node&lt;T&gt; n: root.adj) dfs(stack,n);\n            stack.add(root.val);\n            root.visited =false;\n        }\n</code></pre>\n"}],"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648227904,"creation_date":1648181866,"question_id":71612123,"body_markdown":"I am using a method DFS which marks the visited node as visited and puts the string into the result stack.\r\n\r\nThis is a DAG which mean two Nodes can point to the same node as long as its not pointing back and creating a cycle. I created a Test case to create a cycle.\r\n\r\nI am pointing `a -&gt; b -&gt; c -&gt; d -&gt; e` then I point `z -&gt; d` and `z -&gt; d` and then `z -&gt; a`\r\n\r\n[![][1]][1]\r\n\r\nI am pretty sure the culprit is the DFS algo called `dfs`. I have tried changing it but I am having a hard time figuring out the logic.\r\n\r\nI node has a boolean called visited which I set to true and the I set to false after I have traversed its children. If I end up running into a true node then I print cyclic and end the program.\r\n\r\nI am looking for guidance on a better way to implement this exact problem. Is there logical error in my dfs? I think thats where the problem lies.\r\n\r\n```\r\n\r\npackage ChaseInterview;\r\n\r\nimport java.util.*;\r\n\r\npublic class ChaseInterview {\r\n\r\n    public static class Node&lt;T&gt; {\r\n        T val;\r\n        HashSet&lt;Node&lt;T&gt;&gt; adj = new HashSet&lt;&gt;();\r\n        boolean visited = false;\r\n\r\n        public Node(T val) {\r\n            this.val = val;\r\n        }\r\n\r\n        public Node() {\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return val.toString() + adj.toString();\r\n\r\n        }\r\n    }\r\n\r\n    public static class DAG&lt;T&gt; {\r\n        Node&lt;T&gt; root = new Node&lt;T&gt;();\r\n        HashMap&lt;T, Node&lt;T&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n        public void DAG() {\r\n        }\r\n\r\n\r\n        public void add(T val) {\r\n            if (map.containsKey(val)) return;\r\n            Node&lt;T&gt; newNode = new Node&lt;T&gt;(val);\r\n            map.put(val, newNode);\r\n            root.adj.add(newNode);\r\n        }\r\n\r\n        public void add(T val1, T val2) {\r\n            Node&lt;T&gt; node1 = map.containsKey(val1) ? map.get(val1) : new Node&lt;T&gt;(val1);\r\n            Node&lt;T&gt; node2 = map.containsKey(val2) ? map.get(val2) : new Node&lt;T&gt;(val2);\r\n            if (!map.containsKey(val1)) root.adj.add(node1);\r\n            if (root.adj.contains(node2)) root.adj.remove(node2);\r\n\r\n            node1.adj.add(node2);\r\n            map.put(val1, node1);\r\n            map.put(val2, node2);\r\n        }\r\n\r\n        public String print() {\r\n            Stack&lt;T&gt; stack = new Stack&lt;&gt;();\r\n            dfs(stack, root);\r\n            StringBuilder res = new StringBuilder();\r\n            while (!stack.isEmpty()) {\r\n                res.append(stack.pop());\r\n            }\r\n\r\n\r\n            return res.reverse().toString();\r\n\r\n\r\n        }\r\n\r\n        public void dfs(Stack&lt;T&gt; stack, Node&lt;T&gt; root) {\r\n            if (root.visited) {\r\n                System.out.println(&quot;Cyclic&quot;);\r\n                System.exit(-1);\r\n            }\r\n\r\n            root.visited = true;\r\n\r\n            // populate stack\r\n            if (!(root.val == null) &amp;&amp; !stack.contains(root.val)) stack.push(root.val);\r\n\r\n            // traverse nodes\r\n            if (!root.adj.isEmpty()) {\r\n                for (Node&lt;T&gt; node : root.adj) {\r\n                    dfs(stack, node);\r\n                }\r\n            }\r\n\r\n            root.visited = false;\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;HelloWord&quot;);\r\n\r\n        DAG&lt;Character&gt; dag = new DAG&lt;Character&gt;();\r\n        dag.add(&#39;a&#39;, &#39;b&#39;);\r\n        dag.add(&#39;b&#39;, &#39;c&#39;);\r\n        dag.add(&#39;z&#39;);\r\n        dag.add(&#39;c&#39;, &#39;d&#39;);\r\n        dag.add(&#39;d&#39;, &#39;e&#39;);\r\n        dag.add(&#39;d&#39;, &#39;z&#39;);\r\n        dag.add(&#39;z&#39;, &#39;d&#39;);\r\n        dag.add(&#39;z&#39;, &#39;a&#39;);\r\n        //dag.add(&#39;b&#39;,&#39;a&#39;);\r\n\r\n        System.out.println(dag.map.size());\r\n        System.out.println(dag.print());\r\n        System.out.println(dag.map.size());\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mgxn9.png\r\n\r\noutput:\r\n```\r\n6\r\n\r\n6\r\n```","title":"How do I print topological sort and also detect cycles?","body":"<p>I am using a method DFS which marks the visited node as visited and puts the string into the result stack.</p>\n<p>This is a DAG which mean two Nodes can point to the same node as long as its not pointing back and creating a cycle. I created a Test case to create a cycle.</p>\n<p>I am pointing <code>a -&gt; b -&gt; c -&gt; d -&gt; e</code> then I point <code>z -&gt; d</code> and <code>z -&gt; d</code> and then <code>z -&gt; a</code></p>\n<p><a href=\"https://i.stack.imgur.com/Mgxn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mgxn9.png\" alt=\"\" /></a></p>\n<p>I am pretty sure the culprit is the DFS algo called <code>dfs</code>. I have tried changing it but I am having a hard time figuring out the logic.</p>\n<p>I node has a boolean called visited which I set to true and the I set to false after I have traversed its children. If I end up running into a true node then I print cyclic and end the program.</p>\n<p>I am looking for guidance on a better way to implement this exact problem. Is there logical error in my dfs? I think thats where the problem lies.</p>\n<pre><code>\npackage ChaseInterview;\n\nimport java.util.*;\n\npublic class ChaseInterview {\n\n    public static class Node&lt;T&gt; {\n        T val;\n        HashSet&lt;Node&lt;T&gt;&gt; adj = new HashSet&lt;&gt;();\n        boolean visited = false;\n\n        public Node(T val) {\n            this.val = val;\n        }\n\n        public Node() {\n        }\n\n        @Override\n        public String toString() {\n            return val.toString() + adj.toString();\n\n        }\n    }\n\n    public static class DAG&lt;T&gt; {\n        Node&lt;T&gt; root = new Node&lt;T&gt;();\n        HashMap&lt;T, Node&lt;T&gt;&gt; map = new HashMap&lt;&gt;();\n\n        public void DAG() {\n        }\n\n\n        public void add(T val) {\n            if (map.containsKey(val)) return;\n            Node&lt;T&gt; newNode = new Node&lt;T&gt;(val);\n            map.put(val, newNode);\n            root.adj.add(newNode);\n        }\n\n        public void add(T val1, T val2) {\n            Node&lt;T&gt; node1 = map.containsKey(val1) ? map.get(val1) : new Node&lt;T&gt;(val1);\n            Node&lt;T&gt; node2 = map.containsKey(val2) ? map.get(val2) : new Node&lt;T&gt;(val2);\n            if (!map.containsKey(val1)) root.adj.add(node1);\n            if (root.adj.contains(node2)) root.adj.remove(node2);\n\n            node1.adj.add(node2);\n            map.put(val1, node1);\n            map.put(val2, node2);\n        }\n\n        public String print() {\n            Stack&lt;T&gt; stack = new Stack&lt;&gt;();\n            dfs(stack, root);\n            StringBuilder res = new StringBuilder();\n            while (!stack.isEmpty()) {\n                res.append(stack.pop());\n            }\n\n\n            return res.reverse().toString();\n\n\n        }\n\n        public void dfs(Stack&lt;T&gt; stack, Node&lt;T&gt; root) {\n            if (root.visited) {\n                System.out.println(&quot;Cyclic&quot;);\n                System.exit(-1);\n            }\n\n            root.visited = true;\n\n            // populate stack\n            if (!(root.val == null) &amp;&amp; !stack.contains(root.val)) stack.push(root.val);\n\n            // traverse nodes\n            if (!root.adj.isEmpty()) {\n                for (Node&lt;T&gt; node : root.adj) {\n                    dfs(stack, node);\n                }\n            }\n\n            root.visited = false;\n\n        }\n\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;HelloWord&quot;);\n\n        DAG&lt;Character&gt; dag = new DAG&lt;Character&gt;();\n        dag.add('a', 'b');\n        dag.add('b', 'c');\n        dag.add('z');\n        dag.add('c', 'd');\n        dag.add('d', 'e');\n        dag.add('d', 'z');\n        dag.add('z', 'd');\n        dag.add('z', 'a');\n        //dag.add('b','a');\n\n        System.out.println(dag.map.size());\n        System.out.println(dag.print());\n        System.out.println(dag.map.size());\n\n\n    }\n}\n\n</code></pre>\n<p>output:</p>\n<pre><code>6\n\n6\n</code></pre>\n"},{"tags":["java","spring","maven","aspectj","aspectj-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648226756,"creation_date":1648226756,"answer_id":71620434,"question_id":71613523,"body_markdown":"I looked at the first example. It uses very old versions of Spring, AspectJ and AspectJ Maven Plugin. I upgraded the POM to use\r\n  * Spring 5.3.16,\r\n  * AspectJ 1.9.9 (supports up to Java 18)\r\n  * AspectJ.dev AspectJ Maven Plugin 1.13.1 (better and more up to date than Mojohaus, also supports Java 18 and can support any more recent version in the future by simply upgrading the `aspectjtools` plugin dependency, no plugin upgrade necessary).\r\n\r\nPlease use JDK 11+ on your build system. More recent AspectJ compiler versions need it. You can still compile to Java 8 byte code, though. (But why would you?)\r\n\r\nHere is the Maven POM. I also added a separate dependency management section in order to globally manage dependency versions and exclusions. Then I used `mvn dependency:analyze` and `mvn dependency:tree` in order to clean up used undeclared and delcared unused dependencies. If your project needs another set of dependencies, you need to adjust it to your needs, of course. I configured it just for what is used in this tiny sample program. In doing so, I also cleaned out a few unused XML name-space and schema declarations. If you need them in your program, just add them again.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.brightdome&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-configurable-sample&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;Spring Configurable Sample&lt;/name&gt;\r\n  &lt;description&gt;\r\n    Sample project to show how to work with Spring&#39;s @Configurable capability\r\n    to inject dependencies into classes not instantiated by Spring.\r\n  &lt;/description&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;aspectj.version&gt;1.9.9&lt;/aspectj.version&gt;\r\n    &lt;spring.version&gt;5.3.16&lt;/spring.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.13.1&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;!-- Override older AspectJ compiler in plugin, use latest one --&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n          &lt;aspectLibraries&gt;\r\n            &lt;aspectLibrary&gt;\r\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n            &lt;/aspectLibrary&gt;\r\n          &lt;/aspectLibraries&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!-- Only needed for load-time weaving, not compile-time --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Needed by spring-aspects --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Needed by compile-time aspects during runtime --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;beans\r\n  xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n  &quot;\r\n&gt;\r\n  &lt;context:spring-configured/&gt;\r\n  &lt;context:component-scan base-package=&quot;com.brightdome&quot;/&gt;\r\n  &lt;context:annotation-config/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n```java\r\npackage com.brightdome.sample.spring;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class HelloWorldService {\r\n  public void sayHello() {\r\n    System.out.println(&quot;Hello world!&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage com.brightdome.sample.spring;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Configurable;\r\n\r\n@Configurable\r\npublic class HelloWorldClient {\r\n  @Autowired\r\n  private HelloWorldService service;\r\n\r\n  public void sayHello() {\r\n    // Used injected instance of service\r\n    service.sayHello();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage com.brightdome.sample.spring;\r\n\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class HelloWorld {\r\n  public static void main(String[] args) {\r\n    // Initialize Spring Context\r\n    new ClassPathXmlApplicationContext(&quot;/META-INF/applicationContext.xml&quot;);\r\n\r\n    // Instantiate class by new&#39;ing it up. i.e., Do not obtain from Spring context\r\n    HelloWorldClient client = new HelloWorldClient();\r\n    client.sayHello();\r\n  }\r\n}\r\n```\r\n\r\nThis compiles and runs just fine in both my IDE (IntelliJ IDEA) and with Maven. On the console, it should simply print _&quot;Hello world!&quot;_ and then exit.","title":"Spring @configurable NullPointerException","body":"<p>I looked at the first example. It uses very old versions of Spring, AspectJ and AspectJ Maven Plugin. I upgraded the POM to use</p>\n<ul>\n<li>Spring 5.3.16,</li>\n<li>AspectJ 1.9.9 (supports up to Java 18)</li>\n<li>AspectJ.dev AspectJ Maven Plugin 1.13.1 (better and more up to date than Mojohaus, also supports Java 18 and can support any more recent version in the future by simply upgrading the <code>aspectjtools</code> plugin dependency, no plugin upgrade necessary).</li>\n</ul>\n<p>Please use JDK 11+ on your build system. More recent AspectJ compiler versions need it. You can still compile to Java 8 byte code, though. (But why would you?)</p>\n<p>Here is the Maven POM. I also added a separate dependency management section in order to globally manage dependency versions and exclusions. Then I used <code>mvn dependency:analyze</code> and <code>mvn dependency:tree</code> in order to clean up used undeclared and delcared unused dependencies. If your project needs another set of dependencies, you need to adjust it to your needs, of course. I configured it just for what is used in this tiny sample program. In doing so, I also cleaned out a few unused XML name-space and schema declarations. If you need them in your program, just add them again.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.brightdome&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-configurable-sample&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Spring Configurable Sample&lt;/name&gt;\n  &lt;description&gt;\n    Sample project to show how to work with Spring's @Configurable capability\n    to inject dependencies into classes not instantiated by Spring.\n  &lt;/description&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.9&lt;/aspectj.version&gt;\n    &lt;spring.version&gt;5.3.16&lt;/spring.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;!-- Override older AspectJ compiler in plugin, use latest one --&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n          &lt;aspectLibraries&gt;\n            &lt;aspectLibrary&gt;\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;/aspectLibrary&gt;\n          &lt;/aspectLibraries&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;!-- Only needed for load-time weaving, not compile-time --&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Needed by spring-aspects --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Needed by compile-time aspects during runtime --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;beans\n  xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n  &quot;\n&gt;\n  &lt;context:spring-configured/&gt;\n  &lt;context:component-scan base-package=&quot;com.brightdome&quot;/&gt;\n  &lt;context:annotation-config/&gt;\n&lt;/beans&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.brightdome.sample.spring;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class HelloWorldService {\n  public void sayHello() {\n    System.out.println(&quot;Hello world!&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.brightdome.sample.spring;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Configurable;\n\n@Configurable\npublic class HelloWorldClient {\n  @Autowired\n  private HelloWorldService service;\n\n  public void sayHello() {\n    // Used injected instance of service\n    service.sayHello();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.brightdome.sample.spring;\n\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class HelloWorld {\n  public static void main(String[] args) {\n    // Initialize Spring Context\n    new ClassPathXmlApplicationContext(&quot;/META-INF/applicationContext.xml&quot;);\n\n    // Instantiate class by new'ing it up. i.e., Do not obtain from Spring context\n    HelloWorldClient client = new HelloWorldClient();\n    client.sayHello();\n  }\n}\n</code></pre>\n<p>This compiles and runs just fine in both my IDE (IntelliJ IDEA) and with Maven. On the console, it should simply print <em>&quot;Hello world!&quot;</em> and then exit.</p>\n"}],"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71620434,"answer_count":1,"score":0,"last_activity_date":1648227469,"creation_date":1648193965,"question_id":71613523,"body_markdown":"I tried to use @configurable on my project to have @autowired service in object that are outside of spring context or something like that but didn&#39;t manage to make it work. The service is always null.\r\n\r\n(I compared 4 different tutorials but nothing worked)\r\n\r\nSo, by despair I tried to download working examples directly to compare them but they didn&#39;t worked as well. (but I had to change them a bit, see in &quot;Notes&quot;)\r\n\r\nHere are the two examples I tried to download but gave me a nullPointerException too :  \r\n[https://github.com/kenyattaclark/Spring-Configurable-Example][1]  \r\n[https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects][2] (the link is at the end of the page)\r\n\r\nSo, are these examples working on your side? Did I miss something really important?  \r\n\r\nNotes :  \r\nI&#39;m using the correto version of java(but I suppose it&#39;s unlikely that the problem come from here)\r\n\r\nI had to make some changes in the two examples ot make them work so maybe that&#39;s why :  \r\nfor the first one I added a `&lt;pluginManagement&gt;` in the pom because if I didn&#39;t, eclipse was giving me an error &quot;Plugin execution not covered by lifecycle configuration&quot; and if I tried to compile I had the error : &quot;error can&#39;t determine superclass of missing type java.lang.Object\r\nwhen batch building BuildConfig[null] #Files=3 AopXmls=#0\r\n [Xlint:cantFindType]&quot;  \r\nfor the second one I didn&#39;t use `&lt;pluginManagement&gt;`. But I didn&#39;t download the parent folder so I changed that in the pom and also forced the java version to 11 or maven was resetting it to 1.5 and had to update the junit test to junit5.\r\n\r\nSo there is room for me screwing all this up, but I&#39;m tired of looking everywhere on internet and couldn&#39;t even get one working example.  \r\nSo, if someone know what&#39;s wrong or how to make one example of @configurable work please tell me.\r\n\r\n\r\n\r\n  [1]: https://github.com/kenyattaclark/Spring-Configurable-Example\r\n  [2]: https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects","title":"Spring @configurable NullPointerException","body":"<p>I tried to use @configurable on my project to have @autowired service in object that are outside of spring context or something like that but didn't manage to make it work. The service is always null.</p>\n<p>(I compared 4 different tutorials but nothing worked)</p>\n<p>So, by despair I tried to download working examples directly to compare them but they didn't worked as well. (but I had to change them a bit, see in &quot;Notes&quot;)</p>\n<p>Here are the two examples I tried to download but gave me a nullPointerException too :<br />\n<a href=\"https://github.com/kenyattaclark/Spring-Configurable-Example\" rel=\"nofollow noreferrer\">https://github.com/kenyattaclark/Spring-Configurable-Example</a><br />\n<a href=\"https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects</a> (the link is at the end of the page)</p>\n<p>So, are these examples working on your side? Did I miss something really important?</p>\n<p>Notes :<br />\nI'm using the correto version of java(but I suppose it's unlikely that the problem come from here)</p>\n<p>I had to make some changes in the two examples ot make them work so maybe that's why :<br />\nfor the first one I added a <code>&lt;pluginManagement&gt;</code> in the pom because if I didn't, eclipse was giving me an error &quot;Plugin execution not covered by lifecycle configuration&quot; and if I tried to compile I had the error : &quot;error can't determine superclass of missing type java.lang.Object\nwhen batch building BuildConfig[null] #Files=3 AopXmls=#0\n[Xlint:cantFindType]&quot;<br />\nfor the second one I didn't use <code>&lt;pluginManagement&gt;</code>. But I didn't download the parent folder so I changed that in the pom and also forced the java version to 11 or maven was resetting it to 1.5 and had to update the junit test to junit5.</p>\n<p>So there is room for me screwing all this up, but I'm tired of looking everywhere on internet and couldn't even get one working example.<br />\nSo, if someone know what's wrong or how to make one example of @configurable work please tell me.</p>\n"},{"tags":["java","loops","recursion","permutation"],"answers":[{"tags":[],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648227353,"creation_date":1648225581,"answer_id":71620191,"question_id":71619715,"body_markdown":"So I am not sure why you are trying to do that.. this is kind of the setup you would be doing for recursion, you need to not return void otherwise it&#39;s not really recursion. [w3schools][1] is a good resource.\r\n&gt; ```\r\n&gt;  public class Main {\r\n&gt;   public static void main(String[] args) {\r\n&gt;     int result = sum(10);\r\n&gt;     System.out.println(result);\r\n&gt;   }\r\n&gt;   public static int sum(int k) {\r\n&gt;     if (k &gt; 0) {\r\n&gt;       return k + sum(k - 1);\r\n&gt;     } else {\r\n&gt;       return 0;\r\n&gt;     }\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\nThis would return something like\r\n&gt; ```\r\n&gt; 10 + sum(9)\r\n&gt; 10 + ( 9 + sum(8) )\r\n&gt; 10 + ( 9 + ( 8 + sum(7) ) )\r\n&gt; ...\r\n&gt; 10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + sum(0)\r\n&gt; 10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + 0 \r\n&gt; ```\r\nI hope that kind of helps you put together what you need. You have to have a return so the Recursive method can see its previous call, it takes information then like a rubberband once it reaches a certain point it returns all of your iterations. Personally, I like loops more, easier to read and easier to code.\r\n\r\nAn implementation for what you are trying to do would be: \r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    String result = Variations(&quot;test&quot;);\r\n    System.out.println(result);\r\n  }\r\n  public static String Variations(String k) {\r\n    if (k.length() &gt; 0) {\r\n      return k + k.substring(0, k.lenth() - 1);\r\n    } else {\r\n      return &quot;&quot;;\r\n    }\r\n  }\r\n}\r\n```\r\nThat would be the variation of what you are looking to do I believe.\r\n\r\n  [1]: https://www.w3schools.com/java/java_recursion.asp","title":"Recursion in Java - print string permutations","body":"<p>So I am not sure why you are trying to do that.. this is kind of the setup you would be doing for recursion, you need to not return void otherwise it's not really recursion. <a href=\"https://www.w3schools.com/java/java_recursion.asp\" rel=\"nofollow noreferrer\">w3schools</a> is a good resource.</p>\n<blockquote>\n<pre><code> public class Main {\n  public static void main(String[] args) {\n    int result = sum(10);\n    System.out.println(result);\n  }\n  public static int sum(int k) {\n    if (k &gt; 0) {\n      return k + sum(k - 1);\n    } else {\n      return 0;\n    }\n  }\n}\n</code></pre>\n</blockquote>\n<p>This would return something like</p>\n<blockquote>\n<pre><code>10 + sum(9)\n10 + ( 9 + sum(8) )\n10 + ( 9 + ( 8 + sum(7) ) )\n...\n10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + sum(0)\n10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + 0 \n</code></pre>\n</blockquote>\n<p>I hope that kind of helps you put together what you need. You have to have a return so the Recursive method can see its previous call, it takes information then like a rubberband once it reaches a certain point it returns all of your iterations. Personally, I like loops more, easier to read and easier to code.</p>\n<p>An implementation for what you are trying to do would be:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    String result = Variations(&quot;test&quot;);\n    System.out.println(result);\n  }\n  public static String Variations(String k) {\n    if (k.length() &gt; 0) {\n      return k + k.substring(0, k.lenth() - 1);\n    } else {\n      return &quot;&quot;;\n    }\n  }\n}\n</code></pre>\n<p>That would be the variation of what you are looking to do I believe.</p>\n"}],"owner":{"account_id":18979796,"reputation":1,"user_id":13851405,"display_name":"Ilai Tamari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648227353,"creation_date":1648223315,"question_id":71619715,"body_markdown":"I&#39;m trying to write a method that prints all of the permutations of a string using recursion. For now, I have this code that works:\r\n\r\n```\r\nprivate static void printPermutations(String in, String out) {\r\n    if (in.length() == 0) System.out.println(out);\r\n    else {\r\n        for (int i = 0 ; i &lt; in.length() ; i++) {\r\n\t    printPermutations(in.substring(0, i) + in.substring(i + 1), out + in.charAt(i));\r\n\t}\r\n    }\r\n}\r\n```\r\n\r\nIt prints the right result, but I&#39;m trying to solve it without using loops at all, including the one in line 4. Is it possible? If so, how would you solve it? Thank you!\r\n\r\nI tried to add a third parameter called index and write index+1 inside the recursive call in line 5 but it didn&#39;t work. I think adding the third parameter is a good idea, I&#39;m just not sure how to use it.","title":"Recursion in Java - print string permutations","body":"<p>I'm trying to write a method that prints all of the permutations of a string using recursion. For now, I have this code that works:</p>\n<pre><code>private static void printPermutations(String in, String out) {\n    if (in.length() == 0) System.out.println(out);\n    else {\n        for (int i = 0 ; i &lt; in.length() ; i++) {\n        printPermutations(in.substring(0, i) + in.substring(i + 1), out + in.charAt(i));\n    }\n    }\n}\n</code></pre>\n<p>It prints the right result, but I'm trying to solve it without using loops at all, including the one in line 4. Is it possible? If so, how would you solve it? Thank you!</p>\n<p>I tried to add a third parameter called index and write index+1 inside the recursive call in line 5 but it didn't work. I think adding the third parameter is a good idea, I'm just not sure how to use it.</p>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1491831376,"post_id":43305573,"comment_id":73713538,"body_markdown":"Wouldn&#39;t you know that the hbox is displaying if tab2 is displaying?","body":"Wouldn&#39;t you know that the hbox is displaying if tab2 is displaying?"},{"owner":{"account_id":10566970,"reputation":76,"user_id":7784928,"display_name":"Olzen"},"score":0,"creation_date":1491832662,"post_id":43305573,"comment_id":73714558,"body_markdown":"No. If you run the code `hbox.visibleProperty()` or `hbox.managedProperty()` is never called. If you add a check for `hbox.isVisible`, it will always be true even if tab1 is selected.","body":"No. If you run the code <code>hbox.visibleProperty()</code> or <code>hbox.managedProperty()</code> is never called. If you add a check for <code>hbox.isVisible</code>, it will always be true even if tab1 is selected."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1491832741,"post_id":43305573,"comment_id":73714622,"body_markdown":"That maybe true, but if you use my original answer you know the hbox is displaying/visible on the screen when tab2 is selected.","body":"That maybe true, but if you use my original answer you know the hbox is displaying/visible on the screen when tab2 is selected."},{"owner":{"account_id":10566970,"reputation":76,"user_id":7784928,"display_name":"Olzen"},"score":0,"creation_date":1491832841,"post_id":43305573,"comment_id":73714706,"body_markdown":"This code: `tab2.getContent().isVisible();`  It always return true.","body":"This code: <code>tab2.getContent().isVisible();</code>  It always return true."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":1,"creation_date":1491832871,"post_id":43305573,"comment_id":73714736,"body_markdown":"The visibility of the `HBox` is equivalent to the selected property of the tab it is in, why not use that?","body":"The visibility of the <code>HBox</code> is equivalent to the selected property of the tab it is in, why not use that?"},{"owner":{"account_id":10566970,"reputation":76,"user_id":7784928,"display_name":"Olzen"},"score":0,"creation_date":1491833043,"post_id":43305573,"comment_id":73714881,"body_markdown":"Because the code above is only to demonstrate the problem. And the problem is: How do I know if a &#39;Node&#39; is visible or not.","body":"Because the code above is only to demonstrate the problem. And the problem is: How do I know if a &#39;Node&#39; is visible or not."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1491833196,"post_id":43305573,"comment_id":73715021,"body_markdown":"You can control the visible state property and set it to false when the tab is not selected and true when the tab is selected. That way it will return false in the cases you need it to.","body":"You can control the visible state property and set it to false when the tab is not selected and true when the tab is selected. That way it will return false in the cases you need it to."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1491833789,"post_id":43305573,"comment_id":73715458,"body_markdown":"Have a look [here](http://stackoverflow.com/questions/42042212/detect-when-a-node-is-visible-in-a-scene) too.","body":"Have a look <a href=\"http://stackoverflow.com/questions/42042212/detect-when-a-node-is-visible-in-a-scene\">here</a> too."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1491833822,"post_id":43305573,"comment_id":73715479,"body_markdown":"The nodes are always visible even is you can&#39;t see them. They are just behind other nodes.","body":"The nodes are always visible even is you can&#39;t see them. They are just behind other nodes."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1491835105,"post_id":43305573,"comment_id":73716460,"body_markdown":"Read the Javadoc [here](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#isVisible--).","body":"Read the Javadoc <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#isVisible--\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1491835290,"post_id":43305573,"comment_id":73716608,"body_markdown":"The correct approach to this is to use the `selectedProperty()` of the tab. The problem with any other approach is that it relies on the implementation of the tab pane. Currently, the tab pane works by laying out the content of all tabs in a single pane, and making the content of each visible or not visible according to whether the tab is selected or not. However, there is no guarantee that this implementation will remain in future releases: so your only option is to respond to the tab&#39;s selected property.","body":"The correct approach to this is to use the <code>selectedProperty()</code> of the tab. The problem with any other approach is that it relies on the implementation of the tab pane. Currently, the tab pane works by laying out the content of all tabs in a single pane, and making the content of each visible or not visible according to whether the tab is selected or not. However, there is no guarantee that this implementation will remain in future releases: so your only option is to respond to the tab&#39;s selected property."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1491835499,"post_id":43305573,"comment_id":73716770,"body_markdown":"You said that &quot;this is not the real problem&quot;. We do appreciate your effort in making a minimal, complete example, but it seems that it doesn&#39;t quite describe the problem you are trying to solve. See if you can figure out an example that does describe the actual issue. Note that knowing &quot;when is a label visible&quot; is extremely difficult, because you would really need to know if it, and all its ancestors, are visible, if it is part of a scene that is displayed in a window that is showing, and if there are any other nodes displayed over the top of it.","body":"You said that &quot;this is not the real problem&quot;. We do appreciate your effort in making a minimal, complete example, but it seems that it doesn&#39;t quite describe the problem you are trying to solve. See if you can figure out an example that does describe the actual issue. Note that knowing &quot;when is a label visible&quot; is extremely difficult, because you would really need to know if it, and all its ancestors, are visible, if it is part of a scene that is displayed in a window that is showing, and if there are any other nodes displayed over the top of it."},{"owner":{"account_id":10566970,"reputation":76,"user_id":7784928,"display_name":"Olzen"},"score":0,"creation_date":1491849141,"post_id":43305573,"comment_id":73725194,"body_markdown":"&#39; it seems that it doesn&#39;t quite describe the problem you are trying to solve&#39; I&#39;m starting to realize that...","body":"&#39; it seems that it doesn&#39;t quite describe the problem you are trying to solve&#39; I&#39;m starting to realize that..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1491867630,"post_id":43305573,"comment_id":73733116,"body_markdown":"BTW (and maybe you already know this, but it was just for demo purposes): there is no guarantee your Swing code will work as you want it to. You are accessing the `doExpensiveStuff` variable from two different threads without making any guarantees that changes made in one thread will be visible in the other thread. (So the background thread may continue for an indefinite amount of time after the component is hidden, and may never actually stop.) You need, at a minimum, to make `doExpensiveStuff` volatile.","body":"BTW (and maybe you already know this, but it was just for demo purposes): there is no guarantee your Swing code will work as you want it to. You are accessing the <code>doExpensiveStuff</code> variable from two different threads without making any guarantees that changes made in one thread will be visible in the other thread. (So the background thread may continue for an indefinite amount of time after the component is hidden, and may never actually stop.) You need, at a minimum, to make <code>doExpensiveStuff</code> volatile."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1491868079,"post_id":43305573,"comment_id":73733228,"body_markdown":"Anyway, AFAIK there is no direct equivalent of the `componentShown` and `componentHidden` events in JavaFX. To establish the (closest) equivalent functionality, you would expose methods to start and stop the background thread from the control/node subclass, and invoke them from a listener on the tab&#39;s selected property (basically exactly as in the answers provided). In general, though, I would probably reconsider this design entirely. Background processes really should be services that are referenced from a controller or a model: they shouldn&#39;t really live directly in the view.","body":"Anyway, AFAIK there is no direct equivalent of the <code>componentShown</code> and <code>componentHidden</code> events in JavaFX. To establish the (closest) equivalent functionality, you would expose methods to start and stop the background thread from the control/node subclass, and invoke them from a listener on the tab&#39;s selected property (basically exactly as in the answers provided). In general, though, I would probably reconsider this design entirely. Background processes really should be services that are referenced from a controller or a model: they shouldn&#39;t really live directly in the view."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1492471581,"post_id":43305573,"comment_id":73978182,"body_markdown":"If one of the answers solved your problem please consider accepting it.","body":"If one of the answers solved your problem please consider accepting it."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491815505,"creation_date":1491787199,"answer_id":43313712,"question_id":43305573,"body_markdown":"Updated answer.\r\n\r\n    tab2.getContent().isVisible();","title":"Get visible state of Node in JavaFX 8","body":"<p>Updated answer.</p>\n\n<pre><code>tab2.getContent().isVisible();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491836045,"creation_date":1491832936,"answer_id":43325320,"question_id":43305573,"body_markdown":"It seems to me that my original answer is correct. If not, you need to ask your question in a better way. You want to know when the hbox is visible(meaning you can see the hbox on the screen).\r\n\r\n    tabpane.getSelectionModel().selectedItemProperty().addListener((obsVal, oldTab, newTab)-&gt;{\r\n        System.out.println(newTab.getText());\r\n        if(newTab.getText().equals(&quot;tab2&quot;))\r\n        {\r\n            //You can use this code to set the hbox visibility, that way you can force the behavior you are looking for.\r\n            hbox.setVisible(true);\r\n            System.out.println(&quot;hbox is visible!&quot;);\r\n        }\r\n        else\r\n        {\r\n            //You can use this code to set the hbox visibility, that way you can force the behavior you are looking for.\r\n            hbox.setVisible(false);\r\n            System.out.println(&quot;hbox is not visible!&quot;);\r\n        }            \r\n    });","title":"Get visible state of Node in JavaFX 8","body":"<p>It seems to me that my original answer is correct. If not, you need to ask your question in a better way. You want to know when the hbox is visible(meaning you can see the hbox on the screen).</p>\n\n<pre><code>tabpane.getSelectionModel().selectedItemProperty().addListener((obsVal, oldTab, newTab)-&gt;{\n    System.out.println(newTab.getText());\n    if(newTab.getText().equals(\"tab2\"))\n    {\n        //You can use this code to set the hbox visibility, that way you can force the behavior you are looking for.\n        hbox.setVisible(true);\n        System.out.println(\"hbox is visible!\");\n    }\n    else\n    {\n        //You can use this code to set the hbox visibility, that way you can force the behavior you are looking for.\n        hbox.setVisible(false);\n        System.out.println(\"hbox is not visible!\");\n    }            \n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491923076,"creation_date":1491864462,"answer_id":43334076,"question_id":43305573,"body_markdown":"You can use `Tab`&#39;s [`selectedProperty`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Tab.html#selectedProperty) to know if it is selected or not, and by extension if its content is visible or not. It is a boolean property.\r\n\r\nI&#39;ve converted your Swing code to JavaFX based on your initial JavaFX example:\r\n\r\n    public class VisibleTest extends Application {\r\n    \r\n    \tpublic class FXVisible extends Tab {\r\n    \r\n    \t\tFXVisible(String id) {\r\n    \t\t\tsuper(id, new Label(id));\r\n    \r\n    \t\t\tTimeline thread = new Timeline(\r\n    \t\t\t\t\tnew KeyFrame(Duration.ZERO, e -&gt; { \r\n    \t\t\t\t\t\tif (isSelected()) {\r\n    \t\t\t\t\t\t\t// do expensive stuff\r\n    \t\t\t\t\t\t\tSystem.out.println(id + &quot; is visible&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}),\r\n    \t\t\t\t\tnew KeyFrame(Duration.seconds(1))\r\n    \t\t\t);\r\n    \t\t\tthread.setCycleCount(Timeline.INDEFINITE);\r\n    \r\n    \t\t\tselectedProperty().addListener((selectedProperty, wasSelected, isSelected) -&gt; {\r\n    \t\t\t\tif (isSelected) {\r\n    \t\t\t\t\tif (thread.getStatus() != Status.RUNNING) {\r\n    \t\t\t\t\t\tSystem.out.println(id + &quot; starting thread&quot;);\r\n    \t\t\t\t\t\tthread.play();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t// else, it is not selected -&gt; content not shown\r\n    \t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \t\tTabPane tabpane = new TabPane();\r\n    \t\ttabpane.getTabs().add(new FXVisible(&quot;1&quot;));\r\n    \t\ttabpane.getTabs().add(new FXVisible(&quot;2&quot;));\r\n    \t\ttabpane.getTabs().add(new FXVisible(&quot;3&quot;));\r\n    \t\t// add as many as you want\r\n    \r\n    \t\tprimaryStage.setScene(new Scene(tabpane));\r\n    \t\tprimaryStage.setWidth(600);\r\n    \t\tprimaryStage.setHeight(500);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\nI replaced your thread with a JavaFX [`Timeline`](https://docs.oracle.com/javase/8/javafx/api/index.html?javafx/animation/Timeline.html). Your question is not about this topic so I won&#39;t go into details here, though it&#39;s self explanatory.\r\n\r\nI don&#39;t understand why in the Swing example you have a listener changing a boolean that indicates if the component is visible or not when you can just call `isVisible()` directly in the thread (see comments below for a note about threading). This is why in my code above I took the approach of checking `isSelected()` directly with no self-declared boolean. If you need to revert to your design it&#39;s rather straightforward. Just noting this for clarity.\r\n\r\nThe `ComponentListener` can be replaced with a change listener on `selectedProperty()` and querying the new value. Just be sure that your example does what it&#39;s supposed to do: the first time the tab is selected the thread/timer starts. After that the thread/timer does nothing. You might have wanted to pause the computation for non-displaying content. Again, just noting it because it seemed like a potential mistake to me, otherwise you&#39;re fine.","title":"Get visible state of Node in JavaFX 8","body":"<p>You can use <code>Tab</code>'s <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Tab.html#selectedProperty\" rel=\"nofollow noreferrer\"><code>selectedProperty</code></a> to know if it is selected or not, and by extension if its content is visible or not. It is a boolean property.</p>\n\n<p>I've converted your Swing code to JavaFX based on your initial JavaFX example:</p>\n\n<pre><code>public class VisibleTest extends Application {\n\n    public class FXVisible extends Tab {\n\n        FXVisible(String id) {\n            super(id, new Label(id));\n\n            Timeline thread = new Timeline(\n                    new KeyFrame(Duration.ZERO, e -&gt; { \n                        if (isSelected()) {\n                            // do expensive stuff\n                            System.out.println(id + \" is visible\");\n                        }\n                    }),\n                    new KeyFrame(Duration.seconds(1))\n            );\n            thread.setCycleCount(Timeline.INDEFINITE);\n\n            selectedProperty().addListener((selectedProperty, wasSelected, isSelected) -&gt; {\n                if (isSelected) {\n                    if (thread.getStatus() != Status.RUNNING) {\n                        System.out.println(id + \" starting thread\");\n                        thread.play();\n                    }\n                }\n                // else, it is not selected -&gt; content not shown\n            });\n        }\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        TabPane tabpane = new TabPane();\n        tabpane.getTabs().add(new FXVisible(\"1\"));\n        tabpane.getTabs().add(new FXVisible(\"2\"));\n        tabpane.getTabs().add(new FXVisible(\"3\"));\n        // add as many as you want\n\n        primaryStage.setScene(new Scene(tabpane));\n        primaryStage.setWidth(600);\n        primaryStage.setHeight(500);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>I replaced your thread with a JavaFX <a href=\"https://docs.oracle.com/javase/8/javafx/api/index.html?javafx/animation/Timeline.html\" rel=\"nofollow noreferrer\"><code>Timeline</code></a>. Your question is not about this topic so I won't go into details here, though it's self explanatory.</p>\n\n<p>I don't understand why in the Swing example you have a listener changing a boolean that indicates if the component is visible or not when you can just call <code>isVisible()</code> directly in the thread (see comments below for a note about threading). This is why in my code above I took the approach of checking <code>isSelected()</code> directly with no self-declared boolean. If you need to revert to your design it's rather straightforward. Just noting this for clarity.</p>\n\n<p>The <code>ComponentListener</code> can be replaced with a change listener on <code>selectedProperty()</code> and querying the new value. Just be sure that your example does what it's supposed to do: the first time the tab is selected the thread/timer starts. After that the thread/timer does nothing. You might have wanted to pause the computation for non-displaying content. Again, just noting it because it seemed like a potential mistake to me, otherwise you're fine.</p>\n"},{"tags":[],"owner":{"account_id":318404,"reputation":347,"user_id":635617,"display_name":"William Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648227214,"creation_date":1648224280,"answer_id":71619930,"question_id":43305573,"body_markdown":"From quick checking this seemed to work for both checking the window is showing and that the tab it is in is displaying. I have also checked and it seems to work as expected for titled panes too that are collapsible.\r\n\r\n    public static boolean detectVisible( Node node )\r\n    {\r\n        Node current = node;\r\n        while( current != null ) {\r\n            if( !current.isVisible() ) {\r\n                return false;\r\n            }\r\n            current = current.getParent();\r\n        }\r\n        Window window = Optional.of( node ).map( Node::getScene ).map( Scene::getWindow ).orElse( null );\r\n        if( window == null ) {\r\n            return false;\r\n        }\r\n        if( window instanceof Stage &amp;&amp; ( (Stage) window ).isIconified() ) {\r\n            return false;\r\n        }\r\n        return window.isShowing();\r\n    }","title":"Get visible state of Node in JavaFX 8","body":"<p>From quick checking this seemed to work for both checking the window is showing and that the tab it is in is displaying. I have also checked and it seems to work as expected for titled panes too that are collapsible.</p>\n<pre><code>public static boolean detectVisible( Node node )\n{\n    Node current = node;\n    while( current != null ) {\n        if( !current.isVisible() ) {\n            return false;\n        }\n        current = current.getParent();\n    }\n    Window window = Optional.of( node ).map( Node::getScene ).map( Scene::getWindow ).orElse( null );\n    if( window == null ) {\n        return false;\n    }\n    if( window instanceof Stage &amp;&amp; ( (Stage) window ).isIconified() ) {\n        return false;\n    }\n    return window.isShowing();\n}\n</code></pre>\n"}],"owner":{"account_id":10566970,"reputation":76,"user_id":7784928,"display_name":"Olzen"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3449,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1648227214,"creation_date":1491733111,"question_id":43305573,"body_markdown":"I need to detect if a node is currently displaying.\r\nI.e. if my Node is in a TabPane, I need to know if it is in a selected tab or not.\r\n\r\nIn the example, I want to know when the HBox is displaying.The visibleProperty and managedProperty of Node, does not seem to help me:\r\n\r\n    public class VisibleTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n\r\n        TabPane tabpane = new TabPane();\r\n        tabpane.getTabs().add(new Tab(&quot;Tab1&quot;, new Label(&quot;Label1&quot;)));\r\n\r\n        HBox hbox = new HBox(new Label(&quot;Label2&quot;));\r\n        hbox.setStyle(&quot;-fx-background-color: aquamarine;&quot;);\r\n\r\n        hbox.visibleProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            System.out.println(&quot;Hbox visible changed. newValue: &quot; + newValue);\r\n        });\r\n\r\n        hbox.managedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            System.out.println(&quot;Hbox managed changed. newValue: &quot; + newValue);\r\n        });\r\n\r\n        Tab tab2 = new Tab(&quot;tab2&quot;, hbox);\r\n        tabpane.getTabs().add(tab2);\r\n\r\n        primaryStage.setScene(new Scene(tabpane));\r\n        primaryStage.setWidth(600);\r\n        primaryStage.setHeight(500);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    }\r\n\r\nI know, it is possible to listen on the `selectedProperty` state of the tab, but this does not solve my real problem.\r\n\r\n`Node.impl_isTreeVisible()` does what I want, but this is depricated API.\r\n\r\nAny ideas? &lt;br&gt;&lt;br&gt;\r\n------------------------------------ update--------------------&lt;br&gt;\r\nI realize the code example above does not explain well what I&#39;m trying to accomplish.&lt;br&gt; Below is some Swing code that kind of demonstrates what I am trying to accomplish in JavaFX. Detect if the JComponent/Node is visible/shown, and based on that state, start or stop background processes. How would the constructor look like if it was a javaFX class.\r\n\r\n\tpublic class SwingVisible extends JComponent {\r\n\t\r\n\t\tString instanceNR;\r\n\t\tThread instanceThread;\r\n\t\tboolean doExpensiveStuff = false;\r\n\t\r\n\t\tpublic SwingVisible(String instanceNR) {\r\n\t\t\tthis.instanceNR = instanceNR;\r\n\t\t\tthis.setLayout(new FlowLayout());\r\n\t\t\tthis.add(new JLabel(instanceNR));\r\n\t\r\n\t\t\tinstanceThread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tif (doExpensiveStuff) {\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * do expensive stuff.\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\tSystem.out.println(instanceNR + &quot; is visible &quot; + isVisible());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\t/*\r\n\t\t\t * How to do this in FX?\r\n\t\t\t */\r\n\t\t\taddComponentListener(new ComponentAdapter() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void componentShown(ComponentEvent e) {\r\n\t\t\t\t\tif (!instanceThread.isAlive()) {\r\n\t\t\t\t\t\tinstanceThread.start();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdoExpensiveStuff = true;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void componentHidden(ComponentEvent e) {\r\n\t\t\t\t\tdoExpensiveStuff = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\t\r\n\t\t\t/*\r\n\t\t\t * This block represents code that is external to my library. End user\r\n\t\t\t * can put instances of SwingVisible in JTabbedPanes, JFrames, JWindows,\r\n\t\t\t * or other JComponents. How many instances there will bee is not in my\r\n\t\t\t * control.\r\n\t\t\t */\r\n\t\t\tJTabbedPane jtp = new JTabbedPane();\r\n\t\t\tjtp.add(&quot;tab1&quot;, new SwingVisible(&quot;1&quot;));\r\n\t\t\tjtp.add(&quot;tab2&quot;, new SwingVisible(&quot;2&quot;));\r\n\t\t\tjtp.add(&quot;tab3&quot;, new SwingVisible(&quot;3&quot;));\r\n\t\r\n\t\t\tJFrame f = new JFrame(&quot;test&quot;);\r\n\t\t\tf.setContentPane(jtp);\r\n\t\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tf.setSize(300, 300);\r\n\t\t\tf.setLocationRelativeTo(null);\r\n\t\t\tf.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\nOutput when tab1 is selected:\r\n&gt;    1 is visible true&lt;br&gt;\r\n&gt;    1 is visible true&lt;br&gt;\r\n&gt;    1 is visible true&lt;br&gt;&lt;br&gt;\r\n&gt;    ...\r\n\r\nOutput when tab2 is selected:&lt;br&gt;\r\n&gt;    2 is visible true&lt;br&gt;\r\n&gt;    2 is visible true&lt;br&gt;\r\n&gt;    2 is visible true&lt;br&gt;\r\n&gt;    ...\r\n","title":"Get visible state of Node in JavaFX 8","body":"<p>I need to detect if a node is currently displaying.\nI.e. if my Node is in a TabPane, I need to know if it is in a selected tab or not.</p>\n\n<p>In the example, I want to know when the HBox is displaying.The visibleProperty and managedProperty of Node, does not seem to help me:</p>\n\n<pre><code>public class VisibleTest extends Application {\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n\n    TabPane tabpane = new TabPane();\n    tabpane.getTabs().add(new Tab(\"Tab1\", new Label(\"Label1\")));\n\n    HBox hbox = new HBox(new Label(\"Label2\"));\n    hbox.setStyle(\"-fx-background-color: aquamarine;\");\n\n    hbox.visibleProperty().addListener((observable, oldValue, newValue) -&gt; {\n        System.out.println(\"Hbox visible changed. newValue: \" + newValue);\n    });\n\n    hbox.managedProperty().addListener((observable, oldValue, newValue) -&gt; {\n        System.out.println(\"Hbox managed changed. newValue: \" + newValue);\n    });\n\n    Tab tab2 = new Tab(\"tab2\", hbox);\n    tabpane.getTabs().add(tab2);\n\n    primaryStage.setScene(new Scene(tabpane));\n    primaryStage.setWidth(600);\n    primaryStage.setHeight(500);\n    primaryStage.show();\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n}\n</code></pre>\n\n<p>I know, it is possible to listen on the <code>selectedProperty</code> state of the tab, but this does not solve my real problem.</p>\n\n<p><code>Node.impl_isTreeVisible()</code> does what I want, but this is depricated API.</p>\n\n<p>Any ideas? <br><br>\n------------------------------------ update--------------------<br>\nI realize the code example above does not explain well what I'm trying to accomplish.<br> Below is some Swing code that kind of demonstrates what I am trying to accomplish in JavaFX. Detect if the JComponent/Node is visible/shown, and based on that state, start or stop background processes. How would the constructor look like if it was a javaFX class.</p>\n\n<pre><code>public class SwingVisible extends JComponent {\n\n    String instanceNR;\n    Thread instanceThread;\n    boolean doExpensiveStuff = false;\n\n    public SwingVisible(String instanceNR) {\n        this.instanceNR = instanceNR;\n        this.setLayout(new FlowLayout());\n        this.add(new JLabel(instanceNR));\n\n        instanceThread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n\n                    if (doExpensiveStuff) {\n                        /*\n                         * do expensive stuff.\n                         */\n                        System.out.println(instanceNR + \" is visible \" + isVisible());\n                    }\n                }\n            }\n        });\n\n        /*\n         * How to do this in FX?\n         */\n        addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentShown(ComponentEvent e) {\n                if (!instanceThread.isAlive()) {\n                    instanceThread.start();\n                }\n                doExpensiveStuff = true;\n            }\n\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                doExpensiveStuff = false;\n            }\n        });\n    }\n\n    public static void main(String[] args) {    \n        /*\n         * This block represents code that is external to my library. End user\n         * can put instances of SwingVisible in JTabbedPanes, JFrames, JWindows,\n         * or other JComponents. How many instances there will bee is not in my\n         * control.\n         */\n        JTabbedPane jtp = new JTabbedPane();\n        jtp.add(\"tab1\", new SwingVisible(\"1\"));\n        jtp.add(\"tab2\", new SwingVisible(\"2\"));\n        jtp.add(\"tab3\", new SwingVisible(\"3\"));\n\n        JFrame f = new JFrame(\"test\");\n        f.setContentPane(jtp);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(300, 300);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Output when tab1 is selected:</p>\n\n<blockquote>\n  <p>1 is visible true<br>\n     1 is visible true<br>\n     1 is visible true<br><br>\n     ...</p>\n</blockquote>\n\n<p>Output when tab2 is selected:<br></p>\n\n<blockquote>\n  <p>2 is visible true<br>\n     2 is visible true<br>\n     2 is visible true<br>\n     ...</p>\n</blockquote>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648226280,"creation_date":1648168841,"answer_id":71610968,"question_id":71600548,"body_markdown":"View operations don&#39;t really have PCollection outputs, they&#39;re just used to wire up side inputs. Have you confirmed that the side input in question is not getting any data? \r\n\r\nIf this is a streaming pipeline, do you have your [windowing][1] set up correctly? If not the side input must be computed in its entirety before the DoFn consuming it will emit anything.\r\nIn particular [side inputs are not available until the watermark passes the end][2] of the corresponding window (aka we know the window has everything it will have). For the global window, that is essentially the end of time. [Triggers][3] can be used if one needs to access values of a window before it closes.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#windowing\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#side-inputs-windowing\r\n  [3]: https://beam.apache.org/documentation/programming-guide/#triggers","title":"Data is not flowing in PcollectionView stage in Java Apache beam","body":"<p>View operations don't really have PCollection outputs, they're just used to wire up side inputs. Have you confirmed that the side input in question is not getting any data?</p>\n<p>If this is a streaming pipeline, do you have your <a href=\"https://beam.apache.org/documentation/programming-guide/#windowing\" rel=\"nofollow noreferrer\">windowing</a> set up correctly? If not the side input must be computed in its entirety before the DoFn consuming it will emit anything.\nIn particular <a href=\"https://beam.apache.org/documentation/programming-guide/#side-inputs-windowing\" rel=\"nofollow noreferrer\">side inputs are not available until the watermark passes the end</a> of the corresponding window (aka we know the window has everything it will have). For the global window, that is essentially the end of time. <a href=\"https://beam.apache.org/documentation/programming-guide/#triggers\" rel=\"nofollow noreferrer\">Triggers</a> can be used if one needs to access values of a window before it closes.</p>\n"}],"owner":{"account_id":3921963,"reputation":89,"user_id":3243820,"display_name":"Amit Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648226280,"creation_date":1648116860,"question_id":71600548,"body_markdown":"After reading data from  Bigquery I have to send the data as side Input to next level.So below is the step I am following  -\r\n1) Read BQ\r\n2) Convert PCollection&lt;TableRow&gt; to PCollection&lt;KV&lt;K,V&gt;&gt;\r\n3) Converting Pcollection to PcollectionView (Since next step with accept the PcollectionView only as side input)\r\n\r\nBut Data is not flowing to step 3.Due to this I am not able to send the data in next level where our side Input will go.\r\n\r\nBelow is the Dataflow -\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C3KYu.jpg\r\n\r\nBelow is the code snippet with Java  -\r\n\r\n```\r\nPCollection&lt;TableRow&gt; bq_row = pipeline.apply(\r\n    &quot;Read from BigQuery query&quot;,\r\n    BigQueryIO.readTableRows().withoutValidation().withTemplateCompatibility().fromQuery(query).usingStandardSql());\r\n    \r\nPCollection&lt;KV&lt;String, TableRow&gt;&gt; rowsKeyedByUser = bq_row\r\n    .apply(WithKeys.of(new SerializableFunction&lt;TableRow, String&gt;() {\r\n        @Override\r\n        public String apply(TableRow row) {\r\n            return (String) row.get(&quot;asset_id&quot;);\r\n        }\r\n    }));\r\n    \r\nPCollectionView&lt;Map&lt;String, TableRow&gt;&gt; bq_row1 = rowsKeyedByUser.apply(\r\n    &quot;viewTags&quot;, View.&lt;String, TableRow&gt;asMap());\r\n```\r\n\r\nPlease let us know , Is there anything missing from my end ?\r\n","title":"Data is not flowing in PcollectionView stage in Java Apache beam","body":"<p>After reading data from  Bigquery I have to send the data as side Input to next level.So below is the step I am following  -</p>\n<ol>\n<li>Read BQ</li>\n<li>Convert PCollection to PCollection&lt;KV&lt;K,V&gt;&gt;</li>\n<li>Converting Pcollection to PcollectionView (Since next step with accept the PcollectionView only as side input)</li>\n</ol>\n<p>But Data is not flowing to step 3.Due to this I am not able to send the data in next level where our side Input will go.</p>\n<p>Below is the Dataflow -</p>\n<p><a href=\"https://i.stack.imgur.com/C3KYu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C3KYu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code snippet with Java  -</p>\n<pre><code>PCollection&lt;TableRow&gt; bq_row = pipeline.apply(\n    &quot;Read from BigQuery query&quot;,\n    BigQueryIO.readTableRows().withoutValidation().withTemplateCompatibility().fromQuery(query).usingStandardSql());\n    \nPCollection&lt;KV&lt;String, TableRow&gt;&gt; rowsKeyedByUser = bq_row\n    .apply(WithKeys.of(new SerializableFunction&lt;TableRow, String&gt;() {\n        @Override\n        public String apply(TableRow row) {\n            return (String) row.get(&quot;asset_id&quot;);\n        }\n    }));\n    \nPCollectionView&lt;Map&lt;String, TableRow&gt;&gt; bq_row1 = rowsKeyedByUser.apply(\n    &quot;viewTags&quot;, View.&lt;String, TableRow&gt;asMap());\n</code></pre>\n<p>Please let us know , Is there anything missing from my end ?</p>\n"},{"tags":["java","apache-spark","jdbc","google-bigquery","dataproc"],"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1646114574,"post_id":71294358,"comment_id":126038003,"body_markdown":"Can you please share a code snippet of what you&#39;re trying to achieve?","body":"Can you please share a code snippet of what you&#39;re trying to achieve?"},{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":0,"creation_date":1646133547,"post_id":71294358,"comment_id":126043560,"body_markdown":"Are you following an example? if so, could you provide the link. As mention above, a code above will provide better insight to this case as it will allow us to reproduce your issue. Also, have you try using the recommendation message `Failed to write core dump. Core dumps have been disabled. To enable core dumping, try ulimit -c unlimited` . I think you should also provide us the detailed log info on `/tmp/4f00321a-e1ae-4869-9540-ff789383b27c/hs_err_pid25451.log`","body":"Are you following an example? if so, could you provide the link. As mention above, a code above will provide better insight to this case as it will allow us to reproduce your issue. Also, have you try using the recommendation message <code>Failed to write core dump. Core dumps have been disabled. To enable core dumping, try ulimit -c unlimited</code> . I think you should also provide us the detailed log info on <code>&#47;tmp&#47;4f00321a-e1ae-4869-9540-ff789383b27c&#47;hs_err_pid25451.lo&zwnj;&#8203;g</code>"}],"answers":[{"tags":[],"owner":{"account_id":13364691,"reputation":1,"user_id":17994291,"display_name":"MadMen HitBooker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648226122,"creation_date":1648226122,"answer_id":71620293,"question_id":71294358,"body_markdown":"Why not using the java bigquery client ?\r\nI&#39;m using the client from my Spark Application to insert/update/delete data from BigQuery\r\n\r\nHere&#39;s [a link](https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#client-libraries-usage-java)\r\n\r\nYou would need to add the library into your jar when deploying the application","title":"Not able to create bigquery connection from within spark jar when running on dataproc cluster","body":"<p>Why not using the java bigquery client ?\nI'm using the client from my Spark Application to insert/update/delete data from BigQuery</p>\n<p>Here's <a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#client-libraries-usage-java\" rel=\"nofollow noreferrer\">a link</a></p>\n<p>You would need to add the library into your jar when deploying the application</p>\n"}],"owner":{"account_id":24404283,"reputation":11,"user_id":18332646,"display_name":"ashutosh tripathi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648226122,"creation_date":1646047809,"question_id":71294358,"body_markdown":"I want to delete data from bigquery table from within Spark running on dataproc cluster. But I am getting SIGSEGV runtime error when running the Spark application. Here is the full error when trying:\r\n\r\n     datasource.getConnection()\r\n\r\n     A fatal error has been detected by the Java Runtime Environment:\r\n     SIGSEGV (0xb) at pc=0x00007f218680fc80, pid=25451, tid=0x00007f21f8c20700\r\n    \r\n     JRE version: OpenJDK Runtime Environment (8.0_322-b06) (build 1.8.0_322-b06)\r\n     Java VM: OpenJDK 64-Bit Server VM (25.322-b06 mixed mode linux-amd64 compressed oops)\r\n     Problematic frame:\r\n     C  0x00007f218680fc80\r\n     Failed to write core dump. Core dumps have been disabled. To enable core dumping, try ulimit -c unlimited&quot; before starting Java again\r\n     An error report file with more information is saved as: /tmp/4f00321a-e1ae-4869-9540-ff789383b27c/hs_err_pid25451.log\r\n     If you would like to submit a bug report, please visit: https://github.com/adoptium/adoptium-support/issues\r\n\r\n\r\nThis is the sample code that I am following:\r\n\r\n    public class ConnectServiceAuthentication {\r\n\tpublic static Connection connectViaDS() throws SQLException {\r\n\t\tConnection connection = null;\r\n\t\tDataSource ds = new \r\n    com.simba.googlebigquery.jdbc.DataSource();\r\n\t\tds.setURL(&quot;jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443;\\n&quot; + &quot;OAuthType=3;ProjectId=myProjectid;&quot;);\r\n\t\tds.setProjectId(&quot;myProjectid&quot;);\r\n\t\tds.setOAuthType(0); // Service Authentication\r\n\tds.setOAuthServiceAcctEmail(&quot;myproject_bigquery@myproject.iam.gserviceaccount.com&quot;);\r\n\t\tds.setOAuthPvtKey(&quot;/home/key.json&quot;);\r\n\t\tconnection = ds.getConnection();\r\n\t\treturn connection;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection connection = connectViaDS();\r\n\t\tString sql = &quot;select count(1) from  temp.tempn1;&quot;;\r\n\r\n\t\tPreparedStatement ps = connection.prepareStatement(sql);\r\n\t\tResultSet rs = ps.executeQuery();\r\n\t\tif (rs.next())\r\n\t\t\tSystem.out.println(rs.getInt(1));\r\n\t\t\r\n\t\tconnection.close();\r\n\t}\r\n\r\n}","title":"Not able to create bigquery connection from within spark jar when running on dataproc cluster","body":"<p>I want to delete data from bigquery table from within Spark running on dataproc cluster. But I am getting SIGSEGV runtime error when running the Spark application. Here is the full error when trying:</p>\n<pre><code> datasource.getConnection()\n\n A fatal error has been detected by the Java Runtime Environment:\n SIGSEGV (0xb) at pc=0x00007f218680fc80, pid=25451, tid=0x00007f21f8c20700\n\n JRE version: OpenJDK Runtime Environment (8.0_322-b06) (build 1.8.0_322-b06)\n Java VM: OpenJDK 64-Bit Server VM (25.322-b06 mixed mode linux-amd64 compressed oops)\n Problematic frame:\n C  0x00007f218680fc80\n Failed to write core dump. Core dumps have been disabled. To enable core dumping, try ulimit -c unlimited&quot; before starting Java again\n An error report file with more information is saved as: /tmp/4f00321a-e1ae-4869-9540-ff789383b27c/hs_err_pid25451.log\n If you would like to submit a bug report, please visit: https://github.com/adoptium/adoptium-support/issues\n</code></pre>\n<p>This is the sample code that I am following:</p>\n<pre><code>public class ConnectServiceAuthentication {\npublic static Connection connectViaDS() throws SQLException {\n    Connection connection = null;\n    DataSource ds = new \ncom.simba.googlebigquery.jdbc.DataSource();\n    ds.setURL(&quot;jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443;\\n&quot; + &quot;OAuthType=3;ProjectId=myProjectid;&quot;);\n    ds.setProjectId(&quot;myProjectid&quot;);\n    ds.setOAuthType(0); // Service Authentication\nds.setOAuthServiceAcctEmail(&quot;myproject_bigquery@myproject.iam.gserviceaccount.com&quot;);\n    ds.setOAuthPvtKey(&quot;/home/key.json&quot;);\n    connection = ds.getConnection();\n    return connection;\n}\n\npublic static void main(String[] args) throws SQLException {\n    Connection connection = connectViaDS();\n    String sql = &quot;select count(1) from  temp.tempn1;&quot;;\n\n    PreparedStatement ps = connection.prepareStatement(sql);\n    ResultSet rs = ps.executeQuery();\n    if (rs.next())\n        System.out.println(rs.getInt(1));\n    \n    connection.close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","kubernetes","jvm","out-of-memory"],"answers":[{"tags":[],"owner":{"account_id":174482,"reputation":3102,"user_id":403872,"accept_rate":83,"display_name":"Abhijit Gaikwad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607072250,"creation_date":1607071156,"answer_id":65140346,"question_id":65137678,"body_markdown":"Minikube may not have enough memory.\r\n\r\nYou can check memory settings by\r\nminikube start -h\r\n\r\nThen \r\nminikube stop &amp;&amp; minikube start --cpus 4 --memory 2048\r\n\r\n\r\nUpdate: \r\ntry setting heap size -Xms1g -Xmx2g while starting java application","title":"Spring boot on Kubernetes does not get restarted on java.lang.OutOfMemoryError: Java heap space","body":"<p>Minikube may not have enough memory.</p>\n<p>You can check memory settings by\nminikube start -h</p>\n<p>Then\nminikube stop &amp;&amp; minikube start --cpus 4 --memory 2048</p>\n<p>Update:\ntry setting heap size -Xms1g -Xmx2g while starting java application</p>\n"},{"tags":[],"owner":{"account_id":1914239,"reputation":1799,"user_id":1727204,"accept_rate":41,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648225840,"creation_date":1648225840,"answer_id":71620237,"question_id":65137678,"body_markdown":"I realised there was a typo in my config. It must be `ExitOnOutOfMemoryError` not `ExitOnOutofMemoryError`. Here are the params I am using and they work smoothly:\r\n\r\n    -XX:InitialRAMPercentage=20.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError","title":"Spring boot on Kubernetes does not get restarted on java.lang.OutOfMemoryError: Java heap space","body":"<p>I realised there was a typo in my config. It must be <code>ExitOnOutOfMemoryError</code> not <code>ExitOnOutofMemoryError</code>. Here are the params I am using and they work smoothly:</p>\n<pre><code>-XX:InitialRAMPercentage=20.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError\n</code></pre>\n"}],"owner":{"account_id":1914239,"reputation":1799,"user_id":1727204,"accept_rate":41,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4850,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71620237,"answer_count":2,"score":3,"last_activity_date":1648225840,"creation_date":1607053762,"question_id":65137678,"body_markdown":"I have been running a spring boot application on Kubernetes with using JDK 11 image. My expectation is that when the JVM hits out of memory exception then the pod should be killed so that Kubernetes can bring up a larger pod. I can confirm that this is not what&#39;s happening. I am not sure if there are some JVM arguments I have to set that I am missing or perhaps some Kubernetes configurations to be aware of this situation.\r\n\r\nI am using the following JVM arguments:\r\n\r\n    -XX:InitialRAMPercentage=20.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutofMemoryError\r\n\r\nThe thrown exceptions:\r\n\r\n    {\r\n      &quot;message&quot;: &quot;Stopping container due to an Error&quot;,\r\n      &quot;logger_name&quot;: &quot;org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer&quot;,\r\n      &quot;thread_name&quot;: &quot;KafkaConsumerDestination{consumerDestinationName=&#39;message-submitted&#39;, partitions=21, dlqName=&#39;dlq&#39;}.container-0-C-1&quot;,\r\n      &quot;level&quot;: &quot;ERROR&quot;,\r\n      &quot;stack_trace&quot;: &quot;java.lang.OutOfMemoryError: Java heap space\\n\\tat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\\n\\tat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\\n\\tat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\\n\\tat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\\n\\tat software.amazon.awssdk.utils.IoUtils.toByteArray(IoUtils.java:49)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer.lambda$toBytes$3(ResponseTransformer.java:175)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer$$Lambda$1517/0x0000000101087040.transform(Unknown Source)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.transformResponse(BaseSyncClientHandler.java:154)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.handle(BaseSyncClientHandler.java:142)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleSuccessResponse(HandleResponseStage.java:89)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleResponse(HandleResponseStage.java:70)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:58)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:41)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:64)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:77)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:39)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.doExecute(RetryableStage.java:113)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.execute(RetryableStage.java:86)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:62)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:57)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\n&quot;\r\n    }\r\n\r\n\r\n    {\r\n      &quot;message&quot;: &quot;Error while stopping the container: &quot;,\r\n      &quot;logger_name&quot;: &quot;org.springframework.kafka.listener.KafkaMessageListenerContainer&quot;,\r\n      &quot;thread_name&quot;: &quot;KafkaConsumerDestination{consumerDestinationName=&#39;message-submitted&#39;, partitions=21, dlqName=&#39;dlq&#39;}.container-0-C-1&quot;,\r\n      &quot;level&quot;: &quot;ERROR&quot;,\r\n      &quot;stack_trace&quot;: &quot;java.lang.OutOfMemoryError: Java heap space\\n\\tat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\\n\\tat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\\n\\tat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\\n\\tat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\\n\\tat software.amazon.awssdk.utils.IoUtils.toByteArray(IoUtils.java:49)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer.lambda$toBytes$3(ResponseTransformer.java:175)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer$$Lambda$1517/0x0000000101087040.transform(Unknown Source)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.transformResponse(BaseSyncClientHandler.java:154)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.handle(BaseSyncClientHandler.java:142)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleSuccessResponse(HandleResponseStage.java:89)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleResponse(HandleResponseStage.java:70)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:58)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:41)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:64)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:77)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:39)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.doExecute(RetryableStage.java:113)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.execute(RetryableStage.java:86)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:62)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:57)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\n&quot;\r\n    }\r\n\r\nI think what&#39;s happening is OOM exception causes the pod to shutdown and then on trying to shutdown the pod the same exception is being thrown. So I tried to kill the pod regardless by adding `-XX:OnOutOfMemoryError=&quot;kill -9 %p` but it didn&#39;t help.\r\n\r\nOn a slightly different note, the pod memory limit is 2Gi. However, the pod reaches to OOM exception on about 700Mi, so I don&#39;t think there is not enough memory, just the pod throws an exception before even trying to expand the memory:\r\n\r\n        resources:\r\n          limits:\r\n            cpu: &quot;1&quot;\r\n            memory: 2Gi\r\n          requests:\r\n            cpu: 10m\r\n            memory: 128Mi\r\n\r\n\r\nI have also tested `-XX:+CrashOnOutOfMemoryError` and it didn&#39;t help to resolve my situation and pod keeps throwing OOM on the attempt to shutdown the container.","title":"Spring boot on Kubernetes does not get restarted on java.lang.OutOfMemoryError: Java heap space","body":"<p>I have been running a spring boot application on Kubernetes with using JDK 11 image. My expectation is that when the JVM hits out of memory exception then the pod should be killed so that Kubernetes can bring up a larger pod. I can confirm that this is not what's happening. I am not sure if there are some JVM arguments I have to set that I am missing or perhaps some Kubernetes configurations to be aware of this situation.</p>\n<p>I am using the following JVM arguments:</p>\n<pre><code>-XX:InitialRAMPercentage=20.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutofMemoryError\n</code></pre>\n<p>The thrown exceptions:</p>\n<pre><code>{\n  &quot;message&quot;: &quot;Stopping container due to an Error&quot;,\n  &quot;logger_name&quot;: &quot;org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer&quot;,\n  &quot;thread_name&quot;: &quot;KafkaConsumerDestination{consumerDestinationName='message-submitted', partitions=21, dlqName='dlq'}.container-0-C-1&quot;,\n  &quot;level&quot;: &quot;ERROR&quot;,\n  &quot;stack_trace&quot;: &quot;java.lang.OutOfMemoryError: Java heap space\\n\\tat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\\n\\tat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\\n\\tat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\\n\\tat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\\n\\tat software.amazon.awssdk.utils.IoUtils.toByteArray(IoUtils.java:49)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer.lambda$toBytes$3(ResponseTransformer.java:175)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer$$Lambda$1517/0x0000000101087040.transform(Unknown Source)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.transformResponse(BaseSyncClientHandler.java:154)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.handle(BaseSyncClientHandler.java:142)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleSuccessResponse(HandleResponseStage.java:89)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleResponse(HandleResponseStage.java:70)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:58)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:41)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:64)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:77)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:39)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.doExecute(RetryableStage.java:113)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.execute(RetryableStage.java:86)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:62)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:57)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\n&quot;\n}\n\n\n{\n  &quot;message&quot;: &quot;Error while stopping the container: &quot;,\n  &quot;logger_name&quot;: &quot;org.springframework.kafka.listener.KafkaMessageListenerContainer&quot;,\n  &quot;thread_name&quot;: &quot;KafkaConsumerDestination{consumerDestinationName='message-submitted', partitions=21, dlqName='dlq'}.container-0-C-1&quot;,\n  &quot;level&quot;: &quot;ERROR&quot;,\n  &quot;stack_trace&quot;: &quot;java.lang.OutOfMemoryError: Java heap space\\n\\tat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\\n\\tat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\\n\\tat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\\n\\tat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\\n\\tat software.amazon.awssdk.utils.IoUtils.toByteArray(IoUtils.java:49)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer.lambda$toBytes$3(ResponseTransformer.java:175)\\n\\tat software.amazon.awssdk.core.sync.ResponseTransformer$$Lambda$1517/0x0000000101087040.transform(Unknown Source)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.transformResponse(BaseSyncClientHandler.java:154)\\n\\tat software.amazon.awssdk.core.client.handler.BaseSyncClientHandler$HttpResponseHandlerAdapter.handle(BaseSyncClientHandler.java:142)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleSuccessResponse(HandleResponseStage.java:89)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.handleResponse(HandleResponseStage.java:70)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:58)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:41)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:64)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:36)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:77)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:39)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.doExecute(RetryableStage.java:113)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage$RetryExecutor.execute(RetryableStage.java:86)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:62)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:57)\\n\\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\\n\\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\\n&quot;\n}\n</code></pre>\n<p>I think what's happening is OOM exception causes the pod to shutdown and then on trying to shutdown the pod the same exception is being thrown. So I tried to kill the pod regardless by adding <code>-XX:OnOutOfMemoryError=&quot;kill -9 %p</code> but it didn't help.</p>\n<p>On a slightly different note, the pod memory limit is 2Gi. However, the pod reaches to OOM exception on about 700Mi, so I don't think there is not enough memory, just the pod throws an exception before even trying to expand the memory:</p>\n<pre><code>    resources:\n      limits:\n        cpu: &quot;1&quot;\n        memory: 2Gi\n      requests:\n        cpu: 10m\n        memory: 128Mi\n</code></pre>\n<p>I have also tested <code>-XX:+CrashOnOutOfMemoryError</code> and it didn't help to resolve my situation and pod keeps throwing OOM on the attempt to shutdown the container.</p>\n"},{"tags":["java","azure","client","keystore"],"comments":[{"owner":{"account_id":3124462,"reputation":1391,"user_id":2643602,"accept_rate":61,"display_name":"Jason"},"score":0,"creation_date":1504145825,"post_id":45970575,"comment_id":78903382,"body_markdown":"I ran into a similar problem like this a few weeks ago, but I was dealing with an LDAP servers certificate (that was given to me). I&#39;ve never worked with the Azure stuff your dealing with but it sounds like your running some sort of local server on your machine right? If yes, have a look at this page. https://github.com/escline/InstallCert/blob/master/InstallCert.java. Copy / paste the java code and run it, passing  &quot;host:port passphrase&quot;. it should generate a certificate for you (i believe in the same location as the java class you run).copy/paste the file into the jre location you mentioned.","body":"I ran into a similar problem like this a few weeks ago, but I was dealing with an LDAP servers certificate (that was given to me). I&#39;ve never worked with the Azure stuff your dealing with but it sounds like your running some sort of local server on your machine right? If yes, have a look at this page. <a href=\"https://github.com/escline/InstallCert/blob/master/InstallCert.java\" rel=\"nofollow noreferrer\">github.com/escline/InstallCert/blob/master/InstallCert.java</a>. Copy / paste the java code and run it, passing  &quot;host:port passphrase&quot;. it should generate a certificate for you (i believe in the same location as the java class you run).copy/paste the file into the jre location you mentioned."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1648225206,"post_id":45970575,"comment_id":126578538,"body_markdown":"I solidly answered your question.  See my reply below.","body":"I solidly answered your question.  See my reply below."}],"answers":[{"tags":[],"owner":{"account_id":11172301,"reputation":23265,"user_id":8198946,"display_name":"Jay Gong"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1579448211,"creation_date":1504150516,"answer_id":45972803,"question_id":45970575,"body_markdown":"According to your description, I also wrote a snippet of code using Document DB JavaSDK to connect to the Cosmos DB emulator, and as a result, I ran into the same issue as you.\r\n\r\n    package emulator;\r\n    \r\n    import com.microsoft.azure.documentdb.ConnectionPolicy;\r\n    import com.microsoft.azure.documentdb.ConsistencyLevel;\r\n    import com.microsoft.azure.documentdb.Database;\r\n    import com.microsoft.azure.documentdb.DocumentClient;\r\n    import com.microsoft.azure.documentdb.DocumentClientException;\r\n\r\n    public class TestEmlulator {\r\n    \r\n    \t// Replace with your DocumentDB end point and master key.\r\n    \tprivate static final String END_POINT = &quot;https://localhost:8081/&quot;;\r\n    \tprivate static final String MASTER_KEY = &quot;C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==&quot;;\r\n    \r\n    \tpublic static void main(String[] args) throws DocumentClientException {\r\n    \t\t// Connect to the Azure Cosmos DB Emulator running locally\r\n    \t\tDocumentClient client = new DocumentClient(END_POINT, MASTER_KEY, ConnectionPolicy.GetDefault(),\r\n    \t\t\t\tConsistencyLevel.Session);\r\n    \r\n    \t\tDatabase database = new Database();\r\n    \t\tdatabase.setId(&quot;testEmulator&quot;);\r\n    \t\tdatabase = client.createDatabase(database, null).getResource();\r\n    \r\n    \t\tSystem.out.println(database.toJson());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nSo I exported the certificate of cosmosDB, and named it as `documentdbemulatorcert.cer`  and stored it in my D disk, as provided by the [official tutorial][1]. It seems that you did the same thing.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThen,I tried to import the certificate of cosmosdb into the JVM trust certificate list. You could also refer to the steps I did below:\r\n\r\n***Step1:*** Open the CMD command window and enter the `%JAVA_HOME%/jre/lib/security` directory. Note that it is necessary to open the command window with **`administrator privileges`**\r\n\r\nFor me, the directory looks like `C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\security`\r\n\r\n\r\n***Step2 :*** In the open command window, enter the following command:\r\n\r\n    keytool -import -alias cacerts -keystore cacerts -file d:\\documentdbemulatorcert.cer\r\n\r\nenter the default password: `changeit` and enter **Y or y** against the  `Trust this certificate? [no]:`\r\n\r\n\r\n***Step 3：*** You could see `Certificate was added to keystore` if the certificate has been successfully imported.\r\n\r\n\r\nYou can refer to the screenshot below for the whole process：\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFinally, my code works!\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nYou can also refer to the SO threads below：\r\n\r\n1.https://stackoverflow.com/questions/9210514/unable-to-find-valid-certification-path-to-requested-target-error-even-after-c\r\n\r\n2.https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\r\n\r\nHope it helps you.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cosmos-db/local-emulator\r\n  [2]: https://i.stack.imgur.com/5tb9v.png\r\n  [3]: https://i.stack.imgur.com/6V835.png\r\n  [4]: https://i.stack.imgur.com/fNW92.png","title":"How to connect a Java client to Azure Cosmos db emulator on Windows 10, can&#39;t find cert","body":"<p>According to your description, I also wrote a snippet of code using Document DB JavaSDK to connect to the Cosmos DB emulator, and as a result, I ran into the same issue as you.</p>\n\n<pre><code>package emulator;\n\nimport com.microsoft.azure.documentdb.ConnectionPolicy;\nimport com.microsoft.azure.documentdb.ConsistencyLevel;\nimport com.microsoft.azure.documentdb.Database;\nimport com.microsoft.azure.documentdb.DocumentClient;\nimport com.microsoft.azure.documentdb.DocumentClientException;\n\npublic class TestEmlulator {\n\n    // Replace with your DocumentDB end point and master key.\n    private static final String END_POINT = \"https://localhost:8081/\";\n    private static final String MASTER_KEY = \"C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==\";\n\n    public static void main(String[] args) throws DocumentClientException {\n        // Connect to the Azure Cosmos DB Emulator running locally\n        DocumentClient client = new DocumentClient(END_POINT, MASTER_KEY, ConnectionPolicy.GetDefault(),\n                ConsistencyLevel.Session);\n\n        Database database = new Database();\n        database.setId(\"testEmulator\");\n        database = client.createDatabase(database, null).getResource();\n\n        System.out.println(database.toJson());\n    }\n\n}\n</code></pre>\n\n<p>So I exported the certificate of cosmosDB, and named it as <code>documentdbemulatorcert.cer</code>  and stored it in my D disk, as provided by the <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/local-emulator\" rel=\"nofollow noreferrer\">official tutorial</a>. It seems that you did the same thing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5tb9v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5tb9v.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then,I tried to import the certificate of cosmosdb into the JVM trust certificate list. You could also refer to the steps I did below:</p>\n\n<p><strong><em>Step1:</em></strong> Open the CMD command window and enter the <code>%JAVA_HOME%/jre/lib/security</code> directory. Note that it is necessary to open the command window with <strong><code>administrator privileges</code></strong></p>\n\n<p>For me, the directory looks like <code>C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\security</code></p>\n\n<p><strong><em>Step2 :</em></strong> In the open command window, enter the following command:</p>\n\n<pre><code>keytool -import -alias cacerts -keystore cacerts -file d:\\documentdbemulatorcert.cer\n</code></pre>\n\n<p>enter the default password: <code>changeit</code> and enter <strong>Y or y</strong> against the  <code>Trust this certificate? [no]:</code></p>\n\n<p><strong><em>Step 3：</em></strong> You could see <code>Certificate was added to keystore</code> if the certificate has been successfully imported.</p>\n\n<p>You can refer to the screenshot below for the whole process：</p>\n\n<p><a href=\"https://i.stack.imgur.com/6V835.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6V835.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, my code works!</p>\n\n<p><a href=\"https://i.stack.imgur.com/fNW92.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fNW92.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also refer to the SO threads below：</p>\n\n<p>1.<a href=\"https://stackoverflow.com/questions/9210514/unable-to-find-valid-certification-path-to-requested-target-error-even-after-c\">Unable to find valid certification path to requested target - error even after cert imported</a></p>\n\n<p>2.<a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\">&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;</a></p>\n\n<p>Hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648225360,"creation_date":1648225020,"answer_id":71620082,"question_id":45970575,"body_markdown":"I am on a Mac, but the scripts below can be adjusted to work on Windows 10. \r\n\r\n**DO NOT use** the keytool `-cacerts` option.  You will hose yourself.   If you do that, and you are not careful, you could accidentally import the cert to the wrong JDK on your system.\r\n\r\nI define CosmosDB emulator in a `docker-compose.yml` .   Then I start it like so:\r\n\r\n    #!/usr/bin/env bash\r\n    ## starts Mongo locally and imports certificates into your JDK\r\n    \r\n    export EXTERNAL_IP=$(ifconfig | grep &quot;inet &quot; | grep -Fv 127.0.0.1 | awk &#39;{print $2}&#39; | head -n 1)\r\n    exec docker-compose up -d\r\n    \r\n    sleep 20s\r\n    \r\n    curl -k https://localhost:8081/_explorer/emulator.pem &gt; emulatorcert.crt\r\n    \r\n    if [ ! -f $JAVA_HOME/lib/security/jssecacerts ]\r\n    then\r\n        sudo cp $JAVA_HOME/lib/security/cacerts $JAVA_HOME/lib/security/jssecacerts\r\n    else\r\n        echo &quot;jssecacerts file exists&quot;\r\n    fi\r\n    \r\n    sudo keytool -delete -alias &quot;cosmosdb&quot; -keystore $JAVA_HOME/lib/security/jssecacerts -storepass changeit -noprompt\r\n    sudo keytool -importcert -file ./emulatorcert.crt -keystore $JAVA_HOME/lib/security/jssecacerts -alias &quot;cosmosdb&quot; --storepass changeit -noprompt\r\n    sudo keytool -list -keystore $JAVA_HOME/lib/security/jssecacerts -alias &quot;cosmosdb&quot; --storepass changeit\r\n\r\nAnd here is my `docker-compose.yml` :\r\n\r\n    version: &#39;2.4&#39;\r\n    \r\n    services:\r\n    \r\n      cosmosdb:\r\n        container_name: cosmosdb\r\n        hostname: cosmosdb\r\n        image: mcr.microsoft.com/cosmosdb/linux/azure-cosmos-emulator\r\n        platform: linux\r\n        tty: true\r\n        restart: always\r\n        mem_limit: 3GB\r\n        ports:\r\n            - &#39;8081:8081&#39;\r\n            - &#39;8900:8900&#39;\r\n            - &#39;8901:8901&#39;\r\n            - &#39;8902:8902&#39;\r\n            - &#39;10250:10250&#39;\r\n            - &#39;10251:10251&#39;\r\n            - &#39;10252:10252&#39;\r\n            - &#39;10253:10253&#39;\r\n            - &#39;10254:10254&#39;\r\n            - &#39;10255:10255&#39;\r\n            - &#39;10256:10256&#39;\r\n            - &#39;10350:10350&#39;\r\n        environment:\r\n          AZURE_COSMOS_EMULATOR_PARTITION_COUNT: 2\r\n          AZURE_COSMOS_EMULATOR_ENABLE_DATA_PERSISTENCE: true\r\n          AZURE_COSMOS_EMULATOR_IP_ADDRESS_OVERRIDE: ${EXTERNAL_IP}\r\n        volumes:\r\n          -  vol_cosmos:/Volumes/docked/cosmosdb  # volume must allow write permissions\r\n    \r\n    volumes:\r\n      vol_cosmos:\r\n\r\nFinally, import the cert into your Keychain Access app (a.k.a. system cert store), and then mark the cert as trusted.\r\n\r\nThen, finally you can manage your CosmosDB by visiting https://localhost:8081/_explorer/index.html .","title":"How to connect a Java client to Azure Cosmos db emulator on Windows 10, can&#39;t find cert","body":"<p>I am on a Mac, but the scripts below can be adjusted to work on Windows 10.</p>\n<p><strong>DO NOT use</strong> the keytool <code>-cacerts</code> option.  You will hose yourself.   If you do that, and you are not careful, you could accidentally import the cert to the wrong JDK on your system.</p>\n<p>I define CosmosDB emulator in a <code>docker-compose.yml</code> .   Then I start it like so:</p>\n<pre><code>#!/usr/bin/env bash\n## starts Mongo locally and imports certificates into your JDK\n\nexport EXTERNAL_IP=$(ifconfig | grep &quot;inet &quot; | grep -Fv 127.0.0.1 | awk '{print $2}' | head -n 1)\nexec docker-compose up -d\n\nsleep 20s\n\ncurl -k https://localhost:8081/_explorer/emulator.pem &gt; emulatorcert.crt\n\nif [ ! -f $JAVA_HOME/lib/security/jssecacerts ]\nthen\n    sudo cp $JAVA_HOME/lib/security/cacerts $JAVA_HOME/lib/security/jssecacerts\nelse\n    echo &quot;jssecacerts file exists&quot;\nfi\n\nsudo keytool -delete -alias &quot;cosmosdb&quot; -keystore $JAVA_HOME/lib/security/jssecacerts -storepass changeit -noprompt\nsudo keytool -importcert -file ./emulatorcert.crt -keystore $JAVA_HOME/lib/security/jssecacerts -alias &quot;cosmosdb&quot; --storepass changeit -noprompt\nsudo keytool -list -keystore $JAVA_HOME/lib/security/jssecacerts -alias &quot;cosmosdb&quot; --storepass changeit\n</code></pre>\n<p>And here is my <code>docker-compose.yml</code> :</p>\n<pre><code>version: '2.4'\n\nservices:\n\n  cosmosdb:\n    container_name: cosmosdb\n    hostname: cosmosdb\n    image: mcr.microsoft.com/cosmosdb/linux/azure-cosmos-emulator\n    platform: linux\n    tty: true\n    restart: always\n    mem_limit: 3GB\n    ports:\n        - '8081:8081'\n        - '8900:8900'\n        - '8901:8901'\n        - '8902:8902'\n        - '10250:10250'\n        - '10251:10251'\n        - '10252:10252'\n        - '10253:10253'\n        - '10254:10254'\n        - '10255:10255'\n        - '10256:10256'\n        - '10350:10350'\n    environment:\n      AZURE_COSMOS_EMULATOR_PARTITION_COUNT: 2\n      AZURE_COSMOS_EMULATOR_ENABLE_DATA_PERSISTENCE: true\n      AZURE_COSMOS_EMULATOR_IP_ADDRESS_OVERRIDE: ${EXTERNAL_IP}\n    volumes:\n      -  vol_cosmos:/Volumes/docked/cosmosdb  # volume must allow write permissions\n\nvolumes:\n  vol_cosmos:\n</code></pre>\n<p>Finally, import the cert into your Keychain Access app (a.k.a. system cert store), and then mark the cert as trusted.</p>\n<p>Then, finally you can manage your CosmosDB by visiting https://localhost:8081/_explorer/index.html .</p>\n"}],"owner":{"account_id":1380809,"reputation":1193,"user_id":1313852,"accept_rate":8,"display_name":"WILLIAM WOODMAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6683,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648225360,"creation_date":1504131831,"question_id":45970575,"body_markdown":"**Problem**: My demo code client unable to connect to the Azure Cosmos emulator on Windows 10.\r\n\r\n**Steps**:  \r\n\r\n1. I installed the Cosmosdb emulator on Windows - looks fine   \r\n2. As per documentation, I started the Windows cert manage.msc. I selected private cert with friendly name &quot;DocumentDBEmulatorCertificate&quot; as base64 encoded x.509.cer file to local disk\r\n3. I started the cmd console in Windows as administrator and cd to local JAVA_HOME/lib/security directory (I&#39;m using Java 8.0.131)   \r\n4. I ran keytool with this \r\n\r\n    &gt; keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias azureCosmossDBEmulator -file &quot;D:\\exported certificates\\cosmossDB-emulator-cert.cer&quot;\r\n\r\n5. I listed out the revised keystore to `dump.txt` file.  I can see my entry in the dump \r\n\r\n    &gt; azurecosmossdbemulator, 30-Aug-2017, trustedCertEntry, \r\nCertificate fingerprint (SHA1): 5B:F4:14:BE:9F:2B:7F:6A:2B:C0:87:A4:3E:4D:9A:52:45:FA:2F:EA\r\n\r\n    and this matches the thumbprint value in the x.509 cert. \r\n\r\n6. I restarted Intellij on my build, and checked that Java 8.0.1.3.1 was the only jdk in the project.  \r\n\r\n7. I fired up Groovy test script in debug and stepped through code. I can create DocumentClient ok.  \r\n8. This is just a rough script to test connection code looks like this \r\n\r\n        final String key = &quot;C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==&quot;\r\n    \r\n        DocumentClient client = new DocumentClient(&quot;https://localhost:8081&quot;, key\r\n                    , new ConnectionPolicy(), ConsistencyLevel.Session)\r\n\r\n        String dbname = &quot;familyDB&quot;\r\n            String dblink = &quot;/dbs/$dbname&quot;\r\n\r\n        //create db if not exists\r\n        try {\r\n            client.readDatabase(dblink,null)\r\n            println &quot;found db $dbname&quot;\r\n        } catch (DocumentClientException de) {\r\n            if (de.getStatusCode() == 404) {\r\n                Database db = new Database()\r\n                db.id = dbname\r\n                client.createDatabase(db, null)\r\n                println &quot;created new DB $dbname&quot;\r\n        } else {\r\n            throw de\r\n        }\r\n        }\r\n\r\nWhen I get to the client.readDatabase line I get an exception like this:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Caught: java.lang.IllegalStateException: Http client execution failed.\r\n    java.lang.IllegalStateException: Http client execution failed.\r\n    \tat com.microsoft.azure.documentdb.internal.GatewayProxy.performGetRequest(GatewayProxy.java:234)\r\n    \tat com.microsoft.azure.documentdb.internal.GatewayProxy.doRead(GatewayProxy.java:89)\r\n    \tat com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:336)\r\n    \tat com.microsoft.azure.documentdb.DocumentClient$8.apply(DocumentClient.java:2985)\r\n    \tat com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:58)\r\n    \tat com.microsoft.azure.documentdb.DocumentClient.doRead(DocumentClient.java:2991)\r\n    \tat com.microsoft.azure.documentdb.DocumentClient.readDatabase(DocumentClient.java:491)\r\n    \tat com.microsoft.azure.documentdb.DocumentClient$readDatabase.call(Unknown Source)\r\n    \tat com.softwood.azure.client.cosmossDBClientScript.run(cosmossDBClientScript.groovy:29)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n    \tat com.microsoft.azure.documentdb.internal.GatewayProxy.performGetRequest(GatewayProxy.java:231)\r\n    \t... 8 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \t... 20 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \t... 20 more\r\n\r\nwhich basically states it can&#39;t find my cacert entry and refuses to connect.\r\n\r\nWhat&#39;s gone wrong? (I haven&#39;t restarted Windows yet). The cert looks ok, the import seemed to work via keytool into cacerts, I&#39;m using single jdk ref, but code won&#39;t connect.\r\n\r\nHow can I unravel what I have not done correctly, and must now do to have the code connect from Java into Azure DB emulator running locally in my Windows 10 machine?\r\n","title":"How to connect a Java client to Azure Cosmos db emulator on Windows 10, can&#39;t find cert","body":"<p><strong>Problem</strong>: My demo code client unable to connect to the Azure Cosmos emulator on Windows 10.</p>\n<p><strong>Steps</strong>:</p>\n<ol>\n<li><p>I installed the Cosmosdb emulator on Windows - looks fine</p>\n</li>\n<li><p>As per documentation, I started the Windows cert manage.msc. I selected private cert with friendly name &quot;DocumentDBEmulatorCertificate&quot; as base64 encoded x.509.cer file to local disk</p>\n</li>\n<li><p>I started the cmd console in Windows as administrator and cd to local JAVA_HOME/lib/security directory (I'm using Java 8.0.131)</p>\n</li>\n<li><p>I ran keytool with this</p>\n<blockquote>\n<p>keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias azureCosmossDBEmulator -file &quot;D:\\exported certificates\\cosmossDB-emulator-cert.cer&quot;</p>\n</blockquote>\n</li>\n<li><p>I listed out the revised keystore to <code>dump.txt</code> file.  I can see my entry in the dump</p>\n<blockquote>\n<p>azurecosmossdbemulator, 30-Aug-2017, trustedCertEntry,\nCertificate fingerprint (SHA1): 5B:F4:14:BE:9F:2B:7F:6A:2B:C0:87:A4:3E:4D:9A:52:45:FA:2F:EA</p>\n</blockquote>\n<p>and this matches the thumbprint value in the x.509 cert.</p>\n</li>\n<li><p>I restarted Intellij on my build, and checked that Java 8.0.1.3.1 was the only jdk in the project.</p>\n</li>\n<li><p>I fired up Groovy test script in debug and stepped through code. I can create DocumentClient ok.</p>\n</li>\n<li><p>This is just a rough script to test connection code looks like this</p>\n<pre><code> final String key = &quot;C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==&quot;\n\n DocumentClient client = new DocumentClient(&quot;https://localhost:8081&quot;, key\n             , new ConnectionPolicy(), ConsistencyLevel.Session)\n\n String dbname = &quot;familyDB&quot;\n     String dblink = &quot;/dbs/$dbname&quot;\n\n //create db if not exists\n try {\n     client.readDatabase(dblink,null)\n     println &quot;found db $dbname&quot;\n } catch (DocumentClientException de) {\n     if (de.getStatusCode() == 404) {\n         Database db = new Database()\n         db.id = dbname\n         client.createDatabase(db, null)\n         println &quot;created new DB $dbname&quot;\n } else {\n     throw de\n }\n }\n</code></pre>\n</li>\n</ol>\n<p>When I get to the client.readDatabase line I get an exception like this:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nCaught: java.lang.IllegalStateException: Http client execution failed.\njava.lang.IllegalStateException: Http client execution failed.\n    at com.microsoft.azure.documentdb.internal.GatewayProxy.performGetRequest(GatewayProxy.java:234)\n    at com.microsoft.azure.documentdb.internal.GatewayProxy.doRead(GatewayProxy.java:89)\n    at com.microsoft.azure.documentdb.internal.GatewayProxy.processMessage(GatewayProxy.java:336)\n    at com.microsoft.azure.documentdb.DocumentClient$8.apply(DocumentClient.java:2985)\n    at com.microsoft.azure.documentdb.internal.RetryUtility.executeDocumentClientRequest(RetryUtility.java:58)\n    at com.microsoft.azure.documentdb.DocumentClient.doRead(DocumentClient.java:2991)\n    at com.microsoft.azure.documentdb.DocumentClient.readDatabase(DocumentClient.java:491)\n    at com.microsoft.azure.documentdb.DocumentClient$readDatabase.call(Unknown Source)\n    at com.softwood.azure.client.cosmossDBClientScript.run(cosmossDBClientScript.groovy:29)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at com.microsoft.azure.documentdb.internal.GatewayProxy.performGetRequest(GatewayProxy.java:231)\n    ... 8 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    ... 20 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    ... 20 more\n</code></pre>\n<p>which basically states it can't find my cacert entry and refuses to connect.</p>\n<p>What's gone wrong? (I haven't restarted Windows yet). The cert looks ok, the import seemed to work via keytool into cacerts, I'm using single jdk ref, but code won't connect.</p>\n<p>How can I unravel what I have not done correctly, and must now do to have the code connect from Java into Azure DB emulator running locally in my Windows 10 machine?</p>\n"},{"tags":["java","android","loopj"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1648225389,"post_id":71620116,"comment_id":126578601,"body_markdown":"Have you seen [this](https://stackoverflow.com/questions/38337346/cannot-resolve-defaulthttpclient-in-android-studio)?","body":"Have you seen <a href=\"https://stackoverflow.com/questions/38337346/cannot-resolve-defaulthttpclient-in-android-studio\">this</a>?"},{"owner":{"account_id":24686677,"reputation":1,"user_id":18579770,"display_name":"bladerunner00"},"score":0,"creation_date":1648226598,"post_id":71620116,"comment_id":126578998,"body_markdown":"@tomerpacific yes, adding the `useLibrary` did nothing, but adding the `osgi.wrapped` dependency produces a different error than the one above: `NoClassDefFoundError`.  Any ideas? Thanks!","body":"@tomerpacific yes, adding the <code>useLibrary</code> did nothing, but adding the <code>osgi.wrapped</code> dependency produces a different error than the one above: <code>NoClassDefFoundError</code>.  Any ideas? Thanks!"}],"owner":{"account_id":24686677,"reputation":1,"user_id":18579770,"display_name":"bladerunner00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648225185,"creation_date":1648225185,"question_id":71620116,"body_markdown":"I am making some updates to a legacy app that uses a dated networking library - unfortunately replacing this lib isn&#39;t possible at this point in time so I&#39;m trying to get it working in it&#39;s current form for the time being.\r\n\r\nThe error occurs when attempting to submit post data via login form.  Error:\r\n\r\n```\r\n2022-03-25 11:00:43.904 28831-28831/com.myapp.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.myapp.app, PID: 28831\r\n    java.lang.VerifyError: Verifier rejected class com.loopj.android.http.AsyncHttpClient: org.apache.http.client.HttpClient com.loopj.android.http.AsyncHttpClient.getHttpClient() failed to verify: org.apache.http.client.HttpClient com.loopj.android.http.AsyncHttpClient.getHttpClient(): [0x2]  can&#39;t resolve returned type &#39;Unresolved Reference: org.apache.http.client.HttpClient&#39; or &#39;Unresolved Reference: org.apache.http.impl.client.DefaultHttpClient&#39; (declaration of &#39;com.loopj.android.http.AsyncHttpClient&#39; appears in /data/data/com.myapp.app/code_cache/.overlay/base.apk/classes9.dex)\r\n    at com.myapp.app.MyAppRestClient.&lt;clinit&gt;(MyAppRestClient.java:20)\r\n```\r\n\r\nThe dependency being used in my app `build.gradle` is:\r\n\r\n```\r\nimplementation &#39;com.loopj.android:android-async-http:1.4.4&#39;\r\n```\r\n\r\nI tried to update the dependency as there&#39;s a newer version, but that broke a lot of code so I&#39;d really like to get this `1.4.4` version working.\r\n\r\nI also tried to add `useLibrary &#39;org.apache.http.legacy&#39;` to my app `build.gradle` inside of the `android{}` section, but that didn&#39;t fix the problem.","title":"Error using older networing lib com.loopj.android.http.AsyncHttpClient - verifier rejected class can&#39;t resolve returned type","body":"<p>I am making some updates to a legacy app that uses a dated networking library - unfortunately replacing this lib isn't possible at this point in time so I'm trying to get it working in it's current form for the time being.</p>\n<p>The error occurs when attempting to submit post data via login form.  Error:</p>\n<pre><code>2022-03-25 11:00:43.904 28831-28831/com.myapp.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.myapp.app, PID: 28831\n    java.lang.VerifyError: Verifier rejected class com.loopj.android.http.AsyncHttpClient: org.apache.http.client.HttpClient com.loopj.android.http.AsyncHttpClient.getHttpClient() failed to verify: org.apache.http.client.HttpClient com.loopj.android.http.AsyncHttpClient.getHttpClient(): [0x2]  can't resolve returned type 'Unresolved Reference: org.apache.http.client.HttpClient' or 'Unresolved Reference: org.apache.http.impl.client.DefaultHttpClient' (declaration of 'com.loopj.android.http.AsyncHttpClient' appears in /data/data/com.myapp.app/code_cache/.overlay/base.apk/classes9.dex)\n    at com.myapp.app.MyAppRestClient.&lt;clinit&gt;(MyAppRestClient.java:20)\n</code></pre>\n<p>The dependency being used in my app <code>build.gradle</code> is:</p>\n<pre><code>implementation 'com.loopj.android:android-async-http:1.4.4'\n</code></pre>\n<p>I tried to update the dependency as there's a newer version, but that broke a lot of code so I'd really like to get this <code>1.4.4</code> version working.</p>\n<p>I also tried to add <code>useLibrary 'org.apache.http.legacy'</code> to my app <code>build.gradle</code> inside of the <code>android{}</code> section, but that didn't fix the problem.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1648225183,"creation_date":1648225183,"answer_id":71620115,"question_id":71619973,"body_markdown":"One way to achieve it is to use `@ConditionalOnProperty` annotation to instantiate beans when properties have a specific value. You could use `matchIfMissing = true` to determine default behavior.\r\n\r\n```\r\n@Bean\r\n@ConditionalOnProperty(name = &quot;shape&quot;, havingValue = &quot;circle&quot;, matchIfMissing = true)\r\npublic Shape circleShape() {\r\n\treturn new Circle();\r\n}\r\n\r\n@Bean\r\n@ConditionalOnProperty(name = &quot;shape&quot;, havingValue = &quot;rectangle&quot;)\r\npublic Shape rectangleShape() {\r\n\treturn new Rectangle();\r\n}\r\n```","title":"How to Autowired an instance of a subclass based on a property that is defined in property file","body":"<p>One way to achieve it is to use <code>@ConditionalOnProperty</code> annotation to instantiate beans when properties have a specific value. You could use <code>matchIfMissing = true</code> to determine default behavior.</p>\n<pre><code>@Bean\n@ConditionalOnProperty(name = &quot;shape&quot;, havingValue = &quot;circle&quot;, matchIfMissing = true)\npublic Shape circleShape() {\n    return new Circle();\n}\n\n@Bean\n@ConditionalOnProperty(name = &quot;shape&quot;, havingValue = &quot;rectangle&quot;)\npublic Shape rectangleShape() {\n    return new Rectangle();\n}\n</code></pre>\n"}],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71620115,"answer_count":1,"score":1,"last_activity_date":1648225183,"creation_date":1648224498,"question_id":71619973,"body_markdown":"I use SpringBoot 2.2.2.RELEASE (pretty old one) and I have the following requirements:\r\n\r\nI have a @Service class, which I would like to expand its constructor by adding an interface. When the application loads I would like the correct instance of the interface to be @Autowired based on some property I would define in a property file. so this is basically a Factory which instantiate classes by some property that defined in property file.\r\n\r\nHere is a snippet of how I would imagine it to work:\r\n\r\n```\r\n@Service\r\nclass MyService {\r\n\r\n   @Autowired\r\n   public MyService(Shape shape) { ...}\r\n}\r\n\r\n\r\ninterface Shape { ...}\r\n\r\nclass Circle implements Shape { ... }\r\n\r\nclass Rectangle implements Shape { ... }\r\n```\r\n\r\nThe magic should resides in some Factory class that reads a property from property file and accordingly instantiate one of the subclasses of `Shape`. \r\n\r\nEach instance of this application runs on a dedicated machine (EC2) with its own unique property files.\r\n\r\nIs there something like this built into Spring Boot?\r\n\r\nAny suggestions would be appreciated!","title":"How to Autowired an instance of a subclass based on a property that is defined in property file","body":"<p>I use SpringBoot 2.2.2.RELEASE (pretty old one) and I have the following requirements:</p>\n<p>I have a @Service class, which I would like to expand its constructor by adding an interface. When the application loads I would like the correct instance of the interface to be @Autowired based on some property I would define in a property file. so this is basically a Factory which instantiate classes by some property that defined in property file.</p>\n<p>Here is a snippet of how I would imagine it to work:</p>\n<pre><code>@Service\nclass MyService {\n\n   @Autowired\n   public MyService(Shape shape) { ...}\n}\n\n\ninterface Shape { ...}\n\nclass Circle implements Shape { ... }\n\nclass Rectangle implements Shape { ... }\n</code></pre>\n<p>The magic should resides in some Factory class that reads a property from property file and accordingly instantiate one of the subclasses of <code>Shape</code>.</p>\n<p>Each instance of this application runs on a dedicated machine (EC2) with its own unique property files.</p>\n<p>Is there something like this built into Spring Boot?</p>\n<p>Any suggestions would be appreciated!</p>\n"},{"tags":["java","expression","birt"],"answers":[{"tags":[],"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634025820,"creation_date":1634025820,"answer_id":69537007,"question_id":69495531,"body_markdown":"This is an expression, so you should NOT use a semicolon afteer the string literals.\r\nFurthermore, the value might be different from 0 or 1 (e.g. null), so you should also add yet another image filename for the &quot;else&quot; part.\r\n\r\nIn order to check that your images can be displayed at all, you should also use a constant expression as the very first step:\r\n\r\nConstant expression:\r\n\r\n    &quot;check-50x49.jpg&quot;\r\n\r\nThis should show the &quot;checked&quot; image.\r\n\r\nNext, the expression depending on the value (assuming you also have an image file &quot;other.jpg&quot;:\r\n\r\n    if( row[&quot;acceptsplititem&quot;] == 1 ) {\r\n        &quot;checked-50x49.jpg&quot;\r\n    } else if( row[&quot;acceptsplititem&quot;] == 0 ) {\r\n      &quot;unchecked-50x49.jpg&quot;\r\n    } else {\r\n      &quot;unknown.jpg&quot;\r\n    }\r\n\r\nOr - slightly more verbose:\r\n\r\n    var fname = &quot;unknown.jpg&quot;;\r\n    if( row[&quot;acceptsplititem&quot;] == 1 ) {\r\n        fname = &quot;checked-50x49.jpg&quot;;\r\n    } else if( row[&quot;acceptsplititem&quot;] == 0 ) {\r\n        fname = &quot;unchecked-50x49.jpg&quot;;\r\n    }\r\n    fname\r\n\r\n\r\n\r\n\r\n","title":"How can I embed images into a Birt report to show an image depending on if the column result equals 1 or 0?","body":"<p>This is an expression, so you should NOT use a semicolon afteer the string literals.\nFurthermore, the value might be different from 0 or 1 (e.g. null), so you should also add yet another image filename for the &quot;else&quot; part.</p>\n<p>In order to check that your images can be displayed at all, you should also use a constant expression as the very first step:</p>\n<p>Constant expression:</p>\n<pre><code>&quot;check-50x49.jpg&quot;\n</code></pre>\n<p>This should show the &quot;checked&quot; image.</p>\n<p>Next, the expression depending on the value (assuming you also have an image file &quot;other.jpg&quot;:</p>\n<pre><code>if( row[&quot;acceptsplititem&quot;] == 1 ) {\n    &quot;checked-50x49.jpg&quot;\n} else if( row[&quot;acceptsplititem&quot;] == 0 ) {\n  &quot;unchecked-50x49.jpg&quot;\n} else {\n  &quot;unknown.jpg&quot;\n}\n</code></pre>\n<p>Or - slightly more verbose:</p>\n<pre><code>var fname = &quot;unknown.jpg&quot;;\nif( row[&quot;acceptsplititem&quot;] == 1 ) {\n    fname = &quot;checked-50x49.jpg&quot;;\n} else if( row[&quot;acceptsplititem&quot;] == 0 ) {\n    fname = &quot;unchecked-50x49.jpg&quot;;\n}\nfname\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16480651,"reputation":97,"user_id":11907506,"display_name":"TheOx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648225134,"creation_date":1648225134,"answer_id":71620104,"question_id":69495531,"body_markdown":"I&#39;ve found that by inserting an image then selecting visibility from the Property Editor you can then tick Hide Element and enter an expression: \r\n\r\n    row[&quot;preferred&quot;]==0 \r\n\r\nThis would hide the element (Tick Box) if the result is 0 Place another image (Crossed Box) on the same row with expression: \r\n\r\n    row[&quot;preferred&quot;]==1 \r\n\r\nThis will hide the image if the result is 1\r\n","title":"How can I embed images into a Birt report to show an image depending on if the column result equals 1 or 0?","body":"<p>I've found that by inserting an image then selecting visibility from the Property Editor you can then tick Hide Element and enter an expression:</p>\n<pre><code>row[&quot;preferred&quot;]==0 \n</code></pre>\n<p>This would hide the element (Tick Box) if the result is 0 Place another image (Crossed Box) on the same row with expression:</p>\n<pre><code>row[&quot;preferred&quot;]==1 \n</code></pre>\n<p>This will hide the image if the result is 1</p>\n"}],"owner":{"account_id":16480651,"reputation":97,"user_id":11907506,"display_name":"TheOx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71620104,"answer_count":2,"score":0,"last_activity_date":1648225134,"creation_date":1633694527,"question_id":69495531,"body_markdown":"How can I embed images into a Birt report to show images depending on if the result equals 1 or 0?\r\n\r\nI’ve tried following the guide from: \r\n\r\nhttp://birtworld.blogspot.com/2010/09/birt-image-report-item.html\r\n\r\nI am not able to show an image (checkbox) when the column value equals 1 and another image (unchecked box) when the column value equals 0.\r\n\r\nI’ve tried using the following expression: \r\n\r\n    if( row[&quot;acceptsplititem&quot;] == 1 ){\r\n    &quot;checked-50x49.jpg&quot;;\r\n    }else if( row[&quot;acceptsplititem&quot;] == 0 ){\r\n    &quot;unchecked-50x49.jpg&quot;;\r\n    }\r\n\r\nI’ve tried adding both images (checked and unchecked) by dragging the image report item and selecting from image file in shared resources, then editing the URL of the image via:\r\nProperties &gt; Advanced &gt; URL \r\n\r\n    if( row[&quot;acceptsplititem&quot;] == 1 ){\r\n    &quot;checked-50x49.jpg&quot;;\r\n    }else if( row[&quot;acceptsplititem&quot;] == 0 ){\r\n    &quot;unchecked-50x49.jpg&quot;;\r\n    }\r\n\r\nI’ve also tried a suggestion from a previous question/answer on stackoverflow: \r\n\r\n[Embedding an image in BIRT][1]\r\n\r\n\r\nBut this doesn’t display either image. \r\n\r\n[Adding an image using Dynamic text][2]\r\n\r\n\r\n[Embedding an image][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24778123/birt-reporting-image-display\r\n  [2]: https://i.stack.imgur.com/mhWSD.jpg\r\n  [3]: https://i.stack.imgur.com/1QA59.jpg\r\n\r\n\r\nPlease help and advise where I am making a mistake\r\n\r\nThanks in advance,\r\n\r\nStuart\r\n\r\n\r\n","title":"How can I embed images into a Birt report to show an image depending on if the column result equals 1 or 0?","body":"<p>How can I embed images into a Birt report to show images depending on if the result equals 1 or 0?</p>\n<p>I’ve tried following the guide from:</p>\n<p><a href=\"http://birtworld.blogspot.com/2010/09/birt-image-report-item.html\" rel=\"nofollow noreferrer\">http://birtworld.blogspot.com/2010/09/birt-image-report-item.html</a></p>\n<p>I am not able to show an image (checkbox) when the column value equals 1 and another image (unchecked box) when the column value equals 0.</p>\n<p>I’ve tried using the following expression:</p>\n<pre><code>if( row[&quot;acceptsplititem&quot;] == 1 ){\n&quot;checked-50x49.jpg&quot;;\n}else if( row[&quot;acceptsplititem&quot;] == 0 ){\n&quot;unchecked-50x49.jpg&quot;;\n}\n</code></pre>\n<p>I’ve tried adding both images (checked and unchecked) by dragging the image report item and selecting from image file in shared resources, then editing the URL of the image via:\nProperties &gt; Advanced &gt; URL</p>\n<pre><code>if( row[&quot;acceptsplititem&quot;] == 1 ){\n&quot;checked-50x49.jpg&quot;;\n}else if( row[&quot;acceptsplititem&quot;] == 0 ){\n&quot;unchecked-50x49.jpg&quot;;\n}\n</code></pre>\n<p>I’ve also tried a suggestion from a previous question/answer on stackoverflow:</p>\n<p><a href=\"https://stackoverflow.com/questions/24778123/birt-reporting-image-display\">Embedding an image in BIRT</a></p>\n<p>But this doesn’t display either image.</p>\n<p><a href=\"https://i.stack.imgur.com/mhWSD.jpg\" rel=\"nofollow noreferrer\">Adding an image using Dynamic text</a></p>\n<p><a href=\"https://i.stack.imgur.com/1QA59.jpg\" rel=\"nofollow noreferrer\">Embedding an image</a></p>\n<p>Please help and advise where I am making a mistake</p>\n<p>Thanks in advance,</p>\n<p>Stuart</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17789506,"reputation":369,"user_id":12918869,"display_name":"noob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648218123,"creation_date":1648218123,"answer_id":71618491,"question_id":71618368,"body_markdown":"file-&gt; project structure-&gt; sdk -&gt; click on + icon and give jdk path here","title":"Why am I getting error saying &#39;No JDK for Module&#39; in java using InteliJ editor","body":"<p>file-&gt; project structure-&gt; sdk -&gt; click on + icon and give jdk path here</p>\n"}],"owner":{"account_id":24686602,"reputation":11,"user_id":18579702,"display_name":"Sedzani Zane Ndouvhada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648224935,"creation_date":1648217659,"question_id":71618368,"body_markdown":"[Attached is an screenshot of the error message i get][1]I am trying to write a simple program of Hello World and I am getting a error saying &quot; error running &#39;main&#39;: \r\nNo JDK for module &#39;untitled 104&#39; &quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/no2qY.png","title":"Why am I getting error saying &#39;No JDK for Module&#39; in java using InteliJ editor","body":"<p><a href=\"https://i.stack.imgur.com/no2qY.png\" rel=\"nofollow noreferrer\">Attached is an screenshot of the error message i get</a>I am trying to write a simple program of Hello World and I am getting a error saying &quot; error running 'main':\nNo JDK for module 'untitled 104' &quot;</p>\n"},{"tags":["java","eclipse","plugins"],"answers":[{"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1438672851,"creation_date":1438613342,"answer_id":31790371,"question_id":31790328,"body_markdown":"Open Eclipse installation folder, find *plugins* folder, find the plugin and delete it manually. Then do the same in *features* folder.\r\n\r\nBackup everything before, because you might delete something that belongs to Eclipse. This will sometimes require that you run eclipse -clean from your command line/terminal to truly get rid of the plugin. ","title":"Uninstall plugin of eclipse without open eclipse","body":"<p>Open Eclipse installation folder, find <em>plugins</em> folder, find the plugin and delete it manually. Then do the same in <em>features</em> folder.</p>\n\n<p>Backup everything before, because you might delete something that belongs to Eclipse. This will sometimes require that you run eclipse -clean from your command line/terminal to truly get rid of the plugin. </p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1438626333,"creation_date":1438626333,"answer_id":31794220,"question_id":31790328,"body_markdown":"The p2 Director application can do it, but it&#39;s not trivial. It&#39;s documented (somewhat) at http://help.eclipse.org/luna/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/p2_director.html\r\n\r\nAnother option is to try opening on a brand new workspace; sometimes it&#39;s the workspace that causes a problem, not a plug-in by itself.\r\n\r\nFinal option is to just delete your Eclipse installation (*not* your workspace), and re-extract a clean copy. Since Eclipse &quot;installation&quot; is just a zip/tar extraction, it&#39;s not hard to do. You would just need to re-install any third-party plugins that you already had and wanted to keep.","title":"Uninstall plugin of eclipse without open eclipse","body":"<p>The p2 Director application can do it, but it's not trivial. It's documented (somewhat) at <a href=\"http://help.eclipse.org/luna/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/p2_director.html\" rel=\"nofollow\">http://help.eclipse.org/luna/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/p2_director.html</a></p>\n\n<p>Another option is to try opening on a brand new workspace; sometimes it's the workspace that causes a problem, not a plug-in by itself.</p>\n\n<p>Final option is to just delete your Eclipse installation (<em>not</em> your workspace), and re-extract a clean copy. Since Eclipse \"installation\" is just a zip/tar extraction, it's not hard to do. You would just need to re-install any third-party plugins that you already had and wanted to keep.</p>\n"},{"tags":[],"owner":{"account_id":310523,"reputation":1052,"user_id":623541,"accept_rate":67,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648224422,"creation_date":1648224422,"answer_id":71619960,"question_id":31790328,"body_markdown":"As described [here][1], you could use Eclipse from the command line with the Eclipse Directory and `-uninstallIU` option.\r\n\r\nFor example,\r\n\r\n    eclipse -nosplash -application org.eclipse.equinox.p2.director -uninstallIU org.junit\r\n\r\n  [1]: https://stackoverflow.com/a/18492246/623541","title":"Uninstall plugin of eclipse without open eclipse","body":"<p>As described <a href=\"https://stackoverflow.com/a/18492246/623541\">here</a>, you could use Eclipse from the command line with the Eclipse Directory and <code>-uninstallIU</code> option.</p>\n<p>For example,</p>\n<pre><code>eclipse -nosplash -application org.eclipse.equinox.p2.director -uninstallIU org.junit\n</code></pre>\n"}],"owner":{"account_id":1691660,"reputation":1564,"user_id":1553874,"accept_rate":88,"display_name":"Nir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31794220,"answer_count":3,"score":0,"last_activity_date":1648224422,"creation_date":1438613208,"question_id":31790328,"body_markdown":"I have installed a new plugin for eclipse and since then when i opened eclipse after a few seconds it&#39;s not responding.\r\nIs there a possible way to get rid of this plugin without open eclipse?\r\n\r\nThanks,","title":"Uninstall plugin of eclipse without open eclipse","body":"<p>I have installed a new plugin for eclipse and since then when i opened eclipse after a few seconds it's not responding.\nIs there a possible way to get rid of this plugin without open eclipse?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":3889110,"reputation":106,"user_id":3219787,"display_name":"Scott Cinnamond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399831946,"creation_date":1399831946,"answer_id":23596188,"question_id":23595099,"body_markdown":"this was fixed in plasma 1.2.0 and is up on Maven Central. See [Plasma Release 1.2.0][1] for details. I assume you are using cloudgraph.hbase or cloudgraph.rdb. If so you can just upgrade to CloudGraph 0.6.0 beta which depends on plasma 1.2.0. Note that some mapreduce classes under cloudgraph.hbase were promoted (moved up) in case you are using these. So then your pom.xml looks something like:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.cloudgraph&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cloudgraph-hbase&lt;/artifactId&gt;\r\n        &lt;version&gt;0.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    \r\n   --regards; \r\n\r\n\r\n  [1]: https://github.com/terrameta/plasma/releases/tag/v.1.2.0","title":"Cloudgraph service throws Number format exception under high load conditions","body":"<p>this was fixed in plasma 1.2.0 and is up on Maven Central. See <a href=\"https://github.com/terrameta/plasma/releases/tag/v.1.2.0\" rel=\"nofollow\">Plasma Release 1.2.0</a> for details. I assume you are using cloudgraph.hbase or cloudgraph.rdb. If so you can just upgrade to CloudGraph 0.6.0 beta which depends on plasma 1.2.0. Note that some mapreduce classes under cloudgraph.hbase were promoted (moved up) in case you are using these. So then your pom.xml looks something like:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.cloudgraph&lt;/groupId&gt;\n    &lt;artifactId&gt;cloudgraph-hbase&lt;/artifactId&gt;\n    &lt;version&gt;0.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>--regards; </p>\n"}],"owner":{"account_id":4455519,"reputation":3,"user_id":3625959,"display_name":"user3625959"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23596188,"answer_count":1,"score":0,"last_activity_date":1648224110,"creation_date":1399825732,"question_id":23595099,"body_markdown":"\r\nCloudgraph service throws Number format exception under high load conditions.\r\n\r\nWe randomly see the following exception under high load.\r\n\r\n        Caused by: java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\r\n\tat java.lang.Long.parseLong(Long.java:431)\r\n\tat java.lang.Long.parseLong(Long.java:468)\r\n\tat java.text.DigitList.getLong(DigitList.java:177)\r\n\tat java.text.DecimalFormat.parse(DecimalFormat.java:1297)\r\n\tat java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1589)\r\n\tat java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1311)\r\n\tat java.text.DateFormat.parse(DateFormat.java:335)\r\n\tat org.plasma.sdo.helper.DataConverter.fromString(DataConverter.java:1768)","title":"Cloudgraph service throws Number format exception under high load conditions","body":"<p>Cloudgraph service throws Number format exception under high load conditions.</p>\n\n<p>We randomly see the following exception under high load.</p>\n\n<pre><code>    Caused by: java.lang.NumberFormatException: For input string: \"\"\nat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\nat java.lang.Long.parseLong(Long.java:431)\nat java.lang.Long.parseLong(Long.java:468)\nat java.text.DigitList.getLong(DigitList.java:177)\nat java.text.DecimalFormat.parse(DecimalFormat.java:1297)\nat java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1589)\nat java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1311)\nat java.text.DateFormat.parse(DateFormat.java:335)\nat org.plasma.sdo.helper.DataConverter.fromString(DataConverter.java:1768)\n</code></pre>\n"},{"tags":["java","swing","jakarta-ee","hbase"],"answers":[{"tags":[],"owner":{"account_id":3889110,"reputation":106,"user_id":3219787,"display_name":"Scott Cinnamond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390502464,"creation_date":1390502464,"answer_id":21316688,"question_id":17758340,"body_markdown":"Hovercraft and Gaurav, this problem is fixed in plasma 1.1.6 and was rolled into issue 18. See  https://github.com/terrameta/plasma/issues/18\r\nVery sorry for the long delay !! ","title":"org.plasma.query.OrderBy not working","body":"<p>Hovercraft and Gaurav, this problem is fixed in plasma 1.1.6 and was rolled into issue 18. See  <a href=\"https://github.com/terrameta/plasma/issues/18\" rel=\"nofollow\">https://github.com/terrameta/plasma/issues/18</a>\nVery sorry for the long delay !! </p>\n"}],"owner":{"account_id":1405168,"reputation":1,"user_id":1333082,"display_name":"Gaurav Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648224053,"creation_date":1374290854,"question_id":17758340,"body_markdown":"New to java,I am using org.plasma.query.dsl.domainroot.orderby(dataproperty)\r\nbut its not giving me the correct answer.\r\n    For examples\r\n\r\n    Qxxx xxx = new Qxxx.newquery();\r\n    xxx.select(xxx.wildcard());\r\n    xxx.orderby(xxx.no_of_hates()); //orderby no_of_hates(datafields)\r\n\r\nThis query for getting xxx in a sorted order by no_of_hates and also tried this \r\n\r\n    xxx.orderby(xxx.no_of_hates().desc()); \r\n\r\nbut giving wrong answer.\r\n","title":"org.plasma.query.OrderBy not working","body":"<p>New to java,I am using org.plasma.query.dsl.domainroot.orderby(dataproperty)\nbut its not giving me the correct answer.\n    For examples</p>\n\n<pre><code>Qxxx xxx = new Qxxx.newquery();\nxxx.select(xxx.wildcard());\nxxx.orderby(xxx.no_of_hates()); //orderby no_of_hates(datafields)\n</code></pre>\n\n<p>This query for getting xxx in a sorted order by no_of_hates and also tried this </p>\n\n<pre><code>xxx.orderby(xxx.no_of_hates().desc()); \n</code></pre>\n\n<p>but giving wrong answer.</p>\n"},{"tags":["java","curl","resteasy"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1648225633,"post_id":71619787,"comment_id":126578677,"body_markdown":"You need `@FormParam` and `@Consumes(&quot;application/x-www-form-urlencoded&quot;)`","body":"You need <code>@FormParam</code> and <code>@Consumes(&quot;application&#47;x-www-form-urlencoded&quot;)</code>"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1648225664,"post_id":71619787,"comment_id":126578687,"body_markdown":"A query param is part of your URL. Something more like https://whatever.com/adfs/oauth2/token?grant_type=password&amp;scope=allatclaims. You might want `@FormParam`.","body":"A query param is part of your URL. Something more like <a href=\"https://whatever.com/adfs/oauth2/token?grant_type=password&amp;scope=allatclaims\" rel=\"nofollow noreferrer\">whatever.com/adfs/oauth2/&hellip;</a>. You might want <code>@FormParam</code>."}],"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648223638,"creation_date":1648223638,"question_id":71619787,"body_markdown":"This is a curl call I found:\r\n\r\n    curl --location --request POST &#39;https://whatever.com/adfs/oauth2/token&#39; \\\r\n    --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n    --data-urlencode &#39;grant_type=password&#39; \\\r\n    --data-urlencode &#39;scope=allatclaims&#39; \\\r\n\r\nNow I need to use it in Java Resteasy. But what I did seems to be wrong:\r\n\r\n    @POST\r\n    @Path(&quot;/adfs/oauth2/token&quot;)\r\n    @Produces({&quot;application/json&quot;})\r\n    String getJwt(\r\n            @HeaderParam(&quot;Content-Type&quot;) String contentType,\r\n            @QueryParam(&quot;grant_type&quot;) String grantType,\r\n            @QueryParam(&quot;scope&quot;) String scope);\r\n\r\nHow to translate --data-urlencode  . Do I have to Url-encode it ? Is it right what i do when I assume it is a @QueryParam ? Thanks for your help!\r\n","title":"How to translate curl call to RestEasy Call?","body":"<p>This is a curl call I found:</p>\n<pre><code>curl --location --request POST 'https://whatever.com/adfs/oauth2/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'grant_type=password' \\\n--data-urlencode 'scope=allatclaims' \\\n</code></pre>\n<p>Now I need to use it in Java Resteasy. But what I did seems to be wrong:</p>\n<pre><code>@POST\n@Path(&quot;/adfs/oauth2/token&quot;)\n@Produces({&quot;application/json&quot;})\nString getJwt(\n        @HeaderParam(&quot;Content-Type&quot;) String contentType,\n        @QueryParam(&quot;grant_type&quot;) String grantType,\n        @QueryParam(&quot;scope&quot;) String scope);\n</code></pre>\n<p>How to translate --data-urlencode  . Do I have to Url-encode it ? Is it right what i do when I assume it is a @QueryParam ? Thanks for your help!</p>\n"},{"tags":["java","java-8","hashmap"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648184343,"post_id":71612191,"comment_id":126565259,"body_markdown":"Unrelated. read about java naming conventions: variable/field names start lower case, and `Map` is a bad name for a variable anyway: never use names that overlap with java standard class names.","body":"Unrelated. read about java naming conventions: variable/field names start lower case, and <code>Map</code> is a bad name for a variable anyway: never use names that overlap with java standard class names."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1648184533,"post_id":71612191,"comment_id":126565288,"body_markdown":"What&#39;s the point of a map with only one entry?","body":"What&#39;s the point of a map with only one entry?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648184536,"post_id":71612191,"comment_id":126565289,"body_markdown":"And then: please read [mcve] and enhance your question accordingly. And then: it sounds like you want to sort your entries. Sorting would definitely require to LOOP over your content ... multiple times. But there is only one loop in there?","body":"And then: please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. And then: it sounds like you want to sort your entries. Sorting would definitely require to LOOP over your content ... multiple times. But there is only one loop in there?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648185211,"creation_date":1648185211,"answer_id":71612450,"question_id":71612191,"body_markdown":"How about using streams instead?\r\n\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = list.stream()\r\n            .map(line -&gt; line.split(&quot;\\\\|&quot;))\r\n            .sorted(Comparator.comparingInt(line -&gt; Integer.parseInt(line[2])))\r\n            .collect(Collectors.toMap(\r\n                    line -&gt; line[1],\r\n                    line -&gt; Map.of(line[0], line[2]),\r\n                    (low, high) -&gt; high));\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/ANGgyL","title":"Hashmap inside a hashmap not removing the keys using remove?","body":"<p>How about using streams instead?</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; map = list.stream()\n        .map(line -&gt; line.split(&quot;\\\\|&quot;))\n        .sorted(Comparator.comparingInt(line -&gt; Integer.parseInt(line[2])))\n        .collect(Collectors.toMap(\n                line -&gt; line[1],\n                line -&gt; Map.of(line[0], line[2]),\n                (low, high) -&gt; high));\n</code></pre>\n<p><a href=\"https://ideone.com/ANGgyL\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"},{"tags":[],"owner":{"account_id":17756264,"reputation":26,"user_id":12893301,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648223454,"creation_date":1648185325,"answer_id":71612460,"question_id":71612191,"body_markdown":"For each new key that you insert in your `Map` variable in the `else` condition of your code you need to create new `HashMap` to insert it along with the new key.\r\nWhat you are doing is using the same `newhas` variable for all the keys in your `Map` variable.\r\nSo change this \r\n```\r\n        else {\r\n            newhas.put(value, priority);\r\n            System.out.println(newhas);\r\n            Map.put(key, newhas);\r\n        }\r\n```\r\nto\r\n```\r\n       else {\r\n            newHas = new HashMap&lt;&gt;();\r\n            newhas.put(value, priority);\r\n            System.out.println(newhas);\r\n            Map.put(key, newhas);\r\n        }\r\n\r\n```\r\n[Ideone Demo](https://ideone.com/W5o0Jn)","title":"Hashmap inside a hashmap not removing the keys using remove?","body":"<p>For each new key that you insert in your <code>Map</code> variable in the <code>else</code> condition of your code you need to create new <code>HashMap</code> to insert it along with the new key.\nWhat you are doing is using the same <code>newhas</code> variable for all the keys in your <code>Map</code> variable.\nSo change this</p>\n<pre><code>        else {\n            newhas.put(value, priority);\n            System.out.println(newhas);\n            Map.put(key, newhas);\n        }\n</code></pre>\n<p>to</p>\n<pre><code>       else {\n            newHas = new HashMap&lt;&gt;();\n            newhas.put(value, priority);\n            System.out.println(newhas);\n            Map.put(key, newhas);\n        }\n\n</code></pre>\n<p><a href=\"https://ideone.com/W5o0Jn\" rel=\"nofollow noreferrer\">Ideone Demo</a></p>\n"}],"owner":{"account_id":19902607,"reputation":133,"user_id":14582309,"display_name":"Luff li"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1648223454,"creation_date":1648182604,"question_id":71612191,"body_markdown":"This is my list.\r\n```\r\nlist = Stream.of(\r\n        &quot;06|20|1&quot;,\r\n        &quot;11|20|2&quot;,\r\n        &quot;11|20|2&quot;,\r\n        &quot;07|207|6&quot;,\r\n        &quot;11|207|2&quot;,\r\n        &quot;07|207|6&quot;,\r\n).collect(Collectors.toList());\r\n``` \r\nI have a hashmap such as:\r\n```\r\nHashMap&lt;String, HashMap&lt;String, String&gt;&gt; hashMap = new HashMap&lt;&gt;();\r\nHashMap&lt;String, String&gt; newHash = new HashMap&lt;&gt;();\r\n```\r\nAnd my code is \r\n```\r\nfor (String line : list) {\r\n    String key, value, priority;\r\n    key = line.split(&quot;\\\\|&quot;, -1)[1];\r\n    value = line.split(&quot;\\\\|&quot;, -1)[0];\r\n    priority = line.split(&quot;\\\\|&quot;, -1)[2];\r\n\r\n    if (hashMap.containsKey(key)) {\r\n        HashMap&lt;String, String&gt; getPriority = hashMap.get(key);\r\n        Map.Entry&lt;String, String&gt; entry = getPriority.entrySet().iterator().next();\r\n        String oldKey = entry.getKey();\r\n        String previousPrior = getPriority.get(oldKey);\r\n        if (Integer.parseInt(priority) &gt; Integer.parseInt(previousPrior)) {\r\n            getPriority.remove(oldKey);\r\n            getPriority.put(value,priority);\r\n           hashMap.put(key, getPriority);\r\n        }\r\n    } else {\r\n        newHash.put(value, priority);\r\n        System.out.println(newhas);\r\n        hashMap.put(key, newhas);\r\n    }\r\n\r\n}\r\n```\r\nI want to have the have the key with highest priority only such as:\r\n```\r\n{20={11=2},207={07=6}}\r\n```\r\nas 11 and 7 has the highest valaues in 20 and 207.\r\n\r\nBut i am getting all values in the inner hashmap.","title":"Hashmap inside a hashmap not removing the keys using remove?","body":"<p>This is my list.</p>\n<pre><code>list = Stream.of(\n        &quot;06|20|1&quot;,\n        &quot;11|20|2&quot;,\n        &quot;11|20|2&quot;,\n        &quot;07|207|6&quot;,\n        &quot;11|207|2&quot;,\n        &quot;07|207|6&quot;,\n).collect(Collectors.toList());\n</code></pre>\n<p>I have a hashmap such as:</p>\n<pre><code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt; hashMap = new HashMap&lt;&gt;();\nHashMap&lt;String, String&gt; newHash = new HashMap&lt;&gt;();\n</code></pre>\n<p>And my code is</p>\n<pre><code>for (String line : list) {\n    String key, value, priority;\n    key = line.split(&quot;\\\\|&quot;, -1)[1];\n    value = line.split(&quot;\\\\|&quot;, -1)[0];\n    priority = line.split(&quot;\\\\|&quot;, -1)[2];\n\n    if (hashMap.containsKey(key)) {\n        HashMap&lt;String, String&gt; getPriority = hashMap.get(key);\n        Map.Entry&lt;String, String&gt; entry = getPriority.entrySet().iterator().next();\n        String oldKey = entry.getKey();\n        String previousPrior = getPriority.get(oldKey);\n        if (Integer.parseInt(priority) &gt; Integer.parseInt(previousPrior)) {\n            getPriority.remove(oldKey);\n            getPriority.put(value,priority);\n           hashMap.put(key, getPriority);\n        }\n    } else {\n        newHash.put(value, priority);\n        System.out.println(newhas);\n        hashMap.put(key, newhas);\n    }\n\n}\n</code></pre>\n<p>I want to have the have the key with highest priority only such as:</p>\n<pre><code>{20={11=2},207={07=6}}\n</code></pre>\n<p>as 11 and 7 has the highest valaues in 20 and 207.</p>\n<p>But i am getting all values in the inner hashmap.</p>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648223275,"creation_date":1648217701,"answer_id":71618380,"question_id":71617934,"body_markdown":"You can redirect manually the request from client to specific LB based on requested path or you can use a api gateway like [**ZUUL**][1]. \r\n\r\nManually redirect exmaple : \r\n\r\n    @RequestMapping(value = { &quot;/&quot;, &quot; * &quot; })\r\n    public ResponseEntity&lt;?&gt; redirectRequest(HttpServletRequest httpServletRequest) {\r\n    \t\tString bodyRequest = &quot;&quot;;\r\n\t\tString baseURL = &quot;&quot;;\r\n\t\tif (&quot;POST&quot;.equalsIgnoreCase(httpServletRequest.getMethod())\r\n\t\t\t\t|| &quot;PUT&quot;.equalsIgnoreCase(httpServletRequest.getMethod())) {\r\n\t\t\ttry {\r\n\t\t\t\tbodyRequest = httpServletRequest.getReader().lines()\r\n\t\t\t\t\t\t.collect(Collectors.joining(System.lineSeparator()));\r\n\t\t\t} catch (IOException e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tHttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(bodyRequest);\r\n\t\tEnumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\r\n\r\n\t\tif (headerNames != null) {\r\n\t\t\twhile (headerNames.hasMoreElements()) {\r\n\t\t\t\tString headerName = headerNames.nextElement();\r\n\t\t\t\trequest.getHeaders().add(headerName, httpServletRequest.getHeader(headerName));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (httpServletRequest.getContextPath().contains(&quot;api/lb1&quot;))\r\n\t\t\tbaseURL = &quot;lb ur1&quot;;\r\n\t\telse\r\n\t\t\tbaseURL = &quot;lb url 2&quot;;\r\n\t\treturn restTemplate.exchange(baseURL + httpServletRequest.getContextPath(),\r\n\t\t\t\tHttpMethod.resolve(httpServletRequest.getMethod()), request, ResponseEntity.class,\r\n\t\t\t\thttpServletRequest.getRequestURI());\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/Netflix/zuul","title":"How to check the incoming request URL in rest api","body":"<p>You can redirect manually the request from client to specific LB based on requested path or you can use a api gateway like <a href=\"https://github.com/Netflix/zuul\" rel=\"nofollow noreferrer\"><strong>ZUUL</strong></a>.</p>\n<p>Manually redirect exmaple :</p>\n<pre><code>@RequestMapping(value = { &quot;/&quot;, &quot; * &quot; })\npublic ResponseEntity&lt;?&gt; redirectRequest(HttpServletRequest httpServletRequest) {\n        String bodyRequest = &quot;&quot;;\n    String baseURL = &quot;&quot;;\n    if (&quot;POST&quot;.equalsIgnoreCase(httpServletRequest.getMethod())\n            || &quot;PUT&quot;.equalsIgnoreCase(httpServletRequest.getMethod())) {\n        try {\n            bodyRequest = httpServletRequest.getReader().lines()\n                    .collect(Collectors.joining(System.lineSeparator()));\n        } catch (IOException e) {\n\n        }\n    }\n\n    HttpEntity&lt;?&gt; request = new HttpEntity&lt;&gt;(bodyRequest);\n    Enumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\n\n    if (headerNames != null) {\n        while (headerNames.hasMoreElements()) {\n            String headerName = headerNames.nextElement();\n            request.getHeaders().add(headerName, httpServletRequest.getHeader(headerName));\n        }\n    }\n\n    if (httpServletRequest.getContextPath().contains(&quot;api/lb1&quot;))\n        baseURL = &quot;lb ur1&quot;;\n    else\n        baseURL = &quot;lb url 2&quot;;\n    return restTemplate.exchange(baseURL + httpServletRequest.getContextPath(),\n            HttpMethod.resolve(httpServletRequest.getMethod()), request, ResponseEntity.class,\n            httpServletRequest.getRequestURI());\n\n}\n</code></pre>\n"}],"owner":{"account_id":22778369,"reputation":21,"user_id":16934654,"display_name":"Vinutha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648223275,"creation_date":1648215755,"question_id":71617934,"body_markdown":"I have a Rest API which takes json input from the user and makes connection (TCP connection) with the load balancer. One of the server behind the load balancer will process the request and sends back the response to the Rest API.\r\n\r\nThe Rest API accepts request from two different endpoints or URL&#39;s. Currently I have one load balancer which process the request from both the endpoints. I want to add one more load balancer.\r\n\r\nInside one of the method where I am making connection with the load balancer,I want to check the URL and redirect the request to particular load balancer depending upon the endpoint/URL.\r\n\r\nEx: URL1 request ---&gt; redirect to load balancer 1.\r\n\r\nURL2 request ----&gt; redirect to load balancer 2.","title":"How to check the incoming request URL in rest api","body":"<p>I have a Rest API which takes json input from the user and makes connection (TCP connection) with the load balancer. One of the server behind the load balancer will process the request and sends back the response to the Rest API.</p>\n<p>The Rest API accepts request from two different endpoints or URL's. Currently I have one load balancer which process the request from both the endpoints. I want to add one more load balancer.</p>\n<p>Inside one of the method where I am making connection with the load balancer,I want to check the URL and redirect the request to particular load balancer depending upon the endpoint/URL.</p>\n<p>Ex: URL1 request ---&gt; redirect to load balancer 1.</p>\n<p>URL2 request ----&gt; redirect to load balancer 2.</p>\n"},{"tags":["java","xml","dom","xpath"],"answers":[{"tags":[],"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648223030,"creation_date":1648223030,"answer_id":71619647,"question_id":71618716,"body_markdown":"Single slash between nodes (`node1/node2`) means that you want to select `node2` that is the *direct child of `node1`*. You need to use double slash `//` between nodes (`node1//node2`) to select `node2` that is *descendant of `node1`*:\r\n\r\n    //*[local-name()=&#39;complexType&#39;][@name=&#39;Code.Something&#39;]//*[local-name()=&#39;enumeration&#39;]","title":"w3c Document xpath does not return nodeset","body":"<p>Single slash between nodes (<code>node1/node2</code>) means that you want to select <code>node2</code> that is the <em>direct child of <code>node1</code></em>. You need to use double slash <code>//</code> between nodes (<code>node1//node2</code>) to select <code>node2</code> that is <em>descendant of <code>node1</code></em>:</p>\n<pre><code>//*[local-name()='complexType'][@name='Code.Something']//*[local-name()='enumeration']\n</code></pre>\n"}],"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71619647,"answer_count":1,"score":1,"last_activity_date":1648223030,"creation_date":1648219008,"question_id":71618716,"body_markdown":"Hello :) I want to have all `enumeration` nodes but length of the collection returns 0. In future I would need List&lt;String&gt; of `enumeration.value` attributes, so for example currently it would one-element list with WOW inside. But the problem is that I cannot pick `enumeration` nodes at all.\r\n\r\nThe xml part:\r\n\r\n    &lt;xs:complexType name=&quot;Code.Something&quot;&gt;\r\n          &lt;xs:complexContent&gt;\r\n             &lt;xs:restriction base=&quot;xxx:Code&quot;&gt;\r\n                &lt;xs:sequence&gt;\r\n                   &lt;xs:element name=&quot;code&quot; form=&quot;unqualified&quot;&gt;\r\n                      &lt;xs:simpleType&gt;\r\n                         &lt;xs:restriction base=&quot;xs:token&quot;&gt;\r\n                            &lt;xs:enumeration value=&quot;WOW&quot;&gt;\r\n                               &lt;xs:annotation&gt;\r\n                                  &lt;xs:appinfo&gt;\r\n                                     &lt;Test&gt;ABC&lt;/Test&gt;\r\n                                  &lt;/xs:appinfo&gt;\r\n                               &lt;/xs:annotation&gt;\r\n                            &lt;/xs:enumeration&gt;\r\n\r\n**This has length 1:**\r\n \r\n\r\n    ((NodeList) xPath.evaluate(&quot;//*[local-name()=&#39;complexType&#39;][@name=&#39;Code.Something&#39;]&quot;,\r\n            doc, XPathConstants.NODESET)).getLength(); \r\n\r\n**This has length 0 - why ?:**\r\n\r\n     ((NodeList) xPath.evaluate(&quot;//*[local-name()=&#39;complexType&#39;][@name=&#39;Code.Something&#39;]/*[local-name()=&#39;enumeration&#39;]&quot;,\r\n            doc, XPathConstants.NODESET)).getLength(); ","title":"w3c Document xpath does not return nodeset","body":"<p>Hello :) I want to have all <code>enumeration</code> nodes but length of the collection returns 0. In future I would need List of <code>enumeration.value</code> attributes, so for example currently it would one-element list with WOW inside. But the problem is that I cannot pick <code>enumeration</code> nodes at all.</p>\n<p>The xml part:</p>\n<pre><code>&lt;xs:complexType name=&quot;Code.Something&quot;&gt;\n      &lt;xs:complexContent&gt;\n         &lt;xs:restriction base=&quot;xxx:Code&quot;&gt;\n            &lt;xs:sequence&gt;\n               &lt;xs:element name=&quot;code&quot; form=&quot;unqualified&quot;&gt;\n                  &lt;xs:simpleType&gt;\n                     &lt;xs:restriction base=&quot;xs:token&quot;&gt;\n                        &lt;xs:enumeration value=&quot;WOW&quot;&gt;\n                           &lt;xs:annotation&gt;\n                              &lt;xs:appinfo&gt;\n                                 &lt;Test&gt;ABC&lt;/Test&gt;\n                              &lt;/xs:appinfo&gt;\n                           &lt;/xs:annotation&gt;\n                        &lt;/xs:enumeration&gt;\n</code></pre>\n<p><strong>This has length 1:</strong></p>\n<pre><code>((NodeList) xPath.evaluate(&quot;//*[local-name()='complexType'][@name='Code.Something']&quot;,\n        doc, XPathConstants.NODESET)).getLength(); \n</code></pre>\n<p><strong>This has length 0 - why ?:</strong></p>\n<pre><code> ((NodeList) xPath.evaluate(&quot;//*[local-name()='complexType'][@name='Code.Something']/*[local-name()='enumeration']&quot;,\n        doc, XPathConstants.NODESET)).getLength(); \n</code></pre>\n"},{"tags":["java","javafx","keyevent","keycode","scene"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1426909978,"post_id":29179036,"comment_id":46575061,"body_markdown":"Why do you need a `TimeLine` for listening to `KeyEvents`?","body":"Why do you need a <code>TimeLine</code> for listening to <code>KeyEvents</code>?"},{"owner":{"account_id":5305974,"reputation":189,"user_id":4233869,"accept_rate":41,"display_name":"JCoder"},"score":0,"creation_date":1426911789,"post_id":29179036,"comment_id":46575404,"body_markdown":"I&#39;m doing animations, that&#39;s all I have so far. I now want to be able to do stuff like, restart the animation, or display a button on the screen, or anything else, based on user input from keys. I only mentioned it because I was worried about interruptions.","body":"I&#39;m doing animations, that&#39;s all I have so far. I now want to be able to do stuff like, restart the animation, or display a button on the screen, or anything else, based on user input from keys. I only mentioned it because I was worried about interruptions."}],"answers":[{"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1648222352,"creation_date":1426912219,"answer_id":29179264,"question_id":29179036,"body_markdown":"You can use a [KeyEvent][6] listener to listen to when key is [pressed][1], [release][2], [typed][3] or [any][4] of them. It doesn&#39;t matter what you have running on other threads, whether that&#39;s some infinite loop, or anything else; if the user presses a button, the listener will be called.\r\n\r\nYou just need to add a [listener][5] to the scene and the key event which you want to listen to.\r\n\r\n    scene.addEventHandler(KeyEvent.KEY_PRESSED, (key) -&gt; {\r\n          if(key.getCode()==KeyCode.ENTER) {\r\n              System.out.println(&quot;You pressed enter&quot;);\r\n          }\r\n    });\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_PRESSED\r\n  [2]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_RELEASED\r\n  [3]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_TYPED\r\n  [4]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#ANY\r\n  [5]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html#addEventFilter-javafx.event.EventType-javafx.event.EventHandler-\r\n  [6]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html","title":"Using JavaFX 8 Scene, Read Keyboard Input while running","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html\" rel=\"nofollow noreferrer\">KeyEvent</a> listener to listen to when key is <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_PRESSED\" rel=\"nofollow noreferrer\">pressed</a>, <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_RELEASED\" rel=\"nofollow noreferrer\">release</a>, <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#KEY_TYPED\" rel=\"nofollow noreferrer\">typed</a> or <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#ANY\" rel=\"nofollow noreferrer\">any</a> of them. It doesn't matter what you have running on other threads, whether that's some infinite loop, or anything else; if the user presses a button, the listener will be called.</p>\n<p>You just need to add a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html#addEventFilter-javafx.event.EventType-javafx.event.EventHandler-\" rel=\"nofollow noreferrer\">listener</a> to the scene and the key event which you want to listen to.</p>\n<pre><code>scene.addEventHandler(KeyEvent.KEY_PRESSED, (key) -&gt; {\n      if(key.getCode()==KeyCode.ENTER) {\n          System.out.println(&quot;You pressed enter&quot;);\n      }\n});\n</code></pre>\n"}],"owner":{"account_id":5305974,"reputation":189,"user_id":4233869,"accept_rate":41,"display_name":"JCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19274,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29179264,"answer_count":1,"score":4,"last_activity_date":1648222352,"creation_date":1426909821,"question_id":29179036,"body_markdown":"I have my JavaFX 8 Scene going nicely. Now, while everything else is happening, I would like to continuously check for any KeyEvent/KeyCode while the program is running. I have a Timeline called timeline set to INDEFINITE and I&#39;ve set my cycle count to indefinite with \r\n\r\n    timeline.setCycleCount(Timeline.INDEFINITE);\r\n\r\nI&#39;m looking for an easy method that is also clean and won&#39;t make my program choppy. ","title":"Using JavaFX 8 Scene, Read Keyboard Input while running","body":"<p>I have my JavaFX 8 Scene going nicely. Now, while everything else is happening, I would like to continuously check for any KeyEvent/KeyCode while the program is running. I have a Timeline called timeline set to INDEFINITE and I've set my cycle count to indefinite with </p>\n\n<pre><code>timeline.setCycleCount(Timeline.INDEFINITE);\n</code></pre>\n\n<p>I'm looking for an easy method that is also clean and won't make my program choppy. </p>\n"},{"tags":["java","mysql","time","querydsl"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1648220231,"post_id":71618415,"comment_id":126576639,"body_markdown":"What version of MySQL?","body":"What version of MySQL?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1648220538,"post_id":71618415,"comment_id":126576759,"body_markdown":"If you inspect the result of calling `getTime()` on your old-fashioned `java.sql.Time` object, you may be able to tell the difference. I wish I could tell you to get rid of the `Time` class, but for your particular setup I don’t know of a good alternative. I might consider `String` and do my own parsing into `java.time.Duration`.","body":"If you inspect the result of calling <code>getTime()</code> on your old-fashioned <code>java.sql.Time</code> object, you may be able to tell the difference. I wish I could tell you to get rid of the <code>Time</code> class, but for your particular setup I don’t know of a good alternative. I might consider <code>String</code> and do my own parsing into <code>java.time.Duration</code>."},{"owner":{"account_id":94568,"reputation":447,"user_id":258115,"display_name":"dushshantha"},"score":1,"creation_date":1648220719,"post_id":71618415,"comment_id":126576838,"body_markdown":"@OleV.V. Thanks. Yeah. That was my workaround for now. I read the value off of the ResultSet as a String without going through querydsl and converted it to a java.time.ZoneOffset instance, which works so far. I wanted to see if querudsl can handle this situation.","body":"@OleV.V. Thanks. Yeah. That was my workaround for now. I read the value off of the ResultSet as a String without going through querydsl and converted it to a java.time.ZoneOffset instance, which works so far. I wanted to see if querudsl can handle this situation."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648222326,"creation_date":1648220628,"answer_id":71619104,"question_id":71618415,"body_markdown":"I cannot help with QueryDSL.\r\n\r\n# *java.time*\r\n\r\nIn *java.time*, represent an [offset-from-UTC][2] with [`java.time.ZoneOffset`][1] class.\r\n\r\nYou might try either of these two approaches to see if they work. \r\n\r\n## Parse MySQL `TIME` textually as `java.time.ZoneOffset`\r\n\r\nPerhaps you could retrieve your unfortunate MySQL [`TIME`][3] values as text. Then parse as `ZoneOffset` objects. \r\n\r\n    String o = myResultSet.getString( … ) ;  // &quot;-12:00:00&quot; or &quot;14:00:00&quot;, and such.\r\n    ZoneOffset zoneOffset = ZoneOffset.of( o ) ;\r\n\r\n## Retrieve as `ZoneOffset`\r\n\r\nI have no idea if this works, but you could try extracting the MySQL `TIME` as a `ZoneOffset` directly. Specify the desired Java class as an argument.\r\n\r\n    ZoneOffset zoneOffset = myResultSet.getObject( … , ZoneOffset.class ) ; \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneOffset.html\r\n  [2]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [3]: https://dev.mysql.com/doc/refman/8.0/en/time.html","title":"How to handle Time Durations stored in MySQL TIME field?","body":"<p>I cannot help with QueryDSL.</p>\n<h1><em>java.time</em></h1>\n<p>In <em>java.time</em>, represent an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>java.time.ZoneOffset</code></a> class.</p>\n<p>You might try either of these two approaches to see if they work.</p>\n<h2>Parse MySQL <code>TIME</code> textually as <code>java.time.ZoneOffset</code></h2>\n<p>Perhaps you could retrieve your unfortunate MySQL <a href=\"https://dev.mysql.com/doc/refman/8.0/en/time.html\" rel=\"nofollow noreferrer\"><code>TIME</code></a> values as text. Then parse as <code>ZoneOffset</code> objects.</p>\n<pre><code>String o = myResultSet.getString( … ) ;  // &quot;-12:00:00&quot; or &quot;14:00:00&quot;, and such.\nZoneOffset zoneOffset = ZoneOffset.of( o ) ;\n</code></pre>\n<h2>Retrieve as <code>ZoneOffset</code></h2>\n<p>I have no idea if this works, but you could try extracting the MySQL <code>TIME</code> as a <code>ZoneOffset</code> directly. Specify the desired Java class as an argument.</p>\n<pre><code>ZoneOffset zoneOffset = myResultSet.getObject( … , ZoneOffset.class ) ; \n</code></pre>\n"}],"owner":{"account_id":94568,"reputation":447,"user_id":258115,"display_name":"dushshantha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648222326,"creation_date":1648217848,"question_id":71618415,"body_markdown":"I ran into an issue where my MySQL Table has a field that stores a UTC Time Offset. The field is of the type TIME. This is for Legacy reasons and I cannot change the column type to a better representation. MySQL, however, supports this. It allows the user to store a negative value in a time field to represent a negative time difference. I use querydsl for the Entity class generation and it mapped this field to a java.sql.Time object. Now I am facing an issue when there is a negative value in the DB. The java.sql.Time class converts any negative value into the time in the previous day. For example, if the value in the DB is -04:00:00, the Java object has the time 20:00:00. I was considering an option of converting this somehow to a Duration but then I ran into the issue where UTC timezone offsets overlap in certain regions.\r\n\r\nHere, the negative offset goes down to -12:00:00 and the positive side goes up to +14:00:00. Now the problem is that I can&#39;t tell the difference between the values in the Java object for -12:00 and +12 because they both set to 12:00:00 in the java object. +12:00:00 to +14:00:00 also has overlapping values from both sides.\r\n\r\nAny suggestion to handle this situation is highly appreciated.","title":"How to handle Time Durations stored in MySQL TIME field?","body":"<p>I ran into an issue where my MySQL Table has a field that stores a UTC Time Offset. The field is of the type TIME. This is for Legacy reasons and I cannot change the column type to a better representation. MySQL, however, supports this. It allows the user to store a negative value in a time field to represent a negative time difference. I use querydsl for the Entity class generation and it mapped this field to a java.sql.Time object. Now I am facing an issue when there is a negative value in the DB. The java.sql.Time class converts any negative value into the time in the previous day. For example, if the value in the DB is -04:00:00, the Java object has the time 20:00:00. I was considering an option of converting this somehow to a Duration but then I ran into the issue where UTC timezone offsets overlap in certain regions.</p>\n<p>Here, the negative offset goes down to -12:00:00 and the positive side goes up to +14:00:00. Now the problem is that I can't tell the difference between the values in the Java object for -12:00 and +12 because they both set to 12:00:00 in the java object. +12:00:00 to +14:00:00 also has overlapping values from both sides.</p>\n<p>Any suggestion to handle this situation is highly appreciated.</p>\n"},{"tags":["java","assert","serenity-bdd"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":2,"creation_date":1637161102,"post_id":70005775,"comment_id":123752047,"body_markdown":"You can&#39;t. You can only optimize your time of realaunching that function which you are debugging. Like splitting your code to simpliest/shorter fragments and testing only fragments, try catch where you have error for application to run anyway, etc.","body":"You can&#39;t. You can only optimize your time of realaunching that function which you are debugging. Like splitting your code to simpliest/shorter fragments and testing only fragments, try catch where you have error for application to run anyway, etc."}],"answers":[{"tags":[],"owner":{"account_id":18269807,"reputation":1,"user_id":13300785,"display_name":"Sanjay Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648222112,"creation_date":1648222112,"answer_id":71619447,"question_id":70005775,"body_markdown":"You could use **SoftAssertions** from **assertj** library. \r\n\r\nAdding on to Szprota21&#39;s comment, you would need to handle all exceptions.\r\n\r\nAssuming that all exceptions are handled for a failing step, you could use below structure in your step definition class to implement soft assertion using assertj library.\r\n\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Before;\r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import net.thucydides.core.annotations.Steps;\r\n    \r\n    public class TestStepDefinitionClass {\r\n        private SoftAssertions softAssertions;\r\n    \r\n        @Steps\r\n        SomeClass SomeClass;\r\n    \t\r\n    \t// Before hook to initialize SoftAssertions object for every scenario\r\n        @Before(order = 1)\r\n        public void setUp() {\r\n            softAssertions = new SoftAssertions();\r\n        }\r\n    \r\n    \t// After hook to call assertAll() to invoke soft assertion for every scenario\r\n        @After(order = 1)\r\n        public void tearDown() {\r\n            softAssertions.assertAll();\r\n        }\r\n    \r\n        @Given(&quot;method1&quot;)\r\n        public void method1() {\r\n    \t\t// The below validation will fail, but since it is soft assertion, it will move on to the next step.\r\n            softAssertions.assertThat(1).isEqualTo(2);\r\n        }\r\n    \r\n        @Then(&quot;method2&quot;)\r\n        public void pass2() {\r\n    \t\t// assertion passed\r\n            softAssertions.assertThat(2).isEqualTo(2);\r\n        }\r\n    \r\n        @Then(&quot;method2&quot;)\r\n        public void pass3() {\r\n    \t\t// assertion passed\r\n            softAssertions.assertThat(3).isEqualTo(3);\r\n        }\r\n    }\r\n\r\nLink for [assertj maven repository][1]\r\n\r\n\r\nTo learn about usages and common mistakes, follow [Assertj documentation][2]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.assertj/assertj-core\r\n  [2]: https://assertj.github.io/doc/#assertj-core-incorrect-usage","title":"How to do program keep running with checkpoint is failed","body":"<p>You could use <strong>SoftAssertions</strong> from <strong>assertj</strong> library.</p>\n<p>Adding on to Szprota21's comment, you would need to handle all exceptions.</p>\n<p>Assuming that all exceptions are handled for a failing step, you could use below structure in your step definition class to implement soft assertion using assertj library.</p>\n<pre><code>import io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport net.thucydides.core.annotations.Steps;\n\npublic class TestStepDefinitionClass {\n    private SoftAssertions softAssertions;\n\n    @Steps\n    SomeClass SomeClass;\n    \n    // Before hook to initialize SoftAssertions object for every scenario\n    @Before(order = 1)\n    public void setUp() {\n        softAssertions = new SoftAssertions();\n    }\n\n    // After hook to call assertAll() to invoke soft assertion for every scenario\n    @After(order = 1)\n    public void tearDown() {\n        softAssertions.assertAll();\n    }\n\n    @Given(&quot;method1&quot;)\n    public void method1() {\n        // The below validation will fail, but since it is soft assertion, it will move on to the next step.\n        softAssertions.assertThat(1).isEqualTo(2);\n    }\n\n    @Then(&quot;method2&quot;)\n    public void pass2() {\n        // assertion passed\n        softAssertions.assertThat(2).isEqualTo(2);\n    }\n\n    @Then(&quot;method2&quot;)\n    public void pass3() {\n        // assertion passed\n        softAssertions.assertThat(3).isEqualTo(3);\n    }\n}\n</code></pre>\n<p>Link for <a href=\"https://mvnrepository.com/artifact/org.assertj/assertj-core\" rel=\"nofollow noreferrer\">assertj maven repository</a></p>\n<p>To learn about usages and common mistakes, follow <a href=\"https://assertj.github.io/doc/#assertj-core-incorrect-usage\" rel=\"nofollow noreferrer\">Assertj documentation</a></p>\n"}],"owner":{"account_id":22903822,"reputation":59,"user_id":17042163,"display_name":"LDT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648222112,"creation_date":1637157664,"question_id":70005775,"body_markdown":"I am using SenerityBdd + Java. I have some scenarios with a lot steps. When a step gets failure then my program stopped. It&#39;s so difficult when doing debug steps because program always stops with failed checkpoint. I also soft assertion lib of java.\r\n\r\nDo you have any idea to mark step FAILED but program keep running when having failed checkpoint?\r\n\r\n","title":"How to do program keep running with checkpoint is failed","body":"<p>I am using SenerityBdd + Java. I have some scenarios with a lot steps. When a step gets failure then my program stopped. It's so difficult when doing debug steps because program always stops with failed checkpoint. I also soft assertion lib of java.</p>\n<p>Do you have any idea to mark step FAILED but program keep running when having failed checkpoint?</p>\n"},{"tags":["java","selenium","user-agent","shadow-dom"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1648014530,"post_id":71582358,"comment_id":126513595,"body_markdown":"Your code trials?","body":"Your code trials?"},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1648015307,"post_id":71582358,"comment_id":126513711,"body_markdown":"@Arjun can you add javascript you have used to reach shadow DOM ?","body":"@Arjun can you add javascript you have used to reach shadow DOM ?"}],"answers":[{"tags":[],"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648222072,"creation_date":1648016759,"answer_id":71582678,"question_id":71582358,"body_markdown":"     WebElement shadowHost = driver.findElement(By.id(&quot;firstname&quot;));\r\n     SearchContext shadowRoot = (SearchContext) ((JavascriptExecutor)driver)\r\n    .executeScript(&quot;return.argument[0].shadowRoot&quot;,shadowHost);\r\n    \r\n     String textFName = shadowRoot.findElement(By.tagName(&quot;div&quot;)).getText();\r\n\r\n    \r\n     WebElement shadowHostL = driver.findElement(By.id(&quot;lastName&quot;));\r\n     SearchContext shadowRootL = (SearchContext) ((JavascriptExecutor)driver)\r\n    .executeScript(&quot;return.argument[0].shadowRoot&quot;,shadowHostL);\r\n    \r\n     String textFName = shadowRootL.findElement(By.tagName(&quot;div&quot;)).getText();\r\n\r\nmaven dependency to add \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"How to read text that is under #shadow-root (user-agent) (Java-Selenium)","body":"<pre><code> WebElement shadowHost = driver.findElement(By.id(&quot;firstname&quot;));\n SearchContext shadowRoot = (SearchContext) ((JavascriptExecutor)driver)\n.executeScript(&quot;return.argument[0].shadowRoot&quot;,shadowHost);\n\n String textFName = shadowRoot.findElement(By.tagName(&quot;div&quot;)).getText();\n\n\n WebElement shadowHostL = driver.findElement(By.id(&quot;lastName&quot;));\n SearchContext shadowRootL = (SearchContext) ((JavascriptExecutor)driver)\n.executeScript(&quot;return.argument[0].shadowRoot&quot;,shadowHostL);\n\n String textFName = shadowRootL.findElement(By.tagName(&quot;div&quot;)).getText();\n</code></pre>\n<p>maven dependency to add</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2437205,"reputation":341,"user_id":2126805,"accept_rate":89,"display_name":"Arjun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648222072,"creation_date":1648014437,"question_id":71582358,"body_markdown":"I am trying to find a text which falls under #shadow-root (user-agent). I tried multiple solutions I could find here, but none of them worked for me.Tried to use JavascriptExecutor. But it didn&#39;t work.\r\nI am using selenium in Java language\r\n\r\nRequirement: get the First and Last name and print it. \r\nFirst Name: TEST and Last Name: USER is coming under #shadow-root (user-agent)\r\n\r\nBelow is the HTML\r\n\r\n     &lt;div class=&quot;form-group \r\n        required&quot;&gt;\r\n        &lt;label class=&quot;form-control-label&quot; for=&quot;firstName&quot;&gt;\r\n            First Name\r\n        &lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot; data-missing-error=&quot;Please enter a value for Name&quot; data-pattern-mismatch=&quot;Only letters, numbers, hyphens and apostrophes are allowed in someone&#39;s first name&quot; data-range-error=&quot;Must be 30 characters or less.&quot; name=&quot;dwfrm_profile_customer_firstname&quot; required=&quot;&quot; aria-required=&quot;true&quot; value=&quot;TEST&quot; maxlength=&quot;30&quot; pattern=&quot;^[a-zA-Z0-9-&#39;][A-Za-z0-9-&#39; ]*$&quot;&gt;\r\n        #shadow-root (user-agent)\r\n       &lt;div&gt; TEST&lt;/div&gt;\r\n       &lt;/input&gt;\r\n        &lt;div class=&quot;invalid-feedback&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;form-group\r\n        required&quot;&gt;\r\n        &lt;label class=&quot;form-control-label&quot; for=&quot;lastName&quot;&gt;\r\n            Last Name\r\n        &lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot; data-missing-error=&quot;Please enter a value for Surname&quot; data-pattern-mismatch=&quot;Only letters, numbers, hyphens and apostrophes are allowed in someone&#39;s last name&quot; data-range-error=&quot;Must be 30 characters or less.&quot; name=&quot;dwfrm_profile_customer_lastname&quot; required=&quot;&quot; aria-required=&quot;true&quot; value=&quot;USER&quot; maxlength=&quot;30&quot; pattern=&quot;^[a-zA-Z0-9-&#39;][A-Za-z0-9-&#39; ]*$&quot;&gt;\r\n       #shadow-root (user-agent)\r\n        &lt;div&gt; TEST&lt;/div&gt;[![enter image description here][1]][1]\r\n        &lt;/input&gt;\r\n        &lt;div class=&quot;invalid-feedback&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oWgEJ.png","title":"How to read text that is under #shadow-root (user-agent) (Java-Selenium)","body":"<p>I am trying to find a text which falls under #shadow-root (user-agent). I tried multiple solutions I could find here, but none of them worked for me.Tried to use JavascriptExecutor. But it didn't work.\nI am using selenium in Java language</p>\n<p>Requirement: get the First and Last name and print it.\nFirst Name: TEST and Last Name: USER is coming under #shadow-root (user-agent)</p>\n<p>Below is the HTML</p>\n<pre><code> &lt;div class=&quot;form-group \n    required&quot;&gt;\n    &lt;label class=&quot;form-control-label&quot; for=&quot;firstName&quot;&gt;\n        First Name\n    &lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;firstName&quot; data-missing-error=&quot;Please enter a value for Name&quot; data-pattern-mismatch=&quot;Only letters, numbers, hyphens and apostrophes are allowed in someone's first name&quot; data-range-error=&quot;Must be 30 characters or less.&quot; name=&quot;dwfrm_profile_customer_firstname&quot; required=&quot;&quot; aria-required=&quot;true&quot; value=&quot;TEST&quot; maxlength=&quot;30&quot; pattern=&quot;^[a-zA-Z0-9-'][A-Za-z0-9-' ]*$&quot;&gt;\n    #shadow-root (user-agent)\n   &lt;div&gt; TEST&lt;/div&gt;\n   &lt;/input&gt;\n    &lt;div class=&quot;invalid-feedback&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;form-group\n    required&quot;&gt;\n    &lt;label class=&quot;form-control-label&quot; for=&quot;lastName&quot;&gt;\n        Last Name\n    &lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;lastName&quot; data-missing-error=&quot;Please enter a value for Surname&quot; data-pattern-mismatch=&quot;Only letters, numbers, hyphens and apostrophes are allowed in someone's last name&quot; data-range-error=&quot;Must be 30 characters or less.&quot; name=&quot;dwfrm_profile_customer_lastname&quot; required=&quot;&quot; aria-required=&quot;true&quot; value=&quot;USER&quot; maxlength=&quot;30&quot; pattern=&quot;^[a-zA-Z0-9-'][A-Za-z0-9-' ]*$&quot;&gt;\n   #shadow-root (user-agent)\n    &lt;div&gt; TEST&lt;/div&gt;[![enter image description here][1]][1]\n    &lt;/input&gt;\n    &lt;div class=&quot;invalid-feedback&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oWgEJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oWgEJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","inheritance","super"],"comments":[{"owner":{"account_id":23989960,"reputation":41,"user_id":17976262,"display_name":"Rage Man"},"score":0,"creation_date":1648221970,"post_id":71619377,"comment_id":126577338,"body_markdown":"I&#39;d assume it&#39;s because you&#39;re inheriting from a JFrame. But I&#39;d need to see the code you&#39;re using to know what the question is about exactly.","body":"I&#39;d assume it&#39;s because you&#39;re inheriting from a JFrame. But I&#39;d need to see the code you&#39;re using to know what the question is about exactly."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648222492,"post_id":71619377,"comment_id":126577520,"body_markdown":"Related, possibly duplicate: [What is use of super.paint(g)?](https://stackoverflow.com/questions/23434158/what-is-use-of-super-paintg)","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/23434158/what-is-use-of-super-paintg\">What is use of super.paint(g)?</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648229421,"post_id":71619377,"comment_id":126579948,"body_markdown":"If you&#39;re extending `JPanel` you should be overriding `paintComponent` and calling `super.paintComponent(g)`, not paint.","body":"If you&#39;re extending <code>JPanel</code> you should be overriding <code>paintComponent</code> and calling <code>super.paintComponent(g)</code>, not paint."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1650423236,"post_id":71619377,"comment_id":127109773,"body_markdown":"Does this answer your question? [What is use of super.paint(g)?](https://stackoverflow.com/questions/23434158/what-is-use-of-super-paintg)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23434158/what-is-use-of-super-paintg\">What is use of super.paint(g)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648221980,"creation_date":1648221980,"answer_id":71619410,"question_id":71619377,"body_markdown":"It matters if you&#39;ve redefined `paint` in the child class...you need a way within your `paint` method to call the ancestor `paint` method, otherwise it could only &quot;call itself&quot; like recursively from within that method...","title":"Why is it super.paint(g) and not this.paint(g)?","body":"<p>It matters if you've redefined <code>paint</code> in the child class...you need a way within your <code>paint</code> method to call the ancestor <code>paint</code> method, otherwise it could only &quot;call itself&quot; like recursively from within that method...</p>\n"}],"owner":{"account_id":23040380,"reputation":13,"user_id":18189703,"display_name":"Hanna Assaf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71619410,"answer_count":1,"score":0,"last_activity_date":1648221980,"creation_date":1648221811,"question_id":71619377,"body_markdown":"Just a theoretical question about inheritance.\r\n\r\nSo let&#39;s say I&#39;ve got a class &quot;GamePanel&quot; which extends JPanel.\r\n\r\nI know within the class, if I call ``super.paint(g)`` , it will call the parent class (JPanel) paint method.\r\n\r\nBut if I create an object GamePanel, shouldn&#39;t it already *inherit* all of JPanels methods? So in that case, why doesn&#39;t ``this.paint(g)`` work? The current object should be able to access that method right?\r\n\r\nIf not, why does ``this.setBackgroundColor(...)`` work?\r\n\r\nBecause apparently ``this.setBackgroundColor(...)`` works as well as ``super.setBackGroundColor(...)``. So it&#39;s almost like &quot;super&quot; can access all the methods while &quot;this&quot; can&#39;t?","title":"Why is it super.paint(g) and not this.paint(g)?","body":"<p>Just a theoretical question about inheritance.</p>\n<p>So let's say I've got a class &quot;GamePanel&quot; which extends JPanel.</p>\n<p>I know within the class, if I call <code>super.paint(g)</code> , it will call the parent class (JPanel) paint method.</p>\n<p>But if I create an object GamePanel, shouldn't it already <em>inherit</em> all of JPanels methods? So in that case, why doesn't <code>this.paint(g)</code> work? The current object should be able to access that method right?</p>\n<p>If not, why does <code>this.setBackgroundColor(...)</code> work?</p>\n<p>Because apparently <code>this.setBackgroundColor(...)</code> works as well as <code>super.setBackGroundColor(...)</code>. So it's almost like &quot;super&quot; can access all the methods while &quot;this&quot; can't?</p>\n"},{"tags":["java","api","csv","jackson","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1648218038,"post_id":71618054,"comment_id":126575708,"body_markdown":"It&#39;s better if you provide full json response, structure of your expected csv, change the title of question and add tag `jackson`. Rest-Assured CANNOT convert from json to csv, you&#39;re using classes of Jackson to achieve that.","body":"It&#39;s better if you provide full json response, structure of your expected csv, change the title of question and add tag <code>jackson</code>. Rest-Assured CANNOT convert from json to csv, you&#39;re using classes of Jackson to achieve that."},{"owner":{"account_id":10151751,"reputation":538,"user_id":7498141,"accept_rate":60,"display_name":"brithwulf"},"score":0,"creation_date":1648218746,"post_id":71618054,"comment_id":126576000,"body_markdown":"https://gorest.co.in/public-api/users - this is full json response.","body":"<a href=\"https://gorest.co.in/public-api/users\" rel=\"nofollow noreferrer\">gorest.co.in/public-api/users</a> - this is full json response."},{"owner":{"account_id":10151751,"reputation":538,"user_id":7498141,"accept_rate":60,"display_name":"brithwulf"},"score":0,"creation_date":1648218995,"post_id":71618054,"comment_id":126576109,"body_markdown":"it works fine for this API: https://gorest.co.in/public/v2/posts, because it does not have additional fields, like code, meta.","body":"it works fine for this API: <a href=\"https://gorest.co.in/public/v2/posts\" rel=\"nofollow noreferrer\">gorest.co.in/public/v2/posts</a>, because it does not have additional fields, like code, meta."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648221828,"creation_date":1648221828,"answer_id":71619381,"question_id":71618054,"body_markdown":"Solution:\r\n\r\n- Step 1: Convert response to json in String format\r\n- Step 2: Extract array `data` by Jackson, not Rest-Assured\r\n\r\n```\r\nString res = given()\r\n                .get(&quot;https://gorest.co.in/public-api/users&quot;)\r\n                .asString();\r\ntry {\r\n     JsonNode jsonTree = new ObjectMapper().readTree(res).get(&quot;data&quot;);\r\n     ...\r\n}  ","title":"Import Response Data received from an API into CSV file","body":"<p>Solution:</p>\n<ul>\n<li>Step 1: Convert response to json in String format</li>\n<li>Step 2: Extract array <code>data</code> by Jackson, not Rest-Assured</li>\n</ul>\n<pre><code>String res = given()\n                .get(&quot;https://gorest.co.in/public-api/users&quot;)\n                .asString();\ntry {\n     JsonNode jsonTree = new ObjectMapper().readTree(res).get(&quot;data&quot;);\n     ...\n}  \n</code></pre>\n"}],"owner":{"account_id":10151751,"reputation":538,"user_id":7498141,"accept_rate":60,"display_name":"brithwulf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71619381,"answer_count":1,"score":0,"last_activity_date":1648221828,"creation_date":1648216334,"question_id":71618054,"body_markdown":"I&#39;m trying to store a data taken from the API response into CSV file using `Rest Assured`. \r\nThat&#39;s how my code looks like: \r\n\r\n    public void Test_01() throws Exception {\r\n        Response response = RestAssured.given() // enter valid credentials\r\n                .get(&quot;https://gorest.co.in/public-api/users&quot;)\r\n                .then()\r\n                .extract()\r\n                .response();\r\n\r\n        String data = response.jsonPath().get(&quot;data&quot;);\r\n\r\n        System.out.println(response.asString().getClass());\r\n        try\r\n        {\r\n            JsonNode jsonTree = new ObjectMapper().readTree(data);\r\n            CsvSchema.Builder csvSchemaBuilder = CsvSchema.builder();\r\n            JsonNode firstObject = jsonTree.elements().next();\r\n            firstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );\r\n            CsvSchema csvSchema = csvSchemaBuilder.build().withHeader();\r\n            CsvMapper csvMapper = new CsvMapper();\r\n            csvMapper.writerFor(JsonNode.class)\r\n                    .with(csvSchema)\r\n                    .writeValue(new File(&quot;src/main/resources/lmsget.csv&quot;), jsonTree);\r\n\r\n        }\tcatch(Exception ex)\r\n\r\n        {\r\n            throw ex;\r\n        }\r\n    }\r\n\r\nWhen I try to execute this test, I am getting an error: `Schema specified that header line is to be written; but contains no column names`. Maybe, that&#39;s because of the format of the JSON, which looks like: \r\n\r\n    &quot;code&quot;: 200,\r\n    &quot;meta&quot;: {\r\n    &quot;pagination&quot;: {\r\n    &quot;total&quot;: 2610,\r\n    &quot;pages&quot;: 131,\r\n    &quot;page&quot;: 1,\r\n    &quot;limit&quot;: 20\r\n    }\r\n\r\nAfter that, comes an array `data` with objects in it. I just want to store that data only.\r\nI&#39;ve also tried some changes in extracting response as `JsonPath`:\r\n\r\n    Object data = response.JsonPath.get(&quot;data&quot;);\r\n\r\nBut when I use it in `JsonNode jsonTree = new ObjectMapper().readTree(data);` I am getting error: \r\n\r\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote to start field name\r\n    at [Source: (String)&quot;[{id=2583, name=Aryan Shah, email=shah_aryan@oreilly.biz, gender=male, status=inactive},","title":"Import Response Data received from an API into CSV file","body":"<p>I'm trying to store a data taken from the API response into CSV file using <code>Rest Assured</code>.\nThat's how my code looks like:</p>\n<pre><code>public void Test_01() throws Exception {\n    Response response = RestAssured.given() // enter valid credentials\n            .get(&quot;https://gorest.co.in/public-api/users&quot;)\n            .then()\n            .extract()\n            .response();\n\n    String data = response.jsonPath().get(&quot;data&quot;);\n\n    System.out.println(response.asString().getClass());\n    try\n    {\n        JsonNode jsonTree = new ObjectMapper().readTree(data);\n        CsvSchema.Builder csvSchemaBuilder = CsvSchema.builder();\n        JsonNode firstObject = jsonTree.elements().next();\n        firstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );\n        CsvSchema csvSchema = csvSchemaBuilder.build().withHeader();\n        CsvMapper csvMapper = new CsvMapper();\n        csvMapper.writerFor(JsonNode.class)\n                .with(csvSchema)\n                .writeValue(new File(&quot;src/main/resources/lmsget.csv&quot;), jsonTree);\n\n    }   catch(Exception ex)\n\n    {\n        throw ex;\n    }\n}\n</code></pre>\n<p>When I try to execute this test, I am getting an error: <code>Schema specified that header line is to be written; but contains no column names</code>. Maybe, that's because of the format of the JSON, which looks like:</p>\n<pre><code>&quot;code&quot;: 200,\n&quot;meta&quot;: {\n&quot;pagination&quot;: {\n&quot;total&quot;: 2610,\n&quot;pages&quot;: 131,\n&quot;page&quot;: 1,\n&quot;limit&quot;: 20\n}\n</code></pre>\n<p>After that, comes an array <code>data</code> with objects in it. I just want to store that data only.\nI've also tried some changes in extracting response as <code>JsonPath</code>:</p>\n<pre><code>Object data = response.JsonPath.get(&quot;data&quot;);\n</code></pre>\n<p>But when I use it in <code>JsonNode jsonTree = new ObjectMapper().readTree(data);</code> I am getting error:</p>\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('i' (code 105)): was expecting double-quote to start field name\nat [Source: (String)&quot;[{id=2583, name=Aryan Shah, email=shah_aryan@oreilly.biz, gender=male, status=inactive},\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1648221545,"post_id":71619275,"comment_id":126577160,"body_markdown":"You call `s.reverse()`, which reverses `s`, and assign it to `s2`, so `s` and `s2` are the same object.","body":"You call <code>s.reverse()</code>, which reverses <code>s</code>, and assign it to <code>s2</code>, so <code>s</code> and <code>s2</code> are the same object."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648221672,"creation_date":1648221672,"answer_id":71619336,"question_id":71619275,"body_markdown":"     s2=s.reverse();\r\nHere the StringBuilder class is not immutable , reverse operation will reverse the content of the original the StringBuilder s, you should construct a new StringBuilder here :\r\n\r\n\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        int x=1213;\r\n        \r\n        StringBuilder s= new StringBuilder();\r\n        s.append(x);\r\n        StringBuilder s2=new StringBuilder();\r\n        s2=new StringBuilder(s).reverse();\r\n       \r\n        \r\n        if((s.toString()).equals(s2.toString()))\r\n        {\r\n           System.out.println(x+&quot; is a palindrome number&quot;);\r\n        }\r\n        else{\r\n            System.out.println(x+&quot;is not a palindrome number&quot;);\r\n        }\r\n    }\r\n    }","title":"Palindrome number check- issue with output","body":"<pre><code> s2=s.reverse();\n</code></pre>\n<p>Here the StringBuilder class is not immutable , reverse operation will reverse the content of the original the StringBuilder s, you should construct a new StringBuilder here :</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    int x=1213;\n    \n    StringBuilder s= new StringBuilder();\n    s.append(x);\n    StringBuilder s2=new StringBuilder();\n    s2=new StringBuilder(s).reverse();\n   \n    \n    if((s.toString()).equals(s2.toString()))\n    {\n       System.out.println(x+&quot; is a palindrome number&quot;);\n    }\n    else{\n        System.out.println(x+&quot;is not a palindrome number&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648221680,"creation_date":1648221680,"answer_id":71619339,"question_id":71619275,"body_markdown":"You call `s.reverse()`, which reverses `s` in place; and you assign it to `s2`, so `s` and `s2` are the same object. \r\n\r\nYou don&#39;t need two StringBuilders at all, since you only need to make one modification.\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(x);\r\n    sb.reverse();\r\n    if (sb.toString().equals(String.valueOf(x))) {\r\n        // the number is a palindrome\r\n    }","title":"Palindrome number check- issue with output","body":"<p>You call <code>s.reverse()</code>, which reverses <code>s</code> in place; and you assign it to <code>s2</code>, so <code>s</code> and <code>s2</code> are the same object.</p>\n<p>You don't need two StringBuilders at all, since you only need to make one modification.</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(x);\nsb.reverse();\nif (sb.toString().equals(String.valueOf(x))) {\n    // the number is a palindrome\n}\n</code></pre>\n"}],"owner":{"account_id":17807814,"reputation":21,"user_id":15355354,"display_name":"Oswald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648221680,"creation_date":1648221390,"question_id":71619275,"body_markdown":"I tried to write a program to check whether a number is a palindrome or not in Java. I tried to convert int to String, and using built-in methods, wrote this logic. But I don&#39;t know why I am getting incorrect output for the given input.\r\n\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            int x=1213;\r\n            \r\n            StringBuilder s= new StringBuilder();\r\n            s.append(x);\r\n            StringBuilder s2=new StringBuilder();\r\n            s2=s.reverse();\r\n           \r\n            \r\n            if((s.toString()).equals(s2.toString()))\r\n            {\r\n               System.out.println(x+&quot; is a palindrome number&quot;);\r\n            }\r\n            else{\r\n                System.out.println(x+&quot;is not a palindrome number&quot;);\r\n            }\r\n        }","title":"Palindrome number check- issue with output","body":"<p>I tried to write a program to check whether a number is a palindrome or not in Java. I tried to convert int to String, and using built-in methods, wrote this logic. But I don't know why I am getting incorrect output for the given input.</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        int x=1213;\n        \n        StringBuilder s= new StringBuilder();\n        s.append(x);\n        StringBuilder s2=new StringBuilder();\n        s2=s.reverse();\n       \n        \n        if((s.toString()).equals(s2.toString()))\n        {\n           System.out.println(x+&quot; is a palindrome number&quot;);\n        }\n        else{\n            System.out.println(x+&quot;is not a palindrome number&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10145705,"reputation":798,"user_id":7493938,"display_name":"Mario Huizinga"},"score":0,"creation_date":1648206974,"post_id":71615813,"comment_id":126571568,"body_markdown":"Did you include android:exported=&quot;true&quot; in the activity section of your manifest?","body":"Did you include android:exported=&quot;true&quot; in the activity section of your manifest?"},{"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"score":0,"creation_date":1648208488,"post_id":71615813,"comment_id":126572099,"body_markdown":"Yes I added it.","body":"Yes I added it."}],"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648221146,"creation_date":1648205937,"question_id":71615813,"body_markdown":"I had [this issue](https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12) with my android studio and I solved it with [this answer](https://stackoverflow.com/a/67412314/12143067). \r\n\r\nNow my application is running on android studio and I will get a notification from android studio that the application has been installed and is launched but the application will not open on an emulator or on a physical device.\r\n\r\nAfter android studio says the app has been installed the icon will show on the device bit if I click on it, I will get &quot;App isn&#39;t installed&quot; toast.\r\n\r\nWhat can I do? \r\n\r\nApp level build.gradle file contains:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    defaultConfig {\r\n        configurations.all {\r\n            resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n        }\r\n        applicationId &quot;com.olalekanamoo.service&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n//    def work_version = &quot;2.6.0&quot;\r\n//    // Force WorkManager 2.6.0 for transitive dependency\r\n//    implementation(&quot;androidx.work:work-runtime:$work_version&quot;) {\r\n//        force = true\r\n//    }\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nMy physical device that I use for debugging is running android 11.\r\n\r\nI also tried [this solution](https://stackoverflow.com/a/69043734/12143067) but it didn&#39;t work.","title":"App will not launch on emulator but android studio is telling me it has launched the applicaton","body":"<p>I had <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\">this issue</a> with my android studio and I solved it with <a href=\"https://stackoverflow.com/a/67412314/12143067\">this answer</a>.</p>\n<p>Now my application is running on android studio and I will get a notification from android studio that the application has been installed and is launched but the application will not open on an emulator or on a physical device.</p>\n<p>After android studio says the app has been installed the icon will show on the device bit if I click on it, I will get &quot;App isn't installed&quot; toast.</p>\n<p>What can I do?</p>\n<p>App level build.gradle file contains:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        configurations.all {\n            resolutionStrategy { force 'androidx.core:core:1.6.0' }\n        }\n        applicationId &quot;com.olalekanamoo.service&quot;\n        minSdkVersion 16\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n//    def work_version = &quot;2.6.0&quot;\n//    // Force WorkManager 2.6.0 for transitive dependency\n//    implementation(&quot;androidx.work:work-runtime:$work_version&quot;) {\n//        force = true\n//    }\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>My physical device that I use for debugging is running android 11.</p>\n<p>I also tried <a href=\"https://stackoverflow.com/a/69043734/12143067\">this solution</a> but it didn't work.</p>\n"},{"tags":["java","hibernate","jpa","entitymanager","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648221122,"creation_date":1648064885,"answer_id":71593201,"question_id":71593087,"body_markdown":"You are mixing components supporting `javax.*` annotations with components supporting `jakarta.*` annotations.\r\n\r\nIf you&#39;re using `javax.persistence`, you should use `javax.validation` and thus Hibernate Validator 6.2.x. It&#39;s still supported and has the same features as HV 7.0.x (which targets Jakarta EE 9 and thus the `jakarta.validation` package) and the upcoming HV 8.0.x (which targets Jakarta EE 10).\r\n\r\nSo switch to Hibernate Validator 6.2 and Bean Validation 2.0.\r\n\r\nYou should also check your version of the EL implementation. It should be:\r\n```xml\r\n  &lt;dependency&gt;\r\n     &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.3&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\nMake sure you don&#39;t have another one around as they go with a ton of different names.\r\n\r\nThen if it still doesn&#39;t work, one thing is that by default Hibernate ORM does not tell you if something is going wrong when it tries to initialize Hibernate Validator.\r\n\r\nYou can make it tell you what&#39;s going on by setting the following properties to `CALLBACK`:\r\n\r\n- `javax.persistence.validation.group.pre-persist`\r\n- `javax.persistence.validation.group.pre-update`\r\n- `javax.persistence.validation.group.pre-remove`","title":"A ConstraintValidator referenced by an annotation is never called although it should work","body":"<p>You are mixing components supporting <code>javax.*</code> annotations with components supporting <code>jakarta.*</code> annotations.</p>\n<p>If you're using <code>javax.persistence</code>, you should use <code>javax.validation</code> and thus Hibernate Validator 6.2.x. It's still supported and has the same features as HV 7.0.x (which targets Jakarta EE 9 and thus the <code>jakarta.validation</code> package) and the upcoming HV 8.0.x (which targets Jakarta EE 10).</p>\n<p>So switch to Hibernate Validator 6.2 and Bean Validation 2.0.</p>\n<p>You should also check your version of the EL implementation. It should be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n     &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n     &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n     &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Make sure you don't have another one around as they go with a ton of different names.</p>\n<p>Then if it still doesn't work, one thing is that by default Hibernate ORM does not tell you if something is going wrong when it tries to initialize Hibernate Validator.</p>\n<p>You can make it tell you what's going on by setting the following properties to <code>CALLBACK</code>:</p>\n<ul>\n<li><code>javax.persistence.validation.group.pre-persist</code></li>\n<li><code>javax.persistence.validation.group.pre-update</code></li>\n<li><code>javax.persistence.validation.group.pre-remove</code></li>\n</ul>\n"}],"owner":{"account_id":2265848,"reputation":140,"user_id":1994552,"display_name":"Marcus Husar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71593201,"answer_count":1,"score":0,"last_activity_date":1648221122,"creation_date":1648064320,"question_id":71593087,"body_markdown":"In the debugger, I can see that the annotation somehow works. But the methods ```initialize(AuthorConstraint)``` and ```isValid(Author, ConstraintValidatorContext)``` of class ```AuthorConstraintValidator``` are never called.\r\n\r\nI searched for quite a few hours for a solution. But I don’t know what is missing.\r\n\r\nPackages:\r\nhibernate-core 5.6.5.Final\r\nhibernate-validator 6.2.3.Final\r\n\r\n## Annotation @AuthorConstraint ##\r\n```\r\npackage myapp.entity.author.constraint;\r\n\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\nimport static java.lang.annotation.ElementType.TYPE;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\n/**\r\n * An annotation for special constraints of authors.\r\n */\r\n@Constraint(validatedBy = {AuthorConstraintValidator.class})\r\n@Retention(RUNTIME)\r\n@Target({TYPE})\r\npublic @interface AuthorConstraint {\r\n    String message() default &quot;An author needs either a first name or a last name.&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n## ConstraintValidator implementation ##\r\n```\r\npackage myapp.entity.author.constraint;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport myapp.entity.author.Author;\r\n\r\n/**\r\n * A validator for special constraints of authors.\r\n */\r\npublic class AuthorConstraintValidator implements ConstraintValidator&lt;AuthorConstraint, Author&gt; {\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public void initialize(AuthorConstraint constraintAnnotation) {\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Author author, ConstraintValidatorContext constraintValidatorContext) {\r\n        if (author == null) {\r\n            return true;\r\n        }\r\n\r\n        return author.getFirstName() != null || author.getLastName() != null;\r\n    }\r\n}\r\n```\r\n## Author class ##\r\n```\r\npackage myapp.entity.author;\r\n\r\nimport myapp.data.DatedEntity;\r\nimport myapp.entity.author.constraint.AuthorConstraint;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n/**\r\n * Represents an author.\r\n */\r\n@AuthorConstraint\r\n@Entity\r\n@Table(name = &quot;author&quot;)\r\npublic class Author extends DatedEntity implements Serializable {\r\n    /**\r\n     * ID associated with an author.\r\n     */\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    /**\r\n     * First name of an author.\r\n     */\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    /**\r\n     * Last name of an author.\r\n     */\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    /**\r\n     * Returns the ID associated with an author.\r\n     *\r\n     * @return Primary key of an author.\r\n     */\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Sets the ID of an author.\r\n     *\r\n     * @param id the ID of an author\r\n     */\r\n    @SuppressWarnings({&quot;unused&quot;, &quot;SameParameterValue&quot;})\r\n    void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    /**\r\n     * Returns the first name of an author.\r\n     *\r\n     * @return First name of an author.\r\n     */\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    /**\r\n     * Sets the first name of an author.\r\n     *\r\n     * @param firstName first name\r\n     */\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    /**\r\n     * Returns the last name of an author.\r\n     *\r\n     * @return Last name of an author.\r\n     */\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    /**\r\n     * Sets the last name of an author.\r\n     *\r\n     * @param lastName last name\r\n     */\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n\r\n## Test code for validator ##\r\n\r\nWhen I create a validator object myself, I can see that it works as intended.\r\n\r\n```\r\nAuthor author = new Author();\r\nAuthorConstraintValidator validator = new AuthorConstraintValidator();\r\n\r\nvalidator.initialize(new AuthorConstraint() {\r\n    @Override\r\n    public Class&lt;? extends Annotation&gt; annotationType() {\r\n        return AuthorConstraint.class;\r\n    }\r\n\r\n    @Override\r\n    public String message() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt;[] groups() {\r\n        return new Class[0];\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;? extends Payload&gt;[] payload() {\r\n        return new Class[0];\r\n    }\r\n});\r\n\r\nSystem.err.println(validator.isValid(author, null));\r\n// result: false\r\n```","title":"A ConstraintValidator referenced by an annotation is never called although it should work","body":"<p>In the debugger, I can see that the annotation somehow works. But the methods <code>initialize(AuthorConstraint)</code> and <code>isValid(Author, ConstraintValidatorContext)</code> of class <code>AuthorConstraintValidator</code> are never called.</p>\n<p>I searched for quite a few hours for a solution. But I don’t know what is missing.</p>\n<p>Packages:\nhibernate-core 5.6.5.Final\nhibernate-validator 6.2.3.Final</p>\n<h2>Annotation @AuthorConstraint</h2>\n<pre><code>package myapp.entity.author.constraint;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n/**\n * An annotation for special constraints of authors.\n */\n@Constraint(validatedBy = {AuthorConstraintValidator.class})\n@Retention(RUNTIME)\n@Target({TYPE})\npublic @interface AuthorConstraint {\n    String message() default &quot;An author needs either a first name or a last name.&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<h2>ConstraintValidator implementation</h2>\n<pre><code>package myapp.entity.author.constraint;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport myapp.entity.author.Author;\n\n/**\n * A validator for special constraints of authors.\n */\npublic class AuthorConstraintValidator implements ConstraintValidator&lt;AuthorConstraint, Author&gt; {\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void initialize(AuthorConstraint constraintAnnotation) {\n    }\n\n    @Override\n    public boolean isValid(Author author, ConstraintValidatorContext constraintValidatorContext) {\n        if (author == null) {\n            return true;\n        }\n\n        return author.getFirstName() != null || author.getLastName() != null;\n    }\n}\n</code></pre>\n<h2>Author class</h2>\n<pre><code>package myapp.entity.author;\n\nimport myapp.data.DatedEntity;\nimport myapp.entity.author.constraint.AuthorConstraint;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n/**\n * Represents an author.\n */\n@AuthorConstraint\n@Entity\n@Table(name = &quot;author&quot;)\npublic class Author extends DatedEntity implements Serializable {\n    /**\n     * ID associated with an author.\n     */\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    /**\n     * First name of an author.\n     */\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    /**\n     * Last name of an author.\n     */\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    /**\n     * Returns the ID associated with an author.\n     *\n     * @return Primary key of an author.\n     */\n    public Integer getId() {\n        return id;\n    }\n\n    /**\n     * Sets the ID of an author.\n     *\n     * @param id the ID of an author\n     */\n    @SuppressWarnings({&quot;unused&quot;, &quot;SameParameterValue&quot;})\n    void setId(Integer id) {\n        this.id = id;\n    }\n\n    /**\n     * Returns the first name of an author.\n     *\n     * @return First name of an author.\n     */\n    @SuppressWarnings(&quot;unused&quot;)\n    public String getFirstName() {\n        return firstName;\n    }\n\n    /**\n     * Sets the first name of an author.\n     *\n     * @param firstName first name\n     */\n    @SuppressWarnings(&quot;unused&quot;)\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    /**\n     * Returns the last name of an author.\n     *\n     * @return Last name of an author.\n     */\n    @SuppressWarnings(&quot;unused&quot;)\n    public String getLastName() {\n        return lastName;\n    }\n\n    /**\n     * Sets the last name of an author.\n     *\n     * @param lastName last name\n     */\n    @SuppressWarnings(&quot;unused&quot;)\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<h2>Test code for validator</h2>\n<p>When I create a validator object myself, I can see that it works as intended.</p>\n<pre><code>Author author = new Author();\nAuthorConstraintValidator validator = new AuthorConstraintValidator();\n\nvalidator.initialize(new AuthorConstraint() {\n    @Override\n    public Class&lt;? extends Annotation&gt; annotationType() {\n        return AuthorConstraint.class;\n    }\n\n    @Override\n    public String message() {\n        return null;\n    }\n\n    @Override\n    public Class&lt;?&gt;[] groups() {\n        return new Class[0];\n    }\n\n    @Override\n    public Class&lt;? extends Payload&gt;[] payload() {\n        return new Class[0];\n    }\n});\n\nSystem.err.println(validator.isValid(author, null));\n// result: false\n</code></pre>\n"},{"tags":["java","data-structures","stream"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648165351,"post_id":71610627,"comment_id":126562387,"body_markdown":"The first four weeks of the month will always contain 20 weekdays.  You only need to check what day of the week the 29th, 30th and 31st of the month are, if those days exist.","body":"The first four weeks of the month will always contain 20 weekdays.  You only need to check what day of the week the 29th, 30th and 31st of the month are, if those days exist."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":1,"creation_date":1648168948,"post_id":71610627,"comment_id":126562957,"body_markdown":"Hi @DawoodibnKareem - So lets say wk1 starts on Thurs (2d), wk2 (5d), wk3 (5d), wk4 (5d) - looks like 17d to me, not 20d !!","body":"Hi @DawoodibnKareem - So lets say wk1 starts on Thurs (2d), wk2 (5d), wk3 (5d), wk4 (5d) - looks like 17d to me, not 20d !!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648169947,"post_id":71610627,"comment_id":126563105,"body_markdown":"It is *either* &#39;pretty straightforward&#39; *or* &#39;extremely verbose&#39;. Not both at the same time. NB The word is &#39;algorithm&#39;, not &#39;algo&#39;. It is derived from somebody&#39;s name. Don&#39;t misuse standard terminology.","body":"It is <i>either</i> &#39;pretty straightforward&#39; <i>or</i> &#39;extremely verbose&#39;. Not both at the same time. NB The word is &#39;algorithm&#39;, not &#39;algo&#39;. It is derived from somebody&#39;s name. Don&#39;t misuse standard terminology."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648171094,"post_id":71610627,"comment_id":126563279,"body_markdown":"@MrR &quot;week&quot; meaning &quot;7 days&quot;, obviously.  That&#39;s why it&#39;s only necessary to look at days 29, 30, 31 of the month.","body":"@MrR &quot;week&quot; meaning &quot;7 days&quot;, obviously.  That&#39;s why it&#39;s only necessary to look at days 29, 30, 31 of the month."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":1,"creation_date":1648183864,"post_id":71610627,"comment_id":126565181,"body_markdown":"@DawoodibnKareem - the OP code sample doesn&#39;t count Sat/Sun - so it&#39;s non-weekend days..","body":"@DawoodibnKareem - the OP code sample doesn&#39;t count Sat/Sun - so it&#39;s non-weekend days.."},{"owner":{"account_id":8154587,"reputation":53,"user_id":6419762,"display_name":"Alexandre Barbosa"},"score":0,"creation_date":1648214952,"post_id":71610627,"comment_id":126574451,"body_markdown":"Thank you for all suggestions and corrections for this effortless algorithm. The target is count only the workdays.","body":"Thank you for all suggestions and corrections for this effortless algorithm. The target is count only the workdays."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648255368,"post_id":71610627,"comment_id":126585980,"body_markdown":"@MrR - Yes, exactly.  That&#39;s why it&#39;s 20 days, not 28 in the first four weeks.  5 x 4 is 20.  Why is this hard for you to understand?","body":"@MrR - Yes, exactly.  That&#39;s why it&#39;s 20 days, not 28 in the first four weeks.  5 x 4 is 20.  Why is this hard for you to understand?"},{"owner":{"account_id":8154587,"reputation":53,"user_id":6419762,"display_name":"Alexandre Barbosa"},"score":0,"creation_date":1648592957,"post_id":71610627,"comment_id":126662826,"body_markdown":"hey @DawoodibnKareem \nI don&#39;t consider it hard to understand. LocalDate, LocalDateTime and many other very common API are easy to me but lack of knowledge about the java.time.Month. This was crucial for functional style.","body":"hey @DawoodibnKareem  I don&#39;t consider it hard to understand. LocalDate, LocalDateTime and many other very common API are easy to me but lack of knowledge about the java.time.Month. This was crucial for functional style."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648220602,"creation_date":1648168834,"answer_id":71610966,"question_id":71610627,"body_markdown":"Implementation based [java.time][1] Java 8.\r\n- do not contain hardcoded values\r\n- stream style\r\n\r\n```java\r\nimport java.time.DayOfWeek;\r\nimport java.time.Month;\r\nimport java.time.YearMonth;\r\nimport java.util.EnumSet;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.IntStream;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Main {\r\n    public static void main(String args[]){\r\n        Map&lt;String, Long&gt; map = getNumberWeekDaysPerMonth(2022);\r\n\r\n        for (Map.Entry&lt;String, Long&gt; entry : map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;:&quot; + entry.getValue().toString());\r\n        }\r\n\r\n    }\r\n\r\n    public static Map&lt;String, Long&gt; getNumberWeekDaysPerMonth(int year) {\r\n        Map&lt;String, Long&gt; weekDays = new LinkedHashMap&lt;&gt;();\r\n        EnumSet&lt;DayOfWeek&gt; weekends = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY );\r\n\r\n        Stream.of(Month.values()).forEach(month -&gt; {\r\n                    YearMonth yearMonth = YearMonth.of(year, month);\r\n                    long countWeekDays = IntStream.rangeClosed(1, yearMonth.lengthOfMonth()).filter(day -&gt;\r\n                            !weekends.contains(yearMonth.atDay(day).getDayOfWeek())\r\n                    ).count();\r\n                    weekDays.put(month.toString(), countWeekDays);\r\n                }\r\n        );\r\n\r\n        return weekDays;\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nJANUARY:21\r\nFEBRUARY:20\r\nMARCH:23\r\nAPRIL:21\r\nMAY:22\r\nJUNE:22\r\nJULY:21\r\nAUGUST:23\r\nSEPTEMBER:22\r\nOCTOBER:21\r\nNOVEMBER:22\r\nDECEMBER:22\r\n```\r\n&lt;br&gt;[YearMonth][2] - is an immutable date-time object that represents the combination of a year and month\r\n&lt;br&gt;[Month][3] - is an enum representing the 12 months of the year\r\n&lt;br&gt;[LocalDate.getDayOfWeek()][4] - gets the day-of-week of the date.\r\n\r\n**EDIT:** Gathered to one stream, but the previous variant is more clear for understanding\r\n\r\n```java\r\n    public static Map&lt;String, Long&gt; getNumberWeekDaysPerMonth(int year) {\r\n        EnumSet&lt;DayOfWeek&gt; weekends = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY );\r\n        return Stream.of(Month.values()).collect(Collectors.toMap(\r\n                Enum::toString,\r\n                month -&gt;  IntStream.rangeClosed(1, YearMonth.of(year, month).lengthOfMonth()).\r\n                          filter(day -&gt; !weekends.contains(LocalDate.of(year, month, day).getDayOfWeek())).\r\n                          count(),\r\n                (e1, e2) -&gt; e1,\r\n                LinkedHashMap::new));\r\n    }\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Month.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getDayOfWeek--","title":"How to improve the algorithm to get a week days in a month Java 8 or 11","body":"<p>Implementation based <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> Java 8.</p>\n<ul>\n<li>do not contain hardcoded values</li>\n<li>stream style</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.DayOfWeek;\nimport java.time.Month;\nimport java.time.YearMonth;\nimport java.util.EnumSet;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.stream.IntStream;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String args[]){\n        Map&lt;String, Long&gt; map = getNumberWeekDaysPerMonth(2022);\n\n        for (Map.Entry&lt;String, Long&gt; entry : map.entrySet()) {\n            System.out.println(entry.getKey() + &quot;:&quot; + entry.getValue().toString());\n        }\n\n    }\n\n    public static Map&lt;String, Long&gt; getNumberWeekDaysPerMonth(int year) {\n        Map&lt;String, Long&gt; weekDays = new LinkedHashMap&lt;&gt;();\n        EnumSet&lt;DayOfWeek&gt; weekends = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY );\n\n        Stream.of(Month.values()).forEach(month -&gt; {\n                    YearMonth yearMonth = YearMonth.of(year, month);\n                    long countWeekDays = IntStream.rangeClosed(1, yearMonth.lengthOfMonth()).filter(day -&gt;\n                            !weekends.contains(yearMonth.atDay(day).getDayOfWeek())\n                    ).count();\n                    weekDays.put(month.toString(), countWeekDays);\n                }\n        );\n\n        return weekDays;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>JANUARY:21\nFEBRUARY:20\nMARCH:23\nAPRIL:21\nMAY:22\nJUNE:22\nJULY:21\nAUGUST:23\nSEPTEMBER:22\nOCTOBER:21\nNOVEMBER:22\nDECEMBER:22\n</code></pre>\n<p><br><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\">YearMonth</a> - is an immutable date-time object that represents the combination of a year and month\n<br><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\">Month</a> - is an enum representing the 12 months of the year\n<br><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getDayOfWeek--\" rel=\"nofollow noreferrer\">LocalDate.getDayOfWeek()</a> - gets the day-of-week of the date.</p>\n<p><strong>EDIT:</strong> Gathered to one stream, but the previous variant is more clear for understanding</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Map&lt;String, Long&gt; getNumberWeekDaysPerMonth(int year) {\n        EnumSet&lt;DayOfWeek&gt; weekends = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY );\n        return Stream.of(Month.values()).collect(Collectors.toMap(\n                Enum::toString,\n                month -&gt;  IntStream.rangeClosed(1, YearMonth.of(year, month).lengthOfMonth()).\n                          filter(day -&gt; !weekends.contains(LocalDate.of(year, month, day).getDayOfWeek())).\n                          count(),\n                (e1, e2) -&gt; e1,\n                LinkedHashMap::new));\n    }\n</code></pre>\n"}],"owner":{"account_id":8154587,"reputation":53,"user_id":6419762,"display_name":"Alexandre Barbosa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1648220602,"creation_date":1648165134,"question_id":71610627,"body_markdown":"I am wondering how could I improve this pretty straightforward code.\r\n\r\nThe code is extremely verbose and two forLoops is something definitely not functional or concise.\r\n\r\nI was thinking to use `Stream.iterate().limit(LAST_DAY_MONTH)` but it doesn&#39;t solve when we need to return a value.\r\n\r\n\r\n```\r\npublic class WeekDaysPerMonth {\r\n\r\n    public Map getNumberWeekDaysPerMonth(int year) {\r\n        Map&lt;Integer, Integer&gt; weekDays = new Hashtable&lt;&gt;();\r\n        for (int monthCount = 1; monthCount &lt;= 12; monthCount++) {\r\n            int daysCount = 0;\r\n            final int LAST_DAY_MONTH = getLastDayMonth(monthCount, year);\r\n            for (int day = 1; day &lt;= LAST_DAY_MONTH; day++) {\r\n                final int weekDay = LocalDate.of(year, monthCount, day).getDayOfWeek().getValue();\r\n                daysCount = daysCount + (\r\n                            (weekDay != DayOfWeek.SATURDAY.getValue()\r\n                                &amp;&amp; weekDay != DayOfWeek.SUNDAY.getValue())\r\n                        ? 1 : 0);\r\n            }\r\n            weekDays.put(monthCount, daysCount);\r\n        }\r\n        return weekDays;\r\n    }\r\n\r\n    private int getLastDayMonth(int month, int year) {\r\n        final boolean yearBiSexto = (year % 4 ) == 0;\r\n        Map&lt;Integer, Integer&gt; lastDayMontMap = new HashMap&lt;Integer, Integer&gt;() {{\r\n           put(1, 31);\r\n           put(2, yearBiSexto ? 29 : 28);\r\n           put(3, 31);\r\n           put(4, 30);\r\n           put(5, 31);\r\n           put(6, 30);\r\n           put(7, 31);\r\n           put(8, 31);\r\n           put(9, 30);\r\n           put(10, 31);\r\n           put(11, 30);\r\n           put(12, 31);\r\n        }};\r\n\r\n        return lastDayMontMap.get(month);\r\n    }\r\n```\r\n\r\nThis is the result when we are providing the year 2022.\r\n\r\n```\r\nmes : 1 - mes : 21\r\nmes : 2 - mes : 20\r\nmes : 3 - mes : 23\r\nmes : 4 - mes : 21\r\nmes : 5 - mes : 22\r\nmes : 6 - mes : 22\r\nmes : 7 - mes : 21\r\nmes : 8 - mes : 23\r\nmes : 9 - mes : 22\r\nmes : 10 - mes : 21\r\nmes : 11 - mes : 22\r\nmes : 12 - mes : 22\r\n```\r\n\r\nPlease, any improvement would be great!\r\n","title":"How to improve the algorithm to get a week days in a month Java 8 or 11","body":"<p>I am wondering how could I improve this pretty straightforward code.</p>\n<p>The code is extremely verbose and two forLoops is something definitely not functional or concise.</p>\n<p>I was thinking to use <code>Stream.iterate().limit(LAST_DAY_MONTH)</code> but it doesn't solve when we need to return a value.</p>\n<pre><code>public class WeekDaysPerMonth {\n\n    public Map getNumberWeekDaysPerMonth(int year) {\n        Map&lt;Integer, Integer&gt; weekDays = new Hashtable&lt;&gt;();\n        for (int monthCount = 1; monthCount &lt;= 12; monthCount++) {\n            int daysCount = 0;\n            final int LAST_DAY_MONTH = getLastDayMonth(monthCount, year);\n            for (int day = 1; day &lt;= LAST_DAY_MONTH; day++) {\n                final int weekDay = LocalDate.of(year, monthCount, day).getDayOfWeek().getValue();\n                daysCount = daysCount + (\n                            (weekDay != DayOfWeek.SATURDAY.getValue()\n                                &amp;&amp; weekDay != DayOfWeek.SUNDAY.getValue())\n                        ? 1 : 0);\n            }\n            weekDays.put(monthCount, daysCount);\n        }\n        return weekDays;\n    }\n\n    private int getLastDayMonth(int month, int year) {\n        final boolean yearBiSexto = (year % 4 ) == 0;\n        Map&lt;Integer, Integer&gt; lastDayMontMap = new HashMap&lt;Integer, Integer&gt;() {{\n           put(1, 31);\n           put(2, yearBiSexto ? 29 : 28);\n           put(3, 31);\n           put(4, 30);\n           put(5, 31);\n           put(6, 30);\n           put(7, 31);\n           put(8, 31);\n           put(9, 30);\n           put(10, 31);\n           put(11, 30);\n           put(12, 31);\n        }};\n\n        return lastDayMontMap.get(month);\n    }\n</code></pre>\n<p>This is the result when we are providing the year 2022.</p>\n<pre><code>mes : 1 - mes : 21\nmes : 2 - mes : 20\nmes : 3 - mes : 23\nmes : 4 - mes : 21\nmes : 5 - mes : 22\nmes : 6 - mes : 22\nmes : 7 - mes : 21\nmes : 8 - mes : 23\nmes : 9 - mes : 22\nmes : 10 - mes : 21\nmes : 11 - mes : 22\nmes : 12 - mes : 22\n</code></pre>\n<p>Please, any improvement would be great!</p>\n"},{"tags":["java","swing","jbutton"],"answers":[{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1389285599,"creation_date":1389285027,"answer_id":21025849,"question_id":21025804,"body_markdown":"The program starts blank because you are calling `setVisible` before you add components. Call `setVisible` after you add components (in the end of contructor) and it should work fine.\r\nAlso, avoid absolute positioning and call of set|Preferred|Minimum|MaximumSize methods for your components. Learn how to use layout managers.","title":"JButton doesn&#39;t appear until clicked","body":"<p>The program starts blank because you are calling <code>setVisible</code> before you add components. Call <code>setVisible</code> after you add components (in the end of contructor) and it should work fine.\nAlso, avoid absolute positioning and call of set|Preferred|Minimum|MaximumSize methods for your components. Learn how to use layout managers.</p>\n"},{"tags":[],"owner":{"account_id":16252404,"reputation":1,"user_id":11735988,"display_name":"Mauricio Guillermo Fontana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572644922,"creation_date":1572644922,"answer_id":58666288,"question_id":21025804,"body_markdown":"No. The problem is caused by the layout. Before adding anything to a JFrame or a JPanel which you want it to have an absolute position, you have to setLayout(null). Otherwise, you&#39;ll have unexpected behaviours all the time. I just figured it out by myself after three hours of experimenting; suddenly, I connected your post with other different subject, and it worked, but this isn&#39;t well explained on the Internet yet.","title":"JButton doesn&#39;t appear until clicked","body":"<p>No. The problem is caused by the layout. Before adding anything to a JFrame or a JPanel which you want it to have an absolute position, you have to setLayout(null). Otherwise, you'll have unexpected behaviours all the time. I just figured it out by myself after three hours of experimenting; suddenly, I connected your post with other different subject, and it worked, but this isn't well explained on the Internet yet.</p>\n"},{"tags":[],"owner":{"account_id":23944708,"reputation":47,"user_id":17937223,"display_name":"catloverxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648220487,"creation_date":1648218137,"answer_id":71618498,"question_id":21025804,"body_markdown":"Write GUI.validate(); after you add all the components to your frame. Any time you add something to a frame you have to validate it like this. Otherwise, you will get the behavior that you have described. ","title":"JButton doesn&#39;t appear until clicked","body":"<p>Write GUI.validate(); after you add all the components to your frame. Any time you add something to a frame you have to validate it like this. Otherwise, you will get the behavior that you have described.</p>\n"}],"owner":{"account_id":3608049,"reputation":23,"user_id":3009776,"display_name":"user3009776"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21025849,"answer_count":3,"score":1,"last_activity_date":1648220487,"creation_date":1389284919,"question_id":21025804,"body_markdown":"For this program, the JButton doesn&#39;t seem to show up unless you click the area where the JButton should be; the JFrame starts up blank. The moment you click the button, the respective code runs and the button finally shows up.\r\n\r\nHow do I get the buttons to show up upon starting the program?\r\n \r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.*;\r\n    /*\r\n    The Amazing BlackJack Advisory Tool by JoshK,HieuV, and AlvinC.\r\n    Prepare to be amazed :O\r\n     */\r\n    public class BlckJackUI {\r\n        //main class, will contain the JFrame of the program, as well as all the buttons.\r\n        public static void main(String args[])\r\n        {\r\n        //Creating the JFrame\r\n        JFrame GUI = new JFrame(&quot;Blackjack Advisor&quot;);\r\n        GUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        GUI.setSize(1300, 900);\r\n        GUI.setContentPane(new JLabel(new ImageIcon(&quot;C:\\\\Users\\\\Hieu Vo\\\\Desktop\\\\Green Background.png&quot;)));\r\n        GUI.setVisible(true);\r\n        // Because each button needs to run through the Math class.\r\n        final Math math = new Math();\r\n        // The Ace Button:\r\n        ImageIcon Ace = new ImageIcon(&quot;/Users/computerscience2/Downloads/Ace.jpg&quot;);\r\n        JButton ace = new JButton(Ace);\r\n        ace.setSize(300, 100);\r\n        ace.setLocation(100, 100);\r\n        ace.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                //Automatically default the the Ace to 11, and if Bust, Ace becomes 1. \r\n                if (math.array.playerhandtotal &lt;= 21)\r\n                {\r\n                    math.cardvalue = math.cardvalue + 11;\r\n                }\r\n                else\r\n                {\r\n                    math.cardvalue = math.cardvalue + 1;\r\n                }\r\n                math.array.clicktracker++;\r\n                math.calcResult();\r\n                JOptionPane.showMessageDialog(null,math.array.result);\r\n            }\r\n        });\r\n        GUI.add(ace);\r\n        ImageIcon Two = new ImageIcon(&quot;/Users/computerscience2/Downloads/2.jpg&quot;);\r\n        JButton two = new JButton(Two);\r\n        two.setSize(300, 100);\r\n        two.setLocation(100, 200);\r\n        two.addActionListener(new ActionListener ()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                /*\r\n                    This generally repeats throughout the whole class, and the only\r\n                    thing different is the changing cardvalue. When a button is pressed,\r\n                    respective cardvalues are added into the playerhand ArrayList, and\r\n                    totaled up to form playerhandtotal, which is a major factor in \r\n                    bringing up the advice.\r\n                 */\r\n                math.cardvalue = math.cardvalue + 2;\r\n                math.array.clicktracker++;\r\n                math.calcResult();\r\n                JOptionPane.showMessageDialog(null,math.array.result);\r\n            }\r\n        });\r\n        GUI.add(two);\r\n\r\nEt cetera, Et cetera... Just a bunch of the same stuff, more buttons coded the same exact way as JButton two, but with different value associated to them.\r\n\r\n        JButton start = new JButton(&quot;Start/Reset&quot;);\r\n        start.setSize(300, 100);\r\n        start.setLocation(500,500);\r\n        start.addActionListener(new ActionListener ()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                /*\r\n                The start button also acts like a reset button, and the concept is fairly\r\n                simple. If we reset all the important values to 0 or &quot;null,&quot; then the \r\n                program acts as if it was just opened.\r\n                 */\r\n                Arrays array = new Arrays();\r\n                array.playerhand.clear();\r\n                array.dealer = 0;\r\n                math.array.starttracker++;\r\n                math.array.clicktracker = 0;\r\n                array.playerhandtotal = 0;\r\n                math.cardvalue = 0;\r\n                array.result = null;\r\n                JOptionPane.showMessageDialog(null,&quot;Please select the card \\nthat the dealer is showing :)&quot;);\r\n\r\n            }\r\n        });\r\n        GUI.add(start);\r\n        GUI.setLayout(null);\r\n\r\nThis is all in the same class, and I understand a layout would be nicer, but perhaps there&#39;s a way to fix this issue using what I have now? \r\n","title":"JButton doesn&#39;t appear until clicked","body":"<p>For this program, the JButton doesn't seem to show up unless you click the area where the JButton should be; the JFrame starts up blank. The moment you click the button, the respective code runs and the button finally shows up.</p>\n\n<p>How do I get the buttons to show up upon starting the program?</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.*;\n/*\nThe Amazing BlackJack Advisory Tool by JoshK,HieuV, and AlvinC.\nPrepare to be amazed :O\n */\npublic class BlckJackUI {\n    //main class, will contain the JFrame of the program, as well as all the buttons.\n    public static void main(String args[])\n    {\n    //Creating the JFrame\n    JFrame GUI = new JFrame(\"Blackjack Advisor\");\n    GUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    GUI.setSize(1300, 900);\n    GUI.setContentPane(new JLabel(new ImageIcon(\"C:\\\\Users\\\\Hieu Vo\\\\Desktop\\\\Green Background.png\")));\n    GUI.setVisible(true);\n    // Because each button needs to run through the Math class.\n    final Math math = new Math();\n    // The Ace Button:\n    ImageIcon Ace = new ImageIcon(\"/Users/computerscience2/Downloads/Ace.jpg\");\n    JButton ace = new JButton(Ace);\n    ace.setSize(300, 100);\n    ace.setLocation(100, 100);\n    ace.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            //Automatically default the the Ace to 11, and if Bust, Ace becomes 1. \n            if (math.array.playerhandtotal &lt;= 21)\n            {\n                math.cardvalue = math.cardvalue + 11;\n            }\n            else\n            {\n                math.cardvalue = math.cardvalue + 1;\n            }\n            math.array.clicktracker++;\n            math.calcResult();\n            JOptionPane.showMessageDialog(null,math.array.result);\n        }\n    });\n    GUI.add(ace);\n    ImageIcon Two = new ImageIcon(\"/Users/computerscience2/Downloads/2.jpg\");\n    JButton two = new JButton(Two);\n    two.setSize(300, 100);\n    two.setLocation(100, 200);\n    two.addActionListener(new ActionListener ()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            /*\n                This generally repeats throughout the whole class, and the only\n                thing different is the changing cardvalue. When a button is pressed,\n                respective cardvalues are added into the playerhand ArrayList, and\n                totaled up to form playerhandtotal, which is a major factor in \n                bringing up the advice.\n             */\n            math.cardvalue = math.cardvalue + 2;\n            math.array.clicktracker++;\n            math.calcResult();\n            JOptionPane.showMessageDialog(null,math.array.result);\n        }\n    });\n    GUI.add(two);\n</code></pre>\n\n<p>Et cetera, Et cetera... Just a bunch of the same stuff, more buttons coded the same exact way as JButton two, but with different value associated to them.</p>\n\n<pre><code>    JButton start = new JButton(\"Start/Reset\");\n    start.setSize(300, 100);\n    start.setLocation(500,500);\n    start.addActionListener(new ActionListener ()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            /*\n            The start button also acts like a reset button, and the concept is fairly\n            simple. If we reset all the important values to 0 or \"null,\" then the \n            program acts as if it was just opened.\n             */\n            Arrays array = new Arrays();\n            array.playerhand.clear();\n            array.dealer = 0;\n            math.array.starttracker++;\n            math.array.clicktracker = 0;\n            array.playerhandtotal = 0;\n            math.cardvalue = 0;\n            array.result = null;\n            JOptionPane.showMessageDialog(null,\"Please select the card \\nthat the dealer is showing :)\");\n\n        }\n    });\n    GUI.add(start);\n    GUI.setLayout(null);\n</code></pre>\n\n<p>This is all in the same class, and I understand a layout would be nicer, but perhaps there's a way to fix this issue using what I have now? </p>\n"},{"tags":["java","eclipse","jenkins"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648222818,"post_id":71619031,"comment_id":126577644,"body_markdown":"You already have Java version 8 set in your `pom.xml` and running Maven with a higher Java version, such as Java 11, should work as long as you do not use any parts of the system library that have been removed after the Java 8 release. How did you specify your Jenkins job, with or without a pipeline?","body":"You already have Java version 8 set in your <code>pom.xml</code> and running Maven with a higher Java version, such as Java 11, should work as long as you do not use any parts of the system library that have been removed after the Java 8 release. How did you specify your Jenkins job, with or without a pipeline?"},{"owner":{"account_id":11602973,"reputation":31,"user_id":8499568,"display_name":"aatanka"},"score":0,"creation_date":1648223722,"post_id":71619031,"comment_id":126577986,"body_markdown":"Thank you for your insight. I have created/specified a Jenkins job as &quot;Maven project&quot;. The build was successful (with JDK 11 set in Jenkins and java version 8 set in pom.xml). Does that mean i am using JDK11 with java8 compiler ?","body":"Thank you for your insight. I have created/specified a Jenkins job as &quot;Maven project&quot;. The build was successful (with JDK 11 set in Jenkins and java version 8 set in pom.xml). Does that mean i am using JDK11 with java8 compiler ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648235105,"post_id":71619031,"comment_id":126581659,"body_markdown":"Maven probably uses here `javac` of the Java 11 JDK with which you run Maven with the option `--release 8` to create Java 8 bytecode and to give errors when things of the system library are used that was added in Java 9, 10 or 11.","body":"Maven probably uses here <code>javac</code> of the Java 11 JDK with which you run Maven with the option <code>--release 8</code> to create Java 8 bytecode and to give errors when things of the system library are used that was added in Java 9, 10 or 11."}],"owner":{"account_id":11602973,"reputation":31,"user_id":8499568,"display_name":"aatanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648220324,"creation_date":1648220324,"question_id":71619031,"body_markdown":"I am new to Jenkins. I wanted to use JDK11 for my project but want to set Compiler compliance at level 1.8. I can achieve this in eclipse like this,\r\n[![JDK Compliance option in Eclipse][1]][1]\r\n\r\nHere is my **POM.xml**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs there such setting in Jenkins? How to tell Jenkins to use specific JDK compliance level?\r\n\r\nHere is how i am specifying the JDK in **Jenkins**. Now, How to tell Jenkins to set Compliance level to 1.8 ??\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8nXkU.png\r\n  [2]: https://i.stack.imgur.com/tMKpk.png\r\n  [3]: https://i.stack.imgur.com/xplpK.png","title":"How to set Compiler Compliance level in Jenkins job?","body":"<p>I am new to Jenkins. I wanted to use JDK11 for my project but want to set Compiler compliance at level 1.8. I can achieve this in eclipse like this,\n<a href=\"https://i.stack.imgur.com/8nXkU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nXkU.png\" alt=\"JDK Compliance option in Eclipse\" /></a></p>\n<p>Here is my <strong>POM.xml</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tMKpk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMKpk.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there such setting in Jenkins? How to tell Jenkins to use specific JDK compliance level?</p>\n<p>Here is how i am specifying the JDK in <strong>Jenkins</strong>. Now, How to tell Jenkins to set Compliance level to 1.8 ??</p>\n<p><a href=\"https://i.stack.imgur.com/xplpK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xplpK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","palindrome"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1388700066,"post_id":20892506,"comment_id":31357106,"body_markdown":"Apache Commons, StringUtils.reverse. It would be: `&quot;abxa&quot;.equals(StringUtils.reverse(&quot;abxa&quot;))`","body":"Apache Commons, StringUtils.reverse. It would be: <code>&quot;abxa&quot;.equals(StringUtils.reverse(&quot;abxa&quot;))</code>"},{"owner":{"account_id":1347354,"reputation":21526,"user_id":1287834,"accept_rate":87,"display_name":"Slater Victoroff"},"score":1,"creation_date":1388700236,"post_id":20892506,"comment_id":31357201,"body_markdown":"You should really describe your problem in your question instead of leaving it to be inferred from your comments, as the title is misleading.","body":"You should really describe your problem in your question instead of leaving it to be inferred from your comments, as the title is misleading."}],"answers":[{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1388701875,"creation_date":1388700501,"answer_id":20892833,"question_id":20892506,"body_markdown":"I think there is a better way\r\n\r\n    package se.wederbrand.stackoverflow;\r\n\r\n    public class KPalindrome {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tKPalindrome kPalindrome = new KPalindrome();\r\n    \t\tString s = args[0];\r\n    \t\tint k = Integer.parseInt(args[1]);\r\n    \t\tif (kPalindrome.testIt(s, k)) {\r\n    \t\t\tSystem.out.println(&quot;YES&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;NO&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tboolean testIt(String s, int k) {\r\n    \t\tif (s.length() &lt;= 1) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\twhile (s.charAt(0) == s.charAt(s.length()-1)) {\r\n    \t\t\ts = s.substring(1, s.length()-1);\r\n    \r\n    \t\t\tif (s.length() &lt;= 1) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (k == 0) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t// Try to remove the first or last character\r\n    \t\treturn testIt(s.substring(0, s.length() - 1), k - 1) || testIt(s.substring(1, s.length()), k - 1);\r\n    \t}\r\n    }\r\n\r\nSince K is max 30 it&#39;s likely the string can be invalidated pretty quick and without even examining the middle of the string.\r\n\r\nI&#39;ve tested this with the two provided test cases as well as a 20k characters long string with just &quot;ab&quot; 10k times and k = 30;\r\n\r\nAll tests are fast and returns the correct results.\r\n","title":"Determine if a given string is a k-palindrome","body":"<p>I think there is a better way</p>\n\n<pre><code>package se.wederbrand.stackoverflow;\n\npublic class KPalindrome {\n    public static void main(String[] args) {\n        KPalindrome kPalindrome = new KPalindrome();\n        String s = args[0];\n        int k = Integer.parseInt(args[1]);\n        if (kPalindrome.testIt(s, k)) {\n            System.out.println(\"YES\");\n        }\n        else {\n            System.out.println(\"NO\");\n        }\n    }\n\n    boolean testIt(String s, int k) {\n        if (s.length() &lt;= 1) {\n            return true;\n        }\n\n        while (s.charAt(0) == s.charAt(s.length()-1)) {\n            s = s.substring(1, s.length()-1);\n\n            if (s.length() &lt;= 1) {\n                return true;\n            }\n        }\n\n        if (k == 0) {\n            return false;\n        }\n\n        // Try to remove the first or last character\n        return testIt(s.substring(0, s.length() - 1), k - 1) || testIt(s.substring(1, s.length()), k - 1);\n    }\n}\n</code></pre>\n\n<p>Since K is max 30 it's likely the string can be invalidated pretty quick and without even examining the middle of the string.</p>\n\n<p>I've tested this with the two provided test cases as well as a 20k characters long string with just \"ab\" 10k times and k = 30;</p>\n\n<p>All tests are fast and returns the correct results.</p>\n"},{"tags":[],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388703183,"creation_date":1388703183,"answer_id":20893445,"question_id":20892506,"body_markdown":"Thanks to Andreas, that algo worked like a charm. Here my implementation for anyone who&#39;s curious. Slightly different, but fundamentally your same logic:\r\n\r\n    public static boolean kPalindrome(String s, int k) {\r\n        if (s.length() &lt;= 1) {\r\n            return true;\r\n        }\r\n        char[] c = s.toCharArray();\r\n        if (c[0] != c[c.length - 1]) {\r\n            if (k &lt;= 0) {\r\n                return false;\r\n            } else {\r\n                char[] minusFirst = new char[c.length - 1];\r\n                System.arraycopy(c, 1, minusFirst, 0, c.length - 1);\r\n                char[] minusLast = new char[c.length - 1];\r\n                System.arraycopy(c, 0, minusLast, 0, c.length - 1);\r\n                return kPalindrome(String.valueOf(minusFirst), k - 1)\r\n                       || kPalindrome(String.valueOf(minusLast), k - 1);\r\n            }\r\n        } else {\r\n            char[] minusFirstLast = new char[c.length - 2];\r\n            System.arraycopy(c, 1, minusFirstLast, 0, c.length - 2);\r\n            return kPalindrome(String.valueOf(minusFirstLast), k);\r\n        }\r\n    }","title":"Determine if a given string is a k-palindrome","body":"<p>Thanks to Andreas, that algo worked like a charm. Here my implementation for anyone who's curious. Slightly different, but fundamentally your same logic:</p>\n\n<pre><code>public static boolean kPalindrome(String s, int k) {\n    if (s.length() &lt;= 1) {\n        return true;\n    }\n    char[] c = s.toCharArray();\n    if (c[0] != c[c.length - 1]) {\n        if (k &lt;= 0) {\n            return false;\n        } else {\n            char[] minusFirst = new char[c.length - 1];\n            System.arraycopy(c, 1, minusFirst, 0, c.length - 1);\n            char[] minusLast = new char[c.length - 1];\n            System.arraycopy(c, 0, minusLast, 0, c.length - 1);\n            return kPalindrome(String.valueOf(minusFirst), k - 1)\n                   || kPalindrome(String.valueOf(minusLast), k - 1);\n        }\n    } else {\n        char[] minusFirstLast = new char[c.length - 2];\n        System.arraycopy(c, 1, minusFirstLast, 0, c.length - 2);\n        return kPalindrome(String.valueOf(minusFirstLast), k);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4613693,"reputation":171,"user_id":3740967,"display_name":"Vishnu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427047459,"creation_date":1427036216,"answer_id":29195847,"question_id":20892506,"body_markdown":"This can be solved using [Edit distance][1] dynamic programming algorithm. Edit distance DP algorithm is used to find the minimum operations required to convert a source string  to destination string. The operations can be either addition or deletion of characters.\r\n\r\nThe K-palindrome problem can be solved using Edit distance algorithm by checking the minimum operation required to convert the input string to its reverse.\r\n\r\nLet editDistance(source,destination) be the function which takes source string and destination string and returns the minimum operations required to convert the source string to destination string. \r\n\r\n**A string S is K-palindrome if editDistance(S,reverse(S))&lt;=2*K**\r\n\r\nThis is because we can transform the given string S into its reverse by deleting atmost K letters and then inserting the same K letters in different position.\r\n\r\nThis will be more clear with an example.\r\n\r\nLet S=madtam and K=1.\r\n\r\nTo convert S into reverse of S (i.e matdam) first we have to remove the character &#39;t&#39; at index 3 ( 0 based index) in S.\r\n\r\nNow the intermediate string is madam. Then we have to insert the character &#39;t&#39; at index 2 in the intermediate string to get &quot;matdam&quot; which is the reverse of string s.\r\n\r\nIf you look carefully you will know that the intermediate string &quot;madam&quot; is the palindrome that is obtained by removing k=1 characters. \r\n\r\n\r\n  [1]: http://www.geeksforgeeks.org/dynamic-programming-set-5-edit-distance/","title":"Determine if a given string is a k-palindrome","body":"<p>This can be solved using <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-5-edit-distance/\" rel=\"nofollow\">Edit distance</a> dynamic programming algorithm. Edit distance DP algorithm is used to find the minimum operations required to convert a source string  to destination string. The operations can be either addition or deletion of characters.</p>\n\n<p>The K-palindrome problem can be solved using Edit distance algorithm by checking the minimum operation required to convert the input string to its reverse.</p>\n\n<p>Let editDistance(source,destination) be the function which takes source string and destination string and returns the minimum operations required to convert the source string to destination string. </p>\n\n<p><strong>A string S is K-palindrome if editDistance(S,reverse(S))&lt;=2*K</strong></p>\n\n<p>This is because we can transform the given string S into its reverse by deleting atmost K letters and then inserting the same K letters in different position.</p>\n\n<p>This will be more clear with an example.</p>\n\n<p>Let S=madtam and K=1.</p>\n\n<p>To convert S into reverse of S (i.e matdam) first we have to remove the character 't' at index 3 ( 0 based index) in S.</p>\n\n<p>Now the intermediate string is madam. Then we have to insert the character 't' at index 2 in the intermediate string to get \"matdam\" which is the reverse of string s.</p>\n\n<p>If you look carefully you will know that the intermediate string \"madam\" is the palindrome that is obtained by removing k=1 characters. </p>\n"},{"tags":[],"owner":{"account_id":1851022,"reputation":698,"user_id":1677597,"accept_rate":59,"display_name":"Nivetha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427040500,"creation_date":1427039944,"answer_id":29196538,"question_id":20892506,"body_markdown":"This problem can be solved using the famous **Longest Common Subsequence(LCS)** method. When LCS is applied with the string and the reverse of the given string, then it gives us the longest palindromic subsequence present in the string. \r\n\r\nLet the longest palindromic subsequence length of a given string of length string_length be palin_length. Then (string_length - palin_length) gives the number of characters required to be deleted to convert the string to a palindrome. Thus, the given string is k-palindrome if **(string_length - palin_length) &lt;= k**.\r\n\r\nLet me give some examples,\r\n\r\nInitial String: **madtam**  (string_length = 6)\r\n\r\nLongest Palindromic Subsequence: **madam** (palin_length = 5)\r\n\r\nNumber of non-contributing characters: 1 ( string_length - palin_length)\r\n\r\nThus this string is k-palindromic where k&gt;=1. This is because you need to delete **atmost** k characters ( k or less).\r\n\r\n\r\nHere is the code snippet:\r\n\r\n    #include&lt;iostream&gt;\r\n    #include&lt;cstdio&gt;\r\n    #include&lt;algorithm&gt;\r\n    using namespace std;\r\n    #define MAX 10000\r\n\r\n    int table[MAX+1][MAX+1];\r\n    int longest_common_subsequence(char *first_string, char *second_string){\r\n        int first_string_length = strlen(first_string), second_string_length = strlen(second_string);\r\n        int i, j;\r\n        memset( table, 0, sizeof(table));\r\n        for( i=1; i&lt;=first_string_length; i++ ){\r\n            for( j=1; j&lt;=second_string_length; j++){\r\n                if( first_string[i-1] == second_string[j-1] )\r\n                    table[i][j] = table[i-1][j-1] + 1;\r\n                else\r\n                    table[i][j] = max(table[i-1][j], table[i][j-1]);\r\n            }\r\n        }\r\n        return table[first_string_length][second_string_length];\r\n    }\r\n    \r\n    char first_string[MAX], second_string[MAX];\r\n    \r\n    int main(){\r\n        scanf(&quot;%s&quot;, first_string);\r\n        strcpy(second_string, first_string);\r\n        reverse(second_string, second_string+strlen(second_string));\r\n        int max_palindromic_length = longest_common_subsequence(first_string, second_string);\r\n        int non_contributing_chars = strlen(first_string) - max_palindromic_length;\r\n        if( k &gt;= non_contributing_chars)\r\n            printf(&quot;K palindromic!\\n&quot;);\r\n        else \r\n            printf(&quot;Not K palindromic!\\n&quot;);\r\n        return 0;\r\n    }","title":"Determine if a given string is a k-palindrome","body":"<p>This problem can be solved using the famous <strong>Longest Common Subsequence(LCS)</strong> method. When LCS is applied with the string and the reverse of the given string, then it gives us the longest palindromic subsequence present in the string. </p>\n\n<p>Let the longest palindromic subsequence length of a given string of length string_length be palin_length. Then (string_length - palin_length) gives the number of characters required to be deleted to convert the string to a palindrome. Thus, the given string is k-palindrome if <strong>(string_length - palin_length) &lt;= k</strong>.</p>\n\n<p>Let me give some examples,</p>\n\n<p>Initial String: <strong>madtam</strong>  (string_length = 6)</p>\n\n<p>Longest Palindromic Subsequence: <strong>madam</strong> (palin_length = 5)</p>\n\n<p>Number of non-contributing characters: 1 ( string_length - palin_length)</p>\n\n<p>Thus this string is k-palindromic where k>=1. This is because you need to delete <strong>atmost</strong> k characters ( k or less).</p>\n\n<p>Here is the code snippet:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;cstdio&gt;\n#include&lt;algorithm&gt;\nusing namespace std;\n#define MAX 10000\n\nint table[MAX+1][MAX+1];\nint longest_common_subsequence(char *first_string, char *second_string){\n    int first_string_length = strlen(first_string), second_string_length = strlen(second_string);\n    int i, j;\n    memset( table, 0, sizeof(table));\n    for( i=1; i&lt;=first_string_length; i++ ){\n        for( j=1; j&lt;=second_string_length; j++){\n            if( first_string[i-1] == second_string[j-1] )\n                table[i][j] = table[i-1][j-1] + 1;\n            else\n                table[i][j] = max(table[i-1][j], table[i][j-1]);\n        }\n    }\n    return table[first_string_length][second_string_length];\n}\n\nchar first_string[MAX], second_string[MAX];\n\nint main(){\n    scanf(\"%s\", first_string);\n    strcpy(second_string, first_string);\n    reverse(second_string, second_string+strlen(second_string));\n    int max_palindromic_length = longest_common_subsequence(first_string, second_string);\n    int non_contributing_chars = strlen(first_string) - max_palindromic_length;\n    if( k &gt;= non_contributing_chars)\n        printf(\"K palindromic!\\n\");\n    else \n        printf(\"Not K palindromic!\\n\");\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1378787,"reputation":578,"user_id":1312226,"accept_rate":83,"display_name":"Shilpa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449969878,"creation_date":1449969878,"answer_id":34247008,"question_id":20892506,"body_markdown":"I found the length of a longest string such that after removing characters &gt;= k, we will be having a palindrome. I have used dynamic programming here. The palindrome I have considered need not be consecutive. Its like abscba has a longest palindromic length of 4. \r\n\r\nSo now this can be used further, such that whenever k &gt;= (len - len of longest palindrome), it results to true else false.\r\n\r\n\r\n     public static int longestPalindrome(String s){\r\n            int len = s.length();\r\n            int[][] cal = new int[len][len];\r\n            for(int i=0;i&lt;len;i++){\r\n                cal[i][i] = 1; //considering strings of length = 1\r\n            }\r\n            for(int i=0;i&lt;len-1;i++){\r\n                //considering strings of length = 2\r\n                if (s.charAt(i) == s.charAt(i+1)){\r\n                    cal[i][i+1] = 2;\r\n                }else{\r\n                    cal[i][i+1] = 0;\r\n                }\r\n            }\r\n            \r\n            for(int p = len-1; p&gt;=0; p--){\r\n                for(int q=p+2; q&lt;len; q++){\r\n                    if (s.charAt(p)==s.charAt(q)){\r\n                        cal[p][q] = 2 + cal[p+1][q-1];\r\n                    }else{\r\n                        cal[p][q] = max(cal[p+1][q], cal[p][q-1]);\r\n                    }\r\n                }\r\n            }\r\n            return cal[0][len-1];\r\n        }","title":"Determine if a given string is a k-palindrome","body":"<p>I found the length of a longest string such that after removing characters >= k, we will be having a palindrome. I have used dynamic programming here. The palindrome I have considered need not be consecutive. Its like abscba has a longest palindromic length of 4. </p>\n\n<p>So now this can be used further, such that whenever k >= (len - len of longest palindrome), it results to true else false.</p>\n\n<pre><code> public static int longestPalindrome(String s){\n        int len = s.length();\n        int[][] cal = new int[len][len];\n        for(int i=0;i&lt;len;i++){\n            cal[i][i] = 1; //considering strings of length = 1\n        }\n        for(int i=0;i&lt;len-1;i++){\n            //considering strings of length = 2\n            if (s.charAt(i) == s.charAt(i+1)){\n                cal[i][i+1] = 2;\n            }else{\n                cal[i][i+1] = 0;\n            }\n        }\n\n        for(int p = len-1; p&gt;=0; p--){\n            for(int q=p+2; q&lt;len; q++){\n                if (s.charAt(p)==s.charAt(q)){\n                    cal[p][q] = 2 + cal[p+1][q-1];\n                }else{\n                    cal[p][q] = max(cal[p+1][q], cal[p][q-1]);\n                }\n            }\n        }\n        return cal[0][len-1];\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470084106,"creation_date":1470084106,"answer_id":38707763,"question_id":20892506,"body_markdown":"I designed a solution purely based on recursion -\r\n\r\n    public static boolean isKPalindrome(String str, int k) {\r\n    \t\t\tif(str.length() &lt; 2) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(str.charAt(0) == str.charAt(str.length()-1)) {\r\n    \t\t\t\treturn isKPalindrome(str.substring(1, str.length()-1), k);\r\n    \t\t\t} else{\r\n    \t\t\t\tif(k == 0) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif(isKPalindrome(str.substring(0, str.length() - 1), k-1)) {\t\t\t\t\t\t\r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t} else{\r\n    \t\t\t\t\t\treturn isKPalindrome(str.substring(1, str.length()), k-1);\r\n    \t\t\t\t\t}\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nThere is no `while` loop in above implementation as in the accepted answer.\r\nHope it helps somebody looking for it.","title":"Determine if a given string is a k-palindrome","body":"<p>I designed a solution purely based on recursion -</p>\n\n<pre><code>public static boolean isKPalindrome(String str, int k) {\n            if(str.length() &lt; 2) {\n                return true;\n            }\n\n            if(str.charAt(0) == str.charAt(str.length()-1)) {\n                return isKPalindrome(str.substring(1, str.length()-1), k);\n            } else{\n                if(k == 0) {\n                    return false;\n                } else {\n                    if(isKPalindrome(str.substring(0, str.length() - 1), k-1)) {                        \n                        return true;\n                    } else{\n                        return isKPalindrome(str.substring(1, str.length()), k-1);\n                    }                   \n                }\n            }\n        }\n</code></pre>\n\n<p>There is no <code>while</code> loop in above implementation as in the accepted answer.\nHope it helps somebody looking for it.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562049556,"creation_date":1562049556,"answer_id":56846662,"question_id":20892506,"body_markdown":"This is a common interview question, and I&#39;m little surprised that no one has mentioned dynamic programming yet. This problem exhibits optimal substructure (if a string is a k-palindrome, some substrings are also k-palindromes), and overlapping subproblems (the solution requires comparing the same substrings more than once).\r\n\r\nThis is a special case of the edit distance problem, where we check if a string `s` can be converted to string `p` by only deleting characters from either or both strings.\r\n\r\nLet the string be `s` and its reverse `rev`. Let `dp[i][j]` be the number of deletions required to convert the first `i` characters of `s` to the first `j` characters of `rev`. Since deletions have to be done in both strings, if `dp[n][n] &lt;= 2 * k`, then the string is a k-palindrome.\r\n\r\nBase case: When one of the strings is empty, all characters from the other string need to be deleted in order to make them equal.\r\n\r\nTime complexity: `O(n^2)`.\r\n\r\nScala code:\r\n\r\n    def kPalindrome(s: String, k: Int): Boolean = {\r\n        val rev = s.reverse\r\n        val n = s.length\r\n        val dp = Array.ofDim[Int](n + 1, n + 1)\r\n    \r\n        for (i &lt;- 0 to n; j &lt;- 0 to n) {\r\n          dp(i)(j) = if (i == 0 || j == 0) i + j\r\n          else if (s(i - 1) == rev(j - 1)) dp(i - 1)(j - 1)\r\n          else 1 + math.min(dp(i - 1)(j), dp(i)(j - 1))\r\n        }\r\n        dp(n)(n) &lt;= 2 * k\r\n    }\r\n\r\nSince we are doing bottom-up DP, an optimization is to return false if at any time `i == j &amp;&amp; dp[i][j] &gt; 2 * k`, since all subsequent `i == j` must be greater.","title":"Determine if a given string is a k-palindrome","body":"<p>This is a common interview question, and I'm little surprised that no one has mentioned dynamic programming yet. This problem exhibits optimal substructure (if a string is a k-palindrome, some substrings are also k-palindromes), and overlapping subproblems (the solution requires comparing the same substrings more than once).</p>\n\n<p>This is a special case of the edit distance problem, where we check if a string <code>s</code> can be converted to string <code>p</code> by only deleting characters from either or both strings.</p>\n\n<p>Let the string be <code>s</code> and its reverse <code>rev</code>. Let <code>dp[i][j]</code> be the number of deletions required to convert the first <code>i</code> characters of <code>s</code> to the first <code>j</code> characters of <code>rev</code>. Since deletions have to be done in both strings, if <code>dp[n][n] &lt;= 2 * k</code>, then the string is a k-palindrome.</p>\n\n<p>Base case: When one of the strings is empty, all characters from the other string need to be deleted in order to make them equal.</p>\n\n<p>Time complexity: <code>O(n^2)</code>.</p>\n\n<p>Scala code:</p>\n\n<pre><code>def kPalindrome(s: String, k: Int): Boolean = {\n    val rev = s.reverse\n    val n = s.length\n    val dp = Array.ofDim[Int](n + 1, n + 1)\n\n    for (i &lt;- 0 to n; j &lt;- 0 to n) {\n      dp(i)(j) = if (i == 0 || j == 0) i + j\n      else if (s(i - 1) == rev(j - 1)) dp(i - 1)(j - 1)\n      else 1 + math.min(dp(i - 1)(j), dp(i)(j - 1))\n    }\n    dp(n)(n) &lt;= 2 * k\n}\n</code></pre>\n\n<p>Since we are doing bottom-up DP, an optimization is to return false if at any time <code>i == j &amp;&amp; dp[i][j] &gt; 2 * k</code>, since all subsequent <code>i == j</code> must be greater.</p>\n"},{"tags":[],"owner":{"account_id":6941570,"reputation":1352,"user_id":5327707,"accept_rate":21,"display_name":"Ninja Dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648220219,"creation_date":1648220219,"answer_id":71619010,"question_id":20892506,"body_markdown":"       public static boolean failK(String s, int l, int r, int k) {\r\n    \r\n            if (k &lt; 0)\r\n                return false;\r\n    \r\n            if (l &gt; r)\r\n                return true;\r\n    \r\n            if (s.charAt(l) != s.charAt(r)) {\r\n                return failK(s, l + 1, r, k - 1) || failK(s, l, r - 1, k - 1);\r\n            } else {\r\n                return failK(s, l + 1, r - 1, k);\r\n            }\r\n        }","title":"Determine if a given string is a k-palindrome","body":"<pre><code>   public static boolean failK(String s, int l, int r, int k) {\n\n        if (k &lt; 0)\n            return false;\n\n        if (l &gt; r)\n            return true;\n\n        if (s.charAt(l) != s.charAt(r)) {\n            return failK(s, l + 1, r, k - 1) || failK(s, l, r - 1, k - 1);\n        } else {\n            return failK(s, l + 1, r - 1, k);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3562450,"reputation":1029,"user_id":2974996,"accept_rate":56,"display_name":"Brandon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8942,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":20892833,"answer_count":8,"score":5,"last_activity_date":1648220219,"creation_date":1388699124,"question_id":20892506,"body_markdown":"I&#39;m trying to solve the following interview practice question:\r\n\r\n&gt;A k-palindrome is a string which transforms into a palindrome on removing at most \r\n        k characters. \r\n\r\n&gt; Given a string S, and an integer K, print &quot;YES&quot; if S is a k-palindrome;\r\n        otherwise print &quot;NO&quot;. \r\n\r\n&gt;*Constraints:*\r\n\r\n&gt;`S` has at most 20,000 characters.  \r\n        `0 &lt;= k &lt;= 30` \r\n\r\n&gt;*Sample Test Cases:*\r\n\r\n&gt;     Input - abxa 1 \r\n    Output - YES \r\n\r\n&gt;     Input - abdxa 1 \r\n    Output - NO\r\n\r\nMy approach I&#39;ve decided is going to be taking all possible String combinations of length `s.length - k` or greater, i.e. &quot;abc&quot; and k = 1 -&gt; &quot;ab&quot; &quot;bc&quot; &quot;ac&quot; &quot;abc&quot; and checking if they are palindromes. I have the following code so far, but can&#39;t seem to figure out a proper way to generate all these string combinations in the general case:\r\n\r\n    public static void isKPalindrome(String s, int k) {\r\n      // Generate all string combinations and call isPalindrome on them,\r\n      //   printing &quot;YES&quot; at first true \r\n    }\r\n        \r\n    private static boolean isPalindrome(String s) {\r\n        char[] c = s.toCharArray()\r\n        int slow = 0;\r\n        int fast = 0;\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        while (fast &lt; c.length) {\r\n            stack.push(c[slow]);\r\n            slow += 1;\r\n            fast += 2;\r\n        }\r\n        if (c.length % 2 == 1) {\r\n            stack.pop();\r\n        }\r\n        while (!stack.isEmpty()) {\r\n            if (stack.pop() != c[slow++]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nCan anyone figure out a way to implement this, or perhaps demonstrate a better way? \r\n","title":"Determine if a given string is a k-palindrome","body":"<p>I'm trying to solve the following interview practice question:</p>\n\n<blockquote>\n  <p>A k-palindrome is a string which transforms into a palindrome on removing at most \n          k characters. </p>\n  \n  <p>Given a string S, and an integer K, print \"YES\" if S is a k-palindrome;\n          otherwise print \"NO\". </p>\n  \n  <p><em>Constraints:</em></p>\n  \n  <p><code>S</code> has at most 20,000 characters.<br>\n          <code>0 &lt;= k &lt;= 30</code> </p>\n  \n  <p><em>Sample Test Cases:</em></p>\n\n<pre><code>Input - abxa 1 \nOutput - YES \n\nInput - abdxa 1 \nOutput - NO\n</code></pre>\n</blockquote>\n\n<p>My approach I've decided is going to be taking all possible String combinations of length <code>s.length - k</code> or greater, i.e. \"abc\" and k = 1 -> \"ab\" \"bc\" \"ac\" \"abc\" and checking if they are palindromes. I have the following code so far, but can't seem to figure out a proper way to generate all these string combinations in the general case:</p>\n\n<pre><code>public static void isKPalindrome(String s, int k) {\n  // Generate all string combinations and call isPalindrome on them,\n  //   printing \"YES\" at first true \n}\n\nprivate static boolean isPalindrome(String s) {\n    char[] c = s.toCharArray()\n    int slow = 0;\n    int fast = 0;\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    while (fast &lt; c.length) {\n        stack.push(c[slow]);\n        slow += 1;\n        fast += 2;\n    }\n    if (c.length % 2 == 1) {\n        stack.pop();\n    }\n    while (!stack.isEmpty()) {\n        if (stack.pop() != c[slow++]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Can anyone figure out a way to implement this, or perhaps demonstrate a better way? </p>\n"},{"tags":["java","android","ssh","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":4,"creation_date":1648223049,"post_id":71618873,"comment_id":126577720,"body_markdown":"*&quot;Does not work&quot;* does not work as a problem description. What happens? Do you get any error? Does the code hang? Or does it work incorrectly somehow? [JSch log file](https://stackoverflow.com/q/47411185/850848) might be useful.","body":"<i>&quot;Does not work&quot;</i> does not work as a problem description. What happens? Do you get any error? Does the code hang? Or does it work incorrectly somehow? <a href=\"https://stackoverflow.com/q/47411185/850848\">JSch log file</a> might be useful."},{"owner":{"account_id":24671457,"reputation":19,"user_id":18566431,"display_name":"carlit"},"score":0,"creation_date":1648279660,"post_id":71618873,"comment_id":126588624,"body_markdown":"as I said in the description it is &quot;NOT ABLE TO FIND THE HOST &quot; that im trying to reach, that is what the JSchException says","body":"as I said in the description it is &quot;NOT ABLE TO FIND THE HOST &quot; that im trying to reach, that is what the JSchException says"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1648314340,"post_id":71618873,"comment_id":126595095,"body_markdown":"*Exact* error message please. + Log file.","body":"<i>Exact</i> error message please. + Log file."}],"owner":{"account_id":24671457,"reputation":19,"user_id":18566431,"display_name":"carlit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648220150,"creation_date":1648219655,"question_id":71618873,"body_markdown":"I&#39;m just trying to make a simple ssh connection from my android device, this code works fine from my Android Studio but when I run it on my Android device does not work. it is not able to find the host at all.\r\n\r\nI think it has something to do with network but I don&#39;t know what. I check all the settings and everything looks normal, the device I want to reach is in my home network and from my router I can see all the devices with proper names and all are reachable, I can ping all of them included my Android device from where I want to run this code.\r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    String host, username, password, command;\r\n    Integer port;\r\n    TextView shellOutput;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n    \r\n        Intent intent = getIntent();\r\n        \r\n        shellOutput = findViewById(R.id.toShowMessage);\r\n        host = intent.getStringExtra(&quot;host&quot;);\r\n        port = Integer.parseInt(intent.getStringExtra(&quot;port&quot;));\r\n        username = intent.getStringExtra(&quot;username&quot;);\r\n        password = intent.getStringExtra(&quot;password&quot;);\r\n        command = intent.getStringExtra(&quot;command&quot;);\r\n    \r\n        new Thread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                try {\r\n    \r\n                    executeSSHCommand(host, port, username, password, command);\r\n                }\r\n                catch (Exception ex) {\r\n                   ex.printStackTrace();\r\n                    Snackbar.make(findViewById(R.id.Activity2), R.string.connection_test,\r\n                            Snackbar.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }).start();\r\n    \r\n    \r\n    }\r\n    \r\n    public void executeSSHCommand(String host, int port, String username, String password, String command) {\r\n    \r\n        try {\r\n    \r\n            JSch jsch = new JSch();\r\n            Session session = jsch.getSession(username, host, port);\r\n            session.setPassword(password);\r\n    \r\n            // Avoid asking for key confirmation\r\n            Properties prop = new Properties();\r\n            prop.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setConfig(prop);\r\n    \r\n            session.connect();\r\n    \r\n            // SSH Channel\r\n            ChannelExec channelssh = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            channelssh.setOutputStream(baos);\r\n    \r\n            // Execute command\r\n            channelssh.setCommand(command);\r\n    \r\n            channelssh.connect();\r\n    \r\n    \r\n            while (true) {\r\n                if (channelssh.isClosed()) {\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_success,\r\n                    Snackbar.LENGTH_SHORT).show();\r\n            \r\n            shellOutput.setText(baos.toString());\r\n            channelssh.disconnect();\r\n        } catch (JSchException e) {\r\n            // show the error in the UI\r\n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_failed + &quot;//&quot; + e.getMessage(),\r\n                    Snackbar.LENGTH_LONG).show();\r\n    \r\n        }\r\n    }\r\n\r\n}\r\n```","title":"SSH connection not working only on android device","body":"<p>I'm just trying to make a simple ssh connection from my android device, this code works fine from my Android Studio but when I run it on my Android device does not work. it is not able to find the host at all.</p>\n<p>I think it has something to do with network but I don't know what. I check all the settings and everything looks normal, the device I want to reach is in my home network and from my router I can see all the devices with proper names and all are reachable, I can ping all of them included my Android device from where I want to run this code.</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n\n    String host, username, password, command;\n    Integer port;\n    TextView shellOutput;\n    \n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    \n        Intent intent = getIntent();\n        \n        shellOutput = findViewById(R.id.toShowMessage);\n        host = intent.getStringExtra(&quot;host&quot;);\n        port = Integer.parseInt(intent.getStringExtra(&quot;port&quot;));\n        username = intent.getStringExtra(&quot;username&quot;);\n        password = intent.getStringExtra(&quot;password&quot;);\n        command = intent.getStringExtra(&quot;command&quot;);\n    \n        new Thread(new Runnable(){\n            @Override\n            public void run() {\n                try {\n    \n                    executeSSHCommand(host, port, username, password, command);\n                }\n                catch (Exception ex) {\n                   ex.printStackTrace();\n                    Snackbar.make(findViewById(R.id.Activity2), R.string.connection_test,\n                            Snackbar.LENGTH_SHORT).show();\n                }\n            }\n        }).start();\n    \n    \n    }\n    \n    public void executeSSHCommand(String host, int port, String username, String password, String command) {\n    \n        try {\n    \n            JSch jsch = new JSch();\n            Session session = jsch.getSession(username, host, port);\n            session.setPassword(password);\n    \n            // Avoid asking for key confirmation\n            Properties prop = new Properties();\n            prop.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(prop);\n    \n            session.connect();\n    \n            // SSH Channel\n            ChannelExec channelssh = (ChannelExec) session.openChannel(&quot;exec&quot;);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            channelssh.setOutputStream(baos);\n    \n            // Execute command\n            channelssh.setCommand(command);\n    \n            channelssh.connect();\n    \n    \n            while (true) {\n                if (channelssh.isClosed()) {\n                    break;\n                }\n            }\n    \n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_success,\n                    Snackbar.LENGTH_SHORT).show();\n            \n            shellOutput.setText(baos.toString());\n            channelssh.disconnect();\n        } catch (JSchException e) {\n            // show the error in the UI\n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_failed + &quot;//&quot; + e.getMessage(),\n                    Snackbar.LENGTH_LONG).show();\n    \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-consul"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1648178870,"post_id":71611727,"comment_id":126564465,"body_markdown":"Your missing a spring-cloud.version property","body":"Your missing a spring-cloud.version property"},{"owner":{"account_id":19269449,"reputation":1,"user_id":14083701,"display_name":"Wildrimak"},"score":0,"creation_date":1648220184,"post_id":71611727,"comment_id":126576619,"body_markdown":"Thanks a lot, @spencergibb  I made the suggested change in my question, but I still have the problem &quot;Could not find artifact org.springframework.cloud:spring-cloud-dependencies:pom:3.1.0 in central (https://repo.maven.apache.org/maven2)&quot;.\n\nSorry if I forgot something, it&#39;s my first time using stackoverflow to ask questions, I think it&#39;s strange that I have this problem, because the dependency is suggested in the official spring-cloud-consul documentation, so I think I may have misunderstood the process of configuring it.","body":"Thanks a lot, @spencergibb  I made the suggested change in my question, but I still have the problem &quot;Could not find artifact org.springframework.cloud:spring-cloud-dependencies:pom:3.1.&zwnj;&#8203;0 in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>)&quot;.  Sorry if I forgot something, it&#39;s my first time using stackoverflow to ask questions, I think it&#39;s strange that I have this problem, because the dependency is suggested in the official spring-cloud-consul documentation, so I think I may have misunderstood the process of configuring it."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1648308115,"post_id":71611727,"comment_id":126593655,"body_markdown":"Spring cloud bom doesn&#39;t have a 3.x.y version, it&#39;s 2021.0.1. Look at start.spring.io","body":"Spring cloud bom doesn&#39;t have a 3.x.y version, it&#39;s 2021.0.1. Look at start.spring.io"}],"owner":{"account_id":19269449,"reputation":1,"user_id":14083701,"display_name":"Wildrimak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648219937,"creation_date":1648177684,"question_id":71611727,"body_markdown":"I am following the [spring cloud consul documentation](https://docs.spring.io/spring-cloud-consul/docs/current/reference/html) on version 3.1.0 and I was trying to replicate the step by step documentation, in which it shows this set of dependencies to be applied, one of them is this spring-cloud-starter-consul-discovery, but it always appears that it does not exist, what am I doing wrong, I forgot to configure something in pom?\r\n\r\nMy pom.xml:\r\n\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;br.com.wildrimak&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;my-consul-tests&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;my-consul-tests&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;3.1.0&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI hope I can configure the consul following the documentation","title":"Dependency &#39;org.springframework.cloud:spring-cloud-starter-consul-discovery:&#39; not found","body":"<p>I am following the <a href=\"https://docs.spring.io/spring-cloud-consul/docs/current/reference/html\" rel=\"nofollow noreferrer\">spring cloud consul documentation</a> on version 3.1.0 and I was trying to replicate the step by step documentation, in which it shows this set of dependencies to be applied, one of them is this spring-cloud-starter-consul-discovery, but it always appears that it does not exist, what am I doing wrong, I forgot to configure something in pom?</p>\n<p>My pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;br.com.wildrimak&lt;/groupId&gt;\n    &lt;artifactId&gt;my-consul-tests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-consul-tests&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;3.1.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I hope I can configure the consul following the documentation</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1646994734,"post_id":71417056,"comment_id":126266509,"body_markdown":"There is nothing obviously wrong with the code you posted. Do you have a reproducer on GitHub to have a closer look?","body":"There is nothing obviously wrong with the code you posted. Do you have a reproducer on GitHub to have a closer look?"},{"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"score":0,"creation_date":1647040167,"post_id":71417056,"comment_id":126281328,"body_markdown":"How do `User` and `Credentials` classes look like?","body":"How do <code>User</code> and <code>Credentials</code> classes look like?"},{"owner":{"account_id":19002834,"reputation":793,"user_id":13870033,"display_name":"Finley Adams"},"score":0,"creation_date":1648169297,"post_id":71417056,"comment_id":126563001,"body_markdown":"@WimDeblauwe I&#39;m a little late sorry, this is GitHub link to my repo (model section) : https://github.com/fede-da/ProgettoSiw/tree/master/src/main/java/it/uniroma3/siw/ProgettoSIW/model \nI think there is something broken with controllers because I think that POST controller on registration page is ignored .","body":"@WimDeblauwe I&#39;m a little late sorry, this is GitHub link to my repo (model section) : <a href=\"https://github.com/fede-da/ProgettoSiw/tree/master/src/main/java/it/uniroma3/siw/ProgettoSIW/model\" rel=\"nofollow noreferrer\">github.com/fede-da/ProgettoSiw/tree/master/src/main/java/it/&zwnj;&#8203;&hellip;</a>  I think there is something broken with controllers because I think that POST controller on registration page is ignored ."},{"owner":{"account_id":19002834,"reputation":793,"user_id":13870033,"display_name":"Finley Adams"},"score":0,"creation_date":1648169326,"post_id":71417056,"comment_id":126563008,"body_markdown":"@JakubCh. read my previous comment please","body":"@JakubCh. read my previous comment please"},{"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"score":0,"creation_date":1648218773,"post_id":71417056,"comment_id":126576015,"body_markdown":"@FinleyAdams I posted my answer. Please accept if it solves your issue. Also please edit your question with an additional snippet of `AuthConfiguration` - as this would add more context to the problem for future readers.","body":"@FinleyAdams I posted my answer. Please accept if it solves your issue. Also please edit your question with an additional snippet of <code>AuthConfiguration</code> - as this would add more context to the problem for future readers."}],"answers":[{"tags":[],"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648218640,"creation_date":1648218640,"answer_id":71618631,"question_id":71417056,"body_markdown":"After looking at github repo: you need to create your controllers with regard to auth filters configured in `AuthConfiguration`. Only a few paths are allowed to be accessed by an unauthorized user i.a. `/register` and `/login`.\r\n\r\nSince `/process_register` is not whitelisted, then the POST request doesn&#39;t reach the controller. It is caugth by the filter and redirected to login page instead.\r\n\r\nTo fix the issue you can for instance do these:\r\n\r\n- Change `@PostMapping(&quot;/process_register&quot;)` to `@PostMapping(&quot;/register&quot;)` in your controller.\r\n- Change `th:action=&quot;@{/process_register}&quot;` to `th:action=&quot;@{/register}&quot;` in your template. \r\n\r\n\r\nAfter it&#39;s done the registration form should work.\r\n\r\n**By the way:**\r\n\r\nYou should not use `th:field` like this. It is supposed to be used together with form backing bean (`th:object`) - please refer to [the documentation](https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#creating-a-form).\r\n","title":"After registration page user isn&#39;t saved on DB Springboot","body":"<p>After looking at github repo: you need to create your controllers with regard to auth filters configured in <code>AuthConfiguration</code>. Only a few paths are allowed to be accessed by an unauthorized user i.a. <code>/register</code> and <code>/login</code>.</p>\n<p>Since <code>/process_register</code> is not whitelisted, then the POST request doesn't reach the controller. It is caugth by the filter and redirected to login page instead.</p>\n<p>To fix the issue you can for instance do these:</p>\n<ul>\n<li>Change <code>@PostMapping(&quot;/process_register&quot;)</code> to <code>@PostMapping(&quot;/register&quot;)</code> in your controller.</li>\n<li>Change <code>th:action=&quot;@{/process_register}&quot;</code> to <code>th:action=&quot;@{/register}&quot;</code> in your template.</li>\n</ul>\n<p>After it's done the registration form should work.</p>\n<p><strong>By the way:</strong></p>\n<p>You should not use <code>th:field</code> like this. It is supposed to be used together with form backing bean (<code>th:object</code>) - please refer to <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#creating-a-form\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}],"owner":{"account_id":19002834,"reputation":793,"user_id":13870033,"display_name":"Finley Adams"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71618631,"answer_count":1,"score":0,"last_activity_date":1648219917,"creation_date":1646867554,"question_id":71417056,"body_markdown":"I just want to register a user on my web site using `springboot` and `thymeleaf`, the problem is that when user clicks on &quot;submit&quot;, after filled the registration form to save its credentials, well this operation isn&#39;t done and I land on `login` page.\r\nI&#39;m sure registration isn&#39;t completed because when I try to login it is unsuccessful and both &quot;credentials&quot; and &quot;user&quot; tables are empty.\r\n\r\nThis is the registration form, I&#39;m saving &quot;user&quot; and &quot;credentials&quot; two different entities :\r\n\r\n    &lt;form th:action=&quot;@{/process_register}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;label for=&quot;username&quot;&gt;Email:&lt;/label&gt;\r\n                    &lt;input type=&quot;email&quot; name=&quot;username&quot; id=&quot;username&quot;  required th:field=&quot;${credentials.username}&quot;/&gt;\r\n                    \r\n    \r\n                    &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n                    &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; required th:field=&quot;${credentials.password}&quot;/&gt;\r\n                    \r\n                    &lt;label for=&quot;name&quot;&gt;Nome:&lt;/label&gt;\r\n                    &lt;input type=&quot;name&quot; name=&quot;name&quot; id=&quot;name&quot; th:field=&quot;${user.name}&quot; required /&gt;\r\n                 \r\n    \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\r\n                    &lt;a th:href=&quot;@{/login}&quot; href=&quot;login.html&quot; &gt; or login&lt;/a&gt;\r\n                &lt;/form&gt;\r\n\r\nThis is `/process_register` controller :\r\n\r\n    @PostMapping(&quot;/process_register&quot;)\r\n    \tpublic String processRegister(@ModelAttribute(&quot;credentials&quot;)Credentials credentials,@ModelAttribute(&quot;user&quot;) User user) {\r\n    \t\tcredentials.setUser(user);\r\n    \t\tcredentialService.saveCredentials(credentials);\r\n    \t\tSystem.out.println(&quot;Ho invocato saveCredentials&quot;);\r\n    \t    return &quot;login&quot;;\r\n    \t}\r\n\r\n`saveCredentials()` method :\r\n\r\n\r\n    @Transactional\r\n        public Credentials saveCredentials(Credentials credentials) {\r\n            credentials.setPassword(this.passwordEncoder.encode(credentials.getPassword()));\r\n            return this.credentialsRepository.save(credentials);\r\n        }\r\n\r\nwhere `credentialsRepository extends CrudRepository`.\r\n\r\nEDIT : \r\nAuthConfiguration :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class AuthConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        DataSource datasource;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    // authorization paragraph: qui definiamo chi pu&#242; accedere a cosa\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.GET, &quot;/&quot;,\r\n                            &quot;/index&quot;,\r\n                            &quot;/login&quot;,\r\n                            &quot;/collection/*&quot;,\r\n                            &quot;/collections&quot;,\r\n                            &quot;/NFTS&quot;,\r\n                            &quot;/signup_form&quot;,\r\n                            &quot;/register&quot;,\r\n                            &quot;/css/**&quot;, \r\n                            &quot;zzz&quot;,\r\n                            &quot;/images/**&quot;).permitAll()\r\n                    .antMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                        .antMatchers(HttpMethod.GET, &quot;/admin/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                    .antMatchers(HttpMethod.POST, &quot;/admin/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .anyRequest().authenticated()\r\n                    .and().formLogin()\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/default&quot;)\r\n                        .and().logout()\r\n                        .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n        \r\n                    .logoutSuccessUrl(&quot;/index&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(true).permitAll();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.jdbcAuthentication()\r\n                    //use the autowired datasource to access the saved credentials\r\n                    .dataSource(this.datasource)\r\n                    //retrieve username and role\r\n                    .authoritiesByUsernameQuery(&quot;SELECT username, role FROM credentials WHERE username=?&quot;)\r\n                    //retrieve username, password and a boolean flag specifying whether the user is enabled or not (always enabled in our case)\r\n                    .usersByUsernameQuery(&quot;SELECT username, password, 1 as enabled FROM credentials WHERE username=?&quot;);\r\n    \r\n            /*auth.inMemoryAuthentication()\r\n                    .withUser(&quot;user1&quot;).password(passwordEncoder().encode(&quot;user1&quot;)).roles(&quot;USER&quot;)\r\n                    .and()\r\n                    .withUser(&quot;user2&quot;).password(passwordEncoder().encode(&quot;user2&quot;)).roles(&quot;USER&quot;)\r\n                    .and()\r\n                    .withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN_ROLE&quot;);*/\r\n        }\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\n","title":"After registration page user isn&#39;t saved on DB Springboot","body":"<p>I just want to register a user on my web site using <code>springboot</code> and <code>thymeleaf</code>, the problem is that when user clicks on &quot;submit&quot;, after filled the registration form to save its credentials, well this operation isn't done and I land on <code>login</code> page.\nI'm sure registration isn't completed because when I try to login it is unsuccessful and both &quot;credentials&quot; and &quot;user&quot; tables are empty.</p>\n<p>This is the registration form, I'm saving &quot;user&quot; and &quot;credentials&quot; two different entities :</p>\n<pre><code>&lt;form th:action=&quot;@{/process_register}&quot; method=&quot;post&quot;&gt;\n                &lt;label for=&quot;username&quot;&gt;Email:&lt;/label&gt;\n                &lt;input type=&quot;email&quot; name=&quot;username&quot; id=&quot;username&quot;  required th:field=&quot;${credentials.username}&quot;/&gt;\n                \n\n                &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n                &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; required th:field=&quot;${credentials.password}&quot;/&gt;\n                \n                &lt;label for=&quot;name&quot;&gt;Nome:&lt;/label&gt;\n                &lt;input type=&quot;name&quot; name=&quot;name&quot; id=&quot;name&quot; th:field=&quot;${user.name}&quot; required /&gt;\n             \n\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Register&lt;/button&gt;\n                &lt;a th:href=&quot;@{/login}&quot; href=&quot;login.html&quot; &gt; or login&lt;/a&gt;\n            &lt;/form&gt;\n</code></pre>\n<p>This is <code>/process_register</code> controller :</p>\n<pre><code>@PostMapping(&quot;/process_register&quot;)\n    public String processRegister(@ModelAttribute(&quot;credentials&quot;)Credentials credentials,@ModelAttribute(&quot;user&quot;) User user) {\n        credentials.setUser(user);\n        credentialService.saveCredentials(credentials);\n        System.out.println(&quot;Ho invocato saveCredentials&quot;);\n        return &quot;login&quot;;\n    }\n</code></pre>\n<p><code>saveCredentials()</code> method :</p>\n<pre><code>@Transactional\n    public Credentials saveCredentials(Credentials credentials) {\n        credentials.setPassword(this.passwordEncoder.encode(credentials.getPassword()));\n        return this.credentialsRepository.save(credentials);\n    }\n</code></pre>\n<p>where <code>credentialsRepository extends CrudRepository</code>.</p>\n<p>EDIT :\nAuthConfiguration :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AuthConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    DataSource datasource;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                // authorization paragraph: qui definiamo chi può accedere a cosa\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/&quot;,\n                        &quot;/index&quot;,\n                        &quot;/login&quot;,\n                        &quot;/collection/*&quot;,\n                        &quot;/collections&quot;,\n                        &quot;/NFTS&quot;,\n                        &quot;/signup_form&quot;,\n                        &quot;/register&quot;,\n                        &quot;/css/**&quot;, \n                        &quot;zzz&quot;,\n                        &quot;/images/**&quot;).permitAll()\n                .antMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\n                    .antMatchers(HttpMethod.GET, &quot;/admin/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                .antMatchers(HttpMethod.POST, &quot;/admin/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                    .anyRequest().authenticated()\n                .and().formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/default&quot;)\n                    .and().logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n    \n                .logoutSuccessUrl(&quot;/index&quot;)\n                .invalidateHttpSession(true)\n                .clearAuthentication(true).permitAll();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication()\n                //use the autowired datasource to access the saved credentials\n                .dataSource(this.datasource)\n                //retrieve username and role\n                .authoritiesByUsernameQuery(&quot;SELECT username, role FROM credentials WHERE username=?&quot;)\n                //retrieve username, password and a boolean flag specifying whether the user is enabled or not (always enabled in our case)\n                .usersByUsernameQuery(&quot;SELECT username, password, 1 as enabled FROM credentials WHERE username=?&quot;);\n\n        /*auth.inMemoryAuthentication()\n                .withUser(&quot;user1&quot;).password(passwordEncoder().encode(&quot;user1&quot;)).roles(&quot;USER&quot;)\n                .and()\n                .withUser(&quot;user2&quot;).password(passwordEncoder().encode(&quot;user2&quot;)).roles(&quot;USER&quot;)\n                .and()\n                .withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN_ROLE&quot;);*/\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","sprite"],"answers":[{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648218627,"creation_date":1648218627,"answer_id":71618629,"question_id":71618366,"body_markdown":"From the `AGameFigures` constructor:\r\n\r\n    public AGameFigures(){\r\n        this.hitbox = hitbox;\r\n        ... \r\n    }\r\n\r\nThere are no arguments passed to the constructor, so `hitbox` refers to the class instance field, which is null.  This line of code from the constructor:\r\n\r\n    this.hitbox = hitbox;\r\n\r\nis effectively:\r\n\r\n    this.hitbox = null;\r\n\r\nSo later on a null ponter is encountered.  The constructor needs to be updated to pass the arguments:\r\n\r\n    public AGameFigures(Rectangle hitbox, ...){\r\n        this.hitbox = hitbox;\r\n        ... \r\n    }\r\n\r\nand the sub-classes will need to provide the constructor argument values.\r\n\r\n`GamePlayer` defines its own `hitbox` which is probably causing some confusion.  `hitbox` should be removed from `GamePlayer`, and just rely on the base class.\r\n\r\nCheck the compiler warnings, and do not (usually) ignore them!","title":"How can my class which extends an abstract class use its own variables?","body":"<p>From the <code>AGameFigures</code> constructor:</p>\n<pre><code>public AGameFigures(){\n    this.hitbox = hitbox;\n    ... \n}\n</code></pre>\n<p>There are no arguments passed to the constructor, so <code>hitbox</code> refers to the class instance field, which is null.  This line of code from the constructor:</p>\n<pre><code>this.hitbox = hitbox;\n</code></pre>\n<p>is effectively:</p>\n<pre><code>this.hitbox = null;\n</code></pre>\n<p>So later on a null ponter is encountered.  The constructor needs to be updated to pass the arguments:</p>\n<pre><code>public AGameFigures(Rectangle hitbox, ...){\n    this.hitbox = hitbox;\n    ... \n}\n</code></pre>\n<p>and the sub-classes will need to provide the constructor argument values.</p>\n<p><code>GamePlayer</code> defines its own <code>hitbox</code> which is probably causing some confusion.  <code>hitbox</code> should be removed from <code>GamePlayer</code>, and just rely on the base class.</p>\n<p>Check the compiler warnings, and do not (usually) ignore them!</p>\n"},{"tags":[],"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648218944,"creation_date":1648218944,"answer_id":71618701,"question_id":71618366,"body_markdown":"why you diclare the sames filed in superclass  and subclass ","title":"How can my class which extends an abstract class use its own variables?","body":"<p>why you diclare the sames filed in superclass  and subclass</p>\n"},{"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648219718,"creation_date":1648219718,"answer_id":71618888,"question_id":71618366,"body_markdown":"I think that your issue is in the constructor of the abstract class.\r\nThe variables will always be null.\r\n\r\nYou need to provide params in the constructor:\r\n```\r\npublic AGameFigures(Hitbox hitbox, int action, ICollision collision, float tileHeight, float tileWidth, float spriteHeight, float spriteWith, float velocityY){\r\n    this.hitbox = hitbox;\r\n    this.action = action;\r\n    this.collision = collision;\r\n    this.tileHeight = tileHeight;\r\n    this.tileWidth =tileWidth;\r\n    this.spriteHeight = spriteHeight;\r\n    this.spriteWidth = spriteWidth;\r\n    this.velocityY = 0;\r\n}\r\n```\r\n\r\nAnd, you don&#39;t need to repeat the variables which are inherited.","title":"How can my class which extends an abstract class use its own variables?","body":"<p>I think that your issue is in the constructor of the abstract class.\nThe variables will always be null.</p>\n<p>You need to provide params in the constructor:</p>\n<pre><code>public AGameFigures(Hitbox hitbox, int action, ICollision collision, float tileHeight, float tileWidth, float spriteHeight, float spriteWith, float velocityY){\n    this.hitbox = hitbox;\n    this.action = action;\n    this.collision = collision;\n    this.tileHeight = tileHeight;\n    this.tileWidth =tileWidth;\n    this.spriteHeight = spriteHeight;\n    this.spriteWidth = spriteWidth;\n    this.velocityY = 0;\n}\n</code></pre>\n<p>And, you don't need to repeat the variables which are inherited.</p>\n"}],"owner":{"account_id":19543764,"reputation":149,"user_id":14301045,"display_name":"Anders Stene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648219718,"creation_date":1648217654,"question_id":71618366,"body_markdown":"I have two classes which uses several equal methods, so I thought I could use an abstract class instead of an interface to allow the abstract class to have method bodies, and reduce duplication of code in the other classes.\r\nBut I get an error saying x is &quot;null&quot; when running my main function, and I believe that is because it uses the empty variable from the abstract class. But for my method in the abstract class I need to declare the variables the methods uses, so how do I get it to use the variables from my subclass? Specifically, the error is in `AGameFigures setPosition()` for `bottom.x = x;`\r\n\r\nHere is my code:\r\n\r\n    abstract class AGameFigures {\r\n    public Rectangle hitbox;\r\n    int action;\r\n    ICollision collision;\r\n    float tileHeight, tileWidth;\r\n    float spriteHeight, spriteWidth;\r\n    float velocityY;\r\n\r\n    public AGameFigures(){\r\n        this.hitbox = hitbox;\r\n        this.action = action;\r\n        this.collision = collision;\r\n        this.tileHeight = tileHeight;\r\n        this.tileWidth =tileWidth;\r\n        this.spriteHeight = spriteHeight;\r\n        this.spriteWidth = spriteWidth;\r\n        this.velocityY = 0;\r\n    }\r\n   \r\n    public void update(float delta) {\r\n        float oldY = hitbox.y;\r\n        hitbox.y += velocityY;\r\n        velocityY -= (25 * delta);\r\n\r\n        boolean collisionDown = false;\r\n        boolean collisionUpwards = false;\r\n\r\n        if(velocityY &lt; 0) {\r\n            collisionDown = collision.collidesDownwards(hitbox.x, hitbox.y);\r\n        } else if(velocityY &gt; 0) {\r\n            collisionUpwards = collision.collidesUpwards(hitbox.x, hitbox.y);\r\n        }\r\n        if(collisionDown) {\r\n            hitbox.y = (int) (oldY / tileHeight) * tileHeight;\r\n            velocityY = 0;\r\n        }\r\n        if(collisionUpwards) {\r\n            hitbox.y = (int) ((hitbox.y+spriteHeight/2) / tileHeight) * tileHeight;\r\n            if(velocityY &gt; 0)\r\n                velocityY = 0;\r\n            velocityY -= (25 * delta);\r\n        }\r\n    }\r\n    public void setPosition(float x, float y) {\r\n        hitbox.x = x;\r\n        hitbox.y = y;\r\n    }\r\n\r\n    abstract void moveLeft(float delta);\r\n\r\n    abstract void moveRight(float delta);\r\n\r\n    public void setVelocityY(float newVelY) {\r\n        velocityY = newVelY;\r\n    }\r\n    public void jump() {\r\n        if (velocityY == 0)\r\n            velocityY = 7;\r\n\r\n    }\r\n    public int hits(Rectangle r) {\r\n        if(hitbox.overlaps(r))\r\n            return 1;\r\n        return -1;\r\n    }\r\n}\r\n\r\n\r\n    public class GamePlayer extends AGameFigures{\r\n\r\n\tpublic Rectangle hitbox;\r\n    int action;\r\n    float tileHeight, tileWidth;\r\n    float spriteHeight, spriteWidth;\r\n    ICollision collision;\r\n    float velocityY;\r\n    \r\n   \r\n    public GamePlayer(float spriteHeight, float spriteWidth, ICollision collision) {\r\n        hitbox = new Rectangle(0.0f, 0.0f, 128.0f, 128.0f);\r\n        velocityY = 0;\r\n        hitbox.x = 0; hitbox.y = 0;\r\n        tileWidth = collision.getTileWidth(); tileHeight = collision.getTileHeight();\r\n        this.spriteHeight = spriteHeight; this.spriteWidth = spriteWidth;\r\n        this.collision = collision;\r\n    }\r\n    \r\n    public void action(int type, float x, float y) {\r\n        if(type == 1) {\r\n            velocityY = 0;\r\n            setPosition(hitbox.x, y);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void moveLeft(float delta) {\r\n        hitbox.x -= (200 * delta);\t// delta == &quot;change of time&quot; &quot;for fluid change om motion&quot;\r\n    \tif(collision.collidesLeftwards(hitbox.x, hitbox.y)) {\r\n    \t\thitbox.x = (int) (hitbox.x / tileWidth) * tileWidth + spriteWidth;\r\n    \t}\r\n    }\r\n    @Override\r\n    public void moveRight(float delta) {\r\n        hitbox.x += (200 * delta);\t// (value) * delta, endre value for &#229; endre movementspeed\r\n    \tif(collision.collidesRightwards(hitbox.x, hitbox.y)) {\r\n    \t\thitbox.x = (int) (hitbox.x / tileWidth) * tileWidth;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n   \r\n\r\n","title":"How can my class which extends an abstract class use its own variables?","body":"<p>I have two classes which uses several equal methods, so I thought I could use an abstract class instead of an interface to allow the abstract class to have method bodies, and reduce duplication of code in the other classes.\nBut I get an error saying x is &quot;null&quot; when running my main function, and I believe that is because it uses the empty variable from the abstract class. But for my method in the abstract class I need to declare the variables the methods uses, so how do I get it to use the variables from my subclass? Specifically, the error is in <code>AGameFigures setPosition()</code> for <code>bottom.x = x;</code></p>\n<p>Here is my code:</p>\n<pre><code>abstract class AGameFigures {\npublic Rectangle hitbox;\nint action;\nICollision collision;\nfloat tileHeight, tileWidth;\nfloat spriteHeight, spriteWidth;\nfloat velocityY;\n\npublic AGameFigures(){\n    this.hitbox = hitbox;\n    this.action = action;\n    this.collision = collision;\n    this.tileHeight = tileHeight;\n    this.tileWidth =tileWidth;\n    this.spriteHeight = spriteHeight;\n    this.spriteWidth = spriteWidth;\n    this.velocityY = 0;\n}\n\npublic void update(float delta) {\n    float oldY = hitbox.y;\n    hitbox.y += velocityY;\n    velocityY -= (25 * delta);\n\n    boolean collisionDown = false;\n    boolean collisionUpwards = false;\n\n    if(velocityY &lt; 0) {\n        collisionDown = collision.collidesDownwards(hitbox.x, hitbox.y);\n    } else if(velocityY &gt; 0) {\n        collisionUpwards = collision.collidesUpwards(hitbox.x, hitbox.y);\n    }\n    if(collisionDown) {\n        hitbox.y = (int) (oldY / tileHeight) * tileHeight;\n        velocityY = 0;\n    }\n    if(collisionUpwards) {\n        hitbox.y = (int) ((hitbox.y+spriteHeight/2) / tileHeight) * tileHeight;\n        if(velocityY &gt; 0)\n            velocityY = 0;\n        velocityY -= (25 * delta);\n    }\n}\npublic void setPosition(float x, float y) {\n    hitbox.x = x;\n    hitbox.y = y;\n}\n\nabstract void moveLeft(float delta);\n\nabstract void moveRight(float delta);\n\npublic void setVelocityY(float newVelY) {\n    velocityY = newVelY;\n}\npublic void jump() {\n    if (velocityY == 0)\n        velocityY = 7;\n\n}\npublic int hits(Rectangle r) {\n    if(hitbox.overlaps(r))\n        return 1;\n    return -1;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class GamePlayer extends AGameFigures{\n\npublic Rectangle hitbox;\nint action;\nfloat tileHeight, tileWidth;\nfloat spriteHeight, spriteWidth;\nICollision collision;\nfloat velocityY;\n\n\npublic GamePlayer(float spriteHeight, float spriteWidth, ICollision collision) {\n    hitbox = new Rectangle(0.0f, 0.0f, 128.0f, 128.0f);\n    velocityY = 0;\n    hitbox.x = 0; hitbox.y = 0;\n    tileWidth = collision.getTileWidth(); tileHeight = collision.getTileHeight();\n    this.spriteHeight = spriteHeight; this.spriteWidth = spriteWidth;\n    this.collision = collision;\n}\n\npublic void action(int type, float x, float y) {\n    if(type == 1) {\n        velocityY = 0;\n        setPosition(hitbox.x, y);\n    }\n}\n\n@Override\npublic void moveLeft(float delta) {\n    hitbox.x -= (200 * delta);  // delta == &quot;change of time&quot; &quot;for fluid change om motion&quot;\n    if(collision.collidesLeftwards(hitbox.x, hitbox.y)) {\n        hitbox.x = (int) (hitbox.x / tileWidth) * tileWidth + spriteWidth;\n    }\n}\n@Override\npublic void moveRight(float delta) {\n    hitbox.x += (200 * delta);  // (value) * delta, endre value for å endre movementspeed\n    if(collision.collidesRightwards(hitbox.x, hitbox.y)) {\n        hitbox.x = (int) (hitbox.x / tileWidth) * tileWidth;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":18868474,"reputation":1304,"user_id":13763683,"display_name":"Raida"},"score":0,"creation_date":1648218832,"post_id":71618599,"comment_id":126576050,"body_markdown":"Hi, I think you can try to create a Todo app (there are lots of tutorials for this on the internet) and then adapt it to your problem.","body":"Hi, I think you can try to create a Todo app (there are lots of tutorials for this on the internet) and then adapt it to your problem."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648219434,"post_id":71618599,"comment_id":126576316,"body_markdown":"Well then, by all means, ask such a question.","body":"Well then, by all means, ask such a question."}],"owner":{"account_id":24553634,"reputation":11,"user_id":18462522,"display_name":"Jeremiah Maiztegui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648218517,"creation_date":1648218517,"question_id":71618599,"body_markdown":"I want to ask a question on how to make a list in android studio? what I want to do is to get the input in the plain text and list it somewhere (can be stacked) and then if I click certain button, the summary of all input will be placed and the price will be added altogether in the  end. I am new to android studio and I really wanna learn. Thank you for helping me.","title":"Getting the result from plain text then create summary in android studio","body":"<p>I want to ask a question on how to make a list in android studio? what I want to do is to get the input in the plain text and list it somewhere (can be stacked) and then if I click certain button, the summary of all input will be placed and the price will be added altogether in the  end. I am new to android studio and I really wanna learn. Thank you for helping me.</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":24686205,"reputation":19,"user_id":18579362,"display_name":"Abhijeet Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648218328,"creation_date":1648218328,"answer_id":71618557,"question_id":71617941,"body_markdown":"Changing the dependency to \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.26.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsolves this issue. azure docs had given 1.13.0 in docs.","title":"TokenCredentialTrait not found even when used","body":"<p>Changing the dependency to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n    &lt;version&gt;1.26.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>solves this issue. azure docs had given 1.13.0 in docs.</p>\n"}],"owner":{"account_id":24686205,"reputation":19,"user_id":18579362,"display_name":"Abhijeet Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648218328,"creation_date":1648215777,"question_id":71617941,"body_markdown":"I have proper credentials below in the connection String, even after giving the proper connection string does not work. Even though I use the credential variable or not it throws this exception.\r\n\r\n    public static void main(String[] args) {\r\n        startReciever();\r\n        TokenCredential credential = new DefaultAzureCredentialBuilder()\r\n                .build();\r\n        ServiceBusSenderClient sender = new ServiceBusClientBuilder()\r\n                .credential(CONNECTION_STRING, credential)\r\n                .sender()\r\n                .queueName(SIMPLE)\r\n                .buildClient();\r\n        List&lt;ServiceBusMessage&gt; messages = Arrays.asList(\r\n                new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\r\n                new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\r\n        sender.sendMessages(messages);\r\n        sender.close();\r\n    }\r\n\r\n    private static void startReciever() {\r\n        TokenCredential credential = new DefaultAzureCredentialBuilder()\r\n                .build();\r\n        ServiceBusReceiverAsyncClient receiver = new ServiceBusClientBuilder()\r\n                .credential(CONNECTION_STRING, credential)\r\n                .receiver()\r\n                .queueName(SIMPLE)\r\n                .buildAsyncClient();\r\n        Flux&lt;ServiceBusReceivedMessage&gt; serviceBusReceivedMessageFlux = receiver.receiveMessages();\r\n        Disposable subscription = serviceBusReceivedMessageFlux.subscribe(message -&gt; {\r\n            System.out.printf(&quot;Received Seq #: %s%n&quot;, message.getSequenceNumber());\r\n            System.out.printf(&quot;Contents of message as string: %s%n&quot;, message.getBody());\r\n        });\r\n        subscription.dispose();\r\n        receiver.close();\r\n    }\r\n\r\nDependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\r\n            &lt;version&gt;7.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.azure/azure-identity --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nError is \r\n\r\n    java: cannot access com.azure.core.client.traits.TokenCredentialTrait\r\n    class file for com.azure.core.client.traits.TokenCredentialTrait not found","title":"TokenCredentialTrait not found even when used","body":"<p>I have proper credentials below in the connection String, even after giving the proper connection string does not work. Even though I use the credential variable or not it throws this exception.</p>\n<pre><code>public static void main(String[] args) {\n    startReciever();\n    TokenCredential credential = new DefaultAzureCredentialBuilder()\n            .build();\n    ServiceBusSenderClient sender = new ServiceBusClientBuilder()\n            .credential(CONNECTION_STRING, credential)\n            .sender()\n            .queueName(SIMPLE)\n            .buildClient();\n    List&lt;ServiceBusMessage&gt; messages = Arrays.asList(\n            new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\n            new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\n    sender.sendMessages(messages);\n    sender.close();\n}\n\nprivate static void startReciever() {\n    TokenCredential credential = new DefaultAzureCredentialBuilder()\n            .build();\n    ServiceBusReceiverAsyncClient receiver = new ServiceBusClientBuilder()\n            .credential(CONNECTION_STRING, credential)\n            .receiver()\n            .queueName(SIMPLE)\n            .buildAsyncClient();\n    Flux&lt;ServiceBusReceivedMessage&gt; serviceBusReceivedMessageFlux = receiver.receiveMessages();\n    Disposable subscription = serviceBusReceivedMessageFlux.subscribe(message -&gt; {\n        System.out.printf(&quot;Received Seq #: %s%n&quot;, message.getSequenceNumber());\n        System.out.printf(&quot;Contents of message as string: %s%n&quot;, message.getBody());\n    });\n    subscription.dispose();\n    receiver.close();\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n        &lt;version&gt;1.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;7.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.azure/azure-identity --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;version&gt;1.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>Error is</p>\n<pre><code>java: cannot access com.azure.core.client.traits.TokenCredentialTrait\nclass file for com.azure.core.client.traits.TokenCredentialTrait not found\n</code></pre>\n"},{"tags":["java","for-loop","heap"],"answers":[{"tags":[],"owner":{"account_id":24642726,"reputation":224,"user_id":18540738,"display_name":"free bug coding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648197084,"creation_date":1648197084,"answer_id":71614047,"question_id":71613910,"body_markdown":"the constructor of a class should have the same name as the class `HeapSort`.\r\n\r\nchange `HeapSort_Manita` =&gt; `HeapSort`","title":"Why isn&#39;t my insertion method for inserting into a min_heap not working?","body":"<p>the constructor of a class should have the same name as the class <code>HeapSort</code>.</p>\n<p>change <code>HeapSort_Manita</code> =&gt; <code>HeapSort</code></p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648218068,"creation_date":1648218068,"answer_id":71618477,"question_id":71613910,"body_markdown":"The problem is with the `min_heap` variable. It is initialised at a moment when the class is loaded and the `numbers` array is still empty:\r\n\r\n    HeapSort min_heap = new HeapSort((numbers.size() + 1));\r\n\r\nThis means it has no capacity to insert the numbers that the user will later enter.\r\n\r\nYou should move this declaration (or at least the initialisation) to the part where the `numbers` array has already been loaded:\r\n\r\n        userInput();\r\n        printUserInput();\r\n\r\n        HeapSort min_heap = new HeapSort((numbers.size() + 1));  // &lt;---\r\n\r\n        for (int i = 0; i &lt; numbers.size(); i++){\r\n            min_heap.insert(numbers.get(i));\r\n        }\r\n\r\n\r\n","title":"Why isn&#39;t my insertion method for inserting into a min_heap not working?","body":"<p>The problem is with the <code>min_heap</code> variable. It is initialised at a moment when the class is loaded and the <code>numbers</code> array is still empty:</p>\n<pre><code>HeapSort min_heap = new HeapSort((numbers.size() + 1));\n</code></pre>\n<p>This means it has no capacity to insert the numbers that the user will later enter.</p>\n<p>You should move this declaration (or at least the initialisation) to the part where the <code>numbers</code> array has already been loaded:</p>\n<pre><code>    userInput();\n    printUserInput();\n\n    HeapSort min_heap = new HeapSort((numbers.size() + 1));  // &lt;---\n\n    for (int i = 0; i &lt; numbers.size(); i++){\n        min_heap.insert(numbers.get(i));\n    }\n</code></pre>\n"}],"owner":{"account_id":22818817,"reputation":11,"user_id":16969006,"display_name":"joker5309"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648218068,"creation_date":1648196324,"question_id":71613910,"body_markdown":"I am writing a program that will take positive integers as inputs from the user, save it into an arrayList , insert them into a min heap and then will print the heap. I have been able to take in input from the user, save it into an arrayList, but while debugging I realized that my call to the insertion method isn&#39;t really working, i.e., it isn&#39;t really creating the heap. I do not really know what I am doing wrong. Previously I used the similar code to create a min heap in a non-object oriented java program, so I wonder I have to modify any of the methods or anything like that since I am using multiple classes now. \r\nMy code for the main class:\r\n\r\n    public class LabHeapSort {\r\n        //main method will only call user interface\r\n        public static void main(String[] arg){\r\n            \r\n            UserInterface userInterface = new UserInterface();\r\n            userInterface.PrintMenu();\r\n        }\r\n        \r\n\r\n    }\r\n\r\nMy code for the HeapSort class:\r\n\r\n    public class HeapSort {\r\n        \r\n        //UserInterface userInterface = new UserInterface();\r\n        \r\n        //Java Implementation of Min Heap\r\n        public int[] MinHeap;\r\n        public int size;\r\n        private int maxSize; \r\n        \r\n        private static final int HEAD = 1;\r\n        public HeapSort(int maxSize){\r\n            this.maxSize = maxSize;\r\n            this.size = 0;\r\n            MinHeap = new int[this.maxSize + 1];\r\n            MinHeap[0] = Integer.MIN_VALUE;\r\n        }\r\n        \r\n        //Function to return the position of the parent \r\n        //for the node currently at pos\r\n        private int parent(int pos){\r\n            return pos/2;\r\n        }\r\n        \r\n        //Function to return the position of the left Child\r\n        //for the node currently at pos\r\n        private int leftChild(int pos){\r\n            return (2 * pos);\r\n        }\r\n        \r\n        //Function to return the position of the right Child\r\n        //for the node currently at pos\r\n        private int rightChild(int pos){\r\n            return (2 * pos) + 1;\r\n        }\r\n        \r\n        //function that returns true if the passed node is a leaf node\r\n        \r\n        private boolean isLeaf(int pos){\r\n            if (pos &gt;= (size / 2) &amp;&amp; pos &lt;= size ){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        \r\n        //function to swap two nodes of the Heap\r\n        private void swap(int fpos, int spos){\r\n            int tmp;\r\n            tmp = MinHeap[fpos];\r\n            MinHeap[fpos] = MinHeap[spos];\r\n            MinHeap[spos] = tmp;\r\n        }\r\n        \r\n        //funtion to heapify node at pos\r\n        private void minHeapify(int pos){\r\n            \r\n            //if the leaf is a non-leaf node and greater\r\n            //than any of its child\r\n            if(!isLeaf(pos)){\r\n                if (MinHeap[pos] &gt; MinHeap[leftChild(pos)]\r\n                        || MinHeap[pos] &gt; MinHeap[rightChild(pos)]){\r\n                    \r\n                    //swap with the left child and heapify \r\n                    //the left child\r\n                    \r\n                    if (MinHeap[leftChild(pos)] &lt; MinHeap[rightChild(pos)]){\r\n                        swap(pos, leftChild(pos));\r\n                        minHeapify(leftChild(pos));\r\n                    }\r\n                    \r\n                    //swap with the right child and heapify \r\n                    //the right child\r\n                    \r\n                    else{\r\n                        swap(pos, rightChild(pos));\r\n                        minHeapify(rightChild(pos));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void insert(int element){\r\n            if (size &gt;= maxSize){\r\n                return;\r\n            }\r\n            MinHeap[++size] = element;\r\n            int current = size;\r\n            \r\n            while (MinHeap[current] &lt; MinHeap[parent(current)]){\r\n                swap(current, parent(current));\r\n                current = parent(current);\r\n            }\r\n        }\r\n        \r\n        public void minHeap(){\r\n            for (int pos = (size / 2); pos &gt;= 1; pos--){\r\n                minHeapify(pos);\r\n            }\r\n        }\r\n        \r\n        //funtion to remove and return the minimum element from the heap\r\n        public int remove(){\r\n            int popped = MinHeap[HEAD];\r\n            MinHeap[HEAD] = MinHeap[size--];\r\n            minHeapify(HEAD);\r\n            return popped;\r\n        }\r\n        \r\n        public int findMin(){\r\n            return MinHeap[HEAD];\r\n        }\r\n        //funtion to print the contents of the heap\r\n        public void print(){\r\n            for (int i = 1; i &lt;= size /2 ; i++){\r\n                System.out.print(&quot; PARENT : &quot;+ MinHeap[i]\r\n                                +&quot; LEFT CHILD : &quot; + MinHeap[2*i]\r\n                                +&quot; RIGHT CHILD : &quot; + MinHeap[2*i + 1]);\r\n                System.out.println();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nMy code for UserInterface class:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class UserInterface {\r\n    \r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        \r\n        HeapSort min_heap = new HeapSort((numbers.size() + 1));\r\n    \r\n        public UserInterface() {\r\n            \r\n        }\r\n        public void PrintMenu(){\r\n            Scanner input = new Scanner (System.in);\r\n            \r\n            int option = 0;\r\n            while(option != 2){\r\n                System.out.println(&quot;&quot;);\r\n                System.out.println(&quot;Menu Please enter an option given bellow: &quot;);\r\n                System.out.println(&quot;Option     Operation Completed&quot;);\r\n                System.out.println(&quot;--------------------------------&quot;);\r\n                System.out.println(&quot;1       Insert into heap  and sort&quot;);\r\n                System.out.println(&quot;2       Exit&quot;);\r\n                \r\n                option = input.nextInt();\r\n                \r\n                switch(option){\r\n                            \r\n                            case 1:\r\n                                //add code for Insert into heap  and sort\r\n                                userInput();\r\n                                printUserInput();\r\n                                //insert all elements from the userInput arrayList into the heap\r\n                                for (int i = 0; i &lt; numbers.size(); i++){\r\n                                    min_heap.insert(numbers.get(i));\r\n                                }\r\n                                //print the min_heap\r\n                                min_heap.print();                           \r\n                                \r\n                                break;\r\n                            case 2:\r\n                                //add code for Quit\r\n                                System.out.println(&quot;Thank you for using our program.&quot;);\r\n                                System.exit(0);\r\n                                break;\r\n                                \r\n                            //Error message if user inputs anything other than 1-2 \r\n                            default:\r\n                                System.out.println(option + &quot; is not a correct choice.\\n&quot;\r\n                                                   + &quot;please enter another option. \\n&quot;);\r\n                                break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        //userInput method takes input from the user\r\n        //the input is numbers for heap-sorting\r\n        //then userInput saves all the numbers in an arraylist\r\n        \r\n        public void userInput(){\r\n            \r\n            Scanner input = new Scanner (System.in);\r\n            \r\n            //store them in an array or array list\r\n            //let user enter -1 to end their list of values\r\n            System.out.println(&quot;Enter the integers you want to save for heap sorting.&quot;);\r\n            System.out.println(&quot;POSITIVE NUMBERS ONLY. You can not input negative numbers.&quot;);\r\n            System.out.println(&quot;Enter -1 to quit.&quot;);\r\n            \r\n            while(true){\r\n                \r\n                int number = input.nextInt();\r\n                \r\n                if(number &gt;= 0)\r\n                    numbers.add(number);\r\n                else if (number == -1){\r\n                    System.out.println(&quot;All your numbers have been saved for sorting.&quot;);\r\n                    break;\r\n                }\r\n                else if (number &lt; -1){\r\n                    System.out.println(&quot;You can input positive numbers only.&quot;);\r\n                    System.out.println(&quot;Please enter a positive integer: &quot;);\r\n                    number = input.nextInt();\r\n                    if(number &gt;= 0)\r\n                        numbers.add(number);\r\n                    else if (number == -1){\r\n                        System.out.println(&quot;All your numbers have been saved for sorting.&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void printUserInput(){\r\n            System.out.println();\r\n            System.out.println(&quot;***************************&quot;);\r\n            System.out.print(&quot;Original Input: &quot;);\r\n            for (int i = 0; i&lt;numbers.size(); i++){\r\n                   System.out.print(numbers.get(i)+ &quot; &quot;) ;\r\n                }\r\n                System.out.println(&quot;\\n &quot;);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n","title":"Why isn&#39;t my insertion method for inserting into a min_heap not working?","body":"<p>I am writing a program that will take positive integers as inputs from the user, save it into an arrayList , insert them into a min heap and then will print the heap. I have been able to take in input from the user, save it into an arrayList, but while debugging I realized that my call to the insertion method isn't really working, i.e., it isn't really creating the heap. I do not really know what I am doing wrong. Previously I used the similar code to create a min heap in a non-object oriented java program, so I wonder I have to modify any of the methods or anything like that since I am using multiple classes now.\nMy code for the main class:</p>\n<pre><code>public class LabHeapSort {\n    //main method will only call user interface\n    public static void main(String[] arg){\n        \n        UserInterface userInterface = new UserInterface();\n        userInterface.PrintMenu();\n    }\n    \n\n}\n</code></pre>\n<p>My code for the HeapSort class:</p>\n<pre><code>public class HeapSort {\n    \n    //UserInterface userInterface = new UserInterface();\n    \n    //Java Implementation of Min Heap\n    public int[] MinHeap;\n    public int size;\n    private int maxSize; \n    \n    private static final int HEAD = 1;\n    public HeapSort(int maxSize){\n        this.maxSize = maxSize;\n        this.size = 0;\n        MinHeap = new int[this.maxSize + 1];\n        MinHeap[0] = Integer.MIN_VALUE;\n    }\n    \n    //Function to return the position of the parent \n    //for the node currently at pos\n    private int parent(int pos){\n        return pos/2;\n    }\n    \n    //Function to return the position of the left Child\n    //for the node currently at pos\n    private int leftChild(int pos){\n        return (2 * pos);\n    }\n    \n    //Function to return the position of the right Child\n    //for the node currently at pos\n    private int rightChild(int pos){\n        return (2 * pos) + 1;\n    }\n    \n    //function that returns true if the passed node is a leaf node\n    \n    private boolean isLeaf(int pos){\n        if (pos &gt;= (size / 2) &amp;&amp; pos &lt;= size ){\n            return true;\n        }\n        return false;\n    }\n    \n    //function to swap two nodes of the Heap\n    private void swap(int fpos, int spos){\n        int tmp;\n        tmp = MinHeap[fpos];\n        MinHeap[fpos] = MinHeap[spos];\n        MinHeap[spos] = tmp;\n    }\n    \n    //funtion to heapify node at pos\n    private void minHeapify(int pos){\n        \n        //if the leaf is a non-leaf node and greater\n        //than any of its child\n        if(!isLeaf(pos)){\n            if (MinHeap[pos] &gt; MinHeap[leftChild(pos)]\n                    || MinHeap[pos] &gt; MinHeap[rightChild(pos)]){\n                \n                //swap with the left child and heapify \n                //the left child\n                \n                if (MinHeap[leftChild(pos)] &lt; MinHeap[rightChild(pos)]){\n                    swap(pos, leftChild(pos));\n                    minHeapify(leftChild(pos));\n                }\n                \n                //swap with the right child and heapify \n                //the right child\n                \n                else{\n                    swap(pos, rightChild(pos));\n                    minHeapify(rightChild(pos));\n                }\n            }\n        }\n    }\n    \n    public void insert(int element){\n        if (size &gt;= maxSize){\n            return;\n        }\n        MinHeap[++size] = element;\n        int current = size;\n        \n        while (MinHeap[current] &lt; MinHeap[parent(current)]){\n            swap(current, parent(current));\n            current = parent(current);\n        }\n    }\n    \n    public void minHeap(){\n        for (int pos = (size / 2); pos &gt;= 1; pos--){\n            minHeapify(pos);\n        }\n    }\n    \n    //funtion to remove and return the minimum element from the heap\n    public int remove(){\n        int popped = MinHeap[HEAD];\n        MinHeap[HEAD] = MinHeap[size--];\n        minHeapify(HEAD);\n        return popped;\n    }\n    \n    public int findMin(){\n        return MinHeap[HEAD];\n    }\n    //funtion to print the contents of the heap\n    public void print(){\n        for (int i = 1; i &lt;= size /2 ; i++){\n            System.out.print(&quot; PARENT : &quot;+ MinHeap[i]\n                            +&quot; LEFT CHILD : &quot; + MinHeap[2*i]\n                            +&quot; RIGHT CHILD : &quot; + MinHeap[2*i + 1]);\n            System.out.println();\n        }\n    }\n    \n}\n</code></pre>\n<p>My code for UserInterface class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class UserInterface {\n\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    \n    HeapSort min_heap = new HeapSort((numbers.size() + 1));\n\n    public UserInterface() {\n        \n    }\n    public void PrintMenu(){\n        Scanner input = new Scanner (System.in);\n        \n        int option = 0;\n        while(option != 2){\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Menu Please enter an option given bellow: &quot;);\n            System.out.println(&quot;Option     Operation Completed&quot;);\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;1       Insert into heap  and sort&quot;);\n            System.out.println(&quot;2       Exit&quot;);\n            \n            option = input.nextInt();\n            \n            switch(option){\n                        \n                        case 1:\n                            //add code for Insert into heap  and sort\n                            userInput();\n                            printUserInput();\n                            //insert all elements from the userInput arrayList into the heap\n                            for (int i = 0; i &lt; numbers.size(); i++){\n                                min_heap.insert(numbers.get(i));\n                            }\n                            //print the min_heap\n                            min_heap.print();                           \n                            \n                            break;\n                        case 2:\n                            //add code for Quit\n                            System.out.println(&quot;Thank you for using our program.&quot;);\n                            System.exit(0);\n                            break;\n                            \n                        //Error message if user inputs anything other than 1-2 \n                        default:\n                            System.out.println(option + &quot; is not a correct choice.\\n&quot;\n                                               + &quot;please enter another option. \\n&quot;);\n                            break;\n            }\n        }\n    }\n    \n    //userInput method takes input from the user\n    //the input is numbers for heap-sorting\n    //then userInput saves all the numbers in an arraylist\n    \n    public void userInput(){\n        \n        Scanner input = new Scanner (System.in);\n        \n        //store them in an array or array list\n        //let user enter -1 to end their list of values\n        System.out.println(&quot;Enter the integers you want to save for heap sorting.&quot;);\n        System.out.println(&quot;POSITIVE NUMBERS ONLY. You can not input negative numbers.&quot;);\n        System.out.println(&quot;Enter -1 to quit.&quot;);\n        \n        while(true){\n            \n            int number = input.nextInt();\n            \n            if(number &gt;= 0)\n                numbers.add(number);\n            else if (number == -1){\n                System.out.println(&quot;All your numbers have been saved for sorting.&quot;);\n                break;\n            }\n            else if (number &lt; -1){\n                System.out.println(&quot;You can input positive numbers only.&quot;);\n                System.out.println(&quot;Please enter a positive integer: &quot;);\n                number = input.nextInt();\n                if(number &gt;= 0)\n                    numbers.add(number);\n                else if (number == -1){\n                    System.out.println(&quot;All your numbers have been saved for sorting.&quot;);\n                    break;\n                }\n            }\n        }\n    }\n    \n    public void printUserInput(){\n        System.out.println();\n        System.out.println(&quot;***************************&quot;);\n        System.out.print(&quot;Original Input: &quot;);\n        for (int i = 0; i&lt;numbers.size(); i++){\n               System.out.print(numbers.get(i)+ &quot; &quot;) ;\n            }\n            System.out.println(&quot;\\n &quot;);\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1648186678,"post_id":71612561,"comment_id":126565623,"body_markdown":"If you don&#39;t have a direct question about Java avoid putting the Java tag. This will make your question more specific.","body":"If you don&#39;t have a direct question about Java avoid putting the Java tag. This will make your question more specific."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1648187725,"post_id":71612561,"comment_id":126565785,"body_markdown":"@SC291 This question is about code in Java, and the `[java]` tag is appropriate.","body":"@SC291 This question is about code in Java, and the <code>[java]</code> tag is appropriate."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648192149,"post_id":71612561,"comment_id":126566721,"body_markdown":"&quot;it doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get.","body":"&quot;it doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648218014,"creation_date":1648218014,"answer_id":71618455,"question_id":71612561,"body_markdown":"Every time you call `document()` without an argument, it generates a references to a new, unique, non-existing document in your database. So you&#39;re querying a non-existing subcollection, which explains why you don&#39;t get any results.\r\n\r\n---\r\n\r\nIf you want to query the `member` subcollection of a specific `group` document, specify the ID of that group document in the call to `document(...)`.\r\n\r\n---\r\n\r\nIf you want to query across all `member` subcollections, you can use a [collection group query](https://firebase.google.com/docs/firestore/query-data/queries#collection-group-query).\r\n\r\n---\r\n\r\nIf you want to query all `member` collections under `groups`, you can use a collection group query with the trick in Sam&#39;s answer here: https://stackoverflow.com/questions/68049541/collectiongroupquery-but-limit-search-to-subcollections-under-a-particular-docum","title":"get all document from 2 collection firestore","body":"<p>Every time you call <code>document()</code> without an argument, it generates a references to a new, unique, non-existing document in your database. So you're querying a non-existing subcollection, which explains why you don't get any results.</p>\n<hr />\n<p>If you want to query the <code>member</code> subcollection of a specific <code>group</code> document, specify the ID of that group document in the call to <code>document(...)</code>.</p>\n<hr />\n<p>If you want to query across all <code>member</code> subcollections, you can use a <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#collection-group-query\" rel=\"nofollow noreferrer\">collection group query</a>.</p>\n<hr />\n<p>If you want to query all <code>member</code> collections under <code>groups</code>, you can use a collection group query with the trick in Sam's answer here: <a href=\"https://stackoverflow.com/questions/68049541/collectiongroupquery-but-limit-search-to-subcollections-under-a-particular-docum\">CollectionGroupQuery but limit search to subcollections under a particular document</a></p>\n"}],"owner":{"account_id":24681879,"reputation":5,"user_id":18575502,"display_name":"Bandrekin Aja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71618455,"answer_count":1,"score":0,"last_activity_date":1648218014,"creation_date":1648186173,"question_id":71612561,"body_markdown":"how to retrieve data from all documents in the first collection with a clause in the second collection.  \r\nI use this code but the data doesn&#39;t show up at all.. please help me..\r\n\r\n```\r\ndbf.collection(&quot;group&quot;).document().collection(&quot;member&quot;)\r\n.whereEqualto(&quot;iduser&quot;, &quot;098332&quot;)\r\n                .orderBy(&quot;updatetime&quot;, Query.Direction.DESCENDING)\r\n            .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                    List&lt;DocumentSnapshot&gt; list = value.getDocuments();\r\n\r\n                    datalist.clear();\r\n                    for (DocumentSnapshot d : list) {\r\n                        final Modelfirestore c = d.toObject(Modelfirestore.class);\r\n                        datalist.add(c);\r\n                    \r\n\r\n                    }\r\n                    mAdapterss.notifyDataSetChanged();\r\n                }\r\n            });\r\n```\r\n\r\nI&#39;ve tried with the script above but it doesn&#39;t work","title":"get all document from 2 collection firestore","body":"<p>how to retrieve data from all documents in the first collection with a clause in the second collection.<br />\nI use this code but the data doesn't show up at all.. please help me..</p>\n<pre><code>dbf.collection(&quot;group&quot;).document().collection(&quot;member&quot;)\n.whereEqualto(&quot;iduser&quot;, &quot;098332&quot;)\n                .orderBy(&quot;updatetime&quot;, Query.Direction.DESCENDING)\n            .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                    List&lt;DocumentSnapshot&gt; list = value.getDocuments();\n\n                    datalist.clear();\n                    for (DocumentSnapshot d : list) {\n                        final Modelfirestore c = d.toObject(Modelfirestore.class);\n                        datalist.add(c);\n                    \n\n                    }\n                    mAdapterss.notifyDataSetChanged();\n                }\n            });\n</code></pre>\n<p>I've tried with the script above but it doesn't work</p>\n"},{"tags":["java","spring","email","heroku","gmail"],"answers":[{"tags":[],"owner":{"account_id":4916432,"reputation":536,"user_id":3960264,"display_name":"Volodymyr Fedorchuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1466420817,"creation_date":1466420817,"answer_id":37920957,"question_id":37900348,"body_markdown":"Devcenter heroku said: \n\n&gt; The Heroku platform itself doesn’t provide an email service - but instead provides add-ons that act as backing services - that can be attached to your app to provide the service. \n&gt;\n&gt; Consult the Heroku Add-ons marketplace for an appropriate email service that matches your requirements.\n\n[source][1]\n\n\n  [1]: https://devcenter.heroku.com/articles/smtp &quot;devcenter.heroku.com&quot;","title":"Cannot send email from server heroku using spring javamail","body":"<p>Devcenter heroku said:</p>\n<blockquote>\n<p>The Heroku platform itself doesn’t provide an email service - but instead provides add-ons that act as backing services - that can be attached to your app to provide the service.</p>\n<p>Consult the Heroku Add-ons marketplace for an appropriate email service that matches your requirements.</p>\n</blockquote>\n<p><a href=\"https://devcenter.heroku.com/articles/smtp\" rel=\"nofollow noreferrer\" title=\"devcenter.heroku.com\">source</a></p>\n"},{"tags":[],"owner":{"account_id":2407473,"reputation":1449,"user_id":2103515,"accept_rate":0,"display_name":"Thang Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524679451,"creation_date":1524679451,"answer_id":50028705,"question_id":37900348,"body_markdown":"This is my setting with my app running on Heroku, it worked:\r\n\r\n    #  sparkpost.com SMTP server:\r\n    mail.host=smtp.sparkpostmail.com\r\n    mail.port=587\r\n    mail.smtp.auth=true\r\n    mail.smtp.socketFactory.port=587\r\n    mail.smtp.socketFactory.fallback=true\r\n    mail.smtp.starttls.enable=true\r\n    mail.smtp.starttls.required=true\r\n    mail.smtp.ssl.enable=false\r\n    #mail.smtp.debug=true\r\n    mail.username=xxxx\r\n    mail.password=xxxx\r\n\r\n","title":"Cannot send email from server heroku using spring javamail","body":"<p>This is my setting with my app running on Heroku, it worked:</p>\n\n<pre><code>#  sparkpost.com SMTP server:\nmail.host=smtp.sparkpostmail.com\nmail.port=587\nmail.smtp.auth=true\nmail.smtp.socketFactory.port=587\nmail.smtp.socketFactory.fallback=true\nmail.smtp.starttls.enable=true\nmail.smtp.starttls.required=true\nmail.smtp.ssl.enable=false\n#mail.smtp.debug=true\nmail.username=xxxx\nmail.password=xxxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1554928710,"creation_date":1554928710,"answer_id":55620993,"question_id":37900348,"body_markdown":"I solved this activating **DisplayUnlockCaptcha** : \r\n\r\nhttps://accounts.google.com/b/0/DisplayUnlockCaptcha\r\n\r\nAlso activating the **Lesssecureapps**\r\n\r\nhttps://www.google.com/settings/security/lesssecureapps\r\n\r\n\r\nAnd these are the properties : \r\n\r\n    #Mail properties\r\n    spring.mail.default-encoding=UTF-8\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=--\r\n    spring.mail.password=--\r\n    spring.mail.port=587\r\n    spring.mail.protocol=smtp\r\n    spring.mail.debug=true\r\n    spring.mail.smtp.auth=true\r\n    spring.mail.smtp.starttls.enable=true\r\n\r\n","title":"Cannot send email from server heroku using spring javamail","body":"<p>I solved this activating <strong>DisplayUnlockCaptcha</strong> : </p>\n\n<p><a href=\"https://accounts.google.com/b/0/DisplayUnlockCaptcha\" rel=\"noreferrer\">https://accounts.google.com/b/0/DisplayUnlockCaptcha</a></p>\n\n<p>Also activating the <strong>Lesssecureapps</strong></p>\n\n<p><a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">https://www.google.com/settings/security/lesssecureapps</a></p>\n\n<p>And these are the properties : </p>\n\n<pre><code>#Mail properties\nspring.mail.default-encoding=UTF-8\nspring.mail.host=smtp.gmail.com\nspring.mail.username=--\nspring.mail.password=--\nspring.mail.port=587\nspring.mail.protocol=smtp\nspring.mail.debug=true\nspring.mail.smtp.auth=true\nspring.mail.smtp.starttls.enable=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13476330,"reputation":1002,"user_id":9723204,"display_name":"Hawklike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648217906,"creation_date":1648217906,"answer_id":71618431,"question_id":37900348,"body_markdown":"[Answer][1] by Skizo-ozᴉʞS is correct, but as of **May 30, 2022**, Google **will no longer support** the use of third-party applications and devices that allow you to sign in to your Google Account with your **username and password**.\r\n\r\nHowever, there is an easy solution provided by Google.\r\n\r\nInstead of a password, input an **app password** generated by Google. Firstly, go to the settings and enable `2-Step Verification`. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen click on the `App passwords`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou should see the App passwords screen. *App passwords let you sign in to your Google Account from apps on devices that don&#39;t support 2-Step Verification*. Select `Mail` as the app and then select a device. In my case, I chose `Other`, because I want to deploy my application to the cloud.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOnce done, click on the `GENERATE` button. You will see your generated app password.\r\n\r\n[![enter image description here][5]][5] \r\n\r\nJust copy the password and replace the previous password in your email sending service with the generated one. You won&#39;t be able to see the password again though.\r\n\r\nThat&#39;s it!\r\n\r\n  [1]: https://stackoverflow.com/a/55620993/9723204\r\n  [2]: https://i.stack.imgur.com/YkUz1.png\r\n  [3]: https://i.stack.imgur.com/UM7Lt.png\r\n  [4]: https://i.stack.imgur.com/HLpiR.png\r\n  [5]: https://i.stack.imgur.com/ITRnN.png","title":"Cannot send email from server heroku using spring javamail","body":"<p><a href=\"https://stackoverflow.com/a/55620993/9723204\">Answer</a> by Skizo-ozᴉʞS is correct, but as of <strong>May 30, 2022</strong>, Google <strong>will no longer support</strong> the use of third-party applications and devices that allow you to sign in to your Google Account with your <strong>username and password</strong>.</p>\n<p>However, there is an easy solution provided by Google.</p>\n<p>Instead of a password, input an <strong>app password</strong> generated by Google. Firstly, go to the settings and enable <code>2-Step Verification</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/YkUz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YkUz1.png\" alt=\"enter image description here\" /></a></p>\n<p>Then click on the <code>App passwords</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/UM7Lt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UM7Lt.png\" alt=\"enter image description here\" /></a></p>\n<p>You should see the App passwords screen. <em>App passwords let you sign in to your Google Account from apps on devices that don't support 2-Step Verification</em>. Select <code>Mail</code> as the app and then select a device. In my case, I chose <code>Other</code>, because I want to deploy my application to the cloud.</p>\n<p><a href=\"https://i.stack.imgur.com/HLpiR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HLpiR.png\" alt=\"enter image description here\" /></a></p>\n<p>Once done, click on the <code>GENERATE</code> button. You will see your generated app password.</p>\n<p><a href=\"https://i.stack.imgur.com/ITRnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITRnN.png\" alt=\"enter image description here\" /></a></p>\n<p>Just copy the password and replace the previous password in your email sending service with the generated one. You won't be able to see the password again though.</p>\n<p>That's it!</p>\n"}],"owner":{"account_id":4916432,"reputation":536,"user_id":3960264,"display_name":"Volodymyr Fedorchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3722,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37920957,"answer_count":4,"score":4,"last_activity_date":1648217906,"creation_date":1466274743,"question_id":37900348,"body_markdown":"I tried to send Email from *Heroku*, using *Spring javamail*, but got error.\r\n\r\nMy code: \r\n\r\n    import org.springframework.mail.MailSender;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service(&quot;mailService&quot;)\r\n    public class JavaMailerServiceImpl {\r\n\r\n        private MailSender mailSender;\r\n        public JavaMailerServiceImpl(JavaMailSenderImpl mailSender) {\r\n            this.mailSender = mailSender;\r\n        }\r\n\r\n        public void sendMail(String to, String subject, String body){\r\n            SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setTo(to);\r\n            message.setSubject(subject);\r\n            message.setText(body);\r\n            mailSender.send(message);\r\n        }\r\n    }\r\nBeans:\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        &lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;587&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;**********@gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;********&quot;/&gt;\r\n        &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd controller:\r\n\r\n        @Autowired\r\n        private JavaMailerServiceImpl mailService;\r\n\r\n        @RequestMapping(method = RequestMethod.POST)\r\n        public String sendEmail(HttpServletRequest request) {\r\n            String recipientAddress = request.getParameter(&quot;recipient&quot;);\r\n            String subject = request.getParameter(&quot;subject&quot;);\r\n            String message = request.getParameter(&quot;message&quot;);\r\n            mailService.sendMail(recipientAddress,subject,message);\r\n        }`\r\nAt localhost:8080 and localhost:5000, test completed successfully, but on heroku server I have exception:\r\n\r\n&gt; Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 https://support.google.com/mail/answer/78754 j4sm53975482wjg.20 - gsmtp \r\n\r\nI performed all recommendations from google. Can you help me solve this problem. Maybe link or something like that. Thank you.","title":"Cannot send email from server heroku using spring javamail","body":"<p>I tried to send Email from <em>Heroku</em>, using <em>Spring javamail</em>, but got error.</p>\n\n<p>My code: </p>\n\n<pre><code>import org.springframework.mail.MailSender;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\nimport org.springframework.stereotype.Service;\n\n@Service(\"mailService\")\npublic class JavaMailerServiceImpl {\n\n    private MailSender mailSender;\n    public JavaMailerServiceImpl(JavaMailSenderImpl mailSender) {\n        this.mailSender = mailSender;\n    }\n\n    public void sendMail(String to, String subject, String body){\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setTo(to);\n        message.setSubject(subject);\n        message.setText(body);\n        mailSender.send(message);\n    }\n}\n</code></pre>\n\n<p>Beans:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"smtp.gmail.com\"/&gt;\n    &lt;property name=\"port\" value=\"587\"/&gt;\n    &lt;property name=\"username\" value=\"**********@gmail.com\"/&gt;\n    &lt;property name=\"password\" value=\"********\"/&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And controller:</p>\n\n<pre><code>    @Autowired\n    private JavaMailerServiceImpl mailService;\n\n    @RequestMapping(method = RequestMethod.POST)\n    public String sendEmail(HttpServletRequest request) {\n        String recipientAddress = request.getParameter(\"recipient\");\n        String subject = request.getParameter(\"subject\");\n        String message = request.getParameter(\"message\");\n        mailService.sendMail(recipientAddress,subject,message);\n    }`\n</code></pre>\n\n<p>At localhost:8080 and localhost:5000, test completed successfully, but on heroku server I have exception:</p>\n\n<blockquote>\n  <p>Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 <a href=\"https://support.google.com/mail/answer/78754\" rel=\"nofollow\">https://support.google.com/mail/answer/78754</a> j4sm53975482wjg.20 - gsmtp </p>\n</blockquote>\n\n<p>I performed all recommendations from google. Can you help me solve this problem. Maybe link or something like that. Thank you.</p>\n"},{"tags":["java","playframework"],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648217415,"creation_date":1648217415,"question_id":71618310,"body_markdown":"In my java play framework project (2.3 version) I need to call an exposed endpoint from outside also from inside my project. To be more specific, in another controller.\r\n\r\nSo in my routes I have this mapping:\r\n\r\n    POST     /evaluation/budgetamout                           @bank.controller.EvaluationController.evaluateBudgetAmount()\r\n\r\nThe controller EvaluationController contains a methods named as evaluateBudgetAmount:\r\n\r\n\r\n    public Result evaluateBudgetAmount() {\r\n    \t\tApiResponse response = new ApiResponse();\r\n    \t\tJsonNode jsonNode = request().body().asJson();\r\n    \t\tString result = // performe evaluations and save it into database passing jsonNode\r\n    \t\tresponse.addData(result);\r\n    \treturn ok(response);\r\n\r\n\r\nSo in another controller with a specific method named as checkFinalResult I need to perform the call evaluateBudgetAmount giving a new input in the request(a new json in the post request), but I have no idea to figure out. \r\n\r\nSurery I do not want to use the Promise to performed a new call inside my project that need to pass through from outside, to be clearer this approach is not admissible:\r\n\r\n     F.Promise&lt;WSResponse&gt; rProm = WS.url(pathUrl).post(info);\r\n\r\nThere is another way?\r\n","title":"Java play framework call an endpoint in routes from an inside project controller","body":"<p>In my java play framework project (2.3 version) I need to call an exposed endpoint from outside also from inside my project. To be more specific, in another controller.</p>\n<p>So in my routes I have this mapping:</p>\n<pre><code>POST     /evaluation/budgetamout                           @bank.controller.EvaluationController.evaluateBudgetAmount()\n</code></pre>\n<p>The controller EvaluationController contains a methods named as evaluateBudgetAmount:</p>\n<pre><code>public Result evaluateBudgetAmount() {\n        ApiResponse response = new ApiResponse();\n        JsonNode jsonNode = request().body().asJson();\n        String result = // performe evaluations and save it into database passing jsonNode\n        response.addData(result);\n    return ok(response);\n</code></pre>\n<p>So in another controller with a specific method named as checkFinalResult I need to perform the call evaluateBudgetAmount giving a new input in the request(a new json in the post request), but I have no idea to figure out.</p>\n<p>Surery I do not want to use the Promise to performed a new call inside my project that need to pass through from outside, to be clearer this approach is not admissible:</p>\n<pre><code> F.Promise&lt;WSResponse&gt; rProm = WS.url(pathUrl).post(info);\n</code></pre>\n<p>There is another way?</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"answers":[{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623753067,"creation_date":1623753067,"answer_id":67984583,"question_id":67982831,"body_markdown":"As per [documentation][1], SpringApplication converts any command line option arguments (that is, arguments starting with --, such as --server.port=9000) to a property and adds them to the Spring Environment.\r\n\r\n`-D` works when running via maven. Try: `java -jar application.jar --spring.config.location=file:///C://your//path//config.yml`.\r\n\r\n\r\nVia maven: `mvn spring-boot:run -Dspring.config.location=&quot;file:///C://your//path//config.yml&quot;`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.2.7.RELEASE/reference/html/spring-boot-features.html#boot-features-external-config","title":"properties not loaded from external configuration, when additional config location is provided from command line","body":"<p>As per <a href=\"https://docs.spring.io/spring-boot/docs/2.2.7.RELEASE/reference/html/spring-boot-features.html#boot-features-external-config\" rel=\"nofollow noreferrer\">documentation</a>, SpringApplication converts any command line option arguments (that is, arguments starting with --, such as --server.port=9000) to a property and adds them to the Spring Environment.</p>\n<p><code>-D</code> works when running via maven. Try: <code>java -jar application.jar --spring.config.location=file:///C://your//path//config.yml</code>.</p>\n<p>Via maven: <code>mvn spring-boot:run -Dspring.config.location=&quot;file:///C://your//path//config.yml&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":2646406,"reputation":33,"user_id":2288993,"display_name":"ged"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648069969,"creation_date":1648069969,"answer_id":71594099,"question_id":67982831,"body_markdown":"\r\nFor me this fails:\r\n\r\n    java -jar application.jar -Dspring.config.location=/config/config.yml\r\n\r\nBut this works:\r\n\r\n    java -Dspring.config.location=/config/config.yml -jar application.jar\r\n\r\nI suspect the JVM is passing the -D as an arg to main() for the former rather then using it to set the JVM environment for spring boot.\r\n\r\nThis is the behaviour I&#39;m observing on openjdk-17 / alpine anyway...\r\n\r\n    java --version\r\n    openjdk 17-ea 2021-09-14\r\n    OpenJDK Runtime Environment (build 17-ea+14)\r\n    OpenJDK 64-Bit Server VM (build 17-ea+14, mixed mode, sharing)","title":"properties not loaded from external configuration, when additional config location is provided from command line","body":"<p>For me this fails:</p>\n<pre><code>java -jar application.jar -Dspring.config.location=/config/config.yml\n</code></pre>\n<p>But this works:</p>\n<pre><code>java -Dspring.config.location=/config/config.yml -jar application.jar\n</code></pre>\n<p>I suspect the JVM is passing the -D as an arg to main() for the former rather then using it to set the JVM environment for spring boot.</p>\n<p>This is the behaviour I'm observing on openjdk-17 / alpine anyway...</p>\n<pre><code>java --version\nopenjdk 17-ea 2021-09-14\nOpenJDK Runtime Environment (build 17-ea+14)\nOpenJDK 64-Bit Server VM (build 17-ea+14, mixed mode, sharing)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17789506,"reputation":369,"user_id":12918869,"display_name":"noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648217409,"creation_date":1648217409,"answer_id":71618309,"question_id":67982831,"body_markdown":"try absolute path instead of relative path, to specify location of external property","title":"properties not loaded from external configuration, when additional config location is provided from command line","body":"<p>try absolute path instead of relative path, to specify location of external property</p>\n"}],"owner":{"account_id":3249075,"reputation":2653,"user_id":2739864,"display_name":"Laxman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67984583,"answer_count":3,"score":3,"last_activity_date":1648217409,"creation_date":1623746250,"question_id":67982831,"body_markdown":"I am using spring-boot 2.2.7.RELEASE\r\n\r\nIn the controller I want to get some values from external config file.\r\nBut the application does not start even though the properties are available in the external config.\r\n\r\ncould you suggest how to load only specific properties from external config.\r\n\r\nNOTE: I also tried `spring.config.additional-location`, and it is not working\r\n\r\nThanks\r\n\r\n---\r\n\r\n**Controller**\r\n\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ExternalPropTestController {\r\n\r\n        @Value(&quot;${com.x.db.url}&quot;)\r\n        private String url;\r\n\r\n        @Value(&quot;${com.x.db.secret}&quot;)\r\n        private String secret;\r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public ResponseEntity&lt;String&gt; greet() {\r\n            return new ResponseEntity&lt;&gt;(url+&quot; : &quot;+secret, HttpStatus.OK);\r\n        }\r\n    }\r\n---\r\n**config.yml**\r\n\r\n    com:\r\n      x:\r\n        db:\r\n          url: external url\r\n          secret: external secret\r\n\r\n---\r\n**Command to start the application**\r\n\r\n```java -jar application.jar -Dspring-boot.run.arguments=--spring.config.location=file:///C://some-external-path//config//config.yml```\r\n\r\n---\r\n**Getting below error, while starting the application**\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;externalPropTestController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;com.x.db.url&#39; in value &quot;${com.x.db.url}&quot;\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        at com.x.y.CrewDocServiceApp.main(CrewDocServiceApp.java:65)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;com.x.db.url&#39; in value &quot;${com.x.db.url}&quot;\r\n        at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:178)\r\n        at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\r\n        at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)\r\n        at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\r\n        at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:912)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1226)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n        ... 23 common frames omitted\r\n\r\n","title":"properties not loaded from external configuration, when additional config location is provided from command line","body":"<p>I am using spring-boot 2.2.7.RELEASE</p>\n<p>In the controller I want to get some values from external config file.\nBut the application does not start even though the properties are available in the external config.</p>\n<p>could you suggest how to load only specific properties from external config.</p>\n<p>NOTE: I also tried <code>spring.config.additional-location</code>, and it is not working</p>\n<p>Thanks</p>\n<hr />\n<p><strong>Controller</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ExternalPropTestController {\n\n    @Value(&quot;${com.x.db.url}&quot;)\n    private String url;\n\n    @Value(&quot;${com.x.db.secret}&quot;)\n    private String secret;\n\n    @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;String&gt; greet() {\n        return new ResponseEntity&lt;&gt;(url+&quot; : &quot;+secret, HttpStatus.OK);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>config.yml</strong></p>\n<pre><code>com:\n  x:\n    db:\n      url: external url\n      secret: external secret\n</code></pre>\n<hr />\n<p><strong>Command to start the application</strong></p>\n<p><code>java -jar application.jar -Dspring-boot.run.arguments=--spring.config.location=file:///C://some-external-path//config//config.yml</code></p>\n<hr />\n<p><strong>Getting below error, while starting the application</strong></p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'externalPropTestController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'com.x.db.url' in value &quot;${com.x.db.url}&quot;\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat com.x.y.CrewDocServiceApp.main(CrewDocServiceApp.java:65)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'com.x.db.url' in value &quot;${com.x.db.url}&quot;\nat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:178)\nat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\nat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)\nat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\nat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175)\nat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:912)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1226)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n... 23 common frames omitted</p>\n</blockquote>\n"},{"tags":["java","amazon-s3","stream","zip","zip4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647881567,"post_id":71561060,"comment_id":126477599,"body_markdown":"Out of interest, have you checked the compression ratio? A good document format should not have too much redundancy so it might be something of a waste of time to compress","body":"Out of interest, have you checked the compression ratio? A good document format should not have too much redundancy so it might be something of a waste of time to compress"},{"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"score":0,"creation_date":1647929668,"post_id":71561060,"comment_id":126488459,"body_markdown":"You&#39;re right the compression it not so good, but this is the requirement to zip all the data and upload it in to aws s3. And from there make it public to the clients.","body":"You&#39;re right the compression it not so good, but this is the requirement to zip all the data and upload it in to aws s3. And from there make it public to the clients."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647941873,"post_id":71561060,"comment_id":126491981,"body_markdown":"I haven&#39;t done this before, even &#39;manually&#39; but you could try setting the compression &#39;rate&#39; to zero to see if memory usage drops. Otherwise, you&#39;re going to have to split it upt","body":"I haven&#39;t done this before, even &#39;manually&#39; but you could try setting the compression &#39;rate&#39; to zero to see if memory usage drops. Otherwise, you&#39;re going to have to split it upt"},{"owner":{"account_id":3243986,"reputation":1956,"user_id":2736153,"display_name":"Srikanth Reddy Lingala"},"score":1,"creation_date":1647998360,"post_id":71561060,"comment_id":126511094,"body_markdown":"I explained the cause of this issue along with a possible solution [here](https://github.com/srikanth-lingala/zip4j/issues/413#issuecomment-1075808379)","body":"I explained the cause of this issue along with a possible solution <a href=\"https://github.com/srikanth-lingala/zip4j/issues/413#issuecomment-1075808379\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648217170,"creation_date":1648217170,"answer_id":71618258,"question_id":71561060,"body_markdown":"Funny enough, this was on the local machine while I got **OutOfMemoryError** during the zip generation. \r\n\r\nIn testing environment, I got **OutOfMemoryError** during the retrieval of the documents. So Hibernate was complaining too. This was with a step before the generation. Probably this happened since local machine has 16GB and testing env only 1GB. \r\n\r\nSo the solution was build based on the following steps:\r\n\r\n 1. retrieve the files in batches with Hibernate, and (flush/clean) \r\ntransactional entityManager, in order to force Hibernate to not keep in memory all the files. The Batch size was: 50 documents.\r\n 2. Adapt the code for the **zip4j** compression with Aws multipart upload, in order to compress and upload only one batch of files, and reset the buffers afterwards, to avoid OutOfMemory.\r\n\r\nStep2 was designed and adapted based on: https://www.bennadel.com/blog/3971-generate-and-incrementally-stream-a-zip-archive-to-amazon-s3-using-multipart-uploads-in-lucee-cfml-5-3-7-47.htm \r\n\r\nSo the code from the initial question became as follows:\r\n\r\n        @Override\r\n    public void compressAndPublish(final FileCompressingContext fileCompressingContext) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ZipOutputStream zos = new ZipOutputStream(baos);\r\n        if (fileCompressingContext.getFiles() != null) {\r\n            for (FileCompressingContext.File file : fileCompressingContext.getFiles()) {\r\n                addFileToZip(zos, file.getContent(), file.getName());\r\n            }\r\n        }\r\n\r\n    if (fileCompressingContext.getFolders() != null) {\r\n        // 1. initialize multi part\r\n        String uploadId = fileHandlerService.initialiseMultiPart(FileHandlerContext.builder()\r\n                .id(fileCompressingContext.getTaskId())\r\n                .root(bucket)\r\n                .fileName(&quot;file.zip&quot;)\r\n                .build());\r\n\r\n        int partNumber = 0;\r\n        int docNr = 0;\r\n        List&lt;CompletedPart&gt; completedParts = new ArrayList&lt;&gt;();\r\n\r\n        for (FileCompressingContext.Folder folder : fileCompressingContext.getFolders()) {\r\n            while (!folder.getDocPks().isEmpty()) {\r\n                extractDocuments(folder, fileCompressingContext);\r\n\r\n                for (FileCompressingContext.File file : folder.getFiles()) {\r\n                    if (baos.size() &gt; PART_SIZE) {\r\n                        log.debug(&quot;Id:{} - Preparing for update part:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\r\n                        FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\r\n                                .id(fileCompressingContext.getTaskId())\r\n                                .root(bucket)\r\n                                .fileName(file.zip)\r\n                                .fileContent(baos.toByteArray())\r\n                                .build();\r\n                        // 2. upload parts of the zip\r\n                        completedParts.add(fileHandlerService.uploadPart(fileHandlerContext, uploadId, partNumber));\r\n\r\n                        partNumber++;\r\n                        baos.reset();\r\n                    }\r\n\r\n                    addFileToZip(zos, file.getContent(), folder.getName() + &quot;/&quot; + file.getName());\r\n                    docNr++;\r\n                }\r\n\r\n                folder.getFiles().clear();\r\n            }\r\n        }\r\n\r\n        finalizeZipContent(zos, baos);\r\n\r\n        // 3. checks is there are any data remained under 5Mb\r\n        if (baos.size() != 0) {\r\n            log.debug(&quot;Id:{} - Preparing LAST update part:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\r\n\r\n            FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\r\n                    .id(fileCompressingContext.getTaskId())\r\n                    .root(bucket)\r\n                    .fileName(file.zip)\r\n                    .fileContent(baos.toByteArray())\r\n                    .build();\r\n            completedParts.add(fileHandlerService.uploadPart(fileHandlerContext, uploadId, partNumber));\r\n        }\r\n\r\n        // 4. finish multipart operation\r\n        FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\r\n                .id(fileCompressingContext.getTaskId())\r\n                .root(bucket)\r\n                .fileName(file.zip)\r\n                .build();\r\n        fileHandlerService.finishMultipartUpload(fileHandlerContext, uploadId, completedParts);\r\n\r\n        log.debug(&quot;Id:{} - Multipart upload finished with partNr:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\r\n    } else {\r\n        finalizeZipContent(zos, baos);\r\n\r\n        FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\r\n                .id(fileCompressingContext.getTaskId())\r\n                .root(bucket)\r\n                .fileName(&quot;file.zip&quot;)\r\n                .fileContent(baos.toByteArray())\r\n                .fileExtension(&quot;application/zip&quot;)\r\n                .build();\r\n        fileHandlerService.store(fileHandlerContext);\r\n    }\r\n}\r\n\r\nSo the only thing that changed, was the integration with aws multipart which allows to upload big data in chunks of data. And also the resetting of the buffer after every upload: `baos.reset();`\r\n\r\nAlso another important step is this method:\r\n\r\n    private void finalizeZipContent(ZipOutputStream zos, ByteArrayOutputStream baos) throws IOException {\r\n    zos.flush();\r\n    zos.close();\r\n    baos.close();\r\n    }\r\n,which close the ZipOutputStream and ByteArrayOutputStream. If this step is not done at the end, the zip will look as a corrupt one.\r\n\r\nAlso the method `addFileToZip(...)` can be written much simpler:\r\n\r\n    private void addFileToZip(ZipOutputStream zos, byte[] file, String fileName) throws IOException {\r\n    ZipParameters zp = new ZipParameters();\r\n    zp.setFileNameInZip(fileName);\r\n    zos.putNextEntry(zp);\r\n    zos.write(file);\r\n    zos.closeEntry();\r\n        zos.flush();\r\n    }\r\n, it&#39;s not required to define that fix size byte of array\r\n\r\nReally hope this will help someone and will save some time. Cheers","title":"Generating Big Zip with streams[with zip4j] and uploading it to s3","body":"<p>Funny enough, this was on the local machine while I got <strong>OutOfMemoryError</strong> during the zip generation.</p>\n<p>In testing environment, I got <strong>OutOfMemoryError</strong> during the retrieval of the documents. So Hibernate was complaining too. This was with a step before the generation. Probably this happened since local machine has 16GB and testing env only 1GB.</p>\n<p>So the solution was build based on the following steps:</p>\n<ol>\n<li>retrieve the files in batches with Hibernate, and (flush/clean)\ntransactional entityManager, in order to force Hibernate to not keep in memory all the files. The Batch size was: 50 documents.</li>\n<li>Adapt the code for the <strong>zip4j</strong> compression with Aws multipart upload, in order to compress and upload only one batch of files, and reset the buffers afterwards, to avoid OutOfMemory.</li>\n</ol>\n<p>Step2 was designed and adapted based on: <a href=\"https://www.bennadel.com/blog/3971-generate-and-incrementally-stream-a-zip-archive-to-amazon-s3-using-multipart-uploads-in-lucee-cfml-5-3-7-47.htm\" rel=\"nofollow noreferrer\">https://www.bennadel.com/blog/3971-generate-and-incrementally-stream-a-zip-archive-to-amazon-s3-using-multipart-uploads-in-lucee-cfml-5-3-7-47.htm</a></p>\n<p>So the code from the initial question became as follows:</p>\n<pre><code>    @Override\npublic void compressAndPublish(final FileCompressingContext fileCompressingContext) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ZipOutputStream zos = new ZipOutputStream(baos);\n    if (fileCompressingContext.getFiles() != null) {\n        for (FileCompressingContext.File file : fileCompressingContext.getFiles()) {\n            addFileToZip(zos, file.getContent(), file.getName());\n        }\n    }\n\nif (fileCompressingContext.getFolders() != null) {\n    // 1. initialize multi part\n    String uploadId = fileHandlerService.initialiseMultiPart(FileHandlerContext.builder()\n            .id(fileCompressingContext.getTaskId())\n            .root(bucket)\n            .fileName(&quot;file.zip&quot;)\n            .build());\n\n    int partNumber = 0;\n    int docNr = 0;\n    List&lt;CompletedPart&gt; completedParts = new ArrayList&lt;&gt;();\n\n    for (FileCompressingContext.Folder folder : fileCompressingContext.getFolders()) {\n        while (!folder.getDocPks().isEmpty()) {\n            extractDocuments(folder, fileCompressingContext);\n\n            for (FileCompressingContext.File file : folder.getFiles()) {\n                if (baos.size() &gt; PART_SIZE) {\n                    log.debug(&quot;Id:{} - Preparing for update part:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\n                    FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\n                            .id(fileCompressingContext.getTaskId())\n                            .root(bucket)\n                            .fileName(file.zip)\n                            .fileContent(baos.toByteArray())\n                            .build();\n                    // 2. upload parts of the zip\n                    completedParts.add(fileHandlerService.uploadPart(fileHandlerContext, uploadId, partNumber));\n\n                    partNumber++;\n                    baos.reset();\n                }\n\n                addFileToZip(zos, file.getContent(), folder.getName() + &quot;/&quot; + file.getName());\n                docNr++;\n            }\n\n            folder.getFiles().clear();\n        }\n    }\n\n    finalizeZipContent(zos, baos);\n\n    // 3. checks is there are any data remained under 5Mb\n    if (baos.size() != 0) {\n        log.debug(&quot;Id:{} - Preparing LAST update part:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\n\n        FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\n                .id(fileCompressingContext.getTaskId())\n                .root(bucket)\n                .fileName(file.zip)\n                .fileContent(baos.toByteArray())\n                .build();\n        completedParts.add(fileHandlerService.uploadPart(fileHandlerContext, uploadId, partNumber));\n    }\n\n    // 4. finish multipart operation\n    FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\n            .id(fileCompressingContext.getTaskId())\n            .root(bucket)\n            .fileName(file.zip)\n            .build();\n    fileHandlerService.finishMultipartUpload(fileHandlerContext, uploadId, completedParts);\n\n    log.debug(&quot;Id:{} - Multipart upload finished with partNr:{}, docNr:{}&quot;, fileCompressingContext.getTaskId(), partNumber, docNr);\n} else {\n    finalizeZipContent(zos, baos);\n\n    FileHandlerContext fileHandlerContext = FileHandlerContext.builder()\n            .id(fileCompressingContext.getTaskId())\n            .root(bucket)\n            .fileName(&quot;file.zip&quot;)\n            .fileContent(baos.toByteArray())\n            .fileExtension(&quot;application/zip&quot;)\n            .build();\n    fileHandlerService.store(fileHandlerContext);\n}\n</code></pre>\n<p>}</p>\n<p>So the only thing that changed, was the integration with aws multipart which allows to upload big data in chunks of data. And also the resetting of the buffer after every upload: <code>baos.reset();</code></p>\n<p>Also another important step is this method:</p>\n<pre><code>private void finalizeZipContent(ZipOutputStream zos, ByteArrayOutputStream baos) throws IOException {\nzos.flush();\nzos.close();\nbaos.close();\n}\n</code></pre>\n<p>,which close the ZipOutputStream and ByteArrayOutputStream. If this step is not done at the end, the zip will look as a corrupt one.</p>\n<p>Also the method <code>addFileToZip(...)</code> can be written much simpler:</p>\n<pre><code>private void addFileToZip(ZipOutputStream zos, byte[] file, String fileName) throws IOException {\nZipParameters zp = new ZipParameters();\nzp.setFileNameInZip(fileName);\nzos.putNextEntry(zp);\nzos.write(file);\nzos.closeEntry();\n    zos.flush();\n}\n</code></pre>\n<p>, it's not required to define that fix size byte of array</p>\n<p>Really hope this will help someone and will save some time. Cheers</p>\n"}],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71618258,"answer_count":1,"score":0,"last_activity_date":1648217170,"creation_date":1647880727,"question_id":71561060,"body_markdown":"I&#39;m working on generating a zip file that has to compress around 2000 documents that are around 1GB in total and after that to upload the zip file in s3 bucket.\r\n\r\nI&#39;m using **net.lingala.zip4j** which is a really nice Java library for handling Zip files. \r\nBased on the documentation:https://github.com/srikanth-lingala/zip4j I&#39;m using the stream handling part of it.\r\nThe code looks almost similar to the one from the documentation:\r\n\r\n    public ByteArrayOutputStream compress(FileCompressingContext fileCompressingContext) throws IOException {\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    try (ZipOutputStream zos = new ZipOutputStream(baos)) {\r\n        if (fileCompressingContext.getFiles() != null) {\r\n            for (FileCompressingContext.File file : fileCompressingContext.getFiles()) {\r\n                addFileToZip(zos, file.getContent(), file.getName());\r\n            }\r\n        }\r\n\r\n        if (fileCompressingContext.getFolders() != null) {\r\n            for (FileCompressingContext.Folder folder : fileCompressingContext.getFolders()) {\r\n                int i = 0;\r\n                for (FileCompressingContext.File file : folder.getFiles()) {\r\n                    addFileToZip(zos, file.getContent(), folder.getName() + &quot;/&quot; + file.getName());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return baos;}\r\n\r\n    private void addFileToZip(ZipOutputStream zos, byte[] file, String fileName) throws IOException {\r\n        byte[] buff = new byte[4096];\r\n        int readLen;\r\n    \r\n        ZipParameters zp = new ZipParameters();\r\n        zp.setFileNameInZip(fileName);\r\n        zos.putNextEntry(zp);\r\n        try (InputStream is = new ByteArrayInputStream(file)) {\r\n            while ((readLen = is.read(buff)) != -1) {\r\n                zos.write(buff, 0, readLen);\r\n            }\r\n        }\r\n    \r\n        zos.closeEntry();\r\n    }\r\n\r\n\r\nThe problem is that the `zos.closeEntry();` is throwing after 1000 of documents being compressed, the java.lang.OutOfMemoryError: Java heap space:\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3745) ~[na:na]\r\n    at java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120) ~[na:na]\r\n    at java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95) ~[na:na]\r\n    at java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156) ~[na:na]\r\n    at net.lingala.zip4j.io.outputstream.CountingOutputStream.write(CountingOutputStream.java:29) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.ZipEntryOutputStream.write(ZipEntryOutputStream.java:33) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.CipherOutputStream.write(CipherOutputStream.java:50) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.CompressedOutputStream.write(CompressedOutputStream.java:26) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.DeflaterOutputStream.deflate(DeflaterOutputStream.java:55) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.DeflaterOutputStream.closeEntry(DeflaterOutputStream.java:63) ~[zip4j-2.9.1.jar:na]\r\n    at net.lingala.zip4j.io.outputstream.ZipOutputStream.closeEntry(ZipOutputStream.java:108) ~[zip4j-2.9.1.jar:na]\r\n\r\nDo you think there is a solution to incrementally stream the Zip archive to S3 as it&#39;s being generating !? \r\nI mean something like parsing periodically the ByteArrayOutputStream and upload to s3, and after that reset the baos..\r\n\r\nIf not what are the alternatives ? writing on the disk, and read it and uploaded to s3 ? hmm or maybe compressed in batches ?\r\n\r\nJust for the curiosity, I&#39;ve tried to processed the documents in batches. Something like after 100 documents, write in the Zip, and retake the process. The issue here was that every 100 documents will overwrite the existing Zip. So this again wasn&#39;t working.\r\nI&#39;ve tried to call this for every 100 documents:\r\n\r\n    new ZipFile(&quot;test.zip&quot;).addStream(new ByteArrayInputStream(baos_lisb.toByteArray()), zp);\r\n, but as I said is overwriting the zip content, so it&#39;s not appending.\r\n\r\nThanks upfront\r\n","title":"Generating Big Zip with streams[with zip4j] and uploading it to s3","body":"<p>I'm working on generating a zip file that has to compress around 2000 documents that are around 1GB in total and after that to upload the zip file in s3 bucket.</p>\n<p>I'm using <strong>net.lingala.zip4j</strong> which is a really nice Java library for handling Zip files.\nBased on the documentation:<a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">https://github.com/srikanth-lingala/zip4j</a> I'm using the stream handling part of it.\nThe code looks almost similar to the one from the documentation:</p>\n<pre><code>public ByteArrayOutputStream compress(FileCompressingContext fileCompressingContext) throws IOException {\nByteArrayOutputStream baos = new ByteArrayOutputStream();\ntry (ZipOutputStream zos = new ZipOutputStream(baos)) {\n    if (fileCompressingContext.getFiles() != null) {\n        for (FileCompressingContext.File file : fileCompressingContext.getFiles()) {\n            addFileToZip(zos, file.getContent(), file.getName());\n        }\n    }\n\n    if (fileCompressingContext.getFolders() != null) {\n        for (FileCompressingContext.Folder folder : fileCompressingContext.getFolders()) {\n            int i = 0;\n            for (FileCompressingContext.File file : folder.getFiles()) {\n                addFileToZip(zos, file.getContent(), folder.getName() + &quot;/&quot; + file.getName());\n            }\n        }\n    }\n}\n\nreturn baos;}\n\nprivate void addFileToZip(ZipOutputStream zos, byte[] file, String fileName) throws IOException {\n    byte[] buff = new byte[4096];\n    int readLen;\n\n    ZipParameters zp = new ZipParameters();\n    zp.setFileNameInZip(fileName);\n    zos.putNextEntry(zp);\n    try (InputStream is = new ByteArrayInputStream(file)) {\n        while ((readLen = is.read(buff)) != -1) {\n            zos.write(buff, 0, readLen);\n        }\n    }\n\n    zos.closeEntry();\n}\n</code></pre>\n<p>The problem is that the <code>zos.closeEntry();</code> is throwing after 1000 of documents being compressed, the java.lang.OutOfMemoryError: Java heap space:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3745) ~[na:na]\nat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120) ~[na:na]\nat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95) ~[na:na]\nat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156) ~[na:na]\nat net.lingala.zip4j.io.outputstream.CountingOutputStream.write(CountingOutputStream.java:29) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.ZipEntryOutputStream.write(ZipEntryOutputStream.java:33) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.CipherOutputStream.write(CipherOutputStream.java:50) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.CompressedOutputStream.write(CompressedOutputStream.java:26) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.DeflaterOutputStream.deflate(DeflaterOutputStream.java:55) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.DeflaterOutputStream.closeEntry(DeflaterOutputStream.java:63) ~[zip4j-2.9.1.jar:na]\nat net.lingala.zip4j.io.outputstream.ZipOutputStream.closeEntry(ZipOutputStream.java:108) ~[zip4j-2.9.1.jar:na]\n</code></pre>\n<p>Do you think there is a solution to incrementally stream the Zip archive to S3 as it's being generating !?\nI mean something like parsing periodically the ByteArrayOutputStream and upload to s3, and after that reset the baos..</p>\n<p>If not what are the alternatives ? writing on the disk, and read it and uploaded to s3 ? hmm or maybe compressed in batches ?</p>\n<p>Just for the curiosity, I've tried to processed the documents in batches. Something like after 100 documents, write in the Zip, and retake the process. The issue here was that every 100 documents will overwrite the existing Zip. So this again wasn't working.\nI've tried to call this for every 100 documents:</p>\n<pre><code>new ZipFile(&quot;test.zip&quot;).addStream(new ByteArrayInputStream(baos_lisb.toByteArray()), zp);\n</code></pre>\n<p>, but as I said is overwriting the zip content, so it's not appending.</p>\n<p>Thanks upfront</p>\n"},{"tags":["javascript","java","vaadin","vaadin-flow","vaadin14"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":2,"creation_date":1648204405,"post_id":71615352,"comment_id":126570626,"body_markdown":"Did you try adding &#39;return&#39; to your Javascript call?","body":"Did you try adding &#39;return&#39; to your Javascript call?"}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648217030,"creation_date":1648217030,"answer_id":71618224,"question_id":71615352,"body_markdown":"You should have `&quot;return document.getElementById(&quot;test&quot;).scrollTop&quot;` as the JavaScript expression. Otherwise you&#39;re just returning nothing.","title":"Vaadin22 dosen&#39;t return value for expression","body":"<p>You should have <code>&quot;return document.getElementById(&quot;test&quot;).scrollTop&quot;</code> as the JavaScript expression. Otherwise you're just returning nothing.</p>\n"}],"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71618224,"answer_count":1,"score":1,"last_activity_date":1648217030,"creation_date":1648203669,"question_id":71615352,"body_markdown":"When i call ``UI.getCurrent().getPage().executeJs(&quot;document.getElementById(&quot;test&quot;).scrollTop&quot;)``\r\nthe ``PendingJavaScriptResult`` always returns null. No error is given through the error handler. When i execute the javascript in the console of the browser everything works fine.\r\n\r\nWhat am i doing wrong here?","title":"Vaadin22 dosen&#39;t return value for expression","body":"<p>When i call <code>UI.getCurrent().getPage().executeJs(&quot;document.getElementById(&quot;test&quot;).scrollTop&quot;)</code>\nthe <code>PendingJavaScriptResult</code> always returns null. No error is given through the error handler. When i execute the javascript in the console of the browser everything works fine.</p>\n<p>What am i doing wrong here?</p>\n"},{"tags":["java","json","api","jackson","jq"],"comments":[{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1648150547,"post_id":71608432,"comment_id":126558459,"body_markdown":"Do you have a java bean for this data","body":"Do you have a java bean for this data"},{"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"score":0,"creation_date":1648150640,"post_id":71608432,"comment_id":126558491,"body_markdown":"Why do you want to sort a json? you can compare by attribute instead by order. You can specify the specific order you receive a json with an annotation. But its easier doing it by attribute","body":"Why do you want to sort a json? you can compare by attribute instead by order. You can specify the specific order you receive a json with an annotation. But its easier doing it by attribute"},{"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"score":0,"creation_date":1648153015,"post_id":71608432,"comment_id":126559221,"body_markdown":"@Cayman I have written an automation script to compare results from different environments, not just this JSON. In order to compare the JSON, I need to write my script in a generic way. As you said, I can compare by attribute, but I need to compare all the json data in any format, and it&#39;s not possible to change the json format in the code.","body":"@Cayman I have written an automation script to compare results from different environments, not just this JSON. In order to compare the JSON, I need to write my script in a generic way. As you said, I can compare by attribute, but I need to compare all the json data in any format, and it&#39;s not possible to change the json format in the code."},{"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"score":0,"creation_date":1648153148,"post_id":71608432,"comment_id":126559265,"body_markdown":"@DavidKariuki Nope","body":"@DavidKariuki Nope"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1648160112,"post_id":71608432,"comment_id":126561291,"body_markdown":"If it&#39;s not only Java code, then jq might help. https://stedolan.github.io/jq/manual/.\nSearch for `sort`","body":"If it&#39;s not only Java code, then jq might help. <a href=\"https://stedolan.github.io/jq/manual/\" rel=\"nofollow noreferrer\">stedolan.github.io/jq/manual</a>. Search for <code>sort</code>"},{"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"score":0,"creation_date":1648205924,"post_id":71608432,"comment_id":126571197,"body_markdown":"@ShaharT  Thanks . I tried with jq -s .Json.json &gt; out.json, No outputs. can I know how to pass thee jq to sort by attribute name","body":"@ShaharT  Thanks . I tried with jq -s .Json.json &gt; out.json, No outputs. can I know how to pass thee jq to sort by attribute name"},{"owner":{"account_id":162724,"reputation":3055,"user_id":384366,"display_name":"qmacro"},"score":0,"creation_date":1648207103,"post_id":71608432,"comment_id":126571613,"body_markdown":"Confused. If one were to sort the JsonFile 1 by attribute &quot;name&quot; in ascending order, I don&#39;t think the expected output would look like JsonFile2. Also, there are &quot;name&quot; attributes at two levels, but assuming you mean the `type_fields` array, your JsonFile2 target example is also not sorted by &quot;name&quot;.","body":"Confused. If one were to sort the JsonFile 1 by attribute &quot;name&quot; in ascending order, I don&#39;t think the expected output would look like JsonFile2. Also, there are &quot;name&quot; attributes at two levels, but assuming you mean the <code>type_fields</code> array, your JsonFile2 target example is also not sorted by &quot;name&quot;."},{"owner":{"account_id":2478374,"reputation":27979,"user_id":2158479,"display_name":"pmf"},"score":0,"creation_date":1648217199,"post_id":71608432,"comment_id":126575359,"body_markdown":"@VivekaRaja Can you please explain how your desired sorting should change the content of `.data.name` from `reusable_text__v` to `reusable_text__c`, the value of `.data.label` from `Reusable Text` to `Reusable Text Asset`, and the value of `.data.label_plural` from `Reusable Text` to `Reusable Text Assets`?","body":"@VivekaRaja Can you please explain how your desired sorting should change the content of <code>.data.name</code> from <code>reusable_text__v</code> to <code>reusable_text__c</code>, the value of <code>.data.label</code> from <code>Reusable Text</code> to <code>Reusable Text Asset</code>, and the value of <code>.data.label_plural</code> from <code>Reusable Text</code> to <code>Reusable Text Assets</code>?"},{"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"score":0,"creation_date":1648325476,"post_id":71608432,"comment_id":126597380,"body_markdown":"@qmacro you&#39;re correct. I need to sort by name of type_fields","body":"@qmacro you&#39;re correct. I need to sort by name of type_fields"},{"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"score":0,"creation_date":1648325689,"post_id":71608432,"comment_id":126597425,"body_markdown":"@pmf Correct pmf, that I got from another environment. Please forget about json 2 .If I could sort the json1 file by attribute name in type_fields, will help to compare using my automation code","body":"@pmf Correct pmf, that I got from another environment. Please forget about json 2 .If I could sort the json1 file by attribute name in type_fields, will help to compare using my automation code"}],"answers":[{"tags":[],"owner":{"account_id":2478374,"reputation":27979,"user_id":2158479,"display_name":"pmf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648216935,"creation_date":1648216935,"answer_id":71618197,"question_id":71608432,"body_markdown":"You can sort the array located at `.data.type_fields` by its  object items&#39; field `.name` using `sort_by` and the update operator `|=`. \r\n~~~sh\r\njq &#39;.data.type_fields |= sort_by(.name)&#39; JsonFile1 &gt; JsonFile2\r\n~~~\r\n[Demo](https://jqplay.org/s/YNMTg4rgAr)\r\n\r\nHowever, when sorting your sample `JsonFile1` that way, the resulting JSON does not look like your sample `JsonFile2`.\r\n~~~json\r\n{\r\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;name&quot;: &quot;reusable_text__v&quot;,\r\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\r\n    &quot;label&quot;: &quot;Reusable Text&quot;,\r\n    &quot;label_plural&quot;: &quot;Reusable Text&quot;,\r\n    &quot;active&quot;: true,\r\n    &quot;additional_type_validations&quot;: [],\r\n    &quot;type_fields&quot;: [\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;country__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;global_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;id&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;lifecycle__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;link__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;name__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;object_type__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;product__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_content__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_type__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;source_text_asset__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;stage__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;state__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;status__v&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n~~~\r\n","title":"How can I sort a JSON file by an attribute in asec order?","body":"<p>You can sort the array located at <code>.data.type_fields</code> by its  object items' field <code>.name</code> using <code>sort_by</code> and the update operator <code>|=</code>.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jq '.data.type_fields |= sort_by(.name)' JsonFile1 &gt; JsonFile2\n</code></pre>\n<p><a href=\"https://jqplay.org/s/YNMTg4rgAr\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>However, when sorting your sample <code>JsonFile1</code> that way, the resulting JSON does not look like your sample <code>JsonFile2</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\n  &quot;data&quot;: {\n    &quot;name&quot;: &quot;reusable_text__v&quot;,\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\n    &quot;label&quot;: &quot;Reusable Text&quot;,\n    &quot;label_plural&quot;: &quot;Reusable Text&quot;,\n    &quot;active&quot;: true,\n    &quot;additional_type_validations&quot;: [],\n    &quot;type_fields&quot;: [\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;country__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_date__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;global_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;id&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;lifecycle__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;link__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_date__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;name__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;object_type__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;product__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;reusable_text_content__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;reusable_text_type__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;source_text_asset__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;stage__sys&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;state__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;status__v&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6611395,"reputation":1,"user_id":5106372,"display_name":"Viveka Raja"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648216935,"creation_date":1648150382,"question_id":71608432,"body_markdown":"I have two JSON files to compare, and one of the outputs isn&#39;t in the right order. In order to compare a json file with another, \r\nI need to sort it by the name attribute. However, I encountered many difficulties. Can anyone help me solve this issue?\r\n\r\nOr Is there any way to sort the JsonFile 1 by attribute &quot;name&quot; is ascending order ( Expected output- JsonFile2)\r\n\r\n I tried with jq -s .Json.json &gt; out.json, No outputs. can I know how to pass thee jq to sort by attribute name ?\r\n\r\n**JsonFile1**:\r\n\r\n```json\r\n{\r\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;name&quot;: &quot;reusable_text__v&quot;,\r\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\r\n    &quot;label&quot;: &quot;Reusable Text&quot;,\r\n    &quot;label_plural&quot;: &quot;Reusable Text&quot;,\r\n    &quot;active&quot;: true,\r\n    &quot;additional_type_validations&quot;: [],\r\n    &quot;type_fields&quot;: [{\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_content__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_type__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;source_text_asset__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;country__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;product__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;id&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;name__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;status__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;global_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;link__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;object_type__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;lifecycle__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;state__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;stage__sys&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n**JsonFile2**: (I need to sort previous json format by the name attribute in ascending order)\r\n\r\n```json\r\n{\r\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;name&quot;: &quot;reusable_text__c&quot;,\r\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\r\n    &quot;label&quot;: &quot;Reusable Text Asset&quot;,\r\n    &quot;label_plural&quot;: &quot;Reusable Text Assets&quot;,\r\n    &quot;active&quot;: true,\r\n    &quot;additional_type_validations&quot;: [],\r\n    &quot;type_fields&quot;: [{\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;id&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;object_type__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;name__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;status__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;created_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_by__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;standard&quot;,\r\n        &quot;name&quot;: &quot;modified_date__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;global_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;link__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;lifecycle__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;state__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;match_text__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;system&quot;,\r\n        &quot;name&quot;: &quot;stage__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: true,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_content__c&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;reusable_text_type__c&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;country__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;product__v&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\r\n      },\r\n      {\r\n        &quot;required&quot;: false,\r\n        &quot;source&quot;: &quot;custom&quot;,\r\n        &quot;name&quot;: &quot;source_text_asset__c&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI tried `JsonArray` and `JsonObject`, but did not succeed in finding the correct solution","title":"How can I sort a JSON file by an attribute in asec order?","body":"<p>I have two JSON files to compare, and one of the outputs isn't in the right order. In order to compare a json file with another,\nI need to sort it by the name attribute. However, I encountered many difficulties. Can anyone help me solve this issue?</p>\n<p>Or Is there any way to sort the JsonFile 1 by attribute &quot;name&quot; is ascending order ( Expected output- JsonFile2)</p>\n<p>I tried with jq -s .Json.json &gt; out.json, No outputs. can I know how to pass thee jq to sort by attribute name ?</p>\n<p><strong>JsonFile1</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\n  &quot;data&quot;: {\n    &quot;name&quot;: &quot;reusable_text__v&quot;,\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\n    &quot;label&quot;: &quot;Reusable Text&quot;,\n    &quot;label_plural&quot;: &quot;Reusable Text&quot;,\n    &quot;active&quot;: true,\n    &quot;additional_type_validations&quot;: [],\n    &quot;type_fields&quot;: [{\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;reusable_text_content__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;reusable_text_type__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;source_text_asset__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;country__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;product__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;id&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;name__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;status__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_date__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_date__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;global_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;link__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;object_type__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;lifecycle__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;state__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;stage__sys&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p><strong>JsonFile2</strong>: (I need to sort previous json format by the name attribute in ascending order)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;responseStatus&quot;: &quot;SUCCESS&quot;,\n  &quot;data&quot;: {\n    &quot;name&quot;: &quot;reusable_text__c&quot;,\n    &quot;object&quot;: &quot;annotation_keywords__sys&quot;,\n    &quot;label&quot;: &quot;Reusable Text Asset&quot;,\n    &quot;label_plural&quot;: &quot;Reusable Text Assets&quot;,\n    &quot;active&quot;: true,\n    &quot;additional_type_validations&quot;: [],\n    &quot;type_fields&quot;: [{\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;id&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;object_type__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;name__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;status__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;created_date__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_by__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;standard&quot;,\n        &quot;name&quot;: &quot;modified_date__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;global_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;link__sys&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;lifecycle__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;state__v&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;match_text__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;state_stage_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;system&quot;,\n        &quot;name&quot;: &quot;stage__sys&quot;\n      },\n      {\n        &quot;required&quot;: true,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;reusable_text_content__c&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_id__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;reusable_text_type__c&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;country__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;product__v&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;create_from_annotation_source_unbound__sys&quot;\n      },\n      {\n        &quot;required&quot;: false,\n        &quot;source&quot;: &quot;custom&quot;,\n        &quot;name&quot;: &quot;source_text_asset__c&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I tried <code>JsonArray</code> and <code>JsonObject</code>, but did not succeed in finding the correct solution</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17789506,"reputation":369,"user_id":12918869,"display_name":"noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648216615,"creation_date":1648216615,"answer_id":71618116,"question_id":71615721,"body_markdown":"you will need to create a model class here which has all attributes present in response and each attribute must be mapped with @JsonProperty\r\n\r\nkey here is to understand @JsonPropery annotation\r\nfor eg\r\n\r\n    public class Data{\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n    @JsonProperty(&quot;auth&quot;)\r\n    private String auth;\r\n    }\r\n\r\nand soo on","title":"How to map response with objects instead of a list of objects with Spring Boot in Api Client","body":"<p>you will need to create a model class here which has all attributes present in response and each attribute must be mapped with @JsonProperty</p>\n<p>key here is to understand @JsonPropery annotation\nfor eg</p>\n<pre><code>public class Data{\n@JsonProperty(&quot;id&quot;)\nprivate String id;\n@JsonProperty(&quot;auth&quot;)\nprivate String auth;\n}\n</code></pre>\n<p>and soo on</p>\n"}],"owner":{"account_id":20820370,"reputation":1,"user_id":15292163,"display_name":"Adrian K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648216615,"creation_date":1648205472,"question_id":71615721,"body_markdown":"How should I create a class for an api response that returns objects instead of a list of objects? I&#39;m using Spring Boot and RestTemplate and don&#39;t know how to go about it.\r\nThis is a response:\r\n\r\n```\r\n{\r\n   &quot;status&quot;:200,\r\n   &quot;data&quot;:{\r\n      &quot;1&quot;:{\r\n         &quot;id&quot;:&quot;1&quot;,\r\n         &quot;auth&quot;:&quot;manual&quot;,\r\n         &quot;confirmed&quot;:&quot;1&quot;,\r\n         &quot;policyagreed&quot;:&quot;0&quot;,\r\n         &quot;deleted&quot;:&quot;0&quot;,\r\n         &quot;suspended&quot;:&quot;0&quot;,\r\n         &quot;mnethostid&quot;:&quot;1&quot;,\r\n         &quot;username&quot;:&quot;guest&quot;,\r\n         &quot;password&quot;:&quot;&quot;,\r\n         &quot;idnumber&quot;:&quot;&quot;,\r\n         &quot;firstname&quot;:&quot;Guest user&quot;,\r\n         &quot;lastname&quot;:&quot; &quot;,\r\n         &quot;email&quot;:&quot;root@localhost&quot;,\r\n         &quot;emailstop&quot;:&quot;0&quot;,\r\n         &quot;icq&quot;:&quot;&quot;,\r\n         &quot;skype&quot;:&quot;&quot;,\r\n         &quot;yahoo&quot;:&quot;&quot;,\r\n         &quot;aim&quot;:&quot;&quot;,\r\n         &quot;msn&quot;:&quot;&quot;,\r\n         &quot;phone1&quot;:&quot;&quot;,\r\n         &quot;phone2&quot;:&quot;&quot;,\r\n         &quot;institution&quot;:&quot;&quot;,\r\n         &quot;department&quot;:&quot;&quot;,\r\n         &quot;address&quot;:&quot;&quot;,\r\n         &quot;city&quot;:&quot;&quot;,\r\n         &quot;country&quot;:&quot;&quot;,\r\n         &quot;lang&quot;:&quot;en&quot;,\r\n         &quot;calendartype&quot;:&quot;gregorian&quot;,\r\n         &quot;theme&quot;:&quot;&quot;,\r\n         &quot;timezone&quot;:&quot;99&quot;,\r\n         &quot;firstaccess&quot;:&quot;0&quot;,\r\n         &quot;lastaccess&quot;:&quot;0&quot;,\r\n         &quot;lastlogin&quot;:&quot;0&quot;,\r\n         &quot;currentlogin&quot;:&quot;0&quot;,\r\n         &quot;lastip&quot;:&quot;&quot;,\r\n         &quot;secret&quot;:&quot;&quot;,\r\n         &quot;picture&quot;:&quot;0&quot;,\r\n         &quot;url&quot;:&quot;&quot;,\r\n         &quot;description&quot;:&quot;&quot;,\r\n         &quot;descriptionformat&quot;:&quot;1&quot;,\r\n         &quot;mailformat&quot;:&quot;1&quot;,\r\n         &quot;maildigest&quot;:&quot;0&quot;,\r\n         &quot;maildisplay&quot;:&quot;2&quot;,\r\n         &quot;autosubscribe&quot;:&quot;1&quot;,\r\n         &quot;trackforums&quot;:&quot;0&quot;,\r\n         &quot;timecreated&quot;:&quot;0&quot;,\r\n         &quot;timemodified&quot;:&quot;1584114527&quot;,\r\n         &quot;trustbitmask&quot;:&quot;0&quot;,\r\n         &quot;imagealt&quot;:null,\r\n         &quot;lastnamephonetic&quot;:null,\r\n         &quot;firstnamephonetic&quot;:null,\r\n         &quot;middlename&quot;:null,\r\n         &quot;alternatename&quot;:null,\r\n         &quot;moodlenetprofile&quot;:null\r\n      },\r\n      &quot;2&quot;:&quot;....&quot;\r\n   }\r\n}\r\n```\r\n\r\nI tried something like this:\r\npublic class MoodleResponse {\r\n\r\n    private Integer status;\r\n    private Data data;\r\n    \r\n    public Integer getStatus() {\r\n        return status;\r\n    }\r\n    \r\n    public void setStatus(Integer status) {\r\n        this.status = status;\r\n    }\r\n    \r\n    public Data getData() {\r\n        return data;\r\n    }\r\n    \r\n    public void setData(Data data) {\r\n        this.data = data;\r\n    }\r\n\r\npublic class Data {\r\n\r\n    private HashMap&lt;String, MoodleUser&gt; map;\r\n    \r\n    public HashMap&lt;String, MoodleUser&gt; getMap() {\r\n        return map;\r\n    }\r\n    \r\n    public void setMap(HashMap&lt;String, MoodleUser&gt; map) {\r\n        this.map = map;\r\n    }\r\n\r\n}\r\n\r\nIt doesn&#39;t work. I&#39;ve never encountered anything like this.","title":"How to map response with objects instead of a list of objects with Spring Boot in Api Client","body":"<p>How should I create a class for an api response that returns objects instead of a list of objects? I'm using Spring Boot and RestTemplate and don't know how to go about it.\nThis is a response:</p>\n<pre><code>{\n   &quot;status&quot;:200,\n   &quot;data&quot;:{\n      &quot;1&quot;:{\n         &quot;id&quot;:&quot;1&quot;,\n         &quot;auth&quot;:&quot;manual&quot;,\n         &quot;confirmed&quot;:&quot;1&quot;,\n         &quot;policyagreed&quot;:&quot;0&quot;,\n         &quot;deleted&quot;:&quot;0&quot;,\n         &quot;suspended&quot;:&quot;0&quot;,\n         &quot;mnethostid&quot;:&quot;1&quot;,\n         &quot;username&quot;:&quot;guest&quot;,\n         &quot;password&quot;:&quot;&quot;,\n         &quot;idnumber&quot;:&quot;&quot;,\n         &quot;firstname&quot;:&quot;Guest user&quot;,\n         &quot;lastname&quot;:&quot; &quot;,\n         &quot;email&quot;:&quot;root@localhost&quot;,\n         &quot;emailstop&quot;:&quot;0&quot;,\n         &quot;icq&quot;:&quot;&quot;,\n         &quot;skype&quot;:&quot;&quot;,\n         &quot;yahoo&quot;:&quot;&quot;,\n         &quot;aim&quot;:&quot;&quot;,\n         &quot;msn&quot;:&quot;&quot;,\n         &quot;phone1&quot;:&quot;&quot;,\n         &quot;phone2&quot;:&quot;&quot;,\n         &quot;institution&quot;:&quot;&quot;,\n         &quot;department&quot;:&quot;&quot;,\n         &quot;address&quot;:&quot;&quot;,\n         &quot;city&quot;:&quot;&quot;,\n         &quot;country&quot;:&quot;&quot;,\n         &quot;lang&quot;:&quot;en&quot;,\n         &quot;calendartype&quot;:&quot;gregorian&quot;,\n         &quot;theme&quot;:&quot;&quot;,\n         &quot;timezone&quot;:&quot;99&quot;,\n         &quot;firstaccess&quot;:&quot;0&quot;,\n         &quot;lastaccess&quot;:&quot;0&quot;,\n         &quot;lastlogin&quot;:&quot;0&quot;,\n         &quot;currentlogin&quot;:&quot;0&quot;,\n         &quot;lastip&quot;:&quot;&quot;,\n         &quot;secret&quot;:&quot;&quot;,\n         &quot;picture&quot;:&quot;0&quot;,\n         &quot;url&quot;:&quot;&quot;,\n         &quot;description&quot;:&quot;&quot;,\n         &quot;descriptionformat&quot;:&quot;1&quot;,\n         &quot;mailformat&quot;:&quot;1&quot;,\n         &quot;maildigest&quot;:&quot;0&quot;,\n         &quot;maildisplay&quot;:&quot;2&quot;,\n         &quot;autosubscribe&quot;:&quot;1&quot;,\n         &quot;trackforums&quot;:&quot;0&quot;,\n         &quot;timecreated&quot;:&quot;0&quot;,\n         &quot;timemodified&quot;:&quot;1584114527&quot;,\n         &quot;trustbitmask&quot;:&quot;0&quot;,\n         &quot;imagealt&quot;:null,\n         &quot;lastnamephonetic&quot;:null,\n         &quot;firstnamephonetic&quot;:null,\n         &quot;middlename&quot;:null,\n         &quot;alternatename&quot;:null,\n         &quot;moodlenetprofile&quot;:null\n      },\n      &quot;2&quot;:&quot;....&quot;\n   }\n}\n</code></pre>\n<p>I tried something like this:\npublic class MoodleResponse {</p>\n<pre><code>private Integer status;\nprivate Data data;\n\npublic Integer getStatus() {\n    return status;\n}\n\npublic void setStatus(Integer status) {\n    this.status = status;\n}\n\npublic Data getData() {\n    return data;\n}\n\npublic void setData(Data data) {\n    this.data = data;\n}\n</code></pre>\n<p>public class Data {</p>\n<pre><code>private HashMap&lt;String, MoodleUser&gt; map;\n\npublic HashMap&lt;String, MoodleUser&gt; getMap() {\n    return map;\n}\n\npublic void setMap(HashMap&lt;String, MoodleUser&gt; map) {\n    this.map = map;\n}\n</code></pre>\n<p>}</p>\n<p>It doesn't work. I've never encountered anything like this.</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1648090270,"post_id":71596490,"comment_id":126538440,"body_markdown":"Hint: Use events. For the duration of your invulnerability you need to first register, then capture any knockback and damage events and cancel/consume them so that the default Minecraft behaviour does not occur. Note that this can break other mods/plugins if the priority or order of events is in the wrong order.","body":"Hint: Use events. For the duration of your invulnerability you need to first register, then capture any knockback and damage events and cancel/consume them so that the default Minecraft behaviour does not occur. Note that this can break other mods/plugins if the priority or order of events is in the wrong order."}],"answers":[{"tags":[],"owner":{"account_id":8402074,"reputation":33,"user_id":6306878,"display_name":"GuyMate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648124940,"creation_date":1648124940,"answer_id":71602572,"question_id":71596490,"body_markdown":"I&#39;d do this by having an array, say\r\n\r\n```ArrayList&lt;UUID&gt; forceFieldArray = new ArrayList&lt;UUID&gt;();```\r\n\r\nthen whenever you want to activate your player&#39;s forcefield use a BukkitRunnable to set a delayed task.\r\n```\r\nforceFieldArray.add(player.getUniqueId());\r\nnew BukkitRunnable() {\r\n    @Override\r\n    public void run() {\r\n        forceFieldArray.remove(player.getUniqueId());\r\n    }\r\n}.runTaskLater(plugin, 200L);\r\n```\r\nJust remember that the &#39;200L&#39; in there is ticks, 20 ticks to a second so 200L is 10 seconds. This adds the player to the array, then in ten seconds it&#39;ll remove the player. Using this you can now use that array to check if players have the force field active.\r\n```\r\npublic void onPlayerDamage(EntityDamageEvent e) {\r\n    //Check if entity is player\r\n    //Create player variable\r\n    if(e.getCause() == DamageCause./*[Damage type you want to cancel]*/) {\r\n        if(forceFieldArray.contains(player.getUniqueId())) {\r\n            e.setCancelled(true);\r\n        }\r\n    }\r\n}\r\n```\r\nThis way you could even make a config with a list in there, have all the types of damage you want the forcefield to block then just above the ifs bring that data into an Array and say ```if(configArray.contains(e.getCause()) { //Do stuff```\r\n\r\nHope this helped!","title":"How could I make a force field effect on a player?","body":"<p>I'd do this by having an array, say</p>\n<p><code>ArrayList&lt;UUID&gt; forceFieldArray = new ArrayList&lt;UUID&gt;();</code></p>\n<p>then whenever you want to activate your player's forcefield use a BukkitRunnable to set a delayed task.</p>\n<pre><code>forceFieldArray.add(player.getUniqueId());\nnew BukkitRunnable() {\n    @Override\n    public void run() {\n        forceFieldArray.remove(player.getUniqueId());\n    }\n}.runTaskLater(plugin, 200L);\n</code></pre>\n<p>Just remember that the '200L' in there is ticks, 20 ticks to a second so 200L is 10 seconds. This adds the player to the array, then in ten seconds it'll remove the player. Using this you can now use that array to check if players have the force field active.</p>\n<pre><code>public void onPlayerDamage(EntityDamageEvent e) {\n    //Check if entity is player\n    //Create player variable\n    if(e.getCause() == DamageCause./*[Damage type you want to cancel]*/) {\n        if(forceFieldArray.contains(player.getUniqueId())) {\n            e.setCancelled(true);\n        }\n    }\n}\n</code></pre>\n<p>This way you could even make a config with a list in there, have all the types of damage you want the forcefield to block then just above the ifs bring that data into an Array and say <code>if(configArray.contains(e.getCause()) { //Do stuff</code></p>\n<p>Hope this helped!</p>\n"}],"owner":{"account_id":24665944,"reputation":7,"user_id":18561599,"display_name":"Nova__A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602572,"answer_count":1,"score":0,"last_activity_date":1648216454,"creation_date":1648089750,"question_id":71596490,"body_markdown":"I want to make a player Invunerable to damage and all knockback for a certain period of time (except for fall damage). My rpoblem is that the bukkit runable is not wroking as intended:\r\n\r\n      public class WeaponEvents implements Listener {\r\n    private Elemental_weapons plugin;\r\n    ArrayList&lt;UUID&gt; forceFieldArray = new ArrayList&lt;UUID&gt;();\r\n\r\n    @EventHandler\r\n    public void onplayercrouchevent(PlayerToggleSneakEvent event) {\r\n        boolean issneaking = event.isSneaking();\r\n        Player player = event.getPlayer();\r\n        if (issneaking==true) {\r\n\r\n            if (player.getInventory().getChestplate().equals(Weapons.chestplate)) {\r\n\r\n                forceFieldArray.add(player.getUniqueId());\r\n                Bukkit.broadcastMessage(String.valueOf(forceFieldArray));\r\n                new BukkitRunnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Bukkit.broadcastMessage(&quot;no more&quot;);\r\n                        forceFieldArray.remove(player.getUniqueId());\r\n                    }\r\n                }.runTaskLater( plugin, 200L);\r\n                while (forceFieldArray.contains(player.getUniqueId())) {\r\n\r\n                }\r\n            }\r\n        }\r\n    }","title":"How could I make a force field effect on a player?","body":"<p>I want to make a player Invunerable to damage and all knockback for a certain period of time (except for fall damage). My rpoblem is that the bukkit runable is not wroking as intended:</p>\n<pre><code>  public class WeaponEvents implements Listener {\nprivate Elemental_weapons plugin;\nArrayList&lt;UUID&gt; forceFieldArray = new ArrayList&lt;UUID&gt;();\n\n@EventHandler\npublic void onplayercrouchevent(PlayerToggleSneakEvent event) {\n    boolean issneaking = event.isSneaking();\n    Player player = event.getPlayer();\n    if (issneaking==true) {\n\n        if (player.getInventory().getChestplate().equals(Weapons.chestplate)) {\n\n            forceFieldArray.add(player.getUniqueId());\n            Bukkit.broadcastMessage(String.valueOf(forceFieldArray));\n            new BukkitRunnable() {\n                @Override\n                public void run() {\n                    Bukkit.broadcastMessage(&quot;no more&quot;);\n                    forceFieldArray.remove(player.getUniqueId());\n                }\n            }.runTaskLater( plugin, 200L);\n            while (forceFieldArray.contains(player.getUniqueId())) {\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","swing"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1648215987,"post_id":71617881,"comment_id":126574850,"body_markdown":"if you call ServerSocket.accept, that call blocks. That means the thread that it is running in won&#39;t run anything until somone connects. Networking stuff means you need to use threads for accepting new connections and reading from an inputstream.","body":"if you call ServerSocket.accept, that call blocks. That means the thread that it is running in won&#39;t run anything until somone connects. Networking stuff means you need to use threads for accepting new connections and reading from an inputstream."},{"owner":{"account_id":5565701,"reputation":115,"user_id":4413108,"accept_rate":88,"display_name":"ZpCikTi"},"score":1,"creation_date":1648221577,"post_id":71617881,"comment_id":126577176,"body_markdown":"Your comment changed my perspective and I searched in different way. Actually there was an answer but I didn&#39;t find before that comment. Thank you @f1sh , This link answer of question: https://stackoverflow.com/questions/15541804/creating-the-serversocket-in-a-separate-thread","body":"Your comment changed my perspective and I searched in different way. Actually there was an answer but I didn&#39;t find before that comment. Thank you @f1sh , This link answer of question: <a href=\"https://stackoverflow.com/questions/15541804/creating-the-serversocket-in-a-separate-thread\" title=\"creating the serversocket in a separate thread\">stackoverflow.com/questions/15541804/&hellip;</a>"}],"owner":{"account_id":5565701,"reputation":115,"user_id":4413108,"accept_rate":88,"display_name":"ZpCikTi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648216367,"creation_date":1648215546,"question_id":71617881,"body_markdown":" When I start program without tcp server, my program work correctly but when tcp server gets involved my second gui screen is not working. I am asking why do I have such a problem.How to make server ready.&lt;br/&gt;\r\nThis my ServerClass;\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Server {\r\n    \r\n    \tprivate ServerSocket serverSocket;\r\n    \r\n    \tpublic Server(ServerSocket serverSocket) {\r\n    \t\tthis.serverSocket = serverSocket;\r\n    \t}\r\n    \r\n    \tpublic void startServer() {\r\n    \t\ttry {\r\n    \t\t\twhile (!serverSocket.isClosed()) {\r\n    \t\t\t\tSocket socket = serverSocket.accept();\r\n    \t\t\t\tSystem.out.println(&quot;Bağlandı&quot;);\r\n    \t\t\t\tClientHandler clientHandler = new ClientHandler(socket);\r\n    \r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSvg svg = new Svg();\r\n    \r\n    \t\tsvg.getjBaslat().addActionListener(new ActionListener() {\r\n    \t\t\tint rectNo;\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\r\n    \t\t\t\t\tif (svg.getRectNo().getText().equals(&quot;&quot;)) {\r\n    \t\t\t\t\t\trectNo = 0;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\trectNo = Integer.parseInt(svg.getRectNo().getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsvg.setVis();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tDrawShapes dShapes = new DrawShapes(rectNo);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tServerSocket serverSocket = new ServerSocket(9090);\r\n    \t\t\t\t\t\tServer server = new Server(serverSocket);\r\n    \t\t\t\t\t\tserver.startServer();\r\n    \t\t\t\t\t} catch (IOException e1) {\r\n    \t\t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\t\t\t\r\n    \t\t});\r\n    \r\n    \t}\r\n    }\r\nClientHandler Class;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    \r\n    public class ClientHandler {\r\n    \r\n    \tpublic static ArrayList&lt;ClientHandler&gt; clientHandlers = new ArrayList&lt;&gt;();\r\n    \tprivate Socket socket;\r\n    \tprivate BufferedReader bufferedReader;\r\n    \tprivate BufferedWriter bufferedWriter;\r\n    \t\r\n    \tpublic ClientHandler(Socket socket) {\r\n    \t\ttry {\r\n    \t\t\tthis.socket = socket;\r\n    \t\t\tthis.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n    \t\t\tthis.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    \t\t\tclientHandlers.add(this);\r\n    \t\t}catch (IOException e) {\r\n    \t\t\tcloseEverything(socket, bufferedReader, bufferedWriter);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void removeClientHandler() {\r\n    \t\tclientHandlers.remove(this);\r\n    \t}\r\n    \t\r\n    \tpublic void closeEverything(Socket socket, BufferedReader bufferedReader, BufferedWriter bufferedWriter) {\r\n    \t\tremoveClientHandler();\r\n    \t\ttry {\r\n    \t\t\tif(bufferedReader != null) {\r\n    \t\t\t\tbufferedReader.close();\r\n    \t\t\t}if (bufferedWriter != null) {\r\n    \t\t\t\tbufferedWriter.close();\r\n    \t\t\t}if(socket != null) {\r\n    \t\t\t\tsocket.close();\r\n    \t\t\t}\r\n    \t\t}catch(IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nGui1 Class;\r\n\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class Gui1 {\r\n    \t\r\n    \tprivate JFrame jFrame;\r\n    \tprivate JLabel jRect;\r\n    \tprivate JButton jStart;\r\n    \tprivate JTextField rectNo;\r\n    \t\r\n    \tpublic Gui1() {\r\n    \t\tjFrame = new JFrame(&quot;Title&quot;);\r\n    \t\tjRect = new JLabel(&quot;Rect Number:&quot;);\r\n    \t\tjStart = new JButton(&quot;Start&quot;);\r\n    \t\trectNo = new JTextField();\r\n    \t\t\r\n    \t\tjRect.setBounds(10, 10, 120, 30);\r\n    \t\tjStart.setBounds(150, 40, 80, 25);\r\n    \t\trectNo.setBounds(150, 10, 80, 30);\r\n    \t\t\r\n    \t\t\r\n    \t\trectNo.addKeyListener(new KeyAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyPressed(KeyEvent e) {\r\n    \t\t\t\tString value = rectNo.getText();\r\n    \t\t\t\tint i = value.length();\r\n    \t\t\t\tif (e.getKeyChar() &gt;= &#39;0&#39; &amp;&amp; e.getKeyChar() &lt;= &#39;9&#39;) {\r\n    \t\t\t\t\trectNo.setEditable(true);\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\trectNo.setEditable(false);\r\n    \t\t\t\t\trectNo.setText(&quot;&quot;);\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\t\r\n    \t\tjFrame.add(jRect);\r\n    \t\tjFrame.add(jStart);\r\n    \t\tjFrame.add(rectNo);\r\n    \t\tjFrame.setSize(250,125);\r\n    \t\tjFrame.setLayout(null);\r\n    \t\tjFrame.setDefaultCloseOperation(3);\r\n    \t\tjFrame.setResizable(false);\r\n    \t\tjFrame.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic JButton getjBaslat() {\r\n    \t\treturn jStart;\r\n    \t}\r\n    \t\r\n    \tpublic JTextField getRectNo() {\r\n    \t\treturn rectNo;\r\n    \t}\r\n    \t\r\n    \tpublic JFrame getjFrame() {\r\n    \t\treturn jFrame;\r\n    \t}\r\n    \t\r\n    \tpublic void setVis() {\r\n    \t\tif(jFrame.isVisible()) {\r\n    \t\t\tjFrame.setVisible(false);\r\n    \t\t}else {\r\n    \t\t\tjFrame.setVisible(true);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nDrawShapes Class;\r\n\r\n    import javax.swing.JFrame;\r\n    \r\n    public class DrawShapes extends JFrame {\r\n    \tprivate final static int GENISLIK = 800;\r\n    \tprivate final static int YUKSEKLIK = 600;\r\n    \r\n    \tpublic DrawShapes(int x) {\r\n    \t\tsetSize(GENISLIK, YUKSEKLIK);\r\n    \t\tsetTitle(&quot;Sunucu&quot;);\r\n    \t\tsetResizable(true);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tPanel panel = new Panel(x);\r\n    \t\tadd(panel);\r\n    \r\n    \t\tsetVisible(true);\r\n    \t}\r\n    }\r\n\r\n Panel Class;\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    \r\n    public class Panel extends JPanel implements ActionListener {\r\n    \tprivate List&lt;Object&gt; sekil = new ArrayList&lt;&gt;();\r\n    \tTimer timer;\r\n    \r\n    \tpublic Panel(int x) {\r\n    \t\tthis.setFocusable(true);\r\n    \t\ttimer = new Timer(20, this);\r\n    \t\ttimer.start();\r\n    \t\taddRect(x);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tfor (Object s : sekil) {\r\n    \t\t\tif (s instanceof Rect) {\r\n    \t\t\t\t((Rect) s).paint(g);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void update() {\r\n    \r\n    \t\tfor (Object s : sekil) {\r\n    \t\t\tif (s instanceof Rect) {\r\n    \t\t\t\t((Rect) s).update();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\trepaint();\r\n    \t\tupdate();\r\n    \r\n    \t}\r\n    \r\n    \tprivate void addRect(int i) {\r\n    \t\tfor (int a = 0; a &lt; i; a++) {\r\n    \t\t\tsekil.add(new Rect());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n  React Class;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.util.Random;\r\n    \r\n    public class Rect {\r\n    \tprivate final static int GENISLIK = 800;\r\n    \tprivate final static int YUKSEKLIK = 600;\r\n    \tprivate final static int eksi = 20;\r\n    \r\n    \tRandom r = new Random();\r\n    \tint x = r.nextInt(670);\r\n    \tint y = r.nextInt(525);\r\n    \tint genislik = (int) Math.floor(Math.random() * (70 - 20 + 1) + 20);\r\n    \tint yukseklik = (int) Math.floor(Math.random() * (50 - 15 + 1) + 15);\r\n    \tint adım = (int) Math.floor(Math.random() * (10 - 1 + 1) + 1);\r\n    \tfloat f1 = r.nextFloat();\r\n    \tfloat f2 = r.nextFloat() / 2f;\r\n    \tfloat f3 = r.nextFloat() / 2f;\r\n    \r\n    \tpublic void paint(Graphics g) {\r\n    \t\tColor rastgeleRenk = new Color(f1, f2, f3);\r\n    \t\tg.setColor(rastgeleRenk);\r\n    \t\tg.fillRect(x, y, genislik, yukseklik);\r\n    \t}\r\n    \r\n    \tpublic void update() {\r\n    \t\tif ((x + genislik) &gt; (GENISLIK - eksi) || x &lt; 0) {\r\n    \t\t\tadım = -adım;\r\n    \t\t}\r\n    \t\tx = x + adım;\r\n    \t}\r\n    }\r\n\r\nI tried so many different ways to solve this problem but I can&#39;t see my fault. Maybe I made mistake thread section or made server connection false. I don&#39;t find any solution.&lt;br/&gt;          Thanks to all concerned.","title":"When I use tcp server my program doesn&#39;t work correctly","body":"<p>When I start program without tcp server, my program work correctly but when tcp server gets involved my second gui screen is not working. I am asking why do I have such a problem.How to make server ready.<br/>\nThis my ServerClass;</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n\n    private ServerSocket serverSocket;\n\n    public Server(ServerSocket serverSocket) {\n        this.serverSocket = serverSocket;\n    }\n\n    public void startServer() {\n        try {\n            while (!serverSocket.isClosed()) {\n                Socket socket = serverSocket.accept();\n                System.out.println(&quot;Bağlandı&quot;);\n                ClientHandler clientHandler = new ClientHandler(socket);\n\n            }\n        } catch (IOException e) {\n\n        }\n    }\n\n    public static void main(String[] args) {\n        \n        Svg svg = new Svg();\n\n        svg.getjBaslat().addActionListener(new ActionListener() {\n            int rectNo;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                \n                    if (svg.getRectNo().getText().equals(&quot;&quot;)) {\n                        rectNo = 0;\n                    } else {\n                        rectNo = Integer.parseInt(svg.getRectNo().getText());\n                    }\n                    svg.setVis();\n                    \n                    DrawShapes dShapes = new DrawShapes(rectNo);\n                    \n                    try {\n                        ServerSocket serverSocket = new ServerSocket(9090);\n                        Server server = new Server(serverSocket);\n                        server.startServer();\n                    } catch (IOException e1) {\n                        e1.printStackTrace();\n                    }\n                }           \n        });\n\n    }\n}\n</code></pre>\n<p>ClientHandler Class;</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.util.ArrayList;\n\npublic class ClientHandler {\n\n    public static ArrayList&lt;ClientHandler&gt; clientHandlers = new ArrayList&lt;&gt;();\n    private Socket socket;\n    private BufferedReader bufferedReader;\n    private BufferedWriter bufferedWriter;\n    \n    public ClientHandler(Socket socket) {\n        try {\n            this.socket = socket;\n            this.bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            this.bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            clientHandlers.add(this);\n        }catch (IOException e) {\n            closeEverything(socket, bufferedReader, bufferedWriter);\n        }\n    }\n    \n    \n    \n    public void removeClientHandler() {\n        clientHandlers.remove(this);\n    }\n    \n    public void closeEverything(Socket socket, BufferedReader bufferedReader, BufferedWriter bufferedWriter) {\n        removeClientHandler();\n        try {\n            if(bufferedReader != null) {\n                bufferedReader.close();\n            }if (bufferedWriter != null) {\n                bufferedWriter.close();\n            }if(socket != null) {\n                socket.close();\n            }\n        }catch(IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>Gui1 Class;</p>\n<pre><code>import java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JTextField;\n\npublic class Gui1 {\n    \n    private JFrame jFrame;\n    private JLabel jRect;\n    private JButton jStart;\n    private JTextField rectNo;\n    \n    public Gui1() {\n        jFrame = new JFrame(&quot;Title&quot;);\n        jRect = new JLabel(&quot;Rect Number:&quot;);\n        jStart = new JButton(&quot;Start&quot;);\n        rectNo = new JTextField();\n        \n        jRect.setBounds(10, 10, 120, 30);\n        jStart.setBounds(150, 40, 80, 25);\n        rectNo.setBounds(150, 10, 80, 30);\n        \n        \n        rectNo.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                String value = rectNo.getText();\n                int i = value.length();\n                if (e.getKeyChar() &gt;= '0' &amp;&amp; e.getKeyChar() &lt;= '9') {\n                    rectNo.setEditable(true);\n                }else {\n                    rectNo.setEditable(false);\n                    rectNo.setText(&quot;&quot;);             }\n            }\n        });\n        \n        \n        jFrame.add(jRect);\n        jFrame.add(jStart);\n        jFrame.add(rectNo);\n        jFrame.setSize(250,125);\n        jFrame.setLayout(null);\n        jFrame.setDefaultCloseOperation(3);\n        jFrame.setResizable(false);\n        jFrame.setVisible(true);\n        \n    }\n    \n    public JButton getjBaslat() {\n        return jStart;\n    }\n    \n    public JTextField getRectNo() {\n        return rectNo;\n    }\n    \n    public JFrame getjFrame() {\n        return jFrame;\n    }\n    \n    public void setVis() {\n        if(jFrame.isVisible()) {\n            jFrame.setVisible(false);\n        }else {\n            jFrame.setVisible(true);\n        }\n    }\n}\n</code></pre>\n<p>DrawShapes Class;</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class DrawShapes extends JFrame {\n    private final static int GENISLIK = 800;\n    private final static int YUKSEKLIK = 600;\n\n    public DrawShapes(int x) {\n        setSize(GENISLIK, YUKSEKLIK);\n        setTitle(&quot;Sunucu&quot;);\n        setResizable(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        Panel panel = new Panel(x);\n        add(panel);\n\n        setVisible(true);\n    }\n}\n</code></pre>\n<p>Panel Class;</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Panel extends JPanel implements ActionListener {\n    private List&lt;Object&gt; sekil = new ArrayList&lt;&gt;();\n    Timer timer;\n\n    public Panel(int x) {\n        this.setFocusable(true);\n        timer = new Timer(20, this);\n        timer.start();\n        addRect(x);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        for (Object s : sekil) {\n            if (s instanceof Rect) {\n                ((Rect) s).paint(g);\n            }\n        }\n\n    }\n\n    public void update() {\n\n        for (Object s : sekil) {\n            if (s instanceof Rect) {\n                ((Rect) s).update();\n            }\n        }\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        repaint();\n        update();\n\n    }\n\n    private void addRect(int i) {\n        for (int a = 0; a &lt; i; a++) {\n            sekil.add(new Rect());\n        }\n    }\n\n}\n</code></pre>\n<p>React Class;</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.util.Random;\n\npublic class Rect {\n    private final static int GENISLIK = 800;\n    private final static int YUKSEKLIK = 600;\n    private final static int eksi = 20;\n\n    Random r = new Random();\n    int x = r.nextInt(670);\n    int y = r.nextInt(525);\n    int genislik = (int) Math.floor(Math.random() * (70 - 20 + 1) + 20);\n    int yukseklik = (int) Math.floor(Math.random() * (50 - 15 + 1) + 15);\n    int adım = (int) Math.floor(Math.random() * (10 - 1 + 1) + 1);\n    float f1 = r.nextFloat();\n    float f2 = r.nextFloat() / 2f;\n    float f3 = r.nextFloat() / 2f;\n\n    public void paint(Graphics g) {\n        Color rastgeleRenk = new Color(f1, f2, f3);\n        g.setColor(rastgeleRenk);\n        g.fillRect(x, y, genislik, yukseklik);\n    }\n\n    public void update() {\n        if ((x + genislik) &gt; (GENISLIK - eksi) || x &lt; 0) {\n            adım = -adım;\n        }\n        x = x + adım;\n    }\n}\n</code></pre>\n<p>I tried so many different ways to solve this problem but I can't see my fault. Maybe I made mistake thread section or made server connection false. I don't find any solution.<br/>          Thanks to all concerned.</p>\n"},{"tags":["java","android","android-fragments","view","fragmenttransaction"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648216357,"creation_date":1648216357,"answer_id":71618060,"question_id":71617301,"body_markdown":"your `frameLayout` container for `Fragment`s is placed before `LinearLayout`, `Fragment`s `View` is loaded into it and is visible, but also rest of `View`s is drawn after that (as order in XML) on top of it. just `setVisibility(View.GONE)` for this `LinearLayout` when you are loading `Fragment` (set for it some `id` and use `findViewById` as for buttons). another approach would be to put your `LinearLayout` inside container - you are using `replace` method so `Fragment` will remove your buttons, but in that case these are gone forever then and you don&#39;t have an easy option for bringing them back (with your current code - only whole `Activity` restart)\r\n\r\nit would be way better (by design) if your `Activity` wouldn&#39;t have these buttons at all, only container, and on start would check if container has anything loaded (e.g. `getChildCount()==0`), if not then load some initial `Fragment` for preventing displaying empty `Activity`","title":"Fragment transaction from main activity doesn&#39;t work","body":"<p>your <code>frameLayout</code> container for <code>Fragment</code>s is placed before <code>LinearLayout</code>, <code>Fragment</code>s <code>View</code> is loaded into it and is visible, but also rest of <code>View</code>s is drawn after that (as order in XML) on top of it. just <code>setVisibility(View.GONE)</code> for this <code>LinearLayout</code> when you are loading <code>Fragment</code> (set for it some <code>id</code> and use <code>findViewById</code> as for buttons). another approach would be to put your <code>LinearLayout</code> inside container - you are using <code>replace</code> method so <code>Fragment</code> will remove your buttons, but in that case these are gone forever then and you don't have an easy option for bringing them back (with your current code - only whole <code>Activity</code> restart)</p>\n<p>it would be way better (by design) if your <code>Activity</code> wouldn't have these buttons at all, only container, and on start would check if container has anything loaded (e.g. <code>getChildCount()==0</code>), if not then load some initial <code>Fragment</code> for preventing displaying empty <code>Activity</code></p>\n"}],"owner":{"account_id":22034574,"reputation":23,"user_id":16301311,"display_name":"alesechi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648216357,"creation_date":1648212744,"question_id":71617301,"body_markdown":"I&#39;m writing my first android app using fragments but I can&#39;t figure out why it doesn&#39;t change view from main activity to fragment.\r\nThis is my mainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    Button fragment1_BTN, fragment2_BTN;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        fragment1_BTN = findViewById(R.id.frag1_btn);\r\n        fragment2_BTN = findViewById(R.id.frag2_btn);\r\n\r\n        fragment1_BTN.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new Frag1());\r\n            }\r\n        });\r\n\r\n        fragment2_BTN.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                replaceFragment(new Frag2());\r\n            }\r\n        });\r\n    }\r\n\r\n    private void replaceFragment(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction transaction = fragmentManager.beginTransaction();\r\n        transaction.replace(R.id.frameLayout, fragment);\r\n        transaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n        transaction.commit();\r\n    }}\r\n\r\nThis is my activity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/frameLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/therapists_btn&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:backgroundTint=&quot;@color/teal_700&quot;\r\n            android:text=&quot;button 1&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/patients_btn&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/patients_btn&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:backgroundTint=&quot;@color/teal_700&quot;\r\n            android:text=&quot;button 2&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/therapists_btn&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/FrameLayout&gt; &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThe problem is that when I click on button 1 I see the view of first fragment and also of main activity.\r\nHow can I see only the fragment view? \r\n\r\n\r\n ","title":"Fragment transaction from main activity doesn&#39;t work","body":"<p>I'm writing my first android app using fragments but I can't figure out why it doesn't change view from main activity to fragment.\nThis is my mainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nButton fragment1_BTN, fragment2_BTN;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    fragment1_BTN = findViewById(R.id.frag1_btn);\n    fragment2_BTN = findViewById(R.id.frag2_btn);\n\n    fragment1_BTN.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            replaceFragment(new Frag1());\n        }\n    });\n\n    fragment2_BTN.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            replaceFragment(new Frag2());\n        }\n    });\n}\n\nprivate void replaceFragment(Fragment fragment){\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction transaction = fragmentManager.beginTransaction();\n    transaction.replace(R.id.frameLayout, fragment);\n    transaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n    transaction.commit();\n}}\n</code></pre>\n<p>This is my activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/frameLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/therapists_btn&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:backgroundTint=&quot;@color/teal_700&quot;\n        android:text=&quot;button 1&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/patients_btn&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/patients_btn&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:backgroundTint=&quot;@color/teal_700&quot;\n        android:text=&quot;button 2&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/therapists_btn&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt; &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The problem is that when I click on button 1 I see the view of first fragment and also of main activity.\nHow can I see only the fragment view?</p>\n"},{"tags":["java","java-io","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1648012391,"post_id":71582076,"comment_id":126513251,"body_markdown":"To me that sounds as if you&#39;re not properly closing the `BufferedWriter`. Can you show how you open and close it?","body":"To me that sounds as if you&#39;re not properly closing the <code>BufferedWriter</code>. Can you show how you open and close it?"},{"owner":{"account_id":17296535,"reputation":28,"user_id":12527080,"display_name":"eFortsHub"},"score":0,"creation_date":1648012639,"post_id":71582076,"comment_id":126513299,"body_markdown":"I didn&#39;t closed the bufferedWritter as the writer writing value while the loop running.\nlet me check that","body":"I didn&#39;t closed the bufferedWritter as the writer writing value while the loop running. let me check that"},{"owner":{"account_id":17296535,"reputation":28,"user_id":12527080,"display_name":"eFortsHub"},"score":0,"creation_date":1648012818,"post_id":71582076,"comment_id":126513331,"body_markdown":"2thanks, when I close `BufferedWriter` . it write all text in the file","body":"2thanks, when I close <code>BufferedWriter</code> . it write all text in the file"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648216058,"creation_date":1648053033,"answer_id":71590766,"question_id":71582076,"body_markdown":"The *data* that you&#39;re writing in to an output stream **isn&#39;t guaranteed** to reach its destination immediately.\r\n\r\nThe `BufferedWritter` is a so-called *high-level stream* which decorates the underlying stream that deals with a particular destination of data like `FileWriter` (*and there could be a few more streams in between them*) by buffering the text output and providing a convince-method `newLine()`.\r\n\r\n`BufferedWritter` maintains a **buffer** (*an array of characters*) with a default size of `8192`. And when it ***gets full***, it hands it out to the underlying *low-level  stream*. In this case, to a `FileWriter`, which will take care of encoding the *characters* into *bytes*. \r\n\r\nWhen it&#39;s done, the JVM will hand the data out to the ***operating system*** via `FileOutputStream` (*because under the hood character streams are build on top of bite streams*).\r\n\r\nSo, the data written to the *buffer* will appear in a *file* in *chunks*:\r\n* when the *buffer* ***gets full***;\r\n* and after the *stream was **closed***.\r\n\r\n[**Javadoc**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#close()) for method `close()` says:\r\n\r\n&gt; Closes the stream, **flushing** it first.\r\n\r\nI.e. before releasing the resource `close()` invokes method [`flush()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#flush()) which forces the cached data to be passed into its destination. \r\n\r\nIf no exception occur, everything that was written into the stream is guaranteed to reach the destination when the stream is being closed.\r\n\r\nYou can also use `flush()` in your code. But it has to applied with great caution. Probably when you deal with large amounts of critical data and which is useful, even when partially written (*so in case of **exceptions** you&#39;ll lose less information*). Misusing the `flush()` could significantly reduce the performance.","title":"Why BufferedWriter is writing the data into the file partially?","body":"<p>The <em>data</em> that you're writing in to an output stream <strong>isn't guaranteed</strong> to reach its destination immediately.</p>\n<p>The <code>BufferedWritter</code> is a so-called <em>high-level stream</em> which decorates the underlying stream that deals with a particular destination of data like <code>FileWriter</code> (<em>and there could be a few more streams in between them</em>) by buffering the text output and providing a convince-method <code>newLine()</code>.</p>\n<p><code>BufferedWritter</code> maintains a <strong>buffer</strong> (<em>an array of characters</em>) with a default size of <code>8192</code>. And when it <em><strong>gets full</strong></em>, it hands it out to the underlying <em>low-level  stream</em>. In this case, to a <code>FileWriter</code>, which will take care of encoding the <em>characters</em> into <em>bytes</em>.</p>\n<p>When it's done, the JVM will hand the data out to the <em><strong>operating system</strong></em> via <code>FileOutputStream</code> (<em>because under the hood character streams are build on top of bite streams</em>).</p>\n<p>So, the data written to the <em>buffer</em> will appear in a <em>file</em> in <em>chunks</em>:</p>\n<ul>\n<li>when the <em>buffer</em> <em><strong>gets full</strong></em>;</li>\n<li>and after the <em>stream was <strong>closed</strong></em>.</li>\n</ul>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#close()\" rel=\"nofollow noreferrer\"><strong>Javadoc</strong></a> for method <code>close()</code> says:</p>\n<blockquote>\n<p>Closes the stream, <strong>flushing</strong> it first.</p>\n</blockquote>\n<p>I.e. before releasing the resource <code>close()</code> invokes method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedWriter.html#flush()\" rel=\"nofollow noreferrer\"><code>flush()</code></a> which forces the cached data to be passed into its destination.</p>\n<p>If no exception occur, everything that was written into the stream is guaranteed to reach the destination when the stream is being closed.</p>\n<p>You can also use <code>flush()</code> in your code. But it has to applied with great caution. Probably when you deal with large amounts of critical data and which is useful, even when partially written (<em>so in case of <strong>exceptions</strong> you'll lose less information</em>). Misusing the <code>flush()</code> could significantly reduce the performance.</p>\n"}],"owner":{"account_id":17296535,"reputation":28,"user_id":12527080,"display_name":"eFortsHub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648054319,"accepted_answer_id":71590766,"answer_count":1,"score":1,"last_activity_date":1648216058,"creation_date":1648012057,"question_id":71582076,"body_markdown":"I am trying to write a *json file* using this code:\r\n    \r\n            \r\n            File f = new File(&quot;words_3.json&quot;);\r\n            if (!f.exists()) {\r\n                f.createNewFile();\r\n            }\r\n            if (fileWriter == null)\r\n                fileWriter = new BufferedWriter(new FileWriter(f));\r\n            while (scanner.hasNext()) {\r\n                String text = scanner.nextLine(); \r\n                        fileWriter.append(text);\r\n                        System.out.println(&quot;writing : &quot;+text);\r\n            }\r\n\r\nStatement `System.out.println()` shows all text in the terminal.\r\n\r\nWhen I&#39;m checking the output file, I see that only `1300` lines has been written, while there are more than `2000` lines available.","title":"Why BufferedWriter is writing the data into the file partially?","body":"<p>I am trying to write a <em>json file</em> using this code:</p>\n<pre><code>        File f = new File(&quot;words_3.json&quot;);\n        if (!f.exists()) {\n            f.createNewFile();\n        }\n        if (fileWriter == null)\n            fileWriter = new BufferedWriter(new FileWriter(f));\n        while (scanner.hasNext()) {\n            String text = scanner.nextLine(); \n                    fileWriter.append(text);\n                    System.out.println(&quot;writing : &quot;+text);\n        }\n</code></pre>\n<p>Statement <code>System.out.println()</code> shows all text in the terminal.</p>\n<p>When I'm checking the output file, I see that only <code>1300</code> lines has been written, while there are more than <code>2000</code> lines available.</p>\n"},{"tags":["java","spring","spring-boot","api","http-status-code-404"],"comments":[{"owner":{"account_id":10356325,"reputation":98,"user_id":7638169,"display_name":"Houari Zegai"},"score":2,"creation_date":1648128149,"post_id":71603118,"comment_id":126549268,"body_markdown":"Please provide us the code and console log (if there are any errors).","body":"Please provide us the code and console log (if there are any errors)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648133162,"post_id":71603118,"comment_id":126551623,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11890470,"reputation":1,"user_id":8701498,"display_name":"Akhil Krishnan N S"},"score":0,"creation_date":1648182998,"post_id":71603118,"comment_id":126565051,"body_markdown":"@HouariZegai log is empty.","body":"@HouariZegai log is empty."},{"owner":{"account_id":11890470,"reputation":1,"user_id":8701498,"display_name":"Akhil Krishnan N S"},"score":0,"creation_date":1648183562,"post_id":71603118,"comment_id":126565135,"body_markdown":"@Community added the Controller class","body":"@Community added the Controller class"}],"answers":[{"tags":[],"owner":{"account_id":11890470,"reputation":1,"user_id":8701498,"display_name":"Akhil Krishnan N S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648216011,"creation_date":1648216011,"answer_id":71617990,"question_id":71603118,"body_markdown":"I&#39;ve found a solution for my problem without even understanding it.\r\nAnyway, it started working when I assigned a separate path for each and every method.\r\nIn my previous code, I have assigned the same path value for different HTTP methods(GET, POST, PUT, etc.). I have done this before, but I never got this error ever. Im trying to understand the cause of this error. \r\n\r\nthanks for your suggestion\r\n\r\n    @RestController\r\n        @RequestMapping(BACK_OFFICE_BASE_PATH)\r\n        public class ManagementController {\r\n        \r\n            @Autowired\r\n            ManagementService managementService;\r\n        \r\n            @GetMapping(  SLASH_PATH + &quot;add&quot;)\r\n            public List&lt;RateTemp&gt; getUpdateRequests(){\r\n                return managementService.getUpdateRequests();\r\n            }\r\n        \r\n            @PostMapping(  SLASH_PATH + &quot;update&quot;)\r\n            public RateTemp addRate(@RequestBody RateTemp body) throws BadRequestException {\r\n                if(body != null){\r\n                    return managementService.addRate(body);\r\n                }else throw new BadRequestException(ILLEGAL_REQUEST_FIELDS,&quot;&quot;);\r\n            }\r\n        }","title":"Spring boot application returns 404 without entering controller class","body":"<p>I've found a solution for my problem without even understanding it.\nAnyway, it started working when I assigned a separate path for each and every method.\nIn my previous code, I have assigned the same path value for different HTTP methods(GET, POST, PUT, etc.). I have done this before, but I never got this error ever. Im trying to understand the cause of this error.</p>\n<p>thanks for your suggestion</p>\n<pre><code>@RestController\n    @RequestMapping(BACK_OFFICE_BASE_PATH)\n    public class ManagementController {\n    \n        @Autowired\n        ManagementService managementService;\n    \n        @GetMapping(  SLASH_PATH + &quot;add&quot;)\n        public List&lt;RateTemp&gt; getUpdateRequests(){\n            return managementService.getUpdateRequests();\n        }\n    \n        @PostMapping(  SLASH_PATH + &quot;update&quot;)\n        public RateTemp addRate(@RequestBody RateTemp body) throws BadRequestException {\n            if(body != null){\n                return managementService.addRate(body);\n            }else throw new BadRequestException(ILLEGAL_REQUEST_FIELDS,&quot;&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11890470,"reputation":1,"user_id":8701498,"display_name":"Akhil Krishnan N S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71617990,"answer_count":1,"score":-1,"last_activity_date":1648216011,"creation_date":1648127422,"question_id":71603118,"body_markdown":"Spring boot application returns 404 Not found error when calling API endpoints without even entering the controller class\r\n\r\nI have gone through the possible solutions which can be found on the StackOverflow\r\n\r\npossible solutions I have tested\r\n\r\n1. added and removed `@RequestMapping` at the class level\r\n2. tested with both\r\n\r\n```\r\nGetMapping(&quot;/get&quot;)\r\n```\r\n\r\nand\r\n\r\n```\r\nRequestMapping(&quot;/get&quot;)\r\n```\r\n\r\nand even with\r\n\r\n```\r\nGetMapping(value = &quot;/get&quot;)\r\n```\r\n\r\n3. added `@ComponentScan`  even when my folder structure is as per the guidelines. \r\n4. tried with `ResponseEntity&lt;Object&gt; ` and `@RequestBody `Annotation \r\n\r\n    I&#39;ve tried almost all of the solutions I got from various platforms.  Spring boot application API endpoints should call the corresponding methods based on their paths configured. But in my application, it throws an error with &#39;404 Not Found&#39; when any endpoint called. It seems the endpoints are not registered in the spring application\r\n\r\ncontroller Class\r\n    \r\n    @RestController\r\n        @RequestMapping(BACK_OFFICE_BASE_PATH)\r\n        public class ManagementController {\r\n        \r\n            @Autowired\r\n            ManagementService managementService;\r\n        \r\n            @GetMapping(  SLASH_PATH)\r\n            public List&lt;RateTemp&gt; getUpdateRequests(){\r\n                return managementService.getUpdateRequests();\r\n            }\r\n        \r\n            @PostMapping(  SLASH_PATH)\r\n            public RateTemp addRate(@RequestBody RateTemp body) throws BadRequestException {\r\n                if(body != null){\r\n                    return managementService.addRate(body);\r\n                }else throw new BadRequestException(ILLEGAL_REQUEST_FIELDS,&quot;&quot;);\r\n            }\r\n        }\r\n\r\npom.xml\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;springfox-version&gt;3.0.0&lt;/springfox-version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.7.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.warrenstrange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;googleauth&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--springfox for swagger\t--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springfox-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springfox-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;","title":"Spring boot application returns 404 without entering controller class","body":"<p>Spring boot application returns 404 Not found error when calling API endpoints without even entering the controller class</p>\n<p>I have gone through the possible solutions which can be found on the StackOverflow</p>\n<p>possible solutions I have tested</p>\n<ol>\n<li>added and removed <code>@RequestMapping</code> at the class level</li>\n<li>tested with both</li>\n</ol>\n<pre><code>GetMapping(&quot;/get&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>RequestMapping(&quot;/get&quot;)\n</code></pre>\n<p>and even with</p>\n<pre><code>GetMapping(value = &quot;/get&quot;)\n</code></pre>\n<ol start=\"3\">\n<li><p>added <code>@ComponentScan</code>  even when my folder structure is as per the guidelines.</p>\n</li>\n<li><p>tried with <code>ResponseEntity&lt;Object&gt; </code> and <code>@RequestBody </code>Annotation</p>\n<p>I've tried almost all of the solutions I got from various platforms.  Spring boot application API endpoints should call the corresponding methods based on their paths configured. But in my application, it throws an error with '404 Not Found' when any endpoint called. It seems the endpoints are not registered in the spring application</p>\n</li>\n</ol>\n<p>controller Class</p>\n<pre><code>@RestController\n    @RequestMapping(BACK_OFFICE_BASE_PATH)\n    public class ManagementController {\n    \n        @Autowired\n        ManagementService managementService;\n    \n        @GetMapping(  SLASH_PATH)\n        public List&lt;RateTemp&gt; getUpdateRequests(){\n            return managementService.getUpdateRequests();\n        }\n    \n        @PostMapping(  SLASH_PATH)\n        public RateTemp addRate(@RequestBody RateTemp body) throws BadRequestException {\n            if(body != null){\n                return managementService.addRate(body);\n            }else throw new BadRequestException(ILLEGAL_REQUEST_FIELDS,&quot;&quot;);\n        }\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;springfox-version&gt;3.0.0&lt;/springfox-version&gt;\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.warrenstrange&lt;/groupId&gt;\n            &lt;artifactId&gt;googleauth&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--springfox for swagger   --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","dialog","blur"],"answers":[{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642789184,"creation_date":1642789184,"answer_id":70805897,"question_id":70804017,"body_markdown":"i have done this by using framelayout.\r\nHere is the XML part for this.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;26dp&quot;\r\n            android:elevation=&quot;8dp&quot;\r\n            app:cardCornerRadius=&quot;8dp&quot;\r\n            app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:id=&quot;@+id/tvClassificationOP&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginStart=&quot;16dp&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:text=&quot;@string/event_name&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatImageView\r\n                        android:id=&quot;@+id/imgEditCalendar&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:src=&quot;@drawable/ic_edit&quot;\r\n                        app:layout_constraintEnd_toStartOf=&quot;@+id/imgDelete&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatImageView\r\n                        android:id=&quot;@+id/imgDeleteCalendar&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:src=&quot;@drawable/ic_delete&quot;\r\n                        app:layout_constraintEnd_toStartOf=&quot;@+id/imgShare&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:id=&quot;@+id/tvLocationOps&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginStart=&quot;16dp&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:text=&quot;@string/training&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;12sp&quot;\r\n                        app:layout_constraintBottom_toTopOf=&quot;@+id/tvTDutyimeOps&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toBottomOf=&quot;@+id/layoutToHide&quot; /&gt;\r\n    \r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:id=&quot;@+id/tvtimeDialog&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:text=&quot;@string/_20_12_2021_to_24_12_2021&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;12sp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;@id/tvLocationOps&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/layoutToHide&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:id=&quot;@+id/tvOpLocationOps&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginStart=&quot;16dp&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:text=&quot;@string/london&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginStart=&quot;16dp&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:text=&quot;@string/it_is_a_long_established_fact_that_a_reader_will_be_distracted_by_the_readable_content_of_a_page_layout&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                        android:id=&quot;@+id/closebtn&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;end&quot;\r\n                        android:layout_marginStart=&quot;16dp&quot;\r\n                        android:layout_marginTop=&quot;16dp&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:layout_marginBottom=&quot;16dp&quot;\r\n                        android:text=&quot;@string/close&quot;\r\n                        android:textColor=&quot;@color/primarydark&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n\r\n\r\nAnd here is the Code part where i have set the background of the dialog transparent.\r\n\r\n\r\n        class CalenderDialog : DialogFragment() {\r\n        \r\n            companion object {\r\n                private var timedate: String? = null\r\n                const val TAG = &quot;Dialog&quot;\r\n                fun newInstance(): CalenderDialog {\r\n                    val fragment = CalenderDialog()\r\n                    return fragment\r\n                }\r\n            }\r\n        \r\n            override fun onCreateView(\r\n                inflater: LayoutInflater,\r\n                container: ViewGroup?,\r\n                savedInstanceState: Bundle?\r\n            ): View? {\r\n                return inflater.inflate(R.layout.layout_date_dialog, container, false)\r\n            }\r\n        \r\n            override fun onStart() {\r\n                super.onStart()\r\n        \r\n                dialog?.window?.setLayout(\r\n                    WindowManager.LayoutParams.MATCH_PARENT,\r\n                    WindowManager.LayoutParams.WRAP_CONTENT\r\n                )\r\n        \r\n     //this line will make the background behind the dialog transparent           dialog?.getWindow()?.setBackgroundDrawableResource(android.R.color.transparent);\r\n                dialog?.setCanceledOnTouchOutside(false)\r\n        \r\n                val imgClosedlg = dialog?.findViewById(R.id.closebtn) as TextView\r\n                val imgDelete = dialog?.findViewById(R.id.imgDeleteCalendar) as ImageView\r\n                val time = dialog?.findViewById(R.id.tvtimeDialog) as TextView\r\n                // time.text = timedate\r\n        \r\n                imgClosedlg.setOnClickListener {\r\n                    dialog?.dismiss()\r\n                }\r\n        \r\n                imgEditCalendar.setOnClickListener {\r\n                    (activity as MainActivity).navigateToFragment(\r\n                        AddEventFragment(),\r\n                        true,\r\n                        &quot;AddEventFragment&quot;\r\n                    )\r\n                    dialog?.dismiss()\r\n                }\r\n        \r\n                imgDelete.setOnClickListener {\r\n                    dialog?.dismiss()\r\n                    val fm: androidx.fragment.app.FragmentManager? = fragmentManager\r\n        \r\n                    if (fm != null) {\r\n                        EventClickDailog.newInstance(&quot;Delete Event&quot;)\r\n                            .show(fm, EventClickDailog.TAG)\r\n                    }\r\n        \r\n                }\r\n        \r\n                imgClosedlg.setOnClickListener {\r\n                    dialog?.dismiss()\r\n                }\r\n            }\r\n        }","title":"Issue trying to blur background behind a dialog box, Android Studio","body":"<p>i have done this by using framelayout.\nHere is the XML part for this.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;26dp&quot;\n        android:elevation=&quot;8dp&quot;\n        app:cardCornerRadius=&quot;8dp&quot;\n        app:cardUseCompatPadding=&quot;true&quot;&gt;\n\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/tvClassificationOP&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;16dp&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/event_name&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;18sp&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/imgEditCalendar&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:src=&quot;@drawable/ic_edit&quot;\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/imgDelete&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatImageView\n                    android:id=&quot;@+id/imgDeleteCalendar&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:src=&quot;@drawable/ic_delete&quot;\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/imgShare&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/tvLocationOps&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;16dp&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/training&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;12sp&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/tvTDutyimeOps&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/layoutToHide&quot; /&gt;\n\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/tvtimeDialog&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:text=&quot;@string/_20_12_2021_to_24_12_2021&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;12sp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;@id/tvLocationOps&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/layoutToHide&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/tvOpLocationOps&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;16dp&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:text=&quot;@string/london&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;14sp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;16dp&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:text=&quot;@string/it_is_a_long_established_fact_that_a_reader_will_be_distracted_by_the_readable_content_of_a_page_layout&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;14sp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatTextView\n                    android:id=&quot;@+id/closebtn&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;end&quot;\n                    android:layout_marginStart=&quot;16dp&quot;\n                    android:layout_marginTop=&quot;16dp&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:layout_marginBottom=&quot;16dp&quot;\n                    android:text=&quot;@string/close&quot;\n                    android:textColor=&quot;@color/primarydark&quot;\n                    android:textSize=&quot;18sp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>And here is the Code part where i have set the background of the dialog transparent.</p>\n<pre><code>    class CalenderDialog : DialogFragment() {\n    \n        companion object {\n            private var timedate: String? = null\n            const val TAG = &quot;Dialog&quot;\n            fun newInstance(): CalenderDialog {\n                val fragment = CalenderDialog()\n                return fragment\n            }\n        }\n    \n        override fun onCreateView(\n            inflater: LayoutInflater,\n            container: ViewGroup?,\n            savedInstanceState: Bundle?\n        ): View? {\n            return inflater.inflate(R.layout.layout_date_dialog, container, false)\n        }\n    \n        override fun onStart() {\n            super.onStart()\n    \n            dialog?.window?.setLayout(\n                WindowManager.LayoutParams.MATCH_PARENT,\n                WindowManager.LayoutParams.WRAP_CONTENT\n            )\n    \n //this line will make the background behind the dialog transparent           dialog?.getWindow()?.setBackgroundDrawableResource(android.R.color.transparent);\n            dialog?.setCanceledOnTouchOutside(false)\n    \n            val imgClosedlg = dialog?.findViewById(R.id.closebtn) as TextView\n            val imgDelete = dialog?.findViewById(R.id.imgDeleteCalendar) as ImageView\n            val time = dialog?.findViewById(R.id.tvtimeDialog) as TextView\n            // time.text = timedate\n    \n            imgClosedlg.setOnClickListener {\n                dialog?.dismiss()\n            }\n    \n            imgEditCalendar.setOnClickListener {\n                (activity as MainActivity).navigateToFragment(\n                    AddEventFragment(),\n                    true,\n                    &quot;AddEventFragment&quot;\n                )\n                dialog?.dismiss()\n            }\n    \n            imgDelete.setOnClickListener {\n                dialog?.dismiss()\n                val fm: androidx.fragment.app.FragmentManager? = fragmentManager\n    \n                if (fm != null) {\n                    EventClickDailog.newInstance(&quot;Delete Event&quot;)\n                        .show(fm, EventClickDailog.TAG)\n                }\n    \n            }\n    \n            imgClosedlg.setOnClickListener {\n                dialog?.dismiss()\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7959933,"reputation":25,"user_id":6008048,"display_name":"Velociholmes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648215958,"creation_date":1648215958,"answer_id":71617980,"question_id":70804017,"body_markdown":"I have managed to seek and apply a solution now, so thank you for your help! It relies on the method whereby a screenshot is taken of the Activity before the Dialog Box is opened, followed by a blurring of the screenshot image and placement of it behind the Dialog Box. It&#39;s not always the quickest on the Emulator (it is yet to be trialled on my own Smartphone, for instance), but it does look good and the level of blurring effect can be tailored to specific needs. I&#39;m fairly sure the solution is posted on a separate thread on this site, for those interested. ","title":"Issue trying to blur background behind a dialog box, Android Studio","body":"<p>I have managed to seek and apply a solution now, so thank you for your help! It relies on the method whereby a screenshot is taken of the Activity before the Dialog Box is opened, followed by a blurring of the screenshot image and placement of it behind the Dialog Box. It's not always the quickest on the Emulator (it is yet to be trialled on my own Smartphone, for instance), but it does look good and the level of blurring effect can be tailored to specific needs. I'm fairly sure the solution is posted on a separate thread on this site, for those interested.</p>\n"}],"owner":{"account_id":7959933,"reputation":25,"user_id":6008048,"display_name":"Velociholmes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648215958,"creation_date":1642780155,"question_id":70804017,"body_markdown":"I am trying to apply the following in order to help blur the background behind my dialog box which currently has a transparent background: https://stackoverflow.com/questions/19311192/blur-background-behind-alertdialog/21278278#21278278\r\n\r\nOnly issue is, when the following section of code is applied inside the launch of my dialog box following an OnClick Method in my MainActivity.java: \r\n\r\n&#39;Bitmap map=takeScreenShot(BlurImageView.this);\r\n&#39;Bitmap fast=fastblur(map, 10);&#39;\r\n\r\nThere is a red line under &#39;map, 10&#39; with the error: &#39;fastblur(android.graphics.Bitmap, float, int)&#39; in &#39;anonymous class&#39; cannot be applied to &#39;(android.graphics.Bitmap, int)&#39;\r\n\r\nDoes anybody know what I might need do to eliminate this error please? Everything else seems to be fine, bar for that small snippet of code. \r\n\r\nI can provide the rest of my MainActivity code if required? Unless anybody knows of a better way to blur the background under a dialog box in 2022?\r\n\r\nMany thanks.","title":"Issue trying to blur background behind a dialog box, Android Studio","body":"<p>I am trying to apply the following in order to help blur the background behind my dialog box which currently has a transparent background: <a href=\"https://stackoverflow.com/questions/19311192/blur-background-behind-alertdialog/21278278#21278278\">Blur Background Behind AlertDialog</a></p>\n<p>Only issue is, when the following section of code is applied inside the launch of my dialog box following an OnClick Method in my MainActivity.java:</p>\n<p>'Bitmap map=takeScreenShot(BlurImageView.this);\n'Bitmap fast=fastblur(map, 10);'</p>\n<p>There is a red line under 'map, 10' with the error: 'fastblur(android.graphics.Bitmap, float, int)' in 'anonymous class' cannot be applied to '(android.graphics.Bitmap, int)'</p>\n<p>Does anybody know what I might need do to eliminate this error please? Everything else seems to be fine, bar for that small snippet of code.</p>\n<p>I can provide the rest of my MainActivity code if required? Unless anybody knows of a better way to blur the background under a dialog box in 2022?</p>\n<p>Many thanks.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648215928,"creation_date":1648215928,"answer_id":71617969,"question_id":71617588,"body_markdown":"Did fix it in a ugly way. I made variable that knows if the user is still in the app or not.\r\n```\r\n@Override\r\nprotected void onPause() {\r\n    super.onPause();\r\n    if (!stillInApp) {\r\n        DocumentReference documentReference;\r\n        PreferenceManager preferenceManager = new         \r\n            PreferenceManager(getApplicationContext());\r\n        FirebaseFirestore database = FirebaseFirestore.getInstance();\r\n        documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\r\n            .document(preferenceManager.getString(Constants.KEY_USER_ID));\r\n        documentReference.update(Constants.KEY_AVAILABLE, 0);\r\n    }\r\n\r\n}\r\n\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n    DocumentReference documentReference;\r\n    PreferenceManager preferenceManager = new \r\n        PreferenceManager(getApplicationContext());\r\n    FirebaseFirestore database = FirebaseFirestore.getInstance();\r\n    documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\r\n        .document(preferenceManager.getString(Constants.KEY_USER_ID));\r\n    documentReference.update(Constants.KEY_AVAILABLE, 1);\r\n    stillInApp = false;\r\n    listenAvailabilityOfReceiver();\r\n}\r\n```","title":"Chat application online status","body":"<p>Did fix it in a ugly way. I made variable that knows if the user is still in the app or not.</p>\n<pre><code>@Override\nprotected void onPause() {\n    super.onPause();\n    if (!stillInApp) {\n        DocumentReference documentReference;\n        PreferenceManager preferenceManager = new         \n            PreferenceManager(getApplicationContext());\n        FirebaseFirestore database = FirebaseFirestore.getInstance();\n        documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\n            .document(preferenceManager.getString(Constants.KEY_USER_ID));\n        documentReference.update(Constants.KEY_AVAILABLE, 0);\n    }\n\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    DocumentReference documentReference;\n    PreferenceManager preferenceManager = new \n        PreferenceManager(getApplicationContext());\n    FirebaseFirestore database = FirebaseFirestore.getInstance();\n    documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\n        .document(preferenceManager.getString(Constants.KEY_USER_ID));\n    documentReference.update(Constants.KEY_AVAILABLE, 1);\n    stillInApp = false;\n    listenAvailabilityOfReceiver();\n}\n</code></pre>\n"}],"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648215928,"creation_date":1648214199,"question_id":71617588,"body_markdown":"I&#39;m trying to make a chat app. Everything is working except one thing. So I want the users to see if the person they chat whit is online. I made that work but now every time the person is going in on an other chat the online status blink. I have found where the problem is but I dont know how to fix it. \r\n\r\nSo when a person1 is in the chat it can see a green box where it says online if person2 is online. But if person2 is going in to a chat the green box will blink for person1.\r\n\r\nThe problem is in onResume and onPause. So when person2 is going from mainActivity to chatActivity it will do onPause() on mainActivity and set online to 0 and the do onResume() on chatActivity where it sets it to 1.\r\n\r\nI know that the order is ActivityA.onPause, ActivityB.onCreate, ActivityB.onStart, ActivityB.onResume, ActivityA.onStop. So I dont want it to do onPause() when it going from one Activity to another Activity but still do it when you tab down or close the app. is that possible?\r\n\r\n```\r\npublic class BaseActivity extends AppCompatActivity {\r\n\r\n    private DocumentReference documentReference;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        PreferenceManager preferenceManager = new          \r\n            PreferenceManager(getApplicationContext());\r\n        FirebaseFirestore database = FirebaseFirestore.getInstance();\r\n        documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\r\n                .document(preferenceManager.getString(Constants.KEY_USER_ID));\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        documentReference.update(Constants.KEY_AVAILABLE, 0);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        documentReference.update(Constants.KEY_AVAILABLE, 1);\r\n    }\r\n}\r\n```\r\n```\r\npublic class MainActivity extends BaseActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        preferenceManager = new PreferenceManager(getApplicationContext());\r\n        init();\r\n        loadUserDetails();\r\n        getToken();\r\n        setListeners();\r\n        listenConversations();\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class ChatActivity extends BaseActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setListeners();\r\n        loadReceiverDetails();\r\n        init();\r\n        listenMessages();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        listenAvailabilityOfReceiver();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Chat application online status","body":"<p>I'm trying to make a chat app. Everything is working except one thing. So I want the users to see if the person they chat whit is online. I made that work but now every time the person is going in on an other chat the online status blink. I have found where the problem is but I dont know how to fix it.</p>\n<p>So when a person1 is in the chat it can see a green box where it says online if person2 is online. But if person2 is going in to a chat the green box will blink for person1.</p>\n<p>The problem is in onResume and onPause. So when person2 is going from mainActivity to chatActivity it will do onPause() on mainActivity and set online to 0 and the do onResume() on chatActivity where it sets it to 1.</p>\n<p>I know that the order is ActivityA.onPause, ActivityB.onCreate, ActivityB.onStart, ActivityB.onResume, ActivityA.onStop. So I dont want it to do onPause() when it going from one Activity to another Activity but still do it when you tab down or close the app. is that possible?</p>\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n    private DocumentReference documentReference;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        PreferenceManager preferenceManager = new          \n            PreferenceManager(getApplicationContext());\n        FirebaseFirestore database = FirebaseFirestore.getInstance();\n        documentReference = database.collection(Constants.KEY_COLLECTION_USERS)\n                .document(preferenceManager.getString(Constants.KEY_USER_ID));\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        documentReference.update(Constants.KEY_AVAILABLE, 0);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        documentReference.update(Constants.KEY_AVAILABLE, 1);\n    }\n}\n</code></pre>\n<pre><code>public class MainActivity extends BaseActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        preferenceManager = new PreferenceManager(getApplicationContext());\n        init();\n        loadUserDetails();\n        getToken();\n        setListeners();\n        listenConversations();\n    }\n\n}\n</code></pre>\n<pre><code>public class ChatActivity extends BaseActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        setListeners();\n        loadReceiverDetails();\n        init();\n        listenMessages();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        listenAvailabilityOfReceiver();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","redirect","https","httpurlconnection","http-redirect"],"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1569507637,"post_id":1884230,"comment_id":102626699,"body_markdown":"Hi, I edited your question for clarity and to point out the the redirect to HTTPS in particular is the problem. Also, I changed the bit.ly domain to a different one, as use bit.ly is blacklisted in questions. Hope you don&#39;t mind, feel free to re-edit.","body":"Hi, I edited your question for clarity and to point out the the redirect to HTTPS in particular is the problem. Also, I changed the bit.ly domain to a different one, as use bit.ly is blacklisted in questions. Hope you don&#39;t mind, feel free to re-edit."}],"answers":[{"tags":[],"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1260481268,"creation_date":1260481268,"answer_id":1884251,"question_id":1884230,"body_markdown":"HTTPUrlConnection is not responsible for handling the response of the object. It is performance as expected, it grabs the content of the URL requested. It is up to you the user of the functionality to interpret the response. It is not able to read the intentions of the developer without specification.","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>HTTPUrlConnection is not responsible for handling the response of the object. It is performance as expected, it grabs the content of the URL requested. It is up to you the user of the functionality to interpret the response. It is not able to read the intentions of the developer without specification.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1365849691,"creation_date":1260481277,"answer_id":1884252,"question_id":1884230,"body_markdown":"Has something called `HttpURLConnection.setFollowRedirects(false)` by any chance?\r\n\r\nYou could always call\r\n\r\n    conn.setInstanceFollowRedirects(true);\r\n\r\nif you want to make sure you don&#39;t affect the rest of the behaviour of the app.","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>Has something called <code>HttpURLConnection.setFollowRedirects(false)</code> by any chance?</p>\n\n<p>You could always call</p>\n\n<pre><code>conn.setInstanceFollowRedirects(true);\n</code></pre>\n\n<p>if you want to make sure you don't affect the rest of the behaviour of the app.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":2,"up_vote_count":137,"is_accepted":true,"score":135,"last_activity_date":1569511468,"creation_date":1260482746,"answer_id":1884427,"question_id":1884230,"body_markdown":"Redirects are followed only if they use the same protocol. (See [the `followRedirect()` method][1] in the source.) There is no way to disable this check.\r\n\r\nEven though we know it mirrors HTTP, from the HTTP protocol point of view, HTTPS is just some other, completely different, unknown protocol. It would be unsafe to follow the redirect without user approval.\r\n\r\nFor example, suppose the application is set up to perform client authentication automatically. The user expects to be surfing anonymously because he&#39;s using HTTP. But if his client follows HTTPS without asking, his identity is revealed to the server.\r\n\r\n\r\n  [1]: https://hg.openjdk.java.net/jdk10/client/file/b1f360639517/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>Redirects are followed only if they use the same protocol. (See <a href=\"https://hg.openjdk.java.net/jdk10/client/file/b1f360639517/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java\" rel=\"noreferrer\">the <code>followRedirect()</code> method</a> in the source.) There is no way to disable this check.</p>\n\n<p>Even though we know it mirrors HTTP, from the HTTP protocol point of view, HTTPS is just some other, completely different, unknown protocol. It would be unsafe to follow the redirect without user approval.</p>\n\n<p>For example, suppose the application is set up to perform client authentication automatically. The user expects to be surfing anonymously because he's using HTTP. But if his client follows HTTPS without asking, his identity is revealed to the server.</p>\n"},{"tags":[],"owner":{"account_id":1310967,"reputation":381,"user_id":1467340,"display_name":"Shalvika"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1380607931,"creation_date":1380607931,"answer_id":19109194,"question_id":1884230,"body_markdown":"As mentioned by some of you above, the setFollowRedirect and setInstanceFollowRedirects only work automatically when the redirected protocol is same . ie from http to http and https to https.\r\n\r\nsetFolloRedirect is at class level and sets this for all instances of the url connection, whereas setInstanceFollowRedirects is only for a given instance. This way we can have different behavior for different instances.\r\n\r\nI found a very good example here  http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/\r\n\r\n","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>As mentioned by some of you above, the setFollowRedirect and setInstanceFollowRedirects only work automatically when the redirected protocol is same . ie from http to http and https to https.</p>\n\n<p>setFolloRedirect is at class level and sets this for all instances of the url connection, whereas setInstanceFollowRedirects is only for a given instance. This way we can have different behavior for different instances.</p>\n\n<p>I found a very good example here  <a href=\"http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/\" rel=\"noreferrer\">http://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/</a></p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":4,"up_vote_count":71,"is_accepted":false,"score":67,"last_activity_date":1553702369,"creation_date":1411671545,"answer_id":26046079,"question_id":1884230,"body_markdown":"HttpURLConnection by [design][1] won&#39;t automatically redirect from HTTP to HTTPS (or vice versa).\t Following the redirect may have serious security consequences.  SSL (hence HTTPS) creates a session that is unique to the user.  This session can be reused for multiple requests.  Thus, the server can track all of the requests made from a single person.  This is a weak form of identity and is exploitable.  Also, the SSL handshake can ask for the client&#39;s certificate.  If sent to the server, then the client&#39;s identity is given to the server.\r\n\r\nAs [erickson][2] points out, suppose the application is set up to perform client authentication automatically. The user expects to be surfing anonymously because he&#39;s using HTTP. But if his client follows HTTPS without asking, his identity is revealed to the server.\r\n\r\nThe programmer has to take extra steps to ensure that credentials, client certificates or SSL session id will not be sent before redirecting from HTTP to HTTPS. The default is to send these.  If the redirection hurts the user, do not follow the redirection.  This is why automatic redirect is not supported.  \r\n\r\nWith that understood, here&#39;s the code which will follow the redirects.\r\n\r\n      URL resourceUrl, base, next;\r\n      Map&lt;String, Integer&gt; visited;\r\n      HttpURLConnection conn;\r\n      String location;\r\n      int times;\r\n\r\n      ...\r\n      visited = new HashMap&lt;&gt;();\r\n\r\n      while (true)\r\n      {\r\n         times = visited.compute(url, (key, count) -&gt; count == null ? 1 : count + 1);\r\n\r\n         if (times &gt; 3)\r\n            throw new IOException(&quot;Stuck in redirect loop&quot;);\r\n\r\n         resourceUrl = new URL(url);\r\n         conn        = (HttpURLConnection) resourceUrl.openConnection();\r\n\r\n         conn.setConnectTimeout(15000);\r\n         conn.setReadTimeout(15000);\r\n         conn.setInstanceFollowRedirects(false);   // Make the logic below easier to detect redirections\r\n         conn.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0...&quot;);\r\n         \r\n         switch (conn.getResponseCode())\r\n         {\r\n            case HttpURLConnection.HTTP_MOVED_PERM:\r\n            case HttpURLConnection.HTTP_MOVED_TEMP:\r\n               location = conn.getHeaderField(&quot;Location&quot;);\r\n               location = URLDecoder.decode(location, &quot;UTF-8&quot;);\r\n               base     = new URL(url);               \r\n               next     = new URL(base, location);  // Deal with relative URLs\r\n               url      = next.toExternalForm();\r\n               continue;\r\n         }\r\n         \r\n         break;\r\n      }\r\n\r\n      is = conn.openStream();\r\n      ...\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-4620571?focusedCommentId=12159233&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12159233\r\n  [2]: https://stackoverflow.com/users/3474/erickson","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>HttpURLConnection by <a href=\"https://bugs.openjdk.java.net/browse/JDK-4620571?focusedCommentId=12159233&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12159233\" rel=\"noreferrer\">design</a> won't automatically redirect from HTTP to HTTPS (or vice versa).    Following the redirect may have serious security consequences.  SSL (hence HTTPS) creates a session that is unique to the user.  This session can be reused for multiple requests.  Thus, the server can track all of the requests made from a single person.  This is a weak form of identity and is exploitable.  Also, the SSL handshake can ask for the client's certificate.  If sent to the server, then the client's identity is given to the server.</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/3474/erickson\">erickson</a> points out, suppose the application is set up to perform client authentication automatically. The user expects to be surfing anonymously because he's using HTTP. But if his client follows HTTPS without asking, his identity is revealed to the server.</p>\n\n<p>The programmer has to take extra steps to ensure that credentials, client certificates or SSL session id will not be sent before redirecting from HTTP to HTTPS. The default is to send these.  If the redirection hurts the user, do not follow the redirection.  This is why automatic redirect is not supported.  </p>\n\n<p>With that understood, here's the code which will follow the redirects.</p>\n\n<pre><code>  URL resourceUrl, base, next;\n  Map&lt;String, Integer&gt; visited;\n  HttpURLConnection conn;\n  String location;\n  int times;\n\n  ...\n  visited = new HashMap&lt;&gt;();\n\n  while (true)\n  {\n     times = visited.compute(url, (key, count) -&gt; count == null ? 1 : count + 1);\n\n     if (times &gt; 3)\n        throw new IOException(\"Stuck in redirect loop\");\n\n     resourceUrl = new URL(url);\n     conn        = (HttpURLConnection) resourceUrl.openConnection();\n\n     conn.setConnectTimeout(15000);\n     conn.setReadTimeout(15000);\n     conn.setInstanceFollowRedirects(false);   // Make the logic below easier to detect redirections\n     conn.setRequestProperty(\"User-Agent\", \"Mozilla/5.0...\");\n\n     switch (conn.getResponseCode())\n     {\n        case HttpURLConnection.HTTP_MOVED_PERM:\n        case HttpURLConnection.HTTP_MOVED_TEMP:\n           location = conn.getHeaderField(\"Location\");\n           location = URLDecoder.decode(location, \"UTF-8\");\n           base     = new URL(url);               \n           next     = new URL(base, location);  // Deal with relative URLs\n           url      = next.toExternalForm();\n           continue;\n     }\n\n     break;\n  }\n\n  is = conn.openStream();\n  ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648215895,"creation_date":1530893817,"answer_id":51214268,"question_id":1884230,"body_markdown":"Another option can be to use **Apache HttpComponents Client**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSample code:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    HttpGet httpget = new HttpGet(&quot;https://media-hearth.cursecdn.com/avatars/330/498/212.png&quot;);\r\n    CloseableHttpResponse response = httpclient.execute(httpget);\r\n    HttpEntity entity = response.getEntity();\r\n    InputStream is = entity.getContent();\r\n","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>Another option can be to use <strong>Apache HttpComponents Client</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Sample code:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\nHttpGet httpget = new HttpGet(&quot;https://media-hearth.cursecdn.com/avatars/330/498/212.png&quot;);\nCloseableHttpResponse response = httpclient.execute(httpget);\nHttpEntity entity = response.getEntity();\nInputStream is = entity.getContent();\n</code></pre>\n"}],"owner":{"account_id":113167,"reputation":6029,"user_id":298182,"accept_rate":83,"display_name":"Shcheklein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102231,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":1884427,"answer_count":6,"score":115,"last_activity_date":1648215895,"creation_date":1260481126,"question_id":1884230,"body_markdown":"I can&#39;t understand why Java&#39;s `HttpURLConnection` does not follow an HTTP redirect from an HTTP to an HTTPS URL. I use the following code to get the page at https://httpstat.us/:\r\n\r\n    import java.net.URL;\r\n    import java.net.HttpURLConnection;\r\n    import java.io.InputStream;\r\n\r\n    public class Tester {\r\n\r\n        public static void main(String argv[]) throws Exception{\r\n            InputStream is = null;\r\n\r\n            try {\r\n                String httpUrl = &quot;http://httpstat.us/301&quot;;\r\n                URL resourceUrl = new URL(httpUrl);\r\n                HttpURLConnection conn = (HttpURLConnection)resourceUrl.openConnection();\r\n                conn.setConnectTimeout(15000);\r\n                conn.setReadTimeout(15000);\r\n                conn.connect();\r\n                is = conn.getInputStream();\r\n                System.out.println(&quot;Original URL: &quot;+httpUrl);\r\n                System.out.println(&quot;Connected to: &quot;+conn.getURL());\r\n                System.out.println(&quot;HTTP response code received: &quot;+conn.getResponseCode());\r\n                System.out.println(&quot;HTTP response message received: &quot;+conn.getResponseMessage());\r\n           } finally {\r\n                if (is != null) is.close();\r\n            }\r\n        }\r\n    }\r\n\r\nThe output of this program is:\r\n\r\n&lt;pre&gt;\r\nOriginal URL: http://httpstat.us/301\r\nConnected to: http://httpstat.us/301\r\nHTTP response code received: 301\r\nHTTP response message received: Moved Permanently\r\n&lt;/pre&gt;\r\n\r\nA request to http://httpstat.us/301 returns the following (shortened) response (which seems absolutely right!):\r\n\r\n    HTTP/1.1 301 Moved Permanently\r\n    Cache-Control: private\r\n    Content-Length: 21\r\n    Content-Type: text/plain; charset=utf-8\r\n    Location: https://httpstat.us\r\n\r\n\r\nUnfortunately, Java&#39;s `HttpURLConnection` does not follow the redirect!\r\n\r\nNote that if you change the original URL to HTTPS (https://httpstat.us/301), Java _will_ follow the redirect as expected!?","title":"HTTPURLConnection Doesn&#39;t Follow Redirect from HTTP to HTTPS","body":"<p>I can't understand why Java's <code>HttpURLConnection</code> does not follow an HTTP redirect from an HTTP to an HTTPS URL. I use the following code to get the page at <a href=\"https://httpstat.us/\" rel=\"noreferrer\">https://httpstat.us/</a>:</p>\n\n<pre><code>import java.net.URL;\nimport java.net.HttpURLConnection;\nimport java.io.InputStream;\n\npublic class Tester {\n\n    public static void main(String argv[]) throws Exception{\n        InputStream is = null;\n\n        try {\n            String httpUrl = \"http://httpstat.us/301\";\n            URL resourceUrl = new URL(httpUrl);\n            HttpURLConnection conn = (HttpURLConnection)resourceUrl.openConnection();\n            conn.setConnectTimeout(15000);\n            conn.setReadTimeout(15000);\n            conn.connect();\n            is = conn.getInputStream();\n            System.out.println(\"Original URL: \"+httpUrl);\n            System.out.println(\"Connected to: \"+conn.getURL());\n            System.out.println(\"HTTP response code received: \"+conn.getResponseCode());\n            System.out.println(\"HTTP response message received: \"+conn.getResponseMessage());\n       } finally {\n            if (is != null) is.close();\n        }\n    }\n}\n</code></pre>\n\n<p>The output of this program is:</p>\n\n<pre>\nOriginal URL: http://httpstat.us/301\nConnected to: http://httpstat.us/301\nHTTP response code received: 301\nHTTP response message received: Moved Permanently\n</pre>\n\n<p>A request to <a href=\"http://httpstat.us/301\" rel=\"noreferrer\">http://httpstat.us/301</a> returns the following (shortened) response (which seems absolutely right!):</p>\n\n<pre><code>HTTP/1.1 301 Moved Permanently\nCache-Control: private\nContent-Length: 21\nContent-Type: text/plain; charset=utf-8\nLocation: https://httpstat.us\n</code></pre>\n\n<p>Unfortunately, Java's <code>HttpURLConnection</code> does not follow the redirect!</p>\n\n<p>Note that if you change the original URL to HTTPS (<a href=\"https://httpstat.us/301\" rel=\"noreferrer\">https://httpstat.us/301</a>), Java <em>will</em> follow the redirect as expected!?</p>\n"},{"tags":["java","thread-exceptions"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1648210928,"post_id":71616864,"comment_id":126572909,"body_markdown":"Well, you&#39;re trying to parse an empty string as if it&#39;s an integer. It&#39;s not clear how you&#39;re calling `takeGuess()`, but it should probably only be in response to the user clicking a button or something like that - and it shouldn&#39;t be in a loop, otherwise you&#39;re not giving them a chance to change their guess before trying again.","body":"Well, you&#39;re trying to parse an empty string as if it&#39;s an integer. It&#39;s not clear how you&#39;re calling <code>takeGuess()</code>, but it should probably only be in response to the user clicking a button or something like that - and it shouldn&#39;t be in a loop, otherwise you&#39;re not giving them a chance to change their guess before trying again."},{"owner":{"account_id":22418165,"reputation":59,"user_id":16625900,"display_name":"SwillMith16"},"score":0,"creation_date":1648214232,"post_id":71616864,"comment_id":126574165,"body_markdown":"@JonSkeet the function is called from a button click and the text being parsed is taken from a text field where they enter their number. The loop is just so when they give up and it reveals the number, playing = false so they can&#39;t make any more guesses, until they hit &#39;play again&#39; and then playing = true. Is there a better way to implement that?","body":"@JonSkeet the function is called from a button click and the text being parsed is taken from a text field where they enter their number. The loop is just so when they give up and it reveals the number, playing = false so they can&#39;t make any more guesses, until they hit &#39;play again&#39; and then playing = true. Is there a better way to implement that?"},{"owner":{"account_id":22418165,"reputation":59,"user_id":16625900,"display_name":"SwillMith16"},"score":0,"creation_date":1648214911,"post_id":71616864,"comment_id":126574438,"body_markdown":"@JonSkeet That&#39;s really helped actually, changed the while loop to an if statement that checks if they&#39;ve already won or given up. Doesn&#39;t loop back around to an empty string anymore. Thanks!","body":"@JonSkeet That&#39;s really helped actually, changed the while loop to an if statement that checks if they&#39;ve already won or given up. Doesn&#39;t loop back around to an empty string anymore. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":22418165,"reputation":59,"user_id":16625900,"display_name":"SwillMith16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648215340,"creation_date":1648215340,"answer_id":71617830,"question_id":71616864,"body_markdown":"This comment helped solve the problem:\r\n\r\n&gt; Well, you&#39;re trying to parse an empty string as if it&#39;s an integer.\r\n&gt; It&#39;s not clear how you&#39;re calling takeGuess(), but it should probably\r\n&gt; only be in response to the user clicking a button or something like\r\n&gt; that - and it shouldn&#39;t be in a loop, otherwise you&#39;re not giving them\r\n&gt; a chance to change their guess before trying again. – Jon Skeet\r\n\r\nI introduced a new boolean called &#39;lose&#39; which is set to true if they give up. Also changed the while loop to an if statement so function only does something when both win = false and lose = false, i.e. they&#39;re still playing.\r\n\r\n    public void takeGuess() {\r\n    \r\n        // cannot make a guess if won the game or given up\r\n        if (!win &amp;&amp; !lose) {\r\n    \r\n            // retrieve input and convert to integer for comparison\r\n            int guess = Integer.parseInt(txtGuess.getText());\r\n            txtGuess.setText(null);\r\n    \r\n    \r\n            // decide outcome of guess\r\n            if (guess &gt; number) {\r\n                txtDescription.setText(&quot;Too high!&quot;);\r\n            } else if (guess &lt; number) {\r\n                txtDescription.setText(&quot;Too low!&quot;);\r\n            } else {\r\n                win = true;\r\n                lose = false;\r\n                txtDescription.setText(&quot;You win!&quot;);\r\n            }\r\n    \r\n            // increment guess counter then repeat if needed\r\n            guessCount++;\r\n            currentScore.setText(&quot;&quot; + guessCount);\r\n            System.out.println(&quot;received guess\\n&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nIt no longer loops back around to be met with an empty string to be parsed, which gave the error.","title":"&#39;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException&#39; when using Integer.parseInt - Java","body":"<p>This comment helped solve the problem:</p>\n<blockquote>\n<p>Well, you're trying to parse an empty string as if it's an integer.\nIt's not clear how you're calling takeGuess(), but it should probably\nonly be in response to the user clicking a button or something like\nthat - and it shouldn't be in a loop, otherwise you're not giving them\na chance to change their guess before trying again. – Jon Skeet</p>\n</blockquote>\n<p>I introduced a new boolean called 'lose' which is set to true if they give up. Also changed the while loop to an if statement so function only does something when both win = false and lose = false, i.e. they're still playing.</p>\n<pre><code>public void takeGuess() {\n\n    // cannot make a guess if won the game or given up\n    if (!win &amp;&amp; !lose) {\n\n        // retrieve input and convert to integer for comparison\n        int guess = Integer.parseInt(txtGuess.getText());\n        txtGuess.setText(null);\n\n\n        // decide outcome of guess\n        if (guess &gt; number) {\n            txtDescription.setText(&quot;Too high!&quot;);\n        } else if (guess &lt; number) {\n            txtDescription.setText(&quot;Too low!&quot;);\n        } else {\n            win = true;\n            lose = false;\n            txtDescription.setText(&quot;You win!&quot;);\n        }\n\n        // increment guess counter then repeat if needed\n        guessCount++;\n        currentScore.setText(&quot;&quot; + guessCount);\n        System.out.println(&quot;received guess\\n&quot;);\n    }\n\n}\n</code></pre>\n<p>It no longer loops back around to be met with an empty string to be parsed, which gave the error.</p>\n"}],"owner":{"account_id":22418165,"reputation":59,"user_id":16625900,"display_name":"SwillMith16"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71617830,"answer_count":1,"score":0,"last_activity_date":1648215340,"creation_date":1648210653,"question_id":71616864,"body_markdown":"I am trying to create a simple number guessing GUI game. I am using &#39;Integer.parseInt&#39; to get the user&#39;s input as an integer instead of string so it can be compared. The program still executes as expected but it gives me the following error in the console:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:784)\r\n    \tat Window.takeGuess(Window.java:58)\r\n    \tat Window$2.actionPerformed(Window.java:32)\r\n    \tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n    \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\r\nline 58 is where the Integer.parseInt command is used and line 32 is where the takeGuess() function is called. My code is shown below:\r\n\r\n    public void takeGuess() {\r\n            while (playing) {\r\n    \r\n                // retrieve input and convert to integer for comparison\r\n                int guess = Integer.parseInt(txtGuess.getText());\r\n                txtGuess.setText(null);\r\n    \r\n                // decide outcome of guess\r\n                if (guess &gt; number) {\r\n                    txtDescription.setText(&quot;Too high!&quot;);\r\n                } else if (guess &lt; number) {\r\n                    txtDescription.setText(&quot;Too low!&quot;);\r\n                } else {\r\n                    win = true;\r\n                    txtDescription.setText(&quot;You win!&quot;);\r\n                    playing = false;\r\n                }\r\n    \r\n                // increment guess counter then repeat if needed\r\n                guessCount++;\r\n                currentScore.setText(&quot;&quot; + guessCount);\r\n                System.out.println(&quot;received guess\\n&quot;);\r\n            }\r\n        }\r\n\r\nI originally had `txtGuess.setText(null)` set to `txtGuess.setText(&quot;&quot;)` and it gave the same error. As I said, the program still functions despite this error but I&#39;d obviously like to get it fixed anyway. Can anyone help?","title":"&#39;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException&#39; when using Integer.parseInt - Java","body":"<p>I am trying to create a simple number guessing GUI game. I am using 'Integer.parseInt' to get the user's input as an integer instead of string so it can be compared. The program still executes as expected but it gives me the following error in the console:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:678)\n    at java.base/java.lang.Integer.parseInt(Integer.java:784)\n    at Window.takeGuess(Window.java:58)\n    at Window$2.actionPerformed(Window.java:32)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n</code></pre>\n<p>line 58 is where the Integer.parseInt command is used and line 32 is where the takeGuess() function is called. My code is shown below:</p>\n<pre><code>public void takeGuess() {\n        while (playing) {\n\n            // retrieve input and convert to integer for comparison\n            int guess = Integer.parseInt(txtGuess.getText());\n            txtGuess.setText(null);\n\n            // decide outcome of guess\n            if (guess &gt; number) {\n                txtDescription.setText(&quot;Too high!&quot;);\n            } else if (guess &lt; number) {\n                txtDescription.setText(&quot;Too low!&quot;);\n            } else {\n                win = true;\n                txtDescription.setText(&quot;You win!&quot;);\n                playing = false;\n            }\n\n            // increment guess counter then repeat if needed\n            guessCount++;\n            currentScore.setText(&quot;&quot; + guessCount);\n            System.out.println(&quot;received guess\\n&quot;);\n        }\n    }\n</code></pre>\n<p>I originally had <code>txtGuess.setText(null)</code> set to <code>txtGuess.setText(&quot;&quot;)</code> and it gave the same error. As I said, the program still functions despite this error but I'd obviously like to get it fixed anyway. Can anyone help?</p>\n"},{"tags":["java","eclipse","swing","jframe","windowbuilder"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636630064,"post_id":69927269,"comment_id":123611024,"body_markdown":"Which version of WindowBuilder? Could you reproduce this issue with a fresh Eclipse 2021-09 without additional installed plugins, only with the WindowBuilder plugin and a fresh workspace? If yes, please show a minimal Java file with which it can be reproduced.","body":"Which version of WindowBuilder? Could you reproduce this issue with a fresh Eclipse 2021-09 without additional installed plugins, only with the WindowBuilder plugin and a fresh workspace? If yes, please show a minimal Java file with which it can be reproduced."},{"owner":{"account_id":19683803,"reputation":61,"user_id":17385643,"display_name":"korbie"},"score":0,"creation_date":1636631140,"post_id":69927269,"comment_id":123611428,"body_markdown":"The WindowBuilder version is the most recent one, I got from the oficial website. Actually this is a new Eclipse, I reinstalled it, so there is no plugins beyond WindowBuilder. Thanks for answering!","body":"The WindowBuilder version is the most recent one, I got from the oficial website. Actually this is a new Eclipse, I reinstalled it, so there is no plugins beyond WindowBuilder. Thanks for answering!"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1636631539,"post_id":69927269,"comment_id":123611563,"body_markdown":"This may not be related at all, but in the Preferences look at &#39;Java &gt; Appearance &gt; Type Filters&#39; and clear any filter for &#39;java.awt.*&#39;","body":"This may not be related at all, but in the Preferences look at &#39;Java &gt; Appearance &gt; Type Filters&#39; and clear any filter for &#39;java.awt.*&#39;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1636632568,"post_id":69927269,"comment_id":123611938,"body_markdown":"Then please show a minimal Java file with which it can be reproduced.","body":"Then please show a minimal Java file with which it can be reproduced."},{"owner":{"account_id":11324596,"reputation":45,"user_id":8303968,"accept_rate":40,"display_name":"David S."},"score":0,"creation_date":1636655210,"post_id":69927269,"comment_id":123626798,"body_markdown":"Did you import files or workspaces from an older version of Eclipse?","body":"Did you import files or workspaces from an older version of Eclipse?"},{"owner":{"account_id":5405894,"reputation":1357,"user_id":4304439,"accept_rate":100,"display_name":"Alex Byrth"},"score":0,"creation_date":1640985296,"post_id":69927269,"comment_id":124704668,"body_markdown":"Same issue here - fresh new Eclipse install and WB just crashed with same error","body":"Same issue here - fresh new Eclipse install and WB just crashed with same error"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641039217,"post_id":69927269,"comment_id":124710379,"body_markdown":"@AlexByrth Which WB version do you have and with which Java version do you run Eclipse? There are issues with Java 16 and 17 that have already been fixed.","body":"@AlexByrth Which WB version do you have and with which Java version do you run Eclipse? There are issues with Java 16 and 17 that have already been fixed."}],"answers":[{"tags":[],"owner":{"account_id":23310085,"reputation":39,"user_id":17389475,"display_name":"Andre Medeiros"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636729097,"creation_date":1636729097,"answer_id":69944879,"question_id":69927269,"body_markdown":"I had the same issue and I just updated WindowBuilder Nightly Build 1.9.6.pre instalation and the problem was solved.","title":"WindowBuilder was not able to show the GUI. unable to load *.wbp-component.xml description for component javax.swing.JFrame","body":"<p>I had the same issue and I just updated WindowBuilder Nightly Build 1.9.6.pre instalation and the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":14284990,"reputation":406,"user_id":10318539,"display_name":"Engr. Khuram  Shahzad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648215026,"creation_date":1648215026,"answer_id":71617771,"question_id":69927269,"body_markdown":"**Solution**\r\n&gt; 1. Go to Help &gt; Eclipse Marketplace&gt;\r\n&gt; 2. Search &quot;Window Builder&quot;\r\n\r\nOutput: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nClick on Installed of  **Window Builder nightly build 1.9.8.pre**\r\n\r\nOutput: \r\n\r\nIf there is update then click on it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RFnll.png\r\n  [2]: https://i.stack.imgur.com/weKfi.png\r\n\r\n","title":"WindowBuilder was not able to show the GUI. unable to load *.wbp-component.xml description for component javax.swing.JFrame","body":"<p><strong>Solution</strong></p>\n<blockquote>\n<ol>\n<li>Go to Help &gt; Eclipse Marketplace&gt;</li>\n<li>Search &quot;Window Builder&quot;</li>\n</ol>\n</blockquote>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/RFnll.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RFnll.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on Installed of  <strong>Window Builder nightly build 1.9.8.pre</strong></p>\n<p>Output:</p>\n<p>If there is update then click on it.</p>\n<p><a href=\"https://i.stack.imgur.com/weKfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/weKfi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19683803,"reputation":61,"user_id":17385643,"display_name":"korbie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15264,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1648215026,"creation_date":1636628930,"question_id":69927269,"body_markdown":"I&#39;m using Eclipse 2021-9 version and already have windowbuilder installed. this error happens when I click the designer tab. Can anybody help me?\r\n\r\n[![Error dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nZ5iS.png","title":"WindowBuilder was not able to show the GUI. unable to load *.wbp-component.xml description for component javax.swing.JFrame","body":"<p>I'm using Eclipse 2021-9 version and already have windowbuilder installed. this error happens when I click the designer tab. Can anybody help me?</p>\n<p><a href=\"https://i.stack.imgur.com/nZ5iS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZ5iS.png\" alt=\"Error dialog\" /></a></p>\n"},{"tags":["java","mongodb","filtering","aggregation"],"answers":[{"tags":[],"owner":{"account_id":4963510,"reputation":11,"user_id":3993739,"display_name":"zabdulz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648215007,"creation_date":1648215007,"answer_id":71617764,"question_id":71616464,"body_markdown":"There are tons of public methods you could use for this, have a look at the Javadoc here [https://mongodb.github.io/mongo-java-driver/3.6/javadoc/com/mongodb/client/model/Filters.html][1]\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.6/javadoc/com/mongodb/client/model/Filters.html","title":"Need to get aggregation filters result for notequals, equals, contains, not contains, starts with and ends with","body":"<p>There are tons of public methods you could use for this, have a look at the Javadoc here <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/com/mongodb/client/model/Filters.html\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.6/javadoc/com/mongodb/client/model/Filters.html</a></p>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648215007,"creation_date":1648208742,"question_id":71616464,"body_markdown":"I have a method which returns filtered result.\r\n```\r\n private Bson filter() {       \r\n       return Aggregates.match(Filters.eq(&quot;product&quot;,&quot;abc&quot;));\r\n    }\r\n```\r\nThe above code returns results where product is equal to abc.\r\nSimilarly I need to do get results for not equals, contains, not contains, starts with, ends with.\r\nCan someone help on this?","title":"Need to get aggregation filters result for notequals, equals, contains, not contains, starts with and ends with","body":"<p>I have a method which returns filtered result.</p>\n<pre><code> private Bson filter() {       \n       return Aggregates.match(Filters.eq(&quot;product&quot;,&quot;abc&quot;));\n    }\n</code></pre>\n<p>The above code returns results where product is equal to abc.\nSimilarly I need to do get results for not equals, contains, not contains, starts with, ends with.\nCan someone help on this?</p>\n"},{"tags":["javascript","java","user-interface","web","vaadin"],"comments":[{"owner":{"account_id":1198272,"reputation":23018,"user_id":1169519,"accept_rate":57,"display_name":"Teemu"},"score":0,"creation_date":1648214725,"post_id":71617694,"comment_id":126574361,"body_markdown":"Prevent the selection instead of trying to prevent copying?","body":"Prevent the selection instead of trying to prevent copying?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648216726,"post_id":71617694,"comment_id":126575168,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1648217200,"post_id":71617694,"comment_id":126575361,"body_markdown":"You could make the TextArea very high and instead make its container element scrollable (either use a Scroller component or CSS overflow styles)?","body":"You could make the TextArea very high and instead make its container element scrollable (either use a Scroller component or CSS overflow styles)?"},{"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"score":1,"creation_date":1648483188,"post_id":71617694,"comment_id":126629498,"body_markdown":"An approach to suppress copying text (even with development tools in the browser) is to print that text into an image and show that image.","body":"An approach to suppress copying text (even with development tools in the browser) is to print that text into an image and show that image."},{"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"score":0,"creation_date":1648483524,"post_id":71617694,"comment_id":126629623,"body_markdown":"Suppressing right click or Ctrl+C could be done in JavaScript with an event listener that stops propagation: `event.stopPropagation();`","body":"Suppressing right click or Ctrl+C could be done in JavaScript with an event listener that stops propagation: <code>event.stopPropagation();</code>"}],"owner":{"account_id":24686039,"reputation":1,"user_id":18579209,"display_name":"Christopher Boyd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648214654,"creation_date":1648214654,"question_id":71617694,"body_markdown":"we are using Vaadin 14 and attempting to create a pop-up Window of some sort, that contains a TextArea with text in it.\r\n\r\nWe would like to know how to prevent this text from being copied, both by Ctrl+C, and by disabling right click.\r\n\r\nWe are aware that this is not perfect protection, and that a savvy user can view the source of the page to retrieve the content.\r\n\r\nDisabling the TextArea has the intended effect of preventing copying and pasting of the text, but it also disallows scrolling in case the text is larger than the TextArea itself.\r\n\r\nI tried to disable the TextArea itself, which does seem to prevent copying content from TextArea, but it also disables the scrollbars.\r\n\r\nIs there a way to do this without sacrificing scrollbars for the sake of preventing copying / right click menu on a TextArea?\r\n\r\nThank you.","title":"Is there a way to create a pop-up window with text in Vaadin 14 that disallows copying the text?","body":"<p>we are using Vaadin 14 and attempting to create a pop-up Window of some sort, that contains a TextArea with text in it.</p>\n<p>We would like to know how to prevent this text from being copied, both by Ctrl+C, and by disabling right click.</p>\n<p>We are aware that this is not perfect protection, and that a savvy user can view the source of the page to retrieve the content.</p>\n<p>Disabling the TextArea has the intended effect of preventing copying and pasting of the text, but it also disallows scrolling in case the text is larger than the TextArea itself.</p>\n<p>I tried to disable the TextArea itself, which does seem to prevent copying content from TextArea, but it also disables the scrollbars.</p>\n<p>Is there a way to do this without sacrificing scrollbars for the sake of preventing copying / right click menu on a TextArea?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","api","rest","resttemplate"],"comments":[{"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"score":0,"creation_date":1648196001,"post_id":71613775,"comment_id":126567753,"body_markdown":"with reference to your error logs, it shows that your remote service call of rest template with ParameterizedTypeReference is not working for &quot;List&lt;User&gt;&quot;.\nMeans, after getting response, it is unable to map that response in List&lt;User&gt;.","body":"with reference to your error logs, it shows that your remote service call of rest template with ParameterizedTypeReference is not working for &quot;List&lt;User&gt;&quot;. Means, after getting response, it is unable to map that response in List&lt;User&gt;."},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":0,"creation_date":1648200954,"post_id":71613775,"comment_id":126569450,"body_markdown":"Why can&#39;t it map the response to the List&lt;User&gt; Or how can it be solved?!","body":"Why can&#39;t it map the response to the List&lt;User&gt; Or how can it be solved?!"},{"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"score":0,"creation_date":1648202638,"post_id":71613775,"comment_id":126570037,"body_markdown":"Azad, please check my answer","body":"Azad, please check my answer"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648211531,"post_id":71613775,"comment_id":126573133,"body_markdown":"@AbhaleAmol response appear to be correct. Your stacktrace displays the following: &quot; Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`)&quot;. You have an exception in deserialization in the first place. Probably you have an interceptor for RestTemplate that is returning the null. The solution is to create the wrapper class ass suggested in the answer. The problem is that in JSON, you have an object that contains a property named User, that property is an array. So you have the wrap the object in first place.","body":"@AbhaleAmol response appear to be correct. Your stacktrace displays the following: &quot; Cannot deserialize value of type <code>java.util.ArrayList&lt;com.example.demo.entity.User&gt;</code> from Object value (token <code>JsonToken.START_OBJECT</code>)&quot;. You have an exception in deserialization in the first place. Probably you have an interceptor for RestTemplate that is returning the null. The solution is to create the wrapper class ass suggested in the answer. The problem is that in JSON, you have an object that contains a property named User, that property is an array. So you have the wrap the object in first place."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648196231,"creation_date":1648196231,"answer_id":71613898,"question_id":71613775,"body_markdown":"As exception suggest, response can not map to `List&lt;User&gt;`, beside it i suggest to use `Optional` to manage all `null` possibilities as well \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    yourServiceReturnTypeAsOptional\r\n           .map(vs -&gt; ResponseEntity.status(HttpStatus.OK).body(vs))\r\n                  .orElseGet(() -&gt;ResponseEntity.status(HttpStatus.NO_CONTENT)\r\n                  .build())\r\n\r\n\r\n ","title":"why is ResponseEntity &lt;List&lt;Object&gt;&gt; returning null?","body":"<p>As exception suggest, response can not map to <code>List&lt;User&gt;</code>, beside it i suggest to use <code>Optional</code> to manage all <code>null</code> possibilities as well</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>yourServiceReturnTypeAsOptional\n       .map(vs -&gt; ResponseEntity.status(HttpStatus.OK).body(vs))\n              .orElseGet(() -&gt;ResponseEntity.status(HttpStatus.NO_CONTENT)\n              .build())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648214552,"creation_date":1648202551,"answer_id":71615115,"question_id":71613775,"body_markdown":"You can use custom wrapper class:\r\n\r\n    public class UserList {\r\n    \r\n    private List&lt;User&gt; User;\r\n    \r\n    public List&lt;User&gt; getUser() {\r\n        return this.User;\r\n    }\r\n    \r\n    public void setUsers(List&lt;User&gt; User) {\r\n        this.User = User;\r\n    }\r\n\r\nThen:\r\n\r\n    UserList userList =restTemplate.exchange(&quot;https://dummyjson.com/\r\n         produts/&quot;,HttpMethod.GET, null, new ParameterizedTypeReference&lt;UserList.class&gt;(){\r\n                });\r\n    List&lt;User&gt; users= userList.getUser();","title":"why is ResponseEntity &lt;List&lt;Object&gt;&gt; returning null?","body":"<p>You can use custom wrapper class:</p>\n<pre><code>public class UserList {\n\nprivate List&lt;User&gt; User;\n\npublic List&lt;User&gt; getUser() {\n    return this.User;\n}\n\npublic void setUsers(List&lt;User&gt; User) {\n    this.User = User;\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>UserList userList =restTemplate.exchange(&quot;https://dummyjson.com/\n     produts/&quot;,HttpMethod.GET, null, new ParameterizedTypeReference&lt;UserList.class&gt;(){\n            });\nList&lt;User&gt; users= userList.getUser();\n</code></pre>\n"}],"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648214552,"creation_date":1648195578,"question_id":71613775,"body_markdown":"I have the following code and  it works with getMapping(&quot;/users/{userId}&quot;) but it does not return the list of users and displays &quot;Internal server error &quot;\r\n\r\nI have attached the code for the classes I have used and I have even created another class which contains list of User to be used instead of `List&lt;User&gt;` but it did not work and the output was null , so I would be gratefull if anyone could help me about it .\r\n\r\n//User\r\n\r\n\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class User {\r\n    \r\n        private  int id;\r\n        private String title;\r\n        private String description;\r\n        private int price;\r\n        private float discountPercentage ;\r\n             private float rating ;\r\n             private int stock;\r\n             private String brand;\r\n             private String category;\r\n             private String thumbnail;\r\n             private String[] images;\r\n    \r\n    \r\n        public User() {\r\n        }\r\n    }\r\n\r\n  //UserService\r\n     \r\n     public List&lt;User&gt; getUsers() {\r\n        ResponseEntity&lt;List&lt;User&gt;&gt; responseEntity=restTemplate.exchange(&quot;https://dummyjson.com/\r\n         produts/&quot;,HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;User&gt;&gt;(){\r\n                });\r\n      List&lt;User&gt; users= responseEntity.getBody();\r\n       return users;\r\n    }\r\n    \r\n    \r\n\r\n//UserController\r\n\r\n     \r\n    @GetMapping(&quot;/users&quot;)\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers(){\r\n        return new ResponseEntity&lt;List&lt;User&gt;&gt;( userService.getUsers(),HttpStatus.OK);\r\n    }\r\n\r\n\r\n//JSON\r\n\r\n    {\r\n        &quot;User&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;title&quot;: &quot;iPhone 9&quot;,\r\n                &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\r\n                &quot;price&quot;: 549,\r\n                &quot;discountPercentage&quot;: 12.96,\r\n                &quot;rating&quot;: 4.69,\r\n                &quot;stock&quot;: 94,\r\n                &quot;brand&quot;: &quot;Apple&quot;,\r\n                &quot;category&quot;: &quot;smartphones&quot;,\r\n                &quot;thumbnail&quot;: &quot;https://dummyjson.com/image/i/products/1/thumbnail.jpg&quot;,\r\n                &quot;images&quot;: [\r\n                    &quot;https://dummyjson.com/image/i/products/1/1.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/1/2.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/1/3.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/1/4.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/1/thumbnail.jpg&quot;\r\n                ]\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;title&quot;: &quot;iPhone X&quot;,\r\n                &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\r\n                &quot;price&quot;: 899,\r\n                &quot;discountPercentage&quot;: 17.94,\r\n                &quot;rating&quot;: 4.44,\r\n                &quot;stock&quot;: 34,\r\n                &quot;brand&quot;: &quot;Apple&quot;,\r\n                &quot;category&quot;: &quot;smartphones&quot;,\r\n                &quot;thumbnail&quot;: &quot;https://dummyjson.com/image/i/products/2/thumbnail.jpg&quot;,\r\n                &quot;images&quot;: [\r\n                    &quot;https://dummyjson.com/image/i/products/2/1.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/2/2.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/2/3.jpg&quot;,\r\n                    &quot;https://dummyjson.com/image/i/products/2/thumbnail.jpg&quot;\r\n                ]\r\n            }\r\n    ],\r\n        &quot;total&quot;: 100,\r\n        &quot;skip&quot;: 0,\r\n        &quot;limit&quot;: 30\r\n    }\r\n\r\n\r\n  \r\n\r\n//Error\r\n\r\n    threw exception [Request processing failed; nested exception is org.springframework.web.client.RestClientException: Error while extracting response for type [java.util.List&lt;com.example.demo.entity.User&gt;] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n    \r\n    at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\r\n    \r\n    \r\n    \r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n    \r\n    at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\r\n    \r\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:392) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:252) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3682) ~[jackson-databind-2.13.1.jar:2.13.1]\r\n    \r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:380) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:343) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1037) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1020) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:778) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at com.example.demo.service.UserService.getUsers(UserService.java:36) ~[classes/:na]\r\n    \r\n    at com.example.demo.controller.UserController.getUsers(UserController.java:30) ~[classes/:na]\r\n    \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_322]\r\n    \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_322]\r\n    \r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_322]\r\n    \r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_322]\r\n    \r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n    \r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \r\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_322]\r\n\r\n\r\n\r\n","title":"why is ResponseEntity &lt;List&lt;Object&gt;&gt; returning null?","body":"<p>I have the following code and  it works with getMapping(&quot;/users/{userId}&quot;) but it does not return the list of users and displays &quot;Internal server error &quot;</p>\n<p>I have attached the code for the classes I have used and I have even created another class which contains list of User to be used instead of <code>List&lt;User&gt;</code> but it did not work and the output was null , so I would be gratefull if anyone could help me about it .</p>\n<p>//User</p>\n<pre><code>@Setter\n@Getter\n@ToString\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class User {\n\n    private  int id;\n    private String title;\n    private String description;\n    private int price;\n    private float discountPercentage ;\n         private float rating ;\n         private int stock;\n         private String brand;\n         private String category;\n         private String thumbnail;\n         private String[] images;\n\n\n    public User() {\n    }\n}\n</code></pre>\n<p>//UserService</p>\n<pre><code> public List&lt;User&gt; getUsers() {\n    ResponseEntity&lt;List&lt;User&gt;&gt; responseEntity=restTemplate.exchange(&quot;https://dummyjson.com/\n     produts/&quot;,HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;User&gt;&gt;(){\n            });\n  List&lt;User&gt; users= responseEntity.getBody();\n   return users;\n}\n</code></pre>\n<p>//UserController</p>\n<pre><code>@GetMapping(&quot;/users&quot;)\npublic ResponseEntity&lt;List&lt;User&gt;&gt; getUsers(){\n    return new ResponseEntity&lt;List&lt;User&gt;&gt;( userService.getUsers(),HttpStatus.OK);\n}\n</code></pre>\n<p>//JSON</p>\n<pre><code>{\n    &quot;User&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;title&quot;: &quot;iPhone 9&quot;,\n            &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\n            &quot;price&quot;: 549,\n            &quot;discountPercentage&quot;: 12.96,\n            &quot;rating&quot;: 4.69,\n            &quot;stock&quot;: 94,\n            &quot;brand&quot;: &quot;Apple&quot;,\n            &quot;category&quot;: &quot;smartphones&quot;,\n            &quot;thumbnail&quot;: &quot;https://dummyjson.com/image/i/products/1/thumbnail.jpg&quot;,\n            &quot;images&quot;: [\n                &quot;https://dummyjson.com/image/i/products/1/1.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/1/2.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/1/3.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/1/4.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/1/thumbnail.jpg&quot;\n            ]\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;title&quot;: &quot;iPhone X&quot;,\n            &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\n            &quot;price&quot;: 899,\n            &quot;discountPercentage&quot;: 17.94,\n            &quot;rating&quot;: 4.44,\n            &quot;stock&quot;: 34,\n            &quot;brand&quot;: &quot;Apple&quot;,\n            &quot;category&quot;: &quot;smartphones&quot;,\n            &quot;thumbnail&quot;: &quot;https://dummyjson.com/image/i/products/2/thumbnail.jpg&quot;,\n            &quot;images&quot;: [\n                &quot;https://dummyjson.com/image/i/products/2/1.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/2/2.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/2/3.jpg&quot;,\n                &quot;https://dummyjson.com/image/i/products/2/thumbnail.jpg&quot;\n            ]\n        }\n],\n    &quot;total&quot;: 100,\n    &quot;skip&quot;: 0,\n    &quot;limit&quot;: 30\n}\n</code></pre>\n<p>//Error</p>\n<pre><code>threw exception [Request processing failed; nested exception is org.springframework.web.client.RestClientException: Error while extracting response for type [java.util.List&lt;com.example.demo.entity.User&gt;] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`)\n\nat [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\n\n\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;com.example.demo.entity.User&gt;` from Object value (token `JsonToken.START_OBJECT`)\n\nat [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\n\nat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:392) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:252) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3682) ~[jackson-databind-2.13.1.jar:2.13.1]\n\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:380) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:343) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1037) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1020) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:778) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631) ~[spring-web-5.3.16.jar:5.3.16]\n\nat com.example.demo.service.UserService.getUsers(UserService.java:36) ~[classes/:na]\n\nat com.example.demo.controller.UserController.getUsers(UserController.java:30) ~[classes/:na]\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_322]\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_322]\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_322]\n\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_322]\n\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.58.jar:9.0.58]\n\nat java.lang.Thread.run(Thread.java:750) [na:1.8.0_322]\n</code></pre>\n"},{"tags":["java","windows","java-security","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648203959,"post_id":71608257,"comment_id":126570467,"body_markdown":"Your `isNTFSOrFAT32` is not using `ShellFolder` at all. For the `isLocal` and `isRemote` methods, it would be helpful to know why you need this information at all. It doesn’t change the way a `File` or `Path` is used in a program and for presentational purposes, there’s much more helpful information available through the official API than this boolean.","body":"Your <code>isNTFSOrFAT32</code> is not using <code>ShellFolder</code> at all. For the <code>isLocal</code> and <code>isRemote</code> methods, it would be helpful to know why you need this information at all. It doesn’t change the way a <code>File</code> or <code>Path</code> is used in a program and for presentational purposes, there’s much more helpful information available through the official API than this boolean."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1648205101,"post_id":71608257,"comment_id":126570893,"body_markdown":"Your right about isNTFSORFAt32 I will remove that from question, actually I dont need isRemote either. But the reason I need is isLocal() is my program renames files and there is an option for user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question.","body":"Your right about isNTFSORFAt32 I will remove that from question, actually I dont need isRemote either. But the reason I need is isLocal() is my program renames files and there is an option for user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648211995,"post_id":71608257,"comment_id":126573294,"body_markdown":"So the explorer has no problems with the long paths when the files are stored in a network drive?","body":"So the explorer has no problems with the long paths when the files are stored in a network drive?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1648460322,"post_id":71608257,"comment_id":126620656,"body_markdown":"User can configure to limit for all paths, but often user using Windows to fix files on NAS simply because program works on Windows but no need for files to be viewed in Windows once done.","body":"User can configure to limit for all paths, but often user using Windows to fix files on NAS simply because program works on Windows but no need for files to be viewed in Windows once done."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648214214,"creation_date":1648214214,"answer_id":71617593,"question_id":71608257,"body_markdown":"Note that `ShellFolder` is the backend of the [`FileSystemView`] API which provides most of the functionality to present file information in a UI. Testing whether a file is on a network drive isn’t provided though, but your original code looks more like a heuristic anyway.\r\n\r\nThe simplest test I’ve found so far, based on NIO only, is for the Volume Serial Number, which is only available for local drives:\r\n\r\n```java\r\npublic class WindowsFilesystemType {\r\n    public static boolean isNTFSOrFAT32(String newPath) {\r\n        try {\r\n            return switch(Files.getFileStore(Paths.get(newPath)).type()) {\r\n                case &quot;NTFS&quot;, &quot;FAT&quot;, &quot;FAT32&quot;, &quot;EXFAT&quot; -&gt; true;\r\n                default -&gt; false;\r\n            };\r\n        } catch (IOException ex) {\r\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static boolean isRemote(String newPath) {\r\n        try {\r\n            FileStore fileStore = Files.getFileStore(Paths.get(newPath));\r\n            return Integer.valueOf(0).equals(fileStore.getAttribute(&quot;volume:vsn&quot;));\r\n        } catch(Exception ex) {\r\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static boolean isLocal(String newPath) {\r\n        try {\r\n            FileStore fileStore = Files.getFileStore(Paths.get(newPath));\r\n            return !Integer.valueOf(0).equals(fileStore.getAttribute(&quot;volume:vsn&quot;));\r\n        } catch(Exception ex) {\r\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\nThis Windows file store attribute has not been documented, but it works since Java&#160;7.\r\n\r\n[`FileSystemView`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/filechooser/FileSystemView.html","title":"Testing for local or remote path (without sun.awt.shell.ShellFolder class)","body":"<p>Note that <code>ShellFolder</code> is the backend of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/filechooser/FileSystemView.html\" rel=\"nofollow noreferrer\"><code>FileSystemView</code></a> API which provides most of the functionality to present file information in a UI. Testing whether a file is on a network drive isn’t provided though, but your original code looks more like a heuristic anyway.</p>\n<p>The simplest test I’ve found so far, based on NIO only, is for the Volume Serial Number, which is only available for local drives:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WindowsFilesystemType {\n    public static boolean isNTFSOrFAT32(String newPath) {\n        try {\n            return switch(Files.getFileStore(Paths.get(newPath)).type()) {\n                case &quot;NTFS&quot;, &quot;FAT&quot;, &quot;FAT32&quot;, &quot;EXFAT&quot; -&gt; true;\n                default -&gt; false;\n            };\n        } catch (IOException ex) {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n    }\n\n    public static boolean isRemote(String newPath) {\n        try {\n            FileStore fileStore = Files.getFileStore(Paths.get(newPath));\n            return Integer.valueOf(0).equals(fileStore.getAttribute(&quot;volume:vsn&quot;));\n        } catch(Exception ex) {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n    }\n\n    public static boolean isLocal(String newPath) {\n        try {\n            FileStore fileStore = Files.getFileStore(Paths.get(newPath));\n            return !Integer.valueOf(0).equals(fileStore.getAttribute(&quot;volume:vsn&quot;));\n        } catch(Exception ex) {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>This Windows file store attribute has not been documented, but it works since Java 7.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71617593,"answer_count":1,"score":0,"last_activity_date":1648214534,"creation_date":1648149476,"question_id":71608257,"body_markdown":"I am trying to move from Java 15 to Java 17 but because they now enscapulate the internals and have removed the flag `–illegal-access` I have a problem.\r\n    \r\nFrom https://www.baeldung.com/java-17-new-features\r\n&gt; JEP 403 represents one more step toward strongly encapsulating JDK\r\n&gt; internals since it removes the flag –illegal-access. The platform will\r\n&gt; ignore the flag, and if the flag is present, the console will issue a\r\n&gt; message informing the discontinuation of the flag.\r\n\r\nI have a class that fails because it references\r\n\r\n    sun.awt.shell.ShellFolder;\r\n    sun.awt.shell.ShellFolderColumnInfo;\r\n\r\nThe purpose of the class is to identify on a Windows system whether a file is on local fileystem\r\n\r\n\r\n\r\n    import com.jthink.songkong.analyse.filename.WindowsFileSystem;\r\n    import com.jthink.songkong.ui.MainWindow;\r\n    import sun.awt.shell.ShellFolder;\r\n    import sun.awt.shell.ShellFolderColumnInfo;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.FileStore;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.logging.Level;\r\n    \r\n    /**\r\n     * Only Windows can load these methods because of reliance on sun classes\r\n     *\r\n     */\r\n    public class WindowsFilesystemType\r\n    {\r\n    \r\n        public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\r\n        public static final String WINDOWS_SHELL_ITEM_TYPE = &quot;Item type&quot;;\r\n        public static final String   WINDOWS_SHELL_SIZE = &quot;Size&quot;;\r\n        \r\n        /**\r\n         * Is this a local drive, only works for Windows machine because relies on underlying Windows code\r\n         *\r\n         * @param newPath\r\n         *\r\n         * @return true if this a local drive\r\n         */\r\n        public static boolean isLocal(String newPath)\r\n        {\r\n            try\r\n            {\r\n                Path root = Paths.get(newPath).getRoot();\r\n                ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\r\n                ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\r\n                for (int i = 0; i &lt; cols.length; i++)\r\n                {\r\n                    if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\r\n                            &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.LOCAL_DISK))\r\n                    {\r\n                        return true;\r\n                    }\r\n                    else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES))\r\n                    {\r\n                        //Mapped network drive\r\n                        if(shellFolder.getFolderColumnValue(i)!=null &amp;&amp; ((String)shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\r\n                        {\r\n                            return false;\r\n                        }\r\n                        //SONGKONG-2186:Can be null if unmapped network drive\r\n                        else if(shellFolder.getFolderColumnValue(i)==null)\r\n                        {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nCan this be achieved another way, or is there a way I can still access these sun classes ?\r\n\r\nThe reason I need is isLocal() is my program renames files and there is an option for the user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question. \r\n\r\nFor example the application renames music files if they are eon local drive to be used by Windows then they may want to enforce that limit. But if it is a networked drive they probably will not because quite often the files are stored on a Nas and they are only accessing the files via Windows because my application can run on Windows but not on the Nas.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WRMzB.png","title":"Testing for local or remote path (without sun.awt.shell.ShellFolder class)","body":"<p>I am trying to move from Java 15 to Java 17 but because they now enscapulate the internals and have removed the flag <code>–illegal-access</code> I have a problem.</p>\n<p>From <a href=\"https://www.baeldung.com/java-17-new-features\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-17-new-features</a></p>\n<blockquote>\n<p>JEP 403 represents one more step toward strongly encapsulating JDK\ninternals since it removes the flag –illegal-access. The platform will\nignore the flag, and if the flag is present, the console will issue a\nmessage informing the discontinuation of the flag.</p>\n</blockquote>\n<p>I have a class that fails because it references</p>\n<pre><code>sun.awt.shell.ShellFolder;\nsun.awt.shell.ShellFolderColumnInfo;\n</code></pre>\n<p>The purpose of the class is to identify on a Windows system whether a file is on local fileystem</p>\n<pre><code>import com.jthink.songkong.analyse.filename.WindowsFileSystem;\nimport com.jthink.songkong.ui.MainWindow;\nimport sun.awt.shell.ShellFolder;\nimport sun.awt.shell.ShellFolderColumnInfo;\n\nimport java.io.IOException;\nimport java.nio.file.FileStore;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.logging.Level;\n\n/**\n * Only Windows can load these methods because of reliance on sun classes\n *\n */\npublic class WindowsFilesystemType\n{\n\n    public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\n    public static final String WINDOWS_SHELL_ITEM_TYPE = &quot;Item type&quot;;\n    public static final String   WINDOWS_SHELL_SIZE = &quot;Size&quot;;\n    \n    /**\n     * Is this a local drive, only works for Windows machine because relies on underlying Windows code\n     *\n     * @param newPath\n     *\n     * @return true if this a local drive\n     */\n    public static boolean isLocal(String newPath)\n    {\n        try\n        {\n            Path root = Paths.get(newPath).getRoot();\n            ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\n            ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\n            for (int i = 0; i &lt; cols.length; i++)\n            {\n                if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\n                        &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.LOCAL_DISK))\n                {\n                    return true;\n                }\n                else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES))\n                {\n                    //Mapped network drive\n                    if(shellFolder.getFolderColumnValue(i)!=null &amp;&amp; ((String)shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\n                    {\n                        return false;\n                    }\n                    //SONGKONG-2186:Can be null if unmapped network drive\n                    else if(shellFolder.getFolderColumnValue(i)==null)\n                    {\n                        return false;\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>Can this be achieved another way, or is there a way I can still access these sun classes ?</p>\n<p>The reason I need is isLocal() is my program renames files and there is an option for the user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question.</p>\n<p>For example the application renames music files if they are eon local drive to be used by Windows then they may want to enforce that limit. But if it is a networked drive they probably will not because quite often the files are stored on a Nas and they are only accessing the files via Windows because my application can run on Windows but not on the Nas.</p>\n<p><a href=\"https://i.stack.imgur.com/WRMzB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WRMzB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-workmanager","android-12"],"comments":[{"owner":{"account_id":13776356,"reputation":2129,"user_id":9942608,"display_name":"Himanshi Thakur"},"score":0,"creation_date":1648117717,"post_id":71523379,"comment_id":126545080,"body_markdown":"Check your battery saver state, the work manager will work if the battery is not optimized.","body":"Check your battery saver state, the work manager will work if the battery is not optimized."},{"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"score":0,"creation_date":1669801827,"post_id":71523379,"comment_id":131723672,"body_markdown":"@manoj didu resolve this issue??","body":"@manoj didu resolve this issue??"},{"owner":{"account_id":24551423,"reputation":81,"user_id":18460535,"display_name":"manoj"},"score":1,"creation_date":1683025705,"post_id":71523379,"comment_id":134300217,"body_markdown":"Yes @Liya, To resolve this I have updated the code to use startForegroundService() only when the app is not in the background since this crash only occurred when we try to call startForegroundService() at the time our app is in the background.","body":"Yes @Liya, To resolve this I have updated the code to use startForegroundService() only when the app is not in the background since this crash only occurred when we try to call startForegroundService() at the time our app is in the background."},{"owner":{"account_id":924858,"reputation":2647,"user_id":955836,"accept_rate":52,"display_name":"Zookey"},"score":0,"creation_date":1687161342,"post_id":71523379,"comment_id":134892715,"body_markdown":"Can you post your code? i have the same issue.","body":"Can you post your code? i have the same issue."},{"owner":{"account_id":924858,"reputation":2647,"user_id":955836,"accept_rate":52,"display_name":"Zookey"},"score":0,"creation_date":1687162400,"post_id":71523379,"comment_id":134892926,"body_markdown":"How to use startForegroundService() only hwne app is not in the background?","body":"How to use startForegroundService() only hwne app is not in the background?"}],"owner":{"account_id":24551423,"reputation":81,"user_id":18460535,"display_name":"manoj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5043,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1648214299,"creation_date":1647586385,"question_id":71523379,"body_markdown":"I have upgrade the Android SDK project 30 to 31 and I also used permission in manifest: &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;. which is required for targeting SDK 28 and above.\r\nIn Android 12 I am getting the frequently below crashes on 100% background application.\r\nAlso, below Android SDK version 30, its working absolutely fine.\r\nThanks in Advance !\r\n\r\n    Non-fatal Exception: java.lang.RuntimeException: Unable to create service com.UploadService: android.app.ForegroundServiceStartNotAllowedException: Service.startForeground() not allowed due to mAllowStartForeground false: service com.UploadService\r\n       at android.app.ActivityThread.handleCreateService(ActivityThread.java:4949)\r\n       at android.app.ActivityThread.access$1900(ActivityThread.java:310)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2296)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loopOnce(Looper.java:226)\r\n       at android.os.Looper.loop(Looper.java:313)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\nI have used work manager for startForegroundService in my code, how to use workmanager for startForeground to restrict this crash in Android12 and above\r\nThanks in advance","title":"android.app.ForegroundServiceStartNotAllowedException: Service.startForeground() not allowed due to mAllowStartForeground false","body":"<p>I have upgrade the Android SDK project 30 to 31 and I also used permission in manifest: . which is required for targeting SDK 28 and above.\nIn Android 12 I am getting the frequently below crashes on 100% background application.\nAlso, below Android SDK version 30, its working absolutely fine.\nThanks in Advance !</p>\n<pre><code>Non-fatal Exception: java.lang.RuntimeException: Unable to create service com.UploadService: android.app.ForegroundServiceStartNotAllowedException: Service.startForeground() not allowed due to mAllowStartForeground false: service com.UploadService\n   at android.app.ActivityThread.handleCreateService(ActivityThread.java:4949)\n   at android.app.ActivityThread.access$1900(ActivityThread.java:310)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2296)\n   at android.os.Handler.dispatchMessage(Handler.java:106)\n   at android.os.Looper.loopOnce(Looper.java:226)\n   at android.os.Looper.loop(Looper.java:313)\n   at android.app.ActivityThread.main(ActivityThread.java:8633)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p>I have used work manager for startForegroundService in my code, how to use workmanager for startForeground to restrict this crash in Android12 and above\nThanks in advance</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"score":0,"creation_date":1648208687,"post_id":71616323,"comment_id":126572168,"body_markdown":"I assume you need to sort the characters by occurrence?","body":"I assume you need to sort the characters by occurrence?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648214229,"creation_date":1648213688,"answer_id":71617479,"question_id":71616323,"body_markdown":"In order to get the desired output you need to sort your map by value. But since a hashmap is not meant to be sorted, but accessed fast, you could add all entries to a list and sort the list. Something like:\r\n\r\n    import java.util.Map.Entry;\r\n    import java.util.Comparator;\r\n\r\n\r\n    ....\r\n\r\n    public static void repeatedChar(String str) {\r\n        char[] chars = str.toCharArray();\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n        for (Character c : chars) {\r\n            if (map.containsKey(c)) {\r\n                map.put(c, map.get(c) + 1);\r\n            } else {\r\n                map.put(c, 1);\r\n            }\r\n        }\r\n\r\n        //add map entries to list\r\n        List&lt;Entry&lt;Character, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n        //sort entries by value descending\r\n        list.sort(Entry.comparingByValue(Comparator.reverseOrder()));\r\n\r\n        //print\r\n        for (Entry&lt;Character, Integer&gt; entry : list) {\r\n            for (int i = 0; i &lt; entry.getValue(); i++){\r\n                System.out.print(entry.getKey());\r\n            }\r\n        }\r\n    }\r\n\r\nand if you fancy a stream approach:\r\n\r\n\r\n    import java.util.Comparator;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n\r\n    ....\r\n\r\n\r\n    public static void repeatedCharWithStreams(String str) {\r\n        String output =\r\n                Pattern.compile(&quot;&quot;)\r\n                        .splitAsStream(str)\r\n                        .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()))\r\n                        .entrySet().stream()\r\n                        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n                        .map(e -&gt; e.getKey().repeat(e.getValue().intValue()))\r\n                        .collect(Collectors.joining());\r\n\r\n        System.out.println(output);\r\n    }","title":"Count occurrences &amp; print highest occurred char &#39;n&#39; times","body":"<p>In order to get the desired output you need to sort your map by value. But since a hashmap is not meant to be sorted, but accessed fast, you could add all entries to a list and sort the list. Something like:</p>\n<pre><code>import java.util.Map.Entry;\nimport java.util.Comparator;\n\n\n....\n\npublic static void repeatedChar(String str) {\n    char[] chars = str.toCharArray();\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\n    for (Character c : chars) {\n        if (map.containsKey(c)) {\n            map.put(c, map.get(c) + 1);\n        } else {\n            map.put(c, 1);\n        }\n    }\n\n    //add map entries to list\n    List&lt;Entry&lt;Character, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n    //sort entries by value descending\n    list.sort(Entry.comparingByValue(Comparator.reverseOrder()));\n\n    //print\n    for (Entry&lt;Character, Integer&gt; entry : list) {\n        for (int i = 0; i &lt; entry.getValue(); i++){\n            System.out.print(entry.getKey());\n        }\n    }\n}\n</code></pre>\n<p>and if you fancy a stream approach:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\n....\n\n\npublic static void repeatedCharWithStreams(String str) {\n    String output =\n            Pattern.compile(&quot;&quot;)\n                    .splitAsStream(str)\n                    .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()))\n                    .entrySet().stream()\n                    .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n                    .map(e -&gt; e.getKey().repeat(e.getValue().intValue()))\n                    .collect(Collectors.joining());\n\n    System.out.println(output);\n}\n</code></pre>\n"}],"owner":{"account_id":1627742,"reputation":145,"user_id":1502890,"accept_rate":53,"display_name":"AdiBoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71617479,"answer_count":1,"score":0,"last_activity_date":1648214229,"creation_date":1648208150,"question_id":71616323,"body_markdown":"I was trying to solve some programs, I came across this interesting one, where we need to print the highest occurred character n times &amp; likewise for other characters.\r\n\r\nEx: Input string : &quot;please stay hydrated&quot;\r\n    Output string : &quot;aaaeeettyysplhdr&quot;\r\n\r\nI was only able to solve half way, where we print the highest occurred character &amp; the times it has occurred using a HashMap.\r\n\r\n       public static void repeatedChar(String str) {\r\n    \r\n            char[] chars = str.toCharArray();\r\n            Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \r\n            for (Character c : chars) {\r\n                if (map.containsKey(c)) {\r\n                    map.put(c, map.get(c) + 1);\r\n                } else {\r\n                    map.put(c, 1);\r\n                }\r\n            }\r\n    \r\n            //Now To find the highest character repeated\r\n    \r\n            int max = 0;\r\n            //setting to a by default\r\n            char maxCharacter = &#39;a&#39;;\r\n    \r\n            for (Map.Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n                System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;: Value &quot; + entry.getValue());\r\n                if (max &lt; entry.getValue()) {\r\n                    max = entry.getValue();\r\n                    maxCharacter = entry.getKey();\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Max Character = &quot; + maxCharacter + &quot; Max Count : &quot; + max);\r\n        }\r\n\r\n\r\nThis currently prints the highest occured character &amp; the number of times that character has occurred. Can someone please let me know how to proceed further? Thanks","title":"Count occurrences &amp; print highest occurred char &#39;n&#39; times","body":"<p>I was trying to solve some programs, I came across this interesting one, where we need to print the highest occurred character n times &amp; likewise for other characters.</p>\n<p>Ex: Input string : &quot;please stay hydrated&quot;\nOutput string : &quot;aaaeeettyysplhdr&quot;</p>\n<p>I was only able to solve half way, where we print the highest occurred character &amp; the times it has occurred using a HashMap.</p>\n<pre><code>   public static void repeatedChar(String str) {\n\n        char[] chars = str.toCharArray();\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\n        for (Character c : chars) {\n            if (map.containsKey(c)) {\n                map.put(c, map.get(c) + 1);\n            } else {\n                map.put(c, 1);\n            }\n        }\n\n        //Now To find the highest character repeated\n\n        int max = 0;\n        //setting to a by default\n        char maxCharacter = 'a';\n\n        for (Map.Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n            System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;: Value &quot; + entry.getValue());\n            if (max &lt; entry.getValue()) {\n                max = entry.getValue();\n                maxCharacter = entry.getKey();\n            }\n        }\n\n        System.out.println(&quot;Max Character = &quot; + maxCharacter + &quot; Max Count : &quot; + max);\n    }\n</code></pre>\n<p>This currently prints the highest occured character &amp; the number of times that character has occurred. Can someone please let me know how to proceed further? Thanks</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1531824,"reputation":3794,"user_id":1428862,"display_name":"Scott Carlson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648214179,"creation_date":1648214179,"answer_id":71617583,"question_id":69603797,"body_markdown":"Yes, Gradle can find jars in the local directory\r\n\r\nif you have D:/path/to/local/directory/myjar-1.0.jar, you could use it like this...\r\n\r\n```\r\nrepositories {\r\n   flatDir {\r\n       name &#39;localrepo&#39;\r\n       dirs &#39;D:/path/to/local/directory&#39;\r\n   }\r\n}\r\n\r\n...\r\nimplementation name:&#39;myjar&#39;, version: &#39;1.0&#39;\r\n```\r\n\r\nI&#39;d recommend using a local path to the project, like $rootDir/libs.  Note, for a multi-module gradle project don&#39;t use \r\n```\r\n    dirs &quot;libs&quot;\r\n```\r\nbecause it will look for libs in each module, not in the parent directory.\r\nInstead it&#39;s probably better to put all the jars in $rootDir/libs and use this:\r\n```\r\n    dirs new java.io.File(rootDir, &quot;libs&quot;)\r\n```","title":"Does Gradle flatDir enable jar builds?","body":"<p>Yes, Gradle can find jars in the local directory</p>\n<p>if you have D:/path/to/local/directory/myjar-1.0.jar, you could use it like this...</p>\n<pre><code>repositories {\n   flatDir {\n       name 'localrepo'\n       dirs 'D:/path/to/local/directory'\n   }\n}\n\n...\nimplementation name:'myjar', version: '1.0'\n</code></pre>\n<p>I'd recommend using a local path to the project, like $rootDir/libs.  Note, for a multi-module gradle project don't use</p>\n<pre><code>    dirs &quot;libs&quot;\n</code></pre>\n<p>because it will look for libs in each module, not in the parent directory.\nInstead it's probably better to put all the jars in $rootDir/libs and use this:</p>\n<pre><code>    dirs new java.io.File(rootDir, &quot;libs&quot;)\n</code></pre>\n"}],"owner":{"account_id":23027946,"reputation":23,"user_id":17147869,"display_name":"user17147869"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648214179,"creation_date":1634469444,"question_id":69603797,"body_markdown":"I&#39;m using Gradle flatDir local repository and I wonder if I would be able to use a compiled jar of my program, without needing to manually generate POM. Will Gradle still build and use the dependencies in this situation?\r\n```\r\nrepositories {\r\n   flatDir {\r\n       dirs &#39;D:/path/to/local/directory&#39;\r\n   }\r\n}\r\n```","title":"Does Gradle flatDir enable jar builds?","body":"<p>I'm using Gradle flatDir local repository and I wonder if I would be able to use a compiled jar of my program, without needing to manually generate POM. Will Gradle still build and use the dependencies in this situation?</p>\n<pre><code>repositories {\n   flatDir {\n       dirs 'D:/path/to/local/directory'\n   }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1590456276,"post_id":62013225,"comment_id":109679959,"body_markdown":"`mvn clean compile -q 2&gt;/dev/null`","body":"<code>mvn clean compile -q 2&gt;&#47;dev&#47;null</code>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1590456847,"post_id":62013225,"comment_id":109680088,"body_markdown":"Are you using the latest version of Maven?","body":"Are you using the latest version of Maven?"},{"owner":{"account_id":1887489,"reputation":8619,"user_id":4811873,"accept_rate":6,"display_name":"Mike Robinson"},"score":1,"creation_date":1590457072,"post_id":62013225,"comment_id":109680140,"body_markdown":"This issue sounds really bad ... I&#39;d suggest reporting it (as suggested), not ignoring it.","body":"This issue sounds really bad ... I&#39;d suggest reporting it (as suggested), not ignoring it."},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1590459457,"post_id":62013225,"comment_id":109680673,"body_markdown":"Yes, don&#39;t incur this as technical debt.","body":"Yes, don&#39;t incur this as technical debt."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1590462439,"post_id":62013225,"comment_id":109681407,"body_markdown":"Maybe update your versions of guice - see  https://stackoverflow.com/questions/55492394/maven-an-illegal-reflective-access-operation-has-occurred   and https://github.com/google/guice/issues/1216","body":"Maybe update your versions of guice - see  <a href=\"https://stackoverflow.com/questions/55492394/maven-an-illegal-reflective-access-operation-has-occurred\" title=\"maven an illegal reflective access operation has occurred\">stackoverflow.com/questions/55492394/&hellip;</a>   and <a href=\"https://github.com/google/guice/issues/1216\" rel=\"nofollow noreferrer\">github.com/google/guice/issues/1216</a>"},{"owner":{"account_id":4445154,"reputation":163,"user_id":3618676,"display_name":"alexcornejo"},"score":0,"creation_date":1590465679,"post_id":62013225,"comment_id":109682106,"body_markdown":"I am using maven version 3.8.1. I mean, I do not want to get any output when executing my code. I do not want to get any &quot;WARNING&quot;. Is there any way to ignore them?, I just want as output my code prints.","body":"I am using maven version 3.8.1. I mean, I do not want to get any output when executing my code. I do not want to get any &quot;WARNING&quot;. Is there any way to ignore them?, I just want as output my code prints."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590475467,"post_id":62013225,"comment_id":109684906,"body_markdown":"The warnings are telling you that those libraries (or more accurate the code in there) is not really correct in relationship with JDK9+ and the java module system...","body":"The warnings are telling you that those libraries (or more accurate the code in there) is not really correct in relationship with JDK9+ and the java module system..."}],"answers":[{"tags":[],"owner":{"account_id":7648377,"reputation":471,"user_id":5798141,"display_name":"flags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648213665,"creation_date":1648213665,"answer_id":71617474,"question_id":62013225,"body_markdown":"Maybe following recommendations from [Understanding Runtime Access Warnings][1] would help and you could modify your `MAVEN_OPTS` environment variable to allow access to the requested package:\r\n\r\n    MAVEN_OPTS=--add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-7BB28E4D-99B3-4078-BDC4-FC24180CE82B","title":"How to hide WARNINGS when compiling a maven project?","body":"<p>Maybe following recommendations from <a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-7BB28E4D-99B3-4078-BDC4-FC24180CE82B\" rel=\"nofollow noreferrer\">Understanding Runtime Access Warnings</a> would help and you could modify your <code>MAVEN_OPTS</code> environment variable to allow access to the requested package:</p>\n<pre><code>MAVEN_OPTS=--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":4445154,"reputation":163,"user_id":3618676,"display_name":"alexcornejo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648213665,"creation_date":1590456193,"question_id":62013225,"body_markdown":"I need to completely hide maven WARNINGS when using `mvn clean compile` or `mvn exec:java`.\r\nEven when I use something like `mvn clean compile -q` I got this output:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n    WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\n 1. I know hiding warnings may be a bad practice, but right now I need\r\n    to do that.\r\n    \r\n 2. In addition, I need to run this source code in other machines and\r\n    I&#39;d like to avoid to configure any classpath file or something like\r\n    that.\r\n\r\nIs that possible?. Thanks so much!!!\r\n ","title":"How to hide WARNINGS when compiling a maven project?","body":"<p>I need to completely hide maven WARNINGS when using <code>mvn clean compile</code> or <code>mvn exec:java</code>.\nEven when I use something like <code>mvn clean compile -q</code> I got this output:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<ol>\n<li><p>I know hiding warnings may be a bad practice, but right now I need\nto do that.</p></li>\n<li><p>In addition, I need to run this source code in other machines and\nI'd like to avoid to configure any classpath file or something like\nthat.</p></li>\n</ol>\n\n<p>Is that possible?. Thanks so much!!!</p>\n"},{"tags":["java","android","speech-recognition","speech-to-text"],"comments":[{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1648212880,"post_id":71617244,"comment_id":126573598,"body_markdown":"`speech_recognition` is a generic library capable of working with several backends, and providing more advanced setting. The `ACTION_RECOGNIZE_SPEECH` is a simplified API specifically to decipher language using Googles language engine, and to my knowledge there is no way to use it to do what you want. You could try looking at how the Python library works with Google&#39;s web API, which has more options, record the sounds your self and send them to the web API.","body":"<code>speech_recognition</code> is a generic library capable of working with several backends, and providing more advanced setting. The <code>ACTION_RECOGNIZE_SPEECH</code> is a simplified API specifically to decipher language using Googles language engine, and to my knowledge there is no way to use it to do what you want. You could try looking at how the Python library works with Google&#39;s web API, which has more options, record the sounds your self and send them to the web API."},{"owner":{"account_id":19605123,"reputation":361,"user_id":14349010,"display_name":"Ariel Yael"},"score":0,"creation_date":1648213266,"post_id":71617244,"comment_id":126573758,"body_markdown":"@LevM. In that case, isn&#39;t there a simpler library in java that does that?","body":"@LevM. In that case, isn&#39;t there a simpler library in java that does that?"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":1,"creation_date":1648214625,"post_id":71617244,"comment_id":126574313,"body_markdown":"You might want to have a look at PocketSphinx on android (https://cmusphinx.github.io/wiki/tutorialandroid/). It is not really simple but quite flexible.","body":"You might want to have a look at PocketSphinx on android (<a href=\"https://cmusphinx.github.io/wiki/tutorialandroid/\" rel=\"nofollow noreferrer\">cmusphinx.github.io/wiki/tutorialandroid</a>). It is not really simple but quite flexible."},{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1648214628,"post_id":71617244,"comment_id":126574317,"body_markdown":"There might be, but if I knew of one and how to use it, I would post a proper answer for you...","body":"There might be, but if I knew of one and how to use it, I would post a proper answer for you..."}],"owner":{"account_id":19605123,"reputation":361,"user_id":14349010,"display_name":"Ariel Yael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648213284,"creation_date":1648212490,"question_id":71617244,"body_markdown":"I would like to use [android&#39;s speechRecognizer](https://developer.android.com/reference/android/speech/SpeechRecognizer) to recognize sounds, which are not just words but any syllables (for example a baby saying &quot;ba&quot;/&quot;ma&quot;). \r\n\r\nThis seems to be possible in python using the `speech_recognition` module, but I can&#39;t find a way to do so in java.\r\n\r\nThe code skeleton I have so far is as follows:\r\n\r\n```\r\nfinal Intent speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n\r\nspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\nspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n\r\nspeechRecognizer.startListening(speechRecognizerIntent);\r\n\r\n```","title":"Recognize any sound in android speech recognition","body":"<p>I would like to use <a href=\"https://developer.android.com/reference/android/speech/SpeechRecognizer\" rel=\"nofollow noreferrer\">android's speechRecognizer</a> to recognize sounds, which are not just words but any syllables (for example a baby saying &quot;ba&quot;/&quot;ma&quot;).</p>\n<p>This seems to be possible in python using the <code>speech_recognition</code> module, but I can't find a way to do so in java.</p>\n<p>The code skeleton I have so far is as follows:</p>\n<pre><code>final Intent speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n\nspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\nspeechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n\nspeechRecognizer.startListening(speechRecognizerIntent);\n\n</code></pre>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1648208724,"post_id":71612255,"comment_id":126572177,"body_markdown":"This question is unrelated to Mule, since Mule is only the client and the question is about server configuration.","body":"This question is unrelated to Mule, since Mule is only the client and the question is about server configuration."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648214454,"post_id":71612255,"comment_id":126574250,"body_markdown":"I recommend you to migrate away from `javax.jms.ObjectMessage` completely. It is cumbersome and error prone since every client needs to have the object&#39;s class on its classpath. Furthermore, it is generally considered a security risk (thus the requirement to configure &quot;trust&quot; for deserialization) and it is _slow_. Finally, it precludes the use of any non-Java clients. If you ever need to expand your solution to clients not running Java you won&#39;t be able to.","body":"I recommend you to migrate away from <code>javax.jms.ObjectMessage</code> completely. It is cumbersome and error prone since every client needs to have the object&#39;s class on its classpath. Furthermore, it is generally considered a security risk (thus the requirement to configure &quot;trust&quot; for deserialization) and it is <i>slow</i>. Finally, it precludes the use of any non-Java clients. If you ever need to expand your solution to clients not running Java you won&#39;t be able to."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648208989,"creation_date":1648208989,"answer_id":71616520,"question_id":71612255,"body_markdown":"You should define ACTIVEMQ_OPTS in your operating system shell, using the appropriate method for that operating system. For example in Linux set it in the user&#39;s profile script, or use the bin/env script.\r\n\r\nIf you are using Windows you can set it [using the UI][1].\r\n\r\n\r\n  [1]: https://phoenixnap.com/kb/windows-set-environment-variable","title":"Configure ACTIVEMQ_OPTS in ActiveMQ 5.15.4","body":"<p>You should define ACTIVEMQ_OPTS in your operating system shell, using the appropriate method for that operating system. For example in Linux set it in the user's profile script, or use the bin/env script.</p>\n<p>If you are using Windows you can set it <a href=\"https://phoenixnap.com/kb/windows-set-environment-variable\" rel=\"nofollow noreferrer\">using the UI</a>.</p>\n"}],"owner":{"account_id":24406122,"reputation":9,"user_id":18334283,"display_name":"Mkm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648213028,"creation_date":1648183382,"question_id":71612255,"body_markdown":"I was trying to send an `ObjectMessage` containing a `myObject`, instance of `myClass`, using ActiveMQ as JMS Provider. Call to ActiveMQ is made through Mule 4.3.0.\r\n\r\nAn error occurred in the receiving application:\r\n```\r\nFailed to build body from content. Serializable class not available to  broker. Reason: java.lang.ClassNotFoundException: Forbidden class client.MyClass! This class is not trusted to be serialized as ObjectMessage payload. Please take a look at http://activemq.apache.org/objectmessage.html for more information on how to configure trusted classes.\r\n```\r\n the page says:\r\n\r\n&gt; If you need to exchange object messages, you need to add packages your applications are using. You can do that with by using\r\n`org.apache.activemq.SERIALIZABLE_PACKAGES` system property of the\r\nbroker. You can add this system property to `ACTIVEMQ_OPTS` variable in\r\n`${ACTIVEMQ_HOME}/bin/env` script.\r\n\r\nI am using ActiveMQ 5.15.4 . In the `\\bin` subfolder, there is no `env` script, only the `activemq` script.\r\n\r\nWhere should I configure `ACTIVEMQ_OPTS` so that I, will not get forbidden class error. Or if any alternative solutions will help.","title":"Configure ACTIVEMQ_OPTS in ActiveMQ 5.15.4","body":"<p>I was trying to send an <code>ObjectMessage</code> containing a <code>myObject</code>, instance of <code>myClass</code>, using ActiveMQ as JMS Provider. Call to ActiveMQ is made through Mule 4.3.0.</p>\n<p>An error occurred in the receiving application:</p>\n<pre><code>Failed to build body from content. Serializable class not available to  broker. Reason: java.lang.ClassNotFoundException: Forbidden class client.MyClass! This class is not trusted to be serialized as ObjectMessage payload. Please take a look at http://activemq.apache.org/objectmessage.html for more information on how to configure trusted classes.\n</code></pre>\n<p>the page says:</p>\n<blockquote>\n<p>If you need to exchange object messages, you need to add packages your applications are using. You can do that with by using\n<code>org.apache.activemq.SERIALIZABLE_PACKAGES</code> system property of the\nbroker. You can add this system property to <code>ACTIVEMQ_OPTS</code> variable in\n<code>${ACTIVEMQ_HOME}/bin/env</code> script.</p>\n</blockquote>\n<p>I am using ActiveMQ 5.15.4 . In the <code>\\bin</code> subfolder, there is no <code>env</code> script, only the <code>activemq</code> script.</p>\n<p>Where should I configure <code>ACTIVEMQ_OPTS</code> so that I, will not get forbidden class error. Or if any alternative solutions will help.</p>\n"},{"tags":["java","java-8","null","option-type","nullable"],"comments":[{"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"score":0,"creation_date":1648205585,"post_id":71614826,"comment_id":126571082,"body_markdown":"As from above Optional.ofNullable(myObj).isPresent() -&gt; True in if and very next line if I try myObj.get() to get object then it will throw : No value present, so I don&#39;t want such condition","body":"As from above Optional.ofNullable(myObj).isPresent() -&gt; True in if and very next line if I try myObj.get() to get object then it will throw : No value present, so I don&#39;t want such condition"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1648206074,"post_id":71614826,"comment_id":126571260,"body_markdown":"If you are getting an object as a **value** (that could be `null`) inside the method, you shouldn&#39;t entail `Optional` at all. It doesn&#39;t makes your code cleaner, `Optional` is meant to be used only as a **return type**.","body":"If you are getting an object as a <b>value</b> (that could be <code>null</code>) inside the method, you shouldn&#39;t entail <code>Optional</code> at all. It doesn&#39;t makes your code cleaner, <code>Optional</code> is meant to be used only as a <b>return type</b>."},{"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"score":0,"creation_date":1648206664,"post_id":71614826,"comment_id":126571469,"body_markdown":"My objects are created using Optional, so I need to use Optional to check the conditions.","body":"My objects are created using Optional, so I need to use Optional to check the conditions."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1648206752,"post_id":71614826,"comment_id":126571498,"body_markdown":"You mean `myObj` is of type `Optional`?","body":"You mean <code>myObj</code> is of type <code>Optional</code>?"},{"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"score":0,"creation_date":1648207307,"post_id":71614826,"comment_id":126571690,"body_markdown":"Yes Optional&lt;T&gt; myObj.","body":"Yes Optional&lt;T&gt; myObj."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1648211113,"post_id":71614826,"comment_id":126572980,"body_markdown":"SonarQube told you “*Ensure this ‘Optional’ could never be null*”, not “hide this null-check in some other construct”.","body":"SonarQube told you “<i>Ensure this ‘Optional’ could never be null</i>”, not “hide this null-check in some other construct”."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648212831,"creation_date":1648208324,"answer_id":71616370,"question_id":71614826,"body_markdown":"`Optional` type, it was introduces in JDK for only one particular purpose - to be used as a ***return type*** when return well could potentially be `null`. Any other cases when *optional* is utilized just in order to chain on it, or as a type of parameter or field isn&#39;t considered to be a good practice.\r\n\r\nYou definitely shouldn&#39;t wrap the `Optional` object with another `Optional`. \r\n\r\nThe fact that you have an optional that could be `null` itself isn&#39;t a good indicator. It must not happen in the first place. Because of that you hardly can come up with a clean and elegant solution. \r\n\r\nAccessing the value isn&#39;t the actual problem, the problem is you optional could potentially be `null`. It shouldn&#39;t be the case, you must not return `null` instead of *optional*. That&#39;s the rule of thumb.\r\n\r\nYou could use either of these, but bear in mind that it doesn&#39;t eliminate the problem, rather disguises it:\r\n```\r\nif (Stream.ofNullable(myObj).anyMatch(Optional::isPresent)) {\r\n    something = myObj.get();\r\n}\r\n```\r\n```\r\nsomething = Stream\r\n        .ofNullable(myObj)\r\n        .filter(Optional::isPresent)\r\n        .findFirst().orElse(defaultValue);\r\n```\r\n\r\nYour issue is stated as:\r\n\r\n&gt; Ensure this &quot;Optional&quot; could never be null and remove this null-check.\r\n\r\nAs I understand this, you have to address the root of the problem: find out from where `null` *optionals* are coming from and replace `null` with an empty *optional*.","title":"Checking whether an Optional object isn&#39;t Empty and null","body":"<p><code>Optional</code> type, it was introduces in JDK for only one particular purpose - to be used as a <em><strong>return type</strong></em> when return well could potentially be <code>null</code>. Any other cases when <em>optional</em> is utilized just in order to chain on it, or as a type of parameter or field isn't considered to be a good practice.</p>\n<p>You definitely shouldn't wrap the <code>Optional</code> object with another <code>Optional</code>.</p>\n<p>The fact that you have an optional that could be <code>null</code> itself isn't a good indicator. It must not happen in the first place. Because of that you hardly can come up with a clean and elegant solution.</p>\n<p>Accessing the value isn't the actual problem, the problem is you optional could potentially be <code>null</code>. It shouldn't be the case, you must not return <code>null</code> instead of <em>optional</em>. That's the rule of thumb.</p>\n<p>You could use either of these, but bear in mind that it doesn't eliminate the problem, rather disguises it:</p>\n<pre><code>if (Stream.ofNullable(myObj).anyMatch(Optional::isPresent)) {\n    something = myObj.get();\n}\n</code></pre>\n<pre><code>something = Stream\n        .ofNullable(myObj)\n        .filter(Optional::isPresent)\n        .findFirst().orElse(defaultValue);\n</code></pre>\n<p>Your issue is stated as:</p>\n<blockquote>\n<p>Ensure this &quot;Optional&quot; could never be null and remove this null-check.</p>\n</blockquote>\n<p>As I understand this, you have to address the root of the problem: find out from where <code>null</code> <em>optionals</em> are coming from and replace <code>null</code> with an empty <em>optional</em>.</p>\n"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3788,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648212831,"creation_date":1648201127,"question_id":71614826,"body_markdown":"I am working on sprint boot application, and I am working on SonarQube blocker resolving an issue. \r\n\r\nSo I get one issue to be resolved: \r\n\r\n&gt; Ensure this &quot;Optional&quot; could never be null and remove this null-check.\r\n\r\nSo I have changed the condition from \r\n```\r\nmyObj != null -&gt; Optional.ofNullable(myObj).isPresent()\r\n```\r\nI can&#39;t use `myObj.isPresent()` directly as `myObj` can be `null`, so it will throw null pointers.\r\n\r\nNow I&#39;m stacked in one situation when `myObj` is empty as\r\n\r\n    myObj= Optional.empty();\r\n    Optional.ofNullable(myObj).isPresent(); // True\r\n    myObj.isPresent(); // False;\r\n\r\nSo as I have mentioned I have changed my condition checking `myObj!=null` with `Optional.ofNullable(myObj).isPresent()`, it will work fine for `null` object and if object is empty then it will be true for empty object and when I access `get()` on object then it&#39;ll throw : **No value present**\r\n\r\nHow can I avoid `null` and ***empty*** together in one condition? \r\n\r\nI don&#39;t want to add &amp;&amp; condition to check for non-empty of myObj as :\r\n```\r\nOptional.ofNullable(myObj).isPresent() &amp;&amp; !myObj.isEmpty()\r\n```\r\nCan I check this with single statement for null as well for empty or vice-versa?\r\n","title":"Checking whether an Optional object isn&#39;t Empty and null","body":"<p>I am working on sprint boot application, and I am working on SonarQube blocker resolving an issue.</p>\n<p>So I get one issue to be resolved:</p>\n<blockquote>\n<p>Ensure this &quot;Optional&quot; could never be null and remove this null-check.</p>\n</blockquote>\n<p>So I have changed the condition from</p>\n<pre><code>myObj != null -&gt; Optional.ofNullable(myObj).isPresent()\n</code></pre>\n<p>I can't use <code>myObj.isPresent()</code> directly as <code>myObj</code> can be <code>null</code>, so it will throw null pointers.</p>\n<p>Now I'm stacked in one situation when <code>myObj</code> is empty as</p>\n<pre><code>myObj= Optional.empty();\nOptional.ofNullable(myObj).isPresent(); // True\nmyObj.isPresent(); // False;\n</code></pre>\n<p>So as I have mentioned I have changed my condition checking <code>myObj!=null</code> with <code>Optional.ofNullable(myObj).isPresent()</code>, it will work fine for <code>null</code> object and if object is empty then it will be true for empty object and when I access <code>get()</code> on object then it'll throw : <strong>No value present</strong></p>\n<p>How can I avoid <code>null</code> and <em><strong>empty</strong></em> together in one condition?</p>\n<p>I don't want to add &amp;&amp; condition to check for non-empty of myObj as :</p>\n<pre><code>Optional.ofNullable(myObj).isPresent() &amp;&amp; !myObj.isEmpty()\n</code></pre>\n<p>Can I check this with single statement for null as well for empty or vice-versa?</p>\n"},{"tags":["c#","java","php"],"comments":[{"owner":{"account_id":1116261,"reputation":5109,"user_id":1105514,"accept_rate":100,"display_name":"Adi"},"score":0,"creation_date":1347442451,"post_id":12385157,"comment_id":16638672,"body_markdown":"Unfortuneantly no, you can&#39;t.","body":"Unfortuneantly no, you can&#39;t."},{"owner":{"account_id":478087,"reputation":88202,"user_id":889949,"accept_rate":100,"display_name":"DaveRandom"},"score":3,"creation_date":1347442563,"post_id":12385157,"comment_id":16638733,"body_markdown":"This is a piece of metadata not available via HTTP through any standard mechanism. There&#39;s also a good chance, since it&#39;s XML, that it&#39;s dynamically generated on each request, and therefore the traditional concept of the &quot;creation date&quot; would not apply to it anyway.","body":"This is a piece of metadata not available via HTTP through any standard mechanism. There&#39;s also a good chance, since it&#39;s XML, that it&#39;s dynamically generated on each request, and therefore the traditional concept of the &quot;creation date&quot; would not apply to it anyway."}],"answers":[{"tags":[],"owner":{"account_id":417949,"reputation":12599,"user_id":794226,"accept_rate":77,"display_name":"Parv Sharma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1347442560,"creation_date":1347442560,"answer_id":12385232,"question_id":12385157,"body_markdown":"NO.&lt;br&gt;\r\nbecause its a web url you possibly cannot get more information that what the web server exposes&lt;br&gt;\r\n","title":"How to check the file creation date basing on the URL?","body":"<p>NO.<br>\nbecause its a web url you possibly cannot get more information that what the web server exposes<br></p>\n"},{"tags":[],"owner":{"account_id":1270473,"reputation":94285,"user_id":1226894,"accept_rate":73,"display_name":"Baba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347442993,"creation_date":1347442993,"answer_id":12385360,"question_id":12385157,"body_markdown":"Yes can get a file information using `CURL`  [curl_getinfo][1] without having to return the entire body \r\n\r\nExample\r\n\r\n\t$curl = curl_init(&#39;URL_TO_XML&#39;);\r\n\tcurl_setopt($curl, CURLOPT_NOBODY, true);\r\n\tcurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\r\n\tcurl_setopt($curl, CURLOPT_FILETIME, true);\r\n\t$result = curl_exec($curl);\r\n\tif ($result === false) {\r\n\t    die (curl_error($curl)); \r\n\t}\r\n\t$timestamp = curl_getinfo($curl, CURLINFO_FILETIME);\r\n\tif ($timestamp != -1) { \r\n\t    echo date(&quot;Y-m-d H:i:s&quot;, $timestamp);\r\n\t} \r\n\r\n\r\n  [1]: http://php.net/manual/en/function.curl-getinfo.php","title":"How to check the file creation date basing on the URL?","body":"<p>Yes can get a file information using <code>CURL</code>  <a href=\"http://php.net/manual/en/function.curl-getinfo.php\" rel=\"nofollow\">curl_getinfo</a> without having to return the entire body </p>\n\n<p>Example</p>\n\n<pre><code>$curl = curl_init('URL_TO_XML');\ncurl_setopt($curl, CURLOPT_NOBODY, true);\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($curl, CURLOPT_FILETIME, true);\n$result = curl_exec($curl);\nif ($result === false) {\n    die (curl_error($curl)); \n}\n$timestamp = curl_getinfo($curl, CURLINFO_FILETIME);\nif ($timestamp != -1) { \n    echo date(\"Y-m-d H:i:s\", $timestamp);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1221166,"reputation":524,"user_id":1187795,"accept_rate":75,"display_name":"intox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443691664,"creation_date":1443691664,"answer_id":32884012,"question_id":12385157,"body_markdown":"You can do it that way\r\n\r\n    Uri myUri = new Uri(url);\r\n\r\n    // Creates an HttpWebRequest for the specified URL. \r\n    HttpWebRequest myHttpWebRequest = (HttpWebRequest)WebRequest.Create(myUri); \r\n    HttpWebResponse myHttpWebResponse = (HttpWebResponse)myHttpWebRequest.GetResponse();\r\n\r\n    DateTime today = DateTime.Now;\r\n    // Uses the LastModified property to compare with today&#39;s date.\r\n    if (DateTime.Compare(today,myHttpWebResponse.LastModified) == 0)\r\n    \tConsole.WriteLine(&quot;\\nThe requested URI entity was modified today&quot;);\r\n    else\r\n    \tif (DateTime.Compare(today,myHttpWebResponse.LastModified) == 1)\r\n    \t\tConsole.WriteLine(&quot;\\nThe requested URI was last modified on:{0}&quot;,\r\n    \t\t\t\t\t\tmyHttpWebResponse.LastModified);\r\n        // Releases the resources of the response.\r\n    \r\n    myHttpWebResponse.Close(); ","title":"How to check the file creation date basing on the URL?","body":"<p>You can do it that way</p>\n\n<pre><code>Uri myUri = new Uri(url);\n\n// Creates an HttpWebRequest for the specified URL. \nHttpWebRequest myHttpWebRequest = (HttpWebRequest)WebRequest.Create(myUri); \nHttpWebResponse myHttpWebResponse = (HttpWebResponse)myHttpWebRequest.GetResponse();\n\nDateTime today = DateTime.Now;\n// Uses the LastModified property to compare with today's date.\nif (DateTime.Compare(today,myHttpWebResponse.LastModified) == 0)\n    Console.WriteLine(\"\\nThe requested URI entity was modified today\");\nelse\n    if (DateTime.Compare(today,myHttpWebResponse.LastModified) == 1)\n        Console.WriteLine(\"\\nThe requested URI was last modified on:{0}\",\n                        myHttpWebResponse.LastModified);\n    // Releases the resources of the response.\n\nmyHttpWebResponse.Close(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22108587,"reputation":1,"user_id":16363821,"display_name":"s1r2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648212613,"creation_date":1648046127,"answer_id":71589073,"question_id":12385157,"body_markdown":"Yes,\r\nyou can if you have access to that file then you can use urllib2.\r\n\r\nFor python2.7 try this:\r\n\r\n    req = urllib2.build_opener()\r\n    \r\n    req.addheaders = [(&#39;User-Agent&#39;)]\r\n    \r\n    #for full detail use this: \r\n        meta = req.open(link).info()\r\n    \r\n    meta =req.open(link).info().getheader(&quot;Last-Modified&quot;)","title":"How to check the file creation date basing on the URL?","body":"<p>Yes,\nyou can if you have access to that file then you can use urllib2.</p>\n<p>For python2.7 try this:</p>\n<pre><code>req = urllib2.build_opener()\n\nreq.addheaders = [('User-Agent')]\n\n#for full detail use this: \n    meta = req.open(link).info()\n\nmeta =req.open(link).info().getheader(&quot;Last-Modified&quot;)\n</code></pre>\n"}],"owner":{"account_id":37310,"reputation":12425,"user_id":106616,"accept_rate":55,"display_name":"Tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12385232,"answer_count":4,"score":3,"last_activity_date":1648212613,"creation_date":1347442352,"question_id":12385157,"body_markdown":"I have an URL to a XML file, is there any posibility to get its creation date ?","title":"How to check the file creation date basing on the URL?","body":"<p>I have an URL to a XML file, is there any posibility to get its creation date ?</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638506553,"post_id":70209597,"comment_id":124112152,"body_markdown":"I think you&#39;re suppose to use a `for-loop` to concatenate the names together when you don&#39;t have a match (instead of `System.out.print(names + &quot; &quot;);`) (or you could just `System.out.print` to print each one on the same line)","body":"I think you&#39;re suppose to use a <code>for-loop</code> to concatenate the names together when you don&#39;t have a match (instead of <code>System.out.print(names + &quot; &quot;);</code>) (or you could just <code>System.out.print</code> to print each one on the same line)"}],"answers":[{"tags":[],"owner":{"account_id":12384510,"reputation":36,"user_id":9028447,"display_name":"jlong4bc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638509178,"creation_date":1638509178,"answer_id":70209897,"question_id":70209597,"body_markdown":"Maybe this will be helpful.  I think the &quot;break&quot; is called prematurely.  There are lots of ways you can solve this, but I used a boolean to determine if the name was found.  Then I used the boolean after the loop to determine what to print.\r\n```\r\n    public static void main(String[] args) {\r\n        String[] names = {&quot;Jose&quot;, &quot;Alex&quot;, &quot;Steven&quot;, &quot;Sky&quot;, &quot;Ana&quot;};\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;What is your name? &quot;);\r\n\r\n        String input = scan.next();\r\n        boolean isFound = false;\r\n        for (String n:names) {\r\n            if (n.equalsIgnoreCase(input)) {\r\n                isFound = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isFound) {\r\n            System.out.print(&quot;Hooray! Your odds of finding a keychain with your name on it are high! =) &quot;);\r\n        } else {\r\n            System.out.print(&quot;Welcome to the rare names club!!! =D &quot; );\r\n            System.out.print(names + &quot; &quot;);\r\n        }\r\n    }\r\n```","title":"How to get the Scanner to scan all the elements in an array, in java","body":"<p>Maybe this will be helpful.  I think the &quot;break&quot; is called prematurely.  There are lots of ways you can solve this, but I used a boolean to determine if the name was found.  Then I used the boolean after the loop to determine what to print.</p>\n<pre><code>    public static void main(String[] args) {\n        String[] names = {&quot;Jose&quot;, &quot;Alex&quot;, &quot;Steven&quot;, &quot;Sky&quot;, &quot;Ana&quot;};\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;What is your name? &quot;);\n\n        String input = scan.next();\n        boolean isFound = false;\n        for (String n:names) {\n            if (n.equalsIgnoreCase(input)) {\n                isFound = true;\n                break;\n            }\n        }\n        if (isFound) {\n            System.out.print(&quot;Hooray! Your odds of finding a keychain with your name on it are high! =) &quot;);\n        } else {\n            System.out.print(&quot;Welcome to the rare names club!!! =D &quot; );\n            System.out.print(names + &quot; &quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10031977,"reputation":370,"user_id":7418125,"display_name":"Emmanuel Spencer Egbuniwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648212513,"creation_date":1648212513,"answer_id":71617248,"question_id":70209597,"body_markdown":"Same method but slightly different :)\r\n\r\n\r\n`import java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\npublic class New {\r\n    public static  void main (String[]args) {\r\n\r\n        String [] cities = {&quot;Poznan&quot;, &quot;Warsaw&quot;, &quot;Gdansk&quot;, &quot;Wroclaw&quot;, &quot;Krakow&quot;, &quot;Lodz&quot;, &quot;Katowice&quot;};\r\n                Scanner scan = new Scanner(System.in);\r\n                    System.out.println(&quot;What is the name of your city in Poland? &quot;);\r\n\r\n        String name = scan.nextLine();\r\n\r\n        for (String n:cities) {\r\n            if (n.equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;You are citizen of Poland from &quot; +name);\r\n                System.out.println(&quot;Thank your for visiting  &quot; +name);\r\n            }\r\n\r\n\r\n            else {\r\n                System.out.println(&quot;You are not from Poland!!!&quot; );\r\n                System.out.println(&quot;There is not city in Poland called&quot; +name);\r\n            }\r\n            break;\r\n\r\n        }\r\n    }\r\n}`","title":"How to get the Scanner to scan all the elements in an array, in java","body":"<p>Same method but slightly different :)</p>\n<p>`import java.util.Scanner;\nimport java.util.ArrayList;</p>\n<p>public class New {\npublic static  void main (String[]args) {</p>\n<pre><code>    String [] cities = {&quot;Poznan&quot;, &quot;Warsaw&quot;, &quot;Gdansk&quot;, &quot;Wroclaw&quot;, &quot;Krakow&quot;, &quot;Lodz&quot;, &quot;Katowice&quot;};\n            Scanner scan = new Scanner(System.in);\n                System.out.println(&quot;What is the name of your city in Poland? &quot;);\n\n    String name = scan.nextLine();\n\n    for (String n:cities) {\n        if (n.equalsIgnoreCase(name)) {\n            System.out.println(&quot;You are citizen of Poland from &quot; +name);\n            System.out.println(&quot;Thank your for visiting  &quot; +name);\n        }\n\n\n        else {\n            System.out.println(&quot;You are not from Poland!!!&quot; );\n            System.out.println(&quot;There is not city in Poland called&quot; +name);\n        }\n        break;\n\n    }\n}\n</code></pre>\n<p>}`</p>\n"}],"owner":{"account_id":23531672,"reputation":11,"user_id":17577212,"display_name":"Iris Manjarrez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648212513,"creation_date":1638506319,"question_id":70209597,"body_markdown":"This is the Question:  Create an array of Strings and assign 5 names to it. Ask the user what their name is, if their name is the same as one that is already in the list do something. Get creative!, use a for-each loop to print every name in the array with a space in-between each indices. \r\n\r\n\r\nThis is what I have so far. One of the issues I am having is that the scanner is only comparing the input to the first name on the array and not the rest. \r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\r\n\t\tString[] names = {&quot;Jose&quot;, &quot;Alex&quot;, &quot;Steven&quot;, &quot;Sky&quot;, &quot;Ana&quot;};\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;What is your name? &quot;);\r\n\t\t\r\n\t\tString input = scan.next();\r\n\t\t\r\n\t\tfor (String n:names) {\r\n\t\t\tif (n.equalsIgnoreCase(input)) {\r\n\t\t\t\tSystem.out.print(&quot;Hooray! Your odds of finding a keychain with your name on it are high! =) &quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\telse { \r\n\t\t\t\tSystem.out.print(&quot;Welcome to the rare names club!!! =D &quot; );\r\n\t\t\t\tSystem.out.print(names + &quot; &quot;);\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\t\t\r\n\t\t\r\nFeel free to comment on any other issues you see. I am new at this and I&#39;d appreciate an feedback. Thx\r\n\r\n","title":"How to get the Scanner to scan all the elements in an array, in java","body":"<p>This is the Question:  Create an array of Strings and assign 5 names to it. Ask the user what their name is, if their name is the same as one that is already in the list do something. Get creative!, use a for-each loop to print every name in the array with a space in-between each indices.</p>\n<p>This is what I have so far. One of the issues I am having is that the scanner is only comparing the input to the first name on the array and not the rest.</p>\n<pre><code>public static void main(String[] args) {\n    \n\n    String[] names = {&quot;Jose&quot;, &quot;Alex&quot;, &quot;Steven&quot;, &quot;Sky&quot;, &quot;Ana&quot;};\n\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;What is your name? &quot;);\n    \n    String input = scan.next();\n    \n    for (String n:names) {\n        if (n.equalsIgnoreCase(input)) {\n            System.out.print(&quot;Hooray! Your odds of finding a keychain with your name on it are high! =) &quot;);\n        }\n        \n        \n        else { \n            System.out.print(&quot;Welcome to the rare names club!!! =D &quot; );\n            System.out.print(names + &quot; &quot;);\n            \n            }\n        break;\n    \n        }\n    }\n}\n            \n    \n</code></pre>\n<p>Feel free to comment on any other issues you see. I am new at this and I'd appreciate an feedback. Thx</p>\n"},{"tags":["java","maven","logging","quarkus","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":15031620,"reputation":56,"user_id":10849566,"display_name":"GoodmeetsEvil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648212432,"creation_date":1648212432,"answer_id":71617231,"question_id":71615884,"body_markdown":"You haven&#39;t posted any code or configuration files, so there is no way to know what may be causing your problem. \r\n\r\nPotentially you may want to check out a few things:\r\n\r\n - In the application configuration file, make sure *quarkus.log.console.enable* is set to **true** (if you can&#39;t find it don&#39;t worry about it, since by default it&#39;s **true**)\r\n - Is *quarkus.log.file.enable* set to **true**? (by default it&#39;s **false**)\r\n\r\nWhile I can&#39;t tell you what the problem is exactly, since there is no code to review, I will put links to the official Quarkus logging guide. What may interest you is under [Runtime configuration][1] and [Logging configuration reference][2].\r\n\r\n\r\n  [1]: https://quarkus.io/guides/logging#runtime-configuration\r\n  [2]: https://quarkus.io/guides/logging#loggingConfigurationReference","title":"Quarkus log output when running tests in Maven","body":"<p>You haven't posted any code or configuration files, so there is no way to know what may be causing your problem.</p>\n<p>Potentially you may want to check out a few things:</p>\n<ul>\n<li>In the application configuration file, make sure <em>quarkus.log.console.enable</em> is set to <strong>true</strong> (if you can't find it don't worry about it, since by default it's <strong>true</strong>)</li>\n<li>Is <em>quarkus.log.file.enable</em> set to <strong>true</strong>? (by default it's <strong>false</strong>)</li>\n</ul>\n<p>While I can't tell you what the problem is exactly, since there is no code to review, I will put links to the official Quarkus logging guide. What may interest you is under <a href=\"https://quarkus.io/guides/logging#runtime-configuration\" rel=\"nofollow noreferrer\">Runtime configuration</a> and <a href=\"https://quarkus.io/guides/logging#loggingConfigurationReference\" rel=\"nofollow noreferrer\">Logging configuration reference</a>.</p>\n"}],"owner":{"account_id":6155074,"reputation":447,"user_id":4798337,"accept_rate":40,"display_name":"sithmein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648212432,"creation_date":1648206273,"question_id":71615884,"body_markdown":"If I run unit tests for Quarkus from inside Eclipse, the Eclipse console view shows Quarkurs&#39; log output. However, when I run the same tests in Maven, the Quarkus output is completely swallowed and does not appear anywhere. If there is a test failure due to an exception in the application code I get the test failure message but I cannot see what actually went wrong inside the application. The Java log manager is configured to use JBoss logging by using the surefire system property.\r\nDoes anyone know where one can find the Quarkus log output or how it can be enabled?","title":"Quarkus log output when running tests in Maven","body":"<p>If I run unit tests for Quarkus from inside Eclipse, the Eclipse console view shows Quarkurs' log output. However, when I run the same tests in Maven, the Quarkus output is completely swallowed and does not appear anywhere. If there is a test failure due to an exception in the application code I get the test failure message but I cannot see what actually went wrong inside the application. The Java log manager is configured to use JBoss logging by using the surefire system property.\nDoes anyone know where one can find the Quarkus log output or how it can be enabled?</p>\n"},{"tags":["java","java-http-client"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1648207671,"post_id":71616137,"comment_id":126571814,"body_markdown":"Your test verifies options returns headers; it doesn&#39;t verify it returns a body. The client is ignoring the headers and trying to parse a body.","body":"Your test verifies options returns headers; it doesn&#39;t verify it returns a body. The client is ignoring the headers and trying to parse a body."},{"owner":{"account_id":16120324,"reputation":51,"user_id":18577236,"display_name":"Aleks Crow"},"score":1,"creation_date":1648212214,"post_id":71616137,"comment_id":126573367,"body_markdown":"Thanks for pushing me in the right direction","body":"Thanks for pushing me in the right direction"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1648213540,"post_id":71616137,"comment_id":126573862,"body_markdown":"Glad you were able to figure it out. :)","body":"Glad you were able to figure it out. :)"}],"answers":[{"tags":[],"owner":{"account_id":16120324,"reputation":51,"user_id":18577236,"display_name":"Aleks Crow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648212421,"creation_date":1648212421,"answer_id":71617226,"question_id":71616137,"body_markdown":"Everything was solved with a small change in response\r\n\r\n```\r\nHttpRequest get = HttpRequest.newBuilder()\r\n                .uri(URI.create(uploadUrl))\r\n                .method(&quot;OPTIONS&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\n\r\nHttpResponse&lt;Stream&lt;String&gt;&gt; response = javaClient.send(get, HttpResponse.BodyHandlers.ofLines());\r\n\r\nassertEquals(200, response.statusCode());\r\nassertEquals(&quot;POST,OPTIONS&quot;, response.headers().firstValue(&quot;Access-Control-Allow-Methods&quot;).orElseThrow());\r\n```","title":"How to execute &quot;OPTIONS&quot; HTTP method request in Java 11 HttpClient","body":"<p>Everything was solved with a small change in response</p>\n<pre><code>HttpRequest get = HttpRequest.newBuilder()\n                .uri(URI.create(uploadUrl))\n                .method(&quot;OPTIONS&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n\nHttpResponse&lt;Stream&lt;String&gt;&gt; response = javaClient.send(get, HttpResponse.BodyHandlers.ofLines());\n\nassertEquals(200, response.statusCode());\nassertEquals(&quot;POST,OPTIONS&quot;, response.headers().firstValue(&quot;Access-Control-Allow-Methods&quot;).orElseThrow());\n</code></pre>\n"}],"owner":{"account_id":16120324,"reputation":51,"user_id":18577236,"display_name":"Aleks Crow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648212421,"creation_date":1648207352,"question_id":71616137,"body_markdown":"I need to replace Apache http client with java httpClient.\r\n\r\nI have a test with an apache client that works well:\r\n\r\n```\r\nHttpOptions httpOptions = new HttpOptions(uploadUrl);\r\ntry (CloseableHttpResponse responseOld = httpclient.execute(httpOptions)) {\r\n    assertEquals(200, responseOld.getStatusLine().getStatusCode());\r\n    assertEquals(&quot;POST,OPTIONS&quot;, responseOld.getFirstHeader(&quot;Access-Control-Allow-Methods&quot;).getValue());\r\n}\r\n```\r\nBut when I change it to java client, it doesn&#39;t work. I use this code:\r\n\r\n```\r\nHttpClient javaClient = HttpClient.newBuilder().sslContext(initUnsecuredSSLContext()).build();\r\n\r\nHttpRequest get = HttpRequest.newBuilder()\r\n                .uri(URI.create(uploadUrl))\r\n                .method(&quot;OPTIONS&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\nHttpResponse&lt;String&gt; response = javaClient.send(get, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nTest fails to complete when run\r\n\r\njava version &quot;17.0.2&quot;.\r\n\r\nThanks.\r\n","title":"How to execute &quot;OPTIONS&quot; HTTP method request in Java 11 HttpClient","body":"<p>I need to replace Apache http client with java httpClient.</p>\n<p>I have a test with an apache client that works well:</p>\n<pre><code>HttpOptions httpOptions = new HttpOptions(uploadUrl);\ntry (CloseableHttpResponse responseOld = httpclient.execute(httpOptions)) {\n    assertEquals(200, responseOld.getStatusLine().getStatusCode());\n    assertEquals(&quot;POST,OPTIONS&quot;, responseOld.getFirstHeader(&quot;Access-Control-Allow-Methods&quot;).getValue());\n}\n</code></pre>\n<p>But when I change it to java client, it doesn't work. I use this code:</p>\n<pre><code>HttpClient javaClient = HttpClient.newBuilder().sslContext(initUnsecuredSSLContext()).build();\n\nHttpRequest get = HttpRequest.newBuilder()\n                .uri(URI.create(uploadUrl))\n                .method(&quot;OPTIONS&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\nHttpResponse&lt;String&gt; response = javaClient.send(get, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>Test fails to complete when run</p>\n<p>java version &quot;17.0.2&quot;.</p>\n<p>Thanks.</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1628217911,"post_id":68675371,"comment_id":121367534,"body_markdown":"Most likely you don&#39;t have the right annotations. You didn&#39;t show your complete code.","body":"Most likely you don&#39;t have the right annotations. You didn&#39;t show your complete code."},{"owner":{"account_id":19884597,"reputation":33,"user_id":14567811,"display_name":"bianrrytt"},"score":0,"creation_date":1628218488,"post_id":68675371,"comment_id":121367607,"body_markdown":"now I upload the completed one of my unittest class,what is the right annotations?","body":"now I upload the completed one of my unittest class,what is the right annotations?"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628218786,"creation_date":1628218527,"answer_id":68675556,"question_id":68675371,"body_markdown":"You are using JUnit 5 (Jupiter) and an old version of maven-surefire-plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n1. Use the latest: as of 2021-08-05, either 2.22.2, either 3.0.0-M5.\r\n2. You can remove the `configuration` part, since `*Test` is included by default.\r\n\r\nSee [JUnit 5 documentation][1]: \r\n\r\n&gt; Starting with **version 2.22.0**, Maven Surefire and Maven Failsafe\r\n&gt; provide native support for executing tests on the JUnit Platform. The\r\n&gt; pom.xml file in the junit5-jupiter-starter-maven project demonstrates\r\n&gt; how to use the Maven Surefire plugin and can serve as a starting point\r\n&gt; for configuring your Maven build.\r\n\r\n\r\n[1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\r\n","title":"Run mvn test,can find the test class, but shows Tests run: 0, Failures: 0, Errors: 0, Skipped: 0","body":"<p>You are using JUnit 5 (Jupiter) and an old version of maven-surefire-plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*Test.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol>\n<li>Use the latest: as of 2021-08-05, either 2.22.2, either 3.0.0-M5.</li>\n<li>You can remove the <code>configuration</code> part, since <code>*Test</code> is included by default.</li>\n</ol>\n<p>See <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"nofollow noreferrer\">JUnit 5 documentation</a>:</p>\n<blockquote>\n<p>Starting with <strong>version 2.22.0</strong>, Maven Surefire and Maven Failsafe\nprovide native support for executing tests on the JUnit Platform. The\npom.xml file in the junit5-jupiter-starter-maven project demonstrates\nhow to use the Maven Surefire plugin and can serve as a starting point\nfor configuring your Maven build.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3091204,"reputation":319,"user_id":2617244,"display_name":"Vivek Dhiman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648212082,"creation_date":1648212082,"answer_id":71617182,"question_id":68675371,"body_markdown":"This works for me\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Run mvn test,can find the test class, but shows Tests run: 0, Failures: 0, Errors: 0, Skipped: 0","body":"<p>This works for me</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":19884597,"reputation":33,"user_id":14567811,"display_name":"bianrrytt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648212082,"creation_date":1628216516,"question_id":68675371,"body_markdown":"the pom.xml\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nmy project structrue\r\n[enter image description here][1]\r\n  [1]: https://i.stack.imgur.com/qO1at.png\r\n\r\nthis is part of one of my test class:\r\n\r\nall the package import:\r\n```\r\npackage rockets.mining;\r\n\r\nimport com.google.common.collect.Lists;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.CsvSource;\r\nimport org.junit.jupiter.params.provider.ValueSource;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport rockets.dataaccess.DAO;\r\nimport rockets.dataaccess.neo4j.Neo4jDAO;\r\nimport rockets.model.Launch;\r\nimport rockets.model.LaunchServiceProvider;\r\nimport rockets.model.Rocket;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.Mockito.*;\r\nimport static rockets.mining.MapMethod.frequencyOfListElements;\r\nimport static rockets.mining.MapMethod.sortMapByValues;\r\nimport static rockets.model.Launch.LaunchOutcome.FAILED;\r\nimport static rockets.model.Launch.LaunchOutcome.SUCCESSFUL;\r\n```\r\nmy test class:\r\n```\r\npublic class RocketMinerUnitTest {\r\n    Logger logger = LoggerFactory.getLogger(RocketMinerUnitTest.class);\r\n\r\n    private DAO dao;\r\n    private RocketMiner miner;\r\n    private List&lt;Rocket&gt; rockets;\r\n    private List&lt;LaunchServiceProvider&gt; lsps;\r\n    private List&lt;Launch&gt; launches;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        dao = mock(Neo4jDAO.class);\r\n        miner = new RocketMiner(dao);\r\n        rockets = Lists.newArrayList();\r\n\r\n        lsps = Arrays.asList(\r\n                new LaunchServiceProvider(&quot;ULA&quot;, 1990, &quot;USA&quot;),\r\n                new LaunchServiceProvider(&quot;SpaceX&quot;, 2002, &quot;USA&quot;),\r\n                new LaunchServiceProvider(&quot;ESA&quot;, 1975, &quot;Europe &quot;)\r\n        );\r\n\r\n        // index of lsp of each rocket\r\n        int[] lspIndex = new int[]{0, 0, 0, 1, 1};\r\n        // 5 rockets\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            rockets.add(new Rocket(&quot;rocket_&quot; + i, &quot;USA&quot;, lsps.get(lspIndex[i])));\r\n        }\r\n        // month of each launch\r\n        int[] months = new int[]{1, 6, 4, 3, 4, 11, 6, 5, 12, 5};\r\n\r\n        // index of rocket of each launch\r\n        int[] rocketIndex = new int[]{0, 0, 0, 0, 1, 1, 1, 2, 2, 3};\r\n\r\n        //outcome of rocket of each launch\r\n        Launch.LaunchOutcome[] outcome=new Launch.LaunchOutcome[]{SUCCESSFUL,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,FAILED};\r\n\r\n        // 10 launches\r\n        launches = IntStream.range(0, 10).mapToObj(i -&gt; {\r\n            logger.info(&quot;create &quot; + i + &quot; launch in month: &quot; + months[i]);\r\n            Launch l = new Launch();\r\n            l.setLaunchDate(LocalDate.of(2017, months[i], 1));\r\n            l.setLaunchVehicle(rockets.get(rocketIndex[i]));\r\n            l.setPrice(BigDecimal.valueOf(Math.random()*(1000000)+60000000));\r\n            l.setLaunchSite(&quot;VAFB&quot;);\r\n            l.setLaunchOutcome(outcome[i]);\r\n            l.setOrbit(&quot;LEO&quot;);\r\n            spy(l);\r\n            return l;\r\n        }).collect(Collectors.toList());\r\n    }\r\n\r\n    /*\r\n     * author Ziang Shen\r\n     * */\r\n    @ParameterizedTest\r\n    @ValueSource(ints = {1, 2, 3})\r\n    public void shouldReturnTopMostLaunchedRockets(int k){\r\n        when(dao.loadAll(Launch.class)).thenReturn(launches);\r\n        List&lt;Rocket&gt; sortedRockets=new ArrayList&lt;Rocket&gt;();\r\n        for(Launch launch:launches)\r\n        {\r\n            if(launch.getLaunchOutcome()==SUCCESSFUL)\r\n                sortedRockets.add(launch.getLaunchVehicle());\r\n        }\r\n        Map&lt;Rocket,Integer&gt; map=frequencyOfListElements(sortedRockets);\r\n        sortedRockets.clear();\r\n        map=sortMapByValues(map);\r\n        for(Rocket rocket:map.keySet())\r\n            sortedRockets.add(rocket);\r\n        List&lt;Rocket&gt; launchedRockets=miner.mostLaunchedRockets(k);\r\n        assertEquals(k,launchedRockets.size());\r\n        assertEquals(sortedRockets.subList(0,k),launchedRockets);\r\n    }\r\n```\r\n\r\nthis is the mvn test result:\r\n```\r\n-------------------------------------------------------\r\n T E S T S\r\n-------------------------------------------------------\r\nRunning rockets.dataaccess.neo4j.Neo4jDAOUnitTest\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.dataaccess.neo4j.Neo4jDAOUnitTest\r\nRunning rockets.mining.RocketMinerUnitTest\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in rockets.mining.RocketMinerUnitTest\r\nRunning rockets.model.LaunchServiceProviderUnitTest\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in rockets.model.LaunchServiceProviderUnitTest\r\nRunning rockets.model.RocketUnitTest\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.model.RocketUnitTest\r\nRunning rockets.model.UserUnitTest\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.model.UserUnitTest\r\n\r\nResults :\r\n\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.396 s\r\n[INFO] Finished at: 2021-08-06T09:50:45+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\nthis result shows that it did find all the unittest class,however,the result is run: 0, Failures: 0, Errors: 0, Skipped: 0.","title":"Run mvn test,can find the test class, but shows Tests run: 0, Failures: 0, Errors: 0, Skipped: 0","body":"<p>the pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>my project structrue\n[enter image description here][1]\n[1]: https://i.stack.imgur.com/qO1at.png</p>\n<p>this is part of one of my test class:</p>\n<p>all the package import:</p>\n<pre><code>package rockets.mining;\n\nimport com.google.common.collect.Lists;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport rockets.dataaccess.DAO;\nimport rockets.dataaccess.neo4j.Neo4jDAO;\nimport rockets.model.Launch;\nimport rockets.model.LaunchServiceProvider;\nimport rockets.model.Rocket;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.*;\nimport static rockets.mining.MapMethod.frequencyOfListElements;\nimport static rockets.mining.MapMethod.sortMapByValues;\nimport static rockets.model.Launch.LaunchOutcome.FAILED;\nimport static rockets.model.Launch.LaunchOutcome.SUCCESSFUL;\n</code></pre>\n<p>my test class:</p>\n<pre><code>public class RocketMinerUnitTest {\n    Logger logger = LoggerFactory.getLogger(RocketMinerUnitTest.class);\n\n    private DAO dao;\n    private RocketMiner miner;\n    private List&lt;Rocket&gt; rockets;\n    private List&lt;LaunchServiceProvider&gt; lsps;\n    private List&lt;Launch&gt; launches;\n\n    @BeforeEach\n    public void setUp() {\n        dao = mock(Neo4jDAO.class);\n        miner = new RocketMiner(dao);\n        rockets = Lists.newArrayList();\n\n        lsps = Arrays.asList(\n                new LaunchServiceProvider(&quot;ULA&quot;, 1990, &quot;USA&quot;),\n                new LaunchServiceProvider(&quot;SpaceX&quot;, 2002, &quot;USA&quot;),\n                new LaunchServiceProvider(&quot;ESA&quot;, 1975, &quot;Europe &quot;)\n        );\n\n        // index of lsp of each rocket\n        int[] lspIndex = new int[]{0, 0, 0, 1, 1};\n        // 5 rockets\n        for (int i = 0; i &lt; 5; i++) {\n            rockets.add(new Rocket(&quot;rocket_&quot; + i, &quot;USA&quot;, lsps.get(lspIndex[i])));\n        }\n        // month of each launch\n        int[] months = new int[]{1, 6, 4, 3, 4, 11, 6, 5, 12, 5};\n\n        // index of rocket of each launch\n        int[] rocketIndex = new int[]{0, 0, 0, 0, 1, 1, 1, 2, 2, 3};\n\n        //outcome of rocket of each launch\n        Launch.LaunchOutcome[] outcome=new Launch.LaunchOutcome[]{SUCCESSFUL,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,SUCCESSFUL,FAILED,FAILED};\n\n        // 10 launches\n        launches = IntStream.range(0, 10).mapToObj(i -&gt; {\n            logger.info(&quot;create &quot; + i + &quot; launch in month: &quot; + months[i]);\n            Launch l = new Launch();\n            l.setLaunchDate(LocalDate.of(2017, months[i], 1));\n            l.setLaunchVehicle(rockets.get(rocketIndex[i]));\n            l.setPrice(BigDecimal.valueOf(Math.random()*(1000000)+60000000));\n            l.setLaunchSite(&quot;VAFB&quot;);\n            l.setLaunchOutcome(outcome[i]);\n            l.setOrbit(&quot;LEO&quot;);\n            spy(l);\n            return l;\n        }).collect(Collectors.toList());\n    }\n\n    /*\n     * author Ziang Shen\n     * */\n    @ParameterizedTest\n    @ValueSource(ints = {1, 2, 3})\n    public void shouldReturnTopMostLaunchedRockets(int k){\n        when(dao.loadAll(Launch.class)).thenReturn(launches);\n        List&lt;Rocket&gt; sortedRockets=new ArrayList&lt;Rocket&gt;();\n        for(Launch launch:launches)\n        {\n            if(launch.getLaunchOutcome()==SUCCESSFUL)\n                sortedRockets.add(launch.getLaunchVehicle());\n        }\n        Map&lt;Rocket,Integer&gt; map=frequencyOfListElements(sortedRockets);\n        sortedRockets.clear();\n        map=sortMapByValues(map);\n        for(Rocket rocket:map.keySet())\n            sortedRockets.add(rocket);\n        List&lt;Rocket&gt; launchedRockets=miner.mostLaunchedRockets(k);\n        assertEquals(k,launchedRockets.size());\n        assertEquals(sortedRockets.subList(0,k),launchedRockets);\n    }\n</code></pre>\n<p>this is the mvn test result:</p>\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning rockets.dataaccess.neo4j.Neo4jDAOUnitTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.dataaccess.neo4j.Neo4jDAOUnitTest\nRunning rockets.mining.RocketMinerUnitTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in rockets.mining.RocketMinerUnitTest\nRunning rockets.model.LaunchServiceProviderUnitTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in rockets.model.LaunchServiceProviderUnitTest\nRunning rockets.model.RocketUnitTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.model.RocketUnitTest\nRunning rockets.model.UserUnitTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in rockets.model.UserUnitTest\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.396 s\n[INFO] Finished at: 2021-08-06T09:50:45+08:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>this result shows that it did find all the unittest class,however,the result is run: 0, Failures: 0, Errors: 0, Skipped: 0.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1535729712,"post_id":52118156,"comment_id":91188301,"body_markdown":"1. Try to import com/google/common/collect/ImmutableMap in your FBloginpage class.2 Check if you have import libraries for [guava](https://github.com/google/guava)","body":"1. Try to import com/google/common/collect/ImmutableMap in your FBloginpage class.2 Check if you have import libraries for <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">guava</a>"},{"owner":{"account_id":5964244,"reputation":301,"user_id":4688414,"display_name":"Kshetra Mohan Prusty"},"score":0,"creation_date":1535737387,"post_id":52118156,"comment_id":91191950,"body_markdown":"Check the respective library in your classpath. Make sure that the desired lib is present as dependency.","body":"Check the respective library in your classpath. Make sure that the desired lib is present as dependency."},{"owner":{"account_id":8650216,"reputation":344,"user_id":6476176,"display_name":"PJAutomator"},"score":0,"creation_date":1535738086,"post_id":52118156,"comment_id":91192275,"body_markdown":"How does your POM file or import library look? I ran your code and it works perfect. It should be an issue with the import.","body":"How does your POM file or import library look? I ran your code and it works perfect. It should be an issue with the import."},{"owner":{"account_id":6927673,"reputation":12901,"user_id":5318223,"accept_rate":92,"display_name":"timbre timbre"},"score":0,"creation_date":1535752199,"post_id":52118156,"comment_id":91197193,"body_markdown":"Possible duplicate of [java.lang.NoClassDefFoundError: com/google/common/collect/Maps - Selenium](https://stackoverflow.com/questions/18684202/java-lang-noclassdeffounderror-com-google-common-collect-maps-selenium)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18684202/java-lang-noclassdeffounderror-com-google-common-collect-maps-selenium\">java.lang.NoClassDefFoundError: com/google/common/collect/Maps - Selenium</a>"},{"owner":{"account_id":6927673,"reputation":12901,"user_id":5318223,"accept_rate":92,"display_name":"timbre timbre"},"score":0,"creation_date":1535752214,"post_id":52118156,"comment_id":91197201,"body_markdown":"also https://stackoverflow.com/questions/12237153/encountering-error-java-lang-noclassdeffounderror-com-google-common-collect-im","body":"also <a href=\"https://stackoverflow.com/questions/12237153/encountering-error-java-lang-noclassdeffounderror-com-google-common-collect-im\" title=\"encountering error java lang noclassdeffounderror com google common collect im\">stackoverflow.com/questions/12237153/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22718850,"reputation":14,"user_id":16883653,"display_name":"HARSH KUMAR CHOUDHARY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648212019,"creation_date":1648212019,"answer_id":71617167,"question_id":52118156,"body_markdown":"I too have same issue when I started working. The solution I opted was to first delete all the referenced Selenium files and then download new ones and then assigned them to a folder and added their reference and then it will start working properly.","title":"java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap when executing the test file","body":"<p>I too have same issue when I started working. The solution I opted was to first delete all the referenced Selenium files and then download new ones and then assigned them to a folder and added their reference and then it will start working properly.</p>\n"}],"owner":{"account_id":13975104,"reputation":9,"user_id":10092697,"display_name":"Balaji Ravi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648212019,"creation_date":1535727633,"question_id":52118156,"body_markdown":"My Testcases package has the below code\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package Testcases;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.Test;\r\n    import Objectrepository.FBloginpage;\r\n    \r\n    public class Testcase1 {\r\n    \t\r\n    \t@Test\r\n    \tpublic void login() {\r\n        \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Work\\\\chromedriver.exe&quot;); \r\n        \tWebDriver driver=new ChromeDriver();\r\n        \tdriver.get(&quot;https://www.facebook.com&quot;);\r\n    \t\t\r\n        \tFBloginpage fb= new FBloginpage(driver);\r\n        \tfb.Email().sendKeys(&quot;sample@gmail.com&quot;);\r\n        \tfb.Password().sendKeys(&quot;Password&quot;);\r\n        \tfb.Login().click();\r\n        }\r\n    }\r\n\r\n\r\nMy Objectrepository package has the below code in FBloginpage.java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package Objectrepository;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class FBloginpage {\r\n    \r\n        WebDriver driver;\r\n        By username = By.id(&quot;email&quot;);\r\n        By password = By.name(&quot;pass&quot;);\r\n        By login = By.xpath(&quot;//input[@type=&#39;submit&#39;]&quot;);\r\n    \r\n    \r\n        public FBloginpage (WebDriver driver) {\r\n            this.driver= driver;\r\n        }\r\n    \r\n    \r\n        public WebElement Email() {\r\n            return driver.findElement(username);\r\n        }\r\n    \r\n        public WebElement Password() {\r\n            return driver.findElement(password);\r\n        }\r\n        \r\n        public WebElement Login() {\r\n            return driver.findElement(login);\r\n        }\r\n    }\r\n\r\nMy Testng.xml file has the below code\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\t&lt;suite name=&quot;Suite&quot;&gt;\r\n\t  &lt;test thread-count=&quot;5&quot; name=&quot;Test&quot;&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t  &lt;class name=&quot;Testcases.Testcase1&quot;/&gt;\r\n\t\t&lt;/classes&gt;\r\n\t  &lt;/test&gt; &lt;!-- Test --&gt;\r\n\t&lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\nWhen i execute the Testcases1.java file i am getting the below error\r\n\r\n\t[RemoteTestNG] detected TestNG version 6.14.2\r\n\tFAILED: login\r\n\tjava.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap\r\n\t\tat org.openqa.selenium.remote.service.DriverService$Builder.&lt;init&gt;(DriverService.java:249)\r\n\t\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.&lt;init&gt;(ChromeDriverService.java:96)\r\n\t\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:89)\r\n\t\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\t\tat Tescases.Testcase1.login(Testcase1.java:14)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\t\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\t\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\t\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\t\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\t\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\r\n\t\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\t\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\tCaused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t\t... 30 more\r\n\r\nTried using updated chromedriver but still the problem persist.I am using Eclipse IDE and i imported all the necessary libraries","title":"java.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap when executing the test file","body":"<p>My Testcases package has the below code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package Testcases;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.Test;\nimport Objectrepository.FBloginpage;\n\npublic class Testcase1 {\n\n    @Test\n    public void login() {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Work\\\\chromedriver.exe\"); \n        WebDriver driver=new ChromeDriver();\n        driver.get(\"https://www.facebook.com\");\n\n        FBloginpage fb= new FBloginpage(driver);\n        fb.Email().sendKeys(\"sample@gmail.com\");\n        fb.Password().sendKeys(\"Password\");\n        fb.Login().click();\n    }\n}\n</code></pre>\n\n<p>My Objectrepository package has the below code in FBloginpage.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package Objectrepository;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class FBloginpage {\n\n    WebDriver driver;\n    By username = By.id(\"email\");\n    By password = By.name(\"pass\");\n    By login = By.xpath(\"//input[@type='submit']\");\n\n\n    public FBloginpage (WebDriver driver) {\n        this.driver= driver;\n    }\n\n\n    public WebElement Email() {\n        return driver.findElement(username);\n    }\n\n    public WebElement Password() {\n        return driver.findElement(password);\n    }\n\n    public WebElement Login() {\n        return driver.findElement(login);\n    }\n}\n</code></pre>\n\n<p>My Testng.xml file has the below code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\"&gt;\n  &lt;test thread-count=\"5\" name=\"Test\"&gt;\n    &lt;classes&gt;\n      &lt;class name=\"Testcases.Testcase1\"/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n\n<p>When i execute the Testcases1.java file i am getting the below error</p>\n\n<pre><code>[RemoteTestNG] detected TestNG version 6.14.2\nFAILED: login\njava.lang.NoClassDefFoundError: com/google/common/collect/ImmutableMap\n    at org.openqa.selenium.remote.service.DriverService$Builder.&lt;init&gt;(DriverService.java:249)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.&lt;init&gt;(ChromeDriverService.java:96)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:89)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at Tescases.Testcase1.login(Testcase1.java:14)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 30 more\n</code></pre>\n\n<p>Tried using updated chromedriver but still the problem persist.I am using Eclipse IDE and i imported all the necessary libraries</p>\n"},{"tags":["java","amazon-ec2","liquibase","snowflake-schema","amazon-linux-2"],"answers":[{"tags":[],"owner":{"account_id":6349182,"reputation":3625,"user_id":4928801,"accept_rate":71,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648211992,"creation_date":1648211992,"answer_id":71617159,"question_id":71586780,"body_markdown":"While checking liquibase code base I realise that there is a **bug** in liquibase.\r\nI have raised the issue here is the link :\r\nhttps://github.com/liquibase/liquibase/issues/2674\r\n\r\nAlso raised PR to fix it : \r\nhttps://github.com/liquibase/liquibase/pull/2675 \r\n\r\nIf anyone want to use one can build it locally and use.","title":"Getting WARNING [liquibase.resource] Cannot create filesystem for url file: &lt;classpath jar&gt; while liquibase update","body":"<p>While checking liquibase code base I realise that there is a <strong>bug</strong> in liquibase.\nI have raised the issue here is the link :\n<a href=\"https://github.com/liquibase/liquibase/issues/2674\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/2674</a></p>\n<p>Also raised PR to fix it :\n<a href=\"https://github.com/liquibase/liquibase/pull/2675\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/pull/2675</a></p>\n<p>If anyone want to use one can build it locally and use.</p>\n"}],"owner":{"account_id":6349182,"reputation":3625,"user_id":4928801,"accept_rate":71,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648211992,"creation_date":1648036539,"question_id":71586780,"body_markdown":"I am trying to run liquibase for snowflake with liquibase jar \r\n\r\nVersion : 4.4.1\r\n\r\nGetting error for my classpath jar file \r\n\r\n    [2022-03-23 11:50:57] WARNING [liquibase.resource] Cannot create filesystem for url file:./liquibase-snowflake-4.4.1.jar\r\n\r\nAnd Error :\r\n\r\n    Caused by: net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error:\r\nObject &#39;DB.PUBLIC.DATABASECHANGELOG&#39; does not exist or not authorized.\r\n\r\nCommand I am using :\r\n\r\n    java \\\r\n        -jar liquibase.jar \\\r\n            --username=&#39;user&#39; \\\r\n            --password=&#39;pass&#39; \\\r\n            --driver=&#39;net.snowflake.client.jdbc.SnowflakeDriver&#39; \\\r\n            --classpath=./liquibase-snowflake-4.4.1.jar:./snowflake-jdbc-3.9.2.jar \\\r\n            --changeLogFile=&#39;./changelog.xml&#39; \\\r\n            --defaultSchemaName=PUBLIC \\\r\n            --logLevel=&#39;info&#39; \\\r\n            --url=&#39;myurl&#39; \\\r\n            update\r\n\r\n\r\n\r\n***Update :\r\nSame version and same command working on mac os. But not working on amazon linux 2.\r\nUsing same openjdk 8 version","title":"Getting WARNING [liquibase.resource] Cannot create filesystem for url file: &lt;classpath jar&gt; while liquibase update","body":"<p>I am trying to run liquibase for snowflake with liquibase jar</p>\n<p>Version : 4.4.1</p>\n<p>Getting error for my classpath jar file</p>\n<pre><code>[2022-03-23 11:50:57] WARNING [liquibase.resource] Cannot create filesystem for url file:./liquibase-snowflake-4.4.1.jar\n</code></pre>\n<p>And Error :</p>\n<pre><code>Caused by: net.snowflake.client.jdbc.SnowflakeSQLException: SQL compilation error:\n</code></pre>\n<p>Object 'DB.PUBLIC.DATABASECHANGELOG' does not exist or not authorized.</p>\n<p>Command I am using :</p>\n<pre><code>java \\\n    -jar liquibase.jar \\\n        --username='user' \\\n        --password='pass' \\\n        --driver='net.snowflake.client.jdbc.SnowflakeDriver' \\\n        --classpath=./liquibase-snowflake-4.4.1.jar:./snowflake-jdbc-3.9.2.jar \\\n        --changeLogFile='./changelog.xml' \\\n        --defaultSchemaName=PUBLIC \\\n        --logLevel='info' \\\n        --url='myurl' \\\n        update\n</code></pre>\n<p>***Update :\nSame version and same command working on mac os. But not working on amazon linux 2.\nUsing same openjdk 8 version</p>\n"},{"tags":["java","objective-c","j2objc"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427795919,"creation_date":1427795608,"answer_id":29365691,"question_id":29365645,"body_markdown":"If there is no better way built into `run.sh`, you could use `find`&#39;s `-exec` flag:\r\n\r\n    find &lt;path to input folder&gt; -type f -exec --preservedirs ./run.sh {} \\;\r\n\r\nOr, you could use `xargs` to do multiple files at the same type:\r\n\r\n    find &lt;path to input folder&gt; -type f | xargs ./run.sh --preservedirs\r\n\r\n(You might also need to add `-name &quot;*.java&quot;` to the find arguments if there are non-Java files in your directories).","title":"How to translate an entire folder or package from Java to Objective-C?","body":"<p>If there is no better way built into <code>run.sh</code>, you could use <code>find</code>'s <code>-exec</code> flag:</p>\n\n<pre><code>find &lt;path to input folder&gt; -type f -exec --preservedirs ./run.sh {} \\;\n</code></pre>\n\n<p>Or, you could use <code>xargs</code> to do multiple files at the same type:</p>\n\n<pre><code>find &lt;path to input folder&gt; -type f | xargs ./run.sh --preservedirs\n</code></pre>\n\n<p>(You might also need to add <code>-name \"*.java\"</code> to the find arguments if there are non-Java files in your directories).</p>\n"},{"tags":[],"owner":{"account_id":1480870,"reputation":1994,"user_id":1390310,"accept_rate":75,"display_name":"tball"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1427823612,"creation_date":1427823612,"answer_id":29374982,"question_id":29365645,"body_markdown":"To build a whole project, I add the source root(s) to the -sourcepath, then use the find command to locate all Java sources. For example, to build Square.com&#39;s Dagger library:\r\n\r\n    $ export J2OBJC=~/j2objc   # change to wherever your distribution is\r\n    $ cd ~/src/dagger/core\r\n    $ $J2OBJC/j2objc -d build_output -sourcepath src/main/java \\\r\n        -classpath $J2OBJC/lib/javax-inject.jar \\\r\n        `find src/main/java -name &#39;*.java&#39;`\r\n\r\nAll the generated .h and .m files are now in the build_output directory, in subdirectories according to their package (like javac does). To compile all the .m files into a static library, I use:\r\n\r\n    $ cd build_output\r\n    $ j2objcc -c -I. `find . -name &#39;*.m&#39;`\r\n    $ libtool -static -o libdagger.a *.o","title":"How to translate an entire folder or package from Java to Objective-C?","body":"<p>To build a whole project, I add the source root(s) to the -sourcepath, then use the find command to locate all Java sources. For example, to build Square.com's Dagger library:</p>\n\n<pre><code>$ export J2OBJC=~/j2objc   # change to wherever your distribution is\n$ cd ~/src/dagger/core\n$ $J2OBJC/j2objc -d build_output -sourcepath src/main/java \\\n    -classpath $J2OBJC/lib/javax-inject.jar \\\n    `find src/main/java -name '*.java'`\n</code></pre>\n\n<p>All the generated .h and .m files are now in the build_output directory, in subdirectories according to their package (like javac does). To compile all the .m files into a static library, I use:</p>\n\n<pre><code>$ cd build_output\n$ j2objcc -c -I. `find . -name '*.m'`\n$ libtool -static -o libdagger.a *.o\n</code></pre>\n"}],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2199,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29365691,"answer_count":2,"score":3,"last_activity_date":1648211789,"creation_date":1427795473,"question_id":29365645,"body_markdown":"I&#39;ve used an older version of Google&#39;s Java to Objective-C (J2ObjC) converter previously (i.e. version 0.5.2) and it was straightforward to translate an entire folder of Java files to their equivalent Objective-C files (and to preserve the directory structure in doing so). I just had to run the following shell executable:\r\n\r\n```lang-bash\r\n$ ./run.sh —-preservedirs &lt;path to input folder&gt;\r\n```\r\n\r\nI&#39;ve just downloaded the latest version of J2ObjC (i.e. version 0.9.1) and it&#39;s not clear from the [Getting Started][1] page or elsewhere how I can translate an entire folder of Java files rather than just a single Java file using the [j2obc][2] executable. The only example provided in the [Getting Started][1] page is to translate a single Java file which has no dependencies or imports elsewhere as follows:\r\n\r\n```lang-bash\r\n$ ./j2objc Hello.java\r\n```\r\n\r\nCan anyone provide me with an example of how to translate an entire package assuming I have a folder named `input` which contains my `com` package which contains all of the sub-packages and Java files that I want to translate?\r\n\r\n\r\n  [1]: https://github.com/google/j2objc/wiki/Getting-Started\r\n  [2]: https://github.com/google/j2objc/wiki/j2objc","title":"How to translate an entire folder or package from Java to Objective-C?","body":"<p>I've used an older version of Google's Java to Objective-C (J2ObjC) converter previously (i.e. version 0.5.2) and it was straightforward to translate an entire folder of Java files to their equivalent Objective-C files (and to preserve the directory structure in doing so). I just had to run the following shell executable:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./run.sh —-preservedirs &lt;path to input folder&gt;\n</code></pre>\n<p>I've just downloaded the latest version of J2ObjC (i.e. version 0.9.1) and it's not clear from the <a href=\"https://github.com/google/j2objc/wiki/Getting-Started\" rel=\"nofollow noreferrer\">Getting Started</a> page or elsewhere how I can translate an entire folder of Java files rather than just a single Java file using the <a href=\"https://github.com/google/j2objc/wiki/j2objc\" rel=\"nofollow noreferrer\">j2obc</a> executable. The only example provided in the <a href=\"https://github.com/google/j2objc/wiki/Getting-Started\" rel=\"nofollow noreferrer\">Getting Started</a> page is to translate a single Java file which has no dependencies or imports elsewhere as follows:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./j2objc Hello.java\n</code></pre>\n<p>Can anyone provide me with an example of how to translate an entire package assuming I have a folder named <code>input</code> which contains my <code>com</code> package which contains all of the sub-packages and Java files that I want to translate?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648211629,"creation_date":1648211629,"answer_id":71617088,"question_id":71615648,"body_markdown":"You are using a mixture of Tomcat modules. Some from Tomcat 10 and some from Tomcat 9. Rather than manually setting the versions in your `build.gradle` file, you should allow Spring Boot&#39;s dependency management to control the Tomcat version. This will ensure that you use a version of Tomcat that&#39;s compatible with the version of Spring Boot that you are using and also ensure that all of the Tomcat modules have the same version.\r\n\r\nNote that Spring Boot 2.x is not compatible with Tomcat 10. Tomcat 10 is an implementation of the Servlet 5.0 specification which is part of Jakarta EE 9. to use Tomcat 10, you&#39;ll have to use Spring Boot 3 which is only available as milestones at the moment and will not be released until near the end of 2022.","title":"Unable to start web server; nested exception is java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH","body":"<p>You are using a mixture of Tomcat modules. Some from Tomcat 10 and some from Tomcat 9. Rather than manually setting the versions in your <code>build.gradle</code> file, you should allow Spring Boot's dependency management to control the Tomcat version. This will ensure that you use a version of Tomcat that's compatible with the version of Spring Boot that you are using and also ensure that all of the Tomcat modules have the same version.</p>\n<p>Note that Spring Boot 2.x is not compatible with Tomcat 10. Tomcat 10 is an implementation of the Servlet 5.0 specification which is part of Jakarta EE 9. to use Tomcat 10, you'll have to use Spring Boot 3 which is only available as milestones at the moment and will not be released until near the end of 2022.</p>\n"}],"owner":{"account_id":23362518,"reputation":1,"user_id":17434515,"display_name":"shubhendu shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648211629,"creation_date":1648205104,"question_id":71615648,"body_markdown":"I have been facing this issue on a spring boot project while starting main spring boot application\r\n\r\nI am getting this error log:\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[30m2022-03-25 16:07:49,833[0;39m [1;31mERROR[0;39m [[34mrestartedMain[0;39m] [33morg.springframework.boot.SpringApplication[0;39m: Application run failed\r\norg.springframework.context.ApplicationContextException: **Unable to start web server; nested exception is java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH**\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.elsevier.rrexport.RRDecopuledExportApplication.main(RRDecopuledExportApplication.java:11)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH\r\n\tat org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:271)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:200)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n\t... 13 common frames omitted\r\n```\r\n\r\nPlease let me know , what configuration I need to change.\r\nI have already added:\r\n\r\n```\r\nSystem.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\r\n```\r\n\r\nAlso defined it in the application.properties:\r\n\r\n```\r\norg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true\r\n```\r\n\r\nNothing seems to work. My [build.gradle][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eTCvL.jpg","title":"Unable to start web server; nested exception is java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH","body":"<p>I have been facing this issue on a spring boot project while starting main spring boot application</p>\n<p>I am getting this error log:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[30m2022-03-25 16:07:49,833[0;39m [1;31mERROR[0;39m [[34mrestartedMain[0;39m] [33morg.springframework.boot.SpringApplication[0;39m: Application run failed\norg.springframework.context.ApplicationContextException: **Unable to start web server; nested exception is java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH**\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.elsevier.rrexport.RRDecopuledExportApplication.main(RRDecopuledExportApplication.java:11)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.NoSuchFieldError: ALLOW_ENCODED_SLASH\n    at org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:271)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:200)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\n    ... 13 common frames omitted\n</code></pre>\n<p>Please let me know , what configuration I need to change.\nI have already added:</p>\n<pre><code>System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\n</code></pre>\n<p>Also defined it in the application.properties:</p>\n<pre><code>org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true\n</code></pre>\n<p>Nothing seems to work. My <a href=\"https://i.stack.imgur.com/eTCvL.jpg\" rel=\"nofollow noreferrer\">build.gradle</a></p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"display_name":"user4571959"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648211169,"creation_date":1648211169,"answer_id":71616993,"question_id":71612724,"body_markdown":"    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class JavaToJson {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\ttry {\r\n    \t\t\tList&lt;Address&gt; addrList = new ArrayList&lt;&gt;();\r\n    \t\t\tAddress addr = new Address();\r\n    \t\t\taddr.setArea(&quot;ABC&quot;);\r\n    \t\t\taddr.setCity(&quot;XYZ&quot;);\r\n    \t\t\taddrList.add(addr);\r\n    \r\n    \t\t\tStudent std = new Student();\r\n    \t\t\tstd.setName(&quot;Rahul&quot;);\r\n    \t\t\tstd.setId(1);\r\n    \t\t\tstd.setAddress(addrList);\r\n    \r\n    \t\t\tString json = objectMapper.writeValueAsString(std);\r\n    \t\t\tSystem.out.println(json);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class Student {\r\n    \tString name;\r\n    \tint id;\r\n    \tList&lt;Address&gt; address;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic List&lt;Address&gt; getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \tpublic void setAddress(List&lt;Address&gt; address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    }\r\n    \r\n    class Address {\r\n    \tString area;\r\n    \tString city;\r\n    \tpublic String getArea() {\r\n    \t\treturn this.area;\r\n    \t}\r\n    \tpublic void setArea(String area) {\r\n    \t\tthis.area = area;\r\n    \t}\r\n    \tpublic String getCity() {\r\n    \t\treturn this.area;\r\n    \t}\r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    }","title":"Mapping java class To JSON By Using Jackson","body":"<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class JavaToJson {\n    public static void main(String[] args) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            List&lt;Address&gt; addrList = new ArrayList&lt;&gt;();\n            Address addr = new Address();\n            addr.setArea(&quot;ABC&quot;);\n            addr.setCity(&quot;XYZ&quot;);\n            addrList.add(addr);\n\n            Student std = new Student();\n            std.setName(&quot;Rahul&quot;);\n            std.setId(1);\n            std.setAddress(addrList);\n\n            String json = objectMapper.writeValueAsString(std);\n            System.out.println(json);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nclass Student {\n    String name;\n    int id;\n    List&lt;Address&gt; address;\n\n    public String getName() {\n        return this.name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getId() {\n        return this.id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public List&lt;Address&gt; getAddress() {\n        return address;\n    }\n    public void setAddress(List&lt;Address&gt; address) {\n        this.address = address;\n    }\n}\n\nclass Address {\n    String area;\n    String city;\n    public String getArea() {\n        return this.area;\n    }\n    public void setArea(String area) {\n        this.area = area;\n    }\n    public String getCity() {\n        return this.area;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17924121,"reputation":95,"user_id":13023168,"display_name":"SMValiAli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648211169,"creation_date":1648187724,"question_id":71612724,"body_markdown":"I want to convert the following bean class to JSON object by using Jackson library\r\n```\r\npublic class Student {\r\nString name ;\r\nint id ;\r\nList&lt;Address&gt; address;\r\n}\r\n```\r\n\r\nI want following json\r\n```\r\n{\r\n  &quot;Name&quot; : &quot;sys1&quot;,\r\n  &quot;Id&quot; : 1,\r\n  &quot;address&quot; : [some address]\r\n}\r\n```\r\n\r\nCan anyone help me how to achieve this ?.","title":"Mapping java class To JSON By Using Jackson","body":"<p>I want to convert the following bean class to JSON object by using Jackson library</p>\n<pre><code>public class Student {\nString name ;\nint id ;\nList&lt;Address&gt; address;\n}\n</code></pre>\n<p>I want following json</p>\n<pre><code>{\n  &quot;Name&quot; : &quot;sys1&quot;,\n  &quot;Id&quot; : 1,\n  &quot;address&quot; : [some address]\n}\n</code></pre>\n<p>Can anyone help me how to achieve this ?.</p>\n"},{"tags":["java","docker","adoptopenjdk"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648212846,"post_id":71616919,"comment_id":126573584,"body_markdown":"First question - is the environment variable actually set in the container?  I&#39;d check that directly, rather than inferring whether it&#39;s set by memory performance graphs.","body":"First question - is the environment variable actually set in the container?  I&#39;d check that directly, rather than inferring whether it&#39;s set by memory performance graphs."},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1648216227,"post_id":71616919,"comment_id":126574946,"body_markdown":"I am using docker compose file to set environment variables. This works in case of adoptopenjdk but not with openjdk8. Even tried with this command java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot; by doing docker exec.","body":"I am using docker compose file to set environment variables. This works in case of adoptopenjdk but not with openjdk8. Even tried with this command java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot; by doing docker exec."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1648413835,"post_id":71616919,"comment_id":126612065,"body_markdown":"Did you check?  Because that&#39;s what I actually asked.","body":"Did you check?  Because that&#39;s what I actually asked."}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648210891,"creation_date":1648210891,"question_id":71616919,"body_markdown":"I am trying set xmx and xms parameters for my java application which is inside docker container. When I try with adoptopenjdk it works fine.\r\n\r\nWith AdoptOpenjdk \r\n\r\nDockerfile : \r\n\r\n    FROM adoptopenjdk/openjdk8-openj9:alpine\r\n    WORKDIR /\r\n    ADD /target/*.jar app.jar\r\n    ...\r\n\r\nDocker compose \r\n\r\n      myapp:\r\n        image: myapp:dev\r\n        container_name: myapp\r\n        network_mode: &quot;host&quot;\r\n        ports:\r\n          - &quot;PORT:PORT&quot;\r\n        environment:\r\n          - OPENJ9_JAVA_OPTIONS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\r\n\r\n[![enter image description here][1]][1]\r\n    \r\nBut the same thing is not working with openjdk:8\r\n\r\nDockerfile \t  \r\n\r\n    FROM openjdk:8\r\n    WORKDIR /\r\n    ADD /target/*.jar app.jar\r\n    ...\t  \r\n\r\nDocker Compose file \r\n\r\n      myapp:\r\n        image: myapp:dev\r\n        container_name: myapp\r\n        network_mode: &quot;host&quot;\r\n        ports:\r\n          - &quot;PORT:PORT&quot;\r\n        environment:\r\n          - JAVA_OPTS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\r\n\r\n[![enter image description here][2]][2]\t  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYsDd.png\r\n  [2]: https://i.stack.imgur.com/SDC7D.png","title":"Not able to change JVM options ( xmx, xms etc. ) with openjdk:8 based docker container","body":"<p>I am trying set xmx and xms parameters for my java application which is inside docker container. When I try with adoptopenjdk it works fine.</p>\n<p>With AdoptOpenjdk</p>\n<p>Dockerfile :</p>\n<pre><code>FROM adoptopenjdk/openjdk8-openj9:alpine\nWORKDIR /\nADD /target/*.jar app.jar\n...\n</code></pre>\n<p>Docker compose</p>\n<pre><code>  myapp:\n    image: myapp:dev\n    container_name: myapp\n    network_mode: &quot;host&quot;\n    ports:\n      - &quot;PORT:PORT&quot;\n    environment:\n      - OPENJ9_JAVA_OPTIONS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IYsDd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYsDd.png\" alt=\"enter image description here\" /></a></p>\n<p>But the same thing is not working with openjdk:8</p>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:8\nWORKDIR /\nADD /target/*.jar app.jar\n...   \n</code></pre>\n<p>Docker Compose file</p>\n<pre><code>  myapp:\n    image: myapp:dev\n    container_name: myapp\n    network_mode: &quot;host&quot;\n    ports:\n      - &quot;PORT:PORT&quot;\n    environment:\n      - JAVA_OPTS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SDC7D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDC7D.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1648130294,"post_id":71603497,"comment_id":126550328,"body_markdown":"Your custom filter probably doesn&#39;t call the authentication success handler. See the comments on this question https://stackoverflow.com/questions/39774023/onauthenticationsuccess-of-my-custom-authenticationsuccesshandler-is-not-called","body":"Your custom filter probably doesn&#39;t call the authentication success handler. See the comments on this question <a href=\"https://stackoverflow.com/questions/39774023/onauthenticationsuccess-of-my-custom-authenticationsuccesshandler-is-not-called\" title=\"onauthenticationsuccess of my custom authenticationsuccesshandler is not called\">stackoverflow.com/questions/39774023/&hellip;</a>"},{"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"score":0,"creation_date":1648206039,"post_id":71603497,"comment_id":126571246,"body_markdown":"Thanks that works Ive updated the question with the solution.","body":"Thanks that works Ive updated the question with the solution."}],"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648210650,"creation_date":1648128876,"question_id":71603497,"body_markdown":"I&#39;m using Spring Boot security and trying to implement an AuthenticationSuccessHandler,\r\nbut it&#39;s ignored when I authenticate. Currently I&#39;ve not implemented any Roles. \r\n\r\n\r\nI have an AbstractController containing an /authenticate endpoint and\r\na CustomerController which extends it, this is why I have :\r\n\r\n\t\t\t\t.loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\r\n\r\nI have \r\n\r\n&gt; @Component public class JwtFilter extends OncePerRequestFilter\r\n\r\nAnd added as a filterBefore in my WebSecurity like so : \r\n\r\n&gt; .addFilterBefore(jwtFitler,UsernamePasswordAuthenticationFilter.clas)\r\n\r\n\r\n**What I&#39;ve tried :** \r\n\r\n1. Removing &quot;customer&quot; prefix in loginProcessingUrl\r\n\r\n&gt; \t\t\t\t.loginProcessingUrl(&quot;/authenticate&quot;).permitAll()\r\n\r\n\r\n2. Removing  \r\n\r\n&gt; \t\t\t\t.addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\r\n\r\n3. Using SimpleUrlAuthenticationSuccessHandler instead of AuthenticationProvider\r\n\r\n\r\n**CODE :** \r\n\r\nWebSecurity configuration : \r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.cors().and().csrf().disable().authorizeRequests()\r\n    \t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_USERS_URL, LOG_IN_URL).permitAll()\r\n    \t\t\t\t.antMatchers(HttpMethod.GET, &quot;/&quot;, HOME, GET_ACCOUNTS_URL).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**.js&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**.css&quot;).permitAll()\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.formLogin()\r\n    \t\t\t\t.loginPage(&quot;/login&quot;).permitAll()\r\n    \t\t\t\t.loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\r\n    \t\t\t\t.successHandler(authenticationSuccessHandler)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\r\n    \t}\r\n\r\n\r\n----------------------- **EDIT WITH SOLUTION** ----------------------\r\n\r\n**Solution :** \r\n\r\nCall the authentication success handler before doFilter ;\r\n\r\n        authenticationSuccessHandler.onAuthenticationSuccess(\r\n           httpServletRequest, \r\n           httpServletResponse,                      \r\n           SecurityContextHolder.getContext().getAuthentication());\r\n    \r\n    \r\n    filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n\r\n**Complete code :** \r\n\r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n                                    \r\n        @Autowired\r\n          private AuthenticationSuccessHandlerImpl \r\n           authenticationSuccessHandler;\r\n                    \r\n          @Override\r\n          protected void doFilterInternal(HttpServletRequest, \r\n          @NotNull HttpServletResponse httpServletResponse,\r\n          @NotNull FilterChain filterChain) throws ServletException, \r\n       IOException {\r\n                                        \r\n        //SOLUTION        \r\n              authenticationSuccessHandler.onAuthenticationSuccess(httpServletRequest, \r\n        httpServletResponse,                                        \r\n        SecurityContextHolder.getContext().getAuthentication());\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n         }\r\n        }\r\n\r\n\r\n\r\n \r\n \r\n","title":"spring AuthenticationSuccessHandler not called","body":"<p>I'm using Spring Boot security and trying to implement an AuthenticationSuccessHandler,\nbut it's ignored when I authenticate. Currently I've not implemented any Roles.</p>\n<p>I have an AbstractController containing an /authenticate endpoint and\na CustomerController which extends it, this is why I have :</p>\n<pre><code>            .loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\n</code></pre>\n<p>I have</p>\n<blockquote>\n<p>@Component public class JwtFilter extends OncePerRequestFilter</p>\n</blockquote>\n<p>And added as a filterBefore in my WebSecurity like so :</p>\n<blockquote>\n<p>.addFilterBefore(jwtFitler,UsernamePasswordAuthenticationFilter.clas)</p>\n</blockquote>\n<p><strong>What I've tried :</strong></p>\n<ol>\n<li>Removing &quot;customer&quot; prefix in loginProcessingUrl</li>\n</ol>\n<blockquote>\n<pre><code>          .loginProcessingUrl(&quot;/authenticate&quot;).permitAll()\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Removing</li>\n</ol>\n<blockquote>\n<pre><code>          .addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Using SimpleUrlAuthenticationSuccessHandler instead of AuthenticationProvider</li>\n</ol>\n<p><strong>CODE :</strong></p>\n<p>WebSecurity configuration :</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST, REGISTER_USERS_URL, LOG_IN_URL).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/&quot;, HOME, GET_ACCOUNTS_URL).permitAll()\n                .antMatchers(&quot;/**.js&quot;).permitAll()\n                .antMatchers(&quot;/**.css&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;).permitAll()\n                .loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\n                .successHandler(authenticationSuccessHandler)\n                .and()\n                .addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<p>----------------------- <strong>EDIT WITH SOLUTION</strong> ----------------------</p>\n<p><strong>Solution :</strong></p>\n<p>Call the authentication success handler before doFilter ;</p>\n<pre><code>    authenticationSuccessHandler.onAuthenticationSuccess(\n       httpServletRequest, \n       httpServletResponse,                      \n       SecurityContextHolder.getContext().getAuthentication());\n\n\nfilterChain.doFilter(httpServletRequest, httpServletResponse);\n</code></pre>\n<p><strong>Complete code :</strong></p>\n<pre><code>@Component\npublic class JwtFilter extends OncePerRequestFilter {\n                                \n    @Autowired\n      private AuthenticationSuccessHandlerImpl \n       authenticationSuccessHandler;\n                \n      @Override\n      protected void doFilterInternal(HttpServletRequest, \n      @NotNull HttpServletResponse httpServletResponse,\n      @NotNull FilterChain filterChain) throws ServletException, \n   IOException {\n                                    \n    //SOLUTION        \n          authenticationSuccessHandler.onAuthenticationSuccess(httpServletRequest, \n    httpServletResponse,                                        \n    SecurityContextHolder.getContext().getAuthentication());\n    filterChain.doFilter(httpServletRequest, httpServletResponse);\n     }\n    }\n</code></pre>\n"},{"tags":["java","activemq-artemis","jms-topic"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1648111642,"post_id":71599333,"comment_id":126542898,"body_markdown":"did you remove the consumer from your other app, or is it still listening on that other one?  Open your Artemis MQ Client and see how many *Consumers* are registered on that topic to confirm.","body":"did you remove the consumer from your other app, or is it still listening on that other one?  Open your Artemis MQ Client and see how many <i>Consumers</i> are registered on that topic to confirm."},{"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"score":0,"creation_date":1648112480,"post_id":71599333,"comment_id":126543185,"body_markdown":"No i have a consumer on the other app. If i add a thread.sleep i see the producer and consumer in the ActiveMQ Artemis management console using the default http://localhost:8161/console/ but no messages are exchanged. Something may be wrong with my code?","body":"No i have a consumer on the other app. If i add a thread.sleep i see the producer and consumer in the ActiveMQ Artemis management console using the default <a href=\"http://localhost:8161/console/\" rel=\"nofollow noreferrer\">localhost:8161/console</a> but no messages are exchanged. Something may be wrong with my code?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648135869,"post_id":71599333,"comment_id":126552849,"body_markdown":"If you&#39;ve updated your `ExampleSubscriber` to invoke `connection.start()` then you should update your question. Otherwise anybody who knows how to use JMS will think that&#39;s the problem.","body":"If you&#39;ve updated your <code>ExampleSubscriber</code> to invoke <code>connection.start()</code> then you should update your question. Otherwise anybody who knows how to use JMS will think that&#39;s the problem."},{"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"score":0,"creation_date":1648211797,"post_id":71599333,"comment_id":126573221,"body_markdown":"Was it necessary to update? It did not fix the problem","body":"Was it necessary to update? It did not fix the problem"}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648114190,"creation_date":1648114190,"answer_id":71599933,"question_id":71599333,"body_markdown":"The consumer app needs to [starts][1] the JMS connection to receive incoming messages, i.e.\r\n\r\n    connection.start();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>The consumer app needs to <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--\" rel=\"nofollow noreferrer\">starts</a> the JMS connection to receive incoming messages, i.e.</p>\n<pre><code>connection.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648136035,"creation_date":1648136035,"answer_id":71605310,"question_id":71599333,"body_markdown":"You must ensure that messages are sent to the JMS topic _while_ the consumer is actively listening for messages. As defined by the JMS specification, JMS topic consumers _only_ get messages sent to the topic while they are connected. The only exception to this is if the consumer has already created a durable subscription, but you aren&#39;t doing that.","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>You must ensure that messages are sent to the JMS topic <em>while</em> the consumer is actively listening for messages. As defined by the JMS specification, JMS topic consumers <em>only</em> get messages sent to the topic while they are connected. The only exception to this is if the consumer has already created a durable subscription, but you aren't doing that.</p>\n"},{"tags":[],"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648210617,"creation_date":1648210617,"answer_id":71616859,"question_id":71599333,"body_markdown":"Thanks everyone, I tried all your suggestions but for some strange reason it did not work. After a full 2 nights of research It only worked when I used jms 2.0 implementation\r\n\r\n\r\n        try (ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\n             JMSContext jmsContext = cf.createContext()) {\r\n        //add your consumer code here for consumer\r\n        //add your producer code here for producer\r\n        }","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>Thanks everyone, I tried all your suggestions but for some strange reason it did not work. After a full 2 nights of research It only worked when I used jms 2.0 implementation</p>\n<pre><code>    try (ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\n         JMSContext jmsContext = cf.createContext()) {\n    //add your consumer code here for consumer\n    //add your producer code here for producer\n    }\n</code></pre>\n"}],"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1648210617,"creation_date":1648111454,"question_id":71599333,"body_markdown":"I have a situation where if i call my consumer on the fly from within the app it works with the code below. How do i receive this message from a different application? Working code below:\r\n\r\n```\r\npublic class TopicExample {\r\n    public static void main(final String[] args) throws Exception {\r\n        Connection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\r\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n            connection = cf.createConnection();\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageProducer producer = session.createProducer(topic);\r\n            MessageConsumer messageConsumer = session.createConsumer(topic);\r\n            TextMessage message = session.createTextMessage(&quot;This is a text message &quot;);\r\n            producer.send(message);\r\n            System.out.println(&quot;Sent message: &quot; + message.getText());\r\n            connection.start();\r\n            System.out.println(&quot;*************************************************************&quot;);\r\n            TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);\r\n            System.out.println(&quot;messageConsumer received: &quot; + messageReceived.getText());\r\n            messageConsumer.close();\r\n        } finally {\r\n            if (initialContext != null) {\r\n                initialContext.close();\r\n            }\r\n            if (connection != null) {\r\n                connection.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am using the same artemis broker and if i check the console the consumer and producer show but the message is always null with **TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);** and if i use **MessageConsumer messageConsumer = session.createConsumer(topic);** it never goes there. My code in the different app which does not work is as below:\r\n\r\n```\r\npublic class ExampleSubscriber {\r\n    public static void main(String[] args) {\r\n        Connection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\r\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n            connection = cf.createConnection();\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageConsumer messageConsumer = session.createConsumer(topic);\r\n           // messageConsumer.setMessageListener(new DefaultMessageListener()); does not work\r\n           // TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000); \r\n           // System.out.println(messageReceived); if i dont use listener this is always null\r\n        } catch (NamingException e) {\r\n            e.printStackTrace();\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (initialContext != null) {\r\n                try {\r\n                    initialContext.close();\r\n                } catch (NamingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if (connection != null) {\r\n                try {\r\n                    connection.close();\r\n                } catch (JMSException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private static class DefaultMessageListener implements MessageListener {\r\n        @Override\r\n        public void onMessage(Message message) {\r\n            System.out.println(message); //never comes here when using listener\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>I have a situation where if i call my consumer on the fly from within the app it works with the code below. How do i receive this message from a different application? Working code below:</p>\n<pre><code>public class TopicExample {\n    public static void main(final String[] args) throws Exception {\n        Connection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n            connection = cf.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(topic);\n            MessageConsumer messageConsumer = session.createConsumer(topic);\n            TextMessage message = session.createTextMessage(&quot;This is a text message &quot;);\n            producer.send(message);\n            System.out.println(&quot;Sent message: &quot; + message.getText());\n            connection.start();\n            System.out.println(&quot;*************************************************************&quot;);\n            TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);\n            System.out.println(&quot;messageConsumer received: &quot; + messageReceived.getText());\n            messageConsumer.close();\n        } finally {\n            if (initialContext != null) {\n                initialContext.close();\n            }\n            if (connection != null) {\n                connection.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am using the same artemis broker and if i check the console the consumer and producer show but the message is always null with <strong>TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);</strong> and if i use <strong>MessageConsumer messageConsumer = session.createConsumer(topic);</strong> it never goes there. My code in the different app which does not work is as below:</p>\n<pre><code>public class ExampleSubscriber {\n    public static void main(String[] args) {\n        Connection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n            connection = cf.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageConsumer messageConsumer = session.createConsumer(topic);\n           // messageConsumer.setMessageListener(new DefaultMessageListener()); does not work\n           // TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000); \n           // System.out.println(messageReceived); if i dont use listener this is always null\n        } catch (NamingException e) {\n            e.printStackTrace();\n        } catch (JMSException e) {\n            e.printStackTrace();\n        } finally {\n            if (initialContext != null) {\n                try {\n                    initialContext.close();\n                } catch (NamingException e) {\n                    e.printStackTrace();\n                }\n            }\n            if (connection != null) {\n                try {\n                    connection.close();\n                } catch (JMSException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    private static class DefaultMessageListener implements MessageListener {\n        @Override\n        public void onMessage(Message message) {\n            System.out.println(message); //never comes here when using listener\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","session"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648197512,"post_id":71612996,"comment_id":126568274,"body_markdown":"You have to display your code in your question.","body":"You have to display your code in your question."},{"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"score":0,"creation_date":1648210210,"post_id":71612996,"comment_id":126572648,"body_markdown":"@FaeemazazBhanej I have displayed my method where I am going to use getCurrentSession().","body":"@FaeemazazBhanej I have displayed my method where I am going to use getCurrentSession()."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648192470,"creation_date":1648192147,"answer_id":71613264,"question_id":71612996,"body_markdown":"Lets imagine your `Hibernate`  session manager class looks like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class HibernateSessionManager {\r\n\r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n        private static SessionFactory buildSessionFactory() {\r\n\r\n            Configuration configuration = new Configuration();\r\n            configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n            ServiceRegistryBuilder serviceRegistryBuilder = new ServiceRegistryBuilder()\r\n                    .applySettings(configuration.getProperties());\r\n            return configuration.buildSessionFactory(serviceRegistryBuilder\r\n                    .buildServiceRegistry());\r\n        }\r\n\r\n        public static SessionFactory getSessionFactory() {\r\n            return sessionFactory;\r\n        }\r\n\r\n    }\r\n\r\nUse this property in your configuration file\r\n\r\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n Instead of you currecnt one i.e\r\n\r\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\r\n\r\nAnd get your session with\r\n\r\n    Session session = HibernateSessionManager.getSessionFactory().openSession();","title":"No CurrentSessionContext configured, while using getCurrentSession()","body":"<p>Lets imagine your <code>Hibernate</code>  session manager class looks like this</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class HibernateSessionManager {\n\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n\n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;hibernate.cfg.xml&quot;);\n\n        ServiceRegistryBuilder serviceRegistryBuilder = new ServiceRegistryBuilder()\n                .applySettings(configuration.getProperties());\n        return configuration.buildSessionFactory(serviceRegistryBuilder\n                .buildServiceRegistry());\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n}\n</code></pre>\n<p>Use this property in your configuration file</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n</code></pre>\n<p>Instead of you currecnt one i.e</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\n</code></pre>\n<p>And get your session with</p>\n<pre><code>Session session = HibernateSessionManager.getSessionFactory().openSession();\n</code></pre>\n"}],"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648210128,"creation_date":1648189948,"question_id":71612996,"body_markdown":"I am changing my code from ```openSession()``` to ```getCurrentSession()``` so it won&#39;t create connections at each request.\r\nI have done code in class as:\r\n```@Override\r\n\tpublic Session openSession(boolean current1){\r\n\t\tint count = 0;\r\n\t\tint MAX_COUNT = 10;\r\n//\t\tthis.printIdMap();\r\n\t\twhile( count++ &lt; MAX_COUNT) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.session = this.getSessionFactory().getCurrentSession();\r\n\t\t\t\tthis.transaction = this.session.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\tthis.IncDecCounter(true);\r\n//\t\t\t\tthis.session.getTransaction().commit();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcatch ( Exception e ) {\r\n\t\t\t\tthis.printIdMap();\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\ttry { this.session.close(); } catch( Exception e1 ) {}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.session;\r\n\t}\r\n```\r\n\r\nI have checked in multiple places to set property in hibernate.cfg.xml file.\r\n```\r\n&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n```\r\n\r\nI also tried\r\n```\r\n&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\r\n```\r\n\r\nbut facing error as\r\n```\r\norg.hibernate.HibernateException: No CurrentSessionContext configured!\r\n```\r\n\r\nThe hibernate version which I am using is 5.4.1","title":"No CurrentSessionContext configured, while using getCurrentSession()","body":"<p>I am changing my code from <code>openSession()</code> to <code>getCurrentSession()</code> so it won't create connections at each request.\nI have done code in class as:</p>\n<pre><code>    public Session openSession(boolean current1){\n        int count = 0;\n        int MAX_COUNT = 10;\n//      this.printIdMap();\n        while( count++ &lt; MAX_COUNT) {\n            try {\n                this.session = this.getSessionFactory().getCurrentSession();\n                this.transaction = this.session.beginTransaction();\n                \n                this.IncDecCounter(true);\n//              this.session.getTransaction().commit();\n                break;\n            }\n            catch ( Exception e ) {\n                this.printIdMap();\n                e.printStackTrace();\n                try { this.session.close(); } catch( Exception e1 ) {}\n            }\n        }\n        return this.session;\n    }\n</code></pre>\n<p>I have checked in multiple places to set property in hibernate.cfg.xml file.</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n</code></pre>\n<p>I also tried</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\n</code></pre>\n<p>but facing error as</p>\n<pre><code>org.hibernate.HibernateException: No CurrentSessionContext configured!\n</code></pre>\n<p>The hibernate version which I am using is 5.4.1</p>\n"},{"tags":["java","spring","spring-security","spring-java-config"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1475164775,"post_id":39774023,"comment_id":66844211,"body_markdown":"You never call your `AuthenticationSuccessHandler`. If you override `doFilter`you have to call the handlers manually.","body":"You never call your <code>AuthenticationSuccessHandler</code>. If you override <code>doFilter</code>you have to call the handlers manually."},{"owner":{"account_id":8462243,"reputation":21,"user_id":6899843,"display_name":"shi jiang"},"score":0,"creation_date":1475179363,"post_id":39774023,"comment_id":66852357,"body_markdown":"Thank you. This solves my problem.","body":"Thank you. This solves my problem."}],"answers":[{"tags":[],"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648210057,"creation_date":1648208193,"answer_id":71616333,"question_id":39774023,"body_markdown":"I had the same problem ([https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called][1]) , I&#39;ll complete with the solution code : \r\n\r\n    \r\n\r\n\r\n\r\n    @Autowired\r\n    private CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\r\n        \r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n        \r\n    //CODE\r\n                \r\n      customAuthenticationSuccessHandler.onAuthenticationSuccess(\r\n      httpServletRequest, \r\n      (HttpServletResponse)response,\r\n      SecurityContextHolder.getContext().getAuthentication());\r\n                    \r\n      chain.doFilter(request, response);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called","title":"onAuthenticationSuccess of my Custom AuthenticationSuccessHandler is not called","body":"<p>I had the same problem (<a href=\"https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called\">spring AuthenticationSuccessHandler not called</a>) , I'll complete with the solution code :</p>\n<pre><code>@Autowired\nprivate CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\n    \n@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n    \n//CODE\n            \n  customAuthenticationSuccessHandler.onAuthenticationSuccess(\n  httpServletRequest, \n  (HttpServletResponse)response,\n  SecurityContextHolder.getContext().getAuthentication());\n                \n  chain.doFilter(request, response);\n}\n</code></pre>\n"}],"owner":{"account_id":8462243,"reputation":21,"user_id":6899843,"display_name":"shi jiang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648210057,"creation_date":1475161893,"question_id":39774023,"body_markdown":"I have a problem with configuring two Spring Security adapters. One will be using form login, and the other will be basic authentication. The problem is that I could not invoke the `onAuthenticationSuccess` method in my `CustomAuthenticationSuccessHandler` after successfully authenticated through the basic authentication.\r\n\r\nThe following is my Java config. Thank you for your input.\r\n\r\n\r\n    @EnableWebSecurity\r\n\r\n    public class MultiHttpSecurityConfig {\r\n\r\n        ...\r\n\r\n        @Configuration\r\n        @Order(1)\r\n        public class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http\r\n                        .antMatcher(&quot;/auth/login&quot;)\r\n                        .authorizeRequests()\r\n                            .anyRequest().authenticated()\r\n                        .and()\r\n                        .httpBasic()\r\n                        .authenticationEntryPoint(customAuthenticationEntryPoint)\r\n                        .and()\r\n                        .addFilterBefore(authenticationTokenProcessingFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            }\r\n        }\r\n\r\n        @Configuration\r\n        public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.authorizeRequests()\r\n                        .antMatchers(&quot;/admin&quot;)\r\n                        .hasRole(&quot;ADMIN&quot;)\r\n                        .antMatchers(&quot;/admin**&quot;)\r\n                        .hasRole(&quot;ADMIN&quot;)\r\n                        .antMatchers(&quot;/**&quot;)\r\n                        .authenticated()\r\n                        .and()\r\n                            .formLogin()\r\n                                .successHandler(savedRequestAwareAuthenticationSuccessHandler)\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .permitAll()\r\n                                .failureUrl(&quot;/login?error&quot;)\r\n                                .loginProcessingUrl(&quot;/auth/login_check&quot;)\r\n                                .usernameParameter(&quot;username&quot;)\r\n                                .passwordParameter(&quot;password&quot;)\r\n                        .and()\r\n                            .logout()\r\n                                .logoutUrl(&quot;/logout&quot;)\r\n                                .logoutSuccessUrl(&quot;/login?logout&quot;)\r\n                                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                                .invalidateHttpSession(true)\r\n                        .and()\r\n                            .exceptionHandling().accessDeniedPage(&quot;/denied&quot;)\r\n                        .and()\r\n                            .csrf()\r\n                        .and()\r\n                            .rememberMe().rememberMeServices(new PersistentTokenBasedRememberMeServices(internalSecretKey, userDetailsService, persistentTokenRepository))\r\n                            .key(internalSecretKey)\r\n                            .tokenValiditySeconds(1209600);\r\n            }\r\n        }\r\n\r\n        private AuthenticationTokenProcessingFilter authenticationTokenProcessingFilter(){\r\n\r\n            AuthenticationTokenProcessingFilter filter = new AuthenticationTokenProcessingFilter();\r\n            filter.setAuthenticationProvider(CustomAuthenticationProvider);\r\n            filter.setAuthenticationSuccessHandler(new CustomAuthenticationSuccessHandler());\r\n            filter.setAuthenticationFailureHandler(new CustomAuthenticationFailureHandler());\r\n            return filter;\r\n        }\r\n    }\r\n\r\n\r\nHere is my code for the custom filter.\r\n\r\n\r\n\r\n    public class AuthenticationTokenProcessingFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n        ...\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                         FilterChain chain) throws IOException, ServletException {\r\n\r\n            System.out.println(&quot;Checking headers and parameters for authentication token...&quot;);\r\n\r\n            String token = null;\r\n\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n            if (httpServletRequest.getParameter(&quot;token&quot;) != null) {\r\n                token = httpServletRequest.getParameter(&quot;token&quot;);\r\n                System.out.println(&quot;Found token &#39;&quot; + token + &quot;&#39; in request parameters&quot;);\r\n            } else if (httpServletRequest.getHeader(&quot;Authentication-token&quot;) != null) {\r\n                token = httpServletRequest.getHeader(&quot;Authentication-token&quot;);\r\n                System.out.println(&quot;Found token &#39;&quot; + token + &quot;&#39; in request headers&quot;);\r\n            }\r\n\r\n            if (token != null) {\r\n                authenticateUser(httpServletRequest, user);\r\n            }\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n\r\n        private void authenticateUser(HttpServletRequest request, UserDetails user) {\r\n            ...\r\n\r\n            SecurityContext sc = securityContextProvider.getSecurityContext();\r\n            sc.setAuthentication(auth.authenticate(authentication));\r\n        }\r\n    }\r\n","title":"onAuthenticationSuccess of my Custom AuthenticationSuccessHandler is not called","body":"<p>I have a problem with configuring two Spring Security adapters. One will be using form login, and the other will be basic authentication. The problem is that I could not invoke the <code>onAuthenticationSuccess</code> method in my <code>CustomAuthenticationSuccessHandler</code> after successfully authenticated through the basic authentication.</p>\n\n<p>The following is my Java config. Thank you for your input.</p>\n\n<pre><code>@EnableWebSecurity\n\npublic class MultiHttpSecurityConfig {\n\n    ...\n\n    @Configuration\n    @Order(1)\n    public class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .antMatcher(\"/auth/login\")\n                    .authorizeRequests()\n                        .anyRequest().authenticated()\n                    .and()\n                    .httpBasic()\n                    .authenticationEntryPoint(customAuthenticationEntryPoint)\n                    .and()\n                    .addFilterBefore(authenticationTokenProcessingFilter(), UsernamePasswordAuthenticationFilter.class)\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        }\n    }\n\n    @Configuration\n    public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                    .antMatchers(\"/admin\")\n                    .hasRole(\"ADMIN\")\n                    .antMatchers(\"/admin**\")\n                    .hasRole(\"ADMIN\")\n                    .antMatchers(\"/**\")\n                    .authenticated()\n                    .and()\n                        .formLogin()\n                            .successHandler(savedRequestAwareAuthenticationSuccessHandler)\n                            .loginPage(\"/login\")\n                            .permitAll()\n                            .failureUrl(\"/login?error\")\n                            .loginProcessingUrl(\"/auth/login_check\")\n                            .usernameParameter(\"username\")\n                            .passwordParameter(\"password\")\n                    .and()\n                        .logout()\n                            .logoutUrl(\"/logout\")\n                            .logoutSuccessUrl(\"/login?logout\")\n                            .deleteCookies(\"JSESSIONID\")\n                            .invalidateHttpSession(true)\n                    .and()\n                        .exceptionHandling().accessDeniedPage(\"/denied\")\n                    .and()\n                        .csrf()\n                    .and()\n                        .rememberMe().rememberMeServices(new PersistentTokenBasedRememberMeServices(internalSecretKey, userDetailsService, persistentTokenRepository))\n                        .key(internalSecretKey)\n                        .tokenValiditySeconds(1209600);\n        }\n    }\n\n    private AuthenticationTokenProcessingFilter authenticationTokenProcessingFilter(){\n\n        AuthenticationTokenProcessingFilter filter = new AuthenticationTokenProcessingFilter();\n        filter.setAuthenticationProvider(CustomAuthenticationProvider);\n        filter.setAuthenticationSuccessHandler(new CustomAuthenticationSuccessHandler());\n        filter.setAuthenticationFailureHandler(new CustomAuthenticationFailureHandler());\n        return filter;\n    }\n}\n</code></pre>\n\n<p>Here is my code for the custom filter.</p>\n\n<pre><code>public class AuthenticationTokenProcessingFilter extends UsernamePasswordAuthenticationFilter {\n\n    ...\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                     FilterChain chain) throws IOException, ServletException {\n\n        System.out.println(\"Checking headers and parameters for authentication token...\");\n\n        String token = null;\n\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (httpServletRequest.getParameter(\"token\") != null) {\n            token = httpServletRequest.getParameter(\"token\");\n            System.out.println(\"Found token '\" + token + \"' in request parameters\");\n        } else if (httpServletRequest.getHeader(\"Authentication-token\") != null) {\n            token = httpServletRequest.getHeader(\"Authentication-token\");\n            System.out.println(\"Found token '\" + token + \"' in request headers\");\n        }\n\n        if (token != null) {\n            authenticateUser(httpServletRequest, user);\n        }\n\n        chain.doFilter(request, response);\n    }\n\n    private void authenticateUser(HttpServletRequest request, UserDetails user) {\n        ...\n\n        SecurityContext sc = securityContextProvider.getSecurityContext();\n        sc.setAuthentication(auth.authenticate(authentication));\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1648207121,"post_id":71616053,"comment_id":126571622,"body_markdown":"Please provide a [mcve]. We can&#39;t see the code that&#39;s causing the problem at the moment.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We can&#39;t see the code that&#39;s causing the problem at the moment."}],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648209555,"creation_date":1648208454,"answer_id":71616398,"question_id":71616053,"body_markdown":"Please change your xml as below\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\nit seems you forgot the close the tags `element1` and `element2` to prevent reference of the previous document\r\n\r\nAnd write code using `.copy()` method\r\n\r\n```\r\nBuilder parser = new Builder();\r\n        \r\nBuilder builder = new Builder();\r\nDocument root = builder.build(&quot;&lt;root&gt;&lt;/root&gt;&quot;, null);\r\n        \r\nDocument doc = parser.build(&quot;aa.xml&quot;);\r\nroot.getRootElement().appendChild(doc.getRootElement().copy());\r\n        \r\ndoc = parser.build(&quot;aa2.xml&quot;);\r\nroot.getRootElement().appendChild(doc.getRootElement().copy());\r\n        \r\nSystem.out.println(root.toXML());\r\n```\r\n\r\nYou will get this output\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root&gt;&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;&lt;/root&gt;\r\n\r\n````\r\n","title":"adding two or more xml files which have same structure as a child to another root element","body":"<p>Please change your xml as below</p>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;1&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;4&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<p>it seems you forgot the close the tags <code>element1</code> and <code>element2</code> to prevent reference of the previous document</p>\n<p>And write code using <code>.copy()</code> method</p>\n<pre><code>Builder parser = new Builder();\n        \nBuilder builder = new Builder();\nDocument root = builder.build(&quot;&lt;root&gt;&lt;/root&gt;&quot;, null);\n        \nDocument doc = parser.build(&quot;aa.xml&quot;);\nroot.getRootElement().appendChild(doc.getRootElement().copy());\n        \ndoc = parser.build(&quot;aa2.xml&quot;);\nroot.getRootElement().appendChild(doc.getRootElement().copy());\n        \nSystem.out.println(root.toXML());\n</code></pre>\n<p>You will get this output</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;root&gt;&lt;sqa&gt;\n  &lt;element1&gt;4&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;&lt;sqa&gt;\n  &lt;element1&gt;1&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;&lt;/root&gt;\n\n</code></pre>\n"}],"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71616398,"answer_count":1,"score":0,"last_activity_date":1648209555,"creation_date":1648206987,"question_id":71616053,"body_markdown":"I am using nu.xom java library, when adding the first xml root node to &lt;root&gt; element, i am getting &quot;MultipleParentException&quot;. Can some one please provide solution, Thanks in advance.\r\n\r\nBelow are sample xml files:\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\noutput xml:\r\n\r\n```\r\n&lt;root&gt;\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n&lt;/root&gt;\r\n```","title":"adding two or more xml files which have same structure as a child to another root element","body":"<p>I am using nu.xom java library, when adding the first xml root node to  element, i am getting &quot;MultipleParentException&quot;. Can some one please provide solution, Thanks in advance.</p>\n<p>Below are sample xml files:</p>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;1&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;4&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<p>output xml:</p>\n<pre><code>&lt;root&gt;\n&lt;sqa&gt;\n  &lt;element1&gt;1&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n&lt;sqa&gt;\n  &lt;element1&gt;4&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["java","windows","jenkins","jenkins-plugins","perforce"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1633593153,"post_id":69477334,"comment_id":122802084,"body_markdown":"&quot;Java&quot; doesn&#39;t do stuff like that. Some program written in Java does. Probably Jenkins, that seems like a reasonable guess in this scenario. Check the Jenkins logs. Jenkins tends to clean up workspaces that haven&#39;t been used in a bit. Do you expect the workspaces of Jenkins build to stay around forever? Then you may be mis-using Jenkins to do stuff that it&#39;s not meant to do. Though I vaguely remember that there is a bug where that &quot;old workspace cleanup&quot; sometimes actively acts on workspaces that are still used in a build.","body":"&quot;Java&quot; doesn&#39;t do stuff like that. Some program written in Java does. Probably Jenkins, that seems like a reasonable guess in this scenario. Check the Jenkins logs. Jenkins tends to clean up workspaces that haven&#39;t been used in a bit. Do you expect the workspaces of Jenkins build to stay around forever? Then you may be mis-using Jenkins to do stuff that it&#39;s not meant to do. Though I vaguely remember that there is a bug where that &quot;old workspace cleanup&quot; sometimes actively acts on workspaces that are still used in a build."},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636523907,"post_id":69477334,"comment_id":123576930,"body_markdown":"@Joachim Sauer I could not get the information I needed from the jenkins logs, i don&#39;t understand what is wrong &#39;$ cat /var/log/jenkins/jenkins.log\nNov  9 00:30:03 iMac-Macuni newsyslog[22194]: logfile turned over&#39;","body":"@Joachim Sauer I could not get the information I needed from the jenkins logs, i don&#39;t understand what is wrong &#39;$ cat /var/log/jenkins/jenkins.log Nov  9 00:30:03 iMac-Macuni newsyslog[22194]: logfile turned over&#39;"},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636524144,"post_id":69477334,"comment_id":123576967,"body_markdown":"@Joachim Sauer in my case, workspaces that are used daily are deleted, and only those that use the P4 plugin. Those workspaces that are used, for example, are not deleted.","body":"@Joachim Sauer in my case, workspaces that are used daily are deleted, and only those that use the P4 plugin. Those workspaces that are used, for example, are not deleted."},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636524340,"post_id":69477334,"comment_id":123577006,"body_markdown":"@Joachim Sauer in this question, I indicated screen shots from the system logs, where you can see which application is deleting the file https://stackoverflow.com/questions/69894772/how-can-i-view-the-logs-or-set-up-java-log-records-where-java-was-doing-at-a-ce","body":"@Joachim Sauer in this question, I indicated screen shots from the system logs, where you can see which application is deleting the file <a href=\"https://stackoverflow.com/questions/69894772/how-can-i-view-the-logs-or-set-up-java-log-records-where-java-was-doing-at-a-ce\" title=\"how can i view the logs or set up java log records where java was doing at a ce\">stackoverflow.com/questions/69894772/&hellip;</a>"}],"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633593120,"answer_count":0,"score":0,"last_activity_date":1648209539,"creation_date":1633593020,"question_id":69477334,"body_markdown":"Trying to raise a discussion on this issue: https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026\r\nThe last time the workspaces were deleted, they could not see anything in the P4 logs. But I additionally enabled auditing of files on Windows for these workspaces. Yesterday, the workspaces on the Mac OS were deleted again, and today the workspaces on the Windows instance have already been deleted. I found out from the file audit logs that Java was deleting them (1.8.0_281). And java is used by Jenkins. I got a similar result with Mac OS. Why does java delete my files that were created by the Jenkins P4 plugin?\r\n\r\n\r\nI moved jenkins from mac os to linux. And I have repeated the situation with the removal. I launched an audit of files and folders on Windows, and the audit showed that it was Java. How can I now understand why java deletes this directory and all its files?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen they were deleted on the poppy, it was also noted there that it was Java\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to understand with simple actions why Java does this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/laTVm.png\r\n  [2]: https://i.stack.imgur.com/g0iwo.png","title":"Why does java delete my files that were created by the Jenkins P4 plugin?","body":"<p>Trying to raise a discussion on this issue: <a href=\"https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026\">https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026</a>\nThe last time the workspaces were deleted, they could not see anything in the P4 logs. But I additionally enabled auditing of files on Windows for these workspaces. Yesterday, the workspaces on the Mac OS were deleted again, and today the workspaces on the Windows instance have already been deleted. I found out from the file audit logs that Java was deleting them (1.8.0_281). And java is used by Jenkins. I got a similar result with Mac OS. Why does java delete my files that were created by the Jenkins P4 plugin?</p>\n<p>I moved jenkins from mac os to linux. And I have repeated the situation with the removal. I launched an audit of files and folders on Windows, and the audit showed that it was Java. How can I now understand why java deletes this directory and all its files?</p>\n<p><a href=\"https://i.stack.imgur.com/laTVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/laTVm.png\" alt=\"enter image description here\" /></a></p>\n<p>When they were deleted on the poppy, it was also noted there that it was Java</p>\n<p><a href=\"https://i.stack.imgur.com/g0iwo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0iwo.png\" alt=\"enter image description here\" /></a></p>\n<p>How to understand with simple actions why Java does this?</p>\n"},{"tags":["java","floating-point","apache-spark-sql","double"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648209505,"creation_date":1559899526,"answer_id":56491591,"question_id":56490711,"body_markdown":"Please try using the `floor` function, reference this link:\r\nhttps://spark.apache.org/docs/2.3.0/api/sql/index.html#floor","title":"How to round down Values in Spark sql","body":"<p>Please try using the <code>floor</code> function, reference this link:\n<a href=\"https://spark.apache.org/docs/2.3.0/api/sql/index.html#floor\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.3.0/api/sql/index.html#floor</a></p>\n"},{"tags":[],"owner":{"account_id":14933384,"reputation":10797,"user_id":10808674,"display_name":"Alain Merigot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559899674,"creation_date":1559899674,"answer_id":56491641,"question_id":56490711,"body_markdown":"You can use the `floor()` function. It rounds down its argument.\r\n\r\nNote that `floor(x)` gives the largest integer &amp;le;x. So `floor(5.8)` returns 5, but `floor(-5.8)` return -6. If your values may be negative and you want to round them towards 0, you must test their sign and use either `floor()` or `ceil()` (that rounds to the upper value).\r\n\r\nAlso note that casting a float to an int with `int()` rounds it towards zero whatever its sign. Not sure of the actual behavior in spark-sql, but it may solve also your problem. ","title":"How to round down Values in Spark sql","body":"<p>You can use the <code>floor()</code> function. It rounds down its argument.</p>\n\n<p>Note that <code>floor(x)</code> gives the largest integer &le;x. So <code>floor(5.8)</code> returns 5, but <code>floor(-5.8)</code> return -6. If your values may be negative and you want to round them towards 0, you must test their sign and use either <code>floor()</code> or <code>ceil()</code> (that rounds to the upper value).</p>\n\n<p>Also note that casting a float to an int with <code>int()</code> rounds it towards zero whatever its sign. Not sure of the actual behavior in spark-sql, but it may solve also your problem. </p>\n"}],"owner":{"account_id":5612565,"reputation":465,"user_id":4444871,"display_name":"Jazz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56491641,"answer_count":2,"score":0,"last_activity_date":1648209505,"creation_date":1559896216,"question_id":56490711,"body_markdown":"I am querying a postgres sql using the following query. I need to ***round down*** the value of  `min(months_between(current_date,somedate))`\r\n\r\nfor ex: `13.83` should be`13` and not `14`, even `13.9` should be `13` as well. Is there any function that can round down this value in`sparksql`? Any help will be highly appreciated.","title":"How to round down Values in Spark sql","body":"<p>I am querying a postgres sql using the following query. I need to <strong><em>round down</em></strong> the value of  <code>min(months_between(current_date,somedate))</code></p>\n\n<p>for ex: <code>13.83</code> should be<code>13</code> and not <code>14</code>, even <code>13.9</code> should be <code>13</code> as well. Is there any function that can round down this value in<code>sparksql</code>? Any help will be highly appreciated.</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1648210039,"post_id":71616618,"comment_id":126572588,"body_markdown":"Can you check the database logs together with the app logs to make sure that Postgres has finished creating the database when you try to connect to it?","body":"Can you check the database logs together with the app logs to make sure that Postgres has finished creating the database when you try to connect to it?"},{"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"score":0,"creation_date":1648211067,"post_id":71616618,"comment_id":126572964,"body_markdown":"@HansKilian firstly hello, thank your for command.\n\nWhen i run docker compose file, postgresql work wihtout any error. But studentdb is not created. Actually now, give me another errors. :D \n\nIf you want, you can check following link;\nCode(https://github.com/fsk/ktun-code-presentation)","body":"@HansKilian firstly hello, thank your for command.  When i run docker compose file, postgresql work wihtout any error. But studentdb is not created. Actually now, give me another errors. :D   If you want, you can check following link; Code(<a href=\"https://github.com/fsk/ktun-code-presentation\" rel=\"nofollow noreferrer\">github.com/fsk/ktun-code-presentation</a>)"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648209464,"creation_date":1648209464,"question_id":71616618,"body_markdown":"I have a very simple crud application in Spring Boot. I want to dockerize this project. \r\n\r\nMy Dockerfile is follow code (Dockerfile is in ROOT folder)\r\n```\r\nFROM openjdk:11\r\nCOPY /target/crudapp-0.0.1-SNAPSHOT.jar /usr/app/\r\nWORKDIR /usr/app\r\nRUN sh -c &#39;touch basic-spring-boot-docker-0.0.1-SNAPSHOT.jar&#39;\r\nARG JAR_FILE=target/basic-spring-boot-docker-0.0.1-SNAPSHOT.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;crudapp-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nAnd my docker-compose.yml file is follow code (docker-compose.yml file is in src/main/docker)\r\n```\r\nversion: &#39;2&#39;\r\n\r\nservices:\r\n  app:\r\n    image: &#39;crudapp:latest&#39;\r\n    build:\r\n      context: ../../.././\r\n    container_name: ktun-crudapp\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/studentdb\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=root\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n\r\n  db:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    container_name: db\r\n    environment:\r\n      - POSTGRES_DB=studentdb\r\n      - POSTGRES_USER=postgres\r\n      - POSTGRES_PASSWORD=root\r\n```\r\n\r\nmy proje structure is the following image\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd you can see my Dockerfile, my project jar file and my docker-compose.yml file.\r\n\r\nWhen i start my docker-compose.yml file with ```docker-compose up``` command, give me an error following image in cmd;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aLc6L.png\r\n  [2]: https://i.stack.imgur.com/J1BG0.png\r\n\r\nHow can i fix.?","title":"Docker - PostgreSQL - Spring Boot Error: db does not exist","body":"<p>I have a very simple crud application in Spring Boot. I want to dockerize this project.</p>\n<p>My Dockerfile is follow code (Dockerfile is in ROOT folder)</p>\n<pre><code>FROM openjdk:11\nCOPY /target/crudapp-0.0.1-SNAPSHOT.jar /usr/app/\nWORKDIR /usr/app\nRUN sh -c 'touch basic-spring-boot-docker-0.0.1-SNAPSHOT.jar'\nARG JAR_FILE=target/basic-spring-boot-docker-0.0.1-SNAPSHOT.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;crudapp-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>And my docker-compose.yml file is follow code (docker-compose.yml file is in src/main/docker)</p>\n<pre><code>version: '2'\n\nservices:\n  app:\n    image: 'crudapp:latest'\n    build:\n      context: ../../.././\n    container_name: ktun-crudapp\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/studentdb\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=root\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n\n  db:\n    image: 'postgres:13.1-alpine'\n    container_name: db\n    environment:\n      - POSTGRES_DB=studentdb\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=root\n</code></pre>\n<p>my proje structure is the following image</p>\n<p><a href=\"https://i.stack.imgur.com/aLc6L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aLc6L.png\" alt=\"enter image description here\" /></a></p>\n<p>And you can see my Dockerfile, my project jar file and my docker-compose.yml file.</p>\n<p>When i start my docker-compose.yml file with <code>docker-compose up</code> command, give me an error following image in cmd;</p>\n<p><a href=\"https://i.stack.imgur.com/J1BG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1BG0.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i fix.?</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"comments":[{"owner":{"account_id":1943617,"reputation":1963,"user_id":1749223,"accept_rate":80,"display_name":"Binary Baba"},"score":0,"creation_date":1549800126,"post_id":54615543,"comment_id":96025316,"body_markdown":"Can you also post your xml files?","body":"Can you also post your xml files?"},{"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"score":0,"creation_date":1549808186,"post_id":54615543,"comment_id":96027332,"body_markdown":"@RickSanchez yes, I updated my question with XML files.","body":"@RickSanchez yes, I updated my question with XML files."}],"answers":[{"tags":[],"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1549916327,"creation_date":1549916327,"answer_id":54638477,"question_id":54615543,"body_markdown":"I have solved this problem myself.\r\n\r\nI went through `TabLayout` in XML again, step by step and now it works. I did not analyze what I did different, but this is working XML `TabLayout`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.InsideActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;74dp&quot;\r\n        android:contentDescription=&quot;Title&quot;\r\n        android:padding=&quot;8dp&quot;\r\n        app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabs&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;65dp&quot;\r\n        android:background=&quot;@color/darkg&quot;\r\n        app:tabSelectedTextColor=&quot;@android:color/white&quot;\r\n        app:tabTextColor=&quot;@android:color/black&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tabItem&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Watchlist&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tabItem2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;ExBook&quot; /&gt;\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.fre.book.NonSwipeableViewPager\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n","title":"Layout elements background color changes when app resumes after backpress","body":"<p>I have solved this problem myself.</p>\n\n<p>I went through <code>TabLayout</code> in XML again, step by step and now it works. I did not analyze what I did different, but this is working XML <code>TabLayout</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".InsideActivity\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@android:color/transparent\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/logo\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"74dp\"\n    android:contentDescription=\"Title\"\n    android:padding=\"8dp\"\n    app:srcCompat=\"@drawable/logo\" /&gt;\n\n&lt;com.google.android.material.tabs.TabLayout\n    android:id=\"@+id/tabs\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"65dp\"\n    android:background=\"@color/darkg\"\n    app:tabSelectedTextColor=\"@android:color/white\"\n    app:tabTextColor=\"@android:color/black\"&gt;\n\n    &lt;com.google.android.material.tabs.TabItem\n        android:id=\"@+id/tabItem\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Watchlist\" /&gt;\n\n    &lt;com.google.android.material.tabs.TabItem\n        android:id=\"@+id/tabItem2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ExBook\" /&gt;\n&lt;/com.google.android.material.tabs.TabLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.fre.book.NonSwipeableViewPager\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17923575,"reputation":21,"user_id":14233192,"display_name":"Sushmit Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648208720,"creation_date":1648208720,"answer_id":71616457,"question_id":54615543,"body_markdown":"Remove this In Your Tab Layout ** app:tabIndicator=&quot;@color/yourColor&quot;**","title":"Layout elements background color changes when app resumes after backpress","body":"<p>Remove this In Your Tab Layout ** app:tabIndicator=&quot;@color/yourColor&quot;**</p>\n"}],"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54638477,"answer_count":2,"score":1,"last_activity_date":1648208720,"creation_date":1549795106,"question_id":54615543,"body_markdown":"I have activity which has two fragments. Activity contains TabLayout only (2tabs) where these two fragments fill up the tabs body. \r\n\r\nEverything works when I first start the app, all colors are correctly loaded from `colors.xml`. When I press `backpress` button (tried in 2 emulators and also real device, API from 23 to 28), and I reopen the app, color `(#222222)` of the active tab and also color `(#222222)` of other elements everywhere in the fragment changes to the primary color which is `colorAccent: @color/green` in my case. And this `green` color is loaded normally. Other colors in the app do NOT change at all, they stay as they are defined. \r\n\r\nI spent 6 hours debugging this problem, I have no clue, why other colors stay as they should.\r\n\r\nI have experimented and added a new activity which starts when I click on button in the `fragment` and I set this activity `background color` to the same `#222222` which defined in my `colors.xml` as `&lt;color name=&quot;darkg&quot;&gt;#222222&lt;/color&gt;`.\r\n\r\nThe background in this activity is always `green`, even after I start the app normally (not resuming) while the active tab button is `darkg` color. \r\n\r\nThis is how I start my framgent from their parent activity:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inside);\r\n\r\n        fm = getSupportFragmentManager();\r\n\r\n        // Create the adapter that will return a fragment for each of the three\r\n        // primary sections of the activity.\r\n        mSectionsPagerAdapter = new SectionsPagerAdapter(fm);\r\n\r\n        // Set up the ViewPager with the sections adapter.\r\n        mViewPager = findViewById(R.id.container);\r\n        mViewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n        TabLayout tabLayout = findViewById(R.id.tabs);\r\n\r\n        mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(mViewPager));\r\n\r\n    }\r\n\r\n    public class SectionsPagerAdapter extends FragmentPagerAdapter {\r\n\r\n        public SectionsPagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position){\r\n                case 0:\r\n                    return watchList;\r\n                case 1:\r\n\r\n                    return exbook;\r\n                default:\r\n                    return null;\r\n            }\r\n        }`\r\n\r\nI have tried to remove some dependencies which I thought can cause this problem, I have cleaned project enormous number of times, I have invalidated caches and restarted android studio, nothing ever helped. \r\n\r\nMy app is supported from Android 5.0, I tried to test it on emulator with API 23, tab color doesn&#39;t change there, only other elements in the fragment. On the other hand, I tested on emulator with API 28 and also real device API 28, and tab button changes to green also with other elements in fragment + that activity is always green.\r\n\r\nI should also mention, that in my fragment, I have `recyclerview` and I have `alternate rows` background color set like this (it is set in `Adapter.class`, and this color works always, never changes to green:\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n        //holder.textViewPos.setText(&quot;#&quot; + (position + 1));\r\n        holder.swipeLayout.setOffset(itemsOffset[position]);\r\n        //((RecyclerView.LayoutParams) holder.itemView.getLayoutParams()).height = 300;\r\n        if(position %2 == 1)\r\n        {\r\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#222222&quot;));\r\n\r\n            //  holder.imageView.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n        }\r\n        else\r\n        {\r\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#2B2B2B&quot;));\r\n            //  holder.imageView.setBackgroundColor(Color.parseColor(&quot;#FFFAF8FD&quot;));\r\n        }\r\n    }\r\n\r\nXML file for activity, where I have `TabLayout`:\r\n   \r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.InsideActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;@dimen/appbar_padding_top&quot;\r\n        android:background=&quot;#fff&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;52dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;15dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n                app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/tabs&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:tabBackground=&quot;@drawable/tab_color_selector&quot;\r\n            app:tabIndicator=&quot;@color/darkg&quot;&gt;\r\n\r\n            &lt;com.google.android.material.tabs.TabItem\r\n                android:id=&quot;@+id/tabItem&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Watchlist&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.tabs.TabItem\r\n                android:id=&quot;@+id/tabItem2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Exbook&quot; /&gt;\r\n\r\n        &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.me.appka.NonSwipeableViewPager\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    &lt;/com.me.appka.NonSwipeableViewPager&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nFragment XML:\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/addToWatchlist&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/darkg&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:includeFontPadding=&quot;true&quot;\r\n        android:onClick=&quot;onClickAddNewPerson&quot;\r\n        android:text=&quot;ADD NEW&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/details_text&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_view&quot;\r\n        android:layout_below=&quot;@id/addToWatchlist&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nActivity XML which is started in Fragment when I click on the button `addToWatchlist`:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AddToWatchlistActivity&quot;\r\n    android:background=&quot;@color/darkg&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/watchlistTitle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:text=&quot;Add new person to you Watchlist&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:textSize=&quot;18dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**UPDATE:**\r\n\r\nI have checked LogCat in more detail and found some lines saying `Choreographer(abc): Skipped xx frames! The application may be doing too much work on its main thread.` So I went through my code again, I do not have anything that could cause too much work, but I have also checked resources, especially drawables and reduced 2 files (png) to smaller size, from `1MB` to about `80KB`and that `warnings` are gone and the color changing behaviour has also changed a little.\r\n\r\nWhen I pressed back button before, and got back into app, dark gray tab + button turned green. Now, when I get back into app right after I press back button, Tab color stays gray, only button in fragment changes to green. When I go out of app and get back again over and over fast enough, it stays that way, but if I wait like 2 seconds and then get back into app, also Tab color changes from gray to green. \r\n\r\nThis is super odd, I have no clue what is wrong.\r\n","title":"Layout elements background color changes when app resumes after backpress","body":"<p>I have activity which has two fragments. Activity contains TabLayout only (2tabs) where these two fragments fill up the tabs body. </p>\n\n<p>Everything works when I first start the app, all colors are correctly loaded from <code>colors.xml</code>. When I press <code>backpress</code> button (tried in 2 emulators and also real device, API from 23 to 28), and I reopen the app, color <code>(#222222)</code> of the active tab and also color <code>(#222222)</code> of other elements everywhere in the fragment changes to the primary color which is <code>colorAccent: @color/green</code> in my case. And this <code>green</code> color is loaded normally. Other colors in the app do NOT change at all, they stay as they are defined. </p>\n\n<p>I spent 6 hours debugging this problem, I have no clue, why other colors stay as they should.</p>\n\n<p>I have experimented and added a new activity which starts when I click on button in the <code>fragment</code> and I set this activity <code>background color</code> to the same <code>#222222</code> which defined in my <code>colors.xml</code> as <code>&lt;color name=\"darkg\"&gt;#222222&lt;/color&gt;</code>.</p>\n\n<p>The background in this activity is always <code>green</code>, even after I start the app normally (not resuming) while the active tab button is <code>darkg</code> color. </p>\n\n<p>This is how I start my framgent from their parent activity:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_inside);\n\n    fm = getSupportFragmentManager();\n\n    // Create the adapter that will return a fragment for each of the three\n    // primary sections of the activity.\n    mSectionsPagerAdapter = new SectionsPagerAdapter(fm);\n\n    // Set up the ViewPager with the sections adapter.\n    mViewPager = findViewById(R.id.container);\n    mViewPager.setAdapter(mSectionsPagerAdapter);\n\n    TabLayout tabLayout = findViewById(R.id.tabs);\n\n    mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n    tabLayout.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(mViewPager));\n\n}\n\npublic class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    public SectionsPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        switch (position){\n            case 0:\n                return watchList;\n            case 1:\n\n                return exbook;\n            default:\n                return null;\n        }\n    }`\n</code></pre>\n\n<p>I have tried to remove some dependencies which I thought can cause this problem, I have cleaned project enormous number of times, I have invalidated caches and restarted android studio, nothing ever helped. </p>\n\n<p>My app is supported from Android 5.0, I tried to test it on emulator with API 23, tab color doesn't change there, only other elements in the fragment. On the other hand, I tested on emulator with API 28 and also real device API 28, and tab button changes to green also with other elements in fragment + that activity is always green.</p>\n\n<p>I should also mention, that in my fragment, I have <code>recyclerview</code> and I have <code>alternate rows</code> background color set like this (it is set in <code>Adapter.class</code>, and this color works always, never changes to green:</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    //holder.textViewPos.setText(\"#\" + (position + 1));\n    holder.swipeLayout.setOffset(itemsOffset[position]);\n    //((RecyclerView.LayoutParams) holder.itemView.getLayoutParams()).height = 300;\n    if(position %2 == 1)\n    {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#222222\"));\n\n        //  holder.imageView.setBackgroundColor(Color.parseColor(\"#FFFFFF\"));\n    }\n    else\n    {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#2B2B2B\"));\n        //  holder.imageView.setBackgroundColor(Color.parseColor(\"#FFFAF8FD\"));\n    }\n}\n</code></pre>\n\n<p>XML file for activity, where I have <code>TabLayout</code>:</p>\n\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/main_content\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\ntools:context=\".InsideActivity\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"@dimen/appbar_padding_top\"\n    android:background=\"#fff\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"52dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"15dp\"\n            android:layout_weight=\"1\"\n            app:layout_constraintVertical_bias=\"1.0\"\n            app:srcCompat=\"@drawable/logo\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/tabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"65dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:tabBackground=\"@drawable/tab_color_selector\"\n        app:tabIndicator=\"@color/darkg\"&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=\"@+id/tabItem\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Watchlist\" /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=\"@+id/tabItem2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Exbook\" /&gt;\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.me.appka.NonSwipeableViewPager\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n&lt;/com.me.appka.NonSwipeableViewPager&gt;\n</code></pre>\n\n<p></p>\n\n<p>Fragment XML:</p>\n\n<pre><code>&lt;RelativeLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;Button\n    android:id=\"@+id/addToWatchlist\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/darkg\"\n    android:fontFamily=\"sans-serif\"\n    android:gravity=\"center_vertical\"\n    android:includeFontPadding=\"true\"\n    android:onClick=\"onClickAddNewPerson\"\n    android:text=\"ADD NEW\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@color/details_text\"\n    android:textSize=\"20dp\" /&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=\"@+id/recycler_view\"\n    android:layout_below=\"@id/addToWatchlist\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Activity XML which is started in Fragment when I click on the button <code>addToWatchlist</code>:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".AddToWatchlistActivity\"\nandroid:background=\"@color/darkg\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/watchlistTitle\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:fontFamily=\"sans-serif\"\n    android:text=\"Add new person to you Watchlist\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@android:color/white\"\n    android:textSize=\"18dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/profile_image\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.5\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have checked LogCat in more detail and found some lines saying <code>Choreographer(abc): Skipped xx frames! The application may be doing too much work on its main thread.</code> So I went through my code again, I do not have anything that could cause too much work, but I have also checked resources, especially drawables and reduced 2 files (png) to smaller size, from <code>1MB</code> to about <code>80KB</code>and that <code>warnings</code> are gone and the color changing behaviour has also changed a little.</p>\n\n<p>When I pressed back button before, and got back into app, dark gray tab + button turned green. Now, when I get back into app right after I press back button, Tab color stays gray, only button in fragment changes to green. When I go out of app and get back again over and over fast enough, it stays that way, but if I wait like 2 seconds and then get back into app, also Tab color changes from gray to green. </p>\n\n<p>This is super odd, I have no clue what is wrong.</p>\n"},{"tags":["java","json","spring-boot","microservices","application-design"],"answers":[{"tags":[],"owner":{"account_id":10596164,"reputation":41,"user_id":7804793,"display_name":"Ewan Arends"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648208539,"creation_date":1648208539,"answer_id":71616421,"question_id":71615886,"body_markdown":"One way to do this would be to store the same Object type as your child, so in this case you would get something like this; \r\n```java\r\n(...)\r\npublic class SampleObject {\r\n\r\n    String parent;\r\n\r\n    SampleObject[] children;\r\n\r\n    public SampleObject(String parent, SampleObject... children) {\r\n        this.parent = parent;\r\n        this.children = children;\r\n    }\r\n\r\n    public SampleObject() {\r\n        this(&quot;&quot;)\r\n    }\r\n(...)\r\n}\r\n```","title":"How to build model my application which adds child elements dynamically in spring boot","body":"<p>One way to do this would be to store the same Object type as your child, so in this case you would get something like this;</p>\n<pre class=\"lang-java prettyprint-override\"><code>(...)\npublic class SampleObject {\n\n    String parent;\n\n    SampleObject[] children;\n\n    public SampleObject(String parent, SampleObject... children) {\n        this.parent = parent;\n        this.children = children;\n    }\n\n    public SampleObject() {\n        this(&quot;&quot;)\n    }\n(...)\n}\n</code></pre>\n"}],"owner":{"account_id":11918591,"reputation":69,"user_id":8721872,"display_name":"Prabhakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648208539,"creation_date":1648206280,"question_id":71615886,"body_markdown":"I have to  build java objects with following json structure.\r\n\r\nsample:\r\n\r\n    {\r\n      &quot;parent&quot;:&quot;&quot;\r\n      &quot;children&quot;:[\r\n          {\r\n          &quot;parent&quot;:&quot;abc&quot;\r\n            &quot;children&quot;:[\r\n               parent:&quot;ccd&quot;{\r\n                  &quot;children&quot;:[]\r\n               }\r\n               \r\n             ]\r\n    \r\n          }\r\n           \r\n       }\r\n    }\r\n\r\nI have json like this where a parent can have child object and this child object act as parent to another child object and the chain can increase dynamically .\r\nHow can we model object so that I can form json object like above from my API.\r\n\r\nThanks in advance ","title":"How to build model my application which adds child elements dynamically in spring boot","body":"<p>I have to  build java objects with following json structure.</p>\n<p>sample:</p>\n<pre><code>{\n  &quot;parent&quot;:&quot;&quot;\n  &quot;children&quot;:[\n      {\n      &quot;parent&quot;:&quot;abc&quot;\n        &quot;children&quot;:[\n           parent:&quot;ccd&quot;{\n              &quot;children&quot;:[]\n           }\n           \n         ]\n\n      }\n       \n   }\n}\n</code></pre>\n<p>I have json like this where a parent can have child object and this child object act as parent to another child object and the chain can increase dynamically .\nHow can we model object so that I can form json object like above from my API.</p>\n<p>Thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8506,"page":1486,"page_size":100}
