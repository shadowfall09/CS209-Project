{"items":[{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671239849,"post_id":74827231,"comment_id":132063664,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27274430,"reputation":11,"user_id":20795284,"display_name":"Karthik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671208089,"creation_date":1671208089,"question_id":74827231,"body_markdown":"Need to remove the Admin login page from the existing Spring mvc project without code scan issues\r\n\r\nTried with jsp changes and controller method changes but it will create scan issues","title":"How to dismandle the existing admin login page from the Spring mvc project","body":"<p>Need to remove the Admin login page from the existing Spring mvc project without code scan issues</p>\n<p>Tried with jsp changes and controller method changes but it will create scan issues</p>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1484609223,"post_id":41686629,"comment_id":70570461,"body_markdown":"Why don&#39;t you just initialize a `Bar` object where `bar` is declared?","body":"Why don&#39;t you just initialize a <code>Bar</code> object where <code>bar</code> is declared?"},{"owner":{"account_id":4057995,"reputation":55,"user_id":3335313,"display_name":"user3335313"},"score":0,"creation_date":1484609530,"post_id":41686629,"comment_id":70570568,"body_markdown":"Sorry I forgot to clarify this, I do not own Foo and Bar and cannot change them.","body":"Sorry I forgot to clarify this, I do not own Foo and Bar and cannot change them."}],"answers":[{"tags":[],"owner":{"display_name":"user7207455"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1484611011,"creation_date":1484611011,"answer_id":41686934,"question_id":41686629,"body_markdown":"No. I don&#39;t see any way doing this. If you don&#39;t initialize your `Bar`, it&#39;ll be `null` inside the `JSON`. \r\n\r\nSince you can&#39;t alter these classes, you can just check if the `Bar` inside the `Foo` is `null` and if it is, just initialize it and you&#39;ll get what you want. \r\n\r\n    Bar bar = foo.getBar();\r\n    if (bar == null) {\r\n        foo.setBar(new Bar());\r\n    }\r\n    String json = objectMapper.writeValueAsString(foo);\r\n\r\nThe `json` will be the following: \r\n\r\n    {\r\n        &quot;bar&quot; : {\r\n            &quot;fizz&quot; : null, \r\n            &quot;bang&quot; : null \r\n        } \r\n    }\r\n\r\nHope this helps.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>No. I don't see any way doing this. If you don't initialize your <code>Bar</code>, it'll be <code>null</code> inside the <code>JSON</code>. </p>\n\n<p>Since you can't alter these classes, you can just check if the <code>Bar</code> inside the <code>Foo</code> is <code>null</code> and if it is, just initialize it and you'll get what you want. </p>\n\n<pre><code>Bar bar = foo.getBar();\nif (bar == null) {\n    foo.setBar(new Bar());\n}\nString json = objectMapper.writeValueAsString(foo);\n</code></pre>\n\n<p>The <code>json</code> will be the following: </p>\n\n<pre><code>{\n    \"bar\" : {\n        \"fizz\" : null, \n        \"bang\" : null \n    } \n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":271512,"reputation":915,"user_id":562080,"accept_rate":67,"display_name":"eshayne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484611739,"creation_date":1484611739,"answer_id":41687046,"question_id":41686629,"body_markdown":"You could create a custom serializer for serializing Foo objects. Then in your custom FooSerializer implementation, you could check for a null bar value and serialize it as a default Bar instance. See https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/ or http://www.baeldung.com/jackson-custom-serialization for some examples of how to create custom serializers.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>You could create a custom serializer for serializing Foo objects. Then in your custom FooSerializer implementation, you could check for a null bar value and serialize it as a default Bar instance. See <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/\" rel=\"nofollow noreferrer\">https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/</a> or <a href=\"http://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-custom-serialization</a> for some examples of how to create custom serializers.</p>\n"},{"tags":[],"owner":{"account_id":296506,"reputation":2368,"user_id":1079659,"display_name":"Cmyker"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1551448060,"creation_date":1551436077,"answer_id":54942666,"question_id":41686629,"body_markdown":"I was also required to produce such a structure for legacy client compatibility, here is my solution (depends on Spring Boot since uses @JsonComponent annotation)\r\n\r\nCreate &quot;special object&quot; that will be treated as empty\r\n\r\n    public class EmptyObject {\r\n    }\r\n\r\nCreate property in your model\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    private EmptyObject data = new EmptyObject();\r\n    \r\n    public EmptyObject getData() {\r\n        return data;\r\n    }\r\n\r\nCreate serializer that will process empty object above\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import com.sevensenders.datahub.api.service.response.model.EmptyObject;\r\n    import org.springframework.boot.jackson.JsonComponent;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @JsonComponent\r\n    public class EmptyObjectSerializer extends StdSerializer&lt;EmptyObject&gt; {\r\n    \r\n        public EmptyObjectSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public EmptyObjectSerializer(Class&lt;EmptyObject&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(EmptyObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            // to maintain AF compatible format it is required to write {} instead of null\r\n            gen.writeStartObject();\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    {\r\n      ...\r\n      &quot;data&quot;: {}\r\n    }","title":"Jackson Mapper serialize empty object instead of null","body":"<p>I was also required to produce such a structure for legacy client compatibility, here is my solution (depends on Spring Boot since uses @JsonComponent annotation)</p>\n\n<p>Create \"special object\" that will be treated as empty</p>\n\n<pre><code>public class EmptyObject {\n}\n</code></pre>\n\n<p>Create property in your model</p>\n\n<pre><code>@JsonProperty(\"data\")\nprivate EmptyObject data = new EmptyObject();\n\npublic EmptyObject getData() {\n    return data;\n}\n</code></pre>\n\n<p>Create serializer that will process empty object above</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport com.sevensenders.datahub.api.service.response.model.EmptyObject;\nimport org.springframework.boot.jackson.JsonComponent;\n\nimport java.io.IOException;\n\n@JsonComponent\npublic class EmptyObjectSerializer extends StdSerializer&lt;EmptyObject&gt; {\n\n    public EmptyObjectSerializer() {\n        this(null);\n    }\n\n    public EmptyObjectSerializer(Class&lt;EmptyObject&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(EmptyObject value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        // to maintain AF compatible format it is required to write {} instead of null\n        gen.writeStartObject();\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  ...\n  \"data\": {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052982,"reputation":32,"user_id":11442980,"display_name":"SKO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646932840,"creation_date":1646932840,"answer_id":71428267,"question_id":41686629,"body_markdown":"It&#39;s a bit unrelated to this, but if you define members as private on data class in Kotlin, then, Jackson serializer will produce empty json such as `{}`.","title":"Jackson Mapper serialize empty object instead of null","body":"<p>It's a bit unrelated to this, but if you define members as private on data class in Kotlin, then, Jackson serializer will produce empty json such as <code>{}</code>.</p>\n"},{"tags":[],"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671207518,"creation_date":1671207518,"answer_id":74827122,"question_id":41686629,"body_markdown":"If you don&#39;t want to write your own serializer you can use this approach of declaring type of field as *ObjectNode*:\r\n\r\n```\r\nprivate ObjectNode data;\r\n```\r\n\r\nYou can set/initialize it like this:\r\n```\r\ndata = new ObjectNode(JsonNodeFactory.instance)\r\n```","title":"Jackson Mapper serialize empty object instead of null","body":"<p>If you don't want to write your own serializer you can use this approach of declaring type of field as <em>ObjectNode</em>:</p>\n<pre><code>private ObjectNode data;\n</code></pre>\n<p>You can set/initialize it like this:</p>\n<pre><code>data = new ObjectNode(JsonNodeFactory.instance)\n</code></pre>\n"}],"owner":{"account_id":4057995,"reputation":55,"user_id":3335313,"display_name":"user3335313"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15224,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1671207518,"creation_date":1484609030,"question_id":41686629,"body_markdown":"Say I have classes Foo\r\n\r\n    public class Foo {\r\n        private Bar bar;\r\n    }\r\n\r\nand Bar\r\n\r\n    public class Bar {\r\n        private String fizz;\r\n        private String bang;\r\n    }\r\n\r\n*EDIT*: For clarification I do not own `Foo` and `Bar` and cannot alter these classes.\r\n\r\nIf I want to serialize an empty object of type Foo, it&#39;s member, which is of type Bar, will be returned as null.\r\n\r\n    String json = objectMapper.writeValueAsString(new Foo()); // &quot;{&quot;bar&quot; : null}&quot;\r\n\r\nIs there any way I can get the object mapper to serialize an empty Bar object without having to instantiate a new instance of Bar and then adding it to a new instance of Foo?\r\n\r\n    String json = objectMapper.writeValueAsString(new Foo()) // &quot;{bar&quot;: {&quot;fizz&quot; : null, &quot;bang&quot; : null } }&quot;","title":"Jackson Mapper serialize empty object instead of null","body":"<p>Say I have classes Foo</p>\n\n<pre><code>public class Foo {\n    private Bar bar;\n}\n</code></pre>\n\n<p>and Bar</p>\n\n<pre><code>public class Bar {\n    private String fizz;\n    private String bang;\n}\n</code></pre>\n\n<p><em>EDIT</em>: For clarification I do not own <code>Foo</code> and <code>Bar</code> and cannot alter these classes.</p>\n\n<p>If I want to serialize an empty object of type Foo, it's member, which is of type Bar, will be returned as null.</p>\n\n<pre><code>String json = objectMapper.writeValueAsString(new Foo()); // \"{\"bar\" : null}\"\n</code></pre>\n\n<p>Is there any way I can get the object mapper to serialize an empty Bar object without having to instantiate a new instance of Bar and then adding it to a new instance of Foo?</p>\n\n<pre><code>String json = objectMapper.writeValueAsString(new Foo()) // \"{bar\": {\"fizz\" : null, \"bang\" : null } }\"\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","synchronized"],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313026939,"creation_date":1313026411,"answer_id":7019889,"question_id":7019745,"body_markdown":"Someone more experienced with multithreading should feel free to step in, but I believe this would remove the versatility of synchonized blocks.  The point of using them is to synchronize on a particular object which functions as the monitored resource/semaphore. wait/notify methods are then used to control execution flow *within* the synchronized block.\r\n\r\nNote that synchronized methods are shorthand for synchronizing on `this` for the duration of the method (or the class for static methods). Synchronizing wait/notify methods themselves would remove the point of their use as stop/go signals between threads.","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Someone more experienced with multithreading should feel free to step in, but I believe this would remove the versatility of synchonized blocks.  The point of using them is to synchronize on a particular object which functions as the monitored resource/semaphore. wait/notify methods are then used to control execution flow <em>within</em> the synchronized block.</p>\n\n<p>Note that synchronized methods are shorthand for synchronizing on <code>this</code> for the duration of the method (or the class for static methods). Synchronizing wait/notify methods themselves would remove the point of their use as stop/go signals between threads.</p>\n"},{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1313027690,"creation_date":1313027090,"answer_id":7019946,"question_id":7019745,"body_markdown":"Good question.  The comments in the [JDK7 Object implementation][1] shed some light on this, I think (emphasis mine):\r\n\r\n&gt; This method causes the current thread (call it `T`) to place\r\n&gt; itself in the wait set for this object **and then to relinquish any\r\n&gt; and all synchronization claims on this object**.\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt; The thread `T` is then removed from the wait set for this\r\n&gt; usual manner with other threads for the right to synchronize on the\r\n&gt; object; once it has gained control of the object, **all its\r\n&gt; synchronization claims on the object are restored to the status quo\r\n&gt; ante - that is, to the situation as of the time that the `wait`\r\n&gt; method was invoked**. **Thread `T` then returns from the\r\n&gt; invocation of the `wait` method**. Thus, on return from the\r\n&gt; `wait` method, the synchronization state of the object and of thread\r\n&gt; `T` is exactly as it was when the `wait` method was\r\n&gt; invoked.\r\n\r\n\r\nSo I think the first point to note is that `wait()` doesn&#39;t return until the caller is done waiting (obviously).  Meaning that if `wait()` itself were synchronized then the caller would continue to hold the lock on the object, and nobody else would be able to `wait()` or `notify()`.\r\n\r\nNow obviously `wait()` is doing something tricky behind the scenes to force the caller to lose its ownership of the lock on the object anyways, but perhaps this trick would not work (or would be significantly more difficult to make work) if `wait()` itself were synchronized.\r\n\r\nThe second point is that if multiple threads are waiting on an object, when `notify()` is used to wake exactly one of them the standard contention method is used to allow only one thread to synchronize on the object, and that `wait()` is supposed to restore the caller&#39;s synchronization claims to the exact state they were in prior to the call to `wait()`.  It seems possible to me that requiring the caller to hold the lock prior to calling `wait()` simplifies this, as it removes the need to check to see if the caller should or should not continue holding the lock after `wait()` returns.  The contract stipulates that the caller must continue holding the lock, and thus some of the implementation is simplified.\r\n\r\nOr perhaps it was simply done to avoid the appearance of the logical paradox of &quot;if `wait()` and `notify()` are both synchronized, and `wait()` doesn&#39;t return until `notify()` is called, how can either ever be used successfully?&quot;.  \r\n\r\nThose are my thoughts, anyways.\r\n\r\n  [1]: http://www.docjar.com/html/api/java/lang/Object.java.html","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Good question.  The comments in the <a href=\"http://www.docjar.com/html/api/java/lang/Object.java.html\" rel=\"noreferrer\">JDK7 Object implementation</a> shed some light on this, I think (emphasis mine):</p>\n\n<blockquote>\n  <p>This method causes the current thread (call it <code>T</code>) to place\n  itself in the wait set for this object <strong>and then to relinquish any\n  and all synchronization claims on this object</strong>.</p>\n  \n  <p>...</p>\n  \n  <p>The thread <code>T</code> is then removed from the wait set for this\n  usual manner with other threads for the right to synchronize on the\n  object; once it has gained control of the object, <strong>all its\n  synchronization claims on the object are restored to the status quo\n  ante - that is, to the situation as of the time that the <code>wait</code>\n  method was invoked</strong>. <strong>Thread <code>T</code> then returns from the\n  invocation of the <code>wait</code> method</strong>. Thus, on return from the\n  <code>wait</code> method, the synchronization state of the object and of thread\n  <code>T</code> is exactly as it was when the <code>wait</code> method was\n  invoked.</p>\n</blockquote>\n\n<p>So I think the first point to note is that <code>wait()</code> doesn't return until the caller is done waiting (obviously).  Meaning that if <code>wait()</code> itself were synchronized then the caller would continue to hold the lock on the object, and nobody else would be able to <code>wait()</code> or <code>notify()</code>.</p>\n\n<p>Now obviously <code>wait()</code> is doing something tricky behind the scenes to force the caller to lose its ownership of the lock on the object anyways, but perhaps this trick would not work (or would be significantly more difficult to make work) if <code>wait()</code> itself were synchronized.</p>\n\n<p>The second point is that if multiple threads are waiting on an object, when <code>notify()</code> is used to wake exactly one of them the standard contention method is used to allow only one thread to synchronize on the object, and that <code>wait()</code> is supposed to restore the caller's synchronization claims to the exact state they were in prior to the call to <code>wait()</code>.  It seems possible to me that requiring the caller to hold the lock prior to calling <code>wait()</code> simplifies this, as it removes the need to check to see if the caller should or should not continue holding the lock after <code>wait()</code> returns.  The contract stipulates that the caller must continue holding the lock, and thus some of the implementation is simplified.</p>\n\n<p>Or perhaps it was simply done to avoid the appearance of the logical paradox of \"if <code>wait()</code> and <code>notify()</code> are both synchronized, and <code>wait()</code> doesn't return until <code>notify()</code> is called, how can either ever be used successfully?\".  </p>\n\n<p>Those are my thoughts, anyways.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671207389,"creation_date":1313027434,"answer_id":7019970,"question_id":7019745,"body_markdown":"For notify and notifyAll, the problem with your idea is that when you notify you also have other stuff you&#39;re typically doing in the same synchronized block. So making the notify method synchronized wouldn&#39;t buy you anything, you&#39;d still need the block. Likewise wait has to be in a synchronized block or method in order to be useful, such as being inside a spinlock where the test has to be synchronized anyway. So the granularity of locking is all wrong for what you suggest.\r\n\r\nHere&#39;s an example, this is about the simplest queue implementation you can have in Java:\r\n\r\n    public class MyQueue&lt;T&gt; {\r\n    \r\n        private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n    \r\n        public T take() throws InterruptedException {\r\n            synchronized(list) {\r\n                while (list.size() == 0) {\r\n                    list.wait();\r\n                }\r\n                return list.remove(0);\r\n            }\r\n        }\r\n    \r\n        public void put(T object) {\r\n            synchronized(list) {\r\n                list.add(object);\r\n                list.notify();\r\n            }\r\n        }\r\n    }\r\n\r\nSo you can have producer threads that add things to the queue and consumer threads that take things out. When a thread goes to get something out of the queue it needs to check within the synchronized block that there&#39;s something in the list, and once it&#39;s been notified it needs to reacquire the lock and make sure there is still something in the list (because some other consumer thread could have stepped in and grabbed it).There&#39;s also the &quot;spurious wake-up&quot; phenomenon: you can&#39;t rely on getting woken up as sufficient evidence that something happened, you need to check that whatever condition you&#39;re waiting for is actually true, and that needs to be done within the synchronized block.\r\n\r\nIn both of these cases, checks surrounding the wait need to be made with the lock held so that when the code takes action based on those checks it knows that those results are currently valid.\r\n\r\n(If your use case does not have state that needs changing as described above, synchronized is probably the wrong tool for the job. Using some other means, such as CountdownLatch, may give you a simpler solution.)\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>For notify and notifyAll, the problem with your idea is that when you notify you also have other stuff you're typically doing in the same synchronized block. So making the notify method synchronized wouldn't buy you anything, you'd still need the block. Likewise wait has to be in a synchronized block or method in order to be useful, such as being inside a spinlock where the test has to be synchronized anyway. So the granularity of locking is all wrong for what you suggest.</p>\n<p>Here's an example, this is about the simplest queue implementation you can have in Java:</p>\n<pre><code>public class MyQueue&lt;T&gt; {\n\n    private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n\n    public T take() throws InterruptedException {\n        synchronized(list) {\n            while (list.size() == 0) {\n                list.wait();\n            }\n            return list.remove(0);\n        }\n    }\n\n    public void put(T object) {\n        synchronized(list) {\n            list.add(object);\n            list.notify();\n        }\n    }\n}\n</code></pre>\n<p>So you can have producer threads that add things to the queue and consumer threads that take things out. When a thread goes to get something out of the queue it needs to check within the synchronized block that there's something in the list, and once it's been notified it needs to reacquire the lock and make sure there is still something in the list (because some other consumer thread could have stepped in and grabbed it).There's also the &quot;spurious wake-up&quot; phenomenon: you can't rely on getting woken up as sufficient evidence that something happened, you need to check that whatever condition you're waiting for is actually true, and that needs to be done within the synchronized block.</p>\n<p>In both of these cases, checks surrounding the wait need to be made with the lock held so that when the code takes action based on those checks it knows that those results are currently valid.</p>\n<p>(If your use case does not have state that needs changing as described above, synchronized is probably the wrong tool for the job. Using some other means, such as CountdownLatch, may give you a simpler solution.)</p>\n"},{"tags":[],"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313027589,"creation_date":1313027589,"answer_id":7019976,"question_id":7019745,"body_markdown":"My guess would be that the reason the `synchronized` block is required is that the use of `wait()` or `notify()` as the only action in a `synchronized` block is almost always a bug anyway.\r\n\r\n[Findbugs][1] even has a warning for this, which it calls a &quot;[naked notify][2]&quot;.\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/index.html\r\n  [2]: http://findbugs.sourceforge.net/bugDescriptions.html#NN_NAKED_NOTIFY","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>My guess would be that the reason the <code>synchronized</code> block is required is that the use of <code>wait()</code> or <code>notify()</code> as the only action in a <code>synchronized</code> block is almost always a bug anyway.</p>\n\n<p><a href=\"http://findbugs.sourceforge.net/index.html\" rel=\"nofollow\">Findbugs</a> even has a warning for this, which it calls a \"<a href=\"http://findbugs.sourceforge.net/bugDescriptions.html#NN_NAKED_NOTIFY\" rel=\"nofollow\">naked notify</a>\".</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313030649,"creation_date":1313029367,"answer_id":7020145,"question_id":7019745,"body_markdown":"The wait-notify model of synchronization requires that you acquire the monitors on an object first, before proceeding to perform any work. It is different from the mutual exclusion model that is used by a synchronized block.\r\n\r\nThe wait-notify or mutual cooperation model is typically used in a producer-consumer scenario where one thread produces events that are consumed by another thread. Well-written implementations will strive to avoid the scenarios where a consumer is starved or the producer overruns the consumer with too many events. To avoid this, you would use the wait-notify protocol where\r\n\r\n* the consumer `wait`s for the producer to produce an event.\r\n* the producer produces the event and `notifies` the consumer, and then usually goes to sleep, until it is `notified` by the consumer.\r\n* when the consumer is notified of an event, it wakes up, processes the event and the `notifies` the producer that it has finished processing the event.\r\n\r\nYou could have many producers and consumers in this scenario. Acquiring the monitor through the mutual exclusion model, on `wait`, `notify` or `notifyAll` is bound to destroy this model, since the producer and the consumer do not perform the waiting explicitly. The underlying threads will be present in either the wait set (used by the wait-notify model) or the entry set (used by the mutual exclusion model) of a monitor. Invoking `notify` or `notifyAll` signals thread(s) to be moved from the wait set to the entry set of the monitor (where there may be contention for the monitor, among several threads, and not just the recently notified one).\r\n\r\nNow, when you want to automatically acquire the monitor on `wait`, `notify` and `notifyAll` using the mutual exclusion model, it is usually an indication that you do not need to be using the wait-notify model. This is by inference - you would typically signal other threads, only after doing some work in one thread, i.e. on a change in state. If you are automatically acquiring the monitor and invoking `notify` or `notifyAll`, you are merely moving threads from the wait set to the entry set, without any intermediate state in your program, implying that the transition is unnecessary. Quite obviously, the authors of the JVM were aware of this, and have not declared the methods as synchronized.\r\n\r\nYou can read more about the wait sets and entry sets of monitors in Bill Venner&#39;s book - [Inside the Java Virtual Machine][1].\r\n\r\n\r\n  [1]: http://www.artima.com/insidejvm/ed2/threadsynch.html","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>The wait-notify model of synchronization requires that you acquire the monitors on an object first, before proceeding to perform any work. It is different from the mutual exclusion model that is used by a synchronized block.</p>\n\n<p>The wait-notify or mutual cooperation model is typically used in a producer-consumer scenario where one thread produces events that are consumed by another thread. Well-written implementations will strive to avoid the scenarios where a consumer is starved or the producer overruns the consumer with too many events. To avoid this, you would use the wait-notify protocol where</p>\n\n<ul>\n<li>the consumer <code>wait</code>s for the producer to produce an event.</li>\n<li>the producer produces the event and <code>notifies</code> the consumer, and then usually goes to sleep, until it is <code>notified</code> by the consumer.</li>\n<li>when the consumer is notified of an event, it wakes up, processes the event and the <code>notifies</code> the producer that it has finished processing the event.</li>\n</ul>\n\n<p>You could have many producers and consumers in this scenario. Acquiring the monitor through the mutual exclusion model, on <code>wait</code>, <code>notify</code> or <code>notifyAll</code> is bound to destroy this model, since the producer and the consumer do not perform the waiting explicitly. The underlying threads will be present in either the wait set (used by the wait-notify model) or the entry set (used by the mutual exclusion model) of a monitor. Invoking <code>notify</code> or <code>notifyAll</code> signals thread(s) to be moved from the wait set to the entry set of the monitor (where there may be contention for the monitor, among several threads, and not just the recently notified one).</p>\n\n<p>Now, when you want to automatically acquire the monitor on <code>wait</code>, <code>notify</code> and <code>notifyAll</code> using the mutual exclusion model, it is usually an indication that you do not need to be using the wait-notify model. This is by inference - you would typically signal other threads, only after doing some work in one thread, i.e. on a change in state. If you are automatically acquiring the monitor and invoking <code>notify</code> or <code>notifyAll</code>, you are merely moving threads from the wait set to the entry set, without any intermediate state in your program, implying that the transition is unnecessary. Quite obviously, the authors of the JVM were aware of this, and have not declared the methods as synchronized.</p>\n\n<p>You can read more about the wait sets and entry sets of monitors in Bill Venner's book - <a href=\"http://www.artima.com/insidejvm/ed2/threadsynch.html\" rel=\"nofollow\">Inside the Java Virtual Machine</a>.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313071638,"creation_date":1313071638,"answer_id":7027327,"question_id":7019745,"body_markdown":"Among all the non-buggy codes I&#39;ve read and written, all the them use `wait/notify` in a bigger synchronization block involving read/write of other conditions\r\n\r\n    synchronized(lock)\r\n        update condition\r\n        lock.notify()\r\n\r\n    synchronized(lock)\r\n        while( condition not met)\r\n            lock.wait()\r\n\r\nIf `wait/notify` are themselves `synchronized`, no harm is done to all the correct codes (may a small performance penalty); it won&#39;t do any good either to all the correct codes.\r\n\r\nHowever, it would have permitted and encouraged a lot more incorrect codes. ","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>Among all the non-buggy codes I've read and written, all the them use <code>wait/notify</code> in a bigger synchronization block involving read/write of other conditions</p>\n\n<pre><code>synchronized(lock)\n    update condition\n    lock.notify()\n\nsynchronized(lock)\n    while( condition not met)\n        lock.wait()\n</code></pre>\n\n<p>If <code>wait/notify</code> are themselves <code>synchronized</code>, no harm is done to all the correct codes (may a small performance penalty); it won't do any good either to all the correct codes.</p>\n\n<p>However, it would have permitted and encouraged a lot more incorrect codes. </p>\n"},{"tags":[],"owner":{"account_id":2171891,"reputation":506,"user_id":1923650,"display_name":"BobJiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524281328,"creation_date":1524281328,"answer_id":49952095,"question_id":7019745,"body_markdown":"I think `wait` without `synchronized` can work good in some scenario. But it can&#39;t be used for complicated scenario without **race condition**, &quot;spurious wakeups&quot; might occur.\r\n\r\nCode works for the queue.\r\n\r\n    // producer\r\n    give(element){\r\n      list.add(element)\r\n      lock.notify()\r\n    }\r\n\r\n    // consumer\r\n    take(){\r\n      obj = null;\r\n      while(obj == null)\r\n        lock.wait()\r\n        obj = list.remove(0) // ignore error indexoutofrange\r\n      return obj\r\n    }\r\n\r\nThis code haven&#39;t explain the state of shared data, it will ignore the last element and may not work in mutil-thread condition. Without race condition, this list in `1`, `2` may have totally different states.\r\n\r\n    // consumer\r\n    take(){\r\n      while(list.isEmpty()) // 1\r\n        lock.wait()\r\n      return list.remove(0) // 2\r\n    }\r\n\r\n\r\nAnd now, makes it a little more complicated and obvious. \r\n\r\nexecution of instruction \r\n\r\n  - `give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;take() list.remove(0)-&gt;rollback(element)`\r\n  - `give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;rollback(element)-&gt;take() list.remove(0)`\r\n\r\n&quot;spurious wakeups&quot; occur, also makes code unpredicatable.\r\n\r\n    // producer\r\n    give(element){\r\n      list.add(element)\r\n      lock.notify()\r\n    }\r\n    rollback(element){\r\n      list.remove(element)\r\n    }\r\n    \r\n    // business code \r\n    produce(element){\r\n       try{\r\n         give(element)\r\n       }catch(Exception e){\r\n         rollback(element) // or happen in another thread\r\n       }\r\n    }\r\n\r\n    // consumer\r\n    take(){\r\n      obj = null;\r\n      while(obj == null)\r\n        lock.wait()\r\n        obj = list.remove(0) // ignore error indexoutofrange\r\n      return obj\r\n    }\r\n\r\n[Reference of Chris Smith](http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html)\r\n[Reference of insidevm](https://www.artima.com/insidejvm/ed2/threadsynch.html)\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>I think <code>wait</code> without <code>synchronized</code> can work good in some scenario. But it can't be used for complicated scenario without <strong>race condition</strong>, \"spurious wakeups\" might occur.</p>\n\n<p>Code works for the queue.</p>\n\n<pre><code>// producer\ngive(element){\n  list.add(element)\n  lock.notify()\n}\n\n// consumer\ntake(){\n  obj = null;\n  while(obj == null)\n    lock.wait()\n    obj = list.remove(0) // ignore error indexoutofrange\n  return obj\n}\n</code></pre>\n\n<p>This code haven't explain the state of shared data, it will ignore the last element and may not work in mutil-thread condition. Without race condition, this list in <code>1</code>, <code>2</code> may have totally different states.</p>\n\n<pre><code>// consumer\ntake(){\n  while(list.isEmpty()) // 1\n    lock.wait()\n  return list.remove(0) // 2\n}\n</code></pre>\n\n<p>And now, makes it a little more complicated and obvious. </p>\n\n<p>execution of instruction </p>\n\n<ul>\n<li><code>give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;take() list.remove(0)-&gt;rollback(element)</code></li>\n<li><code>give(element) lock.notify()-&gt;take() lock.wait() resurrected-&gt;rollback(element)-&gt;take() list.remove(0)</code></li>\n</ul>\n\n<p>\"spurious wakeups\" occur, also makes code unpredicatable.</p>\n\n<pre><code>// producer\ngive(element){\n  list.add(element)\n  lock.notify()\n}\nrollback(element){\n  list.remove(element)\n}\n\n// business code \nproduce(element){\n   try{\n     give(element)\n   }catch(Exception e){\n     rollback(element) // or happen in another thread\n   }\n}\n\n// consumer\ntake(){\n  obj = null;\n  while(obj == null)\n    lock.wait()\n    obj = list.remove(0) // ignore error indexoutofrange\n  return obj\n}\n</code></pre>\n\n<p><a href=\"http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-01/msg01130.html\" rel=\"nofollow noreferrer\">Reference of Chris Smith</a>\n<a href=\"https://www.artima.com/insidejvm/ed2/threadsynch.html\" rel=\"nofollow noreferrer\">Reference of insidevm</a></p>\n"}],"owner":{"account_id":102508,"reputation":2531,"user_id":275131,"accept_rate":62,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6350,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":7,"score":23,"last_activity_date":1671207389,"creation_date":1313024943,"question_id":7019745,"body_markdown":"in Java whenever we need to call wait/notify/notifyAll, we need to have access to object monitor (either through synchronized method or through synchronized block).  So my question is why java didn&#39;t go for synchronized wait/notify methods removing the restriction of calling these methods from synchronized block or methods.  \r\n\r\nIn case these are declared as synchronized, it would have automatically taken the monitor access. \r\n\r\n","title":"why wait/notify/notifyAll methods are not synchronized in java ?","body":"<p>in Java whenever we need to call wait/notify/notifyAll, we need to have access to object monitor (either through synchronized method or through synchronized block).  So my question is why java didn't go for synchronized wait/notify methods removing the restriction of calling these methods from synchronized block or methods.  </p>\n\n<p>In case these are declared as synchronized, it would have automatically taken the monitor access. </p>\n"},{"tags":["java","smtp","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":20648,"reputation":3330,"user_id":49553,"accept_rate":83,"display_name":"Tim Jansen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295457194,"creation_date":1295457194,"answer_id":4738388,"question_id":4738348,"body_markdown":"While there is a [SMTP URL Scheme][1], I have never seen anyone use it. In practice, most applications provide four separate fields for host, port, user name and password. But if you really need to put those four components into a single string, the example you provided is probably the best-known format for something like this.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>While there is a <a href=\"https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00\" rel=\"nofollow noreferrer\">SMTP URL Scheme</a>, I have never seen anyone use it. In practice, most applications provide four separate fields for host, port, user name and password. But if you really need to put those four components into a single string, the example you provided is probably the best-known format for something like this.</p>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1295457709,"creation_date":1295457709,"answer_id":4738474,"question_id":4738348,"body_markdown":"Using an URI for specifying a network resource, such as an SMTP server is probably the cloeset thing to a &quot;accepted&quot; format you&#39;d see, an SMTP URI, would be something like smtp://user:host@example.com:port or perhaps just smtp://example.com . You&#39;d use a generic URI parsing library to extract the various components.\r\n\r\nThere&#39;s also an _old_ RFC draft for [SMTP URL][1]s\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>Using an URI for specifying a network resource, such as an SMTP server is probably the cloeset thing to a &quot;accepted&quot; format you'd see, an SMTP URI, would be something like smtp://user:host@example.com:port or perhaps just smtp://example.com . You'd use a generic URI parsing library to extract the various components.</p>\n<p>There's also an <em>old</em> RFC draft for <a href=\"https://datatracker.ietf.org/doc/html/draft-earhart-url-smtp-00\" rel=\"nofollow noreferrer\">SMTP URL</a>s</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295460198,"creation_date":1295460198,"answer_id":4738905,"question_id":4738348,"body_markdown":"I think that would work. \r\n\r\nI would like to add as answer, how I&#39;m using java.net.URI class get information from that URI.\r\n\r\n\r\n    class Demo { \r\n      public static void main( String ... args ) throws Exception  { \r\n        System.out.println( inspect( new URI(&quot;smtp://user:port@host:25&quot;)));\r\n      }\r\n      // invoke all the getXyz methods on object and construct \r\n      // a string with the result. \r\n      private static String inspect( Object o ) throws Exception  { \r\n        StringBuilder builder = new StringBuilder();\r\n        for( Method m : o.getClass().getMethods() ) { \r\n          String name = m.getName();\r\n          if( name.startsWith(&quot;get&quot;)) { \r\n            builder.append( name )\r\n            .append(&quot; = &quot; )\r\n            .append( m.invoke( o ) )\r\n            .append( &quot;\\n&quot; );\r\n          }\r\n        }\r\n        return builder.toString();\r\n      }\r\n    }\r\n\r\nOutput \r\n\r\n    getAuthority = user:port@host:25\r\n    getFragment = null\r\n    getPath =\r\n    getQuery = null\r\n    getScheme = smtp\r\n    getHost = host\r\n    getPort = 25\r\n    getUserInfo = user:port\r\n    getRawAuthority = user:port@host:25\r\n    getRawFragment = null\r\n    getRawPath =\r\n    getRawQuery = null\r\n    getRawSchemeSpecificPart = //user:port@host:25\r\n    getRawUserInfo = user:port\r\n    getSchemeSpecificPart = //user:port@host:25\r\n    getClass = class java.net.URI\r\n\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>I think that would work. </p>\n\n<p>I would like to add as answer, how I'm using java.net.URI class get information from that URI.</p>\n\n<pre><code>class Demo { \n  public static void main( String ... args ) throws Exception  { \n    System.out.println( inspect( new URI(\"smtp://user:port@host:25\")));\n  }\n  // invoke all the getXyz methods on object and construct \n  // a string with the result. \n  private static String inspect( Object o ) throws Exception  { \n    StringBuilder builder = new StringBuilder();\n    for( Method m : o.getClass().getMethods() ) { \n      String name = m.getName();\n      if( name.startsWith(\"get\")) { \n        builder.append( name )\n        .append(\" = \" )\n        .append( m.invoke( o ) )\n        .append( \"\\n\" );\n      }\n    }\n    return builder.toString();\n  }\n}\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>getAuthority = user:port@host:25\ngetFragment = null\ngetPath =\ngetQuery = null\ngetScheme = smtp\ngetHost = host\ngetPort = 25\ngetUserInfo = user:port\ngetRawAuthority = user:port@host:25\ngetRawFragment = null\ngetRawPath =\ngetRawQuery = null\ngetRawSchemeSpecificPart = //user:port@host:25\ngetRawUserInfo = user:port\ngetSchemeSpecificPart = //user:port@host:25\ngetClass = class java.net.URI\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27274366,"reputation":1,"user_id":20795228,"display_name":"Legacy Gaming27"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671207298,"creation_date":1671207298,"answer_id":74827085,"question_id":4738348,"body_markdown":"Was configuring node app and had a hard time getting it.\r\n\r\nsmtp://username:password@smtphost:port\r\n\r\nThe funny part was my password was having an &#39;@&#39; so it was presuming the hostname has started. \r\nThe username also had an &#39;@&#39; server but it was good as it was separated by the colon &quot;:&quot;\r\n\r\nHope this helps.\r\nCheers\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>Was configuring node app and had a hard time getting it.</p>\n<p>smtp://username:password@smtphost:port</p>\n<p>The funny part was my password was having an '@' so it was presuming the hostname has started.\nThe username also had an '@' server but it was good as it was separated by the colon &quot;:&quot;</p>\n<p>Hope this helps.\nCheers</p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4738474,"answer_count":4,"score":4,"last_activity_date":1671207298,"creation_date":1295456984,"question_id":4738348,"body_markdown":"I&#39;ve seen things like:\r\n\r\n    user:password@smtpserver:port\r\n\r\n\r\nIn the past, but I&#39;m not sure if the some library parsed that to build a properties to create a session or is there some sort of accepted format.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there an accepted syntax for SMTP server? (and how to parse it)","body":"<p>I've seen things like:</p>\n\n<pre><code>user:password@smtpserver:port\n</code></pre>\n\n<p>In the past, but I'm not sure if the some library parsed that to build a properties to create a session or is there some sort of accepted format.</p>\n"},{"tags":["java","jpanel"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671207340,"post_id":74827055,"comment_id":132056513,"body_markdown":"Try calling g.setColor before g.fillRect","body":"Try calling g.setColor before g.fillRect"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671209358,"post_id":74827055,"comment_id":132057192,"body_markdown":"I recommend always to use the `@Override` annotation to annotate a method intended to override another method - in this code `PaintComponent()` is never being called, it should start with a lowercase letter (as is convention for methods in Java) and be `public` - if you had annotated it with `@Override`, the compiler would have given your an error","body":"I recommend always to use the <code>@Override</code> annotation to annotate a method intended to override another method - in this code <code>PaintComponent()</code> is never being called, it should start with a lowercase letter (as is convention for methods in Java) and be <code>public</code> - if you had annotated it with <code>@Override</code>, the compiler would have given your an error"},{"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"score":0,"creation_date":1671211844,"post_id":74827055,"comment_id":132057903,"body_markdown":"@ControlAltDel I tried that and it didn&#39;t work but thank you for the suggestion :)","body":"@ControlAltDel I tried that and it didn&#39;t work but thank you for the suggestion :)"},{"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"score":0,"creation_date":1671212139,"post_id":74827055,"comment_id":132058008,"body_markdown":"@user16320675 thank you I changed paint component methods first letter to lower case and it worked :)","body":"@user16320675 thank you I changed paint component methods first letter to lower case and it worked :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671297605,"post_id":74827055,"comment_id":132071169,"body_markdown":"Do yourself a favour - *always* use `@Override` then that sort of thing will never happen again","body":"Do yourself a favour - <i>always</i> use <code>@Override</code> then that sort of thing will never happen again"}],"owner":{"account_id":27133904,"reputation":1,"user_id":20675712,"display_name":"goldern"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671207154,"creation_date":1671207154,"question_id":74827055,"body_markdown":"so I&#39;m trying to display a png image on a JPanel and the frame runs fine and its the size I want and everything but it doesn&#39;t display the image, I don&#39;t think its the image im using because I used the same method to display it on another project and it showed up fine. I&#39;ve also tried to see if g.fillRect(); works and that doesn&#39;t show up either so is it a problem with my panel not showing up?\r\n\r\n\r\n```\r\npackage main;\r\nimport java.io.InputStream;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class GamePanel extends JPanel{\r\n\r\n\tprivate BufferedImage img, subImg;\r\n\tprivate float xDelta = 0, yDelta = 0;\r\n\t\r\n\tpublic GamePanel() {\r\n\t\timportImg();\r\n\t\tsetPanelSize();\r\n\t}\r\n\t\r\n\tpublic void importImg() {\r\n\t\tInputStream is = getClass().getResourceAsStream(&quot;/TetrisBlocksTextureAtlas.png&quot;);\r\n\t\ttry {\r\n\t\timg = ImageIO.read(is);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setPanelSize() {\r\n\t\tDimension size = new Dimension(200, 400);\r\n\t\tsetPreferredSize(size);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t void PaintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\t\r\n\t\tg.fillRect(0, 0, 50, 50);\r\n\t\tg.drawImage(img, 0, 0, null);\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\n","title":"why does png image not show up in JPanel in java using g.drawImage()?","body":"<p>so I'm trying to display a png image on a JPanel and the frame runs fine and its the size I want and everything but it doesn't display the image, I don't think its the image im using because I used the same method to display it on another project and it showed up fine. I've also tried to see if g.fillRect(); works and that doesn't show up either so is it a problem with my panel not showing up?</p>\n<pre><code>package main;\nimport java.io.InputStream;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\n\npublic class GamePanel extends JPanel{\n\n    private BufferedImage img, subImg;\n    private float xDelta = 0, yDelta = 0;\n    \n    public GamePanel() {\n        importImg();\n        setPanelSize();\n    }\n    \n    public void importImg() {\n        InputStream is = getClass().getResourceAsStream(&quot;/TetrisBlocksTextureAtlas.png&quot;);\n        try {\n        img = ImageIO.read(is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void setPanelSize() {\n        Dimension size = new Dimension(200, 400);\n        setPreferredSize(size);\n    }\n    \n    \n    \n     void PaintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        \n        g.fillRect(0, 0, 50, 50);\n        g.drawImage(img, 0, 0, null);\n        \n        \n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing","jpanel","paintcomponent","repaint"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671206430,"post_id":74825903,"comment_id":132056209,"body_markdown":"note: you _must not_ change a component off the EDT! It&#39;s not entirely clear whether you do (repaint is safe), but if updateBoard changes the ui in any other way you might be in trouble. Also: don&#39;t swallow exceptions, instead handle or at the very least print its stacktrace to be able to get a hint of what&#39;s wrong.","body":"note: you <i>must not</i> change a component off the EDT! It&#39;s not entirely clear whether you do (repaint is safe), but if updateBoard changes the ui in any other way you might be in trouble. Also: don&#39;t swallow exceptions, instead handle or at the very least print its stacktrace to be able to get a hint of what&#39;s wrong."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671206716,"post_id":74825903,"comment_id":132056297,"body_markdown":"as to your problem: [mcve] please ..","body":"as to your problem: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671209385,"post_id":74825903,"comment_id":132057202,"body_markdown":"Components need to be added to the frame BEFORE the frame is made visible. Otherwise, the layout manager is not invoked and the component has a size of (0, 0) so there is nothing to paint.","body":"Components need to be added to the frame BEFORE the frame is made visible. Otherwise, the layout manager is not invoked and the component has a size of (0, 0) so there is nothing to paint."},{"owner":{"account_id":26693086,"reputation":1,"user_id":20301373,"display_name":"Rotem Hanoch"},"score":0,"creation_date":1671375398,"post_id":74825903,"comment_id":132081799,"body_markdown":"thank you the problem solved, I didn&#39;t notice I forgot to increase size.","body":"thank you the problem solved, I didn&#39;t notice I forgot to increase size."}],"owner":{"account_id":26693086,"reputation":1,"user_id":20301373,"display_name":"Rotem Hanoch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671206728,"creation_date":1671201433,"question_id":74825903,"body_markdown":"this code is part of client. the part of getting information from the server is working, but it&#39;s not calling to repaint function (line 6).\r\n\r\n\r\n```\r\npublic class Client extends JPanel implements Runnable{\r\n\r\n\r\npublic Client() throws IOException{  \r\n        f = new JFrame(&quot;Bad Ice Cream by - Rotem Hanoch&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setSize(this.width,this.height);\r\n        f.setResizable(false);\r\n        f.setFocusable(false);\r\n        f.setVisible(true);\r\n        initBoard();\r\n        f.add(this);\r\n    }\r\n\r\n    public void run(){\r\n        while(true){\r\n            try {\r\n                Board.Type mat[][] = (Board.Type[][]) this.objectInputStream.readObject();\r\n                updateBoard(mat);\r\n                this.repaint();\r\n            } catch (IOException ex) {} catch (ClassNotFoundException ex) {}\r\n        }\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to figure out why it doesn&#39;t work because it doesn&#39;t recognize the function. I expect it to print me a message so I know it has reached the function.","title":"Why repaint doesn&#39;t call to paintComponent function?","body":"<p>this code is part of client. the part of getting information from the server is working, but it's not calling to repaint function (line 6).</p>\n<pre><code>public class Client extends JPanel implements Runnable{\n\n\npublic Client() throws IOException{  \n        f = new JFrame(&quot;Bad Ice Cream by - Rotem Hanoch&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(this.width,this.height);\n        f.setResizable(false);\n        f.setFocusable(false);\n        f.setVisible(true);\n        initBoard();\n        f.add(this);\n    }\n\n    public void run(){\n        while(true){\n            try {\n                Board.Type mat[][] = (Board.Type[][]) this.objectInputStream.readObject();\n                updateBoard(mat);\n                this.repaint();\n            } catch (IOException ex) {} catch (ClassNotFoundException ex) {}\n        }\n    }\n\n    public void paintComponent(Graphics g){\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>I tried to figure out why it doesn't work because it doesn't recognize the function. I expect it to print me a message so I know it has reached the function.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","entitymanager"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671189043,"post_id":74822979,"comment_id":132050291,"body_markdown":"Does anybody else have ever used Hibernate and update parent_id field?","body":"Does anybody else have ever used Hibernate and update parent_id field?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671191421,"post_id":74822979,"comment_id":132051056,"body_markdown":"you should have a categoryId field (and the corresponding public setter) in your Recipe class (it looks that your db table Recipe already has a category_id column,  referenced by the JoinColumn annotation)","body":"you should have a categoryId field (and the corresponding public setter) in your Recipe class (it looks that your db table Recipe already has a category_id column,  referenced by the JoinColumn annotation)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671198339,"post_id":74822979,"comment_id":132053292,"body_markdown":"@dsp_user I also think of it, but is there a more elegant way? Because it is not meaningful to add an extra field just for setting. Any idea?","body":"@dsp_user I also think of it, but is there a more elegant way? Because it is not meaningful to add an extra field just for setting. Any idea?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671200020,"post_id":74822979,"comment_id":132053915,"body_markdown":"I think it makes sense to add it because you have to set that column in your database when you&#39;re adding a new Recipe. Otherwise, you have to set category field and you certainly don&#39;t need the category field set when just inserting/adding new Recipes.","body":"I think it makes sense to add it because you have to set that column in your database when you&#39;re adding a new Recipe. Otherwise, you have to set category field and you certainly don&#39;t need the category field set when just inserting/adding new Recipes."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1671201834,"post_id":74822979,"comment_id":132054607,"body_markdown":"I am wondering what Hibernate users would do for this kind of scenarios. Do they retrieve the related parent record from db or do they add a new column for parentId ? Any idea?","body":"I am wondering what Hibernate users would do for this kind of scenarios. Do they retrieve the related parent record from db or do they add a new column for parentId ? Any idea?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671202624,"post_id":74822979,"comment_id":132054901,"body_markdown":"Hibernate users? I&#39;m sure you&#39;ll get all kinds of views from them as well.","body":"Hibernate users? I&#39;m sure you&#39;ll get all kinds of views from them as well."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1671203056,"post_id":74822979,"comment_id":132055046,"body_markdown":"But imagine a scenario where you have to add thousands of Recipes at once. What would be more efficient?","body":"But imagine a scenario where you have to add thousands of Recipes at once. What would be more efficient?"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671195322,"creation_date":1671194952,"answer_id":74824683,"question_id":74822979,"body_markdown":"If your repository implements `org.springframework.data.jpa.repository.JpaRepository` you may take advantage of using `JpaRepository#getReferenceById` method, in that case Hibernate instead of querying DB for data will return proxy object. However, such implementation may cause issues in some cases, for example:\r\n\r\n```java\r\n// this call typically returns entity\r\n// or null if entity wasn&#39;t found\r\nrepository.findById(id);\r\n```\r\n\r\nbut:\r\n\r\n```java\r\n// this call returns proxy object\r\nrepository.getReferenceById(id);\r\n\r\n// now instead of returning entity\r\n// repository either returns initialized proxy \r\n// object or throws EntityNotFoundException\r\n// if entity wasn&#39;t found\r\nrepository.findById(id);\r\n```","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>If your repository implements <code>org.springframework.data.jpa.repository.JpaRepository</code> you may take advantage of using <code>JpaRepository#getReferenceById</code> method, in that case Hibernate instead of querying DB for data will return proxy object. However, such implementation may cause issues in some cases, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this call typically returns entity\n// or null if entity wasn't found\nrepository.findById(id);\n</code></pre>\n<p>but:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this call returns proxy object\nrepository.getReferenceById(id);\n\n// now instead of returning entity\n// repository either returns initialized proxy \n// object or throws EntityNotFoundException\n// if entity wasn't found\nrepository.findById(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671205999,"creation_date":1671205999,"answer_id":74826819,"question_id":74822979,"body_markdown":"I would just add a categoryId field along with the corresponding getter and settter methods to the Recipe class. \r\n\r\n    @Entity\r\n    public class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n     @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n     @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\r\n     private Category category;\r\n    \r\n    @Column(name = &quot;category_id&quot;, nullable = false)\r\n    private Integer categoryId;\r\n\r\n    // getters/setters\r\n\r\n     }\r\n\r\n\r\nHaving a categoryId field means that when we don&#39;t have to create an instance of Category when adding new Recipes. Sure, Recipe.category will be null but that&#39;s ok if we&#39;re just adding new Recipes. This approach could also prove beneficial if we later decide that we need to add many Recipes simultaneously.","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>I would just add a categoryId field along with the corresponding getter and settter methods to the Recipe class.</p>\n<pre><code>@Entity\npublic class Recipe {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false, length = 50)\nprivate String title;\n\n @ManyToOne(optional = true, fetch = FetchType.LAZY)\n @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\n private Category category;\n\n@Column(name = &quot;category_id&quot;, nullable = false)\nprivate Integer categoryId;\n\n// getters/setters\n\n }\n</code></pre>\n<p>Having a categoryId field means that when we don't have to create an instance of Category when adding new Recipes. Sure, Recipe.category will be null but that's ok if we're just adding new Recipes. This approach could also prove beneficial if we later decide that we need to add many Recipes simultaneously.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74826819,"answer_count":2,"score":1,"last_activity_date":1671205999,"creation_date":1671185478,"question_id":74822979,"body_markdown":"In a Spring Boot app, I have the following entities that have one-to-many relationship (Category is the parent of Recipe):\r\n\r\n```\r\n@Entity\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 50)\r\n    private String title;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Category category;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false, length = 50)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Recipe&gt; recipes = new HashSet&lt;&gt;();\r\n\r\n    public void addRecipe(Recipe recipe) {\r\n        recipes.add(recipe);\r\n        recipe.setCategory(this);\r\n    }\r\n\r\n    public void removeRecipe(Recipe recipe) {\r\n        recipes.remove(recipe);\r\n        recipe.setCategory(null);\r\n    }\r\n}\r\n```\r\n\r\nWhen I create a Recipe, I send `categoryId` that is selected from Dropdown list and create Recipe by retrieving and adding category to the recipe as shown below:\r\n\r\n```\r\n@Transactional\r\npublic void update(RecipeRequest request) {\r\n    final Category category = categoryRepository.findById(request.getCategoryId())\r\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND_CATEGORY));\r\n\r\n    /* instead of retrieving category, I want to set the categoryId field of Recipe, \r\n       but there is not such kind of setter */\r\n    recipe.setCategoryId(request.getCategoryId());\r\n    \r\n    recipe.setTitle(capitalizeFully(request.getTitle()));\r\n    recipe.setCategory(category);\r\n    \r\n    recipeRepository.save(recipe);\r\n}\r\n```\r\n\r\nInstead of retrieving category, I want to set the categoryId field of Recipe, but there is not such kind of setter:\r\n\r\n```\r\nrecipe.setCategoryId(request.getCategoryId());\r\n```\r\n\r\nSo, what is the most proper way for just setting the categoryId of the recipe and then saving it without requiring the category from db? Do I need a setter for categoryId field to the Recipe (I thought it, but does not seem elegant way)?","title":"Hibernate: How to update parent_id field without retrieving parent from db?","body":"<p>In a Spring Boot app, I have the following entities that have one-to-many relationship (Category is the parent of Recipe):</p>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 50)\n    private String title;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Category category;\n}\n</code></pre>\n<pre><code>@Entity\npublic class Category {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Recipe&gt; recipes = new HashSet&lt;&gt;();\n\n    public void addRecipe(Recipe recipe) {\n        recipes.add(recipe);\n        recipe.setCategory(this);\n    }\n\n    public void removeRecipe(Recipe recipe) {\n        recipes.remove(recipe);\n        recipe.setCategory(null);\n    }\n}\n</code></pre>\n<p>When I create a Recipe, I send <code>categoryId</code> that is selected from Dropdown list and create Recipe by retrieving and adding category to the recipe as shown below:</p>\n<pre><code>@Transactional\npublic void update(RecipeRequest request) {\n    final Category category = categoryRepository.findById(request.getCategoryId())\n            .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND_CATEGORY));\n\n    /* instead of retrieving category, I want to set the categoryId field of Recipe, \n       but there is not such kind of setter */\n    recipe.setCategoryId(request.getCategoryId());\n    \n    recipe.setTitle(capitalizeFully(request.getTitle()));\n    recipe.setCategory(category);\n    \n    recipeRepository.save(recipe);\n}\n</code></pre>\n<p>Instead of retrieving category, I want to set the categoryId field of Recipe, but there is not such kind of setter:</p>\n<pre><code>recipe.setCategoryId(request.getCategoryId());\n</code></pre>\n<p>So, what is the most proper way for just setting the categoryId of the recipe and then saving it without requiring the category from db? Do I need a setter for categoryId field to the Recipe (I thought it, but does not seem elegant way)?</p>\n"},{"tags":["java","aws-lambda","activemq","spring-jms","amazon-mq"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671201971,"post_id":74825863,"comment_id":132054661,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6958899,"reputation":325,"user_id":5339049,"display_name":"Altay Akkus"},"score":0,"creation_date":1671203971,"post_id":74825863,"comment_id":132055346,"body_markdown":"Are the 200ms end to end, from executing your lambda function (manually?) to the message being published? Because then you could look into preventing cold starts, making your function and dependencies smaller so Lambda can spin it up faster et cetera.","body":"Are the 200ms end to end, from executing your lambda function (manually?) to the message being published? Because then you could look into preventing cold starts, making your function and dependencies smaller so Lambda can spin it up faster et cetera."},{"owner":{"account_id":18537767,"reputation":126,"user_id":13507049,"display_name":"Vaibhav"},"score":0,"creation_date":1671207069,"post_id":74825863,"comment_id":132056415,"body_markdown":"@AltayAkkus no. The lambda function is already initialized. The 200 ms is the time difference when I invoke the method which has the logic to publish the message to mq.","body":"@AltayAkkus no. The lambda function is already initialized. The 200 ms is the time difference when I invoke the method which has the logic to publish the message to mq."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673062441,"post_id":74825863,"comment_id":132419420,"body_markdown":"Any feedback here? Did you get this sorted?","body":"Any feedback here? Did you get this sorted?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671205866,"creation_date":1671205866,"answer_id":74826785,"question_id":74825863,"body_markdown":"This is a well-known issue with Spring&#39;s JmsTemplate. It&#39;s documented in both [ActiveMQ][1] and in [Spring&#39;s JmsTemplate JavaDoc][2] which states:\r\n\r\n&gt; **NOTE: The ConnectionFactory used with this template should return pooled Connections (or a single shared Connection) as well as pooled Sessions and MessageProducers. Otherwise, performance of ad-hoc JMS operations is going to suffer.**\r\n\r\nPlease ensure you&#39;re using a connection pool with Spring JmsTemplate otherwise it&#39;s going to create a new connection, session, &amp; producer *every* time it sends a message which is a massive waste of resources.\r\n\r\n\r\n  [1]: https://activemq.apache.org/jmstemplate-gotchas\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\r\n","title":"How to Improve Performance of Lambda Function which Connects to Amazon MQ","body":"<p>This is a well-known issue with Spring's JmsTemplate. It's documented in both <a href=\"https://activemq.apache.org/jmstemplate-gotchas\" rel=\"nofollow noreferrer\">ActiveMQ</a> and in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html\" rel=\"nofollow noreferrer\">Spring's JmsTemplate JavaDoc</a> which states:</p>\n<blockquote>\n<p><strong>NOTE: The ConnectionFactory used with this template should return pooled Connections (or a single shared Connection) as well as pooled Sessions and MessageProducers. Otherwise, performance of ad-hoc JMS operations is going to suffer.</strong></p>\n</blockquote>\n<p>Please ensure you're using a connection pool with Spring JmsTemplate otherwise it's going to create a new connection, session, &amp; producer <em>every</em> time it sends a message which is a massive waste of resources.</p>\n"}],"owner":{"account_id":18537767,"reputation":126,"user_id":13507049,"display_name":"Vaibhav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671205950,"creation_date":1671201239,"question_id":74825863,"body_markdown":"Context: I have an AWS lambda function which is trying to publish messages to Amazon MQ after all the functionality of function is completed. The lambda function is build on Spring Boot. For the JMS connectivity I have used the Spring JmsTemplate.\r\n\r\nProblem: Since the bean required for connectivity are already handled by Spring&#39;s JmsTemplate at initialization I expected the time taken to publish message to the queue would be less but I observe the time taken to publish a message is over 200ms.\r\n\r\nQuestion 1: How can I reduce the time taken to publish message to MQ?\r\nQuestion 2: Should I remove JMS template and manually manage the connection to MQ?\r\n\r\nSince spring JMS template is a singleton bean I expected to see the lambda function use less time publishing the messages during subsequent invocation but it was not the case. The publishing time remained same across all the lambda function invocation. ","title":"How to Improve Performance of Lambda Function which Connects to Amazon MQ","body":"<p>Context: I have an AWS lambda function which is trying to publish messages to Amazon MQ after all the functionality of function is completed. The lambda function is build on Spring Boot. For the JMS connectivity I have used the Spring JmsTemplate.</p>\n<p>Problem: Since the bean required for connectivity are already handled by Spring's JmsTemplate at initialization I expected the time taken to publish message to the queue would be less but I observe the time taken to publish a message is over 200ms.</p>\n<p>Question 1: How can I reduce the time taken to publish message to MQ?\nQuestion 2: Should I remove JMS template and manually manage the connection to MQ?</p>\n<p>Since spring JMS template is a singleton bean I expected to see the lambda function use less time publishing the messages during subsequent invocation but it was not the case. The publishing time remained same across all the lambda function invocation.</p>\n"},{"tags":["java","android","swipe"],"comments":[{"owner":{"account_id":4118202,"reputation":1760,"user_id":3379262,"accept_rate":52,"display_name":"BSK-Team"},"score":0,"creation_date":1395742267,"post_id":22631258,"comment_id":34464694,"body_markdown":"You can use the ScrollView","body":"You can use the ScrollView"},{"owner":{"account_id":3445551,"reputation":86,"user_id":2886457,"accept_rate":71,"display_name":"Kevin"},"score":0,"creation_date":1395742509,"post_id":22631258,"comment_id":34464863,"body_markdown":"The XML file that contains the birthday&#39;s is coming from a database, is it possible to use scrollview then?","body":"The XML file that contains the birthday&#39;s is coming from a database, is it possible to use scrollview then?"}],"answers":[{"tags":[],"owner":{"account_id":4118202,"reputation":1760,"user_id":3379262,"accept_rate":52,"display_name":"BSK-Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395742993,"creation_date":1395742993,"answer_id":22631589,"question_id":22631258,"body_markdown":"In your xml :\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;240dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:fillViewport=&quot;true&quot; &gt;\r\n    \r\n        &lt;--! Your xml --&gt;\r\n    \r\n    &lt;/ScrollView&gt;\r\n\r\n","title":"How can I swipe horizontal left and right with android","body":"<p>In your xml :</p>\n\n<pre><code>&lt;ScrollView\n    android:layout_width=\"240dp\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"\n    android:fillViewport=\"true\" &gt;\n\n    &lt;--! Your xml --&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918139,"reputation":51,"user_id":9341603,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671205835,"creation_date":1671205835,"answer_id":74826779,"question_id":22631258,"body_markdown":"I know this is very late reply but it may helps to someone.\r\nPlease check updated code below.\r\n\r\n    public boolean onTouchEvent(MotionEvent event)\r\n     {     \r\n         switch(event.getAction())\r\n         {\r\n           case MotionEvent.ACTION_DOWN:\r\n               x1 = event.getX();                         \r\n           break;         \r\n           case MotionEvent.ACTION_UP:\r\n               x2 = event.getX();\r\n               float deltaX = x2 - x1;\r\n               if (Math.abs(deltaX) &gt; MIN_DISTANCE)\r\n               {\r\n                 if (deltaX &gt; 0) {\r\n                    month++; \r\n                    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n                    theCursor = dbh.getDiaries(month);\r\n                    adapter = new MyCursorAdapter(this, theCursor);\r\n                    this.setListAdapter(adapter);\r\n                 } else {\r\n                    month--; \r\n                    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n                    theCursor = dbh.getDiaries(month);\r\n                    adapter = new MyCursorAdapter(this, theCursor);\r\n                    this.setListAdapter(adapter);\r\n                 }\r\n               }                          \r\n           break;   \r\n         }           \r\n         return super.onTouchEvent(event);       \r\n     }","title":"How can I swipe horizontal left and right with android","body":"<p>I know this is very late reply but it may helps to someone.\nPlease check updated code below.</p>\n<pre><code>public boolean onTouchEvent(MotionEvent event)\n {     \n     switch(event.getAction())\n     {\n       case MotionEvent.ACTION_DOWN:\n           x1 = event.getX();                         \n       break;         \n       case MotionEvent.ACTION_UP:\n           x2 = event.getX();\n           float deltaX = x2 - x1;\n           if (Math.abs(deltaX) &gt; MIN_DISTANCE)\n           {\n             if (deltaX &gt; 0) {\n                month++; \n                Log.v(&quot;test&quot;, &quot;test&quot;);\n                theCursor = dbh.getDiaries(month);\n                adapter = new MyCursorAdapter(this, theCursor);\n                this.setListAdapter(adapter);\n             } else {\n                month--; \n                Log.v(&quot;test&quot;, &quot;test&quot;);\n                theCursor = dbh.getDiaries(month);\n                adapter = new MyCursorAdapter(this, theCursor);\n                this.setListAdapter(adapter);\n             }\n           }                          \n       break;   \n     }           \n     return super.onTouchEvent(event);       \n }\n</code></pre>\n"}],"owner":{"account_id":3445551,"reputation":86,"user_id":2886457,"accept_rate":71,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671205835,"creation_date":1395742090,"question_id":22631258,"body_markdown":"I&#39;m new to android and I am making a calendar application to practice. It&#39;s almost done but there&#39;s 1 thing I can&#39;t get to work. I would like to swipe horizontal from left to right to browse months. I&#39;ve been trying it with this piece of code:\r\n\r\n    public boolean onTouchEvent(MotionEvent event)\r\n    \t {     \r\n    \t     switch(event.getAction())\r\n    \t     {\r\n    \t       case MotionEvent.ACTION_DOWN:\r\n    \t           x1 = event.getX();                         \r\n    \t       break;         \r\n    \t       case MotionEvent.ACTION_UP:\r\n    \t           x2 = event.getX();\r\n    \t           float deltaX = x2 - x1;\r\n    \t           if (Math.abs(deltaX) &gt; MIN_DISTANCE)\r\n    \t           {\r\n    \t        \t    month++; \r\n    \t        \t    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n    \t        \t    theCursor = dbh.getDiaries(month);\r\n    \t\t       \t\tadapter = new MyCursorAdapter(this, theCursor);\r\n    \t\t       \t\tthis.setListAdapter(adapter);\r\n    \t           }\r\n    \t           else\r\n    \t           {\r\n    \t        \t    month--; \r\n    \t        \t    Log.v(&quot;test&quot;, &quot;test&quot;);\r\n    \t        \t    theCursor = dbh.getDiaries(month);\r\n    \t\t       \t\tadapter = new MyCursorAdapter(this, theCursor);\r\n    \t\t       \t\tthis.setListAdapter(adapter);\r\n    \t           }                          \r\n    \t       break;   \r\n    \t     }           \r\n    \t     return super.onTouchEvent(event);       \r\n    \t }\r\n\r\nThis only swipes from top to bottom and not back, can someone help me fix this code so I can swipe from left to right and back?\r\n\r\nThanks!","title":"How can I swipe horizontal left and right with android","body":"<p>I'm new to android and I am making a calendar application to practice. It's almost done but there's 1 thing I can't get to work. I would like to swipe horizontal from left to right to browse months. I've been trying it with this piece of code:</p>\n\n<pre><code>public boolean onTouchEvent(MotionEvent event)\n     {     \n         switch(event.getAction())\n         {\n           case MotionEvent.ACTION_DOWN:\n               x1 = event.getX();                         \n           break;         \n           case MotionEvent.ACTION_UP:\n               x2 = event.getX();\n               float deltaX = x2 - x1;\n               if (Math.abs(deltaX) &gt; MIN_DISTANCE)\n               {\n                    month++; \n                    Log.v(\"test\", \"test\");\n                    theCursor = dbh.getDiaries(month);\n                    adapter = new MyCursorAdapter(this, theCursor);\n                    this.setListAdapter(adapter);\n               }\n               else\n               {\n                    month--; \n                    Log.v(\"test\", \"test\");\n                    theCursor = dbh.getDiaries(month);\n                    adapter = new MyCursorAdapter(this, theCursor);\n                    this.setListAdapter(adapter);\n               }                          \n           break;   \n         }           \n         return super.onTouchEvent(event);       \n     }\n</code></pre>\n\n<p>This only swipes from top to bottom and not back, can someone help me fix this code so I can swipe from left to right and back?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1343170864,"creation_date":1343170864,"answer_id":11640528,"question_id":11640507,"body_markdown":"- An [array][1] is a fixed length collection of objects. e.g. `new int[5];`\r\n- An [`ArrayList`][2] is a variable length collection of objects. e.g. `new ArrayList&lt;Integer&gt;();`\r\n- The `...` in [variadic functions][3] is a part of a method signature denoting an array of parameters. e.g. `public void printLines(String... lines)`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n  [3]: http://en.wikipedia.org/wiki/Variadic_function","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<ul>\n<li>An <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">array</a> is a fixed length collection of objects. e.g. <code>new int[5];</code></li>\n<li>An <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> is a variable length collection of objects. e.g. <code>new ArrayList&lt;Integer&gt;();</code></li>\n<li>The <code>...</code> in <a href=\"http://en.wikipedia.org/wiki/Variadic_function\" rel=\"noreferrer\">variadic functions</a> is a part of a method signature denoting an array of parameters. e.g. <code>public void printLines(String... lines)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1343171029,"creation_date":1343171029,"answer_id":11640566,"question_id":11640507,"body_markdown":"The three dots can only be used in a method argument, and are called &#39;varargs&#39;. It means you can pass in an array of parameters without explicitly creating the array.\r\n\r\n`private void method(String[] args) {}` is called like `method(new String[]{&quot;first&quot;, &quot;second&quot;});`\r\n\r\n`private void method(String... args) {}` is called like `method(&quot;first&quot;, &quot;second&quot;);`","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>The three dots can only be used in a method argument, and are called 'varargs'. It means you can pass in an array of parameters without explicitly creating the array.</p>\n\n<p><code>private void method(String[] args) {}</code> is called like <code>method(new String[]{\"first\", \"second\"});</code></p>\n\n<p><code>private void method(String... args) {}</code> is called like <code>method(\"first\", \"second\");</code></p>\n"},{"tags":[],"owner":{"account_id":7646618,"reputation":505,"user_id":5797056,"display_name":"Aliaksandr Dvoineu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548618451,"creation_date":1548618451,"answer_id":54392224,"question_id":11640507,"body_markdown":"In other words, method(String...) means passing a variable number of parameters to the method.","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>In other words, method(String...) means passing a variable number of parameters to the method.</p>\n"}],"owner":{"account_id":1686975,"reputation":812,"user_id":1550048,"display_name":"user1550048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58813,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":11640566,"answer_count":3,"score":71,"last_activity_date":1671205698,"creation_date":1343170698,"question_id":11640507,"body_markdown":"Need to figure out what is the difference between `...` and arrays in JAVA, also an array list.\r\n\r\nIt seems we can use both as unlimited, but `...` is rarely used.\r\n\r\nReally appreciate any help you can.","title":"Difference between Arrays and 3 dots (Varargs) in java","body":"<p>Need to figure out what is the difference between <code>...</code> and arrays in JAVA, also an array list.</p>\n<p>It seems we can use both as unlimited, but <code>...</code> is rarely used.</p>\n<p>Really appreciate any help you can.</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":0,"creation_date":1619022461,"post_id":67199768,"comment_id":118781188,"body_markdown":"With the spring-boot-starter-validation, like described at this post: https://www.baeldung.com/spring-boot-bean-validation I see no reason for this to not work.","body":"With the spring-boot-starter-validation, like described at this post: <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-bean-validation</a> I see no reason for this to not work."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1619024195,"post_id":67199768,"comment_id":118781944,"body_markdown":"give us some concrete examples of what non valid values have passed without failing","body":"give us some concrete examples of what non valid values have passed without failing"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1619024473,"post_id":67199768,"comment_id":118782018,"body_markdown":"`@Size(min = 2)` does not mean it can not be null. In that case you also want another annotation `@NotNull `","body":"<code>@Size(min = 2)</code> does not mean it can not be null. In that case you also want another annotation <code>@NotNull </code>"},{"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"score":0,"creation_date":1619065811,"post_id":67199768,"comment_id":118793439,"body_markdown":"@Boug : I have added @NotNull and @Size(min=2), and when I am passing ```{\n&quot;name&quot;: &quot;b&quot;,\n&quot;city&quot;: &quot;A&quot; \n}``` it still got 201 created.","body":"@Boug : I have added @NotNull and @Size(min=2), and when I am passing <code>{ &quot;name&quot;: &quot;b&quot;, &quot;city&quot;: &quot;A&quot;  }</code> it still got 201 created."}],"answers":[{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619024730,"creation_date":1619024730,"answer_id":67200403,"question_id":67199768,"body_markdown":"You need to inject the BindingResult object as the param immediately following your form object and then manually check if there were any errors.\r\n\r\nSee https://spring.io/guides/gs/validating-form-input/ Create a Web Controller for a good example of how this should be done in your controller.","title":"@Valid Not working @PostMapping spring boot","body":"<p>You need to inject the BindingResult object as the param immediately following your form object and then manually check if there were any errors.</p>\n<p>See <a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/validating-form-input/</a> Create a Web Controller for a good example of how this should be done in your controller.</p>\n"},{"tags":[],"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671205688,"creation_date":1619024820,"answer_id":67200429,"question_id":67199768,"body_markdown":"I created a Test Application reproducing the state of your code. As stated under the comments, the code you provided should definitely work. You definitely **don&#39;t** neet to provide a `BindingResult` to the method. Spring Boot throws a [MethodArgumentNotValidException](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html) and therefore returns a bad request http status if the validation fails.\r\n\r\nI created a project with following content:\r\n\r\npom.xml\r\n\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nDemoEntity:\r\n\r\n    public class DemoEntity {\r\n        @NotNull\r\n        public String name;\r\n        @Size(min = 3)\r\n        public String greeting;\r\n    }\r\n\r\nDemoController:\r\n\r\n    @Controller\r\n    public class DemoController {\r\n        @PostMapping(&quot;/post&quot;)\r\n        public ResponseEntity&lt;DemoEntity&gt; put(@Valid @RequestBody DemoEntity demoEntity) {\r\n            return ResponseEntity.ok(demoEntity);\r\n        }\r\n    }\r\n\r\nNow, that&#39;s what happens with my requests:\r\n\r\n| Name    | Greeting | Result |\r\n|---------|----------|--------|\r\n| Peter   | Mr       | 400    |\r\n| Stephen | Monsieur | 200    |\r\n| Clara   | null     | 200    |\r\n| Jenny   | Madamme  | 200    |\r\n\r\nAs you see from the table above, when `greeting` is `null` the result is an ok status. If you want to guarantee that the string is at least `min` characters long _and_ not null, you need to declare this explicitely.\r\n\r\nThat&#39;s, for example, if you want to validate optional fields like a mobile number. You know, it should be n numbers long and contain only numbers, but you don&#39;t want to make it mandatory. Like I showed with the greeting above.\r\n","title":"@Valid Not working @PostMapping spring boot","body":"<p>I created a Test Application reproducing the state of your code. As stated under the comments, the code you provided should definitely work. You definitely <strong>don't</strong> neet to provide a <code>BindingResult</code> to the method. Spring Boot throws a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\">MethodArgumentNotValidException</a> and therefore returns a bad request http status if the validation fails.</p>\n<p>I created a project with following content:</p>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>DemoEntity:</p>\n<pre><code>public class DemoEntity {\n    @NotNull\n    public String name;\n    @Size(min = 3)\n    public String greeting;\n}\n</code></pre>\n<p>DemoController:</p>\n<pre><code>@Controller\npublic class DemoController {\n    @PostMapping(&quot;/post&quot;)\n    public ResponseEntity&lt;DemoEntity&gt; put(@Valid @RequestBody DemoEntity demoEntity) {\n        return ResponseEntity.ok(demoEntity);\n    }\n}\n</code></pre>\n<p>Now, that's what happens with my requests:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Greeting</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Peter</td>\n<td>Mr</td>\n<td>400</td>\n</tr>\n<tr>\n<td>Stephen</td>\n<td>Monsieur</td>\n<td>200</td>\n</tr>\n<tr>\n<td>Clara</td>\n<td>null</td>\n<td>200</td>\n</tr>\n<tr>\n<td>Jenny</td>\n<td>Madamme</td>\n<td>200</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>As you see from the table above, when <code>greeting</code> is <code>null</code> the result is an ok status. If you want to guarantee that the string is at least <code>min</code> characters long <em>and</em> not null, you need to declare this explicitely.</p>\n<p>That's, for example, if you want to validate optional fields like a mobile number. You know, it should be n numbers long and contain only numbers, but you don't want to make it mandatory. Like I showed with the greeting above.</p>\n"}],"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67200429,"answer_count":2,"score":0,"last_activity_date":1671205688,"creation_date":1619022244,"question_id":67199768,"body_markdown":"I am learning spring boot, I am adding Validation for @PostMapping, but somehow it always create a object even with non-valid value.\r\n\r\nHospital.java\r\n```\r\npublic class Hospital {\r\n    private Integer id;\r\n    @Size(min = 2)\r\n    private String name;\r\n    @Size(min = 2)\r\n    private String city;\r\n\r\n    public Hospital(Integer id, String name, String city) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.city = city;\r\n    }\r\n```\r\n\r\nController\r\n```\r\n@Autowired\r\n    HospitalData data;\r\n...\r\n@PostMapping(&quot;/hospital&quot;)\r\n    public ResponseEntity&lt;Hospital&gt; addHospital(@Valid @RequestBody Hospital hospital){\r\n        Hospital newHospital = data.addHospital(hospital);\r\n\r\n        URI location = ServletUriComponentsBuilder\r\n        .fromCurrentRequest()\r\n        .path(&quot;/{id}&quot;)\r\n        .buildAndExpand(newHospital.getId()).toUri();\r\n\r\n        return ResponseEntity.created(location).build();\r\n    }\r\n```\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd previously I have added below dependency as I am using Spring 2.3.10 RELEASE, but it doesn&#39;t work, so I have added above dependency.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"@Valid Not working @PostMapping spring boot","body":"<p>I am learning spring boot, I am adding Validation for @PostMapping, but somehow it always create a object even with non-valid value.</p>\n<p>Hospital.java</p>\n<pre><code>public class Hospital {\n    private Integer id;\n    @Size(min = 2)\n    private String name;\n    @Size(min = 2)\n    private String city;\n\n    public Hospital(Integer id, String name, String city) {\n        this.id = id;\n        this.name = name;\n        this.city = city;\n    }\n</code></pre>\n<p>Controller</p>\n<pre><code>@Autowired\n    HospitalData data;\n...\n@PostMapping(&quot;/hospital&quot;)\n    public ResponseEntity&lt;Hospital&gt; addHospital(@Valid @RequestBody Hospital hospital){\n        Hospital newHospital = data.addHospital(hospital);\n\n        URI location = ServletUriComponentsBuilder\n        .fromCurrentRequest()\n        .path(&quot;/{id}&quot;)\n        .buildAndExpand(newHospital.getId()).toUri();\n\n        return ResponseEntity.created(location).build();\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And previously I have added below dependency as I am using Spring 2.3.10 RELEASE, but it doesn't work, so I have added above dependency.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","speech-recognition","microphone","noise-reduction"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671207818,"post_id":74826528,"comment_id":132056666,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":26114434,"reputation":31,"user_id":19807807,"display_name":"Zain Khalid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671205619,"creation_date":1671205619,"answer_id":74826729,"question_id":74826528,"body_markdown":"You can look out this blog\r\n\r\nhttps://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html.\r\n\r\nUse MediaRecorder.AudioSource.VOICE_RECOGNITION instead of AudioSource.MIC, which will give you really good results and noise in the background will reduce very much.\r\n\r\nThe great thing about this solution is, it can be used with both AudioRecord and MediaRecorder class.\r\n\r\nHope it helps.","title":"Android, add noise cancelling to SpeechRecognizer","body":"<p>You can look out this blog</p>\n<p><a href=\"https://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html\" rel=\"nofollow noreferrer\">https://twigstechtips.blogspot.com/2013/07/android-enable-noise-cancellation-in.html</a>.</p>\n<p>Use MediaRecorder.AudioSource.VOICE_RECOGNITION instead of AudioSource.MIC, which will give you really good results and noise in the background will reduce very much.</p>\n<p>The great thing about this solution is, it can be used with both AudioRecord and MediaRecorder class.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":10654430,"reputation":69,"user_id":7844378,"display_name":"Amir Eleuch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671205619,"creation_date":1671204587,"question_id":74826528,"body_markdown":"I&#39;m creating an Android app which based on vocal commands. The idea here is to apply a noise reduction filter to the mic before starting speech recognizer.\r\n\r\nIs that possible?\r\n\r\nThanks.\r\n","title":"Android, add noise cancelling to SpeechRecognizer","body":"<p>I'm creating an Android app which based on vocal commands. The idea here is to apply a noise reduction filter to the mic before starting speech recognizer.</p>\n<p>Is that possible?</p>\n<p>Thanks.</p>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"score":0,"creation_date":1511906731,"post_id":35881681,"comment_id":82040589,"body_markdown":"You might want to change to &quot;yyyy-M-d&#39; to handle single digit months and days.","body":"You might want to change to &quot;yyyy-M-d&#39; to handle single digit months and days."}],"answers":[{"tags":[],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457490185,"creation_date":1457490185,"answer_id":35881775,"question_id":35881681,"body_markdown":"The following worked for me\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    public class Times {\r\n    \r\n      public static void main(String[] args) {\r\n        final String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_INSTANT;\r\n        final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter.withZone(ZoneId.of(&quot;UTC&quot;)));\r\n        System.out.println(parsed.toLocalDateTime());\r\n      }\r\n    }\r\n\r\nand gave me output as  \r\n\r\n    2012-02-22T02:06:58.147","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>The following worked for me</p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\npublic class Times {\n\n  public static void main(String[] args) {\n    final String dateTime = \"2012-02-22T02:06:58.147Z\";\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_INSTANT;\n    final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter.withZone(ZoneId.of(\"UTC\")));\n    System.out.println(parsed.toLocalDateTime());\n  }\n}\n</code></pre>\n\n<p>and gave me output as  </p>\n\n<pre><code>2012-02-22T02:06:58.147\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457493225,"creation_date":1457490378,"answer_id":35881797,"question_id":35881681,"body_markdown":"Your original problem was wrong pattern symbol &quot;h&quot; which stands for the clock hour (range 1-12). In this case, the am-pm-information is missing. Better, use [the pattern symbol &quot;H&quot;][1] instead (hour of day in range 0-23). So the pattern should rather have been like:\r\n\r\nuuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSX (best pattern also suitable for strict mode)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>Your original problem was wrong pattern symbol \"h\" which stands for the clock hour (range 1-12). In this case, the am-pm-information is missing. Better, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\">the pattern symbol \"H\"</a> instead (hour of day in range 0-23). So the pattern should rather have been like:</p>\n\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSX (best pattern also suitable for strict mode)</p>\n"},{"tags":[],"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1457491594,"creation_date":1457491167,"answer_id":35881898,"question_id":35881681,"body_markdown":"If your input always has a time zone of &quot;zulu&quot; (&quot;Z&quot; = UTC), then you can use `DateTimeFormatter.ISO_INSTANT` (implicitly):\r\n\r\n    final Instant parsed = Instant.parse(dateTime);\r\n\r\nIf time zone varies and has the form of &quot;+01:00&quot; or &quot;+01:00:00&quot; (when not &quot;Z&quot;), then you can use `DateTimeFormatter.ISO_OFFSET_DATE_TIME`:\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n\tfinal ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\r\n\r\nIf neither is the case, you can construct a `DateTimeFormatter` in the same manner as `DateTimeFormatter.ISO_OFFSET_DATE_TIME` is constructed.\r\n\r\n---\r\n\r\nYour current pattern has several problems:\r\n\r\n* not using strict mode (`ResolverStyle.STRICT`);\r\n* using `yyyy` instead of `uuuu` (`yyyy` will not work in strict mode);\r\n* using 12-hour `hh` instead of 24-hour `HH`;\r\n* using only one digit `S` for fractional seconds, but input has three.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>If your input always has a time zone of \"zulu\" (\"Z\" = UTC), then you can use <code>DateTimeFormatter.ISO_INSTANT</code> (implicitly):</p>\n\n<pre><code>final Instant parsed = Instant.parse(dateTime);\n</code></pre>\n\n<p>If time zone varies and has the form of \"+01:00\" or \"+01:00:00\" (when not \"Z\"), then you can use <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code>:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\nfinal ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\n</code></pre>\n\n<p>If neither is the case, you can construct a <code>DateTimeFormatter</code> in the same manner as <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code> is constructed.</p>\n\n<hr>\n\n<p>Your current pattern has several problems:</p>\n\n<ul>\n<li>not using strict mode (<code>ResolverStyle.STRICT</code>);</li>\n<li>using <code>yyyy</code> instead of <code>uuuu</code> (<code>yyyy</code> will not work in strict mode);</li>\n<li>using 12-hour <code>hh</code> instead of 24-hour <code>HH</code>;</li>\n<li>using only one digit <code>S</code> for fractional seconds, but input has three.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":3,"up_vote_count":42,"is_accepted":true,"score":39,"last_activity_date":1457509529,"creation_date":1457509529,"answer_id":35885773,"question_id":35881681,"body_markdown":"The default parser can parse your input. So you don&#39;t need a custom formatter and\r\n\r\n    String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n    ZonedDateTime d = ZonedDateTime.parse(dateTime);\r\n\r\nworks as expected.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>The default parser can parse your input. So you don't need a custom formatter and</p>\n\n<pre><code>String dateTime = \"2012-02-22T02:06:58.147Z\";\nZonedDateTime d = ZonedDateTime.parse(dateTime);\n</code></pre>\n\n<p>works as expected.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671205575,"creation_date":1671205575,"answer_id":74826721,"question_id":35881681,"body_markdown":"`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. `2012-02-22T02:06:58.147Z`). \r\n\r\nWhat&#39;s wrong with your pattern?\r\n--\r\n\r\nThere are two problems with your pattern, `yyyy-MM-dd&#39;T&#39;hh:mm:ss.SX`:\r\n\r\n 1. It has `h` which is used for AM/PM time and therefore it is the wrong symbol for an hour in 24-hour format. The symbol for an hour in 24-hour format is `H`.\r\n 2. Your date-time string has a fraction of a second in milliseconds resolution but you have used only one `S`. To match the resolution of milliseconds, the pattern should be `SSS`.\r\n\r\n**Demo**:\r\n\r\n    class Main {\r\n        public static void main(String args[]) {\r\n            String strDateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n            System.out.println(Instant.parse(strDateTime));\r\n            System.out.println(ZonedDateTime.parse(strDateTime));\r\n            System.out.println(OffsetDateTime.parse(strDateTime));\r\n    \r\n            // Parsing with your pattern after correction\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;);\r\n            System.out.println(ZonedDateTime.parse(strDateTime, formatter));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n    2012-02-22T02:06:58.147Z\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. <code>2012-02-22T02:06:58.147Z</code>).</p>\n<h2>What's wrong with your pattern?</h2>\n<p>There are two problems with your pattern, <code>yyyy-MM-dd'T'hh:mm:ss.SX</code>:</p>\n<ol>\n<li>It has <code>h</code> which is used for AM/PM time and therefore it is the wrong symbol for an hour in 24-hour format. The symbol for an hour in 24-hour format is <code>H</code>.</li>\n<li>Your date-time string has a fraction of a second in milliseconds resolution but you have used only one <code>S</code>. To match the resolution of milliseconds, the pattern should be <code>SSS</code>.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>class Main {\n    public static void main(String args[]) {\n        String strDateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\n        System.out.println(Instant.parse(strDateTime));\n        System.out.println(ZonedDateTime.parse(strDateTime));\n        System.out.println(OffsetDateTime.parse(strDateTime));\n\n        // Parsing with your pattern after correction\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;);\n        System.out.println(ZonedDateTime.parse(strDateTime, formatter));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n2012-02-22T02:06:58.147Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212251,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":35885773,"answer_count":5,"score":45,"last_activity_date":1671205575,"creation_date":1457489584,"question_id":35881681,"body_markdown":"I get the datetime value as  \r\n\r\n    created_at\t&#39;2012-02-22T02:06:58.147Z&#39;\r\n    Read-only. The time at which this task was created.\r\n\r\nWhich is given by Asana [API][1]\r\n\r\nI am using `Java 8` to parse the date time as following\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    public class Times {\r\n    \r\n      public static void main(String[] args) {\r\n        final String dateTime = &quot;2012-02-22T02:06:58.147Z&quot;;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;hh:mm:ss.SX&quot;);\r\n    \r\n    \r\n        final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\r\n        System.out.println(parsed);\r\n      }\r\n    }\r\nWhen I run this, I get the following error\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2012-02-22T02:06:58.147Z&#39; could not be parsed at index 21\r\n    \tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1947)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1849)\r\n    \tat java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\r\n    \tat Times.main(Times.java:11)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\nWhat is not right here?\r\n\r\n\r\n  [1]: https://asana.com/developers/api-reference/tasks","title":"java.time.format.DateTimeParseException: Text could not be parsed at index 21","body":"<p>I get the datetime value as  </p>\n\n<pre><code>created_at  '2012-02-22T02:06:58.147Z'\nRead-only. The time at which this task was created.\n</code></pre>\n\n<p>Which is given by Asana <a href=\"https://asana.com/developers/api-reference/tasks\" rel=\"noreferrer\">API</a></p>\n\n<p>I am using <code>Java 8</code> to parse the date time as following</p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\npublic class Times {\n\n  public static void main(String[] args) {\n    final String dateTime = \"2012-02-22T02:06:58.147Z\";\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'hh:mm:ss.SX\");\n\n\n    final ZonedDateTime parsed = ZonedDateTime.parse(dateTime, formatter);\n    System.out.println(parsed);\n  }\n}\n</code></pre>\n\n<p>When I run this, I get the following error</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: Text '2012-02-22T02:06:58.147Z' could not be parsed at index 21\n    at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1947)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1849)\n    at java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\n    at Times.main(Times.java:11)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\n</code></pre>\n\n<p>What is not right here?</p>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671205523,"creation_date":1671205523,"answer_id":74826708,"question_id":74826673,"body_markdown":"Just use an `if` to conditionally call `setName` only if you have a name to set, rather than always calling `setName` even when there is no argument to give it:\r\n\r\n    A a = A.newBuilder().setId(B.getId())\r\n\r\n    if (b.hasC()) {\r\n      a = a.setName(b.getC());\r\n    }\r\n\r\n    return a.build();\r\n","title":"Conditionally set a field of a Protobuf message","body":"<p>Just use an <code>if</code> to conditionally call <code>setName</code> only if you have a name to set, rather than always calling <code>setName</code> even when there is no argument to give it:</p>\n<pre><code>A a = A.newBuilder().setId(B.getId())\n\nif (b.hasC()) {\n  a = a.setName(b.getC());\n}\n\nreturn a.build();\n</code></pre>\n"}],"owner":{"account_id":16924914,"reputation":63,"user_id":12240772,"display_name":"tigoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671205523,"creation_date":1671205338,"question_id":74826673,"body_markdown":"I am creating a converter method between two protobuf messages A and B:\r\n\r\n```\r\nmessage A {\r\n optional int64 id = 1;\r\n optional string name = 2;\r\n}\r\n \r\nmessage B {\r\n optional int64 id = 1;\r\n optional C c= 2;\r\n}\r\n\r\nmessage C {\r\n optional string name = 1; \r\n}\r\n```\r\n\r\nMy code is the following:\r\n```\r\n    private A convertFromBToA(B b) {\r\n        return A.newBuilder()\r\n                .setId(B.getId())\r\n                .setName(b.hasC() ? b.getC().getName() : null).build();\r\n    }\r\n```\r\nEssentially, I only want to set the name field of message A if B&#39;s C field has a name field. Otherwise I want to leave A&#39;s name field unset. Is this the correct way to do so?","title":"Conditionally set a field of a Protobuf message","body":"<p>I am creating a converter method between two protobuf messages A and B:</p>\n<pre><code>message A {\n optional int64 id = 1;\n optional string name = 2;\n}\n \nmessage B {\n optional int64 id = 1;\n optional C c= 2;\n}\n\nmessage C {\n optional string name = 1; \n}\n</code></pre>\n<p>My code is the following:</p>\n<pre><code>    private A convertFromBToA(B b) {\n        return A.newBuilder()\n                .setId(B.getId())\n                .setName(b.hasC() ? b.getC().getName() : null).build();\n    }\n</code></pre>\n<p>Essentially, I only want to set the name field of message A if B's C field has a name field. Otherwise I want to leave A's name field unset. Is this the correct way to do so?</p>\n"},{"tags":["java","json","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338285830,"creation_date":1338285830,"answer_id":10796950,"question_id":10796881,"body_markdown":"try gson: [Serializing-and-Deserializing-Generic-Types][1]\r\n\r\n\r\n  [1]: http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>try gson: <a href=\"http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Generic-Types\" rel=\"nofollow\">Serializing-and-Deserializing-Generic-Types</a></p>\n"},{"tags":[],"owner":{"account_id":239282,"reputation":1674,"user_id":508760,"accept_rate":69,"display_name":"W. Goeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338285835,"creation_date":1338285835,"answer_id":10796953,"question_id":10796881,"body_markdown":"json-lib is likely the library you are looking for. you can find som examples of usage [here][1].\r\n\r\n\r\n  [1]: http://json-lib.sourceforge.net/usage.html","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>json-lib is likely the library you are looking for. you can find som examples of usage <a href=\"http://json-lib.sourceforge.net/usage.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1448306688,"creation_date":1338286155,"answer_id":10797047,"question_id":10796881,"body_markdown":"You will have to include the `jettison` jar in you project and import the required classes.\r\n\r\n    JSONObject jObject = new JSONObject();\r\n\ttry\r\n    {\r\n        JSONArray jArray = new JSONArray();\r\n\t    for (Student student : sudentList)\r\n        {\r\n\t         JSONObject studentJSON = new JSONObject();\r\n\t         studentJSON.put(&quot;name&quot;, student.getName());\r\n             studentJSON.put(&quot;age&quot;, student.getAge());\r\n\t         jArray.put(studentJSON);\r\n        }\r\n\t    jObject.put(&quot;StudentList&quot;, jArray);\r\n\t} catch (JSONException jse) {\r\n\t    jse.printStacktrace();\r\n\t}","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>You will have to include the <code>jettison</code> jar in you project and import the required classes.</p>\n\n<pre><code>JSONObject jObject = new JSONObject();\ntry\n{\n    JSONArray jArray = new JSONArray();\n    for (Student student : sudentList)\n    {\n         JSONObject studentJSON = new JSONObject();\n         studentJSON.put(\"name\", student.getName());\n         studentJSON.put(\"age\", student.getAge());\n         jArray.put(studentJSON);\n    }\n    jObject.put(\"StudentList\", jArray);\n} catch (JSONException jse) {\n    jse.printStacktrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552637,"reputation":334,"user_id":917819,"accept_rate":25,"display_name":"Mohan Kumar"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1477181007,"creation_date":1338290187,"answer_id":10798055,"question_id":10796881,"body_markdown":"I think you need not download the jettison jar file. \r\n\r\nUsing `JSONArray` and `JSONObject` you can easily convert that list into JSON object like @Juniad answer","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>I think you need not download the jettison jar file. </p>\n\n<p>Using <code>JSONArray</code> and <code>JSONObject</code> you can easily convert that list into JSON object like @Juniad answer</p>\n"},{"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338291895,"creation_date":1338291895,"answer_id":10798476,"question_id":10796881,"body_markdown":"When you want to map Object to json directly or want to convert json to object, you can use GSON library . this will give you more flexibility and control.\r\n\r\n \r\nDownload link - http://code.google.com/p/google-gson/\r\n\r\nTutorial link - http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>When you want to map Object to json directly or want to convert json to object, you can use GSON library . this will give you more flexibility and control.</p>\n\n<p>Download link - <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">http://code.google.com/p/google-gson/</a></p>\n\n<p>Tutorial link - <a href=\"http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow\">http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/</a></p>\n"},{"tags":[],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1448303716,"creation_date":1448303716,"answer_id":33878132,"question_id":10796881,"body_markdown":"Using `Gson` Library it will be very simple.\r\n\r\nFrom JSON String to ArrayList of Object as:\r\n\r\n    Type listType = \r\n         new TypeToken&lt;ArrayList&lt;Student&gt;&gt;(){}.getType();\r\n    ArrayList&lt;Student&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\r\n\r\nAnd to Json from Array List of Object as:\r\n\r\n    ArrayList&lt;Student&gt; sampleList = new ArrayList&lt;Student&gt;();\r\n    String json = new Gson().toJson(sampleList);\r\n\r\nThe Gson Library is more simple to use than `JSONObject` and `JSONArray` implementation.","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>Using <code>Gson</code> Library it will be very simple.</p>\n\n<p>From JSON String to ArrayList of Object as:</p>\n\n<pre><code>Type listType = \n     new TypeToken&lt;ArrayList&lt;Student&gt;&gt;(){}.getType();\nArrayList&lt;Student&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>And to Json from Array List of Object as:</p>\n\n<pre><code>ArrayList&lt;Student&gt; sampleList = new ArrayList&lt;Student&gt;();\nString json = new Gson().toJson(sampleList);\n</code></pre>\n\n<p>The Gson Library is more simple to use than <code>JSONObject</code> and <code>JSONArray</code> implementation.</p>\n"},{"tags":[],"owner":{"account_id":3622997,"reputation":590,"user_id":3021287,"display_name":"vitralyoz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1552897811,"creation_date":1552897811,"answer_id":55217261,"question_id":10796881,"body_markdown":"Create JSONArray like below. \r\n\r\n`JSONArray jsArray = new JSONArray(arrayList);`  ","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>Create JSONArray like below. </p>\n\n<p><code>JSONArray jsArray = new JSONArray(arrayList);</code>  </p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646559910,"creation_date":1646559910,"answer_id":71369169,"question_id":10796881,"body_markdown":"You can use `ObjectMapper` from &#39;com.fasterxml.jackson.core&#39; like this\r\n```\r\nList&lt;Student&gt; list = Arrays.asList(new Student(&quot;sam&quot;, &quot;12&quot;), new Student(&quot;sri&quot;, &quot;5&quot;));\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString listAsString = objectMapper.writeValueAsString(list));\r\n```","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>You can use <code>ObjectMapper</code> from 'com.fasterxml.jackson.core' like this</p>\n<pre><code>List&lt;Student&gt; list = Arrays.asList(new Student(&quot;sam&quot;, &quot;12&quot;), new Student(&quot;sri&quot;, &quot;5&quot;));\nObjectMapper objectMapper = new ObjectMapper();\nString listAsString = objectMapper.writeValueAsString(list));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6372489,"reputation":1,"user_id":4944508,"display_name":"tribhuwan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671205507,"creation_date":1670952243,"answer_id":74788680,"question_id":10796881,"body_markdown":"    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tJSONObject json = new JSONObject();\r\n    \r\n    \t\tjson.put(&quot;userId&quot;,&quot;&quot;);\r\n    \t\t\t\r\n    \t\tJSONObject que1 = new JSONObject();\r\n    \t\tque1.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque1.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque1.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\tJSONObject que2 = new JSONObject();\r\n    \t\tque2.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque2.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque2.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\tJSONObject que3 = new JSONObject();\r\n    \t\tque3.put(&quot;questionId&quot;, &quot;&quot;);\r\n    \t\tque3.put(&quot;groupId&quot;, &quot;&quot;);\r\n    \t\tque3.put(&quot;answer&quot;, &quot;&quot;);\r\n    \t\t\r\n    \t\tJSONArray jsonArray =new JSONArray();\r\n    \t\tjsonArray.add(que1);\r\n    \t\tjsonArray.add(que2);\r\n    \t\tjsonArray.add(que3);\r\n    \t\t\r\n    \t\tjson.put(&quot;answers&quot;, jsonArray);\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Answer request : &quot;+json.toString());\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        JSONObject json = new JSONObject();\n\n        json.put(&quot;userId&quot;,&quot;&quot;);\n            \n        JSONObject que1 = new JSONObject();\n        que1.put(&quot;questionId&quot;, &quot;&quot;);\n        que1.put(&quot;groupId&quot;, &quot;&quot;);\n        que1.put(&quot;answer&quot;, &quot;&quot;);\n        JSONObject que2 = new JSONObject();\n        que2.put(&quot;questionId&quot;, &quot;&quot;);\n        que2.put(&quot;groupId&quot;, &quot;&quot;);\n        que2.put(&quot;answer&quot;, &quot;&quot;);\n        JSONObject que3 = new JSONObject();\n        que3.put(&quot;questionId&quot;, &quot;&quot;);\n        que3.put(&quot;groupId&quot;, &quot;&quot;);\n        que3.put(&quot;answer&quot;, &quot;&quot;);\n        \n        JSONArray jsonArray =new JSONArray();\n        jsonArray.add(que1);\n        jsonArray.add(que2);\n        jsonArray.add(que3);\n        \n        json.put(&quot;answers&quot;, jsonArray);\n\n        \n        System.out.println(&quot;Answer request : &quot;+json.toString());\n        \n        \n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":1099549,"reputation":568,"user_id":1092301,"accept_rate":83,"display_name":"Navamani Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93920,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10798055,"answer_count":9,"score":20,"last_activity_date":1671205507,"creation_date":1338285582,"question_id":10796881,"body_markdown":"I have a class called\r\n\r\n    class Student {\r\n       String name;\r\n       String age;\r\n    }\r\n\r\nI have a method that returns List object like \r\n\r\n    public List&lt;Student&gt; getList(){\r\n    \r\n     List&lt;Student&gt; li =new ArrayList();\r\n     ....\r\n    \r\n     li.add(new Student(&#39;aaa&#39;,&#39;12&#39;));\r\n     ... \r\n    \r\n     return li;    \r\n    }\r\n\r\nI need to convert that list into JSONArray like this\r\n\r\n    [{&quot;name&quot;:&quot;sam&quot;,&quot;age&quot;:&quot;12&quot;},{&quot;name&quot;:&quot;sri&quot;,&quot;age&quot;:&quot;5&quot;}]\r\n\r\nCan anyone help me to get this?","title":"How to Create JSONArray for a List&lt;Class name&gt;","body":"<p>I have a class called</p>\n<pre><code>class Student {\n   String name;\n   String age;\n}\n</code></pre>\n<p>I have a method that returns List object like</p>\n<pre><code>public List&lt;Student&gt; getList(){\n\n List&lt;Student&gt; li =new ArrayList();\n ....\n\n li.add(new Student('aaa','12'));\n ... \n\n return li;    \n}\n</code></pre>\n<p>I need to convert that list into JSONArray like this</p>\n<pre><code>[{&quot;name&quot;:&quot;sam&quot;,&quot;age&quot;:&quot;12&quot;},{&quot;name&quot;:&quot;sri&quot;,&quot;age&quot;:&quot;5&quot;}]\n</code></pre>\n<p>Can anyone help me to get this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671205409,"creation_date":1671205409,"answer_id":74826691,"question_id":74826490,"body_markdown":"You can take a look at the [JobRunr][1] and [Quartz Scheduler][2] libs. \r\n\r\nAlternatively you could just use [Spring Scheduler][3] and check manually, if there new/unfinished jobs. \r\n\r\n\r\n  [1]: https://www.jobrunr.io/en/\r\n  [2]: https://www.quartz-scheduler.org/\r\n  [3]: https://reflectoring.io/spring-scheduler/","title":"Java retry logic after migration or application restart","body":"<p>You can take a look at the <a href=\"https://www.jobrunr.io/en/\" rel=\"nofollow noreferrer\">JobRunr</a> and <a href=\"https://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz Scheduler</a> libs.</p>\n<p>Alternatively you could just use <a href=\"https://reflectoring.io/spring-scheduler/\" rel=\"nofollow noreferrer\">Spring Scheduler</a> and check manually, if there new/unfinished jobs.</p>\n"}],"owner":{"account_id":11149486,"reputation":69,"user_id":8183198,"accept_rate":50,"display_name":"Warszawski Koks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826691,"answer_count":1,"score":0,"last_activity_date":1671205409,"creation_date":1671204409,"question_id":74826490,"body_markdown":"I am looking for a library that can retry faied jobs after server restart. For example my API expose endpoint that allow end user to upload photo and then I need asynchronusly upload this photo to third part API. \r\n\r\nSpring Retry seemed a perfect option for me, but I can&#39;t be sure the faild job will resume after application restart. I tried to implement RetryContextCache that stores serialized objects in the database, but it does not work. \r\n\r\nIf there is any production ready library or any other way I can achive this? ","title":"Java retry logic after migration or application restart","body":"<p>I am looking for a library that can retry faied jobs after server restart. For example my API expose endpoint that allow end user to upload photo and then I need asynchronusly upload this photo to third part API.</p>\n<p>Spring Retry seemed a perfect option for me, but I can't be sure the faild job will resume after application restart. I tried to implement RetryContextCache that stores serialized objects in the database, but it does not work.</p>\n<p>If there is any production ready library or any other way I can achive this?</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1671203457,"post_id":74826240,"comment_id":132055177,"body_markdown":"Maybe this? https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--","body":"Maybe this? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/awt/&hellip;</a>"},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671203918,"post_id":74826240,"comment_id":132055322,"body_markdown":"The code in the server is run by a backend process, without any user interaction (basically, we use a file listener and process the pdf to output the images). Can you elaborate on how using this method can help me out?","body":"The code in the server is run by a backend process, without any user interaction (basically, we use a file listener and process the pdf to output the images). Can you elaborate on how using this method can help me out?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1671204344,"post_id":74826240,"comment_id":132055494,"body_markdown":"Isn&#39;t `outputImage` already in the right size right after being returned from `renderImageWithDPI(...)`? Why are you drawing the image into itself?","body":"Isn&#39;t <code>outputImage</code> already in the right size right after being returned from <code>renderImageWithDPI(...)</code>? Why are you drawing the image into itself?"},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671205275,"post_id":74826240,"comment_id":132055790,"body_markdown":"@K J   when I try using DPI = 186, on my machine it is rendering as 957x1370. As for the 299 dpi, I used an online tool to calculate the dpi from the pixel width and height with an 8in page size and then adjusted it through empirical testing.","body":"@K J   when I try using DPI = 186, on my machine it is rendering as 957x1370. As for the 299 dpi, I used an online tool to calculate the dpi from the pixel width and height with an 8in page size and then adjusted it through empirical testing."},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671205302,"post_id":74826240,"comment_id":132055800,"body_markdown":"@matt, I have already removed that from my code. updated the code in the question as well","body":"@matt, I have already removed that from my code. updated the code in the question as well"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671205798,"post_id":74826240,"comment_id":132055978,"body_markdown":"You could, create the size of BufferedImage you want. Then render the pdf to create a BufferedImage and then draw that to the BufferedImage you created. That way you know it will be the correct size. Right now it looks like the &quot;problem&quot; is solely with PDFRenderer, I would expect that rendering the pdf at a specified DPI should always produce the same size image.","body":"You could, create the size of BufferedImage you want. Then render the pdf to create a BufferedImage and then draw that to the BufferedImage you created. That way you know it will be the correct size. Right now it looks like the &quot;problem&quot; is solely with PDFRenderer, I would expect that rendering the pdf at a specified DPI should always produce the same size image."},{"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"score":0,"creation_date":1671211542,"post_id":74826240,"comment_id":132057816,"body_markdown":"@K J, I used float at the renderImageWithDPI takes a float dpi as a parameter and to do a fine tuning to reach the value we wanted. with it I got from 299 -&gt; 1537 pixels to 299.3 -&gt; 1540.","body":"@K J, I used float at the renderImageWithDPI takes a float dpi as a parameter and to do a fine tuning to reach the value we wanted. with it I got from 299 -&gt; 1537 pixels to 299.3 -&gt; 1540."}],"owner":{"account_id":464548,"reputation":11,"user_id":4638046,"display_name":"Sergio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671205352,"creation_date":1671203196,"question_id":74826240,"body_markdown":"I have a requirement for generating images from the pages of pdf files so it can be processed by a legacy application that will send them to a very specific printer. \r\n\r\nI have written some code to convert the pages in the ***.pdf*** file to ***.png*** files using a mix of pdfbox and awt. Below is the code adapted for publishing here:\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.rendering.ImageType;\r\nimport org.apache.pdfbox.rendering.PDFRenderer;\r\n\r\n\r\npublic class ImageConverter {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\t\t\r\n\t\tString pdfFilePath = &quot;input_folder&quot;;\r\n\t\tString imageFilePath = &quot;output_folder&quot;;\t\r\n\t\tint width = 1540;\r\n\t\tint height = 2200;\r\n\t\tfloat dpi = (float) 299.3;\r\n\t\tPDDocument document = PDDocument.load(new File(pdfFilePath));\t\t\r\n\t\tconvertPdftoPng(document, imageFilePath, width, height, dpi);\t\r\n\t}\r\n\r\n\tprivate static void convertPdftoPng(PDDocument document, String imageFilePath, int width, int height, float dpi)\r\n\t\t\tthrows IOException {\t\t\r\n\t\tPDFRenderer pdfRenderer = new PDFRenderer(document);\r\n\t\t\r\n\t\tfor (int page = 0; page &lt; document.getNumberOfPages(); page++)\r\n\t\t{ \r\n\t\t    BufferedImage outputImage = pdfRenderer.renderImageWithDPI(page, dpi, ImageType.RGB);\r\n\t\t    ImageIO.write(outputImage, &quot;png&quot;, new java.io.File(imageFilePath + &quot;00&quot; + (page + 1) + &quot;.png&quot;));\r\n\t\t}\r\n\t\tdocument.close();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nNow, while testing the code, I found an odd behaviour, where depending on the environment the code runs, the output file has a different resolution (x and y pixels), based on the DPI. \r\n\r\nWhen running on my windows machine, with DPI 299.3, the output is 1540 x 2204, which is close to the intended result, whilst to achieve a similar resolution in our KaaS environment, DPI needs to be 186, to achieve a resolution of 1537x 2197.\r\n\r\nNow, on my machine, I&#39;m running this with eclipse bundled JVM (Java 19), and the project is configured to run on Java 11. \r\n\r\nOn the server, which is running inside a Kubernetes pod with tomcat, where we&#39;re running the code for testing purposes, the JVM is running Java 11 (OpenJDK).\r\n\r\nedit. Additionally, this code is to be run on the backend. There is a file listener for the input_folder, that will start the pdf processing (as soon as another system uploads the file through sftp) and output the images. There is no user interaction for this.\r\n\r\nAny suggestions on what might be causing the difference on the resolution and how I can address it?","title":"Why is Graphics2D drrawing diferrent sized images with the same code in different environments","body":"<p>I have a requirement for generating images from the pages of pdf files so it can be processed by a legacy application that will send them to a very specific printer.</p>\n<p>I have written some code to convert the pages in the <em><strong>.pdf</strong></em> file to <em><strong>.png</strong></em> files using a mix of pdfbox and awt. Below is the code adapted for publishing here:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\nimport java.awt.image.BufferedImage;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.rendering.ImageType;\nimport org.apache.pdfbox.rendering.PDFRenderer;\n\n\npublic class ImageConverter {\n\n    public static void main(String[] args) throws IOException {     \n        String pdfFilePath = &quot;input_folder&quot;;\n        String imageFilePath = &quot;output_folder&quot;; \n        int width = 1540;\n        int height = 2200;\n        float dpi = (float) 299.3;\n        PDDocument document = PDDocument.load(new File(pdfFilePath));       \n        convertPdftoPng(document, imageFilePath, width, height, dpi);   \n    }\n\n    private static void convertPdftoPng(PDDocument document, String imageFilePath, int width, int height, float dpi)\n            throws IOException {        \n        PDFRenderer pdfRenderer = new PDFRenderer(document);\n        \n        for (int page = 0; page &lt; document.getNumberOfPages(); page++)\n        { \n            BufferedImage outputImage = pdfRenderer.renderImageWithDPI(page, dpi, ImageType.RGB);\n            ImageIO.write(outputImage, &quot;png&quot;, new java.io.File(imageFilePath + &quot;00&quot; + (page + 1) + &quot;.png&quot;));\n        }\n        document.close();\n    }\n}\n\n</code></pre>\n<p>Now, while testing the code, I found an odd behaviour, where depending on the environment the code runs, the output file has a different resolution (x and y pixels), based on the DPI.</p>\n<p>When running on my windows machine, with DPI 299.3, the output is 1540 x 2204, which is close to the intended result, whilst to achieve a similar resolution in our KaaS environment, DPI needs to be 186, to achieve a resolution of 1537x 2197.</p>\n<p>Now, on my machine, I'm running this with eclipse bundled JVM (Java 19), and the project is configured to run on Java 11.</p>\n<p>On the server, which is running inside a Kubernetes pod with tomcat, where we're running the code for testing purposes, the JVM is running Java 11 (OpenJDK).</p>\n<p>edit. Additionally, this code is to be run on the backend. There is a file listener for the input_folder, that will start the pdf processing (as soon as another system uploads the file through sftp) and output the images. There is no user interaction for this.</p>\n<p>Any suggestions on what might be causing the difference on the resolution and how I can address it?</p>\n"},{"tags":["java","security","cryptography","rsa"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1671190629,"post_id":74823885,"comment_id":132050802,"body_markdown":"How would a decryption program know you used the wrong key?  It will happily accept any key you provide it.","body":"How would a decryption program know you used the wrong key?  It will happily accept any key you provide it."},{"owner":{"account_id":25614961,"reputation":3,"user_id":19387708,"display_name":"John Smith"},"score":0,"creation_date":1671190824,"post_id":74823885,"comment_id":132050859,"body_markdown":"@RobertHarvey:But why did it produced the correct answer? As you can see, it printed &quot;uwu&quot; correctly.","body":"@RobertHarvey:But why did it produced the correct answer? As you can see, it printed &quot;uwu&quot; correctly."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1671190950,"post_id":74823885,"comment_id":132050908,"body_markdown":"Encrypting with the private key will work, because that is what is also done when you sign something with your private key. The normal direction is encrypt with public, decrypt with private, but the other direction works just as well (but is generally the wrong choice if you want to keep the data private), but it is a method which can be used so recipients know that the encryption was performed by the owner of the private key (hence why it is generally used for signing).","body":"Encrypting with the private key will work, because that is what is also done when you sign something with your private key. The normal direction is encrypt with public, decrypt with private, but the other direction works just as well (but is generally the wrong choice if you want to keep the data private), but it is a method which can be used so recipients know that the encryption was performed by the owner of the private key (hence why it is generally used for signing)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671191116,"post_id":74823885,"comment_id":132050971,"body_markdown":"In other words, the fact this works is correct and entirely expected for asymmetrical cryptography systems like RSA.","body":"In other words, the fact this works is correct and entirely expected for asymmetrical cryptography systems like RSA."}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671205045,"creation_date":1671204686,"answer_id":74826552,"question_id":74823885,"body_markdown":"Trying to *encrypt* data using RSA with a private key doesn&#39;t make sense. However, instead of throwing an exception when trying to do so, the `Cipher` class does something a little different. It assumes that you want to perform a signature operation and that you are supplying just the *payload* portion of the signature. It will then apply the PKCS1 padding string directly to your data, in this case the padding is 0x00 0x01 followed by as many 0xff 0xff ... 0xff 0x00 bytes as needed to fill out the length of the RSA block (128 bytes in this case) apply the exponentiation primitive with the private exponent.\r\nThus the padded contents look like this in hex:\r\n```\r\n0001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00757775\r\n```\r\nProper PKCS1 signing requires that the data is hashed and then encapsulated into a DigestInfo ASN.1 structure, but Cipher doesn&#39;t do that. The Signature class will do that however.\r\n\r\nThe result can only be verified (or &quot;decrypted&quot;) with the correct public key. You can&#39;t get the plaintext unless you have the public key.","title":"Decrypt with public key?","body":"<p>Trying to <em>encrypt</em> data using RSA with a private key doesn't make sense. However, instead of throwing an exception when trying to do so, the <code>Cipher</code> class does something a little different. It assumes that you want to perform a signature operation and that you are supplying just the <em>payload</em> portion of the signature. It will then apply the PKCS1 padding string directly to your data, in this case the padding is 0x00 0x01 followed by as many 0xff 0xff ... 0xff 0x00 bytes as needed to fill out the length of the RSA block (128 bytes in this case) apply the exponentiation primitive with the private exponent.\nThus the padded contents look like this in hex:</p>\n<pre><code>0001ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00757775\n</code></pre>\n<p>Proper PKCS1 signing requires that the data is hashed and then encapsulated into a DigestInfo ASN.1 structure, but Cipher doesn't do that. The Signature class will do that however.</p>\n<p>The result can only be verified (or &quot;decrypted&quot;) with the correct public key. You can't get the plaintext unless you have the public key.</p>\n"}],"owner":{"account_id":25614961,"reputation":3,"user_id":19387708,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826552,"answer_count":1,"score":0,"last_activity_date":1671205045,"creation_date":1671190406,"question_id":74823885,"body_markdown":"I&#39;ve made a mistake when I was writing a promgram in Java.\r\n\r\n```\r\npackage cf.huzpsb.jnip.security;\r\n\r\nimport java.security.KeyFactory;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Cipher {\r\n    private static final byte[] pub = Base64.getDecoder().decode(&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCUjb+/Ea3i9W53tASAu5OJ8vxf7+7oGberM5B6GIfu2uBMD0YfaQuGqInREop6kho7AHYd4oCq68fhQ4DbAtE+RSy9Us4sCMpvvE4luLWoR3iZQtii7hyIoDSeXGaNVu6L3xbjFji7kSDPpWubdCuD6dCVYD5kS2N07m74d5grOwIDAQAB&quot;);\r\n    private static final byte[] pri = Base64.getDecoder().decode(&quot;MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJSNv78RreL1bne0BIC7k4ny/F/v7ugZt6szkHoYh+7a4EwPRh9pC4aoidESinqSGjsAdh3igKrrx+FDgNsC0T5FLL1SziwIym+8TiW4tahHeJlC2KLuHIigNJ5cZo1W7ovfFuMWOLuRIM+la5t0K4Pp0JVgPmRLY3Tubvh3mCs7AgMBAAECgYAPimSs0GSogZR04Vg3P2hH3iuYvbj4fvg/6L0MiNRvoGYmjtJ/JrYV+Duyq4XhHLexxHKW3cMoHlJitnUcdEb/W5L0iOSXRN4W1WGBkGLv+FE3TbFT0ruxbLTdcK+cmiE6hWh2sO9xVXjIPxixuTrDvd7qyO0XyX0aNUU0/42FQQJBANwpKF6ZJRIHvF32RIfPjAxkTEY6Mq8IbxeuxsbN3IJ1aywK3bQdSxz0rd+b/gR/3CJhjp9OUGt0KqYm6emVJrcCQQCsvHu30wrK8qfjQmlVxYlwgVitb3u+pgRPO64neuucsbXPUEYnB/Ae9Y1QrdRUBWInhWfXpRK7m4LzK0udJvudAkEArWU9BkRXjfvJv7dWAiDUjG3yJN1xTam21VAx/iHkqlsQLX/hXRo1LnkG+DZDugd5uRpc2ds0O20iqfm8ANwXwQJBAIVagdy5lfR1/zzIkY+BEAkGIpLKpWrauir9NQcPs4PmAilJnM8XJr6P7YgimvA+s7c1G6T0sJCbjy3x988cQFUCQBnPIMFNyfz+t9Cg+gA42ivbKQC9OnIpTD0Jsm8gyvh1C15Pkb4I0WYOQuh66AWHwrlqlkF6IdUVyM8JlNArI/M=&quot;);\r\n\r\n    public static String encrypt(String text) {\r\n        try {\r\n            PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(pri);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\r\n            cipher.init(javax.crypto.Cipher.ENCRYPT_MODE, privateKey);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(text.getBytes()));\r\n        } catch (Exception e) {\r\n            return &quot;Failed&quot;;\r\n        }\r\n    }\r\n\r\n    public static String decrypt(String text) {\r\n        try {\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(pub);\r\n            PublicKey pubKey = keyFactory.generatePublic(x509KeySpec);\r\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\r\n            cipher.init(javax.crypto.Cipher.DECRYPT_MODE, pubKey);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(text)));\r\n        } catch (Exception e) {\r\n            return &quot;Failed&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see, I&#39;ve used the wrong key when trying to encrypt/decrypt the data.\r\nHowever, the code didn&#39;t generate any exception.\r\n\r\n\r\nIf I compile and run:\r\n\r\n```\r\nString str = Cipher.encrypt(&quot;uwu&quot;);\r\nSystem.out.println(str);\r\nSystem.out.println(Cipher.decrypt(str));\r\n```\r\n\r\nThe console would show:\r\n\r\n```\r\nGrKyCCML73yuJN/fsdevN00eOvWUDl7MTpW50iWhhnhqhMxelWPEQ4I2A7PPd0G8flVaZrabAIsYNNUBpEg96x+8zj3ZTh5u9rXbhJKbzHXSMbsuPCY39WqUOf6qqqWRxGL44E3ltIdE/wQr7XeRvqJa4Z089mSxl6VYB468BnA=\r\nuwu\r\n```\r\n\r\nAlthough I&#39;ve fixed the mistake, I still have a question:\r\n\r\nWhat&#39;s going on here? Why did it seemingly running &quot;properly&quot;?\r\n\r\n---\r\n\r\nEdit:\r\n\r\nI&#39;ve seen some may say that it&#39;s a type of &quot;sign&quot;. But if that&#39;s the case, is there a way that I read the data without either key, if I don&#39;t care whether or not the data is tampered? Why or why not? Thanks!","title":"Decrypt with public key?","body":"<p>I've made a mistake when I was writing a promgram in Java.</p>\n<pre><code>package cf.huzpsb.jnip.security;\n\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\n\npublic class Cipher {\n    private static final byte[] pub = Base64.getDecoder().decode(&quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCUjb+/Ea3i9W53tASAu5OJ8vxf7+7oGberM5B6GIfu2uBMD0YfaQuGqInREop6kho7AHYd4oCq68fhQ4DbAtE+RSy9Us4sCMpvvE4luLWoR3iZQtii7hyIoDSeXGaNVu6L3xbjFji7kSDPpWubdCuD6dCVYD5kS2N07m74d5grOwIDAQAB&quot;);\n    private static final byte[] pri = Base64.getDecoder().decode(&quot;MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJSNv78RreL1bne0BIC7k4ny/F/v7ugZt6szkHoYh+7a4EwPRh9pC4aoidESinqSGjsAdh3igKrrx+FDgNsC0T5FLL1SziwIym+8TiW4tahHeJlC2KLuHIigNJ5cZo1W7ovfFuMWOLuRIM+la5t0K4Pp0JVgPmRLY3Tubvh3mCs7AgMBAAECgYAPimSs0GSogZR04Vg3P2hH3iuYvbj4fvg/6L0MiNRvoGYmjtJ/JrYV+Duyq4XhHLexxHKW3cMoHlJitnUcdEb/W5L0iOSXRN4W1WGBkGLv+FE3TbFT0ruxbLTdcK+cmiE6hWh2sO9xVXjIPxixuTrDvd7qyO0XyX0aNUU0/42FQQJBANwpKF6ZJRIHvF32RIfPjAxkTEY6Mq8IbxeuxsbN3IJ1aywK3bQdSxz0rd+b/gR/3CJhjp9OUGt0KqYm6emVJrcCQQCsvHu30wrK8qfjQmlVxYlwgVitb3u+pgRPO64neuucsbXPUEYnB/Ae9Y1QrdRUBWInhWfXpRK7m4LzK0udJvudAkEArWU9BkRXjfvJv7dWAiDUjG3yJN1xTam21VAx/iHkqlsQLX/hXRo1LnkG+DZDugd5uRpc2ds0O20iqfm8ANwXwQJBAIVagdy5lfR1/zzIkY+BEAkGIpLKpWrauir9NQcPs4PmAilJnM8XJr6P7YgimvA+s7c1G6T0sJCbjy3x988cQFUCQBnPIMFNyfz+t9Cg+gA42ivbKQC9OnIpTD0Jsm8gyvh1C15Pkb4I0WYOQuh66AWHwrlqlkF6IdUVyM8JlNArI/M=&quot;);\n\n    public static String encrypt(String text) {\n        try {\n            PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(pri);\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            PrivateKey privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\n            cipher.init(javax.crypto.Cipher.ENCRYPT_MODE, privateKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(text.getBytes()));\n        } catch (Exception e) {\n            return &quot;Failed&quot;;\n        }\n    }\n\n    public static String decrypt(String text) {\n        try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(pub);\n            PublicKey pubKey = keyFactory.generatePublic(x509KeySpec);\n            javax.crypto.Cipher cipher = javax.crypto.Cipher.getInstance(keyFactory.getAlgorithm());\n            cipher.init(javax.crypto.Cipher.DECRYPT_MODE, pubKey);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(text)));\n        } catch (Exception e) {\n            return &quot;Failed&quot;;\n        }\n    }\n}\n\n</code></pre>\n<p>As you can see, I've used the wrong key when trying to encrypt/decrypt the data.\nHowever, the code didn't generate any exception.</p>\n<p>If I compile and run:</p>\n<pre><code>String str = Cipher.encrypt(&quot;uwu&quot;);\nSystem.out.println(str);\nSystem.out.println(Cipher.decrypt(str));\n</code></pre>\n<p>The console would show:</p>\n<pre><code>GrKyCCML73yuJN/fsdevN00eOvWUDl7MTpW50iWhhnhqhMxelWPEQ4I2A7PPd0G8flVaZrabAIsYNNUBpEg96x+8zj3ZTh5u9rXbhJKbzHXSMbsuPCY39WqUOf6qqqWRxGL44E3ltIdE/wQr7XeRvqJa4Z089mSxl6VYB468BnA=\nuwu\n</code></pre>\n<p>Although I've fixed the mistake, I still have a question:</p>\n<p>What's going on here? Why did it seemingly running &quot;properly&quot;?</p>\n<hr />\n<p>Edit:</p>\n<p>I've seen some may say that it's a type of &quot;sign&quot;. But if that's the case, is there a way that I read the data without either key, if I don't care whether or not the data is tampered? Why or why not? Thanks!</p>\n"},{"tags":["java","solr"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1492521050,"post_id":43473114,"comment_id":74001141,"body_markdown":"what&#39;s wrong with above?","body":"what&#39;s wrong with above?"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492521055,"creation_date":1492521055,"answer_id":43473190,"question_id":43473114,"body_markdown":"As the [documentation][1] says:\r\n\r\n&gt; Deprecated.   Use HttpSolrClient\r\n&gt; \r\n&gt; @Deprecated public class HttpSolrServer extends HttpSolrClient\r\n\r\n\r\n    HttpSolrClient solrServer = new HttpSolrClient (builder.build().toString());\r\n\r\n  [1]: https://lucene.apache.org/solr/5_2_0/solr-solrj/org/apache/solr/client/solrj/impl/HttpSolrServer.html#HttpSolrServer(java.lang.String)","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>As the <a href=\"https://lucene.apache.org/solr/5_2_0/solr-solrj/org/apache/solr/client/solrj/impl/HttpSolrServer.html#HttpSolrServer(java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Deprecated.   Use HttpSolrClient</p>\n  \n  <p>@Deprecated public class HttpSolrServer extends HttpSolrClient</p>\n</blockquote>\n\n<pre><code>HttpSolrClient solrServer = new HttpSolrClient (builder.build().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4539573,"reputation":1608,"user_id":3687849,"accept_rate":50,"display_name":"Divyang Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506489978,"creation_date":1506489978,"answer_id":46440078,"question_id":43473114,"body_markdown":"This is one solution:\r\n\r\nSolrClient solrServer = new HttpSolrClient.Builder(solrLocation).build();","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>This is one solution:</p>\n\n<p>SolrClient solrServer = new HttpSolrClient.Builder(solrLocation).build();</p>\n"},{"tags":[],"owner":{"account_id":27239123,"reputation":11,"user_id":20765585,"display_name":"Santanu Mukherjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204983,"creation_date":1670929706,"answer_id":74783874,"question_id":43473114,"body_markdown":"Use below for Solrj 9.x \r\n\r\n    SolrClient client = new Http2SolrClient.Builder(&quot;http://localhost:8983/solr/Collection1&quot;).build()\r\n\r\n","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>Use below for Solrj 9.x</p>\n<pre><code>SolrClient client = new Http2SolrClient.Builder(&quot;http://localhost:8983/solr/Collection1&quot;).build()\n</code></pre>\n"}],"owner":{"account_id":10627264,"reputation":41,"user_id":7826551,"display_name":"Karthick Vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671204983,"creation_date":1492520876,"question_id":43473114,"body_markdown":"What is Replacement for\r\n\r\n    HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","title":"What is Replacement for HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());","body":"<p>What is Replacement for</p>\n\n<pre><code>HttpSolrServer solrServer = new HttpSolrServer(builder.build().toString());\n</code></pre>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":14956061,"reputation":103,"user_id":10797322,"display_name":"nd_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671204825,"creation_date":1671204825,"answer_id":74826573,"question_id":74798012,"body_markdown":"With a newer iText 7 version (I used 7.0.1 before) and a slightly different code  it&#39;s working now:\r\n\r\n```java\r\nBasicConfigurator.configure();// Satisfy the logger\r\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\r\n\t\tPdfDocument pdf = new PdfDocument(writer)) {\r\n\t// Create a page\r\n\tPdfPage currentPage = pdf.addNewPage(PageSize.A4);\r\n\t// Create the position rectangle\r\n\tRectangle rect = new Rectangle(\r\n\t\t\t75f, \r\n\t\t\tcurrentPage.getPageSize().getHeight() - 315f - 22f, \r\n\t\t\t75f, \r\n\t\t\t22f\r\n\t);\r\n\t// Create the font\r\n\tPdfFont currentFont = PdfFontFactory.createFont(\r\n\t\t\t&quot;Helvetica&quot;, \r\n\t\t\t&quot;Cp1252&quot;\r\n\t);\r\n\t// Create the paragraph\r\n\tParagraph p = (new Paragraph(&quot;Some longer value&quot;))\r\n\t\t\t.setFont(currentFont)\r\n\t\t\t.setFontSize(12f)\r\n\t\t\t.setWidth(75f)\r\n\t\t\t.setHeight(22f)\r\n\t\t\t.setTextAlignment(TextAlignment.LEFT);\r\n\t// Override the renderer\r\n\tp.setNextRenderer(new ParagraphRenderer(p){\r\n\t\t@Override\r\n\t\tpublic List initElementAreas(LayoutArea area) {\r\n\t\t\tList list = new ArrayList();\r\n\t\t\tlist.add(rect);\r\n\t\t\treturn list;\r\n\t\t}\r\n\t});\r\n\t// Add the paragraph\r\n\t(new Canvas(new PdfCanvas(currentPage), rect))\r\n\t\t\t.add((BlockElement)p);\r\n```","title":"iText fails to render paragraph with overlength text","body":"<p>With a newer iText 7 version (I used 7.0.1 before) and a slightly different code  it's working now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicConfigurator.configure();// Satisfy the logger\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer)) {\n    // Create a page\n    PdfPage currentPage = pdf.addNewPage(PageSize.A4);\n    // Create the position rectangle\n    Rectangle rect = new Rectangle(\n            75f, \n            currentPage.getPageSize().getHeight() - 315f - 22f, \n            75f, \n            22f\n    );\n    // Create the font\n    PdfFont currentFont = PdfFontFactory.createFont(\n            &quot;Helvetica&quot;, \n            &quot;Cp1252&quot;\n    );\n    // Create the paragraph\n    Paragraph p = (new Paragraph(&quot;Some longer value&quot;))\n            .setFont(currentFont)\n            .setFontSize(12f)\n            .setWidth(75f)\n            .setHeight(22f)\n            .setTextAlignment(TextAlignment.LEFT);\n    // Override the renderer\n    p.setNextRenderer(new ParagraphRenderer(p){\n        @Override\n        public List initElementAreas(LayoutArea area) {\n            List list = new ArrayList();\n            list.add(rect);\n            return list;\n        }\n    });\n    // Add the paragraph\n    (new Canvas(new PdfCanvas(currentPage), rect))\n            .add((BlockElement)p);\n</code></pre>\n"}],"owner":{"account_id":14956061,"reputation":103,"user_id":10797322,"display_name":"nd_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826573,"answer_count":1,"score":0,"last_activity_date":1671204825,"creation_date":1671019398,"question_id":74798012,"body_markdown":"I want to add a variable string to a fixed drawing rectangle using iText 7 - this is a sample code:\r\n\r\n```java\r\ntry (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\r\n\t\tPdfDocument pdf = new PdfDocument(writer)) {\r\n\t// Create a page\r\n\tPdfPage currentPage = pdf.addNewPage(PageSize.A4);\r\n\t// Create the position rectangle\r\n\tRectangle rect = new Rectangle(\r\n\t\t\t75f, \r\n\t\t\tcurrentPage.getPageSize().getHeight() - 315f - 22f, \r\n\t\t\t75f, \r\n\t\t\t22f\r\n\t);\r\n\t// Create the font\r\n\tPdfFont currentFont = PdfFontFactory.createFont(\r\n\t\t\t&quot;Helvetica&quot;, \r\n\t\t\t&quot;Cp1252&quot;\r\n\t);\r\n\t// Create the paragraph\r\n\tParagraph p = (new Paragraph(&quot;Some longer value&quot;))\r\n\t\t\t.setFont(currentFont)\r\n\t\t\t.setFontSize(12f)\r\n\t\t\t.setWidth(75f)\r\n\t\t\t.setHeight(22f)\r\n\t\t\t.setTextAlignment(TextAlignment.LEFT);\r\n\t// Add the paragraph\r\n\t(new Canvas(new PdfCanvas(currentPage), pdf, rect))\r\n\t\t\t.add((BlockElement)p);\r\n}\r\n```\r\n\r\nWhen I run this code, I&#39;ll get this exception when the last line is being executed:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)\r\n        at java.base/java.util.AbstractList.subListRangeCheck(AbstractList.java:509)\r\n        at java.base/java.util.ArrayList.subList(ArrayList.java:1138)\r\n        at com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:235)\r\n        at com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:84)\r\n        at com.itextpdf.layout.renderer.CanvasRenderer.addChild(CanvasRenderer.java:86)\r\n        at com.itextpdf.layout.RootElement.add(RootElement.java:98)\r\n        at itext.bug.reproduce.ITextBugReproduce.main(ITextBugReproduce.java:50)\r\n```\r\n\r\nWhen I replace `Some longer value` with `test`, everything works. So it seems adding an overlength string to a small drawing area fails.\r\n\r\nThe problem is: In real know only the destination drawing area, but I don&#39;t know the string which is going to be processed. This leads to my question: How can I draw even an overlength string to the PDF without pre-measuring etc.?\r\n\r\n**Update**: When I expand the paragraph dimensions, I still have the same exception, so I assume its not a problem with the paragraph, but with the canvas which I use to restrict drawing to the destination rectangle (for not overwriting any contents outside of the rectangle).","title":"iText fails to render paragraph with overlength text","body":"<p>I want to add a variable string to a fixed drawing rectangle using iText 7 - this is a sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (PdfWriter writer = new PdfWriter(&quot;test.pdf&quot;);\n        PdfDocument pdf = new PdfDocument(writer)) {\n    // Create a page\n    PdfPage currentPage = pdf.addNewPage(PageSize.A4);\n    // Create the position rectangle\n    Rectangle rect = new Rectangle(\n            75f, \n            currentPage.getPageSize().getHeight() - 315f - 22f, \n            75f, \n            22f\n    );\n    // Create the font\n    PdfFont currentFont = PdfFontFactory.createFont(\n            &quot;Helvetica&quot;, \n            &quot;Cp1252&quot;\n    );\n    // Create the paragraph\n    Paragraph p = (new Paragraph(&quot;Some longer value&quot;))\n            .setFont(currentFont)\n            .setFontSize(12f)\n            .setWidth(75f)\n            .setHeight(22f)\n            .setTextAlignment(TextAlignment.LEFT);\n    // Add the paragraph\n    (new Canvas(new PdfCanvas(currentPage), pdf, rect))\n            .add((BlockElement)p);\n}\n</code></pre>\n<p>When I run this code, I'll get this exception when the last line is being executed:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)\n        at java.base/java.util.AbstractList.subListRangeCheck(AbstractList.java:509)\n        at java.base/java.util.ArrayList.subList(ArrayList.java:1138)\n        at com.itextpdf.layout.renderer.ParagraphRenderer.layout(ParagraphRenderer.java:235)\n        at com.itextpdf.layout.renderer.RootRenderer.addChild(RootRenderer.java:84)\n        at com.itextpdf.layout.renderer.CanvasRenderer.addChild(CanvasRenderer.java:86)\n        at com.itextpdf.layout.RootElement.add(RootElement.java:98)\n        at itext.bug.reproduce.ITextBugReproduce.main(ITextBugReproduce.java:50)\n</code></pre>\n<p>When I replace <code>Some longer value</code> with <code>test</code>, everything works. So it seems adding an overlength string to a small drawing area fails.</p>\n<p>The problem is: In real know only the destination drawing area, but I don't know the string which is going to be processed. This leads to my question: How can I draw even an overlength string to the PDF without pre-measuring etc.?</p>\n<p><strong>Update</strong>: When I expand the paragraph dimensions, I still have the same exception, so I assume its not a problem with the paragraph, but with the canvas which I use to restrict drawing to the destination rectangle (for not overwriting any contents outside of the rectangle).</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"score":0,"creation_date":1582283447,"post_id":60327672,"comment_id":106732697,"body_markdown":"Check if your generated mappers are seen by Spring? If you can @Autowired to other class. Maybe here is the problem.","body":"Check if your generated mappers are seen by Spring? If you can @Autowired to other class. Maybe here is the problem."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583268357,"post_id":60327672,"comment_id":107057183,"body_markdown":"can you share the code that MapStruct generates?","body":"can you share the code that MapStruct generates?"}],"answers":[{"tags":[],"owner":{"account_id":16503638,"reputation":56,"user_id":16038722,"display_name":"Matthew K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622130773,"creation_date":1622130773,"answer_id":67725744,"question_id":60327672,"body_markdown":"I&#39;ve encountered this issue myself. I was able to get around it by using the **default component model**. Here was my situation:\r\n\r\n 1. I was using `componentModel = &quot;spring&quot;`.\r\n 2. I was trying to utilize my Mappers in a separate Spring component.\r\n 3. My `@Autowired` fields referencing the Mappers **were** giving _NullPointerException_&#39;s when running tests.\r\n\r\n\r\nIf this sounds like what is happening to you, you have to use `componentModel = &quot;default&quot;`.\r\nI wanted to use the Spring component model; but, after an hour of banging my head against the wall, I decided to try the default component model.\r\n\r\nAfter changing my Mappers to the default component model and replacing the `@Autowired` fields, I no longer received that dreaded _NullPointerException_!!\r\n\r\nWorking Code:\r\n-------------\r\n```Java\r\n@Component\r\npublic class Mapper implements MapperTranslator&lt;Output, Input&gt; {\r\n    private final MappingVisitor mappingVisitor = Mappers.getMapper(MappingVisitor.class);\r\n    private final MappingDefault mappingDefault = Mappers.getMapper(MappingDefault.class);\r\n\r\n    @Override\r\n    public Output translate(Input source) {\r\n        if (source instanceof InputType1) {\r\n            return ((InputType1)source).acceptAndMap(mappingVisitor);\r\n        }\r\n        else if (source instanceof InputType2) {\r\n            return ((InputType2)source).acceptAndMap(mappingVisitor);\r\n        }\r\n\r\n        // default\r\n        return mappingDefault.translate(source);\r\n    }\r\n}\r\n```\r\n\r\n","title":"mapstruct using mapper inside another return null in test","body":"<p>I've encountered this issue myself. I was able to get around it by using the <strong>default component model</strong>. Here was my situation:</p>\n<ol>\n<li>I was using <code>componentModel = &quot;spring&quot;</code>.</li>\n<li>I was trying to utilize my Mappers in a separate Spring component.</li>\n<li>My <code>@Autowired</code> fields referencing the Mappers <strong>were</strong> giving <em>NullPointerException</em>'s when running tests.</li>\n</ol>\n<p>If this sounds like what is happening to you, you have to use <code>componentModel = &quot;default&quot;</code>.\nI wanted to use the Spring component model; but, after an hour of banging my head against the wall, I decided to try the default component model.</p>\n<p>After changing my Mappers to the default component model and replacing the <code>@Autowired</code> fields, I no longer received that dreaded <em>NullPointerException</em>!!</p>\n<h2>Working Code:</h2>\n<pre><code>@Component\npublic class Mapper implements MapperTranslator&lt;Output, Input&gt; {\n    private final MappingVisitor mappingVisitor = Mappers.getMapper(MappingVisitor.class);\n    private final MappingDefault mappingDefault = Mappers.getMapper(MappingDefault.class);\n\n    @Override\n    public Output translate(Input source) {\n        if (source instanceof InputType1) {\n            return ((InputType1)source).acceptAndMap(mappingVisitor);\n        }\n        else if (source instanceof InputType2) {\n            return ((InputType2)source).acceptAndMap(mappingVisitor);\n        }\n\n        // default\n        return mappingDefault.translate(source);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682284,"reputation":43,"user_id":1576325,"display_name":"jtth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671204753,"creation_date":1671204753,"answer_id":74826564,"question_id":60327672,"body_markdown":"I, too, was using the `spring` component model, and found this SO thread while troubleshooting. What worked for me was that in my test class, I needed to add these fields rather than reference the mapper class directly in my test method.\r\n\r\n```java\r\n@Autowired\r\nprivate final MyCustomMapper pMapper = Mappers.getMapper(MyCustomMapper.class);\r\n```","title":"mapstruct using mapper inside another return null in test","body":"<p>I, too, was using the <code>spring</code> component model, and found this SO thread while troubleshooting. What worked for me was that in my test class, I needed to add these fields rather than reference the mapper class directly in my test method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate final MyCustomMapper pMapper = Mappers.getMapper(MyCustomMapper.class);\n</code></pre>\n"}],"owner":{"account_id":8381673,"reputation":451,"user_id":6293374,"accept_rate":76,"display_name":"Omar B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671204753,"creation_date":1582228888,"question_id":60327672,"body_markdown":"I m using mapstruct to generate mappers. when I see in the generated code it is autowired the `Mymapper` in `MainMapper` but  when debug it is  showing that myMapper is null. When I change in the generated code  \r\n```\r\n@Autowired MyMapper myMapper\r\n``` \r\nwith : \r\n```\r\nMyMapper myMapper=Mappers.getMaper(MyMapper.class)\r\n``` \r\n, it is working but this is not what I want. I want it to be auto-generated like expected from the framwork.\r\nnb : `MainMapper` uses `MyMapper` , and `MyMapper` uses `Mapper2`\r\n\r\nmainMapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, \r\n    \tunmappedTargetPolicy = ReportingPolicy.IGNORE, \r\n    \tuses = MyMapper.class ,\r\n    \tnullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\r\n    public interface MainMapper {\r\n    \t\r\n    \t@Mappings({ @Mapping(target = &quot;year&quot;, source = &quot;Period.year&quot;) })\r\n    \tResource toResource(MyObject myObject);\r\n\r\n\t\t@Mapping(target = &quot;Period.year&quot;, source = &quot;year&quot;)\r\n\t    MyObject toModel(Resource resource);\r\n\t}\r\n\r\nMyMapper :\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, \r\n    \tunmappedTargetPolicy = ReportingPolicy.IGNORE,\r\n    \tuses = Mapper2.class,\r\n    \tnullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\r\n    public interface MyMapper {\r\n    \r\n    \tRequestResource toResource(Request request);\r\n    \r\n    \tRequest toModel(RequestResource requestResource);\r\n    }\r\nany help is appreciated .","title":"mapstruct using mapper inside another return null in test","body":"<p>I m using mapstruct to generate mappers. when I see in the generated code it is autowired the <code>Mymapper</code> in <code>MainMapper</code> but  when debug it is  showing that myMapper is null. When I change in the generated code  </p>\n\n<pre><code>@Autowired MyMapper myMapper\n</code></pre>\n\n<p>with : </p>\n\n<pre><code>MyMapper myMapper=Mappers.getMaper(MyMapper.class)\n</code></pre>\n\n<p>, it is working but this is not what I want. I want it to be auto-generated like expected from the framwork.\nnb : <code>MainMapper</code> uses <code>MyMapper</code> , and <code>MyMapper</code> uses <code>Mapper2</code></p>\n\n<p>mainMapper:</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", \n    unmappedTargetPolicy = ReportingPolicy.IGNORE, \n    uses = MyMapper.class ,\n    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\npublic interface MainMapper {\n\n    @Mappings({ @Mapping(target = \"year\", source = \"Period.year\") })\n    Resource toResource(MyObject myObject);\n\n    @Mapping(target = \"Period.year\", source = \"year\")\n    MyObject toModel(Resource resource);\n}\n</code></pre>\n\n<p>MyMapper :</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", \n    unmappedTargetPolicy = ReportingPolicy.IGNORE,\n    uses = Mapper2.class,\n    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_NULL)\npublic interface MyMapper {\n\n    RequestResource toResource(Request request);\n\n    Request toModel(RequestResource requestResource);\n}\n</code></pre>\n\n<p>any help is appreciated .</p>\n"},{"tags":["java","input","whitespace"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1671203204,"post_id":74826181,"comment_id":132055099,"body_markdown":"Getting the last number in a String and removing white spaces from a String are completely different things. You should clarify which one of those 2 things it is you want.","body":"Getting the last number in a String and removing white spaces from a String are completely different things. You should clarify which one of those 2 things it is you want."},{"owner":{"account_id":26814816,"reputation":1,"user_id":20404908,"display_name":"Codrunnr"},"score":0,"creation_date":1671203327,"post_id":74826181,"comment_id":132055135,"body_markdown":"@OHGODSPIDERS both work for what I want to do, I couldn&#39;t do both of them that&#39;s why I&#39;m asking","body":"@OHGODSPIDERS both work for what I want to do, I couldn&#39;t do both of them that&#39;s why I&#39;m asking"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204495,"creation_date":1671203714,"answer_id":74826357,"question_id":74826181,"body_markdown":"If you want the last number you can do it like this.\r\n- `.*?` reluctantly grab the characters\r\n- `(\\\\d+)$` - capture one or more digits at end of string.\r\n- `$1` back reference to captured value (21 in this case)\r\n- and convert to an int.\r\n```\r\nString s = &quot;kssk sk k22 s 21&quot;;\r\nint v = Integer.parseInt(s.replaceAll(&quot;.*?(\\\\d+)$&quot;,&quot;$1&quot;));\r\nSystem.out.println(v);\r\n```\r\nprints\r\n```\r\n21\r\n```\r\nA somewhat better alternative might be to do the following **if** there is always a space before the last number.\r\n- get the last index of a white space\r\n- and starting with the next character, get the substring and convert to an integer.\r\n```\r\nint i = s.lastIndexOf(&#39; &#39;); // returns -1 if no space is found.\r\nint v = Integer.parseInt(s.substring(i+1)); \r\n","title":"How can I remove white spaces from an input?","body":"<p>If you want the last number you can do it like this.</p>\n<ul>\n<li><code>.*?</code> reluctantly grab the characters</li>\n<li><code>(\\\\d+)$</code> - capture one or more digits at end of string.</li>\n<li><code>$1</code> back reference to captured value (21 in this case)</li>\n<li>and convert to an int.</li>\n</ul>\n<pre><code>String s = &quot;kssk sk k22 s 21&quot;;\nint v = Integer.parseInt(s.replaceAll(&quot;.*?(\\\\d+)$&quot;,&quot;$1&quot;));\nSystem.out.println(v);\n</code></pre>\n<p>prints</p>\n<pre><code>21\n</code></pre>\n<p>A somewhat better alternative might be to do the following <strong>if</strong> there is always a space before the last number.</p>\n<ul>\n<li>get the last index of a white space</li>\n<li>and starting with the next character, get the substring and convert to an integer.</li>\n</ul>\n<pre><code>int i = s.lastIndexOf(' '); // returns -1 if no space is found.\nint v = Integer.parseInt(s.substring(i+1)); \n</code></pre>\n"}],"owner":{"account_id":26814816,"reputation":1,"user_id":20404908,"display_name":"Codrunnr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671204495,"creation_date":1671202865,"question_id":74826181,"body_markdown":"This is the input: [enter image description here][1]\r\n\r\nI want to get the last number but how? (1,2,6)\r\n\r\nI tried this:\r\n\r\n\r\n  String line = scanner.nextLine();\r\n\r\n  String[] parts = line.split(&quot; &quot;);\r\n\r\n  int ProductCount =Integer.parseInt(parts[3].replaceAll(&quot; &quot;, &quot;&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHDJI.png","title":"How can I remove white spaces from an input?","body":"<p>This is the input: <a href=\"https://i.stack.imgur.com/uHDJI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to get the last number but how? (1,2,6)</p>\n<p>I tried this:</p>\n<p>String line = scanner.nextLine();</p>\n<p>String[] parts = line.split(&quot; &quot;);</p>\n<p>int ProductCount =Integer.parseInt(parts[3].replaceAll(&quot; &quot;, &quot;&quot;));</p>\n"},{"tags":["java","interface","lambda"],"comments":[{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":1,"creation_date":1418934039,"post_id":27554918,"comment_id":43536257,"body_markdown":"I think only interfaces that are tagged with the `@interface FunctionalInterface` annotation, can be instantiated with lambdas.","body":"I think only interfaces that are tagged with the <code>@interface FunctionalInterface</code> annotation, can be instantiated with lambdas."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1418934210,"post_id":27554918,"comment_id":43536342,"body_markdown":"You&#39;ll have to use a class, but that class can have a constructor that takes a string and a lambda.","body":"You&#39;ll have to use a class, but that class can have a constructor that takes a string and a lambda."},{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":3,"creation_date":1418934764,"post_id":27554918,"comment_id":43536628,"body_markdown":"You may want to rethink how you&#39;re representing this data. Most people, when calling a method like `addFoo(&quot;key&quot;, myFoo)` would not expect properties to get set on the value that they pass in. This could cause all kinds of unexpected behavior if they try to pass the same instance in with different strings. Maybe you should *not* have `Foo` implement `IFoo`, and have your overloaded method create a new `Foo` instance, whose implementation calls the given lambda&#39;s action?","body":"You may want to rethink how you&#39;re representing this data. Most people, when calling a method like <code>addFoo(&quot;key&quot;, myFoo)</code> would not expect properties to get set on the value that they pass in. This could cause all kinds of unexpected behavior if they try to pass the same instance in with different strings. Maybe you should <i>not</i> have <code>Foo</code> implement <code>IFoo</code>, and have your overloaded method create a new <code>Foo</code> instance, whose implementation calls the given lambda&#39;s action?"},{"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"score":0,"creation_date":1418935151,"post_id":27554918,"comment_id":43536798,"body_markdown":"That&#39;s what I&#39;ve ended up doing for the time being, creating an instance with a method that just calls an interface method feels so wrong though.","body":"That&#39;s what I&#39;ve ended up doing for the time being, creating an instance with a method that just calls an interface method feels so wrong though."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1418937290,"post_id":27554918,"comment_id":43537818,"body_markdown":"@mike A functional interface is any interface with a Single Abstract Method (aka. a SAM type). The annotation is optional.","body":"@mike A functional interface is any interface with a Single Abstract Method (aka. a SAM type). The annotation is optional."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1418939311,"post_id":27554918,"comment_id":43538810,"body_markdown":"@user1763295 can we see that code?  That sort of sounds fine.","body":"@user1763295 can we see that code?  That sort of sounds fine."},{"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"score":0,"creation_date":1418940761,"post_id":27554918,"comment_id":43539446,"body_markdown":"Yeah sure, I&#39;ve added it now for you.","body":"Yeah sure, I&#39;ve added it now for you."}],"owner":{"account_id":1962038,"reputation":890,"user_id":1763295,"accept_rate":77,"display_name":"user1763295"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671204393,"creation_date":1418933718,"question_id":27554918,"body_markdown":"I am trying to create an object which has two parts, a string and a method. For my handling of this I want the user to be able to do add(Instance) or add(string, lambda).\r\n\r\nThe way I understand it, I can&#39;t use an interface because they don&#39;t have public only properties (Not static), I can&#39;t use a class because then I couldn&#39;t pass it as an argument and I can&#39;t pass an interface then call the method directly because that would be bad practice.\r\n\r\nSo how / what is the best way to do this?\r\n\r\nEG:\r\n\r\n    interface IFoo {\r\n        void DoBar();\r\n    }\r\n\r\n    class Foo implmenets IFoo {\r\n        public string Bar;\r\n    }\r\n\r\nEG add:\r\n\r\n    void addFoo(Foo foo) {\r\n         this.foos.add(foo);\r\n    }\r\n\r\n    void addFoo(String bar, IFoo foo) {\r\n        foo.Bar = bar;\r\n        this.foos.add(foo);\r\n    }\r\n\r\n\r\nEG usage:\r\n\r\n    addFoo(&quot;yes&quot;, () -&gt; {\r\n        //some code\r\n    });\r\n\r\n\r\nEDIT: My current solution, feels like it would be bad practice, but it&#39;s the best I can come up with until someone else has a better idea.\r\n\r\nInterface (For the Lambda to use)\r\n\r\n    @FunctionalInterface\r\n    public interface ICommand\r\n    {\r\n        void processCommand(CommandArgument[] args);\r\n    }\r\n\r\nClass (For instancing)\r\n\r\n    public abstract class Command implements ICommand\r\n    {\r\n        public String command = &quot;&quot;;\r\n    \r\n        public abstract void processCommand(CommandArgument[] args);\r\n    }\r\n\r\nAdd method\r\n\r\n    public void addCommand(String commandName, ICommand action) {\r\n        Command command = new Command() {\r\n            @Override\r\n            public void processCommand(CommandArgument[] args) {\r\n                action.processCommand(args);\r\n            }\r\n        };\r\n        command.command = commandName;\r\n\r\n        this.addCommand(command);\r\n    }\r\n\r\nUsage:\r\n\r\n    CommandHandler handler = new CommandHandler();\r\n    handler.addCommand(&quot;quit&quot;, (CommandArgument[] args) -&gt; System.exit(0));","title":"Java passing lambda as argument with properties","body":"<p>I am trying to create an object which has two parts, a string and a method. For my handling of this I want the user to be able to do add(Instance) or add(string, lambda).</p>\n\n<p>The way I understand it, I can't use an interface because they don't have public only properties (Not static), I can't use a class because then I couldn't pass it as an argument and I can't pass an interface then call the method directly because that would be bad practice.</p>\n\n<p>So how / what is the best way to do this?</p>\n\n<p>EG:</p>\n\n<pre><code>interface IFoo {\n    void DoBar();\n}\n\nclass Foo implmenets IFoo {\n    public string Bar;\n}\n</code></pre>\n\n<p>EG add:</p>\n\n<pre><code>void addFoo(Foo foo) {\n     this.foos.add(foo);\n}\n\nvoid addFoo(String bar, IFoo foo) {\n    foo.Bar = bar;\n    this.foos.add(foo);\n}\n</code></pre>\n\n<p>EG usage:</p>\n\n<pre><code>addFoo(\"yes\", () -&gt; {\n    //some code\n});\n</code></pre>\n\n<p>EDIT: My current solution, feels like it would be bad practice, but it's the best I can come up with until someone else has a better idea.</p>\n\n<p>Interface (For the Lambda to use)</p>\n\n<pre><code>@FunctionalInterface\npublic interface ICommand\n{\n    void processCommand(CommandArgument[] args);\n}\n</code></pre>\n\n<p>Class (For instancing)</p>\n\n<pre><code>public abstract class Command implements ICommand\n{\n    public String command = \"\";\n\n    public abstract void processCommand(CommandArgument[] args);\n}\n</code></pre>\n\n<p>Add method</p>\n\n<pre><code>public void addCommand(String commandName, ICommand action) {\n    Command command = new Command() {\n        @Override\n        public void processCommand(CommandArgument[] args) {\n            action.processCommand(args);\n        }\n    };\n    command.command = commandName;\n\n    this.addCommand(command);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>CommandHandler handler = new CommandHandler();\nhandler.addCommand(\"quit\", (CommandArgument[] args) -&gt; System.exit(0));\n</code></pre>\n"},{"tags":["java","android-studio","gradle","module","access-modifiers"],"owner":{"account_id":27273769,"reputation":1,"user_id":20794713,"display_name":"or 1324"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671204005,"creation_date":1671204005,"question_id":74826416,"body_markdown":"I have recently found out about an option in android studio to create modules. I have searched the internet for an option to restrict access to the module&#39;s classes from other modules, and found nothing. I saw that it is possible in kotlin using the &quot;internal&quot; keyword, but this keyword does not exist in java.\r\nIn the official Android Developers website, they talk about the benefits of modularity, about encapsulation, like modules somehow help in that. How can they help in that if the visibility modifiers stay the same?\r\nFrom what I have seen, the modules in android studio just seperate the code into multiple folders, exactly like packages, but force you to import the module to the other module in order to use it.\r\nAlso, in the official website, they have best practices for using modules, and as a part of it they say that it is important to expose only the main parts of the module, and not the inner code that make it work.\r\nIf I can not control the exposure of my classes and packages, how can I do that?\r\n\r\nI tried to search for module access modifiers to android studio in google, I tried to search for gradle options for restricting access, I tried to create a module myself and look for options during the creation process, I tried using kotlin&#39;s internal access modifier.\r\n\r\nNothing gave me answers. Nothing allowed me to restrict the access of parts of the module.\r\n\r\n Thanks in advance!","title":"Is there any way to restrict access to specific packages in modules in android while using java?","body":"<p>I have recently found out about an option in android studio to create modules. I have searched the internet for an option to restrict access to the module's classes from other modules, and found nothing. I saw that it is possible in kotlin using the &quot;internal&quot; keyword, but this keyword does not exist in java.\nIn the official Android Developers website, they talk about the benefits of modularity, about encapsulation, like modules somehow help in that. How can they help in that if the visibility modifiers stay the same?\nFrom what I have seen, the modules in android studio just seperate the code into multiple folders, exactly like packages, but force you to import the module to the other module in order to use it.\nAlso, in the official website, they have best practices for using modules, and as a part of it they say that it is important to expose only the main parts of the module, and not the inner code that make it work.\nIf I can not control the exposure of my classes and packages, how can I do that?</p>\n<p>I tried to search for module access modifiers to android studio in google, I tried to search for gradle options for restricting access, I tried to create a module myself and look for options during the creation process, I tried using kotlin's internal access modifier.</p>\n<p>Nothing gave me answers. Nothing allowed me to restrict the access of parts of the module.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["javascript","java","jquery","jsp"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1671129605,"post_id":74815532,"comment_id":132037509,"body_markdown":"Please see [ask] then [edit] your question and add a [mcve].","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> then <a href=\"https://stackoverflow.com/posts/74815532/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":0,"creation_date":1671158718,"post_id":74815532,"comment_id":132044004,"body_markdown":"You want AJAX see [this](https://stackoverflow.com/a/22786996/14790684).","body":"You want AJAX see <a href=\"https://stackoverflow.com/a/22786996/14790684\">this</a>."},{"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"score":0,"creation_date":1671201681,"post_id":74815532,"comment_id":132054551,"body_markdown":"I actually posted a solution without ajax. I would really appreciate it if you could offer any suggestions for my answer. Thank you!","body":"I actually posted a solution without ajax. I would really appreciate it if you could offer any suggestions for my answer. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671203704,"creation_date":1671201603,"answer_id":74825932,"question_id":74815532,"body_markdown":"I actually found a solution to the problem, just wondering if it is save.\r\n\r\nI am using the following code:\r\nJsp file which I load data to:\r\n\r\n     &lt;c:import url=&quot;AllPendingMyDeals.jsp?&lt;%= UserID %&gt;&quot; var=&quot;dataPending&quot; /&gt;\r\n    //creating span to load data into\r\n    &lt;span id=&quot;AllPendingMyDealsSpan&quot;&gt;&lt;/span&gt;\r\n\r\nfile AllPendingMyDeals.jsp:\r\n\r\n    //loading all libs and classes\r\n    &lt;%@ page import=&quot;java.sql.*&quot; ..... %&gt;\r\n    \r\n    //Calling the functions from java to load the data\r\n    ArrayList&lt;Transaction&gt; AllPendingMyDeals = new ArrayList&lt;Transaction&gt;();\r\n    AllPendingMyDeals=myRDS.GetAllPendingBrokerDeals( 1,BrokerID, BrokerID ,&quot;0&quot;);\r\n    &lt;html&gt;\r\n    //creating the template for my data to be displayed (with classes and styles)\r\n     for( Transaction Trans : AllPendingMyDeals){\r\n    &lt;div&gt;.....&lt;/div&gt;\r\n    }\r\n    &lt;/html&gt;\r\n    \r\nAnd the javascript function to call and load data:\r\n\r\n    function getDataPending(callback){\r\n       $.get(&#39;AllPendingMyDeals.jsp&#39;, function(response) {\r\n         // Dynamically insert the data into the page\r\n         $(&#39;#AllPendingMyDealsSpan&#39;).html(response).ready(checkdata());\r\n       });\r\n     }\r\n    //function for checking loaded data after loading\r\n     function checkdata(){...}\r\n\r\nNow I am unsure how safe it is and am still solving a few issues with it. Is it a good way to do it or Ajax is better? \r\n","title":"How to dynamically load more data to the jsp page after it&#39;s loaded?","body":"<p>I actually found a solution to the problem, just wondering if it is save.</p>\n<p>I am using the following code:\nJsp file which I load data to:</p>\n<pre><code> &lt;c:import url=&quot;AllPendingMyDeals.jsp?&lt;%= UserID %&gt;&quot; var=&quot;dataPending&quot; /&gt;\n//creating span to load data into\n&lt;span id=&quot;AllPendingMyDealsSpan&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>file AllPendingMyDeals.jsp:</p>\n<pre><code>//loading all libs and classes\n&lt;%@ page import=&quot;java.sql.*&quot; ..... %&gt;\n\n//Calling the functions from java to load the data\nArrayList&lt;Transaction&gt; AllPendingMyDeals = new ArrayList&lt;Transaction&gt;();\nAllPendingMyDeals=myRDS.GetAllPendingBrokerDeals( 1,BrokerID, BrokerID ,&quot;0&quot;);\n&lt;html&gt;\n//creating the template for my data to be displayed (with classes and styles)\n for( Transaction Trans : AllPendingMyDeals){\n&lt;div&gt;.....&lt;/div&gt;\n}\n&lt;/html&gt;\n</code></pre>\n<p>And the javascript function to call and load data:</p>\n<pre><code>function getDataPending(callback){\n   $.get('AllPendingMyDeals.jsp', function(response) {\n     // Dynamically insert the data into the page\n     $('#AllPendingMyDealsSpan').html(response).ready(checkdata());\n   });\n }\n//function for checking loaded data after loading\n function checkdata(){...}\n</code></pre>\n<p>Now I am unsure how safe it is and am still solving a few issues with it. Is it a good way to do it or Ajax is better?</p>\n"}],"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671203704,"creation_date":1671125997,"question_id":74815532,"body_markdown":"I have a problem here.\r\n\r\n**Pre-problem**\r\n\r\nI am frontend mostly but trying to solve one important problem. All my backend is on java and I know you can load data to the page before it loads and then display it in html between the &lt;%= data %&gt; tags. But it takes a very long time to load all the data I need. \r\n\r\n**Problem**\r\n\r\nIs there a way to dynamically load more data to the page after it had been loaded? Or make it work on the background (some king of async, etc.)? \r\n\r\nRight now waiting time before page loads is 5-10 seconds and it is extremely long. Also, while page loads everything looks like it froze.\r\n\r\n**More info**\r\n\r\nPlease let me know if you need an example of my code, etc. Thank you!\r\n\r\nI tried researching about it but only found some suggestions to use jQuery or other languages/plugins which i did not quite understand. I would like to make a solution which works with only jave, JS, jQuery if possible.","title":"How to dynamically load more data to the jsp page after it&#39;s loaded?","body":"<p>I have a problem here.</p>\n<p><strong>Pre-problem</strong></p>\n<p>I am frontend mostly but trying to solve one important problem. All my backend is on java and I know you can load data to the page before it loads and then display it in html between the &lt;%= data %&gt; tags. But it takes a very long time to load all the data I need.</p>\n<p><strong>Problem</strong></p>\n<p>Is there a way to dynamically load more data to the page after it had been loaded? Or make it work on the background (some king of async, etc.)?</p>\n<p>Right now waiting time before page loads is 5-10 seconds and it is extremely long. Also, while page loads everything looks like it froze.</p>\n<p><strong>More info</strong></p>\n<p>Please let me know if you need an example of my code, etc. Thank you!</p>\n<p>I tried researching about it but only found some suggestions to use jQuery or other languages/plugins which i did not quite understand. I would like to make a solution which works with only jave, JS, jQuery if possible.</p>\n"},{"tags":["java","struts2","freemarker"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1491241081,"post_id":43158630,"comment_id":73454812,"body_markdown":"What is `FirstAction` is your ftl?","body":"What is <code>FirstAction</code> is your ftl?"},{"owner":{"display_name":"user2252882"},"score":0,"creation_date":1491656522,"post_id":43158630,"comment_id":73655602,"body_markdown":"FitstAction is a class.","body":"FitstAction is a class."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491076660,"creation_date":1491076660,"answer_id":43161362,"question_id":43158630,"body_markdown":"You have used deprecated api. See [Handling missing values][1].\r\n\r\n\r\n&gt; Note:\r\n&gt; \r\n&gt; These operators exist since FreeMarker 2.3.7 (replacing the `default`,\r\n&gt; `exists` and `if_exists` built-ins).\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to lean how properties are resolved in Struts 2 you can read [this][2] answer.\r\n\r\n\r\n  [1]: http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_missing\r\n  [2]: https://stackoverflow.com/a/32868476/573032","title":"My interceptors are not fetching values from action page to FTL in Struts 2","body":"<p>You have used deprecated api. See <a href=\"http://freemarker.org/docs/dgui_template_exp.html#dgui_template_exp_missing\" rel=\"nofollow noreferrer\">Handling missing values</a>.</p>\n\n<blockquote>\n  <p>Note:</p>\n  \n  <p>These operators exist since FreeMarker 2.3.7 (replacing the <code>default</code>,\n  <code>exists</code> and <code>if_exists</code> built-ins).</p>\n</blockquote>\n\n<hr>\n\n<p>If you want to lean how properties are resolved in Struts 2 you can read <a href=\"https://stackoverflow.com/a/32868476/573032\">this</a> answer.</p>\n"},{"tags":[],"owner":{"display_name":"user2252882"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491844907,"creation_date":1491660757,"answer_id":43295146,"question_id":43158630,"body_markdown":"Stupid mistake. Instead of writing `${FirstAction?if_exists.random}` i should have written `${random?if_exists}`. \r\n\r\nThis is not a static class. ","title":"My interceptors are not fetching values from action page to FTL in Struts 2","body":"<p>Stupid mistake. Instead of writing <code>${FirstAction?if_exists.random}</code> i should have written <code>${random?if_exists}</code>. </p>\n\n<p>This is not a static class. </p>\n"}],"owner":{"display_name":"user2252882"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43295146,"answer_count":2,"score":0,"last_activity_date":1671203647,"creation_date":1491060301,"question_id":43158630,"body_markdown":"I am not able to find the issue that why my FTL couldn&#39;t fetch values from action page.\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n**This is my FTL code:**\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;#assign temp = 12311&gt;\r\n    &lt;h4&gt;hello world  : ${FirstAction?if_exists.random} #{temp}&lt;/h4&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**This is my `struts.xml`:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC\r\n       &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n       &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n    &lt;struts&gt;\r\n      \t&lt;constant name=&quot;struts.enable.DynamicMethodInvocation&quot;\r\n            value=&quot;true&quot; /&gt;\r\n        &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\r\n      &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\r\n      \r\n        &lt;action name=&quot;getTutorial&quot; class=&quot;MyActions.FirstAction&quot; &gt;\r\n          &lt;result name=&quot;success&quot;&gt;/success.jsp&lt;/result&gt;\r\n          &lt;result name=&quot;failure&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        \r\n        &lt;action name=&quot;submit&quot; class=&quot;MyActions.FirstAction&quot; method=&quot;submit&quot;&gt;&lt;/action&gt;\r\n        \r\n        &lt;action name=&quot;callme&quot; class=&quot;MyActions.FirstAction&quot; method=&quot;myMethod&quot;&gt;\r\n          &lt;result name=&quot;success&quot;&gt;/FreeMarkerPages/testingAction.jsp&lt;/result&gt;\r\n          &lt;result name=&quot;failure&quot;  type=&quot;freemarker&quot;&gt;/FreeMarkerPages/FirstFTL.ftl&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        \r\n      &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n\r\n**This is my action class:**\r\n\r\n```java\r\npackage MyActions;\r\n\r\nimport java.util.Random;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\nimport service.ColorPicker;\r\n\r\n    public class FirstAction extends ActionSupport{\r\n    \tprivate int random;\r\n    \tpublic String execute() {\r\n    \t\treturn &quot;failure&quot;;\r\n    \t}\r\n    \tpublic String myMethod(){\r\n    \t\tsetRandom(9999);\r\n    \t\tSystem.out.println(&quot;My method &quot;+random);\t\r\n    \t\treturn &quot;failure&quot;;\r\n    \t}\r\n    \t\r\n    \tpublic String submit(){\r\n    \t\tSystem.out.println(random);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic int getRandom() {\r\n    \t\treturn random;\r\n    \t}\r\n    \tpublic void setRandom(int random) {\r\n    \t\tthis.random = random;\r\n    \t}\r\n ```\r\n\r\n**This is my FTL error :**\r\n\r\n    FreeMarker template error (HTML_DEBUG mode; use RETHROW in production!)\r\n    \r\n    \r\n&gt;The following has evaluated to null or missing:\r\n    ==&gt; FirstAction?if_exists.random  [in template &quot;FreeMarkerPages/FirstFTL.ftl&quot; at line 5, column 22]\r\n\r\n\r\n\r\n\r\n","title":"My interceptors are not fetching values from action page to FTL in Struts 2","body":"<p>I am not able to find the issue that why my FTL couldn't fetch values from action page.</p>\n\n<p><strong>This is my FTL code:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;#assign temp = 12311&gt;\n&lt;h4&gt;hello world  : ${FirstAction?if_exists.random} #{temp}&lt;/h4&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>This is my <code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;constant name=&quot;struts.enable.DynamicMethodInvocation&quot;\n        value=&quot;true&quot; /&gt;\n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;true&quot; /&gt;\n  &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\n  \n    &lt;action name=&quot;getTutorial&quot; class=&quot;MyActions.FirstAction&quot; &gt;\n      &lt;result name=&quot;success&quot;&gt;/success.jsp&lt;/result&gt;\n      &lt;result name=&quot;failure&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    \n    &lt;action name=&quot;submit&quot; class=&quot;MyActions.FirstAction&quot; method=&quot;submit&quot;&gt;&lt;/action&gt;\n    \n    &lt;action name=&quot;callme&quot; class=&quot;MyActions.FirstAction&quot; method=&quot;myMethod&quot;&gt;\n      &lt;result name=&quot;success&quot;&gt;/FreeMarkerPages/testingAction.jsp&lt;/result&gt;\n      &lt;result name=&quot;failure&quot;  type=&quot;freemarker&quot;&gt;/FreeMarkerPages/FirstFTL.ftl&lt;/result&gt;\n    &lt;/action&gt;\n    \n  &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p><strong>This is my action class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package MyActions;\n\nimport java.util.Random;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\nimport service.ColorPicker;\n\n    public class FirstAction extends ActionSupport{\n        private int random;\n        public String execute() {\n            return &quot;failure&quot;;\n        }\n        public String myMethod(){\n            setRandom(9999);\n            System.out.println(&quot;My method &quot;+random);    \n            return &quot;failure&quot;;\n        }\n        \n        public String submit(){\n            System.out.println(random);\n            return null;\n        }\n        \n        public int getRandom() {\n            return random;\n        }\n        public void setRandom(int random) {\n            this.random = random;\n        }\n</code></pre>\n<p><strong>This is my FTL error :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>FreeMarker template error (HTML_DEBUG mode; use RETHROW in production!)\n</code></pre>\n<blockquote>\n<p>The following has evaluated to null or missing:\n==&gt; FirstAction?if_exists.random  [in template &quot;FreeMarkerPages/FirstFTL.ftl&quot; at line 5, column 22]</p>\n</blockquote>\n"},{"tags":["java","monitoring","stack-trace","datadog"],"answers":[{"tags":[],"owner":{"account_id":1633319,"reputation":332,"user_id":1507445,"display_name":"senyor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671203571,"creation_date":1671202806,"answer_id":74826163,"question_id":62570190,"body_markdown":"Could be as simple as searching by:\r\n\r\n    @stack_trace:*some_exception*\r\n\r\nSpaces in multiple words must be escaped as other special characters.\r\n\r\n    @stack_trace:*word\\ another_word*\r\n\r\nMore on this [here][1].\r\n\r\n  [1]: https://docs.datadoghq.com/tracing/trace_explorer/query_syntax/","title":"Datadog search by java stacktrace","body":"<p>Could be as simple as searching by:</p>\n<pre><code>@stack_trace:*some_exception*\n</code></pre>\n<p>Spaces in multiple words must be escaped as other special characters.</p>\n<pre><code>@stack_trace:*word\\ another_word*\n</code></pre>\n<p>More on this <a href=\"https://docs.datadoghq.com/tracing/trace_explorer/query_syntax/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671203571,"creation_date":1593070627,"question_id":62570190,"body_markdown":"Anyway, how can I search for all messages(errors) where stacktrace contains specific piece of code? According to datadog documentation it search only by message attribute(it&#39;s infered from the json-like object sent to datadog when you log something). Stacktrace is a separate property and I cannot understand how to search it. ","title":"Datadog search by java stacktrace","body":"<p>Anyway, how can I search for all messages(errors) where stacktrace contains specific piece of code? According to datadog documentation it search only by message attribute(it's infered from the json-like object sent to datadog when you log something). Stacktrace is a separate property and I cannot understand how to search it.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","spring-scheduled"],"comments":[{"owner":{"account_id":7536689,"reputation":603,"user_id":5722716,"accept_rate":100,"display_name":"Prajwal"},"score":0,"creation_date":1625505901,"post_id":68259930,"comment_id":120639551,"body_markdown":"Where do you have the transactional annotation?","body":"Where do you have the transactional annotation?"},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625505982,"post_id":68259930,"comment_id":120639572,"body_markdown":"If I do a transaction then the result is also the same....","body":"If I do a transaction then the result is also the same...."},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625506001,"post_id":68259930,"comment_id":120639584,"body_markdown":"No changes in database","body":"No changes in database"},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625506074,"post_id":68259930,"comment_id":120639606,"body_markdown":"Update happens outside of TaskScheduler class but not in TaskScheduler","body":"Update happens outside of TaskScheduler class but not in TaskScheduler"},{"owner":{"account_id":7536689,"reputation":603,"user_id":5722716,"accept_rate":100,"display_name":"Prajwal"},"score":0,"creation_date":1625506170,"post_id":68259930,"comment_id":120639645,"body_markdown":"Either have the transactional annotation on top of your scheduler class or move your update method to another class and keep the transactional annotation on top of your updateOfferState method.","body":"Either have the transactional annotation on top of your scheduler class or move your update method to another class and keep the transactional annotation on top of your updateOfferState method."},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625506355,"post_id":68259930,"comment_id":120639700,"body_markdown":"Didn&#39;t work......","body":"Didn&#39;t work......"},{"owner":{"account_id":7536689,"reputation":603,"user_id":5722716,"accept_rate":100,"display_name":"Prajwal"},"score":0,"creation_date":1625506646,"post_id":68259930,"comment_id":120639779,"body_markdown":"Please add the transactional annotation in your question as well. Because without which it doesn&#39;t work right?","body":"Please add the transactional annotation in your question as well. Because without which it doesn&#39;t work right?"},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625506770,"post_id":68259930,"comment_id":120639812,"body_markdown":"Updated...can you please check?","body":"Updated...can you please check?"},{"owner":{"account_id":7536689,"reputation":603,"user_id":5722716,"accept_rate":100,"display_name":"Prajwal"},"score":0,"creation_date":1625507184,"post_id":68259930,"comment_id":120639923,"body_markdown":"Checked, you see it won&#39;t work, because you have transactional on a private method. Put it on top of the Scheduler class. Or \n move the update method to another class and keep the transactional annotation on top of your updateOfferState method.","body":"Checked, you see it won&#39;t work, because you have transactional on a private method. Put it on top of the Scheduler class. Or   move the update method to another class and keep the transactional annotation on top of your updateOfferState method."},{"owner":{"account_id":7536689,"reputation":603,"user_id":5722716,"accept_rate":100,"display_name":"Prajwal"},"score":0,"creation_date":1625507262,"post_id":68259930,"comment_id":120639941,"body_markdown":"https://stackoverflow.com/questions/23132822/what-is-the-difference-between-defining-transactional-on-class-vs-method","body":"<a href=\"https://stackoverflow.com/questions/23132822/what-is-the-difference-between-defining-transactional-on-class-vs-method\" title=\"what is the difference between defining transactional on class vs method\">stackoverflow.com/questions/23132822/&hellip;</a>"},{"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"score":0,"creation_date":1625507725,"post_id":68259930,"comment_id":120640053,"body_markdown":"no luck so far......tried both way :(","body":"no luck so far......tried both way :("}],"answers":[{"tags":[],"owner":{"account_id":5295767,"reputation":556,"user_id":4226981,"display_name":"jdel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671203086,"creation_date":1671203086,"answer_id":74826220,"question_id":68259930,"body_markdown":"I had the exact same issue, and landed on your post.\r\n\r\nI managed to resolve mine by simply adding @Transactionnal on top of my scheduler class (in your case, `TaskScheduler`)\r\n\r\nI know I&#39;m a bit late, but I hope it will help other people","title":"Why changes is not reflected in database while updating in spring scheduler?","body":"<p>I had the exact same issue, and landed on your post.</p>\n<p>I managed to resolve mine by simply adding @Transactionnal on top of my scheduler class (in your case, <code>TaskScheduler</code>)</p>\n<p>I know I'm a bit late, but I hope it will help other people</p>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671203086,"creation_date":1625505513,"question_id":68259930,"body_markdown":"**My changes are not reflected in the database. I am trying to do changes to this TasksScheduler class. But no changes are reflected in the database. If I do:**\r\n```\r\nSystem.out.println(bannerRepo.save(banner))\r\n```\r\nThen it is showing output. But no database changes happen. But if I try to save or delete outside scheduler class then changes happens. My TasksScheduler class:\r\n```\r\npackage com.shopKpr.apps.medicine.repositories.admin.jpa;\r\n\r\nimport com.shopKpr.apps.medicine.model.admin.Banner;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@Component\r\n@Slf4j\r\n@EnableScheduling\r\npublic class TasksScheduler {\r\n\r\n    private final BannerRepo bannerRepo;\r\n\r\n    public TasksScheduler( BannerRepo bannerRepo ) {\r\n        this.bannerRepo = bannerRepo;\r\n    }\r\n\r\n    //sec, min, hour\r\n    @Scheduled(cron = &quot;0 14 3 * * *&quot;, zone = &quot;Asia/Dacca&quot;) //Schedule at night 1 AM\r\n    public void schedulerTask() {\r\n        updateOfferState();\r\n    }\r\n\r\n\r\n    @Transactional\r\n    void updateOfferState() {\r\n\r\n        java.sql.Date today = new java.sql.Date(new java.util.Date().getTime());\r\n\r\n        List&lt;Banner&gt; bannerList = bannerRepo.findAll();\r\n\r\n        bannerList.parallelStream()\r\n                .filter(banner -&gt; today.after(banner.getBannerStartDate()))\r\n                .forEach(banner -&gt; {\r\n                    banner.setEnabled(true);\r\n                    bannerRepo.save(banner);\r\n                });\r\n\r\n        List&lt;Banner&gt; deletableBanners = bannerList.stream()\r\n                .filter(banner -&gt; today.after(banner.getBannerEndDate()))\r\n                .collect(Collectors.toList());\r\n\r\n        deletableBanners.forEach(banner -&gt; bannerRepo.deleteById(banner.getBannerId()));\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nMy Banner class:\r\n```\r\npackage com.shopKpr.apps.medicine.model.admin;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table\r\n@Entity\r\npublic class Banner implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long bannerId;\r\n    @Column(nullable = false)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MMM dd, yyyy&quot;, timezone = &quot;Asia/Dhaka&quot;)\r\n    private Date bannerStartDate;\r\n    @Column(nullable = false)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MMM dd, yyyy&quot;, timezone = &quot;Asia/Dhaka&quot;)\r\n    private Date bannerEndDate;\r\n    @Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\r\n    private String bannerImage;\r\n    @Column(nullable = false)\r\n    private boolean enabled;\r\n    private String hyperLinkId;\r\n}\r\n```\r\nBanner repository:\r\n```\r\npackage com.shopKpr.apps.medicine.repositories.admin.jpa;\r\n\r\nimport com.shopKpr.apps.medicine.model.admin.Banner;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface BannerRepo extends JpaRepository&lt;Banner, Long&gt; {\r\n\r\n}\r\n```","title":"Why changes is not reflected in database while updating in spring scheduler?","body":"<p><strong>My changes are not reflected in the database. I am trying to do changes to this TasksScheduler class. But no changes are reflected in the database. If I do:</strong></p>\n<pre><code>System.out.println(bannerRepo.save(banner))\n</code></pre>\n<p>Then it is showing output. But no database changes happen. But if I try to save or delete outside scheduler class then changes happens. My TasksScheduler class:</p>\n<pre><code>package com.shopKpr.apps.medicine.repositories.admin.jpa;\n\nimport com.shopKpr.apps.medicine.model.admin.Banner;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Component\n@Slf4j\n@EnableScheduling\npublic class TasksScheduler {\n\n    private final BannerRepo bannerRepo;\n\n    public TasksScheduler( BannerRepo bannerRepo ) {\n        this.bannerRepo = bannerRepo;\n    }\n\n    //sec, min, hour\n    @Scheduled(cron = &quot;0 14 3 * * *&quot;, zone = &quot;Asia/Dacca&quot;) //Schedule at night 1 AM\n    public void schedulerTask() {\n        updateOfferState();\n    }\n\n\n    @Transactional\n    void updateOfferState() {\n\n        java.sql.Date today = new java.sql.Date(new java.util.Date().getTime());\n\n        List&lt;Banner&gt; bannerList = bannerRepo.findAll();\n\n        bannerList.parallelStream()\n                .filter(banner -&gt; today.after(banner.getBannerStartDate()))\n                .forEach(banner -&gt; {\n                    banner.setEnabled(true);\n                    bannerRepo.save(banner);\n                });\n\n        List&lt;Banner&gt; deletableBanners = bannerList.stream()\n                .filter(banner -&gt; today.after(banner.getBannerEndDate()))\n                .collect(Collectors.toList());\n\n        deletableBanners.forEach(banner -&gt; bannerRepo.deleteById(banner.getBannerId()));\n\n\n    }\n}\n</code></pre>\n<p>My Banner class:</p>\n<pre><code>package com.shopKpr.apps.medicine.model.admin;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Date;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table\n@Entity\npublic class Banner implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long bannerId;\n    @Column(nullable = false)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MMM dd, yyyy&quot;, timezone = &quot;Asia/Dhaka&quot;)\n    private Date bannerStartDate;\n    @Column(nullable = false)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MMM dd, yyyy&quot;, timezone = &quot;Asia/Dhaka&quot;)\n    private Date bannerEndDate;\n    @Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\n    private String bannerImage;\n    @Column(nullable = false)\n    private boolean enabled;\n    private String hyperLinkId;\n}\n</code></pre>\n<p>Banner repository:</p>\n<pre><code>package com.shopKpr.apps.medicine.repositories.admin.jpa;\n\nimport com.shopKpr.apps.medicine.model.admin.Banner;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface BannerRepo extends JpaRepository&lt;Banner, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1601811,"reputation":453,"user_id":1482699,"display_name":"Dennis"},"score":0,"creation_date":1671202335,"post_id":74825780,"comment_id":132054812,"body_markdown":"Usually you don&#39;t write &quot;getByTravelId&quot; but &quot;getByTravel&quot; (at least with springs JpaRepository) and put either a long or your whole entity as the parameter. However you can also write a query on your own like this (with the @Query annotation): `SELECT ta FROM TravenAudit ta WHERE ta.travel.id = :travel_id`","body":"Usually you don&#39;t write &quot;getByTravelId&quot; but &quot;getByTravel&quot; (at least with springs JpaRepository) and put either a long or your whole entity as the parameter. However you can also write a query on your own like this (with the @Query annotation): <code>SELECT ta FROM TravenAudit ta WHERE ta.travel.id = :travel_id</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1671202708,"post_id":74825780,"comment_id":132054938,"body_markdown":"Your issue with the Join columns seems like you misunderstand the join column annotation, and the answer you&#39;ve linked. The &#39;name&#39; is used to define the foreign key within the current table, so you are defining two reference mappings to use the same column - this is a problem as Entities are writeable, and JPA needs to know which &#39;one&#39; controls setting the value. You have to mark one as read-only (insertable+updatable=false) for it to accept both mappings using the same column. I don&#39;t now why you&#39;d have a table definition in there, it knows the table referenced from the entity referenced.","body":"Your issue with the Join columns seems like you misunderstand the join column annotation, and the answer you&#39;ve linked. The &#39;name&#39; is used to define the foreign key within the current table, so you are defining two reference mappings to use the same column - this is a problem as Entities are writeable, and JPA needs to know which &#39;one&#39; controls setting the value. You have to mark one as read-only (insertable+updatable=false) for it to accept both mappings using the same column. I don&#39;t now why you&#39;d have a table definition in there, it knows the table referenced from the entity referenced."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671203063,"creation_date":1671203063,"answer_id":74826214,"question_id":74825780,"body_markdown":"The mapping for your audit Entity might be:\r\n\r\n    @Entity\r\n    @Table(name = &quot;travel_audit&quot;)\r\n    public class TravelAudit {\r\n        @Id\r\n        @Column(name=&quot;travel_id&quot;)\r\n        private String travelId;\r\n\r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;travel_id&quot;, insertable=false, updatable=false)\r\n        private Travel travel;\r\n        \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;travel_id&quot;, insertable=false, updatable=false)\r\n        private TravelHistory travelHistory;\r\n    }\r\n\r\nIf you are using JPA/Hibernate to generate the DDL, you&#39;ll want to make sure there isn&#39;t a constraint generated for the travel_audit.travel_id -&gt; travel table reference, as it will get broken any time your app tries to delete travel rows still referenced by a travel audit instance.\r\n\r\nHaving a basic mapping (travelId) will allow you to query using the value without having to join between the two tables and complicate your queries as the default inner join would break the logic you need.","title":"Java Hibernate JPA create an entity and Join two different tables referenced by the same column, with same column name","body":"<p>The mapping for your audit Entity might be:</p>\n<pre><code>@Entity\n@Table(name = &quot;travel_audit&quot;)\npublic class TravelAudit {\n    @Id\n    @Column(name=&quot;travel_id&quot;)\n    private String travelId;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;travel_id&quot;, insertable=false, updatable=false)\n    private Travel travel;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;travel_id&quot;, insertable=false, updatable=false)\n    private TravelHistory travelHistory;\n}\n</code></pre>\n<p>If you are using JPA/Hibernate to generate the DDL, you'll want to make sure there isn't a constraint generated for the travel_audit.travel_id -&gt; travel table reference, as it will get broken any time your app tries to delete travel rows still referenced by a travel audit instance.</p>\n<p>Having a basic mapping (travelId) will allow you to query using the value without having to join between the two tables and complicate your queries as the default inner join would break the logic you need.</p>\n"}],"owner":{"account_id":4513919,"reputation":647,"user_id":3669309,"accept_rate":83,"display_name":"Tupac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74826214,"answer_count":1,"score":0,"last_activity_date":1671203063,"creation_date":1671200765,"question_id":74825780,"body_markdown":"I have an issue that want to resolve using just annotations, and not two different query to obtain the data. I need to join two different tables with the same column id. I have Travels, and at certain time, the rows in Travel are erased, but now TravelHistory (a table to save data) have the row with just the data needed to save (and with the same id of Travel... make sense). At certain time, Travel and TravelHistory may coexist.\r\n\r\nI want to have the two different classes mapped by same id (`travel_id` is the name of column), something like this (code is simplified): \r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;travel_audit&quot;)\r\n    public class TravelAudit {\r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;travel_id&quot;)\r\n        private Travel travel;\r\n        \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;travel_id&quot;)\r\n        private TravelHistory travelHistory;\r\n    \r\n    }\r\n\r\nbut Hibernate seems to not like that (having the same `name = &quot;travel_id&quot;`), so I have errors to create the Bean.\r\n\r\nFor this [answer][1] I put a little more effort, and all detail, so to have more references to the tables:\r\n\r\n    @Column(name = &quot;travel_id&quot;)\r\n    private Long travelId;\r\n    \r\n    @OneToOne(targetEntity = Travel.class, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;travel_id&quot;, table = &quot;travel&quot;)\r\n    private Travel travel;\r\n    \r\n    @OneToOne(targetEntity = TravelHistory.class, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;travel_id&quot;, table = &quot;travel_history&quot;)\r\n    private TravelHistory travelHistory;\r\n\r\nBut it didn&#39;t work.\r\n\r\nAfter that I want to make an `Optional&lt;TravelAudit&gt; findByTravelId(Long travelId);` and obtain Travel and/or TravelHistory\r\n\r\nHow can I do this? Unfortunately I think I&#39;m going to have to retrieve the travel_id (it&#39;s a Long) and get the other tables separately.\r\n\r\nThe error is:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45646091/3669309","title":"Java Hibernate JPA create an entity and Join two different tables referenced by the same column, with same column name","body":"<p>I have an issue that want to resolve using just annotations, and not two different query to obtain the data. I need to join two different tables with the same column id. I have Travels, and at certain time, the rows in Travel are erased, but now TravelHistory (a table to save data) have the row with just the data needed to save (and with the same id of Travel... make sense). At certain time, Travel and TravelHistory may coexist.</p>\n<p>I want to have the two different classes mapped by same id (<code>travel_id</code> is the name of column), something like this (code is simplified):</p>\n<pre><code>@Entity\n@Table(name = &quot;travel_audit&quot;)\npublic class TravelAudit {\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;travel_id&quot;)\n    private Travel travel;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;travel_id&quot;)\n    private TravelHistory travelHistory;\n\n}\n</code></pre>\n<p>but Hibernate seems to not like that (having the same <code>name = &quot;travel_id&quot;</code>), so I have errors to create the Bean.</p>\n<p>For this <a href=\"https://stackoverflow.com/a/45646091/3669309\">answer</a> I put a little more effort, and all detail, so to have more references to the tables:</p>\n<pre><code>@Column(name = &quot;travel_id&quot;)\nprivate Long travelId;\n\n@OneToOne(targetEntity = Travel.class, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;travel_id&quot;, table = &quot;travel&quot;)\nprivate Travel travel;\n\n@OneToOne(targetEntity = TravelHistory.class, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;travel_id&quot;, table = &quot;travel_history&quot;)\nprivate TravelHistory travelHistory;\n</code></pre>\n<p>But it didn't work.</p>\n<p>After that I want to make an <code>Optional&lt;TravelAudit&gt; findByTravelId(Long travelId);</code> and obtain Travel and/or TravelHistory</p>\n<p>How can I do this? Unfortunately I think I'm going to have to retrieve the travel_id (it's a Long) and get the other tables separately.</p>\n<p>The error is:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory</p>\n</blockquote>\n"},{"tags":["java","string","oop","comparator","comparable"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671199792,"post_id":74825568,"comment_id":132053835,"body_markdown":"Hello and welcome. Please keep formatting to a useful minimum. In particular, please don&#39;t start sentences with `&gt;` unless you specifically want to quote a passage from somewhere else.","body":"Hello and welcome. Please keep formatting to a useful minimum. In particular, please don&#39;t start sentences with <code>&gt;</code> unless you specifically want to quote a passage from somewhere else."},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1671200107,"post_id":74825568,"comment_id":132053954,"body_markdown":"Hello, i hope it looks better, im still new to this","body":"Hello, i hope it looks better, im still new to this"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671201435,"post_id":74825568,"comment_id":132054462,"body_markdown":"Hello Sarah not sure if that would help but could you create method that take clothingItemList as paramter and another string (which is the user input ) then it return array list that match that find maybe using while or for loop it could even call getItemByProducer() at the end to do the sorting also but you would need to modify this getItemByProducer()  to accept an arraylist","body":"Hello Sarah not sure if that would help but could you create method that take clothingItemList as paramter and another string (which is the user input ) then it return array list that match that find maybe using while or for loop it could even call getItemByProducer() at the end to do the sorting also but you would need to modify this getItemByProducer()  to accept an arraylist"}],"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671202605,"creation_date":1671199654,"question_id":74825568,"body_markdown":"I&#39;m still new to java. My task was to find all Producers in ArrayList who matches the word or character that the user inserts and return a list of those words sorted by their field.\r\n\r\nFor example, we have Producers {&quot;Alex&quot;,&quot;Bob&quot;,&quot;Amanda&quot;,&quot;Jack&quot;, &quot;Jari&quot;}\r\n\r\nUser wants to seach for &quot;A&quot;program returns sorted==\\&gt;&quot;Alex&quot;,&quot;Amanda&quot; User wants to seach for &quot;Ja&quot;program returns sorted==\\&gt;&quot;Jack&quot;, &quot;Jari&quot; User wants to seach for &quot;Bob&quot;program returns sorted==\\&gt;&quot;Bob&quot;\r\n\r\nthis is all code I have for now in my main method:\r\n\r\n```\r\nProducers producer1 = new Producers(&quot;Alex&quot;);\r\nProducers producer2 = new Producers(&quot;Jack&quot;);\r\nProducers producer3 = new Producers(&quot;Jari&quot;);\r\n```\r\n\r\nAdding all producers into ArrayList\r\n\r\n```\r\nProducers.allProducers.add(producer1);\r\nProducers.allProducers.add(producer2);\r\nProducers.allProducers.add(producer3);`\r\n```\r\n\r\nThen we have another Object called Clothing where we had a task to add our producer for each piece of clothing\r\n\r\n```\r\nClothing wClothing1 = new Clothing(&quot;Sneakers&quot;, 6.99, ProductsType.SHOES); // name,price,ProductsType as ENUMClothing \r\nClothing wClothing2 = new Clothing(&quot;AShoe&quot;, 1.99, ProductsType.SHOES);\r\nClothing wClothing3 = new Clothing(&quot;Cocktail dress&quot;, 15.99, ProductsType.DRESSES);\r\nwClothing1.setProducers(producer1);\r\nwClothing2.setProducers(producer2);\r\nwClothing3.setProducers(producer3);\r\n```\r\n\r\nAdding all clothing into ArrayList\r\n\r\n```\r\nItems.clothingItemList.add(wClothing1);\r\nItems.clothingItemList.add(wClothing2);\r\nItems.clothingItemList.add(wClothing3);`\r\n```\r\n\r\nWe need to search, find and sort words only by producers in Items.clothingItemList. So I created a sorting method that can only sort all producers but can&#39;t search for them and then sort.\r\n\r\n```\r\npublic static void getItemByProducer() {\r\n Collections.sort(Items.clothingItemList, new SortByProducersComparator());\r\n    System.out.println(Items.clothingItemList.toString());\r\n}\r\n```\r\n\r\nI created also a new class called SortByProducersComparator():\r\n\r\n```\r\nimport java.util.Comparator;\r\n\r\npublic class SortByProducersComparator implements Comparator&lt;Items&gt; {\r\n    @Override\r\n    public int compare(Items o1, Items o2) {\r\n        int c =0;\r\n        c=o1.getProducersName().compareTo(o2.getProducersName());\r\n        return c;\r\n}}\r\n```\r\n\r\nWe need to do this task using: Comparator, Comparable.\r\nwe cant use it to stream.\r\n\r\nPlease help, I hope my explanation of the task was good enough","title":"How to search for given word or character in ArrayList and show those who match and sort them","body":"<p>I'm still new to java. My task was to find all Producers in ArrayList who matches the word or character that the user inserts and return a list of those words sorted by their field.</p>\n<p>For example, we have Producers {&quot;Alex&quot;,&quot;Bob&quot;,&quot;Amanda&quot;,&quot;Jack&quot;, &quot;Jari&quot;}</p>\n<p>User wants to seach for &quot;A&quot;program returns sorted==&gt;&quot;Alex&quot;,&quot;Amanda&quot; User wants to seach for &quot;Ja&quot;program returns sorted==&gt;&quot;Jack&quot;, &quot;Jari&quot; User wants to seach for &quot;Bob&quot;program returns sorted==&gt;&quot;Bob&quot;</p>\n<p>this is all code I have for now in my main method:</p>\n<pre><code>Producers producer1 = new Producers(&quot;Alex&quot;);\nProducers producer2 = new Producers(&quot;Jack&quot;);\nProducers producer3 = new Producers(&quot;Jari&quot;);\n</code></pre>\n<p>Adding all producers into ArrayList</p>\n<pre><code>Producers.allProducers.add(producer1);\nProducers.allProducers.add(producer2);\nProducers.allProducers.add(producer3);`\n</code></pre>\n<p>Then we have another Object called Clothing where we had a task to add our producer for each piece of clothing</p>\n<pre><code>Clothing wClothing1 = new Clothing(&quot;Sneakers&quot;, 6.99, ProductsType.SHOES); // name,price,ProductsType as ENUMClothing \nClothing wClothing2 = new Clothing(&quot;AShoe&quot;, 1.99, ProductsType.SHOES);\nClothing wClothing3 = new Clothing(&quot;Cocktail dress&quot;, 15.99, ProductsType.DRESSES);\nwClothing1.setProducers(producer1);\nwClothing2.setProducers(producer2);\nwClothing3.setProducers(producer3);\n</code></pre>\n<p>Adding all clothing into ArrayList</p>\n<pre><code>Items.clothingItemList.add(wClothing1);\nItems.clothingItemList.add(wClothing2);\nItems.clothingItemList.add(wClothing3);`\n</code></pre>\n<p>We need to search, find and sort words only by producers in Items.clothingItemList. So I created a sorting method that can only sort all producers but can't search for them and then sort.</p>\n<pre><code>public static void getItemByProducer() {\n Collections.sort(Items.clothingItemList, new SortByProducersComparator());\n    System.out.println(Items.clothingItemList.toString());\n}\n</code></pre>\n<p>I created also a new class called SortByProducersComparator():</p>\n<pre><code>import java.util.Comparator;\n\npublic class SortByProducersComparator implements Comparator&lt;Items&gt; {\n    @Override\n    public int compare(Items o1, Items o2) {\n        int c =0;\n        c=o1.getProducersName().compareTo(o2.getProducersName());\n        return c;\n}}\n</code></pre>\n<p>We need to do this task using: Comparator, Comparable.\nwe cant use it to stream.</p>\n<p>Please help, I hope my explanation of the task was good enough</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1670955074,"post_id":74788776,"comment_id":131991113,"body_markdown":"1) Variable names should NOT start with an uppercase character. Some variable are correct, others are not. Be consistent. 2) An application should only have a single main JFrame. Other child window can be a JDialog. 3) All your code should NOT be contained in the main() method. 4) If you want a counter, then you need an instance variable for your class. This is why all the code should not be in the main method. See: https://stackoverflow.com/questions/67578405/how-do-i-make-my-for-loop-delay-for-1-second-between-iterations-on-jframe/67578463#67578463 for a better structured simple example.","body":"1) Variable names should NOT start with an uppercase character. Some variable are correct, others are not. Be consistent. 2) An application should only have a single main JFrame. Other child window can be a JDialog. 3) All your code should NOT be contained in the main() method. 4) If you want a counter, then you need an instance variable for your class. This is why all the code should not be in the main method. See: <a href=\"https://stackoverflow.com/questions/67578405/how-do-i-make-my-for-loop-delay-for-1-second-between-iterations-on-jframe/67578463#67578463\" title=\"how do i make my for loop delay for 1 second between iterations on jframe\">stackoverflow.com/questions/67578405/&hellip;</a> for a better structured simple example."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1670955288,"post_id":74788776,"comment_id":131991179,"body_markdown":"You can also read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for Swing basics and plenty of working examples with better structured code.","body":"You can also read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for Swing basics and plenty of working examples with better structured code."}],"answers":[{"tags":[],"owner":{"account_id":1291049,"reputation":240,"user_id":1243152,"accept_rate":100,"display_name":"MrDetail"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671202281,"creation_date":1670955488,"answer_id":74789303,"question_id":74788776,"body_markdown":"**Edit:** As noted in the comments, Swing is single threaded so thread safety is not a concern with this solution. Nonetheless, using an `AtomicInteger` here is still an effective way of maintaining the click count from this anonymous class. A class member in the containing class would be a better solution but this is executed from a static context so I hesitate to suggest that.\r\n\r\n```java\r\n      AtomicInteger atomicInteger = new AtomicInteger(0);\r\n\r\n      addButton.addActionListener(new ActionListener(){\r\n         @Override\r\n         public void actionPerformed(ActionEvent e) {\r\n            try {\r\n               NameFileWriter.append(addNameField.getText());\r\n               NameFileWriter.close();}\r\n            catch (IOException ignored) {}\r\n            try {\r\n               GradeFileWriter.append(addGradeField.getText());\r\n               GradeFileWriter.close();}\r\n            catch (IOException ignored) {}\r\n            // Way to count how many students there are, to write to correct line in files\r\n            // Every time this statement is called, one is added\r\n            // to the total and the total is returned\r\n            int totalClicks = atomicInteger.addAndGet(1);\r\n         }\r\n      });\r\n```","title":"How can I add a counter for when I click a button, so I can use it to know what file line to write to?","body":"<p><strong>Edit:</strong> As noted in the comments, Swing is single threaded so thread safety is not a concern with this solution. Nonetheless, using an <code>AtomicInteger</code> here is still an effective way of maintaining the click count from this anonymous class. A class member in the containing class would be a better solution but this is executed from a static context so I hesitate to suggest that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      AtomicInteger atomicInteger = new AtomicInteger(0);\n\n      addButton.addActionListener(new ActionListener(){\n         @Override\n         public void actionPerformed(ActionEvent e) {\n            try {\n               NameFileWriter.append(addNameField.getText());\n               NameFileWriter.close();}\n            catch (IOException ignored) {}\n            try {\n               GradeFileWriter.append(addGradeField.getText());\n               GradeFileWriter.close();}\n            catch (IOException ignored) {}\n            // Way to count how many students there are, to write to correct line in files\n            // Every time this statement is called, one is added\n            // to the total and the total is returned\n            int totalClicks = atomicInteger.addAndGet(1);\n         }\n      });\n</code></pre>\n"}],"owner":{"account_id":26635858,"reputation":1,"user_id":20252288,"display_name":"chickennuggeteater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671202281,"creation_date":1670952700,"question_id":74788776,"body_markdown":"I am very new to Java, but I&#39;m using it for a school project to make a student tracker. I&#39;m just starting with the layout, and am adding students to a file right now. On line 138, I need a way to add a counter every time I click the add button.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        File StudentNames = new File(&quot;StudentNames.txt&quot;);\r\n        File StudentGrades = new File(&quot;StudentGrades.txt&quot;);\r\n        File StudentScore = new File(&quot;StudentScore.txt&quot;);\r\n\r\n        FileWriter NameFileWriter = new FileWriter(&quot;StudentNames.txt&quot;);\r\n        FileWriter GradeFileWriter = new FileWriter(&quot;StudentGrades.txt&quot;);\r\n        FileWriter ScoreFileWriter = new FileWriter(&quot;StudentScore.txt&quot;);\r\n\r\n        FileReader NameFileReader = new FileReader(StudentNames);\r\n        FileReader GradeFileReader = new FileReader(StudentGrades);\r\n        FileReader ScoreFileReader = new FileReader(StudentScore);\r\n\r\n        String[] NamesString = new String[] {&quot;&quot;};\r\n        List&lt;String&gt; NamesList = Arrays.asList(NamesString);\r\n\r\n        JFrame frame = new JFrame(&quot;Tyke Tracking&quot;);\r\n        frame.setSize(500, 500);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        //Adding a panel to center the buttons\r\n        JPanel panel = new JPanel(new GridBagLayout());\r\n        GridBagConstraints Center = new GridBagConstraints();\r\n\r\n        Center.gridx = 0;\r\n        JButton StudentsButton = new JButton(&quot;Students&quot;);\r\n        panel.add(StudentsButton, Center);\r\n\r\n        Center.gridx = 1;\r\n        JButton PrizesButton = new JButton(&quot;Prizes&quot;);\r\n        panel.add(PrizesButton, Center);\r\n\r\n        frame.getContentPane().add(panel);\r\n        frame.setVisible(true);\r\n\r\n        //Student Section\r\n        JFrame StuFrame = new JFrame(&quot;Tyke Tracking Students&quot;);\r\n        StuFrame.setSize(500,500);\r\n        StuFrame.setResizable(false);\r\n        StuFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JPanel StuPanelLeft = new JPanel();\r\n\r\n        JTextArea StudentsListed = new JTextArea();\r\n        StudentsListed.setEditable(false);\r\n        StudentsListed.setPreferredSize((new Dimension(250,500)));\r\n        StuPanelLeft.add(StudentsListed);\r\n\r\n        JPanel StuPanelRight = new JPanel(new GridBagLayout());\r\n        GridBagConstraints StuRight = new GridBagConstraints();\r\n\r\n        StuRight.gridy = 0;\r\n        JButton AddStu = new JButton(&quot;Add Students&quot;);\r\n        StuPanelRight.add(AddStu, StuRight);\r\n\r\n        StuRight.gridy = 1;\r\n        JButton EditStu = new JButton(&quot;Edit Students&quot;);\r\n        StuPanelRight.add(EditStu, StuRight);\r\n\r\n        StuRight.gridy = 2;\r\n        JButton Report = new JButton(&quot;Get Report&quot;);\r\n        Report.setPreferredSize(new Dimension(130,23)); //Making it even to other buttons\r\n        StuPanelRight.add(Report, StuRight);\r\n\r\n        StuRight.gridy = 3;\r\n        JButton backButton = new JButton(&quot;Back&quot;);\r\n        backButton.setPreferredSize(new Dimension(130,23));\r\n        StuPanelRight.add(backButton, StuRight);\r\n\r\n        StuFrame.getContentPane().add(StuPanelLeft, BorderLayout.WEST);\r\n        StuFrame.getContentPane().add(StuPanelRight);\r\n\r\n        //Adding Students\r\n        JFrame Adding = new JFrame(&quot;Adding Students&quot;);\r\n        Adding.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n        Adding.setSize(200,150);\r\n        Adding.setResizable(false);\r\n\r\n        JPanel AddStuPanel = new JPanel(new GridBagLayout());\r\n        JPanel AddStuPanelTop = new JPanel(new GridBagLayout());\r\n        GridBagConstraints AddStuGBC = new GridBagConstraints();\r\n\r\n        AddStuGBC.gridy = 1;\r\n        AddStuGBC.fill = GridBagConstraints.HORIZONTAL;\r\n        JTextField addNameField = new JTextField();\r\n        addNameField.setPreferredSize(new Dimension(150,20));\r\n        AddStuPanelTop.add(addNameField, AddStuGBC);\r\n\r\n        AddStuGBC.gridy = 0;\r\n        JLabel nameLabel = new JLabel(&quot;Name:&quot;);\r\n        AddStuPanelTop.add(nameLabel, AddStuGBC);\r\n\r\n        AddStuGBC.gridy = 2;\r\n        JLabel gradeLabel = new JLabel(&quot;Grade %:&quot;);\r\n        AddStuPanelTop.add(gradeLabel, AddStuGBC);\r\n\r\n        AddStuGBC.gridy = 3;\r\n        JTextField addGradeField = new JTextField();\r\n        addGradeField.setPreferredSize(new Dimension(150,20));\r\n        AddStuPanelTop.add(addGradeField, AddStuGBC);\r\n\r\n        AddStuGBC.gridy = 4;\r\n        JButton addButton = new JButton(&quot;Add&quot;);\r\n        AddStuPanel.add(addButton, AddStuGBC);\r\n\r\n        AddStuGBC.gridx = 1;\r\n        JButton closeButton = new JButton(&quot;Close&quot;);\r\n        AddStuPanel.add(closeButton, AddStuGBC);\r\n\r\n        Adding.getContentPane().add(AddStuPanelTop, BorderLayout.CENTER);\r\n        Adding.getContentPane().add(AddStuPanel, BorderLayout.SOUTH);\r\n        Adding.setVisible(false);\r\n\r\n        addButton.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    NameFileWriter.append(addNameField.getText());\r\n                    NameFileWriter.close();}\r\n                catch (IOException ignored) {}\r\n                try {\r\n                    GradeFileWriter.append(addGradeField.getText());\r\n                    GradeFileWriter.close();}\r\n                catch (IOException ignored) {}\r\n                //Way to count how many students there are, to write to correct line in files\r\n                }\r\n        });\r\n\r\n        closeButton.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                Adding.setVisible(false);\r\n            }\r\n        });\r\n\r\n        StudentsButton.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.setVisible(false);\r\n                StuFrame.setVisible(true);\r\n            }\r\n        });\r\n\r\n        backButton.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                StuFrame.setVisible(false);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n\r\n        AddStu.addActionListener(new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                Adding.setVisible(true);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried to name a variable and use a++, but I can&#39;t use it and keep adding since it&#39;s accessed within an inner variable. If I initiated it inside, then it would initiate it back every time i clicked the button.","title":"How can I add a counter for when I click a button, so I can use it to know what file line to write to?","body":"<p>I am very new to Java, but I'm using it for a school project to make a student tracker. I'm just starting with the layout, and am adding students to a file right now. On line 138, I need a way to add a counter every time I click the add button.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        File StudentNames = new File(&quot;StudentNames.txt&quot;);\n        File StudentGrades = new File(&quot;StudentGrades.txt&quot;);\n        File StudentScore = new File(&quot;StudentScore.txt&quot;);\n\n        FileWriter NameFileWriter = new FileWriter(&quot;StudentNames.txt&quot;);\n        FileWriter GradeFileWriter = new FileWriter(&quot;StudentGrades.txt&quot;);\n        FileWriter ScoreFileWriter = new FileWriter(&quot;StudentScore.txt&quot;);\n\n        FileReader NameFileReader = new FileReader(StudentNames);\n        FileReader GradeFileReader = new FileReader(StudentGrades);\n        FileReader ScoreFileReader = new FileReader(StudentScore);\n\n        String[] NamesString = new String[] {&quot;&quot;};\n        List&lt;String&gt; NamesList = Arrays.asList(NamesString);\n\n        JFrame frame = new JFrame(&quot;Tyke Tracking&quot;);\n        frame.setSize(500, 500);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Adding a panel to center the buttons\n        JPanel panel = new JPanel(new GridBagLayout());\n        GridBagConstraints Center = new GridBagConstraints();\n\n        Center.gridx = 0;\n        JButton StudentsButton = new JButton(&quot;Students&quot;);\n        panel.add(StudentsButton, Center);\n\n        Center.gridx = 1;\n        JButton PrizesButton = new JButton(&quot;Prizes&quot;);\n        panel.add(PrizesButton, Center);\n\n        frame.getContentPane().add(panel);\n        frame.setVisible(true);\n\n        //Student Section\n        JFrame StuFrame = new JFrame(&quot;Tyke Tracking Students&quot;);\n        StuFrame.setSize(500,500);\n        StuFrame.setResizable(false);\n        StuFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel StuPanelLeft = new JPanel();\n\n        JTextArea StudentsListed = new JTextArea();\n        StudentsListed.setEditable(false);\n        StudentsListed.setPreferredSize((new Dimension(250,500)));\n        StuPanelLeft.add(StudentsListed);\n\n        JPanel StuPanelRight = new JPanel(new GridBagLayout());\n        GridBagConstraints StuRight = new GridBagConstraints();\n\n        StuRight.gridy = 0;\n        JButton AddStu = new JButton(&quot;Add Students&quot;);\n        StuPanelRight.add(AddStu, StuRight);\n\n        StuRight.gridy = 1;\n        JButton EditStu = new JButton(&quot;Edit Students&quot;);\n        StuPanelRight.add(EditStu, StuRight);\n\n        StuRight.gridy = 2;\n        JButton Report = new JButton(&quot;Get Report&quot;);\n        Report.setPreferredSize(new Dimension(130,23)); //Making it even to other buttons\n        StuPanelRight.add(Report, StuRight);\n\n        StuRight.gridy = 3;\n        JButton backButton = new JButton(&quot;Back&quot;);\n        backButton.setPreferredSize(new Dimension(130,23));\n        StuPanelRight.add(backButton, StuRight);\n\n        StuFrame.getContentPane().add(StuPanelLeft, BorderLayout.WEST);\n        StuFrame.getContentPane().add(StuPanelRight);\n\n        //Adding Students\n        JFrame Adding = new JFrame(&quot;Adding Students&quot;);\n        Adding.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        Adding.setSize(200,150);\n        Adding.setResizable(false);\n\n        JPanel AddStuPanel = new JPanel(new GridBagLayout());\n        JPanel AddStuPanelTop = new JPanel(new GridBagLayout());\n        GridBagConstraints AddStuGBC = new GridBagConstraints();\n\n        AddStuGBC.gridy = 1;\n        AddStuGBC.fill = GridBagConstraints.HORIZONTAL;\n        JTextField addNameField = new JTextField();\n        addNameField.setPreferredSize(new Dimension(150,20));\n        AddStuPanelTop.add(addNameField, AddStuGBC);\n\n        AddStuGBC.gridy = 0;\n        JLabel nameLabel = new JLabel(&quot;Name:&quot;);\n        AddStuPanelTop.add(nameLabel, AddStuGBC);\n\n        AddStuGBC.gridy = 2;\n        JLabel gradeLabel = new JLabel(&quot;Grade %:&quot;);\n        AddStuPanelTop.add(gradeLabel, AddStuGBC);\n\n        AddStuGBC.gridy = 3;\n        JTextField addGradeField = new JTextField();\n        addGradeField.setPreferredSize(new Dimension(150,20));\n        AddStuPanelTop.add(addGradeField, AddStuGBC);\n\n        AddStuGBC.gridy = 4;\n        JButton addButton = new JButton(&quot;Add&quot;);\n        AddStuPanel.add(addButton, AddStuGBC);\n\n        AddStuGBC.gridx = 1;\n        JButton closeButton = new JButton(&quot;Close&quot;);\n        AddStuPanel.add(closeButton, AddStuGBC);\n\n        Adding.getContentPane().add(AddStuPanelTop, BorderLayout.CENTER);\n        Adding.getContentPane().add(AddStuPanel, BorderLayout.SOUTH);\n        Adding.setVisible(false);\n\n        addButton.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    NameFileWriter.append(addNameField.getText());\n                    NameFileWriter.close();}\n                catch (IOException ignored) {}\n                try {\n                    GradeFileWriter.append(addGradeField.getText());\n                    GradeFileWriter.close();}\n                catch (IOException ignored) {}\n                //Way to count how many students there are, to write to correct line in files\n                }\n        });\n\n        closeButton.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Adding.setVisible(false);\n            }\n        });\n\n        StudentsButton.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.setVisible(false);\n                StuFrame.setVisible(true);\n            }\n        });\n\n        backButton.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                StuFrame.setVisible(false);\n                frame.setVisible(true);\n            }\n        });\n\n        AddStu.addActionListener(new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Adding.setVisible(true);\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>I tried to name a variable and use a++, but I can't use it and keep adding since it's accessed within an inner variable. If I initiated it inside, then it would initiate it back every time i clicked the button.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1567417228,"post_id":57754616,"comment_id":101945817,"body_markdown":"It will still be a single iteration.","body":"It will still be a single iteration."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567431417,"post_id":57754616,"comment_id":101952119,"body_markdown":"The question to ask yourself and to justify the use of the API would be, *&quot;Do you really need to `map` the `Person` object to its `age` just to count the people with age above 18?&quot;*","body":"The question to ask yourself and to justify the use of the API would be, <i>&quot;Do you really need to <code>map</code> the <code>Person</code> object to its <code>age</code> just to count the people with age above 18?&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567421647,"creation_date":1567417217,"answer_id":57754663,"question_id":57754616,"body_markdown":"A stream can only be consumed once, so there&#39;s no &quot;extra iterations&quot;. There&#39;s an additional step, so technically the second one is more efficient. However you&#39;d have to have millions of elements, and even then it would be pretty much unnoticeable.\r\n\r\nIn this case it&#39;s mainly a choice in which style you prefer. Since they&#39;re both easily readable, the second one makes more sense as it is simpler.","title":"Efficiency of stream.map.filter","body":"<p>A stream can only be consumed once, so there's no \"extra iterations\". There's an additional step, so technically the second one is more efficient. However you'd have to have millions of elements, and even then it would be pretty much unnoticeable.</p>\n\n<p>In this case it's mainly a choice in which style you prefer. Since they're both easily readable, the second one makes more sense as it is simpler.</p>\n"},{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1567418171,"creation_date":1567418171,"answer_id":57754888,"question_id":57754616,"body_markdown":"Actually the second one way is preferable because each `stream` method raises a new stream. For instance a `map` method returns a **new** stream, [here is a doc][1] \nso the second way will be &quot;cheaper&quot; at the point of view of number of calculations for your purpose\n\nbtw it&#39;s look like you&#39;ve done a missprint in the second example: not `list.filter` but `list.stream().filter`\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-","title":"Efficiency of stream.map.filter","body":"<p>Actually the second one way is preferable because each <code>stream</code> method raises a new stream. For instance a <code>map</code> method returns a <strong>new</strong> stream, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">here is a doc</a>\nso the second way will be &quot;cheaper&quot; at the point of view of number of calculations for your purpose</p>\n<p>btw it's look like you've done a missprint in the second example: not <code>list.filter</code> but <code>list.stream().filter</code></p>\n"},{"tags":[],"owner":{"account_id":3792898,"reputation":197,"user_id":3148903,"display_name":"adil.hilmi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1567418394,"creation_date":1567418394,"answer_id":57754948,"question_id":57754616,"body_markdown":"Stream.filter and Stream.map are intermediate operations that return a new stream. **But** the intermediate operations are always ***lazy*** : https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\r\n\r\n&gt; Processing streams lazily allows for significant efficiencies; in a pipeline such as the filter-map-sum example above, filtering, mapping, and summing can be fused into a single pass on the data, with minimal intermediate state.","title":"Efficiency of stream.map.filter","body":"<p>Stream.filter and Stream.map are intermediate operations that return a new stream. <strong>But</strong> the intermediate operations are always <strong><em>lazy</em></strong> : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a></p>\n\n<blockquote>\n  <p>Processing streams lazily allows for significant efficiencies; in a pipeline such as the filter-map-sum example above, filtering, mapping, and summing can be fused into a single pass on the data, with minimal intermediate state.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23544266,"reputation":1,"user_id":17587967,"display_name":"Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671202261,"creation_date":1671202261,"answer_id":74826063,"question_id":57754616,"body_markdown":"**Using Java Stream Operations might sometime be a little tricky.**\r\n\r\nI will show you an example which is written in Kotlin and show the Decompiled Version\r\n\r\nImagine class person with a **name** value\r\n\r\nBy these codes I want to filter **names** by the value of **age**\r\n\r\n\r\n**Function A : using Filter and Map**\r\n\r\n    fun a(list: List&lt;Person&gt;): List&lt;String&gt; {\r\n        return list\r\n            .filter { it.age &gt;= 18 }\r\n            .map { it.name }\r\n    }\r\n\r\n**Function B: using a simple Foreach**\r\n\r\n    fun b(list: List&lt;Person&gt;): List&lt;String&gt; {\r\n        val result = mutableListOf&lt;String&gt;()\r\n        for (item in list) {\r\n            if (item.age &gt;= 18) {\r\n                result.add(item.name)\r\n            }\r\n        }\r\n        return result\r\n    }\r\n\r\n\r\nHow beautiful Function A is!!\r\n\r\n**Now Lets take a look what happens under the hood:**\r\n\r\n## In Fact, Function A uses Two While Iterators to do the same operations ##\r\n\r\nI know it is a little Messy\r\n\r\n**Function A : using Filter and Map**\r\n\r\n    public final List a(@NotNull List list) {\r\n      Intrinsics.checkNotNullParameter(list, &quot;list&quot;);\r\n      Iterable $this$map$iv = (Iterable)list;\r\n      int $i$f$map = false;\r\n      Collection destination$iv$iv = (Collection)(new ArrayList());\r\n      int $i$f$mapTo = false;\r\n      Iterator var7 = $this$map$iv.iterator();\r\n\r\n      Object item$iv$iv;\r\n      Person it;\r\n      boolean var10;\r\n      while(var7.hasNext()) {\r\n         item$iv$iv = var7.next();\r\n         it = (Person)item$iv$iv;\r\n         var10 = false;\r\n         if (it.getAge() &gt;= 18) {\r\n            destination$iv$iv.add(item$iv$iv);\r\n         }\r\n      }\r\n\r\n      $this$map$iv = (Iterable)((List)destination$iv$iv);\r\n      $i$f$map = false;\r\n      destination$iv$iv = (Collection)(new ArrayList(CollectionsKt.collectionSizeOrDefault($this$map$iv, 10)));\r\n      $i$f$mapTo = false;\r\n      var7 = $this$map$iv.iterator();\r\n\r\n      while(var7.hasNext()) {\r\n         item$iv$iv = var7.next();\r\n         it = (Person)item$iv$iv;\r\n         var10 = false;\r\n         String var12 = it.getName();\r\n         destination$iv$iv.add(var12);\r\n      }\r\n\r\n      return (List)destination$iv$iv;\r\n   }\r\n\r\n\r\n**Function B: using a simple Foreach**\r\n\r\n    public final List b(@NotNull List list) {\r\n      Intrinsics.checkNotNullParameter(list, &quot;list&quot;);\r\n      List result = (List)(new ArrayList());\r\n      Iterator var4 = list.iterator();\r\n\r\n      while(var4.hasNext()) {\r\n         Person item = (Person)var4.next();\r\n         if (item.getAge() &gt;= 18) {\r\n            String var10001 = item.getName();\r\n            Intrinsics.checkNotNullExpressionValue(var10001, &quot;item.name&quot;);\r\n            result.add(var10001);\r\n         }\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n ","title":"Efficiency of stream.map.filter","body":"<p><strong>Using Java Stream Operations might sometime be a little tricky.</strong></p>\n<p>I will show you an example which is written in Kotlin and show the Decompiled Version</p>\n<p>Imagine class person with a <strong>name</strong> value</p>\n<p>By these codes I want to filter <strong>names</strong> by the value of <strong>age</strong></p>\n<p><strong>Function A : using Filter and Map</strong></p>\n<pre><code>fun a(list: List&lt;Person&gt;): List&lt;String&gt; {\n    return list\n        .filter { it.age &gt;= 18 }\n        .map { it.name }\n}\n</code></pre>\n<p><strong>Function B: using a simple Foreach</strong></p>\n<pre><code>fun b(list: List&lt;Person&gt;): List&lt;String&gt; {\n    val result = mutableListOf&lt;String&gt;()\n    for (item in list) {\n        if (item.age &gt;= 18) {\n            result.add(item.name)\n        }\n    }\n    return result\n}\n</code></pre>\n<p>How beautiful Function A is!!</p>\n<p><strong>Now Lets take a look what happens under the hood:</strong></p>\n<h2>In Fact, Function A uses Two While Iterators to do the same operations</h2>\n<p>I know it is a little Messy</p>\n<p><strong>Function A : using Filter and Map</strong></p>\n<pre><code>public final List a(@NotNull List list) {\n  Intrinsics.checkNotNullParameter(list, &quot;list&quot;);\n  Iterable $this$map$iv = (Iterable)list;\n  int $i$f$map = false;\n  Collection destination$iv$iv = (Collection)(new ArrayList());\n  int $i$f$mapTo = false;\n  Iterator var7 = $this$map$iv.iterator();\n\n  Object item$iv$iv;\n  Person it;\n  boolean var10;\n  while(var7.hasNext()) {\n     item$iv$iv = var7.next();\n     it = (Person)item$iv$iv;\n     var10 = false;\n     if (it.getAge() &gt;= 18) {\n        destination$iv$iv.add(item$iv$iv);\n     }\n  }\n\n  $this$map$iv = (Iterable)((List)destination$iv$iv);\n  $i$f$map = false;\n  destination$iv$iv = (Collection)(new ArrayList(CollectionsKt.collectionSizeOrDefault($this$map$iv, 10)));\n  $i$f$mapTo = false;\n  var7 = $this$map$iv.iterator();\n\n  while(var7.hasNext()) {\n     item$iv$iv = var7.next();\n     it = (Person)item$iv$iv;\n     var10 = false;\n     String var12 = it.getName();\n     destination$iv$iv.add(var12);\n  }\n\n  return (List)destination$iv$iv;\n</code></pre>\n<p>}</p>\n<p><strong>Function B: using a simple Foreach</strong></p>\n<pre><code>public final List b(@NotNull List list) {\n  Intrinsics.checkNotNullParameter(list, &quot;list&quot;);\n  List result = (List)(new ArrayList());\n  Iterator var4 = list.iterator();\n\n  while(var4.hasNext()) {\n     Person item = (Person)var4.next();\n     if (item.getAge() &gt;= 18) {\n        String var10001 = item.getName();\n        Intrinsics.checkNotNullExpressionValue(var10001, &quot;item.name&quot;);\n        result.add(var10001);\n     }\n  }\n\n  return result;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1566746,"reputation":993,"user_id":1455360,"accept_rate":58,"display_name":"Ravi Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1671202261,"creation_date":1567417022,"question_id":57754616,"body_markdown":"Consider this class - \r\n\r\n    Class Person {\r\n        private Integer age;\r\n        private Integer getAge() {\r\n            return this.age;\r\n        }\r\n    }\r\n\r\n`List&lt;Person&gt; list = new ArrayList&lt;Person&gt;` .. of some 20 instances\r\n\r\nNow I have to find all the adults persons(age &gt;= 18)\r\nI have two way to do it with stream - \r\n\r\n1. \r\n\r\n        list.stream()\r\n            .map(person -&gt; person.getAge())\r\n            .filter(age -&gt; age &gt;= 18)\r\n            .count()\r\n\r\n2. \r\n\r\n        list.stream()\r\n            .filter(person -&gt; person.getAge() &gt;= 18)\r\n            .count()\r\n\r\nNow my question is: will approach 1, adds extra iteration to perform the task or will it be just one iteration like approach 2?","title":"Efficiency of stream.map.filter","body":"<p>Consider this class - </p>\n\n<pre><code>Class Person {\n    private Integer age;\n    private Integer getAge() {\n        return this.age;\n    }\n}\n</code></pre>\n\n<p><code>List&lt;Person&gt; list = new ArrayList&lt;Person&gt;</code> .. of some 20 instances</p>\n\n<p>Now I have to find all the adults persons(age >= 18)\nI have two way to do it with stream - </p>\n\n<ol>\n<li><pre><code>list.stream()\n    .map(person -&gt; person.getAge())\n    .filter(age -&gt; age &gt;= 18)\n    .count()\n</code></pre></li>\n<li><pre><code>list.stream()\n    .filter(person -&gt; person.getAge() &gt;= 18)\n    .count()\n</code></pre></li>\n</ol>\n\n<p>Now my question is: will approach 1, adds extra iteration to perform the task or will it be just one iteration like approach 2?</p>\n"},{"tags":["ssl","certificate","certificate-authority","java"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1670972362,"post_id":74790323,"comment_id":131995686,"body_markdown":"Don&#39;t change the system `cacerts` file (it&#39;s not called `cacert`) at all. Instead, make a copy of it and make all the changes you want to the copy. The password provides tamper detection for the file, but you can still use it without a password if you don&#39;t care to verify the contents.","body":"Don&#39;t change the system <code>cacerts</code> file (it&#39;s not called <code>cacert</code>) at all. Instead, make a copy of it and make all the changes you want to the copy. The password provides tamper detection for the file, but you can still use it without a password if you don&#39;t care to verify the contents."},{"owner":{"account_id":22514493,"reputation":35,"user_id":16708926,"display_name":"GC_"},"score":0,"creation_date":1688046871,"post_id":74790323,"comment_id":135023582,"body_markdown":"Related: https://stackoverflow.com/questions/34732484/java-ssl-truststore-seems-to-be-accessible-without-specifying-password?rq=3  (I was expecting the password to do more when writing this question.   Check out this question.)","body":"Related: <a href=\"https://stackoverflow.com/questions/34732484/java-ssl-truststore-seems-to-be-accessible-without-specifying-password?rq=3\" title=\"java ssl truststore seems to be accessible without specifying password\">stackoverflow.com/questions/34732484/&hellip;</a>  (I was expecting the password to do more when writing this question.   Check out this question.)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671177670,"creation_date":1670972014,"answer_id":74791745,"question_id":74790323,"body_markdown":"`$JAVA_HOME/lib/security/cacerts` is the Java installation&#39;s default truststore.\r\n\r\nA truststore is the same as a keystore but applied differently at runtime. It is advisable to create your own keystore and truststore files if you need them and tell the JVM where to find at startup.\r\n\r\nYou can assign passwords to Java Keystore (jks files), you can assign passwords to certificates/keys stored inside the keystore, you can even do both at the same time. \r\n\r\nThe default password for the java truststore is `changeit`, and if you take it seriously you are even asked to change it. When starting some java application you can specify the location and password of the keystore, and usually for applications requiring a key you can also specify the alias and password used to fetch the key from the keystore.\r\n\r\nSee also\r\n- [Keystore vs Truststore][1]\r\n- [how to change the keystore or the key&#39;s password][2]\r\n- [how to start an application with a changed keystore/password][3]\r\n- Just as an example for an application using a keystore [how to edit the Tomcat configuration file][4] and [Tomcat TLS configuration options][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6341566/4222206\r\n  [2]: https://stackoverflow.com/questions/2889238/keystore-change-passwords\r\n  [3]: https://docs.oracle.com/cd/E29585_01/PlatformServices.61x/security/src/csec_ssl_jsp_start_server.html\r\n  [4]: https://tomcat.apache.org/tomcat-10.1-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File\r\n  [5]: https://tomcat.apache.org/tomcat-10.1-doc/config/http.html#SSL_Support_-_Certificate","title":"Where is a CAcert&#39;s password used?","body":"<p><code>$JAVA_HOME/lib/security/cacerts</code> is the Java installation's default truststore.</p>\n<p>A truststore is the same as a keystore but applied differently at runtime. It is advisable to create your own keystore and truststore files if you need them and tell the JVM where to find at startup.</p>\n<p>You can assign passwords to Java Keystore (jks files), you can assign passwords to certificates/keys stored inside the keystore, you can even do both at the same time.</p>\n<p>The default password for the java truststore is <code>changeit</code>, and if you take it seriously you are even asked to change it. When starting some java application you can specify the location and password of the keystore, and usually for applications requiring a key you can also specify the alias and password used to fetch the key from the keystore.</p>\n<p>See also</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/6341566/4222206\">Keystore vs Truststore</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2889238/keystore-change-passwords\">how to change the keystore or the key's password</a></li>\n<li><a href=\"https://docs.oracle.com/cd/E29585_01/PlatformServices.61x/security/src/csec_ssl_jsp_start_server.html\" rel=\"nofollow noreferrer\">how to start an application with a changed keystore/password</a></li>\n<li>Just as an example for an application using a keystore <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File\" rel=\"nofollow noreferrer\">how to edit the Tomcat configuration file</a> and <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/config/http.html#SSL_Support_-_Certificate\" rel=\"nofollow noreferrer\">Tomcat TLS configuration options</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671202035,"creation_date":1671202035,"answer_id":74826012,"question_id":74790323,"body_markdown":"First of all, it&#39;s `cacerts` with an &#39;s&#39; at the end, not `cacert`. The password is only needed to modify the file, and that included adding or removing certificates. You don&#39;t need the password to use this file, though if you do supply a password it will be used to verify the integrity of the file.\r\n\r\nJava by default uses `cacerts` when verifying certificate chains and by default it does not use a password. Even though the JDK ships the `cacerts` file protected with the password `changeit` the Java runtime does not assume this. You can change the default behavior in a few ways, the simplest of which is to set the Java system property `javax.net.ssl.trustStorePassword` to the password. There is also a Java system property `javax.net.ssl.trustStore` that can be used to point to a file you want to use in place of `cacerts`. Using these tools you can, all optionally and independently:\r\n\r\n 1. change the password on the system wide `cacerts` file.\r\n 2. Tell Java to use the password to verify the integrity of the file.\r\n 3. Tell Java to use a completely different file in place of `cacerts`.\r\n\r\nThere is one obvious caveat that needs to be mentioned nevertheless. You say this is a vendor&#39;s appliance. That means the Java environment may have already been customized. Perhaps there is already code there that assumes the `cacerts` password is `changeit`. You did ask if *anything* uses the `cacerts` password. \r\n\r\nThe above is really just a summary, the full story is documented in the [JSSE Reference Guide][1]. One particularly [relevant section][2] to your question I&#39;ll reproduce here:\r\n\r\n&gt; You can either implement this interface directly yourself or obtain\r\n&gt; one from a provider-based TrustManagerFactory (such as that supplied\r\n&gt; by the SunJSSE provider). You could also implement your own interface\r\n&gt; that delegates to a factory-generated trust manager. For example, you\r\n&gt; might do this to filter the resulting trust decisions and query an\r\n&gt; end-user through a graphical user interface.\r\n&gt; \r\n&gt; If a null KeyStore parameter is passed to the SunJSSE PKIX or SunX509\r\n&gt; TrustManagerFactory, then the factory uses the following process to\r\n&gt; try to find trust material:\r\n&gt; \r\n&gt;  1. If the `javax.net.ssl.trustStore` property is defined, then the TrustManagerFactory attempts to find a file using the file name\r\n&gt; specified by that system property, and uses that file for the KeyStore\r\n&gt; parameter. If the `javax.net.ssl.trustStorePassword` system property\r\n&gt; is also defined, then its value is used to check the integrity of the\r\n&gt; data in the truststore before opening it. If the\r\n&gt; `javax.net.ssl.trustStore` property is defined but the specified file\r\n&gt; does not exist, then a default TrustManager using an empty keystore is\r\n&gt; created.\r\n&gt;  2. If the `javax.net.ssl.trustStore` system property was not specified, then:  \r\n&gt;         - if the file `java-home/lib/security/jssecacerts` exists, that file is used;  \r\n&gt;         - if the file `java-home/lib/security/cacerts` exists, that file is used;  \r\n&gt;         - if neither of these files exists, then the TLS cipher suite is anonymous, does not perform any authentication, and thus does not\r\n&gt; need a truststore.\r\n&gt; \r\n&gt; To know more about what java-home refers to, see Terms and\r\n&gt; Definitions.\r\n&gt; \r\n&gt; The factory looks for a file specified via the\r\n&gt; `javax.net.ssl.trustStore` Security Property or for the `jssecacerts`\r\n&gt; file before checking for a `cacerts` file. Therefore, you can provide\r\n&gt; a JSSE-specific set of trusted root certificates separate from ones\r\n&gt; that might be present in `cacerts` for code-signing purposes.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-32CF3420-56E8-4BC5-8D3B-1F6B4692A290","title":"Where is a CAcert&#39;s password used?","body":"<p>First of all, it's <code>cacerts</code> with an 's' at the end, not <code>cacert</code>. The password is only needed to modify the file, and that included adding or removing certificates. You don't need the password to use this file, though if you do supply a password it will be used to verify the integrity of the file.</p>\n<p>Java by default uses <code>cacerts</code> when verifying certificate chains and by default it does not use a password. Even though the JDK ships the <code>cacerts</code> file protected with the password <code>changeit</code> the Java runtime does not assume this. You can change the default behavior in a few ways, the simplest of which is to set the Java system property <code>javax.net.ssl.trustStorePassword</code> to the password. There is also a Java system property <code>javax.net.ssl.trustStore</code> that can be used to point to a file you want to use in place of <code>cacerts</code>. Using these tools you can, all optionally and independently:</p>\n<ol>\n<li>change the password on the system wide <code>cacerts</code> file.</li>\n<li>Tell Java to use the password to verify the integrity of the file.</li>\n<li>Tell Java to use a completely different file in place of <code>cacerts</code>.</li>\n</ol>\n<p>There is one obvious caveat that needs to be mentioned nevertheless. You say this is a vendor's appliance. That means the Java environment may have already been customized. Perhaps there is already code there that assumes the <code>cacerts</code> password is <code>changeit</code>. You did ask if <em>anything</em> uses the <code>cacerts</code> password.</p>\n<p>The above is really just a summary, the full story is documented in the <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html\" rel=\"nofollow noreferrer\">JSSE Reference Guide</a>. One particularly <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-32CF3420-56E8-4BC5-8D3B-1F6B4692A290\" rel=\"nofollow noreferrer\">relevant section</a> to your question I'll reproduce here:</p>\n<blockquote>\n<p>You can either implement this interface directly yourself or obtain\none from a provider-based TrustManagerFactory (such as that supplied\nby the SunJSSE provider). You could also implement your own interface\nthat delegates to a factory-generated trust manager. For example, you\nmight do this to filter the resulting trust decisions and query an\nend-user through a graphical user interface.</p>\n<p>If a null KeyStore parameter is passed to the SunJSSE PKIX or SunX509\nTrustManagerFactory, then the factory uses the following process to\ntry to find trust material:</p>\n<ol>\n<li>If the <code>javax.net.ssl.trustStore</code> property is defined, then the TrustManagerFactory attempts to find a file using the file name\nspecified by that system property, and uses that file for the KeyStore\nparameter. If the <code>javax.net.ssl.trustStorePassword</code> system property\nis also defined, then its value is used to check the integrity of the\ndata in the truststore before opening it. If the\n<code>javax.net.ssl.trustStore</code> property is defined but the specified file\ndoes not exist, then a default TrustManager using an empty keystore is\ncreated.</li>\n<li>If the <code>javax.net.ssl.trustStore</code> system property was not specified, then:<br />\n- if the file <code>java-home/lib/security/jssecacerts</code> exists, that file is used;<br />\n- if the file <code>java-home/lib/security/cacerts</code> exists, that file is used;<br />\n- if neither of these files exists, then the TLS cipher suite is anonymous, does not perform any authentication, and thus does not\nneed a truststore.</li>\n</ol>\n<p>To know more about what java-home refers to, see Terms and\nDefinitions.</p>\n<p>The factory looks for a file specified via the\n<code>javax.net.ssl.trustStore</code> Security Property or for the <code>jssecacerts</code>\nfile before checking for a <code>cacerts</code> file. Therefore, you can provide\na JSSE-specific set of trusted root certificates separate from ones\nthat might be present in <code>cacerts</code> for code-signing purposes.</p>\n</blockquote>\n"}],"owner":{"account_id":22514493,"reputation":35,"user_id":16708926,"display_name":"GC_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3892,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74826012,"answer_count":2,"score":2,"last_activity_date":1671202035,"creation_date":1670960486,"question_id":74790323,"body_markdown":"I am working with a vendor&#39;s appliance, and they use the default Java `cacert` for adding certs for allowing self-signed certs. When working on this process, I noticed that the cacert uses the default password `changeit`\r\n\r\nFor increased security, I would like to change the `cacert` password.  Instructions are online. However, I am worried that once I change the password applications using `cacert` will stop functioning correctly. \r\n\r\nI realize I don&#39;t really understand how Java is accessing `cacert`.  \r\n\r\n- Does it need the `cacert` password? \r\n- Does anything need the `cacert` password? \r\n- Or do you only need the `cacert` password when adding or removing certs?\r\n","title":"Where is a CAcert&#39;s password used?","body":"<p>I am working with a vendor's appliance, and they use the default Java <code>cacert</code> for adding certs for allowing self-signed certs. When working on this process, I noticed that the cacert uses the default password <code>changeit</code></p>\n<p>For increased security, I would like to change the <code>cacert</code> password.  Instructions are online. However, I am worried that once I change the password applications using <code>cacert</code> will stop functioning correctly.</p>\n<p>I realize I don't really understand how Java is accessing <code>cacert</code>.</p>\n<ul>\n<li>Does it need the <code>cacert</code> password?</li>\n<li>Does anything need the <code>cacert</code> password?</li>\n<li>Or do you only need the <code>cacert</code> password when adding or removing certs?</li>\n</ul>\n"},{"tags":["java","left-join","apache-flink","flink-streaming","data-stream"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671201996,"creation_date":1671201996,"answer_id":74826004,"question_id":74713927,"body_markdown":"Create an `Either3&lt;Schema1, Schema2, Schema3&gt;` class that&#39;s similar to Flink&#39;s `Either`. In each of your three incoming streams, you&#39;ll convert your records to an `Either3` with the appropriate field set. Then you can key the stream and use a `KeyedProcessFunction` to do whatever you want to do on the data.","title":"FLINK left join three DataStreams using cogroup","body":"<p>Create an <code>Either3&lt;Schema1, Schema2, Schema3&gt;</code> class that's similar to Flink's <code>Either</code>. In each of your three incoming streams, you'll convert your records to an <code>Either3</code> with the appropriate field set. Then you can key the stream and use a <code>KeyedProcessFunction</code> to do whatever you want to do on the data.</p>\n"}],"owner":{"account_id":6699353,"reputation":28,"user_id":5166412,"display_name":"Fed X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671201996,"creation_date":1670402977,"question_id":74713927,"body_markdown":"I&#39;m trying to merge three stream into a single stream. Tried union but was unable to proceed as the schema&#39;s are different and if I merge the schema it becomes too large.\r\n\r\nSo, I&#39;m using  **cogroup ** to do a left join and return a tuple of three streams.\r\n\r\n\r\n\r\n```\r\n`\r\nDataStream&lt;Tuple3&lt;Schema1, Schema2, Schema3&gt;&gt; mergeJoin = stream1.coGroup(stream2)\r\n        .where(genericRecord -&gt; {return   SchemaUtils.getKey1(genericRecord);})\r\n        .equalTo(genericRecord -&gt; {return   SchemaUtils.getKey2(genericRecord);})\r\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(3)))\r\n        .apply(new LeftOuterJoin1())\r\n        .coGroup(stream3)\r\n        .where(tuple_Schema1_Schema2-&gt;{return   SchemaUtils.getKey1(tuple_Schema1_Schema2);})\r\n        .equalTo( genericRecord-&gt;{ return SchemaUtils.getKey3(genericRecord);})\r\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(6)))\r\n        .apply(new LeftOuterJoin2());\r\n`\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic static class LeftOuterJoin2 implements CoGroupFunction&lt;Tuple2&lt;schema1, schema2&gt;, GenericRecord, Tuple3&lt;chema1, schema2, schema3&gt;&gt; {\r\n\r\n        @Override\r\n        public void coGroup(Iterable&lt;Tuple2&lt;SCHEMA1, SCHEMA2&gt;&gt; iterable, Iterable&lt;GenericRecord&gt; iterable1, Collector&lt;Tuple3&lt;SCHEMA1, SCHEMA2, SCHEMA3&gt;&gt; collector) throws Exception {\r\n            final SCHEMA3 NULL_ELEMENT = null;\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            for (Tuple2&lt;SCHEMA1, SCHEMA2&gt; leftElem : iterable) {\r\n                boolean hadElements = false;\r\n                for (GenericRecord rightElem : iterable1) {\r\n                    SCHEMA1 schema1_data = leftElem.f0;\r\n                    SCHEMA2 schema2_data = leftElem.f1;\r\n                    SCHEMA3 schema3_data = mapper.readValue(rightElem.toString(), SCHEMA3.class);\r\n                    collector.collect(new Tuple3&lt;&gt;(schema1_data, schema2_data,schema3_data));\r\n                    hadElements = true;\r\n                }\r\n                if (!hadElements) {\r\n                    SCHEMA1 schema1_data = leftElem.f0;\r\n                    SCHEMA2 schema2_data = leftElem.f1;\r\n                    collector.collect(new Tuple3&lt;&gt;(schema1_data, schema2_data,NULL_ELEMENT));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n\r\n\r\nWhile merging the first two streams of tuple with the third on **apply(new LeftOuterJoin2())** \\ i&#39;m getting \r\n&gt; \r\n&gt; Cannot resolve method &#39;apply(LeftOuterJoin2)&#39; error.\r\n\r\nExpecting1: A tuple of three streams.\r\nExpecting2: Number of records should be equal to SCHEMA1 count.\r\n","title":"FLINK left join three DataStreams using cogroup","body":"<p>I'm trying to merge three stream into a single stream. Tried union but was unable to proceed as the schema's are different and if I merge the schema it becomes too large.</p>\n<p>So, I'm using  **cogroup ** to do a left join and return a tuple of three streams.</p>\n<pre><code>`\nDataStream&lt;Tuple3&lt;Schema1, Schema2, Schema3&gt;&gt; mergeJoin = stream1.coGroup(stream2)\n        .where(genericRecord -&gt; {return   SchemaUtils.getKey1(genericRecord);})\n        .equalTo(genericRecord -&gt; {return   SchemaUtils.getKey2(genericRecord);})\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(3)))\n        .apply(new LeftOuterJoin1())\n        .coGroup(stream3)\n        .where(tuple_Schema1_Schema2-&gt;{return   SchemaUtils.getKey1(tuple_Schema1_Schema2);})\n        .equalTo( genericRecord-&gt;{ return SchemaUtils.getKey3(genericRecord);})\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(6)))\n        .apply(new LeftOuterJoin2());\n`\n</code></pre>\n<pre><code>public static class LeftOuterJoin2 implements CoGroupFunction&lt;Tuple2&lt;schema1, schema2&gt;, GenericRecord, Tuple3&lt;chema1, schema2, schema3&gt;&gt; {\n\n        @Override\n        public void coGroup(Iterable&lt;Tuple2&lt;SCHEMA1, SCHEMA2&gt;&gt; iterable, Iterable&lt;GenericRecord&gt; iterable1, Collector&lt;Tuple3&lt;SCHEMA1, SCHEMA2, SCHEMA3&gt;&gt; collector) throws Exception {\n            final SCHEMA3 NULL_ELEMENT = null;\n            ObjectMapper mapper = new ObjectMapper();\n            for (Tuple2&lt;SCHEMA1, SCHEMA2&gt; leftElem : iterable) {\n                boolean hadElements = false;\n                for (GenericRecord rightElem : iterable1) {\n                    SCHEMA1 schema1_data = leftElem.f0;\n                    SCHEMA2 schema2_data = leftElem.f1;\n                    SCHEMA3 schema3_data = mapper.readValue(rightElem.toString(), SCHEMA3.class);\n                    collector.collect(new Tuple3&lt;&gt;(schema1_data, schema2_data,schema3_data));\n                    hadElements = true;\n                }\n                if (!hadElements) {\n                    SCHEMA1 schema1_data = leftElem.f0;\n                    SCHEMA2 schema2_data = leftElem.f1;\n                    collector.collect(new Tuple3&lt;&gt;(schema1_data, schema2_data,NULL_ELEMENT));\n                }\n            }\n        }\n    }\n</code></pre>\n<pre><code>\n\nWhile merging the first two streams of tuple with the third on **apply(new LeftOuterJoin2())** \\ i'm getting \n&gt; \n&gt; Cannot resolve method 'apply(LeftOuterJoin2)' error.\n\nExpecting1: A tuple of three streams.\nExpecting2: Number of records should be equal to SCHEMA1 count.\n</code></pre>\n"},{"tags":["java","docker","kotlin"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1671129776,"post_id":74815867,"comment_id":132037552,"body_markdown":"A Docker container can&#39;t read files or run executables that aren&#39;t in the container.  You need a _lot_ of permissions to be able to run Docker commands, and I&#39;d be very very careful around security concerns and denial-of-service attacks as you&#39;ve described this.  Can you rearchitect this setup to not need to dynamically launch containers?","body":"A Docker container can&#39;t read files or run executables that aren&#39;t in the container.  You need a <i>lot</i> of permissions to be able to run Docker commands, and I&#39;d be very very careful around security concerns and denial-of-service attacks as you&#39;ve described this.  Can you rearchitect this setup to not need to dynamically launch containers?"},{"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"score":0,"creation_date":1671131302,"post_id":74815867,"comment_id":132038044,"body_markdown":"@DavidMaze I think so. I can just run this application as a jar file without a docker. Just wanted to have everything packed : -(\nAnyway, thanks a lot for the answer :)","body":"@DavidMaze I think so. I can just run this application as a jar file without a docker. Just wanted to have everything packed : -( Anyway, thanks a lot for the answer :)"},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1671142305,"post_id":74815867,"comment_id":132041326,"body_markdown":"As you in essence want to perform the start of additional containers you should investigate integrating with the docker api from the java application instead of executing shell scripts that call the docker api.","body":"As you in essence want to perform the start of additional containers you should investigate integrating with the docker api from the java application instead of executing shell scripts that call the docker api."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1671157563,"post_id":74815867,"comment_id":132043851,"body_markdown":"...I see you tagged this with both [tag:docker] and [tag:kubernetes] as well.  Another thing to keep in mind here is that you can&#39;t usually run any sort of `docker` command in Kubernetes; in Kubernetes there is a separate API system you&#39;d need to integrate into.  That&#39;s another layer of complication you&#39;d prefer to avoid.","body":"...I see you tagged this with both <a href=\"https://stackoverflow.com/questions/tagged/docker\">docker</a> and <a href=\"https://stackoverflow.com/questions/tagged/kubernetes\">kubernetes</a> as well.  Another thing to keep in mind here is that you can&#39;t usually run any sort of <code>docker</code> command in Kubernetes; in Kubernetes there is a separate API system you&#39;d need to integrate into.  That&#39;s another layer of complication you&#39;d prefer to avoid."}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671201907,"creation_date":1671128067,"question_id":74815867,"body_markdown":"I have an application on a spring-boot. The essence of the application is simple: using the first end-point I load a file with docker-compose.yml, using the second end-point I execute shell script &quot;docker-compose up&quot;.\r\n\r\nOf course I have volume mapping of the folder to an external system.\r\n \r\nAnd when I have the application running on the local computer - everything works great. But when I wrap the application in a docker container, the application doesn&#39;t see the file when executing it. That is, it loads the file fine, but can&#39;t execute, citing that the file doesn&#39;t exist.\r\n\r\nMy guess is that the docker doesn&#39;t have enough permissions to read or execute the shell script. Am I thinking correctly and if so, how can this be resolved?\r\n\r\n\r\np.s. If anything, docker-compose to raise the container just with postgres+pgadmin. It doesn&#39;t really matter, just thought I&#39;d clarify that this file is not for this spring application.","title":"How do I give docker permissions to execute a file outside of a container?","body":"<p>I have an application on a spring-boot. The essence of the application is simple: using the first end-point I load a file with docker-compose.yml, using the second end-point I execute shell script &quot;docker-compose up&quot;.</p>\n<p>Of course I have volume mapping of the folder to an external system.</p>\n<p>And when I have the application running on the local computer - everything works great. But when I wrap the application in a docker container, the application doesn't see the file when executing it. That is, it loads the file fine, but can't execute, citing that the file doesn't exist.</p>\n<p>My guess is that the docker doesn't have enough permissions to read or execute the shell script. Am I thinking correctly and if so, how can this be resolved?</p>\n<p>p.s. If anything, docker-compose to raise the container just with postgres+pgadmin. It doesn't really matter, just thought I'd clarify that this file is not for this spring application.</p>\n"},{"tags":["java","arrays","variables"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1671199088,"post_id":74825417,"comment_id":132053554,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1671199196,"post_id":74825417,"comment_id":132053592,"body_markdown":"You add the same ArrayList `mapLine` to bot your `originalmap` and `playermap`. Any modification you do on that list will therefor be reflected everywhere else it is used. In java objects don&#39;t get automatically cloned/copied when you pass them around.","body":"You add the same ArrayList <code>mapLine</code> to bot your <code>originalmap</code> and <code>playermap</code>. Any modification you do on that list will therefor be reflected everywhere else it is used. In java objects don&#39;t get automatically cloned/copied when you pass them around."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1671199380,"post_id":74825417,"comment_id":132053666,"body_markdown":"`if (spawnchar!= &#39;#&#39;||spawnchar != &#39;G&#39;||spawnchar != &#39;B&#39;) ` is always true. You probably want *and* operator `&amp;&amp;` instead of *or* `||`. More info [Why does non-equality check of one variable against many values always return true?](https://stackoverflow.com/q/26337003)","body":"<code>if (spawnchar!= &#39;#&#39;||spawnchar != &#39;G&#39;||spawnchar != &#39;B&#39;) </code> is always true. You probably want <i>and</i> operator <code>&amp;&amp;</code> instead of <i>or</i> <code>||</code>. More info <a href=\"https://stackoverflow.com/q/26337003\">Why does non-equality check of one variable against many values always return true?</a>"},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1671199419,"post_id":74825417,"comment_id":132053679,"body_markdown":"@jhamon No, that doesn&#39;t seem related.","body":"@jhamon No, that doesn&#39;t seem related."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1671199435,"post_id":74825417,"comment_id":132053685,"body_markdown":"`assert true;` isn&#39;t very useful.","body":"<code>assert true;</code> isn&#39;t very useful."},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671199476,"post_id":74825417,"comment_id":132053706,"body_markdown":"@jhamon I referred to it, I don&#39;t understand it fully, but what i got it was that if i did this.playermap = originalmap, it would be a pass by reference, which i tried to avoid by updating both arraylists through mapline.","body":"@jhamon I referred to it, I don&#39;t understand it fully, but what i got it was that if i did this.playermap = originalmap, it would be a pass by reference, which i tried to avoid by updating both arraylists through mapline."},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671199640,"post_id":74825417,"comment_id":132053779,"body_markdown":"@OHGODSPIDERS thats why im confused - i dont use mapline in spawnplayer, its unique to the createmap function.","body":"@OHGODSPIDERS thats why im confused - i dont use mapline in spawnplayer, its unique to the createmap function."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1671199720,"post_id":74825417,"comment_id":132053810,"body_markdown":"it&#39;s the same object in both map. When you change the line list in the first map, the one in the second map is also edited as it&#39;s the same object","body":"it&#39;s the same object in both map. When you change the line list in the first map, the one in the second map is also edited as it&#39;s the same object"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1671199921,"post_id":74825417,"comment_id":132053884,"body_markdown":"@KonradRudolph check this part `this.originalmap.add(mapLine);  this.playermap.add(mapLine); `","body":"@KonradRudolph check this part <code>this.originalmap.add(mapLine);  this.playermap.add(mapLine); </code>"},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671200066,"post_id":74825417,"comment_id":132053931,"body_markdown":"@KonradRudolph the `assert true` acts as a pass statement from my understanding, is theres any other way to do this?","body":"@KonradRudolph the <code>assert true</code> acts as a pass statement from my understanding, is theres any other way to do this?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1671200074,"post_id":74825417,"comment_id":132053933,"body_markdown":"Also you posted code where you say &quot;where both originalmap and playermap is created&quot;, but no neither of these are created in this code, this is simply where they are modified, where are they created and what do they look like?","body":"Also you posted code where you say &quot;where both originalmap and playermap is created&quot;, but no neither of these are created in this code, this is simply where they are modified, where are they created and what do they look like?"},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1671200086,"post_id":74825417,"comment_id":132053943,"body_markdown":"@jhamon I understand, but the answer &quot;Java is pass by value&quot; doesn&#39;t really explain what is going on: OP *doesn&#39;t think* that Java is pass by reference. The thing is that they don&#39;t *understand* pass by reference, and that isn&#39;t the focus of the linked question (at best it&#39;s explained in passing in one of the numerous answers).","body":"@jhamon I understand, but the answer &quot;Java is pass by value&quot; doesn&#39;t really explain what is going on: OP <i>doesn&#39;t think</i> that Java is pass by reference. The thing is that they don&#39;t <i>understand</i> pass by reference, and that isn&#39;t the focus of the linked question (at best it&#39;s explained in passing in one of the numerous answers)."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1671200118,"post_id":74825417,"comment_id":132053956,"body_markdown":"@RhianKansara The `assert true;` statement has *no effect*. Just remove it, it does nothing. I don&#39;t know what you mean by &quot;pass statement&quot;. At any rate, you cannot just ignore a `FileNotFoundException`. You must handle it: your application cannot proceed if the file wasn&#39;t found.","body":"@RhianKansara The <code>assert true;</code> statement has <i>no effect</i>. Just remove it, it does nothing. I don&#39;t know what you mean by &quot;pass statement&quot;. At any rate, you cannot just ignore a <code>FileNotFoundException</code>. You must handle it: your application cannot proceed if the file wasn&#39;t found."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1671200381,"post_id":74825417,"comment_id":132054072,"body_markdown":"Also this code `char spawnchar = playermap.get(spawny).get(spawnx);` looks suspicious to me, but without knowing what `playermap` is it is hard to say what exactly is wrong.  But you are somehow calling `.get` on a `char`? Or else how is the second `get` returning a `char`. I guess maybe the first `get` is returning another map?","body":"Also this code <code>char spawnchar = playermap.get(spawny).get(spawnx);</code> looks suspicious to me, but without knowing what <code>playermap</code> is it is hard to say what exactly is wrong.  But you are somehow calling <code>.get</code> on a <code>char</code>? Or else how is the second <code>get</code> returning a <code>char</code>. I guess maybe the first <code>get</code> is returning another map?"},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671200765,"post_id":74825417,"comment_id":132054206,"body_markdown":"@jhamon its the same data in createmap, but in spawnplayer i exclusively use playermap - unless im mistaken and theyre linked somehow?","body":"@jhamon its the same data in createmap, but in spawnplayer i exclusively use playermap - unless im mistaken and theyre linked somehow?"},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671200852,"post_id":74825417,"comment_id":132054239,"body_markdown":"@Nexevis `class map {\n  //properties of the map.\n  private List&lt;List&lt;Character&gt;&gt; originalmap = new ArrayList&lt;List&lt;Character&gt;&gt;();\n  private List&lt;List&lt;Character&gt;&gt; playermap = new ArrayList&lt;List&lt;Character&gt;&gt;();` - i believe that answers the other questions as well","body":"@Nexevis <code>class map {   &#47;&#47;properties of the map.   private List&lt;List&lt;Character&gt;&gt; originalmap = new ArrayList&lt;List&lt;Character&gt;&gt;();   private List&lt;List&lt;Character&gt;&gt; playermap = new ArrayList&lt;List&lt;Character&gt;&gt;();</code> - i believe that answers the other questions as well"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1671200883,"post_id":74825417,"comment_id":132054250,"body_markdown":"@Rhian Please edit your question with the new info, as it might help other people as well.  Also those are not maps, those are lists, definitely confusingly named.  I guess it doesn&#39;t mean map in the programming sense, but map as in a literal topographical map","body":"@Rhian Please edit your question with the new info, as it might help other people as well.  Also those are not maps, those are lists, definitely confusingly named.  I guess it doesn&#39;t mean map in the programming sense, but map as in a literal topographical map"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1671200979,"post_id":74825417,"comment_id":132054283,"body_markdown":"of course they are linked. `this.playermap` from createmap, is still the same `this.playerrmap` from spawnplayer. Same for `this.this.originalmap`. As both map have the exact same objects inside in createmap, it&#39;s still the same content in spawnplayer","body":"of course they are linked. <code>this.playermap</code> from createmap, is still the same <code>this.playerrmap</code> from spawnplayer. Same for <code>this.this.originalmap</code>. As both map have the exact same objects inside in createmap, it&#39;s still the same content in spawnplayer"},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671201054,"post_id":74825417,"comment_id":132054307,"body_markdown":"@KonradRudolph the files existence is checked when the user enters a filepath - which is why i just ignore it","body":"@KonradRudolph the files existence is checked when the user enters a filepath - which is why i just ignore it"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1671201120,"post_id":74825417,"comment_id":132054337,"body_markdown":"@Rhian Kansara What if the file is deleted in between the code executing?  It is bad practice to swallow exceptions without any logging","body":"@Rhian Kansara What if the file is deleted in between the code executing?  It is bad practice to swallow exceptions without any logging"},{"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"score":0,"creation_date":1671201244,"post_id":74825417,"comment_id":132054390,"body_markdown":"@jhamon how would i go about fixing that?","body":"@jhamon how would i go about fixing that?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1671201382,"post_id":74825417,"comment_id":132054442,"body_markdown":"instead of using a single list `mapLine`, simply create a 2nd one `mapPlayerLine`","body":"instead of using a single list <code>mapLine</code>, simply create a 2nd one <code>mapPlayerLine</code>"}],"answers":[{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671201667,"creation_date":1671201667,"answer_id":74825944,"question_id":74825417,"body_markdown":"Here are the problem statements that are related:\r\n\r\nIn `createMap`:\r\n\r\n    this.originalmap.add(mapLine); \r\n    this.playermap.add(mapLine);\r\n    \r\nIn `spawnPlayer`:\r\n\r\n    this.playermap.get(spawny).set(spawnx,&#39;P&#39;);\r\n\r\nWhen you add the same `mapLine` to each `List`, you are _not_ adding a duplicate of the _values_ you are adding a reference to the _same_ `List`.\r\n\r\nThe next problem statement will then grab the `List` from `playermap` and change the value, which will of course affect both `playermap` and `originalmap` because they are referencing the same exact lists.\r\n\r\nTo fix this, you simply need to create two _separate_ `List`, `playerMapLine` and `originalMapLine`:\r\n\r\n    private void createmap() {\r\n        try {\r\n          File mapFile = new File(this.filepath);\r\n          Scanner textfile = new Scanner(mapFile);\r\n          //read the entire mapfile, line by line. For every line, a mapLine converts the line into a list of characters, which is appended to the map variable.\r\n          this.mapname = textfile.nextLine().replace(&quot;name &quot;, &quot;&quot;);\r\n          String line2 = textfile.nextLine();\r\n          this.goldreq = Integer.parseInt(Character.toString(line2.charAt(line2.length()-1)));\r\n          while (textfile.hasNextLine()) {\r\n            String line = textfile.nextLine();\r\n\t\t    List&lt;Character&gt; playerMapLine = new ArrayList&lt;&gt;();\r\n\t\t    List&lt;Character&gt; originalMapLine = new ArrayList&lt;&gt;();\r\n\r\n\t\t    for (int i = 0; i&lt;line.length();i++) {\r\n\t\t        playerMapLine.add(line.charAt(i));  \r\n\t\t        originalMapLine.add(line.charAt(i));  \r\n\t\t    }\r\n\t\t    this.playermap.add(playerMapLine);\r\n\t\t    this.originalmap.add(originalMapLine); \r\n          }\r\n          textfile.close();\r\n        } catch (FileNotFoundException error) {\r\n          error.printStackTrace();\r\n        }\r\n\r\nAlso, please do not swallow an `Exception` and print the statement out with `error.printStackTrace()`, or log it properly so when an error happens, it is clear.","title":"Java variables updating without prompt?","body":"<p>Here are the problem statements that are related:</p>\n<p>In <code>createMap</code>:</p>\n<pre><code>this.originalmap.add(mapLine); \nthis.playermap.add(mapLine);\n</code></pre>\n<p>In <code>spawnPlayer</code>:</p>\n<pre><code>this.playermap.get(spawny).set(spawnx,'P');\n</code></pre>\n<p>When you add the same <code>mapLine</code> to each <code>List</code>, you are <em>not</em> adding a duplicate of the <em>values</em> you are adding a reference to the <em>same</em> <code>List</code>.</p>\n<p>The next problem statement will then grab the <code>List</code> from <code>playermap</code> and change the value, which will of course affect both <code>playermap</code> and <code>originalmap</code> because they are referencing the same exact lists.</p>\n<p>To fix this, you simply need to create two <em>separate</em> <code>List</code>, <code>playerMapLine</code> and <code>originalMapLine</code>:</p>\n<pre><code>private void createmap() {\n    try {\n      File mapFile = new File(this.filepath);\n      Scanner textfile = new Scanner(mapFile);\n      //read the entire mapfile, line by line. For every line, a mapLine converts the line into a list of characters, which is appended to the map variable.\n      this.mapname = textfile.nextLine().replace(&quot;name &quot;, &quot;&quot;);\n      String line2 = textfile.nextLine();\n      this.goldreq = Integer.parseInt(Character.toString(line2.charAt(line2.length()-1)));\n      while (textfile.hasNextLine()) {\n        String line = textfile.nextLine();\n        List&lt;Character&gt; playerMapLine = new ArrayList&lt;&gt;();\n        List&lt;Character&gt; originalMapLine = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i&lt;line.length();i++) {\n            playerMapLine.add(line.charAt(i));  \n            originalMapLine.add(line.charAt(i));  \n        }\n        this.playermap.add(playerMapLine);\n        this.originalmap.add(originalMapLine); \n      }\n      textfile.close();\n    } catch (FileNotFoundException error) {\n      error.printStackTrace();\n    }\n</code></pre>\n<p>Also, please do not swallow an <code>Exception</code> and print the statement out with <code>error.printStackTrace()</code>, or log it properly so when an error happens, it is clear.</p>\n"}],"owner":{"account_id":19698708,"reputation":9,"user_id":20793971,"display_name":"Rhian Kansara"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671201667,"creation_date":1671198907,"question_id":74825417,"body_markdown":"I am trying to create a game, where a player can move around the games map pulled from a text file. It has 2 stores of the map, `originalmap` and `playermap`. `originalmap` is used to reference the original state of the map, so that the player can move over tiles that have a special nature. `playermap` is what the player sees, and the changes, such as moving and spawning the player itself happens in `playermap`. Below is the code where both `originalmap` and `playermap` is created. Both maps are 2d arraylists.\r\n```\r\nclass map {\r\n  //properties of the map.\r\n  private List&lt;List&lt;Character&gt;&gt; originalmap = new ArrayList&lt;List&lt;Character&gt;&gt;();\r\n  private List&lt;List&lt;Character&gt;&gt; playermap = new ArrayList&lt;List&lt;Character&gt;&gt;();\r\n  //read a map file. Existence is checked when entering filepath, so no need to code any catches.\r\n  private void createmap() {\r\n    try {\r\n      File mapFile = new File(this.filepath);\r\n      Scanner textfile = new Scanner(mapFile);\r\n      //read the entire mapfile, line by line. For every line, a mapLine converts the line into a list of characters, which is appended to the map variable.\r\n      this.mapname = textfile.nextLine().replace(&quot;name &quot;, &quot;&quot;);\r\n      String line2 = textfile.nextLine();\r\n      this.goldreq = Integer.parseInt(Character.toString(line2.charAt(line2.length()-1)));\r\n      while (textfile.hasNextLine()) {\r\n        String line = textfile.nextLine();\r\n        List&lt;Character&gt; mapLine = new ArrayList&lt;Character&gt;();\r\n        for (int i = 0; i&lt;line.length();i++) {\r\n          mapLine.add(line.charAt(i));  \r\n        }\r\n        this.originalmap.add(mapLine); \r\n        this.playermap.add(mapLine);\r\n      }\r\n      textfile.close();\r\n    } catch (FileNotFoundException error) {\r\n      assert true;\r\n    }\r\n  }\r\n```\r\nThe issue is when I try to spawn a player, it appears that the player spawns on both the ``originalmap`` and the ``playermap``. I am at a loss as to why. Below is the code where the player is spawned.\r\n\r\n```\r\n  public void spawnPlayer() {\r\n    Random rand = new Random();\r\n    while (true) {        \r\n      int spawnx = rand.nextInt(playermap.get(0).size());\r\n      int spawny = rand.nextInt(playermap.size());\r\n      char spawnchar = playermap.get(spawny).get(spawnx);\r\n      if (spawnchar!= &#39;#&#39;||spawnchar != &#39;G&#39;||spawnchar != &#39;B&#39;) {\r\n        this.playergold = 0;\r\n        this.playerposy = spawny;\r\n        this.playerposx = spawnx;\r\n        this.playermap.get(spawny).set(spawnx,&#39;P&#39;);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nN/B: these functions are called one after another (createmap, and then spawnplayer) in the default method of the class. \r\n\r\nI tried to print the maps, expecting to see originalmap to be unchanged \r\nand playermap to be changed. Both maps were changed, without me changing originalmap after spawning the player.","title":"Java variables updating without prompt?","body":"<p>I am trying to create a game, where a player can move around the games map pulled from a text file. It has 2 stores of the map, <code>originalmap</code> and <code>playermap</code>. <code>originalmap</code> is used to reference the original state of the map, so that the player can move over tiles that have a special nature. <code>playermap</code> is what the player sees, and the changes, such as moving and spawning the player itself happens in <code>playermap</code>. Below is the code where both <code>originalmap</code> and <code>playermap</code> is created. Both maps are 2d arraylists.</p>\n<pre><code>class map {\n  //properties of the map.\n  private List&lt;List&lt;Character&gt;&gt; originalmap = new ArrayList&lt;List&lt;Character&gt;&gt;();\n  private List&lt;List&lt;Character&gt;&gt; playermap = new ArrayList&lt;List&lt;Character&gt;&gt;();\n  //read a map file. Existence is checked when entering filepath, so no need to code any catches.\n  private void createmap() {\n    try {\n      File mapFile = new File(this.filepath);\n      Scanner textfile = new Scanner(mapFile);\n      //read the entire mapfile, line by line. For every line, a mapLine converts the line into a list of characters, which is appended to the map variable.\n      this.mapname = textfile.nextLine().replace(&quot;name &quot;, &quot;&quot;);\n      String line2 = textfile.nextLine();\n      this.goldreq = Integer.parseInt(Character.toString(line2.charAt(line2.length()-1)));\n      while (textfile.hasNextLine()) {\n        String line = textfile.nextLine();\n        List&lt;Character&gt; mapLine = new ArrayList&lt;Character&gt;();\n        for (int i = 0; i&lt;line.length();i++) {\n          mapLine.add(line.charAt(i));  \n        }\n        this.originalmap.add(mapLine); \n        this.playermap.add(mapLine);\n      }\n      textfile.close();\n    } catch (FileNotFoundException error) {\n      assert true;\n    }\n  }\n</code></pre>\n<p>The issue is when I try to spawn a player, it appears that the player spawns on both the <code>originalmap</code> and the <code>playermap</code>. I am at a loss as to why. Below is the code where the player is spawned.</p>\n<pre><code>  public void spawnPlayer() {\n    Random rand = new Random();\n    while (true) {        \n      int spawnx = rand.nextInt(playermap.get(0).size());\n      int spawny = rand.nextInt(playermap.size());\n      char spawnchar = playermap.get(spawny).get(spawnx);\n      if (spawnchar!= '#'||spawnchar != 'G'||spawnchar != 'B') {\n        this.playergold = 0;\n        this.playerposy = spawny;\n        this.playerposx = spawnx;\n        this.playermap.get(spawny).set(spawnx,'P');\n        break;\n      }\n    }\n  }\n}\n</code></pre>\n<p>N/B: these functions are called one after another (createmap, and then spawnplayer) in the default method of the class.</p>\n<p>I tried to print the maps, expecting to see originalmap to be unchanged\nand playermap to be changed. Both maps were changed, without me changing originalmap after spawning the player.</p>\n"},{"tags":["java","gradle","javadoc"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":2,"creation_date":1594732859,"post_id":62894307,"comment_id":111224376,"body_markdown":"`-Xdoclint:none` does not suppress JavaDoc warnings, as you can see if you run the tool from the command line. I don&#39;t know of a way to actually do that, but you can at least reduce the number to a single printed warning with `options.addStringOption(&#39;Xmaxwarns&#39;, &#39;1&#39;)`.","body":"<code>-Xdoclint:none</code> does not suppress JavaDoc warnings, as you can see if you run the tool from the command line. I don&#39;t know of a way to actually do that, but you can at least reduce the number to a single printed warning with <code>options.addStringOption(&#39;Xmaxwarns&#39;, &#39;1&#39;)</code>."},{"owner":{"account_id":9649972,"reputation":181,"user_id":8254861,"display_name":"ngranin"},"score":0,"creation_date":1594888132,"post_id":62894307,"comment_id":111286038,"body_markdown":"Thank you Bj&#248;rn Vester, I tried it, what a pity there is no such possibility to set &#39;Xmaxwarns&#39; to &#39;0&#39;","body":"Thank you Bj&#248;rn Vester, I tried it, what a pity there is no such possibility to set &#39;Xmaxwarns&#39; to &#39;0&#39;"}],"answers":[{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671201652,"creation_date":1641515718,"answer_id":70615266,"question_id":62894307,"body_markdown":"It&#39;s a pity that it cannot be switched off completely, the following 2 ways of reducing do get close though ... in build.gradle.kts, kotlin:\r\n\r\n    tasks.withType&lt;Javadoc&gt; {\r\n        options {\r\n            this as StandardJavadocDocletOptions\r\n            addBooleanOption(&quot;Xdoclint:none&quot;, true)\r\n            addStringOption(&quot;Xmaxwarns&quot;, &quot;1&quot;)\r\n        }\r\n    }\r\n    \r\n    tasks.withType&lt;Javadoc&gt; {\r\n        (options as StandardJavadocDocletOptions).addBooleanOption(&quot;Xdoclint:none&quot;, true) \r\n        (options as StandardJavadocDocletOptions).addStringOption(&quot;Xmaxwarns&quot;, &quot;1&quot;)\r\n    }\r\n\r\n","title":"Option Xdoclint:none does not work in Gradle to ignore JavaDoc warnings?","body":"<p>It's a pity that it cannot be switched off completely, the following 2 ways of reducing do get close though ... in build.gradle.kts, kotlin:</p>\n<pre><code>tasks.withType&lt;Javadoc&gt; {\n    options {\n        this as StandardJavadocDocletOptions\n        addBooleanOption(&quot;Xdoclint:none&quot;, true)\n        addStringOption(&quot;Xmaxwarns&quot;, &quot;1&quot;)\n    }\n}\n\ntasks.withType&lt;Javadoc&gt; {\n    (options as StandardJavadocDocletOptions).addBooleanOption(&quot;Xdoclint:none&quot;, true) \n    (options as StandardJavadocDocletOptions).addStringOption(&quot;Xmaxwarns&quot;, &quot;1&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":9649972,"reputation":181,"user_id":8254861,"display_name":"ngranin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671201652,"creation_date":1594726695,"question_id":62894307,"body_markdown":"\r\nI want to suppress Javadoc warnings in the output, because it fails the automatic builds.\r\n\r\n``` groovy\r\ntask clientApiDocs(type: Javadoc) {\r\n    source = sourceSets.main.allJava\r\n    destinationDir = reporting.file(&quot;javadoc&quot;)\r\n    classpath = configurations.compile\r\n    options.addBooleanOption(&#39;Xdoclint:none&#39;, true)\r\n}\r\n```\r\n\r\nThis task will print some warnings:\r\n\r\n```\r\nUser.java:124: warning - @param argument &quot;password&quot; is not a parameter name.\r\nStateListener.java:17: warning - @author: is an unknown tag.\r\n```\r\n\r\nThere are many of them, and It&#39;s not possible to fix them.\r\n\r\n\r\nI tried to add `options.addBooleanOption(&#39;Xdoclint:none&#39;, true)` and `options.addStringOption(&#39;Xdoclint:none&#39;, &#39;-quiet&#39;)` but this does not help. There are still Javadoc warnings in concole.\r\n\r\nHowever, comparing to Ant, option `&lt;javadoc destdir=&quot;${dir.build}/doc&quot; additionalparam=&quot;-Xdoclint:none&quot;&gt;` works pretty well and does not print any warnings.\r\n\r\nIt seems like there are many of people who tried to solve the same problem, but there is no way to deal with it. E.g. [link][1]\r\n\r\nWhat is the possible way or workaround to resolve it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52205209/configure-gradle-build-to-suppress-javadoc-console-warnings","title":"Option Xdoclint:none does not work in Gradle to ignore JavaDoc warnings?","body":"<p>I want to suppress Javadoc warnings in the output, because it fails the automatic builds.</p>\n<pre><code>task clientApiDocs(type: Javadoc) {\n    source = sourceSets.main.allJava\n    destinationDir = reporting.file(&quot;javadoc&quot;)\n    classpath = configurations.compile\n    options.addBooleanOption('Xdoclint:none', true)\n}\n</code></pre>\n<p>This task will print some warnings:</p>\n<pre><code>User.java:124: warning - @param argument &quot;password&quot; is not a parameter name.\nStateListener.java:17: warning - @author: is an unknown tag.\n</code></pre>\n<p>There are many of them, and It's not possible to fix them.</p>\n<p>I tried to add <code>options.addBooleanOption('Xdoclint:none', true)</code> and <code>options.addStringOption('Xdoclint:none', '-quiet')</code> but this does not help. There are still Javadoc warnings in concole.</p>\n<p>However, comparing to Ant, option <code>&lt;javadoc destdir=&quot;${dir.build}/doc&quot; additionalparam=&quot;-Xdoclint:none&quot;&gt;</code> works pretty well and does not print any warnings.</p>\n<p>It seems like there are many of people who tried to solve the same problem, but there is no way to deal with it. E.g. <a href=\"https://stackoverflow.com/questions/52205209/configure-gradle-build-to-suppress-javadoc-console-warnings\">link</a></p>\n<p>What is the possible way or workaround to resolve it?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":19638928,"reputation":1,"user_id":14375554,"display_name":"Mayur Kidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670937080,"creation_date":1670937080,"answer_id":74785429,"question_id":74784906,"body_markdown":"Generally, 401 occurs when you provide the wrong credentials.\r\n\r\nif credentials are proper then it seems like you are missing the authority column in your users table, everything else looks fine.\r\nMaybe this link will help you [JWT-based authorization](https://www.codejava.net/frameworks/spring-boot/spring-security-jwt-role-based-authorization)","title":"JWT with Spring Boot and Mysql, getting an error &quot;status&quot;: 401, &quot;error&quot;: &quot;Unauthorized&quot;, while giving an access roles","body":"<p>Generally, 401 occurs when you provide the wrong credentials.</p>\n<p>if credentials are proper then it seems like you are missing the authority column in your users table, everything else looks fine.\nMaybe this link will help you <a href=\"https://www.codejava.net/frameworks/spring-boot/spring-security-jwt-role-based-authorization\" rel=\"nofollow noreferrer\">JWT-based authorization</a></p>\n"}],"owner":{"account_id":25907866,"reputation":1,"user_id":19632658,"display_name":"Reshma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671201631,"creation_date":1670934677,"question_id":74784906,"body_markdown":"\r\n```\r\nprotected void configure(HttpSecurity http) throws Exception{ http.csrf().disable().cors().disable().authorizeRequests()\r\n.antMatchers(&quot;/**&quot;,&quot;/user/**&quot;,&quot;/document/**&quot;,&quot;/appointment/**&quot;,&quot;/activity/**&quot;).hasAuthority(UserRole.ADMIN.name())\t\t.antMatchers(&quot;/user/&quot;,&quot;/document/**&quot;,&quot;/appointment/**&quot;,&quot;/activity/**&quot;).hasAuthority(UserRole.ADMIN.name())\t\t.antMatchers(&quot;/user/**&quot;,&quot;/activity/**&quot;,&quot;/appointment/&quot;,&quot;/document/&quot;,&quot;/appointment/**&quot;,&quot;/document/**&quot;).hasAuthority((UserRole.SUPPORTEXECUTIVE.name()))\t\t.antMatchers(&quot;/user/**&quot;,&quot;/activity/**&quot;,&quot;/appointment/&quot;,&quot;/document/&quot;,&quot;/appointment/**&quot;).hasAuthority((UserRole.FIELDEXECUTIVE.name()))\r\n.and().exceptionHandling().authenticationEntryPoint(invaildUserAuthEntryPoint).and().sessionManagement()\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().addFilterBefore(securityFilter,UsernamePasswordAuthenticationFilter.class);\r\n```\r\n\r\n```\r\nprotected void doFilterInternal(HttpServletRequest request,HttpServletResponse response, FilterChain filterChain) throws\r\n  ServletException, IOException\r\n  {  \r\n\t  String token = request.getHeader(&quot;Authorization&quot;);\t  \r\n\t  if(token != null) \r\n\t  { \r\n\t\t  String username = util.getUsername(token);  \r\n\t\t  \r\n\t\t  if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\r\n\t\t  {\t  \r\n\t\t\t  UserDetails usr = userDetailsService.loadUserByUsername(username);\r\n\t\t\t  System.out.println(usr);\r\n\t\t\t  boolean isValid = util.validateToken(token, usr.getUsername());\r\n\t\t\t  \r\n\t\t\t  if(isValid)\r\n\t\t\t  { \t\t\t\t  \r\n\t\t\t\t  UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(username,usr.getPassword(),usr.getAuthorities());\t  \r\n\t\t\t\t  authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\t  \r\n\t\t\t\t  SecurityContextHolder.getContext().setAuthentication(authToken);  \r\n\t\t\t  }  \r\n\t\t  }  \r\n\t  } \r\n\t  filterChain.doFilter(request, response); \r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic ResponseEntity&lt;UserResponse&gt; loginUser(@RequestBody UserRequest request) throws Exception\r\n\t{  \r\n\t\ttry\r\n\t\t{\r\n\t\t\t  authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUserEmail(),request.getPassword()));\t  \r\n\t\t\t  String token = utill.genrateToken(request.getUserEmail());\t\r\n\t\t\t  System.out.println(&quot;Token :&quot; +token);\r\n\t\t\t  return ResponseEntity.ok(new UserResponse(token));\r\n\t\t}\r\n\t\tcatch (DisabledException e)\r\n\t\t{\r\n\t         throw new Exception(&quot;USER_DISABLED&quot;, e);\r\n\t    } \r\n\t\tcatch (BadCredentialsException e) \r\n\t\t{\r\n\t         throw new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\r\n\t     }\r\n\t \r\n\t}\r\n\t\r\n```\r\n\r\nWhen given the access for .antmatchers.permitALL() the token is generated and given access with generated token only, but after applying .hasAuthority(Role) we get unauthorized user error.\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-12-13T11:51:52.606+00:00&quot;,\r\n    &quot;status&quot;: 401,\r\n    &quot;error&quot;: &quot;Unauthorized&quot;,\r\n}\r\n```\r\nExpecting Token generation with `hasAuthority()` and access the roles for particular user.","title":"JWT with Spring Boot and Mysql, getting an error &quot;status&quot;: 401, &quot;error&quot;: &quot;Unauthorized&quot;, while giving an access roles","body":"<pre><code>protected void configure(HttpSecurity http) throws Exception{ http.csrf().disable().cors().disable().authorizeRequests()\n.antMatchers(&quot;/**&quot;,&quot;/user/**&quot;,&quot;/document/**&quot;,&quot;/appointment/**&quot;,&quot;/activity/**&quot;).hasAuthority(UserRole.ADMIN.name())      .antMatchers(&quot;/user/&quot;,&quot;/document/**&quot;,&quot;/appointment/**&quot;,&quot;/activity/**&quot;).hasAuthority(UserRole.ADMIN.name())      .antMatchers(&quot;/user/**&quot;,&quot;/activity/**&quot;,&quot;/appointment/&quot;,&quot;/document/&quot;,&quot;/appointment/**&quot;,&quot;/document/**&quot;).hasAuthority((UserRole.SUPPORTEXECUTIVE.name()))      .antMatchers(&quot;/user/**&quot;,&quot;/activity/**&quot;,&quot;/appointment/&quot;,&quot;/document/&quot;,&quot;/appointment/**&quot;).hasAuthority((UserRole.FIELDEXECUTIVE.name()))\n.and().exceptionHandling().authenticationEntryPoint(invaildUserAuthEntryPoint).and().sessionManagement()        .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().addFilterBefore(securityFilter,UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<pre><code>protected void doFilterInternal(HttpServletRequest request,HttpServletResponse response, FilterChain filterChain) throws\n  ServletException, IOException\n  {  \n      String token = request.getHeader(&quot;Authorization&quot;);      \n      if(token != null) \n      { \n          String username = util.getUsername(token);  \n          \n          if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\n          {   \n              UserDetails usr = userDetailsService.loadUserByUsername(username);\n              System.out.println(usr);\n              boolean isValid = util.validateToken(token, usr.getUsername());\n              \n              if(isValid)\n              {                   \n                  UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(username,usr.getPassword(),usr.getAuthorities());   \n                  authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));   \n                  SecurityContextHolder.getContext().setAuthentication(authToken);  \n              }  \n          }  \n      } \n      filterChain.doFilter(request, response); \n  }\n}\n</code></pre>\n<pre><code>public ResponseEntity&lt;UserResponse&gt; loginUser(@RequestBody UserRequest request) throws Exception\n    {  \n        try\n        {\n              authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUserEmail(),request.getPassword()));      \n              String token = utill.genrateToken(request.getUserEmail());    \n              System.out.println(&quot;Token :&quot; +token);\n              return ResponseEntity.ok(new UserResponse(token));\n        }\n        catch (DisabledException e)\n        {\n             throw new Exception(&quot;USER_DISABLED&quot;, e);\n        } \n        catch (BadCredentialsException e) \n        {\n             throw new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\n         }\n     \n    }\n    \n</code></pre>\n<p>When given the access for .antmatchers.permitALL() the token is generated and given access with generated token only, but after applying .hasAuthority(Role) we get unauthorized user error.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2022-12-13T11:51:52.606+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n}\n</code></pre>\n<p>Expecting Token generation with <code>hasAuthority()</code> and access the roles for particular user.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1418270106,"post_id":27415077,"comment_id":43274161,"body_markdown":"Java 6 doesn&#39;t have lambdas. And isn&#39;t supported anymore (Feb 2013 was 22 months ago). Java 7 support ends April 2015. So what do you want us to explain exactly?","body":"Java 6 doesn&#39;t have lambdas. And isn&#39;t supported anymore (Feb 2013 was 22 months ago). Java 7 support ends April 2015. So what do you want us to explain exactly?"},{"owner":{"account_id":239868,"reputation":2418,"user_id":509746,"accept_rate":90,"display_name":"Jetti"},"score":4,"creation_date":1418270137,"post_id":27415077,"comment_id":43274172,"body_markdown":"What have you tried? What specifically confuses you about the lambdas? This is relatively straight forward Stream/Lambda usage, have you looked into that at all?","body":"What have you tried? What specifically confuses you about the lambdas? This is relatively straight forward Stream/Lambda usage, have you looked into that at all?"}],"answers":[{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1418270330,"creation_date":1418270330,"answer_id":27415133,"question_id":27415077,"body_markdown":"The first function looks through the values of `adjacencyList` (which is, probably, a map, despite confusing name), calls `.getEdgeCount` on each of them, adds up all numbers, and returns the sum.\r\n\r\nThe second function, takes nodes from the queue, loops through edges, gets `.toNode()` of every edge, and, if it has not yet been visited, sets its parent to the current node, and adds it to the queue. ","title":"Converting Java 8 Code to Java 6: Lambda Expressions","body":"<p>The first function looks through the values of <code>adjacencyList</code> (which is, probably, a map, despite confusing name), calls <code>.getEdgeCount</code> on each of them, adds up all numbers, and returns the sum.</p>\n\n<p>The second function, takes nodes from the queue, loops through edges, gets <code>.toNode()</code> of every edge, and, if it has not yet been visited, sets its parent to the current node, and adds it to the queue. </p>\n"},{"tags":[],"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418271514,"creation_date":1418271514,"answer_id":27415307,"question_id":27415077,"body_markdown":"There is an open-source project that backports the stream support to Java 6/7 at https://sourceforge.net/projects/streamsupport/\r\n\r\n&gt; streamsupport is a backport of the Java 8 java.util.function (functional interfaces) and java.util.stream (streams) API for users of Java 6 or 7 supplemented with selected additions from java.util.concurrent which didn&#39;t exist back in Java 6.","title":"Converting Java 8 Code to Java 6: Lambda Expressions","body":"<p>There is an open-source project that backports the stream support to Java 6/7 at <a href=\"https://sourceforge.net/projects/streamsupport/\" rel=\"nofollow\">https://sourceforge.net/projects/streamsupport/</a></p>\n\n<blockquote>\n  <p>streamsupport is a backport of the Java 8 java.util.function (functional interfaces) and java.util.stream (streams) API for users of Java 6 or 7 supplemented with selected additions from java.util.concurrent which didn't exist back in Java 6.</p>\n</blockquote>\n"}],"owner":{"account_id":4061206,"reputation":663,"user_id":3337714,"accept_rate":61,"display_name":"user3337714"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1418283545,"accepted_answer_id":27415133,"answer_count":2,"score":1,"last_activity_date":1671201617,"creation_date":1418269867,"question_id":27415077,"body_markdown":"I am new to `Lambda` expression and I have a Java 1.6 version. Can anyone explain how to convert the following code (Java 1.8) to Java 1.6?\r\n\r\n\r\n    // 1st Code\r\n    public int getEdgeCount()\r\n    {\r\n        return adjacencyList.values()\r\n                .stream()\r\n                .mapToInt(Node::getEdgeCount)\r\n                .sum();\r\n    }\r\n\r\n    // 2nd Code\r\n    while (!queue.isEmpty()) {\r\n            Node&lt;T&gt; first = queue.remove();\r\n            first.setVisited(true);\r\n            first.edges().forEach(edge -&gt; {\r\n                Node&lt;T&gt; neighbour = edge.toNode();\r\n                if (!neighbour.isVisited()) {\r\n                    neighbour.setParent(first);\r\n                    queue.add(neighbour);\r\n                }\r\n            });\r\n        }","title":"Converting Java 8 Code to Java 6: Lambda Expressions","body":"<p>I am new to <code>Lambda</code> expression and I have a Java 1.6 version. Can anyone explain how to convert the following code (Java 1.8) to Java 1.6?</p>\n<pre><code>// 1st Code\npublic int getEdgeCount()\n{\n    return adjacencyList.values()\n            .stream()\n            .mapToInt(Node::getEdgeCount)\n            .sum();\n}\n\n// 2nd Code\nwhile (!queue.isEmpty()) {\n        Node&lt;T&gt; first = queue.remove();\n        first.setVisited(true);\n        first.edges().forEach(edge -&gt; {\n            Node&lt;T&gt; neighbour = edge.toNode();\n            if (!neighbour.isVisited()) {\n                neighbour.setParent(first);\n                queue.add(neighbour);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1670944326,"post_id":74786897,"comment_id":131987185,"body_markdown":"I would assume they tried by creating artificially that many and checking the result as they say in the bug report you&#39;ve linked?","body":"I would assume they tried by creating artificially that many and checking the result as they say in the bug report you&#39;ve linked?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670945095,"post_id":74786897,"comment_id":131987469,"body_markdown":"Does this answer your question? [What&#39;s a monitor in Java?](https://stackoverflow.com/questions/3362303/whats-a-monitor-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3362303/whats-a-monitor-in-java\">What&#39;s a monitor in Java?</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670945116,"post_id":74786897,"comment_id":131987476,"body_markdown":"Pretty much fire up a profiler and count the Objects","body":"Pretty much fire up a profiler and count the Objects"},{"owner":{"account_id":3157019,"reputation":45,"user_id":2669199,"display_name":"Morten Knudsen"},"score":0,"creation_date":1671016590,"post_id":74786897,"comment_id":132004650,"body_markdown":"@LinFelix I don&#39;t know how to check the result? My question is how to get it?","body":"@LinFelix I don&#39;t know how to check the result? My question is how to get it?"},{"owner":{"account_id":3157019,"reputation":45,"user_id":2669199,"display_name":"Morten Knudsen"},"score":0,"creation_date":1671016595,"post_id":74786897,"comment_id":132004652,"body_markdown":"@matt If it really is as simple as 1:1 object and monitor, I can&#39;t see the relevance of the legacy MonitorBound flag https://bugs.openjdk.org/browse/JDK-8230938, I mean it is possible to deflate the number?","body":"@matt If it really is as simple as 1:1 object and monitor, I can&#39;t see the relevance of the legacy MonitorBound flag <a href=\"https://bugs.openjdk.org/browse/JDK-8230938\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8230938</a>, I mean it is possible to deflate the number?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671018845,"post_id":74786897,"comment_id":132005453,"body_markdown":"I guess the devils in the details. They are referring to active and idle monitors. I think in your question it isn&#39;t clear even though you literally say &quot;idle monitors&quot;, in the body of your question you reference &quot;monitors currently in a running jvm&quot;. Pretty much Objects have a monitor, Maybe you could improve your question. It sounds like you want to monitor the monitor. Which visualvm seems to do.","body":"I guess the devils in the details. They are referring to active and idle monitors. I think in your question it isn&#39;t clear even though you literally say &quot;idle monitors&quot;, in the body of your question you reference &quot;monitors currently in a running jvm&quot;. Pretty much Objects have a monitor, Maybe you could improve your question. It sounds like you want to monitor the monitor. Which visualvm seems to do."},{"owner":{"account_id":3157019,"reputation":45,"user_id":2669199,"display_name":"Morten Knudsen"},"score":0,"creation_date":1671181176,"post_id":74786897,"comment_id":132047944,"body_markdown":"@matt I have rephrased my question and added some details. Where does visualvm show the number of (idle) monitors?","body":"@matt I have rephrased my question and added some details. Where does visualvm show the number of (idle) monitors?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671201608,"creation_date":1671201608,"answer_id":74825933,"question_id":74786897,"body_markdown":"It is true that every Java object can be used as a monitor, but the &quot;idle monitors&quot; that https://bugs.openjdk.org/browse/JDK-8153224 refers to are not simply objects.  That wouldn&#39;t make sense.  It would mean that the mere existence of lots of objects in the heap would delay GC &quot;sync&quot;.\r\n\r\nSo what *does* it mean?\r\n\r\n-----------------------\r\n\r\nFirst we need to understand a bit about how Java monitors (primitive locks) work.\r\n\r\nThe default state of a monitor is &quot;thin&quot;.  In this state, the monitor is represented by a couple of lock bits in the object header.  When a thread attempts to acquire a monitor that is in the thin state, it uses (I believe) a CAS instruction (or similar) to atomically test that the lock is thin+unlocked and flip it to thin+locked.  If that succeeds, the thread has acquired the monitor lock and it proceeds on its way.\r\n\r\nHowever, if the lock bits say that the monitor is *already* locked, the CAS will fail: we have *lock contention*.  The locking code now needs to add the current thread to a queue for the monitor, and &quot;park&quot; it.  But the object header bits cannot represent the queue and so on.  So the code creates a &quot;fat&quot; lock data structure to hold the extra state needed.  This is called *lock inflation*.  (The precise details don&#39;t matter for the purpose of this explanation.)\r\n\r\nThe problem is that &quot;fat&quot; locks use more memory than &quot;thin&quot; locks, and have more complicated and expensive lock acquire and release operations.  So we want to turn them back into &quot;thin&quot; locks; i.e. &quot;deflate&quot; them.  But we don&#39;t want to do this immediately that the lock is released because there is a fair chance that the lock contention will recur and the lock will need to be reinflated.\r\n\r\nSo there is a mechanism that scans for &quot;fat&quot; locks that are current not locked and don&#39;t have threads waiting to acquire them.  These are the &quot;idle monitors&quot; that the JDK-8153224 is talking about.  If I understand what the bug report is saying, when the number of these &quot;idle monitors&quot; is large, the deflater mechanism can significantly delay the GC &quot;sync&quot; step.\r\n\r\n------------------\r\n\r\nThis brings us to your problem.  How can you tell if the deflater is what is causing your &quot;syncs&quot; to take a long time?\r\n\r\nI don&#39;t think you can ... directly.\r\n\r\nHowever, for this phenomenon to occur, you would need a scenario where there is a lot of thread contention on a large number of monitors.  My advice would be to examine / analyze your application to see if that is plausible.  (Note that the Twitter example involved thousands of threads and hundreds of thousands of monitors. It sounds a bit extreme to me ...)\r\n\r\nThere are other things (culprits) that can cause delays in the GC &quot;sync&quot; step.  These include:\r\n\r\n  - certain kinds of long running loops,\r\n  - long running `System.arraycopy()` calls, and\r\n  - having a large number of threads in RUNNING state.\r\n\r\nSo before spend lots of time on the &quot;idle monitor&quot; theory, I think you should do some safepoint profiling as mentioned in https://stackoverflow.com/questions/67232199.  Look for application threads that maybe the cause.\r\n  \r\n","title":"Is there a way to get the number of idle monitors","body":"<p>It is true that every Java object can be used as a monitor, but the &quot;idle monitors&quot; that <a href=\"https://bugs.openjdk.org/browse/JDK-8153224\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8153224</a> refers to are not simply objects.  That wouldn't make sense.  It would mean that the mere existence of lots of objects in the heap would delay GC &quot;sync&quot;.</p>\n<p>So what <em>does</em> it mean?</p>\n<hr />\n<p>First we need to understand a bit about how Java monitors (primitive locks) work.</p>\n<p>The default state of a monitor is &quot;thin&quot;.  In this state, the monitor is represented by a couple of lock bits in the object header.  When a thread attempts to acquire a monitor that is in the thin state, it uses (I believe) a CAS instruction (or similar) to atomically test that the lock is thin+unlocked and flip it to thin+locked.  If that succeeds, the thread has acquired the monitor lock and it proceeds on its way.</p>\n<p>However, if the lock bits say that the monitor is <em>already</em> locked, the CAS will fail: we have <em>lock contention</em>.  The locking code now needs to add the current thread to a queue for the monitor, and &quot;park&quot; it.  But the object header bits cannot represent the queue and so on.  So the code creates a &quot;fat&quot; lock data structure to hold the extra state needed.  This is called <em>lock inflation</em>.  (The precise details don't matter for the purpose of this explanation.)</p>\n<p>The problem is that &quot;fat&quot; locks use more memory than &quot;thin&quot; locks, and have more complicated and expensive lock acquire and release operations.  So we want to turn them back into &quot;thin&quot; locks; i.e. &quot;deflate&quot; them.  But we don't want to do this immediately that the lock is released because there is a fair chance that the lock contention will recur and the lock will need to be reinflated.</p>\n<p>So there is a mechanism that scans for &quot;fat&quot; locks that are current not locked and don't have threads waiting to acquire them.  These are the &quot;idle monitors&quot; that the JDK-8153224 is talking about.  If I understand what the bug report is saying, when the number of these &quot;idle monitors&quot; is large, the deflater mechanism can significantly delay the GC &quot;sync&quot; step.</p>\n<hr />\n<p>This brings us to your problem.  How can you tell if the deflater is what is causing your &quot;syncs&quot; to take a long time?</p>\n<p>I don't think you can ... directly.</p>\n<p>However, for this phenomenon to occur, you would need a scenario where there is a lot of thread contention on a large number of monitors.  My advice would be to examine / analyze your application to see if that is plausible.  (Note that the Twitter example involved thousands of threads and hundreds of thousands of monitors. It sounds a bit extreme to me ...)</p>\n<p>There are other things (culprits) that can cause delays in the GC &quot;sync&quot; step.  These include:</p>\n<ul>\n<li>certain kinds of long running loops,</li>\n<li>long running <code>System.arraycopy()</code> calls, and</li>\n<li>having a large number of threads in RUNNING state.</li>\n</ul>\n<p>So before spend lots of time on the &quot;idle monitor&quot; theory, I think you should do some safepoint profiling as mentioned in <a href=\"https://stackoverflow.com/questions/67232199\">How to reduce time taken on threads reaching Safepoint - Sync state</a>.  Look for application threads that maybe the cause.</p>\n"}],"owner":{"account_id":3157019,"reputation":45,"user_id":2669199,"display_name":"Morten Knudsen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74825933,"answer_count":1,"score":1,"last_activity_date":1671201608,"creation_date":1670943946,"question_id":74786897,"body_markdown":"This link mentions the number of monitors currently in a running JVM (i.e. 250000)\r\nhttps://bugs.openjdk.org/browse/JDK-8153224\r\n\r\nHow were they able to obtain that number?\r\n\r\nSpecifically, I want to obtain the number of idle monitors in a running system. We have observed a long &quot;Stopping threads&quot; phase i a gc run.\r\nThe safepoint log shows that the time is spent in the &quot;sync&quot; phase.\r\nWe are looking for culprits.","title":"Is there a way to get the number of idle monitors","body":"<p>This link mentions the number of monitors currently in a running JVM (i.e. 250000)\n<a href=\"https://bugs.openjdk.org/browse/JDK-8153224\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8153224</a></p>\n<p>How were they able to obtain that number?</p>\n<p>Specifically, I want to obtain the number of idle monitors in a running system. We have observed a long &quot;Stopping threads&quot; phase i a gc run.\nThe safepoint log shows that the time is spent in the &quot;sync&quot; phase.\nWe are looking for culprits.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":1722009,"reputation":346,"user_id":1577588,"accept_rate":60,"display_name":"Rhythem Aggarwal"},"score":0,"creation_date":1529661898,"post_id":50980265,"comment_id":88965846,"body_markdown":"have you tested your java function locally? what value does it return? What was the test case you used for that case?","body":"have you tested your java function locally? what value does it return? What was the test case you used for that case?"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1529664251,"post_id":50980265,"comment_id":88967073,"body_markdown":"Did you reuse a Lambda that was configured for another language?","body":"Did you reuse a Lambda that was configured for another language?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1671201698,"post_id":50980265,"comment_id":132054559,"body_markdown":"Are you sure that&#39;s the code that is actually deployed to AWS?","body":"Are you sure that&#39;s the code that is actually deployed to AWS?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1671201724,"post_id":50980265,"comment_id":132054573,"body_markdown":"This happens if you create a Java Lambda function from the hello world blueprint, then you update the function code to your own, but you neglect to deploy the changes to the Lambda function. Typically this only happens when using the AWS Lambda console, so not clear it&#39;s the cause here but sharing in case it&#39;s helpful.","body":"This happens if you create a Java Lambda function from the hello world blueprint, then you update the function code to your own, but you neglect to deploy the changes to the Lambda function. Typically this only happens when using the AWS Lambda console, so not clear it&#39;s the cause here but sharing in case it&#39;s helpful."}],"owner":{"account_id":995848,"reputation":20068,"user_id":1011816,"accept_rate":82,"display_name":"Hoa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671201577,"creation_date":1529638352,"question_id":50980265,"body_markdown":"I&#39;m following this tutorial:\r\n\r\nhttps://docs.aws.amazon.com/lambda/latest/dg/get-started-step4-optional.html\r\n\r\nand have pasted the code verbatim into my Java file:\r\n\r\n    package example;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context; \r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    \r\n    public class Hello {\r\n        public String myHandler(int myCount, Context context) {\r\n            LambdaLogger logger = context.getLogger();\r\n            logger.log(&quot;received : &quot; + myCount);\r\n            return String.valueOf(myCount);\r\n        }\r\n    }\r\n\r\nI then uploaded as a .zip file to S3, and used the &#39;Upload a file from Amazon S3&#39; option.\r\n\r\nMy handler is:\r\n\r\n    example.Hello::myHandler\r\n\r\nWhen I run my `Lambda`, I get:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gDeq8.png\r\n\r\nWhere is this coming from?","title":"Why is my AWS Lambda Java function returning &#39;Hello World&#39;?","body":"<p>I'm following this tutorial:</p>\n<p><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/get-started-step4-optional.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/get-started-step4-optional.html</a></p>\n<p>and have pasted the code verbatim into my Java file:</p>\n<pre><code>package example;\n\nimport com.amazonaws.services.lambda.runtime.Context; \nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\n\npublic class Hello {\n    public String myHandler(int myCount, Context context) {\n        LambdaLogger logger = context.getLogger();\n        logger.log(&quot;received : &quot; + myCount);\n        return String.valueOf(myCount);\n    }\n}\n</code></pre>\n<p>I then uploaded as a .zip file to S3, and used the 'Upload a file from Amazon S3' option.</p>\n<p>My handler is:</p>\n<pre><code>example.Hello::myHandler\n</code></pre>\n<p>When I run my <code>Lambda</code>, I get:</p>\n<p><a href=\"https://i.stack.imgur.com/gDeq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gDeq8.png\" alt=\"enter image description here\" /></a></p>\n<p>Where is this coming from?</p>\n"},{"tags":["java","lambda","stream","abstract"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635165098,"post_id":69708023,"comment_id":123214606,"body_markdown":"What is the type of `x`?","body":"What is the type of <code>x</code>?"},{"owner":{"account_id":15528151,"reputation":737,"user_id":11202394,"display_name":"DerBenniAusA"},"score":0,"creation_date":1635165256,"post_id":69708023,"comment_id":123214685,"body_markdown":"@Sweeper: I will add this info above","body":"@Sweeper: I will add this info above"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635165397,"creation_date":1635165397,"answer_id":69708192,"question_id":69708023,"body_markdown":"You should take a `Function&lt;DetailData, String&gt;`\r\n\r\n```\r\nprivate String map(Function&lt;DetailData, String&gt; m){\r\n    return Optional.ofNullable(getSomething(entity))\r\n        .map(\r\n            x -&gt; getBlah(m.apply(x)))\r\n        .orElse(null);\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nprotected String mapXYZ(\r\n    Entity entity, @Context MappingContext mappingContext) {\r\n    return map(DetailData::getName);\r\n}\r\n\r\nprotected String mapXYZ(\r\n    Entity entity, @Context MappingContext mappingContext) {\r\n    return map(DetailData::getFirstName);\r\n}\r\n```","title":"How to abstract method call in lambda expression?","body":"<p>You should take a <code>Function&lt;DetailData, String&gt;</code></p>\n<pre><code>private String map(Function&lt;DetailData, String&gt; m){\n    return Optional.ofNullable(getSomething(entity))\n        .map(\n            x -&gt; getBlah(m.apply(x)))\n        .orElse(null);\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>protected String mapXYZ(\n    Entity entity, @Context MappingContext mappingContext) {\n    return map(DetailData::getName);\n}\n\nprotected String mapXYZ(\n    Entity entity, @Context MappingContext mappingContext) {\n    return map(DetailData::getFirstName);\n}\n</code></pre>\n"}],"owner":{"account_id":15528151,"reputation":737,"user_id":11202394,"display_name":"DerBenniAusA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69708192,"answer_count":1,"score":1,"last_activity_date":1671201542,"creation_date":1635164713,"question_id":69708023,"body_markdown":"Given the following two methods (not compilable code, just the structure):\r\n\r\n      protected String mapABC(\r\n        Entity entity, @Context MappingContext mappingContext) {\r\n        return Optional.ofNullable(getSomething(entity))\r\n          .map(\r\n            x -&gt;  getBlah(x::getName))\r\n          .orElse(null);\r\n      }\r\n    \r\n      protected String mapXYZ(\r\n        Entity entity, @Context MappingContext mappingContext) {\r\n        return Optional.ofNullable(getSomething(entity))\r\n          .map(\r\n            x -&gt;  getBlah(x::getFirstName))\r\n          .orElse(null);\r\n      }\r\n\r\nI am thinking about how it would look when the duplicate logic is avoided, so that one could write something like this structure:\r\n\r\n\r\n\r\n    protected String mapXYZ(\r\n        Entity entity, @Context MappingContext mappingContext) {\r\n        return xxx(getName());\r\n      }\r\n    \r\n      protected String mapXYZ(\r\n        Entity entity, @Context MappingContext mappingContext) {\r\n        return xxx(getFirsName());\r\n      }\r\n    \r\n    \r\n      private String xxx(Methodreference m){\r\n        return Optional.ofNullable(getSomething(entity))\r\n          .map(\r\n            x -&gt;  getBlah(x::m))\r\n          .orElse(null);\r\n      }\r\n\r\n\r\nType of x is:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Builder(toBuilder = true)\r\n    public class DetailData {\r\n      private String name;\r\n      private String firstname;\r\n    }\r\n\r\nAny ideas I could try?\r\n","title":"How to abstract method call in lambda expression?","body":"<p>Given the following two methods (not compilable code, just the structure):</p>\n<pre><code>  protected String mapABC(\n    Entity entity, @Context MappingContext mappingContext) {\n    return Optional.ofNullable(getSomething(entity))\n      .map(\n        x -&gt;  getBlah(x::getName))\n      .orElse(null);\n  }\n\n  protected String mapXYZ(\n    Entity entity, @Context MappingContext mappingContext) {\n    return Optional.ofNullable(getSomething(entity))\n      .map(\n        x -&gt;  getBlah(x::getFirstName))\n      .orElse(null);\n  }\n</code></pre>\n<p>I am thinking about how it would look when the duplicate logic is avoided, so that one could write something like this structure:</p>\n<pre><code>protected String mapXYZ(\n    Entity entity, @Context MappingContext mappingContext) {\n    return xxx(getName());\n  }\n\n  protected String mapXYZ(\n    Entity entity, @Context MappingContext mappingContext) {\n    return xxx(getFirsName());\n  }\n\n\n  private String xxx(Methodreference m){\n    return Optional.ofNullable(getSomething(entity))\n      .map(\n        x -&gt;  getBlah(x::m))\n      .orElse(null);\n  }\n</code></pre>\n<p>Type of x is:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder(toBuilder = true)\npublic class DetailData {\n  private String name;\n  private String firstname;\n}\n</code></pre>\n<p>Any ideas I could try?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"score":0,"creation_date":1452735093,"post_id":34779578,"comment_id":57305400,"body_markdown":"yes as Spring support a combination of both XML and Java config, it will treat the bean defined in XML and Java as different beans and give you an exception. bean name should be unique across the project","body":"yes as Spring support a combination of both XML and Java config, it will treat the bean defined in XML and Java as different beans and give you an exception. bean name should be unique across the project"},{"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"score":0,"creation_date":1452757086,"post_id":34779578,"comment_id":57312018,"body_markdown":"@AlbertPinto Are you sure about that? IanMc&#39;s answer suggests differently.","body":"@AlbertPinto Are you sure about that? IanMc&#39;s answer suggests differently."}],"answers":[{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452739105,"creation_date":1452735639,"answer_id":34780294,"question_id":34779578,"body_markdown":"When a duplicate bean is detected (by bean id) during the bean definition phase, it replaces the definition of the previous bean.  If you have identical bean definitions (XML and java config), then it should have no impact to you.  As you are moving to Java Config, it would be important to load any duplicate XML beans first, so that you are confident that the Java Config bean is the last one loading, and the one used to build the bean.  If the XML bean was loading second, you could not be sure that the Java Config bean was set up correctly (as it was replaced by XML).\r\n\r\n**EDIT**:  I created a project which was based on XML, and then added @Configuration based beans.  My observation was that Spring has no problem with duplicate bean definitions (by id), however in the short time I tried, the XML bean definition overrode the java config @Bean.  It is up to you if you want to attempt to get @Configuration beans to override XML Beans.  ","title":"Is it ok to have same Bean definitions in both XML and Java @Configuration?","body":"<p>When a duplicate bean is detected (by bean id) during the bean definition phase, it replaces the definition of the previous bean.  If you have identical bean definitions (XML and java config), then it should have no impact to you.  As you are moving to Java Config, it would be important to load any duplicate XML beans first, so that you are confident that the Java Config bean is the last one loading, and the one used to build the bean.  If the XML bean was loading second, you could not be sure that the Java Config bean was set up correctly (as it was replaced by XML).</p>\n\n<p><strong>EDIT</strong>:  I created a project which was based on XML, and then added @Configuration based beans.  My observation was that Spring has no problem with duplicate bean definitions (by id), however in the short time I tried, the XML bean definition overrode the java config @Bean.  It is up to you if you want to attempt to get @Configuration beans to override XML Beans.  </p>\n"}],"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34780294,"answer_count":1,"score":3,"last_activity_date":1671201506,"creation_date":1452730939,"question_id":34779578,"body_markdown":"I want to gradually transition Spring XML configurations into Java configurations. Will there be any issues having the same beans definitions in both the XML and Java @Configuration?","title":"Is it ok to have same Bean definitions in both XML and Java @Configuration?","body":"<p>I want to gradually transition Spring XML configurations into Java configurations. Will there be any issues having the same beans definitions in both the XML and Java @Configuration?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671194063,"post_id":74824445,"comment_id":132051867,"body_markdown":"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/layout/StackPane.html","body":"<a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/layout/StackPane.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/18/javafx.graphics/javafx/scene/layout/&hellip;</a>"},{"owner":{"account_id":27164354,"reputation":3,"user_id":20702075,"display_name":"Rami Dhouib"},"score":0,"creation_date":1671195045,"post_id":74824445,"comment_id":132052152,"body_markdown":"Thanks @kleopatra , how to make question appear answered? and which Pane you suggest?","body":"Thanks @kleopatra , how to make question appear answered? and which Pane you suggest?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671195956,"post_id":74824445,"comment_id":132052480,"body_markdown":"you can answer your question yourself :) - for alternatives: work through a tutorial on layouts :) The javafx tag wiki (&quot;learn more&quot; in the list of questions) has several references","body":"you can answer your question yourself :) - for alternatives: work through a tutorial on layouts :) The javafx tag wiki (&quot;learn more&quot; in the list of questions) has several references"},{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1671197511,"post_id":74824445,"comment_id":132052998,"body_markdown":"Have a look at javafx layouts","body":"Have a look at javafx layouts"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671201476,"creation_date":1671201476,"answer_id":74825912,"question_id":74824445,"body_markdown":"A StackPane is a layout pane which means that it will place any node according to its own rules which may come as a surprise as in your case. Instead you could just use a Pane which will place your line at the place you have specified. It may be a good idea to place this Pane inside your StackPane so that it fills the whole space.","title":"JavaFX: Line goes automatically to center of the scene","body":"<p>A StackPane is a layout pane which means that it will place any node according to its own rules which may come as a surprise as in your case. Instead you could just use a Pane which will place your line at the place you have specified. It may be a good idea to place this Pane inside your StackPane so that it fills the whole space.</p>\n"}],"owner":{"account_id":27164354,"reputation":3,"user_id":20702075,"display_name":"Rami Dhouib"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74825912,"answer_count":1,"score":0,"last_activity_date":1671201476,"creation_date":1671193600,"question_id":74824445,"body_markdown":"I want to draw `Line`s in JavaFX but the program seems not to listen to the coordinates and directly draws it in the middle (i.e. center) with the same length.\r\n\r\nCode:\r\n```java\r\npackage application;\r\n\t\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        Line line = new Line(200,200,250,250);\r\n        StackPane root = new StackPane();\r\n        root.setPadding(new Insets(15));\r\n        final Scene scene = new Scene(root, 400, 250);\r\n        scene.setFill(null);\r\n        root.getChildren().addAll(line);\r\n        stage.setTitle(&quot;JavaFX Line&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nResult:\r\n[Line in Center](https://i.stack.imgur.com/tzWdb.png)","title":"JavaFX: Line goes automatically to center of the scene","body":"<p>I want to draw <code>Line</code>s in JavaFX but the program seems not to listen to the coordinates and directly draws it in the middle (i.e. center) with the same length.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package application;\n    \nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Line line = new Line(200,200,250,250);\n        StackPane root = new StackPane();\n        root.setPadding(new Insets(15));\n        final Scene scene = new Scene(root, 400, 250);\n        scene.setFill(null);\n        root.getChildren().addAll(line);\n        stage.setTitle(&quot;JavaFX Line&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/tzWdb.png\" rel=\"nofollow noreferrer\">Line in Center</a></p>\n"},{"tags":["java","jersey","jax-rs","inject"],"comments":[{"owner":{"account_id":3809038,"reputation":694,"user_id":3160573,"accept_rate":71,"display_name":"Guillaume"},"score":0,"creation_date":1420968955,"post_id":27879993,"comment_id":44172512,"body_markdown":"Any idea with my issue ?","body":"Any idea with my issue ?"},{"owner":{"account_id":3809038,"reputation":694,"user_id":3160573,"accept_rate":71,"display_name":"Guillaume"},"score":0,"creation_date":1421873669,"post_id":27879993,"comment_id":44532220,"body_markdown":"In fact, I have instantiated my bean in MyResourceConfig and moved this instance to my binder class .","body":"In fact, I have instantiated my bean in MyResourceConfig and moved this instance to my binder class ."}],"answers":[{"tags":[],"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671201469,"creation_date":1671201469,"answer_id":74825911,"question_id":27879993,"body_markdown":"I realize it is a sort of a workaround, but you can achieve it by using static access to the CDI singleton object.\r\n\r\nSomething like:\r\n```\r\n@ApplicationPath(&quot;/rest&quot;)\r\npublic class RestApplication extends ResourceConfig {\r\n    public RestApplication() {\r\n        super();\r\n        super.packages(true, &quot;com.package.name&quot;);\r\n        register(JacksonFeature.class);\r\n        register(JacksonObjectMapperProvider.class);\r\n\r\n        ModelConverters.getInstance().addConverter(\r\n                    new CustomObjectMapperModelResolver(getObjectMapperProvider()));\r\n                               // get the instance here ^\r\n        OpenApiResource openApiResource = new OpenApiResource();\r\n        register(openApiResource);\r\n        AcceptHeaderOpenApiResource ahoar = new AcceptHeaderOpenApiResource();\r\n        register(ahoar);\r\n    }\r\n\r\n    private static JacksonObjectMapperProvider getObjectMapperProvider() {\r\n        return CDI.current().select(JacksonObjectMapperProvider.class).get();\r\n    }\r\n}                                       ","title":"Jersey : use @Inject in ResourceConfig","body":"<p>I realize it is a sort of a workaround, but you can achieve it by using static access to the CDI singleton object.</p>\n<p>Something like:</p>\n<pre><code>@ApplicationPath(&quot;/rest&quot;)\npublic class RestApplication extends ResourceConfig {\n    public RestApplication() {\n        super();\n        super.packages(true, &quot;com.package.name&quot;);\n        register(JacksonFeature.class);\n        register(JacksonObjectMapperProvider.class);\n\n        ModelConverters.getInstance().addConverter(\n                    new CustomObjectMapperModelResolver(getObjectMapperProvider()));\n                               // get the instance here ^\n        OpenApiResource openApiResource = new OpenApiResource();\n        register(openApiResource);\n        AcceptHeaderOpenApiResource ahoar = new AcceptHeaderOpenApiResource();\n        register(ahoar);\n    }\n\n    private static JacksonObjectMapperProvider getObjectMapperProvider() {\n        return CDI.current().select(JacksonObjectMapperProvider.class).get();\n    }\n}                                       \n</code></pre>\n"}],"owner":{"account_id":3809038,"reputation":694,"user_id":3160573,"accept_rate":71,"display_name":"Guillaume"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671201469,"creation_date":1420916153,"question_id":27879993,"body_markdown":"I&#39;ve a Configuration.java singleton class (with many properties loaded by a file) that I would like to inject in some classes in my Application.\r\n\r\nSo, I bind my injection in the ResourceConfig class with an AbstractBinder. \r\n\r\nNow, I need to use this Configuration class in this ResourceConfig.\r\n\r\nFor example, in my Configuration class there is a property named &quot;packages&quot;, that I have to use in ResourceConfig class in order to register package. \r\n\r\nThe issue is that the injection is not starting in the ResourceConfig class.\r\n\r\n    class Configuration {\r\n       \r\n        //many properties\r\n\r\n        String packages = &quot;&quot;;\r\n    }\r\n\r\n    class MyResourceConfig extends ResourceConfig {\r\n\r\n        @Inject\r\n        Configuration configuration;\r\n\r\n        MyResourceConfig() {\r\n           ...\r\n\r\n           register(MyBinder.class); //with many injection\r\n\r\n           ...\r\n\r\n           packages(configuration.packages); \r\n       }\r\n    }\r\n\r\nSo could you please advice me how to have this lifecycle ? (maybe I have to use another jersey class ?)\r\n","title":"Jersey : use @Inject in ResourceConfig","body":"<p>I've a Configuration.java singleton class (with many properties loaded by a file) that I would like to inject in some classes in my Application.</p>\n\n<p>So, I bind my injection in the ResourceConfig class with an AbstractBinder. </p>\n\n<p>Now, I need to use this Configuration class in this ResourceConfig.</p>\n\n<p>For example, in my Configuration class there is a property named \"packages\", that I have to use in ResourceConfig class in order to register package. </p>\n\n<p>The issue is that the injection is not starting in the ResourceConfig class.</p>\n\n<pre><code>class Configuration {\n\n    //many properties\n\n    String packages = \"\";\n}\n\nclass MyResourceConfig extends ResourceConfig {\n\n    @Inject\n    Configuration configuration;\n\n    MyResourceConfig() {\n       ...\n\n       register(MyBinder.class); //with many injection\n\n       ...\n\n       packages(configuration.packages); \n   }\n}\n</code></pre>\n\n<p>So could you please advice me how to have this lifecycle ? (maybe I have to use another jersey class ?)</p>\n"},{"tags":["java","gradle","soap","wsdl","cxf"],"answers":[{"tags":[],"owner":{"account_id":3851374,"reputation":1039,"user_id":3191482,"display_name":"Sergio Muriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671201378,"creation_date":1671201378,"answer_id":74825887,"question_id":73182777,"body_markdown":"Are you using Java 9 (or later)? The JAXB API is no longer included from this version. You can take a look at \r\nhttps://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception","title":"Error Creating SOAP Client In Apache CXF And Java 11","body":"<p>Are you using Java 9 (or later)? The JAXB API is no longer included from this version. You can take a look at\n<a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</a></p>\n"}],"owner":{"account_id":5148842,"reputation":1001,"user_id":4123980,"accept_rate":32,"display_name":"Guy Yafe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671201378,"creation_date":1659265757,"question_id":73182777,"body_markdown":"# In short: #\r\nI am trying to create a SOAP client, using auto generated code from WSDL files. The generation of the files was using CXF 3.5.3 Wsdl2Java.\r\nThe command for generating the data models from the WSDL was:\r\n`./wsdl2java -d ~/PROJECT/src/main/java -autoNameResolution PATH_TO_WSDL_FILE.wsdl`\r\n\r\nWhen trying to run the code I am seeing the following exception:\r\n\r\n    Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:345)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:343)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache.createContext(JAXBContextCache.java:343)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache.getCachedContextAndSchemas(JAXBContextCache.java:245)\r\n    \tat org.apache.cxf.jaxb.JAXBDataBinding.createJAXBContextAndSchemas(JAXBDataBinding.java:499)\r\n    \tat org.apache.cxf.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:358)\r\n    \t... 8 more\r\nIn the call for: `PortClass port = (PortClass) factoryBean.create();`&lt;br&gt;\r\nFull code sample:\r\n\r\n    ClientProxyFactoryBean factoryBean = new ClientProxyFactoryBean();\r\n    factoryBean.setServiceClass(PortClass.class);\r\n    factoryBean.setAddress(ADDRESS);\r\n    PortClass port = (PortClass) factoryBean.create();\r\n\r\nAny ideas how to properly set the dependencies?\r\n\r\n# Full Workflow: #\r\n\r\nAt first I used the OOB generated files, with the following Gradle dependencies:\r\n\r\n    dependencies {\r\n        implementation &#39;org.apache.cxf:cxf-rt-transports-http:3.5.3&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-ws-security:3.5.3&#39;\r\n        implementation &#39;javax.xml.soap:javax.xml.soap-api:1.4.0&#39;\r\n        implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:rt:4.0.0&#39;\r\n        implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n        implementation &#39;javax.jws:javax.jws-api:1.1&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-core:4.0.0&#39;\r\n    }\r\n\r\nand encountered the exception: `Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.`\r\n\r\nUnderstanding that in Java 11 you have to migrate to Jakarta instead of Javax, I have replaced Gradle dependencies into:\r\n\r\n    dependencies {\r\n        implementation &#39;org.apache.cxf:cxf-rt-transports-http:3.5.3&#39;\r\n        implementation &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:4.0.0&#39;\r\n        implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n        implementation &#39;jakarta.jws:jakarta.jws-api:3.0.0&#39;\r\n        implementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n        implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n        implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n        implementation &#39;com.sun.activation:javax.activation:1.2.0&#39;\r\n        implementation &#39;jakarta.annotation:jakarta.annotation-api:2.1.1&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-ws-security:3.5.3&#39;\r\n        implementation &#39;org.glassfish.metro:webservices-rt:4.0.1&#39;\r\n        implementation &#39;org.glassfish.metro:webservices-api:4.0.1&#39;\r\n        implementation &#39;com.sun.xml.messaging.saaj:saaj-impl:3.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:rt:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-core:4.0.0&#39;\r\n    }\r\n\r\nNext, the generated code didn&#39;t compile because Jaxb was not recognized in the auto generated files (because it is not part of the dependencies):\r\n\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebService;\r\n    import javax.xml.bind.annotation.XmlSeeAlso;\r\n    import javax.xml.ws.RequestWrapper;\r\n    import javax.xml.ws.ResponseWrapper;\r\n\r\nSo I have manually replaced these imports into:\r\n\r\n    import jakarta.jws.WebMethod;\r\n    import jakarta.jws.WebParam;\r\n    import jakarta.jws.WebService;\r\n    import jakarta.xml.bind.annotation.XmlSeeAlso;\r\n    import jakarta.xml.ws.RequestWrapper;\r\n    import jakarta.xml.ws.ResponseWrapper;\r\n\r\nAnd indeed everything compiles, but there were still errors because Apache CXF itself is built on `javax`. I had to return `javax` dependencies into Gradle:\r\n\r\n    dependencies {\r\n        implementation &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3&#39;\r\n        implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n        implementation &#39;jakarta.jws:jakarta.jws-api:3.0.0&#39;\r\n        implementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n        implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-ws-security:3.5.3&#39;\r\n        implementation &#39;org.glassfish.metro:webservices-rt:4.0.1&#39;\r\n        implementation &#39;org.glassfish.metro:webservices-api:4.0.1&#39;\r\n        implementation &#39;com.sun.xml.messaging.saaj:saaj-impl:3.0.0&#39;\r\n        implementation &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n        \r\n        implementation &#39;javax.jws:javax.jws-api:1.1&#39;\r\n        implementation &#39;javax.activation:activation:1.1.1&#39;\r\n        implementation &#39;org.glassfish.jaxb:jaxb-runtime:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-core:4.0.0&#39;\r\n        implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n        implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\r\n        implementation &#39;javax.xml.soap:javax.xml.soap-api:1.4.0&#39;\r\n        implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;com.sun.activation:javax.activation:1.2.0&#39;\r\n        implementation &#39;org.apache.cxf:cxf-rt-transports-http:3.5.3&#39;\r\n        implementation &#39;org.glassfish.jaxb:jaxb-runtime:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-core:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:jaxws-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-ri:4.0.0&#39;\r\n        implementation &#39;com.sun.xml.ws:rt:4.0.0&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    }\r\n\r\nAnd now I am getting the above exception:&lt;br&gt;\r\n\r\n    Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:345)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:343)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache.createContext(JAXBContextCache.java:343)\r\n    \tat org.apache.cxf.common.jaxb.JAXBContextCache.getCachedContextAndSchemas(JAXBContextCache.java:245)\r\n    \tat org.apache.cxf.jaxb.JAXBDataBinding.createJAXBContextAndSchemas(JAXBDataBinding.java:499)\r\n    \tat org.apache.cxf.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:358)\r\n    \t... 8 more","title":"Error Creating SOAP Client In Apache CXF And Java 11","body":"<h1>In short:</h1>\n<p>I am trying to create a SOAP client, using auto generated code from WSDL files. The generation of the files was using CXF 3.5.3 Wsdl2Java.\nThe command for generating the data models from the WSDL was:\n<code>./wsdl2java -d ~/PROJECT/src/main/java -autoNameResolution PATH_TO_WSDL_FILE.wsdl</code></p>\n<p>When trying to run the code I am seeing the following exception:</p>\n<pre><code>Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:345)\n    at org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:343)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.cxf.common.jaxb.JAXBContextCache.createContext(JAXBContextCache.java:343)\n    at org.apache.cxf.common.jaxb.JAXBContextCache.getCachedContextAndSchemas(JAXBContextCache.java:245)\n    at org.apache.cxf.jaxb.JAXBDataBinding.createJAXBContextAndSchemas(JAXBDataBinding.java:499)\n    at org.apache.cxf.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:358)\n    ... 8 more\n</code></pre>\n<p>In the call for: <code>PortClass port = (PortClass) factoryBean.create();</code><br>\nFull code sample:</p>\n<pre><code>ClientProxyFactoryBean factoryBean = new ClientProxyFactoryBean();\nfactoryBean.setServiceClass(PortClass.class);\nfactoryBean.setAddress(ADDRESS);\nPortClass port = (PortClass) factoryBean.create();\n</code></pre>\n<p>Any ideas how to properly set the dependencies?</p>\n<h1>Full Workflow:</h1>\n<p>At first I used the OOB generated files, with the following Gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.apache.cxf:cxf-rt-transports-http:3.5.3'\n    implementation 'org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3'\n    implementation 'org.apache.cxf:cxf-rt-ws-security:3.5.3'\n    implementation 'javax.xml.soap:javax.xml.soap-api:1.4.0'\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n    implementation 'com.sun.xml.ws:jaxws-rt:4.0.0'\n    implementation 'com.sun.xml.ws:jaxws-ri:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-ri:4.0.0'\n    implementation 'com.sun.xml.ws:rt:4.0.0'\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n    implementation 'javax.jws:javax.jws-api:1.1'\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n    implementation 'com.sun.xml.bind:jaxb-impl:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-core:4.0.0'\n}\n</code></pre>\n<p>and encountered the exception: <code>Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.</code></p>\n<p>Understanding that in Java 11 you have to migrate to Jakarta instead of Javax, I have replaced Gradle dependencies into:</p>\n<pre><code>dependencies {\n    implementation 'org.apache.cxf:cxf-rt-transports-http:3.5.3'\n    implementation 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\n    implementation 'org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3'\n    implementation 'com.sun.xml.bind:jaxb-impl:4.0.0'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'jakarta.jws:jakarta.jws-api:3.0.0'\n    implementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'com.sun.activation:javax.activation:1.2.0'\n    implementation 'jakarta.annotation:jakarta.annotation-api:2.1.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation 'org.apache.cxf:cxf-rt-ws-security:3.5.3'\n    implementation 'org.glassfish.metro:webservices-rt:4.0.1'\n    implementation 'org.glassfish.metro:webservices-api:4.0.1'\n    implementation 'com.sun.xml.messaging.saaj:saaj-impl:3.0.0'\n    implementation 'com.sun.xml.ws:jaxws-rt:4.0.0'\n    implementation 'com.sun.xml.ws:jaxws-ri:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-ri:4.0.0'\n    implementation 'com.sun.xml.ws:rt:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-core:4.0.0'\n}\n</code></pre>\n<p>Next, the generated code didn't compile because Jaxb was not recognized in the auto generated files (because it is not part of the dependencies):</p>\n<pre><code>import javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebService;\nimport javax.xml.bind.annotation.XmlSeeAlso;\nimport javax.xml.ws.RequestWrapper;\nimport javax.xml.ws.ResponseWrapper;\n</code></pre>\n<p>So I have manually replaced these imports into:</p>\n<pre><code>import jakarta.jws.WebMethod;\nimport jakarta.jws.WebParam;\nimport jakarta.jws.WebService;\nimport jakarta.xml.bind.annotation.XmlSeeAlso;\nimport jakarta.xml.ws.RequestWrapper;\nimport jakarta.xml.ws.ResponseWrapper;\n</code></pre>\n<p>And indeed everything compiles, but there were still errors because Apache CXF itself is built on <code>javax</code>. I had to return <code>javax</code> dependencies into Gradle:</p>\n<pre><code>dependencies {\n    implementation 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\n    implementation 'org.apache.cxf:cxf-rt-frontend-jaxws:3.5.3'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'jakarta.jws:jakarta.jws-api:3.0.0'\n    implementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation 'org.apache.cxf:cxf-rt-ws-security:3.5.3'\n    implementation 'org.glassfish.metro:webservices-rt:4.0.1'\n    implementation 'org.glassfish.metro:webservices-api:4.0.1'\n    implementation 'com.sun.xml.messaging.saaj:saaj-impl:3.0.0'\n    implementation 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\n    \n    implementation 'javax.jws:javax.jws-api:1.1'\n    implementation 'javax.activation:activation:1.1.1'\n    implementation 'org.glassfish.jaxb:jaxb-runtime:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-core:4.0.0'\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n    implementation 'javax.xml.soap:javax.xml.soap-api:1.4.0'\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'com.sun.activation:javax.activation:1.2.0'\n    implementation 'org.apache.cxf:cxf-rt-transports-http:3.5.3'\n    implementation 'org.glassfish.jaxb:jaxb-runtime:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-impl:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-ri:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-core:4.0.0'\n    implementation 'com.sun.xml.ws:jaxws-rt:4.0.0'\n    implementation 'com.sun.xml.ws:jaxws-ri:4.0.0'\n    implementation 'com.sun.xml.bind:jaxb-ri:4.0.0'\n    implementation 'com.sun.xml.ws:rt:4.0.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n</code></pre>\n<p>And now I am getting the above exception:<br></p>\n<pre><code>Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:345)\n    at org.apache.cxf.common.jaxb.JAXBContextCache$2.run(JAXBContextCache.java:343)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.cxf.common.jaxb.JAXBContextCache.createContext(JAXBContextCache.java:343)\n    at org.apache.cxf.common.jaxb.JAXBContextCache.getCachedContextAndSchemas(JAXBContextCache.java:245)\n    at org.apache.cxf.jaxb.JAXBDataBinding.createJAXBContextAndSchemas(JAXBDataBinding.java:499)\n    at org.apache.cxf.jaxb.JAXBDataBinding.initialize(JAXBDataBinding.java:358)\n    ... 8 more\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12157118,"reputation":31,"user_id":8875802,"display_name":"hamza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671201343,"creation_date":1671201343,"answer_id":74825885,"question_id":74825605,"body_markdown":"I guess you must just implement the public getter in your adapter, that&#39;s all.\r\n\r\nIn the Adapter\r\n\r\n    public List&lt;PlaceholderItem&gt; getKeyPlateau() {\r\n        return keyPlateau;\r\n    }\r\n\r\nIn the activity \r\n\r\n    ArrayList&lt;String&gt; keyPlateau = adapter.getKeyPlateau();\r\n\r\n","title":"Retreive Arraylist modified from Adaptater RecyclerView to first activity","body":"<p>I guess you must just implement the public getter in your adapter, that's all.</p>\n<p>In the Adapter</p>\n<pre><code>public List&lt;PlaceholderItem&gt; getKeyPlateau() {\n    return keyPlateau;\n}\n</code></pre>\n<p>In the activity</p>\n<pre><code>ArrayList&lt;String&gt; keyPlateau = adapter.getKeyPlateau();\n</code></pre>\n"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671201343,"creation_date":1671199829,"question_id":74825605,"body_markdown":"I&#39;ve an activity in which I use a RecyclerView. In the Adaptater I modify the content of an ArrayList. How can I retrieve my modified ArrayList in my first activity \r\nThank you very much for your help\r\nBest regards\r\nGeorges\r\n\r\n    holder.imageClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (laPlateaux.get(position).Cat.equals(&quot;U7&quot;)) {\r\n                    keyPlateau = &quot;PlatU7&quot; + &quot;-&quot; + zdte + &quot;-&quot; + laPlateaux.get(position).AccueilNum;}\r\n                else {\r\n                    keyPlateau = &quot;PlatU9&quot; + &quot;-&quot; + zdte + &quot;-&quot; + laPlateaux.get(position).AccueilNum; }\r\n                if (laPlateaux.get(position).Cat.equals(&quot;U7&quot;)) {\r\n                     if (laPlateaux.get(position).Select.equals(&quot;N&quot;)){\r\n                        mDatabase.child(&quot;PlateauxU7&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                        holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                        laPlateaux.get(position).Select = &quot;Y&quot;;\r\n                         notifyDataSetChanged();}\r\n                    else {\r\n                        mDatabase.child(&quot;PlateauxU7&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                        holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                        laPlateaux.get(position).Select = &quot;N&quot;;\r\n                         notifyDataSetChanged();}}\r\n                else {\r\n                    if (laPlateaux.get(position).Select.equals(&quot;N&quot;)){\r\n                        mDatabase.child(&quot;PlateauxU9&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                        holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                        laPlateaux.get(position).Select = &quot;Y&quot;;\r\n                        notifyDataSetChanged();}\r\n                    else {\r\n                        mDatabase.child(&quot;PlateauxU9&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                        holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                        laPlateaux.get(position).Select = &quot;N&quot;;\r\n                        notifyDataSetChanged();}}} }); }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return laPlateaux.size();\r\n    }","title":"Retreive Arraylist modified from Adaptater RecyclerView to first activity","body":"<p>I've an activity in which I use a RecyclerView. In the Adaptater I modify the content of an ArrayList. How can I retrieve my modified ArrayList in my first activity\nThank you very much for your help\nBest regards\nGeorges</p>\n<pre><code>holder.imageClick.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if (laPlateaux.get(position).Cat.equals(&quot;U7&quot;)) {\n                keyPlateau = &quot;PlatU7&quot; + &quot;-&quot; + zdte + &quot;-&quot; + laPlateaux.get(position).AccueilNum;}\n            else {\n                keyPlateau = &quot;PlatU9&quot; + &quot;-&quot; + zdte + &quot;-&quot; + laPlateaux.get(position).AccueilNum; }\n            if (laPlateaux.get(position).Cat.equals(&quot;U7&quot;)) {\n                 if (laPlateaux.get(position).Select.equals(&quot;N&quot;)){\n                    mDatabase.child(&quot;PlateauxU7&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n                    laPlateaux.get(position).Select = &quot;Y&quot;;\n                     notifyDataSetChanged();}\n                else {\n                    mDatabase.child(&quot;PlateauxU7&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n                    laPlateaux.get(position).Select = &quot;N&quot;;\n                     notifyDataSetChanged();}}\n            else {\n                if (laPlateaux.get(position).Select.equals(&quot;N&quot;)){\n                    mDatabase.child(&quot;PlateauxU9&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n                    laPlateaux.get(position).Select = &quot;Y&quot;;\n                    notifyDataSetChanged();}\n                else {\n                    mDatabase.child(&quot;PlateauxU9&quot;).child(keyPlateau).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n                    laPlateaux.get(position).Select = &quot;N&quot;;\n                    notifyDataSetChanged();}}} }); }\n\n@Override\npublic int getItemCount() {\n    return laPlateaux.size();\n}\n</code></pre>\n"},{"tags":["java","multithreading","boolean"],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":7,"up_vote_count":14,"is_accepted":false,"score":7,"last_activity_date":1380220784,"creation_date":1380190597,"answer_id":19025490,"question_id":19025366,"body_markdown":"How about `wait-notify` \r\n\r\n    private Boolean bool = true;\r\n    private final Object lock = new Object();\r\n    \r\n    private Boolean getChange(){\r\n      synchronized(lock){\r\n        while (bool) {\r\n          bool.wait();\r\n        }\r\n       }\r\n      return bool;\r\n    }\r\n    public void setChange(){\r\n       synchronized(lock){\r\n           bool = false;\r\n           bool.notify();\r\n       }\r\n    }\r\n","title":"Wait until boolean value changes it state","body":"<p>How about <code>wait-notify</code> </p>\n\n<pre><code>private Boolean bool = true;\nprivate final Object lock = new Object();\n\nprivate Boolean getChange(){\n  synchronized(lock){\n    while (bool) {\n      bool.wait();\n    }\n   }\n  return bool;\n}\npublic void setChange(){\n   synchronized(lock){\n       bool = false;\n       bool.notify();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1582833447,"creation_date":1380190966,"answer_id":19025596,"question_id":19025366,"body_markdown":"You need a mechanism which avoids busy-waiting. The old `wait/notify` mechanism is fraught with pitfalls so prefer something from the `java.util.concurrent` library, for example the [`CountDownLatch`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html):\r\n\r\n    public final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    public void run () {\r\n      latch.await();\r\n      ...\r\n    }\r\n\r\nAnd at the other side call\r\n\r\n    yourRunnableObj.latch.countDown();\r\n\r\nHowever, starting a thread to do nothing but wait until it is needed is still not the best way to go. You could also employ an `ExecutorService` to which you submit as a task the work  which must be done when the condition is met.","title":"Wait until boolean value changes it state","body":"<p>You need a mechanism which avoids busy-waiting. The old <code>wait/notify</code> mechanism is fraught with pitfalls so prefer something from the <code>java.util.concurrent</code> library, for example the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\"><code>CountDownLatch</code></a>:</p>\n\n<pre><code>public final CountDownLatch latch = new CountDownLatch(1);\n\npublic void run () {\n  latch.await();\n  ...\n}\n</code></pre>\n\n<p>And at the other side call</p>\n\n<pre><code>yourRunnableObj.latch.countDown();\n</code></pre>\n\n<p>However, starting a thread to do nothing but wait until it is needed is still not the best way to go. You could also employ an <code>ExecutorService</code> to which you submit as a task the work  which must be done when the condition is met.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1380191003,"creation_date":1380191003,"answer_id":19025611,"question_id":19025366,"body_markdown":"&gt; This is not my prefered way to do this, cause of massive CPU consumption.\r\n\r\nIf that is actually your working code, then just keep it like that. Checking a boolean once a second causes NO measurable CPU load. None whatsoever.\r\n\r\nThe real problem is that the thread that checks the value may not see a change that has happened for an arbitrarily long time due to caching. To ensure that the value is always synchronized between threads, you need to put the volatile keyword in the variable definition, i.e.\r\n\r\n    private volatile boolean value;\r\n\r\nNote that putting the access in a `synchronized` block, such as when using the notification-based solution described in other answers, will have the same effect.","title":"Wait until boolean value changes it state","body":"<blockquote>\n  <p>This is not my prefered way to do this, cause of massive CPU consumption.</p>\n</blockquote>\n\n<p>If that is actually your working code, then just keep it like that. Checking a boolean once a second causes NO measurable CPU load. None whatsoever.</p>\n\n<p>The real problem is that the thread that checks the value may not see a change that has happened for an arbitrarily long time due to caching. To ensure that the value is always synchronized between threads, you need to put the volatile keyword in the variable definition, i.e.</p>\n\n<pre><code>private volatile boolean value;\n</code></pre>\n\n<p>Note that putting the access in a <code>synchronized</code> block, such as when using the notification-based solution described in other answers, will have the same effect.</p>\n"},{"tags":[],"owner":{"display_name":"user2813148"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1380191140,"creation_date":1380191140,"answer_id":19025666,"question_id":19025366,"body_markdown":"I prefer to use mutex mechanism in such cases, but if you really want to use boolean, then you should declare it as volatile (to provide the change visibility across threads) and just run the body-less cycle with that boolean as a condition : \r\n\r\n    //.....some class\r\n\r\n    volatile boolean someBoolean; \r\n    \r\n    Thread someThread = new Thread() {\r\n\r\n        @Override \r\n        public void run() {\r\n            //some actions\r\n            while (!someBoolean); //wait for condition \r\n            //some actions \r\n        }\r\n        \r\n    };\r\n","title":"Wait until boolean value changes it state","body":"<p>I prefer to use mutex mechanism in such cases, but if you really want to use boolean, then you should declare it as volatile (to provide the change visibility across threads) and just run the body-less cycle with that boolean as a condition : </p>\n\n<pre><code>//.....some class\n\nvolatile boolean someBoolean; \n\nThread someThread = new Thread() {\n\n    @Override \n    public void run() {\n        //some actions\n        while (!someBoolean); //wait for condition \n        //some actions \n    }\n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1671961,"reputation":878,"user_id":1538264,"display_name":"luiso1979"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671200798,"creation_date":1380191427,"answer_id":19025759,"question_id":19025366,"body_markdown":"Ok maybe this one should solve your problem. Note that each time you make a change you call the change() method that releases the wait.\r\n\r\n    StringBuffer any = new StringBuffer();\r\n    \r\n    public synchronized boolean waitTillChange() {\r\n        any.wait();\r\n        return true;\r\n    }\r\n    \r\n    public synchronized void change() {\r\n        any.notify();\r\n    }","title":"Wait until boolean value changes it state","body":"<p>Ok maybe this one should solve your problem. Note that each time you make a change you call the change() method that releases the wait.</p>\n<pre><code>StringBuffer any = new StringBuffer();\n\npublic synchronized boolean waitTillChange() {\n    any.wait();\n    return true;\n}\n\npublic synchronized void change() {\n    any.notify();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290585,"reputation":6089,"user_id":592217,"display_name":"k4dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604042622,"creation_date":1604042622,"answer_id":64604148,"question_id":19025366,"body_markdown":"    public Boolean test() throws InterruptedException {\r\n        BlockingQueue&lt;Boolean&gt; booleanHolder = new LinkedBlockingQueue&lt;&gt;();\r\n        new Thread(() -&gt; {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(2);\r\n                booleanHolder.put(true);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n        return booleanHolder.poll(4, TimeUnit.SECONDS);\r\n    }","title":"Wait until boolean value changes it state","body":"<pre><code>public Boolean test() throws InterruptedException {\n    BlockingQueue&lt;Boolean&gt; booleanHolder = new LinkedBlockingQueue&lt;&gt;();\n    new Thread(() -&gt; {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n            booleanHolder.put(true);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }).start();\n    return booleanHolder.poll(4, TimeUnit.SECONDS);\n}\n</code></pre>\n"}],"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134776,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":19025611,"answer_count":6,"score":58,"last_activity_date":1671200798,"creation_date":1380190266,"question_id":19025366,"body_markdown":"I have a thread which wait for a boolean value to change like this:\r\n\r\n    while(!value)\r\n    {\r\n      Thread.sleep(1000)\r\n    }\r\n    // Do some work after change of the value\r\n\r\nThis is not my prefered way to do this, cause of massive CPU consumption.\r\n\r\nIs there any way to block the Thread, until the boolean value changes it state?","title":"Wait until boolean value changes it state","body":"<p>I have a thread which wait for a boolean value to change like this:</p>\n\n<pre><code>while(!value)\n{\n  Thread.sleep(1000)\n}\n// Do some work after change of the value\n</code></pre>\n\n<p>This is not my prefered way to do this, cause of massive CPU consumption.</p>\n\n<p>Is there any way to block the Thread, until the boolean value changes it state?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1671211201,"post_id":74825781,"comment_id":132057728,"body_markdown":"What you want to understand? I think code you added in self explanatory","body":"What you want to understand? I think code you added in self explanatory"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1671268763,"post_id":74825781,"comment_id":132066415,"body_markdown":"How can I do as on the documentation instead of using the if . https://www.baeldung.com/http-put-patch-difference-spring  \nI find this method much cleaner : ```@RequestMapping(value = &quot;/heavyresource/{id}&quot;, method = RequestMethod.PATCH, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;?&gt; partialUpdateGeneric(\n  @RequestBody Map&lt;String, Object&gt; updates,\n  @PathVariable(&quot;id&quot;) String id) {\n    \n    heavyResourceRepository.save(updates, id);\n    return ResponseEntity.ok(&quot;resource updated&quot;);\n} ```","body":"How can I do as on the documentation instead of using the if . <a href=\"https://www.baeldung.com/http-put-patch-difference-spring\" rel=\"nofollow noreferrer\">baeldung.com/http-put-patch-difference-spring</a>   I find this method much cleaner : <code>@RequestMapping(value = &quot;&#47;heavyresource&#47;{id}&quot;, method = RequestMethod.PATCH, consumes = MediaType.APPLICATION_JSON_VALUE) public ResponseEntity&lt;?&gt; partialUpdateGeneric(   @RequestBody Map&lt;String, Object&gt; updates,   @PathVariable(&quot;id&quot;) String id) {          heavyResourceRepository.save(updates, id);     return ResponseEntity.ok(&quot;resource updated&quot;); } </code>"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671200788,"creation_date":1671200788,"question_id":74825781,"body_markdown":"I am a beginner in springboot, I followed a tutorial but the person does not explain for patchmapping. I can&#39;t update the modified data. The only solution I found is to use if and else to see if the field is modified or not. Who could explain to me please.\r\n\r\nuserModel\r\n```\r\npublic class User extends AbstractEntity{\r\n\r\n    private String civility;\r\n\r\n    private String lastname;\r\n\r\n    private String firstname;\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    private String phone;\r\n\r\n    private String birth_day;\r\n\r\n}\r\n```\r\n\r\nuserDto\r\n```\r\npublic class UserDto {\r\n\r\n    private Integer id;\r\n    private String civility;\r\n    private String lastname;\r\n    private String firstname;\r\n    private String birth_day;\r\n    private String email;\r\n    private String password;\r\n    private String phone;\r\n\r\n\r\n    public static UserDto fromEntity(User user) {\r\n        return UserDto.builder()\r\n                .id(user.getId())\r\n                .civility(user.getCivility())\r\n                .lastname(user.getLastname())\r\n                .firstname(user.getFirstname())\r\n                .birth_day(user.getBirth_day())\r\n                .email(user.getEmail())\r\n                .password(user.getPassword())\r\n                .phone(user.getPhone())\r\n                .build();\r\n    }\r\n\r\n    public static User toEntity(UserDto user) {\r\n        return User.builder()\r\n                .id(user.getId())\r\n                .civility(user.getCivility())\r\n                .lastname(user.getLastname())\r\n                .firstname(user.getFirstname())\r\n                .birth_day(user.getBirth_day())\r\n                .email(user.getEmail())\r\n                .password(user.getPassword())\r\n                .phone(user.getPhone())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nUserRepository\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n}\r\n```\r\nuserServiceImpl\r\n```\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public Integer updateByid(Integer id, UserDto dto) {\r\n        User user2 = userRepository.findById(id)\r\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;Aucun utilisateur n&#39;a &#233;t&#233; trouv&#233; avec l&#39;ID fourni :&quot; + id));\r\n        if (dto.getEmail() == null ) {\r\n            user2.setEmail(user2.getEmail());\r\n        } else {\r\n            user2.setEmail(dto.getEmail());\r\n        }\r\n        user2.setPassword(dto.getPassword());\r\n        userRepository.save(user2);\r\n        return user2.getId();\r\n    }\r\n}\r\n```\r\nuserService\r\n```\r\npublic interface UserService extends AbstractService&lt;UserDto&gt; {\r\n\r\n}\r\n```\r\n\r\nuserController\r\n```\r\npublic class UserController {\r\n\r\n    private final UserService service;\r\n\r\n    @PatchMapping(&quot;/update/{user-id}&quot;)\r\n    public ResponseEntity&lt;Integer&gt; updateAccount(\r\n            @PathVariable(&quot;user-id&quot;) Integer userId,\r\n            @RequestBody UserDto user\r\n    ) {\r\n        System.out.println(user);\r\n        return ResponseEntity.ok(service.updateByid(userId,user));\r\n    }\r\n}\r\n```\r\n","title":"patchMapping partial modification with springboot","body":"<p>I am a beginner in springboot, I followed a tutorial but the person does not explain for patchmapping. I can't update the modified data. The only solution I found is to use if and else to see if the field is modified or not. Who could explain to me please.</p>\n<p>userModel</p>\n<pre><code>public class User extends AbstractEntity{\n\n    private String civility;\n\n    private String lastname;\n\n    private String firstname;\n\n    @Column(unique = true)\n    private String email;\n\n    private String password;\n\n    private String phone;\n\n    private String birth_day;\n\n}\n</code></pre>\n<p>userDto</p>\n<pre><code>public class UserDto {\n\n    private Integer id;\n    private String civility;\n    private String lastname;\n    private String firstname;\n    private String birth_day;\n    private String email;\n    private String password;\n    private String phone;\n\n\n    public static UserDto fromEntity(User user) {\n        return UserDto.builder()\n                .id(user.getId())\n                .civility(user.getCivility())\n                .lastname(user.getLastname())\n                .firstname(user.getFirstname())\n                .birth_day(user.getBirth_day())\n                .email(user.getEmail())\n                .password(user.getPassword())\n                .phone(user.getPhone())\n                .build();\n    }\n\n    public static User toEntity(UserDto user) {\n        return User.builder()\n                .id(user.getId())\n                .civility(user.getCivility())\n                .lastname(user.getLastname())\n                .firstname(user.getFirstname())\n                .birth_day(user.getBirth_day())\n                .email(user.getEmail())\n                .password(user.getPassword())\n                .phone(user.getPhone())\n                .build();\n    }\n}\n</code></pre>\n<p>UserRepository</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    Optional&lt;User&gt; findByEmail(String email);\n}\n</code></pre>\n<p>userServiceImpl</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    public Integer updateByid(Integer id, UserDto dto) {\n        User user2 = userRepository.findById(id)\n                .orElseThrow(()-&gt; new EntityNotFoundException(&quot;Aucun utilisateur n'a t trouv avec l'ID fourni :&quot; + id));\n        if (dto.getEmail() == null ) {\n            user2.setEmail(user2.getEmail());\n        } else {\n            user2.setEmail(dto.getEmail());\n        }\n        user2.setPassword(dto.getPassword());\n        userRepository.save(user2);\n        return user2.getId();\n    }\n}\n</code></pre>\n<p>userService</p>\n<pre><code>public interface UserService extends AbstractService&lt;UserDto&gt; {\n\n}\n</code></pre>\n<p>userController</p>\n<pre><code>public class UserController {\n\n    private final UserService service;\n\n    @PatchMapping(&quot;/update/{user-id}&quot;)\n    public ResponseEntity&lt;Integer&gt; updateAccount(\n            @PathVariable(&quot;user-id&quot;) Integer userId,\n            @RequestBody UserDto user\n    ) {\n        System.out.println(user);\n        return ResponseEntity.ok(service.updateByid(userId,user));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","design-patterns"],"comments":[{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1607622528,"post_id":65239180,"comment_id":115337044,"body_markdown":"If there&#39;s user interaction involved to execute methodN+1, you&#39;re doing it correct. Otherwise, you need to take a look into Kotlin Coroutines.","body":"If there&#39;s user interaction involved to execute methodN+1, you&#39;re doing it correct. Otherwise, you need to take a look into Kotlin Coroutines."},{"owner":{"account_id":14008507,"reputation":581,"user_id":10117882,"display_name":"Phantom Lord"},"score":0,"creation_date":1607641837,"post_id":65239180,"comment_id":115344436,"body_markdown":"This is right. It is called &quot;Callback hell&quot;","body":"This is right. It is called &quot;Callback hell&quot;"},{"owner":{"account_id":13992684,"reputation":261,"user_id":10106315,"display_name":"Frederic"},"score":0,"creation_date":1607644340,"post_id":65239180,"comment_id":115345075,"body_markdown":"Oh no. Thank you for your responses","body":"Oh no. Thank you for your responses"}],"answers":[{"tags":[],"owner":{"account_id":13992684,"reputation":261,"user_id":10106315,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671200672,"creation_date":1671200672,"answer_id":74825764,"question_id":65239180,"body_markdown":"According to @Phantom Lord this is known as **Callback hell** and a possible solution in the absence of user interaction are **Kotlin Coroutines** according to @theapache64.","title":"Android - How to chain multiple asynchronous methods in a readable manner","body":"<p>According to @Phantom Lord this is known as <strong>Callback hell</strong> and a possible solution in the absence of user interaction are <strong>Kotlin Coroutines</strong> according to @theapache64.</p>\n"}],"owner":{"account_id":13992684,"reputation":261,"user_id":10106315,"display_name":"Frederic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74825764,"answer_count":1,"score":0,"last_activity_date":1671200672,"creation_date":1607620600,"question_id":65239180,"body_markdown":"On app startup I would like to check multiple conditions like so:\r\n\r\n```java\r\nonCreate() {\r\n    result1 = method1();\r\n    result2 = method2(result1);\r\n    result3 = method3(result2);\r\n}\r\n```\r\n\r\nNow these methods depend on user input or network requests so they can&#39;t be called like that. Instead, I had to have a layout like this:\r\n\r\n```java\r\nonCreate() {\r\n    method1();\r\n}\r\nmethod1() {\r\n    doStuff();\r\n    somekindOfCallbackThatStuffIsDone(result1) {\r\n        method2(result1);\r\n    };\r\n}\r\nmethod2(result1) {\r\n    doStuff(result1);\r\n    somekindOfCallbackThatStuffIsDone(result1) {\r\n        method3(result2);\r\n    }\r\n}\r\n```\r\nNow this still looks kind of okay in the example, but it turned out super messy in code, because there are five of these with multiple conditions on each one. Is there a way for the code to be as easily readible as in the first box?","title":"Android - How to chain multiple asynchronous methods in a readable manner","body":"<p>On app startup I would like to check multiple conditions like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>onCreate() {\n    result1 = method1();\n    result2 = method2(result1);\n    result3 = method3(result2);\n}\n</code></pre>\n<p>Now these methods depend on user input or network requests so they can't be called like that. Instead, I had to have a layout like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>onCreate() {\n    method1();\n}\nmethod1() {\n    doStuff();\n    somekindOfCallbackThatStuffIsDone(result1) {\n        method2(result1);\n    };\n}\nmethod2(result1) {\n    doStuff(result1);\n    somekindOfCallbackThatStuffIsDone(result1) {\n        method3(result2);\n    }\n}\n</code></pre>\n<p>Now this still looks kind of okay in the example, but it turned out super messy in code, because there are five of these with multiple conditions on each one. Is there a way for the code to be as easily readible as in the first box?</p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1671198376,"post_id":74825299,"comment_id":132053303,"body_markdown":"Because those are implementation-dependent and don&#39;t follow the Java platform version number.","body":"Because those are implementation-dependent and don&#39;t follow the Java platform version number."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671198622,"post_id":74825299,"comment_id":132053383,"body_markdown":"Not an exact duplicate but *really* close: https://stackoverflow.com/questions/71950529/openjdk-versioning","body":"Not an exact duplicate but <i>really</i> close: <a href=\"https://stackoverflow.com/questions/71950529/openjdk-versioning\">stackoverflow.com/questions/71950529/openjdk-versioning</a>"}],"answers":[{"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671200636,"creation_date":1671200636,"answer_id":74825755,"question_id":74825299,"body_markdown":"you are using java 11, the 18.9 refers to the date it was released - 09/2018 ","title":"Why does java-11 version command shows java 18.x as output?","body":"<p>you are using java 11, the 18.9 refers to the date it was released - 09/2018</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74825755,"answer_count":1,"score":2,"last_activity_date":1671200636,"creation_date":1671198309,"question_id":74825299,"body_markdown":"Why does java-11 version command shows java 18.x as output - \r\n\r\n    $which java\r\n    /Users/friendly/Documents/jdks/jdk-11.0.17.jdk/Contents/Home/bin/java\r\n    ~$java --version\r\n    java 11.0.17 2022-10-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n\r\nFirst line of output is fine as expected --&gt;  `java 11.0.17 2022-10-18 LTS`\r\n\r\nWhy are the Runtime and Hotspot versions -&gt; 18.9\r\n\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n\r\nSeems there is more I should know regarding how Java versions it&#39;s internal components.  \r\nCould some one enlighten.\r\n","title":"Why does java-11 version command shows java 18.x as output?","body":"<p>Why does java-11 version command shows java 18.x as output -</p>\n<pre><code>$which java\n/Users/friendly/Documents/jdks/jdk-11.0.17.jdk/Contents/Home/bin/java\n~$java --version\njava 11.0.17 2022-10-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\n</code></pre>\n<p>First line of output is fine as expected --&gt;  <code>java 11.0.17 2022-10-18 LTS</code></p>\n<p>Why are the Runtime and Hotspot versions -&gt; 18.9</p>\n<pre><code>Java(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\n</code></pre>\n<p>Seems there is more I should know regarding how Java versions it's internal components.<br />\nCould some one enlighten.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671011564,"post_id":74796321,"comment_id":132002991,"body_markdown":"Don&#39;t use the same file for both `RollingFile` appenders. You are now telling Log4j to write each event twice to the same file - once through `service1` and once through `service2`.","body":"Don&#39;t use the same file for both <code>RollingFile</code> appenders. You are now telling Log4j to write each event twice to the same file - once through <code>service1</code> and once through <code>service2</code>."},{"owner":{"account_id":17768926,"reputation":161,"user_id":12903083,"display_name":"manu"},"score":0,"creation_date":1671011851,"post_id":74796321,"comment_id":132003069,"body_markdown":"@RobSpoor Can you please suggest any other appenders that give me same functionality as RollingFile?","body":"@RobSpoor Can you please suggest any other appenders that give me same functionality as RollingFile?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1671011906,"post_id":74796321,"comment_id":132003089,"body_markdown":"There&#39;s nothing wrong with the `RollingFile` appender, just don&#39;t use the same file for different appenders.","body":"There&#39;s nothing wrong with the <code>RollingFile</code> appender, just don&#39;t use the same file for different appenders."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1671016218,"post_id":74796321,"comment_id":132004525,"body_markdown":"Usually when you have multiple appenders they use different files for the output and they filter different data (for example one appender only for levels warning and up, the other appender for debug output)","body":"Usually when you have multiple appenders they use different files for the output and they filter different data (for example one appender only for levels warning and up, the other appender for debug output)"}],"answers":[{"tags":[],"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671200495,"creation_date":1671200495,"answer_id":74825741,"question_id":74796321,"body_markdown":"You are writing all logs in one file. \r\nChange file names, for instance\r\n\r\n    fileName=&quot;${sys:catalina.base}/test_service1.log&quot;\r\n    fileName=&quot;${sys:catalina.base}/test_service2.log&quot; \r\n\r\n","title":"Log4j2 multiple root appenders","body":"<p>You are writing all logs in one file.\nChange file names, for instance</p>\n<pre><code>fileName=&quot;${sys:catalina.base}/test_service1.log&quot;\nfileName=&quot;${sys:catalina.base}/test_service2.log&quot; \n</code></pre>\n"}],"owner":{"account_id":17768926,"reputation":161,"user_id":12903083,"display_name":"manu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671200495,"creation_date":1671011395,"question_id":74796321,"body_markdown":"I&#39;m using log4j2 in my application.\r\n\r\nI have two rolling appenders printing same data one by one\r\n\r\n```\r\n&lt;RollingFile name=&quot;service1&quot; fileName=&quot;${sys:catalina.base}/test.log&quot; filePattern=&quot;----works-----&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;PatternLayout pattern=&quot;----works as expected-----&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/RollingFile&gt;\r\n\r\n &lt;RollingFile name=&quot;service2&quot; fileName=&quot;${sys:catalina.base}/test.log&quot; filePattern=&quot;-----works------&quot;&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;PatternLayout pattern=&quot;----works as expected&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Policies&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/RollingFile&gt;\r\n\r\n&#160;     &lt;Root level=&quot;info&quot;&gt; \r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;AppenderRef ref=&quot;service1&quot;/&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;AppenderRef ref=&quot;service2&quot; /&gt;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&lt;/Root&gt;\r\n&#160;\r\n```\r\nSomething like this\r\noutput :-\r\n```\r\nDebugging data1\r\nDebugging data1\r\nDebugging data2\r\nDebugging data2\r\n```\r\n\r\nHow to resolve this issue?\r\n","title":"Log4j2 multiple root appenders","body":"<p>I'm using log4j2 in my application.</p>\n<p>I have two rolling appenders printing same data one by one</p>\n<pre><code>&lt;RollingFile name=&quot;service1&quot; fileName=&quot;${sys:catalina.base}/test.log&quot; filePattern=&quot;----works-----&quot;&gt;\n &lt;PatternLayout pattern=&quot;----works as expected-----&quot; /&gt;\n &lt;Policies&gt;\n &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\n &lt;/Policies&gt;\n &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n &lt;/RollingFile&gt;\n\n &lt;RollingFile name=&quot;service2&quot; fileName=&quot;${sys:catalina.base}/test.log&quot; filePattern=&quot;-----works------&quot;&gt;\n &lt;PatternLayout pattern=&quot;----works as expected&quot; /&gt;\n &lt;Policies&gt;\n &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot; /&gt;\n &lt;/Policies&gt;\n &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n &lt;/RollingFile&gt;\n\n     &lt;Root level=&quot;info&quot;&gt; \n &lt;AppenderRef ref=&quot;service1&quot;/&gt;\n &lt;AppenderRef ref=&quot;service2&quot; /&gt;\n&lt;/Root&gt;\n\n</code></pre>\n<p>Something like this\noutput :-</p>\n<pre><code>Debugging data1\nDebugging data1\nDebugging data2\nDebugging data2\n</code></pre>\n<p>How to resolve this issue?</p>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1652814443,"post_id":72277129,"comment_id":127696228,"body_markdown":"To help clarify the issue: (a) What version of NetBeans are you trying to install? (b) How are you installing NetBeans? (c) What OS are you using? (d) Have you verified your Java installation (e.g. by running `java -version` at the command line)? (e) Did you try the `-javahome` installer argument mentioned in the error message? (f) Have you researched other questions on S.O. which cover similar issues - and what have you tried for yourself (so we don&#39;t repeat suggestions)? All these details (and maybe more) may help you to get a better, faster answer.","body":"To help clarify the issue: (a) What version of NetBeans are you trying to install? (b) How are you installing NetBeans? (c) What OS are you using? (d) Have you verified your Java installation (e.g. by running <code>java -version</code> at the command line)? (e) Did you try the <code>-javahome</code> installer argument mentioned in the error message? (f) Have you researched other questions on S.O. which cover similar issues - and what have you tried for yourself (so we don&#39;t repeat suggestions)? All these details (and maybe more) may help you to get a better, faster answer."}],"answers":[{"tags":[],"owner":{"account_id":7780225,"reputation":11,"user_id":5886860,"display_name":"Wilfred Muhia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671200240,"creation_date":1671200240,"answer_id":74825689,"question_id":72277129,"body_markdown":"You can try setting JAVA_HOME on the system variables, here are steps obtained from the url [How to Set Java Path in Windows and Linux?][1]\r\n\r\n1. Go to the Search box and type advanced system settings in it. Now click on the View advanced system settings.\r\n2. Select the Advanced tab and then click environment variables.\r\n3. In the system, variables click the New button. Now in the edit system variable, type variable name as JAVA_HOME and variable path as the path where the JDK folder is saved and click on OK button Usually the path of the JDK file will be C:\\Program Files\\Java\\jdk_version_of_jdk.\r\n4. Now in the system variables go to the path and click the edit button.\r\n5. Click the New button.\r\n6. Now add the following path: %JAVA_HOME%\\bin\r\n\r\nThen retry the installation.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/","title":"I cannot install Apache Netbeans IDE with TemurinJDK 11 installed","body":"<p>You can try setting JAVA_HOME on the system variables, here are steps obtained from the url <a href=\"https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/\" rel=\"nofollow noreferrer\">How to Set Java Path in Windows and Linux?</a></p>\n<ol>\n<li>Go to the Search box and type advanced system settings in it. Now click on the View advanced system settings.</li>\n<li>Select the Advanced tab and then click environment variables.</li>\n<li>In the system, variables click the New button. Now in the edit system variable, type variable name as JAVA_HOME and variable path as the path where the JDK folder is saved and click on OK button Usually the path of the JDK file will be C:\\Program Files\\Java\\jdk_version_of_jdk.</li>\n<li>Now in the system variables go to the path and click the edit button.</li>\n<li>Click the New button.</li>\n<li>Now add the following path: %JAVA_HOME%\\bin</li>\n</ol>\n<p>Then retry the installation.</p>\n"}],"owner":{"display_name":"user12393454"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671200240,"creation_date":1652802688,"question_id":72277129,"body_markdown":"I cannot install Apache Netbeans IDE with TemurinJDK 11 installed. I receive the following msg:\r\n\r\n&gt; Java SE Development Kit (JDK) was not found on this computer. JDK 8 or newer is required for installing the NetBeans IDE. Make sure that the JDK is properly installed and run installer again . You can specify valid JDK location using -javahome installer argument .\r\n\r\nNeed help . ","title":"I cannot install Apache Netbeans IDE with TemurinJDK 11 installed","body":"<p>I cannot install Apache Netbeans IDE with TemurinJDK 11 installed. I receive the following msg:</p>\n<blockquote>\n<p>Java SE Development Kit (JDK) was not found on this computer. JDK 8 or newer is required for installing the NetBeans IDE. Make sure that the JDK is properly installed and run installer again . You can specify valid JDK location using -javahome installer argument .</p>\n</blockquote>\n<p>Need help .</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19314380,"reputation":147,"user_id":14119471,"display_name":"Binozo"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1631000226,"creation_date":1600621079,"answer_id":63981503,"question_id":63834256,"body_markdown":"This is the solution:\r\n\r\n```\r\nprivate boolean isNotificationServiceEnabled(Context c){\r\n        String pkgName = c.getPackageName();\r\n        final String flat = Settings.Secure.getString(c.getContentResolver(),\r\n                &quot;enabled_notification_listeners&quot;);\r\n        if (!TextUtils.isEmpty(flat)) {\r\n            final String[] names = flat.split(&quot;:&quot;);\r\n            for (int i = 0; i &lt; names.length; i++) {\r\n                final ComponentName cn = ComponentName.unflattenFromString(names[i]);\r\n                if (cn != null) {\r\n                    if (TextUtils.equals(pkgName, cn.getPackageName())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>This is the solution:</p>\n<pre><code>private boolean isNotificationServiceEnabled(Context c){\n        String pkgName = c.getPackageName();\n        final String flat = Settings.Secure.getString(c.getContentResolver(),\n                &quot;enabled_notification_listeners&quot;);\n        if (!TextUtils.isEmpty(flat)) {\n            final String[] names = flat.split(&quot;:&quot;);\n            for (int i = 0; i &lt; names.length; i++) {\n                final ComponentName cn = ComponentName.unflattenFromString(names[i]);\n                if (cn != null) {\n                    if (TextUtils.equals(pkgName, cn.getPackageName())) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2931845,"reputation":3015,"user_id":2511884,"accept_rate":29,"display_name":"Saket"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671200234,"creation_date":1671200234,"answer_id":74825687,"question_id":63834256,"body_markdown":"Google offers an official API for this: \r\n\r\n```kotlin\r\nNotificationManagerCompat.getEnabledListenerPackages(context).contains(context.packageName)\r\n```","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>Google offers an official API for this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>NotificationManagerCompat.getEnabledListenerPackages(context).contains(context.packageName)\n</code></pre>\n"}],"owner":{"account_id":19314380,"reputation":147,"user_id":14119471,"display_name":"Binozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63981503,"answer_count":2,"score":4,"last_activity_date":1671200234,"creation_date":1599756565,"question_id":63834256,"body_markdown":"I am new to Android and I am trying to develop an app, which reads Whatsapp Notifications and does something with them :)\r\n\r\nI tried different things, to check, if user granted the permission &quot;BIND_NOTIFICATION_LISTENER_SERVICE&quot;\r\nBut nothing worked. It always said, that the permission isn&#39;t granted. But that isn&#39;t true. Here is the code:\r\n```//Checke Permissions\r\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE) == PackageManager.PERMISSION_GRANTED){\r\n            Log.i(TAG, &quot;App has permission!&quot;);\r\n        } else\r\n            Log.i(TAG, &quot;App hasn&#39;t permission &quot; + ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE));\r\n``` \r\nThat are the settings, which I changed in the App:\r\n```startActivity(new Intent(&quot;android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS&quot;));```\r\n\r\nManifest:\r\n```&lt;service android:name=&quot;.NotificationDetectorService&quot;\r\n            android:label=&quot;Whatsapp Nachrichten leser&quot;\r\n            android:permission=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\nThe Listener-Service works perfectly. It only sais, I don&#39;t have the permission.\r\n(Sorry for my bad english)\r\n","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>I am new to Android and I am trying to develop an app, which reads Whatsapp Notifications and does something with them :)</p>\n<p>I tried different things, to check, if user granted the permission &quot;BIND_NOTIFICATION_LISTENER_SERVICE&quot;\nBut nothing worked. It always said, that the permission isn't granted. But that isn't true. Here is the code:</p>\n<pre><code>        if(ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE) == PackageManager.PERMISSION_GRANTED){\n            Log.i(TAG, &quot;App has permission!&quot;);\n        } else\n            Log.i(TAG, &quot;App hasn't permission &quot; + ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE));\n</code></pre>\n<p>That are the settings, which I changed in the App:\n<code>startActivity(new Intent(&quot;android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS&quot;));</code></p>\n<p>Manifest:</p>\n<pre><code>            android:label=&quot;Whatsapp Nachrichten leser&quot;\n            android:permission=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>The Listener-Service works perfectly. It only sais, I don't have the permission.\n(Sorry for my bad english)</p>\n"},{"tags":["java","swing","focus","textfield","scrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386725551,"post_id":20508840,"comment_id":30658924,"body_markdown":"You could try [`JComponent#scrollRectToVisible`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)), for example, `t1.scrollRectToVisible(t1.getBounds())`","body":"You could try <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)\" rel=\"nofollow noreferrer\"><code>JComponent#scrollRectToVisible</code></a>, for example, <code>t1.scrollRectToVisible(t1.getBounds())</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386726563,"post_id":20508840,"comment_id":30659244,"body_markdown":"Dam it!  You&#39;re right, `JTextField`&#39;s `scrollRectToVisible` doesn&#39;t pass the call on to the super implementation...&lt;grr&gt;.  There&#39;s a hack you try, see answer...","body":"Dam it!  You&#39;re right, <code>JTextField</code>&#39;s <code>scrollRectToVisible</code> doesn&#39;t pass the call on to the super implementation...&lt;grr&gt;.  There&#39;s a hack you try, see answer..."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1386726507,"creation_date":1386726507,"answer_id":20509038,"question_id":20508840,"body_markdown":"Two things arise. \r\n\r\nFirstly, `JTextField#scrollRectToVisible` has being overridden and does something slightly different from other components...annoying....\r\n\r\nSecondly, you need to be converting the fields location relative to the it&#39;s parent and then using the parent&#39;s `scrollRectToVisible` method, for example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.FocusAdapter;\r\n    import java.awt.event.FocusEvent;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class ScrollFocusedField {\r\n\r\n        public static void main(String[] args) {\r\n            new ScrollFocusedField();\r\n        }\r\n\r\n        public ScrollFocusedField() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    FocusAdapter fh = new FocusAdapter() {\r\n\r\n                        @Override\r\n                        public void focusGained(FocusEvent e) {\r\n                            JComponent comp = (JComponent) e.getComponent();\r\n                            System.out.println(&quot;FocusGained&quot;);\r\n                            Rectangle bounds = comp.getBounds();\r\n                            bounds.setLocation(SwingUtilities.convertPoint(comp, bounds.getLocation(), comp.getParent()));\r\n                            \r\n                            JComponent parent = (JComponent) comp.getParent();\r\n                            parent.scrollRectToVisible(comp.getBounds());\r\n                        }\r\n                        \r\n                    };\r\n                    \r\n                    JPanel panel = new JPanel(new GridBagLayout());\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    for (int index = 0; index &lt; 100; index++) {\r\n                        gbc.fill = GridBagConstraints.NONE;\r\n                        gbc.weightx = 0;\r\n                        gbc.gridx = 0;\r\n                        gbc.gridy = index;\r\n                        panel.add(new JLabel(Integer.toString(index)), gbc);\r\n                        \r\n                        JTextField field = new JTextField();\r\n                        field.addFocusListener(fh);\r\n                        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                        gbc.weightx = 1;\r\n                        gbc.gridx = 1;\r\n                        panel.add(field, gbc);\r\n                    }\r\n                    \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new JScrollPane(panel));\r\n                    frame.setSize(200, 400);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n","title":"Scroll to focused textfield","body":"<p>Two things arise. </p>\n\n<p>Firstly, <code>JTextField#scrollRectToVisible</code> has being overridden and does something slightly different from other components...annoying....</p>\n\n<p>Secondly, you need to be converting the fields location relative to the it's parent and then using the parent's <code>scrollRectToVisible</code> method, for example...</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport java.awt.event.FocusAdapter;\nimport java.awt.event.FocusEvent;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class ScrollFocusedField {\n\n    public static void main(String[] args) {\n        new ScrollFocusedField();\n    }\n\n    public ScrollFocusedField() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                FocusAdapter fh = new FocusAdapter() {\n\n                    @Override\n                    public void focusGained(FocusEvent e) {\n                        JComponent comp = (JComponent) e.getComponent();\n                        System.out.println(\"FocusGained\");\n                        Rectangle bounds = comp.getBounds();\n                        bounds.setLocation(SwingUtilities.convertPoint(comp, bounds.getLocation(), comp.getParent()));\n\n                        JComponent parent = (JComponent) comp.getParent();\n                        parent.scrollRectToVisible(comp.getBounds());\n                    }\n\n                };\n\n                JPanel panel = new JPanel(new GridBagLayout());\n                GridBagConstraints gbc = new GridBagConstraints();\n                for (int index = 0; index &lt; 100; index++) {\n                    gbc.fill = GridBagConstraints.NONE;\n                    gbc.weightx = 0;\n                    gbc.gridx = 0;\n                    gbc.gridy = index;\n                    panel.add(new JLabel(Integer.toString(index)), gbc);\n\n                    JTextField field = new JTextField();\n                    field.addFocusListener(fh);\n                    gbc.fill = GridBagConstraints.HORIZONTAL;\n                    gbc.weightx = 1;\n                    gbc.gridx = 1;\n                    panel.add(field, gbc);\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new JScrollPane(panel));\n                frame.setSize(200, 400);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386727626,"creation_date":1386727151,"answer_id":20509155,"question_id":20508840,"body_markdown":"Check out the [FormScroller][1]. It is a simple class you can use to make sure the component will be visible when you tab to the component. The FormScroller can be used with any scrollpane and there is no need to add FocusListeners to every component on the form.\r\n\r\nIt provides a few options that allows you do control exactly how the scrolling works.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2010/05/09/scrolling-a-form/","title":"Scroll to focused textfield","body":"<p>Check out the <a href=\"http://tips4java.wordpress.com/2010/05/09/scrolling-a-form/\" rel=\"nofollow\">FormScroller</a>. It is a simple class you can use to make sure the component will be visible when you tab to the component. The FormScroller can be used with any scrollpane and there is no need to add FocusListeners to every component on the form.</p>\n\n<p>It provides a few options that allows you do control exactly how the scrolling works.</p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671119488,"creation_date":1669568334,"answer_id":74592009,"question_id":20508840,"body_markdown":"I solved this with a custom focus traversal policy. It wraps the container&#39;s original traversal policy and queues scroll requests when the next or previous component is requested:\r\n\r\n```java\r\nprivate static class FocusTraversalPolicyAdapter extends FocusTraversalPolicy {\r\n    FocusTraversalPolicy focusTraversalPolicy;\r\n\r\n    FocusTraversalPolicyAdapter(FocusTraversalPolicy focusTraversalPolicy) {\r\n        this.focusTraversalPolicy = focusTraversalPolicy;\r\n    }\r\n\r\n    @Override\r\n    public Component getComponentAfter(Container container, Component component) {\r\n        var nextComponent = focusTraversalPolicy.getComponentAfter(container, component);\r\n\r\n        scrollToVisible(nextComponent);\r\n\r\n        return nextComponent;\r\n    }\r\n\r\n    @Override\r\n    public Component getComponentBefore(Container container, Component component) {\r\n        var previousComponent = focusTraversalPolicy.getComponentBefore(container, component);\r\n\r\n        scrollToVisible(previousComponent);\r\n\r\n        return previousComponent;\r\n    }\r\n\r\n    @Override\r\n    public Component getFirstComponent(Container container) {\r\n        return focusTraversalPolicy.getFirstComponent(container);\r\n    }\r\n\r\n    @Override\r\n    public Component getLastComponent(Container container) {\r\n        return focusTraversalPolicy.getLastComponent(container);\r\n    }\r\n\r\n    @Override\r\n    public Component getDefaultComponent(Container container) {\r\n        return focusTraversalPolicy.getDefaultComponent(container);\r\n    }\r\n\r\n    void scrollToVisible(Component component) {\r\n        var parent = component.getParent();\r\n\r\n        if (parent instanceof JComponent) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that this does rely on existing behavior and could theoretically break in the future.","title":"Scroll to focused textfield","body":"<p>I solved this with a custom focus traversal policy. It wraps the container's original traversal policy and queues scroll requests when the next or previous component is requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class FocusTraversalPolicyAdapter extends FocusTraversalPolicy {\n    FocusTraversalPolicy focusTraversalPolicy;\n\n    FocusTraversalPolicyAdapter(FocusTraversalPolicy focusTraversalPolicy) {\n        this.focusTraversalPolicy = focusTraversalPolicy;\n    }\n\n    @Override\n    public Component getComponentAfter(Container container, Component component) {\n        var nextComponent = focusTraversalPolicy.getComponentAfter(container, component);\n\n        scrollToVisible(nextComponent);\n\n        return nextComponent;\n    }\n\n    @Override\n    public Component getComponentBefore(Container container, Component component) {\n        var previousComponent = focusTraversalPolicy.getComponentBefore(container, component);\n\n        scrollToVisible(previousComponent);\n\n        return previousComponent;\n    }\n\n    @Override\n    public Component getFirstComponent(Container container) {\n        return focusTraversalPolicy.getFirstComponent(container);\n    }\n\n    @Override\n    public Component getLastComponent(Container container) {\n        return focusTraversalPolicy.getLastComponent(container);\n    }\n\n    @Override\n    public Component getDefaultComponent(Container container) {\n        return focusTraversalPolicy.getDefaultComponent(container);\n    }\n\n    void scrollToVisible(Component component) {\n        var parent = component.getParent();\n\n        if (parent instanceof JComponent) {\n            SwingUtilities.invokeLater(() -&gt; {\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\n            });\n        }\n    }\n}\n</code></pre>\n<p>Note that this does rely on existing behavior and could theoretically break in the future.</p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671200074,"creation_date":1671200074,"answer_id":74825657,"question_id":20508840,"body_markdown":"Following up on my previous answer, a simpler and possibly more reliable approach would be to define a custom keyboard focus handler. Any time a component receives the input focus, the manager dispatches the event and scrolls the component into view:\r\n\r\n``` java\r\npublic class ScrollingKeyboardFocusManager extends DefaultKeyboardFocusManager {\r\n    @Override\r\n    public boolean dispatchEvent(AWTEvent event) {\r\n        var dispatched = super.dispatchEvent(event);\r\n\r\n        if (dispatched &amp;&amp; event.getID() == FocusEvent.FOCUS_GAINED) {\r\n            var component = (Component)event.getSource();\r\n            var parent = component.getParent();\r\n\r\n            if (parent instanceof JComponent) {\r\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\r\n            }\r\n        }\r\n\r\n        return dispatched;\r\n    }\r\n}\r\n```\r\n\r\nThe focus manager can be installed as follows:\r\n\r\n```java\r\nKeyboardFocusManager.setCurrentKeyboardFocusManager(new ScrollingKeyboardFocusManager());\r\n```\r\n","title":"Scroll to focused textfield","body":"<p>Following up on my previous answer, a simpler and possibly more reliable approach would be to define a custom keyboard focus handler. Any time a component receives the input focus, the manager dispatches the event and scrolls the component into view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScrollingKeyboardFocusManager extends DefaultKeyboardFocusManager {\n    @Override\n    public boolean dispatchEvent(AWTEvent event) {\n        var dispatched = super.dispatchEvent(event);\n\n        if (dispatched &amp;&amp; event.getID() == FocusEvent.FOCUS_GAINED) {\n            var component = (Component)event.getSource();\n            var parent = component.getParent();\n\n            if (parent instanceof JComponent) {\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\n            }\n        }\n\n        return dispatched;\n    }\n}\n</code></pre>\n<p>The focus manager can be installed as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyboardFocusManager.setCurrentKeyboardFocusManager(new ScrollingKeyboardFocusManager());\n</code></pre>\n"}],"owner":{"account_id":2852138,"reputation":1036,"user_id":2449110,"accept_rate":52,"display_name":"Sorin Grecu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20509038,"answer_count":4,"score":0,"last_activity_date":1671200074,"creation_date":1386725361,"question_id":20508840,"body_markdown":"So,i have a bunch of textfields inside a scrollpane.\r\nMore textfields are added when the user focuses the last one from the bottom.\r\nMy question is,how can i make the scrollpane scroll to the focused textfield ?\r\nI mean,the user will press TAB or ENTER to jump to the next textfield but he won&#39;t be able to see it without scrolling himself.\r\nI could simulate pressing the down arrow or PageDown when the last textfield has focus but that would be ugly,even if it would do what i need to.\r\n\r\nI tried something like this from what i&#39;ve found thru searching but i couldn&#39;t make it work.\r\n\r\n    public void focusGained(FocusEvent e) {\r\n                currentview = t1;\r\n                int cons = i - 1;\r\n                 Rectangle r = new Rectangle(t1.getX(), t1.getY(), 1, 1);\r\n                jScrollPane1.scrollRectToVisible(r);\r\n                if (t1.getName().equals(&quot;prod&quot; + cons)) {\r\n\r\n                    newproduct();\r\n                };\r\n\r\n            }","title":"Scroll to focused textfield","body":"<p>So,i have a bunch of textfields inside a scrollpane.\nMore textfields are added when the user focuses the last one from the bottom.\nMy question is,how can i make the scrollpane scroll to the focused textfield ?\nI mean,the user will press TAB or ENTER to jump to the next textfield but he won't be able to see it without scrolling himself.\nI could simulate pressing the down arrow or PageDown when the last textfield has focus but that would be ugly,even if it would do what i need to.</p>\n\n<p>I tried something like this from what i've found thru searching but i couldn't make it work.</p>\n\n<pre><code>public void focusGained(FocusEvent e) {\n            currentview = t1;\n            int cons = i - 1;\n             Rectangle r = new Rectangle(t1.getX(), t1.getY(), 1, 1);\n            jScrollPane1.scrollRectToVisible(r);\n            if (t1.getName().equals(\"prod\" + cons)) {\n\n                newproduct();\n            };\n\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sockjs","stomp-websocket"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671193505,"post_id":74824209,"comment_id":132051719,"body_markdown":"`stompClient.setInboundMessageSizeLimit(73729);` !?","body":"<code>stompClient.setInboundMessageSizeLimit(73729);</code> !?"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":0,"creation_date":1671194272,"post_id":74824209,"comment_id":132051926,"body_markdown":"&quot;stompClient.setInboundMessageSizeLimit(73729);&quot; doesn&#39;t work","body":"&quot;stompClient.setInboundMessageSizeLimit(73729);&quot; doesn&#39;t work"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671194642,"post_id":74824209,"comment_id":132052031,"body_markdown":"..with same exception!?","body":"..with same exception!?"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":0,"creation_date":1671195648,"post_id":74824209,"comment_id":132052364,"body_markdown":"@xerx593, yes. The same exception. I add it right after &quot;WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);&quot;","body":"@xerx593, yes. The same exception. I add it right after &quot;WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671195728,"post_id":74824209,"comment_id":132052402,"body_markdown":"..with excatly same numbers??? ;)) `Text message size [73728] exceeds maximum size [65536]` ? (if so: wrong path, if not: you (just) need to know/estimate/test &quot;max message size&quot;","body":"..with excatly same numbers??? ;)) <code>Text message size [73728] exceeds maximum size [65536]</code> ? (if so: wrong path, if not: you (just) need to know/estimate/test &quot;max message size&quot;"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":1,"creation_date":1671195871,"post_id":74824209,"comment_id":132052449,"body_markdown":"Yes! exactly same numbers. I&#39;ve seen someone try setInboundMessageSizeLimit, but it solves another exception - &quot;org.springframework.messaging.simp.stomp.StompConversionException: The configured STOMP buffer size limit of 65536 bytes has been exceeded&quot;, not mine.","body":"Yes! exactly same numbers. I&#39;ve seen someone try setInboundMessageSizeLimit, but it solves another exception - &quot;org.springframework.messaging.simp.stomp.StompConversionExc&zwnj;&#8203;eption: The configured STOMP buffer size limit of 65536 bytes has been exceeded&quot;, not mine."}],"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671200032,"creation_date":1671192225,"question_id":74824209,"body_markdown":"When I&#39;m running a Java WebSocketStompClient, I got below error:\r\norg.eclipse.jetty.websocket.api.MessageTooLargeException: Text message size [73728] exceeds maximum size [65536]\r\n\r\nSample code:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.messaging.simp.stomp.StompFrameHandler;\r\n    import org.springframework.messaging.simp.stomp.StompHeaders;\r\n    import org.springframework.messaging.simp.stomp.StompSession;\r\n    import org.springframework.messaging.simp.stomp.StompSessionHandlerAdapter;\r\n    import org.springframework.util.concurrent.ListenableFuture;\r\n    import org.springframework.web.socket.WebSocketHttpHeaders;\r\n    import org.springframework.web.socket.client.WebSocketClient;\r\n    import org.springframework.web.socket.client.standard.StandardWebSocketClient;\r\n    import org.springframework.web.socket.messaging.WebSocketStompClient;\r\n    import org.springframework.web.socket.sockjs.client.SockJsClient;\r\n    import org.springframework.web.socket.sockjs.client.Transport;\r\n    import org.springframework.web.socket.sockjs.client.WebSocketTransport;\r\n    import org.springframework.web.socket.sockjs.frame.Jackson2SockJsMessageCodec;\r\n    \r\n    import java.lang.reflect.Type;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    \r\n    public class HelloClient {\r\n    \r\n        private static Logger logger = Logger.getLogger(HelloClient.class);\r\n    \r\n        StompSession session;\r\n    \r\n        private final static WebSocketHttpHeaders headers = new WebSocketHttpHeaders();\r\n    \r\n        public ListenableFuture&lt;StompSession&gt; connect() {\r\n    \r\n    \r\n            Transport webSocketTransport = new WebSocketTransport(new StandardWebSocketClient());\r\n    \r\n            List&lt;Transport&gt; transports = Collections.singletonList(webSocketTransport);\r\n    \r\n            SockJsClient sockJsClient = new SockJsClient(transports);\r\n    \r\n            sockJsClient.setMessageCodec(new Jackson2SockJsMessageCodec());\r\n    \r\n            WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\r\n    \r\n    \r\n            long[] hb = stompClient.getDefaultHeartbeat();\r\n            boolean en = stompClient.isDefaultHeartbeatEnabled();\r\n            long timeout = stompClient.getReceiptTimeLimit();\r\n    \r\n            String url = &quot;https://www.test.com&quot;;\r\n            return stompClient.connect(url, headers, new MyHandler());\r\n        }\r\n    \r\n        public void subscribeMsg(StompSession stompSession) throws ExecutionException, InterruptedException {\r\n            stompSession.subscribe(&quot;/topic/test&quot;, new StompFrameHandler() {\r\n                public Type getPayloadType(StompHeaders stompHeaders) {\r\n                    return byte[].class;\r\n                }\r\n    \r\n                public void handleFrame(StompHeaders stompHeaders, Object o) {\r\n                    logger.info(&quot;Received message &quot; + new String((byte[]) o));\r\n                    String response = new String((byte[]) o);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        private class MyHandler extends StompSessionHandlerAdapter {\r\n            public void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\r\n                logger.info(&quot;Now connected&quot;);\r\n                session = stompSession;\r\n            }\r\n        }\r\n    \r\n        public boolean isConnected() {\r\n            try {\r\n                Thread.sleep(500);\r\n                return session != null &amp;&amp; session.isConnected();\r\n            } catch (Exception e) {\r\n                logger.warn(&quot;Error happens when checking connection status, &quot;, e);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            HelloClient helloClient = new HelloClient();\r\n    \r\n            ListenableFuture&lt;StompSession&gt; f = helloClient.connect();\r\n            StompSession stompSession = f.get();\r\n            helloClient.subscribeMsg(stompSession);\r\n    \r\n    \r\n            while (true) {\r\n                if (!helloClient.isConnected()) {\r\n                    logger.info(&quot;wss diconnected &quot;);\r\n                    logger.info(&quot;need re-create &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to increase the limitation for a Java stomp websocket client? I found some not related answers  https://stackoverflow.com/questions/69968609/how-can-i-set-max-buffer-size-for-web-socket-clientjetty-in-java which are not suitable for stomp websocket client.\r\n\r\nAlso tried stompClient.setInboundMessageSizeLimit(Integer.MAX_VALUE); which doesn&#39;t work.","title":"How to resolve &quot;org.eclipse.jetty.websocket.api.MessageTooLargeException&quot; for Java WebSocketStompClient","body":"<p>When I'm running a Java WebSocketStompClient, I got below error:\norg.eclipse.jetty.websocket.api.MessageTooLargeException: Text message size [73728] exceeds maximum size [65536]</p>\n<p>Sample code:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.springframework.messaging.simp.stomp.StompFrameHandler;\nimport org.springframework.messaging.simp.stomp.StompHeaders;\nimport org.springframework.messaging.simp.stomp.StompSession;\nimport org.springframework.messaging.simp.stomp.StompSessionHandlerAdapter;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.web.socket.WebSocketHttpHeaders;\nimport org.springframework.web.socket.client.WebSocketClient;\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\nimport org.springframework.web.socket.sockjs.client.SockJsClient;\nimport org.springframework.web.socket.sockjs.client.Transport;\nimport org.springframework.web.socket.sockjs.client.WebSocketTransport;\nimport org.springframework.web.socket.sockjs.frame.Jackson2SockJsMessageCodec;\n\nimport java.lang.reflect.Type;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n\npublic class HelloClient {\n\n    private static Logger logger = Logger.getLogger(HelloClient.class);\n\n    StompSession session;\n\n    private final static WebSocketHttpHeaders headers = new WebSocketHttpHeaders();\n\n    public ListenableFuture&lt;StompSession&gt; connect() {\n\n\n        Transport webSocketTransport = new WebSocketTransport(new StandardWebSocketClient());\n\n        List&lt;Transport&gt; transports = Collections.singletonList(webSocketTransport);\n\n        SockJsClient sockJsClient = new SockJsClient(transports);\n\n        sockJsClient.setMessageCodec(new Jackson2SockJsMessageCodec());\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\n\n\n        long[] hb = stompClient.getDefaultHeartbeat();\n        boolean en = stompClient.isDefaultHeartbeatEnabled();\n        long timeout = stompClient.getReceiptTimeLimit();\n\n        String url = &quot;https://www.test.com&quot;;\n        return stompClient.connect(url, headers, new MyHandler());\n    }\n\n    public void subscribeMsg(StompSession stompSession) throws ExecutionException, InterruptedException {\n        stompSession.subscribe(&quot;/topic/test&quot;, new StompFrameHandler() {\n            public Type getPayloadType(StompHeaders stompHeaders) {\n                return byte[].class;\n            }\n\n            public void handleFrame(StompHeaders stompHeaders, Object o) {\n                logger.info(&quot;Received message &quot; + new String((byte[]) o));\n                String response = new String((byte[]) o);\n\n            }\n        });\n    }\n\n\n    private class MyHandler extends StompSessionHandlerAdapter {\n        public void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\n            logger.info(&quot;Now connected&quot;);\n            session = stompSession;\n        }\n    }\n\n    public boolean isConnected() {\n        try {\n            Thread.sleep(500);\n            return session != null &amp;&amp; session.isConnected();\n        } catch (Exception e) {\n            logger.warn(&quot;Error happens when checking connection status, &quot;, e);\n            return false;\n        }\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        HelloClient helloClient = new HelloClient();\n\n        ListenableFuture&lt;StompSession&gt; f = helloClient.connect();\n        StompSession stompSession = f.get();\n        helloClient.subscribeMsg(stompSession);\n\n\n        while (true) {\n            if (!helloClient.isConnected()) {\n                logger.info(&quot;wss diconnected &quot;);\n                logger.info(&quot;need re-create &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to increase the limitation for a Java stomp websocket client? I found some not related answers  <a href=\"https://stackoverflow.com/questions/69968609/how-can-i-set-max-buffer-size-for-web-socket-clientjetty-in-java\">How can I set max buffer size for web socket client(Jetty) in Java</a> which are not suitable for stomp websocket client.</p>\n<p>Also tried stompClient.setInboundMessageSizeLimit(Integer.MAX_VALUE); which doesn't work.</p>\n"},{"tags":["java","jvm","jvm-bytecode","invokevirtual"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1671135723,"post_id":74816914,"comment_id":132039480,"body_markdown":"`ldc` **l**oa**d**s a **c**onstant.","body":"<code>ldc</code> <b>l</b>oa<b>d</b>s a <b>c</b>onstant."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1671154537,"post_id":74816914,"comment_id":132043414,"body_markdown":"Adding more to first comment: What do you think that ldc #2 instruction does? I&#39;ll give you a hint: It&#39;s not pushing an instance of Console to the stack.","body":"Adding more to first comment: What do you think that ldc #2 instruction does? I&#39;ll give you a hint: It&#39;s not pushing an instance of Console to the stack."},{"owner":{"account_id":8538553,"reputation":23,"user_id":14932616,"display_name":"Tim Engbrocks"},"score":0,"creation_date":1671175560,"post_id":74816914,"comment_id":132046548,"body_markdown":"[ldc spec](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.ldc) so its actually pushing a reference to `Class` onto the stack? If that is the case then I am very sorry. Typical case of not seeing the forest because of all the trees. I assumed it would push a reference to the class with the name at that index onto the stack but reading your comments I see now that it might be referring to the class `Class`?","body":"<a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.ldc\" rel=\"nofollow noreferrer\">ldc spec</a> so its actually pushing a reference to <code>Class</code> onto the stack? If that is the case then I am very sorry. Typical case of not seeing the forest because of all the trees. I assumed it would push a reference to the class with the name at that index onto the stack but reading your comments I see now that it might be referring to the class <code>Class</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671199338,"creation_date":1671199338,"answer_id":74825496,"question_id":74816914,"body_markdown":"You wrote\r\n\r\n&gt; One can already see a difference between this `invokevirtual` instruction and the one above: `javap` appends the class name before the method name because the function is found in the class `Class` and not in `Console`.\r\n\r\nbut there is no difference in that regard. `javap` included the class name in both cases. In case of the `println` method, its the class `java/io/PrintStream`.\r\n\r\nFor ordinary Java code, the `ldc` instruction may load primitive values or objects of type `String` or `Class`. We can reproduce such cases with\r\n\r\n```java\r\npublic class Main {\r\n  static {\r\n        Console.class.desiredAssertionStatus();\r\n        &quot;hello&quot;.toString();\r\n    }\r\n  \r\n    public static void main(String[] args) {\r\n        showBytecode();\r\n    }\r\n  \r\n    private static void showBytecode() {\r\n        ToolProvider.findFirst(&quot;javap&quot;)\r\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\r\n    }\r\n  \r\n    private Main() {}\r\n}\r\n```\r\n\r\n##### [online example]\r\n```none\r\nCompiled from &quot;Main.java&quot;\r\npublic class Main {\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: invokestatic  #1                  // Method showBytecode:()V\r\n       3: return\r\n\r\n  static {};\r\n    Code:\r\n       0: ldc           #13                 // class java/io/Console\r\n       2: invokevirtual #14                 // Method java/lang/Class.desiredAssertionStatus:()Z\r\n       5: pop\r\n       6: ldc           #15                 // String hello\r\n       8: invokevirtual #16                 // Method java/lang/String.toString:()Ljava/lang/String;\r\n      11: pop\r\n      12: return\r\n}\r\n```\r\n\r\nWe can see that `javap` will always print the *actual value* after an `ldc` instruction, so in this example, class java/io/Console and String hello. \r\n\r\nThe `ldc` instruction can also load objects of other types, but there are no ordinary Java language equivalents to these use cases.\r\n\r\nThe `desiredAssertionStatus()` query is, by the way, typically used to implement the `assert` statement support, eg.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        assert &quot;foo&quot;.length() == 3;\r\n        showBytecode();\r\n    }\r\n\r\n    private static void showBytecode() {\r\n        ToolProvider.findFirst(&quot;javap&quot;)\r\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\r\n    }\r\n\r\n    private Main() {}\r\n}\r\n```\r\n\r\n##### [gets compiled to]\r\n```none\r\nCompiled from &quot;Main.java&quot;\r\npublic class Main {\r\n  static final boolean $assertionsDisabled;\r\n\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: getstatic     #1                  // Field $assertionsDisabled:Z\r\n       3: ifne          23\r\n       6: ldc           #2                  // String foo\r\n       8: invokevirtual #3                  // Method java/lang/String.length:()I\r\n      11: iconst_3\r\n      12: if_icmpeq     23\r\n      15: new           #4                  // class java/lang/AssertionError\r\n      18: dup\r\n      19: invokespecial #5                  // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\r\n      22: athrow\r\n      23: invokestatic  #6                  // Method showBytecode:()V\r\n      26: return\r\n\r\n  static {};\r\n    Code:\r\n       0: ldc           #18                 // class Main\r\n       2: invokevirtual #19                 // Method java/lang/Class.desiredAssertionStatus:()Z\r\n       5: ifne          12\r\n       8: iconst_1\r\n       9: goto          13\r\n      12: iconst_0\r\n      13: putstatic     #1                  // Field $assertionsDisabled:Z\r\n      16: return\r\n}\r\n```\r\n\r\n\r\n[online example]: https://tio.run/##dVBBasMwELz7FUInGxJ9wFBoC70VAumt9KBam2Rd2Wt21y6h@O2unLjFoVSHZZgdzQxb@8Fv6/AxTdh0xGrqRDgk90itUIQyW/O9YnTSoXshijumAQNwmWVd/x6xMlX0IubZY2u@MmNEvSZ2hte3eLqLzgUQZAj3IsCK1O6TvJe8KH/19gQxknVKe2Vsjz@7Mc0LWHKXoIEwmCal51f565vxfJRi1UBO9PlwVqgowF83xsEr3Njdflg5rS/gDtiGJ2TR3M536mzh8LBjEGg178z2znSO@9TrLAqNo143ZsHAvDF2W9k058vZ4r9a83auMGZjNk3f\r\n[gets compiled to]: https://tio.run/##bU@xasMwEN31FYcmCWItGUM6dOhWCLRb6KBasnOubInT2SUUf7srE1MS6A13x7t3vPc6O9mqc1/Lgn2KxNAVwIyMweSE5j3GcKI4ofN0ECKNnwFrqIPNGV4tDvAjoNSGZ7ZcxhTRQV@u6o0Jh/b8AZbarDfyWuXfFzHZxChN8EPLF6XheIT94Y@TL/H7@cq@js4rfcNncdMjnCz7B8FH@p3WfQbT4OBekDIruSZNUhtsTuSzH1glqJ4gGRqL82tm35s48g623RPtQFa1LH3NLvX/ptbbamAWs1iWXw","title":"Java Bytecode: invokevirtual methodref on an objectref with a different class","body":"<p>You wrote</p>\n<blockquote>\n<p>One can already see a difference between this <code>invokevirtual</code> instruction and the one above: <code>javap</code> appends the class name before the method name because the function is found in the class <code>Class</code> and not in <code>Console</code>.</p>\n</blockquote>\n<p>but there is no difference in that regard. <code>javap</code> included the class name in both cases. In case of the <code>println</code> method, its the class <code>java/io/PrintStream</code>.</p>\n<p>For ordinary Java code, the <code>ldc</code> instruction may load primitive values or objects of type <code>String</code> or <code>Class</code>. We can reproduce such cases with</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  static {\n        Console.class.desiredAssertionStatus();\n        &quot;hello&quot;.toString();\n    }\n  \n    public static void main(String[] args) {\n        showBytecode();\n    }\n  \n    private static void showBytecode() {\n        ToolProvider.findFirst(&quot;javap&quot;)\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\n    }\n  \n    private Main() {}\n}\n</code></pre>\n<h5><a href=\"https://tio.run/##dVBBasMwELz7FUInGxJ9wFBoC70VAumt9KBam2Rd2Wt21y6h@O2unLjFoVSHZZgdzQxb@8Fv6/AxTdh0xGrqRDgk90itUIQyW/O9YnTSoXshijumAQNwmWVd/x6xMlX0IubZY2u@MmNEvSZ2hte3eLqLzgUQZAj3IsCK1O6TvJe8KH/19gQxknVKe2Vsjz@7Mc0LWHKXoIEwmCal51f565vxfJRi1UBO9PlwVqgowF83xsEr3Njdflg5rS/gDtiGJ2TR3M536mzh8LBjEGg178z2znSO@9TrLAqNo143ZsHAvDF2W9k058vZ4r9a83auMGZjNk3f\" rel=\"nofollow noreferrer\">online example</a></h5>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;Main.java&quot;\npublic class Main {\n  public static void main(java.lang.String[]);\n    Code:\n       0: invokestatic  #1                  // Method showBytecode:()V\n       3: return\n\n  static {};\n    Code:\n       0: ldc           #13                 // class java/io/Console\n       2: invokevirtual #14                 // Method java/lang/Class.desiredAssertionStatus:()Z\n       5: pop\n       6: ldc           #15                 // String hello\n       8: invokevirtual #16                 // Method java/lang/String.toString:()Ljava/lang/String;\n      11: pop\n      12: return\n}\n</code></pre>\n<p>We can see that <code>javap</code> will always print the <em>actual value</em> after an <code>ldc</code> instruction, so in this example, class java/io/Console and String hello.</p>\n<p>The <code>ldc</code> instruction can also load objects of other types, but there are no ordinary Java language equivalents to these use cases.</p>\n<p>The <code>desiredAssertionStatus()</code> query is, by the way, typically used to implement the <code>assert</code> statement support, eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        assert &quot;foo&quot;.length() == 3;\n        showBytecode();\n    }\n\n    private static void showBytecode() {\n        ToolProvider.findFirst(&quot;javap&quot;)\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\n    }\n\n    private Main() {}\n}\n</code></pre>\n<h5><a href=\"https://tio.run/##bU@xasMwEN31FYcmCWItGUM6dOhWCLRb6KBasnOubInT2SUUf7srE1MS6A13x7t3vPc6O9mqc1/Lgn2KxNAVwIyMweSE5j3GcKI4ofN0ECKNnwFrqIPNGV4tDvAjoNSGZ7ZcxhTRQV@u6o0Jh/b8AZbarDfyWuXfFzHZxChN8EPLF6XheIT94Y@TL/H7@cq@js4rfcNncdMjnCz7B8FH@p3WfQbT4OBekDIruSZNUhtsTuSzH1glqJ4gGRqL82tm35s48g623RPtQFa1LH3NLvX/ptbbamAWs1iWXw\" rel=\"nofollow noreferrer\">gets compiled to</a></h5>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;Main.java&quot;\npublic class Main {\n  static final boolean $assertionsDisabled;\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: getstatic     #1                  // Field $assertionsDisabled:Z\n       3: ifne          23\n       6: ldc           #2                  // String foo\n       8: invokevirtual #3                  // Method java/lang/String.length:()I\n      11: iconst_3\n      12: if_icmpeq     23\n      15: new           #4                  // class java/lang/AssertionError\n      18: dup\n      19: invokespecial #5                  // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\n      22: athrow\n      23: invokestatic  #6                  // Method showBytecode:()V\n      26: return\n\n  static {};\n    Code:\n       0: ldc           #18                 // class Main\n       2: invokevirtual #19                 // Method java/lang/Class.desiredAssertionStatus:()Z\n       5: ifne          12\n       8: iconst_1\n       9: goto          13\n      12: iconst_0\n      13: putstatic     #1                  // Field $assertionsDisabled:Z\n      16: return\n}\n</code></pre>\n"}],"owner":{"account_id":8538553,"reputation":23,"user_id":14932616,"display_name":"Tim Engbrocks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74825496,"answer_count":1,"score":2,"last_activity_date":1671199338,"creation_date":1671134322,"question_id":74816914,"body_markdown":"I am currently looking into how Java bytecode works.\r\nI created this simple test class:\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWith `javap -c Main.class` I can get its bytecode:\r\n```\r\nclass Main {\r\n  Main();\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: return\r\n\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3: ldc           #13                 // String Hello, World!\r\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       8: return\r\n}\r\n```\r\n\r\nThe first instruction that should be executed (according to my understanding) should be the `getstatic` instruction in the `main` function. This leads to the `System` class and others like `Console` being loaded.\r\n\r\nDuring the `&lt;clinit&gt;` method of `Console`:\r\n```\r\nstatic {};\r\n    Code:\r\n       0: ldc           #2                  // class java/io/Console\r\n       2: invokevirtual #203                // Method java/lang/Class.desiredAssertionStatus:()Z\r\n...\r\n```\r\n\r\na `invokevirtual` method is executed to call the `desiredAssertionStatus` function on the class `Class`. One can already see a difference between this `invokevirtual` instruction and the one above: `javap` appends the class name before the method name because the function is found in the class `Class` and not in `Console`.\r\n\r\nSo finally my question is: What is going on here? According to the [JVM 19 specification for `invokevirtual`](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.invokevirtual) the method should be invoked on the object that was on the stack. In this case `Console` but this class doesn&#39;t have the requested method nor is it a subclass of `Class`. What does the JVM intend to do here/how do JVM implementations like Hotspot go about doing this.\r\nDo they just put the method onto the `Console` class for the duration of the instruction or somehow inject the class `Class` into `Console` or maybe there is something completely different going on here that I am missing?\r\n\r\nAnyways thank you for taking your time to read my question!\r\n\r\nI hope you have/had a wonderful day :)\r\n\r\n\r\nI thought about doing the following things:\r\n\r\n- Adding the method to the `Console` class for the duration of the instruction. This doesn&#39;t work because the method requires fields from the class `Class`.\r\n\r\n- Actually just calling the method on an instance of `Class` which is created on the fly but I think these seems weird.\r\n\r\n- This might be a very special case because I think that it has something to do with `Console` trying to interact with its `ClassLoader`. If this is a special case and there aren&#39;t many occurrences of this happening: Maybe the JVM just does some under the hood magic like assigning each class an instance of `Class` after loading which is then used for just this. Also seems weird to me.\r\n","title":"Java Bytecode: invokevirtual methodref on an objectref with a different class","body":"<p>I am currently looking into how Java bytecode works.\nI created this simple test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p>With <code>javap -c Main.class</code> I can get its bytecode:</p>\n<pre><code>class Main {\n  Main();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       3: ldc           #13                 // String Hello, World!\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n       8: return\n}\n</code></pre>\n<p>The first instruction that should be executed (according to my understanding) should be the <code>getstatic</code> instruction in the <code>main</code> function. This leads to the <code>System</code> class and others like <code>Console</code> being loaded.</p>\n<p>During the <code>&lt;clinit&gt;</code> method of <code>Console</code>:</p>\n<pre><code>static {};\n    Code:\n       0: ldc           #2                  // class java/io/Console\n       2: invokevirtual #203                // Method java/lang/Class.desiredAssertionStatus:()Z\n...\n</code></pre>\n<p>a <code>invokevirtual</code> method is executed to call the <code>desiredAssertionStatus</code> function on the class <code>Class</code>. One can already see a difference between this <code>invokevirtual</code> instruction and the one above: <code>javap</code> appends the class name before the method name because the function is found in the class <code>Class</code> and not in <code>Console</code>.</p>\n<p>So finally my question is: What is going on here? According to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.invokevirtual\" rel=\"nofollow noreferrer\">JVM 19 specification for <code>invokevirtual</code></a> the method should be invoked on the object that was on the stack. In this case <code>Console</code> but this class doesn't have the requested method nor is it a subclass of <code>Class</code>. What does the JVM intend to do here/how do JVM implementations like Hotspot go about doing this.\nDo they just put the method onto the <code>Console</code> class for the duration of the instruction or somehow inject the class <code>Class</code> into <code>Console</code> or maybe there is something completely different going on here that I am missing?</p>\n<p>Anyways thank you for taking your time to read my question!</p>\n<p>I hope you have/had a wonderful day :)</p>\n<p>I thought about doing the following things:</p>\n<ul>\n<li><p>Adding the method to the <code>Console</code> class for the duration of the instruction. This doesn't work because the method requires fields from the class <code>Class</code>.</p>\n</li>\n<li><p>Actually just calling the method on an instance of <code>Class</code> which is created on the fly but I think these seems weird.</p>\n</li>\n<li><p>This might be a very special case because I think that it has something to do with <code>Console</code> trying to interact with its <code>ClassLoader</code>. If this is a special case and there aren't many occurrences of this happening: Maybe the JVM just does some under the hood magic like assigning each class an instance of <code>Class</code> after loading which is then used for just this. Also seems weird to me.</p>\n</li>\n</ul>\n"},{"tags":["java","spring","kotlin","nginx","telegram-bot"],"owner":{"account_id":17735705,"reputation":1,"user_id":12886692,"display_name":"KaRtoHHka "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671199291,"creation_date":1671199223,"question_id":74825470,"body_markdown":"I write a telegram bot on Kotlin and run it on my own server. I used to run bots on a Windows laptop, used nginx and a static ip address, everything worked, now I&#39;m moving the server to ubuntu.\r\nI configured nginx and everything else as before, but when I run the jar file, an exception appears\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webHookController&#39; defined in URL [jar:file:/home/kartohhka/bots/portfolio-bot.jar!/BOOT-INF/classes!/kartohhka/bot/WebHookController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;telegramBot&#39; defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at kartohhka.bot.PortfolioBotApplicationKt.main(PortfolioBotApplication.kt:21) ~[classes!/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[portfolio-bot.jar:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;telegramBot&#39; defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 27 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 41 common frames omitted\r\nCaused by: org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponseInternal(PartialBotApiMethod.java:53) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponse(PartialBotApiMethod.java:33) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:38) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:21) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1045) ~[telegrambots-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.bots.AbsSender.getWebhookInfo(AbsSender.java:75) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at kartohhka.bot.appconfig.BotConfig.telegramBot(BotConfig.kt:55) ~[classes!/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 42 common frames omitted\r\n```\r\n\r\n\r\nError in the line println(mySuperTelegramBot.webhookInfo)\r\n\r\n```\r\nmySuperTelegramBot.setBotUserName(conf.botUserName)\r\nmySuperTelegramBot.botToken = conf.botToken\r\nprintln(mySuperTelegramBot.setWebHookPath(conf.webHookPath))\r\nmySuperTelegramBot.baseUrl = conf.baseUrl\r\nval web = SetWebhook()\r\nweb.url = conf.webHookPath\r\nprintln(mySuperTelegramBot.webhookInfo)\r\nmySuperTelegramBot.setWebhook(web)\r\nprintln(conf.botUserName)\r\nprintln(conf.botToken)\r\nprintln(conf.webHookPath)\r\nreturn mySuperTelegramBot\r\n```\r\n\r\n\r\nI can&#39;t fully understand what settings I need to change in order for everything to work on the local telegram server.\r\n\r\nI had an idea that I didn&#39;t need a webhook, since everything runs locally, but if I remove it, the jar file runs without errors, but the bot still doesn&#39;t work (if you write to it in a telegram, there is no response, and updates don&#39;t appear in the console)Kotlin HttpHostConnectException\r\n","title":"Telegram bot GetWebhookInfo query: [404] Not Found","body":"<p>I write a telegram bot on Kotlin and run it on my own server. I used to run bots on a Windows laptop, used nginx and a static ip address, everything worked, now I'm moving the server to ubuntu.\nI configured nginx and everything else as before, but when I run the jar file, an exception appears</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webHookController' defined in URL [jar:file:/home/kartohhka/bots/portfolio-bot.jar!/BOOT-INF/classes!/kartohhka/bot/WebHookController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'telegramBot' defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar!/:5.3.16]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar!/:5.3.16]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at kartohhka.bot.PortfolioBotApplicationKt.main(PortfolioBotApplication.kt:21) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[portfolio-bot.jar:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'telegramBot' defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 27 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 41 common frames omitted\nCaused by: org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponseInternal(PartialBotApiMethod.java:53) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponse(PartialBotApiMethod.java:33) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:38) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:21) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1045) ~[telegrambots-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.bots.AbsSender.getWebhookInfo(AbsSender.java:75) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at kartohhka.bot.appconfig.BotConfig.telegramBot(BotConfig.kt:55) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 42 common frames omitted\n</code></pre>\n<p>Error in the line println(mySuperTelegramBot.webhookInfo)</p>\n<pre><code>mySuperTelegramBot.setBotUserName(conf.botUserName)\nmySuperTelegramBot.botToken = conf.botToken\nprintln(mySuperTelegramBot.setWebHookPath(conf.webHookPath))\nmySuperTelegramBot.baseUrl = conf.baseUrl\nval web = SetWebhook()\nweb.url = conf.webHookPath\nprintln(mySuperTelegramBot.webhookInfo)\nmySuperTelegramBot.setWebhook(web)\nprintln(conf.botUserName)\nprintln(conf.botToken)\nprintln(conf.webHookPath)\nreturn mySuperTelegramBot\n</code></pre>\n<p>I can't fully understand what settings I need to change in order for everything to work on the local telegram server.</p>\n<p>I had an idea that I didn't need a webhook, since everything runs locally, but if I remove it, the jar file runs without errors, but the bot still doesn't work (if you write to it in a telegram, there is no response, and updates don't appear in the console)Kotlin HttpHostConnectException</p>\n"},{"tags":["java","awt","bufferedimage","javax.imageio"],"owner":{"account_id":17706674,"reputation":68,"user_id":12855081,"display_name":"ChrisHilborne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671199135,"creation_date":1671198110,"question_id":74825264,"body_markdown":"I&#39;m trying to write a String to a BufferedImage but it is either horribly pixelated (without antialiasing) or blurry (with antialiasing).\r\n\r\nI&#39;ve tried increasing the DPI when I write the image to an OutputStream and whilst there is some improvement - it&#39;s still not great.\r\n\r\n[![blurry text][1]][1]\r\n\r\nHere is the code to generate the image: \r\n```\r\n    BufferedImage generateImage(String text) throws IOException {\r\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 10);\r\n        int height;\r\n        int width;\r\n        BufferedImage temp = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D tempGraphics = temp.createGraphics();\r\n        tempGraphics.setFont(font);\r\n        FontMetrics metrics = tempGraphics.getFontMetrics();\r\n        height= metrics.getHeight();\r\n        width = metrics.stringWidth(text);\r\n\r\n        final BufferedImage image = new BufferedImage(height + 1, width + 1, BufferedImage.TYPE_INT_RGB);\r\n        final Graphics2D graphics = image.createGraphics();\r\n\r\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\n        graphics.setFont(FONT);\r\n        graphics.setColor(Color.WHITE);\r\n        graphics.fillRect(0, 0, width + 1, heigth + 1);\r\n        graphics.setColor(Color.BLACK);\r\n        graphics.drawString(text, 1, metrics.getAscent() + 1.5f);\r\n        graphics.dispose();\r\n\r\n        return image;\r\n    }\r\n```\r\n\r\nAnd here is the code to write the image to a byte array:\r\n```\r\n    byte[] imageToOutputStream(BufferedImage image) throws IOException {\r\n        ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;).next();\r\n        ImageWriteParam writeParam = writer.getDefaultWriteParam();\r\n        ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\r\n        IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\r\n\r\n        setDpi(metadata);\r\n\r\n        writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        writeParam.setCompressionQuality(1f);\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\r\n\r\n        writer.setOutput(ios);\r\n        writer.write(metadata, new IIOImage(image, null, metadata), writeParam);\r\n\r\n\r\n        baos.toByteArray();\r\n    }\r\n```\r\n\r\nAnd finally the code to set the DPI of the metadata used to write the image:\r\n```\r\n    void setDpiJpg(IIOMetadata metadata) throws IIOInvalidTreeException {\r\n        String metadataFormat = &quot;javax_imageio_jpeg_image_1.0&quot;;\r\n        IIOMetadataNode root = new IIOMetadataNode(metadataFormat);\r\n        IIOMetadataNode jpegVariety = new IIOMetadataNode(&quot;JPEGvariety&quot;);\r\n        IIOMetadataNode markerSequence = new IIOMetadataNode(&quot;markerSequence&quot;);\r\n\r\n        IIOMetadataNode app0JFIF = new IIOMetadataNode(&quot;app0JFIF&quot;);\r\n        app0JFIF.setAttribute(&quot;majorVersion&quot;, &quot;1&quot;);\r\n        app0JFIF.setAttribute(&quot;minorVersion&quot;, &quot;2&quot;);\r\n        app0JFIF.setAttribute(&quot;thumbWidth&quot;, &quot;0&quot;);\r\n        app0JFIF.setAttribute(&quot;thumbHeight&quot;, &quot;0&quot;);\r\n        app0JFIF.setAttribute(&quot;resUnits&quot;, &quot;01&quot;);\r\n        app0JFIF.setAttribute(&quot;Xdensity&quot;, String.valueOf(300));\r\n        app0JFIF.setAttribute(&quot;Ydensity&quot;, String.valueOf(300));\r\n\r\n        root.appendChild(jpegVariety);\r\n        root.appendChild(markerSequence);\r\n        jpegVariety.appendChild(app0JFIF);\r\n\r\n        metadata.mergeTree(metadataFormat, root);\r\n    }\r\n```\r\n\r\nI&#39;ve read [here][2] that it has something to do with the scale of the image but I must admit I&#39;m lost.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4TEIv.png\r\n  [2]: https://stackoverflow.com/questions/37238176/how-to-render-small-utf-fonts-in-a-high-quality-bufferedimage","title":"BufferedImage text poor quality with antialiasing and high DPI","body":"<p>I'm trying to write a String to a BufferedImage but it is either horribly pixelated (without antialiasing) or blurry (with antialiasing).</p>\n<p>I've tried increasing the DPI when I write the image to an OutputStream and whilst there is some improvement - it's still not great.</p>\n<p><a href=\"https://i.stack.imgur.com/4TEIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TEIv.png\" alt=\"blurry text\" /></a></p>\n<p>Here is the code to generate the image:</p>\n<pre><code>    BufferedImage generateImage(String text) throws IOException {\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 10);\n        int height;\n        int width;\n        BufferedImage temp = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n        Graphics2D tempGraphics = temp.createGraphics();\n        tempGraphics.setFont(font);\n        FontMetrics metrics = tempGraphics.getFontMetrics();\n        height= metrics.getHeight();\n        width = metrics.stringWidth(text);\n\n        final BufferedImage image = new BufferedImage(height + 1, width + 1, BufferedImage.TYPE_INT_RGB);\n        final Graphics2D graphics = image.createGraphics();\n\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n        graphics.setFont(FONT);\n        graphics.setColor(Color.WHITE);\n        graphics.fillRect(0, 0, width + 1, heigth + 1);\n        graphics.setColor(Color.BLACK);\n        graphics.drawString(text, 1, metrics.getAscent() + 1.5f);\n        graphics.dispose();\n\n        return image;\n    }\n</code></pre>\n<p>And here is the code to write the image to a byte array:</p>\n<pre><code>    byte[] imageToOutputStream(BufferedImage image) throws IOException {\n        ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;).next();\n        ImageWriteParam writeParam = writer.getDefaultWriteParam();\n        ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\n        IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\n\n        setDpi(metadata);\n\n        writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n        writeParam.setCompressionQuality(1f);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\n\n        writer.setOutput(ios);\n        writer.write(metadata, new IIOImage(image, null, metadata), writeParam);\n\n\n        baos.toByteArray();\n    }\n</code></pre>\n<p>And finally the code to set the DPI of the metadata used to write the image:</p>\n<pre><code>    void setDpiJpg(IIOMetadata metadata) throws IIOInvalidTreeException {\n        String metadataFormat = &quot;javax_imageio_jpeg_image_1.0&quot;;\n        IIOMetadataNode root = new IIOMetadataNode(metadataFormat);\n        IIOMetadataNode jpegVariety = new IIOMetadataNode(&quot;JPEGvariety&quot;);\n        IIOMetadataNode markerSequence = new IIOMetadataNode(&quot;markerSequence&quot;);\n\n        IIOMetadataNode app0JFIF = new IIOMetadataNode(&quot;app0JFIF&quot;);\n        app0JFIF.setAttribute(&quot;majorVersion&quot;, &quot;1&quot;);\n        app0JFIF.setAttribute(&quot;minorVersion&quot;, &quot;2&quot;);\n        app0JFIF.setAttribute(&quot;thumbWidth&quot;, &quot;0&quot;);\n        app0JFIF.setAttribute(&quot;thumbHeight&quot;, &quot;0&quot;);\n        app0JFIF.setAttribute(&quot;resUnits&quot;, &quot;01&quot;);\n        app0JFIF.setAttribute(&quot;Xdensity&quot;, String.valueOf(300));\n        app0JFIF.setAttribute(&quot;Ydensity&quot;, String.valueOf(300));\n\n        root.appendChild(jpegVariety);\n        root.appendChild(markerSequence);\n        jpegVariety.appendChild(app0JFIF);\n\n        metadata.mergeTree(metadataFormat, root);\n    }\n</code></pre>\n<p>I've read <a href=\"https://stackoverflow.com/questions/37238176/how-to-render-small-utf-fonts-in-a-high-quality-bufferedimage\">here</a> that it has something to do with the scale of the image but I must admit I'm lost.</p>\n"},{"tags":["java","android","locale","arabic","multilingual"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1429106850,"creation_date":1429031470,"answer_id":29633451,"question_id":29624376,"body_markdown":"Try to specify the numbering system (nu) in the default locale. For example, the following locale would make the system displaying Indian numbers ()\r\n\r\n    Locale AR_LOCALE_EAST_NUMBERS = new Locale.Builder().setLanguageTag(&quot;ar-u-nu-arab&quot;).build();\r\n    Locale.setDefault(AR_LOCALE_EAST_NUMBERS);\r\n\r\n---\r\n\r\n- See [Setting Arabic numbering system locale doesn&#39;t show Arabic numbers][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29155743/597657","title":"Use arabic letters with arabic numbers","body":"<p>Try to specify the numbering system (nu) in the default locale. For example, the following locale would make the system displaying Indian numbers ()</p>\n\n<pre><code>Locale AR_LOCALE_EAST_NUMBERS = new Locale.Builder().setLanguageTag(\"ar-u-nu-arab\").build();\nLocale.setDefault(AR_LOCALE_EAST_NUMBERS);\n</code></pre>\n\n<hr>\n\n<ul>\n<li>See <a href=\"https://stackoverflow.com/a/29155743/597657\">Setting Arabic numbering system locale doesn't show Arabic numbers</a>.</li>\n</ul>\n"}],"owner":{"account_id":5947610,"reputation":862,"user_id":4676674,"accept_rate":100,"display_name":"Souhaib Guitouni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":29633451,"answer_count":1,"score":5,"last_activity_date":1671199051,"creation_date":1429005448,"question_id":29624376,"body_markdown":"It might sounds weird, but the fact is that Android handles languages really bad. Take Arabic for example :\r\n\r\nArabs in the east-part use arabic letters () and persian numbers ().\r\n\r\nArabs in west-part use arabic letters () and arabic numbers (0123456789).\r\n\r\nAndroid only have one kind of Arabic which is the first.\r\n\r\nI&#39;m looking for a way to apply the second kind in my application (use arabic letters but also arabic numbers)\r\n\r\nIs there any way to do so?\r\n","title":"Use arabic letters with arabic numbers","body":"<p>It might sounds weird, but the fact is that Android handles languages really bad. Take Arabic for example :</p>\n\n<p>Arabs in the east-part use arabic letters () and persian numbers ().</p>\n\n<p>Arabs in west-part use arabic letters () and arabic numbers (0123456789).</p>\n\n<p>Android only have one kind of Arabic which is the first.</p>\n\n<p>I'm looking for a way to apply the second kind in my application (use arabic letters but also arabic numbers)</p>\n\n<p>Is there any way to do so?</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":1,"creation_date":1671198240,"post_id":74825226,"comment_id":132053253,"body_markdown":"Accessing a directory on Linux requires the permission X/Execute to be set.","body":"Accessing a directory on Linux requires the permission X/Execute to be set."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671198336,"post_id":74825226,"comment_id":132053291,"body_markdown":"I did a search for &quot;unix directory permissions&quot; and was about to post the same information (first link): https://arc.ucar.edu/knowledge_base/68878469 *&quot;flags to indicate who can list files in a directory (r), create and remove files in the directory (w), or cd into or traverse (x) the directory&quot;*","body":"I did a search for &quot;unix directory permissions&quot; and was about to post the same information (first link): <a href=\"https://arc.ucar.edu/knowledge_base/68878469\" rel=\"nofollow noreferrer\">arc.ucar.edu/knowledge_base/68878469</a> <i>&quot;flags to indicate who can list files in a directory (r), create and remove files in the directory (w), or cd into or traverse (x) the directory&quot;</i>"},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":1,"creation_date":1671198393,"post_id":74825226,"comment_id":132053310,"body_markdown":"And the two paths are not equal","body":"And the two paths are not equal"},{"owner":{"account_id":25100792,"reputation":23,"user_id":18951538,"display_name":"vladimir vyatkin"},"score":1,"creation_date":1671198433,"post_id":74825226,"comment_id":132053325,"body_markdown":"Thank you! chmod +x solved problem","body":"Thank you! chmod +x solved problem"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671198483,"post_id":74825226,"comment_id":132053341,"body_markdown":"*AND* the poster seems to have omitted the directory `certs` from the code snippet, well spotted.  That might be a typo in the question though.","body":"<i>AND</i> the poster seems to have omitted the directory <code>certs</code> from the code snippet, well spotted.  That might be a typo in the question though."}],"answers":[{"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671198769,"creation_date":1671198769,"answer_id":74825390,"question_id":74825226,"body_markdown":"In order to access a directory, you need to have the X/Execute/Traverse permission.","title":"AccessDeniedException when directory rights is not 777","body":"<p>In order to access a directory, you need to have the X/Execute/Traverse permission.</p>\n"}],"owner":{"account_id":25100792,"reputation":23,"user_id":18951538,"display_name":"vladimir vyatkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74825390,"answer_count":1,"score":0,"last_activity_date":1671198769,"creation_date":1671197906,"question_id":74825226,"body_markdown":"I run java application as user, who is the owner of the directory and the file\r\n\r\n    System.getProperty(&quot;user.name&quot;) == &quot;wfadmin&quot;\r\n\r\n    # ls -la /usr/WF/WF_PPRB/SSL/certs/ignite/\r\n    -rw-r----- 1 wfadmin   wfgroup     34 Dec 16 15:31 token.txt\r\n    -rw-r----- 1 wfadmin   wfgroup   2058 Oct  9 17:50 truststore.jks\r\n    # ls -la /usr/WF/WF_PPRB/SSL/certs/\r\n    drw-r----- 2 wfadmin   wfgroup   4096 Dec 16 15:31 ignite\r\n\r\n\r\n\r\n\r\n\r\nBut when i try to read file in java:\r\n\r\n\r\n    Files.readAllBytes(Paths.get(&quot;/usr/WF/WF_PPRB/SSL/certs/ignite/truststore.jks&quot;))\r\n\r\nI got AccessDeniedException\r\n\r\nIf i give rights 777 to directory /usr/WF/WF_PPRB/SSL/certs/ignite/, but truststore.jks still 640 - its work correctly\r\n\r\n\r\n\r\n\r\n\r\n","title":"AccessDeniedException when directory rights is not 777","body":"<p>I run java application as user, who is the owner of the directory and the file</p>\n<pre><code>System.getProperty(&quot;user.name&quot;) == &quot;wfadmin&quot;\n\n# ls -la /usr/WF/WF_PPRB/SSL/certs/ignite/\n-rw-r----- 1 wfadmin   wfgroup     34 Dec 16 15:31 token.txt\n-rw-r----- 1 wfadmin   wfgroup   2058 Oct  9 17:50 truststore.jks\n# ls -la /usr/WF/WF_PPRB/SSL/certs/\ndrw-r----- 2 wfadmin   wfgroup   4096 Dec 16 15:31 ignite\n</code></pre>\n<p>But when i try to read file in java:</p>\n<pre><code>Files.readAllBytes(Paths.get(&quot;/usr/WF/WF_PPRB/SSL/certs/ignite/truststore.jks&quot;))\n</code></pre>\n<p>I got AccessDeniedException</p>\n<p>If i give rights 777 to directory /usr/WF/WF_PPRB/SSL/certs/ignite/, but truststore.jks still 640 - its work correctly</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1571430062,"post_id":58457643,"comment_id":103252378,"body_markdown":"You have `Runnable` and `String` and only one of that is a suitable functional interface, so the it is quite easy to choose the correct constructor. This will help you, might even be a dupe: [What is use of Functional Interface in Java 8?](//stackoverflow.com/q/36881826). Also helpful: [Functional interfaces in Java 8](//stackoverflow.com/q/22794665)","body":"You have <code>Runnable</code> and <code>String</code> and only one of that is a suitable functional interface, so the it is quite easy to choose the correct constructor. This will help you, might even be a dupe: <a href=\"//stackoverflow.com/q/36881826\">What is use of Functional Interface in Java 8?</a>. Also helpful: <a href=\"//stackoverflow.com/q/22794665\">Functional interfaces in Java 8</a>"}],"answers":[{"tags":[],"owner":{"account_id":327698,"reputation":5680,"user_id":650228,"accept_rate":78,"display_name":"kittylyst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571430367,"creation_date":1571430367,"answer_id":58457729,"question_id":58457643,"body_markdown":"Lambda expressions are converted to an instance of a class implementing a functional interface. A &quot;functional interface&quot; means an interface with only 1 (non-default) method in it.\r\n\r\nString isn&#39;t an interface - it&#39;s a class. So the compiler looks at the lambda expression and knows that if the code is to make sense then it should convert the lambda to instance of an implementation of Runnable, as it&#39;s the only possible thing that could work!","title":"How does the compiler know which class the lambda is implementing?","body":"<p>Lambda expressions are converted to an instance of a class implementing a functional interface. A \"functional interface\" means an interface with only 1 (non-default) method in it.</p>\n\n<p>String isn't an interface - it's a class. So the compiler looks at the lambda expression and knows that if the code is to make sense then it should convert the lambda to instance of an implementation of Runnable, as it's the only possible thing that could work!</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571430650,"creation_date":1571430650,"answer_id":58457792,"question_id":58457643,"body_markdown":"The Java compiler must choose a functional interface type for the type of a lambda expression.  This is governed by the [JLS, Section 15.27.3][1], which states:\r\n\r\n&gt; A lambda expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (&#167;9.8) and the expression is _congruent_ with the function type of the _ground target type_ derived from T.\r\n\r\nThe type `String` is not a functional interface type, but `Runnable` is.  The lambda takes no arguments and returns no data, so it is _congruent_ with `Runnable`.\r\n\r\nMore generally, the types of parameters in a lambda expression must match the types of parameters of the single abstract method of a functional interface type, and the return types must match also.\r\n\r\nIn your example, each of the 3 functional interface types is distinct, so at most one will match.  If there are multiple functional interface types that could possible match, that would be ambiguous, only resolvable by casting the lambda expression to the intended functional interface type.\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.3","title":"How does the compiler know which class the lambda is implementing?","body":"<p>The Java compiler must choose a functional interface type for the type of a lambda expression.  This is governed by the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.3\" rel=\"nofollow noreferrer\">JLS, Section 15.27.3</a>, which states:</p>\n\n<blockquote>\n  <p>A lambda expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (9.8) and the expression is <em>congruent</em> with the function type of the <em>ground target type</em> derived from T.</p>\n</blockquote>\n\n<p>The type <code>String</code> is not a functional interface type, but <code>Runnable</code> is.  The lambda takes no arguments and returns no data, so it is <em>congruent</em> with <code>Runnable</code>.</p>\n\n<p>More generally, the types of parameters in a lambda expression must match the types of parameters of the single abstract method of a functional interface type, and the return types must match also.</p>\n\n<p>In your example, each of the 3 functional interface types is distinct, so at most one will match.  If there are multiple functional interface types that could possible match, that would be ambiguous, only resolvable by casting the lambda expression to the intended functional interface type.</p>\n"}],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58457792,"answer_count":2,"score":1,"last_activity_date":1671198635,"creation_date":1571429899,"question_id":58457643,"body_markdown":"I see [`Thread()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#constructor.summary) takes both `Runnable` and `String` for single argument constructors. How does the compiler know that a `lambda` is implementing a `Runnable` class and not a `String` class?\r\n\r\n\r\n\t\t(new Thread( () -&gt; {\r\n\t\t    System.out.println(&quot;Deleting stats...&quot;);\r\n\t\t})).start();\r\n\r\nMaybe it goes by the number of methods in the class/interface? But what if a class had multiple constructors that took single argument class that only had one method, for example:\r\n\r\n    Thread( Runnable r );\r\n    Thread( Comparable c );\r\n    Thread( ActionListener al );\r\n\r\nWhat happens then when you try to implement a `lambda` then? How would the compiler know which class the `lambda` is implementing?\r\n","title":"How does the compiler know which class the lambda is implementing?","body":"<p>I see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#constructor.summary\" rel=\"nofollow noreferrer\"><code>Thread()</code></a> takes both <code>Runnable</code> and <code>String</code> for single argument constructors. How does the compiler know that a <code>lambda</code> is implementing a <code>Runnable</code> class and not a <code>String</code> class?</p>\n<pre><code>    (new Thread( () -&gt; {\n        System.out.println(&quot;Deleting stats...&quot;);\n    })).start();\n</code></pre>\n<p>Maybe it goes by the number of methods in the class/interface? But what if a class had multiple constructors that took single argument class that only had one method, for example:</p>\n<pre><code>Thread( Runnable r );\nThread( Comparable c );\nThread( ActionListener al );\n</code></pre>\n<p>What happens then when you try to implement a <code>lambda</code> then? How would the compiler know which class the <code>lambda</code> is implementing?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4062630,"reputation":1826,"user_id":3424746,"display_name":"PiRocks"},"score":4,"creation_date":1611675990,"post_id":65904377,"comment_id":116524349,"body_markdown":"&quot;Java applets were deprecated since Java 9 in 2017 and removed from Java SE 11&quot;  source: https://en.wikipedia.org/wiki/Java_applet","body":"&quot;Java applets were deprecated since Java 9 in 2017 and removed from Java SE 11&quot;  source: <a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_applet</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1611676142,"post_id":65904377,"comment_id":116524434,"body_markdown":"&quot;Can someone help?&quot; - The best help we can offer you is to not bother learning how to use applets.  They are a dead-end technology.  The &quot;Could not find or load main class sun.applet.AppletViewer&quot; - is because that class has been removed.","body":"&quot;Can someone help?&quot; - The best help we can offer you is to not bother learning how to use applets.  They are a dead-end technology.  The &quot;Could not find or load main class sun.applet.AppletViewer&quot; - is because that class has been removed."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1611684331,"post_id":65904377,"comment_id":116528570,"body_markdown":"_I&#39;m using IntelliJ as IDE and use jdk14_ Is that fourteen (14) or 1.4 (one point four) ?","body":"<i>I&#39;m using IntelliJ as IDE and use jdk14</i> Is that fourteen (14) or 1.4 (one point four) ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671198915,"post_id":65904377,"comment_id":132053494,"body_markdown":"Why do you want to learn applets? I suspect you&#39;ve stumbled across applets, but something else would be more appropriate. You could replace the code you have with a JFrame, and a JPanel pretty easily.","body":"Why do you want to learn applets? I suspect you&#39;ve stumbled across applets, but something else would be more appropriate. You could replace the code you have with a JFrame, and a JPanel pretty easily."}],"answers":[{"tags":[],"owner":{"account_id":18491426,"reputation":586,"user_id":13470912,"display_name":"nicolass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671198189,"creation_date":1671198189,"answer_id":74825277,"question_id":65904377,"body_markdown":"Applets are deprecated since java 9. You should be using java 8 (jdk 14 does not work)","title":"How to use applets in intelliJ?","body":"<p>Applets are deprecated since java 9. You should be using java 8 (jdk 14 does not work)</p>\n"}],"owner":{"account_id":20164698,"reputation":147,"user_id":14788941,"display_name":"JasperDG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671198189,"creation_date":1611675521,"question_id":65904377,"body_markdown":"I&#39;m a java beginner and I wanna know how to use applets. I&#39;ve got this little test-program for the paint-applet :\r\n```java\r\nimport java.awt.*;\r\nimport java.applet.*;\r\npublic class Main extends Applet {\r\n    public void init() {\r\n    }\r\n    public void paint(Graphics g) {\r\n        setBackground(Color.blue);\r\n        g.setColor(Color.yellow);\r\n        g.drawRect(20, 20, 100, 50);\r\n        g.fillRect(20, 80, 100, 50);\r\n    }\r\n}\r\n```\r\nBut in the IDE, &quot;Applet&quot; in the 3rd line has a stripe through it.\r\nAnd if I try to run the code, I get this error:\r\n```\r\nError: Could not find or load main class sun.applet.AppletViewer\r\nCaused by: java.lang.ClassNotFoundException: sun.applet.AppletViewer\r\n```\r\nI&#39;m using IntelliJ as IDE and use jdk14\r\n\r\nCan someone help?","title":"How to use applets in intelliJ?","body":"<p>I'm a java beginner and I wanna know how to use applets. I've got this little test-program for the paint-applet :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.applet.*;\npublic class Main extends Applet {\n    public void init() {\n    }\n    public void paint(Graphics g) {\n        setBackground(Color.blue);\n        g.setColor(Color.yellow);\n        g.drawRect(20, 20, 100, 50);\n        g.fillRect(20, 80, 100, 50);\n    }\n}\n</code></pre>\n<p>But in the IDE, &quot;Applet&quot; in the 3rd line has a stripe through it.\nAnd if I try to run the code, I get this error:</p>\n<pre><code>Error: Could not find or load main class sun.applet.AppletViewer\nCaused by: java.lang.ClassNotFoundException: sun.applet.AppletViewer\n</code></pre>\n<p>I'm using IntelliJ as IDE and use jdk14</p>\n<p>Can someone help?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1671198504,"post_id":74825177,"comment_id":132053347,"body_markdown":"@jhamon that pattern is not used to parse the input but rather to format it as date only.","body":"@jhamon that pattern is not used to parse the input but rather to format it as date only."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671198187,"creation_date":1671198187,"answer_id":74825276,"question_id":74825177,"body_markdown":"```\r\n2022-12-16T00:00:00+03:00\r\n```\r\n\r\nThat is [a combined date-time with a time zone in ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).\r\n\r\n```\r\nLocalDateTime.parse(dateOfReview)\r\n```\r\n\r\n`LocalDateTime` [is &quot;A date-time **without a time-zone** in the ISO-8601 calendar system&quot;](https://developer.android.com/reference/java/time/LocalDateTime) (emphasis added).\r\n\r\nPlease [use `OffsetDateTime`](https://developer.android.com/reference/java/time/OffsetDateTime) instead.\r\n\r\n","title":"DateTime parsing exception in java","body":"<pre><code>2022-12-16T00:00:00+03:00\n</code></pre>\n<p>That is <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations\" rel=\"nofollow noreferrer\">a combined date-time with a time zone in ISO 8601 format</a>.</p>\n<pre><code>LocalDateTime.parse(dateOfReview)\n</code></pre>\n<p><code>LocalDateTime</code> <a href=\"https://developer.android.com/reference/java/time/LocalDateTime\" rel=\"nofollow noreferrer\">is &quot;A date-time <strong>without a time-zone</strong> in the ISO-8601 calendar system&quot;</a> (emphasis added).</p>\n<p>Please <a href=\"https://developer.android.com/reference/java/time/OffsetDateTime\" rel=\"nofollow noreferrer\">use <code>OffsetDateTime</code></a> instead.</p>\n"}],"owner":{"account_id":25563280,"reputation":25,"user_id":19345558,"display_name":"Artem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74825276,"answer_count":1,"score":0,"last_activity_date":1671198187,"creation_date":1671197698,"question_id":74825177,"body_markdown":"I&#39;m developing my mobile app with API. Binding datetime gives me error\r\njava.time.format.DateTimeParseException: Text &#39;2022-12-16T00:00:00+03:00&#39; could not be parsed, unparsed text found at index 19. Please help me format this weird date\r\n\r\n``` this is my date-parsing method\r\nfun formatDateOfReview(dateOfReview: String?): String? {\r\n    val localDate = LocalDateTime.parse(dateOfReview)\r\n    return localDate.format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;))\r\n}\r\n```\r\n","title":"DateTime parsing exception in java","body":"<p>I'm developing my mobile app with API. Binding datetime gives me error\njava.time.format.DateTimeParseException: Text '2022-12-16T00:00:00+03:00' could not be parsed, unparsed text found at index 19. Please help me format this weird date</p>\n<pre><code>fun formatDateOfReview(dateOfReview: String?): String? {\n    val localDate = LocalDateTime.parse(dateOfReview)\n    return localDate.format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;))\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream","option-type"],"comments":[{"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"score":4,"creation_date":1441744639,"post_id":32466799,"comment_id":52795593,"body_markdown":"null isn&#39;t perfectly acceptable value... use &quot;&quot; instead","body":"null isn&#39;t perfectly acceptable value... use &quot;&quot; instead"},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":1,"creation_date":1441744764,"post_id":32466799,"comment_id":52795654,"body_markdown":"@MicheleLacorte although I&#39;m using `String` here, what if it&#39;s a list that represents a column in the DB? The value of the first row for that column can be `null`.","body":"@MicheleLacorte although I&#39;m using <code>String</code> here, what if it&#39;s a list that represents a column in the DB? The value of the first row for that column can be <code>null</code>."},{"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"score":0,"creation_date":1441744839,"post_id":32466799,"comment_id":52795691,"body_markdown":"Yes but in java null isn&#39;t acceptable..use query to set null into db","body":"Yes but in java null isn&#39;t acceptable..use query to set null into db"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":19,"creation_date":1441745261,"post_id":32466799,"comment_id":52795910,"body_markdown":"@MicheleLacorte, `null` is a perfectly acceptable value in Java, generally speaking.  In particular, it is a valid element for an `ArrayList&lt;String&gt;`.  Like any other value, however, there are limitations on what can be done with it.  &quot;Don&#39;t ever use `null`&quot; is not useful advice, as you cannot avoid it.","body":"@MicheleLacorte, <code>null</code> is a perfectly acceptable value in Java, generally speaking.  In particular, it is a valid element for an <code>ArrayList&lt;String&gt;</code>.  Like any other value, however, there are limitations on what can be done with it.  &quot;Don&#39;t ever use <code>null</code>&quot; is not useful advice, as you cannot avoid it."},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":0,"creation_date":1441746349,"post_id":32466799,"comment_id":52796472,"body_markdown":"@NathanHughes - I suspect that by the time you call `findFirst()`, there&#39;s nothing else you want to do.","body":"@NathanHughes - I suspect that by the time you call <code>findFirst()</code>, there&#39;s nothing else you want to do."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1441744833,"creation_date":1441744833,"answer_id":32466863,"question_id":32466799,"body_markdown":"The reason for this is the use of `Optional&lt;T&gt;` in the return. Optional is not allowed to contain `null`. Essentially, it offers no way of distinguishing situations &quot;it&#39;s not there&quot; and &quot;it&#39;s there, but it is set to `null`&quot;.\n\nThat&#39;s why [the documentation][1] explicitly prohibits the situation when `null` is selected in `findFirst()`:\n\n&gt; **Throws:**\n&gt;\n&gt; `NullPointerException` - if the element selected is `null`\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>The reason for this is the use of <code>Optional&lt;T&gt;</code> in the return. Optional is not allowed to contain <code>null</code>. Essentially, it offers no way of distinguishing situations &quot;it's not there&quot; and &quot;it's there, but it is set to <code>null</code>&quot;.</p>\n<p>That's why <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">the documentation</a> explicitly prohibits the situation when <code>null</code> is selected in <code>findFirst()</code>:</p>\n<blockquote>\n<p><strong>Throws:</strong></p>\n<p><code>NullPointerException</code> - if the element selected is <code>null</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441751288,"creation_date":1441750873,"answer_id":32468187,"question_id":32466799,"body_markdown":" Optional is supposed to be a &quot;value&quot; type. (read the fine print in [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html):) JVM could even replace all `Optional&lt;Foo&gt;` with just `Foo`, removing all boxing and unboxing costs. A `null` Foo means an empty `Optional&lt;Foo&gt;`.\r\n\r\nIt is a possible design to allow Optional with null value, without adding a boolean flag - just add a sentinel object. (could even use `this` as sentinel; see Throwable.cause)\r\n\r\n\r\nThe decision that Optional cannot wrap null is not based on runtime cost. This was a hugely contended issue and you need to dig the mailing lists. The decision is not convincing to everybody.\r\n\r\nIn any case, since Optional cannot wrap null value, it pushes us in a corner in cases like `findFirst`. They must have reasoned that null values are very rare (it was even considered that Stream should bar null values), therefore it is more convenient to throw exception on null values instead of on empty streams.\r\n\r\nA workaround is to box `null`, e.g. \r\n\r\n    class Box&lt;T&gt;\r\n        static Box&lt;T&gt; of(T value){ .. }\r\n\r\n    Optional&lt;Box&lt;String&gt;&gt; first = stream.map(Box::of).findFirst();\r\n\r\n(They say the solution to every OOP problem is to introduce another type :)","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>Optional is supposed to be a \"value\" type. (read the fine print in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\">javadoc</a>:) JVM could even replace all <code>Optional&lt;Foo&gt;</code> with just <code>Foo</code>, removing all boxing and unboxing costs. A <code>null</code> Foo means an empty <code>Optional&lt;Foo&gt;</code>.</p>\n\n<p>It is a possible design to allow Optional with null value, without adding a boolean flag - just add a sentinel object. (could even use <code>this</code> as sentinel; see Throwable.cause)</p>\n\n<p>The decision that Optional cannot wrap null is not based on runtime cost. This was a hugely contended issue and you need to dig the mailing lists. The decision is not convincing to everybody.</p>\n\n<p>In any case, since Optional cannot wrap null value, it pushes us in a corner in cases like <code>findFirst</code>. They must have reasoned that null values are very rare (it was even considered that Stream should bar null values), therefore it is more convenient to throw exception on null values instead of on empty streams.</p>\n\n<p>A workaround is to box <code>null</code>, e.g. </p>\n\n<pre><code>class Box&lt;T&gt;\n    static Box&lt;T&gt; of(T value){ .. }\n\nOptional&lt;Box&lt;String&gt;&gt; first = stream.map(Box::of).findFirst();\n</code></pre>\n\n<p>(They say the solution to every OOP problem is to introduce another type :)</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1671197937,"creation_date":1441793036,"answer_id":32476601,"question_id":32466799,"body_markdown":"As [already discussed](https://stackoverflow.com/a/32466863/2711488), the API designers do not assume that the developer wants to treat `null` values and absent values the same way.\r\n\r\nIf you still want to do that, you may do it explicitly by applying the sequence\r\n\r\n    .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\r\nto the stream. The result will be an empty optional in both cases, if there is no first element or if the first element is `null`. So in your case, you may use\r\n\r\n    String firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\r\n        .orElse(null);\r\nto get a `null` value if the first element is either absent or `null`.\r\n\r\nIf you want to distinguish between these cases, you may simply omit the `flatMap` step:\r\n\r\n    Optional&lt;String&gt; firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst().orElse(null);\r\n    System.out.println(firstString==null? &quot;no such element&quot;:\r\n                       firstString.orElse(&quot;first element is null&quot;));\r\nThis is not much different to your updated question. You just have to replace `&quot;no such element&quot;` with `&quot;StringWhenListIsEmpty&quot;` and `&quot;first element is null&quot;` with `null`. But if you dont like conditionals, you can achieve it also like:\r\n\r\n    String firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst()\r\n        .orElseGet(()-&gt;Optional.of(&quot;StringWhenListIsEmpty&quot;))\r\n        .orElse(null);\r\nNow, `firstString` will be `null` if an element exists but is `null` and it will be `&quot;StringWhenListIsEmpty&quot;` when no element exists.\r\n","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>As <a href=\"https://stackoverflow.com/a/32466863/2711488\">already discussed</a>, the API designers do not assume that the developer wants to treat <code>null</code> values and absent values the same way.</p>\n<p>If you still want to do that, you may do it explicitly by applying the sequence</p>\n<pre><code>.map(Optional::ofNullable).findFirst().flatMap(Function.identity())\n</code></pre>\n<p>to the stream. The result will be an empty optional in both cases, if there is no first element or if the first element is <code>null</code>. So in your case, you may use</p>\n<pre><code>String firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\n    .orElse(null);\n</code></pre>\n<p>to get a <code>null</code> value if the first element is either absent or <code>null</code>.</p>\n<p>If you want to distinguish between these cases, you may simply omit the <code>flatMap</code> step:</p>\n<pre><code>Optional&lt;String&gt; firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst().orElse(null);\nSystem.out.println(firstString==null? &quot;no such element&quot;:\n                   firstString.orElse(&quot;first element is null&quot;));\n</code></pre>\n<p>This is not much different to your updated question. You just have to replace <code>&quot;no such element&quot;</code> with <code>&quot;StringWhenListIsEmpty&quot;</code> and <code>&quot;first element is null&quot;</code> with <code>null</code>. But if you dont like conditionals, you can achieve it also like:</p>\n<pre><code>String firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst()\n    .orElseGet(()-&gt;Optional.of(&quot;StringWhenListIsEmpty&quot;))\n    .orElse(null);\n</code></pre>\n<p>Now, <code>firstString</code> will be <code>null</code> if an element exists but is <code>null</code> and it will be <code>&quot;StringWhenListIsEmpty&quot;</code> when no element exists.</p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1485188755,"creation_date":1485188755,"answer_id":41810993,"question_id":32466799,"body_markdown":"The following code replaces `findFirst()` with `limit(1)` and replaces `orElse()` with `reduce()`: \r\n    \r\n    String firstString = strings.\r\n       stream().\r\n       limit(1).\r\n       reduce(&quot;StringWhenListIsEmpty&quot;, (first, second) -&gt; second);\r\n\r\n`limit()` allows only 1 element to reach `reduce`.  The `BinaryOperator` passed to `reduce` returns that 1 element or else `&quot;StringWhenListIsEmpty&quot;` if no elements reach the `reduce`.\r\n\r\nThe beauty of this solution is that `Optional` isn&#39;t allocated and the `BinaryOperator` lambda isn&#39;t going to allocate anything.","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>The following code replaces <code>findFirst()</code> with <code>limit(1)</code> and replaces <code>orElse()</code> with <code>reduce()</code>: </p>\n\n<pre><code>String firstString = strings.\n   stream().\n   limit(1).\n   reduce(\"StringWhenListIsEmpty\", (first, second) -&gt; second);\n</code></pre>\n\n<p><code>limit()</code> allows only 1 element to reach <code>reduce</code>.  The <code>BinaryOperator</code> passed to <code>reduce</code> returns that 1 element or else <code>\"StringWhenListIsEmpty\"</code> if no elements reach the <code>reduce</code>.</p>\n\n<p>The beauty of this solution is that <code>Optional</code> isn't allocated and the <code>BinaryOperator</code> lambda isn't going to allocate anything.</p>\n"},{"tags":[],"owner":{"account_id":2750971,"reputation":799,"user_id":2370372,"accept_rate":57,"display_name":"Mattos"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1533132696,"creation_date":1508354506,"answer_id":46817699,"question_id":32466799,"body_markdown":"You can use `java.util.Objects.nonNull` to filter the list before find\r\n\r\nsomething like \r\n\r\n\r\n    list.stream().filter(Objects::nonNull).findFirst();\r\n","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>You can use <code>java.util.Objects.nonNull</code> to filter the list before find</p>\n\n<p>something like </p>\n\n<pre><code>list.stream().filter(Objects::nonNull).findFirst();\n</code></pre>\n"}],"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147314,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":32466863,"answer_count":5,"score":123,"last_activity_date":1671197937,"creation_date":1441744577,"question_id":32466799,"body_markdown":"Why does this throw a `java.lang.NullPointerException`?\r\n\r\n\tList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\tstrings.add(null);\r\n\tstrings.add(&quot;test&quot;);\r\n\r\n\tString firstString = strings.stream()\r\n\t\t\t.findFirst()      // Exception thrown here\r\n            .orElse(&quot;StringWhenListIsEmpty&quot;);\r\n\t\t\t//.orElse(null);  // Changing the `orElse()` to avoid ambiguity\r\n\r\nThe first item in `strings` is `null`, which is a perfectly acceptable value. Furthermore, `findFirst()` returns an [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html), which makes even more sense for `findFirst()` to be able to handle `null`s.\r\n\r\nEDIT: updated the `orElse()` to be less ambiguous.","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>Why does this throw a <code>java.lang.NullPointerException</code>?</p>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(null);\nstrings.add(&quot;test&quot;);\n\nString firstString = strings.stream()\n        .findFirst()      // Exception thrown here\n        .orElse(&quot;StringWhenListIsEmpty&quot;);\n        //.orElse(null);  // Changing the `orElse()` to avoid ambiguity\n</code></pre>\n<p>The first item in <code>strings</code> is <code>null</code>, which is a perfectly acceptable value. Furthermore, <code>findFirst()</code> returns an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a>, which makes even more sense for <code>findFirst()</code> to be able to handle <code>null</code>s.</p>\n<p>EDIT: updated the <code>orElse()</code> to be less ambiguous.</p>\n"},{"tags":["java","java-8","interface"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1420692797,"post_id":27833168,"comment_id":44071918,"body_markdown":"Did you try reading up on static methods in the Java tutorial?","body":"Did you try reading up on static methods in the Java tutorial?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1420693337,"post_id":27833168,"comment_id":44072054,"body_markdown":"So you missed the part about not ever being able to override a static method?","body":"So you missed the part about not ever being able to override a static method?"},{"owner":{"account_id":5592843,"reputation":2982,"user_id":4431422,"display_name":"Vipin Menon"},"score":1,"creation_date":1420693362,"post_id":27833168,"comment_id":44072066,"body_markdown":"didnt understand the same on interfaces","body":"didnt understand the same on interfaces"},{"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"score":16,"creation_date":1420693721,"post_id":27833168,"comment_id":44072185,"body_markdown":"static method is a static member to the Interface, cant be overridden (as with the class), default method is the `default implementation` of a method which might be overridden.","body":"static method is a static member to the Interface, cant be overridden (as with the class), default method is the <code>default implementation</code> of a method which might be overridden."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1479457711,"post_id":27833168,"comment_id":68574986,"body_markdown":"Just wondering: why did you never accept an answer here?","body":"Just wondering: why did you never accept an answer here?"}],"answers":[{"tags":[],"owner":{"account_id":462160,"reputation":3689,"user_id":864313,"accept_rate":75,"display_name":"EyasSH"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1420693570,"creation_date":1420693570,"answer_id":27833309,"question_id":27833168,"body_markdown":"A static method is a method that applies to the class &#39;namespace&#39;, so to speak. So a `static` method `foo` of interface `Interface` is accessed by `Interface.foo()`. Note that the function call does not apply to any particular *instance* of the interface.\r\n\r\nA default implementation `bar` on the other hand, is called by\r\n\r\n    Interface x = new ConcreteClass();\r\n    x.bar();\r\n\r\nA `static` interface method cannot know about the `this` variable, but a default implementation can.","title":"What is the difference between static and default methods in a Java interface?","body":"<p>A static method is a method that applies to the class 'namespace', so to speak. So a <code>static</code> method <code>foo</code> of interface <code>Interface</code> is accessed by <code>Interface.foo()</code>. Note that the function call does not apply to any particular <em>instance</em> of the interface.</p>\n\n<p>A default implementation <code>bar</code> on the other hand, is called by</p>\n\n<pre><code>Interface x = new ConcreteClass();\nx.bar();\n</code></pre>\n\n<p>A <code>static</code> interface method cannot know about the <code>this</code> variable, but a default implementation can.</p>\n"},{"tags":[],"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1420701476,"creation_date":1420695491,"answer_id":27833596,"question_id":27833168,"body_markdown":"&gt; **1. explain the difference of the two**\r\n\r\nStatic interface methods are like static class methods(here they belong to Interface only). Where as the default interface methods provide `default implementation` of interface methods (which implementing classes may `override`)&lt;br/&gt;\r\nBut remember in case a class is `implementing more than one interface with same default` method signature then the implementing class `needs to override the default method`\r\n\r\nYou can find a simple example below (can DIY for different cases)\r\n\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Accessing the static member\r\n    \t\tI1.hello();\r\n    \r\n    \t\t// Anonymous class Not overriding the default method\r\n    \t\tI1 t = new I1() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void test() {\r\n    \t\t\t\tSystem.out.println(&quot;Anonymous test&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tt.test();\r\n    \t\tt.hello(&quot;uvw&quot;);\r\n    \r\n    \t\t// Referring to class instance with overridden default method\r\n    \t\tI1 t1 = new Test2();\r\n    \t\tt1.test();\r\n    \t\tt1.hello(&quot;xyz&quot;);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    interface I1 {\r\n    \r\n    \tvoid test();\r\n        //static method\r\n    \tstatic void hello() {\r\n    \t\tSystem.out.println(&quot;hello from Interface I1&quot;);\r\n    \t}\r\n    \r\n    \t// default need not to be implemented by implementing class\r\n    \tdefault void hello(String name) {\r\n    \t\tSystem.out.println(&quot;Hello &quot; + name);\r\n    \t}\r\n    }\r\n    \r\n    class Test2 implements I1 {\r\n    \t@Override\r\n    \tpublic void test() {\r\n    \t\tSystem.out.println(&quot;testing 1234...&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void hello(String name) {\r\n    \t\tSystem.out.println(&quot;bonjour&quot; + name);\r\n    \t}\r\n    }\r\n\r\n\r\n&gt; **2. when we would use this would be nice.**\r\n\r\nThat depends on your problem statement. I would say Default methods are useful, if you need same implementation for a method in your specification in all the classes in that contract, Or it may be used like `Adapter` classes.\r\n\r\nhere is a good read: https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread\r\n\r\nalso below oracle doc explains default &amp; static methods for evolving existing interfaces:\r\n\r\n&gt; Users who have classes that implement interfaces enhanced with new\r\n&gt; default or static methods do not have to modify or recompile them to\r\n&gt; accommodate the additional methods.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html\r\n","title":"What is the difference between static and default methods in a Java interface?","body":"<blockquote>\n  <p><strong>1. explain the difference of the two</strong></p>\n</blockquote>\n\n<p>Static interface methods are like static class methods(here they belong to Interface only). Where as the default interface methods provide <code>default implementation</code> of interface methods (which implementing classes may <code>override</code>)<br/>\nBut remember in case a class is <code>implementing more than one interface with same default</code> method signature then the implementing class <code>needs to override the default method</code></p>\n\n<p>You can find a simple example below (can DIY for different cases)</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        // Accessing the static member\n        I1.hello();\n\n        // Anonymous class Not overriding the default method\n        I1 t = new I1() {\n            @Override\n            public void test() {\n                System.out.println(\"Anonymous test\");\n            }\n        };\n        t.test();\n        t.hello(\"uvw\");\n\n        // Referring to class instance with overridden default method\n        I1 t1 = new Test2();\n        t1.test();\n        t1.hello(\"xyz\");\n\n    }\n}\n\ninterface I1 {\n\n    void test();\n    //static method\n    static void hello() {\n        System.out.println(\"hello from Interface I1\");\n    }\n\n    // default need not to be implemented by implementing class\n    default void hello(String name) {\n        System.out.println(\"Hello \" + name);\n    }\n}\n\nclass Test2 implements I1 {\n    @Override\n    public void test() {\n        System.out.println(\"testing 1234...\");\n    }\n\n    @Override\n    public void hello(String name) {\n        System.out.println(\"bonjour\" + name);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>2. when we would use this would be nice.</strong></p>\n</blockquote>\n\n<p>That depends on your problem statement. I would say Default methods are useful, if you need same implementation for a method in your specification in all the classes in that contract, Or it may be used like <code>Adapter</code> classes.</p>\n\n<p>here is a good read: <a href=\"https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread\">https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread</a></p>\n\n<p>also below oracle doc explains default &amp; static methods for evolving existing interfaces:</p>\n\n<blockquote>\n  <p>Users who have classes that implement interfaces enhanced with new\n  default or static methods do not have to modify or recompile them to\n  accommodate the additional methods.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html</a></p>\n"},{"tags":[],"owner":{"account_id":2688695,"reputation":931,"user_id":2322474,"accept_rate":50,"display_name":"KennyC"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1421216804,"creation_date":1420695964,"answer_id":27833679,"question_id":27833168,"body_markdown":"According to Oracle&#39;s Javadocs: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n\r\n\r\n\r\n&gt; Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.\r\n&gt; \r\n&gt; A static method is a method that is associated with the class in which it is defined rather than with any object. Every instance of the class shares its static methods.\r\n\r\nNormally, static method in interface is used as Helper methods while default method are used as a default implementation for classes that implements that interface.\r\n\r\nExample:\r\n\r\n\r\n    interface IDemo {\r\n    \r\n        //this method can be called directly from anywhere this interface is visible\r\n        static int convertStrToInt(String numStr) {\r\n           return Integer.parseInt(numStr);\r\n        }\r\n    \r\n    \r\n        //getNum will be implemented in a class\r\n        int getNum();       \r\n\r\n        default String numAsStr() {\r\n           //this.getNum will call the class&#39;s implementation\r\n           return Integer.toString(this.getNum());\r\n        }   \r\n    \t\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>According to Oracle's Javadocs: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html</a></p>\n\n<blockquote>\n  <p>Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.</p>\n  \n  <p>A static method is a method that is associated with the class in which it is defined rather than with any object. Every instance of the class shares its static methods.</p>\n</blockquote>\n\n<p>Normally, static method in interface is used as Helper methods while default method are used as a default implementation for classes that implements that interface.</p>\n\n<p>Example:</p>\n\n<pre><code>interface IDemo {\n\n    //this method can be called directly from anywhere this interface is visible\n    static int convertStrToInt(String numStr) {\n       return Integer.parseInt(numStr);\n    }\n\n\n    //getNum will be implemented in a class\n    int getNum();       \n\n    default String numAsStr() {\n       //this.getNum will call the class's implementation\n       return Integer.toString(this.getNum());\n    }   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1450149322,"creation_date":1450149322,"answer_id":34280526,"question_id":27833168,"body_markdown":"[This link][1] has some useful insights, have listed few of them here.\r\n\r\n**default** &amp; **static** methods have bridged down the differences between **interfaces** and **abstract** classes.\r\n\r\nInterface **default** methods:\r\n\r\n - It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.\r\n - It helps in extending interfaces without having the fear of breaking implementation classes.\r\n\r\nInterface **static** methods:\r\n\r\n- They are part of interface, we cant use it for implementation class objects.\r\n- It helps in providing security by not allowing implementation classes to override them.\r\n\r\nLike to quote another useful [reference][2].\r\n\r\n\r\n  [1]: http://www.journaldev.com/2752/java-8-interface-changes-static-methods-default-methods-functional-interfaces\r\n  [2]: http://www.javacodegeeks.com/2014/04/abstract-class-versus-interface-in-the-jdk-8-era.html","title":"What is the difference between static and default methods in a Java interface?","body":"<p><a href=\"http://www.journaldev.com/2752/java-8-interface-changes-static-methods-default-methods-functional-interfaces\" rel=\"noreferrer\">This link</a> has some useful insights, have listed few of them here.</p>\n\n<p><strong>default</strong> &amp; <strong>static</strong> methods have bridged down the differences between <strong>interfaces</strong> and <strong>abstract</strong> classes.</p>\n\n<p>Interface <strong>default</strong> methods:</p>\n\n<ul>\n<li>It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.</li>\n<li>It helps in extending interfaces without having the fear of breaking implementation classes.</li>\n</ul>\n\n<p>Interface <strong>static</strong> methods:</p>\n\n<ul>\n<li>They are part of interface, we cant use it for implementation class objects.</li>\n<li>It helps in providing security by not allowing implementation classes to override them.</li>\n</ul>\n\n<p>Like to quote another useful <a href=\"http://www.javacodegeeks.com/2014/04/abstract-class-versus-interface-in-the-jdk-8-era.html\" rel=\"noreferrer\">reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450695359,"creation_date":1450695359,"answer_id":34394018,"question_id":27833168,"body_markdown":"we cannot execute `Interfacesample2.menthod3();` because it is not static method. In order to execute `method3()` we need an instance of `Interfacesample2` interface.  \r\n\r\nPlease find the following practical example:\r\n\r\n\r\n\r\n    public class Java8Tester {\r\n       public static void main(String args[]){\r\n    \t  // Interfacesample2.menthod3(); Cannot make a static reference to the non-static method menthod3 from the type Interfacesample2\r\n    \t   \r\n    \t  new Interfacesample2(){ }.menthod3();// so in order to call default method we need an instance of interface\r\n    \t   \r\n    \t   Interfacesample2.method(); // it\r\n       }\r\n    }\r\n    \r\n    interface Interfacesample2 {\r\n        public static void method() {\r\n            System.out.println(&quot;hello world&quot;);\r\n        }\r\n    \r\n        public default void menthod3() {\r\n            System.out.println(&quot;default print&quot;);\r\n        }\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>we cannot execute <code>Interfacesample2.menthod3();</code> because it is not static method. In order to execute <code>method3()</code> we need an instance of <code>Interfacesample2</code> interface.  </p>\n\n<p>Please find the following practical example:</p>\n\n<pre><code>public class Java8Tester {\n   public static void main(String args[]){\n      // Interfacesample2.menthod3(); Cannot make a static reference to the non-static method menthod3 from the type Interfacesample2\n\n      new Interfacesample2(){ }.menthod3();// so in order to call default method we need an instance of interface\n\n       Interfacesample2.method(); // it\n   }\n}\n\ninterface Interfacesample2 {\n    public static void method() {\n        System.out.println(\"hello world\");\n    }\n\n    public default void menthod3() {\n        System.out.println(\"default print\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"down_vote_count":0,"up_vote_count":147,"is_accepted":false,"score":147,"last_activity_date":1468396857,"creation_date":1468396857,"answer_id":38345834,"question_id":27833168,"body_markdown":"Differences between static and default methods in Java 8:\r\n\r\n1) Default methods **can be** overriden in implementing class, while static **cannot**.\r\n\r\n2) Static method belongs **only** to Interface class, so you can only invoke static method on Interface class, not on class implementing this Interface, see:\r\n\r\n    public interface MyInterface {\r\n        default void defaultMethod(){\r\n            System.out.println(&quot;Default&quot;);\r\n        }\r\n    \r\n        static void staticMethod(){\r\n            System.out.println(&quot;Static&quot;);\r\n        }    \r\n    }\r\n\r\n    public class MyClass implements MyInterface {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            MyClass.staticMethod(); //not valid - static method may be invoked on containing interface class only\r\n            MyInterface.staticMethod(); //valid\r\n        }\r\n    }\r\n\r\n\r\n3) Both class and interface **can have** static methods with same names, and neither overrides other!\r\n\r\n    public class MyClass implements MyInterface {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //both are valid and have different behaviour\r\n            MyClass.staticMethod();\r\n            MyInterface.staticMethod();\r\n        }\r\n    \r\n        static void staticMethod(){\r\n            System.out.println(&quot;another static..&quot;);\r\n        }\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>Differences between static and default methods in Java 8:</p>\n\n<p>1) Default methods <strong>can be</strong> overriden in implementing class, while static <strong>cannot</strong>.</p>\n\n<p>2) Static method belongs <strong>only</strong> to Interface class, so you can only invoke static method on Interface class, not on class implementing this Interface, see:</p>\n\n<pre><code>public interface MyInterface {\n    default void defaultMethod(){\n        System.out.println(\"Default\");\n    }\n\n    static void staticMethod(){\n        System.out.println(\"Static\");\n    }    \n}\n\npublic class MyClass implements MyInterface {\n\n    public static void main(String[] args) {\n\n        MyClass.staticMethod(); //not valid - static method may be invoked on containing interface class only\n        MyInterface.staticMethod(); //valid\n    }\n}\n</code></pre>\n\n<p>3) Both class and interface <strong>can have</strong> static methods with same names, and neither overrides other!</p>\n\n<pre><code>public class MyClass implements MyInterface {\n\n    public static void main(String[] args) {\n\n        //both are valid and have different behaviour\n        MyClass.staticMethod();\n        MyInterface.staticMethod();\n    }\n\n    static void staticMethod(){\n        System.out.println(\"another static..\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3141252,"reputation":491,"user_id":2656677,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1544420491,"creation_date":1528221843,"answer_id":50706348,"question_id":27833168,"body_markdown":"**Here is my view:**\r\n\r\n**static method** in interface:\r\n\r\n* You can call it directly (InterfacetA.staticMethod())\r\n\r\n* Sub-class will not be able to override.\r\n\r\n* Sub-class may have method with same name as staticMethod\r\n\r\n**default method** in interface:\r\n\r\n* You can not call it directly.\r\n\r\n* Sub-class will be able to override it\r\n\r\n**Advantage:**\r\n\r\n* **static Method:** You don&#39;t need to create separate class for utility method.\r\n\r\n* **default Method:** Provide the common functionality in default method.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Here is my view:</strong></p>\n\n<p><strong>static method</strong> in interface:</p>\n\n<ul>\n<li><p>You can call it directly (InterfacetA.staticMethod())</p></li>\n<li><p>Sub-class will not be able to override.</p></li>\n<li><p>Sub-class may have method with same name as staticMethod</p></li>\n</ul>\n\n<p><strong>default method</strong> in interface:</p>\n\n<ul>\n<li><p>You can not call it directly.</p></li>\n<li><p>Sub-class will be able to override it</p></li>\n</ul>\n\n<p><strong>Advantage:</strong></p>\n\n<ul>\n<li><p><strong>static Method:</strong> You don't need to create separate class for utility method.</p></li>\n<li><p><strong>default Method:</strong> Provide the common functionality in default method.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10609822,"reputation":69,"user_id":7814076,"display_name":"Satish Keshri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528386226,"creation_date":1528358009,"answer_id":50735759,"question_id":27833168,"body_markdown":"**Interface default methods:**\r\n    \r\nIt helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.\r\n\r\nIt helps in extending interfaces without having the fear of breaking implementation classes.\r\n\r\n**Interface static methods:**\r\n    \r\nThey are part of interface, we cant use it for implementation class objects.\r\n\r\nIt helps in providing security by not allowing implementation classes to override them.\r\n    \r\nNow how static method providing security. Let&#39;s see an example.\r\n    \r\n    interface MyInterface {\r\n    \t/*\r\n    \t * This is a default method so we need not to implement this method in the implementation classes\r\n    \t */\r\n    \tdefault void newMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added default method in Interface&quot;);\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * This is a static method. Static method in interface is similar to default method except that we cannot override them in the implementation classes. Similar to default methods, we need to implement these methods in implementation classes so we can safely add them to the existing interfaces.\r\n    \t */\r\n    \tstatic void anotherNewMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added static method in Interface&quot;);\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Already existing public and abstract method We must need to implement this method in implementation classes.\r\n    \t */\r\n    \tvoid existingMethod(String str);\r\n    }\r\n    \r\n    public class Example implements MyInterface {\r\n    \t// implementing abstract method\r\n    \tpublic void existingMethod(String str) {\r\n    \t\tSystem.out.println(&quot;String is: &quot; + str);\r\n    \t}\r\n    \r\n    \tpublic void newMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added default method in Class&quot;);\r\n    \t}\r\n    \r\n    \tstatic void anotherNewMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added static method in Class&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tExample obj = new Example();\r\n    \r\n    \t\t// calling the default method of class\r\n    \t\tobj.newMethod();\r\n    \t\t// calling the static method of class\r\n    \r\n    \t\tobj.anotherNewMethod();\r\n    \t\t\r\n    \t\t// calling the static method of interface\r\n    \t\tMyInterface.anotherNewMethod();\r\n    \t\t\r\n    \t\t// calling the abstract method of interface\r\n    \t\tobj.existingMethod(&quot;Java 8 is easy to learn&quot;);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\nHere `obj.newMethod();` printing class implementation logic, means we can change the logic of that method inside implementation class.\r\n\r\nBut `obj.anotherNewMethod();` printing class implementation logic ,but not changed interface implementation. So if any encryption-decryption logic written inside that method you can&#39;t change.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Interface default methods:</strong></p>\n\n<p>It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.</p>\n\n<p>It helps in extending interfaces without having the fear of breaking implementation classes.</p>\n\n<p><strong>Interface static methods:</strong></p>\n\n<p>They are part of interface, we cant use it for implementation class objects.</p>\n\n<p>It helps in providing security by not allowing implementation classes to override them.</p>\n\n<p>Now how static method providing security. Let's see an example.</p>\n\n<pre><code>interface MyInterface {\n    /*\n     * This is a default method so we need not to implement this method in the implementation classes\n     */\n    default void newMethod() {\n        System.out.println(\"Newly added default method in Interface\");\n    }\n\n    /*\n     * This is a static method. Static method in interface is similar to default method except that we cannot override them in the implementation classes. Similar to default methods, we need to implement these methods in implementation classes so we can safely add them to the existing interfaces.\n     */\n    static void anotherNewMethod() {\n        System.out.println(\"Newly added static method in Interface\");\n    }\n\n    /*\n     * Already existing public and abstract method We must need to implement this method in implementation classes.\n     */\n    void existingMethod(String str);\n}\n\npublic class Example implements MyInterface {\n    // implementing abstract method\n    public void existingMethod(String str) {\n        System.out.println(\"String is: \" + str);\n    }\n\n    public void newMethod() {\n        System.out.println(\"Newly added default method in Class\");\n    }\n\n    static void anotherNewMethod() {\n        System.out.println(\"Newly added static method in Class\");\n    }\n\n    public static void main(String[] args) {\n        Example obj = new Example();\n\n        // calling the default method of class\n        obj.newMethod();\n        // calling the static method of class\n\n        obj.anotherNewMethod();\n\n        // calling the static method of interface\n        MyInterface.anotherNewMethod();\n\n        // calling the abstract method of interface\n        obj.existingMethod(\"Java 8 is easy to learn\");\n\n    }\n}\n</code></pre>\n\n<p>Here <code>obj.newMethod();</code> printing class implementation logic, means we can change the logic of that method inside implementation class.</p>\n\n<p>But <code>obj.anotherNewMethod();</code> printing class implementation logic ,but not changed interface implementation. So if any encryption-decryption logic written inside that method you can't change.</p>\n"},{"tags":[],"owner":{"account_id":2736292,"reputation":1088,"user_id":2358905,"display_name":"Rakesh Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568886892,"creation_date":1566428280,"answer_id":57600113,"question_id":27833168,"body_markdown":"Starting Java 8 interface can also have static method. Like static method of a class, static method of an interface can be called using Interface name.\r\n\r\nExample\r\n\r\n    public interface Calculator {\r\n        int add(int a, int b);\r\n        int subtract(int a, int b);\r\n        \r\n        default int multiply(int a, int b) {\r\n             throw new RuntimeException(&quot;Operation not supported. Upgrade to UltimateCalculator&quot;);\r\n        }\r\n        \r\n        static void display(String value) {\r\n            System.out.println(value);\r\n        }\r\n    }\r\n\r\n\r\nDifference between static and default method of interface is default method supports inheritance but static method does not. Default method can be overridden in inheriting interface.\r\n\r\nHere is good read about interface default method and static method. [Interface Default Method in Java 8][1]\r\n\r\n\r\n  [1]: https://readtorakesh.com/interface-default-method-in-java-8/","title":"What is the difference between static and default methods in a Java interface?","body":"<p>Starting Java 8 interface can also have static method. Like static method of a class, static method of an interface can be called using Interface name.</p>\n\n<p>Example</p>\n\n<pre><code>public interface Calculator {\n    int add(int a, int b);\n    int subtract(int a, int b);\n\n    default int multiply(int a, int b) {\n         throw new RuntimeException(\"Operation not supported. Upgrade to UltimateCalculator\");\n    }\n\n    static void display(String value) {\n        System.out.println(value);\n    }\n}\n</code></pre>\n\n<p>Difference between static and default method of interface is default method supports inheritance but static method does not. Default method can be overridden in inheriting interface.</p>\n\n<p>Here is good read about interface default method and static method. <a href=\"https://readtorakesh.com/interface-default-method-in-java-8/\" rel=\"nofollow noreferrer\">Interface Default Method in Java 8</a></p>\n"},{"tags":[],"owner":{"account_id":2315856,"reputation":1823,"user_id":2032943,"accept_rate":20,"display_name":"Jay Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571973493,"creation_date":1571973493,"answer_id":58551743,"question_id":27833168,"body_markdown":"All good answers here. I would like to add another practical usage of the static function in the interface. The tip is coming from the book - Effective Java, 3rd Edition by Joshua Bloch in Chapter2: Creating and Destroying Object.\r\n\r\n    Static functions can be used for static factory methods. \r\n\r\nStatic factory method are methods which return an object. They work like constructor. In specific cases, static factory method provides more readable code than using constructor.\r\n\r\nQuoting from the book - Effective Java, 3rd Edition by Joshua Bloch\r\n\r\n&gt; Prior to Java 8, interfaces couldnt have static methods. By\r\n&gt; convention, static factory methods for an interface named Type were\r\n&gt; put in a noninstantiable companion class (Item 4) named Types. \r\n \r\nAuthor gives an example of Collections where such static factory method is implemented. Checking on the code, Josh Bloch can be seen as first author of Collections class. Although Collections is a class and not interface. But the concept still applies.\r\n\r\n&gt; For example, the Java Collections Framework has forty-five utility\r\n&gt; implementations of its interfaces, providing unmodifiable collections,\r\n&gt; synchronized collections, and the like. Nearly all of these\r\n&gt; implementations are exported via static factory methods in one\r\n&gt; noninstantiable class (java.util.Collections). The classes of the\r\n&gt; returned objects are all nonpublic.\r\n\r\nFurther he explains that API is not only smaller, it helps with the code readability and API ease..\r\n\r\n&gt; It is not just the bulk of the API that is reduced but the conceptual\r\n&gt; weight: the number and difficulty of the concepts that programmers\r\n&gt; must master in order to use the API. The programmer knows that the\r\n&gt; returned object has precisely the API specified by its interface, so\r\n&gt; there is no need to read additional class documentation for the\r\n&gt; implementation class.\r\n\r\nHere is one of the static method from java.util.Collections class:\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; unmodifiableCollection(Collection&lt;? extends T&gt; c) {\r\n        return new UnmodifiableCollection&lt;&gt;(c);\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>All good answers here. I would like to add another practical usage of the static function in the interface. The tip is coming from the book - Effective Java, 3rd Edition by Joshua Bloch in Chapter2: Creating and Destroying Object.</p>\n\n<pre><code>Static functions can be used for static factory methods. \n</code></pre>\n\n<p>Static factory method are methods which return an object. They work like constructor. In specific cases, static factory method provides more readable code than using constructor.</p>\n\n<p>Quoting from the book - Effective Java, 3rd Edition by Joshua Bloch</p>\n\n<blockquote>\n  <p>Prior to Java 8, interfaces couldnt have static methods. By\n  convention, static factory methods for an interface named Type were\n  put in a noninstantiable companion class (Item 4) named Types. </p>\n</blockquote>\n\n<p>Author gives an example of Collections where such static factory method is implemented. Checking on the code, Josh Bloch can be seen as first author of Collections class. Although Collections is a class and not interface. But the concept still applies.</p>\n\n<blockquote>\n  <p>For example, the Java Collections Framework has forty-five utility\n  implementations of its interfaces, providing unmodifiable collections,\n  synchronized collections, and the like. Nearly all of these\n  implementations are exported via static factory methods in one\n  noninstantiable class (java.util.Collections). The classes of the\n  returned objects are all nonpublic.</p>\n</blockquote>\n\n<p>Further he explains that API is not only smaller, it helps with the code readability and API ease..</p>\n\n<blockquote>\n  <p>It is not just the bulk of the API that is reduced but the conceptual\n  weight: the number and difficulty of the concepts that programmers\n  must master in order to use the API. The programmer knows that the\n  returned object has precisely the API specified by its interface, so\n  there is no need to read additional class documentation for the\n  implementation class.</p>\n</blockquote>\n\n<p>Here is one of the static method from java.util.Collections class:</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; unmodifiableCollection(Collection&lt;? extends T&gt; c) {\n    return new UnmodifiableCollection&lt;&gt;(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580959,"reputation":149,"user_id":1466360,"display_name":"CodeAdocate"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595606689,"creation_date":1595606689,"answer_id":63077301,"question_id":27833168,"body_markdown":"As per **Java14** JLS doc:\r\n\r\n**Default Method:**\r\n\r\n - It is an instance method declared in an interface with the default\r\n   modifier \r\n\r\n - It can be accessed only by the instance of the implementing class\r\n   only\r\n   \r\n - Its body is always represented by a block, which provides a default\r\n   implementation or behaviour for any implementing class    without\r\n   overriding the method\r\n\r\n - It can never be static or private\r\n\r\n**Static Method:**\r\n    \r\n\r\n - It can be invoked by interface without reference to a particular\r\n   object, just like class static methods\r\n\r\n    \r\n\r\n - Static method can be private\r\n\r\n    \r\n\r\n - The implementing class can not access static method\r\n\r\nLets understand it with the help of below example code:\r\n\r\n```\r\n            public interface MyInterface {\r\n        \r\n            private void privateMethod() {\r\n                System.out.println(&quot;Hi, this is privateMethod&quot;);\r\n            }\r\n        \r\n            private static void staticPrivateMethod() {\r\n                System.out.println(&quot;Hi, this is staticPrivateMethod&quot;);\r\n            }\r\n        \r\n            static void staticMethod() {\r\n                //privateMethod();    // Non-static method cannot be referenced from a static contex\r\n                System.out.println(&quot;Hi, this is staticMethod&quot;);\r\n                staticPrivateMethod();\r\n            }\r\n        \r\n            default void defaultMethod() {\r\n                System.out.println(&quot;Hi, this is defaultMethod&quot;);\r\n            }\r\n        \r\n        }\r\n    \r\n    public class MyInterfaceImpl implements MyInterface{\r\n        public static void main(String[] args) {\r\n    \r\n            MyInterface.staticMethod();\r\n            // myInterface.staticMethod(); // Not allowed\r\n    \r\n            MyInterface myInterface = new MyInterfaceImpl();\r\n            myInterface.defaultMethod();\r\n            // MyInterface.defaultMethod(); // Not allowed\r\n    \r\n        }\r\n    }\r\n\r\n```\r\n","title":"What is the difference between static and default methods in a Java interface?","body":"<p>As per <strong>Java14</strong> JLS doc:</p>\n<p><strong>Default Method:</strong></p>\n<ul>\n<li><p>It is an instance method declared in an interface with the default\nmodifier</p>\n</li>\n<li><p>It can be accessed only by the instance of the implementing class\nonly</p>\n</li>\n<li><p>Its body is always represented by a block, which provides a default\nimplementation or behaviour for any implementing class    without\noverriding the method</p>\n</li>\n<li><p>It can never be static or private</p>\n</li>\n</ul>\n<p><strong>Static Method:</strong></p>\n<ul>\n<li><p>It can be invoked by interface without reference to a particular\nobject, just like class static methods</p>\n</li>\n<li><p>Static method can be private</p>\n</li>\n<li><p>The implementing class can not access static method</p>\n</li>\n</ul>\n<p>Lets understand it with the help of below example code:</p>\n<pre><code>            public interface MyInterface {\n        \n            private void privateMethod() {\n                System.out.println(&quot;Hi, this is privateMethod&quot;);\n            }\n        \n            private static void staticPrivateMethod() {\n                System.out.println(&quot;Hi, this is staticPrivateMethod&quot;);\n            }\n        \n            static void staticMethod() {\n                //privateMethod();    // Non-static method cannot be referenced from a static contex\n                System.out.println(&quot;Hi, this is staticMethod&quot;);\n                staticPrivateMethod();\n            }\n        \n            default void defaultMethod() {\n                System.out.println(&quot;Hi, this is defaultMethod&quot;);\n            }\n        \n        }\n    \n    public class MyInterfaceImpl implements MyInterface{\n        public static void main(String[] args) {\n    \n            MyInterface.staticMethod();\n            // myInterface.staticMethod(); // Not allowed\n    \n            MyInterface myInterface = new MyInterfaceImpl();\n            myInterface.defaultMethod();\n            // MyInterface.defaultMethod(); // Not allowed\n    \n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9122057,"reputation":1,"user_id":6787170,"display_name":"jcb913"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671197786,"creation_date":1671197786,"answer_id":74825203,"question_id":27833168,"body_markdown":"**Static Interface Method:** \r\n\r\n 1. It is a static method which belongs to the interface only. We can\r\n    write implementation of this method in interface itself.\r\n 2. Static method can invoke only on  interface class not on class.\r\n 3. Interface and implementing class , both can have static method with the same name without overriding each other.\r\n 4. It can be used as a utility method\r\n\r\n**Default Method:**\r\n\r\n 1. It is a method with default keyword and class can override this method.\r\n 2. It can be invoked on interface as well as class.\r\n 3. We can override the default method in implementing class.\r\n 4. It can be used to provide common functionality in all implementing classes.\r\n\r\nThere is a link with detailed explanation. For detailed example: [Default method vs static method in an interface in Java?][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/difference-between-default-and-static-interface-method-in-java-8#:~:text=Default%20methods%20enable%20you%20to,rather%20than%20with%20any%20object.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Static Interface Method:</strong></p>\n<ol>\n<li>It is a static method which belongs to the interface only. We can\nwrite implementation of this method in interface itself.</li>\n<li>Static method can invoke only on  interface class not on class.</li>\n<li>Interface and implementing class , both can have static method with the same name without overriding each other.</li>\n<li>It can be used as a utility method</li>\n</ol>\n<p><strong>Default Method:</strong></p>\n<ol>\n<li>It is a method with default keyword and class can override this method.</li>\n<li>It can be invoked on interface as well as class.</li>\n<li>We can override the default method in implementing class.</li>\n<li>It can be used to provide common functionality in all implementing classes.</li>\n</ol>\n<p>There is a link with detailed explanation. For detailed example: <a href=\"https://www.tutorialspoint.com/difference-between-default-and-static-interface-method-in-java-8#:%7E:text=Default%20methods%20enable%20you%20to,rather%20than%20with%20any%20object.\" rel=\"nofollow noreferrer\">Default method vs static method in an interface in Java?</a></p>\n"}],"owner":{"account_id":5592843,"reputation":2982,"user_id":4431422,"display_name":"Vipin Menon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82772,"favorite_count":0,"down_vote_count":7,"up_vote_count":143,"answer_count":12,"score":136,"last_activity_date":1671197786,"creation_date":1420692663,"question_id":27833168,"body_markdown":"I was learning through interfaces when I noticed that you can now define static and default methods in an interface. \r\n\r\n    public interface interfacesample2 {\r\n\t\tpublic static void method() {\r\n\t    \tSystem.out.println(&quot;hello world&quot;);\r\n    \t}\r\n\r\n    \tpublic default void menthod3() {\r\n\t    \tSystem.out.println(&quot;default print&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nKindly explain the difference of the two and also if there&#39;s an example of when we would use this would be nice. A little confused on Interfaces.","title":"What is the difference between static and default methods in a Java interface?","body":"<p>I was learning through interfaces when I noticed that you can now define static and default methods in an interface. </p>\n\n<pre><code>public interface interfacesample2 {\n    public static void method() {\n        System.out.println(\"hello world\");\n    }\n\n    public default void menthod3() {\n        System.out.println(\"default print\");\n    }\n}\n</code></pre>\n\n<p>Kindly explain the difference of the two and also if there's an example of when we would use this would be nice. A little confused on Interfaces.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671197338,"post_id":74825089,"comment_id":132052939,"body_markdown":"This has nothing to do with generics and all to do with the fact that java is pass-by-value, not pass-by reference.","body":"This has nothing to do with generics and all to do with the fact that java is pass-by-value, not pass-by reference."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671197394,"post_id":74825089,"comment_id":132052956,"body_markdown":"In other words, the moment you do `obj1 = obj2` you&#39;re only changing what the variable `obj1` points to, not what it referred to when the `swap` method was called.","body":"In other words, the moment you do <code>obj1 = obj2</code> you&#39;re only changing what the variable <code>obj1</code> points to, not what it referred to when the <code>swap</code> method was called."},{"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"score":0,"creation_date":1671197785,"post_id":74825089,"comment_id":132053091,"body_markdown":"That is definitely some helpful information, but I am wondering if there is a way to do what I was trying to do, is it possible to pass something by reference in java?\n\nAlso, why does the Arrays.sort(arr); method change the actual array if its passed by value??\n\nwhy don&#39;t i have to do this    arr = Arrays.sort(arr);","body":"That is definitely some helpful information, but I am wondering if there is a way to do what I was trying to do, is it possible to pass something by reference in java?  Also, why does the Arrays.sort(arr); method change the actual array if its passed by value??  why don&#39;t i have to do this    arr = Arrays.sort(arr);"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671198037,"post_id":74825089,"comment_id":132053192,"body_markdown":"About `Arrays.sort` is because it changes the array in place, it doesn&#39;t create a new one and change the reference of the one you passed in. Assuming for a second that instead of `T` you used a custom `Point` class that has a `x` property in your `swap` method you could do something like `int x = obj1.x; obj1.x = obj2.x; obj2.x = x;` and it would work like you expected.","body":"About <code>Arrays.sort</code> is because it changes the array in place, it doesn&#39;t create a new one and change the reference of the one you passed in. Assuming for a second that instead of <code>T</code> you used a custom <code>Point</code> class that has a <code>x</code> property in your <code>swap</code> method you could do something like <code>int x = obj1.x; obj1.x = obj2.x; obj2.x = x;</code> and it would work like you expected."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671198230,"post_id":74825089,"comment_id":132053249,"body_markdown":"About how to do it I can&#39;t think of a way that fits unbounded generics. I&#39;d say do away with generics and use a specific class were you can modify the fields (like the `BufferedImage` in your example) and swap those instaed.","body":"About how to do it I can&#39;t think of a way that fits unbounded generics. I&#39;d say do away with generics and use a specific class were you can modify the fields (like the <code>BufferedImage</code> in your example) and swap those instaed."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671198305,"post_id":74825089,"comment_id":132053275,"body_markdown":"@jhamon I suggest you refresh the page :)","body":"@jhamon I suggest you refresh the page :)"}],"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671197347,"answer_count":0,"score":0,"last_activity_date":1671197221,"creation_date":1671197221,"question_id":74825089,"body_markdown":"i am trying to code a game from scratch, I have multiple types of buttons, one of those types has to switch the sprites it uses after it gets clicked. all buttons have one set of sprites, but that specific type has an extra field with the second set of sprites.\r\n\r\nI have a solution that works, but was trying to us generics to swap the images instead (trying to learn something new). I think i don&#39;t understand generics, because the way i did it does nothing.\r\n\r\n\r\n\r\n\r\n```\r\npublic class Button {\r\n     protected BufferedImage[] imgs;\r\n}\r\n\r\npublic class SpecialButton extends Button{\r\n\r\n    private BufferedImage[] imgs2;\r\n\r\n    public void swapImage() {\r\n        //this works the way it was intended\r\n        BufferedImage[] tmp = imgs;\r\n        imgs = imgs2;\r\n        imgs2 = tmp;\r\n    }\r\n    \r\n\r\n\r\n    public void swapImageDoesNothing() {\r\n        // this does nothing\r\n        swap(imgs, imgs2);\r\n    }\r\n\r\n\r\n    public static &lt;T&gt; void swap(T obj1, T obj2){\r\n        T tmp = obj1;\r\n        obj1 = obj2;\r\n        obj2 = tmp;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried multiple thing, also tried making the swap() method not static, but the goal was to have the static in another Utils class for other classes to use, don&#39;t know if i need it anywhere else, but i was trying to learn something about generics\r\n\r\n\r\n```\r\npublic final class Utilities {\r\n\r\n    private Utilities(){}\r\n    \r\n    public static &lt;T&gt; void swap(T obj1, T obj2){\r\n        T tmp = obj1;\r\n        obj1 = obj2;\r\n        obj2 = tmp;\r\n    }\r\n}\r\n```\r\n\r\n","title":"New to coding, trying to swap two fields with generics and apperently don&#39;t understand generics","body":"<p>i am trying to code a game from scratch, I have multiple types of buttons, one of those types has to switch the sprites it uses after it gets clicked. all buttons have one set of sprites, but that specific type has an extra field with the second set of sprites.</p>\n<p>I have a solution that works, but was trying to us generics to swap the images instead (trying to learn something new). I think i don't understand generics, because the way i did it does nothing.</p>\n<pre><code>public class Button {\n     protected BufferedImage[] imgs;\n}\n\npublic class SpecialButton extends Button{\n\n    private BufferedImage[] imgs2;\n\n    public void swapImage() {\n        //this works the way it was intended\n        BufferedImage[] tmp = imgs;\n        imgs = imgs2;\n        imgs2 = tmp;\n    }\n    \n\n\n    public void swapImageDoesNothing() {\n        // this does nothing\n        swap(imgs, imgs2);\n    }\n\n\n    public static &lt;T&gt; void swap(T obj1, T obj2){\n        T tmp = obj1;\n        obj1 = obj2;\n        obj2 = tmp;\n    }\n}\n\n</code></pre>\n<p>I tried multiple thing, also tried making the swap() method not static, but the goal was to have the static in another Utils class for other classes to use, don't know if i need it anywhere else, but i was trying to learn something about generics</p>\n<pre><code>public final class Utilities {\n\n    private Utilities(){}\n    \n    public static &lt;T&gt; void swap(T obj1, T obj2){\n        T tmp = obj1;\n        obj1 = obj2;\n        obj2 = tmp;\n    }\n}\n</code></pre>\n"},{"tags":["java","frameworks","gis"],"comments":[{"owner":{"account_id":1882560,"reputation":1658,"user_id":1702401,"accept_rate":100,"display_name":"user1702401"},"score":0,"creation_date":1353583638,"post_id":13497558,"comment_id":18494850,"body_markdown":"Do you bear in mind desktop or web application?","body":"Do you bear in mind desktop or web application?"}],"answers":[{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353516780,"creation_date":1353516188,"answer_id":13497935,"question_id":13497558,"body_markdown":"There is [GeoServer][1] which is a full-featured geospatial server based on the [GeoTools library][2].\r\nBesides, you could check all the other projects hosted by [OSGeo][3].\r\n\r\nAs for standards, there are quite a few that you could benefit from, developed by [OGC][4].\r\n\r\n\r\n  [1]: http://geoserver.org/display/GEOS/Welcome\r\n  [2]: http://www.geotools.org/\r\n  [3]: http://www.osgeo.org/\r\n  [4]: http://en.wikipedia.org/wiki/Open_Geospatial_Consortium#Standards","title":"Simple Java GIS Editor","body":"<p>There is <a href=\"http://geoserver.org/display/GEOS/Welcome\" rel=\"nofollow\">GeoServer</a> which is a full-featured geospatial server based on the <a href=\"http://www.geotools.org/\" rel=\"nofollow\">GeoTools library</a>.\nBesides, you could check all the other projects hosted by <a href=\"http://www.osgeo.org/\" rel=\"nofollow\">OSGeo</a>.</p>\n\n<p>As for standards, there are quite a few that you could benefit from, developed by <a href=\"http://en.wikipedia.org/wiki/Open_Geospatial_Consortium#Standards\" rel=\"nofollow\">OGC</a>.</p>\n"},{"tags":[],"owner":{"account_id":124416,"reputation":7270,"user_id":319487,"accept_rate":78,"display_name":"radek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353536161,"creation_date":1353536161,"answer_id":13502963,"question_id":13497558,"body_markdown":"Give [**uDig**][1] a shoot. Open source and in Java.\r\n\r\nFulfils your criteria of display and interaction (I tried with relatively large vector data, not sure about raster performance though).\r\n\r\nI cannot really say how it works with network datasets, but with enough programming skills you could probably hack your way with some custom plugins. Here is a [starting point][2].\r\n\r\n\r\n  [1]: http://udig.refractions.net/\r\n  [2]: http://udig.github.com/docs/dev/tool_plugin_tutorial.html","title":"Simple Java GIS Editor","body":"<p>Give <a href=\"http://udig.refractions.net/\" rel=\"nofollow\"><strong>uDig</strong></a> a shoot. Open source and in Java.</p>\n\n<p>Fulfils your criteria of display and interaction (I tried with relatively large vector data, not sure about raster performance though).</p>\n\n<p>I cannot really say how it works with network datasets, but with enough programming skills you could probably hack your way with some custom plugins. Here is a <a href=\"http://udig.github.com/docs/dev/tool_plugin_tutorial.html\" rel=\"nofollow\">starting point</a>.</p>\n"},{"tags":[],"owner":{"account_id":465010,"reputation":21,"user_id":868840,"display_name":"tharos70"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671197081,"creation_date":1671197081,"answer_id":74825068,"question_id":13497558,"body_markdown":"Another interesting project worth checking out is [Degree][1] which is in [OsGeo][2] endorsed projects just like Geoserver.\r\n\r\n\r\n  [1]: https://www.deegree.org/\r\n  [2]: https://www.osgeo.org/","title":"Simple Java GIS Editor","body":"<p>Another interesting project worth checking out is <a href=\"https://www.deegree.org/\" rel=\"nofollow noreferrer\">Degree</a> which is in <a href=\"https://www.osgeo.org/\" rel=\"nofollow noreferrer\">OsGeo</a> endorsed projects just like Geoserver.</p>\n"}],"owner":{"account_id":33667,"reputation":809,"user_id":94404,"accept_rate":100,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13497935,"answer_count":3,"score":2,"last_activity_date":1671197081,"creation_date":1353514887,"question_id":13497558,"body_markdown":"I&#39;m looking for a library/application that would give me a good starting point for an application that will needed to:\r\n\r\n - display a (big) rail/street network on a map (geographically limited to central Europe)\r\n - rail/street network has its custom graph data structure (no standards we could benefit from)\r\n - standard interaction with map: zoom/pan\r\n - interaction with network: remove/add nodes and edges. move nodes.\r\n\r\nImplementation preferably in Java. Thats&#39;s it ;)\r\n\r\nWould love to hear your suggestions on this topic!\r\nThanks very much,\r\nPatrick","title":"Simple Java GIS Editor","body":"<p>I'm looking for a library/application that would give me a good starting point for an application that will needed to:</p>\n\n<ul>\n<li>display a (big) rail/street network on a map (geographically limited to central Europe)</li>\n<li>rail/street network has its custom graph data structure (no standards we could benefit from)</li>\n<li>standard interaction with map: zoom/pan</li>\n<li>interaction with network: remove/add nodes and edges. move nodes.</li>\n</ul>\n\n<p>Implementation preferably in Java. Thats's it ;)</p>\n\n<p>Would love to hear your suggestions on this topic!\nThanks very much,\nPatrick</p>\n"},{"tags":["java","reflection","collections","javabeans"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574666422,"post_id":739689,"comment_id":104298156,"body_markdown":"[`java.beans.Introspector`](https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html)`.getBeanInfo()`. It&#39;s built right into the JDK.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html\" rel=\"nofollow noreferrer\"><code>java.beans.Introspector</code></a><code>.getBeanInfo()</code>. It&#39;s built right into the JDK."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1239443327,"creation_date":1239436393,"answer_id":739713,"question_id":739689,"body_markdown":"Code generation would be the only other way I can think of. Personally, I&#39;d got with a generally reusable reflection solution (unless that part of the code is absolutely performance-critical). Using JMS sounds like overkill (additional dependency, and that&#39;s not even what it&#39;s meant for). Besides, it probably uses reflection as well under the hood.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Code generation would be the only other way I can think of. Personally, I'd got with a generally reusable reflection solution (unless that part of the code is absolutely performance-critical). Using JMS sounds like overkill (additional dependency, and that's not even what it's meant for). Besides, it probably uses reflection as well under the hood.</p>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":4,"up_vote_count":61,"is_accepted":true,"score":57,"last_activity_date":1239438603,"creation_date":1239438603,"answer_id":739760,"question_id":739689,"body_markdown":"There is always apache [commons beanutils][1] but of course it uses reflection under the hood\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>There is always apache <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">commons beanutils</a> but of course it uses reflection under the hood</p>\n"},{"tags":[],"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1239469004,"creation_date":1239469004,"answer_id":740417,"question_id":739689,"body_markdown":"[JSON][1], for example using XStream + Jettison, is a simple text format with key value pairs. It is supported for example by the Apache ActiveMQ JMS message broker for Java object exchange with other platforms / languages.\r\n\r\n\r\n  [1]: http://www.json.org/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p><a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a>, for example using XStream + Jettison, is a simple text format with key value pairs. It is supported for example by the Apache ActiveMQ JMS message broker for Java object exchange with other platforms / languages.</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239472212,"creation_date":1239472212,"answer_id":740516,"question_id":739689,"body_markdown":"You could use the Joda framework:\r\n\r\nhttp://joda.sourceforge.net/\r\n\r\nand take advantage of JodaProperties.  This does stipulate that you create beans in a particular way however, and implement a specific interface.  It does then however, allow you to return a property map from a specific class, without reflection.  Sample code is here:\r\n\r\nhttp://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You could use the Joda framework:</p>\n\n<p><a href=\"http://joda.sourceforge.net/\" rel=\"nofollow noreferrer\">http://joda.sourceforge.net/</a></p>\n\n<p>and take advantage of JodaProperties.  This does stipulate that you create beans in a particular way however, and implement a specific interface.  It does then however, allow you to return a property map from a specific class, without reflection.  Sample code is here:</p>\n\n<p><a href=\"http://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57\" rel=\"nofollow noreferrer\">http://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57</a></p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239624057,"creation_date":1239624057,"answer_id":743693,"question_id":739689,"body_markdown":"My JavaDude Bean Annotation Processor generates code to do this. \r\n\r\nhttp://javadude.googlecode.com\r\n\r\nFor example:\r\n\r\n    @Bean(\r\n      createPropertyMap=true,\r\n      properties={\r\n        @Property(name=&quot;name&quot;),\r\n        @Property(name=&quot;phone&quot;, bound=true),\r\n        @Property(name=&quot;friend&quot;, type=Person.class, kind=PropertyKind.LIST)\r\n      }\r\n    )\r\n    public class Person extends PersonGen {}\r\n\r\nThe above generates superclass PersonGen that includes a createPropertyMap() method that generates a Map&lt;String, Object&gt; for all properties defined using @Bean.\r\n\r\n(Note that I&#39;m changing the API slightly for the next version -- the annotation attribute will be defineCreatePropertyMap=true)","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>My JavaDude Bean Annotation Processor generates code to do this. </p>\n\n<p><a href=\"http://javadude.googlecode.com\" rel=\"nofollow noreferrer\">http://javadude.googlecode.com</a></p>\n\n<p>For example:</p>\n\n<pre><code>@Bean(\n  createPropertyMap=true,\n  properties={\n    @Property(name=\"name\"),\n    @Property(name=\"phone\", bound=true),\n    @Property(name=\"friend\", type=Person.class, kind=PropertyKind.LIST)\n  }\n)\npublic class Person extends PersonGen {}\n</code></pre>\n\n<p>The above generates superclass PersonGen that includes a createPropertyMap() method that generates a Map for all properties defined using @Bean.</p>\n\n<p>(Note that I'm changing the API slightly for the next version -- the annotation attribute will be defineCreatePropertyMap=true)</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239705118,"creation_date":1239705118,"answer_id":747020,"question_id":739689,"body_markdown":"If you do not want to hardcode calls to each getter and setter, reflection is the only way to call these methods (but it is not hard).\r\n\r\nCan you refactor the class in question to use a Properties object to hold the actual data, and let each getter and setter just call get/set on it?  Then you have a structure well suited for what you want to do.  There is even methods to save and load them in the key-value form.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If you do not want to hardcode calls to each getter and setter, reflection is the only way to call these methods (but it is not hard).</p>\n\n<p>Can you refactor the class in question to use a Properties object to hold the actual data, and let each getter and setter just call get/set on it?  Then you have a structure well suited for what you want to do.  There is even methods to save and load them in the key-value form.</p>\n"},{"tags":[],"owner":{"account_id":28790,"reputation":4689,"user_id":77212,"accept_rate":93,"display_name":"Martin K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239706841,"creation_date":1239706841,"answer_id":747077,"question_id":739689,"body_markdown":"You should write a generic transformation Service! Use generics to keep it type free (so you can convert every object to key=&gt;value and back).\r\n\r\nWhat field should be the key? Get that field from the bean and append any other non transient value in a value map. \r\n\r\nThe way back is pretty easy. Read key(x) and write at first the key and then every list entry back to a new object. \r\n\r\nYou can get the property names of a bean with the [apache commons beanutils][1]!\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You should write a generic transformation Service! Use generics to keep it type free (so you can convert every object to key=>value and back).</p>\n\n<p>What field should be the key? Get that field from the bean and append any other non transient value in a value map. </p>\n\n<p>The way back is pretty easy. Read key(x) and write at first the key and then every list entry back to a new object. </p>\n\n<p>You can get the property names of a bean with the <a href=\"http://commons.apache.org/beanutils/\" rel=\"nofollow noreferrer\">apache commons beanutils</a>!</p>\n"},{"tags":[],"owner":{"display_name":"Guillo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1243963365,"creation_date":1243963365,"answer_id":940785,"question_id":739689,"body_markdown":"The best solution is to use Dozer. You just need something like this in the mapper file:\r\n\r\n    &lt;mapping map-id=&quot;myTestMapping&quot;&gt;\r\n      &lt;class-a&gt;org.dozer.vo.map.SomeComplexType&lt;/class-a&gt;\r\n      &lt;class-b&gt;java.util.Map&lt;/class-b&gt;\r\n    &lt;/mapping&gt; \r\n\r\nAnd that&#39;s it, Dozer takes care of the rest!!!\r\n\r\n[Dozer Documentation URL][1]\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/faq.html#complex-to-map","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>The best solution is to use Dozer. You just need something like this in the mapper file:</p>\n\n<pre><code>&lt;mapping map-id=\"myTestMapping\"&gt;\n  &lt;class-a&gt;org.dozer.vo.map.SomeComplexType&lt;/class-a&gt;\n  &lt;class-b&gt;java.util.Map&lt;/class-b&gt;\n&lt;/mapping&gt; \n</code></pre>\n\n<p>And that's it, Dozer takes care of the rest!!!</p>\n\n<p><a href=\"http://dozer.sourceforge.net/documentation/faq.html#complex-to-map\" rel=\"nofollow noreferrer\">Dozer Documentation URL</a></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1472221404,"creation_date":1263166206,"answer_id":2039113,"question_id":739689,"body_markdown":"Lots of potential solutions, but let&#39;s add just one more. Use [Jackson][1] (JSON processing lib) to do &quot;json-less&quot; conversion, like:\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    Map&lt;String,Object&gt; props = m.convertValue(myBean, Map.class);\r\n    MyBean anotherBean = m.convertValue(props, MyBean.class);\r\n\r\n([this blog entry][2] has some more examples)\r\n\r\nYou can basically convert any compatible types: compatible meaning that if you did convert from type to JSON, and from that JSON to result type, entries would match (if configured properly can also just ignore unrecognized ones).\r\n\r\nWorks well for cases one would expect, including Maps, Lists, arrays, primitives, bean-like POJOs.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: http://www.cowtowncoder.com/blog/archives/2009/12/entry_336.html\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Lots of potential solutions, but let's add just one more. Use <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a> (JSON processing lib) to do \"json-less\" conversion, like:</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nMap&lt;String,Object&gt; props = m.convertValue(myBean, Map.class);\nMyBean anotherBean = m.convertValue(props, MyBean.class);\n</code></pre>\n\n<p>(<a href=\"http://www.cowtowncoder.com/blog/archives/2009/12/entry_336.html\" rel=\"noreferrer\">this blog entry</a> has some more examples)</p>\n\n<p>You can basically convert any compatible types: compatible meaning that if you did convert from type to JSON, and from that JSON to result type, entries would match (if configured properly can also just ignore unrecognized ones).</p>\n\n<p>Works well for cases one would expect, including Maps, Lists, arrays, primitives, bean-like POJOs.</p>\n"},{"tags":[],"owner":{"account_id":929458,"reputation":11,"user_id":959606,"display_name":"Lars Wunderlich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352623207,"creation_date":1316709906,"answer_id":7518435,"question_id":739689,"body_markdown":"If it comes to a simple object tree to key value list mapping, where key might be a dotted path description from the object&#39;s root element to the leaf being inspected, it&#39;s rather obvious that a tree conversion to a key-value list is comparable to an object to xml mapping. Each element within an XML document has a defined position and can be converted into a path. Therefore I took [XStream][1] as a basic and stable conversion tool and replaced the hierarchical driver and writer parts with an own implementation. XStream also comes with a basic path tracking mechanism which - being combined with the other two - strictly leads to a solution being suitable for the task.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If it comes to a simple object tree to key value list mapping, where key might be a dotted path description from the object's root element to the leaf being inspected, it's rather obvious that a tree conversion to a key-value list is comparable to an object to xml mapping. Each element within an XML document has a defined position and can be converted into a path. Therefore I took <a href=\"http://xstream.codehaus.org\" rel=\"nofollow\">XStream</a> as a basic and stable conversion tool and replaced the hierarchical driver and writer parts with an own implementation. XStream also comes with a basic path tracking mechanism which - being combined with the other two - strictly leads to a solution being suitable for the task.</p>\n"},{"tags":[],"owner":{"account_id":1483051,"reputation":150,"user_id":1391935,"display_name":"Reuse3733"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336897621,"creation_date":1336895740,"answer_id":10570156,"question_id":739689,"body_markdown":"Simply using reflection and Groovy :\r\n\r\n    def Map toMap(object) {\t\t\t\t\r\n\treturn object?.properties.findAll{ (it.key != &#39;class&#39;) }.collectEntries {\r\n\t\t\t\tit.value == null || it.value instanceof Serializable ? [it.key, it.value] : [it.key,   toMap(it.value)]\r\n\t\t}\t\r\n\t}\r\n\r\n    def toObject(map, obj) {\t\t\r\n\t\tmap.each {\r\n\t\t\tdef field = obj.class.getDeclaredField(it.key)\r\n\t\t\tif (it.value != null) {\r\n\t\t\t\tif (field.getType().equals(it.value.class)){\r\n\t\t\t\t\tobj.&quot;$it.key&quot; = it.value\r\n\t\t\t\t}else if (it.value instanceof Map){\r\n\t\t\t\t\tdef objectFieldValue = obj.&quot;$it.key&quot;\r\n\t\t\t\t\tdef fieldValue = (objectFieldValue == null) ? field.getType().newInstance() : objectFieldValue\r\n\t\t\t\t\tobj.&quot;$it.key&quot; = toObject(it.value,fieldValue) \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t}","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Simply using reflection and Groovy :</p>\n\n<pre><code>def Map toMap(object) {             \nreturn object?.properties.findAll{ (it.key != 'class') }.collectEntries {\n            it.value == null || it.value instanceof Serializable ? [it.key, it.value] : [it.key,   toMap(it.value)]\n    }   \n}\n\ndef toObject(map, obj) {        \n    map.each {\n        def field = obj.class.getDeclaredField(it.key)\n        if (it.value != null) {\n            if (field.getType().equals(it.value.class)){\n                obj.\"$it.key\" = it.value\n            }else if (it.value instanceof Map){\n                def objectFieldValue = obj.\"$it.key\"\n                def fieldValue = (objectFieldValue == null) ? field.getType().newInstance() : objectFieldValue\n                obj.\"$it.key\" = toObject(it.value,fieldValue) \n            }\n        }\n    }\n    return obj;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338482341,"creation_date":1338482341,"answer_id":10837724,"question_id":739689,"body_markdown":"If you really really want performance you can go the code generation route.\r\n\r\nYou can do this on your on by doing your own reflection and building a mixin AspectJ ITD.\r\n\r\nOr you can use Spring Roo and make a [Spring Roo Addon][1]. Your Roo addon will do something similar to the above but will be available to everyone who uses Spring Roo and you don&#39;t have to use Runtime Annotations.\r\n\r\nI have done both. People crap on Spring Roo but it really is the most comprehensive code generation for Java.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/os-springroo5/index.html?ca=drs-","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If you really really want performance you can go the code generation route.</p>\n\n<p>You can do this on your on by doing your own reflection and building a mixin AspectJ ITD.</p>\n\n<p>Or you can use Spring Roo and make a <a href=\"http://www.ibm.com/developerworks/java/library/os-springroo5/index.html?ca=drs-\" rel=\"nofollow\">Spring Roo Addon</a>. Your Roo addon will do something similar to the above but will be available to everyone who uses Spring Roo and you don't have to use Runtime Annotations.</p>\n\n<p>I have done both. People crap on Spring Roo but it really is the most comprehensive code generation for Java.</p>\n"},{"tags":[],"owner":{"account_id":1616798,"reputation":85,"user_id":1494261,"display_name":"Venky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341172970,"creation_date":1341171589,"answer_id":11285069,"question_id":739689,"body_markdown":"One other possible way is here.\r\n\r\nThe BeanWrapper offers functionality to set and get property values (individually\r\n or in bulk), get property descriptors, and to query properties to determine if they\r\n are readable or writable.\r\n\r\n     \r\n    Company c = new Company();\r\n     BeanWrapper bwComp = BeanWrapperImpl(c);\r\n     bwComp.setPropertyValue(&quot;name&quot;, &quot;your Company&quot;);\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>One other possible way is here.</p>\n\n<p>The BeanWrapper offers functionality to set and get property values (individually\n or in bulk), get property descriptors, and to query properties to determine if they\n are readable or writable.</p>\n\n<pre><code>Company c = new Company();\n BeanWrapper bwComp = BeanWrapperImpl(c);\n bwComp.setPropertyValue(\"name\", \"your Company\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1942157,"reputation":91,"user_id":1748107,"display_name":"DeXoN"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1350331267,"creation_date":1350329336,"answer_id":12902658,"question_id":739689,"body_markdown":"This is a method for converting a Java object to a Map\r\n  \r\n\r\n    public static Map&lt;String, Object&gt; ConvertObjectToMap(Object obj) throws \r\n        IllegalAccessException, \r\n        IllegalArgumentException, \r\n        InvocationTargetException {\r\n            Class&lt;?&gt; pomclass = obj.getClass();\r\n            pomclass = obj.getClass();\r\n            Method[] methods = obj.getClass().getMethods();\r\n\r\n\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n            for (Method m : methods) {\r\n               if (m.getName().startsWith(&quot;get&quot;) &amp;&amp; !m.getName().startsWith(&quot;getClass&quot;)) {\r\n                  Object value = (Object) m.invoke(obj);\r\n                  map.put(m.getName().substring(3), (Object) value);\r\n               }\r\n            }\r\n        return map;\r\n    }\r\n\r\n\r\nThis is how to call it\r\n\r\n       Test test = new Test()\r\n       Map&lt;String, Object&gt; map = ConvertObjectToMap(test);\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>This is a method for converting a Java object to a Map</p>\n\n<pre><code>public static Map&lt;String, Object&gt; ConvertObjectToMap(Object obj) throws \n    IllegalAccessException, \n    IllegalArgumentException, \n    InvocationTargetException {\n        Class&lt;?&gt; pomclass = obj.getClass();\n        pomclass = obj.getClass();\n        Method[] methods = obj.getClass().getMethods();\n\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        for (Method m : methods) {\n           if (m.getName().startsWith(\"get\") &amp;&amp; !m.getName().startsWith(\"getClass\")) {\n              Object value = (Object) m.invoke(obj);\n              map.put(m.getName().substring(3), (Object) value);\n           }\n        }\n    return map;\n}\n</code></pre>\n\n<p>This is how to call it</p>\n\n<pre><code>   Test test = new Test()\n   Map&lt;String, Object&gt; map = ConvertObjectToMap(test);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47319,"reputation":1241,"user_id":140084,"accept_rate":40,"display_name":"Martins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371314442,"creation_date":1371314442,"answer_id":17125766,"question_id":739689,"body_markdown":"Use [juffrou-reflect][1]&#39;s BeanWrapper. It is very performant. \n\nHere is how you can transform a bean into a map:\n\n    public static Map&lt;String, Object&gt; getBeanMap(Object bean) {\n        Map&lt;String, Object&gt; beanMap = new HashMap&lt;String, Object&gt;();\n        BeanWrapper beanWrapper = new BeanWrapper(BeanWrapperContext.create(bean.getClass()));\n        for(String propertyName : beanWrapper.getPropertyNames())\n            beanMap.put(propertyName, beanWrapper.getValue(propertyName));\n        return beanMap;\n    }\n\n\nI developed Juffrou myself. It&#39;s open source, so you are free to use it and modify. And if you have any questions regarding it, I&#39;ll be more than happy to respond.\n\nCheers\n\nCarlos\n\n  [1]: http://juffrou.sourceforge.net/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Use <a href=\"http://juffrou.sourceforge.net/\" rel=\"nofollow noreferrer\">juffrou-reflect</a>'s BeanWrapper. It is very performant.</p>\n<p>Here is how you can transform a bean into a map:</p>\n<pre><code>public static Map&lt;String, Object&gt; getBeanMap(Object bean) {\n    Map&lt;String, Object&gt; beanMap = new HashMap&lt;String, Object&gt;();\n    BeanWrapper beanWrapper = new BeanWrapper(BeanWrapperContext.create(bean.getClass()));\n    for(String propertyName : beanWrapper.getPropertyNames())\n        beanMap.put(propertyName, beanWrapper.getValue(propertyName));\n    return beanMap;\n}\n</code></pre>\n<p>I developed Juffrou myself. It's open source, so you are free to use it and modify. And if you have any questions regarding it, I'll be more than happy to respond.</p>\n<p>Cheers</p>\n<p>Carlos</p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406833236,"creation_date":1406833236,"answer_id":25066891,"question_id":739689,"body_markdown":"There is of course the absolute simplest means of conversion possible - no conversion at all! \r\n\r\ninstead of using private variables defined in the class, make the class contain only a HashMap  which stores the values for the instance.\r\n\r\nThen your getters and setters return and set values into and out of the HashMap, and when it is time to convert it to a map, voila! - it is already a map.\r\n\r\nWith a little bit of AOP wizardry, you could even maintain the inflexibility inherent in a bean by allowing you to still use getters and setters specific to each values name, without having to actually write the individual getters and setters.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>There is of course the absolute simplest means of conversion possible - no conversion at all! </p>\n\n<p>instead of using private variables defined in the class, make the class contain only a HashMap  which stores the values for the instance.</p>\n\n<p>Then your getters and setters return and set values into and out of the HashMap, and when it is time to convert it to a map, voila! - it is already a map.</p>\n\n<p>With a little bit of AOP wizardry, you could even maintain the inflexibility inherent in a bean by allowing you to still use getters and setters specific to each values name, without having to actually write the individual getters and setters.</p>\n"},{"tags":[],"owner":{"account_id":43958,"reputation":8780,"user_id":128734,"accept_rate":67,"display_name":"Jan ankowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414054409,"creation_date":1414054409,"answer_id":26524499,"question_id":739689,"body_markdown":"When using Spring, one can also use Spring Integration object-to-map-transformer. It&#39;s probably not worth adding Spring as a dependency just for this.\r\n\r\nFor documentation, search for &quot;Object-to-Map Transformer&quot; on http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html\r\n\r\nEssentially, it traverses the entire object graph reachable from the object given as input, and produces a map from all primitive type/String fields on the objects. It can be configured to output either:\r\n\r\n- a flat map: {rootObject.someField=Joe, rootObject.leafObject.someField=Jane}, or\r\n- a structured map: {someField=Joe, leafObject={someField=Jane}}.\r\n\r\nHere&#39;s an example from their page:\r\n\r\n    public class Parent{\r\n        private Child child;\r\n        private String name; \r\n        // setters and getters are omitted\r\n    }\r\n\r\n    public class Child{\r\n       private String name; \r\n       private List&lt;String&gt; nickNames;\r\n       // setters and getters are omitted\r\n    }\r\n\r\nOutput will be:  \r\n\r\n&gt; {person.name=George, person.child.name=Jenna,\r\n&gt; person.child.nickNames[0]=Bimbo . . . etc}\r\n\r\nA reverse transformer is also available.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>When using Spring, one can also use Spring Integration object-to-map-transformer. It's probably not worth adding Spring as a dependency just for this.</p>\n\n<p>For documentation, search for \"Object-to-Map Transformer\" on <a href=\"http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html\" rel=\"nofollow\">http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html</a></p>\n\n<p>Essentially, it traverses the entire object graph reachable from the object given as input, and produces a map from all primitive type/String fields on the objects. It can be configured to output either:</p>\n\n<ul>\n<li>a flat map: {rootObject.someField=Joe, rootObject.leafObject.someField=Jane}, or</li>\n<li>a structured map: {someField=Joe, leafObject={someField=Jane}}.</li>\n</ul>\n\n<p>Here's an example from their page:</p>\n\n<pre><code>public class Parent{\n    private Child child;\n    private String name; \n    // setters and getters are omitted\n}\n\npublic class Child{\n   private String name; \n   private List&lt;String&gt; nickNames;\n   // setters and getters are omitted\n}\n</code></pre>\n\n<p>Output will be:  </p>\n\n<blockquote>\n  <p>{person.name=George, person.child.name=Jenna,\n  person.child.nickNames[0]=Bimbo . . . etc}</p>\n</blockquote>\n\n<p>A reverse transformer is also available.</p>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453918134,"creation_date":1446602166,"answer_id":33512434,"question_id":739689,"body_markdown":"With Java 8 you may try this :\r\n\r\n    public Map&lt;String, Object&gt; toKeyValuePairs(Object instance) {\r\n        return Arrays.stream(Bean.class.getDeclaredMethods())\r\n                .collect(Collectors.toMap(\r\n                        Method::getName,\r\n                        m -&gt; {\r\n                            try {\r\n                                Object result = m.invoke(instance);\r\n                                return result != null ? result : &quot;&quot;;\r\n                            } catch (Exception e) {\r\n                                return &quot;&quot;;\r\n                            }\r\n                        }));\r\n    }\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>With Java 8 you may try this :</p>\n\n<pre><code>public Map&lt;String, Object&gt; toKeyValuePairs(Object instance) {\n    return Arrays.stream(Bean.class.getDeclaredMethods())\n            .collect(Collectors.toMap(\n                    Method::getName,\n                    m -&gt; {\n                        try {\n                            Object result = m.invoke(instance);\n                            return result != null ? result : \"\";\n                        } catch (Exception e) {\n                            return \"\";\n                        }\n                    }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64621,"reputation":1685,"user_id":190674,"accept_rate":50,"display_name":"erhanasikoglu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462373200,"creation_date":1462373200,"answer_id":37031136,"question_id":739689,"body_markdown":"You can use the java 8 stream filter collector properties,\r\n\r\n\r\n    public Map&lt;String, Object&gt; objectToMap(Object obj) {\r\n        return Arrays.stream(YourBean.class.getDeclaredMethods())\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;set&quot;))\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;getClass&quot;))\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;setClass&quot;))\r\n                .collect(Collectors.toMap(\r\n                        d -&gt; d.getName().substring(3),\r\n                        m -&gt; {\r\n                            try {\r\n                                Object result = m.invoke(obj);\r\n                                return result;\r\n                            } catch (Exception e) {\r\n                                return &quot;&quot;;\r\n                            }\r\n                        }, (p1, p2) -&gt; p1)\r\n                );\r\n    }","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You can use the java 8 stream filter collector properties,</p>\n\n<pre><code>public Map&lt;String, Object&gt; objectToMap(Object obj) {\n    return Arrays.stream(YourBean.class.getDeclaredMethods())\n            .filter(p -&gt; !p.getName().startsWith(\"set\"))\n            .filter(p -&gt; !p.getName().startsWith(\"getClass\"))\n            .filter(p -&gt; !p.getName().startsWith(\"setClass\"))\n            .collect(Collectors.toMap(\n                    d -&gt; d.getName().substring(3),\n                    m -&gt; {\n                        try {\n                            Object result = m.invoke(obj);\n                            return result;\n                        } catch (Exception e) {\n                            return \"\";\n                        }\n                    }, (p1, p2) -&gt; p1)\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490219137,"creation_date":1490219137,"answer_id":42963234,"question_id":739689,"body_markdown":"With the help of Jackson library, I was able to find all class properties of type String/integer/double, and respective values in a Map class. (*without using reflections api!*)\r\n\r\n    TestClass testObject = new TestClass();\r\n    com.fasterxml.jackson.databind.ObjectMapper m = new com.fasterxml.jackson.databind.ObjectMapper();\r\n\r\n    Map&lt;String,Object&gt; props = m.convertValue(testObject, Map.class);\r\n\r\n    for(Map.Entry&lt;String, Object&gt; entry : props.entrySet()){\r\n        if(entry.getValue() instanceof String || entry.getValue() instanceof Integer || entry.getValue() instanceof Double){\r\n            System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>With the help of Jackson library, I was able to find all class properties of type String/integer/double, and respective values in a Map class. (<em>without using reflections api!</em>)</p>\n\n<pre><code>TestClass testObject = new TestClass();\ncom.fasterxml.jackson.databind.ObjectMapper m = new com.fasterxml.jackson.databind.ObjectMapper();\n\nMap&lt;String,Object&gt; props = m.convertValue(testObject, Map.class);\n\nfor(Map.Entry&lt;String, Object&gt; entry : props.entrySet()){\n    if(entry.getValue() instanceof String || entry.getValue() instanceof Integer || entry.getValue() instanceof Double){\n        System.out.println(entry.getKey() + \"--&gt;\" + entry.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954439,"reputation":323,"user_id":980000,"accept_rate":8,"display_name":"pointerness"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517403811,"creation_date":1517403811,"answer_id":48542877,"question_id":739689,"body_markdown":"Probably late to the party. You can use Jackson and convert it into a Properties object. This is suited for Nested classes and if you want the key in the for a.b.c=value.\r\n\r\n\r\n    JavaPropsMapper mapper = new JavaPropsMapper();\r\n    Properties properties = mapper.writeValueAsProperties(sct);\r\n    Map&lt;Object, Object&gt; map = properties;\r\n\r\nif you want some suffix, then just do\r\n\r\n    SerializationConfig config = mapper.getSerializationConfig()\r\n                    .withRootName(&quot;suffix&quot;);\r\n    mapper.setConfig(config);\r\n\r\nneed to add this dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-properties&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Probably late to the party. You can use Jackson and convert it into a Properties object. This is suited for Nested classes and if you want the key in the for a.b.c=value.</p>\n\n<pre><code>JavaPropsMapper mapper = new JavaPropsMapper();\nProperties properties = mapper.writeValueAsProperties(sct);\nMap&lt;Object, Object&gt; map = properties;\n</code></pre>\n\n<p>if you want some suffix, then just do</p>\n\n<pre><code>SerializationConfig config = mapper.getSerializationConfig()\n                .withRootName(\"suffix\");\nmapper.setConfig(config);\n</code></pre>\n\n<p>need to add this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-properties&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3358051,"reputation":4963,"user_id":2820534,"accept_rate":82,"display_name":"Prabs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1544520485,"creation_date":1544520485,"answer_id":53721048,"question_id":739689,"body_markdown":"By using Gson,\r\n\r\n1. Convert POJO `object` to Json\r\n2. Convert Json to Map\r\n\r\n\r\n            retMap = new Gson().fromJson(new Gson().toJson(object), \r\n                    new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n            );","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>By using Gson,</p>\n\n<ol>\n<li>Convert POJO <code>object</code> to Json</li>\n<li><p>Convert Json to Map</p>\n\n<pre><code>    retMap = new Gson().fromJson(new Gson().toJson(object), \n            new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n    );\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4877215,"reputation":2024,"user_id":4724710,"display_name":"Anubhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574665574,"creation_date":1574665574,"answer_id":59026740,"question_id":739689,"body_markdown":"We can use the Jackson library to convert a Java object into a Map easily.\r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t   &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf using in an Android project, you can add jackson in your app&#39;s build.gradle as follows:\r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.9.8&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.9.8&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.9.8&#39;\r\n\r\nSample Implementation\r\n\r\n    public class Employee {\r\n\r\n        private String name;\r\n        private int id;\r\n        private List&lt;String&gt; skillSet;\r\n\r\n        // getters setters\r\n    }\r\n\r\n    public class ObjectToMap {\r\n\r\n     public static void main(String[] args) {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        Employee emp = new Employee();\r\n        emp.setName(&quot;XYZ&quot;);\r\n        emp.setId(1011);\r\n        emp.setSkillSet(Arrays.asList(&quot;python&quot;,&quot;java&quot;));\r\n\r\n        // object -&gt; Map\r\n        Map&lt;String, Object&gt; map = objectMapper.convertValue(emp, \r\n        Map.class);\r\n        System.out.println(map);\r\n\r\n     }\r\n\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n{name=XYZ, id=1011, skills=[python, java]}","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>We can use the Jackson library to convert a Java object into a Map easily.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If using in an Android project, you can add jackson in your app's build.gradle as follows:</p>\n\n<pre><code>implementation 'com.fasterxml.jackson.core:jackson-core:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-annotations:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-databind:2.9.8'\n</code></pre>\n\n<p>Sample Implementation</p>\n\n<pre><code>public class Employee {\n\n    private String name;\n    private int id;\n    private List&lt;String&gt; skillSet;\n\n    // getters setters\n}\n\npublic class ObjectToMap {\n\n public static void main(String[] args) {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    Employee emp = new Employee();\n    emp.setName(\"XYZ\");\n    emp.setId(1011);\n    emp.setSkillSet(Arrays.asList(\"python\",\"java\"));\n\n    // object -&gt; Map\n    Map&lt;String, Object&gt; map = objectMapper.convertValue(emp, \n    Map.class);\n    System.out.println(map);\n\n }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p>{name=XYZ, id=1011, skills=[python, java]}</p>\n"},{"tags":[],"owner":{"account_id":4748982,"reputation":135,"user_id":3839489,"display_name":"Priyatham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671197070,"creation_date":1671197070,"answer_id":74825065,"question_id":739689,"body_markdown":"Add Jackson library \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nThen you could generate map using Object mapper.\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nMap&lt;String, Object&gt; map = objectMapper.convertValue(\r\n    yourJavaObject, \r\n    new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\r\n);\r\n```","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Add Jackson library</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you could generate map using Object mapper.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nMap&lt;String, Object&gt; map = objectMapper.convertValue(\n    yourJavaObject, \n    new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\n);\n</code></pre>\n"}],"owner":{"account_id":19827,"reputation":10445,"user_id":46799,"accept_rate":69,"display_name":"Shahbaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232373,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":739760,"answer_count":24,"score":104,"last_activity_date":1671197070,"creation_date":1239435471,"question_id":739689,"body_markdown":"Say I have a very simple java object that only has some getXXX and setXXX properties.  This object is used only to handle values, basically a record or a type-safe (and performant) map.  I often need to covert this object to key value pairs (either strings or type safe) or convert from key value pairs to this object.\r\n\r\nOther than reflection or manually writing code to do this conversion, what is the best way to achieve this?\r\n\r\nAn example might be sending this object over jms, without using the ObjectMessage type (or converting an incoming message to the right kind of object).\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Say I have a very simple java object that only has some getXXX and setXXX properties.  This object is used only to handle values, basically a record or a type-safe (and performant) map.  I often need to covert this object to key value pairs (either strings or type safe) or convert from key value pairs to this object.</p>\n\n<p>Other than reflection or manually writing code to do this conversion, what is the best way to achieve this?</p>\n\n<p>An example might be sending this object over jms, without using the ObjectMessage type (or converting an incoming message to the right kind of object).</p>\n"},{"tags":["java","android"],"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671196599,"creation_date":1671006827,"question_id":74795471,"body_markdown":"I am adding values to my chart using this code:\r\n`\r\n```\r\nchartEntries.add(new BarEntry(i, Float.parseFloat(json_data.getString(&quot;prog_bigl&quot;))));\r\n```\r\n`\r\n&quot;i&quot; is the index of `\r\n```\r\nfor (int i = 0; i &lt; jArray.length(); i++ ) {\r\n```\r\n` when I get values from a webservice.\r\n\r\nThe graph is build but in X axis I can see &quot;i&quot; values. I would like to have values from another Json field. It simply a string. How can I substitute &quot;i&quot; with this labels ?\r\n\r\nIf I tried to put this json value in place of &quot;i&quot; I have no graph.\r\n\r\nI can&#39;t find any exaustive documentation for this library.","title":"MPAndroid Chart / x labels","body":"<p>I am adding values to my chart using this code:\n`</p>\n<pre><code>chartEntries.add(new BarEntry(i, Float.parseFloat(json_data.getString(&quot;prog_bigl&quot;))));\n</code></pre>\n<p><code>&quot;i&quot; is the index of</code></p>\n<pre><code>for (int i = 0; i &lt; jArray.length(); i++ ) {\n</code></pre>\n<p>` when I get values from a webservice.</p>\n<p>The graph is build but in X axis I can see &quot;i&quot; values. I would like to have values from another Json field. It simply a string. How can I substitute &quot;i&quot; with this labels ?</p>\n<p>If I tried to put this json value in place of &quot;i&quot; I have no graph.</p>\n<p>I can't find any exaustive documentation for this library.</p>\n"},{"tags":["java","logging","log4j","tomcat7","log4j2"],"answers":[{"tags":[],"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671196183,"creation_date":1671196183,"answer_id":74824907,"question_id":71857876,"body_markdown":"Found core of the problem thanks to [this][1] answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50859620/where-is-catalina-base-system-property-declared-in-a-default-tomcat8-linux-insta\r\n\r\nHad the same issue with running tests using `${sys:catalina.base}` in log4j2.\r\n\r\nThe 1st problem is that your app running in tomcat while your tests running outside of it. Tomcat itself sets variable `catalina.base` from `CATALINA_BASE` on start, so log4j2 instance for tests doesn&#39;t know such variable as `catalina.base`.\r\n\r\nThe 2nd problem I figured out in my case that I put `export CATALINA_BASE=&quot;/path/to/catalina/location&quot;` in `.bashrc` instead of `.profile`.\r\n\r\n\r\n**SOLUTIONS**\r\n1. set absolute path like (for example if your catalina lies in some user directory) `&quot;/home/${env:USER}/path/to/cataina/location&quot;`\r\n\r\nOR\r\n\r\n2. put `export CATALINA_BASE=&quot;/path/to/catalina/location&quot;` in `.profile` and then you&#39;ll be able to set log4j2 property like `${env:CATALINA_BASE}`.\r\n\r\n","title":"Not able to fetch ${catalina.base}, system property not working in log4j2.xml?","body":"<p>Found core of the problem thanks to <a href=\"https://stackoverflow.com/questions/50859620/where-is-catalina-base-system-property-declared-in-a-default-tomcat8-linux-insta\">this</a> answer.</p>\n<p>Had the same issue with running tests using <code>${sys:catalina.base}</code> in log4j2.</p>\n<p>The 1st problem is that your app running in tomcat while your tests running outside of it. Tomcat itself sets variable <code>catalina.base</code> from <code>CATALINA_BASE</code> on start, so log4j2 instance for tests doesn't know such variable as <code>catalina.base</code>.</p>\n<p>The 2nd problem I figured out in my case that I put <code>export CATALINA_BASE=&quot;/path/to/catalina/location&quot;</code> in <code>.bashrc</code> instead of <code>.profile</code>.</p>\n<p><strong>SOLUTIONS</strong></p>\n<ol>\n<li>set absolute path like (for example if your catalina lies in some user directory) <code>&quot;/home/${env:USER}/path/to/cataina/location&quot;</code></li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>put <code>export CATALINA_BASE=&quot;/path/to/catalina/location&quot;</code> in <code>.profile</code> and then you'll be able to set log4j2 property like <code>${env:CATALINA_BASE}</code>.</li>\n</ol>\n"}],"owner":{"account_id":15442554,"reputation":57,"user_id":11140659,"display_name":"Srikar Rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824907,"answer_count":1,"score":1,"last_activity_date":1671196183,"creation_date":1649854634,"question_id":71857876,"body_markdown":"Previously we had a log4j 1.x compatible xml format which was having this Rolling file appender configured-\r\n```\r\n&lt;appender name=&quot;ALL&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;File&quot; value=&quot;${catalina.base}/logs/trw.log&quot; /&gt;\r\n\t\t&lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;4096KB&quot; /&gt;\r\n\t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %p [%t] %C{1}:%L - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n```\r\nNow I have changed it to the new log4j2.xml format where based on my research the \r\ncatalina.base becomes like so -\r\n\r\n```\r\n    &lt;RollingFile name=&quot;ALL&quot; fileName=&quot;${sys:catalina.base}/logs/trw.log&quot;\r\n                     filePattern=&quot;${sys:catalina.base}/logs/trw_%i.log&quot;\r\n                     append =&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %p [%t] %c{1}:%L - %m%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;4096KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n```\r\nBut when I run a test file which uses this logging configuration, the xml file is found and loaded and all is going well but instead of finding the system variable cataline.base\r\nit creates a folder ${sys:catalina.base} and puts the log under it. My question is that - is this the expected behaviour ? Does log4j2.xml config try to search for the system property and if not found just creates a folder with that name ?\r\nThis config is in a web-application which runs on TomCat 7, spring 3.1 and servlet 2.5. Logs are getting generated as expected but only folder name seems to be the issue.","title":"Not able to fetch ${catalina.base}, system property not working in log4j2.xml?","body":"<p>Previously we had a log4j 1.x compatible xml format which was having this Rolling file appender configured-</p>\n<pre><code>&lt;appender name=&quot;ALL&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;${catalina.base}/logs/trw.log&quot; /&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;4096KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %p [%t] %C{1}:%L - %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Now I have changed it to the new log4j2.xml format where based on my research the\ncatalina.base becomes like so -</p>\n<pre><code>    &lt;RollingFile name=&quot;ALL&quot; fileName=&quot;${sys:catalina.base}/logs/trw.log&quot;\n                     filePattern=&quot;${sys:catalina.base}/logs/trw_%i.log&quot;\n                     append =&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %p [%t] %c{1}:%L - %m%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;4096KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n        &lt;/RollingFile&gt;\n</code></pre>\n<p>But when I run a test file which uses this logging configuration, the xml file is found and loaded and all is going well but instead of finding the system variable cataline.base\nit creates a folder ${sys:catalina.base} and puts the log under it. My question is that - is this the expected behaviour ? Does log4j2.xml config try to search for the system property and if not found just creates a folder with that name ?\nThis config is in a web-application which runs on TomCat 7, spring 3.1 and servlet 2.5. Logs are getting generated as expected but only folder name seems to be the issue.</p>\n"},{"tags":["java"],"owner":{"account_id":27032086,"reputation":29,"user_id":20588290,"display_name":"wowcode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671196180,"creation_date":1671196180,"question_id":74824905,"body_markdown":"I can right click on a search term in Java selenium Chrome, but I cannot click where I want in the popup menu. How can I get to the place I want in the window that opens after right-clicking?\r\n\r\nCode example where I right click :\r\nActions action = new Actions(driver); action.moveToElement(driver.findElement(By.xpath(&quot;//h3[text()=&#39;Example&#39;]&quot;))).contextClick().build().perform();\r\n\r\nIs there anyone who can help?\r\n\r\n\r\n","title":"Touching Right click window in Java Selenium Chrome","body":"<p>I can right click on a search term in Java selenium Chrome, but I cannot click where I want in the popup menu. How can I get to the place I want in the window that opens after right-clicking?</p>\n<p>Code example where I right click :\nActions action = new Actions(driver); action.moveToElement(driver.findElement(By.xpath(&quot;//h3[text()='Example']&quot;))).contextClick().build().perform();</p>\n<p>Is there anyone who can help?</p>\n"},{"tags":["java","json","spring-boot","rest","dto"],"answers":[{"tags":[],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670933238,"creation_date":1670933238,"answer_id":74784630,"question_id":74784399,"body_markdown":"You should use DTO class in request handling and make mappings from DTO to Entity and backwards, e.g.:\r\n\r\n    public class CustomerDTO {\r\n        private Integer id;\r\n        private String name;\r\n        private String email;\r\n    }\r\n","title":"How to change JSON representation for single value java object?","body":"<p>You should use DTO class in request handling and make mappings from DTO to Entity and backwards, e.g.:</p>\n<pre><code>public class CustomerDTO {\n    private Integer id;\n    private String name;\n    private String email;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670935290,"creation_date":1670935290,"answer_id":74785030,"question_id":74784399,"body_markdown":"You should use [DataTransferObjects][1] for your (REST) APIs.\r\nThe DTOs only contain the fields the interface should provide (or receive).\r\n\r\nWhen receiving objects from the client and before returning the object from your Controller you can convert the DTOs to your domain model (Which could be your JPA entites classes).\r\n\r\nExample for a controller method. We assume you get an object from an user-editor which contains all data you want to update in your database-objects and return the updated company DTO:\r\n\r\n```\r\n@PutMapping\r\npublic CustomerDto updateCustomer(CustomerEditorDto updatedCustomerDto) {\r\n    Customer updatedCustomer = CustomerConverter.convert(updatedCustomerDto);\r\n    updatedCustomer = customerService.updateCustomer(updatedCustomer);\r\n    return CustomerConverter.convert(updatedCustomer);\r\n}\r\n```\r\n\r\nand your Converter class:\r\n\r\n```\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class CustomerConverter {\r\n\r\n    public static CustomerDto convert(Customer customer) {\r\n        CustomerDto result = null;\r\n        if (customer != null) {\r\n            // TODO: set fields in result-dto\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static Customer convert(CustomerEditorDto customer) {\r\n        Customer result = null;\r\n        if (customer != null) {\r\n            // TODO set fields in result;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\nand here are the DTOs\r\n```\r\n@Getter\r\n@Setter\r\npublic class CustomerDto {\r\n    private Integer id;\r\n    private String name;\r\n    private String email;\r\n}\r\n\r\n@Getter\r\n@Setter\r\npublic class CustomerEditorDto {\r\n    private Integer id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String otherPropertyOrStuff; \r\n}\r\n```\r\n\r\nThis way you can separate the API modell from your JPA entites. You can use the same models for input/output. And you can even use a different model to work with inside your services and the finally convert them into your JPA entites, before persisting the data (or after reading the data).\r\n\r\nThere are tools which can take care of the conversion, like *mapstruct*.\r\n\r\n\\* The above annotations `@Getter`, `@Setter`, ... are from project lombok and very are handy to generate boiler-plate code automatically.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_transfer_object","title":"How to change JSON representation for single value java object?","body":"<p>You should use <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DataTransferObjects</a> for your (REST) APIs.\nThe DTOs only contain the fields the interface should provide (or receive).</p>\n<p>When receiving objects from the client and before returning the object from your Controller you can convert the DTOs to your domain model (Which could be your JPA entites classes).</p>\n<p>Example for a controller method. We assume you get an object from an user-editor which contains all data you want to update in your database-objects and return the updated company DTO:</p>\n<pre><code>@PutMapping\npublic CustomerDto updateCustomer(CustomerEditorDto updatedCustomerDto) {\n    Customer updatedCustomer = CustomerConverter.convert(updatedCustomerDto);\n    updatedCustomer = customerService.updateCustomer(updatedCustomer);\n    return CustomerConverter.convert(updatedCustomer);\n}\n</code></pre>\n<p>and your Converter class:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class CustomerConverter {\n\n    public static CustomerDto convert(Customer customer) {\n        CustomerDto result = null;\n        if (customer != null) {\n            // TODO: set fields in result-dto\n        }\n        return result;\n    }\n\n    public static Customer convert(CustomerEditorDto customer) {\n        Customer result = null;\n        if (customer != null) {\n            // TODO set fields in result;\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>and here are the DTOs</p>\n<pre><code>@Getter\n@Setter\npublic class CustomerDto {\n    private Integer id;\n    private String name;\n    private String email;\n}\n\n@Getter\n@Setter\npublic class CustomerEditorDto {\n    private Integer id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String otherPropertyOrStuff; \n}\n</code></pre>\n<p>This way you can separate the API modell from your JPA entites. You can use the same models for input/output. And you can even use a different model to work with inside your services and the finally convert them into your JPA entites, before persisting the data (or after reading the data).</p>\n<p>There are tools which can take care of the conversion, like <em>mapstruct</em>.</p>\n<p>* The above annotations <code>@Getter</code>, <code>@Setter</code>, ... are from project lombok and very are handy to generate boiler-plate code automatically.</p>\n"},{"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671195918,"creation_date":1671195918,"answer_id":74824853,"question_id":74784399,"body_markdown":"I found an other easier solution, use a JsonSerializer on the entity Property:\r\n\r\n    @JsonSerialize(using = EmailAddressSerializer.class)\r\n    private EmailAddress email;\r\n\r\nThe serializer class:\r\n    \r\n    public class EmailAddressSerializer extends StdSerializer&lt;EmailAddress&gt; {\r\n    \r\n    \tpublic EmailAddressSerializer() {\r\n    \t\tsuper(EmailAddress.class);\r\n    \t}\r\n    \r\n    \tprotected EmailAddressSerializer(Class&lt;EmailAddress&gt; t) {\r\n    \t\tsuper(t);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void serialize(EmailAddress email,\r\n    \t\t\t\t\t\t  JsonGenerator jsonGenerator,\r\n    \t\t\t\t\t\t  SerializerProvider serializerProvider) throws IOException {\r\n    \t\tjsonGenerator.writeString(email.value);\r\n    \t}\r\n    }","title":"How to change JSON representation for single value java object?","body":"<p>I found an other easier solution, use a JsonSerializer on the entity Property:</p>\n<pre><code>@JsonSerialize(using = EmailAddressSerializer.class)\nprivate EmailAddress email;\n</code></pre>\n<p>The serializer class:</p>\n<pre><code>public class EmailAddressSerializer extends StdSerializer&lt;EmailAddress&gt; {\n\n    public EmailAddressSerializer() {\n        super(EmailAddress.class);\n    }\n\n    protected EmailAddressSerializer(Class&lt;EmailAddress&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(EmailAddress email,\n                          JsonGenerator jsonGenerator,\n                          SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeString(email.value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74824853,"answer_count":3,"score":2,"last_activity_date":1671195918,"creation_date":1670932130,"question_id":74784399,"body_markdown":"I had a class like:\r\n\r\n    public class EmailAddress {\r\n       public String value;\r\n    \r\n       public String tld() {...}\r\n       public String host() {...}\r\n       public String mailbox() {...}\r\n    }\r\n\r\nNow I use this class in an Object / Entity:\r\n\r\n    @Entity\r\n    public class Customer {\r\n        public String name;\r\n        public EmailAddress mail;\r\n    }\r\n\r\nNow, when I do a rest service for `Customer`, I get this format:\r\n\r\n    {\r\n    \t&quot;id&quot;: 1,\r\n    \t&quot;name&quot;: &quot;Test&quot;,\r\n    \t&quot;email&quot;: {\r\n    \t\t&quot;value&quot;: &quot;test@test.de&quot;\r\n    \t}\r\n    }\r\n\r\nBut I only want `&quot;email&quot;: &quot;test@test.de&quot;`\r\n\r\n    {\r\n    \t&quot;id&quot;: 1,\r\n    \t&quot;name&quot;: &quot;Test&quot;,\r\n    \t&quot;email&quot;: &quot;test@test.de&quot;\r\n    }\r\n\r\nWhat I must do? I use Spring Boot and Hibernate Entities.\r\n\r\nThank you for any support\r\n\r\n\r\n","title":"How to change JSON representation for single value java object?","body":"<p>I had a class like:</p>\n<pre><code>public class EmailAddress {\n   public String value;\n\n   public String tld() {...}\n   public String host() {...}\n   public String mailbox() {...}\n}\n</code></pre>\n<p>Now I use this class in an Object / Entity:</p>\n<pre><code>@Entity\npublic class Customer {\n    public String name;\n    public EmailAddress mail;\n}\n</code></pre>\n<p>Now, when I do a rest service for <code>Customer</code>, I get this format:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;email&quot;: {\n        &quot;value&quot;: &quot;test@test.de&quot;\n    }\n}\n</code></pre>\n<p>But I only want <code>&quot;email&quot;: &quot;test@test.de&quot;</code></p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;email&quot;: &quot;test@test.de&quot;\n}\n</code></pre>\n<p>What I must do? I use Spring Boot and Hibernate Entities.</p>\n<p>Thank you for any support</p>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"score":0,"creation_date":1484885969,"post_id":41756011,"comment_id":70704172,"body_markdown":"I started without it, it gives out the same error with / without it!","body":"I started without it, it gives out the same error with / without it!"}],"answers":[{"tags":[],"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1484927108,"creation_date":1484927108,"answer_id":41767471,"question_id":41756011,"body_markdown":"As it turned out, it had nothing to do with Maven and/or Spring-Boot. In case someone else might face the same issue, here&#39;s what I&#39;ve done that led to this problem:\r\n\r\nAs a part of my deployment process, I would unzip the jar file, revise the config.properties and zip it again. It seems for some reason (unknown to myself), the generated .jar file is not executable and leads to the mentioned error.\r\n\r\nMy workaround was not to uncompress the .jar file, instead just replace the config.properties with a single command, like `zip ./project.jar ./config.properties`, while the project.jar is already in the current path. This one works!","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>As it turned out, it had nothing to do with Maven and/or Spring-Boot. In case someone else might face the same issue, here's what I've done that led to this problem:</p>\n\n<p>As a part of my deployment process, I would unzip the jar file, revise the config.properties and zip it again. It seems for some reason (unknown to myself), the generated .jar file is not executable and leads to the mentioned error.</p>\n\n<p>My workaround was not to uncompress the .jar file, instead just replace the config.properties with a single command, like <code>zip ./project.jar ./config.properties</code>, while the project.jar is already in the current path. This one works!</p>\n"},{"tags":[],"owner":{"account_id":4153618,"reputation":924,"user_id":3405414,"display_name":"Prashanth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532006211,"creation_date":1532006211,"answer_id":51423690,"question_id":41756011,"body_markdown":"I also faced this issue and tried the following way which worked well for me.\r\n\r\nNOTE : **Dont&#39; extract and build** new jar again. Simply **extract and update** existing jar with modified file.\r\n\r\nFor example, there is a jar namely myjar.jar in lab_directory\r\n\r\ni) move to lab_directory and extract myjar.jar ( which has dir1/config.properties file )&lt;br&gt;\r\nii) copy dir1 in extracted folder to lab_directory folder&lt;br&gt;\r\niii) modify lab_directory/dir1/config.properties&lt;br&gt;\r\niv) Run following command in lab_directory&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**jar -uf myjar.jar dir1/config.properties**\r\n\r\nThat&#39;s it. Existing myjar.jar has been updated with modified config.properties file now.","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>I also faced this issue and tried the following way which worked well for me.</p>\n\n<p>NOTE : <strong>Dont' extract and build</strong> new jar again. Simply <strong>extract and update</strong> existing jar with modified file.</p>\n\n<p>For example, there is a jar namely myjar.jar in lab_directory</p>\n\n<p>i) move to lab_directory and extract myjar.jar ( which has dir1/config.properties file )<br>\nii) copy dir1 in extracted folder to lab_directory folder<br>\niii) modify lab_directory/dir1/config.properties<br>\niv) Run following command in lab_directory<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>jar -uf myjar.jar dir1/config.properties</strong></p>\n\n<p>That's it. Existing myjar.jar has been updated with modified config.properties file now.</p>\n"},{"tags":[],"owner":{"account_id":22580620,"reputation":111,"user_id":16765314,"display_name":"Alex Malyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671195875,"creation_date":1671195875,"answer_id":74824843,"question_id":41756011,"body_markdown":"*It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file*\r\n\r\nIt just means that we should use **no compression** by a command like this:\r\n\r\njar -uvf0 example_app.war DIR_TO_ADD\r\n\r\nWhere &quot;0&quot; means that no compression will be used.\r\n\r\nSee &quot;0&quot; options in:\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options\r\n\r\nSuch a way helped me to add the directory with files and run the java without errors like in the subject.","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p><em>It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file</em></p>\n<p>It just means that we should use <strong>no compression</strong> by a command like this:</p>\n<p>jar -uvf0 example_app.war DIR_TO_ADD</p>\n<p>Where &quot;0&quot; means that no compression will be used.</p>\n<p>See &quot;0&quot; options in:\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options</a></p>\n<p>Such a way helped me to add the directory with files and run the java without errors like in the subject.</p>\n"}],"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14854,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41767471,"answer_count":3,"score":3,"last_activity_date":1671195875,"creation_date":1484885712,"question_id":41756011,"body_markdown":"I know there are a dozen questions like this out there but I didn&#39;t find any of their solutions suitable for my case!\r\n\r\nSo, I&#39;m trying to pack a jar file for a Spring-Boot project using Maven. I&#39;ve created the whole project using IntelliJ IDEA and it runs under IDE. In order to build the package, I use `mvn package` from the command line.\r\n\r\nThe generated .jar file can be run on my development machine too but when I copy the .jar file to some raw docker container, it gives out the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to open nested entry &#39;BOOT-INF/lib/lucene-highlighter-5.4.1.jar&#39;. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\r\n\r\n\r\nAnd here&#39;s my `pom.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n                &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>I know there are a dozen questions like this out there but I didn't find any of their solutions suitable for my case!</p>\n\n<p>So, I'm trying to pack a jar file for a Spring-Boot project using Maven. I've created the whole project using IntelliJ IDEA and it runs under IDE. In order to build the package, I use <code>mvn package</code> from the command line.</p>\n\n<p>The generated .jar file can be run on my development machine too but when I copy the .jar file to some raw docker container, it gives out the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Unable to open nested entry 'BOOT-INF/lib/lucene-highlighter-5.4.1.jar'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\n</code></pre>\n\n<p>And here's my <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","certificate","itext","digital-signature"],"owner":{"account_id":27272476,"reputation":1,"user_id":20793584,"display_name":"18CSE039 SRIVARDHAN VASUDEVAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671195630,"creation_date":1671195515,"question_id":74824785,"body_markdown":"Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page.\r\nI am sharing my code below i have itext library reading and detaching the .pfx in the pdf.\r\nThe Output what I get is it writing the digital signature in the first page of the document, but my requirement is to write it on all pdf pages.From My analysis the The sign is dispatched after calling \r\n\r\n```\r\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\r\n```\r\n\r\n\r\n**Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.DocumentException: Document already pre closed.**\r\n\r\nit is the exception what I am getting while looping the pages.\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage digitalsigning;\r\n\r\n/**\r\n *\r\n * @author srivardhan.vasudevan\r\n */\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.security.GeneralSecurityException;\r\nimport java.security.KeyStore;\r\nimport java.security.PrivateKey;\r\nimport java.security.cert.Certificate;\r\nimport java.util.Enumeration;\r\nimport com.itextpdf.text.DocumentException;\r\nimport com.itextpdf.text.pdf.PdfReader;\r\nimport com.itextpdf.text.pdf.PdfSignatureAppearance;\r\nimport com.itextpdf.text.pdf.PdfStamper;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.text.pdf.security.BouncyCastleDigest;\r\nimport com.itextpdf.text.pdf.security.ExternalDigest;\r\nimport com.itextpdf.text.pdf.security.ExternalSignature;\r\nimport com.itextpdf.text.pdf.security.MakeSignature;\r\nimport com.itextpdf.text.pdf.security.PrivateKeySignature;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\npublic class Digitalsigning{\r\npublic static void main(String[] args) throws FileNotFoundException, GeneralSecurityException, IOException, DocumentException {\r\n\tKeyStore ks;\r\n\tPrivateKey pk = null;\r\n\tCertificate[] chain=null;\r\n        String signedFileName = &quot;D:/PDF/new.pdfSigned.pdf&quot;;\r\n\tString inputPdfName = &quot;D:/PDF/nameddestinations.pdf&quot;;\r\n       File newfile = new File(inputPdfName);\r\n         \r\n\t\r\n\tPdfReader reader = null;\r\n\tPdfStamper stamper = null;\r\n\ttry {\r\n        if(true){\r\n       \t java.security.Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n       \t String digiPCred = &quot;llmsprod&quot;; // PDF password \r\n       \t ks = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n         byte[] array = Files.readAllBytes(Paths.get(&quot;D:\\\\Pfxname\\\\llmsprod.pfx&quot;));\r\n       \t\r\n       \t\t InputStream is = new ByteArrayInputStream(array);\r\n       \t\t ks.load(is, digiPCred.toCharArray());\r\n     //  \t ks.load(new FileInputStream(&quot;D:\\\\Pfxname&quot;), digiPCred.toCharArray());\r\n       \t\r\n       \t String alias = &quot;abbb&quot;;\r\n       \t Enumeration&lt;String&gt; aliases = ks.aliases();\r\n       \t while (aliases.hasMoreElements()) {\r\n       \t\t alias = aliases.nextElement();\r\n       \t\t pk = (PrivateKey) ks.getKey(alias, digiPCred.toCharArray());\r\n       \t\t \tif (pk != null) {\r\n       \t\t \t\tbreak;\r\n       \t\t \t\t}\r\n       \t \t}\r\n             chain = ks.getCertificateChain(alias);\r\n        }       \r\n                    reader = new PdfReader(inputPdfName);\r\n            try {\r\n\t\t    OutputStream os = new FileOutputStream(signedFileName);\r\n\t\t    stamper = PdfStamper.createSignature(reader, os, &#39;\\0&#39;, null, false);\r\n                   \r\n\t    }\r\n          catch(Exception e){\r\n              e.printStackTrace();\r\n          }\r\n            PdfSignatureAppearance appearance = null;\r\n            try {\r\n                if (stamper != null) {\r\n                    appearance = stamper.getSignatureAppearance();\r\n                }\r\n            } catch (NullPointerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n          int top = 100;\r\n          int pages = reader.getNumberOfPages();\r\n        \r\n          for (int i = 1; i &lt;= pages; i++) {\r\n\r\n            appearance.setVisibleSignature(new com.itextpdf.text.Rectangle(0, 1, 300, 109), 1, &quot;sig&quot;);\r\n          \r\n\t    String algorithm = &quot;SHA384&quot;;\r\n\t    /*switch (4) {\r\n\t\tcase 1:\r\n\t\t    algorithm = &quot;RIPEMD160&quot;;\r\n\t\t    break;\r\n\t\tcase 2:\r\n\t\t    algorithm = &quot;SHA1&quot;;\r\n\t\t    break;\r\n\t\tcase 3:\r\n\t\t    algorithm = &quot;SHA256&quot;;\r\n\t\t    break;\r\n\t\tcase 4:\r\n\t\t    algorithm = &quot;SHA384&quot;;\r\n\t\t    break;\r\n\t\tcase 5:\r\n\t\t    algorithm = &quot;SHA512&quot;;\r\n\t\t    break;\r\n                    \r\n\t    }*/\r\n          \r\nExternalDigest digest = new BouncyCastleDigest();\r\nExternalSignature es = new PrivateKeySignature(pk, algorithm, &quot;BC&quot;);\r\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\r\n            \r\n        } \r\n         \r\n          \r\n        }catch (GeneralSecurityException ex) {\r\n\t     //OMSLayoutLogger.printErr(ex.toString(), ex);\r\n            throw new GeneralSecurityException(ex);\r\n        } catch (IOException ex) {\r\n\t    if (ex.toString().contains(&quot;BadPaddingException&quot;)) {\r\n\t\t//OMSLayoutLogger.printErr(&quot;*****************************Password incorrect***************************&quot;, ex);\r\n\t    } else if (ex.toString().contains(&quot;FileNotFoundException&quot;)) {\r\n\t\t//OMSLayoutLogger.printErr(&quot;*******************.PFX file or PDF not found**************************&quot;, ex);\r\n\t    } else {\r\n\t\t//OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\r\n\t    }\r\n            throw new IOException(ex);\r\n\t} catch (DocumentException ex) {\r\n\t    //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\r\n            throw new DocumentException(ex);\r\n        }\r\n\tfinally{\r\n\t\tif(reader != null) {\r\n\t\t\treader.close();\r\n\t\t}\r\n\ttry {\r\n\t}catch (Exception e) {\r\n\t    throw e;\r\n\t}\r\n\t}  \r\n\t}\r\n}\r\n```\r\n\r\n","title":"Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page","body":"<p>Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page.\nI am sharing my code below i have itext library reading and detaching the .pfx in the pdf.\nThe Output what I get is it writing the digital signature in the first page of the document, but my requirement is to write it on all pdf pages.From My analysis the The sign is dispatched after calling</p>\n<pre><code>MakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\n</code></pre>\n<p><strong>Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.DocumentException: Document already pre closed.</strong></p>\n<p>it is the exception what I am getting while looping the pages.</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage digitalsigning;\n\n/**\n *\n * @author srivardhan.vasudevan\n */\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.GeneralSecurityException;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.cert.Certificate;\nimport java.util.Enumeration;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfSignatureAppearance;\nimport com.itextpdf.text.pdf.PdfStamper;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.text.pdf.security.BouncyCastleDigest;\nimport com.itextpdf.text.pdf.security.ExternalDigest;\nimport com.itextpdf.text.pdf.security.ExternalSignature;\nimport com.itextpdf.text.pdf.security.MakeSignature;\nimport com.itextpdf.text.pdf.security.PrivateKeySignature;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\npublic class Digitalsigning{\npublic static void main(String[] args) throws FileNotFoundException, GeneralSecurityException, IOException, DocumentException {\n    KeyStore ks;\n    PrivateKey pk = null;\n    Certificate[] chain=null;\n        String signedFileName = &quot;D:/PDF/new.pdfSigned.pdf&quot;;\n    String inputPdfName = &quot;D:/PDF/nameddestinations.pdf&quot;;\n       File newfile = new File(inputPdfName);\n         \n    \n    PdfReader reader = null;\n    PdfStamper stamper = null;\n    try {\n        if(true){\n         java.security.Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n         String digiPCred = &quot;llmsprod&quot;; // PDF password \n         ks = KeyStore.getInstance(&quot;pkcs12&quot;);\n         byte[] array = Files.readAllBytes(Paths.get(&quot;D:\\\\Pfxname\\\\llmsprod.pfx&quot;));\n        \n             InputStream is = new ByteArrayInputStream(array);\n             ks.load(is, digiPCred.toCharArray());\n     //      ks.load(new FileInputStream(&quot;D:\\\\Pfxname&quot;), digiPCred.toCharArray());\n        \n         String alias = &quot;abbb&quot;;\n         Enumeration&lt;String&gt; aliases = ks.aliases();\n         while (aliases.hasMoreElements()) {\n             alias = aliases.nextElement();\n             pk = (PrivateKey) ks.getKey(alias, digiPCred.toCharArray());\n                if (pk != null) {\n                    break;\n                    }\n            }\n             chain = ks.getCertificateChain(alias);\n        }       \n                    reader = new PdfReader(inputPdfName);\n            try {\n            OutputStream os = new FileOutputStream(signedFileName);\n            stamper = PdfStamper.createSignature(reader, os, '\\0', null, false);\n                   \n        }\n          catch(Exception e){\n              e.printStackTrace();\n          }\n            PdfSignatureAppearance appearance = null;\n            try {\n                if (stamper != null) {\n                    appearance = stamper.getSignatureAppearance();\n                }\n            } catch (NullPointerException ex) {\n                ex.printStackTrace();\n            }\n          int top = 100;\n          int pages = reader.getNumberOfPages();\n        \n          for (int i = 1; i &lt;= pages; i++) {\n\n            appearance.setVisibleSignature(new com.itextpdf.text.Rectangle(0, 1, 300, 109), 1, &quot;sig&quot;);\n          \n        String algorithm = &quot;SHA384&quot;;\n        /*switch (4) {\n        case 1:\n            algorithm = &quot;RIPEMD160&quot;;\n            break;\n        case 2:\n            algorithm = &quot;SHA1&quot;;\n            break;\n        case 3:\n            algorithm = &quot;SHA256&quot;;\n            break;\n        case 4:\n            algorithm = &quot;SHA384&quot;;\n            break;\n        case 5:\n            algorithm = &quot;SHA512&quot;;\n            break;\n                    \n        }*/\n          \nExternalDigest digest = new BouncyCastleDigest();\nExternalSignature es = new PrivateKeySignature(pk, algorithm, &quot;BC&quot;);\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\n            \n        } \n         \n          \n        }catch (GeneralSecurityException ex) {\n         //OMSLayoutLogger.printErr(ex.toString(), ex);\n            throw new GeneralSecurityException(ex);\n        } catch (IOException ex) {\n        if (ex.toString().contains(&quot;BadPaddingException&quot;)) {\n        //OMSLayoutLogger.printErr(&quot;*****************************Password incorrect***************************&quot;, ex);\n        } else if (ex.toString().contains(&quot;FileNotFoundException&quot;)) {\n        //OMSLayoutLogger.printErr(&quot;*******************.PFX file or PDF not found**************************&quot;, ex);\n        } else {\n        //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\n        }\n            throw new IOException(ex);\n    } catch (DocumentException ex) {\n        //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\n            throw new DocumentException(ex);\n        }\n    finally{\n        if(reader != null) {\n            reader.close();\n        }\n    try {\n    }catch (Exception e) {\n        throw e;\n    }\n    }  \n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","iterator","nosuchelementexception"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1671195052,"post_id":74824601,"comment_id":132052157,"body_markdown":"You are calling `iterator2.next()` twice inside your loop. Not only do you not know if that is possible because your `hasNext()` check only makes sure it has one next element, but also will it give you completely wrong results as you take the key and value from different entries. Call it once in the loop and save the result, then use that result to get key value from that one single call.","body":"You are calling <code>iterator2.next()</code> twice inside your loop. Not only do you not know if that is possible because your <code>hasNext()</code> check only makes sure it has one next element, but also will it give you completely wrong results as you take the key and value from different entries. Call it once in the loop and save the result, then use that result to get key value from that one single call."},{"owner":{"display_name":"user18906827"},"score":0,"creation_date":1671195768,"post_id":74824601,"comment_id":132052418,"body_markdown":"Got it, thanks!I was blended by the fact that it worked with my solution whenever i deleted the empty line.","body":"Got it, thanks!I was blended by the fact that it worked with my solution whenever i deleted the empty line."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671195144,"creation_date":1671195144,"answer_id":74824723,"question_id":74824601,"body_markdown":"In your `while(iterator2.hasNext())` loop you call `iterator2.next()` twice which means that the iterator advances twice each time.\r\n\r\nWith the empty line present your input has an odd number of lines at that means the last time through the while loop there is no element left for the `iterator2.next().getValue()` call.\r\n\r\nIt would be better to use the &quot;for-each&quot; idiom:\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; e: map.entrySet()) {\r\n            String key = e.getKey();\r\n            int value = e.getValue();\r\n\r\n            System.out.println(key + &quot; &quot; + value);\r\n        }\r\n\r\n","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>In your <code>while(iterator2.hasNext())</code> loop you call <code>iterator2.next()</code> twice which means that the iterator advances twice each time.</p>\n<p>With the empty line present your input has an odd number of lines at that means the last time through the while loop there is no element left for the <code>iterator2.next().getValue()</code> call.</p>\n<p>It would be better to use the &quot;for-each&quot; idiom:</p>\n<pre><code>    for (Map.Entry&lt;String, Integer&gt; e: map.entrySet()) {\n        String key = e.getKey();\n        int value = e.getValue();\n\n        System.out.println(key + &quot; &quot; + value);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9497623,"reputation":36,"user_id":7060029,"display_name":"K. Zander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671195607,"creation_date":1671195607,"answer_id":74824803,"question_id":74824601,"body_markdown":"Adding to Thomas&#39; answer, here&#39;s two more ways to iterate over a `Map`&#39;s entries:\r\n```java\r\n// Iterator and for-loop\r\nfor (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator(); it.hasNext(); ) {\r\n  Map.Entry&lt;String, Integer&gt; e = it.next();\r\n  String key = e.getKey();\r\n  int value = e.getValue();\r\n\r\n  System.out.println(key + &quot; &quot; + value);\r\n}\r\n// forEach with lambda\r\nmap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\n```\r\n","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>Adding to Thomas' answer, here's two more ways to iterate over a <code>Map</code>'s entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Iterator and for-loop\nfor (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator(); it.hasNext(); ) {\n  Map.Entry&lt;String, Integer&gt; e = it.next();\n  String key = e.getKey();\n  int value = e.getValue();\n\n  System.out.println(key + &quot; &quot; + value);\n}\n// forEach with lambda\nmap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\n</code></pre>\n"}],"owner":{"display_name":"user18906827"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74824723,"answer_count":2,"score":-2,"last_activity_date":1671195607,"creation_date":1671194531,"question_id":74824601,"body_markdown":"Hi i&#39;m doing some training on ArrayLists and HashMap. \r\n\r\nI&#39;m parsing a file with BufferedReader, add each line to the ArrayList&lt;String&gt; *readList* and now I like to create a HashMap&lt;String,Integer&gt; *map* where the Key is the readList entry and the Value is the line count. \r\n\r\nWhen i use a Lambda command so print the k,v everything works fine. However when i try to use the Iterator to save the k,v to variables, i&#39;m getting a NoSuchElementException error. What am I doing wrong ? (Just fyi when i delete the empty line in the file, everything works fine) \r\n\r\n            String sourceFile = &quot;newtestfile.txt&quot;;\r\n            BufferedReader br = new BufferedReader(new FileReader(sourceFile));\r\n            String line = br.readLine();\r\n            ArrayList&lt;String&gt; readListe = new ArrayList&lt;&gt;();  \r\n\r\n            while(line != null){\r\n                readListe.add(line);\r\n                line = br.readLine();\r\n            }\r\n\r\n            HashMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i = 0; i&lt;readListe.size() ;i++){\r\n                map.put(readListe.get(i), i+1);\r\n            }\r\n    \r\n            //map.forEach((k,v) -&gt; System.out.println(k));\r\n            Iterator&lt;Map.Entry&lt;String,Integer&gt;&gt; iterator2 = map.entrySet().iterator();\r\n            while(iterator2.hasNext()){\r\n                String key = iterator2.next().getKey();\r\n                int value = iterator2.next().getValue();\r\n\r\n                System.out.println(key + &quot; &quot; + value);\r\n            }\r\n    \r\n\r\n\r\n    **Source file:** \r\n \r\n    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren\r\n    NewLine ipsum dolor sit amet, consetetur sadipscing elitr, \r\n    This is line 3\r\n    //EMPTY LINE\r\n    John Doe\r\n    //END OF FILE\r\n ","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>Hi i'm doing some training on ArrayLists and HashMap.</p>\n<p>I'm parsing a file with BufferedReader, add each line to the ArrayList <em>readList</em> and now I like to create a HashMap&lt;String,Integer&gt; <em>map</em> where the Key is the readList entry and the Value is the line count.</p>\n<p>When i use a Lambda command so print the k,v everything works fine. However when i try to use the Iterator to save the k,v to variables, i'm getting a NoSuchElementException error. What am I doing wrong ? (Just fyi when i delete the empty line in the file, everything works fine)</p>\n<pre><code>        String sourceFile = &quot;newtestfile.txt&quot;;\n        BufferedReader br = new BufferedReader(new FileReader(sourceFile));\n        String line = br.readLine();\n        ArrayList&lt;String&gt; readListe = new ArrayList&lt;&gt;();  \n\n        while(line != null){\n            readListe.add(line);\n            line = br.readLine();\n        }\n\n        HashMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i = 0; i&lt;readListe.size() ;i++){\n            map.put(readListe.get(i), i+1);\n        }\n\n        //map.forEach((k,v) -&gt; System.out.println(k));\n        Iterator&lt;Map.Entry&lt;String,Integer&gt;&gt; iterator2 = map.entrySet().iterator();\n        while(iterator2.hasNext()){\n            String key = iterator2.next().getKey();\n            int value = iterator2.next().getValue();\n\n            System.out.println(key + &quot; &quot; + value);\n        }\n\n\n\n**Source file:** \n\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren\nNewLine ipsum dolor sit amet, consetetur sadipscing elitr, \nThis is line 3\n//EMPTY LINE\nJohn Doe\n//END OF FILE\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":1,"creation_date":1670957731,"post_id":74788438,"comment_id":131991951,"body_markdown":"Hi! What do you plan to happen if &#39;name&#39; is null/empty but one of the other field is not? What do you mean exactly by &quot;ignore null values&quot;?","body":"Hi! What do you plan to happen if &#39;name&#39; is null/empty but one of the other field is not? What do you mean exactly by &quot;ignore null values&quot;?"},{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1671076808,"post_id":74788438,"comment_id":132021427,"body_markdown":"ignore null as literally give me the field that is non null non empty...\nthe json has 3 fields that contain THE SAME information, but sometimes 1 or 2 these fields are null and the information is just in the one... so i want jackson deserialize only the field that is non null to my java pojo... this field will change from request to request","body":"ignore null as literally give me the field that is non null non empty... the json has 3 fields that contain THE SAME information, but sometimes 1 or 2 these fields are null and the information is just in the one... so i want jackson deserialize only the field that is non null to my java pojo... this field will change from request to request"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670965670,"creation_date":1670962225,"answer_id":74790377,"question_id":74788438,"body_markdown":"# Multiple Setters\r\n\r\nOne of the possible options is to define a bunch of additional setters for each duplicated property, annotated with [`@JsonSetter`][jsonSetter] to map each setter to a corresponding property flavor.\r\n\r\nTo avoid logic duplication, every additional setter should delegate to a regular setter, which should determine if the existing value needs to be updated (*if it&#39;s empty, null, etc.*).\r\n\r\n    public class MyPojo {\r\n        public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\r\n            s -&gt; s == null || s.isEmpty(); // predicate can be reused to check multiple properties\r\n\r\n        private String name;\r\n        \r\n        @JsonSetter(&quot;name&quot;)\r\n        public void setName(String name) {\r\n            if (NULL_OR_EMPTY.test(this.name)) this.name = name;\r\n        }\r\n    \r\n        @JsonSetter(&quot;full_name&quot;)\r\n        public void setName1(String name) {\r\n            setName(name);\r\n        }\r\n    \r\n        @JsonSetter(&quot;fullName&quot;)\r\n        public void setName2(String name) {\r\n            setName(name);\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nString json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\r\n    \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nMyPojo myPojo = mapper.readValue(json, MyPojo.class);\r\nSystem.out.println(myPojo);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMyPojo{name=&#39;name&#39;}\r\n```\r\n\r\nThe drawbacks of this approach are the usage of &quot;smart-setters&quot;, which might not considered to be clean (because it violates the Single responsibility principle, setters aren&#39;t meant to perform validation) and domain class gets polluted with additional setter methods. Both issues can be solved by externalizing this functionality.\r\n\r\n# Custom Converter\r\n\r\nAnother possible solution is to customize deserialization by defining a Converter for the target type.\r\n\r\n***Note:** don&#39;t confuse Converter and Deserializer. Deserializer is meant to provide logic how to construct a POJO based on the information contained in the JsonParser, whilst Converter is used to transform one POJO (which is easier to deserialize) into another POJO.*\r\n\r\nSo we need to create two classes: Converter and auxiliary type reflecting the data model of the incoming JSON.\r\n\r\nConsider the following auxiliary POJO:\r\n\r\n    public record AuxiliaryPojo(\r\n        @JsonProperty(&quot;name&quot;) String name,\r\n        @JsonProperty(&quot;full_name&quot;) String name1,\r\n        @JsonProperty(&quot;fullName&quot;) String name2\r\n    ) {}\r\n\r\nAnd that&#39;s the Converter extending `StdConverter` that bridges `AuxiliaryPojo` and `MyPojo`:\r\n\r\n    public class AuxiliaryPojoToMyPojo extends StdConverter&lt;AuxiliaryPojo, MyPojo&gt; {\r\n        public static final Predicate&lt;String&gt; NOT_NULL_OR_EMPTY =\r\n            s -&gt; s != null &amp;&amp; !s.isEmpty();\r\n    \r\n        @Override\r\n        public MyPojo convert(AuxiliaryPojo v) {\r\n            return MyPojo.builder()\r\n                .name(findMatching(v.name(), v.name1(), v.name2()))\r\n                .build();\r\n        }\r\n        \r\n        private String findMatching(String... args) {\r\n            return Arrays.stream(args)\r\n                .filter(NOT_NULL_OR_EMPTY)\r\n                .findFirst().orElse(null);\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the domain class (*free from any redundant code*). Note that Converter has been specified via `converter` property of the [`@JsonDeserialize`][jsonDeserialize] annotation.\r\n\r\n    @Getter\r\n    @Builder\r\n    @JsonDeserialize(converter = AuxiliaryPojoToMyPojo.class)\r\n    public static class MyPojo {\r\n        private String name;\r\n    }\r\n\r\nThat would be enough to parse the sample JSON into an instance of `MyPojo`:\r\n\r\n```\r\nString json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\r\n    \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nMyPojo myPojo = mapper.readValue(json,bMyPojo.class);\r\nSystem.out.println(myPojo);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMyPojo{name=&#39;name&#39;}\r\n```\r\n\r\n\r\n\r\n   [jsonSetter]: http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\r\n\r\n   [jsonDeserialize]: https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html","title":"Jackson use the first non-null alias","body":"<h1>Multiple Setters</h1>\n<p>One of the possible options is to define a bunch of additional setters for each duplicated property, annotated with <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"nofollow noreferrer\"><code>@JsonSetter</code></a> to map each setter to a corresponding property flavor.</p>\n<p>To avoid logic duplication, every additional setter should delegate to a regular setter, which should determine if the existing value needs to be updated (<em>if it's empty, null, etc.</em>).</p>\n<pre><code>public class MyPojo {\n    public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\n        s -&gt; s == null || s.isEmpty(); // predicate can be reused to check multiple properties\n\n    private String name;\n    \n    @JsonSetter(&quot;name&quot;)\n    public void setName(String name) {\n        if (NULL_OR_EMPTY.test(this.name)) this.name = name;\n    }\n\n    @JsonSetter(&quot;full_name&quot;)\n    public void setName1(String name) {\n        setName(name);\n    }\n\n    @JsonSetter(&quot;fullName&quot;)\n    public void setName2(String name) {\n        setName(name);\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>String json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\n    \nObjectMapper mapper = new ObjectMapper();\n        \nMyPojo myPojo = mapper.readValue(json, MyPojo.class);\nSystem.out.println(myPojo);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyPojo{name='name'}\n</code></pre>\n<p>The drawbacks of this approach are the usage of &quot;smart-setters&quot;, which might not considered to be clean (because it violates the Single responsibility principle, setters aren't meant to perform validation) and domain class gets polluted with additional setter methods. Both issues can be solved by externalizing this functionality.</p>\n<h1>Custom Converter</h1>\n<p>Another possible solution is to customize deserialization by defining a Converter for the target type.</p>\n<p><em><strong>Note:</strong> don't confuse Converter and Deserializer. Deserializer is meant to provide logic how to construct a POJO based on the information contained in the JsonParser, whilst Converter is used to transform one POJO (which is easier to deserialize) into another POJO.</em></p>\n<p>So we need to create two classes: Converter and auxiliary type reflecting the data model of the incoming JSON.</p>\n<p>Consider the following auxiliary POJO:</p>\n<pre><code>public record AuxiliaryPojo(\n    @JsonProperty(&quot;name&quot;) String name,\n    @JsonProperty(&quot;full_name&quot;) String name1,\n    @JsonProperty(&quot;fullName&quot;) String name2\n) {}\n</code></pre>\n<p>And that's the Converter extending <code>StdConverter</code> that bridges <code>AuxiliaryPojo</code> and <code>MyPojo</code>:</p>\n<pre><code>public class AuxiliaryPojoToMyPojo extends StdConverter&lt;AuxiliaryPojo, MyPojo&gt; {\n    public static final Predicate&lt;String&gt; NOT_NULL_OR_EMPTY =\n        s -&gt; s != null &amp;&amp; !s.isEmpty();\n\n    @Override\n    public MyPojo convert(AuxiliaryPojo v) {\n        return MyPojo.builder()\n            .name(findMatching(v.name(), v.name1(), v.name2()))\n            .build();\n    }\n    \n    private String findMatching(String... args) {\n        return Arrays.stream(args)\n            .filter(NOT_NULL_OR_EMPTY)\n            .findFirst().orElse(null);\n    }\n}\n</code></pre>\n<p>And here's the domain class (<em>free from any redundant code</em>). Note that Converter has been specified via <code>converter</code> property of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\"><code>@JsonDeserialize</code></a> annotation.</p>\n<pre><code>@Getter\n@Builder\n@JsonDeserialize(converter = AuxiliaryPojoToMyPojo.class)\npublic static class MyPojo {\n    private String name;\n}\n</code></pre>\n<p>That would be enough to parse the sample JSON into an instance of <code>MyPojo</code>:</p>\n<pre><code>String json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\n    \nObjectMapper mapper = new ObjectMapper();\n        \nMyPojo myPojo = mapper.readValue(json,bMyPojo.class);\nSystem.out.println(myPojo);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyPojo{name='name'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670966307,"creation_date":1670966307,"answer_id":74790963,"question_id":74788438,"body_markdown":"An other solution is to ignore additionnal fields &#39;fullName&#39; and &#39;full_name&#39; using annotation `@JsonIgnoreProperties` and a custom deserializer that throws an exception when name property is null (or equal to string &quot;null&quot;) so that you can catch that exception in order not to create a person when name is null.\r\n\r\nSee code below:\r\n\r\n**Class Person**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    \r\n    @JsonIgnoreProperties({ &quot;fullName&quot;, &quot;full_name&quot; })\r\n    public class Person {\r\n    \t@JsonProperty(&quot;name&quot;)\r\n    \t@JsonDeserialize(using = CustomNameDeserializer.class)\r\n    \tprivate String name;\r\n    \r\n    \tpublic Person() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic String toString() {\r\n    \t\treturn &quot;name: &quot; + name;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] personArrayJson = new String[3];\r\n    \t\tpersonArrayJson[0]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull1\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \t\tpersonArrayJson[1]=&quot;{ \\&quot;name\\&quot; : \\&quot;null\\&quot;, \\&quot;full_name\\&quot; : \\&quot;\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \t\tpersonArrayJson[2]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull2\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \r\n    \t\tList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tPerson p;\r\n    \t\tfor (String personJson : personArrayJson) {\r\n    \t\t\ttry {\r\n    \t\t\t\tp = mapper.readValue(personJson, Person.class);\r\n    \t\t\t\tpersons.add(p);\r\n    \t\t\t} catch (JsonProcessingException e) {\r\n    \t\t\t\t//e.printStackTrace();\r\n    \t\t\t\tSystem.out.println(&quot;NAme is null: not deserialized&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Persons list contains &quot;+persons.size()+&quot; persons =&gt; &quot;+persons);\r\n    \t}\r\n    }\r\n\r\n**Class CustomNameDeserializer**\r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JacksonException;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    public class CustomNameDeserializer extends StdDeserializer&lt;String&gt; {\r\n    \r\n    \tpublic CustomNameDeserializer(Class&lt;String&gt; s) {\r\n    \t\tsuper(s);\r\n    \t}\r\n    \r\n    \tpublic CustomNameDeserializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException, NullPointerException{\r\n    \t\tString n = p.getValueAsString();\r\n    \t\tif(n==null || n.equals(&quot;null&quot;) || n.trim().equals(&quot;&quot;))\r\n    \t\t\tthrow new NullPointerException(&quot;Name is null&quot;);\r\n    \t\treturn n;\r\n    \t}\r\n    }\r\n\r\nHope it helps","title":"Jackson use the first non-null alias","body":"<p>An other solution is to ignore additionnal fields 'fullName' and 'full_name' using annotation <code>@JsonIgnoreProperties</code> and a custom deserializer that throws an exception when name property is null (or equal to string &quot;null&quot;) so that you can catch that exception in order not to create a person when name is null.</p>\n<p>See code below:</p>\n<p><strong>Class Person</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\n@JsonIgnoreProperties({ &quot;fullName&quot;, &quot;full_name&quot; })\npublic class Person {\n    @JsonProperty(&quot;name&quot;)\n    @JsonDeserialize(using = CustomNameDeserializer.class)\n    private String name;\n\n    public Person() {\n        super();\n    }\n\n    public String toString() {\n        return &quot;name: &quot; + name;\n    }\n\n    public static void main(String[] args) {\n        String[] personArrayJson = new String[3];\n        personArrayJson[0]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull1\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n        personArrayJson[1]=&quot;{ \\&quot;name\\&quot; : \\&quot;null\\&quot;, \\&quot;full_name\\&quot; : \\&quot;\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n        personArrayJson[2]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull2\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n\n        List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n        ObjectMapper mapper = new ObjectMapper();\n        Person p;\n        for (String personJson : personArrayJson) {\n            try {\n                p = mapper.readValue(personJson, Person.class);\n                persons.add(p);\n            } catch (JsonProcessingException e) {\n                //e.printStackTrace();\n                System.out.println(&quot;NAme is null: not deserialized&quot;);\n            }\n        }\n        \n        System.out.println(&quot;Persons list contains &quot;+persons.size()+&quot; persons =&gt; &quot;+persons);\n    }\n}\n</code></pre>\n<p><strong>Class CustomNameDeserializer</strong></p>\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.core.JacksonException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class CustomNameDeserializer extends StdDeserializer&lt;String&gt; {\n\n    public CustomNameDeserializer(Class&lt;String&gt; s) {\n        super(s);\n    }\n\n    public CustomNameDeserializer() {\n        this(null);\n    }\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException, NullPointerException{\n        String n = p.getValueAsString();\n        if(n==null || n.equals(&quot;null&quot;) || n.trim().equals(&quot;&quot;))\n            throw new NullPointerException(&quot;Name is null&quot;);\n        return n;\n    }\n}\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74790377,"answer_count":2,"score":2,"last_activity_date":1671195580,"creation_date":1670951075,"question_id":74788438,"body_markdown":"I&#39;m using Jackson to parse JSON data on a Spring Boot application, but Jackson is unable to select properly the JSON fields to map to the POJO fields.\r\n\r\n## Details\r\n\r\nFirstly, I&#39;m reading data from a third party library, and their data model has a lot of redundancy (namely the several properties can represent the same information), and I can&#39;t ask them to fix it.\r\n\r\nTheir JSON is something like that:\r\n\r\n    { &quot;name&quot; : &quot;name&quot;, &quot;full_name&quot; : &quot;name&quot;, &quot;fullName&quot; : &quot;name&quot;}\r\n\r\nthere are `3` properties in JSON containing the same information. But sometimes there would be **only one** of these properties which is *non-null*, like:\r\n\r\n    { &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}\r\n\r\nAnd that happens to many other properties.\r\n\r\nI&#39;ve tried to use `@JsonAlias` to extract the required (*non-null*) data from the incoming JSON, but it doesn&#39;t resolve the issue.\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    @JsonAlias({&quot;full_name&quot;,&quot;fullName&quot;})\r\n    private String name;\r\n\r\nFirst, that `@JsonAlias` is taking precedence from the `@JsonProperty` value. Second, it&#39;s not ignoring null values.\r\n\r\nHow can I make Jackson ignore `null` values in a situation like described above?","title":"Jackson use the first non-null alias","body":"<p>I'm using Jackson to parse JSON data on a Spring Boot application, but Jackson is unable to select properly the JSON fields to map to the POJO fields.</p>\n<h2>Details</h2>\n<p>Firstly, I'm reading data from a third party library, and their data model has a lot of redundancy (namely the several properties can represent the same information), and I can't ask them to fix it.</p>\n<p>Their JSON is something like that:</p>\n<pre><code>{ &quot;name&quot; : &quot;name&quot;, &quot;full_name&quot; : &quot;name&quot;, &quot;fullName&quot; : &quot;name&quot;}\n</code></pre>\n<p>there are <code>3</code> properties in JSON containing the same information. But sometimes there would be <strong>only one</strong> of these properties which is <em>non-null</em>, like:</p>\n<pre><code>{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}\n</code></pre>\n<p>And that happens to many other properties.</p>\n<p>I've tried to use <code>@JsonAlias</code> to extract the required (<em>non-null</em>) data from the incoming JSON, but it doesn't resolve the issue.</p>\n<pre><code>@JsonProperty(&quot;name&quot;)\n@JsonAlias({&quot;full_name&quot;,&quot;fullName&quot;})\nprivate String name;\n</code></pre>\n<p>First, that <code>@JsonAlias</code> is taking precedence from the <code>@JsonProperty</code> value. Second, it's not ignoring null values.</p>\n<p>How can I make Jackson ignore <code>null</code> values in a situation like described above?</p>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671193332,"post_id":74797317,"comment_id":132051669,"body_markdown":"I have edited your question, making the previously messy code more readable. Please be informed that space and line break characters don&#39;t cost extra money here. You may use both indentation and line breaks in order to hurt other people&#39;s eyes less, if you so choose. I also added syntax highlighting. Please learn how to use both. Thank you.","body":"I have edited your question, making the previously messy code more readable. Please be informed that space and line break characters don&#39;t cost extra money here. You may use both indentation and line breaks in order to hurt other people&#39;s eyes less, if you so choose. I also added syntax highlighting. Please learn how to use both. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671038553,"creation_date":1671038553,"answer_id":74802070,"question_id":74797317,"body_markdown":"You should not try to test several branches of your code in one test, so doing it in two tests is actually the right approach. If you try to find a simple description of your test and have to describe several kinds of results, then that&#39;s a hint that your approach is not good.\r\n\r\nA reminder, you should name your test methods with &quot;It...&quot;, for example:\r\n\r\n&quot;It returns a default SecureRandom, if no strong instance of SecureRandom can be found&quot;\r\n\r\nAnother point: You code never leaks a `NoSuchAlgorithmException` into Spec. This exception is caught in your production code, and then you retunr a valid `SecureRandom`.  You can only use `thrown()` if your code actually throws an exception, meaning this is a hard expectation. Your test will fail if the exception is not thrown.\r\n\r\n\r\n\r\n","title":"How to write spock test case for exception handling?","body":"<p>You should not try to test several branches of your code in one test, so doing it in two tests is actually the right approach. If you try to find a simple description of your test and have to describe several kinds of results, then that's a hint that your approach is not good.</p>\n<p>A reminder, you should name your test methods with &quot;It...&quot;, for example:</p>\n<p>&quot;It returns a default SecureRandom, if no strong instance of SecureRandom can be found&quot;</p>\n<p>Another point: You code never leaks a <code>NoSuchAlgorithmException</code> into Spec. This exception is caught in your production code, and then you retunr a valid <code>SecureRandom</code>.  You can only use <code>thrown()</code> if your code actually throws an exception, meaning this is a hard expectation. Your test will fail if the exception is not thrown.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671195527,"creation_date":1671195527,"answer_id":74824786,"question_id":74797317,"body_markdown":"Quoting my own comment:\r\n\r\n&gt; Why don&#39;t you want to change the application code in order to make it more testable? You could factor out the `SecureRandom.getInstanceStrong()` call into an extra method, calling it from `genRand()`, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes.\r\n\r\nI mean something like this:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74797317;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.util.Random;\r\n\r\npublic class RandomProvider {\r\n  public Random genRand() {\r\n    try {\r\n      return getRandStrong();\r\n    }\r\n    catch (NoSuchAlgorithmException e) {\r\n      System.err.println(e.getMessage());\r\n      return new SecureRandom();\r\n    }\r\n  }\r\n\r\n  protected SecureRandom getRandStrong() throws NoSuchAlgorithmException {\r\n    return SecureRandom.getInstanceStrong();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74797317\r\n\r\nimport spock.lang.Specification\r\n\r\nimport java.security.NoSuchAlgorithmException\r\n\r\nclass RandomProviderTest extends Specification {\r\n  def &quot;happy path&quot;() {\r\n    given:\r\n    RandomProvider randomProvider = new RandomProvider()\r\n\r\n    expect:\r\n    randomProvider.genRand()\r\n  }\r\n\r\n  def &quot;exception test case&quot;() {\r\n    given:\r\n    RandomProvider randomProvider = Spy() {\r\n      getRandStrong() &gt;&gt; { throw new NoSuchAlgorithmException(&quot;oops&quot;) }\r\n    }\r\n\r\n    expect:\r\n    randomProvider.genRand()\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJydU7FOwzAQ3fMVp07pYgmBVAECiYGBAYQIOzLONTEktjlf2kao_47tpqWBdoDFsn3v7t69Zzup3mWFUKLwirr2pZWekYTnELALpHljl-JjdjY7n52ezLJMt84Sg3dWvYtGmkoUDpWeayVZW7ONv8mFFB5VR5p78WCLTtU3TWXDsW5vVwpdQmeqkd7DkzSlbR_JLnSJ9IyeAVeMpvQwqg6fGQSqc5jU0rkenOR6kk_TNUClF2gu0nZcEGh8vAKDyx-YfJqlTFyFhrypMk4TFZqYE5DrbMsDt6MAR9ZKevwXocL1u7SQiBwTCiZrqnB_fQ2fwDXZZWJ-TM58Yq3zkymsU531HyaK6HX2N_cuD8OLuMHNwGNIx7oR20DmutdGKzj0ApIQQ3wTgR3VQSSmficXIXdkfqp2OYgQ1_B8VA35sUkAv7Uv-vABWoFEwpE23Jgcg1B8j96Hn5JPh8K7ttGR_Zn3OycLHFkODmA5gv0yOfnrj5o7EBya7leK7O5M-LFG4f7w0dEv_PdN7A).\r\n\r\nIn my IDE, the coverage view looks like this:\r\n\r\n[![Coverage report][1]][1]\r\n\r\n[![Class under test with covered methods highlighted][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QD5MU.png\r\n  [2]: https://i.stack.imgur.com/nKYog.png","title":"How to write spock test case for exception handling?","body":"<p>Quoting my own comment:</p>\n<blockquote>\n<p>Why don't you want to change the application code in order to make it more testable? You could factor out the <code>SecureRandom.getInstanceStrong()</code> call into an extra method, calling it from <code>genRand()</code>, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes.</p>\n</blockquote>\n<p>I mean something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74797317;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.util.Random;\n\npublic class RandomProvider {\n  public Random genRand() {\n    try {\n      return getRandStrong();\n    }\n    catch (NoSuchAlgorithmException e) {\n      System.err.println(e.getMessage());\n      return new SecureRandom();\n    }\n  }\n\n  protected SecureRandom getRandStrong() throws NoSuchAlgorithmException {\n    return SecureRandom.getInstanceStrong();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74797317\n\nimport spock.lang.Specification\n\nimport java.security.NoSuchAlgorithmException\n\nclass RandomProviderTest extends Specification {\n  def &quot;happy path&quot;() {\n    given:\n    RandomProvider randomProvider = new RandomProvider()\n\n    expect:\n    randomProvider.genRand()\n  }\n\n  def &quot;exception test case&quot;() {\n    given:\n    RandomProvider randomProvider = Spy() {\n      getRandStrong() &gt;&gt; { throw new NoSuchAlgorithmException(&quot;oops&quot;) }\n    }\n\n    expect:\n    randomProvider.genRand()\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJydU7FOwzAQ3fMVp07pYgmBVAECiYGBAYQIOzLONTEktjlf2kao_47tpqWBdoDFsn3v7t69Zzup3mWFUKLwirr2pZWekYTnELALpHljl-JjdjY7n52ezLJMt84Sg3dWvYtGmkoUDpWeayVZW7ONv8mFFB5VR5p78WCLTtU3TWXDsW5vVwpdQmeqkd7DkzSlbR_JLnSJ9IyeAVeMpvQwqg6fGQSqc5jU0rkenOR6kk_TNUClF2gu0nZcEGh8vAKDyx-YfJqlTFyFhrypMk4TFZqYE5DrbMsDt6MAR9ZKevwXocL1u7SQiBwTCiZrqnB_fQ2fwDXZZWJ-TM58Yq3zkymsU531HyaK6HX2N_cuD8OLuMHNwGNIx7oR20DmutdGKzj0ApIQQ3wTgR3VQSSmficXIXdkfqp2OYgQ1_B8VA35sUkAv7Uv-vABWoFEwpE23Jgcg1B8j96Hn5JPh8K7ttGR_Zn3OycLHFkODmA5gv0yOfnrj5o7EBya7leK7O5M-LFG4f7w0dEv_PdN7A\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>In my IDE, the coverage view looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/QD5MU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QD5MU.png\" alt=\"Coverage report\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nKYog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nKYog.png\" alt=\"Class under test with covered methods highlighted\" /></a></p>\n"}],"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671195527,"creation_date":1671016100,"question_id":74797317,"body_markdown":"I am learning Spock so this may be very basic.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public Random genRand() {\r\n      try {\r\n        return SecureRandom.getInstanceStrong();\r\n      }\r\n      catch (NoSuchAlgorithmException e) {\r\n        logger.debug(e.getMessage());\r\n        return new SecureRandom();\r\n      }\r\n    }\r\n\r\nWhat I have tried so far is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void setup() {\r\n      mockClassName = spy(ClassName)\r\n      mockClassName.logger() &gt;&gt; mockLogger\r\n    }\r\n\r\n    def &quot;exception test case&quot;() {\r\n      given: &quot;nothing&quot;\r\n\r\n      when:&quot;method call happens&quot;\r\n      mockClassName.genRand()\r\n\r\n      then:&quot;handle&quot;\r\n      SecureRandom.getInstanceStrong()\r\n    }\r\n\r\nThis covers the try block only.\r\n\r\nWhile trying: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void setup() {\r\n      mockClassName = spy(ClassName)\r\n      mockClassName.logger() &gt;&gt; mockLogger\r\n    }\r\n\r\n    def &quot;exception test case&quot;() {\r\n      given: &quot;nothing&quot;\r\n      SecureRandom.getInstanceStrong() &gt;&gt; Exception\r\n\r\n      when:&quot;method call happens&quot;\r\n      mockClassName.genRand()\r\n\r\n      then:&quot;catch&quot;\r\n      NoSuchAlgorithmException e = thrown()\r\n      new SecureRandom()\r\n    }\r\n\r\nThis gives the error, expected exception of type `java.security.NoSuchAlgorithmException`, but no exception was thrown.\r\n\r\nIs it possible to do both try and catch in one test case? Feel free to make two.","title":"How to write spock test case for exception handling?","body":"<p>I am learning Spock so this may be very basic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Random genRand() {\n  try {\n    return SecureRandom.getInstanceStrong();\n  }\n  catch (NoSuchAlgorithmException e) {\n    logger.debug(e.getMessage());\n    return new SecureRandom();\n  }\n}\n</code></pre>\n<p>What I have tried so far is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setup() {\n  mockClassName = spy(ClassName)\n  mockClassName.logger() &gt;&gt; mockLogger\n}\n\ndef &quot;exception test case&quot;() {\n  given: &quot;nothing&quot;\n\n  when:&quot;method call happens&quot;\n  mockClassName.genRand()\n\n  then:&quot;handle&quot;\n  SecureRandom.getInstanceStrong()\n}\n</code></pre>\n<p>This covers the try block only.</p>\n<p>While trying:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setup() {\n  mockClassName = spy(ClassName)\n  mockClassName.logger() &gt;&gt; mockLogger\n}\n\ndef &quot;exception test case&quot;() {\n  given: &quot;nothing&quot;\n  SecureRandom.getInstanceStrong() &gt;&gt; Exception\n\n  when:&quot;method call happens&quot;\n  mockClassName.genRand()\n\n  then:&quot;catch&quot;\n  NoSuchAlgorithmException e = thrown()\n  new SecureRandom()\n}\n</code></pre>\n<p>This gives the error, expected exception of type <code>java.security.NoSuchAlgorithmException</code>, but no exception was thrown.</p>\n<p>Is it possible to do both try and catch in one test case? Feel free to make two.</p>\n"},{"tags":["java","sonarqube","apache-poi"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1671158700,"post_id":74819598,"comment_id":132044000,"body_markdown":"Lots of ways to do this, but I&#39;d probably move the inner `for` loop to a method of its own, something like `private void applyStyleToNegativeNumbersInSheet(CellStyle style, XSSFSheet sheet)` which has the added benefit of explaining what&#39;s happening.","body":"Lots of ways to do this, but I&#39;d probably move the inner <code>for</code> loop to a method of its own, something like <code>private void applyStyleToNegativeNumbersInSheet(CellStyle style, XSSFSheet sheet)</code> which has the added benefit of explaining what&#39;s happening."}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671195464,"creation_date":1671195464,"answer_id":74824778,"question_id":74819598,"body_markdown":"The methods should have better names but this should help with the refactoring.\r\n\r\n    private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\r\n            if (Objects.isNull(content)) return;\r\n            try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\r\n                 final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n                 final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\r\n                final CellStyle style = getCellStyle(workbook);\r\n                for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\r\n                    cellLoop(style, workbook.getSheetAt(sheetIndex));\r\n                }\r\n                workbook.write(byteStream);\r\n                content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\r\n                content.setContentLength(byteStream.size());\r\n            }\r\n        }\r\n    \r\n        private CellStyle getCellStyle(XSSFWorkbook workbook) {\r\n            final CellStyle style = workbook.createCellStyle();\r\n            XSSFFont font = workbook.createFont();\r\n            font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\r\n            style.setFont(font);\r\n            return style;\r\n        }\r\n    \r\n        private void cellLoop(CellStyle style, XSSFSheet sheetAt) {\r\n            for (Row row : sheetAt) {\r\n                setCellStyle(style, row.cellIterator());\r\n            }\r\n        }\r\n    \r\n        private void setCellStyle(CellStyle style, Iterator&lt;Cell&gt; cellIterator) {\r\n            while (cellIterator.hasNext()) {\r\n                Cell cell = cellIterator.next();\r\n                if (cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0) cell.setCellStyle(style);\r\n            }\r\n        }","title":"Refactor this method to reduce its Cognitive Complexity from 16 to the 15 allowed. How to refactor and reduce the complexity","body":"<p>The methods should have better names but this should help with the refactoring.</p>\n<pre><code>private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\n        if (Objects.isNull(content)) return;\n        try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\n             final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n             final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\n            final CellStyle style = getCellStyle(workbook);\n            for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\n                cellLoop(style, workbook.getSheetAt(sheetIndex));\n            }\n            workbook.write(byteStream);\n            content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\n            content.setContentLength(byteStream.size());\n        }\n    }\n\n    private CellStyle getCellStyle(XSSFWorkbook workbook) {\n        final CellStyle style = workbook.createCellStyle();\n        XSSFFont font = workbook.createFont();\n        font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\n        style.setFont(font);\n        return style;\n    }\n\n    private void cellLoop(CellStyle style, XSSFSheet sheetAt) {\n        for (Row row : sheetAt) {\n            setCellStyle(style, row.cellIterator());\n        }\n    }\n\n    private void setCellStyle(CellStyle style, Iterator&lt;Cell&gt; cellIterator) {\n        while (cellIterator.hasNext()) {\n            Cell cell = cellIterator.next();\n            if (cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0) cell.setCellStyle(style);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671195464,"creation_date":1671157887,"question_id":74819598,"body_markdown":"How can I reduce the complexity of the bellow piece of code? I am getting this error in SonarQube:\r\n\r\n&gt; High :Refactor this method to reduce its Cognitive Complexity from 16\r\n&gt; to the 15 allowed.\r\n\r\n\r\n    private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\r\n          if (!Objects.isNull(content)){\r\n            try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\r\n                 final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n                 final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\r\n              final CellStyle style = workbook.createCellStyle();\r\n              XSSFFont font = workbook.createFont();\r\n              font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\r\n              style.setFont(font);\r\n              for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\r\n                final XSSFSheet sheetAt = workbook.getSheetAt(sheetIndex);\r\n                for (Row row : sheetAt) {\r\n                  Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                  while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    if(cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0){\r\n                        cell.setCellStyle(style);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              workbook.write(byteStream);\r\n              content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\r\n              content.setContentLength(byteStream.size());\r\n            }\r\n          }\r\n      }","title":"Refactor this method to reduce its Cognitive Complexity from 16 to the 15 allowed. How to refactor and reduce the complexity","body":"<p>How can I reduce the complexity of the bellow piece of code? I am getting this error in SonarQube:</p>\n<blockquote>\n<p>High :Refactor this method to reduce its Cognitive Complexity from 16\nto the 15 allowed.</p>\n</blockquote>\n<pre><code>private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\n      if (!Objects.isNull(content)){\n        try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\n             final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n             final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\n          final CellStyle style = workbook.createCellStyle();\n          XSSFFont font = workbook.createFont();\n          font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\n          style.setFont(font);\n          for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\n            final XSSFSheet sheetAt = workbook.getSheetAt(sheetIndex);\n            for (Row row : sheetAt) {\n              Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n              while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                if(cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0){\n                    cell.setCellStyle(style);\n                }\n              }\n            }\n          }\n          workbook.write(byteStream);\n          content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\n          content.setContentLength(byteStream.size());\n        }\n      }\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671195155,"creation_date":1671187368,"answer_id":74823298,"question_id":74823244,"body_markdown":"To use a general exception handler, you can remove the try-catch block in your controller method and just let the exception be thrown. The exception will then be caught by the @ExceptionHandler method in your GeneralExceptionHandler class.\r\n\r\nYour controller can be simplified to the following:\r\n```java\r\n@GetMapping(&quot;/departments/{departmentId}&quot;)\r\npublic ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\r\n    logger.debug(&quot;Entering get item by id endpoint&quot;);\r\n    DepartmentDTO departmentDTO = departmentService.getDepartmentById(departmentId);\r\n    logger.info(&quot;Returned department with id: &quot; + departmentId);\r\n    return ResponseEntity.ok().body(departmentDTO);\r\n}\r\n```\r\nIf a ApiException is thrown in the departmentService.getDepartmentById method, it will be caught by the @ExceptionHandler method in your GeneralExceptionHandler class, which will log the exception and return a response with the error message and HTTP status code specified in the ApiException.\r\n\r\nThis way, you can centralize the exception handling logic in your GeneralExceptionHandler class and avoid duplicating the exception handling code in multiple controllers.","title":"How to catch exceptions using a general exception handler?","body":"<p>To use a general exception handler, you can remove the try-catch block in your controller method and just let the exception be thrown. The exception will then be caught by the @ExceptionHandler method in your GeneralExceptionHandler class.</p>\n<p>Your controller can be simplified to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/departments/{departmentId}&quot;)\npublic ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\n    logger.debug(&quot;Entering get item by id endpoint&quot;);\n    DepartmentDTO departmentDTO = departmentService.getDepartmentById(departmentId);\n    logger.info(&quot;Returned department with id: &quot; + departmentId);\n    return ResponseEntity.ok().body(departmentDTO);\n}\n</code></pre>\n<p>If a ApiException is thrown in the departmentService.getDepartmentById method, it will be caught by the @ExceptionHandler method in your GeneralExceptionHandler class, which will log the exception and return a response with the error message and HTTP status code specified in the ApiException.</p>\n<p>This way, you can centralize the exception handling logic in your GeneralExceptionHandler class and avoid duplicating the exception handling code in multiple controllers.</p>\n"}],"owner":{"account_id":26950487,"reputation":41,"user_id":20519796,"display_name":"Leobejj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671195155,"creation_date":1671187071,"question_id":74823244,"body_markdown":"I have this code in which I make a request to the service, if there is no department with that id, my method in the service class will throw a custom exception which I catch in the method from this controller, when I catch the exception, I return a response entity with the error message and HTTP status to the endpoint. I was informed that I don&#39;t need to catch the exception here, I just need to catch it in general exception handler. Right now I don&#39;t understand what that means.\r\n```  \r\n @GetMapping(&quot;/departments/{departmentId}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\r\n        DepartmentDTO departmentDTO = null;\r\n        logger.debug(&quot;Entering get item by id endpoint&quot;);\r\n        try {\r\n            departmentDTO = departmentService.getDepartmentById(departmentId);\r\n            logger.info(&quot;Returned department with id: &quot; + departmentId);\r\n        } catch (ApiException e) {\r\n            logger.error(&quot;Unable to return department with ID: &quot; + departmentId + &quot; ,message: &quot; + e.getMessage(), e);\r\n            return GeneralExceptionHandler.handleExceptions(e);\r\n        }\r\n        return ResponseEntity.ok().body(departmentDTO);\r\n\r\n    }\r\n```\r\n\r\nthis is my exception handling class\r\n```\r\n@ControllerAdvice\r\npublic class GeneralExceptionHandler {\r\n    private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\r\n    @ExceptionHandler(value = {ApiException.class})\r\n    public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\r\n        logger.info(&quot;Exception handled:&quot;+e.getMessage()+&quot; with http status: &quot;+e.getHttpStatus());\r\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\r\n    }\r\n}\r\n```","title":"How to catch exceptions using a general exception handler?","body":"<p>I have this code in which I make a request to the service, if there is no department with that id, my method in the service class will throw a custom exception which I catch in the method from this controller, when I catch the exception, I return a response entity with the error message and HTTP status to the endpoint. I was informed that I don't need to catch the exception here, I just need to catch it in general exception handler. Right now I don't understand what that means.</p>\n<pre><code> @GetMapping(&quot;/departments/{departmentId}&quot;)\n    public ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\n        DepartmentDTO departmentDTO = null;\n        logger.debug(&quot;Entering get item by id endpoint&quot;);\n        try {\n            departmentDTO = departmentService.getDepartmentById(departmentId);\n            logger.info(&quot;Returned department with id: &quot; + departmentId);\n        } catch (ApiException e) {\n            logger.error(&quot;Unable to return department with ID: &quot; + departmentId + &quot; ,message: &quot; + e.getMessage(), e);\n            return GeneralExceptionHandler.handleExceptions(e);\n        }\n        return ResponseEntity.ok().body(departmentDTO);\n\n    }\n</code></pre>\n<p>this is my exception handling class</p>\n<pre><code>@ControllerAdvice\npublic class GeneralExceptionHandler {\n    private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\n    @ExceptionHandler(value = {ApiException.class})\n    public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\n        logger.info(&quot;Exception handled:&quot;+e.getMessage()+&quot; with http status: &quot;+e.getHttpStatus());\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-fop","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1668116906,"post_id":74276198,"comment_id":131334955,"body_markdown":"You have analysed the issue nicely.  FopAreeTreeHelper needs to be patched to be able to write temp images to some other directory.","body":"You have analysed the issue nicely.  FopAreeTreeHelper needs to be patched to be able to write temp images to some other directory."}],"answers":[{"tags":[],"owner":{"account_id":16251875,"reputation":1,"user_id":11735604,"display_name":"Aven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671194869,"creation_date":1671194869,"answer_id":74824668,"question_id":74276198,"body_markdown":"As per JasonPlutext&#39;s comment, this is a bug in the docx4j library. It has been reported as an issue.\r\n\r\nThe workaround I used is to not put images in header and footer.","title":"Docx4j: Delete temporary images when converting to PDF via FOP?","body":"<p>As per JasonPlutext's comment, this is a bug in the docx4j library. It has been reported as an issue.</p>\n<p>The workaround I used is to not put images in header and footer.</p>\n"}],"owner":{"account_id":16251875,"reputation":1,"user_id":11735604,"display_name":"Aven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74824668,"answer_count":1,"score":0,"last_activity_date":1671194869,"creation_date":1667306879,"question_id":74276198,"body_markdown":"I have a docx file that I want to convert to PDF. I&#39;m converting it via XSL-FO with docx4j-export-fo on linux. Every time I convert a document with images, some images are saved in /tmp folder. I found out that this is because of AbstractConversionImageHandler.java, which will always store the images when using XSL-FO.\r\n\r\nI tried setting the &#39;ImageDirPath&#39; FoSetting, but it is **ignored for header/footer images** when calculating header/footer area size. It only works for images in the document body.\r\n\r\nThis setting is ignored in &#39;FopAreeTreeHelper&#39;, which uses FOP with some **default settings** to calculate header/footer area. So if there is an image, it will be **saved into the default &quot;/tmp&quot;** directory.\r\n\r\nthis is my code that converts doc into a pdf:\r\n\r\n``` lang-java\r\n\r\n        private static final String TEMP_IMAGE_DIR_PATH = &quot;/tmp/images&quot;;\r\n\r\n        public static void convert(WordprocessingMLPackage wordMLPackage, OutputStream output) throws Exception {\r\n\r\n        Mapper fontMapper = new BestMatchingMapper();\r\n        wordMLPackage.setFontMapper(fontMapper);\r\n\r\n        FOSettings foSettings = new FOSettings(wordMLPackage);\r\n        foSettings.setApacheFopMime(&quot;application/pdf&quot;);\r\n        foSettings.setImageDirPath(TEMP_IMAGE_DIR_PATH);\r\n        foSettings.setFoDumpFile(null);\r\n\r\n        FopFactoryBuilder fopFactoryBuilder = FORendererApacheFOP.getFopFactoryBuilder(foSettings) ;\r\n        FopFactory fopFactory = fopFactoryBuilder.build();\r\n\r\n        FOUserAgent foUserAgent = FORendererApacheFOP.getFOUserAgent(foSettings, fopFactory);\r\n\r\n        Docx4J.toFO(foSettings, output, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n\r\n        // Clean up, so any ObfuscatedFontPart temp files can be deleted\r\n        if (wordMLPackage.getMainDocumentPart().getFontTablePart()!=null) {\r\n            wordMLPackage.getMainDocumentPart().getFontTablePart().deleteEmbeddedFontTempFiles();\r\n        }\r\n        foSettings = null;\r\n        wordMLPackage = null;\r\n\r\n        FileUtils.deleteDirectory(new File(TEMP_IMAGE_DIR_PATH));\r\n    }\r\n```\r\nOnly images from the document body are saved into the &#39;TEMP_IMAGE_DIR_PATH&#39;, which I then delete. But header image is saved in &quot;/tmp&quot; folder. But I don&#39;t want to delete ALL images from &quot;/tmp&quot;.\r\n\r\nIs there any way to have Docx4j or FOP delete these images after the conversion?\r\nOr set a default directory?\r\n","title":"Docx4j: Delete temporary images when converting to PDF via FOP?","body":"<p>I have a docx file that I want to convert to PDF. I'm converting it via XSL-FO with docx4j-export-fo on linux. Every time I convert a document with images, some images are saved in /tmp folder. I found out that this is because of AbstractConversionImageHandler.java, which will always store the images when using XSL-FO.</p>\n<p>I tried setting the 'ImageDirPath' FoSetting, but it is <strong>ignored for header/footer images</strong> when calculating header/footer area size. It only works for images in the document body.</p>\n<p>This setting is ignored in 'FopAreeTreeHelper', which uses FOP with some <strong>default settings</strong> to calculate header/footer area. So if there is an image, it will be <strong>saved into the default &quot;/tmp&quot;</strong> directory.</p>\n<p>this is my code that converts doc into a pdf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        private static final String TEMP_IMAGE_DIR_PATH = &quot;/tmp/images&quot;;\n\n        public static void convert(WordprocessingMLPackage wordMLPackage, OutputStream output) throws Exception {\n\n        Mapper fontMapper = new BestMatchingMapper();\n        wordMLPackage.setFontMapper(fontMapper);\n\n        FOSettings foSettings = new FOSettings(wordMLPackage);\n        foSettings.setApacheFopMime(&quot;application/pdf&quot;);\n        foSettings.setImageDirPath(TEMP_IMAGE_DIR_PATH);\n        foSettings.setFoDumpFile(null);\n\n        FopFactoryBuilder fopFactoryBuilder = FORendererApacheFOP.getFopFactoryBuilder(foSettings) ;\n        FopFactory fopFactory = fopFactoryBuilder.build();\n\n        FOUserAgent foUserAgent = FORendererApacheFOP.getFOUserAgent(foSettings, fopFactory);\n\n        Docx4J.toFO(foSettings, output, Docx4J.FLAG_EXPORT_PREFER_XSL);\n\n        // Clean up, so any ObfuscatedFontPart temp files can be deleted\n        if (wordMLPackage.getMainDocumentPart().getFontTablePart()!=null) {\n            wordMLPackage.getMainDocumentPart().getFontTablePart().deleteEmbeddedFontTempFiles();\n        }\n        foSettings = null;\n        wordMLPackage = null;\n\n        FileUtils.deleteDirectory(new File(TEMP_IMAGE_DIR_PATH));\n    }\n</code></pre>\n<p>Only images from the document body are saved into the 'TEMP_IMAGE_DIR_PATH', which I then delete. But header image is saved in &quot;/tmp&quot; folder. But I don't want to delete ALL images from &quot;/tmp&quot;.</p>\n<p>Is there any way to have Docx4j or FOP delete these images after the conversion?\nOr set a default directory?</p>\n"},{"tags":["java","spring-boot","slf4j"],"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670003534,"post_id":74659469,"comment_id":131779362,"body_markdown":"Spring boot 2.7 documentation:\nlogging.file.path LOG_PATH If defined, it is used in the default log configuration.\nhttps://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging","body":"Spring boot 2.7 documentation: logging.file.path LOG_PATH If defined, it is used in the default log configuration. <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/&hellip;</a>"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670003572,"post_id":74659469,"comment_id":131779374,"body_markdown":"So it seems that the property has changed, and developer was looking to the old documentation.","body":"So it seems that the property has changed, and developer was looking to the old documentation."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670004855,"post_id":74659469,"comment_id":131779802,"body_markdown":"I tried to pass logging.file.path as a system property or capitalized env variable without any luck.","body":"I tried to pass logging.file.path as a system property or capitalized env variable without any luck."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1670007476,"post_id":74659469,"comment_id":131780590,"body_markdown":"Spring will search (when running, not when building the jar) the logging config on /home/x/service/config/logback-prod.xml : does this file exists on the specified path?","body":"Spring will search (when running, not when building the jar) the logging config on /home/x/service/config/logback-prod.xml : does this file exists on the specified path?"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1670180420,"post_id":74659469,"comment_id":131810288,"body_markdown":"Looks like there was similar problem, take a look to this question: https://stackoverflow.com/questions/29429073/spring-boot-logback-and-logging-config-property","body":"Looks like there was similar problem, take a look to this question: <a href=\"https://stackoverflow.com/questions/29429073/spring-boot-logback-and-logging-config-property\" title=\"spring boot logback and logging config property\">stackoverflow.com/questions/29429073/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671194849,"creation_date":1671194849,"answer_id":74824660,"question_id":74659469,"body_markdown":"The solution was to remove the log configuration files from the build, because they were always read by Spring.\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;log*xml&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n","title":"Spring boot logging.file ignored, taking logback-test.xml from classpath","body":"<p>The solution was to remove the log configuration files from the build, because they were always read by Spring.</p>\n<pre><code>    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;log*xml&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671194849,"creation_date":1670002446,"question_id":74659469,"body_markdown":"When we deployed our spring boot 2.7 app to the production, it has troubles reading a correct log configuration. Instead of using a config file set in the prod profile it selects a test related resource from class path.\r\n\r\n    $ java -Dspring.profiles.active=prod service.jar\r\n    service.jar!/BOOT-INF/classes!/logback-test.xml]\r\n    12:13:29,834 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@23ab930d - URL [jar:file:/home/x/service.jar!/BOOT-INF/classes!/logback-test.xml] is not of type file\r\n    12:13:29,865 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n\r\n\r\n**application-prod.yml**\r\n\r\n    logging:\r\n      config: /home/x/service/config/logback-prod.xml\r\n\r\nThe jar contains these files in classpath (log4j should not be there, we removed this dependency, and we are relying on default SLF4J):\r\n\r\n    $ ls log*\r\n    log4j2.xml log4j2-prod.xml log4j2-test.xml logback.xml logback-prod.xml logback-test.xml\r\n\r\nApplication is using the prod profile except `logging.config` option. Why?","title":"Spring boot logging.file ignored, taking logback-test.xml from classpath","body":"<p>When we deployed our spring boot 2.7 app to the production, it has troubles reading a correct log configuration. Instead of using a config file set in the prod profile it selects a test related resource from class path.</p>\n<pre><code>$ java -Dspring.profiles.active=prod service.jar\nservice.jar!/BOOT-INF/classes!/logback-test.xml]\n12:13:29,834 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@23ab930d - URL [jar:file:/home/x/service.jar!/BOOT-INF/classes!/logback-test.xml] is not of type file\n12:13:29,865 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\n</code></pre>\n<p><strong>application-prod.yml</strong></p>\n<pre><code>logging:\n  config: /home/x/service/config/logback-prod.xml\n</code></pre>\n<p>The jar contains these files in classpath (log4j should not be there, we removed this dependency, and we are relying on default SLF4J):</p>\n<pre><code>$ ls log*\nlog4j2.xml log4j2-prod.xml log4j2-test.xml logback.xml logback-prod.xml logback-test.xml\n</code></pre>\n<p>Application is using the prod profile except <code>logging.config</code> option. Why?</p>\n"},{"tags":["java","eclipse","selenium","rest-assured"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1671200014,"post_id":74824271,"comment_id":132053913,"body_markdown":"Just remove the quotes from Matchers.equalTo(true) and it will work.","body":"Just remove the quotes from Matchers.equalTo(true) and it will work."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1671194547,"creation_date":1671194547,"answer_id":74824605,"question_id":74824271,"body_markdown":"You are doing wrong match. You are trying to compare **boolean** `true` vs **text** `&quot;true&quot;`\r\n\r\nSo since their string representations are equal the matching error message looks misleading.\r\n\r\nYou should change the last line of your code to `.body(&quot;Result.Success&quot;, Matchers.equalTo(true));` ","title":"Not able to compare response body parameter to its value","body":"<p>You are doing wrong match. You are trying to compare <strong>boolean</strong> <code>true</code> vs <strong>text</strong> <code>&quot;true&quot;</code></p>\n<p>So since their string representations are equal the matching error message looks misleading.</p>\n<p>You should change the last line of your code to <code>.body(&quot;Result.Success&quot;, Matchers.equalTo(true));</code></p>\n"}],"owner":{"account_id":26335354,"reputation":5,"user_id":19995292,"display_name":"Krina Modi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671505977,"accepted_answer_id":74824605,"answer_count":1,"score":-1,"last_activity_date":1671194547,"creation_date":1671192558,"question_id":74824271,"body_markdown":"My Response Json is below which i want to compare its value \r\n\r\n```\r\n{\r\n    &quot;Result&quot;: {\r\n        &quot;user&quot;: {\r\n           &quot;PersonData&quot;: null,\r\n            &quot;Locale&quot;: null,\r\n            &quot;Attributes&quot;: {\r\n                &quot;IsEnabled&quot;: null,\r\n                &quot;LocaleSettings&quot;: null,\r\n                &quot;LockoutEnabled&quot;: &quot;True&quot;,\r\n                &quot;AccessFailedCount&quot;: &quot;0&quot;\r\n            }\r\n        },\r\n        &quot;RefreshToken&quot;: &quot;745acf0f-de47-4f4c-8abe-b3d7d505fc60&quot;,\r\n        &quot;Success&quot;: true,\r\n        &quot;Errors&quot;: null\r\n    },\r\n    &quot;StatusCode&quot;: &quot;200&quot;,\r\n}\r\n```\r\n\r\nHere is my code where i have written some assertions\r\n\r\n\r\n```\r\ngiven().body(request.toJSONString()).header(&quot;Content-Type&quot;, sitedata.getProperty(&quot;Content-Type&quot;))\r\n\t\t\t\t.header(&quot;ApplicationCode&quot;, sitedata.getProperty(&quot;ApplicationCode&quot;))\r\n\t\t\t\t.header(&quot;Authorization&quot;, sitedata.getProperty(&quot;Authorization&quot;)).when()\r\n\t\t\t\t.post(sitedata.getProperty(&quot;BaseUrl&quot;) + sitedata.getProperty(&quot;login&quot;))\r\n                                .then().log().all().statusCode(200)\r\n\t\t\t\t.body(Matchers.containsString(&quot;Success&quot;))\r\n                               ** .body(&quot;Result.Success&quot;, Matchers.equalTo(&quot;true&quot;));**\r\n```\r\n\r\n\r\n\r\nI am getting below error\r\n\r\n```\r\nJSON path Result.Success doesn&#39;t match.\r\nExpected: true\r\n  Actual: true\r\n```\r\n\r\n\r\nI want to validate its value should be true","title":"Not able to compare response body parameter to its value","body":"<p>My Response Json is below which i want to compare its value</p>\n<pre><code>{\n    &quot;Result&quot;: {\n        &quot;user&quot;: {\n           &quot;PersonData&quot;: null,\n            &quot;Locale&quot;: null,\n            &quot;Attributes&quot;: {\n                &quot;IsEnabled&quot;: null,\n                &quot;LocaleSettings&quot;: null,\n                &quot;LockoutEnabled&quot;: &quot;True&quot;,\n                &quot;AccessFailedCount&quot;: &quot;0&quot;\n            }\n        },\n        &quot;RefreshToken&quot;: &quot;745acf0f-de47-4f4c-8abe-b3d7d505fc60&quot;,\n        &quot;Success&quot;: true,\n        &quot;Errors&quot;: null\n    },\n    &quot;StatusCode&quot;: &quot;200&quot;,\n}\n</code></pre>\n<p>Here is my code where i have written some assertions</p>\n<pre><code>given().body(request.toJSONString()).header(&quot;Content-Type&quot;, sitedata.getProperty(&quot;Content-Type&quot;))\n                .header(&quot;ApplicationCode&quot;, sitedata.getProperty(&quot;ApplicationCode&quot;))\n                .header(&quot;Authorization&quot;, sitedata.getProperty(&quot;Authorization&quot;)).when()\n                .post(sitedata.getProperty(&quot;BaseUrl&quot;) + sitedata.getProperty(&quot;login&quot;))\n                                .then().log().all().statusCode(200)\n                .body(Matchers.containsString(&quot;Success&quot;))\n                               ** .body(&quot;Result.Success&quot;, Matchers.equalTo(&quot;true&quot;));**\n</code></pre>\n<p>I am getting below error</p>\n<pre><code>JSON path Result.Success doesn't match.\nExpected: true\n  Actual: true\n</code></pre>\n<p>I want to validate its value should be true</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1572801048,"post_id":58682589,"comment_id":103664714,"body_markdown":"What actually needs to change? A toolbar or menu, or an item","body":"What actually needs to change? A toolbar or menu, or an item"}],"answers":[{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572801460,"creation_date":1572801460,"answer_id":58682675,"question_id":58682589,"body_markdown":"Use a `NestedScrollView` and attach an `OnScrollChangeListener`. Then combine it with an `ARGBEvaluator` to generate a colour, and set that you your background. I&#39;m going from memory, but something like:\r\n\r\n```\r\nfinal ArgbEvaluator evaluator = new ArgbEvaluator();\r\nfinal colorStart = Color.GREEN;\r\nfinal colorEnd = Color.BLUE;\r\nnestedScrollView.setOnScrollChangedListener((view, scrollX, scrollY, oldX, oldY) -&gt; {\r\n    final float height = (float) v.getHeight();\r\n    if(height &lt;= 0) return;\r\n\r\n    final float progress = (float)((float)scrollY/v.getHeight());\r\n    background.setBackgroundColour((int)evaluator.evaluate(progress, startColor, endColor);\r\n});\r\n```","title":"Change the background color on scroll","body":"<p>Use a <code>NestedScrollView</code> and attach an <code>OnScrollChangeListener</code>. Then combine it with an <code>ARGBEvaluator</code> to generate a colour, and set that you your background. I'm going from memory, but something like:</p>\n\n<pre><code>final ArgbEvaluator evaluator = new ArgbEvaluator();\nfinal colorStart = Color.GREEN;\nfinal colorEnd = Color.BLUE;\nnestedScrollView.setOnScrollChangedListener((view, scrollX, scrollY, oldX, oldY) -&gt; {\n    final float height = (float) v.getHeight();\n    if(height &lt;= 0) return;\n\n    final float progress = (float)((float)scrollY/v.getHeight());\n    background.setBackgroundColour((int)evaluator.evaluate(progress, startColor, endColor);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006281,"reputation":2434,"user_id":2550766,"accept_rate":24,"display_name":"Caio Mar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671194403,"creation_date":1671194403,"answer_id":74824583,"question_id":58682589,"body_markdown":"Similarly to the accepted answer, this is how I did it in Kotlin:\r\n\r\n    @RequiresApi(Build.VERSION_CODES.M)\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    private fun setBackgroundAnimation(nestedScrollView: NestedScrollView) {\r\n\r\n        val evaluator = ArgbEvaluator()\r\n\r\n        val colorStart = context?.getColor(R.color.backgroundColor)\r\n        val colorEnd = Color.BLACK\r\n\r\n        var progress: Float\r\n        val velocity = 3\r\n\r\n        nestedScrollView.setOnScrollChangeListener { v, scrollX, scrollY, oldScrollX, oldScrollY -&gt;\r\n            val scrollViewHeight = nestedScrollView.height\r\n\r\n            if (scrollViewHeight &gt; 0) {\r\n                progress = (scrollY / scrollViewHeight.toFloat()) * velocity\r\n                nestedScrollView.setBackgroundColor(\r\n                    evaluator.evaluate(\r\n                        progress,\r\n                        colorStart,\r\n                        colorEnd\r\n                    ) as Int\r\n                )\r\n            }\r\n        }\r\n    }","title":"Change the background color on scroll","body":"<p>Similarly to the accepted answer, this is how I did it in Kotlin:</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.M)\n@SuppressLint(&quot;RestrictedApi&quot;)\nprivate fun setBackgroundAnimation(nestedScrollView: NestedScrollView) {\n\n    val evaluator = ArgbEvaluator()\n\n    val colorStart = context?.getColor(R.color.backgroundColor)\n    val colorEnd = Color.BLACK\n\n    var progress: Float\n    val velocity = 3\n\n    nestedScrollView.setOnScrollChangeListener { v, scrollX, scrollY, oldScrollX, oldScrollY -&gt;\n        val scrollViewHeight = nestedScrollView.height\n\n        if (scrollViewHeight &gt; 0) {\n            progress = (scrollY / scrollViewHeight.toFloat()) * velocity\n            nestedScrollView.setBackgroundColor(\n                evaluator.evaluate(\n                    progress,\n                    colorStart,\n                    colorEnd\n                ) as Int\n            )\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user11755923"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58682675,"answer_count":2,"score":2,"last_activity_date":1671194403,"creation_date":1572800931,"question_id":58682589,"body_markdown":"I have a scroll view and when the user scrolls it I want to change the background color slowly and gradually. How can I achieve the following ?","title":"Change the background color on scroll","body":"<p>I have a scroll view and when the user scrolls it I want to change the background color slowly and gradually. How can I achieve the following ?</p>\n"},{"tags":["java","spring","spring-mvc","jackson","spring-boot"],"comments":[{"owner":{"account_id":5389496,"reputation":1459,"user_id":4292467,"display_name":"sven.kwiotek"},"score":0,"creation_date":1423062261,"post_id":28324352,"comment_id":44996864,"body_markdown":"Do you have this Annotation inserted?: @SuppressWarnings({&quot;SpringJavaAutowiringInspection&quot;})","body":"Do you have this Annotation inserted?: @SuppressWarnings({&quot;SpringJavaAutowiringInspection&quot;})"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":0,"creation_date":1550583935,"post_id":28324352,"comment_id":96315579,"body_markdown":"Notice that if you are using Spring Web as well you will need to tell it manually to use this ObjectMapper otherwise it will create it own instance which will not be configured. See https://stackoverflow.com/questions/7854030/configuring-objectmapper-in-spring","body":"Notice that if you are using Spring Web as well you will need to tell it manually to use this ObjectMapper otherwise it will create it own instance which will not be configured. See <a href=\"https://stackoverflow.com/questions/7854030/configuring-objectmapper-in-spring\" title=\"configuring objectmapper in spring\">stackoverflow.com/questions/7854030/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5077780,"reputation":24088,"user_id":4074715,"display_name":"Predrag Maric"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1599399896,"creation_date":1423063399,"answer_id":28324974,"question_id":28324352,"body_markdown":"[The documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper) states several ways to do this. \r\n\r\n&gt;If you want to replace the default `ObjectMapper` completely, define a `@Bean` of that type and mark it as `@Primary`.\r\n&gt;\r\n&gt;Defining a `@Bean` of type `Jackson2ObjectMapperBuilder` will allow you to customize both default `ObjectMapper` and `XmlMapper` (used in `MappingJackson2HttpMessageConverter` and `MappingJackson2XmlHttpMessageConverter` respectively).","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">The documentation</a> states several ways to do this.</p>\n<blockquote>\n<p>If you want to replace the default <code>ObjectMapper</code> completely, define a <code>@Bean</code> of that type and mark it as <code>@Primary</code>.</p>\n<p>Defining a <code>@Bean</code> of type <code>Jackson2ObjectMapperBuilder</code> will allow you to customize both default <code>ObjectMapper</code> and <code>XmlMapper</code> (used in <code>MappingJackson2HttpMessageConverter</code> and <code>MappingJackson2XmlHttpMessageConverter</code> respectively).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1612996759,"creation_date":1423063408,"answer_id":28324976,"question_id":28324352,"body_markdown":"You can configure property inclusion, and numerous other settings, via `application.properties`:\r\n\r\n```lang-properties\r\nspring.jackson.default-property-inclusion=non_null\r\n```\r\n\r\nThere&#39;s a table in [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper) that lists all of the properties that can be used.\r\n\r\nIf you want more control, you can also customize Spring Boot&#39;s configuration programatically using a `Jackson2ObjectMapperBuilderCustomizer` bean, as described in the [documentation][1]:\r\n\r\n&gt; The contexts `Jackson2ObjectMapperBuilder` can be customized by one or more `Jackson2ObjectMapperBuilderCustomizer` beans. Such customizer beans can be ordered (Boots own customizer has an order of 0), letting additional customization be applied both before and after Boots customization.\r\n\r\nLastly, if you don&#39;t want any of Boot&#39;s configuration and want to take complete control over how the `ObjectMapper` is configured, declare your own `Jackson2ObjectMapperBuilder` bean:\r\n\r\n```lang-java\r\n@Bean\r\nJackson2ObjectMapperBuilder objectMapperBuilder() {\r\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n    // Configure the builder to suit your needs\r\n    return builder;\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>You can configure property inclusion, and numerous other settings, via <code>application.properties</code>:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.jackson.default-property-inclusion=non_null\n</code></pre>\n<p>There's a table in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">the documentation</a> that lists all of the properties that can be used.</p>\n<p>If you want more control, you can also customize Spring Boot's configuration programatically using a <code>Jackson2ObjectMapperBuilderCustomizer</code> bean, as described in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The contexts <code>Jackson2ObjectMapperBuilder</code> can be customized by one or more <code>Jackson2ObjectMapperBuilderCustomizer</code> beans. Such customizer beans can be ordered (Boots own customizer has an order of 0), letting additional customization be applied both before and after Boots customization.</p>\n</blockquote>\n<p>Lastly, if you don't want any of Boot's configuration and want to take complete control over how the <code>ObjectMapper</code> is configured, declare your own <code>Jackson2ObjectMapperBuilder</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nJackson2ObjectMapperBuilder objectMapperBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    // Configure the builder to suit your needs\n    return builder;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423069761,"creation_date":1423069761,"answer_id":28327309,"question_id":28324352,"body_markdown":"I stumbled upon another solution, which is quite nice. \r\n\r\nBasically, only do [step 2 from the blog posted mentioned][1], and define a custom ObjectMapper as a Spring `@Component`. (Things started working when I just *removed* all the AnnotationMethodHandlerAdapter stuff from step 3.)\r\n\r\n    @Component\r\n    @Primary\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n        public CustomObjectMapper() {\r\n            setSerializationInclusion(JsonInclude.Include.NON_NULL); \r\n            configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \r\n        }\r\n    }\r\n\r\nWorks as long as the component is in a package scanned by Spring. (Using `@Primary` is not mandatory in my case, but why not make things explicit.)\r\n\r\nFor me there are two benefits compared to the other approach:\r\n\r\n - This is simpler; I can just extend a class from Jackson and don&#39;t need to know about highly Spring-specific stuff like `Jackson2ObjectMapperBuilder`.\r\n - I want to use the same Jackson configs for deserialising JSON in another part of my app, and this way it&#39;s very simple: `new CustomObjectMapper()` instead of  `new ObjectMapper()`.\r\n\r\n  [1]: http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I stumbled upon another solution, which is quite nice. </p>\n\n<p>Basically, only do <a href=\"http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html\" rel=\"noreferrer\">step 2 from the blog posted mentioned</a>, and define a custom ObjectMapper as a Spring <code>@Component</code>. (Things started working when I just <em>removed</em> all the AnnotationMethodHandlerAdapter stuff from step 3.)</p>\n\n<pre><code>@Component\n@Primary\npublic class CustomObjectMapper extends ObjectMapper {\n    public CustomObjectMapper() {\n        setSerializationInclusion(JsonInclude.Include.NON_NULL); \n        configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \n    }\n}\n</code></pre>\n\n<p>Works as long as the component is in a package scanned by Spring. (Using <code>@Primary</code> is not mandatory in my case, but why not make things explicit.)</p>\n\n<p>For me there are two benefits compared to the other approach:</p>\n\n<ul>\n<li>This is simpler; I can just extend a class from Jackson and don't need to know about highly Spring-specific stuff like <code>Jackson2ObjectMapperBuilder</code>.</li>\n<li>I want to use the same Jackson configs for deserialising JSON in another part of my app, and this way it's very simple: <code>new CustomObjectMapper()</code> instead of  <code>new ObjectMapper()</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1430913,"reputation":2842,"user_id":1353364,"accept_rate":36,"display_name":"vvra"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1434105016,"creation_date":1434105016,"answer_id":30800851,"question_id":28324352,"body_markdown":"I am answering bit late to this question, but someone, in future, might find this useful. The below approach, besides lots of other approaches, works best, and I personally think would better suit a web application.\r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration extends WebMvcConfigurerAdapter {\r\n     \r\n     ... other configurations\r\n\r\n    @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n            builder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t\tbuilder.propertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\r\n    \t\tbuilder.serializationInclusion(Include.NON_EMPTY);\r\n            builder.indentOutput(true).dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n            converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\r\n            converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\r\n        }\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I am answering bit late to this question, but someone, in future, might find this useful. The below approach, besides lots of other approaches, works best, and I personally think would better suit a web application.</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n\n ... other configurations\n\n@Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n        builder.serializationInclusion(JsonInclude.Include.NON_NULL);\n        builder.propertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\n        builder.serializationInclusion(Include.NON_EMPTY);\n        builder.indentOutput(true).dateFormat(new SimpleDateFormat(\"yyyy-MM-dd\"));\n        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\n        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6732690,"reputation":259,"user_id":5188445,"display_name":"nbank"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1540302911,"creation_date":1443791050,"answer_id":32907816,"question_id":28324352,"body_markdown":"A lot of things can configured in applicationproperties. Unfortunately this feature only in Version 1.3, but you can add in a Config-Class\r\n\r\n    @Autowired(required = true)\r\n    public void configureJackson(ObjectMapper jackson2ObjectMapper) {\r\n        jackson2ObjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    }\r\n\r\n[UPDATE: You must work on the ObjectMapper because the `build()`-method is called before the config is runs.]","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>A lot of things can configured in applicationproperties. Unfortunately this feature only in Version 1.3, but you can add in a Config-Class</p>\n\n<pre><code>@Autowired(required = true)\npublic void configureJackson(ObjectMapper jackson2ObjectMapper) {\n    jackson2ObjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n}\n</code></pre>\n\n<p>[UPDATE: You must work on the ObjectMapper because the <code>build()</code>-method is called before the config is runs.]</p>\n"},{"tags":[],"owner":{"account_id":4890621,"reputation":94,"user_id":3941868,"display_name":"Tim Dugan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471027761,"creation_date":1471027761,"answer_id":38924647,"question_id":28324352,"body_markdown":"I found the solution described above with :\r\n\r\n   **spring.jackson.serialization-inclusion=non_null**\r\n\r\nTo only work starting at the 1.4.0.RELEASE version of spring boot.  In all other cases the config is ignored.\r\n\r\nI verified this by experimenting with a modification of the spring boot sample &quot;spring-boot-sample-jersey&quot;","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I found the solution described above with :</p>\n\n<p><strong>spring.jackson.serialization-inclusion=non_null</strong></p>\n\n<p>To only work starting at the 1.4.0.RELEASE version of spring boot.  In all other cases the config is ignored.</p>\n\n<p>I verified this by experimenting with a modification of the spring boot sample \"spring-boot-sample-jersey\"</p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1517234409,"creation_date":1495550569,"answer_id":44137972,"question_id":28324352,"body_markdown":"`spring.jackson.serialization-inclusion=non_null` used to work for us\r\n\r\nBut when we upgraded spring boot version to 1.4.2.RELEASE or higher, it stopped working. \r\n\r\nNow, another property `spring.jackson.default-property-inclusion=non_null` is doing the magic.\r\n\r\nin fact, `serialization-inclusion` is deprecated. This is what my intellij throws at me.\r\n\r\n&gt; Deprecated: ObjectMapper.setSerializationInclusion was deprecated in\r\n&gt; Jackson 2.7\r\n\r\n**So, start using `spring.jackson.default-property-inclusion=non_null` instead**","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><code>spring.jackson.serialization-inclusion=non_null</code> used to work for us</p>\n\n<p>But when we upgraded spring boot version to 1.4.2.RELEASE or higher, it stopped working. </p>\n\n<p>Now, another property <code>spring.jackson.default-property-inclusion=non_null</code> is doing the magic.</p>\n\n<p>in fact, <code>serialization-inclusion</code> is deprecated. This is what my intellij throws at me.</p>\n\n<blockquote>\n  <p>Deprecated: ObjectMapper.setSerializationInclusion was deprecated in\n  Jackson 2.7</p>\n</blockquote>\n\n<p><strong>So, start using <code>spring.jackson.default-property-inclusion=non_null</code> instead</strong></p>\n"},{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508395499,"creation_date":1508395499,"answer_id":46824079,"question_id":28324352,"body_markdown":"I know the question asking for Spring boot, but I believe lot of people looking for how to do this in non Spring boot, like me searching almost whole day.\r\n\r\nAbove Spring 4, there is no need to configure `MappingJacksonHttpMessageConverter` if you only intend to configure `ObjectMapper`.\r\n\r\nYou just need to do:\r\n\r\n    public class MyObjectMapper extends ObjectMapper {\r\n    \r\n        private static final long serialVersionUID = 4219938065516862637L;\r\n    \r\n        public MyObjectMapper() {\r\n            super();\r\n            enable(SerializationFeature.INDENT_OUTPUT);\r\n        }       \r\n    }\r\n\r\nAnd in your Spring configuration, create this bean:\r\n\r\n    @Bean \r\n    public MyObjectMapper myObjectMapper() {        \r\n        return new MyObjectMapper();\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I know the question asking for Spring boot, but I believe lot of people looking for how to do this in non Spring boot, like me searching almost whole day.</p>\n\n<p>Above Spring 4, there is no need to configure <code>MappingJacksonHttpMessageConverter</code> if you only intend to configure <code>ObjectMapper</code>.</p>\n\n<p>You just need to do:</p>\n\n<pre><code>public class MyObjectMapper extends ObjectMapper {\n\n    private static final long serialVersionUID = 4219938065516862637L;\n\n    public MyObjectMapper() {\n        super();\n        enable(SerializationFeature.INDENT_OUTPUT);\n    }       \n}\n</code></pre>\n\n<p>And in your Spring configuration, create this bean:</p>\n\n<pre><code>@Bean \npublic MyObjectMapper myObjectMapper() {        \n    return new MyObjectMapper();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1537931404,"creation_date":1537931404,"answer_id":52509381,"question_id":28324352,"body_markdown":"You can add a following method inside your bootstrap class which is annotated with `@SpringBootApplication`\r\n\r\n    \t@Bean\r\n\t    @Primary\r\n\t    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n\t\tObjectMapper objectMapper = builder.createXmlMapper(false).build();\r\n\t\tobjectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\t\tobjectMapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, false);\r\n\r\n\t\tobjectMapper.registerModule(new JodaModule());\r\n\r\n\t\treturn objectMapper;\r\n\t}","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>You can add a following method inside your bootstrap class which is annotated with <code>@SpringBootApplication</code></p>\n\n<pre><code>    @Bean\n    @Primary\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n    ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n    objectMapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, false);\n\n    objectMapper.registerModule(new JodaModule());\n\n    return objectMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1557937646,"creation_date":1557937055,"answer_id":56153682,"question_id":28324352,"body_markdown":"When I tried to make ObjectMapper primary in spring boot 2.0.6 I got errors\r\nSo I modified the one that spring boot created for me\r\n\r\nAlso see https://stackoverflow.com/a/48519868/255139\r\n\r\n    @Lazy\r\n    @Autowired\r\n    ObjectMapper mapper;\r\n\r\n    @PostConstruct\r\n    public ObjectMapper configureMapper() {\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\r\n\r\n        mapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, true);\r\n        mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(LocalDate.class, new LocalDateDeserializer());\r\n        module.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n        mapper.registerModule(module);\r\n\r\n        return mapper;\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>When I tried to make ObjectMapper primary in spring boot 2.0.6 I got errors\nSo I modified the one that spring boot created for me</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/a/48519868/255139\">https://stackoverflow.com/a/48519868/255139</a></p>\n\n<pre><code>@Lazy\n@Autowired\nObjectMapper mapper;\n\n@PostConstruct\npublic ObjectMapper configureMapper() {\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\n\n    mapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, true);\n    mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\n\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(LocalDate.class, new LocalDateDeserializer());\n    module.addSerializer(LocalDate.class, new LocalDateSerializer());\n    mapper.registerModule(module);\n\n    return mapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610462773,"creation_date":1605893240,"answer_id":64934061,"question_id":28324352,"body_markdown":"The right way to add further configurations to the Spring Boot peconfigured ObjectMapper is to define a Jackson2ObjectMapperBuilderCustomizer. Else you are overwriting Springs configuration, which you do not want to lose.\r\n\r\n   \r\n\r\n     @Configuration\r\n    public class MyJacksonConfigurer implements Jackson2ObjectMapperBuilderCustomizer {\r\n        @Override\r\n        public void customize(Jackson2ObjectMapperBuilder builder) {\r\n            builder.deserializerByType(LocalDate.class, new MyOwnJsonLocalDateTimeDeserializer());\r\n        }\r\n    }\r\n\r\n","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>The right way to add further configurations to the Spring Boot peconfigured ObjectMapper is to define a Jackson2ObjectMapperBuilderCustomizer. Else you are overwriting Springs configuration, which you do not want to lose.</p>\n<pre><code> @Configuration\npublic class MyJacksonConfigurer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder builder) {\n        builder.deserializerByType(LocalDate.class, new MyOwnJsonLocalDateTimeDeserializer());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612189,"reputation":1321,"user_id":3012938,"accept_rate":17,"display_name":"Patrick Mutwiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646825729,"creation_date":1646825414,"answer_id":71408637,"question_id":28324352,"body_markdown":"I&#39;ve seen numerous questions regarding this issue. This is what worked for me in Spring Boot version 2.7.0-SNAPSHOT.\r\n\r\nI created a configuration, MapperConfigs, created a objectMapper bean, annotated primary as the [documentation][1] says \r\n\r\n    \r\n    @Configuration\r\n    @Log4j2\r\n    public class MapperConfigs {\r\n        @Bean\r\n        @Primary\r\n        ObjectMapper objectMapper() {\r\n            log.info(&quot;Object mapper overrides &quot;);\r\n            return JsonMapper.builder()\r\n                    .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\r\n                    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nI then @Autowired objectMapper. See below:\r\n\r\n    @Service\r\n    public class GenerateRequestUniqueID {\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n        ...\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.3.0.M3/reference/html/howto-spring-mvc.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I've seen numerous questions regarding this issue. This is what worked for me in Spring Boot version 2.7.0-SNAPSHOT.</p>\n<p>I created a configuration, MapperConfigs, created a objectMapper bean, annotated primary as the <a href=\"https://docs.spring.io/spring-boot/docs/1.3.0.M3/reference/html/howto-spring-mvc.html\" rel=\"nofollow noreferrer\">documentation</a> says</p>\n<pre><code>@Configuration\n@Log4j2\npublic class MapperConfigs {\n    @Bean\n    @Primary\n    ObjectMapper objectMapper() {\n        log.info(&quot;Object mapper overrides &quot;);\n        return JsonMapper.builder()\n                .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .build();\n    }\n}\n</code></pre>\n<p>I then @Autowired objectMapper. See below:</p>\n<pre><code>@Service\npublic class GenerateRequestUniqueID {\n    @Autowired\n    ObjectMapper objectMapper;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10798870,"reputation":1184,"user_id":7943583,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661366686,"creation_date":1661366686,"answer_id":73478216,"question_id":28324352,"body_markdown":"\r\n**Remove the default one and add your custom converter:** \r\n\r\n\r\n```@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n//        Remove the default MappingJackson2HttpMessageConverter\r\n        converters.removeIf(converter -&gt; {\r\n            String converterName = converter.getClass().getSimpleName();\r\n            return converterName.equals(&quot;MappingJackson2HttpMessageConverter&quot;);\r\n        });\r\n//        Add your custom MappingJackson2HttpMessageConverter\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        converter.setObjectMapper(objectMapper);\r\n        converters.add(converter);\r\n        WebMvcConfigurer.super.extendMessageConverters(converters);\r\n    }\r\n}\r\n```\r\n**Note:** Please don&#39;t use configureMessageConverters() instead of extendMessageConverters() from WebMvcConfigurer because configure method will remove all the existing converters which will be installed by default.\r\n\r\nHope it will help someone like me who has wasted some hours debugging the issue :)","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><strong>Remove the default one and add your custom converter:</strong></p>\n<pre><code>@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n//        Remove the default MappingJackson2HttpMessageConverter\n        converters.removeIf(converter -&gt; {\n            String converterName = converter.getClass().getSimpleName();\n            return converterName.equals(&quot;MappingJackson2HttpMessageConverter&quot;);\n        });\n//        Add your custom MappingJackson2HttpMessageConverter\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        converter.setObjectMapper(objectMapper);\n        converters.add(converter);\n        WebMvcConfigurer.super.extendMessageConverters(converters);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Please don't use configureMessageConverters() instead of extendMessageConverters() from WebMvcConfigurer because configure method will remove all the existing converters which will be installed by default.</p>\n<p>Hope it will help someone like me who has wasted some hours debugging the issue :)</p>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671194304,"creation_date":1671194304,"answer_id":74824567,"question_id":28324352,"body_markdown":"There are two ways to customize Jackson `ObjectMapper`:-\r\n1. Override the default behavior of auto-configured `ObjectMapper` by Spring Boot \r\n2. Overwrite the `ObjectMapper` to have a complete control\r\n\r\n#### Override ObjectMapper\r\n```java\r\n@Configuration\r\npublic class CustomJacksonConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        return builder.build().setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\r\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\r\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true)\r\n                .registerModule(new JavaTimeModule());\r\n    }\r\n}\r\n```\r\n\r\n#### Overwrite ObjectMapper\r\n```java\r\n@Configuration\r\npublic class CustomJacksonConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return new ObjectMapper()\r\n                .setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\r\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\r\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\r\n    }\r\n}\r\n```\r\nsource: https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>There are two ways to customize Jackson <code>ObjectMapper</code>:-</p>\n<ol>\n<li>Override the default behavior of auto-configured <code>ObjectMapper</code> by Spring Boot</li>\n<li>Overwrite the <code>ObjectMapper</code> to have a complete control</li>\n</ol>\n<h4>Override ObjectMapper</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomJacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n        return builder.build().setSerializationInclusion(JsonInclude.Include.NON_NULL)\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .configure(SerializationFeature.INDENT_OUTPUT, true)\n                .registerModule(new JavaTimeModule());\n    }\n}\n</code></pre>\n<h4>Overwrite ObjectMapper</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomJacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper()\n                .setSerializationInclusion(JsonInclude.Include.NON_NULL)\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\n    }\n}\n</code></pre>\n<p>source: <a href=\"https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/\" rel=\"nofollow noreferrer\">https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/</a></p>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222173,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":28324976,"answer_count":14,"score":124,"last_activity_date":1671194304,"creation_date":1423061660,"question_id":28324352,"body_markdown":"I&#39;m using Spring Boot (1.2.1), in a similar fashion as in their [Building a RESTful Web Service][1] tutorial:\r\n\r\n```lang-java\r\n@RestController\r\npublic class EventController {\r\n   @RequestMapping(&quot;/events/all&quot;)\r\n   EventList events() {\r\n       return proxyService.getAllEvents();\r\n   }\r\n}\r\n```\r\n\r\nSo above, Spring MVC implicitly uses Jackson for serialising my `EventList` object into JSON.\r\n\r\nBut I want to do some simple customisations to the JSON format, such as:\r\n\r\n```lang-java\r\nsetSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n```\r\n\r\n\r\nQuestion is, **what is the simplest way to customise the implicit JSON mapper?**\r\n\r\n\r\nI tried the approach in **[this blog post][2]**, creating a CustomObjectMapper  and so on, but the step 3, &quot;Register classes in the Spring context&quot;, fails:\r\n\r\n```lang-none\r\norg.springframework.beans.factory.BeanCreationException: \r\n  Error creating bean with name &#39;jacksonFix&#39;: Injection of autowired dependencies failed; \r\n  nested exception is org.springframework.beans.factory.BeanCreationException: \r\n  Could not autowire method: public void com.acme.project.JacksonFix.setAnnotationMethodHandlerAdapter(org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter); \r\n  nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n  No qualifying bean of type [org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter]   \r\n  found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n```\r\n\r\nIt looks like those instructions are for older versions of Spring MVC, while I&#39;m looking for a simple way to get this working with latest Spring Boot.\r\n\r\n  [1]: http://spring.io/guides/gs/rest-service/\r\n  [2]: http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I'm using Spring Boot (1.2.1), in a similar fashion as in their <a href=\"http://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">Building a RESTful Web Service</a> tutorial:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class EventController {\n   @RequestMapping(&quot;/events/all&quot;)\n   EventList events() {\n       return proxyService.getAllEvents();\n   }\n}\n</code></pre>\n<p>So above, Spring MVC implicitly uses Jackson for serialising my <code>EventList</code> object into JSON.</p>\n<p>But I want to do some simple customisations to the JSON format, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setSerializationInclusion(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Question is, <strong>what is the simplest way to customise the implicit JSON mapper?</strong></p>\n<p>I tried the approach in <strong><a href=\"http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html\" rel=\"noreferrer\">this blog post</a></strong>, creating a CustomObjectMapper  and so on, but the step 3, &quot;Register classes in the Spring context&quot;, fails:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: \n  Error creating bean with name 'jacksonFix': Injection of autowired dependencies failed; \n  nested exception is org.springframework.beans.factory.BeanCreationException: \n  Could not autowire method: public void com.acme.project.JacksonFix.setAnnotationMethodHandlerAdapter(org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter); \n  nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \n  No qualifying bean of type [org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter]   \n  found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\n</code></pre>\n<p>It looks like those instructions are for older versions of Spring MVC, while I'm looking for a simple way to get this working with latest Spring Boot.</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671194000,"creation_date":1671194000,"question_id":74824512,"body_markdown":"I have a simple dto \r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @Schema(title = &quot;TestDto&quot;, description = &quot;Test dto&quot;)\r\n    public class TestDto {\r\n       \r\n        private Integer id;\r\n        private String value;\r\n        @ArraySchema(schema = @Schema(implementation = TestDto.class))\r\n        private List&lt;TestDto&gt; children;\r\n\r\nand when i generate schema i see \r\n\r\n    &quot;testDto&quot;: [\r\n            {\r\n              &quot;id&quot;: 0,\r\n              &quot;value&quot;: &quot;string&quot;,\r\n              &quot;children&quot;:[&quot;string&quot;]\r\n            }\r\n\r\nbut i need something like this\r\n\r\n     &quot;testDto&quot;: [\r\n                {\r\n                  &quot;id&quot;: 0,\r\n                  &quot;value&quot;: &quot;string&quot;,\r\n                  &quot;children&quot;:[\r\n                              {&quot;id&quot;: 0,\r\n                               &quot;value&quot;: &quot;string&quot;,\r\n                               &quot;children&quot;:[{}]}]\r\n                }\r\n\r\nor like this\r\n\r\n    &quot;testDto&quot;: [\r\n            {\r\n              &quot;id&quot;: 0,\r\n              &quot;value&quot;: &quot;string&quot;,\r\n              &quot;children&quot;:[&quot;testDto&quot;]\r\n            }\r\n\r\nis there any way to do that?\r\n\r\n\r\n","title":"How to add link to parent object in schema","body":"<p>I have a simple dto</p>\n<pre><code>@Getter\n@Setter\n@Schema(title = &quot;TestDto&quot;, description = &quot;Test dto&quot;)\npublic class TestDto {\n   \n    private Integer id;\n    private String value;\n    @ArraySchema(schema = @Schema(implementation = TestDto.class))\n    private List&lt;TestDto&gt; children;\n</code></pre>\n<p>and when i generate schema i see</p>\n<pre><code>&quot;testDto&quot;: [\n        {\n          &quot;id&quot;: 0,\n          &quot;value&quot;: &quot;string&quot;,\n          &quot;children&quot;:[&quot;string&quot;]\n        }\n</code></pre>\n<p>but i need something like this</p>\n<pre><code> &quot;testDto&quot;: [\n            {\n              &quot;id&quot;: 0,\n              &quot;value&quot;: &quot;string&quot;,\n              &quot;children&quot;:[\n                          {&quot;id&quot;: 0,\n                           &quot;value&quot;: &quot;string&quot;,\n                           &quot;children&quot;:[{}]}]\n            }\n</code></pre>\n<p>or like this</p>\n<pre><code>&quot;testDto&quot;: [\n        {\n          &quot;id&quot;: 0,\n          &quot;value&quot;: &quot;string&quot;,\n          &quot;children&quot;:[&quot;testDto&quot;]\n        }\n</code></pre>\n<p>is there any way to do that?</p>\n"},{"tags":["java","maven","build","pom.xml","maven-dependency-plugin"],"answers":[{"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384355110,"creation_date":1336398444,"answer_id":10483252,"question_id":10483180,"body_markdown":"&gt; pluginManagement: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.\r\n\r\nFrom http://maven.apache.org/pom.html#Plugin%5FManagement\r\n\r\nCopied from :\r\n\r\nhttps://stackoverflow.com/questions/1266226/maven2-problem-with-pluginmanagement-and-parent-child-relationship","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<blockquote>\n  <p>pluginManagement: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.</p>\n</blockquote>\n\n<p>From <a href=\"http://maven.apache.org/pom.html#Plugin%5FManagement\" rel=\"nofollow noreferrer\">http://maven.apache.org/pom.html#Plugin%5FManagement</a></p>\n\n<p>Copied from :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1266226/maven2-problem-with-pluginmanagement-and-parent-child-relationship\">Maven2 - problem with pluginManagement and parent-child relationship</a></p>\n"},{"tags":[],"owner":{"account_id":1082218,"reputation":6741,"user_id":1078883,"display_name":"jordeu"},"down_vote_count":2,"up_vote_count":351,"is_accepted":true,"score":349,"last_activity_date":1392131280,"creation_date":1336398561,"answer_id":10483284,"question_id":10483180,"body_markdown":"You still need to add \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nin your build, because `pluginManagement` is only a way to share the same plugin configuration across all your project modules.\r\n\r\nFrom Maven documentation:\r\n\r\n&gt; **pluginManagement**: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.\r\n","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>You still need to add </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>in your build, because <code>pluginManagement</code> is only a way to share the same plugin configuration across all your project modules.</p>\n\n<p>From Maven documentation:</p>\n\n<blockquote>\n  <p><strong>pluginManagement</strong>: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1576577596,"creation_date":1336398589,"answer_id":10483294,"question_id":10483180,"body_markdown":"You use `pluginManagement` in a `parent pom` to configure it in case any `child pom` wants to use it, but not every child plugin wants to use it. An example can be that your `super pom` defines some options for the maven Javadoc plugin. \r\n\r\nNot each `child pom` might want to use Javadoc, so you define those defaults in a `pluginManagement` section. The child pom that wants to use the Javadoc plugin, just defines a plugin section and will **inherit** the configuration from the `pluginManagement` definition in the `parent pom`.","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>You use <code>pluginManagement</code> in a <code>parent pom</code> to configure it in case any <code>child pom</code> wants to use it, but not every child plugin wants to use it. An example can be that your <code>super pom</code> defines some options for the maven Javadoc plugin. </p>\n\n<p>Not each <code>child pom</code> might want to use Javadoc, so you define those defaults in a <code>pluginManagement</code> section. The child pom that wants to use the Javadoc plugin, just defines a plugin section and will <strong>inherit</strong> the configuration from the <code>pluginManagement</code> definition in the <code>parent pom</code>.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":339,"is_accepted":false,"score":339,"last_activity_date":1670778003,"creation_date":1336399171,"answer_id":10483432,"question_id":10483180,"body_markdown":"The difference between `&lt;pluginManagement/&gt;` and `&lt;plugins/&gt;` is that a `&lt;plugin/&gt;` under:\r\n\r\n- `&lt;pluginManagement/&gt;` defines the settings for plugins that will be inherited by modules in your build. This is great for cases where you have a parent pom file and would like to avoid having to copy the same code for the configuration of the plugin over to each of these modules.\r\n\r\n- `&lt;plugins/&gt;` is a section for the actual invocation of the plugins. It may or may not be inherited from a `&lt;pluginManagement/&gt;`.\r\n\r\nYou don&#39;t need to have a `&lt;pluginManagement/&gt;` in your project, if it&#39;s not a parent POM. However, if it&#39;s a parent pom, then in the child&#39;s pom, you need to have a declaration like:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bar-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nNotice how you aren&#39;t defining any configuration. You can inherit it from the parent, unless you need to further adjust your invocation as per the child project&#39;s needs.\r\n\r\nFor more specific information, you can check:\r\n\r\n- The Maven pom.xml reference: [Plugins][1]\r\n\r\n- The Maven pom.xml reference: [Plugin Management][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/pom.html#Plugins\r\n  [2]: https://maven.apache.org/pom.html#Plugin_Management\r\n     ","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>The difference between <code>&lt;pluginManagement/&gt;</code> and <code>&lt;plugins/&gt;</code> is that a <code>&lt;plugin/&gt;</code> under:</p>\n<ul>\n<li><p><code>&lt;pluginManagement/&gt;</code> defines the settings for plugins that will be inherited by modules in your build. This is great for cases where you have a parent pom file and would like to avoid having to copy the same code for the configuration of the plugin over to each of these modules.</p>\n</li>\n<li><p><code>&lt;plugins/&gt;</code> is a section for the actual invocation of the plugins. It may or may not be inherited from a <code>&lt;pluginManagement/&gt;</code>.</p>\n</li>\n</ul>\n<p>You don't need to have a <code>&lt;pluginManagement/&gt;</code> in your project, if it's not a parent POM. However, if it's a parent pom, then in the child's pom, you need to have a declaration like:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\n        &lt;artifactId&gt;bar-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>Notice how you aren't defining any configuration. You can inherit it from the parent, unless you need to further adjust your invocation as per the child project's needs.</p>\n<p>For more specific information, you can check:</p>\n<ul>\n<li><p>The Maven pom.xml reference: <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"noreferrer\">Plugins</a></p>\n</li>\n<li><p>The Maven pom.xml reference: <a href=\"https://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\">Plugin Management</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671193972,"creation_date":1671193972,"answer_id":74824502,"question_id":10483180,"body_markdown":"`&lt;pluginManagement&gt;` just like `&lt;dependencyManagement&gt;` are both used to share only the configuration between a parent and it&#39;s sub-modules.  \r\n\r\nFor that we define the dependencie&#39;s and plugin&#39;s common configurations in the parent project and then we only have to declare the dependency/plugin in the sub-modules to use it, without having to define a configuration for it (i.e version or execution, goals, etc). Though this does not prevent us from overriding the configuration in the submodule.  \r\n\r\nIn contrast `&lt;dependencies&gt;` and `&lt;plugins&gt;` are inherited along with their configurations and should not be redeclared in the sub-modules, otherwise a conflict would occur.   \r\n","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p><code>&lt;pluginManagement&gt;</code> just like <code>&lt;dependencyManagement&gt;</code> are both used to share only the configuration between a parent and it's sub-modules.</p>\n<p>For that we define the dependencie's and plugin's common configurations in the parent project and then we only have to declare the dependency/plugin in the sub-modules to use it, without having to define a configuration for it (i.e version or execution, goals, etc). Though this does not prevent us from overriding the configuration in the submodule.</p>\n<p>In contrast <code>&lt;dependencies&gt;</code> and <code>&lt;plugins&gt;</code> are inherited along with their configurations and should not be redeclared in the sub-modules, otherwise a conflict would occur.</p>\n"}],"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211958,"favorite_count":0,"down_vote_count":0,"up_vote_count":325,"accepted_answer_id":10483284,"answer_count":5,"score":325,"last_activity_date":1671193972,"creation_date":1336398188,"question_id":10483180,"body_markdown":"This is a snippet of my pom file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    ....\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;                        \r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t......\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    ...\r\n\r\nI use it successfully with the command \r\n\r\n    mvn install\r\n\r\nBut, when I try to enclose it into the &quot;pluginManagement&quot; tag, the `maven-dependency-plugin` stops working when I launch the `install` goal.\r\nWhy does the &quot;pluginManagement&quot; tag change the build behavior? Or should I use another goal or option?","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>This is a snippet of my pom file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>....\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;                        \n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            ......\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n...\n</code></pre>\n\n<p>I use it successfully with the command </p>\n\n<pre><code>mvn install\n</code></pre>\n\n<p>But, when I try to enclose it into the \"pluginManagement\" tag, the <code>maven-dependency-plugin</code> stops working when I launch the <code>install</code> goal.\nWhy does the \"pluginManagement\" tag change the build behavior? Or should I use another goal or option?</p>\n"},{"tags":["java","spring","exception"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1671191046,"post_id":74823957,"comment_id":132050940,"body_markdown":"You can validate the request with these annotations: https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\nNo need of a separate class.","body":"You can validate the request with these annotations: <a href=\"https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\" title=\"difference between valid and validated in spring\">stackoverflow.com/questions/36173332/&hellip;</a> No need of a separate class."},{"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"score":0,"creation_date":1671193679,"post_id":74823957,"comment_id":132051759,"body_markdown":"Hi Arun, Thank you for your answer. I thought about using @Valid but in my case, I have to return different error messages for different endpoints using the same Request Object. I am not sure if that is possible with the validation annotations. I have edited the question to minimize the confusion.","body":"Hi Arun, Thank you for your answer. I thought about using @Valid but in my case, I have to return different error messages for different endpoints using the same Request Object. I am not sure if that is possible with the validation annotations. I have edited the question to minimize the confusion."}],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671193922,"creation_date":1671190800,"question_id":74823957,"body_markdown":"I am trying to create a custom Exception handler which will be the first thing to run when a request is made for **different endpoints** using the same request body object.\r\n \r\nDepending on the endpoint, It should check the request body object&#39;s fields and throw a different error message for the same field.\r\n\r\nI could not figure out to specify the endpoint for @Valid and thought an Exception Handler would be a better solution for this issue.\r\n\r\nMy problem is on the Controller side. I could not figure out how to call the custom exception check when a request is made. Any help would be great. \r\n\r\n    public class RequestData {\r\n      private String type; \r\n      private int distance;\r\n      //getters, setters etc.\r\n    }\r\n    \r\n\r\nController:\r\n\r\n        @RestController\r\n        public class TestController {\r\n            \r\n            @PostMapping(&quot;/getSomething&quot;)\r\n            @ExceptionHandler({CustomIllegalArgumentException.class})\r\n            public ResponseEntity getSomething(@RequestBody RequestData requestData) {\r\n                  String endPoint = &quot;getSomething&quot;;\r\n                try {\r\n                    //first check requestData, if no exception is thrown then proceed.\r\n                    return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\r\n                } catch (CustomIllegalArgumentException e) {\r\n                    return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endPoint);\r\n                }\r\n            }\r\n    \r\n            @PostMapping(&quot;/doSomething&quot;)\r\n            @ExceptionHandler({CustomIllegalArgumentException.class})\r\n            public ResponseEntity doSomething(@RequestBody RequestData requestData) {\r\n                String endPoint = &quot;doSomething&quot;;\r\n                try {\r\n                    //first check requestData, if no exception is thrown then proceed.\r\n                    return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\r\n                } catch (CustomIllegalArgumentException e) {\r\n                    return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endpoint);\r\n                }\r\n            }\r\n        }\r\nCustom Exception:\r\n\r\n    public class CustomIllegalArgumentException extends Exception {\r\n    }\r\n\r\nError Response Class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ErrorResponse {\r\n    \r\n        private HttpStatus status;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyyMMdd hh:mm:ss&quot;)\r\n        private LocalDateTime timeStamp;\r\n        private String message;\r\n    \r\n        public ErrorResponse(HttpStatus status) {\r\n            this();\r\n            this.status = status;\r\n        }\r\n    \r\n        public ErrorResponse(HttpStatus status, String message) {\r\n            this();\r\n            this.status = status;\r\n            this.message = message;\r\n        }\r\n    \r\n        public ErrorResponse(){\r\n            timeStamp = LocalDateTime.now();\r\n        }\r\n        public ErrorResponse(HttpStatus status, LocalDateTime timeStamp, String message) {\r\n            this();\r\n            this.status = status;\r\n            this.timeStamp = timeStamp;\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n\r\nException Handler For Custom Exception:\r\n\r\n  \r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(value = CustomIllegalArgumentException.class)\r\n    public ResponseEntity handleIllegalRequestBodyException(RequestData requestData, CustomIllegalArgumentException exp, String endPoint) {\r\n        ErrorResponse response = new ErrorResponse(HttpStatus.BAD_REQUEST);\r\n        if(**endPoint.equals(&quot;doSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\r\n            response.setMessage(&quot;a message for this endpoint&quot;);\r\n        }\r\n        if(**endPoint.equals(&quot;getSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\r\n            response.setMessage(&quot;some other message for this endpoint&quot;);\r\n        }\r\n\r\n        return buildResponseEntity(response);\r\n    }\r\n\r\n    private ResponseEntity buildResponseEntity(ErrorResponse errorResponse) {\r\n        return new ResponseEntity&lt;&gt;(errorResponse, errorResponse.getStatus());\r\n    }\r\n}\r\n\r\n\r\n","title":"Custom Exception Handler at Controller Level For Request Body","body":"<p>I am trying to create a custom Exception handler which will be the first thing to run when a request is made for <strong>different endpoints</strong> using the same request body object.</p>\n<p>Depending on the endpoint, It should check the request body object's fields and throw a different error message for the same field.</p>\n<p>I could not figure out to specify the endpoint for @Valid and thought an Exception Handler would be a better solution for this issue.</p>\n<p>My problem is on the Controller side. I could not figure out how to call the custom exception check when a request is made. Any help would be great.</p>\n<pre><code>public class RequestData {\n  private String type; \n  private int distance;\n  //getters, setters etc.\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @RestController\n    public class TestController {\n        \n        @PostMapping(&quot;/getSomething&quot;)\n        @ExceptionHandler({CustomIllegalArgumentException.class})\n        public ResponseEntity getSomething(@RequestBody RequestData requestData) {\n              String endPoint = &quot;getSomething&quot;;\n            try {\n                //first check requestData, if no exception is thrown then proceed.\n                return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\n            } catch (CustomIllegalArgumentException e) {\n                return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endPoint);\n            }\n        }\n\n        @PostMapping(&quot;/doSomething&quot;)\n        @ExceptionHandler({CustomIllegalArgumentException.class})\n        public ResponseEntity doSomething(@RequestBody RequestData requestData) {\n            String endPoint = &quot;doSomething&quot;;\n            try {\n                //first check requestData, if no exception is thrown then proceed.\n                return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\n            } catch (CustomIllegalArgumentException e) {\n                return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endpoint);\n            }\n        }\n    }\n</code></pre>\n<p>Custom Exception:</p>\n<pre><code>public class CustomIllegalArgumentException extends Exception {\n}\n</code></pre>\n<p>Error Response Class:</p>\n<pre><code>@Getter\n@Setter\npublic class ErrorResponse {\n\n    private HttpStatus status;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyyMMdd hh:mm:ss&quot;)\n    private LocalDateTime timeStamp;\n    private String message;\n\n    public ErrorResponse(HttpStatus status) {\n        this();\n        this.status = status;\n    }\n\n    public ErrorResponse(HttpStatus status, String message) {\n        this();\n        this.status = status;\n        this.message = message;\n    }\n\n    public ErrorResponse(){\n        timeStamp = LocalDateTime.now();\n    }\n    public ErrorResponse(HttpStatus status, LocalDateTime timeStamp, String message) {\n        this();\n        this.status = status;\n        this.timeStamp = timeStamp;\n        this.message = message;\n    }\n}\n</code></pre>\n<p>Exception Handler For Custom Exception:</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n@ExceptionHandler(value = CustomIllegalArgumentException.class)\npublic ResponseEntity handleIllegalRequestBodyException(RequestData requestData, CustomIllegalArgumentException exp, String endPoint) {\n    ErrorResponse response = new ErrorResponse(HttpStatus.BAD_REQUEST);\n    if(**endPoint.equals(&quot;doSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\n        response.setMessage(&quot;a message for this endpoint&quot;);\n    }\n    if(**endPoint.equals(&quot;getSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\n        response.setMessage(&quot;some other message for this endpoint&quot;);\n    }\n\n    return buildResponseEntity(response);\n}\n\nprivate ResponseEntity buildResponseEntity(ErrorResponse errorResponse) {\n    return new ResponseEntity&lt;&gt;(errorResponse, errorResponse.getStatus());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","keystore","android-keystore"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1497067606,"post_id":44469020,"comment_id":75934933,"body_markdown":"I think that -22 corresponds to this:  &quot;KM_ERROR_KEY_EXPORT_OPTIONS_INVALID = -22&quot; in KeyMasterDefs","body":"I think that -22 corresponds to this:  &quot;KM_ERROR_KEY_EXPORT_OPTIONS_INVALID = -22&quot; in KeyMasterDefs"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1497097537,"post_id":44469020,"comment_id":75942121,"body_markdown":"Any ideas as to how I could resolve that?","body":"Any ideas as to how I could resolve that?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1497098919,"post_id":44469020,"comment_id":75942500,"body_markdown":"Seems to be stemming from this line: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/keystore/java/android/security/keystore/AndroidKeyStoreProvider.java#230","body":"Seems to be stemming from this line: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/keystore/java/android/security/keystore/AndroidKeyStoreProvider.java#230\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/refs/hea&zwnj;&#8203;ds/&hellip;</a>"},{"owner":{"account_id":388336,"reputation":1391,"user_id":747206,"accept_rate":91,"display_name":"Fredefl"},"score":0,"creation_date":1501270738,"post_id":44469020,"comment_id":77723974,"body_markdown":"@kspearrin I am actually one of the affected users, running a OnePlus 2. I TP-Links app &quot;Kasa&quot; crashing on me, with this exactly stack trace. Decompilation of the APK points to code looking like yours. Have you got any new information?","body":"@kspearrin I am actually one of the affected users, running a OnePlus 2. I TP-Links app &quot;Kasa&quot; crashing on me, with this exactly stack trace. Decompilation of the APK points to code looking like yours. Have you got any new information?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1501271564,"post_id":44469020,"comment_id":77724382,"body_markdown":"@Fredefl Unfortunately I was never able to solve the problem. I gave up on it. My solution was to forego using asymmetric keypairs and revert to use symmetric keys (on Android 6.0+). Fortunately my solution allowed for that, but I realize that isn&#39;t the case most of the time.","body":"@Fredefl Unfortunately I was never able to solve the problem. I gave up on it. My solution was to forego using asymmetric keypairs and revert to use symmetric keys (on Android 6.0+). Fortunately my solution allowed for that, but I realize that isn&#39;t the case most of the time."},{"owner":{"account_id":6991560,"reputation":163,"user_id":5360655,"display_name":"Efren"},"score":0,"creation_date":1528407881,"post_id":44469020,"comment_id":88508962,"body_markdown":"@kspearrin did you find a solution for this issue?","body":"@kspearrin did you find a solution for this issue?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1528407933,"post_id":44469020,"comment_id":88508989,"body_markdown":"See comment above.","body":"See comment above."},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1680073749,"post_id":44469020,"comment_id":133833114,"body_markdown":"Can you use Bouncy Castle or OpenSSL instead of AndroidKeyStore?","body":"Can you use Bouncy Castle or OpenSSL instead of AndroidKeyStore?"},{"owner":{"account_id":106654,"reputation":4139,"user_id":3941732,"accept_rate":80,"display_name":"NguyenDat"},"score":0,"creation_date":1698638858,"post_id":44469020,"comment_id":136426360,"body_markdown":"I&#39;m curious what is the meaning of that error code: KM_ERROR_KEY_EXPORT_OPTIONS_INVALID and KEY_EXPORT_OPTIONS_INVALID. \n\nIs it will be return by specific implement of Phone/HW vender so we don&#39;t see detail implement of that return?\n\nIn my case majority of that error is from Oppo vendor (~70%)","body":"I&#39;m curious what is the meaning of that error code: KM_ERROR_KEY_EXPORT_OPTIONS_INVALID and KEY_EXPORT_OPTIONS_INVALID.   Is it will be return by specific implement of Phone/HW vender so we don&#39;t see detail implement of that return?  In my case majority of that error is from Oppo vendor (~70%)"}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671193781,"creation_date":1671193781,"answer_id":74824478,"question_id":44469020,"body_markdown":"you must have to try this one...\r\n\r\n - `&quot;SHA-256&quot;` instead of `&quot;SHA-1&quot;`\r\n\r\n```\r\nsetDigests(&quot;SHA-256&quot;)\r\n```","title":"AndroidKeyStore KeyPairGenerator Crashes On Small Number of Devices","body":"<p>you must have to try this one...</p>\n<ul>\n<li><code>&quot;SHA-256&quot;</code> instead of <code>&quot;SHA-1&quot;</code></li>\n</ul>\n<pre><code>setDigests(&quot;SHA-256&quot;)\n</code></pre>\n"}],"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3513,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":1,"score":46,"last_activity_date":1671193781,"creation_date":1497062729,"question_id":44469020,"body_markdown":"My application only targets Android 6.0+. In my application I generate a RSA key in the `AndroidKeyStore` with the following:\r\n\r\n    KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;AndroidKeyStore&quot;);\r\n    kpg.initialize(new KeyGenParameterSpec.Builder(\r\n        &quot;myKey&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n        .setCertificateSubject(new X500Principal(&quot;CN=myKey&quot;))\r\n        .setDigests(&quot;SHA-1&quot;)\r\n        .setEncryptionPaddings(&quot;OAEPPadding&quot;)\r\n        .build());\r\n    \r\n    KeyPair kp = kpg.generateKeyPair();\r\n\r\nThis works well on 20+ devices that we have tested and nearly 100% percent of our users.\r\n\r\nHowever, there is a small number of users that that application crashes for when `kpg.generateKeyPair()` is executed with the following:\r\n\r\n\r\n\r\n    java.security.ProviderException: Failed to load generated key pair from keystore\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:518)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n    Caused by: java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    ... 14 more\r\n    Caused by: android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    ... 16 more\r\n    \r\n    \r\n    java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n    Caused by: android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    ... 16 more\r\n    \r\n    \r\n    android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n\r\nThe only things I can find on the internet about this `Failed to obtain X.509 form of public key` error are a few articles with no real solutions. See:\r\n\r\n- https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740\r\n- https://jira.lineageos.org/browse/BUGBASH-454\r\n\r\nThe few reports that we have received are from users with OnePlus devices on Android 7.1, which is also one of the devices mentioned in the above articles but there are definitely other devices affected as well.\r\n\r\n- Why is this happening?\r\n- Are there any workarounds?","title":"AndroidKeyStore KeyPairGenerator Crashes On Small Number of Devices","body":"<p>My application only targets Android 6.0+. In my application I generate a RSA key in the <code>AndroidKeyStore</code> with the following:</p>\n\n<pre><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\", \"AndroidKeyStore\");\nkpg.initialize(new KeyGenParameterSpec.Builder(\n    \"myKey\", KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n    .setCertificateSubject(new X500Principal(\"CN=myKey\"))\n    .setDigests(\"SHA-1\")\n    .setEncryptionPaddings(\"OAEPPadding\")\n    .build());\n\nKeyPair kp = kpg.generateKeyPair();\n</code></pre>\n\n<p>This works well on 20+ devices that we have tested and nearly 100% percent of our users.</p>\n\n<p>However, there is a small number of users that that application crashes for when <code>kpg.generateKeyPair()</code> is executed with the following:</p>\n\n<pre><code>java.security.ProviderException: Failed to load generated key pair from keystore\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:518)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\nCaused by: java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\n... 14 more\nCaused by: android.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\n... 16 more\n\n\njava.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\nCaused by: android.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\n... 16 more\n\n\nandroid.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n\n<p>The only things I can find on the internet about this <code>Failed to obtain X.509 form of public key</code> error are a few articles with no real solutions. See:</p>\n\n<ul>\n<li><a href=\"https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740\" rel=\"noreferrer\">https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740</a></li>\n<li><a href=\"https://jira.lineageos.org/browse/BUGBASH-454\" rel=\"noreferrer\">https://jira.lineageos.org/browse/BUGBASH-454</a></li>\n</ul>\n\n<p>The few reports that we have received are from users with OnePlus devices on Android 7.1, which is also one of the devices mentioned in the above articles but there are definitely other devices affected as well.</p>\n\n<ul>\n<li>Why is this happening?</li>\n<li>Are there any workarounds?</li>\n</ul>\n"},{"tags":["java","spring-boot","kubernetes","drone.io"],"answers":[{"tags":[],"owner":{"account_id":3964402,"reputation":15910,"user_id":3270785,"display_name":"P Ekambaram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549220182,"creation_date":1549220182,"answer_id":54506371,"question_id":54504412,"body_markdown":"Is the file present in tomcat - - &gt;webapps\t--&gt;app&#176;war--&gt; resources inside the container","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>Is the file present in tomcat - - >webapps  -->appwar--> resources inside the container</p>\n"},{"tags":[],"owner":{"account_id":2562319,"reputation":834,"user_id":2243384,"accept_rate":41,"display_name":"masT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572851457,"creation_date":1572851457,"answer_id":58688697,"question_id":54504412,"body_markdown":"`ResourceUtils.getFile` doesn&#39;t work with packaged jars. Though it works with IDEs. You can try below alternate\r\n\r\n    protected InputStreamReader readStream(String filePath) throws FileNotFoundException {\r\n        InputStreamReader streamReader;\r\n        if (filePath.startsWith(&quot;classpath:&quot;)) {\r\n            streamReader = new InputStreamReader(getClass().getResourceAsStream(File.separator + filePath.split(&quot;classpath:/*&quot;)[1]));\r\n        } else {\r\n            streamReader = new FileReader(ResourceUtils.getFile(filePath));\r\n        }\r\n        return streamReader;\r\n    }","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p><code>ResourceUtils.getFile</code> doesn't work with packaged jars. Though it works with IDEs. You can try below alternate</p>\n\n<pre><code>protected InputStreamReader readStream(String filePath) throws FileNotFoundException {\n    InputStreamReader streamReader;\n    if (filePath.startsWith(\"classpath:\")) {\n        streamReader = new InputStreamReader(getClass().getResourceAsStream(File.separator + filePath.split(\"classpath:/*\")[1]));\n    } else {\n        streamReader = new FileReader(ResourceUtils.getFile(filePath));\n    }\n    return streamReader;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671193150,"creation_date":1671193150,"answer_id":74824362,"question_id":54504412,"body_markdown":"Assuming you have your file in `resources` directory\r\n\r\n    URL img1Url = org.apache.cxf.common.classloader.ClassLoaderUtils.getResource(&quot;/assets/bathroom.png&quot;, YourClass.class);\r\n\r\nUse the url to create a `File` Object or an `InputStreamReader` as per your application.\r\n\r\nLibrary import:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-common-utilities&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.11&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe above part works for kubernetes images and regular instances as well.","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>Assuming you have your file in <code>resources</code> directory</p>\n<pre><code>URL img1Url = org.apache.cxf.common.classloader.ClassLoaderUtils.getResource(&quot;/assets/bathroom.png&quot;, YourClass.class);\n</code></pre>\n<p>Use the url to create a <code>File</code> Object or an <code>InputStreamReader</code> as per your application.</p>\n<p>Library import:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-common-utilities&lt;/artifactId&gt;\n    &lt;version&gt;2.5.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The above part works for kubernetes images and regular instances as well.</p>\n"}],"owner":{"account_id":436136,"reputation":8556,"user_id":823109,"accept_rate":90,"display_name":"Hearaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2321,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671193150,"creation_date":1549207656,"question_id":54504412,"body_markdown":"I am running local code in traditional tomcat server where as while deploying to Kubernetes my code of read resource file is not working. \r\n\r\nI placed `nas.txt` in resource folder.\r\n\r\nand \r\n\r\n    File file = ResourceUtils.getFile(&quot;classpath:nas.txt&quot;);\r\n\r\n    //Read File Content\r\n    String content = new String(Files.readAllBytes(file.toPath()));\r\n    return content;\r\n\r\nThis is giving `&quot;Internal exception has occurred&quot;` error","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>I am running local code in traditional tomcat server where as while deploying to Kubernetes my code of read resource file is not working. </p>\n\n<p>I placed <code>nas.txt</code> in resource folder.</p>\n\n<p>and </p>\n\n<pre><code>File file = ResourceUtils.getFile(\"classpath:nas.txt\");\n\n//Read File Content\nString content = new String(Files.readAllBytes(file.toPath()));\nreturn content;\n</code></pre>\n\n<p>This is giving <code>\"Internal exception has occurred\"</code> error</p>\n"},{"tags":["java","arrays","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670360343,"creation_date":1670359889,"answer_id":74708906,"question_id":74708834,"body_markdown":"`CSVReader#readNext()` reads the next line **and splits it into it&#39;s values**. Which means, using `.readNext()` while the reader is at `a,b,c,d` will yield `[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]`. The `.split` you have in your code right now is redundant, and will fail in every case, because there shouldn&#39;t be commas in individual cells of a CSV file. Instead, replace `bookInfo` with `nextLine`.","title":"How can i solve ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 when trying to print out a csv file individually","body":"<p><code>CSVReader#readNext()</code> reads the next line <strong>and splits it into it's values</strong>. Which means, using <code>.readNext()</code> while the reader is at <code>a,b,c,d</code> will yield <code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</code>. The <code>.split</code> you have in your code right now is redundant, and will fail in every case, because there shouldn't be commas in individual cells of a CSV file. Instead, replace <code>bookInfo</code> with <code>nextLine</code>.</p>\n"}],"owner":{"account_id":24938688,"reputation":1,"user_id":18804899,"display_name":"KaisterM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671192617,"creation_date":1670359472,"question_id":74708834,"body_markdown":"When i try to print out each value in my csv file using the below code:\r\n\r\n```\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\n\r\npublic class searchBook {\r\n    \r\n    \r\n\r\n    public static void main(String[] args)throws IOException, CsvValidationException {\r\n                Main a = new Main();\r\n    \r\n        String fileName = &quot;bookData.csv&quot;;\r\n\r\n        try (var fr = new FileReader(fileName, StandardCharsets.UTF_8);\r\n            var reader = new CSVReader(fr)) {\r\n                String[] nextLine;\r\n\r\n                while ((nextLine = reader.readNext()) != null) {\r\n                    Integer i = 0;\r\n                    for (String e : nextLine) {\r\n                        String[] bookInfo = nextLine[i].split(&quot;,&quot;, -2);\r\n                        i++;\r\n                        System.out.println(bookInfo[0]);\r\n                        String type = bookInfo[0];\r\n                        String title = bookInfo[1];\r\n                        String author = bookInfo[2];\r\n                        String ISBN = bookInfo[3];\r\n                        String pubDate = bookInfo[4];\r\n                        String illustrator = bookInfo[5];\r\n                        String narrator = bookInfo[6];\r\n                        \r\n                        \r\n\r\n                        \r\n                \r\n                        if(a.book.equals(title) || a.book.equals(author) || a.book.equals(ISBN) || a.book.equals(illustrator) || a.book.equals(narrator)) {\r\n                            String typeSaved = bookInfo[0];\r\n                            String titleSaved = bookInfo[1];\r\n                            String authorSaved = bookInfo[2];\r\n                            String ISBNSaved = bookInfo[3];\r\n                            String pubDateSaved = bookInfo[4];\r\n                            String illustratorSaved = bookInfo[5];\r\n                            String narratorSaved = bookInfo[6];\r\n\r\n                            \r\n                            \r\n                        }\r\n\r\n\r\n                    }\r\n                }\r\n            \r\n            }\r\n        \r\n        } public Object typeSaved, titleSaved, authorSaved, ISBNSaved, pubDateSaved, illustratorSaved, narratorSaved; \r\n    }\r\n\r\n```\r\nwhile using this csv file:\r\n\r\nBook,The_Hunger_Games,Suzanne_Collins,9780439023481,14/10/2008,N/A,N/A,No\r\n\r\nComic_book,Astonishing_X-Men,Warren_Ellis,N/A,2004,Simone_Bianchi,N/A,No\r\n\r\nAudio_book,Never_Finished,David_Goggins,N/A,06/12/2022,N/A,David_Goggins,No\r\n\r\ni am met with the error code: \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at searchBook.main(searchBook.java:29)\r\n\r\nIs there a way to fix this?\r\n\r\nI attempted to remove all the spaces in the csv file incase that could possibly be the issue but this had no effect.\r\n\r\nAlso since its due to the index value being 1 or greater when i tried to print out just the 0 value it printed out everything in the csv file.\r\n\r\nAny help would be appreciated!","title":"How can i solve ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 when trying to print out a csv file individually","body":"<p>When i try to print out each value in my csv file using the below code:</p>\n<pre><code>import java.io.FileReader;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\n\npublic class searchBook {\n    \n    \n\n    public static void main(String[] args)throws IOException, CsvValidationException {\n                Main a = new Main();\n    \n        String fileName = &quot;bookData.csv&quot;;\n\n        try (var fr = new FileReader(fileName, StandardCharsets.UTF_8);\n            var reader = new CSVReader(fr)) {\n                String[] nextLine;\n\n                while ((nextLine = reader.readNext()) != null) {\n                    Integer i = 0;\n                    for (String e : nextLine) {\n                        String[] bookInfo = nextLine[i].split(&quot;,&quot;, -2);\n                        i++;\n                        System.out.println(bookInfo[0]);\n                        String type = bookInfo[0];\n                        String title = bookInfo[1];\n                        String author = bookInfo[2];\n                        String ISBN = bookInfo[3];\n                        String pubDate = bookInfo[4];\n                        String illustrator = bookInfo[5];\n                        String narrator = bookInfo[6];\n                        \n                        \n\n                        \n                \n                        if(a.book.equals(title) || a.book.equals(author) || a.book.equals(ISBN) || a.book.equals(illustrator) || a.book.equals(narrator)) {\n                            String typeSaved = bookInfo[0];\n                            String titleSaved = bookInfo[1];\n                            String authorSaved = bookInfo[2];\n                            String ISBNSaved = bookInfo[3];\n                            String pubDateSaved = bookInfo[4];\n                            String illustratorSaved = bookInfo[5];\n                            String narratorSaved = bookInfo[6];\n\n                            \n                            \n                        }\n\n\n                    }\n                }\n            \n            }\n        \n        } public Object typeSaved, titleSaved, authorSaved, ISBNSaved, pubDateSaved, illustratorSaved, narratorSaved; \n    }\n\n</code></pre>\n<p>while using this csv file:</p>\n<p>Book,The_Hunger_Games,Suzanne_Collins,9780439023481,14/10/2008,N/A,N/A,No</p>\n<p>Comic_book,Astonishing_X-Men,Warren_Ellis,N/A,2004,Simone_Bianchi,N/A,No</p>\n<p>Audio_book,Never_Finished,David_Goggins,N/A,06/12/2022,N/A,David_Goggins,No</p>\n<p>i am met with the error code:\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at searchBook.main(searchBook.java:29)</p>\n<p>Is there a way to fix this?</p>\n<p>I attempted to remove all the spaces in the csv file incase that could possibly be the issue but this had no effect.</p>\n<p>Also since its due to the index value being 1 or greater when i tried to print out just the 0 value it printed out everything in the csv file.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192473,"creation_date":1671192473,"answer_id":74824252,"question_id":74824251,"body_markdown":"The cause of issue was the version of the dependency as:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nTo fix it, I needed to change *the version* to higher, for example, to:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nor to another one as:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nbut for the usage of `2.7.5` version, you need to be *careful* and *aware*, because: \r\n\r\n&gt; `getById(ID)` is deprecated and you should use instead\r\n&gt; [getReferenceById(ID)][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"How can I fix the issue: &quot;Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;&quot;?","body":"<p>The cause of issue was the version of the dependency as:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>To fix it, I needed to change <em>the version</em> to higher, for example, to:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>or to another one as:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>but for the usage of <code>2.7.5</code> version, you need to be <em>careful</em> and <em>aware</em>, because:</p>\n<blockquote>\n<p><code>getById(ID)</code> is deprecated and you should use instead\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">getReferenceById(ID)</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824252,"answer_count":1,"score":1,"last_activity_date":1671192473,"creation_date":1671192473,"question_id":74824251,"body_markdown":"I&#39;ve already checked similar questions, but none of them wasn&#39;t helpful for me:\r\n\r\n1) [Cannot resolve method, spring boot app using JPA Data][1]\r\n2) [Cannot resolve symbol repository][2]\r\n3) [Spring crudrepository method save - cannot resolve method][3]\r\n\r\nI have the following code in service implementation with *business-logic* for the project as:\r\n\r\n    @Service\r\n    public class EmployeeServiceImpl implements EmployeeService {\r\n        @Autowired\r\n        EmployeeRepository employeeRepository;\r\n    \r\n        @Override\r\n        public MessageResponse createEmployee(EmployeeRequest employeeRequest) {\r\n            Employee newEmployee = new Employee();\r\n            newEmployee.setFirstName(employeeRequest.getFirstName());\r\n            newEmployee.setLastname(employeeRequest.getLastname());\r\n            newEmployee.setPhoneNumber(employeeRequest.getPhoneNumber());\r\n            newEmployee.setEmail(employeeRequest.getEmail());\r\n            newEmployee.setSalary(employeeRequest.getSalary());\r\n            newEmployee.setDepartment(employeeRequest.getDepartment());\r\n            employeeRepository.save(newEmployee);\r\n            return new MessageResponse(&quot;New Employee created successfully&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;Employee&gt; updateEmployee(Integer employeeId, EmployeeRequest employeeRequest) throws ResourceNotFoundException {\r\n            Optional&lt;Employee&gt; employee = employeeRepository.findById(employeeId);\r\n            if (employee.isEmpty()) {\r\n                throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\r\n            } else {\r\n                employee.get().setFirstName(employeeRequest.getFirstName());\r\n                employee.get().setLastname(employeeRequest.getLastname());\r\n                employee.get().setPhoneNumber(employeeRequest.getPhoneNumber());\r\n                employee.get().setEmail(employeeRequest.getEmail());\r\n                employee.get().setSalary(employeeRequest.getSalary());\r\n                employee.get().setDepartment(employeeRequest.getDepartment());\r\n                employeeRepository.save(employee.get());\r\n                return employee;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Employee getASingleEmployee(Integer employeeId) throws ResourceNotFoundException {\r\n            return employeeRepository.findById(employeeId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId));\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Employee&gt; getAllEmployee() {\r\n            return employeeRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public void deleteEmployee(Integer employeeId) throws ResourceNotFoundException {\r\n            if (employeeRepository.getById(employeeId).getId().equals(employeeId)) {\r\n                employeeRepository.deleteById(employeeId);\r\n            } else throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\r\n        }\r\n    }\r\n\r\nThe *APIs* controller with the code as:\r\n\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\r\n            List&lt;Employee&gt; employees = employeeService.getAllEmployee();\r\n            return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n        }\r\n    \r\n        @GetMapping(&quot;/find/{id}&quot;)\r\n        public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Integer id) {\r\n            Employee employee = employeeService.getASingleEmployee(id);\r\n            return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping(&quot;/add&quot;)\r\n        public ResponseEntity&lt;MessageResponse&gt; addEmployee(@RequestBody EmployeeRequest employee) {\r\n            MessageResponse newEmployee = employeeService.createEmployee(employee);\r\n            return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PutMapping(&quot;/update/{id}&quot;)\r\n        public Optional&lt;Employee&gt; updateEmployee(@PathVariable Integer id, @RequestBody EmployeeRequest employee) {\r\n            return employeeService.updateEmployee(id, employee);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Integer id) {\r\n            employeeService.deleteEmployee(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nIn `POM` I had:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nWhile working with the project, I&#39;ve reproduced the issue as:\r\n\r\n    Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAfter some investigations, I&#39;ve found the cause and the way how can I fix this issue.\r\n\r\n  [1]: https://stackoverflow.com/a/60393421/8370915\r\n  [2]: https://stackoverflow.com/a/74087915/8370915\r\n  [3]: https://stackoverflow.com/a/45012093/8370915\r\n  [4]: https://i.stack.imgur.com/ZG0Vv.png","title":"How can I fix the issue: &quot;Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;&quot;?","body":"<p>I've already checked similar questions, but none of them wasn't helpful for me:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/60393421/8370915\">Cannot resolve method, spring boot app using JPA Data</a></li>\n<li><a href=\"https://stackoverflow.com/a/74087915/8370915\">Cannot resolve symbol repository</a></li>\n<li><a href=\"https://stackoverflow.com/a/45012093/8370915\">Spring crudrepository method save - cannot resolve method</a></li>\n</ol>\n<p>I have the following code in service implementation with <em>business-logic</em> for the project as:</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Override\n    public MessageResponse createEmployee(EmployeeRequest employeeRequest) {\n        Employee newEmployee = new Employee();\n        newEmployee.setFirstName(employeeRequest.getFirstName());\n        newEmployee.setLastname(employeeRequest.getLastname());\n        newEmployee.setPhoneNumber(employeeRequest.getPhoneNumber());\n        newEmployee.setEmail(employeeRequest.getEmail());\n        newEmployee.setSalary(employeeRequest.getSalary());\n        newEmployee.setDepartment(employeeRequest.getDepartment());\n        employeeRepository.save(newEmployee);\n        return new MessageResponse(&quot;New Employee created successfully&quot;);\n\n    }\n\n    @Override\n    public Optional&lt;Employee&gt; updateEmployee(Integer employeeId, EmployeeRequest employeeRequest) throws ResourceNotFoundException {\n        Optional&lt;Employee&gt; employee = employeeRepository.findById(employeeId);\n        if (employee.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\n        } else {\n            employee.get().setFirstName(employeeRequest.getFirstName());\n            employee.get().setLastname(employeeRequest.getLastname());\n            employee.get().setPhoneNumber(employeeRequest.getPhoneNumber());\n            employee.get().setEmail(employeeRequest.getEmail());\n            employee.get().setSalary(employeeRequest.getSalary());\n            employee.get().setDepartment(employeeRequest.getDepartment());\n            employeeRepository.save(employee.get());\n            return employee;\n        }\n    }\n\n    @Override\n    public Employee getASingleEmployee(Integer employeeId) throws ResourceNotFoundException {\n        return employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId));\n    }\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployee() {\n        return employeeRepository.findAll();\n    }\n\n    @Override\n    public void deleteEmployee(Integer employeeId) throws ResourceNotFoundException {\n        if (employeeRepository.getById(employeeId).getId().equals(employeeId)) {\n            employeeRepository.deleteById(employeeId);\n        } else throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\n    }\n}\n</code></pre>\n<p>The <em>APIs</em> controller with the code as:</p>\n<pre><code>public class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\n        List&lt;Employee&gt; employees = employeeService.getAllEmployee();\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Integer id) {\n        Employee employee = employeeService.getASingleEmployee(id);\n        return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;MessageResponse&gt; addEmployee(@RequestBody EmployeeRequest employee) {\n        MessageResponse newEmployee = employeeService.createEmployee(employee);\n        return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/update/{id}&quot;)\n    public Optional&lt;Employee&gt; updateEmployee(@PathVariable Integer id, @RequestBody EmployeeRequest employee) {\n        return employeeService.updateEmployee(id, employee);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Integer id) {\n        employeeService.deleteEmployee(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>In <code>POM</code> I had:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>While working with the project, I've reproduced the issue as:</p>\n<pre><code>Cannot resolve method 'getById' in 'EmployeeRepository'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZG0Vv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZG0Vv.png\" alt=\"enter image description here\" /></a></p>\n<p>After some investigations, I've found the cause and the way how can I fix this issue.</p>\n"},{"tags":["java","selenium","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192068,"creation_date":1671192068,"answer_id":74824184,"question_id":74822169,"body_markdown":"It should work with xpath like this:\r\n```\r\n//button[@class=&#39;btn btn-info btn-link btn-icon btn-sm&#39;]\r\n```\r\n\r\nor\r\n```\r\n//table//button[@class=&#39;btn btn-info btn-link btn-icon btn-sm&#39;]\r\n```","title":"I want to access contents of a nested td within a table","body":"<p>It should work with xpath like this:</p>\n<pre><code>//button[@class='btn btn-info btn-link btn-icon btn-sm']\n</code></pre>\n<p>or</p>\n<pre><code>//table//button[@class='btn btn-info btn-link btn-icon btn-sm']\n</code></pre>\n"}],"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824184,"answer_count":1,"score":1,"last_activity_date":1671192246,"creation_date":1671181040,"question_id":74822169,"body_markdown":"hi guys I  am using  selenium and want to  click on a button in a table in order to access the values but in  order to  do that I have to access a buton nested in td tag. I want to verify  verify the values generated in report . I have used an approach but its giving me error please help me. feel free to execute the code, just dont mis-use\r\n\r\nCode:\r\n\r\n\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    import com.github.javafaker.Faker;\r\n    \r\n    import avdhut.onsight.pageobject.HomePage;\r\n    import avdhut.onsight.pageobject.LoginPage;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Webtable {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\r\n    \t\tString userEmailString = &quot;User66&quot;;\r\n    \t\tString userPassword = &quot;Avdhut@5201&quot;;\r\n    \t\tString titleString;\r\n    \t\tFaker faker = new Faker();\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\t// options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver(options);\r\n    \t\tdriver.get(urlString);\r\n    \t\tLoginPage loginPage = new LoginPage(driver);\r\n    \t\tloginPage.login_username(userEmailString);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tloginPage.EnterPassword(userPassword);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tHomePage homePage = new HomePage(driver);\r\n    \t\tThread.sleep(10000);\r\n    \t\t WebElement baseTable = driver.findElement(By.xpath(&quot;//table&quot;));//*\r\n    \tList&lt;WebElement&gt; table_row_1=baseTable.findElements(By.xpath(&quot;*[@id=&#39;query-table&#39;]/tbody/tr/td[2]&quot;));\r\n    \tfor (WebElement webElement : table_row_1) {\r\n    \t\tif (webElement.getText().equalsIgnoreCase(&quot;random&quot;)) {\r\n    \t\t\tSystem.out.println(webElement.getText());\r\n    \t\t\twebElement.findElement(By.xpath(&quot;//[@id=&#39;query-table&#39;]/tbody/tr/td[7]/button[@title=&#39;View&#39;&quot;));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(webElement.getText());\t\r\n    \t\t\tdriver.close();                           //table code\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \t\t////table[@id=&#39;query-table&#39;]/tbody/tr/td[7]/button[@title=&#39;View&#39;]\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHtml code:\r\n\r\n    &lt;table id=&quot;query-table&quot; class=&quot;table table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;query-table_info&quot; xpath=&quot;1&quot; style=&quot;&quot;&gt;\r\n    &lt;tbody xpath=&quot;1&quot;&gt;\r\n    &lt;tr class=&quot;odd&quot;&gt;\r\n                        &lt;td&gt;1234&lt;/td&gt;\r\n                        &lt;td&gt;random&lt;/td&gt;\r\n                        &lt;td&gt;9-Dec-2022 15:16:51&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                        User66\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt;private&lt;/td&gt;\r\n                        &lt;td&gt;Not Scheduled&lt;/td&gt;\r\n                        &lt;td&gt;// Want to access this td \r\n                            &lt;button type=&quot;button&quot; title=&quot;View&quot; rel=&quot;tooltip&quot; class=&quot;btn btn-info btn-link btn-icon btn-sm&quot; onclick=&quot;openJobModal(&#39;5d452186-d034-4c98-81ff-ff2ebfeaf165&#39;,&#39;true&#39;)&quot;&gt;//this button\r\n  \r\n                                                \r\n                        &lt;/td&gt;\r\n                        \r\n                    &lt;/tr&gt;\r\n\r\n","title":"I want to access contents of a nested td within a table","body":"<p>hi guys I  am using  selenium and want to  click on a button in a table in order to access the values but in  order to  do that I have to access a buton nested in td tag. I want to verify  verify the values generated in report . I have used an approach but its giving me error please help me. feel free to execute the code, just dont mis-use</p>\n<p>Code:</p>\n<pre><code>import java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport com.github.javafaker.Faker;\n\nimport avdhut.onsight.pageobject.HomePage;\nimport avdhut.onsight.pageobject.LoginPage;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Webtable {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n        String urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\n        String userEmailString = &quot;User66&quot;;\n        String userPassword = &quot;Avdhut@5201&quot;;\n        String titleString;\n        Faker faker = new Faker();\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        // options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(urlString);\n        LoginPage loginPage = new LoginPage(driver);\n        loginPage.login_username(userEmailString);\n        loginPage.click0nsubmit();\n        loginPage.EnterPassword(userPassword);\n        loginPage.click0nsubmit();\n        HomePage homePage = new HomePage(driver);\n        Thread.sleep(10000);\n         WebElement baseTable = driver.findElement(By.xpath(&quot;//table&quot;));//*\n    List&lt;WebElement&gt; table_row_1=baseTable.findElements(By.xpath(&quot;*[@id='query-table']/tbody/tr/td[2]&quot;));\n    for (WebElement webElement : table_row_1) {\n        if (webElement.getText().equalsIgnoreCase(&quot;random&quot;)) {\n            System.out.println(webElement.getText());\n            webElement.findElement(By.xpath(&quot;//[@id='query-table']/tbody/tr/td[7]/button[@title='View'&quot;));\n        } else {\n            System.out.println(webElement.getText());   \n            driver.close();                           //table code\n        }\n        \n    }\n        \n        ////table[@id='query-table']/tbody/tr/td[7]/button[@title='View']\n\n    }\n\n}\n</code></pre>\n<p>Html code:</p>\n<pre><code>&lt;table id=&quot;query-table&quot; class=&quot;table table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;query-table_info&quot; xpath=&quot;1&quot; style=&quot;&quot;&gt;\n&lt;tbody xpath=&quot;1&quot;&gt;\n&lt;tr class=&quot;odd&quot;&gt;\n                    &lt;td&gt;1234&lt;/td&gt;\n                    &lt;td&gt;random&lt;/td&gt;\n                    &lt;td&gt;9-Dec-2022 15:16:51&lt;/td&gt;\n                    &lt;td&gt;\n                    User66\n                    &lt;/td&gt;\n                    &lt;td&gt;private&lt;/td&gt;\n                    &lt;td&gt;Not Scheduled&lt;/td&gt;\n                    &lt;td&gt;// Want to access this td \n                        &lt;button type=&quot;button&quot; title=&quot;View&quot; rel=&quot;tooltip&quot; class=&quot;btn btn-info btn-link btn-icon btn-sm&quot; onclick=&quot;openJobModal('5d452186-d034-4c98-81ff-ff2ebfeaf165','true')&quot;&gt;//this button\n\n                                            \n                    &lt;/td&gt;\n                    \n                &lt;/tr&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","spock","micronaut"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192214,"creation_date":1671192214,"answer_id":74824206,"question_id":74824009,"body_markdown":"How do you figure that `new Thread().sleep(15000)` will block anything? You are creating a separate thread then you then try to sleep, before it even started. You can try `Thread.currentThread().sleep()`. However, you are basically replacing the whole implementation, so there is nothing to throw the exception. \r\n\r\nWhy don&#39;t you simply throw the exception?\r\n\r\n```java\r\nBlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient) {\r\n    exchange(_ as MutableHttpRequest, TokenResponseBody) &gt;&gt; {\r\n        throw io.micronaut.http.client.exceptions.ReadTimeoutException.TIMEOUT_EXCEPTION\r\n    }\r\n}\r\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\r\n```","title":"How to simulate ReadTimeoutException in Spock with Micronaut","body":"<p>How do you figure that <code>new Thread().sleep(15000)</code> will block anything? You are creating a separate thread then you then try to sleep, before it even started. You can try <code>Thread.currentThread().sleep()</code>. However, you are basically replacing the whole implementation, so there is nothing to throw the exception.</p>\n<p>Why don't you simply throw the exception?</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient) {\n    exchange(_ as MutableHttpRequest, TokenResponseBody) &gt;&gt; {\n        throw io.micronaut.http.client.exceptions.ReadTimeoutException.TIMEOUT_EXCEPTION\n    }\n}\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\n</code></pre>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74824206,"answer_count":1,"score":0,"last_activity_date":1671192214,"creation_date":1671191117,"question_id":74824009,"body_markdown":"I am trying to simulate `io.micronaut.http.client.exceptions.ReadTimeoutException` with Spock, but explicitly the exception cannot be thrown, as it cannot be accessed from the test class.\r\n\r\nThe code which I want to test is given below:\r\n\r\n```\r\n        try {\r\n             res = httpClient.toBlocking().exchange(\r\n                    HttpRequest.GET(url)\r\n                            .header(&quot;env&quot;, &quot;internal&quot;)\r\n                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;),\r\n                    TokenResponseBody.class\r\n            );\r\n\r\n        } catch (HttpClientResponseException e) {\r\n            LOGGER.error(&quot;Visa Token get request&quot;, e);\r\n            throw new CardTokenException(String.valueOf(e.getStatus().getCode()), e.getMessage());\r\n        } catch (ReadTimeoutException re) {\r\n            LOGGER.error(&quot;Visa Token get request&quot;, re);\r\n            throw new CardTokenException(re.getMessage(), &quot;Tokens client read timeout&quot;);\r\n        }\r\n```\r\nSo I am trying to stub the `BlockingHttpClient` which is returned by the `httpClient.toBlocking()` like this:\r\n\r\n```\r\nBlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient.class)\r\nblockingHttpClientStub.exchange(\r\n        _ as MutableHttpRequest, TokenResponseBody.class\r\n) &gt;&gt; {\r\n      MutableHttpRequest obj, Class classType -&gt; new Thread().sleep(15000)\r\n}\r\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\r\n```\r\nthe default config duration is 10 seconds, so I am assuming the `sleep` method would interrupt it for 15 seconds and ReadTimeoutException will be thrown. Please help me out if there any way to simulate the the `ReadTimeoutException`.","title":"How to simulate ReadTimeoutException in Spock with Micronaut","body":"<p>I am trying to simulate <code>io.micronaut.http.client.exceptions.ReadTimeoutException</code> with Spock, but explicitly the exception cannot be thrown, as it cannot be accessed from the test class.</p>\n<p>The code which I want to test is given below:</p>\n<pre><code>        try {\n             res = httpClient.toBlocking().exchange(\n                    HttpRequest.GET(url)\n                            .header(&quot;env&quot;, &quot;internal&quot;)\n                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;),\n                    TokenResponseBody.class\n            );\n\n        } catch (HttpClientResponseException e) {\n            LOGGER.error(&quot;Visa Token get request&quot;, e);\n            throw new CardTokenException(String.valueOf(e.getStatus().getCode()), e.getMessage());\n        } catch (ReadTimeoutException re) {\n            LOGGER.error(&quot;Visa Token get request&quot;, re);\n            throw new CardTokenException(re.getMessage(), &quot;Tokens client read timeout&quot;);\n        }\n</code></pre>\n<p>So I am trying to stub the <code>BlockingHttpClient</code> which is returned by the <code>httpClient.toBlocking()</code> like this:</p>\n<pre><code>BlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient.class)\nblockingHttpClientStub.exchange(\n        _ as MutableHttpRequest, TokenResponseBody.class\n) &gt;&gt; {\n      MutableHttpRequest obj, Class classType -&gt; new Thread().sleep(15000)\n}\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\n</code></pre>\n<p>the default config duration is 10 seconds, so I am assuming the <code>sleep</code> method would interrupt it for 15 seconds and ReadTimeoutException will be thrown. Please help me out if there any way to simulate the the <code>ReadTimeoutException</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1671192542,"post_id":74824204,"comment_id":132051410,"body_markdown":"***substring*** on the ***index of*** the first &#39;/&#39; char","body":"<b><i>substring</i></b> on the <b><i>index of</i></b> the first &#39;/&#39; char"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1671192655,"post_id":74824204,"comment_id":132051446,"body_markdown":"[Path#getRoot](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getRoot())","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getRoot()\" rel=\"nofollow noreferrer\">Path#getRoot</a>"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671193761,"post_id":74824204,"comment_id":132051782,"body_markdown":"Root is giving me an exception, it seems it is implemented for linux based system, it tried to find `/`.","body":"Root is giving me an exception, it seems it is implemented for linux based system, it tried to find <code>&#47;</code>."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671194789,"post_id":74824204,"comment_id":132052077,"body_markdown":"your substring approach looks fine for me because `indexOf` every time give me the first occurrence so doesn&#39;t matter how many number of hierarchy is ther, it always give me the root part, thanks","body":"your substring approach looks fine for me because <code>indexOf</code> every time give me the first occurrence so doesn&#39;t matter how many number of hierarchy is ther, it always give me the root part, thanks"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671192196,"creation_date":1671192196,"question_id":74824204,"body_markdown":"I want to extract the very first part from the file path, lets say\r\n\r\n    dev/sda/asset/\r\n    dev/sda/asset/media/\r\n    dev/sda/asset/media/trancodedvideo/\r\n\r\nI want to fetch the very first part from all the above paths i,e `dev`\r\n\r\nI have snippet which only works for fixed set of path i,e 3 `dev/sda/asset/`\r\n\r\n    \tpublic static String getRootKey(String key) {\r\n    \t\tFile f = new File(key);\r\n    \t\tPath p = f.toPath();\r\n    \t\tint pathElements = p.getNameCount();\r\n    \t\tString rootKey = p.getName(pathElements - 3).toString(); // returns dev\r\n    \t\treturn rootKey;\r\n    \t}\r\nI am looking for more robust solution more preferably in java 8+, because the above approach will be break if the there are hierarchy more than 3.\r\n\r\nPlease suggest","title":"Extract root level element from file path in Java","body":"<p>I want to extract the very first part from the file path, lets say</p>\n<pre><code>dev/sda/asset/\ndev/sda/asset/media/\ndev/sda/asset/media/trancodedvideo/\n</code></pre>\n<p>I want to fetch the very first part from all the above paths i,e <code>dev</code></p>\n<p>I have snippet which only works for fixed set of path i,e 3 <code>dev/sda/asset/</code></p>\n<pre><code>    public static String getRootKey(String key) {\n        File f = new File(key);\n        Path p = f.toPath();\n        int pathElements = p.getNameCount();\n        String rootKey = p.getName(pathElements - 3).toString(); // returns dev\n        return rootKey;\n    }\n</code></pre>\n<p>I am looking for more robust solution more preferably in java 8+, because the above approach will be break if the there are hierarchy more than 3.</p>\n<p>Please suggest</p>\n"},{"tags":["java","selenium","maven","junit","parallel-processing"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671096792,"post_id":74808582,"comment_id":132025661,"body_markdown":"First I would suggest that you upgrade maven-surefire-plugin to most recent version 3.0.0-M7 and recheck. Do you have several test classes or only a single one?","body":"First I would suggest that you upgrade maven-surefire-plugin to most recent version 3.0.0-M7 and recheck. Do you have several test classes or only a single one?"},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1671106202,"post_id":74808582,"comment_id":132028882,"body_markdown":"Thank @khmarbaise. I&#39;ve checked 3.0.0-M7, same behavior. There are about 100 test classes, each with 1-5 test methods.","body":"Thank @khmarbaise. I&#39;ve checked 3.0.0-M7, same behavior. There are about 100 test classes, each with 1-5 test methods."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671110683,"post_id":74808582,"comment_id":132030564,"body_markdown":"Can you post the configuration for maven-surefire-plugin ...","body":"Can you post the configuration for maven-surefire-plugin ..."},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1671112065,"post_id":74808582,"comment_id":132031151,"body_markdown":"@khmarbaise, these are Selenium integration tests running with maven-failsafe-plugin, so surefire shouldn&#39;t be relevant here","body":"@khmarbaise, these are Selenium integration tests running with maven-failsafe-plugin, so surefire shouldn&#39;t be relevant here"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671113727,"post_id":74808582,"comment_id":132031821,"body_markdown":"That was not my question. The configuration of maven-surefire-plugin...","body":"That was not my question. The configuration of maven-surefire-plugin..."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671110686,"creation_date":1671110686,"answer_id":74812260,"question_id":74808582,"body_markdown":"Based on `junit.jupiter.execution.parallel.mode.classes.default=concurrent` you have allowed to paralellize on class level.\r\n\r\nThis means if you have a enough cores there will be started appropriate number of threads. If you like to limit the number you have to go via:\r\n\r\n\r\n\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=6\r\n\r\notherwise the default Fork-Join poil will be taken into account.\r\n","title":"maven-failsafe-plugin not honoring fixed parallelism in JUnit5","body":"<p>Based on <code>junit.jupiter.execution.parallel.mode.classes.default=concurrent</code> you have allowed to paralellize on class level.</p>\n<p>This means if you have a enough cores there will be started appropriate number of threads. If you like to limit the number you have to go via:</p>\n<pre><code>junit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=6\n</code></pre>\n<p>otherwise the default Fork-Join poil will be taken into account.</p>\n"}],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671191997,"creation_date":1671092167,"question_id":74808582,"body_markdown":"I&#39;m trying to run tests in parallel, but with a fixed number of threads.\r\n\r\n- maven-failsafe-plugin 2.22.2\r\n- JUnit 5.9.1\r\n- Selenium 4.7.0\r\n- JDK8\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.22.2&lt;/version&gt;\r\n  &lt;!-- Parallel configuration see junit-platform.properties --&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIf I start off with junit-platform.properties setting\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled=false\r\n```\r\nthe tests run single-threaded, as expected.\r\n\r\nSetting\r\n```\r\njunit.jupiter.execution.parallel.enabled=true\r\njunit.jupiter.execution.parallel.mode.default=same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\r\njunit.jupiter.execution.parallel.config.strategy=fixed\r\njunit.jupiter.execution.parallel.config.fixed.parallelism=2\r\n```\r\nresults in ca. 10 browsers starting in parallel. This shows that maven-failsafe-plugin honors the junit-platform.properties, but not the fixed strategy.\r\n\r\n[JUnit issue &#39;Parallelism value ignored for the fixed strategy&#39; #2273][1] describes this issue, and more specifically [Selenium issue &#39;Can no longer limit the number of parallel sessions from JUnit 5 #9359&#39;][2] describes the impact on Selenium versions 4.0.0-alpha-4 and up.\r\n\r\nHowever, implementing a custom parallel strategy as described in the above issues and setting\r\n```\r\njunit.jupiter.execution.parallel.enabled=true\r\njunit.jupiter.execution.parallel.mode.default=same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\r\njunit.jupiter.execution.parallel.config.strategy=custom\r\njunit.jupiter.execution.parallel.config.custom.class=ch.want.funnel.integration.base.CustomParallelStrategy\r\n```\r\ndoesn&#39;t change anything, there are still ca. 10 browsers opening in parallel.\r\n\r\nI can&#39;t find an SO post nor a github issue describing this behavior, which is that maven-failsafe-plugin does honor junit-platform.properties, does honor the `junit.jupiter.execution.parallel.enabled` setting therein, but not the parallel.config.strategy.\r\n\r\n**Update Dec 16th 2022**\r\n\r\nLooking at ForkJoinPoolHierarchicalTestExecutorService, the ForkJoinPool is created with\r\n```\r\nprivate ForkJoinPool createForkJoinPool(ParallelExecutionConfiguration configuration) {\r\n\tForkJoinWorkerThreadFactory threadFactory = new WorkerThreadFactory();\r\n\treturn Try.call(() -&gt; {\r\n\t\t// Try to use constructor available in Java &gt;= 9\r\n\t\tConstructor&lt;ForkJoinPool&gt; constructor = ForkJoinPool.class.getDeclaredConstructor(Integer.TYPE,\r\n\t\t\tForkJoinWorkerThreadFactory.class, UncaughtExceptionHandler.class, Boolean.TYPE, Integer.TYPE,\r\n\t\t\tInteger.TYPE, Integer.TYPE, Predicate.class, Long.TYPE, TimeUnit.class);\r\n\t\treturn constructor.newInstance(configuration.getParallelism(), threadFactory, null, false,\r\n\t\t\tconfiguration.getCorePoolSize(), configuration.getMaxPoolSize(), configuration.getMinimumRunnable(),\r\n\t\t\tconfiguration.getSaturatePredicate(), configuration.getKeepAliveSeconds(), TimeUnit.SECONDS);\r\n\t}).orElseTry(() -&gt; {\r\n\t\t// Fallback for Java 8\r\n\t\treturn new ForkJoinPool(configuration.getParallelism(), threadFactory, null, false);\r\n\t}).getOrThrow(cause -&gt; new JUnitException(&quot;Failed to create ForkJoinPool&quot;, cause));\r\n}\r\n```\r\nso the configuration maxPoolSize is only taken into account for JDK9 and higher. Also, Eclipse calls\r\n```\r\nForkJoinPoolHierarchicalTestExecutorService#invokeAll(List&lt;? extends TestTask&gt;) \r\n```\r\nindividually for each test class, while Maven calls once with all test classes.\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/2273\r\n  [2]: https://github.com/SeleniumHQ/selenium/issues/9359","title":"maven-failsafe-plugin not honoring fixed parallelism in JUnit5","body":"<p>I'm trying to run tests in parallel, but with a fixed number of threads.</p>\n<ul>\n<li>maven-failsafe-plugin 2.22.2</li>\n<li>JUnit 5.9.1</li>\n<li>Selenium 4.7.0</li>\n<li>JDK8</li>\n</ul>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.2&lt;/version&gt;\n  &lt;!-- Parallel configuration see junit-platform.properties --&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I start off with junit-platform.properties setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=false\n</code></pre>\n<p>the tests run single-threaded, as expected.</p>\n<p>Setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=same_thread\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=2\n</code></pre>\n<p>results in ca. 10 browsers starting in parallel. This shows that maven-failsafe-plugin honors the junit-platform.properties, but not the fixed strategy.</p>\n<p><a href=\"https://github.com/junit-team/junit5/issues/2273\" rel=\"nofollow noreferrer\">JUnit issue 'Parallelism value ignored for the fixed strategy' #2273</a> describes this issue, and more specifically <a href=\"https://github.com/SeleniumHQ/selenium/issues/9359\" rel=\"nofollow noreferrer\">Selenium issue 'Can no longer limit the number of parallel sessions from JUnit 5 #9359'</a> describes the impact on Selenium versions 4.0.0-alpha-4 and up.</p>\n<p>However, implementing a custom parallel strategy as described in the above issues and setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=same_thread\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\njunit.jupiter.execution.parallel.config.strategy=custom\njunit.jupiter.execution.parallel.config.custom.class=ch.want.funnel.integration.base.CustomParallelStrategy\n</code></pre>\n<p>doesn't change anything, there are still ca. 10 browsers opening in parallel.</p>\n<p>I can't find an SO post nor a github issue describing this behavior, which is that maven-failsafe-plugin does honor junit-platform.properties, does honor the <code>junit.jupiter.execution.parallel.enabled</code> setting therein, but not the parallel.config.strategy.</p>\n<p><strong>Update Dec 16th 2022</strong></p>\n<p>Looking at ForkJoinPoolHierarchicalTestExecutorService, the ForkJoinPool is created with</p>\n<pre><code>private ForkJoinPool createForkJoinPool(ParallelExecutionConfiguration configuration) {\n    ForkJoinWorkerThreadFactory threadFactory = new WorkerThreadFactory();\n    return Try.call(() -&gt; {\n        // Try to use constructor available in Java &gt;= 9\n        Constructor&lt;ForkJoinPool&gt; constructor = ForkJoinPool.class.getDeclaredConstructor(Integer.TYPE,\n            ForkJoinWorkerThreadFactory.class, UncaughtExceptionHandler.class, Boolean.TYPE, Integer.TYPE,\n            Integer.TYPE, Integer.TYPE, Predicate.class, Long.TYPE, TimeUnit.class);\n        return constructor.newInstance(configuration.getParallelism(), threadFactory, null, false,\n            configuration.getCorePoolSize(), configuration.getMaxPoolSize(), configuration.getMinimumRunnable(),\n            configuration.getSaturatePredicate(), configuration.getKeepAliveSeconds(), TimeUnit.SECONDS);\n    }).orElseTry(() -&gt; {\n        // Fallback for Java 8\n        return new ForkJoinPool(configuration.getParallelism(), threadFactory, null, false);\n    }).getOrThrow(cause -&gt; new JUnitException(&quot;Failed to create ForkJoinPool&quot;, cause));\n}\n</code></pre>\n<p>so the configuration maxPoolSize is only taken into account for JDK9 and higher. Also, Eclipse calls</p>\n<pre><code>ForkJoinPoolHierarchicalTestExecutorService#invokeAll(List&lt;? extends TestTask&gt;) \n</code></pre>\n<p>individually for each test class, while Maven calls once with all test classes.</p>\n"},{"tags":["java","sockets","bufferedreader","socketexception"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1671194735,"post_id":74824163,"comment_id":132052056,"body_markdown":"You get this error if the client closes the socket without closing the stream.","body":"You get this error if the client closes the socket without closing the stream."}],"owner":{"account_id":27271769,"reputation":1,"user_id":20792982,"display_name":"Markus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671191942,"creation_date":1671191942,"question_id":74824163,"body_markdown":"In a simple Server Client communication I always get the &quot;java.net.SocketException: Connection reset&quot; on the serverside, if the client does not close the outputstream of it&#39;s socket directly after sending out the data via BufferedWriter.\r\nIf I close the client&#39;s outputstream everything works fine.\r\nBut obviously the client wants eventually to send more than one String (then the server needs to handle the connection in a new Thread). But I don&#39;t even get that far, because ofe the problem above...\r\n\r\n\r\nThanks for helping!!\r\n\r\n\r\nHere is some condensed code to show the problem. \r\n\r\nThis is the server class:\r\n\r\n\r\n```\r\npublic class TestServerCharacterStream {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;### Started&quot;);\r\n\t\tTestServerCharacterStream testServerCharacterStream = new TestServerCharacterStream(9498);\r\n\t\ttestServerCharacterStream.waitForData();\r\n\t\tSystem.out.println(&quot;### Terminated&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tprivate int port;\r\n\tprivate ServerSocket serverSocket;\r\n\tprivate BufferedReader in;\r\n\r\n\tpublic TestServerCharacterStream(int port) {\r\n\t\tthis.port = port;\r\n\t\ttry {\r\n\t\t\tthis.serverSocket = new ServerSocket(port);\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Server started!&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot open new server socket!&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void waitForData() {\r\n\t\tSocket clientSocket = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Wait for data on port &quot; + port + &quot; ...&quot;);\r\n\t\t\tclientSocket = serverSocket.accept();\r\n\r\n\t\t\tin = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\t\t\tString incoming = in.readLine();\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Incoming message: &quot; + incoming);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Error while accepting connection or reading input!&quot;);\r\n\t\t\tcloseStreamAndSocket(clientSocket, in);\r\n\t\t\tcloseServerSocket();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void closeStreamAndSocket(Socket socket, BufferedReader in) {\r\n\t\ttry {\r\n\t\t\tif (in != null) {\r\n\t\t\t\tin.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close stream or socket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void closeServerSocket() {\r\n\t\ttry {\r\n\t\t\tif (serverSocket != null) {\r\n\t\t\t\tserverSocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close serverSocket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThis is the Client Class:\r\nAs mentioned, it works if closing the outputstream (see the comment). To use flush() or not does not make any difference. The only way to solve it is `out.close();` \r\nBut I want to use the BufferedWriter again, withot connect always again to the server.\r\n\r\n```\r\npublic class TestClientCharacterStream {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;### Started&quot;);\r\n\t\tTestClientCharacterStream testClientCharacterStream = new TestClientCharacterStream(&quot;localhost&quot;, 9498);\r\n\t\ttestClientCharacterStream.sendData(&quot;Hello!!!&quot;);\r\n\t\tSystem.out.println(&quot;### Terminated&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tprivate InetSocketAddress adress;\r\n\tprivate Socket clientSocket;\r\n\tprivate BufferedWriter out;\r\n\t\r\n\tpublic TestClientCharacterStream(String serverIp, int port) {\r\n\t\tthis.adress = new InetSocketAddress(serverIp, port);\r\n\t\ttry {\r\n\t\t\tclientSocket = new Socket();\r\n\t\t\tclientSocket.connect(adress, 10000);\r\n\t\t\tthis.out = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Something went wrong on instantiating a new TestClientCharacterStream&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void sendData(String string) {\r\n\t\ttry {\t\r\n\t\t\tout.write(string);\r\n\t\t\tSystem.out.println(&quot;[CLIENT] :   Sent new message: &quot; + string);\r\n                        out.flush();\r\n\t\t\tout.close(); // If I don&#39;t close the stream, I&#39;m going to get a &quot;java.net.SocketException: Connection reset&quot; on the server\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\tcloseStreamAndSocket(clientSocket, out);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tprivate void closeStreamAndSocket(Socket socket, BufferedWriter out) {\r\n\t\ttry {\r\n\t\t\tif (out != null) {\r\n\t\t\t\tout.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close stream or socket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThe servers Output:\r\n\r\n```\r\n### Started\r\n[SERVER] :   Server started!\r\n[SERVER] :   Wait for data on port 9498 ...\r\nError while accepting connection or reading input!\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n\tat TestServerCharacterStream.waitForData(TestServerCharacterStream.java:40)\r\n\tat TestServerCharacterStream.main(TestServerCharacterStream.java:12)\r\n### Terminated\r\n```\r\n\r\n","title":"Why is there a &quot;SocketException: Connection reset&quot; when not closing client&#39;s output stream?","body":"<p>In a simple Server Client communication I always get the &quot;java.net.SocketException: Connection reset&quot; on the serverside, if the client does not close the outputstream of it's socket directly after sending out the data via BufferedWriter.\nIf I close the client's outputstream everything works fine.\nBut obviously the client wants eventually to send more than one String (then the server needs to handle the connection in a new Thread). But I don't even get that far, because ofe the problem above...</p>\n<p>Thanks for helping!!</p>\n<p>Here is some condensed code to show the problem.</p>\n<p>This is the server class:</p>\n<pre><code>public class TestServerCharacterStream {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;### Started&quot;);\n        TestServerCharacterStream testServerCharacterStream = new TestServerCharacterStream(9498);\n        testServerCharacterStream.waitForData();\n        System.out.println(&quot;### Terminated&quot;);\n    }\n    \n    \n    private int port;\n    private ServerSocket serverSocket;\n    private BufferedReader in;\n\n    public TestServerCharacterStream(int port) {\n        this.port = port;\n        try {\n            this.serverSocket = new ServerSocket(port);\n            System.out.println(&quot;[SERVER] :   Server started!&quot;);\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot open new server socket!&quot;);\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void waitForData() {\n        Socket clientSocket = null;\n        try {\n            System.out.println(&quot;[SERVER] :   Wait for data on port &quot; + port + &quot; ...&quot;);\n            clientSocket = serverSocket.accept();\n\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            String incoming = in.readLine();\n            System.out.println(&quot;[SERVER] :   Incoming message: &quot; + incoming);\n        } catch (IOException e) {\n            System.err.println(&quot;Error while accepting connection or reading input!&quot;);\n            closeStreamAndSocket(clientSocket, in);\n            closeServerSocket();\n            e.printStackTrace();\n        }\n    }\n\n    private void closeStreamAndSocket(Socket socket, BufferedReader in) {\n        try {\n            if (in != null) {\n                in.close();\n            }\n            if (socket != null) {\n                socket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close stream or socket.&quot;);\n            e.printStackTrace();\n        }\n    }\n    \n    private void closeServerSocket() {\n        try {\n            if (serverSocket != null) {\n                serverSocket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close serverSocket.&quot;);\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>This is the Client Class:\nAs mentioned, it works if closing the outputstream (see the comment). To use flush() or not does not make any difference. The only way to solve it is <code>out.close();</code>\nBut I want to use the BufferedWriter again, withot connect always again to the server.</p>\n<pre><code>public class TestClientCharacterStream {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;### Started&quot;);\n        TestClientCharacterStream testClientCharacterStream = new TestClientCharacterStream(&quot;localhost&quot;, 9498);\n        testClientCharacterStream.sendData(&quot;Hello!!!&quot;);\n        System.out.println(&quot;### Terminated&quot;);\n    }\n    \n    \n    private InetSocketAddress adress;\n    private Socket clientSocket;\n    private BufferedWriter out;\n    \n    public TestClientCharacterStream(String serverIp, int port) {\n        this.adress = new InetSocketAddress(serverIp, port);\n        try {\n            clientSocket = new Socket();\n            clientSocket.connect(adress, 10000);\n            this.out = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\n        } catch (IOException e) {\n            System.err.println(&quot;Something went wrong on instantiating a new TestClientCharacterStream&quot;);\n            e.printStackTrace();\n        }\n    }\n    \n    public void sendData(String string) {\n        try {   \n            out.write(string);\n            System.out.println(&quot;[CLIENT] :   Sent new message: &quot; + string);\n                        out.flush();\n            out.close(); // If I don't close the stream, I'm going to get a &quot;java.net.SocketException: Connection reset&quot; on the server          \n        } catch (IOException e) {\n            closeStreamAndSocket(clientSocket, out);\n            e.printStackTrace();\n        }   \n    }\n    \n    private void closeStreamAndSocket(Socket socket, BufferedWriter out) {\n        try {\n            if (out != null) {\n                out.close();\n            }\n            if (socket != null) {\n                socket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close stream or socket.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>The servers Output:</p>\n<pre><code>### Started\n[SERVER] :   Server started!\n[SERVER] :   Wait for data on port 9498 ...\nError while accepting connection or reading input!\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n    at TestServerCharacterStream.waitForData(TestServerCharacterStream.java:40)\n    at TestServerCharacterStream.main(TestServerCharacterStream.java:12)\n### Terminated\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","jakarta-mail"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1671192110,"post_id":74824100,"comment_id":132051282,"body_markdown":"Did you try to debug your application by stepping through from a breakpoint?","body":"Did you try to debug your application by stepping through from a breakpoint?"},{"owner":{"account_id":10763106,"reputation":74,"user_id":7918945,"display_name":"Gulshan Kumar"},"score":0,"creation_date":1671208644,"post_id":74824100,"comment_id":132056961,"body_markdown":"Thank you. So finally found the cause. there was null pointer exception coming byt strange app was not throwing or printing that to console.","body":"Thank you. So finally found the cause. there was null pointer exception coming byt strange app was not throwing or printing that to console."}],"owner":{"account_id":10763106,"reputation":74,"user_id":7918945,"display_name":"Gulshan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671191930,"creation_date":1671191667,"question_id":74824100,"body_markdown":"I ran into a weired problem. My program is not executing as per the expectations.\r\n\r\n```java\r\npublic void sendPasswordResetCode(String email, Long code){ \r\n    log.info(&quot;inside&quot;);\r\n    JavaMailSenderImpl javaMailSender = configureMailProps();\r\n    log.info(&quot;mail props {}&quot;,javaMailSender.toString());\r\n    SimpleMailMessage msg = new SimpleMailMessage();\r\n    msg.setTo(email);\r\n    msg.setSubject(&quot;Password reset code.&quot;);\r\n    msg.setText(&quot;use this code to reset your password &quot;+code);\r\n    javaMailSender.send(msg);        \r\n}\r\n```\r\nthe next methods:\r\n\r\n```java\r\nprivate JavaMailSenderImpl configureMailProps() {\r\n    log.info(&quot;inside config&quot;);\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    GmailConfigurations config = new GmailConfigurations();\r\n    GmailSettings gmail = config.getGmailSettings();\r\n    log.info(gmail.toString());\r\n    try {\r\n        mailSender.setHost(gmail.getHost());\r\n        mailSender.setPort(gmail.getPort());\r\n\r\n        mailSender.setUsername(gmail.getGmail());\r\n\r\n        mailSender.setPassword(gmail.getAppPassword());            \r\n    }\r\n    catch(RuntimeException ex) {\r\n        log.info(&quot;exce here&quot;);\r\n        ex.printStackTrace();\r\n    }\r\n    log.info(&quot;Before seing props&quot;);\r\n    Properties props = mailSender.getJavaMailProperties();\r\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    log.info(&quot;Mail {}&quot;,mailSender.toString());\r\n    return mailSender;        \r\n} \r\n    \r\n@Slf4j\r\n@Component\r\npublic class GmailConfigurations {\r\n\r\n    @Autowired\r\n    private EmailCredService emailCred;\r\n        \r\n    public GmailSettings getGmailSettings() {\r\n        log.info(&quot;inside gmail seings&quot;);\r\n        GmailSettings gmail = new GmailSettings();\r\n        EmailCredSetting cred = emailCred.getEmailCred();\r\n        if(cred != null) {\r\n            gmail.setAppPassword(cred.getPassword());\r\n            gmail.setGmail(cred.getEmail());            \r\n        }\r\n        gmail.setPort(587);\r\n        gmail.setHost(&quot;smtp.gmail.com&quot;);\r\n        log.info(&quot;Inside gmail seings 2{}&quot;, gmail.toString());\r\n        return gmail;\r\n    }    \r\n}\r\n```\r\n\r\nThe output is:\r\n\r\n 1. inside\r\n 2. inside config\r\n 3. inside gmail seings\r\n\r\nAfter that nothing is getting printed and email is not send. nothing is happening.\r\n\r\nPlease help me. \r\n\r\n\r\n","title":"Flow of execution is not going as expected","body":"<p>I ran into a weired problem. My program is not executing as per the expectations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendPasswordResetCode(String email, Long code){ \n    log.info(&quot;inside&quot;);\n    JavaMailSenderImpl javaMailSender = configureMailProps();\n    log.info(&quot;mail props {}&quot;,javaMailSender.toString());\n    SimpleMailMessage msg = new SimpleMailMessage();\n    msg.setTo(email);\n    msg.setSubject(&quot;Password reset code.&quot;);\n    msg.setText(&quot;use this code to reset your password &quot;+code);\n    javaMailSender.send(msg);        \n}\n</code></pre>\n<p>the next methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JavaMailSenderImpl configureMailProps() {\n    log.info(&quot;inside config&quot;);\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    GmailConfigurations config = new GmailConfigurations();\n    GmailSettings gmail = config.getGmailSettings();\n    log.info(gmail.toString());\n    try {\n        mailSender.setHost(gmail.getHost());\n        mailSender.setPort(gmail.getPort());\n\n        mailSender.setUsername(gmail.getGmail());\n\n        mailSender.setPassword(gmail.getAppPassword());            \n    }\n    catch(RuntimeException ex) {\n        log.info(&quot;exce here&quot;);\n        ex.printStackTrace();\n    }\n    log.info(&quot;Before seing props&quot;);\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    log.info(&quot;Mail {}&quot;,mailSender.toString());\n    return mailSender;        \n} \n    \n@Slf4j\n@Component\npublic class GmailConfigurations {\n\n    @Autowired\n    private EmailCredService emailCred;\n        \n    public GmailSettings getGmailSettings() {\n        log.info(&quot;inside gmail seings&quot;);\n        GmailSettings gmail = new GmailSettings();\n        EmailCredSetting cred = emailCred.getEmailCred();\n        if(cred != null) {\n            gmail.setAppPassword(cred.getPassword());\n            gmail.setGmail(cred.getEmail());            \n        }\n        gmail.setPort(587);\n        gmail.setHost(&quot;smtp.gmail.com&quot;);\n        log.info(&quot;Inside gmail seings 2{}&quot;, gmail.toString());\n        return gmail;\n    }    \n}\n</code></pre>\n<p>The output is:</p>\n<ol>\n<li>inside</li>\n<li>inside config</li>\n<li>inside gmail seings</li>\n</ol>\n<p>After that nothing is getting printed and email is not send. nothing is happening.</p>\n<p>Please help me.</p>\n"},{"tags":["java","android","testing","layout","android-espresso"],"owner":{"account_id":21321896,"reputation":11,"user_id":15694918,"display_name":"EgeronimoL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671191744,"creation_date":1671037405,"question_id":74801827,"body_markdown":"I&#39;m testing my android app with espresso and want to test the ZoomControls like this:\r\n\r\n\r\n    onView(withId(R.id.zoomIn)).perform(click());\r\n\r\n\r\nBut I don&#39;t get the zoomIn/zoomOut id, from the Zoom_Controls. In the Layout Component Tree, the zoomIn and zoomOut are visible.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Yi5my.png&quot; width=&quot;350&quot;/&gt;\r\n\r\nCan someone help me?\r\nThanks in advance.\r\n\r\n\r\n\r\n    Resources res = Resources.getSystem();\r\n    int id = res.getIdentifier(&quot;btn_zoom_down&quot;, &quot;drawable&quot;, &quot;android&quot;);\r\n\r\nDidn&#39;t work.\r\n\r\nGot it working with:\r\n    \r\n```java\r\nResources res = Resources.getSystem();\r\nint id = res.getIdentifier(&quot;@id/zoomOut&quot;, &quot;drawable&quot;, &quot;android&quot;);\r\nonView(withId(id)).perform(click());\r\n```","title":"Android ZoomControl layout","body":"<p>I'm testing my android app with espresso and want to test the ZoomControls like this:</p>\n<pre><code>onView(withId(R.id.zoomIn)).perform(click());\n</code></pre>\n<p>But I don't get the zoomIn/zoomOut id, from the Zoom_Controls. In the Layout Component Tree, the zoomIn and zoomOut are visible.</p>\n<img src=\"https://i.stack.imgur.com/Yi5my.png\" width=\"350\"/>\n<p>Can someone help me?\nThanks in advance.</p>\n<pre><code>Resources res = Resources.getSystem();\nint id = res.getIdentifier(&quot;btn_zoom_down&quot;, &quot;drawable&quot;, &quot;android&quot;);\n</code></pre>\n<p>Didn't work.</p>\n<p>Got it working with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Resources res = Resources.getSystem();\nint id = res.getIdentifier(&quot;@id/zoomOut&quot;, &quot;drawable&quot;, &quot;android&quot;);\nonView(withId(id)).perform(click());\n</code></pre>\n"},{"tags":["java","sorting","java-8","comparator","java-stream"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1444229795,"post_id":32995559,"comment_id":53815876,"body_markdown":"Change the Comparator behavior, of course.","body":"Change the Comparator behavior, of course."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":265,"is_accepted":true,"score":265,"last_activity_date":1552969316,"creation_date":1444229809,"answer_id":32995635,"question_id":32995559,"body_markdown":"You can use [`Comparator.reverseOrder()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reverseOrder--) to have a comparator giving the reverse of the natural ordering.\r\n\r\nIf you want to reverse the ordering of an existing comparator, you can use [`Comparator.reversed()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--).\r\n\r\nSample code:\r\n\r\n    Stream.of(1, 4, 2, 5)\r\n        .sorted(Comparator.reverseOrder()); \r\n        // stream is now [5, 4, 2, 1]\r\n\r\n    Stream.of(&quot;foo&quot;, &quot;test&quot;, &quot;a&quot;)\r\n        .sorted(Comparator.comparingInt(String::length).reversed()); \r\n        // stream is now [test, foo, a], sorted by descending length","title":"Reverse a comparator in Java 8","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reverseOrder--\" rel=\"noreferrer\"><code>Comparator.reverseOrder()</code></a> to have a comparator giving the reverse of the natural ordering.</p>\n\n<p>If you want to reverse the ordering of an existing comparator, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--\" rel=\"noreferrer\"><code>Comparator.reversed()</code></a>.</p>\n\n<p>Sample code:</p>\n\n<pre><code>Stream.of(1, 4, 2, 5)\n    .sorted(Comparator.reverseOrder()); \n    // stream is now [5, 4, 2, 1]\n\nStream.of(\"foo\", \"test\", \"a\")\n    .sorted(Comparator.comparingInt(String::length).reversed()); \n    // stream is now [test, foo, a], sorted by descending length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444229824,"creation_date":1444229824,"answer_id":32995638,"question_id":32995559,"body_markdown":"Java 8 `Comparator` interface has a `reversed` method : [https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--","title":"Reverse a comparator in Java 8","body":"<p>Java 8 <code>Comparator</code> interface has a <code>reversed</code> method : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--</a></p>\n"},{"tags":[],"owner":{"account_id":1932010,"reputation":1021,"user_id":1741216,"display_name":"dim42"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1643008512,"creation_date":1549318785,"answer_id":54525172,"question_id":32995559,"body_markdown":"You can also use [Comparator.comparing(Function, Comparator)][1]&lt;br/&gt;\r\nIt is convenient to chain comparators when necessary, e.g.:\r\n\r\n    Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = \r\n            Comparator.comparing(SomeEntity::getProperty1, Comparator.reverseOrder())\r\n            .thenComparingInt(SomeEntity::getProperty2)\r\n            .thenComparing(SomeEntity::getProperty3, Comparator.reverseOrder());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-","title":"Reverse a comparator in Java 8","body":"<p>You can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-\" rel=\"noreferrer\">Comparator.comparing(Function, Comparator)</a><br/>\nIt is convenient to chain comparators when necessary, e.g.:</p>\n<pre><code>Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = \n        Comparator.comparing(SomeEntity::getProperty1, Comparator.reverseOrder())\n        .thenComparingInt(SomeEntity::getProperty2)\n        .thenComparing(SomeEntity::getProperty3, Comparator.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1390720,"reputation":51,"user_id":1321636,"display_name":"Pinocchio"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1588968865,"creation_date":1588968865,"answer_id":61687383,"question_id":32995559,"body_markdown":"Why not to extend the existing comperator and overwrite super and nor the result.\r\nThe implementation the Comperator Interface is not nessesery but it makes it more clear what happens.\r\n\r\nIn result you get a easy reusable Class File, testable unit step and clear javadoc.\r\n\r\n\r\n    public class NorCoperator extends ExistingComperator implements Comparator&lt;MyClass&gt; {\r\n        @Override\r\n    \tpublic int compare(MyClass a, MyClass b) throws Exception {\r\n    \t\treturn super.compare(a, b)*-1;\r\n    \t}\r\n    }\r\n    \r\n\r\n","title":"Reverse a comparator in Java 8","body":"<p>Why not to extend the existing comperator and overwrite super and nor the result.\nThe implementation the Comperator Interface is not nessesery but it makes it more clear what happens.</p>\n\n<p>In result you get a easy reusable Class File, testable unit step and clear javadoc.</p>\n\n<pre><code>public class NorCoperator extends ExistingComperator implements Comparator&lt;MyClass&gt; {\n    @Override\n    public int compare(MyClass a, MyClass b) throws Exception {\n        return super.compare(a, b)*-1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7364227,"reputation":200,"user_id":5606468,"display_name":"Shinforinpola"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629956760,"creation_date":1629956760,"answer_id":68933100,"question_id":32995559,"body_markdown":"I found this question serching for reversing order when you have a custom comparator and the reverse is conditional (you can do it or not).\r\n\r\nThe idea proposed by Pinocchio helped me.\r\n\r\nSo here is the code:\r\n\r\n```\r\nint order = requestedOrder.equals(&quot;asc&quot;) ? 1 : -1;\r\n\r\nCollections.sort(List&lt;CustomObj&gt;, new Comparator&lt;CustomObj&gt;() {\r\n    public int compare(CustomObj first, CustomObj scnd) {\r\n\t    return first.getComparableParam().compareTo(scnd.getComparableParam()) * order;\r\n\t}\r\n});\r\n```\r\nHope it helps somebody else in the future","title":"Reverse a comparator in Java 8","body":"<p>I found this question serching for reversing order when you have a custom comparator and the reverse is conditional (you can do it or not).</p>\n<p>The idea proposed by Pinocchio helped me.</p>\n<p>So here is the code:</p>\n<pre><code>int order = requestedOrder.equals(&quot;asc&quot;) ? 1 : -1;\n\nCollections.sort(List&lt;CustomObj&gt;, new Comparator&lt;CustomObj&gt;() {\n    public int compare(CustomObj first, CustomObj scnd) {\n        return first.getComparableParam().compareTo(scnd.getComparableParam()) * order;\n    }\n});\n</code></pre>\n<p>Hope it helps somebody else in the future</p>\n"},{"tags":[],"owner":{"account_id":22445773,"reputation":151,"user_id":16649714,"display_name":"cheladon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671190895,"creation_date":1671190895,"answer_id":74823975,"question_id":32995559,"body_markdown":"If you want to use class fields:\r\n            \r\n    Comparator&lt;ClassA&gt; reversedComparator = Collections.reverseOrder(Comparator.comparing(ClassA::getSomeProperty));\r\n\r\n","title":"Reverse a comparator in Java 8","body":"<p>If you want to use class fields:</p>\n<pre><code>Comparator&lt;ClassA&gt; reversedComparator = Collections.reverseOrder(Comparator.comparing(ClassA::getSomeProperty));\n</code></pre>\n"}],"owner":{"account_id":4159509,"reputation":3893,"user_id":3409913,"accept_rate":86,"display_name":"Guforu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222181,"favorite_count":0,"down_vote_count":1,"up_vote_count":146,"accepted_answer_id":32995635,"answer_count":6,"score":145,"last_activity_date":1671190895,"creation_date":1444229598,"question_id":32995559,"body_markdown":"I have an ArrayList and want sort it in descending order. I use for it `java.util.stream.Stream.sorted(Comparator)` method. Here is a description according Java API:\r\n\r\n&gt; Returns a stream consisting of the elements of this stream, sorted according to the provided `Comparator`.\r\n\r\nthis methods return me a sort with ascending order. Which parameter should I change, just to have the descending order? ","title":"Reverse a comparator in Java 8","body":"<p>I have an ArrayList and want sort it in descending order. I use for it <code>java.util.stream.Stream.sorted(Comparator)</code> method. Here is a description according Java API:</p>\n\n<blockquote>\n  <p>Returns a stream consisting of the elements of this stream, sorted according to the provided <code>Comparator</code>.</p>\n</blockquote>\n\n<p>this methods return me a sort with ascending order. Which parameter should I change, just to have the descending order? </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9190,"page":802,"page_size":100}
